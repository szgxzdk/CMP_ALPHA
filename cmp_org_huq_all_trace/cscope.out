cscope 15 $HOME/CMP/cmp_org_huq_all_trace               0003796820
	@MTA.h

1 #iâdeà
MTA_H


2 
	#MTA_H


	)

3 
	#R_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_IREGS
))

	)

4 
	#F_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_FREGS
))

	)

5 
	#C_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_CREGS
))

	)

8 
	#JUSTFASTFWD
 0

	)

12 
S¹Sk–‘ÚR—d
 (
ty³
);

13 
G‘ExecStus
 (
md_addr_t
 
pc
, md_addr_ˆ*
bPt
);

15 #ifdef 
DO_COMPLETE_FASTFWD


16 
	#CACHE_PROFILE


	)

17 
	#BRANCH_PROFILE


	)

18 
	#STORE_PROFILE


	)

19 
	#INDIRECTJUMP_PROFILE


	)

20 
	#FREQ_PROFILE


	)

22 
š¡Execu‹dF»q
 (
md_addr_t
 
pc
);

23 
F»qu’cyWr™e
 ();

25 
PushMissP»dLßd
 (
md_addr_t
 
pc
, 
Ï‹ncy
);

26 
CacheProfWr™e
 ();

28 
š£¹_br_dœ
 (
md_addr_t
 
pc
, 
dœ
, 
missP»d
);

29 
B¿nchProfWr™e
 ();

31 
pushStÜe
 (
md_addr_t
 
pc
, md_addr_ˆ
addr
, 
couÁ”_t
 
sim_cyşe
, 
width
);

32 
v”ifyLßd
 (
md_addr_t
 
pc
, md_addr_ˆ
addr
, 
couÁ”_t
 
sim_cyşe
, 
width
);

33 
StÜeProfWr™e
 ();

35 
pushJump
 (
md_addr_t
 
pc
, md_addr_ˆ
Ãxt_pc
);

36 
´štJumpSts
 ();

41 
	#REMOVE_ILP
 1

	)

42 
	#DO_DYNAMIC_ADAPTATION
 0

	)

48 
	#MTA


	)

50 
	squ›sûSŒuù
 {

51 
md_addr_t
 
	madd»ss
;

52 
	mth»adid
;

	@RC.h

1 #iâdeà
__RC_H_


2 
	#__RC_H_


	)

4 
	~"æp.h
"

8 
	#EXTRA
 10

	)

9 
	#SP_W
 0

	)

10 
	#SP_E
 1

	)

11 
	#SP_N
 2

	)

12 
	#SP_S
 3

	)

13 
	#SP_B
 4

	)

14 
	#SINK_W
 5

	)

15 
	#SINK_E
 6

	)

16 
	#SINK_N
 7

	)

17 
	#SINK_S
 8

	)

18 
	#SINK_B
 9

	)

22 
	#NL
 3

	)

25 
	#IFACE
 1

	)

27 
	#HSP
 2

	)

30 
	#RHO_SI
 0.01

	)

31 
	#RHO_CU
 0.0025

	)

33 
	#RHO_INT
 0.14

	)

34 
	#K_SI
 (1.0/
RHO_SI
è

	)

35 
	#K_CU
 (1.0/
RHO_CU
è

	)

36 
	#K_INT
 (1.0/
RHO_INT
è

	)

37 
	#SPEC_HEAT_SI
 1.75e6

	)

38 
	#SPEC_HEAT_CU
 3.55e6

	)

39 
	#SPEC_HEAT_INT
 4e6

	)

42 
	#C_FACTOR
 0.5

	)

47 
t_ch
;

48 
th”m®_th»shŞd
;

51 
c_cÚvec
;

52 
r_cÚvec
;

53 
s_sšk
;

54 
t_sšk
;

57 
s_¥»ad”
;

58 
t_¥»ad”
;

61 
t_š‹rçû
;

64 
amb›Á
;

67 
ü—‹_RC_m©riûs
(
æp_t
 *
æp
, 
om™_Ï‹¿l
);

68 
¡—dy_¡©e_‹mp
(*
pow”
, *
‹mp
, 
n_un™s
);

69 
compu‹_‹mp
(*
pow”
, *
‹mp
, 
n_un™s
, 
time_–­£d
);

71 *
hÙ¥Ù_veùÜ
(
n_un™s
);

72 
ş—nup_hÙ¥Ù
(
n_un™s
);

73 
£t_‹mp
 (*
‹mp
, 
n_un™s
, 
v®
);

74 
dump_‹mp
 (
æp_t
 *
æp
, *
‹mp
, *
fe
);

75 
»ad_‹mp
 (
æp_t
 *
æp
, *
‹mp
, *
fe
, 
ş
);

81 
lupdcmp
(**
a
, 
n
, *
p
);

84 
g‘r
(
k
, 
Wb
, 
Lb
, 
Ws
, 
t
);

87 
lusŞve
(**
a
, 
n
, *
p
, *
b
, *
x
);

90 
rk4
(**
c
, *
y
, *
pow
, 
n
, 
h
, *
yout
);

93 *
veùÜ
(
n
);

94 
ä“_veùÜ
(*
v
);

95 
dump_veùÜ
(*
v
, 
n
);

97 *
iveùÜ
(
n
);

98 
ä“_iveùÜ
(*
v
);

99 
dump_iveùÜ
(*
v
, 
n
);

102 **
m©rix
(
Ä
, 
nc
);

103 
ä“_m©rix
(**
m
, 
Ä
);

104 
dump_m©rix
(**
m
, 
Ä
, 
nc
);

105 
cİy_m©rix
(**
d¡
, **
¤c
, 
Ä
, 
nc
);

107 **
im©rix
(
Ä
, 
nc
);

108 
ä“_im©rix
(**
m
, 
Ä
);

109 
dump_im©rix
(**
m
, 
Ä
, 
nc
);

111 
m©muÉ
(**
c
, **
a
, **
b
, 
n
);

112 
m©veùmuÉ
(*
vout
, **
m
, *
vš
, 
n
);

113 
m©šv
(**
INV
, **
M
, 
n
);

	@RCutil.c

1 
	~"RC.h
"

2 
	~"æp.h
"

3 
	~"ut.h
"

5 
	~<¡dio.h
>

6 
	~<¡dlib.h
>

7 
	~<as£¹.h
>

8 
	~<m©h.h
>

9 
	~"h—d”s.h
"

19 
	$g‘r
(
k
, 
Wb
, 
Lb
, 
Ws
, 
t
)

21 
th‘a
, 
Bi
, 
As
, 
Ab
, 
•sÚ
, 
u
, 
a
, 
b
, 
Ïmda
, 
phi
, 
psi
, 
R¥rd
;

22 
th‘a
 = (
Lb
/2)/(
k
*
Wb
*
t
);

23 
As
 = 
Ws
*
t
;

24 
Ab
 = 
Wb
*
t
;

25 
a
 = 
	`sq¹
(
As
/
M_PI
);

26 
b
 = 
	`sq¹
(
Ab
/
M_PI
);

27 
•sÚ
 = 
a
/
b
;

28 
Ïmda
 = 
M_PI
+1/(
	`sq¹
(M_PI)*
•sÚ
);

29 
Bi
 = 1/(
M_PI
*
k
*
b
*
th‘a
);

30 
u
 = 
Lb
/(2*
b
);

31 
phi
 = (
	`nh
(
Ïmda
*
u
)+Ïmda/
Bi
)/(1+(lamda/Bi)*tanh(lamda*tau));

32 
psi
 = (
•sÚ
*
u
+
	`çbs
(1-•sÚ)*
phi
)/
	`sq¹
(
M_PI
);

33 
R¥rd
 = 
psi
/(
	`sq¹
(
M_PI
)*
k
*
a
);

34  
R¥rd
;

35 
	}
}

37 
	$isw­
 (*
a
, *
b
)

39 
t
 = *
a
;

40 *
a
 = *
b
;

41 *
b
 = 
t
;

42 
	}
}

44 
	$dsw­
 (*
a
, *
b
)

46 
t
 = *
a
;

47 *
a
 = *
b
;

48 *
b
 = 
t
;

49 
	}
}

59 
	$lupdcmp
(**
a
, 
n
, *
p
)

61 
i
, 
j
, 
k
, 
pivÙ
=0;

62 
max
 = 0;

65 
i
=0; i < 
n
; i++)

66 
p
[
i
] = i;

68 
k
=0; k < 
n
-1; k++) {

69 
max
 = 0;

70 
i
 = 
k
; i < 
n
; i++) {

71 ià(
	`çbs
(
a
[
i
][
k
]è> 
max
) {

72 
max
 = 
	`çbs
(
a
[
i
][
k
]);

73 
pivÙ
 = 
i
;

76 ià(
	`eq
 (
max
, 0))

77 
	`çl
 ("singular matrix in†updcmp\n");

80 
	`isw­
 (&
p
[
k
], &p[
pivÙ
]);

81 
i
=0; i < 
n
; i++)

82 
	`dsw­
 (&
a
[
k
][
i
], &a[
pivÙ
][i]);

84 
i
=
k
+1; i < 
n
; i++) {

85 
a
[
i
][
k
] /=‡[k][k];

86 
j
=
k
+1; j < 
n
; j++)

87 
a
[
i
][
j
] -ğa[i][
k
] *‡[k][j];

90 
	}
}

97 
	#LOWER
(
a
, 
i
, 
j
è((˜> jè?‡[i][j] : 0)

	)

98 
	#UPPER
(
a
, 
i
, 
j
è((˜<ğjè?‡[i][j] : 0)

	)

107 
	$lusŞve
(**
a
, 
n
, *
p
, *
b
, *
x
)

109 
i
, 
j
;

110 *
y
 = 
	`veùÜ
 (
n
);

111 
sum
;

114 
i
=0; i < 
n
; i++) {

115 
j
=0, 
sum
=0; j < 
i
; j++)

116 
sum
 +ğ
y
[
j
] * 
	`LOWER
(
a
, 
i
, j);

117 
y
[
i
] = 
b
[
p
[i]] - 
sum
;

121 
i
=
n
-1; i >= 0; i--) {

122 
j
=
i
+1, 
sum
=0; j < 
n
; j++)

123 
sum
 +ğ
x
[
j
] * 
	`UPPER
(
a
, 
i
, j);

124 
x
[
i
] = (
y
[i] - 
sum
è/ 
	`UPPER
(
a
, i, i);

127 
	`ä“_veùÜ
(
y
);

128 
	}
}

135 
	$rk4
(**
c
, *
y
, *
pow
, 
n
, 
h
, *
yout
)

137 
i
,
j
;

138 *
yt
, *
k1
, *
k2
, *
k3
, *
k4
;

139 
yt
 = 
	`veùÜ
(
n
);

140 
k1
 = 
	`veùÜ
(
n
);

141 
k2
 = 
	`veùÜ
(
n
);

142 
k3
 = 
	`veùÜ
(
n
);

143 
k4
 = 
	`veùÜ
(
n
);

145 
i
 = 0; i < 
n
; i++) {

146 
yt
[
i
] = 0.0;

147 
j
 = 0; j < 
n
; j++)

148 
yt
[
i
] +ğ
c
[i][
j
]*
y
[j];

149 
k1
[
i
] = 
h
*(
pow
[i]-
yt
[i]);

151 
i
 = 0; i < 
n
; i++) {

152 
yt
[
i
] = 0.0;

153 
j
 = 0; j < 
n
; j++)

154 
yt
[
i
] +ğ
c
[i][
j
]*(
y
[j]+0.5*
k1
[j]);

155 
k2
[
i
] = 
h
*(
pow
[i]-
yt
[i]);

157 
i
 = 0; i < 
n
; i++) {

158 
yt
[
i
] = 0.0;

159 
j
 = 0; j < 
n
; j++)

160 
yt
[
i
] +ğ
c
[i][
j
]*(
y
[j]+0.5*
k2
[j]);

161 
k3
[
i
] = 
h
*(
pow
[i]-
yt
[i]);

163 
i
 =0; i < 
n
; i++) {

164 
yt
[
i
]=0.0;

165 
j
 = 0; j < 
n
; j++)

166 
yt
[
i
] +ğ
c
[i][
j
]*(
y
[j]+
k3
[j]);

167 
k4
[
i
] = 
h
*(
pow
[i]-
yt
[i]);

170 
i
 =0; i < 
n
; i++)

171 
yout
[
i
] = 
y
[i] + (
k1
[i] + 2*
k2
[i] + 2*
k3
[i] + 
k4
[i])/6.0;

173 
	`ä“_veùÜ
(
yt
);

174 
	`ä“_veùÜ
(
k1
);

175 
	`ä“_veùÜ
(
k2
);

176 
	`ä“_veùÜ
(
k3
);

177 
	`ä“_veùÜ
(
k4
);

178 
	}
}

180 *
	$veùÜ
(
n
)

182 *
v
;

184 
v
=(*)
	`ÿÎoc
(
n
, ());

185 ià(!
v
è
	`çl
("allocation failure in vector()");

187  
v
;

188 
	}
}

190 
	$ä“_veùÜ
(*
v
)

192 
	`ä“
(
v
);

193 
	}
}

195 
	$dump_veùÜ
 (*
v
, 
n
)

197 
i
;

198 
i
=0; i < 
n
; i++)

199 
	`årštf
(
¡d”r
, "%.5f\t", 
v
[
i
]);

200 
	`årštf
(
¡d”r
, "\n");

201 
	}
}

203 *
	$iveùÜ
(
n
)

205 *
v
;

207 
v
 = (*)
	`ÿÎoc
(
n
, ());

208 ià(!
v
è
	`çl
("allocation failure in ivector()");

210  
v
;

211 
	}
}

213 
	$ä“_iveùÜ
(*
v
)

215 
	`ä“
(
v
);

216 
	}
}

218 
	$dump_iveùÜ
 (*
v
, 
n
)

220 
i
;

221 
i
=0; i < 
n
; i++)

222 
	`årštf
(
¡d”r
, "%d\t", 
v
[
i
]);

223 
	`årštf
(
¡d”r
, "\n\n");

224 
	}
}

227 **
	$m©rix
(
Ä
, 
nc
)

229 
i
;

230 **
m
;

232 
m
 = (**è
	`ÿÎoc
 (
Ä
, (*));

233 
	`as£¹
(
m
 !ğ
NULL
);

235 
i
 = 0; i < 
Ä
; i++) {

236 
m
[
i
] = (*)
	`ÿÎoc
(
nc
, ());

237 
	`as£¹
(
m
[
i
] !ğ
NULL
);

240  
m
;

241 
	}
}

243 
	$ä“_m©rix
(**
m
, 
Ä
)

245 
i
;

246 
i
 = 0; i < 
Ä
; i++)

247 
	`ä“
(
m
[
i
]);

248 
	`ä“
(
m
);

249 
	}
}

251 
	$dump_m©rix
 (**
m
, 
Ä
, 
nc
)

253 
i
;

254 
i
=0; i < 
Ä
; i++)

255 
	`dump_veùÜ
(
m
[
i
], 
nc
);

256 
	`årštf
(
¡d”r
, "\n");

257 
	}
}

259 
	$cİy_m©rix
 (**
d¡
, **
¤c
, 
Ä
, 
nc
)

261 
i
,
j
;

262 
i
=0; i < 
Ä
; i++)

263 
j
=0; j < 
nc
; j++)

264 
d¡
[
i
][
j
] = 
¤c
[i][j];

265 
	}
}

267 **
	$im©rix
(
Ä
, 
nc
)

269 
i
;

270 **
m
;

272 
m
 = (**è
	`ÿÎoc
 (
Ä
, (*));

273 
	`as£¹
(
m
 !ğ
NULL
);

275 
i
 = 0; i < 
Ä
; i++) {

276 
m
[
i
] = (*)
	`ÿÎoc
(
nc
, ());

277 
	`as£¹
(
m
[
i
] !ğ
NULL
);

280  
m
;

281 
	}
}

283 
	$ä“_im©rix
(**
m
, 
Ä
)

285 
i
;

286 
i
 = 0; i < 
Ä
; i++)

287 
	`ä“
(
m
[
i
]);

288 
	`ä“
(
m
);

289 
	}
}

291 
	$dump_im©rix
 (**
m
, 
Ä
, 
nc
)

293 
i
;

294 
i
=0; i < 
Ä
; i++)

295 
	`dump_iveùÜ
(
m
[
i
], 
nc
);

296 
	`årštf
(
¡d”r
, "\n");

297 
	}
}

300 
	$m©muÉ
(**
c
, **
a
, **
b
, 
n
)

302 
i
, 
j
, 
k
;

304 
i
 = 0; i < 
n
; i++)

305 
j
 = 0; j < 
n
; j++) {

306 
c
[
i
][
j
] = 0;

307 
k
 = 0; k < 
n
; k++)

308 
c
[
i
][
j
] +ğ
a
[i][
k
] * 
b
[k][j];

310 
	}
}

313 
	$m©veùmuÉ
(*
vout
, **
m
, *
vš
, 
n
)

315 
i
, 
j
;

316 
i
 = 0; i < 
n
; i++) {

317 
vout
[
i
] = 0;

318 
j
 = 0; j < 
n
; j++)

319 
vout
[
i
] +ğ
m
[i][
j
] * 
vš
[j];

321 
	}
}

324 
	$m©šv
(**
INV
, **
M
, 
n
)

326 *
p
, 
i
, 
j
;

327 *
cŞ
, *
x
;

329 
p
 = 
	`iveùÜ
(
n
);

330 
cŞ
 = 
	`veùÜ
(
n
);

331 
x
 = 
	`veùÜ
(
n
);

333 
	`lupdcmp
(
M
, 
n
, 
p
);

335 
j
 = 0; j < 
n
; j++) {

336 
i
 = 0; i < 
n
; i++è
cŞ
[i]=0.0;

337 
cŞ
[
j
] = 1.0;

338 
	`lusŞve
(
M
, 
n
, 
p
, 
cŞ
, 
x
);

339 
i
 = 0; i < 
n
; i++è
INV
[i][
j
]=
x
[i];

342 
	`ä“_iveùÜ
(
p
);

343 
	`ä“_veùÜ
(
cŞ
);

344 
	`ä“_veùÜ
(
x
);

345 
	}
}

	@bitmap.h

89 #iâdeà
BITMAP_H


90 
	#BITMAP_H


	)

98 
	#BITMAP_SIZE
(
BITS
è(((BITS)+31)/32)

	)

99 
	#BITMAP_TYPE
(
BITS
, 
NAME
è(NAME)[
	`BITMAP_SIZE
(BITS)]

	)

101 
	tBITMAP_ENT_TYPE
;

102 *
	tBITMAP_PTR_TYPE
;

106 
	#BITMAP_SET_MAP
(
BMAP
, 
SZ
è\

	)

107 { 
	gi
; i=0; i<(
	gSZ
); i++è(
	gBMAP
)[
i
] = 0xffffffff; }

110 
	#BITMAP_CLEAR_MAP
(
BMAP
, 
SZ
è\

	)

111 { 
	gi
; i=0; i<(
	gSZ
); i++è(
	gBMAP
)[
i
] = 0; }

114 
	#BITMAP_SET
(
BMAP
, 
SZ
, 
BIT
è\

	)

115 (((
	gBMAP
)[(
BIT
)/32] |= (1 << ((BIT) % 32))), (BMAP))

117 
	#BITMAP_SET
(
BMAP
, 
SZ
, 
BIT
è\

	)

118 (((
	gBMAP
)[(
BIT
)/32] |= (1 << ((BIT) % 32))))

122 
	#BITMAP_CLEAR
(
BMAP
, 
SZ
, 
BIT
è\

	)

123 (((
	gBMAP
)[(
BIT
)/32] &= ~(1 << ((BIT) % 32))), (BMAP))

126 
	#BITMAP_COPY
(
DESTMAP
, 
SRCMAP
, 
SZ
è\

	)

127 { 
	gi
; i=0; i<(
	gSZ
); i++è(
	gDESTMAP
)[
i
] = (
SRCMAP
)[i]; }

130 
	#__BITMAP_OP
(
B1
, 
B2
, 
B3
, 
SZ
, 
OP
è\

	)

131 { 
	gi
; i=0; i<(
	gSZ
); i++è(
	gB1
)[
i
] = (
B2
)[i] 
OP
 (
B3
)[i]; }

134 
	#BITMAP_IOR
(
B1
, 
B2
, 
B3
, 
SZ
è\

	)

135 
__BITMAP_OP
(
B1
, 
B2
, 
B3
, 
SZ
, |)

138 
	#BITMAP_XOR
(
B1
, 
B2
, 
B3
, 
SZ
è\

	)

139 
__BITMAP_OP
(
B1
, 
B2
, 
B3
, 
SZ
, ^)

142 
	#BITMAP_AND
(
B1
, 
B2
, 
B3
, 
SZ
è\

	)

143 
	$__BITMAP_OP
(
B1
, 
B2
, 
B3
, 
SZ
, &)

146 
	#BITMAP_NOT
(
B1
, 
B2
, 
SZ
è\

	)

147 { 
i
; i=0; i<(
SZ
); i++è(
B1
)[i] = ~((
B2
)[i]); 
	}
}

150 
	#BITMAP_EMPTY_P
(
BMAP
, 
SZ
è\

	)

151 ({ 
	gi
, 
	g»s
=0; i=0; i<(
	gSZ
); i++è» |ğ(
BMAP
)[
i
]; !res; })

154 
	#BITMAP_DISJOINT_P
(
B1
, 
B2
, 
SZ
è\

	)

155 ({ 
	gi
, 
	g»s
=0; i=0; i<(
	gSZ
); i++è» |ğ(
B1
)[
i
] & (
B2
)[i]; !res; })

158 
	#BITMAP_SET_P
(
BMAP
, 
SZ
, 
BIT
è\

	)

159 (((
	gBMAP
)[(
BIT
)/32] & (1 << ((
	gBIT
) % 32))) != 0)

162 
	#BITMAP_CLEAR_P
(
BMAP
, 
SZ
, 
BIT
è\

	)

163 (!
BMAP_SET_P
((
BMAP
), (
SZ
), (
BIT
)))

166 
	#BITMAP_COUNT_ONES
(
BMAP
, 
SZ
è\

	)

168 
	gi
, 
	gj
, 
	gn
 = 0; \

169 
	gi
 = 0; i < (
	gSZ
) ; i++) \

171 
	gwÜd
 = (
BMAP
)[
i
]; \

172 
	gj
=0; j < (()*8); j++) \

174 
	gÃw_v®
, 
	gŞd_v®
 = 
wÜd
; \

175 
	gwÜd
 >>= 1; \

176 
	gÃw_v®
 = 
wÜd
 << 1; \

177 ià(
	gŞd_v®
 !ğ
Ãw_v®
) \

178 
n
++; \

181 
	gn
; \

	@bpred.c

172 
	~<¡dio.h
>

173 
	~<¡dlib.h
>

174 
	~<m©h.h
>

175 
	~<as£¹.h
>

177 
	~"ho¡.h
"

178 
	~"misc.h
"

179 
	~"machše.h
"

180 
	~"b´ed.h
"

182 
	~"smt.h
"

184 #ifdeà
SMT_SS


185 
	~"cÚ‹xt.h
"

189 
combšed2
;

192 
hi¡_imm
;

195 
b¿nch_2
;

198 *
´ed_ty³
;

201 *
´ed_ty³2
;

203 
b´ed_btb_u£_ma¡”id
;

209 
b´ed_t
 *

210 
	$b´ed_ü—‹
 (
b´ed_şass
 
şass
,

211 
bimod_size
,

212 
l1size
,

213 
l2size
,

214 
m‘a_size
,

215 
shiá_width
,

216 
xÜ
,

217 
btb_£ts
,

218 
btb_assoc
,

219 
»t¡ack_size
)

221 
b´ed_t
 *
´ed
;

223 ià(!(
´ed
 = 
	`ÿÎoc
 (1,  (
b´ed_t
))))

224 
	`çl
 ("out of virtual memory");

226 
´ed
->
şass
 = class;

228 
şass
)

230 
BP»dComb
:

232 
´ed
->
dœ´ed
.
bimod
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2b™
, 
bimod_size
, 0, 0, 0);

235 
´ed
->
dœ´ed
.
twŞev
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2Lev–
, 
l1size
, 
l2size
, 
shiá_width
, 
xÜ
);

238 
´ed
->
dœ´ed
.
m‘a
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2b™
, 
m‘a_size
, 0, 0, 0);

242 
BP»d2Lev–
:

243 
´ed
->
dœ´ed
.
twŞev
 = 
	`b´ed_dœ_ü—‹
 (
şass
, 
l1size
, 
l2size
, 
shiá_width
, 
xÜ
);

247 #ifdeà
LOAD_PREDICTOR


248 
LDP»d2b™
:

249 
´ed
->
dœ´ed
.
bimod
 = 
	`b´ed_dœ_ü—‹
 (
şass
, 
bimod_size
, 0, 0, 0);

254 
BP»d2b™
:

255 
´ed
->
dœ´ed
.
bimod
 = 
	`b´ed_dœ_ü—‹
 (
şass
, 
bimod_size
, 0, 0, 0);

257 
BP»dTak’
:

258 
BP»dNÙTak’
:

263 
	`·nic
 ("bogus…redictor class");

267 
şass
)

269 
BP»dComb
:

270 
BP»d2Lev–
:

271 
BP»d2b™
:

273 
i
;

276 ià(!
btb_£ts
 || (btb_sets & (btb_sets - 1)) != 0)

277 
	`çl
 ("number of BTB sets must be‚on-zero‡nd‡…ower ofwo");

278 ià(!
btb_assoc
 || (btb_assoc & (btb_assoc - 1)) != 0)

279 
	`çl
 ("BTB‡ssociativity must be‚on-zero‡nd‡…ower ofwo");

281 ià(!(
´ed
->
btb
.
btb_d©a
 = 
	`ÿÎoc
 (
btb_£ts
 * 
btb_assoc
,  (
b´ed_btb_’t_t
))))

282 
	`çl
 ("cannot‡llocate BTB");

284 
´ed
->
btb
.
£ts
 = 
btb_£ts
;

285 
´ed
->
btb
.
assoc
 = 
btb_assoc
;

287 ià(
´ed
->
btb
.
assoc
 > 1)

288 
i
 = 0; i < (
´ed
->
btb
.
assoc
 *…»d->btb.
£ts
); i++)

290 ià(
i
 % 
´ed
->
btb
.
assoc
 !=…red->btb.assoc - 1)

291 
´ed
->
btb
.
btb_d©a
[
i
].
Ãxt
 = &pred->btb.btb_data[i + 1];

293 
´ed
->
btb
.
btb_d©a
[
i
].
Ãxt
 = 
NULL
;

295 ià(
i
 % 
´ed
->
btb
.
assoc
 !=…red->btb.assoc - 1)

296 
´ed
->
btb
.
btb_d©a
[
i
 + 1].
´ev
 = &pred->btb.btb_data[i];

299 #ifdeà
SMT_SS


300 
i
 = 0; i < 
MAXTHREADS
; i++)

303 ià((
»t¡ack_size
 & (retstack_size - 1)) != 0)

304 
	`çl
 ("Return-address-stack size must be zero or‡…ower ofwo");

306 
´ed
->
»t¡ack
[
i
].
size
 = 
»t¡ack_size
;

307 ià(
»t¡ack_size
)

308 ià(!(
´ed
->
»t¡ack
[
i
].
¡ack
 = 
	`ÿÎoc
 (
»t¡ack_size
,  (
b´ed_btb_’t_t
))))

309 
	`çl
 ("cannot‡llocate„eturn-address-stack");

310 
´ed
->
»t¡ack
[
i
].
tos
 = 
»t¡ack_size
 - 1;

314 ià((
»t¡ack_size
 & (retstack_size - 1)) != 0)

315 
	`çl
 ("Return-address-stack size must be zero or‡…ower ofwo");

317 
´ed
->
»t¡ack
.
size
 = 
»t¡ack_size
;

318 ià(
»t¡ack_size
)

319 ià(!(
´ed
->
»t¡ack
.
¡ack
 = 
	`ÿÎoc
 (
»t¡ack_size
,  (
b´ed_btb_’t_t
))))

320 
	`çl
 ("cannot‡llocate„eturn-address-stack");

321 
´ed
->
»t¡ack
.
tos
 = 
»t¡ack_size
 - 1;

327 
BP»dTak’
:

328 
BP»dNÙTak’
:

329 #ifdeà
LOAD_PREDICTOR


330 
LDP»d2b™
:

336 
	`·nic
 ("bogus…redictor class");

339  
´ed
;

340 
	}
}

343 
b´ed_t
 *

344 
	$b´ed_2bcgskew_ü—‹
 ( 
bimod_size
,

345  
size
,

346  
shiá_width_bimod
,

347  
shiá_width_g0
,

348  
shiá_width_g1
,

349  
shiá_width_m‘a
,

350  
btb_£ts
,

351  
btb_assoc
,

352  
»t¡ack_size
)

354 
b´ed_t
 *
´ed
;

356 ià(!(
´ed
 = 
	`ÿÎoc
 (1,  (
b´ed_t
))))

357 
	`çl
 ("out of virtual memory");

359 
´ed
->
şass
 = 
BP»d2bcgskew
;

361 
´ed
->
dœ´ed
.
bim1
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
bimod_size
, 0, 
shiá_width_bimod
, 0);

362 
´ed
->
dœ´ed
.
g01
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
size
, 0, 
shiá_width_g0
, 0);

363 
´ed
->
dœ´ed
.
g11
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
size
, 0, 
shiá_width_g1
, 0);

364 
´ed
->
dœ´ed
.
m‘a
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
size
, 0, 
shiá_width_m‘a
, 0);

367 
i
;

370 ià(!
btb_£ts
 || (btb_sets & (btb_sets - 1)) != 0)

371 
	`çl
 ("number of BTB sets must be‚on-zero‡nd‡…ower ofwo");

372 ià(!
btb_assoc
 || (btb_assoc & (btb_assoc - 1)) != 0)

373 
	`çl
 ("BTB‡ssociativity must be‚on-zero‡nd‡…ower ofwo");

375 ià(!(
´ed
->
btb
.
btb_d©a
 = 
	`ÿÎoc
 (
btb_£ts
 * 
btb_assoc
,  (
b´ed_btb_’t_t
))))

376 
	`çl
 ("cannot‡llocate BTB");

378 
´ed
->
btb
.
£ts
 = 
btb_£ts
;

379 
´ed
->
btb
.
assoc
 = 
btb_assoc
;

381 ià(
´ed
->
btb
.
assoc
 > 1)

382 
i
 = 0; i < (
´ed
->
btb
.
assoc
 *…»d->btb.
£ts
); i++)

384 ià(
i
 % 
´ed
->
btb
.
assoc
 !=…red->btb.assoc - 1)

385 
´ed
->
btb
.
btb_d©a
[
i
].
Ãxt
 = &pred->btb.btb_data[i + 1];

387 
´ed
->
btb
.
btb_d©a
[
i
].
Ãxt
 = 
NULL
;

389 ià(
i
 % 
´ed
->
btb
.
assoc
 !=…red->btb.assoc - 1)

390 
´ed
->
btb
.
btb_d©a
[
i
 + 1].
´ev
 = &pred->btb.btb_data[i];

393 #ifdeà
SMT_SS


394 
i
 = 0; i < 
MAXTHREADS
; i++)

397 ià((
»t¡ack_size
 & (retstack_size - 1)) != 0)

398 
	`çl
 ("Return-address-stack size must be zero or‡…ower ofwo");

400 
´ed
->
»t¡ack
[
i
].
size
 = 
»t¡ack_size
;

401 ià(
»t¡ack_size
)

402 ià(!(
´ed
->
»t¡ack
[
i
].
¡ack
 = 
	`ÿÎoc
 (
»t¡ack_size
,  (
b´ed_btb_’t_t
))))

403 
	`çl
 ("cannot‡llocate„eturn-address-stack");

404 
´ed
->
»t¡ack
[
i
].
tos
 = 
»t¡ack_size
 - 1;

408 ià((
»t¡ack_size
 & (retstack_size - 1)) != 0)

409 
	`çl
 ("Return-address-stack size must be zero or‡…ower ofwo");

411 
´ed
->
»t¡ack
.
size
 = 
»t¡ack_size
;

412 ià(
»t¡ack_size
)

413 ià(!(
´ed
->
»t¡ack
.
¡ack
 = 
	`ÿÎoc
 (
»t¡ack_size
,  (
b´ed_btb_’t_t
))))

414 
	`çl
 ("cannot‡llocate„eturn-address-stack");

415 
´ed
->
»t¡ack
.
tos
 = 
»t¡ack_size
 - 1;

420  
´ed
;

421 
	}
}

426 
	$b´ed_2bcgskew_ü—‹2
 ( 
bimod_size
,

427  
size
,

428  
shiá_width_bimod
,

429  
shiá_width_g0
,

430  
shiá_width_g1
,

431  
shiá_width_m‘a
,

432  
b´ed_t
 *
´ed
)

434 
´ed
->
dœ´ed
.
bim2
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
bimod_size
, 0, 
shiá_width_bimod
, 0);

435 
´ed
->
dœ´ed
.
g02
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
size
, 0, 
shiá_width_g0
, 0);

436 
´ed
->
dœ´ed
.
g12
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
size
, 0, 
shiá_width_g1
, 0);

437 
´ed
->
dœ´ed
.
m‘a2
 = 
	`b´ed_dœ_ü—‹
 (
BP»d2bcgskew
, 
size
, 0, 
shiá_width_m‘a
, 0);

438 
	}
}

442 
b´ed_dœ_t
 *

443 
	$b´ed_dœ_ü—‹
 (
b´ed_şass
 
şass
,

444 
l1size
,

445 
l2size
,

446 
shiá_width
,

447 
xÜ
)

449 
b´ed_dœ_t
 *
´ed_dœ
;

450 
út
;

451 
ææİ
, 
i
;

453 ià(!(
´ed_dœ
 = 
	`ÿÎoc
 (1,  (
b´ed_dœ_t
))))

454 
	`çl
 ("out of virtual memory");

456 
´ed_dœ
->
şass
 = class;

458 
út
 = -1;

459 
şass
)

462 
BP»d2bcgskew
:

464 
log2_size
;

466 ià(!
l1size
 || (l1size & (l1size - 1)) != 0)

467 
	`çl
 ("Ëv–-1 size, `%d', mu¡ bnÚ-z”Øªd‡…ow” oàtwo", 
l1size
);

468 
´ed_dœ
->
cÚfig
.
bªk
.
size
 = 
l1size
;

469 
log2_size
 = 
	`log
 (
l1size
) /†og (2);

470 
´ed_dœ
->
cÚfig
.
bªk
.
log_size
 = (è
log2_size
;

472 
´ed_dœ
->
cÚfig
.
bªk
.
shiá_width
 = shift_width;

474 
´ed_dœ
->
cÚfig
.
bªk
.
bË
 = 
	`ÿÎoc
 (
l1size
,  ());

475 ià(!
´ed_dœ
->
cÚfig
.
bªk
.
bË
)

476 
	`çl
 ("cannot‡llocate 2Bc-skewable");

479 
ææİ
 = 1;

480 
út
 = 0; cÁ < 
l1size
; cnt++)

482 
´ed_dœ
->
cÚfig
.
bªk
.
bË
[
út
] = 
ææİ
;

483 
ææİ
 = 3 - flipflop;

489 
BP»d2Lev–
:

491 ià(!
l1size
 || (l1size & (l1size - 1)) != 0)

492 
	`çl
 ("Ëv–-1 size, `%d', mu¡ bnÚ-z”Øªd‡…ow” oàtwo", 
l1size
);

493 
´ed_dœ
->
cÚfig
.
two
.
l1size
 =†1size;

495 ià(!
l2size
 || (l2size & (l2size - 1)) != 0)

496 
	`çl
 ("Ëv–-2 size, `%d', mu¡ bnÚ-z”Øªd‡…ow” oàtwo", 
l2size
);

497 
´ed_dœ
->
cÚfig
.
two
.
l2size
 =†2size;

499 ià(!
shiá_width
 || shift_width > 30)

500 
	`çl
 ("shiá„egi¡” width, `%d', mu¡ bnÚ-z”Øªd…os™ive", 
shiá_width
);

501 
´ed_dœ
->
cÚfig
.
two
.
shiá_width
 = shift_width;

503 
´ed_dœ
->
cÚfig
.
two
.
xÜ
 = xor;

504 #ifdeà
SMT_SS


505 
i
 = 0; i < 
MAXTHREADS
; i++)

507 
´ed_dœ
->
cÚfig
.
two
.
shiá»gs
[
i
] = 
	`ÿÎoc
 (
l1size
,  ());

508 ià(!
´ed_dœ
->
cÚfig
.
two
.
shiá»gs
[
i
])

509 
	`çl
 ("cannot‡llocate shift„egisterable");

512 
´ed_dœ
->
cÚfig
.
two
.
shiá»gs
 = 
	`ÿÎoc
 (
l1size
,  ());

513 ià(!
´ed_dœ
->
cÚfig
.
two
.
shiá»gs
)

514 
	`çl
 ("cannot‡llocate shift„egisterable");

517 
´ed_dœ
->
cÚfig
.
two
.
l2bË
 = 
	`ÿÎoc
 (
l2size
,  ());

518 ià(!
´ed_dœ
->
cÚfig
.
two
.
l2bË
)

519 
	`çl
 ("cannot‡llocate second†evelable");

522 
ææİ
 = 1;

523 
út
 = 0; cÁ < 
l2size
; cnt++)

525 
´ed_dœ
->
cÚfig
.
two
.
l2bË
[
út
] = 
ææİ
;

526 
ææİ
 = 3 - flipflop;

532 #ifdeà
LOAD_PREDICTOR


533 
LDP»d2b™
:

534 ià(!
l1size
 || (l1size & (l1size - 1)) != 0)

535 
	`çl
 ("2b™abË size, `%d', mu¡ bnÚ-z”Øªd‡…ow” oàtwo", 
l1size
);

536 
´ed_dœ
->
cÚfig
.
bimod
.
size
 = 
l1size
;

537 ià(!(
´ed_dœ
->
cÚfig
.
bimod
.
bË
 = 
	`ÿÎoc
 (
l1size
,  ())))

538 
	`çl
 ("cannot‡llocate 2bit storage");

540 
ææİ
 = 1;

541 
út
 = 0; cÁ < 
l1size
; cnt++)

543 
´ed_dœ
->
cÚfig
.
bimod
.
bË
[
út
] = 
ææİ
;

544 
ææİ
 = 3 - flipflop;

550 
BP»d2b™
:

551 ià(!
l1size
 || (l1size & (l1size - 1)) != 0)

552 
	`çl
 ("2b™abË size, `%d', mu¡ bnÚ-z”Øªd‡…ow” oàtwo", 
l1size
);

553 
´ed_dœ
->
cÚfig
.
bimod
.
size
 = 
l1size
;

554 ià(!(
´ed_dœ
->
cÚfig
.
bimod
.
bË
 = 
	`ÿÎoc
 (
l1size
,  ())))

555 
	`çl
 ("cannot‡llocate 2bit storage");

557 
ææİ
 = 1;

558 
út
 = 0; cÁ < 
l1size
; cnt++)

560 
´ed_dœ
->
cÚfig
.
bimod
.
bË
[
út
] = 
ææİ
;

561 
ææİ
 = 3 - flipflop;

566 
BP»dTak’
:

567 
BP»dNÙTak’
:

572 
	`·nic
 ("bogus branch direction…redictor class");

575  
´ed_dœ
;

576 
	}
}

580 
	$b´ed_dœ_cÚfig
 (
b´ed_dœ_t
 *
´ed_dœ
,

581 
Çme
[],

582 
FILE
 * 
¡»am
)

584 
´ed_dœ
->
şass
)

586 
BP»d2Lev–
:

587 
	`årštf
 (
¡»am
,

588 "´ed_dœ: %s: 2-lvl: %d†1-sz, %d b™s/’t, % xÜ, %d†2-sz, dœeù-m­³d\n", 
Çme
, 
´ed_dœ
->
cÚfig
.
two
.
l1size
,…»d_dœ->cÚfig.two.
shiá_width
,…»d_dœ->cÚfig.two.
xÜ
 ? "" : "no",…»d_dœ->cÚfig.two.
l2size
);

591 #ifdeà
LOAD_PREDICTOR


592 
LDP»d2b™
:

593 
	`årštf
 (
¡»am
, "lßd_´ed_h™: %s: 2-b™: %dƒÁr›s, dœeù-m­³d\n", 
Çme
, 
´ed_dœ
->
cÚfig
.
bimod
.
size
);

597 
BP»d2b™
:

598 
	`årštf
 (
¡»am
, "´ed_dœ: %s: 2-b™: %dƒÁr›s, dœeù-m­³d\n", 
Çme
, 
´ed_dœ
->
cÚfig
.
bimod
.
size
);

601 
BP»dTak’
:

602 
	`årštf
 (
¡»am
, "´ed_dœ: %s:…»diùak’\n", 
Çme
);

605 
BP»dNÙTak’
:

606 
	`årštf
 (
¡»am
, "´ed_dœ: %s:…»diù‚Ùak’\n", 
Çme
);

610 
	`·nic
 ("bogus branch direction…redictor class");

612 
	}
}

616 
	$b´ed_cÚfig
 (
b´ed_t
 *
´ed
,

617 
FILE
 * 
¡»am
)

619 
´ed
->
şass
)

621 
BP»dComb
:

622 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
bimod
, "bimod", 
¡»am
);

623 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
twŞev
, "2Ëv", 
¡»am
);

624 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
m‘a
, "m‘a", 
¡»am
);

625 
	`årštf
 (
¡»am
, "btb: %d s‘ x %d‡ssocŸtiv™y", 
´ed
->
btb
.
£ts
,…»d->btb.
assoc
);

626 #ifdeà
SMT_SS


628 
	`årštf
 (
¡»am
, "»t_¡ack: %dƒÁr›s", 
´ed
->
»t¡ack
[0].
size
);

630 
	`årštf
 (
¡»am
, "»t_¡ack: %dƒÁr›s", 
´ed
->
»t¡ack
.
size
);

634 
BP»d2Lev–
:

635 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
twŞev
, "2Ëv", 
¡»am
);

636 
	`årštf
 (
¡»am
, "btb: %d s‘ x %d‡ssocŸtiv™y", 
´ed
->
btb
.
£ts
,…»d->btb.
assoc
);

637 #ifdeà
SMT_SS


639 
	`årštf
 (
¡»am
, "»t_¡ack: %dƒÁr›s", 
´ed
->
»t¡ack
[0].
size
);

641 
	`årštf
 (
¡»am
, "»t_¡ack: %dƒÁr›s", 
´ed
->
»t¡ack
.
size
);

646 #ifdeà
LOAD_PREDICTOR


647 
LDP»d2b™
:

648 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
bimod
, "bimod", 
¡»am
);

652 
BP»d2b™
:

653 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
bimod
, "bimod", 
¡»am
);

654 
	`årštf
 (
¡»am
, "btb: %d s‘ x %d‡ssocŸtiv™y", 
´ed
->
btb
.
£ts
,…»d->btb.
assoc
);

655 #ifdeà
SMT_SS


657 
	`årštf
 (
¡»am
, "»t_¡ack: %dƒÁr›s", 
´ed
->
»t¡ack
[0].
size
);

659 
	`årštf
 (
¡»am
, "»t_¡ack: %dƒÁr›s", 
´ed
->
»t¡ack
.
size
);

663 
BP»dTak’
:

664 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
bimod
, "k’", 
¡»am
);

666 
BP»dNÙTak’
:

667 
	`b´ed_dœ_cÚfig
 (
´ed
->
dœ´ed
.
bimod
, "nÙk’", 
¡»am
);

671 
	`·nic
 ("bogus branch…redictor class");

673 
	}
}

677 
	$b´ed_¡©s
 (
b´ed_t
 *
´ed
,

678 
FILE
 * 
¡»am
)

680 
	`årštf
 (
¡»am
, "´ed:‡ddr-´ediùiÚ„©ğ%f\n", (è
´ed
->
addr_h™s
 / (èÕ»d->addr_h™ +…»d->
mis£s
));

681 
	`årštf
 (
¡»am
, "´ed: dœ-´ediùiÚ„©ğ%f\n", (è
´ed
->
dœ_h™s
 / (èÕ»d->dœ_h™ +…»d->
mis£s
));

682 
	}
}

686 
	$b´ed_»g_¡©s
 (
b´ed_t
 *
´ed
,

687 
¡©_sdb_t
 *
sdb
, 
th»adid
)

689 
buf
[512], 
buf1
[512], *
Çme
, 
Çme1
[256];

692 
´ed
->
şass
)

694 
BP»dComb
:

695 
Çme
 = "bpred_comb";

697 
BP»d2Lev–
:

698 
Çme
 = "bpred_2lev";

700 #ifdeà
LOAD_PREDICTOR


701 
LDP»d2b™
:

702 
Çme
 = "ldpred_bimod";

705 
BP»d2b™
:

706 
Çme
 = "bpred_bimod";

708 
BP»dTak’
:

709 
Çme
 = "bpred_taken";

711 
BP»dNÙTak’
:

712 
Çme
 = "bpred_nottaken";

715 
BP»d2bcgskew
:

716 
Çme
 = "bpred_2bcgskew";

720 
	`·nic
 ("bogus branch…redictor class");

722 
	`¡rıy
(
Çme1
, 
Çme
);

723 
Çme
 = 
Çme1
;

725 
	`¥rštf
(
buf
, "_%d", 
th»adid
);

726 
	`¡rÿt
(
Çme
, 
buf
);

728 
	`¥rštf
 (
buf
, "%s.lookups", 
Çme
);

729 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàb´ed†ookups", &
´ed
->
lookups
, 0, 
NULL
);

730 
	`¥rštf
 (
buf
, "%s.upd©es", 
Çme
);

731 
	`¥rštf
 (
buf1
, "%s.dœ_h™ + %s.mis£s", 
Çme
,‚ame);

732 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "tÙ®‚umb” oàupd©es", 
buf1
, "%12.0f");

733 
	`¥rštf
 (
buf
, "%s.addr_h™s", 
Çme
);

734 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàadd»ss-´ediùed h™s", &
´ed
->
addr_h™s
, 0, 
NULL
);

735 
	`¥rštf
 (
buf
, "%s.dœ_h™s", 
Çme
);

736 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàdœeùiÚ-´ediùed h™ " "(šşude addr-h™s)", &
´ed
->
dœ_h™s
, 0, 
NULL
);

737 ià(
´ed
->
şass
 =ğ
BP»dComb
)

739 
	`¥rštf
 (
buf
, "%s.u£d_bimod", 
Çme
);

740 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàbimod®…»diùiÚ u£d", &
´ed
->
u£d_bimod
, 0, 
NULL
);

741 
	`¥rštf
 (
buf
, "%s.u£d_2Ëv", 
Çme
);

742 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà2-Ëv–…»diùiÚ u£d", &
´ed
->
u£d_2Ëv
, 0, 
NULL
);

744 
	`¥rštf
 (
buf
, "%s.mis£s", 
Çme
);

745 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£s", &
´ed
->
mis£s
, 0, 
NULL
);

746 
	`¥rštf
 (
buf
, "%s.jr_h™s", 
Çme
);

747 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàadd»ss-´ediùed h™ fÜ JR's", &
´ed
->
jr_h™s
, 0, 
NULL
);

748 
	`¥rštf
 (
buf
, "%s.jr_£’", 
Çme
);

749 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàJR' £’", &
´ed
->
jr_£’
, 0, 
NULL
);

750 
	`¥rštf
 (
buf
, "%s.jr_nÚ_¿s_h™s.PP", 
Çme
);

751 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàadd»ss-´ediùed h™ fÜ‚Ú-RAS JR's", &
´ed
->
jr_nÚ_¿s_h™s
, 0, 
NULL
);

752 
	`¥rštf
 (
buf
, "%s.jr_nÚ_¿s_£’.PP", 
Çme
);

753 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oànÚ-RAS JR' £’", &
´ed
->
jr_nÚ_¿s_£’
, 0, 
NULL
);

754 
	`¥rštf
 (
buf
, "%s.b´ed_addr_¿‹", 
Çme
);

755 
	`¥rštf
 (
buf1
, "%s.addr_h™ / %s.upd©es", 
Çme
,‚ame);

756 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "b¿nch‡dd»ss-´ediùiÚ„©(i.e.,‡ddr-h™s/upd©es)", 
buf1
, "%9.4f");

757 
	`¥rštf
 (
buf
, "%s.b´ed_dœ_¿‹", 
Çme
);

758 
	`¥rštf
 (
buf1
, "%s.dœ_h™ / %s.upd©es", 
Çme
,‚ame);

759 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "b¿nch dœeùiÚ-´ediùiÚ„©(i.e.,‡Î-h™s/upd©es)", 
buf1
, "%9.4f");

760 
	`¥rštf
 (
buf
, "%s.b´ed_jr_¿‹", 
Çme
);

761 
	`¥rštf
 (
buf1
, "%s.jr_h™ / %s.jr_£’", 
Çme
,‚ame);

762 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "JR‡dd»ss-´ediùiÚ„©(i.e., JR‡ddr-h™s/JR £’)", 
buf1
, "%9.4f");

763 
	`¥rštf
 (
buf
, "%s.b´ed_jr_nÚ_¿s_¿‹.PP", 
Çme
);

764 
	`¥rštf
 (
buf1
, "%s.jr_nÚ_¿s_h™s.PP / %s.jr_nÚ_¿s_£’.PP", 
Çme
,‚ame);

765 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "nÚ-RAS JR‡ddr-´ed„©(›,‚Ú-RAS JR h™s/JR £’)", 
buf1
, "%9.4f");

766 
	`¥rštf
 (
buf
, "%s.»t¡ack_pushes", 
Çme
);

767 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàadd»s pushed oÁØ»t-add¸¡ack", &
´ed
->
»t¡ack_pushes
, 0, 
NULL
);

768 
	`¥rštf
 (
buf
, "%s.»t¡ack_pİs", 
Çme
);

769 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàadd»s pİ³d ofàoà»t-add¸¡ack", &
´ed
->
»t¡ack_pİs
, 0, 
NULL
);

770 
	`¥rštf
 (
buf
, "%s.u£d_¿s.PP", 
Çme
);

771 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàRAS…»diùiÚ u£d", &
´ed
->
u£d_¿s
, 0, 
NULL
);

772 
	`¥rštf
 (
buf
, "%s.¿s_h™s.PP", 
Çme
);

773 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàRAS h™s", &
´ed
->
¿s_h™s
, 0, 
NULL
);

774 
	`¥rštf
 (
buf
, "%s.¿s_¿‹.PP", 
Çme
);

775 
	`¥rštf
 (
buf1
, "%s.¿s_h™s.PP / %s.u£d_¿s.PP", 
Çme
,‚ame);

776 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "RAS…»diùiÚ„©(i.e., RAS h™s/u£d RAS)", 
buf1
, "%9.4f");

777 
	}
}

780 
	$b´ed_aá”_´imšg
 (
b´ed_t
 *
b´ed
)

782 ià(
b´ed
 =ğ
NULL
)

785 
b´ed
->
lookups
 = 0;

786 
b´ed
->
addr_h™s
 = 0;

787 
b´ed
->
dœ_h™s
 = 0;

788 
b´ed
->
u£d_¿s
 = 0;

789 
b´ed
->
u£d_bimod
 = 0;

790 
b´ed
->
u£d_2Ëv
 = 0;

791 
b´ed
->
jr_h™s
 = 0;

792 
b´ed
->
jr_£’
 = 0;

793 
b´ed
->
mis£s
 = 0;

794 
b´ed
->
»t¡ack_pİs
 = 0;

795 
b´ed
->
»t¡ack_pushes
 = 0;

796 
b´ed
->
¿s_h™s
 = 0;

797 
	}
}

799 
	#BIMOD_HASH
(
PRED
, 
ADDR
è\

	)

800 ((((
	gADDR
è>> 19è^ ((ADDRè>> 
	gMD_BR_SHIFT
)è& ((
	gPRED
)->
	gcÚfig
.
	gbimod
.
	gsize
-1))

805 
b´ed_dœ_lookup
 (
b´ed_dœ_t
 *
´ed_dœ
,

806 #ifdeà
SMT_SS


807 
md_addr_t
 
baddr
,

808 
th»adid
)

810 
md_addr_t
 
	gbaddr
)

813 *
	gp
 = 
NULL
;

816 
	g´ed_dœ
->
	gşass
)

818 
	gBP»d2Lev–
:

820 
l1šdex
, 
	gl2šdex
;

823 
	gl1šdex
 = (
baddr
 >> 
MD_BR_SHIFT
è& (
´ed_dœ
->
cÚfig
.
two
.
l1size
 - 1);

824 #ifdeà
SMT_SS


825 
	gl2šdex
 = 
´ed_dœ
->
cÚfig
.
two
.
shiá»gs
[
th»adid
][
l1šdex
];

827 
	gl2šdex
 = 
´ed_dœ
->
cÚfig
.
two
.
shiá»gs
[
l1šdex
];

829 ià(
	g´ed_dœ
->
	gcÚfig
.
	gtwo
.
	gxÜ
)

836 
	gl2šdex
 = (((
l2šdex
 ^ (
baddr
 >> 
MD_BR_SHIFT
)è& ((1 << 
´ed_dœ
->
cÚfig
.
two
.
shiá_width
) - 1)) | ((baddr >> MD_BR_SHIFT) <<…red_dir->config.two.shift_width));

838 
	gl2šdex
 = 
l2šdex
 ^ (
baddr
 >> 
MD_BR_SHIFT
);

843 
	gl2šdex
 = 
l2šdex
 | ((
baddr
 >> 
MD_BR_SHIFT
è<< 
´ed_dœ
->
cÚfig
.
two
.
shiá_width
);

845 
	gl2šdex
 = 
l2šdex
 & (
´ed_dœ
->
cÚfig
.
two
.
l2size
 - 1);

848 
	gp
 = &
´ed_dœ
->
cÚfig
.
two
.
l2bË
[
l2šdex
];

851 #ifdeà
LOAD_PREDICTOR


852 
	gLDP»d2b™
:

853 
p
 = &
´ed_dœ
->
cÚfig
.
bimod
.
bË
[
BIMOD_HASH
 (´ed_dœ, 
baddr
)];

856 
	gBP»d2b™
:

857 
p
 = &
´ed_dœ
->
cÚfig
.
bimod
.
bË
[
BIMOD_HASH
 (´ed_dœ, 
baddr
)];

859 
	gBP»dTak’
:

860 
BP»dNÙTak’
:

863 
·nic
 ("bogus branch direction…redictor class");

866  (*è
	gp
;

876 
	$H_func
 (
Y
, 
shiá
, 
Mask
)

878 
y1
, 
yn
, 
»suÉ
;

880 
y1
 = 
Y
 >> (
shiá
 - 1);

881 
yn
 = 
Y
 & 0x01;

883 
»suÉ
 = ((
Y
 * 2è+ (
yn
 ^ 
y1
)è& 
Mask
;

884  (
»suÉ
);

885 
	}
}

888 
	$Hb¬_func
 (
Y
, 
shiá
, 
Mask
)

890 
y1
, 
yn
, 
»suÉ
;

892 
y1
 = (
Y
 & 0x02) >> 1;

893 
yn
 = (
y1
 ^ 
Y
) & 1;

894 
»suÉ
 = (
Y
 >> 1è+ (
yn
 << (
shiá
 - 1));

896  (
»suÉ
);

897 
	}
}

903 
b´ed_upd©e_hi¡Üy
 (
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r


904 #ifdeà
SMT_SS


905 , 
th»adid


909 
	g´ed_k’
, 
	gshiá_»g
;

910 
cÚ‹xt
 *
	gcu¼’t
 = 
thecÚ‹xts
[
th»adid
];

912 
	gdœ_upd©e_±r
->
	gb¿nch_2
 = 
cu¼’t
->
b¿nch_2
;

914 
	g´ed
->
	gşass
)

917 
	gBP»dComb
:

918 
BP»d2Lev–
:

919 
´ed_k’
 = *(
dœ_upd©e_±r
->
pdœ1
) > 1;

921 
	gdœ_upd©e_±r
->
	ghi¡Üy
 = 
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
shiá»gs
[0];

922 
	gdœ_upd©e_±r
->
	ghi¡_shiá_out
 = 
dœ_upd©e_±r
->
hi¡Üy
 >> 31;

923 
	gshiá_»g
 = (
dœ_upd©e_±r
->
hi¡Üy
 << 1è| (!!
´ed_k’
);

924 
	g´ed
->
	gdœ´ed
.
	gtwŞev
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[0] = 
shiá_»g
 ;

927 
	gBP»d2bcgskew
:

928 
´ed_k’
 = 
dœ_upd©e_±r
->pred_taken;

930 #ifdeà
SMT_SS


931 
	gdœ_upd©e_±r
->
	ghi¡Üy
 = 
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
];

933 
	gdœ_upd©e_±r
->
	ghi¡Üy
 = 
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
;

935 
	gdœ_upd©e_±r
->
	ghi¡_shiá_out
 = 
dœ_upd©e_±r
->
hi¡Üy
 >> 31;

936 
	gshiá_»g
 = (
dœ_upd©e_±r
->
hi¡Üy
 << 1è| (!!
´ed_k’
);

938 #ifdeà
SMT_SS


939 
	g´ed
->
	gdœ´ed
.
	gbim1
->
	gcÚfig
.
	gbªk
.
	gshiá»g
[
th»adid
] = 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá»g
[th»adid] =…»d->dœ´ed.
g11
->cÚfig.bªk.shiá»g[th»adid] =…»d->dœ´ed.
m‘a
->cÚfig.bªk.shiá»g[th»adid] = 
shiá_»g
;

941 
	g´ed
->
	gdœ´ed
.
	gbim1
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 = 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá»g
 =…»d->dœ´ed.
g11
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
m‘a
->cÚfig.bªk.shiá»g = 
shiá_»g
;

945 
	gBP»dARVI
:

949 
·nic
 ("sth wrong here in bpred_update_history");

952 ià(
	gcombšed2
 || (
	g´ed
->
	gşass
 =ğ
BP»dARVI
))

958 ià(!
my¡ricmp
 (
´ed_ty³2
, "comb") || !mystricmp (pred_type2, "2lev"))

960 
´ed_k’
 = *(
dœ_upd©e_±r
->
pdœ12
) > 1;

962 
	gdœ_upd©e_±r
->
	ghi¡Üy2
 = 
´ed
->
dœ´ed
.
twŞev2
->
cÚfig
.
two
.
shiá»gs
[0];

963 
	gdœ_upd©e_±r
->
	ghi¡_shiá_out2
 = 
dœ_upd©e_±r
->
hi¡Üy2
 >> 31;

964 
	gshiá_»g
 = (
dœ_upd©e_±r
->
hi¡Üy2
 << 1è| (!!
´ed_k’
);

965 
	g´ed
->
	gdœ´ed
.
	gtwŞev2
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[0] = 
shiá_»g
 ;

969 ià(!
my¡ricmp
 (
´ed_ty³2
, "2bcgskew"))

971 
	g´ed_k’
 = 
dœ_upd©e_±r
->
´ed_k’2
;

973 #ifdeà
SMT_SS


974 
	gdœ_upd©e_±r
->
	ghi¡Üy2
 = 
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
];

976 
	gdœ_upd©e_±r
->
	ghi¡Üy2
 = 
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
;

978 
	gdœ_upd©e_±r
->
	ghi¡_shiá_out2
 = 
dœ_upd©e_±r
->
hi¡Üy2
 >> 31;

979 
	gshiá_»g
 = (
dœ_upd©e_±r
->
hi¡Üy2
 << 1è| (!!
´ed_k’
);

981 #ifdeà
SMT_SS


982 
	g´ed
->
	gdœ´ed
.
	gbim2
->
	gcÚfig
.
	gbªk
.
	gshiá»g
[
th»adid
] = 
´ed
->
dœ´ed
.
g02
->
cÚfig
.
bªk
.
shiá»g
[th»adid] =…»d->dœ´ed.
g12
->cÚfig.bªk.shiá»g[th»adid] =…»d->dœ´ed.
m‘a2
->cÚfig.bªk.shiá»g[th»adid] = 
shiá_»g
;

984 
	g´ed
->
	gdœ´ed
.
	gbim2
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 = 
´ed
->
dœ´ed
.
g02
->
cÚfig
.
bªk
.
shiá»g
 =…»d->dœ´ed.
g12
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
m‘a2
->cÚfig.bªk.shiá»g = 
shiá_»g
;

988 
·nic
 ("sth wrong here in 2 bpred_update_history");

994 #ifdeà
SMT_SS


996 
	$b´ed_2bcgskew_lookup
 (
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r
, 
md_addr_t
 
baddr
, 
th»adid
)

999 
	$b´ed_2bcgskew_lookup
 (
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r
, 
md_addr_t
 
baddr
)

1002 
šfo_vec
, 
šfo_vec1
, 
šfo_vec2
;

1003 
shiá
;

1004 
mask
;

1005 
šdex
;

1006 
eff_addr
 = 
baddr
 >> 
MD_BR_SHIFT
;

1011 
shiá
 = 
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
log_size
;

1012 
mask
 = 
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
size
 - 1;

1013 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá_width
) |

1014 #ifdeà
SMT_SS


1015 (
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] &

1017 (
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
 &

1019 ((1 << 
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá_width
) - 1));

1020 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1021 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1023 
šdex
 = ((
	`H_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`Hb¬_func
 (
šfo_vec2
, shift, mask) ^ info_vec2) + 0) & mask;

1024 
dœ_upd©e_±r
->
pdœ1
 = &(
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1025 
dœ_upd©e_±r
->
dœ
.
bim1
 = *(dœ_upd©e_±r->
pdœ1
) > 1;

1028 
shiá
 = 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
log_size
;

1029 
mask
 = 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
size
 - 1;

1030 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá_width
) |

1031 #ifdeà
SMT_SS


1032 (
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] &

1034 (
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá»g
 &

1036 ((1 << 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá_width
) - 1));

1037 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1038 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1040 
šdex
 = ((
	`H_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`Hb¬_func
 (
šfo_vec2
, shift, mask) ^ info_vec1)

1041  ) & 
mask
;

1042 
dœ_upd©e_±r
->
pdœ2
 = &(
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1043 
dœ_upd©e_±r
->
dœ
.
g01
 = *(dœ_upd©e_±r->
pdœ2
) > 1;

1046 
shiá
 = 
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
log_size
;

1047 
mask
 = 
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
size
 - 1;

1048 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
shiá_width
) |

1049 #ifdeà
SMT_SS


1050 (
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] &

1052 (
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
shiá»g
 &

1054 ((1 << 
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
shiá_width
) - 1));

1055 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1056 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1058 
šdex
 = ((
	`Hb¬_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`H_func
 (
šfo_vec2
, shift, mask) ^ info_vec2)

1059  ) & 
mask
;

1060 
dœ_upd©e_±r
->
pdœ3
 = &(
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1061 
dœ_upd©e_±r
->
dœ
.
g11
 = *(dœ_upd©e_±r->
pdœ3
) > 1;

1064 
shiá
 = 
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
log_size
;

1065 
mask
 = 
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
size
 - 1;

1066 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
shiá_width
) |

1067 #ifdeà
SMT_SS


1068 (
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] &

1070 (
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
shiá»g
 &

1072 ((1 << 
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
shiá_width
) - 1));

1073 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1074 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1076 
šdex
 = ((
	`Hb¬_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`H_func
 (
šfo_vec2
, shift, mask) ^ info_vec1)

1077  ) & 
mask
;

1078 
dœ_upd©e_±r
->
pm‘a
 = &(
´ed
->
dœ´ed
.
m‘a
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1079 
dœ_upd©e_±r
->
dœ
.
m‘a
 = *(dœ_upd©e_±r->
pm‘a
) > 1;

1081 ià(!
dœ_upd©e_±r
->
dœ
.
m‘a
)

1082 
dœ_upd©e_±r
->
´ed_k’
 = dœ_upd©e_±r->
dœ
.
bim1
;

1083 ià(
dœ_upd©e_±r
->
dœ
.
g01
 =ğdœ_upd©e_±r->dœ.
g11
)

1084 
dœ_upd©e_±r
->
´ed_k’
 = dœ_upd©e_±r->
dœ
.
g01
;

1086 
dœ_upd©e_±r
->
´ed_k’
 = dœ_upd©e_±r->
dœ
.
bim1
;

1087 
	}
}

1092 
	$b´ed_2bcgskew_lookup2
 (
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r
, 
md_addr_t
 
baddr
)

1094 
šfo_vec
, 
šfo_vec1
, 
šfo_vec2
;

1095 
shiá
;

1096 
mask
;

1097 
šdex
;

1098 
eff_addr
 = 
baddr
 >> 
MD_BR_SHIFT
;

1101 
shiá
 = 
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
log_size
;

1102 
mask
 = 
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
size
 - 1;

1103 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá_width
è| (´ed->dœ´ed.bim2->cÚfig.bªk.
shiá»g
 & ((1 <<…red->dirpred.bim2->config.bank.shift_width) - 1));

1104 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1105 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1107 
šdex
 = ((
	`H_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`Hb¬_func
 (
šfo_vec2
, shift, mask) ^ info_vec2) + 0) & mask;

1108 
dœ_upd©e_±r
->
pdœ12
 = &(
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1109 
dœ_upd©e_±r
->
dœ
.
bim2
 = *(dœ_upd©e_±r->
pdœ12
) > 1;

1112 
shiá
 = 
´ed
->
dœ´ed
.
g02
->
cÚfig
.
bªk
.
log_size
;

1113 
mask
 = 
´ed
->
dœ´ed
.
g02
->
cÚfig
.
bªk
.
size
 - 1;

1114 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
g02
->
cÚfig
.
bªk
.
shiá_width
è| (´ed->dœ´ed.g02->cÚfig.bªk.
shiá»g
 & ((1 <<…red->dirpred.g02->config.bank.shift_width) - 1));

1115 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1116 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1118 
šdex
 = ((
	`H_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`Hb¬_func
 (
šfo_vec2
, shift, mask) ^ info_vec1)

1119  ) & 
mask
;

1120 
dœ_upd©e_±r
->
pdœ22
 = &(
´ed
->
dœ´ed
.
g02
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1121 
dœ_upd©e_±r
->
dœ
.
g02
 = *(dœ_upd©e_±r->
pdœ22
) > 1;

1124 
shiá
 = 
´ed
->
dœ´ed
.
g12
->
cÚfig
.
bªk
.
log_size
;

1125 
mask
 = 
´ed
->
dœ´ed
.
g12
->
cÚfig
.
bªk
.
size
 - 1;

1126 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
g12
->
cÚfig
.
bªk
.
shiá_width
è| (´ed->dœ´ed.g12->cÚfig.bªk.
shiá»g
 & ((1 <<…red->dirpred.g12->config.bank.shift_width) - 1));

1127 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1128 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1130 
šdex
 = ((
	`Hb¬_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`H_func
 (
šfo_vec2
, shift, mask) ^ info_vec2)

1131  ) & 
mask
;

1132 
dœ_upd©e_±r
->
pdœ32
 = &(
´ed
->
dœ´ed
.
g12
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1133 
dœ_upd©e_±r
->
dœ
.
g12
 = *(dœ_upd©e_±r->
pdœ32
) > 1;

1136 
shiá
 = 
´ed
->
dœ´ed
.
m‘a2
->
cÚfig
.
bªk
.
log_size
;

1137 
mask
 = 
´ed
->
dœ´ed
.
m‘a2
->
cÚfig
.
bªk
.
size
 - 1;

1138 
šfo_vec
 = (
eff_addr
 << 
´ed
->
dœ´ed
.
m‘a2
->
cÚfig
.
bªk
.
shiá_width
è| (´ed->dœ´ed.m‘a2->cÚfig.bªk.
shiá»g
 & ((1 <<…red->dirpred.meta2->config.bank.shift_width) - 1));

1139 
šfo_vec2
 = 
šfo_vec
 & 
mask
;

1140 
šfo_vec1
 = (
šfo_vec
 & (
mask
 << 
shiá
)) >> shift;

1142 
šdex
 = ((
	`Hb¬_func
 (
šfo_vec1
, 
shiá
, 
mask
è^ 
	`H_func
 (
šfo_vec2
, shift, mask) ^ info_vec1)

1143  ) & 
mask
;

1144 
dœ_upd©e_±r
->
pm‘a2
 = &(
´ed
->
dœ´ed
.
m‘a2
->
cÚfig
.
bªk
.
bË
[
šdex
]);

1145 
dœ_upd©e_±r
->
dœ
.
m‘a2
 = *(dœ_upd©e_±r->
pm‘a2
) > 1;

1147 ià(!
dœ_upd©e_±r
->
dœ
.
m‘a2
)

1148 
dœ_upd©e_±r
->
´ed_k’2
 = dœ_upd©e_±r->
dœ
.
bim2
;

1149 ià(
dœ_upd©e_±r
->
dœ
.
g02
 =ğdœ_upd©e_±r->dœ.
g12
)

1150 
dœ_upd©e_±r
->
´ed_k’2
 = dœ_upd©e_±r->
dœ
.
g02
;

1152 
dœ_upd©e_±r
->
´ed_k’2
 = dœ_upd©e_±r->
dœ
.
bim2
;

1153 
	}
}

1163 
md_addr_t


1164 
b´ed_lookup
 (
b´ed_t
 *
´ed
,

1165 
md_addr_t
 
baddr
,

1166 
md_addr_t
 
brg‘
,

1167 
md_İcode
 
İ
,

1168 
is_ÿÎ
,

1169 
is_»tuº
,

1170 
b´ed_upd©e_t
 *
dœ_upd©e_±r
,

1171 #ifdeà
SMT_SS


1172 *
¡ack_»cov”_idx
,

1174 
th»adid
, 
btb_th»adid


1177 *
	g¡ack_»cov”_idx
)

1181 
b´ed_btb_’t_t
 *
	gpbtb
 = 
NULL
;

1182 
	gšdex
, 
	gi
;

1184 ià(!
	gdœ_upd©e_±r
)

1185 
·nic
 ("no bpred update„ecord");

1188 #ifdeà
LOAD_PREDICTOR


1189 ià(!(
MD_OP_FLAGS
 (
İ
è& 
	gF_CTRL
è&& (
	g´ed
->
	gşass
 !ğ
LDP»d2b™
))

1192 ià(!(
MD_OP_FLAGS
 (
İ
è& 
	gF_CTRL
))

1196 
	g´ed
->
	glookups
++;

1198 
	gdœ_upd©e_±r
->
	gdœ
.
	g¿s
 = 
FALSE
;

1199 
	gdœ_upd©e_±r
->
	gpdœ1
 = 
NULL
;

1200 
	gdœ_upd©e_±r
->
	gpdœ2
 = 
NULL
;

1201 
	gdœ_upd©e_±r
->
	gpm‘a
 = 
NULL
;

1203 
	g´ed
->
	gşass
)

1206 
	gBP»d2bcgskew
:

1207 
dœ_upd©e_±r
->
pdœ3
 = 
NULL
;

1208 ià((
MD_OP_FLAGS
 (
İ
è& (
	gF_CTRL
 | 
	gF_UNCOND
)è!ğ(
F_CTRL
 | 
F_UNCOND
))

1209 #ifdeà
SMT_SS


1210 
b´ed_2bcgskew_lookup
 (
´ed
, 
dœ_upd©e_±r
, 
baddr
, 
th»adid
);

1212 
b´ed_2bcgskew_lookup
 (
´ed
, 
dœ_upd©e_±r
, 
baddr
);

1215 
	gBP»dComb
:

1216 ià((
MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
)) != (F_CTRL | F_UNCOND))

1218 *
bimod
, *
twŞev
, *
m‘a
;

1220 #ifdeà
SMT_SS


1221 
	gbimod
 = 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
bimod
, 
baddr
, 
th»adid
);

1222 
	gtwŞev
 = 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
twŞev
, 
baddr
, 
th»adid
);

1223 
	gm‘a
 = 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
m‘a
, 
baddr
, 
th»adid
);

1225 
	gbimod
 = 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
bimod
, 
baddr
);

1226 
	gtwŞev
 = 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
twŞev
, 
baddr
);

1227 
	gm‘a
 = 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
m‘a
, 
baddr
);

1229 
	gdœ_upd©e_±r
->
	gpm‘a
 = 
m‘a
;

1230 
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
 = (*
m‘a
 >= 2);

1231 
	gdœ_upd©e_±r
->
	gdœ
.
	gbimod
 = (*
bimod
 >= 2);

1232 
	gdœ_upd©e_±r
->
	gdœ
.
	gtwŞev
 = (*
twŞev
 >= 2);

1233 ià(*
	gm‘a
 >= 2)

1235 
dœ_upd©e_±r
->
pdœ1
 = 
twŞev
;

1236 
	gdœ_upd©e_±r
->
	gpdœ2
 = 
bimod
;

1240 
	gdœ_upd©e_±r
->
	gpdœ1
 = 
bimod
;

1241 
	gdœ_upd©e_±r
->
	gpdœ2
 = 
twŞev
;

1245 
	gBP»d2Lev–
:

1246 ià((
MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
)) != (F_CTRL | F_UNCOND))

1248 
dœ_upd©e_±r
->
pdœ1
 =

1249 #ifdeà
SMT_SS


1250 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
twŞev
, 
baddr
, 
th»adid
);

1252 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
twŞev
, 
baddr
);

1256 #ifdeà
LOAD_PREDICTOR


1257 
	gLDP»d2b™
:

1258 
dœ_upd©e_±r
->
pdœ1
 =

1259 #ifdeà
SMT_SS


1260 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
bimod
, 
baddr
, 
th»adid
);

1262 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
bimod
, 
baddr
);

1264  ((*(
	gdœ_upd©e_±r
->
	gpdœ1
) >= 3) ? 1

1268 
	gBP»d2b™
:

1269 ià((
MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
)) != (F_CTRL | F_UNCOND))

1271 
dœ_upd©e_±r
->
pdœ1
 =

1272 #ifdeà
SMT_SS


1273 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
bimod
, 
baddr
, 
th»adid
);

1275 
b´ed_dœ_lookup
 (
´ed
->
dœ´ed
.
bimod
, 
baddr
);

1279 
	gBP»dTak’
:

1280  
brg‘
;

1281 
	gBP»dNÙTak’
:

1282 ià((
MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
)) != (F_CTRL | F_UNCOND))

1284  
baddr
 +  (
md_š¡_t
);

1288  
	gbrg‘
;

1291 
·nic
 ("bogus…redictor class");

1297 ià((
MD_OP_FLAGS
 (
İ
è& (
	gF_CTRL
 | 
	gF_UNCOND
)è!ğ(
F_CTRL
 | 
F_UNCOND
))

1299 ià(
my¡ricmp
 (
´ed_ty³
, "2bcgskew"))

1300 
dœ_upd©e_±r
->
´ed_k’
 = *(dœ_upd©e_±r->
pdœ1
) >= 2;

1302 
	g´ed_k’
 = 
dœ_upd©e_±r
->
´ed_k’
;

1304 ià(
	gcombšed2
)

1306 ià(!
my¡ricmp
 (
´ed_ty³2
, "2bcgskew"))

1307 
b´ed_2bcgskew_lookup2
 (
´ed
, 
dœ_upd©e_±r
, 
baddr
);

1309 
b´ed_lookup2
 (
´ed
, 
baddr
, 
İ
, 
dœ_upd©e_±r
);

1311 ià(
	gu£_£l
)

1313 ià(
	gdœ_upd©e_±r
->
	g´ed_k’
 =ğ
dœ_upd©e_±r
->
´ed_k’2
)

1314 
´ed_k’
 = 
dœ_upd©e_±r
->pred_taken;

1317 
	gdœ_upd©e_±r
->
	ghi¡_b_šdx
 = ((
baddr
 >> 
MD_BR_SHIFT
è^ 
hi¡_»g
è% 
hi¡_b_size
;

1318 ià(
£l_lookup
 (
dœ_upd©e_±r
->
hi¡_b_šdx
, dœ_upd©e_±r->
´ed_k’
))

1319 
	g´ed_k’
 = 
dœ_upd©e_±r
->
´ed_k’
;

1321 
	g´ed_k’
 = 
dœ_upd©e_±r
->
´ed_k’2
;

1336 #ifdeà
SMT_SS


1337 ià(
	g´ed
->
	g»t¡ack
[
th»adid
].
	gsize
)

1338 *
	g¡ack_»cov”_idx
 = 
´ed
->
»t¡ack
[
th»adid
].
tos
;

1340 *
	g¡ack_»cov”_idx
 = 0;

1343 ià(
	gis_»tuº
 && 
	g´ed
->
	g»t¡ack
[
th»adid
].
	gsize
)

1345 
md_addr_t
 
	grg‘
 = 
´ed
->
»t¡ack
[
th»adid
].
¡ack
[´ed->»t¡ack[th»adid].
tos
].
rg‘
;

1347 
	g´ed
->
	g»t¡ack
[
th»adid
].
	gtos
 = (
´ed
->
»t¡ack
[th»adid].
tos
 +…»d->»t¡ack[th»adid].
size
 - 1) %…red->retstack[threadid].size;

1348 
	g´ed
->
	g»t¡ack_pİs
++;

1349 
	gdœ_upd©e_±r
->
	gdœ
.
	g¿s
 = 
TRUE
;

1350  
	grg‘
;

1353 #iâdeà
RAS_BUG_COMPATIBLE


1355 ià(
	gis_ÿÎ
 && 
	g´ed
->
	g»t¡ack
[
th»adid
].
	gsize
)

1357 
	g´ed
->
	g»t¡ack
[
th»adid
].
	gtos
 = (
´ed
->
»t¡ack
[th»adid].
tos
 + 1è%…»d->»t¡ack[th»adid].
size
;

1358 
	g´ed
->
	g»t¡ack
[
th»adid
].
	g¡ack
[
´ed
->
»t¡ack
[th»adid].
	gtos
].
	grg‘
 = 
baddr
 +  (
md_š¡_t
);

1359 
	g´ed
->
	g»t¡ack_pushes
++;

1364 ià(
	g´ed
->
	g»t¡ack
.
	gsize
)

1365 *
	g¡ack_»cov”_idx
 = 
´ed
->
»t¡ack
.
tos
;

1367 *
	g¡ack_»cov”_idx
 = 0;

1370 ià(
	gis_»tuº
 && 
	g´ed
->
	g»t¡ack
.
	gsize
)

1372 
md_addr_t
 
	grg‘
 = 
´ed
->
»t¡ack
.
¡ack
[´ed->»t¡ack.
tos
].
rg‘
;

1374 
	g´ed
->
	g»t¡ack
.
	gtos
 = (
´ed
->
»t¡ack
.
tos
 +…»d->»t¡ack.
size
 - 1) %…red->retstack.size;

1375 
	g´ed
->
	g»t¡ack_pİs
++;

1376 
	gdœ_upd©e_±r
->
	gdœ
.
	g¿s
 = 
TRUE
;

1377  
	grg‘
;

1380 #iâdeà
RAS_BUG_COMPATIBLE


1382 ià(
	gis_ÿÎ
 && 
	g´ed
->
	g»t¡ack
.
	gsize
)

1384 
	g´ed
->
	g»t¡ack
.
	gtos
 = (
´ed
->
»t¡ack
.
tos
 + 1è%…»d->»t¡ack.
size
;

1385 
	g´ed
->
	g»t¡ack
.
	g¡ack
[
´ed
->
»t¡ack
.
tos
].
	grg‘
 = 
baddr
 +  (
md_š¡_t
);

1386 
	g´ed
->
	g»t¡ack_pushes
++;

1392 
	gšdex
 = (
baddr
 >> 
MD_BR_SHIFT
è& (
´ed
->
btb
.
£ts
 - 1);

1394 ià(
	g´ed
->
	gbtb
.
	gassoc
 > 1)

1396 
	gšdex
 *ğ
´ed
->
btb
.
assoc
;

1399 
	gi
 = 
šdex
; i < (
	gšdex
 + 
	g´ed
->
	gbtb
.
	gassoc
); i++)

1400 #ifdeà
SMT_SS


1401 ià((
	g´ed
->
	gbtb
.
	gbtb_d©a
[
i
].
	gaddr_id
.
	gaddr
 =ğ
baddr
è&& (
´ed
->
btb
.
btb_d©a
[i].
addr_id
.
th»adid
 =ğ
btb_th»adid
))

1403 ià(
´ed
->
btb
.
btb_d©a
[
i
].
addr
 =ğ
baddr
)

1407 
pbtb
 = &
´ed
->
btb
.
btb_d©a
[
i
];

1413 
	gpbtb
 = &
´ed
->
btb
.
btb_d©a
[
šdex
];

1414 #ifdeà
SMT_SS


1415 ià((
	gpbtb
->
	gaddr_id
.
	gaddr
 !ğ
baddr
è|| (
pbtb
->
addr_id
.
th»adid
 !ğ
btb_th»adid
))

1417 ià(
pbtb
->
addr
 !ğ
baddr
)

1419 
pbtb
 = 
NULL
;

1427 ià((
MD_OP_FLAGS
 (
İ
è& (
	gF_CTRL
 | 
	gF_UNCOND
)è=ğ(
F_CTRL
 | 
F_UNCOND
))

1429  (
pbtb
 ?…btb->
rg‘
 : 1);

1433 ià(
	gpbtb
 =ğ
NULL
)

1436  ((*(
dœ_upd©e_±r
->
pdœ1
) >= 2) ? 1

1442  ((*(
	gdœ_upd©e_±r
->
	gpdœ1
è>ğ2è? 
pbtb
->
rg‘


1451 #ifdeà
SMT_SS


1452 
	$b´ed_»cov”
 (
b´ed_t
 *
´ed
,

1453 
md_addr_t
 
baddr
,

1454 
¡ack_»cov”_idx
,

1456 
th»adid
)

1458 ià(
´ed
 =ğ
NULL
)

1461 
´ed
->
»t¡ack
[
th»adid
].
tos
 = 
¡ack_»cov”_idx
;

1462 
	}
}

1466 
	$b´ed_»cov”
 (
b´ed_t
 *
´ed
,

1467 
md_addr_t
 
baddr
,

1468 
¡ack_»cov”_idx
)

1471 ià(
´ed
 =ğ
NULL
)

1474 
´ed
->
»t¡ack
.
tos
 = 
¡ack_»cov”_idx
;

1475 
	}
}

1481 
b´ed_2bcgskew_upd©e
 (
b´ed_t
 *
´ed
,

1482 
md_addr_t
 
baddr
,

1483 
k’
,

1484 
´ed_k’
,

1485 
cÜ»ù
,

1486 
b´ed_upd©e_t
 *
dœ_upd©e_±r


1487 #ifdeà
SMT_SS


1488 , 
th»adid


1492 
	gshiá_»g
;

1495 
	g´ed_k’
 = 
dœ_upd©e_±r
->
´ed_k’
;

1496 
	gcÜ»ù
 = 
´ed_k’
 =ğ
k’
;

1499 ià(
	gcÜ»ù
)

1501 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	gbim1
 !ğ
dœ_upd©e_±r
->
dœ
.
g01
 || dœ_upd©e_±r->dœ.
bim1
 !ğdœ_upd©e_±r->dœ.
g11
)

1504 ià(
dœ_upd©e_±r
->
dœ
.
g01
 =ğdœ_upd©e_±r->dœ.
g11
)

1507 ià(
dœ_upd©e_±r
->
dœ
.
m‘a
 && *(dœ_upd©e_±r->
pm‘a
) != 3)

1510 
as£¹
 (
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g01
);

1511 ++*
	gdœ_upd©e_±r
->
	gpm‘a
;

1513 ià(!
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
 && *dœ_upd©e_±r->
	gpm‘a
)

1516 
as£¹
 (
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim1
);

1517 --*
	gdœ_upd©e_±r
->
	gpm‘a
;

1520 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
)

1524 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim1
)

1526 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ1
) != 3)

1527 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1528 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ1
)

1529 -- * 
	gdœ_upd©e_±r
->
	gpdœ1
;

1531 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g01
)

1533 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ2
) != 3)

1534 ++ * 
dœ_upd©e_±r
->
pdœ2
;

1535 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ2
)

1536 -- * 
	gdœ_upd©e_±r
->
	gpdœ2
;

1538 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g11
)

1540 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ3
) != 3)

1541 ++ * 
dœ_upd©e_±r
->
pdœ3
;

1542 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ3
)

1543 -- * 
	gdœ_upd©e_±r
->
	gpdœ3
;

1549 
as£¹
 (
dœ_upd©e_±r
->
dœ
.
bim1
 =ğ
k’
);

1551 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 3)

1552 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1553 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ1
)

1554 -- * 
	gdœ_upd©e_±r
->
	gpdœ1
;

1558 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
)

1562 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim1
)

1564 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ1
) != 3)

1565 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1566 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ1
)

1567 -- * 
	gdœ_upd©e_±r
->
	gpdœ1
;

1569 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g01
)

1571 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ2
) != 3)

1572 ++ * 
dœ_upd©e_±r
->
pdœ2
;

1573 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ2
)

1574 -- * 
	gdœ_upd©e_±r
->
	gpdœ2
;

1576 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g11
)

1578 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ3
) != 3)

1579 ++ * 
dœ_upd©e_±r
->
pdœ3
;

1580 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ3
)

1581 -- * 
	gdœ_upd©e_±r
->
	gpdœ3
;

1587 
as£¹
 (
dœ_upd©e_±r
->
dœ
.
bim1
 =ğ
k’
);

1589 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 3)

1590 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1591 ià(!
	gk’
 && *
	gdœ_upd©e_±r
->
	gpdœ1
)

1592 -- * 
	gdœ_upd©e_±r
->
	gpdœ1
;

1599 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	gbim1
 !ğ
dœ_upd©e_±r
->
dœ
.
g01
 && dœ_upd©e_±r->dœ.
bim1
 !ğdœ_upd©e_±r->dœ.
g11
)

1604 ià((
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim1
è&& *dœ_upd©e_±r->
pm‘a
)

1606 
as£¹
 (
dœ_upd©e_±r
->
dœ
.
m‘a
);

1607 --*
	gdœ_upd©e_±r
->
	gpm‘a
;

1609 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g01
 && (*(dœ_upd©e_±r->
pm‘a
) < 3))

1611 
as£¹
 (!
dœ_upd©e_±r
->
dœ
.
m‘a
);

1612 ++*
	gdœ_upd©e_±r
->
	gpm‘a
;

1616 
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
 = *(
dœ_upd©e_±r
->
pm‘a
) > 1;

1620 ià(!
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
)

1621 
	g´eded_k’
 = 
dœ_upd©e_±r
->
dœ
.
bim1
;

1623 
	g´eded_k’
 = (
dœ_upd©e_±r
->
dœ
.
bim1
 =ğdœ_upd©e_±r->dœ.
g01
è? dœ_upd©e_±r->dœ.bim1 : dœ_upd©e_±r->dœ.
g11
;

1626 ià(
	g´eded_k’
 =ğ
k’
)

1628 ià(!
dœ_upd©e_±r
->
dœ
.
m‘a
)

1630 
as£¹
 (
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim1
);

1631 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 3)

1632 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1633 ià(!
	gk’
 && 
	gdœ_upd©e_±r
->
	gpdœ1
 != 0)

1634 -- * 
dœ_upd©e_±r
->
pdœ1
;

1638 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim1
)

1640 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ1
) != 3)

1641 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1642 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 0)

1643 -- * 
dœ_upd©e_±r
->
pdœ1
;

1645 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g01
)

1647 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ2
) != 3)

1648 ++ * 
dœ_upd©e_±r
->
pdœ2
;

1649 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ2
) != 0)

1650 -- * 
dœ_upd©e_±r
->
pdœ2
;

1652 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
dœ
.
g11
)

1654 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ3
) != 3)

1655 ++ * 
dœ_upd©e_±r
->
pdœ3
;

1656 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ3
) != 0)

1657 -- * 
dœ_upd©e_±r
->
pdœ3
;

1672 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 3)

1673 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1674 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 0)

1675 -- * 
dœ_upd©e_±r
->
pdœ1
;

1676 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ2
) != 3)

1677 ++ * 
dœ_upd©e_±r
->
pdœ2
;

1678 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ2
) != 0)

1679 -- * 
dœ_upd©e_±r
->
pdœ2
;

1680 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ3
) != 3)

1681 ++ * 
dœ_upd©e_±r
->
pdœ3
;

1682 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ3
) != 0)

1683 -- * 
dœ_upd©e_±r
->
pdœ3
;

1689 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 3)

1690 ++ * 
dœ_upd©e_±r
->
pdœ1
;

1691 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ1
) != 0)

1692 -- * 
dœ_upd©e_±r
->
pdœ1
;

1693 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ2
) != 3)

1694 ++ * 
dœ_upd©e_±r
->
pdœ2
;

1695 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ2
) != 0)

1696 -- * 
dœ_upd©e_±r
->
pdœ2
;

1697 ià(
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ3
) != 3)

1698 ++ * 
dœ_upd©e_±r
->
pdœ3
;

1699 ià(!
	gk’
 && *(
	gdœ_upd©e_±r
->
	gpdœ3
) != 0)

1700 -- * 
dœ_upd©e_±r
->
pdœ3
;

1703 ià(!
	ghi¡_imm
)

1706 #ifdeà
SMT_SS


1707 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] << 1è| (!!
k’
);

1709 
	g´ed
->
	gdœ´ed
.
	gbim1
->
	gcÚfig
.
	gbªk
.
	gshiá»g
[
th»adid
] = 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá»g
[th»adid] =…»d->dœ´ed.
g11
->cÚfig.bªk.shiá»g[th»adid] =…»d->dœ´ed.
m‘a
->cÚfig.bªk.shiá»g[th»adid] = 
shiá_»g
;

1711 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
 << 1è| (!!
k’
);

1713 
	g´ed
->
	gdœ´ed
.
	gbim1
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 = 
´ed
->
dœ´ed
.
g01
->
cÚfig
.
bªk
.
shiá»g
 =…»d->dœ´ed.
g11
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
m‘a
->cÚfig.bªk.shiá»g = 
shiá_»g
;

1722 
	$b´ed_2bcgskew_upd©e2
 (
b´ed_t
 *
´ed
,

1723 
md_addr_t
 
baddr
,

1724 
k’
,

1725 
´ed_k’
,

1726 
cÜ»ù
,

1727 
b´ed_upd©e_t
 *
dœ_upd©e_±r
)

1729 
shiá_»g
;

1736 ià(
cÜ»ù
)

1738 ià(
dœ_upd©e_±r
->
dœ
.
bim2
 !ğdœ_upd©e_±r->dœ.
g02
 || dœ_upd©e_±r->dœ.bim2 !ğdœ_upd©e_±r->dœ.
g12
)

1741 ià(
dœ_upd©e_±r
->
dœ
.
g02
 =ğdœ_upd©e_±r->dœ.
g12
)

1744 ià(
dœ_upd©e_±r
->
dœ
.
m‘a2
 && *(dœ_upd©e_±r->
pm‘a2
) != 3)

1747 
	`as£¹
 (
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g02
);

1748 ++*
dœ_upd©e_±r
->
pm‘a2
;

1750 ià(!
dœ_upd©e_±r
->
dœ
.
m‘a2
 && *dœ_upd©e_±r->
pm‘a2
)

1753 
	`as£¹
 (
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim2
);

1754 --*
dœ_upd©e_±r
->
pm‘a2
;

1757 ià(
dœ_upd©e_±r
->
dœ
.
m‘a2
)

1761 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim2
)

1763 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 3)

1764 ++ * 
dœ_upd©e_±r
->
pdœ12
;

1765 ià(!
k’
 && *
dœ_upd©e_±r
->
pdœ12
)

1766 -- * 
dœ_upd©e_±r
->
pdœ12
;

1768 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g02
)

1770 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ22
) != 3)

1771 ++ * 
dœ_upd©e_±r
->
pdœ22
;

1772 ià(!
k’
 && *
dœ_upd©e_±r
->
pdœ22
)

1773 -- * 
dœ_upd©e_±r
->
pdœ22
;

1775 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g12
)

1777 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ32
) != 3)

1778 ++ * 
dœ_upd©e_±r
->
pdœ32
;

1779 ià(!
k’
 && *
dœ_upd©e_±r
->
pdœ32
)

1780 -- * 
dœ_upd©e_±r
->
pdœ32
;

1786 
	`as£¹
 (
dœ_upd©e_±r
->
dœ
.
bim2
 =ğ
k’
);

1788 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 3)

1789 ++ * 
dœ_upd©e_±r
->
pdœ12
;

1790 ià(!
k’
 && *
dœ_upd©e_±r
->
pdœ12
)

1791 -- * 
dœ_upd©e_±r
->
pdœ12
;

1798 ià(
dœ_upd©e_±r
->
dœ
.
bim2
 !ğdœ_upd©e_±r->dœ.
g02
 && dœ_upd©e_±r->dœ.bim2 !ğdœ_upd©e_±r->dœ.
g12
)

1803 ià((
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim2
è&& *dœ_upd©e_±r->
pm‘a2
)

1805 
	`as£¹
 (
dœ_upd©e_±r
->
dœ
.
m‘a2
);

1806 --*
dœ_upd©e_±r
->
pm‘a2
;

1808 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g02
 && (*(dœ_upd©e_±r->
pm‘a2
) < 3))

1810 
	`as£¹
 (!
dœ_upd©e_±r
->
dœ
.
m‘a2
);

1811 ++*
dœ_upd©e_±r
->
pm‘a2
;

1815 
dœ_upd©e_±r
->
dœ
.
m‘a2
 = *(dœ_upd©e_±r->
pm‘a2
) > 1;

1819 ià(!
dœ_upd©e_±r
->
dœ
.
m‘a2
)

1820 
´eded_k’
 = 
dœ_upd©e_±r
->
dœ
.
bim2
;

1822 
´eded_k’
 = (
dœ_upd©e_±r
->
dœ
.
bim2
 =ğdœ_upd©e_±r->dœ.
g02
è? dœ_upd©e_±r->dœ.bim2 : dœ_upd©e_±r->dœ.
g12
;

1825 ià(
´eded_k’
 =ğ
k’
 && !
dœ_upd©e_±r
->
dœ
.
m‘a2
)

1828 
	`as£¹
 (
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim2
);

1829 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 3)

1830 ++ * 
dœ_upd©e_±r
->
pdœ12
;

1831 ià(!
k’
 && 
dœ_upd©e_±r
->
pdœ12
 != 0)

1832 -- * 
dœ_upd©e_±r
->
pdœ12
;

1836 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
bim2
)

1838 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 3)

1839 ++ * 
dœ_upd©e_±r
->
pdœ12
;

1840 ià(!
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 0)

1841 -- * 
dœ_upd©e_±r
->
pdœ12
;

1843 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g02
)

1845 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ22
) != 3)

1846 ++ * 
dœ_upd©e_±r
->
pdœ22
;

1847 ià(!
k’
 && *(
dœ_upd©e_±r
->
pdœ22
) != 0)

1848 -- * 
dœ_upd©e_±r
->
pdœ22
;

1850 ià(
k’
 =ğ
dœ_upd©e_±r
->
dœ
.
g12
)

1852 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ32
) != 3)

1853 ++ * 
dœ_upd©e_±r
->
pdœ32
;

1854 ià(!
k’
 && *(
dœ_upd©e_±r
->
pdœ32
) != 0)

1855 -- * 
dœ_upd©e_±r
->
pdœ32
;

1862 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 3)

1863 ++ * 
dœ_upd©e_±r
->
pdœ12
;

1864 ià(!
k’
 && *(
dœ_upd©e_±r
->
pdœ12
) != 0)

1865 -- * 
dœ_upd©e_±r
->
pdœ12
;

1866 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ22
) != 3)

1867 ++ * 
dœ_upd©e_±r
->
pdœ22
;

1868 ià(!
k’
 && *(
dœ_upd©e_±r
->
pdœ22
) != 0)

1869 -- * 
dœ_upd©e_±r
->
pdœ22
;

1870 ià(
k’
 && *(
dœ_upd©e_±r
->
pdœ32
) != 3)

1871 ++ * 
dœ_upd©e_±r
->
pdœ32
;

1872 ià(!
k’
 && *(
dœ_upd©e_±r
->
pdœ32
) != 0)

1873 -- * 
dœ_upd©e_±r
->
pdœ32
;

1876 ià(!
hi¡_imm
)

1879 
shiá_»g
 = (
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
 << 1è| (!!
k’
);

1881 
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
 =…»d->dœ´ed.
g02
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
g12
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
m‘a2
->cÚfig.bªk.shiá»g = 
shiá_»g
;

1885 
	}
}

1889 
MAX_BR_NUM
;

1890 *
b¿nch_add»ss2
;

1893 
b´ed_upd©e_hi¡Üy1
 (
b´ed_t
 *
´ed
, 
k’
, 
md_addr_t
 
baddr
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r


1894 #ifdeà
SMT_SS


1895 , 
th»adid


1899 
	ghis_pos
 ;

1900 
	gbr_pos
 ;

1901 
	g‹¡
 ;

1902 
cÚ‹xt
 *
	gcu¼’t
 = 
thecÚ‹xts
[
th»adid
];

1904 
	ghis_pos
 = (
cu¼’t
->
b¿nch_2
 + (
MAX_BR_NUM
 + 1è- 
dœ_upd©e_±r
->branch_tail2) % (MAX_BR_NUM + 1);

1905 
	gbr_pos
 = (
dœ_upd©e_±r
->
b¿nch_2
 + (
MAX_BR_NUM
 + 1) - 1) % (MAX_BR_NUM + 1);

1906 
as£¹
 (
baddr
 =ğ
cu¼’t
->
b¿nch_add»ss2
[
br_pos
]);

1908 ià(
	ghis_pos
 > 31)

1911 
	g‹¡
 = 1 << 
his_pos
;

1912 
as£¹
 (
‹¡
);

1915 
	g´ed
->
	gşass
)

1918 
	gBP»dComb
:

1919 
BP»d2Lev–
:

1921 ià(
his_pos
 < 
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
shiá_width
)

1922 
as£¹
 (!!
k’
 =ğ!!(
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
shiá»gs
[0] & 
‹¡
));

1927 ià(
	ghis_pos
 < 
	g´ed
->
	gdœ´ed
.
	gtwŞev
->
	gcÚfig
.
	gtwo
.
	gshiá_width
)

1929 
as£¹
 (!
k’
 =ğ!!(
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
shiá»gs
[0] & 
‹¡
));

1930 ià(
	gk’
)

1931 
	g´ed
->
	gdœ´ed
.
	gtwŞev
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[0] |ğ
‹¡
;

1933 
	g´ed
->
	gdœ´ed
.
	gtwŞev
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[0] &ğ~
‹¡
;

1939 
	gBP»d2bcgskew
:

1941 #ifdeà
SMT_SS


1942 
as£¹
 (!!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] & 
‹¡
));

1944 
as£¹
 (!!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
 & 
‹¡
));

1949 
as£¹
 (!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim1
->
cÚfig
.
bªk
.
shiá»g
 & 
‹¡
));

1950 ià(
	gk’
)

1951 
	g´ed
->
	gdœ´ed
.
	gbim1
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 |ğ
‹¡
;

1953 
	g´ed
->
	gdœ´ed
.
	gbim1
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 &ğ~
‹¡
;

1954 
	g´ed
->
	gdœ´ed
.
	gg01
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 = 
´ed
->
dœ´ed
.
g11
->
cÚfig
.
bªk
.
shiá»g
 =…»d->dœ´ed.
m‘a
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
bim1
->config.bank.shiftreg;

1959 
	gBP»dARVI
:

1963 
·nic
 ("sth wrong here in bpred_update_history1");

1969 ià(!
my¡ricmp
 (
´ed_ty³2
, "comb") || !mystricmp (pred_type2, "2lev"))

1971 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
´ed_k’2
)

1974 ià(
his_pos
 < 
´ed
->
dœ´ed
.
twŞev2
->
cÚfig
.
two
.
shiá_width
)

1975 
as£¹
 (!!
k’
 =ğ!!(
´ed
->
dœ´ed
.
twŞev2
->
cÚfig
.
two
.
shiá»gs
[0] & 
‹¡
));

1977 ià(
	ghis_pos
 < 
	g´ed
->
	gdœ´ed
.
	gtwŞev2
->
	gcÚfig
.
	gtwo
.
	gshiá_width
)

1980 
as£¹
 (!
k’
 =ğ!!(
´ed
->
dœ´ed
.
twŞev2
->
cÚfig
.
two
.
shiá»gs
[0] & 
‹¡
));

1981 ià(
	gk’
)

1982 
	g´ed
->
	gdœ´ed
.
	gtwŞev2
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[0] |ğ
‹¡
;

1984 
	g´ed
->
	gdœ´ed
.
	gtwŞev2
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[0] &ğ~
‹¡
;

1989 ià(!
my¡ricmp
 (
´ed_ty³2
, "2bcgskew"))

1991 ià(
	gk’
 =ğ
dœ_upd©e_±r
->
´ed_k’2
)

1993 #ifdeà
SMT_SS


1994 
as£¹
 (!!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] & 
‹¡
));

1996 
as£¹
 (!!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
 & 
‹¡
));

2000 #ifdeà
SMT_SS


2002 
as£¹
 (!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
[
th»adid
] & 
‹¡
));

2003 ià(
	gk’
)

2004 
	g´ed
->
	gdœ´ed
.
	gbim2
->
	gcÚfig
.
	gbªk
.
	gshiá»g
[
th»adid
] |ğ
‹¡
;

2006 
	g´ed
->
	gdœ´ed
.
	gbim2
->
	gcÚfig
.
	gbªk
.
	gshiá»g
[
th»adid
] &ğ~
‹¡
;

2007 
	g´ed
->
	gdœ´ed
.
	gg02
->
	gcÚfig
.
	gbªk
.
	gshiá»g
[
th»adid
] = 
´ed
->
dœ´ed
.
g12
->
cÚfig
.
bªk
.
shiá»g
[th»adid] =…»d->dœ´ed.
m‘a2
->cÚfig.bªk.shiá»g[th»adid] =…»d->dœ´ed.
bim2
->config.bank.shiftreg[threadid];

2009 
as£¹
 (!
k’
 =ğ!!(
´ed
->
dœ´ed
.
bim2
->
cÚfig
.
bªk
.
shiá»g
 & 
‹¡
));

2010 ià(
	gk’
)

2011 
	g´ed
->
	gdœ´ed
.
	gbim2
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 |ğ
‹¡
;

2013 
	g´ed
->
	gdœ´ed
.
	gbim2
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 &ğ~
‹¡
;

2014 
	g´ed
->
	gdœ´ed
.
	gg02
->
	gcÚfig
.
	gbªk
.
	gshiá»g
 = 
´ed
->
dœ´ed
.
g12
->
cÚfig
.
bªk
.
shiá»g
 =…»d->dœ´ed.
m‘a2
->cÚfig.bªk.shiá»g =…»d->dœ´ed.
bim2
->config.bank.shiftreg;

2019 
·nic
 ("sth wrong here in 2 bpred_update_history");

2030 
b´ed_upd©e
 (
b´ed_t
 *
´ed
,

2031 
md_addr_t
 
baddr
,

2032 
md_addr_t
 
brg‘
,

2033 
k’
,

2034 
´ed_k’
,

2035 
cÜ»ù
,

2036 
md_İcode
 
İ
,

2037 #ifdeà
SMT_SS


2038 
b´ed_upd©e_t
 *
dœ_upd©e_±r
,

2039 
th»adid
, 
btb_th»adid


2042 
b´ed_upd©e_t
 *
	gdœ_upd©e_±r
)

2045 
b´ed_btb_’t_t
 *
	gpbtb
 = 
NULL
;

2046 
b´ed_btb_’t_t
 *
	gÌuh—d
 = 
NULL
, *
	gÌu™em
 = NULL;

2047 
	gšdex
, 
	gi
;

2051 #ifdeà
LOAD_PREDICTOR


2052 ià(!(
MD_OP_FLAGS
 (
İ
è& 
	gF_CTRL
è&& (
	g´ed
->
	gşass
 !ğ
LDP»d2b™
))

2055 ià(!(
MD_OP_FLAGS
 (
İ
è& 
	gF_CTRL
))

2061 ià(
	gcÜ»ù
)

2062 
	g´ed
->
	gaddr_h™s
++;

2064 ià(!!
	g´ed_k’
 =ğ!!
k’
)

2065 
´ed
->
dœ_h™s
++;

2067 
	g´ed
->
	gmis£s
++;

2069 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	g¿s
)

2071 
	g´ed
->
	gu£d_¿s
++;

2072 ià(
	gcÜ»ù
)

2073 
	g´ed
->
	g¿s_h™s
++;

2075 ià((
MD_OP_FLAGS
 (
İ
è& (
	gF_CTRL
 | 
	gF_COND
)è=ğ(
F_CTRL
 | 
F_COND
))

2078 
as£¹
 ((
MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
)) != (F_CTRL | F_UNCOND));

2079 ià(
	g´ed
->
	gşass
 =ğ
BP»d2bcgskew
)

2080 
b´ed_2bcgskew_upd©e
 (
´ed
, 
baddr
, 
k’
, 
´ed_k’
,ak’ =ğ´ed_k’, 
dœ_upd©e_±r


2081 #ifdeà
SMT_SS


2082 , 
th»adid


2085 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	gm‘a
)

2086 
	g´ed
->
	gu£d_2Ëv
++;

2088 
	g´ed
->
	gu£d_bimod
++;

2091 ià(
	gcombšed2
)

2094 ià(!
my¡ricmp
 (
´ed_ty³2
, "2bcgskew"))

2095 
b´ed_2bcgskew_upd©e2
 (
´ed
, 
baddr
, 
k’
, 
dœ_upd©e_±r
->
´ed_k’2
,aken == dir_update_ptr->pred_taken2, dir_update_ptr);

2098 
b´ed_upd©e2
 (
´ed
, 
k’
, 
dœ_upd©e_±r
->
´ed_k’2
, 
baddr
, 
İ
, dir_update_ptr);

2100 
·nic
 ("bpred_2bcgskew_update2‡nd bpred_update2‚ot…resent.");

2114 ià(
MD_IS_INDIR
 (
İ
))

2116 
	g´ed
->
	gjr_£’
++;

2117 ià(
	gcÜ»ù
)

2118 
	g´ed
->
	gjr_h™s
++;

2120 ià(!
	gdœ_upd©e_±r
->
	gdœ
.
	g¿s
)

2122 
	g´ed
->
	gjr_nÚ_¿s_£’
++;

2123 ià(
	gcÜ»ù
)

2124 
	g´ed
->
	gjr_nÚ_¿s_h™s
++;

2134 ià(
	g´ed
->
	gşass
 =ğ
BP»dNÙTak’
 || 
´ed
->
şass
 =ğ
BP»dTak’
)

2138 #ifdeà
LOAD_PREDICTOR


2139 ià(
	g´ed
->
	gşass
 =ğ
LDP»d2b™
)

2141 ià(
dœ_upd©e_±r
->
pdœ1
)

2143 ià(
k’
)

2145 ià(*
dœ_upd©e_±r
->
pdœ1
 < 3)

2146 ++ * 
dœ_upd©e_±r
->
pdœ1
;

2150 ià(*
	gdœ_upd©e_±r
->
	gpdœ1
 > 0)

2151 *
	gdœ_upd©e_±r
->
	gpdœ1
 = 0;

2163 #ifdeà
SMT_SS


2164 #ifdeà
RAS_BUG_COMPATIBLE


2166 ià(
MD_IS_CALL
 (
İ
è&& 
	g´ed
->
	g»t¡ack
[
th»adid
].
	gsize
)

2168 
	g´ed
->
	g»t¡ack
[
th»adid
].
	gtos
 = (
´ed
->
»t¡ack
[th»adid].
tos
 + 1è%…»d->»t¡ack[th»adid].
size
;

2169 
	g´ed
->
	g»t¡ack
[
th»adid
].
	g¡ack
[
´ed
->
»t¡ack
[th»adid].
	gtos
].
	grg‘
 = 
baddr
 +  (
md_š¡_t
);

2170 
	g´ed
->
	g»t¡ack_pushes
++;

2174 #ifdeà
RAS_BUG_COMPATIBLE


2176 ià(
MD_IS_CALL
 (
İ
è&& 
	g´ed
->
	g»t¡ack
.
	gsize
)

2178 
	g´ed
->
	g»t¡ack
.
	gtos
 = (
´ed
->
»t¡ack
.
tos
 + 1è%…»d->»t¡ack.
size
;

2179 
	g´ed
->
	g»t¡ack
.
	g¡ack
[
´ed
->
»t¡ack
.
tos
].
	grg‘
 = 
baddr
 +  (
md_š¡_t
);

2180 
	g´ed
->
	g»t¡ack_pushes
++;

2188 ià(!
	ghi¡_imm
 && (
MD_OP_FLAGS
 (
İ
è& (
	gF_CTRL
 | 
	gF_UNCOND
)è!ğ(
F_CTRL
 | 
F_UNCOND
è&& (
´ed
->
şass
 =ğ
BP»d2Lev–
 ||…»d->şas =ğ
BP»dComb
))

2190 
l1šdex
, 
shiá_»g
;

2193 
	gl1šdex
 = (
baddr
 >> 
MD_BR_SHIFT
è& (
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
l1size
 - 1);

2194 #ifdeà
SMT_SS


2195 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
shiá»gs
[
th»adid
][
l1šdex
] << 1è| (!!
k’
);

2196 
	g´ed
->
	gdœ´ed
.
	gtwŞev
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[
th»adid
][
l1šdex
] =

2198 
shiá_»g
 ;

2200 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
twŞev
->
cÚfig
.
two
.
shiá»gs
[
l1šdex
] << 1è| (!!
k’
);

2201 
	g´ed
->
	gdœ´ed
.
	gtwŞev
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[
l1šdex
] =

2203 
shiá_»g
 ;

2207 ià(
	ghi¡_imm
 && 
	gcombšed2
 && (
	gk’
 =ğ
´ed_k’
è&& (
MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
)) != (F_CTRL | F_UNCOND))

2208 
b´ed_upd©e_hi¡Üy1
 (
´ed
, 
k’
, 
baddr
, 
dœ_upd©e_±r


2209 #ifdeà
SMT_SS


2210 , 
th»adid


2214 ià(!
	ghi¡_imm
 && (
MD_OP_FLAGS
 (
İ
è& (
	gF_CTRL
 | 
	gF_UNCOND
)è!ğ(
F_CTRL
 | 
F_UNCOND
è&& (
´ed
->
şass
 =ğ
BP»dComb2
))

2216 
l1šdex
, 
shiá_»g
;

2219 
	gl1šdex
 = (
baddr
 >> 
MD_BR_SHIFT
è& (
´ed
->
dœ´ed
.
twŞev1
->
cÚfig
.
two
.
l1size
 - 1);

2220 #ifdeà
SMT_SS


2221 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
twŞev1
->
cÚfig
.
two
.
shiá»gs
[
th»adid
][
l1šdex
] << 1è| (!!
k’
);

2222 
	g´ed
->
	gdœ´ed
.
	gtwŞev1
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[
th»adid
][
l1šdex
] = 
shiá_»g
 ;

2224 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
twŞev1
->
cÚfig
.
two
.
shiá»gs
[
l1šdex
] << 1è| (!!
k’
);

2225 
	g´ed
->
	gdœ´ed
.
	gtwŞev1
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[
l1šdex
] = 
shiá_»g
 ;

2228 
	gl1šdex
 = (
baddr
 >> 
MD_BR_SHIFT
è& (
´ed
->
dœ´ed
.
twŞev12
->
cÚfig
.
two
.
l1size
 - 1);

2229 #ifdeà
SMT_SS


2230 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
twŞev12
->
cÚfig
.
two
.
shiá»gs
[
th»adid
][
l1šdex
] << 1è| (!!
k’
);

2231 
	g´ed
->
	gdœ´ed
.
	gtwŞev12
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[
th»adid
][
l1šdex
] = 
shiá_»g
 ;

2233 
	gshiá_»g
 = (
´ed
->
dœ´ed
.
twŞev12
->
cÚfig
.
two
.
shiá»gs
[
l1šdex
] << 1è| (!!
k’
);

2234 
	g´ed
->
	gdœ´ed
.
	gtwŞev12
->
	gcÚfig
.
	gtwo
.
	gshiá»gs
[
l1šdex
] = 
shiá_»g
 ;

2241 ià(
	gk’
)

2243 
	gšdex
 = (
baddr
 >> 
MD_BR_SHIFT
è& (
´ed
->
btb
.
£ts
 - 1);

2245 ià(
	g´ed
->
	gbtb
.
	gassoc
 > 1)

2247 
	gšdex
 *ğ
´ed
->
btb
.
assoc
;

2251 
	gi
 = 
šdex
; i < (
	gšdex
 + 
	g´ed
->
	gbtb
.
	gassoc
); i++)

2253 #ifdeà
SMT_SS


2254 ià((
	g´ed
->
	gbtb
.
	gbtb_d©a
[
i
].
	gaddr_id
.
	gaddr
 =ğ
baddr
è&& (
´ed
->
btb
.
btb_d©a
[i].
addr_id
.
th»adid
 =ğ
btb_th»adid
))

2256 ià(
´ed
->
btb
.
btb_d©a
[
i
].
addr
 =ğ
baddr
)

2260 
as£¹
 (!
pbtb
);

2261 
	gpbtb
 = &
´ed
->
btb
.
btb_d©a
[
i
];

2264 
das£¹
 (
´ed
->
btb
.
btb_d©a
[
i
].
´ev
 !ğ´ed->btb.btb_d©a[i].
Ãxt
);

2265 ià(
	g´ed
->
	gbtb
.
	gbtb_d©a
[
i
].
	g´ev
 =ğ
NULL
)

2268 
das£¹
 (
Ìuh—d
 =ğ
NULL
);

2269 
	gÌuh—d
 = &
´ed
->
btb
.
btb_d©a
[
i
];

2271 ià(
	g´ed
->
	gbtb
.
	gbtb_d©a
[
i
].
	gÃxt
 =ğ
NULL
)

2274 
das£¹
 (
Ìu™em
 =ğ
NULL
);

2275 
	gÌu™em
 = &
´ed
->
btb
.
btb_d©a
[
i
];

2278 
das£¹
 (
Ìuh—d
 && 
Ìu™em
);

2280 ià(!
	gpbtb
)

2282 
	gpbtb
 = 
Ìu™em
;

2288 ià(
	gpbtb
 !ğ
Ìuh—d
)

2291 ià(
pbtb
->
´ev
)

2292 
pbtb
->
´ev
->
Ãxt
 =…btb->next;

2293 ià(
	gpbtb
->
	gÃxt
)

2294 
	gpbtb
->
	gÃxt
->
	g´ev
 = 
pbtb
->
´ev
;

2296 
	gpbtb
->
	gÃxt
 = 
Ìuh—d
;

2297 
	gpbtb
->
	g´ev
 = 
NULL
;

2298 
	gÌuh—d
->
	g´ev
 = 
pbtb
;

2299 
das£¹
 (
pbtb
->
´ev
 ||…btb->
Ãxt
);

2300 
das£¹
 (
pbtb
->
´ev
 !ğpbtb->
Ãxt
);

2305 
	gpbtb
 = &
´ed
->
btb
.
btb_d©a
[
šdex
];

2309 ià(
	g´ed
->
	gşass
 !ğ
BP»d2bcgskew
 && 
´ed
->
şass
 !ğ
BP»dComb2
)

2318 ià(
dœ_upd©e_±r
->
pdœ1
)

2320 ià(
k’
)

2322 ià(*
dœ_upd©e_±r
->
pdœ1
 < 3)

2323 ++ * 
dœ_upd©e_±r
->
pdœ1
;

2327 ià(*
	gdœ_upd©e_±r
->
	gpdœ1
 > 0)

2328 -- * 
	gdœ_upd©e_±r
->
	gpdœ1
;

2334 ià(
	gdœ_upd©e_±r
->
	gpdœ2
)

2336 ià(
	gk’
)

2338 ià(*
	gdœ_upd©e_±r
->
	gpdœ2
 < 3)

2339 ++ * 
	gdœ_upd©e_±r
->
	gpdœ2
;

2343 ià(*
	gdœ_upd©e_±r
->
	gpdœ2
 > 0)

2344 -- * 
	gdœ_upd©e_±r
->
	gpdœ2
;

2349 ià(
	gdœ_upd©e_±r
->
	gpm‘a
)

2351 ià(
	gdœ_upd©e_±r
->
	gdœ
.
	gbimod
 !ğ
dœ_upd©e_±r
->
dœ
.
twŞev
)

2354 ià(
dœ_upd©e_±r
->
dœ
.
twŞev
 =ğ(è
k’
)

2357 ià(*
dœ_upd©e_±r
->
pm‘a
 < 3)

2358 ++ * 
dœ_upd©e_±r
->
pm‘a
;

2363 ià(*
	gdœ_upd©e_±r
->
	gpm‘a
 > 0)

2364 -- * 
	gdœ_upd©e_±r
->
	gpm‘a
;

2371 ià(
	gpbtb
)

2374 
das£¹
 (
k’
);

2376 #ifdeà
SMT_SS


2377 ià((
	gpbtb
->
	gaddr_id
.
	gaddr
 =ğ
baddr
è&& (
pbtb
->
addr_id
.
th»adid
 =ğ
btb_th»adid
))

2379 ià(
pbtb
->
addr
 =ğ
baddr
)

2382 ià(!
cÜ»ù
)

2383 
pbtb
->
rg‘
 = 
brg‘
;

2388 #ifdeà
SMT_SS


2389 
	gpbtb
->
	gaddr_id
.
	gaddr
 = 
baddr
;

2390 
	gpbtb
->
	gaddr_id
.
	gth»adid
 = 
btb_th»adid
;

2392 
	gpbtb
->
	gaddr
 = 
baddr
;

2394 
	gpbtb
->
	gİ
 = 
İ
;

2395 
	gpbtb
->
	grg‘
 = 
brg‘
;

	@bpred.h

153 #iâdeà
BPRED_H


154 
	#BPRED_H


	)

156 
	#das£¹
(
a
è
	`as£¹
×)

	)

158 
	~<¡dio.h
>

160 
	~"ho¡.h
"

161 
	~"misc.h
"

162 
	~"machše.h
"

163 
	~"¡©s.h
"

165 
	~"smt.h
"

210 
	eb´ed_şass
 {

211 
	mBP»dComb
,

212 
	mBP»d2Lev–
,

213 
	mBP»d2b™
,

214 #ifdeà
LOAD_PREDICTOR


215 
	mLDP»d2b™
,

217 
	mBP»dTak’
,

218 
	mBP»dNÙTak’
,

221 
	mBP»dARVI
,

222 
	mBP»dComb2
,

223 
	mBP»d2bcgskew
,

225 
	mBP»d_NUM


228 #ifdeà
SMT_SS


229 
	saddr_id_t


231 
	mth»adid
;

232 
md_addr_t
 
	maddr
;

237 
	sb´ed_btb_’t_t
 {

238 #ifdeà
SMT_SS


239 
addr_id_t
 
	maddr_id
;

241 
md_addr_t
 
	maddr
;

243 
md_İcode
 
	mİ
;

244 
md_addr_t
 
	mrg‘
;

245 
b´ed_btb_’t_t
 *
	m´ev
, *
	mÃxt
;

249 
	sb´ed_dœ_t
 {

250 
b´ed_şass
 
	mşass
;

253 
	msize
;

254 *
	mbË
;

255 } 
	mbimod
;

257 
	ml1size
;

258 
	ml2size
;

259 
	mshiá_width
;

260 
	mxÜ
;

261 #ifdeà
SMT_SS


262 *
	mshiá»gs
[
MAXTHREADS
];

264 *
	mshiá»gs
;

266 *
	ml2bË
;

267 } 
	mtwo
;

270 
	msize
;

271 
	mlog_size
;

272 #ifdeà
SMT_SS


273 
	mshiá»g
[
MAXTHREADS
];

275 
	mshiá»g
;

277 *
	mbË
;

278 
	mshiá_width
;

279 } 
	mbªk
;

280 } 
	mcÚfig
;

284 
	sb´ed_t
 {

285 
b´ed_şass
 
	mşass
;

287 
b´ed_dœ_t
 *
	mbimod
;

288 
b´ed_dœ_t
 *
	mtwŞev
;

289 
b´ed_dœ_t
 *
	mm‘a
;

292 
b´ed_dœ_t
 *
	mbimod2
;

293 
b´ed_dœ_t
 *
	mtwŞev2
;

294 
b´ed_dœ_t
 *
	mm‘a2
;

295 
bv™_t
 *
	mb_šfo_t
;

298 
b´ed_dœ_t
 *
	mtwŞev1
;

299 
b´ed_dœ_t
 *
	mtwŞev12
;

302 
b´ed_dœ_t
 *
	mbim1
;

303 
b´ed_dœ_t
 *
	mg01
;

304 
b´ed_dœ_t
 *
	mg11
;

306 
b´ed_dœ_t
 *
	mbim2
;

307 
b´ed_dœ_t
 *
	mg02
;

308 
b´ed_dœ_t
 *
	mg12
;

310 } 
	mdœ´ed
;

313 
	m£ts
;

314 
	massoc
;

315 
b´ed_btb_’t_t
 *
	mbtb_d©a
;

316 } 
	mbtb
;

319 
	msize
;

320 
	mtos
;

321 
b´ed_btb_’t_t
 *
	m¡ack
;

322 #ifdeà
SMT_SS


323 } 
	m»t¡ack
[
MAXTHREADS
];

325 } 
	m»t¡ack
;

329 
couÁ”_t
 
	maddr_h™s
;

330 
couÁ”_t
 
	mdœ_h™s
;

331 
couÁ”_t
 
	mu£d_¿s
;

332 
couÁ”_t
 
	mu£d_bimod
;

333 
couÁ”_t
 
	mu£d_2Ëv
;

334 
couÁ”_t
 
	mjr_h™s
;

335 
couÁ”_t
 
	mjr_£’
;

336 
couÁ”_t
 
	mjr_nÚ_¿s_h™s
;

337 
couÁ”_t
 
	mjr_nÚ_¿s_£’
;

338 
couÁ”_t
 
	mmis£s
;

340 
couÁ”_t
 
	mlookups
;

341 
couÁ”_t
 
	m»t¡ack_pİs
;

342 
couÁ”_t
 
	m»t¡ack_pushes
;

343 
couÁ”_t
 
	m¿s_h™s
;

347 
	sb´ed_upd©e_t
 {

348 *
	mpdœ1
;

349 *
	mpdœ2
;

350 *
	mpm‘a
;

353 *
	mpdœ12
;

354 *
	mpdœ22
;

355 *
	mpm‘a2
;

358 *
	mpdœ3
;

359 *
	mpdœ32
;

361 
	m´ed_k’
 : 1;

362 
	m´ed_k’2
 : 1;

363 
	mtwŞev2_u£d
 : 1;

365 
	mhi¡_shiá_out
 : 1;

366 
	mhi¡_shiá_out2
 : 1;

367 
	mhi¡_b_šdx
;

369 
	mbuck‘_šdex
;

372 
	mhi¡Üy
;

373 
	mhi¡Üy2
;

376 
	mb¿nch_2
;

378 
md_addr_t
 *
	m¡ack
;

381 
	m¿s
 : 1;

382 
	mbimod
 : 1;

383 
	mtwŞev
 : 1;

384 
	mtwŞev2
 : 1;

385 
	mtwŞev1
 : 1;

386 
	mtwŞev12
 : 1;

387 
	mm‘a
 : 1;

388 
	mm‘a2
 : 1;

390 
	mbim1
 : 1;

391 
	mg01
 : 1;

392 
	mg11
 : 1;

393 
	mbim2
 : 1;

394 
	mg02
 : 1;

395 
	mg12
 : 1;

397 } 
	mdœ
;

401 
b´ed_t
 *

402 
b´ed_ü—‹
(
b´ed_şass
 
şass
,

403 
bimod_size
,

404 
l1size
,

405 
l2size
,

406 
m‘a_size
,

407 
shiá_width
,

408 
xÜ
,

409 
btb_£ts
,

410 
btb_assoc
,

411 
»t¡ack_size
);

414 
b´ed_t
 *

415 
b´ed_2bcgskew_ü—‹
Ğ 
bimod_size
,

416  
size
,

417  
shiá_width_bimod
,

418  
shiá_width_g0
,

419  
shiá_width_g1
,

420  
shiá_width_m‘a
,

421  
btb_£ts
,

422  
btb_assoc
,

423  
¿s_size
);

425 
b´ed_2bcgskew_ü—‹2
Ğ 
bimod_size
,

426  
size
,

427  
shiá_width_bimod
,

428  
shiá_width_g0
,

429  
shiá_width_g1
,

430  
shiá_width_m‘a
,

431  
b´ed_t
 *
´ed
);

434 
b´ed_upd©e_hi¡Üy
(
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r


435 #ifdeà
SMT_SS


436 , 
th»adid


442 
b´ed_upd©e_hi¡Üy1
(
b´ed_t
 *
´ed
, 
k’
, 
md_addr_t
 
baddr
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r


443 #ifdeà
SMT_SS


444 , 
th»adid


449 #ifdeà
SMT_SS


450 
b´ed_2bcgskew_lookup
(
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r
, 
md_addr_t
 
baddr
, 
th»adid
);

452 
b´ed_2bcgskew_lookup
(
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r
, 
md_addr_t
 
baddr
);

455 
b´ed_2bcgskew_lookup2
(
b´ed_t
 *
´ed
, 
b´ed_upd©e_t
 *
dœ_upd©e_±r
, 
md_addr_t
 
baddr
);

460 
b´ed_2bcgskew_upd©e
(
b´ed_t
 *
´ed
,

461 
md_addr_t
 
baddr
,

462 
k’
,

463 
´ed_k’
,

464 
cÜ»ù
,

465 
b´ed_upd©e_t
 *
dœ_upd©e_±r


466 #ifdeà
SMT_SS


467 , 
th»adid


473 
b´ed_2bcgskew_upd©e2
(
b´ed_t
 *
´ed
,

474 
md_addr_t
 
baddr
,

475 
k’
,

476 
´ed_k’
,

477 
cÜ»ù
,

478 
b´ed_upd©e_t
 *
dœ_upd©e_±r
);

481 
b´ed_dœ_t
 *

482 
b´ed_dœ_ü—‹
 (

483 
b´ed_şass
 
şass
,

484 
l1size
,

485 
l2size
,

486 
shiá_width
,

487 
xÜ
);

491 
b´ed_cÚfig
(
b´ed_t
 *
´ed
,

492 
FILE
 *
¡»am
);

496 
b´ed_¡©s
(
b´ed_t
 *
´ed
,

497 
FILE
 *
¡»am
);

501 
b´ed_»g_¡©s
(
b´ed_t
 *
´ed
,

502 
¡©_sdb_t
 *
sdb
, 
th»adid
);

505 
b´ed_aá”_´imšg
(
b´ed_t
 *
b´ed
);

514 
md_addr_t


515 
b´ed_lookup
(
b´ed_t
 *
´ed
,

516 
md_addr_t
 
baddr
,

517 
md_addr_t
 
brg‘
,

518 
md_İcode
 
İ
,

519 
is_ÿÎ
,

520 
is_»tuº
,

521 
b´ed_upd©e_t
 *
dœ_upd©e_±r
,

522 #ifdeà
SMT_SS


523 *
¡ack_»cov”_idx
,

525 
th»adid
,

526 
btb_th»adid


529 *
	g¡ack_»cov”_idx
);

538 
b´ed_»cov”
(
b´ed_t
 *
´ed
,

539 
md_addr_t
 
baddr
,

540 #ifdeà
SMT_SS


541 
¡ack_»cov”_idx
,

543 
th»adid
);

545 
	g¡ack_»cov”_idx
);

558 
b´ed_upd©e
(
b´ed_t
 *
´ed
,

559 
md_addr_t
 
baddr
,

560 
md_addr_t
 
brg‘
,

561 
k’
,

562 
´ed_k’
,

563 
cÜ»ù
,

564 
md_İcode
 
İ
,

565 #ifdeà
SMT_SS


566 
b´ed_upd©e_t
 *
dœ_upd©e_±r
,

567 
th»adid
,

568 
btb_th»adid


571 
b´ed_upd©e_t
 *
	gdœ_upd©e_±r
);

575 #ifdeà
foo0


579 
b´ed_dump
(
b´ed_t
 *
´ed
,

580 
FILE
 *
¡»am
);

	@branchCorr.c

1 
	~"b¿nchCÜr.h
"

2 
	~"cÚ‹xt.h
"

4 #ifdef 
EDA


5 
mem_Ït
[2];

6 
ÿche_dl2_Ït
;

7 
ÿche_dl1_Ït
;

8 
couÁ”_t
 
sim_cyşe
;

10 
	$š™B¿nchCÜr
(
b¿nchCÜr
 *
pQ
)

12 
j
;

13 
pQ
->
boqSize
 = 
»®MaxSize
;

14 
pQ
->
cÜrH—d
 = 0;

15 
pQ
->
cÜrCu¼’tH—d
 = 0;

16 
pQ
->
cÜrTa
 = 0;

17 
pQ
->
cÜrNum
 = 0;

18 
pQ
->
tÙ®Num
 = 0;

19 
pQ
->
šdBrNum
 = 0;

20 
pQ
->
Ï¡UpdtCyşe
 = 0;

22 
j
 = 0; j < 
brCÜrSize
; j++)

24 
pQ
->
bI
[
j
].
id
 = j;

26 
	}
}

28 
	$»£tQueue
(
b¿nchCÜr
 *
pQ
)

30 
pQ
->
cÜrH—d
 = 0;

31 
pQ
->
cÜrCu¼’tH—d
 = 0;

32 
pQ
->
cÜrTa
 = 0;

33 
pQ
->
cÜrNum
 = 0;

34 
pQ
->
tÙ®Num
 = 0;

35 
pQ
->
šdBrNum
 = 0;

36 
	}
}

38 
	$pushB¿nchP»d
(
b¿nchCÜr
 *
pQ
, 
b¿nchIn¡
 **
b¿nch
, 
md_İcode
 
İ
)

40 if(
pQ
->
tÙ®Num
 >ğpQ->
boqSize
)

42 
	`·nic
("Branch Prediction Queue is‡ctually full. There would be†oss of branches‚ow. Needo increasehe size of queue orƒxtraoleration in queue.\n");

47 *
b¿nch
 = &
pQ
->
bI
[pQ->
cÜrTa
];

48 
pQ
->
cÜrNum
++;

49 
pQ
->
tÙ®Num
++;

50 if((
İ
 =ğ
JMP
è|| (İ =ğ
JSR
è|| (İ =ğ
RETN
è|| (İ =ğ
JSR_COROUTINE
))

51 
pQ
->
šdBrNum
++;

53 
pQ
->
cÜrTa
 = (pQ->cÜrTa+1)%
brCÜrSize
;

55 
	}
}

57 
	$pİB¿nchP»d
(
b¿nchCÜr
 *
pQ
, 
b¿nchIn¡
 **
b¿nch
)

59 if(
pQ
->
cÜrNum
 == 0)

61 *
b¿nch
 = 
NULL
;

65 
pQ
->
cÜrNum
--;

66 *
b¿nch
 = &
pQ
->
bI
[pQ->
cÜrCu¼’tH—d
];

67 
pQ
->
cÜrCu¼’tH—d
 = (pQ->cÜrCu¼’tH—d+1)%
brCÜrSize
;

69 
	}
}

71 
	$comm™P»diùiÚ
(
b¿nchCÜr
 *
pQ
, 
šdex
)

73 if(
šdex
 !ğ
pQ
->
cÜrH—d
)

75 if(
pQ
->
bI
[
šdex
].
š¡Ty³
 =ğ
TYPE_INST_BARRIER
 ||…Q->bI[šdex].š¡Ty³ =ğ
TYPE_LOCK_ACQUIRE
)

78 
	`·nic
("Prediction Indexing messed up");

82 
md_İcode
 
İ
 = 
pQ
->
bI
[
šdex
].op;

83 if((
İ
 =ğ
JMP
è|| (İ =ğ
JSR
è|| (İ =ğ
RETN
è|| (İ =ğ
JSR_COROUTINE
))

84 
pQ
->
šdBrNum
--;

85 
pQ
->
cÜrH—d
 = (pQ->cÜrH—d+1)%
brCÜrSize
;

86 
pQ
->
tÙ®Num
--;

88 
	}
}

90 
	$dynCÚfBOQSize
(
b¿nchCÜr
 *
pQ
)

92 if(
pQ
->
bIÁrvCouÁ
 < 
B_SIZE_UPDT_ITRV
)

93 
pQ
->
bIÁrvCouÁ
++;

96 
queueSize
 = (1*
B_SIZE_UPDT_ITRV
*(
mem_Ït
[0]+
ÿche_dl2_Ït
+
ÿche_dl1_Ït
))/(
sim_cyşe
-
pQ
->
Ï¡UpdtCyşe
);

97 
pQ
->
Ï¡UpdtCyşe
 = 
sim_cyşe
;

98 
pQ
->
bIÁrvCouÁ
 = 0;

99 if(
queueSize
 > 
»®MaxSize
)

100 
pQ
->
boqSize
 = 
»®MaxSize
;

101 if(
queueSize
 > 10)

102 
pQ
->
boqSize
 = 
queueSize
;

104 
pQ
->
boqSize
 = 10;

106 
	}
}

108 
	$queueSize
(
b¿nchCÜr
 *
pQ
)

110 if(
pQ
->
šdBrNum
 >ğ
IND_JMP_SIZE
)  -1;

111 if(
pQ
->
tÙ®Num
 >ğpQ->
boqSize
)  -1;

112  
pQ
->
tÙ®Num
;

113 
	}
}

115 
	$»cov”P»dQueue
(
b¿nchCÜr
 *
pQ
, 
boqIndex
)

118 
boqIndex
 = (boqIndex+1)%
brCÜrSize
;

120 
pQ
->
cÜrCu¼’tH—d
 !ğ
boqIndex
)

122 
pQ
->
cÜrNum
++;

123 
pQ
->
cÜrCu¼’tH—d
 = (pQ->cÜrCu¼’tH—d + 
brCÜrSize
 - 1)%brCorrSize;

125 
	}
}

	@branchCorr.h

1 #iâdeà
__BRANCHCORR_H__


2 
	#__BRANCHCORR_H__


	)

4 
	~"machše.h
"

5 
	~"ho¡.h
"

6 
	~"misc.h
"

8 
	#brCÜrSize
 1024

	)

9 
	#»®MaxSize
 512

	)

10 
	#IND_JMP_SIZE
 32

	)

11 
	#HIGHDRAGCOUNT
 100

	)

12 
	#B_SIZE_UPDT_ITRV
 512

	)

16 
	mid
;

17 
md_š¡_t
 
	mš¡
;

18 
md_İcode
 
	mİ
;

19 
md_addr_t
 
	mPC
;

20 
md_addr_t
 
	mNPC
;

21 
couÁ”_t
 
	mtime
;

22 
couÁ”_t
 
	msim_num_š¢
;

23 
	mš¡Ty³
;

24 } 
	tb¿nchIn¡
;

28 
b¿nchIn¡
 
	mbI
[
brCÜrSize
];

29 
	mboqSize
;

30 
	mcÜrNum
;

31 
	mtÙ®Num
;

32 
	mšdBrNum
;

33 
	mcÜrH—d
;

34 
	mcÜrCu¼’tH—d
;

35 
	mcÜrTa
;

37 
	mbIÁrvCouÁ
;

38 
couÁ”_t
 
	mÏ¡UpdtCyşe
;

39 } 
	tb¿nchCÜr
;

42 
š™B¿nchCÜr
(
b¿nchCÜr
 *
pQ
);

43 
»£tQueue
(
b¿nchCÜr
 *
pQ
);

44 
pushB¿nchP»d
(
b¿nchCÜr
 *
pQ
, 
b¿nchIn¡
 **
b¿nch
, 
md_İcode
 
İ
);

45 
pİB¿nchP»d
(
b¿nchCÜr
 *
pQ
, 
b¿nchIn¡
 **
b¿nch
);

46 
comm™P»diùiÚ
(
b¿nchCÜr
 *
pQ
, 
šdex
);

47 
queueSize
(
b¿nchCÜr
 *
pQ
);

48 
»cov”P»dQueue
(
b¿nchCÜr
 *
pQ
, 
boqIndex
);

	@cache.c

60 
	~<¡dio.h
>

61 
	~<¡dlib.h
>

62 
	~<as£¹.h
>

64 
	~"h—d”s.h
"

68 
	#CACHE_BADDR
(
ı
, 
addr
è(×ddrè& ~(ı)->
blk_mask
)

	)

69 
	#CACHE_MK_BADDR
(
ı
, 
g
, 
£t
è\

	)

70 (((
	gg
è<< (
	gı
)->
	gg_shiá
)|((
	g£t
è<< (ı)->
	g£t_shiá
))

72 
	#CACHE_MK1_BADDR
(
ı
, 
g
, 
£t
è\

	)

73 ((((
	gg
è<< (
	gı
)->
	gg_shiá
)/
	gBANKS
)|((
	g£t
è<< (ı)->
	g£t_shiá
))

75 
	#CACHE_MK2_BADDR
(
ı
, 
g
, 
£t
è\

	)

76 (((
	gg
è<< ((
	gı
)->
	gg_shiá
 - (
log_ba£2
(
»s_membªk
)-log_ba£2(
n_ÿche_lim™_thrd
[
th»adid
])) ))| \

77 ((
	g£t
è<< ((
	gı
)->
	g£t_shiá
 - (
log_ba£2
(
»s_membªk
)-
	$log_ba£2
(
n_ÿche_lim™_thrd
[
th»adid
])) )))

81 
	#CACHE_BINDEX
(
ı
, 
blks
, 
i
è\

	)

82 ((
ÿche_blk_t
 *)(((*)(
blks
)) + \

83 (
i
)*((
ÿche_blk_t
) + \

84 ((
ı
)->
b®loc
 \

85 ? (
ı
)->
bsize
*(
by‹_t
) : 0))))

88 
	#__CACHE_ACCESS
(
ty³
, 
d©a
, 
bofs
è\

	)

89 (*((
ty³
 *)(((*)
d©a
è+ (
bofs
))))

92 
	#CACHE_DOUBLE
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

93 
	#CACHE_FLOAT
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

94 
	#CACHE_WORD
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

95 
	#CACHE_HALF
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

96 
	#CACHE_BYTE
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

101 
	#CACHE_HASH
(
ı
, 
key
è\

	)

102 (((
key
 >> 24è^ (key >> 16è^ (key >> 8è^ keyè& ((
ı
)->
hsize
-1))

105 
	#CACHE_BCOPY
(
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
è\

	)

106 ià(
cmd
 =ğ
R—d
) \

108 
nby‹s
) { \

110 *((
by‹_t
 *)
p
èğ
	`CACHE_BYTE
(&
blk
->
d©a
[0], 
bofs
); ; \

112 *((
h®f_t
 *)
p
èğ
	`CACHE_HALF
(&
blk
->
d©a
[0], 
bofs
); ; \

114 *((
wÜd_t
 *)
p
èğ
	`CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
); ; \

117 
wÜds
 = 
nby‹s
 >> 2; \

118 
wÜds
-- > 0) \

120 *((
wÜd_t
 *)
p
èğ
	`CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
); \

121 
p
 +ğ4; 
bofs
 += 4; \

125 
	}
}\

128 
	gnby‹s
) { \

130 
CACHE_BYTE
(&
blk
->
d©a
[0], 
bofs
èğ*((
by‹_t
 *)
p
); ; \

132 
CACHE_HALF
(&
blk
->
d©a
[0], 
bofs
èğ*((
h®f_t
 *)
p
); ; \

134 
CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
èğ*((
wÜd_t
 *)
p
); ; \

137 
wÜds
 = 
nby‹s
 >> 2; \

138 
	gwÜds
-- > 0) \

140 
CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
èğ*((
wÜd_t
 *)
p
); \

141 
	gp
 +ğ4; 
	gbofs
 += 4; \

148 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

152 
	#BANKS
 16

	)

158 #ifdeà
CROSSBAR_INTERCONNECT


159 
	gbusSlÙCouÁ
 = 
BUSSLOTS
 * 
NUMBEROFBUSES
;

160 
busU£d
;

161 
couÁ”_t
 
busOccu·ncy
;

162 
bs_nd
 *
	gbusNodePoŞ
;

163 
bs_nd
 *
	güossb¬SndHd
[3][
MAXTHREADS
], *
	güossb¬RcvHd
[3][MAXTHREADS];

164 
couÁ”_t
 
	g£ndCouÁ
[3][
MAXTHREADS
], 
	grcvCouÁ
[3][MAXTHREADS];

166 
couÁ”_t
 
dÿche2_acûss
;

168 #ifdeà
BUS_INTERCONNECT


169 
	gbusSlÙCouÁ
 = 
BUSSLOTS
 * 
NUMBEROFBUSES
;

170 
busU£d
;

171 
couÁ”_t
 
busOccu·ncy
;

172 
bs_nd
 *
	gbusNodePoŞ
, *
	gbusNodesInU£
[
NUMBEROFBUSES
];

176 
	gdl1Çme
[20];

177 
ÿche_t
 *
db
[
CLUSTERS
];

180 
	#L2_TRACE


	)

181 #ifdeà
L2_TRACE


182 * 
L2_Œaû
;

185 #ifdeà
GHB


188 
	sd–_couÁ_t


190 
v®id
;

191 
sqwÜd_t
 
d–
;

192 
couÁ
;

194 
d–_couÁ_t
 
d–_couÁ
[
GHB_Size
];

196 
	sd–_šdex_’Œy


198 
v®id
;

199 
numb”
;

200 
sqwÜd_t
 
d–
;

201 
ghb_num
;

202 
couÁ”_t
 
times
;

205 
	sg_šdex_’Œy


207 
v®id
;

208 
numb”
;

209 
md_addr_t
 
g
;

210 
md_addr_t
 
´ed_g
;

213 
	sghb_’Œy


215 
v®id
;

216 
numb”
;

217 
md_addr_t
 
miss_addr
;

219 
sqwÜd_t
 
d–
;

220 
ghb_num_d–
;

222 
md_addr_t
 
g
;

223 
ghb_num_g
;

225 
couÁed
;

226 
couÁ”_t
 
wh’
;

229 
d–_šdex_’Œy
 
d–_šdex_bË
[
MAXTHREADS
][
DELTA_INDEX_TABLE_Size
];

230 
g_šdex_’Œy
 
g_šdex_bË
[
MAXTHREADS
][
TAG_INDEX_TABLE_Size
];

231 
ghb_’Œy
 
ghb
[
MAXTHREADS
][
GHB_Size
];

232 
GHB_h—d
[
MAXTHREADS
];

234 
ÿche_dl1_Ït
;

235 
ÿche_1_Ït
;

236 
ÿche_ml2_Ït
;

237 
ÿche_dl2_Ït
;

238 
mesh_size
;

241 
	gmb_·š_couÁ
 = 0;

243 
b_c_c
;

244 
muÉi_blk_£t_shiá
;

245 
muÉi_blk_ad­_’
;

246 
muÉi_blk_ad­_šfÜm_’
;

247 
mb_·š_’
;

248 
shr_»ad_’
;

249 
tÙ®_šfÜm_back_’
;

250 
»¶_ad_’
;

251 
»ÿÎ_ad_’
;

252 
veùÜ_num
;

253 
sh¬”_th»shŞd
;

254 
nv_brßdÿ¡
;

256 
L2_´eãtch_En
;

257 
L1_´eãtch_En
;

259 
STREAM_mš_En
;

261 
STREAM_L2_di¡ªû
;

262 
STREAM_mš_di¡ªû
;

264 
mem_bus_width
;

265 
mem_bus_¥“d
;

266 
mem_pÜt_num
;

267 
	gmax_·ck‘_size
 = 32;

268 
couÁ”_t
 
ÿcheMiss
[
MAXTHREADS
], 
h™InOth”Cache
[MAXTHREADS];

269 
couÁ”_t
 
	gšvŞve_4_hİs
, 
	gšvŞve_2_hİs
, 
	gšvŞve_2_hİ_wb
, 
	gšvŞve_2_hİ_touch
, 
	gšvŞve_2_hİs_wm
, 
	gšvŞve_4_hİs_wm
, 
	gšvŞve_4_hİs_upg¿de
, 
	gšvŞve_2_hİs_upg¿de
;

270 
couÁ”_t
 
	gšvŞve_4_hİs_miss
, 
	gšvŞve_2_hİs_miss
;

271 
couÁ”_t
 
	gd©a_´iv©e_»ad
, 
	gd©a_´iv©e_wr™e
, 
	gd©a_sh¬ed_»ad
, 
	gd©a_sh¬ed_wr™e
;

272 
couÁ”_t
 
lßd_lšk_sh¬ed
, 
lßd_lšk_exşusive
;

273 
couÁ”_t
 
¥ªd
[5];

274 
couÁ”_t
 
downg¿de_w
, 
downg¿de_r
;

276 
couÁ”_t
 
	gtÙ®_®l_şo£
, 
	gtÙ®_®l_®mo¡şo£
, 
	gtÙ®_nÙ_®l_şo£
, 
	gtÙ®_p_c_ev’ts
, 
	gtÙ®_cÚsum”s
, 
	gtÙ®_·ck‘s_š_ÃighbÜ
, 
	gtÙ®_·ck‘s_©_cÜÃrs
;

277 
couÁ”_t
 
	gtÙ®_d©a_©_cÜÃr
, 
	gtÙ®_d©a_şo£
, 
	gtÙ®_d©a_çr
, 
	gtÙ®_d©a_cÚsum”s
;

278 
couÁ”_t
 
	gsh¬”_num
[
MAXTHREADS
];

279 
	gav”age_šside_³rûÁ
;

280 
	gav”age_outside_³rûÁ
;

281 
	gav”age_outside_abs_³rûÁ
;

282 
	gav”age_cÜÃr_³rûÁ
;

283 
couÁ”_t
 
	gwr™e_—¾y
;

284 
dl2Aùu®lyAcûs£d
, 
m¬kedLšeR•Ïûd
;

285 
couÁ”_t
 
tÙ®S¶™WM
, 
tÙ®S¶™No
;

286 
couÁ”_t
 
tÙ®Upg¿desU§bË
, 
tÙ®Upg¿desB’eficŸl
;

288 
aùu®Proûss
;

290 
d©aFoundInPCB
 (
md_addr_t
, , );

291 
šv®id©eOth”PCB
 (
who
, 
id
, 
md_addr_t
 
addr
);

294 
	gdl2_´eãtch_aùive
 = 0;

295 
	gdl2_´eãtch_id
 = 0;

296 
	gdl1_´eãtch_aùive
 = 0;

299 
qu›sûSŒuù
 
qu›sûAddrSŒuù
[
CLUSTERS
];

300 
¥ec_b’chm¬ks
;

301 
»s_poŞ
 *
fu_poŞ
;

302 
ÿche_t
 *
ÿche_dl1
[], *
ÿche_ml2
, *
ÿche_dl2
;

306 
md_addr_t
 
b¬r›r_addr
;

308 
m¬kR—dAá”Wr™e
;

310 
	gÏ‹n
[
BANKS
];

313 
	grm1
 = 0;

314 
	gwm1
 = 0;

315 
	grh1
 = 0;

316 
	gwh1
 = 0;

317 
	grm2
 = 0;

318 
	gwm2
 = 0;

319 
	grh2
 = 0;

320 
	gwh2
 = 0;

322 #ifdeà 
THRD_WAY_CACHE


323 
aùivecÚ‹xts
;

324 
»s_membªk
;

325 
n_ÿche_lim™_thrd
[];

326 
n_ÿche_¡¬t_thrd
[];

327 
COHERENT_CACHE
;

328 
MSI
;

331 
cÚ‹xt
 *
thecÚ‹xts
[
MAXTHREADS
];

334 
couÁ”_t
 
sim_num_š¢
;

335 
execu‹MaxIn¢
;

337 
cŞËù_¡©s
, 
®lFÜked
;

339 #ifdeà 
THRD_WAY_CACHE


340 
š£¹_flq
 (, 
md_addr_t
, );

342 
š£¹_flq
 (, 
md_addr_t
);

345 
numcÚ‹xts
;

346 
nÙRoundRobš
;

348 
RS_li¡
 *
rs_ÿche_li¡
[
MAXTHREADS
][
MSHR_SIZE
];

350 
FILE
 *
å_Œaû
;

351 
DIRECTORY_EVENT
 *
dœ_ev’t_queue
;

352 
DIRECTORY_EVENT
 *
ev’t_li¡
[
L2_MSHR_SIZE
];

353 
couÁ”_t
 
	gÇck_couÁ”
;

354 
couÁ”_t
 
	gnÜm®_Çcks
;

355 
couÁ”_t
 
	gwr™e_Çcks
;

356 
couÁ”_t
 
	g´eãtch_Çcks
;

357 
couÁ”_t
 
	gsync_Çcks
;

358 
couÁ”_t
 
	gæ_couÁ”
;

359 
couÁ”_t
 
	g¡Üe_cÚd™iÚ®_çed
;

360 
couÁ”_t
 
	gL1_æ_couÁ”
;

361 
couÁ”_t
 
	ge_to_m
;

363 
couÁ”_t
 
L1_mshr_fuÎ
;

364 
couÁ”_t
 
Ï¡_L1_mshr_fuÎ
[
MAXTHREADS
];

365 
couÁ”_t
 
L2_mshr_fuÎ
;

366 
couÁ”_t
 
Ï¡_L2_mshr_fuÎ
;

367 
couÁ”_t
 
L2_mshr_fuÎ_´eãtch
;

368 
couÁ”_t
 
L1_fifo_fuÎ
;

369 
couÁ”_t
 
Ï¡_L1_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

370 
couÁ”_t
 
Dœ_fifo_fuÎ
;

371 
couÁ”_t
 
Ï¡_Dœ_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

372 
couÁ”_t
 
IÅut_queue_fuÎ
;

373 
couÁ”_t
 
Ï¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

374 
couÁ”_t
 
Ouut_queue_fuÎ
;

376 
couÁ”_t
 
SÎ_L1_mshr
;

377 
couÁ”_t
 
SÎ_L2_mshr
;

378 
couÁ”_t
 
SÎ_L1_fifo
;

379 
couÁ”_t
 
SÎ_dœ_fifo
;

380 
couÁ”_t
 
SÎ_šput_queue
;

381 
couÁ”_t
 
SÎ_ouut_queue
;

382 
mshr_³ndšg_ev’t
[
MAXTHREADS
];

384 
couÁ”_t
 
WM_Miss
;

385 
couÁ”_t
 
WM_CËª
;

386 
couÁ”_t
 
WM_S
;

387 
couÁ”_t
 
WM_EM
;

388 
couÁ”_t
 
wr™e_sh¬ed_u£d_cÚf
;

390 
couÁ”_t
 
SyncIn¡CacheAcûss
;

391 
couÁ”_t
 
Te¡CacheAcûss
;

392 
couÁ”_t
 
Te¡SecCacheAcûss
;

393 
couÁ”_t
 
S‘CacheAcûss
;

394 
couÁ”_t
 
SyncLßdR—dMiss
;

395 
couÁ”_t
 
SyncLßdLR—dMiss
;

396 
couÁ”_t
 
SyncLßdH™
;

397 
couÁ”_t
 
SyncLßdLH™
;

398 
couÁ”_t
 
SyncStÜeCH™
;

399 
couÁ”_t
 
SyncStÜeCWr™eMiss
;

400 
couÁ”_t
 
SyncStÜeCWr™eUpg¿de
;

401 
couÁ”_t
 
SyncStÜeH™
;

402 
couÁ”_t
 
SyncStÜeWr™eMiss
;

403 
couÁ”_t
 
B¬StÜeWr™eMiss
;

404 
couÁ”_t
 
SyncStÜeWr™eUpg¿de
;

405 
couÁ”_t
 
B¬StÜeWr™eUpg¿de
;

406 
couÁ”_t
 
Sync_L2_miss
;

409 #ifdeà
CONF_RES_RESEND


410 
QUEUE_EVENT
 *
£nd_queue
[
MAXTHREADS
];

411 
QUEUE_EVENT
 *
»¶y_queue
[
MAXTHREADS
];

414 
RS_lšk
 *
ev’t_queue
;

415 
tÙ®Ev’tCouÁ
, 
tÙ®Ev’tProûssTime
;

416 
	gtÙ®ev’tcouÁ
;

417 
couÁ”_t
 
	gpİÃtMsgNo
;

418 
couÁ”_t
 
	gmissNo
;

419 
couÁ”_t
 
	gwr™e_back_msg
;

420 
couÁ”_t
 
	gloÿl_ÿche_acûss
, 
	g»mÙe_ÿche_acûss
, 
	gloÿldœeùÜy
, 
	g»mÙedœeùÜy
;

421 
tick_t
 
	gtÙ®misshªdËtime
;

422 
tick_t
 
	gtÙ®IL1misshªdËtime
;

423 
	gtÙ®ev’tcouÁnum
;

424 
couÁ”_t
 
	gtÙ®Wr™eIndiÿ‹
;

425 
couÁ”_t
 
	gtÙ®_exşusive_modif›d
;

426 
couÁ”_t
 
	gtÙ®_exşusive_cÚf
;

427 
couÁ”_t
 
	gtÙ®_exşusive_üoss
;

428 
couÁ”_t
 
	gtÙ®SyncEv’t
;

429 
couÁ”_t
 
	gtÙ®NÜm®Ev’t
;

430 
couÁ”_t
 
	gtÙ®SyncWr™eM
;

431 
couÁ”_t
 
	gtÙ®SyncR—dM
;

432 
couÁ”_t
 
	gtÙ®SyncWr™eup
;

433 
couÁ”_t
 
	gtÙ®mis¡imefÜNÜm®
;

434 
couÁ”_t
 
	gtÙ®mis¡imefÜSync
;

435 
couÁ”_t
 
	gtÙ®_mem_Ït
;

436 
couÁ”_t
 
	gtÙ®_mem_acûss
;

437 
couÁ”_t
 
	gtÙ®L2mis¡ime
;

438 
couÁ”_t
 
	gtÙ®WrÚgL2mis¡ime
;

439 
couÁ”_t
 
	gTÙ®L2mis£s
;

440 
	gtÙ®_L1_´eãtch
;

441 
couÁ”_t
 
	gl2_´eãtch_num
;

442 
couÁ”_t
 
	gwr™e_back_—¾y
;

443 
	gtÙ®_L1_fœ¡_´eãtch
;

444 
	gtÙ®_L1_£c_´eãtch
;

445 
couÁ”_t
 
	gL1_´eãtch_u£fuÎ
;

446 
couÁ”_t
 
	gL1_´eãtch_wr™—á”
;

448 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_num
;

449 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_num
;

450 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_num
;

451 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_num
;

452 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_FPP_num
;

453 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_FPP_S_M_num
;

454 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_FPP_G_D_num
;

455 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_FPP_G_T_num
;

456 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_num
;

457 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_S_M_num
;

458 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_G_D_num
;

459 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_G_T_num
;

460 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_num
;

461 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_S_M_num
;

462 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_G_D_num
;

463 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_G_T_num
;

464 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_num
;

465 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_S_M_num
;

466 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_G_D_num
;

467 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_G_T_num
;

468 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_num
;

469 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_S_M_num
;

470 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_G_D_num
;

471 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_G_T_num
;

472 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_num
;

473 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_S_M_num
;

474 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_G_D_num
;

475 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_G_T_num
;

476 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_miss_num
;

477 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_compulsÜy_miss_num
;

478 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_ÿ·c™y_miss_num
;

479 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_coh”’û_miss_num
;

480 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_»ad_´eãtch_ÿ·c™y_miss_num
;

481 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_loÿl_num
;

482 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_loÿl_FPP_num
;

483 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_upd©e_num
;

484 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_upd©e_FPP_num
;

485 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_num
;

486 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_S_M_num
;

487 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_G_D_num
;

488 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_G_T_num
;

489 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_miss_num
;

490 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_compulsÜy_miss_num
;

491 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_ÿ·c™y_miss_num
;

492 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_coh”’û_miss_num
;

493 
couÁ”_t
 
	gËv–1_d©a_ÿche_acûss_wr™e_´eãtch_ÿ·c™y_miss_num
;

495 
couÁ”_t
 
	g»ad_L1_miss_L2_h™_num
;

496 
couÁ”_t
 
	g»ad_L1_miss_L2_h™_tÙ®_time
;

497 
couÁ”_t
 
	g»ad_L2_miss_num
;

498 
couÁ”_t
 
	g»ad_L2_miss_tÙ®_time
;

499 
couÁ”_t
 
	gwr™e_L1_miss_L2_h™_num
;

500 
couÁ”_t
 
	gwr™e_L1_miss_L2_h™_tÙ®_time
;

501 
couÁ”_t
 
	gwr™e_L2_miss_num
;

502 
couÁ”_t
 
	gwr™e_L2_miss_tÙ®_time
;

505 
couÁ”_t
 
	gtÙ®_·ge_num
;

506 
couÁ”_t
 
	g´_·ge_num
;

507 
couÁ”_t
 
	gpw_·ge_num
;

508 
couÁ”_t
 
	g¤_·ge_num
;

509 
couÁ”_t
 
	gsw_·ge_num
;

511 
couÁ”_t
 
	gtÙ®_lše_num
;

512 
couÁ”_t
 
	g´_lše_num
;

513 
couÁ”_t
 
	gpw_lše_num
;

514 
couÁ”_t
 
	g¤_lše_num
;

515 
couÁ”_t
 
	gsw_lše_num
;

517 
couÁ”_t
 
	g»ÿÎ_num
;

518 
couÁ”_t
 
	g»ÿÎ_šv_num
;

520 
couÁ”_t
 
	g»ad_šv_S_num
;

521 
couÁ”_t
 
	g»ad_šv_QH_num
;

522 
couÁ”_t
 
	g»ad_šv_e_QM_num
;

523 
couÁ”_t
 
	g»ad_šv_d_QM_num
;

525 
couÁ”_t
 
	gwr™e_šv_d_S_num
;

526 
couÁ”_t
 
	gwr™e_šv_e_S_num
;

527 
couÁ”_t
 
	gwr™e_šv_s_S_num
;

528 
couÁ”_t
 
	gwr™e_šv_i_S_num
;

530 
couÁ”_t
 
	gwr™e_šv_d_QM_num
;

531 
couÁ”_t
 
	gwr™e_šv_e_QM_num
;

532 
couÁ”_t
 
	gwr™e_šv_s_QM_num
;

533 
couÁ”_t
 
	gwr™e_šv_i_QM_num
;

535 
couÁ”_t
 
	gwr™e_šv_d_QH_num
;

536 
couÁ”_t
 
	gwr™e_šv_e_QH_num
;

537 
couÁ”_t
 
	gwr™e_šv_s_QH_num
;

538 
couÁ”_t
 
	gwr™e_šv_i_QH_num
;

540 
couÁ”_t
 
	g»ÿÎ_šv_d_S_num
;

541 
couÁ”_t
 
	g»ÿÎ_šv_e_S_num
;

542 
couÁ”_t
 
	g»ÿÎ_šv_s_S_num
;

543 
couÁ”_t
 
	g»ÿÎ_šv_i_S_num
;

545 
couÁ”_t
 
	g»ÿÎ_šv_d_Q_num
;

546 
couÁ”_t
 
	g»ÿÎ_šv_e_Q_num
;

547 
couÁ”_t
 
	g»ÿÎ_šv_s_Q_num
;

548 
couÁ”_t
 
	g»ÿÎ_šv_i_Q_num
;

550 
couÁ”_t
 
	gSW_»ad_»que¡_num
;

551 
couÁ”_t
 
	gSW_wr™e_»que¡_num
;

553 
couÁ”_t
 
	g»ad_S_h™_num
;

554 
couÁ”_t
 
	g»ad_Q_h™_num
;

555 
couÁ”_t
 
	g»ad_Q_š™_num
;

556 
couÁ”_t
 
	g»ad_Q_š™_SR_num
;

557 
couÁ”_t
 
	g»ad_Q_š™_QR_num
;

559 
couÁ”_t
 
	gwr™e_S_h™_num
;

560 
couÁ”_t
 
	gwr™e_Q_h™_num
;

561 
couÁ”_t
 
	gwr™e_S_š™_ed_num
;

562 
couÁ”_t
 
	gwr™e_S_š™_ed_SR_num
;

563 
couÁ”_t
 
	gwr™e_S_š™_ed_QR_num
;

564 
couÁ”_t
 
	gwr™e_S_š™_s_num
;

565 
couÁ”_t
 
	gwr™e_S_š™_s_SR_num
;

566 
couÁ”_t
 
	gwr™e_S_š™_s_QR_num
;

567 
couÁ”_t
 
	gwr™e_Q_š™_num
;

568 
couÁ”_t
 
	gwr™e_Q_š™_SR_num
;

569 
couÁ”_t
 
	gwr™e_Q_š™_QR_num
;

571 
couÁ”_t
 
	gshr_d©a_»q_š™Ÿl_num
;

572 
couÁ”_t
 
	gshr_d©a_»q_tÙ®_num
;

573 
couÁ”_t
 
	gshr_d©a_»q_ç_num
;

575 
couÁ”_t
 
	gšfÜm_back_num
;

576 
couÁ”_t
 
	gwr™e_back_num
;

577 
couÁ”_t
 
	gšfÜm_back_Q
;

578 
couÁ”_t
 
	gšfÜm_back_S
;

579 
couÁ”_t
 
	gwr™e_back_Q
;

580 
couÁ”_t
 
	gwr™e_back_S
;

581 
couÁ”_t
 
	gmb_·š_d–ay_num
;

582 
couÁ”_t
 
	gmb_·š_pÜtu£_num
;

584 
couÁ”_t
 
	g»ad_Q_š™_QR_s_num
;

585 
couÁ”_t
 
	g»ad_Q_š™_QR_ed_num
;

586 
couÁ”_t
 
	gwr™e_S_š™_ed_QR_s_num
;

587 
couÁ”_t
 
	gwr™e_S_š™_ed_QR_ed_num
;

588 
couÁ”_t
 
	gwr™e_S_š™_s_QR_s_num
;

589 
couÁ”_t
 
	gwr™e_S_š™_s_QR_ed_num
;

590 
couÁ”_t
 
	gwr™e_Q_š™_QR_s_num
;

591 
couÁ”_t
 
	gwr™e_Q_š™_QR_ed_num
;

593 
couÁ”_t
 
	g»ÿÎ_šv_d_Q_s_num
;

594 
couÁ”_t
 
	g»ÿÎ_šv_d_Q_ed_num
;

595 
couÁ”_t
 
	g»ÿÎ_šv_e_Q_s_num
;

596 
couÁ”_t
 
	g»ÿÎ_šv_e_Q_ed_num
;

597 
couÁ”_t
 
	g»ÿÎ_šv_s_Q_s_num
;

598 
couÁ”_t
 
	g»ÿÎ_šv_s_Q_ed_num
;

599 
couÁ”_t
 
	g»ÿÎ_šv_i_Q_s_num
;

600 
couÁ”_t
 
	g»ÿÎ_šv_i_Q_ed_num
;

602 
couÁ”_t
 
	g»ÿÎ_šv_d_Q_s_ad_num
;

603 
couÁ”_t
 
	g»ÿÎ_šv_e_Q_s_ad_num
;

604 
couÁ”_t
 
	g»ÿÎ_šv_s_Q_ed_ad_num
;

606 
couÁ”_t
 
	glše_acûss_num
;

607 
couÁ”_t
 
	gSWP_lše_acûss_num
;

608 
couÁ”_t
 
	gSWP_PR_lše_acûss_num
;

609 
couÁ”_t
 
	gSWP_PW_lše_acûss_num
;

610 
couÁ”_t
 
	gSWP_SR_lše_acûss_num
;

611 
couÁ”_t
 
	gSWP_SW_lše_acûss_num
;

613 
couÁ”_t
 
	gPVC_veùÜ_di¡r_»cÜd_num
;

614 
couÁ”_t
 
	gPVC_veùÜ_šc_di¡r_»cÜd_num
;

615 
couÁ”_t
 
	gPVC_veùÜ_di¡r
[
MAX_DIRECTORY_ASSOC
+1];

616 
couÁ”_t
 
	gPVC_veùÜ_šc_di¡r
[
MAX_DIRECTORY_ASSOC
+1];

618 
couÁ”_t
 
	gPVC_exchªge_num
;

619 
couÁ”_t
 
	gPVC_æ_num
;

620 
couÁ”_t
 
	gPVC_dowm_no_šv_num
;

621 
couÁ”_t
 
	gPVC_dowm_šv_num
;

622 
couÁ”_t
 
	gPVC_dowm_šv_shr_num
;

623 
couÁ”_t
 
	gPVC_up_no_add_num
;

624 
couÁ”_t
 
	gPVC_up_add_num
;

625 
couÁ”_t
 
	gPVC_up_add_shr_num
;

626 
couÁ”_t
 
	gPVC_exch_vec_shr_di¡r
[
MAXTHREADS
+1];

627 
couÁ”_t
 
	gPVC_dowm_šv_shr_di¡r
[
MAXTHREADS
+1];

628 
couÁ”_t
 
	gPVC_up_add_shr_di¡r
[
MAXTHREADS
+1];

629 
couÁ”_t
 
	gPVC_šfÜm_®l_shr_num
;

630 
couÁ”_t
 
	gPVC_rfs_®l_shr_num
;

631 
couÁ”_t
 
	gPVC_»ad_®l_shr_num
;

632 
couÁ”_t
 
	gPVC_wr™e_®l_shr_num
;

633 
couÁ”_t
 
	gPVC_»ÿÎ_®l_shr_num
;

634 
couÁ”_t
 
	gpvc_nv_cÚæiù_num
;

636 
	gtÙ®»qcouÁnum
;

637 
	gtÙ®misscouÁnum
;

638 
	gæag
;

642 
	$uÆšk_hb_’t
 (
ÿche_t
 *
ı
,

643 
ÿche_£t_t
 *
£t
,

644 
ÿche_blk_t
 *
blk
)

646 
ÿche_blk_t
 *
´ev
, *
’t
;

647 
šdex
 = 
	`CACHE_HASH
 (
ı
, 
blk
->
gid
.
g
);

650 
´ev
 = 
NULL
, 
’t
 = 
£t
->
hash
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
hash_Ãxt
)

652 ià(
’t
 =ğ
blk
)

655 
	`as£¹
 (
’t
);

658 ià(!
´ev
)

661 
£t
->
hash
[
šdex
] = 
’t
->
hash_Ãxt
;

666 
´ev
->
hash_Ãxt
 = 
’t
->hash_next;

668 
’t
->
hash_Ãxt
 = 
NULL
;

669 
	}
}

673 
	$lšk_hb_’t
 (
ÿche_t
 *
ı
,

674 
ÿche_£t_t
 *
£t
,

675 
ÿche_blk_t
 *
blk
)

677 
šdex
 = 
	`CACHE_HASH
 (
ı
, 
blk
->
gid
.
g
);

680 
blk
->
hash_Ãxt
 = 
£t
->
hash
[
šdex
];

681 
£t
->
hash
[
šdex
] = 
blk
;

682 
	}
}

685 
	eli¡_loc_t


686 { 
	mH—d
, 
	mTa
 };

690 
	$upd©e_way_li¡
 (
ÿche_£t_t
 *
£t
,

691 
ÿche_blk_t
 *
blk
,

692 
li¡_loc_t
 
wh”e
)

695 ià(!
blk
->
way_´ev
 && !blk->
way_Ãxt
)

698 
	`as£¹
 (
£t
->
way_h—d
 =ğ
blk
 && s‘->
way_
 == blk);

704 ià(!
blk
->
way_´ev
)

706 
	`as£¹
 (
£t
->
way_h—d
 =ğ
blk
 && s‘->
way_
 != blk);

707 ià(
wh”e
 =ğ
H—d
)

714 
£t
->
way_h—d
 = 
blk
->
way_Ãxt
;

715 
blk
->
way_Ãxt
->
way_´ev
 = 
NULL
;

717 ià(!
blk
->
way_Ãxt
)

720 
	`as£¹
 (
£t
->
way_h—d
 !ğ
blk
 && s‘->
way_
 == blk);

721 ià(
wh”e
 =ğ
Ta
)

726 
£t
->
way_
 = 
blk
->
way_´ev
;

727 
blk
->
way_´ev
->
way_Ãxt
 = 
NULL
;

732 
	`as£¹
 (
£t
->
way_h—d
 !ğ
blk
 && s‘->
way_
 != blk);

733 
blk
->
way_´ev
->
way_Ãxt
 = blk->way_next;

734 
blk
->
way_Ãxt
->
way_´ev
 = blk->way_prev;

738 ià(
wh”e
 =ğ
H—d
)

741 
blk
->
way_Ãxt
 = 
£t
->
way_h—d
;

742 
blk
->
way_´ev
 = 
NULL
;

743 
£t
->
way_h—d
->
way_´ev
 = 
blk
;

744 
£t
->
way_h—d
 = 
blk
;

746 ià(
wh”e
 =ğ
Ta
)

749 
blk
->
way_´ev
 = 
£t
->
way_
;

750 
blk
->
way_Ãxt
 = 
NULL
;

751 
£t
->
way_
->
way_Ãxt
 = 
blk
;

752 
£t
->
way_
 = 
blk
;

755 
	`·nic
 ("bogus WHERE designator");

756 
	}
}

759 
ÿche_t
 *

760 
ÿche_ü—‹
 (*
Çme
,

761 
n£ts
,

762 
bsize
,

763 
b®loc
,

764 
usize
,

765 
assoc
,

766 
ÿche_pŞicy
 
pŞicy
,

768 (*
blk_acûss_â
è(
mem_cmd
 
cmd
, 
md_addr_t
 
baddr
, 
bsize
, 
ÿche_blk_t
 * 
blk
, 
tick_t
 
now
, 
th»adid
), 
h™_Ï‹ncy
,

769 
th»adid
)

771 
ÿche_t
 *
ı
;

772 
ÿche_blk_t
 *
blk
;

773 
i
, 
j
, 
bšdex
;

776 ià(
n£ts
 <= 0)

777 
	`çl
 ("ÿchsiz(š s‘sè`%d' mu¡ bnÚ-z”o", 
n£ts
);

778 ià((
n£ts
 & (nsets - 1)) != 0)

779 
	`çl
 ("ÿchsiz(š s‘sè`%d' i nÙ‡…ow” oàtwo", 
n£ts
);

781 ià(
bsize
 < 8)

782 
	`çl
 ("ÿchblock siz(š by‹sè`%d' mu¡ b8 o¸g»©”", 
bsize
);

783 ià((
bsize
 & (bsize - 1)) != 0)

784 
	`çl
 ("ÿchblock siz(š by‹sè`%d' mu¡ b¨pow” oàtwo", 
bsize
);

785 ià(
usize
 < 0)

786 
	`çl
 ("u£¸d©¨siz(š by‹sè`%d' mu¡ b¨pos™ivv®ue", 
usize
);

787 ià(!
blk_acûss_â
)

788 
	`çl
 ("must specify miss/replacement functions");

791 
ı
 = (
ÿche_t
 *è
	`ÿÎoc
 (1,  (ÿche_tè+ (
n£ts
 - 1è*  (
ÿche_£t_t
));

792 ià(!
ı
)

793 
	`çl
 ("out of virtual memory");

796 
ı
->
Çme
 = 
	`my¡rdup
 (name);

797 
ı
->
n£ts
 =‚sets;

798 
ı
->
bsize
 = bsize;

799 
ı
->
b®loc
 = balloc;

800 
ı
->
usize
 = usize;

801 
ı
->
assoc
 =‡ssoc;

802 
ı
->
pŞicy
 =…olicy;

803 
ı
->
h™_Ï‹ncy
 = hit_latency;

806 
ı
->
blk_acûss_â
 = blk_access_fn;

809 
ı
->
hsize
 = 
	`CACHE_HIGHLY_ASSOC
 (ıè? (
assoc
 >> 2) : 0;

810 
ı
->
blk_mask
 = 
bsize
 - 1;

811 
ı
->
£t_shiá
 = 
	`log_ba£2
 (
bsize
);

812 
ı
->
£t_mask
 = 
n£ts
 - 1;

813 
ı
->
g_shiá
 = cp->
£t_shiá
 + 
	`log_ba£2
 (
n£ts
);

814 
ı
->
g_mask
 = (1 << (32 - cp->
g_shiá
)) - 1;

815 
ı
->
g£t_mask
 = ~ı->
blk_mask
;

816 
ı
->
bus_ä“
 = 0;

819 
ı
->
h™s
 = 0;

820 
ı
->
dh™s
 = 0;

821 
ı
->
mis£s
 = 0;

822 
ı
->
dmis£s
 = 0;

823 
ı
->
š_mshr
 = 0;

824 
ı
->
dš_mshr
 = 0;

825 
ı
->
dœ_acûss
 = 0;

826 
ı
->
d©a_acûss
 = 0;

827 
ı
->
coh”’û_mis£s
 = 0;

828 
ı
->
ÿ·c™ªû_mis£s
 = 0;

829 
ı
->
»¶aûm’ts
 = 0;

830 
ı
->
»¶Inv
 = 0;

831 
ı
->
wr™ebacks
 = 0;

832 
ı
->
wb_coh”’û_w
 = 0;

833 
ı
->
wb_coh”’û_r
 = 0;

834 
ı
->
šv®id©iÚs
 = 0;

835 
ı
->
s_to_i
 = 0;

836 
ı
->
e_to_i
 = 0;

837 
ı
->
e_to_m
 = 0;

838 
ı
->
coh”’cyMis£s
 = 0;

839 
ı
->
coh”’cyMis£sOC
 = 0;

840 
ı
->
Invld
 = 0;

841 
ı
->
rdb
 = 0;

842 
ı
->
wrb
 = 0;

843 
ı
->
Ï¡u£
 = 0;

844 
ı
->
dœ_nÙifiÿtiÚ
 = 0;

845 
ı
->
Inv®id_wr™e_»ûived
 = 0;

846 
ı
->
Inv®id_wr™e_»ûived_h™s
 = 0;

847 
ı
->
Inv®id_R—d_»ûived
 = 0;

848 
ı
->
Inv®id_R—d_»ûived_h™s
 = 0;

849 
ı
->
ack_»ûived
 = 0;

852 
ı
->
Ï¡_g£tid
.
g
 = 0;

853 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

854 
ı
->
Ï¡_blk
 = 
NULL
;

855 
ı
->
th»adid
 =hreadid;

857 #ifdeà 
DCACHE_MSHR


858 
mshr_æag
 = 0;

859 if((!
	`¡rcmp
 (
ı
->
Çme
, "dl1")) || (!strcmp (cp->name, "dl2")))

861 if(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

862 
mshr_æag
 = 0;

864 
mshr_æag
 = 1;

865 
ı
->
mshr
 = (
mshr_t
 *è
	`ÿÎoc
 (1,  (mshr_t));

866 
	`š™MSHR
(
ı
->
mshr
, 
mshr_æag
);

867 
ı
->
mshr
->
th»adid
 =hreadid;

870 
ı
->
mshr
 = 
NULL
;

874 
ı
->
d©a
 = (
by‹_t
 *è
	`ÿÎoc
 (
n£ts
 * 
assoc
,  (
ÿche_blk_t
è+ (ı->
b®loc
 ? (
bsize
 *  (byte_t)) : 0));

875 ià(!
ı
->
d©a
)

876 
	`çl
 ("out of virtual memory");

879 
bšdex
 = 0, 
i
 = 0; i < 
n£ts
; i++)

881 
ı
->
£ts
[
i
].
way_h—d
 = 
NULL
;

882 
ı
->
£ts
[
i
].
way_
 = 
NULL
;

884 
ı
->
£ts
[
i
].
PVC_veùÜ_di¡r_»cÜd_num
 = 0;

885 
ı
->
£ts
[
i
].
PVC_veùÜ_šc_di¡r_»cÜd_num
 = 0;

886 
PVC_i
;

887 
PVC_i
=0;PVC_i<=
MAX_DIRECTORY_ASSOC
;PVC_i++)

889 
ı
->
£ts
[
i
].
PVC_veùÜ_di¡r
[
PVC_i
] = 0;

890 
ı
->
£ts
[
i
].
PVC_veùÜ_šc_di¡r
[
PVC_i
] = 0;

893 ià(
ı
->
hsize
)

895 
ı
->
£ts
[
i
].
hash
 = (
ÿche_blk_t
 **è
	`ÿÎoc
 (ı->
hsize
,  (cache_blk_t *));

896 ià(!
ı
->
£ts
[
i
].
hash
)

897 
	`çl
 ("out of virtual memory");

902 
ı
->
£ts
[
i
].
blks
 = 
	`CACHE_BINDEX
 (ı, cp->
d©a
, 
bšdex
);

906 
j
 = 0; j < 
assoc
; j++)

909 
blk
 = 
	`CACHE_BINDEX
 (
ı
, cp->
d©a
, 
bšdex
);

910 
bšdex
++;

914 
blk
->
b_¡©e
 = 0;

915 
blk
->
b_lock
 = 0;

918 
blk
->
®l_sh¬ed_’
 = 0;

921 
blk
->
qblk_£t_shiá
 = -1;

923 
blk
->
¡©us
 = 0;

924 
blk
->
gid
.
g
 = 0;

925 
blk
->
gid
.
th»adid
 = -1;

926 
blk
->
»ady
 = 0;

928 
m
 = 0, 
n
=0;

929 
m
=0; m<8; m++)

931 
n
=0;n<8;n++)

933 
blk
->
dœ_sh¬”
[
m
][
n
]=0;

935 
blk
->
dœ_¡©e
[
m
]=
DIR_STABLE
;

936 
blk
->
dœ_dœty
[
m
] = -1;

937 
blk
->
exşusive_time
[
m
] = 0;

938 if(
MSI
)

939 
blk
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

940 
blk
->
±r_cur_ev’t
[
m
] = 
NULL
;

942 
blk
->
ev”_dœty
 = 0;

943 
blk
->
ev”_touch
 = 0;

945 
blk
->
isSË
 = 0;

947 
blk
->
lšeVŞ©e
 = 0;

948 
blk
->
isL1´eãtch
 = 0;

950 
blk
->
wÜdVŞ©e
 = 0;

951 
blk
->
wÜdInv®id
 = 0;

952 
blk
->
•ochModif›d
 = -1;

954 
blk
->
u£r_d©a
 = (
usize
 !ğ0 ? (
by‹_t
 *è
	`ÿÎoc
 (usize,  (by‹_t)è: 
NULL
);

955 
blk
->
švCau£
 = 0;

957 
blk
->
R—dCouÁ
 = 0;

958 
blk
->
Wr™eCouÁ
 = 0;

959 
blk
->
WÜdCouÁ
 = 0;

960 
blk
->
Ty³
 = 0;

961 
m
=0;m<8;m++)

962 
blk
->
WÜdU£FÏg
[
m
] = 0;

964 ià(
MSI
)

966 
blk
->
¡©e
 = 
MESI_INVALID
;

971 ià(
ı
->
hsize
)

972 
	`lšk_hb_’t
 (
ı
, &ı->
£ts
[
i
], 
blk
);

975 
blk
->
way_Ãxt
 = 
ı
->
£ts
[
i
].
way_h—d
;

976 
blk
->
way_´ev
 = 
NULL
;

977 ià(
ı
->
£ts
[
i
].
way_h—d
)

978 
ı
->
£ts
[
i
].
way_h—d
->
way_´ev
 = 
blk
;

979 
ı
->
£ts
[
i
].
way_h—d
 = 
blk
;

980 ià(!
ı
->
£ts
[
i
].
way_
)

981 
ı
->
£ts
[
i
].
way_
 = 
blk
;

985 if(!
	`¡rcmp
 (
ı
->
Çme
, "ml2"))

987 ifĞ
veùÜ_num
 < 0 || veùÜ_num > 
assoc
 )

988 
	`·nic
("vector_num illegal\n");

989 ifĞ
sh¬”_th»shŞd
 < 1 || sh¬”_th»shŞd > (
mesh_size
*mesh_size-1) )

990 
	`·nic
("sharer_threshold illegal\n");

991 
i
=0;i<
n£ts
;i++)

993 
blk
 = 
ı
->
£ts
[
i
].
way_
;

994 
bšdex
 = 0;

995 
blk
)

997 if(
bšdex
 < 
veùÜ_num
)

998 
blk
->
±r_’
 = 0;

1000 
blk
->
±r_’
 = 1;

1001 
blk
 = blk->
way_´ev
;

1002 
bšdex
++;

1007  
ı
;

1008 
	}
}

1010 
	$®loÿ‹_ä“_ev’t_li¡
()

1012 
i
;

1013 
ä“_ev’t_li¡
 = 
	`ÿÎoc
(1, (
DIRECTORY_EVENT
));

1014 
DIRECTORY_EVENT
 * 
Ãxt
 = 
ä“_ev’t_li¡
;

1016 
i
 = 1; i < 
maxEv’t
; i++)

1018 
Ãxt
->Ãxˆğ
	`ÿÎoc
(1, (
DIRECTORY_EVENT
));

1019 
Ãxt
 =‚ext->next;

1020 
Ãxt
->Ãxˆğ
NULL
;

1022 
	}
}

1024 
DIRECTORY_EVENT
 * 
	$®loÿ‹_ev’t
(
isSyncAcûss
)

1026 if(
tÙ®Ev’tCouÁ
 >ğ
maxEv’t
)

1027 
	`·nic
("Out of freeƒvents\n");

1028 
DIRECTORY_EVENT
 * 
‹mp
 = 
ä“_ev’t_li¡
;

1029 
ä“_ev’t_li¡
 = f»e_ev’t_li¡->
Ãxt
;

1030 
‹mp
->
Ãxt
 = 
NULL
;

1031 
‹mp
->
İ
 = 0;

1032 
‹mp
->
isP»ãtch
 = 0;

1033 
‹mp
->
·ge_’Œy_¡©e
 = 0;

1034 
‹mp
->
l2Stus
 = 0;

1035 
‹mp
->
l2MissS¹
 = 0;

1036 
‹mp
->
wh’
 = 0;

1037 
‹mp
->
¡¬‹d
 = 0;

1038 
‹mp
->
mshr_time
 = 0;

1039 
‹mp
->
Œªsãr_time
 = 0;

1040 
‹mp
->
»q_time
 = 0;

1041 
‹mp
->
¡Üe_cÚd
 = 0;

1042 
‹mp
->
æ_æag
 = 0;

1043 
‹mp
->
Üigš®ChdCouÁ
 = 0;

1045 
‹mp
->
l1_wb_’Œy
 = 
NULL
;

1050 
‹mp
->
b_¡©e
 = -1;

1051 
‹mp
->
shr_d©a_»q
 = 0;

1052 
‹mp
->
d©a_»q_sh¬”
 = 0;

1053 
‹mp
->
L1_h™
 = 0;

1054 
‹mp
->
no_L2_d–ay
 = 0;

1055 
‹mp
->
ml2_dœ_blk_¡©e
 = 0;

1058 
‹mp
->
qblk_£t_shiá
 = 0;

1060 
‹mp
->
šput_bufãr_fuÎ
 = 0;

1061 
‹mp
->
³ndšg_æag
 = 0;

1062 
‹mp
->
L2miss_æag
 = 0;

1063 
‹mp
->
dœty_æag
 = 0;

1064 
‹mp
->
¬riv®_time
 = 0;

1065 
‹mp
->
d–ay
 = 0;

1066 
‹mp
->
d©a_»¶y
 = 0;

1067 
‹mp
->
cÚf_b™
 = -1;

1068 
‹mp
->
missNo
 = 0;

1069 
‹mp
->
»£nd
 = 0;

1070 
‹mp
->
İ”©iÚ
 = 0;

1071 
‹mp
->
‹mpID
 = 0;

1072 
‹mp
->
addr
 = 0;

1073 
‹mp
->
blk1
 = 
NULL
;

1074 
‹mp
->
blk_dœ
 = 
NULL
;

1076 
‹mp
->
±r_ev’t
 = 
NULL
;

1077 
‹mp
->
ı
 = 
NULL
;

1078 
‹mp
->
vp
 = 
NULL
;

1079 
‹mp
->
nby‹s
 = 0;

1080 
‹mp
->
ud©a
 = 
NULL
;

1081 
‹mp
->
rs
 = 
NULL
;

1082 
‹mp
->
¤c1
 = 0;

1083 
‹mp
->
¤c2
 = 0;

1084 
‹mp
->
des1
 = 0;

1085 
‹mp
->
des2
 = 0;

1086 
‹mp
->
Ãw_¤c1
 = 0;

1087 
‹mp
->
Ãw_¤c2
 = 0;

1088 
‹mp
->
Ãw_des1
 = 0;

1089 
‹mp
->
Ãw_des2
 = 0;

1090 
‹mp
->
¡¬tCyşe
 = 0;

1091 
‹mp
->
·»Á
 = 
NULL
;

1092 
‹mp
->
·»Á_İ”©iÚ
 = 0;

1093 
‹mp
->
chdCouÁ
 = 0;

1094 
‹mp
->
´oûssšgDÚe
 = 0;

1095 
‹mp
->
¥ec_mode
 = 0;

1096 
‹mp
->
pİÃtMsgNo
 = 0;

1097 
‹mp
->
ev’tTy³
 = 0;

1098 
‹mp
->
»c_busy
 = 0;

1099 
‹mp
->
sh¬”_num
 = 0;

1100 
‹mp
->
´eãtch_Ãxt
 = 0;

1101 
‹mp
->
¡ride
 = 0;

1102 
‹mp
->
Üd”
 = 0;

1103 
‹mp
->
¡»am_’Œy_šdex
 = 0;

1104 
‹mp
->
Œigg”
 = 0;

1105 
‹mp
->
isReqL2H™
 = 0;

1106 
‹mp
->
isReqL2Inv
 = 0;

1107 
‹mp
->
isReqL2SecMiss
 = 0;

1108 
‹mp
->
isReqL2T¿ns
 = 0;

1109 
‹mp
->
»qAtDœTime
 = 0;

1110 
‹mp
->
»qAckTime
 = 0;

1111 
‹mp
->
isSyncAcûss
 = isSyncAccess;

1112 
tÙ®Ev’tCouÁ
++;

1113 
tÙ®ev’tcouÁ
++;

1114 
‹mp
->
tÙ®ev’tcouÁ
 =otaleventcount;

1115  
‹mp
;

1116 
	}
}

1118 
	$ä“_ev’t
(
DIRECTORY_EVENT
 *
ev’t
)

1120 
ev’t
->
Ãxt
 = 
ä“_ev’t_li¡
;

1121 
ä“_ev’t_li¡
 = 
ev’t
;

1122 
tÙ®Ev’tCouÁ
--;

1123 
	}
}

1126 
ÿche_pŞicy


1127 
	$ÿche_ch¬2pŞicy
 (
c
)

1129 
c
)

1132  
LRU
;

1134  
Rªdom
;

1136  
FIFO
;

1138 
	`çl
 ("bogu »¶aûm’ˆpŞicy, `%c'", 
c
);

1140 
	}
}

1144 
	$ÿche_cÚfig
 (
ÿche_t
 *
ı
,

1145 
FILE
 * 
¡»am
)

1147 
	`årštf
 (
¡»am
, "ÿche: %s: %d s‘s, %d by‹ blocks, %d by‹ u£¸d©a/block\n", 
ı
->
Çme
, cp->
n£ts
, cp->
bsize
, cp->
usize
);

1148 
	`årštf
 (
¡»am
, "ÿche: %s: %d-way, `%s'„•Ïûm’ˆpŞicy, wr™e-back\n", 
ı
->
Çme
, cp->
assoc
, cp->
pŞicy
 =ğ
LRU
 ? "LRU" : cp->pŞicy =ğ
Rªdom
 ? "Rªdom" : cp->pŞicy =ğ
FIFO
 ? "FIFO" : (
	`abÜt
 (), ""));

1149 
	}
}

1153 
	$ÿche_»g_¡©s
 (
ÿche_t
 *
ı
,

1154 
¡©_sdb_t
 *
sdb
, 
id
)

1156 
buf
[512], 
buf1
[512], *
Çme
;

1159 ià(
ı
->
th»adid
 !ğ-1 && cp->th»adid !ğ
id
)

1160 
	`·nic
 ("Wrong cache being called in cache_reg_stats\n");

1163 ià(!
ı
->
Çme
 || !cp->name[0])

1164 
Çme
 = "<unknown>";

1166 
Çme
 = 
ı
->name;

1168 
Çme
 = 
	`my¡rdup
(
ı
->name);

1170 
	`¥rštf
(
buf
, "_%d", 
id
);

1171 
	`¡rÿt
(
Çme
, 
buf
);

1173 
	`¥rštf
 (
buf
, "%s.acûs£s", 
Çme
);

1174 
	`¥rštf
 (
buf1
, "%s.h™ + %s.mis£ + %s.š_mshr", 
Çme
,‚ame,‚ame);

1175 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "tÙ®‚umb” oàacûs£s", 
buf1
, "%12.0f");

1176 
	`¥rštf
 (
buf
, "%s.h™s", 
Çme
);

1177 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàh™s", &
ı
->
h™s
, 0, 
NULL
);

1178 
	`¥rštf
 (
buf
, "%s.š_mshr", 
Çme
);

1179 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà£cÚd¬y mis£s", &
ı
->
š_mshr
, 0, 
NULL
);

1180 
	`¥rštf
 (
buf
, "%s.mis£s", 
Çme
);

1181 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£s", &
ı
->
mis£s
, 0, 
NULL
);

1183 
	`¥rštf
 (
buf
, "%s.dacûs£s", 
Çme
);

1184 
	`¥rštf
 (
buf1
, "%s.dh™ + %s.dmis£ + %s.dš_mshr", 
Çme
,‚ame,‚ame);

1185 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨acûs£s", 
buf1
, "%12.0f");

1186 
	`¥rštf
 (
buf
, "%s.dh™s", 
Çme
);

1187 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨h™s", &
ı
->
dh™s
, 0, 
NULL
);

1188 
	`¥rštf
 (
buf
, "%s.dš_mshr", 
Çme
);

1189 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨£cÚd¬y mis£s", &
ı
->
dš_mshr
, 0, 
NULL
);

1190 
	`¥rštf
 (
buf
, "%s.dmis£s", 
Çme
);

1191 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨mis£s", &
ı
->
dmis£s
, 0, 
NULL
);

1193 
	`¥rštf
 (
buf
, "%s.dœ_acûss", 
Çme
);

1194 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàdœ_acûss", &
ı
->
dœ_acûss
, 0, 
NULL
);

1195 
	`¥rštf
 (
buf
, "%s.d©a_acûss", 
Çme
);

1196 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©a_acûss", &
ı
->
d©a_acûss
, 0, 
NULL
);

1197 
	`¥rštf
 (
buf
, "%s.coh”’û_mis£s", 
Çme
);

1198 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£ dutØšv®id©iÚ", &
ı
->
coh”’û_mis£s
, 0, 
NULL
);

1199 
	`¥rštf
 (
buf
, "%s.ÿ·c™ªû_mis£s", 
Çme
);

1200 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£ dutØÿ·c™ªû", &
ı
->
ÿ·c™ªû_mis£s
, 0, 
NULL
);

1201 
	`¥rštf
 (
buf
, "%s.»¶aûm’ts", 
Çme
);

1202 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà»¶aûm’ts", &
ı
->
»¶aûm’ts
, 0, 
NULL
);

1203 
	`¥rštf
 (
buf
, "%s.»¶Inv", 
Çme
);

1204 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà»¶aûm’t which‡lsØšşudšv®id©iÚs", &
ı
->
»¶Inv
, 0, 
NULL
);

1205 
	`¥rštf
 (
buf
, "%s.wr™ebacks", 
Çme
);

1206 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™ebacks", &
ı
->
wr™ebacks
, 0, 
NULL
);

1207 
	`¥rštf
 (
buf
, "%s.wb_coh”’û_w", 
Çme
);

1208 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™eback dutØcoh”’û wr™e", &
ı
->
wb_coh”’û_w
, 0, 
NULL
);

1209 
	`¥rštf
 (
buf
, "%s.wb_coh”’û_r", 
Çme
);

1210 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™eback dutØcoh”’û„—d", &
ı
->
wb_coh”’û_r
, 0, 
NULL
);

1211 
	`¥rštf
 (
buf
, "%s.Invld", 
Çme
);

1212 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàInvld", &
ı
->
Invld
, 0, 
NULL
);

1213 
	`¥rštf
 (
buf
, "%s.šv®id©iÚs", 
Çme
);

1214 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚs", &
ı
->
šv®id©iÚs
, 0, 
NULL
);

1215 
	`¥rštf
 (
buf
, "%s.s_to_i", 
Çme
);

1216 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàsh¬edØšv®id(šv®id©iÚ_»ûived_sub)", &
ı
->
s_to_i
, 0, 
NULL
);

1217 
	`¥rštf
 (
buf
, "%s.e_to_i", 
Çme
);

1218 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàexşusivtØšv®id(šv®id©iÚ_»ûived_sub)", &
ı
->
e_to_i
, 0, 
NULL
);

1219 
	`¥rštf
 (
buf
, "%s.e_to_m", 
Çme
);

1220 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàexşusivtØšv®id(šv®id©iÚ_»ûived_sub)", &
ı
->
e_to_m
, 0, 
NULL
);

1222 
	`¥rštf
 (
buf
, "%s.dœ_nÙifiÿtiÚ", 
Çme
);

1223 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàupd©šg dœeùÜy", &
ı
->
dœ_nÙifiÿtiÚ
, 0, 
NULL
);

1224 
	`¥rštf
 (
buf
, "%s.Inv®id_wr™e_»ûived", 
Çme
);

1225 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ wr™»ûived", &
ı
->
Inv®id_wr™e_»ûived
, 0, 
NULL
);

1226 
	`¥rštf
 (
buf
, "%s.Inv®id_»ad_»ûived", 
Çme
);

1227 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ„—d„eûived", &
ı
->
Inv®id_R—d_»ûived
, 0, 
NULL
);

1228 
	`¥rštf
 (
buf
, "%s.Inv®id_w_»ûived_h™s", 
Çme
);

1229 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ wr™»ûived_h™s", &
ı
->
Inv®id_wr™e_»ûived_h™s
, 0, 
NULL
);

1230 
	`¥rštf
 (
buf
, "%s.Inv®id_r_»ûived_h™s", 
Çme
);

1231 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ„—d„eûived_h™s", &
ı
->
Inv®id_R—d_»ûived_h™s
, 0, 
NULL
);

1232 
	`¥rštf
 (
buf
, "%s.acknowËdgem’ˆ»ûived", 
Çme
);

1233 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàacknowËdgem’ˆ»ûived", &
ı
->
ack_»ûived
, 0, 
NULL
);

1235 
	`¥rštf
 (
buf
, "%s.coh”’cyMis£s", 
Çme
);

1236 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàcoh”’cy Mis£s", &
ı
->
coh”’cyMis£s
, 0, 
NULL
);

1237 
	`¥rštf
 (
buf
, "%s.coh”’cyMis£sOC", 
Çme
);

1238 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàcoh”’cy Mis£ dutØİtimi¡iøcÜe", &
ı
->
coh”’cyMis£sOC
, 0, 
NULL
);

1239 
	`¥rštf
 (
buf
, "%s.miss_¿‹", 
Çme
);

1240 
	`¥rštf
 (
buf1
, "%s.mis£ / %s.acûs£s", 
Çme
,‚ame);

1241 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "mis ¿‹ (i.e., mis£s/»f)", 
buf1
, 
NULL
);

1242 
	`¥rštf
 (
buf
, "%s.»¶_¿‹", 
Çme
);

1243 
	`¥rštf
 (
buf1
, "%s.»¶aûm’t / %s.acûs£s", 
Çme
,‚ame);

1244 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "»¶aûm’ˆ¿‹ (i.e.,„•ls/»f)", 
buf1
, 
NULL
);

1245 
	`¥rštf
 (
buf
, "%s.wb_¿‹", 
Çme
);

1246 
	`¥rštf
 (
buf1
, "%s.wr™eback / %s.acûs£s", 
Çme
,‚ame);

1247 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "wr™eback„©(i.e., wrbks/»f)", 
buf1
, 
NULL
);

1248 
	`¥rštf
 (
buf
, "%s.šv_¿‹", 
Çme
);

1249 
	`¥rštf
 (
buf1
, "%s.šv®id©iÚ / %s.acûs£s", 
Çme
,‚ame);

1250 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "šv®id©iÚ„©(i.e., invs/»f)", 
buf1
, 
NULL
);

1253 
	`¥rštf
 (
buf
, "%s.æushCouÁ", 
Çme
);

1254 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ® flushes", &
ı
->
æushCouÁ
, 0, 
NULL
);

1255 
	`¥rštf
 (
buf
, "%s.lšeFlushed", 
Çme
);

1256 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "lše æushed", &
ı
->
lšeFlushCouÁ
, 0, 
NULL
);

1258 
	`¥rštf
 (
buf
, "%s.æushR©e", 
Çme
);

1259 
	`¥rštf
 (
buf1
, "%s.lšeFlushed / %s.æushCouÁ", 
Çme
,‚ame);

1260 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "æush„©(i.e.,†šes/chunk)", 
buf1
, 
NULL
);

1262 
	`ä“
(
Çme
);

1263 
	}
}

1276 
	$ÿche_¡©s
 (
ÿche_t
 *
ı
,

1277 
FILE
 * 
¡»am
)

1279 
sum
 = (è(
ı
->
h™s
 + cp->
mis£s
);

1281 
	`årštf
 (
¡»am
, "ÿche: %s: %.0àh™ %.0àmis£ %.0à»¶ %.0àšv®id©iÚs\n", 
ı
->
Çme
, (èı->
h™s
, (èı->
mis£s
, (èı->
»¶aûm’ts
, (èı->
šv®id©iÚs
);

1282 
	`årštf
 (
¡»am
, "ÿche: %s: mis ¿‹=%à„•È¿‹=%à inv®id©iÚ„©e=%f\n", 
ı
->
Çme
, (èı->
mis£s
 / 
sum
, (è(èı->
»¶aûm’ts
 / sum, (èı->
šv®id©iÚs
 / sum);

1283 
	}
}

1286 
	$bªk_check
 (
md_addr_t
 
addr
, 
ÿche_t
 *
ı
)

1289 
	}
}

1291 
	#BUS_TRAN_LAT
 0

	)

1293 
	#SET
 1

	)

1294 
	#TAG
 2

	)

1299 
	$·ge_bË_š™
 ()

1301 
i
;

1302 
i
=0;i<
PAGE_NUM
;i++)

1304 
·ge_bË
[
i
] = (
·ge_’Œy
 *è
	`ÿÎoc
 (1,  (page_entry));

1305 
·ge_bË
[
i
]->
v®id
 = 0;

1306 
·ge_bË
[
i
]->
busy
 = 0;

1307 
·ge_bË
[
i
]->
VPN
 = 0;

1308 
·ge_bË
[
i
]->
PPN
 = 0;

1309 
·ge_bË
[
i
]->
k“³r
 = -1;

1310 
·ge_bË
[
i
]->
ÿched
 = 0;

1311 
·ge_bË
[
i
]->
¡©e
 = 0;

1312 
·ge_bË
[
i
]->
lše_h—d
 = 
NULL
;

1314 
	`´štf
("page_table_init finish\n");

1315 
	}
}

1317 
	$·ge_bË_check
 ( 
md_addr_t
 
addr
, *
·ge_bË_¡©e
, *
·ge_bË_busy
, *
·ge_bË_k“³r
, *
loÿtiÚ
 )

1319 
m©ch
 = 0;

1320 
i
;

1321 
ÿche_t
 *
ı
 = 
db
[0];

1322 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

1323 
i
=0;i<
PAGE_NUM
;i++)

1325 ià(!
·ge_bË
[
i
]->
v®id
)

1327 *
loÿtiÚ
 = 
i
;

1330 ià(
·ge_bË
[
i
]->
VPN
 =ğ
g
)

1332 *
·ge_bË_¡©e
 = 
·ge_bË
[
i
]->
¡©e
;

1333 *
·ge_bË_busy
 = 
·ge_bË
[
i
]->
busy
;

1334 *
·ge_bË_k“³r
 = 
·ge_bË
[
i
]->
k“³r
;

1335 *
loÿtiÚ
 = 
i
;

1336 
m©ch
 = 1;

1340 ià(
i
 =ğ
PAGE_NUM
)

1341 
	`·nic
("notƒnough…ageableƒntry\n");

1342  
m©ch
;

1343 
	}
}

1345 
	$db_acûss
 ( 
th»adid
, 
md_addr_t
 
addr
 , *
¡©e
 )

1347 
ÿche_t
 *
ı
 = 
db
[
th»adid
];

1348 
ÿche_blk_t
 *
blk
;

1349 
md_addr_t
 
g
, 
£t
;

1350 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

1351 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

1352 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

1354 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

1356 *
¡©e
 = 
blk
->state;

1360 
	}
}

1362 
	$sh¬e_·‰”n
Ğ
th»adid
, 
md_addr_t
 
addr
, 
cmd
 )

1365 
·ge_bË_m©ch
;

1366 
·ge_bË_¡©e
;

1367 
·ge_bË_busy
;

1368 
·ge_bË_k“³r
;

1369 
loÿtiÚ
;

1371 
lše_owÃr
;

1372 
lše_¡©e
;

1373 
lše_šdex
;

1374 
lše_šdex
 = ( 
addr
 >> 
ÿche_dl1
[0]->
£t_shiá
 ) & ((1<<(
MD_LOG_PAGE_SIZE
 - cache_dl1[0]->set_shift))-1);

1376 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

1377 ifĞ!
·ge_bË_m©ch
 )

1378 
	`·nic
("thisƒntry must be in…rocess\n");

1379 if(!
·ge_bË
[
loÿtiÚ
]->
lše_h—d
)

1380 
	`·nic
("line head initƒrror\n");

1381 
lše_owÃr
 = 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].line_owner;

1382 
lše_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].line_state;

1385 
lše_acûss_num
++;

1386 ià(
·ge_bË_¡©e
 =ğ
SHARED_WRITE
)

1388 
SWP_lše_acûss_num
++;

1389 
lše_¡©e
)

1391 
PRIVATE_READ
: {
SWP_PR_lše_acûss_num
++; ;}

1392 
PRIVATE_WRITE
: {
SWP_PW_lše_acûss_num
++; ;}

1393 
SHARED_READ
: {
SWP_SR_lše_acûss_num
++; ;}

1394 
SHARED_WRITE
: {
SWP_SW_lše_acûss_num
++; ;}

1398 if(
lše_owÃr
 == -1)

1400 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_owÃr
 = 
th»adid
;

1401 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_¡©e
 = (
cmd
 =ğ
R—d
è? 
PRIVATE_READ
 : 
PRIVATE_WRITE
;

1402 
tÙ®_lše_num
++;

1403 if(
cmd
 =ğ
R—d
)

1404 
´_lše_num
++;

1406 
pw_lše_num
++;

1410 if(
lše_¡©e
 =ğ
PRIVATE_READ
)

1412 if(
th»adid
 =ğ
lše_owÃr
)

1414 if(
cmd
 =ğ
Wr™e
)

1416 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_¡©e
 = 
PRIVATE_WRITE
;

1417 
´_lše_num
--;

1418 
pw_lše_num
++;

1423 if(
cmd
 =ğ
R—d
)

1425 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_¡©e
 = 
SHARED_READ
;

1426 
´_lše_num
--;

1427 
¤_lše_num
++;

1431 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_¡©e
 = 
SHARED_WRITE
;

1432 
´_lše_num
--;

1433 
sw_lše_num
++;

1437 if(
lše_¡©e
 =ğ
PRIVATE_WRITE
)

1439 ifĞ
th»adid
 !ğ
lše_owÃr
 )

1441 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_¡©e
 = 
SHARED_WRITE
;

1442 
pw_lše_num
--;

1443 
sw_lše_num
++;

1446 if(
lše_¡©e
 =ğ
SHARED_READ
)

1448 if(
cmd
 =ğ
Wr™e
)

1450 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
lše_šdex
].
lše_¡©e
 = 
SHARED_WRITE
;

1451 
¤_lše_num
--;

1452 
sw_lše_num
++;

1455 if(
lše_¡©e
 !ğ
SHARED_WRITE
)

1456 
	`·nic
("line stateƒrror\n");

1459 
	}
}

1461 
	$b_cu_š™
 ()

1463 
i
,
j
;

1464 
i
=0;i<
MAXTHREADS
;i++)

1466 
b_cu
[
i
] = (
b_cu_blk
 *è
	`ÿÎoc
 (1,  (tlb_cu_blk));

1467 
b_cu
[
i
]->
»cov”_d–ay
 = 0;

1468 
j
=0;j<
TLB_CU_SIZE
;j++)

1470 
b_cu
[
i
]->
pw_eviù
[
j
].
v®id
 = 0;

1471 
b_cu
[
i
]->
pw_eviù
[
j
].
VPN
 = 0;

1472 
b_cu
[
i
]->
¤_»cov”y
[
j
].
v®id
 = 0;

1473 
b_cu
[
i
]->
¤_»cov”y
[
j
].
VPN
 = 0;

1474 
b_cu
[
i
]->
dœ_»cov”y
[
j
].
v®id
 = 0;

1475 
b_cu
[
i
]->
dœ_»cov”y
[
j
].
ev’t
 = 
NULL
;

1478 
	}
}

1480 
	$æush_d©a_mshr_check
Ğ
th»adid
, 
md_addr_t
 
addr
 )

1482 
mshr_t
 *
mshr
 = 
ÿche_dl1
[
th»adid
]->mshr;

1483 
i
;

1484 
i
 = 0; i < 
MSHR_SIZE
; i++)

1486 if(
mshr
->
mshrEÁry
[
i
].
isV®id
 && ((mshr->mshrEÁry[i].
addr
 >> 
MD_LOG_PAGE_SIZE
) == (addr>> MD_LOG_PAGE_SIZE)))

1490 
	}
}

1492 
	$b_æush_check
(
th»adid
)

1494 
i
;

1495 
m©ch
;

1496 
m©ch
 = 0;

1497 
i
=0;i<
TLB_CU_SIZE
;i++)

1499 ià(
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
v®id
)

1501 
m©ch
 = 
	`æush_d©a_mshr_check
(
th»adid
, 
b_cu
[th»adid]->
dœ_»cov”y
[
i
].
ev’t
->
addr
);

1502 ifĞĞ!
m©ch
 ) && ( (
sim_cyşe
-
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
->
¡¬‹d
è>ğ
FLUSH_OVERHEAD
 ) )

1504 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

1505 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1506 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
->
´oûssšgDÚe
 = 0;

1507 
	`d©a_ÿche_æush
((
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
->
addr
 >> 
MD_LOG_PAGE_SIZE
),hreadid);

1508 
	`scheduËThroughN‘wÜk
(
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, -1);

1509 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
 = 
NULL
;

1510 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
v®id
 = 0;

1514 
	}
}

1516 
	$b_cu_®loÿ‹
Ğ
th»adid
, 
cmd
, 
md_addr_t
 
VPN
, 
DIRECTORY_EVENT
 *
ev’t
)

1518 
i
;

1519 iàĞ
cmd
 =ğ
SHR_TLB_WRITE_BACK
 )

1521 
i
=0;i<
TLB_CU_SIZE
;i++)

1523 if(!
b_cu
[
th»adid
]->
pw_eviù
[
i
].
v®id
)

1525 
b_cu
[
th»adid
]->
pw_eviù
[
i
].
v®id
 =1;

1526 
b_cu
[
th»adid
]->
pw_eviù
[
i
].
VPN
 =VPN;

1530 ifĞ
i
 =ğ
TLB_CU_SIZE
 )

1531 
	`·nic
("TLB_CU_SIZEo small\n");

1533 iàĞ
cmd
 =ğ
SHR_TLB_SR_RECOVERY
 )

1535 
i
=0;i<
TLB_CU_SIZE
;i++)

1537 if(!
b_cu
[
th»adid
]->
¤_»cov”y
[
i
].
v®id
)

1539 
b_cu
[
th»adid
]->
¤_»cov”y
[
i
].
v®id
 =1;

1540 
b_cu
[
th»adid
]->
¤_»cov”y
[
i
].
VPN
 =VPN;

1544 ifĞ
i
 =ğ
TLB_CU_SIZE
 )

1545 
	`·nic
("TLB_CU_SIZEo small\n");

1547 iàĞ(
cmd
==
SHR_TLB_UPDATE_PW_ACK
è|| (cmd==
SHR_TLB_RECOVERY_ACK
) )

1549 
i
=0;i<
TLB_CU_SIZE
;i++)

1551 if(!
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
v®id
)

1553 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
v®id
 =1;

1554 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
ev’t
 =ƒvent;

1558 ifĞ
i
 =ğ
TLB_CU_SIZE
 )

1559 
	`·nic
("TLB_CU_SIZEo small\n");

1561 
	}
}

1563 
	$b_cu_check
(
th»adid
, 
md_addr_t
 
addr
, 
cmd
)

1565 
ÿche_t
 *
ı
 = 
db
[0];

1566 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

1567 
m©ch
 = -1;

1568 
i
;

1569 iàĞ(
cmd
 =ğ
DIR_TLB_UPDATE
è|| (cmd =ğ
SHR_TLB_WRITE_BACK
) )

1570 
i
=0;i<
TLB_CU_SIZE
;i++)

1572 iàĞ
b_cu
[
th»adid
]->
pw_eviù
[
i
].
v®id
 && (b_cu[th»adid]->pw_eviù[i].
VPN
 =ğ
g
) )

1574 
m©ch
 = 
i
;

1578 iàĞ
cmd
 =ğ
DIR_TLB_RECOVERY
 )

1579 
i
=0;i<
TLB_CU_SIZE
;i++)

1581 iàĞ
b_cu
[
th»adid
]->
¤_»cov”y
[
i
].
v®id
 && (b_cu[th»adid]->¤_»cov”y[i].
VPN
 =ğ
g
) )

1583 
m©ch
 = 
i
;

1587  
m©ch
;

1588 
	}
}

1590 
	$b_mshr_š™
 ()

1592 
i
,
j
;

1593 
i
=0;i<
MAXTHREADS
;i++)

1594 
j
=0;j<
TLB_MSHR_SIZE
;j++)

1596 
b_mshr
[
i
][
j
] = (
b_mshr_’Œy
 *è
	`ÿÎoc
 (1,  (tlb_mshr_entry));

1597 
b_mshr
[
i
][
j
]->
v®id
 = 0;

1598 
b_mshr
[
i
][
j
]->
dœty
 = 0;

1599 
b_mshr
[
i
][
j
]->
eviùšg
 = 0;

1600 
b_mshr
[
i
][
j
]->
VPN
 = 0;

1601 
b_mshr
[
i
][
j
]->
h—d
 = 
NULL
;

1603 
	}
}

1605 
	$b_mshr_ş—r
(
th»adid
, 
šdex
)

1607 
b_mshr
[
th»adid
][
šdex
]->
v®id
 = 0;

1608 
b_mshr
[
th»adid
][
šdex
]->
dœty
 = 0;

1609 
b_mshr
[
th»adid
][
šdex
]->
eviùšg
 = 0;

1610 
b_mshr
[
th»adid
][
šdex
]->
VPN
 = 0;

1611 
b_mshr
[
th»adid
][
šdex
]->
h—d
 = 
NULL
;

1612 
	}
}

1614 
	$b_mshr_®loÿ‹
 ( 
md_addr_t
 
addr
, 
th»adid
, 
RUU_¡©iÚ
 *
rs
 , 
eviùšg
)

1616 
i
;

1617 
ÿche_t
 *
ı
 = 
db
[0];

1618 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

1619 
b_rs
 *
Ãw_rs
 = (b_r *è
	`ÿÎoc
 (1,  (tlb_rs));

1620 
Ãw_rs
->
rs
 =„s;

1621 
Ãw_rs
->
Ãxt
 = 
NULL
;

1622 
i
=0;i<
TLB_MSHR_SIZE
;i++)

1624 if(!
b_mshr
[
th»adid
][
i
]->
v®id
)

1626 
b_mshr
[
th»adid
][
i
]->
v®id
 = 1;

1627 
b_mshr
[
th»adid
][
i
]->
dœty
 = 0;

1628 ià(
eviùšg
 != -1)

1629 
b_mshr
[
th»adid
][
i
]->
eviùšg
 = 1;

1630 
b_mshr
[
th»adid
][
i
]->
VPN
 = 
g
;

1631 
b_mshr
[
th»adid
][
i
]->
h—d
 = 
Ãw_rs
;

1635 if(
i
 =ğ
TLB_MSHR_SIZE
)

1636 
	`·nic
("tlb_mshr_sizeo small\n");

1637 
	}
}

1639 
	$b_mshr_check
 ( 
md_addr_t
 
addr
, 
th»adid
, 
RUU_¡©iÚ
 *
rs
 )

1641 
m©ch
 = -1;

1642 
i
;

1643 
ÿche_t
 *
ı
 = 
db
[0];

1644 
b_rs
 *
‹mp
;

1645 
b_rs
 *
Ãw_rs
;

1646 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

1647 
i
=0;i<
TLB_MSHR_SIZE
;i++)

1649 if(
b_mshr
[
th»adid
][
i
]->
v®id
 && (b_mshr[th»adid][i]->
VPN
 =ğ
g
) )

1651 ià(!
b_mshr
[
th»adid
][
i
]->
h—d
)

1652 
	`·nic
("tlb_mshr_head_error\n");

1654 ià(
rs
)

1656 
‹mp
=
b_mshr
[
th»adid
][
i
]->
h—d
;‹mp->
Ãxt
!=
NULL
;temp =emp->next);

1657 
Ãw_rs
 = (
b_rs
 *è
	`ÿÎoc
 (1,  (tlb_rs));

1658 
‹mp
->
Ãxt
 = 
Ãw_rs
;

1659 
Ãw_rs
->
rs
 =„s;

1660 
Ãw_rs
->
Ãxt
 = 
NULL
;

1662 
m©ch
 = 
i
;

1666  
m©ch
;

1667 
	}
}

1669 
	$b_lock_check
(
th»adid
)

1671 
i
;

1672 
æushšg
 = 0;

1673 
i
=0;i<
TLB_CU_SIZE
;i++)

1674 
æushšg
 = flushšg || 
b_cu
[
th»adid
]->
dœ_»cov”y
[
i
].
v®id
 ||lb_cu[th»adid]->
¤_»cov”y
[i].valid ;

1675  
æushšg
;

1676 
	}
}

1678 
	$d©a_ÿche_æush
Ğ
md_addr_t
 
db_g
, 
rg‘_b_id
)

1680 
ÿche_t
 *
ı1
;

1681 
ÿche_blk_t
 *
blk1
;

1682 
ı1
 = 
ÿche_dl1
[
rg‘_b_id
];

1683 
i
;

1684 
md_addr_t
 
addr
;

1685 
·ck‘_size
;

1686 
i
=0;i<
ı1
->
n£ts
;i++)

1688 
blk1
 = 
ı1
->
£ts
[
i
].
way_h—d
; blk1; blk1 =blk1->
way_Ãxt
)

1690 
addr
 = ( 
blk1
->
gid
.
g
 << 
ı1
->
g_shiá
 ) + ( 
i
 << cp1->
£t_shiá
 );

1691 iàĞĞĞ
addr
 >> 
MD_LOG_PAGE_SIZE
 ) =ğ
db_g
è&& (
blk1
->
¡©us
 & 
CACHE_BLK_VALID
) )

1694 iàĞ(
blk1
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& (
aùu®Proûss
 =ğ1è&& !
	`md_‹xt_addr
(blk1->
addr
, 
rg‘_b_id
) )

1696 ià((
blk1
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& !(blk1->
¡©e
 =ğ
MESI_MODIFIED
))

1697 
	`·nic
 ("Cache Block should have been modified here");

1699 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

1700 if(
Ãw_ev’t
 =ğ
NULL
)

1701 
	`·nic
("Out of Virtual Memory");

1702 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK
;

1703 
·ck‘_size
 = 
d©a_·ck‘_size
;

1704 
Ãw_ev’t
->
¤c1
 = 
rg‘_b_id
/
mesh_size
+
MEM_LOC_SHIFT
;

1705 
Ãw_ev’t
->
¤c2
 = 
rg‘_b_id
%
mesh_size
;

1707 
md_addr_t
 
¤c
 = (
blk1
->
addr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

1708 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

1709 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

1710 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

1711 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1712 
Ãw_ev’t
->
·»Á
 = 
NULL
;

1713 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

1714 
Ãw_ev’t
->
chdCouÁ
 = 0;

1715 
Ãw_ev’t
->
‹mpID
 = 
rg‘_b_id
;

1716 
Ãw_ev’t
->
»£nd
 = 0;

1717 
Ãw_ev’t
->
blk1
 = blk1;

1718 
Ãw_ev’t
->
addr
 = 
blk1
->addr;

1719 
Ãw_ev’t
->
ı
 = 
ı1
;

1720 
Ãw_ev’t
->
vp
 = 
NULL
;

1721 
Ãw_ev’t
->
nby‹s
 = 
ı1
->
bsize
;

1722 
Ãw_ev’t
->
ud©a
 = 
NULL
;

1723 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

1724 
Ãw_ev’t
->
rs
 = 
NULL
;

1725 
Ãw_ev’t
->
¥ec_mode
 = 0;

1726 
Ãw_ev’t
->
d©a_»¶y
 = 0;

1728 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 0);

1729 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

1731 
blk1
->
¡©us
 = 0;

1736 
	}
}

1739 
dœ_ev’tq_š£¹
(
DIRECTORY_EVENT
 *
ev’t
);

1740 #ifdeà
DCACHE_MSHR


1741 
DIRECTORY_EVENT
 *
	gev’t_ü—‹d
 = 
NULL
;

1743 #ifdeà
L1_STREAM_PREFETCHER


1745 
	$l1š™_¥
 ()

1747 
i
, 
j
;

1748 
j
=0;j<
numcÚ‹xts
;j++)

1750 
i
 = 0; i < 
L1_MISS_TABLE_SIZE
; i++)

1751 
l1miss_hi¡Üy_bË
[
j
].
hi¡Üy
[
i
] = 0;

1752 
l1miss_hi¡Üy_bË
[
j
].
mht_
 = 0;

1753 
l1miss_hi¡Üy_bË
[
j
].
mht_num
 = 0;

1755 
i
 = 0; i < 
L1_STREAM_ENTRIES
; i++)

1757 
l1¡»am_bË
[
j
][
i
].
v®id
 = 0;

1758 
l1¡»am_bË
[
j
][
i
].
addr
 = 0;

1759 
l1¡»am_bË
[
j
][
i
].
¡ride
 = 0;

1760 
l1¡»am_bË
[
j
][
i
].
»maššg_´eãtches
 = 0;

1761 
l1¡»am_bË
[
j
][
i
].
Ï¡_u£
 = 0;

1764 
	}
}

1766 
md_addr_t
 
	$¡»am_m©ch_addr
(
md_addr_t
 
addr
, 
th»adid
)

1768 
i
;

1769 
quÙ›Á
;

1770 
»mašd”
;

1771 
¡ride_di¡ªû
;

1773 
md_addr_t
 
¡»am_h—d_addr
;

1774 
i
 = 0; i < 
L1_STREAM_ENTRIES
; i++)

1776 ià(
l1¡»am_bË
[
th»adid
][
i
].
¡ride
!=0)

1778 
»mašd”
 = (
l1¡»am_bË
[
th»adid
][
i
].
addr
 -‡ddrè%†1¡»am_bË[th»adid][i].
¡ride
;

1779 
quÙ›Á
 = (
l1¡»am_bË
[
th»adid
][
i
].
addr
 -‡ddrè/†1¡»am_bË[th»adid][i].
¡ride
;

1780 
¡ride_di¡ªû
 = 
STREAM_mš_di¡ªû
;

1781 iàĞ
l1¡»am_bË
[
th»adid
][
i
].
v®id
 && !
»mašd”
 )

1783 iàĞ(
quÙ›Á
 >ğ0è&& (quÙ›Á < 
¡ride_di¡ªû
) )

1785 
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 = 
¡ride_di¡ªû
-
quÙ›Á
;

1786 
l1¡»am_bË
[
th»adid
][
i
].
Ï¡_u£
 = 
sim_cyşe
;

1787 
l1¡»am_bË
[
th»adid
][
i
].
Üd”
 = -1;

1788  
l1¡»am_bË
[
th»adid
][
i
].
addr
;

1790 ifĞ
quÙ›Á
 == -1 )

1792 
l1¡»am_bË
[
th»adid
][
i
].
addr
 =‡ddr;

1793 
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 = 
¡ride_di¡ªû
;

1794 
l1¡»am_bË
[
th»adid
][
i
].
Ï¡_u£
 = 
sim_cyşe
;

1795 
l1¡»am_bË
[
th»adid
][
i
].
Üd”
 = -1;

1796  
l1¡»am_bË
[
th»adid
][
i
].
addr
;

1800 
quÙ›Á
 = 0;

1801 
»mašd”
 = 0;

1808 
	}
}

1811 
	$l1š£¹_¥
 (
md_addr_t
 
addr
, 
th»adid
)

1813 
i
, 
num
;

1814 
di¡
;

1815 
mš_’Œy
;

1816 
md_addr_t
 
¡ride_addr
;

1817 
couÁ
 = 0;

1819 ià(
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
 == 0)

1821 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[l1miss_hi¡Üy_bË[th»adid].
mht_
] = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

1822 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 = (l1miss_hi¡Üy_bË[th»adid].mht_ + 1è% 
L1_MISS_TABLE_SIZE
;

1823 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
++;

1827 
di¡
 = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è- 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[Ö1miss_hi¡Üy_bË[th»adid].
mht_
 + 
L1_MISS_TABLE_SIZE
 - 1) % L1_MISS_TABLE_SIZE];

1828 
¡ride_addr
 = 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[Ö1miss_hi¡Üy_bË[th»adid].
mht_
 + 
L1_MISS_TABLE_SIZE
 - 1) % L1_MISS_TABLE_SIZE];

1829 
mš_’Œy
 = (
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 + 
L1_MISS_TABLE_SIZE
 - 1) % L1_MISS_TABLE_SIZE;

1832 
num
 = 1, 
i
 = (
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 + 
L1_MISS_TABLE_SIZE
 - 2è% L1_MISS_TABLE_SIZE;‚um <†1miss_hi¡Üy_bË[th»adid].
mht_num
; i = (i + L1_MISS_TABLE_SIZE - 1) % L1_MISS_TABLE_SIZE,‚um++)

1834 
cu¼_di¡
 = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è- 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1838 ià(
	`abs
 (
cu¼_di¡
è<‡b (
di¡
))

1840 
di¡
 = 
cu¼_di¡
;

1841 
¡ride_addr
 = 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1842 
mš_’Œy
 = 
i
;

1846 
i
 = 
mš_’Œy
;

1849 
i
 = (˜+ 
L1_MISS_TABLE_SIZE
 - 1) % L1_MISS_TABLE_SIZE;

1850 
cu¼_di¡
 = (
¡ride_addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è- 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1852 ià(
cu¼_di¡
 =ğ
di¡
)

1854 
couÁ
++;

1855 
¡ride_addr
 = 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1859 
i
 !ğĞĞ
mš_’Œy
 + 1 ) % 
L1_MISS_TABLE_SIZE
 ) );

1862 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[l1miss_hi¡Üy_bË[th»adid].
mht_
] = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

1863 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 = (l1miss_hi¡Üy_bË[th»adid].mht_ + 1è% 
L1_MISS_TABLE_SIZE
;

1864 ià(
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
 < 
L1_MISS_TABLE_SIZE
)

1865 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
++;

1869 iàĞ(
couÁ
 > 0è&& (
di¡
 != 0) )

1872 
id
 = 0;

1874 ià(
l1¡»am_bË
[
th»adid
][0].
v®id
 == 1)

1876 
Ï¡_u£
 = 
l1¡»am_bË
[
th»adid
][0].last_use;

1878 
id
 = 0;

1879 
i
 = 1; i < 
L1_STREAM_ENTRIES
; i++)

1881 ià(
l1¡»am_bË
[
th»adid
][
i
].
v®id
 == 1)

1884 ià(
Ï¡_u£
 > 
l1¡»am_bË
[
th»adid
][
i
].last_use)

1886 
Ï¡_u£
 = 
l1¡»am_bË
[
th»adid
][
i
].last_use;

1887 
id
 = 
i
;

1892 
id
 = 
i
;

1899 
l1¡»am_bË
[
th»adid
][
id
].
v®id
 = 1;

1900 
l1¡»am_bË
[
th»adid
][
id
].
Üd”
 = -1;

1901 
l1¡»am_bË
[
th»adid
][
id
].
addr
 =‡dd¸& ~(
ÿche_dl1
[0]->
bsize
 - 1);

1902 
l1¡»am_bË
[
th»adid
][
id
].
¡ride
 = 
di¡
;

1904 
¡ride_di¡ªû
;

1905 
¡ride_di¡ªû
 = 
STREAM_mš_di¡ªû
;

1906 
l1¡»am_bË
[
th»adid
][
id
].
»maššg_´eãtches
 = 
¡ride_di¡ªû
;

1908 
l1¡»am_bË
[
th»adid
][
id
].
Ï¡_u£
 = 0;

1911 iàĞ
STREAM_mš_En
 )

1912 
	`l1Ïunch_¥
 (
addr
, 
th»adid
, 0);

1914 
	}
}

1915 #ifdeà
L1_DISTANCE


1917 
	$l1Ïunch_¥
 (
md_addr_t
 
addr
, 
th»adid
, 
Œigg”
)

1919 iàĞ!
L1_´eãtch_En
 )

1921 
i
;

1923 
i
 = 0; i < 
L1_STREAM_ENTRIES
; i++)

1925 ià(
l1¡»am_bË
[
th»adid
][
i
].
v®id
 =ğ1 &&†1¡»am_bË[th»adid][i].
addr
 =ğ×dd¸& ~(
ÿche_dl1
[0]->
bsize
 - 1)))

1927 
lßd_Ït
 = 0;

1928 
by‹_t
 *
l1ÿche_lše
 = 
	`ÿÎoc
 (
ÿche_dl1
[0]->
bsize
,  (byte_t));

1929 
j
;

1930 
j
=0;j<
STREAM_mš_di¡ªû
;j++)

1932 ià(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 == 0)

1934 
l1¡»am_bË
[
th»adid
][
i
].
addr
 =†1¡»am_bË[th»adid][i].add¸+†1¡»am_bË[th»adid][i].
¡ride
;

1935 
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
--;

1936 
l1¡»am_bË
[
th»adid
][
i
].
Ï¡_u£
 = 
sim_cyşe
;

1945 
dl1_´eãtch_aùive
 = 1;

1946 if(
l1¡»am_bË
[
th»adid
][
i
].
¡ride
 != 0)

1948 
md_addr_t
 
addr_´eãtch
 = (
l1¡»am_bË
[
th»adid
][
i
].
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

1949 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ÿche_dl1
[
th»adid
], 
addr_´eãtch
);

1950 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ÿche_dl1
[
th»adid
], 
addr_´eãtch
);

1951 
ÿche_blk_t
 *
blk
;

1952 
ÿche_h™_æag
 = 0;

1954 
blk
 = 
ÿche_dl1
[
th»adid
]->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

1956 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

1957 
ÿche_h™_æag
 = 1;

1959 if(
ÿche_h™_æag
 == 0)

1963 
¤c
 = (
addr_´eãtch
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

1964 
m©chnum
;

1965 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr_´eãtch
, cache_dl1[th»adid]->
£t_shiá
);

1968 iàĞ!
m©chnum
 && (
ÿche_dl1
[
th»adid
]->
mshr
->
ä“EÁr›s
 > 1))

1970 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

1971 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

1972 
Ãw_ev’t
->
¡ride
 = 
l1¡»am_bË
[
th»adid
][
i
].stride;

1973 
Ãw_ev’t
->
Üd”
 = 
j
;

1974 
Ãw_ev’t
->
¡»am_’Œy_šdex
 = 
i
;

1975 
Ãw_ev’t
->
Œigg”
 =rigger;

1976 
Ãw_ev’t
->
d©a_»¶y
 = 0;

1977 
Ãw_ev’t
->
»q_time
 = 0;

1978 
Ãw_ev’t
->
³ndšg_æag
 = 0;

1979 
Ãw_ev’t
->
İ
 = 
LDQ
;

1980 
Ãw_ev’t
->
isP»ãtch
 = 0;

1981 
Ãw_ev’t
->
İ”©iÚ
 = 
MISS_READ
;

1983 
Ãw_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1985 
Ãw_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1986 #ifdeà
CENTRALIZED_L2


1988 
¤c
 = (
addr_´eãtch
 >> 
ÿche_dl2
->
£t_shiá
è% 
CENTL2_BANK_NUM
;

1989 
Ãw_ev’t
->
des1
 = 
mesh_size
 + 2 ;

1990 
Ãw_ev’t
->
des2
 = 
¤c
;

1992 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

1993 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

1995 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

1996 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1997 
Ãw_ev’t
->
·»Á
 = 
NULL
;

1998 
Ãw_ev’t
->
‹mpID
 = 
th»adid
;

1999 
Ãw_ev’t
->
»£nd
 = 0;

2000 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

2001 
Ãw_ev’t
->
ı
 = 
ÿche_dl1
[
th»adid
];

2002 
Ãw_ev’t
->
addr
 = 
addr_´eãtch
;

2003 
Ãw_ev’t
->
vp
 = 
NULL
;

2004 
Ãw_ev’t
->
nby‹s
 = 
ÿche_dl1
[
th»adid
]->
bsize
;

2005 
Ãw_ev’t
->
ud©a
 = 
NULL
;

2007 
Ãw_ev’t
->
cmd
 = 
R—d
;

2008 
Ãw_ev’t
->
rs
 = 
NULL
;

2009 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

2010 
Ãw_ev’t
->
¥ec_mode
 = 0;

2011 
Ãw_ev’t
->
L2miss_æag
 = 0;

2012 if(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 =ğ
STREAM_mš_di¡ªû
 - 1)

2014 
Ãw_ev’t
->
´eãtch_Ãxt
 = 2;

2015 
tÙ®_L1_fœ¡_´eãtch
 ++;

2019 
Ãw_ev’t
->
´eãtch_Ãxt
 = 4;

2020 
tÙ®_L1_£c_´eãtch
 ++;

2023 
Ãw_ev’t
->
cÚf_b™
 = -1;

2024 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

2026 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

2028 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

2029 
ev’t_ü—‹d
 = 
Ãw_ev’t
;

2030 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr_´eãtch
, 
WAIT_TIME
, 0, 
NULL
);

2033 iàĞ
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 <0 |†1¡»am_bË[th»adid][i].»maššg_´eãtche > 
STREAM_mš_di¡ªû
 )

2034 
	`·nic
("„emaining_prefetchesƒrror ");

2035 ià(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 == 0)

2040 
dl1_´eãtch_aùive
 = 0;

2041 
	`ä“
 (
l1ÿche_lše
);

2045 
	}
}

2048 
	$l1Ïunch_¥
 (
md_addr_t
 
addr
, 
th»adid
, 
Œigg”
)

2050 iàĞ!
L1_´eãtch_En
 )

2052 
i
;

2054 
i
 = 0; i < 
L1_STREAM_ENTRIES
; i++)

2056 ià(
l1¡»am_bË
[
th»adid
][
i
].
v®id
 =ğ1 &&†1¡»am_bË[th»adid][i].
addr
 =ğ×dd¸& ~(
ÿche_dl1
[0]->
bsize
 - 1)))

2058 
lßd_Ït
 = 0;

2059 
by‹_t
 *
l1ÿche_lše
 = 
	`ÿÎoc
 (
ÿche_dl1
[0]->
bsize
,  (byte_t));

2061 
l1¡»am_bË
[
th»adid
][
i
].
addr
 =†1¡»am_bË[th»adid][i].add¸+†1¡»am_bË[th»adid][i].
¡ride
;

2062 
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
--;

2063 
l1¡»am_bË
[
th»adid
][
i
].
Ï¡_u£
 = 
sim_cyşe
;

2065 ià(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 == 1)

2067 
l1¡»am_bË
[
th»adid
][
i
].
v®id
 = 0;

2072 
dl1_´eãtch_aùive
 = 1;

2073 if(
l1¡»am_bË
[
th»adid
][
i
].
¡ride
 != 0)

2075 
md_addr_t
 
addr_´eãtch
 = (
l1¡»am_bË
[
th»adid
][
i
].
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

2076 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ÿche_dl1
[
th»adid
], 
addr_´eãtch
);

2077 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ÿche_dl1
[
th»adid
], 
addr_´eãtch
);

2078 
ÿche_blk_t
 *
blk
;

2079 
ÿche_h™_æag
 = 0;

2081 
blk
 = 
ÿche_dl1
[
th»adid
]->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2083 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

2084 
ÿche_h™_æag
 = 1;

2086 if(
ÿche_h™_æag
 == 0)

2090 
¤c
 = (
addr_´eãtch
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

2093 
m©chnum
;

2094 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr_´eãtch
, cache_dl1[th»adid]->
£t_shiá
);

2095 if(!
m©chnum
 && (
ÿche_dl1
[
th»adid
]->
mshr
->
ä“EÁr›s
 > 1))

2097 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

2098 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

2099 
tÙ®_L1_´eãtch
 ++;

2100 
Ëv–1_´eãtch_num
 ++;

2101 
Ãw_ev’t
->
d©a_»¶y
 = 0;

2102 
Ãw_ev’t
->
»q_time
 = 0;

2103 
Ãw_ev’t
->
³ndšg_æag
 = 0;

2104 
Ãw_ev’t
->
İ
 = 
LDQ
;

2105 
Ãw_ev’t
->
isP»ãtch
 = 0;

2106 
Ãw_ev’t
->
İ”©iÚ
 = 
MISS_READ
;

2108 
Ãw_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

2110 
Ãw_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

2111 #ifdeà
CENTRALIZED_L2


2113 
¤c
 = (
addr_´eãtch
 >> 
ÿche_dl2
->
£t_shiá
è% 
CENTL2_BANK_NUM
;

2114 
Ãw_ev’t
->
des1
 = 
mesh_size
 + 2 ;

2115 
Ãw_ev’t
->
des2
 = 
¤c
;

2117 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

2118 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

2120 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

2121 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

2122 
Ãw_ev’t
->
·»Á
 = 
NULL
;

2123 
Ãw_ev’t
->
‹mpID
 = 
th»adid
;

2124 
Ãw_ev’t
->
»£nd
 = 0;

2125 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

2126 
Ãw_ev’t
->
ı
 = 
ÿche_dl1
[
th»adid
];

2127 
Ãw_ev’t
->
addr
 = 
addr_´eãtch
;

2128 
Ãw_ev’t
->
vp
 = 
NULL
;

2129 
Ãw_ev’t
->
nby‹s
 = 
ÿche_dl1
[
th»adid
]->
bsize
;

2130 
Ãw_ev’t
->
ud©a
 = 
NULL
;

2132 
Ãw_ev’t
->
cmd
 = 
R—d
;

2133 
Ãw_ev’t
->
rs
 = 
NULL
;

2134 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

2135 
Ãw_ev’t
->
¥ec_mode
 = 0;

2136 
Ãw_ev’t
->
L2miss_æag
 = 0;

2137 if(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 =ğ
STREAM_mš_di¡ªû
 - 1)

2139 
Ãw_ev’t
->
´eãtch_Ãxt
 = 2;

2140 
tÙ®_L1_fœ¡_´eãtch
 ++;

2144 
Ãw_ev’t
->
´eãtch_Ãxt
 = 4;

2145 
tÙ®_L1_£c_´eãtch
 ++;

2148 
Ãw_ev’t
->
cÚf_b™
 = -1;

2149 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

2151 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

2153 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

2154 
ev’t_ü—‹d
 = 
Ãw_ev’t
;

2155 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr_´eãtch
, 
WAIT_TIME
, 0, 
NULL
);

2160 
dl1_´eãtch_aùive
 = 0;

2161 
	`ä“
 (
l1ÿche_lše
);

2165 
	}
}

2168 #ifdeà
STREAM_PREFETCHER


2170 
	$š™_¥
 ()

2172 
i
;

2174 
i
 = 0; i < 
L2_MISS_TABLE_SIZE
; i++)

2175 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
] = 0;

2176 
miss_hi¡Üy_bË
.
mht_
 = 0;

2177 
miss_hi¡Üy_bË
.
mht_num
 = 0;

2179 
i
 = 0; i < 
L2_STREAM_ENTRIES
; i++)

2181 
¡»am_bË
[
i
].
v®id
 = 0;

2182 
¡»am_bË
[
i
].
addr
 = 0;

2183 
¡»am_bË
[
i
].
¡ride
 = 0;

2184 
¡»am_bË
[
i
].
»maššg_´eãtches
 = 0;

2185 
¡»am_bË
[
i
].
Ï¡_u£
 = 0;

2187 
	}
}

2190 
	$š£¹_¥
 (
md_addr_t
 
addr
, 
th»adid
)

2192 
i
, 
num
;

2193 
di¡
;

2194 
mš_’Œy
;

2195 
md_addr_t
 
¡ride_addr
;

2196 
couÁ
 = 0;

2198 ià(
miss_hi¡Üy_bË
.
mht_num
 == 0)

2200 
miss_hi¡Üy_bË
.
hi¡Üy
[miss_hi¡Üy_bË.
mht_
] = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1));

2201 
miss_hi¡Üy_bË
.
mht_
 = (miss_hi¡Üy_bË.mht_ + 1è% 
L2_MISS_TABLE_SIZE
;

2202 
miss_hi¡Üy_bË
.
mht_num
++;

2206 
di¡
 = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[(miss_hi¡Üy_bË.
mht_
 + 
L2_MISS_TABLE_SIZE
 - 1) % L2_MISS_TABLE_SIZE];

2207 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[(miss_hi¡Üy_bË.
mht_
 + 
L2_MISS_TABLE_SIZE
 - 1) % L2_MISS_TABLE_SIZE];

2208 
mš_’Œy
 = (
miss_hi¡Üy_bË
.
mht_
 + 
L2_MISS_TABLE_SIZE
 - 1) % L2_MISS_TABLE_SIZE;

2211 
num
 = 1, 
i
 = (
miss_hi¡Üy_bË
.
mht_
 + 
L2_MISS_TABLE_SIZE
 - 2è% L2_MISS_TABLE_SIZE;‚um < miss_hi¡Üy_bË.
mht_num
; i = (i + L2_MISS_TABLE_SIZE - 1) % L2_MISS_TABLE_SIZE,‚um++)

2213 
cu¼_di¡
 = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

2215 ià(
	`abs
 (
cu¼_di¡
è<‡b (
di¡
))

2217 
di¡
 = 
cu¼_di¡
;

2218 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

2219 
mš_’Œy
 = 
i
;

2223 
i
 = 
mš_’Œy
;

2226 
i
 = (˜+ 
L2_MISS_TABLE_SIZE
 - 1) % L2_MISS_TABLE_SIZE;

2227 
cu¼_di¡
 = (
¡ride_addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

2229 ià(
cu¼_di¡
 =ğ
di¡
)

2231 
couÁ
++;

2232 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

2236 
i
 !ğĞĞ
mš_’Œy
 + 1 ) % 
L2_MISS_TABLE_SIZE
 ) );

2239 
miss_hi¡Üy_bË
.
hi¡Üy
[miss_hi¡Üy_bË.
mht_
] = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1));

2240 
miss_hi¡Üy_bË
.
mht_
 = (miss_hi¡Üy_bË.mht_ + 1è% 
L2_MISS_TABLE_SIZE
;

2241 ià(
miss_hi¡Üy_bË
.
mht_num
 < 
L2_MISS_TABLE_SIZE
)

2242 
miss_hi¡Üy_bË
.
mht_num
++;

2244 ià(
couÁ
 > 1)

2248 
id
 = 0;

2250 ià(
¡»am_bË
[0].
v®id
 == 1)

2252 
Ï¡_u£
 = 
¡»am_bË
[0].last_use;

2254 
id
 = 0;

2255 
i
 = 1; i < 
L2_STREAM_ENTRIES
; i++)

2257 ià(
¡»am_bË
[
i
].
v®id
 == 1)

2259 ià(
Ï¡_u£
 < 
¡»am_bË
[
i
].last_use)

2261 
Ï¡_u£
 = 
¡»am_bË
[
i
].last_use;

2262 
id
 = 
i
;

2267 
id
 = 
i
;

2274 
¡»am_bË
[
id
].
v®id
 = 1;

2275 
¡»am_bË
[
id
].
addr
 =‡dd¸& ~(
ÿche_dl2
->
bsize
 - 1);

2276 
¡»am_bË
[
id
].
¡ride
 = 
di¡
;

2277 
¡»am_bË
[
id
].
»maššg_´eãtches
 = 
STREAM_L2_di¡ªû
;

2278 
¡»am_bË
[
id
].
Ï¡_u£
 = 2000000000;

2281 
	`Ïunch_¥
 (
id
, 
th»adid
);

2283 
	}
}

2286 
	$Ïunch_¥
 (
id
, 
th»adid
)

2288 iàĞ!
L2_´eãtch_En
 )

2290 
i
 = 
id
;

2292 ià(
¡»am_bË
[
i
].
v®id
 == 1)

2294 ; 
¡»am_bË
[
i
].
»maššg_´eãtches
; stream_table[i].remaining_prefetches --)

2296 
lßd_Ït
 = 0;

2297 
by‹_t
 *
l1ÿche_lše
 = 
	`ÿÎoc
 (
ÿche_dl2
->
bsize
,  (byte_t));

2299 
¡»am_bË
[
i
].
addr
 = sŒ—m_bË[i].add¸+ sŒ—m_bË[i].
¡ride
;

2300 
¡»am_bË
[
i
].
Ï¡_u£
 = 
sim_cyşe
;

2305 
dl2_´eãtch_aùive
 = 1;

2306 
dl2_´eãtch_id
 = 
i
;

2307 
DIRECTORY_EVENT
 *
ev’t
 = 
	`®loÿ‹_ev’t
(0);

2308 if(
ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

2309 
ev’t
->
cÚf_b™
 = -1;

2310 
ev’t
->
³ndšg_æag
 = 0;

2311 
ev’t
->
addr
 = (
¡»am_bË
[
i
].add¸& ~(
ÿche_dl2
->
bsize
 - 1));

2312 
ev’t
->
´eãtch_Ãxt
 = 3;

2313 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

2314 
ev’t
->
İ”©iÚ
 = 
L2_PREFETCH
;

2315 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

2316 
ev’t
->
İ
 = 0;

2317 
ev’t
->
ı
 = 
ÿche_dl1
[0];

2318 
ev’t
->
‹mpID
 = 
th»adid
;

2319 
ev’t
->
nby‹s
 = 
ÿche_dl1
[0]->
bsize
;

2320 
ev’t
->
ud©a
 = 
NULL
;

2321 
ev’t
->
rs
 = 
NULL
;

2322 
ev’t
->
¥ec_mode
 = 0;

2323 
ev’t
->
šput_bufãr_fuÎ
 = 0;

2324 
ev’t
->
¤c1
 = 
th»adid
/
mesh_size
 + 
MEM_LOC_SHIFT
;

2325 
ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

2326 
¤c
;

2327 #ifdeà
CENTRALIZED_L2


2329 
¤c
 = (
ev’t
->
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
CENTL2_BANK_NUM
;

2330 
ev’t
->
des1
 = 
mesh_size
 + 2 ;

2331 
ev’t
->
des2
 = 
¤c
;

2334 
¤c
 = (
ev’t
->
addr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

2335 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

2336 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

2338 
ev’t
->
d©a_»¶y
 = 0;

2339 
ev’t
->
´oûssšgDÚe
 = 0;

2340 
ev’t
->
»q_time
 = 0;

2341 
	`dœ_ev’tq_š£¹
(
ev’t
);

2343 
dl2_´eãtch_aùive
 = 0;

2344 
	`ä“
 (
l1ÿche_lše
);

2347 
¡»am_bË
[
i
].
»maššg_´eãtches
 = 1;

2348 
	}
}

2353 
couÁ”_t
 
tÙ®L2Wr™eReqH™s
;

2354 
couÁ”_t
 
tÙ®L2Wr™eReqNoSh¬”
;

2355 
couÁ”_t
 
tÙ®L2Wr™eReqDœty
;

2356 
couÁ”_t
 
d–ayL2Wr™eReqDœty
;

2357 
couÁ”_t
 
tÙ®L2Wr™eReqSh¬ed
;

2358 
couÁ”_t
 
d–ayL2Wr™eReqSh¬ed
;

2360 
couÁ”_t
 
tÙ®L2R—dReqH™s
;

2361 
couÁ”_t
 
tÙ®L2R—dReqNoSh¬”
;

2362 
couÁ”_t
 
tÙ®L2R—dReqDœty
;

2363 
couÁ”_t
 
d–ayL2R—dReqDœty
;

2365 
couÁ”_t
 
tÙ®L2R—dReqSh¬ed
;

2366 
couÁ”_t
 
tÙ®L2Wr™eReqSh¬edWT
;

2367 
couÁ”_t
 
tÙ®L2Wr™eReqDœtyWT
;

2368 
couÁ”_t
 
tÙ®L2R—dReqDœtyWT
;

2370 
couÁ”_t
 
tÙ®L1LšeP»fU£
;

2371 
couÁ”_t
 
tÙ®L1LšeP»fNoU£
;

2372 
couÁ”_t
 
tÙ®L1LšeR—dU£
;

2373 
couÁ”_t
 
tÙ®L1LšeR—dNoU£
;

2374 
couÁ”_t
 
tÙ®L1LšeWr™eU£
;

2375 
couÁ”_t
 
tÙ®L1LšeWr™eNoU£
;

2377 
couÁ”_t
 
tÙ®L1LšeExlU£d
;

2378 
couÁ”_t
 
tÙ®L1LšeExlInv
;

2379 
couÁ”_t
 
tÙ®L1LšeExlDrİ
;

2381 
couÁ”_t
 
tÙ®L2ReqPrimMiss
;

2382 
couÁ”_t
 
tÙ®L2ReqSecMiss
;

2383 
couÁ”_t
 
tÙ®L2ReqH™
;

2384 
couÁ”_t
 
tÙ®L2ReqInT¿ns
;

2385 
couÁ”_t
 
tÙ®L2OwnReqInT¿ns
;

2386 
couÁ”_t
 
tÙ®L2ReqInInv
;

2388 
couÁ”_t
 
d–ayL2ReqPrimMiss
;

2389 
couÁ”_t
 
d–ayL2ReqSecMiss
;

2390 
couÁ”_t
 
d–ayL2ReqH™
;

2391 
couÁ”_t
 
d–ayL2ReqInT¿ns
;

2392 
couÁ”_t
 
d–ayL2OwnReqInT¿ns
;

2393 
couÁ”_t
 
d–ayL2ReqInInv
;

2395 
couÁ”_t
 
tÙ®Wr™eReq
;

2396 
couÁ”_t
 
tÙ®Wr™eReqInv
;

2397 
couÁ”_t
 
tÙ®Wr™eD–ay
;

2398 
couÁ”_t
 
tÙ®Wr™eInvD–ay
;

2399 
couÁ”_t
 
tÙ®Upg¿deReq
;

2400 
couÁ”_t
 
	gtÙ®Upg¿deMiss
;

2401 
couÁ”_t
 
tÙ®Upg¿deReqInv
;

2402 
couÁ”_t
 
tÙ®Upg¿deD–ay
;

2403 
couÁ”_t
 
tÙ®Upg¿deInvD–ay
;

2404 
couÁ”_t
 
	gm_upd©e_miss
[
MAXTHREADS
];

2406 
couÁ”_t
 
couÁNÚAÎocR—dE¬ly
;

2407 
couÁ”_t
 
	gsh¬”_di¡r
[
MAXTHREADS
];

2408 
couÁ”_t
 
	gtÙ®_cÜÃr_·ck‘s
, 
	gtÙ®_ÃighbÜ_·ck‘s
, 
	gtÙ®_çr_·ck‘s
;

2410 
couÁ”_t
 
šv®id©iÚ_»¶ay
[
MAXTHREADS
];

2412 
	$£ndLSQInv
(
md_addr_t
 
addr
, 
th»adid
)

2414 ià(
cŞËù_¡©s
)

2416 
cx
, 
dx
;

2417 
LSQ_size
;

2418 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

2419 
md_addr_t
 
mask
;

2421 
mask
 = ~
ÿche_dl1
[
th»adid
]->
blk_mask
;

2423 
cx
 = 
cu¼’t
->
LSQ_h—d
, 
dx
 = 0; dx !ğcu¼’t->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

2425 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOADè&& (cu¼’t->LSQ[cx].
addr
 & 
mask
è=ğ×dd¸& maskè&& !cu¼’t->LSQ[cx].
¥ec_mode


2426 &&!
cu¼’t
->
LSQ
[
cx
].
isP»ãtch
 && cu¼’t->LSQ[cx].
issued
)

2428 #ifdeà
SEQUENTIAL_CONSISTENCY


2429 
	`fixS³cS‹
 (
cu¼’t
->
LSQ
[
cx
].
´od
[1]->
šdex
, 
th»adid
);

2430 
cu¼’t
->
»gs
 = cu¼’t->
LSQ
[
cx
].
´od
[1]->
backupReg
;

2431 
	`£qCÚsi¡ªcyR•Ïy
 (
cu¼’t
->
LSQ
[
cx
].
´od
[1]->
šdex
, 
th»adid
);

2432 
šv®id©iÚ_»¶ay
[
th»adid
]++;

2435 #ifdeà
RELAXED_CONSISTENCY


2436 
cu¼’t
->
LSQ
[
cx
].
šv®id©iÚReûived
 = 1;

2441 
	}
}

2444 
	$»£t_pÜts
()

2446 
i
;

2447 
i
 = 0; i < 
MAXTHREADS
+
mesh_size
*2; i++)

2449 
dœ_fifo_pÜtu£
[
i
] = 0;

2450 
l1_fifo_pÜtu£
[
i
] = 0;

2451 
tshr_fifo_pÜtu£
[
i
] = 0;

2453 
	}
}

2455 
m_shSQSize
;

2456 
	$dœ_fifo_’queue
(
DIRECTORY_EVENT
 *
ev’t
, 
ty³
)

2458 
th»adid
 = 
ev’t
->
des1
*
mesh_size
 +ƒv’t->
des2
;

2459 if(
ev’t
->
İ”©iÚ
 =ğ
INV_MSG_READ
 ||ƒv’t->İ”©iÚ =ğ
INV_MSG_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_IL1
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_SHARED


2460 || 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITE


2461 || 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
 ||ƒv’t->İ”©iÚ =ğ
FINAL_INV_ACK


2462 || 
ev’t
->
İ”©iÚ
 =ğ
NACK
 ||ƒv’t->İ”©iÚ =ğ
FAIL


2465 if(
l1_fifo_num
[
th»adid
] >ğ
DIR_FIFO_SIZE
)

2466 
	`·nic
("L1 cache FIFO is full");

2467 if(
ty³
 =ğ0 && 
l1_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
)

2469 if(
l1_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
 && !
Ï¡_L1_fifo_fuÎ
[threadid])

2471 
L1_fifo_fuÎ
 ++;

2472 
Ï¡_L1_fifo_fuÎ
[
th»adid
] = 
sim_cyşe
;

2476 if(
Ï¡_L1_fifo_fuÎ
[
th»adid
])

2478 
SÎ_L1_fifo
 +ğ
sim_cyşe
 - 
Ï¡_L1_fifo_fuÎ
[
th»adid
];

2479 
Ï¡_L1_fifo_fuÎ
[
th»adid
] = 0;

2481 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_IL1
èev’t->
wh’
 = 
sim_cyşe
 + 
ÿche_1_Ït
;

2482 
ev’t
->
wh’
 = 
sim_cyşe
 + 
ÿche_dl1_Ït
;

2483 
l1_fifo
[
th»adid
][
l1_fifo_
[th»adid]] = 
ev’t
;

2484 
l1_fifo_
[
th»adid
] = (l1_fifo_[th»adid]+1)%
DIR_FIFO_SIZE
;

2485 
l1_fifo_num
[
th»adid
]++;

2490 if(
ev’t
->
æ_æag
)

2492 if(
tshr_fifo_num
[
th»adid
] >ğ
TSHR_FIFO_SIZE
)

2493 
	`·nic
("TSHR FIFO is full");

2494 
ev’t
->
wh’
 = 
sim_cyşe
+
RETRY_TIME
;

2495 
tshr_fifo
[
th»adid
][
tshr_fifo_
[th»adid]] = 
ev’t
;

2496 
tshr_fifo_
[
th»adid
] = (tshr_fifo_[th»adid]+1)%
TSHR_FIFO_SIZE
;

2497 
tshr_fifo_num
[
th»adid
]++;

2500 if(
dœ_fifo_num
[
th»adid
] >ğ
DIR_FIFO_SIZE
)

2501 
	`·nic
("DIR FIFO is full");

2502 ifĞ(
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_MISS
 ) ||

2503 (
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_WRITE_BACK
 ) ||

2504 (
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_SR_RECOVERY
 ) ||

2505 (
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_UPDATE_PR_ACK
) ||

2506 (
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_UPDATE_PW_ACK
) ||

2507 (
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_RECOVERY_ACK
 ) ||

2508 (
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_REFILL
 ) ||

2509 (
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_UPDATE
 ) ||

2510 (
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_RECOVERY
 ) ||

2511 (
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_REFILL_WAIT
 ) ||

2512 (
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_UPDATE_WAIT
 ) ||

2513 (
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_RECOVERY_WAIT
)

2516 
ev’t
->
wh’
 = 
sim_cyşe
;

2517 
dœ_fifo
[
th»adid
][
dœ_fifo_
[th»adid]] = 
ev’t
;

2518 
dœ_fifo_
[
th»adid
] = (dœ_fifo_[th»adid]+1)%
DIR_FIFO_SIZE
;

2519 
dœ_fifo_num
[
th»adid
]++;

2522 if(
ty³
 =ğ0 && 
dœ_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
)

2524 if(
dœ_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
 && !
Ï¡_Dœ_fifo_fuÎ
[threadid])

2526 
Dœ_fifo_fuÎ
 ++;

2527 
Ï¡_Dœ_fifo_fuÎ
[
th»adid
] = 
sim_cyşe
;

2531 if(
Ï¡_Dœ_fifo_fuÎ
[
th»adid
])

2533 
SÎ_dœ_fifo
 +ğ
sim_cyşe
 - 
Ï¡_Dœ_fifo_fuÎ
[
th»adid
];

2534 
Ï¡_Dœ_fifo_fuÎ
[
th»adid
] = 0;

2537 if(
ev’t
->
no_L2_d–ay
)

2539 
ev’t
->
wh’
 = 
sim_cyşe
;

2540 
ev’t
->
no_L2_d–ay
 = 0;

2542 if(
ev’t
->
İ”©iÚ
 !ğ
MEM_READ_REQ
 &&ƒv’t->İ”©iÚ !ğ
MEM_READ_REPLY
 &&ƒv’t->İ”©iÚ !ğ
WAIT_MEM_READ_N_WAIT
 )

2544 
ev’t
->
wh’
 = 
sim_cyşe
 + 
ÿche_dl2_Ït
;

2545 iàĞ
mb_·š_’
 && (
mb_·š_couÁ
 > 0è&& (
ev’t
->
İ”©iÚ
 =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
) )

2547 
ev’t
->
wh’
++;

2548 
mb_·š_d–ay_num
 ++;

2549 
mb_·š_couÁ
--;

2553 
ev’t
->
wh’
 = 
sim_cyşe
;

2554 
dœ_fifo
[
th»adid
][
dœ_fifo_
[th»adid]] = 
ev’t
;

2555 
dœ_fifo_
[
th»adid
] = (dœ_fifo_[th»adid]+1)%
DIR_FIFO_SIZE
;

2556 
dœ_fifo_num
[
th»adid
]++;

2559 
	}
}

2561 
	$dœ_fifo_dequeue
()

2563 
i
, 
j
;

2564 
PPP_šdiÿtiÚ
;

2568 
i
 = 0; i < 
numcÚ‹xts
+
mesh_size
*2; i++)

2570 if(
tshr_fifo_num
[
i
] <ğ0 || 
tshr_fifo_pÜtu£
[i] >ğ
DIR_FIFO_PORTS
)

2574 if(
tshr_fifo
[
i
][
tshr_fifo_h—d
[i]]->
wh’
 > 
sim_cyşe
)

2576 if(
	`dœ_İ”©iÚ
(
tshr_fifo
[
i
][
tshr_fifo_h—d
[i]], 0) == 0)

2578 
b_Œªsãr
;

2579 
b_Œªsãr
 = 
	`b_Œªsãr_check
(
tshr_fifo
[
i
][
tshr_fifo_h—d
[i]]);

2580 iàĞ!
b_Œªsãr
 )

2581 
tshr_fifo_pÜtu£
[
i
]++;

2582 
tshr_fifo_h—d
[
i
] = (tshr_fifo_h—d[i]+1)%
TSHR_FIFO_SIZE
;

2583 
tshr_fifo_num
[
i
]--;

2584 if(
tshr_fifo_pÜtu£
[
i
] >ğ
DIR_FIFO_PORTS
 || 
tshr_fifo_num
[i] <= 0)

2590 
i
 = 0; i < 
numcÚ‹xts
+
mesh_size
*2; i++)

2592 if(
dœ_fifo_num
[
i
] <ğ0 || 
dœ_fifo_pÜtu£
[i] >ğ
DIR_FIFO_PORTS
)

2596 if(
dœ_fifo
[
i
][
dœ_fifo_h—d
[i]]->
wh’
 > 
sim_cyşe
)

2599 
Q_h™_num
 = 
»ad_Q_h™_num
 + 
wr™e_Q_h™_num
;

2601 if(
	`dœ_İ”©iÚ
(
dœ_fifo
[
i
][
dœ_fifo_h—d
[i]], 0) == 0)

2604 if((
Q_h™_num
<(
»ad_Q_h™_num
+
wr™e_Q_h™_num
)è&& 
mb_·š_’
)

2606 
dœ_fifo_pÜtu£
[
i
]++;

2607 
mb_·š_pÜtu£_num
++;

2610 
b_Œªsãr
;

2611 
b_Œªsãr
 = 
	`b_Œªsãr_check
(
dœ_fifo
[
i
][
dœ_fifo_h—d
[i]]);

2612 iàĞ!
b_Œªsãr
 )

2613 
dœ_fifo_pÜtu£
[
i
]++;

2614 
dœ_fifo_h—d
[
i
] = (dœ_fifo_h—d[i]+1)%
DIR_FIFO_SIZE
;

2615 
dœ_fifo_num
[
i
]--;

2616 if(
dœ_fifo_pÜtu£
[
i
] >ğ
DIR_FIFO_PORTS
 || 
dœ_fifo_num
[i] <= 0)

2622 
i
 = 0; i < 
numcÚ‹xts
+
mesh_size
*2; i++)

2624 
»s_poŞ
 *
fu_poŞ
;

2626 if(
l1_fifo_num
[
i
] <ğ0 || 
l1_fifo_pÜtu£
[i] >ğ
DIR_FIFO_PORTS
)

2630 if(
l1_fifo
[
i
][
l1_fifo_h—d
[i]]->
wh’
 > 
sim_cyşe
)

2632 if(
	`dœ_İ”©iÚ
(
l1_fifo
[
i
][
l1_fifo_h—d
[i]], 0) == 0)

2634 
l1_fifo_pÜtu£
[
i
]++;

2635 
l1_fifo_h—d
[
i
] = (l1_fifo_h—d[i]+1)%
DIR_FIFO_SIZE
;

2636 
l1_fifo_num
[
i
]--;

2637 if(
l1_fifo_pÜtu£
[
i
] >ğ
DIR_FIFO_PORTS
 || 
l1_fifo_num
[i] <= 0)

2641 
	}
}

2646 
	$dœ_ev’tq_š£¹
(
DIRECTORY_EVENT
 *
ev’t
)

2648 
DIRECTORY_EVENT
 *
ev
, *
´ev
;

2650 
´ev
 = 
NULL
, 
ev
 = 
dœ_ev’t_queue
;ƒv && (Óv->
wh’
è<ğ(
ev’t
->wh’));…»v =ƒv,ƒv =ƒv->
Ãxt
);

2651 ià(
´ev
)

2653 
ev’t
->
Ãxt
 = 
ev
;

2654 
´ev
->
Ãxt
 = 
ev’t
;

2658 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

2659 
dœ_ev’t_queue
 = 
ev’t
;

2661 
	}
}

2664 #ifdeà
CONF_RES_RESEND


2666 
	$queue_š£¹
(
DIRECTORY_EVENT
 *
ev’t
, 
QUEUE_EVENT
 *
queue
)

2668 
i
 = 0;

2669 if(
queue
->
ä“_EÁr›s
 == 0)

2670 
	`·nic
("There is‚o freeƒntryo insert in sending message queue");

2672 
i
=0; i<
QUEUE_SIZE
; i++)

2674 if(!
queue
->
Queue_’Œy
[
i
].
isv®id
)

2676 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 1;

2677 
queue
->
Queue_’Œy
[
i
].
ev’t
 =ƒvent;

2678 
queue
->
ä“_EÁr›s
 --;

2683 
	}
}

2685 
	$ä“_queue
(
DIRECTORY_EVENT
 *
ev’t
, 
QUEUE_EVENT
 *
queue
)

2687 
i
 = 0;

2688 if(!
queue
) ;

2689 
i
=0; i<
QUEUE_SIZE
; i++)

2691 if(
queue
->
Queue_’Œy
[
i
].
isv®id
 && (queue->Queue_’Œy[i].
ev’t
->
addr
 =ğev’t->addrè&& (queue->Queue_’Œy[i].ev’t->
¡¬‹d
 ==ƒvent->started)

2692 && (
queue
->
Queue_’Œy
[
i
].
ev’t
->
missNo
 ==ƒvent->missNo))

2694 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 0;

2695 
queue
->
ä“_EÁr›s
 ++;

2700 if(
queue
->
ä“_EÁr›s
 > 
QUEUE_SIZE
)

2701 
	`·nic
("QUEUE SIZE EXCEEDS\n");

2703 
	}
}

2705 
	$queue_check
(
DIRECTORY_EVENT
 *
ev’t
, 
QUEUE_EVENT
 *
queue
)

2707 
i
 = 0;

2708 if(!
queue
)  0;

2709 
i
=0; i<
QUEUE_SIZE
; i++)

2711 if(
queue
->
Queue_’Œy
[
i
].
isv®id
 && (queue->Queue_’Œy[i].
ev’t
->
addr
 =ğev’t->addrè&& (queue->Queue_’Œy[i].ev’t->
¡¬‹d
 ==ƒvent->started)

2712 && (
queue
->
Queue_’Œy
[
i
].
ev’t
->
missNo
 ==ƒvent->missNo))

2716 
	}
}

2719 
	$ev’tq_upd©e
(
RUU_¡©iÚ
 *
rs
, 
tick_t
 
»ady
)

2721 
RS_lšk
 *
ev
, *
´ev
, *
Ãw_ev
=
NULL
;

2723 if(
rs
 =ğ
NULL
 || 
ev’t_queue
 == NULL)

2728 
´ev
=
NULL
, 
ev
=
ev’t_queue
; (ev->
Ãxt
!=NULL);…rev=ev,ƒv=ev->next)

2730 if((
ev
->
rs
 =ğrsè&& (ev->
g
 ==„s->tag))

2736 ià((
ev
->
rs
 =ğrsè&& (ev->
g
 ==„s->tag))

2738 ià(
´ev
)

2740 
´ev
->
Ãxt
 = 
ev
->next;

2744 
ev’t_queue
 = 
ev
->
Ãxt
;

2746 
Ãw_ev
 = 
ev
;

2747 
Ãw_ev
->
x
.
wh’
 = 
»ady
;

2749 
´ev
=
NULL
, 
ev
=
ev’t_queue
;ƒv &&ƒv->
x
.
wh’
 < 
»ady
;…»vóv,ƒvóv->
Ãxt
);

2750 ià(
´ev
)

2752 
Ãw_ev
->
Ãxt
 = 
´ev
->next;

2753 
´ev
->
Ãxt
 = 
Ãw_ev
;

2757 
Ãw_ev
->
Ãxt
 = 
ev’t_queue
;

2758 
ev’t_queue
 = 
Ãw_ev
;

2761 
	}
}

2762 #ifdeà
TSHRn


2763 
	$š™TSHR
(
tshr_t
 *
tshr
, 
æag
)

2765 
i
;

2766 
tshr
->
tshrSIZE
 = 
TSHR_SIZE
;

2767 
tshr
->
ä“EÁr›s
 = 
TSHR_SIZE
;

2768 
i
 = 0; i < 
TSHR_SIZE
; i++)

2770 
tshr
->
tshrEÁry
[
i
].
id
 = i;

2771 
tshr
->
tshrEÁry
[
i
].
isV®id
 = 0;

2772 
tshr
->
tshrEÁry
[
i
].
ev’t
 = 
NULL
;

2773 
tshr
->
tshrEÁry
[
i
].
addr
 = 0;

2775 
	}
}

2776 
	$TSHRIn£¹
(
tshr_t
 *
tshr
, 
DIRECTORY_EVENT
 *
ev’t
, 
md_addr_t
 
addr
)

2778 
i
;

2780 if(
tshr
->
ä“EÁr›s
 == 0)

2781 
	`·nic
("There is‚o freeƒntryo insert in TSHR");

2783 
i
 = 0; i < 
TSHR_SIZE
; i++)

2785 if(!
tshr
->
mshrEÁry
[
i
].
isV®id
)

2787 
tshr
->
tshrEÁry
[
i
].
isV®id
 = 1;

2788 
tshr
->
tshrEÁry
[
i
].
ev’t
 =ƒvent;

2789 
tshr
->
tshrEÁry
[
i
].
³ndšg_addr
 = (
addr
 & ~
ÿche_dl2
->
bsize
);

2790 
tshr
->
ä“EÁr›s
--;

2794 
	`·nic
("There is‚o freeƒntryo insert in MSHR");

2795 
	}
}

2796 
	$TSHRWakeup
(
tshr_t
 *
tshr
, 
wakeup_addr
)

2798 
i
;

2800 
i
 = 0; i < 
TSHR_SIZE
; i++)

2802 if(
tshr
->
mshrEÁry
[
i
].
isV®id
 && (tshr->
tshrEÁry
[i].
³ndšg_addr
 =ğ(
wakeup_addr
 & ~
ÿche_dl2
->
bsize
)))

2804 if(
	`dœ_İ”©iÚ
(
tshr
->
tshrEÁry
[
i
].
ev’t
))

2806 
tshr
->
tshrEÁry
[
i
].
isV®id
 = 1;

2807 
tshr
->
tshrEÁry
[
i
].
ev’t
 = 
NULL
;

2808 
tshr
->
tshrEÁry
[
i
].
³ndšg_addr
 = 0;

2809 
tshr
->
ä“EÁr›s
++;

2812 
	`·nic
("can‚ot wakeup becuasehe blk is still inransient state");

2816 
	`·nic
("There is‚o matchƒntry in TSHR");

2818 
	}
}

2821 #ifdeà
DCACHE_MSHR


2823 
	$š™MSHR
(
mshr_t
 *
mshr
, 
æag
)

2825 
i
, 
mshr_size
;

2826 if(!
mshr
) ;

2827 if(
æag
 == 1)

2828 
mshr_size
 = 
L2_MSHR_SIZE
;

2830 
mshr_size
 = 
MSHR_SIZE
;

2832 
mshr
->
mshrSIZE
 = 
mshr_size
;

2833 
mshr
->
ä“EÁr›s
 = 
mshr_size
;

2834 #ifdeà 
EDA


2835 
mshr
->
ä“OCEÁr›s
 = 
MSHR_OC_SIZE
;

2837 
i
 = 0; i < 
mshr_size
; i++)

2839 
mshr
->
mshrEÁry
[
i
].
id
 = i;

2840 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2841 
mshr
->
mshrEÁry
[
i
].
addr
 = 0;

2842 
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 = 0;

2843 
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 0;

2844 
mshr
->
mshrEÁry
[
i
].
blocknum
 = 0;

2845 #ifdeà 
EDA


2846 
mshr
->
mshrEÁry
[
i
].
isOC
 = 0;

2849 
	}
}

2851 
	$isMSHRFuÎ
(
mshr_t
 *
mshr
, 
isOC
, 
id
)

2853 if(!
mshr
)  0;

2854 if(
mshr
->
ä“EÁr›s
 =ğ0 && !
Ï¡_L1_mshr_fuÎ
[
id
])

2856 
L1_mshr_fuÎ
 ++;

2857 
Ï¡_L1_mshr_fuÎ
[
id
] = 
sim_cyşe
;

2861 if(
Ï¡_L1_mshr_fuÎ
[
id
])

2863 
SÎ_L1_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L1_mshr_fuÎ
[
id
];

2864 
Ï¡_L1_mshr_fuÎ
[
id
] = 0;

2867  (
mshr
->
ä“EÁr›s
 == 0);

2868 
	}
}

2870 
	$ä“MSHR
(
mshr_t
 *
mshr
)

2872 
i
;

2873 if(!
mshr
) ;

2874 
i
 = 0; i < 
MSHR_SIZE
; i++)

2876 if(
mshr
->
mshrEÁry
[
i
].
isV®id
 && mshr->mshrEÁry[i].
’dCyşe
 <ğ
sim_cyşe
)

2878 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2879 
mshr
->
ä“EÁr›s
++;

2880 
RS_li¡
 *
´ev
, *
cur
;

2881 
cur
 = 
rs_ÿche_li¡
[
mshr
->
th»adid
][
i
];

2882 
cur
)

2884 if(
cur
->
rs
 && ((cur->rs->
addr
)>>
ÿche_dl1
[
mshr
->
th»adid
]->
£t_shiá
è!ğ(mshr->
mshrEÁry
[
i
].addr>>cache_dl1[mshr->threadid]->set_shift))

2885 
	`·nic
("L1 MSHR: illegal‡ddress in MSHR†ist");

2887 
´ev
 = 
cur
->
Ãxt
;

2888 
	`RS_block_Ãxt
(
cur
);

2889 
	`ä“
(
cur
);

2890 
cur
 = 
´ev
;

2892 
rs_ÿche_li¡
[
mshr
->
th»adid
][
i
] = 
NULL
;

2895 ià(
mshr
->
ä“EÁr›s
 > 
MSHR_SIZE
)

2896 
	`·nic
("MSHR SIZEƒxceeds\n");

2897 
	}
}

2899 
	$ä“L2MSHR
(
mshr_t
 *
mshr
)

2901 
i
;

2902 if(!
mshr
) ;

2903 
i
 = 0; i < 
L2_MSHR_SIZE
; i++)

2905 if(
mshr
->
mshrEÁry
[
i
].
isV®id
 && mshr->mshrEÁry[i].
’dCyşe
 <ğ
sim_cyşe
)

2907 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2908 
mshr
->
mshrEÁry
[
i
].
blocknum
 = 0;

2909 
mshr
->
ä“EÁr›s
++;

2912 ià(
mshr
->
ä“EÁr›s
 > 
L2_MSHR_SIZE
)

2913 
	`·nic
("MSHR SIZEƒxceeds\n");

2914 
	}
}

2916 
	$MSHR_block_check
(
mshr_t
 *
mshr
, 
md_addr_t
 
addr
, 
off£t
)

2919 
i
, 
m©ch
 = 0, 
mshr_size
;

2920 
mshr_size
 = 
mshr
->
mshrSIZE
;

2922 
i
=0; i<
mshr_size
; i++)

2924 if(
mshr
->
mshrEÁry
[
i
].
isV®id
)

2926 if(((
mshr
->
mshrEÁry
[
i
].
addr
>>
off£t
) == (addr>>offset)))

2928 if(
m©ch
 !ğ0è
	`·nic
("MSHR:‡ miss‡ddress belongso morehanwo MSHR Entries");

2929 
m©ch
 = (
i
+1);

2933  
m©ch
;

2934 
	}
}

2937 
	$MSHRLookup
(
mshr_t
 *
mshr
, 
md_addr_t
 
addr
, 
Ït
, 
isOC
, 
RUU_¡©iÚ
 *
rs
)

2939 
i
, 
mshr_size
;

2940 if(!
mshr
) ;

2942 if(
Ït
 < 
ÿche_dl1_Ït
)

2945 
mshr_size
 = 
mshr
->
mshrSIZE
;

2947 if(
rs
 &&„s->
th»adid
 !ğ
mshr
->threadid)

2948 
	`·nic
("L1 MSHR wronghreadid");

2950 if(
mshr
->
ä“EÁr›s
 == 0)

2951 
	`·nic
("There is‚o freeƒntryo insert in MSHR");

2953 
i
 = 0; i < 
mshr_size
; i++)

2955 if(!
mshr
->
mshrEÁry
[
i
].
isV®id
)

2957 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 1;

2958 
mshr
->
mshrEÁry
[
i
].
addr
 =‡ddr;

2959 
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 = 
sim_cyşe
;

2960 
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
sim_cyşe
 + 
Ït
;

2961 
mshr
->
mshrEÁry
[
i
].
ev’t
 = 
ev’t_ü—‹d
;

2962 
mshr
->
mshrEÁry
[
i
].
rs
 =„s;

2963 
mshr
->
ä“EÁr›s
--;

2968 
	`·nic
("There is‚o freeƒntryo insert in MSHR");

2969 
	}
}

2971 
	$mshr_lookup
(
DIRECTORY_EVENT
 *
ev’t
, 
tick_t
 
¡¬tcyşe
)

2973 
i
, 
mshr_size
;

2974 
th»adid
 = 
ev’t
->
‹mpID
;

2975 if(!
ÿche_dl1
[
th»adid
]->
mshr
)

2977 
mshr_size
 = 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrSIZE
;

2978 
i
=0;i<
mshr_size
;i++)

2980 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
isV®id


2981 && ((
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
addr
 >> cache_dl1[th»adid]->
£t_shiá
è=ğ(
ev’t
->addr >> cache_dl1[threadid]->set_shift)))

2984 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 !ğ
¡¬tcyşe
)

2985 
	`·nic
("L1 MSHR: illegal match in mshr");

2987  
i
;

2992 
	}
}

2994 
	$mshr_ş—r
(
th»adid
, 
i
)

2996 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2997 
ÿche_dl1
[
th»adid
]->
mshr
->
ä“EÁr›s
++;

2998 
rs_ÿche_li¡
[
th»adid
][
i
] = 
NULL
;

2999 
	}
}

3001 
	$msh»Áry_upd©e
(
DIRECTORY_EVENT
 *
ev’t
, 
tick_t
 
»ady
,ick_ˆ
¡¬tcyşe
)

3003 
i
, 
mshr_size
;

3004 
th»adid
 = 
ev’t
->
‹mpID
;

3005 if(!
ÿche_dl1
[
th»adid
]->
mshr
)

3007 
mshr_size
 = 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrSIZE
;

3008 
i
=0;i<
mshr_size
;i++)

3010 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
isV®id


3011 && ((
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
addr
 >> cache_dl1[th»adid]->
£t_shiá
è=ğ(
ev’t
->addr >> cache_dl1[threadid]->set_shift)))

3014 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 !ğ
¡¬tcyşe
)

3015 
	`·nic
("L1 MSHR: illegal match in mshr");

3017 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
»ady
;

3021 
	}
}

3034 
	$loÿl_acûss_check
(
DIRECTORY_EVENT
 *
ev’t
)

3036 
æag
;

3037 ifĞ((
ev’t
->
¤c1
*
mesh_size
+ev’t->
¤c2
)==Óv’t->
des1
*mesh_size+ev’t->
des2
)) )

3038 
æag
 = 1;

3040 
æag
 = 0;

3041  
æag
;

3042 
	}
}

3044 
	$b_Œªsãr_check
(
DIRECTORY_EVENT
 *
ev’t
)

3046 
b_Œªsãr
;

3047 
b_Œªsãr
 = 
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_MISS
 ||ƒv’t->İ”©iÚ =ğ
SHR_TLB_WRITE_BACK
 ||ƒv’t->İ”©iÚ =ğ
SHR_TLB_SR_RECOVERY


3048 || 
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_UPDATE_PR_ACK
 ||ƒv’t->İ”©iÚ =ğ
SHR_TLB_UPDATE_PW_ACK
 ||ƒv’t->İ”©iÚ =ğ
SHR_TLB_RECOVERY_ACK


3049 || 
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_REFILL
 ||ƒv’t->İ”©iÚ =ğ
DIR_TLB_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
DIR_TLB_RECOVERY


3050 || 
ev’t
->
İ”©iÚ
 =ğ
DIR_TLB_REFILL_WAIT
 ||ƒv’t->İ”©iÚ =ğ
DIR_TLB_UPDATE_WAIT
 ||ƒv’t->İ”©iÚ =ğ
DIR_TLB_RECOVERY_WAIT
;

3051  
b_Œªsãr
;

3052 
	}
}

3054 
	$veùÜ_couÁ_func
Ğ
ÿche_blk_t
 *
blk
 )

3056 
couÁ
 = 0;

3057 
ÿche_blk_t
 *
‹mp
 = 
blk
;

3058 
‹mp
->
way_´ev
)

3060 
‹mp
 =emp->
way_´ev
;

3062 
‹mp
)

3064 ifĞ(
	`Is_Sh¬ed
(
‹mp
->
dœ_sh¬”
[0])>1è&& (Ñemp->
¡©us
 & 
CACHE_BLK_VALID
)) )

3065 
couÁ
++;

3066 
‹mp
 =emp->
way_Ãxt
;

3068  
couÁ
;

3069 
	}
}

3071 
	$ml2_£t_m©ch_func
Ğ
ÿche_blk_t
 *
blk
, 
£t
 )

3073 
m©ch
 = 0;

3074 
ÿche_blk_t
 *
‹mp
;

3075 
‹mp
 = 
ÿche_ml2
->
£ts
[
£t
].
way_h—d
;

3076 
‹mp
)

3078 iàĞ
‹mp
 =ğ
blk
 )

3080 
m©ch
 = 1;

3083 
‹mp
 =emp->
way_Ãxt
;

3085  
m©ch
;

3086 
	}
}

3088 
	$veùÜ_avaabË_func
(
ÿche_blk_t
 **
blk
, 
ml2_£t
)

3090 
veùÜ_avaabË
 = 0;

3091 
ÿche_blk_t
 *
‹mp
;

3093 
‹mp
 = 
ÿche_ml2
->
£ts
[
ml2_£t
].
way_
;

3094 
‹mp
)

3096 ifĞ!
‹mp
->
±r_’
 && (‹mp->
dœ_¡©e
[0] =ğ
DIR_STABLE
) )

3098 if(!
veùÜ_avaabË
)

3100 *
blk
 = 
‹mp
;

3101 
veùÜ_avaabË
 = 1;

3102 ifĞ
	`Is_Sh¬ed
(
‹mp
->
dœ_sh¬”
[0]) < 2 )

3105 ifĞ
	`Is_Sh¬ed
(
‹mp
->
dœ_sh¬”
[0]) < 2 )

3107 *
blk
 = 
‹mp
;

3108 
veùÜ_avaabË
 = 1;

3112 
‹mp
 =emp->
way_´ev
;

3115  
veùÜ_avaabË
;

3116 
	}
}

3118 
	$fšdCacheStus
(
ÿche_t
 *
ı
, 
md_addr_t
 
£t
, md_addr_ˆ
g
, 
hšdex
, 
ÿche_blk_t
 **
blk
)

3120 
ÿche_blk_t
 *
fšdblk
;

3122 
fšdblk
=
ı
->
£ts
[
£t
].
way_h—d
; fšdblk; fšdblk=fšdblk->
way_Ãxt
)

3124 if((
fšdblk
->
gid
.
g
 =ğgè&& (fšdblk->
¡©us
 & 
CACHE_BLK_VALID
)

3125 #ià
PROCESS_MODEL


3126 && (
isSh¬edAdd»ss
 == 1)

3130 *
blk
 = 
fšdblk
;

3135 
	}
}

3136 
	$Is_Sh¬ed
(*
sh¬”
)

3138 
couÁ
;

3139 
couÁ”
 = 0;

3140 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

3142 if((((
sh¬”
[
couÁ
/64]) & (()1 << (count%64))) == (()1 << (count%64))))

3144 
couÁ”
 ++;

3147 if(
couÁ”
)

3148  
couÁ”
;

3152 
	}
}

3153 
	$Is_ExşusiveOrDœty
(*
sh¬”
)

3155 
couÁ
;

3156 
couÁ”
 = 0;

3157 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

3159 ifĞ((
sh¬”
[
couÁ
/64]) & (()1 << (count%64))) == (()1 << (count%64)) )

3160 
couÁ”
 ++;

3162 if(
couÁ”
 == 1)

3166 
	}
}

3168 
	$IsSh¬ed
(*
sh¬”
, 
th»adid
)

3170 
couÁ
;

3171 
couÁ”
 = 0;

3172 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

3174 if((((
sh¬”
[
couÁ
/64]è& (()1 << (couÁ%64))è=ğ(()1 << (couÁ%64))è&& (couÁ !ğ
th»adid
))

3176 
couÁ”
 ++;

3179 if(
couÁ”
)

3184 
	}
}

3185 
	$IsExşusiveOrDœty
(*
sh¬”
, 
th»adid
, *
ExşusiveID
)

3187 
couÁ
, 
Exşusive_id
;

3188 
couÁ”
 = 0;

3189 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

3191 if((((
sh¬”
[
couÁ
/64]è& (()1 << (couÁ%64))è=ğ(()1 << (couÁ%64))è&& (couÁ !ğ
th»adid
))

3193 
couÁ”
 ++;

3194 
Exşusive_id
 = 
couÁ
;

3197 if(
couÁ”
 == 1)

3199 (*
ExşusiveID
èğ
Exşusive_id
;

3204 
	}
}

3211 
	$ev’t_li¡_š£¹
(
DIRECTORY_EVENT
 *
ev’t
, 
’Œy
)

3213 if(
’Œy
 < 1 ||ƒÁry > 
L2_MSHR_SIZE
è
	`·nic
("L2 MSHR insertionƒrror");

3214 
’Œy
 =ƒntry - 1;

3215 
DIRECTORY_EVENT
 *
cur
, *
´ev
;

3217 if(
ev’t_li¡
[
’Œy
] && ((
ev’t
->
addr
 >> 
ÿche_dl2
->
£t_shiá
) != (event_list[entry]->addr >> cache_dl2->set_shift)))

3218 
	`·nic
("L2 MSHR insertionƒrror");

3221 if(
sim_cyşe
 =ğ
ÿche_dl2
->
mshr
->
mshrEÁry
[
’Œy
].
’dCyşe
)

3222 
	`dœ_ev’tq_š£¹
(
ev’t
);

3225 
ev’t
->
Ãxt
 = 
ev’t_li¡
[
’Œy
];

3226 
ev’t_li¡
[
’Œy
] = 
ev’t
;

3228 
	}
}

3230 
	$upd©e_L2_msh»Áry
(
md_addr_t
 
addr
, 
tick_t
 
»ady
,ick_ˆ
¡¬tcyşe
)

3232 
i
;

3233 if(!
ÿche_dl2
->
mshr
)

3234 
	`·nic
("L2 CACHE did‚ot have MSHR!");

3235 
DIRECTORY_EVENT
 *
cur
, *
´ev
;

3236 
i
=0;i<
L2_MSHR_SIZE
;i++)

3238 if(
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
isV®id


3239 && (
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
addr
 ==‡ddr))

3241 if(
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 !ğ
¡¬tcyşe
)

3242 
	`·nic
("L2 MSHR: illegal match in MSHR while update");

3243 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
blocknum
 ++;

3244 if(
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
blocknum
 < (ÿche_dl2->
bsize
/
max_·ck‘_size
))

3246 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
»ady
;

3247 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
blocknum
 = 0;

3248 
cur
 = 
ev’t_li¡
[
i
]; cur; cur=
´ev
)

3250 if(((
cur
->
addr
)>>
ÿche_dl2
->
£t_shiá
è!ğ((ÿche_dl2->
mshr
->
mshrEÁry
[
i
].addr>>cache_dl2->set_shift)))

3252 
	`´štf
("cu¸add¸%Îd, msh¸add¸%Îd\n", 
cur
->
addr
, 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].addr);

3253 
	`·nic
("Eventlist should havehe same‡ddress with its‡ppending mshrƒntry!");

3255 
´ev
 = 
cur
->
Ãxt
;

3256 
cur
->
Ãxt
 = 
NULL
;

3257 
cur
->
wh’
 = 
sim_cyşe
;

3259 
block_off£t
 = 
	`blockoff£t
(
cur
->
addr
);

3267 
	`dœ_ev’tq_š£¹
(
cur
);

3269 
ev’t_li¡
[
i
] = 
NULL
;

3273 
	}
}

3276 
	$IsNeighbÜ
(
sh¬”
, 
th»adid
, 
ty³
, 
md_addr_t
 
addr
)

3278 
couÁ
, 
şo£
, 
çr
, 
d©a_şo£
, 
d©a_çr
, 
d©a_cÜÃr
, 
tÙ®_sh¬”
, 
tÙ®_d©a_sh¬”
, 
cÜÃr
, 
d©a_æag
 = 0;

3279 
ÿche_t
 *
ı1
;

3280 
ÿche_blk_t
 *
blk1
;

3281 
md_addr_t
 
g
, 
£t
;

3282 
şo£
 = 0;

3283 
cÜÃr
 = 0;

3284 
çr
 = 0;

3285 
tÙ®_sh¬”
 = 0;

3286 
tÙ®_d©a_sh¬”
 = 0;

3287 
tÙ®_p_c_ev’ts
 ++;

3289 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

3291 if((((
sh¬”
è& (()1 << 
couÁ
)è=ğ(()1 << couÁ)è&& (couÁ !ğ
th»adid
))

3293 
ı1
 = 
ÿche_dl1
[
couÁ
];

3294 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

3295 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

3296 
blk1
 = 
ı1
->
£ts
[
£t
].
way_h—d
; blk1; blk1 =blk1->
way_Ãxt
)

3298 ià((
blk1
->
gid
.
g
 =ğgè&& (blk1->
¡©us
 & 
CACHE_BLK_VALID
))

3300 if(
blk1
->
¡©e
 =ğ
MESI_MODIFIED
)

3302 
d©a_æag
 = 1;

3303 
tÙ®_d©a_cÚsum”s
 ++;

3304 
tÙ®_d©a_sh¬”
 ++;

3309 
tÙ®_cÚsum”s
 ++;

3310 
tÙ®_sh¬”
 ++;

3312 if(
	`abs
(
th»adid
 - 
couÁ
) == 3 ||‡bs(threadid - count) == 5)

3314 
tÙ®_·ck‘s_©_cÜÃrs
 ++;

3315 
cÜÃr
 ++;

3316 if(
d©a_æag
 == 1)

3317 
tÙ®_d©a_©_cÜÃr
 ++;

3320 if(
	`abs
(
th»adid
 - 
couÁ
) == 1 ||‡bs(threadid - count) == 4)

3322 
şo£
 ++;

3323 
tÙ®_·ck‘s_š_ÃighbÜ
 ++;

3324 if(
d©a_æag
 == 1)

3325 
tÙ®_d©a_şo£
 ++;

3329 
çr
 ++;

3330 if(
d©a_æag
 == 1)

3331 
tÙ®_d©a_çr
 ++;

3337 if((
cÜÃr
 + 
şo£
è=ğ
tÙ®_sh¬”
)

3338 
tÙ®_®l_®mo¡şo£
 ++;

3340 if(
şo£
 =ğ
tÙ®_sh¬”
)

3341 
tÙ®_®l_şo£
 ++;

3344 
tÙ®_nÙ_®l_şo£
 ++;

3345 
av”age_šside_³rûÁ
 +ğ(()
şo£
/()
tÙ®_sh¬”
);

3346 
av”age_outside_³rûÁ
 +ğ(()
çr
/()
tÙ®_sh¬”
);

3347 
av”age_outside_abs_³rûÁ
 +ğ(()(
çr
-
cÜÃr
)/()
tÙ®_sh¬”
);

3348 
av”age_cÜÃr_³rûÁ
 +ğ(()(
cÜÃr
)/()
tÙ®_sh¬”
);

3351 
tÙ®_sh¬”
)

3354 1: 
sh¬”_num
[1] ++; ;

3355 2: 
sh¬”_num
[2] ++; ;

3356 3: 
sh¬”_num
[3] ++; ;

3357 4: 
sh¬”_num
[4] ++; ;

3358 5: 
sh¬”_num
[5] ++; ;

3359 6: 
sh¬”_num
[6] ++; ;

3360 7: 
sh¬”_num
[7] ++; ;

3361 8: 
sh¬”_num
[8] ++; ;

3362 9: 
sh¬”_num
[9] ++; ;

3363 10: 
sh¬”_num
[10] ++; ;

3364 11: 
sh¬”_num
[11] ++; ;

3365 12: 
sh¬”_num
[12] ++; ;

3366 13: 
sh¬”_num
[13] ++; ;

3367 14: 
sh¬”_num
[14] ++; ;

3369 : 
sh¬”_num
[15] ++; ;

3372 
	}
}

3373 
	$IsNeighbÜ_sh¬”
(
sh¬”
, 
th»adid
)

3375 
couÁ
;

3377 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

3379 if((((
sh¬”
è& (()1 << 
couÁ
)è=ğ(()1 << couÁ)è&& (couÁ !ğ
th»adid
))

3381 if(
	`abs
(
th»adid
 - 
couÁ
) == 3 ||‡bs(threadid - count) == 5)

3382 
tÙ®_cÜÃr_·ck‘s
 ++;

3384 if(
	`abs
(
th»adid
 - 
couÁ
) == 1 ||‡bs(threadid - count) == 4)

3385 
tÙ®_ÃighbÜ_·ck‘s
 ++;

3387 
tÙ®_çr_·ck‘s
 ++;

3390 
	}
}

3392 
	$blockoff£t
(
md_addr_t
 
addr
)

3394 
bofs
;

3395 
bofs
 = 
addr
 & 
ÿche_dl2
->
blk_mask
;

3396 
bofs
 = bof >> 
ÿche_dl1
[0]->
£t_shiá
;

3397  
bofs
;

3398 
	}
}

3400 
DIRECTORY_EVENT
 *
	$®loÿ‹_Ãw_ev’t
(
DIRECTORY_EVENT
 *
ev’t
)

3402 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

3403 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

3405 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

3406 
Ãw_ev’t
->
»q_time
 = 0;

3407 
Ãw_ev’t
->
cÚf_b™
 = -1;

3408 
Ãw_ev’t
->
³ndšg_æag
 = 0;

3409 
Ãw_ev’t
->
isP»ãtch
 = 0;

3410 
Ãw_ev’t
->
¡ride
 = 0;

3411 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

3412 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3413 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3414 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

3415 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

3416 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

3417 
Ãw_ev’t
->
vp
 = 
NULL
;

3418 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

3419 
Ãw_ev’t
->
ud©a
 = 
NULL
;

3420 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

3421 
Ãw_ev’t
->
¥ec_mode
 = 0;

3422 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

3423 
Ãw_ev’t
->
d©a_»¶y
 = 1;

3424 
Ãw_ev’t
->
mshr_time
 = 
ev’t
->mshr_time;

3425 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

3426 
Ãw_ev’t
->
Üigš®ChdCouÁ
 = 0;

3427 
Ãw_ev’t
->
l1_wb_’Œy
 = 
NULL
;

3429 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

3431 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

3432 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

3433 if((
ev’t
->
des1
-
MEM_LOC_SHIFT
)/(
mesh_size
/2))

3434 
Ãw_ev’t
->
des1
 = 
mesh_size
+1;

3436 
Ãw_ev’t
->
des1
 = 0;

3439 
ev’t
->
des2
/(
mesh_size
/(
mem_pÜt_num
/2)))

3442 
Ãw_ev’t
->
des2
 = 
mesh_size
/(
mem_pÜt_num
/2) - 1;

3445 
Ãw_ev’t
->
des2
 = 
mesh_size
/(
mem_pÜt_num
/2);

3448 
Ãw_ev’t
->
des2
 = 3*(
mesh_size
/(
mem_pÜt_num
/2)) - 1;

3451 
Ãw_ev’t
->
des2
 = 3*(
mesh_size
/(
mem_pÜt_num
/2));

3454 
Ãw_ev’t
->
des2
 = 5*(
mesh_size
/(
mem_pÜt_num
/2)) - 1;

3457 
Ãw_ev’t
->
des2
 = 5*(
mesh_size
/(
mem_pÜt_num
/2));

3460 
Ãw_ev’t
->
des2
 = 7*(
mesh_size
/(
mem_pÜt_num
/2)) - 1;

3463 
Ãw_ev’t
->
des2
 = 7*(
mesh_size
/(
mem_pÜt_num
/2));

3466 
	`·nic
("can‚ot have other case\n");

3469 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

3470 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

3471 
Ãw_ev’t
->
»£nd
 = 0;

3472  
Ãw_ev’t
;

3473 
	}
}

3474 #ifdeà
POPNET


3475 
	sOrd”BufãrEÁry


3477 
	mv®id
;

3478 
md_addr_t
 
	maddr
;

3479 
	mdes
;

3480 
	mvc
;

3481 
couÁ”_t
 
	mmsgno
;

3483 
Ord”BufãrEÁry
 
	gOrd”Bufãr
[
MAXSIZE
][MAXSIZE];

3484 
	gOrd”BufãrNum
[
MAXSIZE
];

3486 
	$Ord”BufIn™
()

3488 
i
=0, 
j
=0;

3489 
i
=0;i<
MAXSIZE
;i++)

3491 
Ord”BufãrNum
[
i
] = 0;

3492 
j
=0;j<
MAXSIZE
;j++)

3494 
Ord”Bufãr
[
i
][
j
].
addr
 = 0;

3495 
Ord”Bufãr
[
i
][
j
].
v®id
 = 0;

3496 
Ord”Bufãr
[
i
][
j
].
des
 = 0;

3497 
Ord”Bufãr
[
i
][
j
].
vc
 = -1;

3498 
Ord”Bufãr
[
i
][
j
].
msgno
 = 0;

3501 
	}
}

3502 
	$Ord”BufIn£¹
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
vc
, 
couÁ”_t
 
msgno
)

3504 
i
=0, 
¤c
, 
des
;

3505 
¤c
 = 
s1
*
mesh_size
+
s2
;

3506 
des
 = 
d1
*
mesh_size
+
d2
;

3508 if(
Ord”BufãrNum
[
¤c
] >ğ
MAXSIZE
)

3509 
	`·nic
("Out going buffer is full for…opnet multiple vcs");

3511 
i
=0;i<
MAXSIZE
;i++)

3513 if(!
Ord”Bufãr
[
¤c
][
i
].
v®id
)

3515 
Ord”Bufãr
[
¤c
][
i
].
v®id
 = 1;

3516 
Ord”Bufãr
[
¤c
][
i
].
addr
 =‡ddr;

3517 
Ord”Bufãr
[
¤c
][
i
].
des
 = des;

3518 
Ord”Bufãr
[
¤c
][
i
].
vc
 = vc;

3519 
Ord”Bufãr
[
¤c
][
i
].
msgno
 = msgno;

3520 
Ord”BufãrNum
[
¤c
] ++;

3524 
	}
}

3525 
	$Ord”BufRemove
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
couÁ”_t
 
msgno
)

3527 
i
=0, 
¤c
, 
des
;

3528 
¤c
 = 
s1
*
mesh_size
+
s2
;

3529 
des
 = 
d1
*
mesh_size
+
d2
;

3531 
i
=0;i<
MAXSIZE
;i++)

3533 if(
Ord”Bufãr
[
¤c
][
i
].
v®id
 && Ord”Bufãr[¤c][i].
addr
 =ğadd¸&& Ord”Bufãr[¤c][i].
des
 =ğde && Ord”Bufãr[¤c][i].
msgno
 == msgno)

3535 
Ord”Bufãr
[
¤c
][
i
].
v®id
 = 0;

3536 
Ord”Bufãr
[
¤c
][
i
].
addr
 = 0;

3537 
Ord”Bufãr
[
¤c
][
i
].
des
 = 0;

3538 
Ord”Bufãr
[
¤c
][
i
].
vc
 = -1;

3539 
Ord”Bufãr
[
¤c
][
i
].
msgno
 = 0;

3540 
Ord”BufãrNum
[
¤c
] --;

3544 
	`·nic
("Can‚ot findheƒntry in OrderBuffer");

3545 
	}
}

3547 
	$Ord”Check
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
)

3549 
i
=0, 
¤c
, 
des
;

3550 
¤c
 = 
s1
*
mesh_size
+
s2
;

3551 
des
 = 
d1
*
mesh_size
+
d2
;

3552 #ifdeà
MULTI_VC


3553 
i
=0;i<
MAXSIZE
;i++)

3555 if(
Ord”Bufãr
[
¤c
][
i
].
v®id
 && Ord”Bufãr[¤c][i].
addr
 =ğadd¸&& Ord”Bufãr[¤c][i].
des
 == des)

3556  
Ord”Bufãr
[
¤c
][
i
].
vc
;

3560 
	}
}

3563 
	$time¥aû
(
couÁ”_t
 
time
, 
ty³
)

3565 if(
time
 < 0)

3567 if(
time
 <5)

3568 
¥ªd
[0] ++;

3569 if(
time
 <10)

3570 
¥ªd
[1] ++;

3571 if(
time
 <20)

3572 
¥ªd
[2] ++;

3573 if(
time
 <30)

3574 
¥ªd
[3] ++;

3576 
¥ªd
[4] ++;

3577 if(
ty³
 == 1)

3578 
downg¿de_r
 ++;

3580 
downg¿de_w
 ++;

3582 
	}
}

3584 
	$dœ_İ”©iÚ
 (
DIRECTORY_EVENT
 *
ev’t
, 
lock_acûss
)

3586 
md_addr_t
 
addr
=
ev’t
->addr;

3588 
ÿche_t
 *
ml2
 = 
ÿche_ml2
;

3589 
ÿche_t
 *
dl2
 = 
ÿche_dl2
;

3590 
ÿche_blk_t
 *
ml2_blk
;

3591 
ÿche_blk_t
 *
dl2_blk
;

3592 
md_addr_t
 
ml2_g
, 
ml2_£t
;

3593 
md_addr_t
 
ml2_mul_g
, 
ml2_mul_£t
;

3594 
md_addr_t
 
ml2_sub_g
, 
ml2_sub_£t
;

3595 
md_addr_t
 
dl2_g
, 
dl2_£t
;

3596 
ml2_hšdex
;

3597 
dl2_hšdex
;

3599 
ml2_h™
 = 0;

3600 
ml2_ed
 = 0;

3602 
dl2_g
 = 
	`CACHE_TAG
(
dl2
, 
addr
);

3603 
dl2_£t
 = 
	`CACHE_SET
(
dl2
, 
addr
);

3605 
md_addr_t
 
qblk_£t_shiá
 = 
muÉi_blk_£t_shiá
;

3606 
md_addr_t
 
qblk_£t_mask
 = ((1<<
qblk_£t_shiá
)-1);

3608 ià(
qblk_£t_shiá
)

3610 
ml2_g
 = 
	`CACHE_QBLK_TAG
(
ml2
, 
addr
);

3611 
ml2_£t
 = 
	`CACHE_QBLK_SET
(
ml2
, 
addr
);

3615 
ml2_g
 = 
	`CACHE_TAG
(
ml2
, 
addr
);

3616 
ml2_£t
 = 
	`CACHE_SET
(
ml2
, 
addr
);

3619 
ml2_mul_g
 = 
	`CACHE_QBLK_TAG
(
ml2
, 
addr
);

3620 
ml2_mul_£t
 = 
	`CACHE_QBLK_SET
(
ml2
, 
addr
);

3621 
ml2_sub_g
 = 
	`CACHE_TAG
(
ml2
, 
addr
);

3622 
ml2_sub_£t
 = 
	`CACHE_SET
(
ml2
, 
addr
);

3624 
ml2_hšdex
 = (è
	`CACHE_HASH
(
ml2
,
ml2_g
);

3625 
dl2_hšdex
 = (è
	`CACHE_HASH
(
dl2
,
dl2_g
);

3627 
ÿche_t
 *
ı1
;

3628 
ÿche_blk_t
 *
dl1_blk
;

3629 
md_addr_t
 
g
, 
£t
;

3631 
md_addr_t
 
bofs
;

3632 
block_off£t
 = 
	`blockoff£t
(
ev’t
->
addr
);

3633 
ÿche_blk_t
 *
»¶
;

3635 
DIRECTORY_EVENT
 *
·»Á_ev’t
 = 
ev’t
->
·»Á
;

3637 
couÁ”_t
 
iÿche_acûss
;

3638 
couÁ”_t
 
dÿche_acûss
;

3639 
Ït
;

3640 
m©chnum
;

3641 
Th»adid
;

3642 
‹mpID
 = 
ev’t
->tempID;

3643 
couÁ
;

3645 
·ck‘_size
;

3646 
švCŞËùStus
 = 0;

3647 
vc
 = 0, 
a
 = 0;

3648 
İtiÚs
 = -1;

3650 
L1_h™
 = 0;

3652 
®l_sh¬”
 = (
mesh_size
 == 8) ? (0xFFFFFFFFFFFFFFFF) : ((1<<(mesh_size*mesh_size))-1);

3654 
ev’t
->
æ_æag
 = 0;

3656 if(!(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_IL1
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_SHARED
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE


3657 || 
ev’t
->
İ”©iÚ
 =ğ
SHR_TLB_WRITE_BACK
 ||ƒv’t->İ”©iÚ =ğ
SHR_TLB_SR_RECOVERY
 ||ƒv’t->İ”©iÚ =ğ
DIR_TLB_REFILL


3661 
bufãr_fuÎ_æag
 = 0;

3662 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !(mystricmp (network_type, "HYBRID")))

3663 
bufãr_fuÎ_æag
 = 
	`İtiÿlBufãrS·û
(
ev’t
->
des1
,ƒv’t->
des2
,ƒv’t->
İ”©iÚ
);

3664 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

3666 if(!Ğ
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_IL1
 ||

3667 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
 ||

3668 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
 ||

3669 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 ||

3670 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
 ||

3671 
ev’t
->
İ”©iÚ
 =ğ
FINAL_INV_ACK
 ||

3672 
ev’t
->
İ”©iÚ
 =ğ
MEM_READ_REQ
 ||

3673 
ev’t
->
İ”©iÚ
 =ğ
MEM_READ_REPLY
 ||

3674 
ev’t
->
İ”©iÚ
 =ğ
WAIT_MEM_READ_N_WAIT
 ||

3675 (
ev’t
->
des1
 =ğev’t->
¤c1
 &&ƒv’t->
des2
 =ğev’t->
¤c2
)

3680 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
des1
,ƒv’t->
des2
,ƒv’t->
¤c1
,ƒv’t->
¤c2
, 
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3681 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
des1
,ƒv’t->
des2
, 
İtiÚs
);

3683 
bufãr_fuÎ_æag
 = (
vc
 == -1);

3685 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

3687 
bufãr_fuÎ_æag
 = 
	`CombN‘wÜkBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1),ƒv’t->
İ”©iÚ
, &
vc
);

3689 if(
bufãr_fuÎ_æag
)

3691 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3693 
IÅut_queue_fuÎ
 ++;

3694 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

3700 if(
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3702 
SÎ_šput_queue
 +ğ
sim_cyşe
 - 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
];

3703 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3708 
ev’t
->
İ”©iÚ
)

3710 
IDEAL_CASE
 :

3711 
	`·nic
("DIR: Event operation is ideal -‚ot…ossible");

3714 
UPDATE_DIR
 :

3715 
	`·nic
("This Update_dir…art should‚ever beƒntered!\n");

3718 
NACK
 :

3720 
Çck_couÁ”
 ++;

3721 
ev’t
->
¤c1
 +ğev’t->
des1
;

3722 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3723 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3724 
ev’t
->
¤c2
 +ğev’t->
des2
;

3725 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3726 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3727 
ev’t
->
İ”©iÚ
 =ƒv’t->
·»Á_İ”©iÚ
;

3728 
ev’t
->
´oûssšgDÚe
 = 0;

3729 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
 + 20;

3730 
	`scheduËThroughN‘wÜk
(
ev’t
,ƒv’t->
¡¬tCyşe
, 
m‘a_·ck‘_size
, 
vc
);

3731 if(
ev’t
->
´eãtch_Ãxt
 == 2 ||ƒvent->prefetch_next == 4)

3732 
´eãtch_Çcks
 ++;

3733 if(
ev’t
->
isSyncAcûss
)

3734 
sync_Çcks
 ++;

3735 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
)

3736 
wr™e_Çcks
 ++;

3738 
nÜm®_Çcks
 ++;

3739 
	`dœ_ev’tq_š£¹
(
ev’t
);

3740 if(
cŞËù_¡©s
)

3741 
dl2
->
dœ_acûss
 ++;

3744 
L2_PREFETCH
:

3745 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

3746 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

3748 
	`ä“_ev’t
(
ev’t
);

3753 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

3754 if(!
m©chnum
 && !
	`md_‹xt_addr
(
ev’t
->
addr
, 
‹mpID
))

3756 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3758 
L2_mshr_fuÎ_´eãtch
 ++;

3759 
	`ä“_ev’t
(
ev’t
);

3762 
l2_´eãtch_num
 ++;

3763 
ev’t
->
mshr_time
 = 
sim_cyşe
;

3764 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

3765 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

3766 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

3767 
Ãw_ev’t
->
cmd
 = 
R—d
;

3768 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3769 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3770 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3771 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3772 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3773 
ev’t_ü—‹d
 = 
ev’t
;

3774 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

3779 
	`ä“_ev’t
(
ev’t
);

3785 
DIR_TLB_REFILL
:

3788 
b_mshr_m©ch
 = -1;

3789 
b_mshr_m©ch
 = 
	`b_mshr_check
(
addr
, 
‹mpID
, 
NULL
);

3790 ià(
b_mshr_m©ch
 == -1)

3791 
	`·nic
("tlb_mshr miss\n");

3792 if(
b_mshr
[
‹mpID
][
b_mshr_m©ch
]->
eviùšg
 && (
ev’t
->
·ge_’Œy_¡©e
 =ğ
PRIVATE_READ
))

3793 
ev’t
->
·ge_’Œy_¡©e
 = 
PRIVATE_WRITE
;

3794 if(
b_mshr
[
‹mpID
][
b_mshr_m©ch
]->
dœty
)

3795 
ev’t
->
·ge_’Œy_¡©e
 = 
SHARED_WRITE
;

3796 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

3797 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

3798 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

3799 ià(
»¶
->
¡©e
 =ğ
PRIVATE_WRITE
)

3802 
	`b_cu_®loÿ‹
(
ev’t
->
‹mpID
, 
SHR_TLB_WRITE_BACK
, 
»¶
->
gid
.
g
, 
NULL
);

3803 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = (DIRECTORY_EVENT *è
	`®loÿ‹_ev’t
(0);

3804 ià(!
Ãw_ev’t
)

3805 
	`çl
("out of virtual memory in calloc dirƒvent");

3806 
¤c
;

3807 
Ãw_ev’t
->
İ”©iÚ
 = 
SHR_TLB_WRITE_BACK
;

3808 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

3809 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

3810 
¤c
 = 0;

3811 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

3812 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

3813 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3814 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3815 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

3816 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

3817 
Ãw_ev’t
->
addr
 = ( 
»¶
->
gid
.
g
 << 
MD_LOG_PAGE_SIZE
 );

3818 
Ãw_ev’t
->
ı
 = 
db
[
ev’t
->
‹mpID
];

3820 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3821 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3823 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

3824 
»¶
->
gid
.
g
 =ag;

3825 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

3826 
»¶
->
»ady
 = 
sim_cyşe
;

3827 
»¶
->
¡©e
 = 
ev’t
->
·ge_’Œy_¡©e
;

3831 
b_rs
 *
‹mp
;

3832 
‹mp
=
b_mshr
[
ev’t
->
‹mpID
][
b_mshr_m©ch
]->
h—d
;‹mp!=
NULL
;‹mpñemp->
Ãxt
)

3834 
‹mp
->
rs
->
issue_time
 = 
sim_cyşe
;

3836 
	`b_mshr_ş—r
(
ev’t
->
‹mpID
, 
b_mshr_m©ch
);

3837 
	`ä“_ev’t
(
ev’t
);

3841 
DIR_TLB_UPDATE
:

3845 
rg‘_b_id
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
;

3846 
b_’Œy_m©ch
 = 0;

3847 
b_cu_m©ch
 = -1;

3848 
ÿche_t
 *
rg‘_db
 = 
db
[
rg‘_b_id
];

3849 
ÿche_blk_t
 *
db_’Œy
;

3850 
md_addr_t
 
db_g
 = 
	`CACHE_TAG
 (
rg‘_db
, 
addr
);

3851 
md_addr_t
 
db_£t
 = 
	`CACHE_SET
 (
rg‘_db
, 
addr
);

3852 
rg‘_¡©e
 = 0;

3853 
db_’Œy
 = 
rg‘_db
->
£ts
[
db_£t
].
way_h—d
; db_’Œy; db_’Œy = db_’Œy->
way_Ãxt
)

3855 ià((
db_’Œy
->
gid
.
g
 =ğ
db_g
è&& (db_’Œy->
¡©us
 & 
CACHE_BLK_VALID
))

3857 
rg‘_¡©e
 = 
db_’Œy
->
¡©e
;

3858 ià(
rg‘_¡©e
 =ğ
PRIVATE_READ
)

3859 
db_’Œy
->
¡©e
 = 
SHARED_READ
;

3860 ià(
rg‘_¡©e
 =ğ
PRIVATE_WRITE
)

3861 
db_’Œy
->
¡©e
 = 
SHARED_WRITE
;

3863 
	`·nic
("wrong sharer state\n");

3864 
b_’Œy_m©ch
 = 1;

3868 ià(!
rg‘_¡©e
)

3870 
b_cu_m©ch
 = 
	`b_cu_check
(
rg‘_b_id
, 
addr
, 
DIR_TLB_UPDATE
);

3871 ià(
b_cu_m©ch
!= -1)

3872 
rg‘_¡©e
 = 
PRIVATE_WRITE
;

3874 
rg‘_¡©e
 = 
PRIVATE_READ
;

3876 ià(
rg‘_¡©e
 =ğ
PRIVATE_READ
)

3879 
ev’t
->
İ”©iÚ
 = 
SHR_TLB_UPDATE_PR_ACK
;

3880 
ev’t
->
·ge_’Œy_¡©e
 = 
SHARED_READ
;

3881 
ev’t
->
¤c1
 +ğev’t->
des1
;

3882 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3883 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3884 
ev’t
->
¤c2
 +ğev’t->
des2
;

3885 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3886 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3887 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3888 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3889 
ev’t
->
´oûssšgDÚe
 = 0;

3891 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3892 
	`dœ_ev’tq_š£¹
(
ev’t
);

3894 ià(
rg‘_¡©e
 =ğ
PRIVATE_WRITE
)

3898 
	`d©a_ÿche_æush
(
addr
, 
rg‘_b_id
);

3899 
	`b_cu_®loÿ‹
(
rg‘_b_id
, 
SHR_TLB_UPDATE_PW_ACK
, 0, 
ev’t
);

3901 
ev’t
->
İ”©iÚ
 = 
SHR_TLB_UPDATE_PW_ACK
;

3902 
ev’t
->
·ge_’Œy_¡©e
 = 
SHARED_WRITE
;

3903 
ev’t
->
¤c1
 +ğev’t->
des1
;

3904 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3905 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3906 
ev’t
->
¤c2
 +ğev’t->
des2
;

3907 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3908 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3909 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3910 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3911 
ev’t
->
´oûssšgDÚe
 = 0;

3912 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3913 
	`dœ_ev’tq_š£¹
(
ev’t
);

3916 
	`·nic
("wrong sharer state\n");

3920 
DIR_TLB_RECOVERY
:

3923 
rg‘_b_id
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
;

3924 
b_cu_m©ch
 = -1;

3925 
b_mshr_m©ch
 = 0;

3926 
ÿche_t
 *
rg‘_db
 = 
db
[
rg‘_b_id
];

3927 
ÿche_blk_t
 *
db_’Œy
;

3928 
md_addr_t
 
db_g
 = 
	`CACHE_TAG
 (
rg‘_db
, 
addr
);

3929 
md_addr_t
 
db_£t
 = 
	`CACHE_SET
 (
rg‘_db
, 
addr
);

3932 
b_cu_m©ch
 = 
	`b_cu_check
(
rg‘_b_id
, 
addr
, 
DIR_TLB_RECOVERY
);

3933 if(
b_cu_m©ch
 != -1)

3935 
b_cu
[
rg‘_b_id
]->
¤_»cov”y
[
b_cu_m©ch
].
v®id
 = 0;

3936 
b_cu
[
rg‘_b_id
]->
¤_»cov”y
[
b_cu_m©ch
].
VPN
 = 0;

3940 
db_’Œy
 = 
rg‘_db
->
£ts
[
db_£t
].
way_h—d
; db_’Œy; db_’Œy = db_’Œy->
way_Ãxt
)

3942 ià((
db_’Œy
->
gid
.
g
 =ğ
db_g
è&& (db_’Œy->
¡©us
 & 
CACHE_BLK_VALID
))

3944 
db_’Œy
->
¡©e
 = 
SHARED_WRITE
;

3949 
ev’t
->
İ”©iÚ
 = 
SHR_TLB_RECOVERY_ACK
;

3950 
ev’t
->
¤c1
 +ğev’t->
des1
;

3951 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3952 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3953 
ev’t
->
¤c2
 +ğev’t->
des2
;

3954 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3955 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3956 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3957 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3958 
ev’t
->
´oûssšgDÚe
 = 0;

3959 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3960 
	`dœ_ev’tq_š£¹
(
ev’t
);

3963 
b_mshr_m©ch
 = 
	`b_mshr_check
(
addr
, 
‹mpID
, 
NULL
);

3964 ià(
b_mshr_m©ch
 != -1)

3966 
b_mshr
[
‹mpID
][
b_mshr_m©ch
]->
dœty
 = 1;

3967 
	`d©a_ÿche_æush
(
db_g
, 
rg‘_b_id
);

3968 
	`b_cu_®loÿ‹
(
rg‘_b_id
, 
SHR_TLB_RECOVERY_ACK
, 0, 
ev’t
);

3972 
DIR_TLB_REFILL_WAIT
:

3975 
·ge_bË_m©ch
;

3976 
·ge_bË_¡©e
;

3977 
·ge_bË_busy
;

3978 
·ge_bË_k“³r
;

3979 
loÿtiÚ
;

3981 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

3982 ifĞ!
·ge_bË_m©ch
 )

3983 
	`·nic
("thisƒntry must be in…rocess\n");

3984 
·ge_bË
[
loÿtiÚ
]->
busy
 = 0;

3986 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL
;

3987 
ev’t
->
·ge_’Œy_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
¡©e
;

3989 
ev’t
->
¤c1
 +ğev’t->
des1
;

3990 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3991 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3992 
ev’t
->
¤c2
 +ğev’t->
des2
;

3993 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3994 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3995 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3996 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3997 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3998 
ev’t
->
´oûssšgDÚe
 = 0;

3999 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4000 
	`dœ_ev’tq_š£¹
(
ev’t
);

4004 
DIR_TLB_UPDATE_WAIT
:

4006 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_UPDATE
;

4007 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

4008 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

4009 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4010 
ev’t
->
´oûssšgDÚe
 = 0;

4011 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4012 
	`dœ_ev’tq_š£¹
(
ev’t
);

4016 
DIR_TLB_RECOVERY_WAIT
:

4018 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_RECOVERY
;

4019 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

4020 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

4021 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4022 
ev’t
->
´oûssšgDÚe
 = 0;

4023 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4024 
	`dœ_ev’tq_š£¹
(
ev’t
);

4028 
SHR_TLB_WRITE_BACK
:

4030 
·ge_bË_m©ch
;

4031 
·ge_bË_¡©e
;

4032 
·ge_bË_busy
;

4033 
·ge_bË_k“³r
;

4034 
loÿtiÚ
;

4035 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
ev’t
->
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

4036 ià(
·ge_bË_busy
)

4038 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4039 
ev’t
->
æ_æag
 = 1;

4040 
	`dœ_ev’tq_š£¹
(
ev’t
);

4044 if(
·ge_bË_¡©e
 =ğ
PRIVATE_READ
)

4047 
´_·ge_num
--;

4048 
pw_·ge_num
++;

4049 
·ge_bË
[
loÿtiÚ
]->
busy
 = 0;

4050 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
PRIVATE_WRITE
;

4052 ià(
·ge_bË_¡©e
 =ğ
PRIVATE_WRITE
)

4055 
·ge_bË
[
loÿtiÚ
]->
busy
 = 0;

4056 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
PRIVATE_WRITE
;

4060 ià(
·ge_bË
[
loÿtiÚ
]->
¡©e
 !ğ
SHARED_WRITE
)

4061 
	`·nic
("it should be SHARED_WRITE\n");

4064 
b_cu_m©ch
 = -1;

4065 
b_cu_m©ch
 = 
	`b_cu_check
(
ev’t
->
‹mpID
,ƒv’t->
addr
, 
SHR_TLB_WRITE_BACK
);

4066 iàĞ
b_cu_m©ch
 == -1 )

4067 
	`·nic
("evict information†ost\n");

4070 
b_cu
[
ev’t
->
‹mpID
]->
pw_eviù
[
b_cu_m©ch
].
v®id
 = 0;

4071 
b_cu
[
ev’t
->
‹mpID
]->
pw_eviù
[
b_cu_m©ch
].
VPN
 = 0;

4073 
	`ä“_ev’t
(
ev’t
);

4078 
SHR_TLB_RECOVERY_ACK
:

4080 ià(
ev’t
->
·»Á
 =ğ
NULL
)

4082 
·ge_bË_m©ch
;

4083 
·ge_bË_¡©e
;

4084 
·ge_bË_busy
;

4085 
·ge_bË_k“³r
;

4086 
loÿtiÚ
;

4088 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

4089 ifĞ!
·ge_bË_m©ch
 )

4090 
	`·nic
("thisƒntry must be in…rocess\n");

4091 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4092 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
SHARED_WRITE
;

4094 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4096 
ev’t
->
¤c1
 =ƒv’t->
Ãw_¤c1
;

4097 
ev’t
->
¤c2
 =ƒv’t->
Ãw_¤c2
;

4098 
ev’t
->
des1
 =ƒv’t->
Ãw_des1
;

4099 
ev’t
->
des2
 =ƒv’t->
Ãw_des2
;

4101 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4102 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4103 
ev’t
->
´oûssšgDÚe
 = 0;

4104 
	`dœ_ev’tq_š£¹
(
ev’t
);

4108 
ev’t
->
·»Á
->
chdCouÁ
--;

4109 if(
ev’t
->
·»Á
->
chdCouÁ
 == 0)

4111 
·ge_bË_m©ch
;

4112 
·ge_bË_¡©e
;

4113 
·ge_bË_busy
;

4114 
·ge_bË_k“³r
;

4115 
loÿtiÚ
;

4116 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
ev’t
->
·»Á
->
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

4117 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
SHARED_WRITE
;

4118 ifĞ
ev’t
->
·»Á
->
İ”©iÚ
 =ğ
SHR_TLB_MISS
 )

4120 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4121 
ev’t
->
·»Á
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4122 
ev’t
->
·»Á
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4123 
ev’t
->
·»Á
->
¡¬tCyşe
 = 
sim_cyşe
;

4124 
ev’t
->
·»Á
->
´oûssšgDÚe
 = 0;

4125 
	`dœ_ev’tq_š£¹
(
ev’t
->
·»Á
);

4127 iàĞ
ev’t
->
·»Á
->
İ”©iÚ
 =ğ
SHR_TLB_SR_RECOVERY
 )

4129 
·ge_bË
[
loÿtiÚ
]->
busy
 = 0;

4130 
	`ä“_ev’t
(
ev’t
->
·»Á
);

4133 
	`·nic
("no other„equest\n");

4135 
	`ä“_ev’t
(
ev’t
);

4140 
SHR_TLB_UPDATE_PR_ACK
:

4141 
SHR_TLB_UPDATE_PW_ACK
:

4143 
·ge_bË_m©ch
;

4144 
·ge_bË_¡©e
;

4145 
·ge_bË_busy
;

4146 
·ge_bË_k“³r
;

4147 
loÿtiÚ
;

4149 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

4150 ifĞ!
·ge_bË_m©ch
 )

4151 
	`·nic
("thisƒntry must be in…rocess\n");

4152 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4153 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
ev’t
->
·ge_’Œy_¡©e
;

4155 iàĞ
ev’t
->
·ge_’Œy_¡©e
 =ğ
SHARED_WRITE
 )

4157 
¤_·ge_num
--;

4158 
sw_·ge_num
++;

4161 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4163 
ev’t
->
¤c1
 =ƒv’t->
Ãw_¤c1
;

4164 
ev’t
->
¤c2
 =ƒv’t->
Ãw_¤c2
;

4165 
ev’t
->
des1
 =ƒv’t->
Ãw_des1
;

4166 
ev’t
->
des2
 =ƒv’t->
Ãw_des2
;

4168 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4169 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4170 
ev’t
->
´oûssšgDÚe
 = 0;

4171 
	`dœ_ev’tq_š£¹
(
ev’t
);

4175 
SHR_TLB_SR_RECOVERY
:

4177 
·ge_bË_m©ch
;

4178 
·ge_bË_¡©e
;

4179 
·ge_bË_busy
;

4180 
·ge_bË_k“³r
;

4181 
loÿtiÚ
;

4183 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

4185 ià(!
·ge_bË_m©ch
)

4186 
	`·nic
("SR must match\n");

4187 ià(
·ge_bË_busy
)

4189 if(
·ge_bË_¡©e
 =ğ
SHARED_READ
)

4192 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4193 
ev’t
->
æ_æag
 = 1;

4194 
	`dœ_ev’tq_š£¹
(
ev’t
);

4196 ià(
·ge_bË_¡©e
 =ğ
SHARED_WRITE
)

4199 
	`ä“_ev’t
(
ev’t
);

4202 
	`·nic
("SR„ecovery can‚ot be other state\n");

4205 
¤_·ge_num
--;

4206 
sw_·ge_num
++;

4208 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4209 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
SHARED_WRITE
;

4211 
i
;

4212 
i
=0;i<
numcÚ‹xts
;i++)

4214 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

4215 if(
Ãw_ev’t
 =ğ
NULL
)

4216 
	`·nic
("Out of Virtual Memory");

4217 
Ãw_ev’t
->
İ”©iÚ
 = 
DIR_TLB_RECOVERY_WAIT
;

4218 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

4219 
Ãw_ev’t
->
¤c1
 = 1;

4220 
Ãw_ev’t
->
¤c2
 = 0;

4221 
Ãw_ev’t
->
des1
 = 
i
/
mesh_size
+
MEM_LOC_SHIFT
;

4222 
Ãw_ev’t
->
des2
 = 
i
%
mesh_size
;

4223 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4224 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

4225 
ev’t
->
chdCouÁ
++;

4227 
Ãw_ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4228 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4229 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

4230 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4236 
SHR_TLB_MISS
 :

4239 
·ge_bË_m©ch
;

4240 
·ge_bË_¡©e
;

4241 
·ge_bË_busy
;

4242 
·ge_bË_k“³r
;

4243 
loÿtiÚ
;

4245 
·ge_bË_m©ch
 = 
	`·ge_bË_check
(
addr
, &
·ge_bË_¡©e
, &
·ge_bË_busy
, &
·ge_bË_k“³r
, &
loÿtiÚ
);

4247 ià(!
·ge_bË_m©ch
)

4250 
tÙ®_·ge_num
++;

4251 iàĞ
ev’t
->
cmd
 =ğ
R—d
 )

4252 
´_·ge_num
++;

4254 
pw_·ge_num
++;

4256 
ÿche_t
 *
ı
 = 
db
[0];

4257 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

4258 
·ge_bË
[
loÿtiÚ
]->
v®id
 = 1;

4259 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4260 
·ge_bË
[
loÿtiÚ
]->
VPN
 = 
g
;

4261 
·ge_bË
[
loÿtiÚ
]->
PPN
 = 
g
;

4262 
·ge_bË
[
loÿtiÚ
]->
k“³r
 = 
‹mpID
;

4263 
·ge_bË
[
loÿtiÚ
]->
ÿched
 = 1;

4264 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
 = (
lše_šfo
 *è
	`ÿÎoc
 ( (
MD_PAGE_SIZE
/
ÿche_dl1
[0]->
bsize
),  (line_info) );

4265 
i
;

4266 
i
=0;i<(
MD_PAGE_SIZE
/
ÿche_dl1
[0]->
bsize
);i++)

4268 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
i
].
lše_owÃr
 = -1;

4269 
·ge_bË
[
loÿtiÚ
]->
lše_h—d
[
i
].
lše_¡©e
 = -1;

4271 iàĞ
b_c_c
 )

4272 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = (
ev’t
->
cmd
 =ğ
R—d
è? 
PRIVATE_READ
 : 
PRIVATE_WRITE
;

4274 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
SHARED_WRITE
;

4276 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4277 
ev’t
->
·ge_’Œy_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
¡©e
;

4278 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4279 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4280 
ev’t
->
´oûssšgDÚe
 = 0;

4281 
	`dœ_ev’tq_š£¹
(
ev’t
);

4283 ià(
·ge_bË_busy
)

4286 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4287 
ev’t
->
æ_æag
 = 1;

4288 
	`dœ_ev’tq_š£¹
(
ev’t
);

4293 
·ge_bË_¡©e
)

4295 
PRIVATE_READ
:

4296 if(
·ge_bË_k“³r
 =ğ
‹mpID
)

4299 iàĞ
·ge_bË
[
loÿtiÚ
]->
¡©e
 =ğ
PRIVATE_READ
 && 
ev’t
->
cmd
 =ğ
Wr™e
 )

4301 
´_·ge_num
--;

4302 
pw_·ge_num
++;

4304 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4305 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = (
ev’t
->
cmd
 =ğ
R—d
è? 
PRIVATE_READ
 : 
PRIVATE_WRITE
;

4306 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4307 
ev’t
->
·ge_’Œy_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
¡©e
;

4308 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4309 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4310 
ev’t
->
´oûssšgDÚe
 = 0;

4311 
	`dœ_ev’tq_š£¹
(
ev’t
);

4316 
´_·ge_num
--;

4317 iàĞ
ev’t
->
cmd
 =ğ
R—d
 )

4318 
¤_·ge_num
++;

4320 
sw_·ge_num
++;

4322 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4325 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = (
ev’t
->
cmd
 =ğ
R—d
è? 
SHARED_READ
 : 
SHARED_WRITE
;

4327 
ev’t
->
İ”©iÚ
 = (ev’t->
cmd
 =ğ
R—d
è? 
DIR_TLB_UPDATE_WAIT
 : 
DIR_TLB_RECOVERY_WAIT
;

4329 
ev’t
->
Ãw_¤c1
 =ƒv’t->
¤c1
;

4330 
ev’t
->
Ãw_¤c2
 =ƒv’t->
¤c2
;

4331 
ev’t
->
Ãw_des1
 =ƒv’t->
des1
;

4332 
ev’t
->
Ãw_des2
 =ƒv’t->
des2
;

4334 
ev’t
->
¤c1
 = 1;

4335 
ev’t
->
¤c2
 = 0;

4336 
¤c
 = 
·ge_bË
[
loÿtiÚ
]->
k“³r
;

4337 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

4338 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

4340 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4341 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4342 
ev’t
->
´oûssšgDÚe
 = 0;

4343 
	`dœ_ev’tq_š£¹
(
ev’t
);

4346 
PRIVATE_WRITE
:

4347 if(
·ge_bË_k“³r
 =ğ
‹mpID
)

4350 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4351 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
PRIVATE_WRITE
;

4353 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4354 
ev’t
->
·ge_’Œy_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
¡©e
;

4355 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4356 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4357 
ev’t
->
´oûssšgDÚe
 = 0;

4358 
	`dœ_ev’tq_š£¹
(
ev’t
);

4363 
pw_·ge_num
--;

4364 
sw_·ge_num
++;

4366 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4367 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
SHARED_WRITE
;

4369 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_RECOVERY_WAIT
;

4371 
ev’t
->
Ãw_¤c1
 =ƒv’t->
¤c1
;

4372 
ev’t
->
Ãw_¤c2
 =ƒv’t->
¤c2
;

4373 
ev’t
->
Ãw_des1
 =ƒv’t->
des1
;

4374 
ev’t
->
Ãw_des2
 =ƒv’t->
des2
;

4376 
ev’t
->
¤c1
 = 1;

4377 
ev’t
->
¤c2
 = 0;

4378 
¤c
 = 
·ge_bË
[
loÿtiÚ
]->
k“³r
;

4379 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

4380 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

4382 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4383 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4384 
ev’t
->
´oûssšgDÚe
 = 0;

4385 
	`dœ_ev’tq_š£¹
(
ev’t
);

4388 
SHARED_READ
:

4389 ià(
ev’t
->
cmd
 =ğ
R—d
)

4391 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4393 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4394 
ev’t
->
·ge_’Œy_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
¡©e
;

4395 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4396 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4397 
ev’t
->
´oûssšgDÚe
 = 0;

4398 
	`dœ_ev’tq_š£¹
(
ev’t
);

4403 
¤_·ge_num
--;

4404 
sw_·ge_num
++;

4405 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4406 
·ge_bË
[
loÿtiÚ
]->
¡©e
 = 
SHARED_WRITE
;

4408 
i
;

4409 
i
=0;i<
numcÚ‹xts
;i++)

4411 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

4412 if(
Ãw_ev’t
 =ğ
NULL
)

4413 
	`·nic
("Out of Virtual Memory");

4414 
Ãw_ev’t
->
İ”©iÚ
 = 
DIR_TLB_RECOVERY_WAIT
;

4415 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

4416 
Ãw_ev’t
->
¤c1
 = 1;

4417 
Ãw_ev’t
->
¤c2
 = 0;

4418 
Ãw_ev’t
->
des1
 = 
i
/
mesh_size
+
MEM_LOC_SHIFT
;

4419 
Ãw_ev’t
->
des2
 = 
i
%
mesh_size
;

4420 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4421 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

4422 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

4423 
ev’t
->
chdCouÁ
++;

4424 
Ãw_ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4425 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4429 
SHARED_WRITE
:

4430 
·ge_bË
[
loÿtiÚ
]->
busy
 = 1;

4432 
ev’t
->
İ”©iÚ
 = 
DIR_TLB_REFILL_WAIT
;

4433 
ev’t
->
·ge_’Œy_¡©e
 = 
·ge_bË
[
loÿtiÚ
]->
¡©e
;

4434 
ev’t
->
wh’
 = 
sim_cyşe
 + 
PAGE_TABLE_SEARCH
;

4435 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4436 
ev’t
->
´oûssšgDÚe
 = 0;

4437 
	`dœ_ev’tq_š£¹
(
ev’t
);

4440 
	`·nic
("the…ageable stateƒrror\n");

4445 
MISS_IL1
 :

4446 
dÿche2_acûss
++;

4447 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

4448 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

4449 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

4451 ià(
dl2_blk
->
way_´ev
 && 
dl2
->
pŞicy
 =ğ
LRU
)

4452 
	`upd©e_way_li¡
 (&
dl2
->
£ts
[
dl2_£t
], 
dl2_blk
, 
H—d
);

4454 if(
dl2_blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

4455 
	`·nic
("DIR: Thisƒvent could‚ot be inransition");

4457 if(
dl2_blk
->
dœ_sh¬”
[
block_off£t
][0] !ğ0 || dl2_blk->dœ_sh¬”[block_off£t][1] !ğ0 || dl2_blk->dœ_sh¬”[block_off£t][2] !ğ0 || dl2_blk->dœ_sh¬”[block_off£t][3] !ğ0 || (dl2_blk->
¡©us
 & 
CACHE_BLK_DIRTY
))

4458 
	`·nic
("DIR: IL1 block can‚ot have sharers†ist or modified");

4460 if(
cŞËù_¡©s
)

4462 
dl2
->
d©a_acûss
 ++;

4463 
dl2
->
h™s
 ++;

4465 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_IL1
;

4466 
ev’t
->
¤c1
 +ğev’t->
des1
;

4467 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4468 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4469 
ev’t
->
¤c2
 +ğev’t->
des2
;

4470 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4471 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4472 
ev’t
->
´oûssšgDÚe
 = 0;

4473 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4474 
ev’t
->
·»Á
 = 
NULL
;

4475 
ev’t
->
blk_dœ
 = 
NULL
;

4476 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4477 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

4478 
	`dœ_ev’tq_š£¹
(
ev’t
);

4483 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

4484 
ev’t
->
L2miss_æag
 = 1;

4485 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

4486 
ev’t
->
blk_dœ
 = 
NULL
;

4487 if(!
m©chnum
)

4489 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

4491 if(!
Ï¡_L2_mshr_fuÎ
)

4493 
L2_mshr_fuÎ
 ++;

4494 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

4496 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4498 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

4500 
ev’t
->
¤c1
 +ğev’t->
des1
;

4501 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4502 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4503 
ev’t
->
¤c2
 +ğev’t->
des2
;

4504 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4505 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4506 
ev’t
->
İ”©iÚ
 = 
NACK
;

4507 
ev’t
->
´oûssšgDÚe
 = 0;

4508 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4509 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4510 
	`dœ_ev’tq_š£¹
(
ev’t
);

4515 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

4516 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4517 
æ_couÁ”
 ++;

4518 
ev’t
->
æ_æag
 = 1;

4519 
	`dœ_ev’tq_š£¹
(
ev’t
);

4525 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4526 if(
Ï¡_L2_mshr_fuÎ
)

4528 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

4529 
Ï¡_L2_mshr_fuÎ
 = 0;

4532 if(
cŞËù_¡©s
)

4533 
ÿche_dl2
->
mis£s
++;

4534 
ev’t
->
mshr_time
 = 
sim_cyşe
;

4535 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

4536 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

4537 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

4538 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

4539 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

4540 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

4541 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4542 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4543 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4544 
ev’t_ü—‹d
 = 
ev’t
;

4545 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

4550 if(
cŞËù_¡©s
)

4551 
ÿche_dl2
->
š_mshr
 ++;

4553 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

4558 
MISS_READ
 :

4559 
dÿche2_acûss
++;

4560 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

4561 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

4564 if(
	`fšdCacheStus
(
ml2
, 
ml2_sub_£t
, 
ml2_sub_g
, 
ml2_hšdex
, &
ml2_blk
))

4566 if(
ml2_blk
->
qblk_£t_shiá
 == 0)

4568 
»ad_S_h™_num
++;

4569 
ml2_h™
 = 1;

4570 
ml2_g
 = 
ml2_sub_g
;

4571 
ml2_£t
 = 
ml2_sub_£t
;

4574 
ml2_h™
 = 0;

4576 if(
	`fšdCacheStus
(
ml2
, 
ml2_mul_£t
, 
ml2_mul_g
, 
ml2_hšdex
, &
ml2_blk
))

4578 if(
ml2_blk
->
qblk_£t_shiá
 == 1)

4580 
»ad_Q_h™_num
++;

4581 
mb_·š_couÁ
++;

4582 
ml2_h™
 = 1;

4583 
ml2_g
 = 
ml2_mul_g
;

4584 
ml2_£t
 = 
ml2_mul_£t
;

4587 
ml2_h™
 = 0;

4590 
ml2_h™
 = 0;

4592 if(
ml2_h™
)

4594 iàĞ
ev’t
->
b_¡©e
 !ğ
SHARED_WRITE
 )

4595 
	`´štf
("meta only for SHARED_WRITE\n");

4597 ià(
ml2_blk
->
way_´ev
 && 
ml2
->
pŞicy
 =ğ
LRU
)

4598 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
ml2_blk
, 
H—d
);

4600 ià(
ml2_blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

4602 if(
ml2_blk
->
qblk_£t_shiá
)

4604 
»ad_Q_h™_num
--;

4605 
mb_·š_couÁ
--;

4608 
»ad_S_h™_num
--;

4609 
ev’t
->
isReqL2T¿ns
 = 1;

4610 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4612 
ev’t
->
¤c1
 +ğev’t->
des1
;

4613 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4614 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4615 
ev’t
->
¤c2
 +ğev’t->
des2
;

4616 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4617 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4618 
ev’t
->
İ”©iÚ
 = 
NACK
;

4619 
ev’t
->
´oûssšgDÚe
 = 0;

4620 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4621 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4622 
	`dœ_ev’tq_š£¹
(
ev’t
);

4623 if(
cŞËù_¡©s
)

4624 
ml2
->
dœ_acûss
 ++;

4629 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4630 
æ_couÁ”
 ++;

4631 
ev’t
->
æ_æag
 = 1;

4632 
	`dœ_ev’tq_š£¹
(
ev’t
);

4633 if(
cŞËù_¡©s
)

4634 
ml2
->
dœ_acûss
 ++;

4639 iàĞ(
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] & (()1 << 
ev’t
->‹mpID )è&& (!ml2_blk->
qblk_£t_shiá
è&& (!
muÉi_blk_ad­_’
è&& (!ml2_blk->
®l_sh¬ed_’
) )

4640 
	`´štf
("read miss but in sharer\n");

4641 ifĞ!
ml2_blk
->
qblk_£t_shiá
 && !ml2_blk->
®l_sh¬ed_’
)

4643 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] &ğ~ (()1 << 
ev’t
->tempID );

4644 ifĞ
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
]) == 1 )

4645 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

4649 if(
	`IsExşusiveOrDœty
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
è&& ml2_blk->
dœ_blk_¡©e
[block_off£t] !ğ
MESI_SHARED
)

4651 ifĞ
veùÜ_num
 == 0 )

4652 
pvc_nv_cÚæiù_num
++;

4653 if(
ml2_blk
->
±r_’
)

4655 if(
ml2_blk
->
®l_sh¬ed_’
)

4656 
	`·nic
("exclusive…ointer can‚ot be‡ll_shared\n");

4658 
veùÜ_avaabË
;

4659 
sh¬”_num
;

4660 
‹mp_th»adid
;

4661 
ÿche_blk_t
 *
veùÜ_blk
;

4663 
veùÜ_avaabË
 = 
	`veùÜ_avaabË_func
(&
veùÜ_blk
, 
ml2_£t
);

4665 if(!
veùÜ_avaabË
)

4667 
PVC_æ_num
++;

4668 if(
ml2_blk
->
qblk_£t_shiá
)

4670 
»ad_Q_h™_num
--;

4671 
mb_·š_couÁ
--;

4674 
»ad_S_h™_num
--;

4675 
ev’t
->
isReqL2T¿ns
 = 1;

4676 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4678 
ev’t
->
¤c1
 +ğev’t->
des1
;

4679 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4680 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4681 
ev’t
->
¤c2
 +ğev’t->
des2
;

4682 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4683 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4684 
ev’t
->
İ”©iÚ
 = 
NACK
;

4685 
ev’t
->
´oûssšgDÚe
 = 0;

4686 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4687 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4688 
	`dœ_ev’tq_š£¹
(
ev’t
);

4689 if(
cŞËù_¡©s
)

4690 
ml2
->
dœ_acûss
 ++;

4695 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4696 
æ_couÁ”
 ++;

4697 
ev’t
->
æ_æag
 = 1;

4698 
	`dœ_ev’tq_š£¹
(
ev’t
);

4699 if(
cŞËù_¡©s
)

4700 
ml2
->
dœ_acûss
 ++;

4706 
sh¬”_num
 = 
	`Is_Sh¬ed
(
veùÜ_blk
->
dœ_sh¬”
[
block_off£t
]);

4708 
PVC_exchªge_num
++;

4709 
PVC_exch_vec_shr_di¡r
[
sh¬”_num
]++;

4711 ifĞ
sh¬”_num
 < 2 )

4713 
PVC_dowm_no_šv_num
++;

4715 
ml2_blk
->
±r_’
 = 0;

4717 
veùÜ_blk
->
±r_’
 = 1;

4718 if(
veùÜ_blk
->
®l_sh¬ed_’
)

4719 
	`·nic
("vector_blk‡ll_shared_en illegal\n");

4720 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] =ğ
MESI_SHARED
 )

4721 
	`·nic
("stateƒrror\n");

4723 ifĞ
sh¬”_num
 =ğ
mesh_size
*mesh_size )

4725 
PVC_up_no_add_num
++;

4727 
ml2_blk
->
±r_’
 = 0;

4729 
veùÜ_blk
->
±r_’
 = 1;

4730 
veùÜ_blk
->
®l_sh¬ed_’
 = 1;

4731 if(
veùÜ_blk
->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
)

4732 
	`·nic
("all_shared_en dir_sharerƒrrpr\n");

4733 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] !ğ
MESI_SHARED
 )

4734 
	`·nic
("stateƒrror\n");

4738 if(
sh¬”_num
 > 
sh¬”_th»shŞd
)

4740 
PVC_up_add_num
++;

4741 
PVC_up_add_shr_num
 +ğ
mesh_size
*mesh_size-
sh¬”_num
;

4742 
PVC_up_add_shr_di¡r
[
mesh_size
*mesh_size-
sh¬”_num
]++;

4744 
ml2_blk
->
±r_’
 = 0;

4746 
veùÜ_blk
->
±r_’
 = 1;

4747 
veùÜ_blk
->
®l_sh¬ed_’
 = 1;

4748 
veùÜ_blk
->
dœ_sh¬”
[0][0] = ()
®l_sh¬”
;

4749 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] !ğ
MESI_SHARED
 )

4750 
	`·nic
("stateƒrror\n");

4754 
PVC_dowm_šv_num
++;

4755 
PVC_dowm_šv_shr_num
 +ğ
sh¬”_num
-1;

4756 
PVC_dowm_šv_shr_di¡r
[
sh¬”_num
-1]++;

4758 
ml2_blk
->
±r_’
 = 0;

4760 
ml2_dœ_blk_¡©e
 = 
veùÜ_blk
->
dœ_blk_¡©e
[0];

4761 
survive_’
 = 1, 
survivÜ
 = -1;

4762 
DIRECTORY_EVENT
 *
cŞËù_ev’t
 = 
	`®loÿ‹_ev’t
(0);

4763 if(
cŞËù_ev’t
 =ğ
NULL
)

4764 
	`·nic
("Out of Virtual Memory");

4766 
veùÜ_blk
->
±r_’
 = 1;

4767 if(
veùÜ_blk
->
®l_sh¬ed_’
)

4768 
	`·nic
("vector_blk‡ll_shared_en illegal\n");

4769 
veùÜ_blk
->
®l_sh¬ed_’
 = 0;

4770 
veùÜ_blk
->
dœ_blk_¡©e
[0] = 
MESI_EXCLUSIVE
;

4771 
veùÜ_blk
->
dœ_¡©e
[0] = 
DIR_TRANSITION
;

4772 
veùÜ_blk
->
±r_cur_ev’t
[0] = 
cŞËù_ev’t
;

4773 ià(
veùÜ_blk
->
qblk_£t_shiá
)

4774 
veùÜ_blk
->
addr
 = (veùÜ_blk->
gid
.
g
 << (
ÿche_ml2
->
g_shiá
+
qblk_£t_shiá
)è+ (
ml2_£t
 << (ÿche_ml2->
£t_shiá
+qblk_set_shift));

4776 
veùÜ_blk
->
addr
 = (veùÜ_blk->
gid
.
g
 << 
ÿche_ml2
->
g_shiá
è+ (
ml2_£t
 << cache_ml2->
£t_shiá
);

4778 
cŞËù_ev’t
->
chdCouÁ
 = 0;

4779 
cŞËù_ev’t
->
šdividu®_chdCouÁ
[0] = 0;

4780 
cŞËù_ev’t
->
sh¬”_num
 = 1;

4781 
cŞËù_ev’t
->
blk_dœ
 = 
veùÜ_blk
;

4782 
cŞËù_ev’t
->
İ”©iÚ
 = 
VEC_DEGRADE
;

4784 
‹mp_th»adid
 = 0;emp_th»adid < 
numcÚ‹xts
;emp_threadid++)

4786 if(((
veùÜ_blk
->
dœ_sh¬”
[0][
‹mp_th»adid
/64]) & (()1 << (temp_threadid%64))) == (()1 << (temp_threadid%64)))

4788 if(
survive_’
)

4790 
survivÜ
 = 
‹mp_th»adid
;

4791 
survive_’
 = 0;

4794 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

4795 if(
Ãw_ev’t
 =ğ
NULL
)

4796 
	`·nic
("Out of Virtual Memory");

4799 
Ãw_ev’t
->
qblk_£t_shiá
 = 
veùÜ_blk
->qblk_set_shift;

4800 
Ãw_ev’t
->
ml2_dœ_blk_¡©e
 = ml2_dir_blk_state;

4801 
Ãw_ev’t
->
addr
 = 
veùÜ_blk
->addr;

4802 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

4803 
Ãw_ev’t
->
·»Á
 = 
cŞËù_ev’t
;

4804 
Ãw_ev’t
->
blk_dœ
 = 
veùÜ_blk
;

4805 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

4806 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

4807 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

4808 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

4809 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

4810 
Ãw_ev’t
->
des1
 = 
‹mp_th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

4811 
Ãw_ev’t
->
des2
 = 
‹mp_th»adid
%
mesh_size
;

4813 
Ãw_ev’t
->
isP»ãtch
 = 0;

4814 
Ãw_ev’t
->
cÚf_b™
 = -1;

4815 
Ãw_ev’t
->
»q_time
 = 0;

4816 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

4817 
Ãw_ev’t
->
³ndšg_æag
 = 0;

4818 
Ãw_ev’t
->
İ
 = 
cŞËù_ev’t
->op;

4819 
Ãw_ev’t
->
vp
 = 
NULL
;

4820 
Ãw_ev’t
->
ud©a
 = 
NULL
;

4821 
Ãw_ev’t
->
rs
 = 
NULL
;

4822 
Ãw_ev’t
->
¥ec_mode
 = 0;

4823 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4826 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

4827 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4828 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

4829 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4831 
cŞËù_ev’t
->
chdCouÁ
++;

4832 
cŞËù_ev’t
->
šdividu®_chdCouÁ
[0] ++;

4835 if(
survivÜ
 == -1)

4836 
	`·nic
("survivorƒrror\n");

4837 
veùÜ_blk
->
dœ_sh¬”
[0][
survivÜ
/64] = (()1 << (survivor%64));

4843 if(
cŞËù_¡©s
)

4844 
švŞve_4_hİs
 ++;

4845 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

4846 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

4847 
ev’t
->
blk_dœ
 = 
ml2_blk
;

4848 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

4849 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

4850 if(
Ãw_ev’t
 =ğ
NULL
)

4851 
	`·nic
("Out of Virtual Memory");

4852 if(
cŞËù_¡©s
)

4853 
ml2
->
dœ_acûss
 ++;

4855 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

4857 
ev’t
->
shr_d©a_»q
 = 0;

4858 
Ãw_ev’t
->
shr_d©a_»q
 = 0;

4859 
dl2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

4863 
ev’t
->
shr_d©a_»q
 = 1;

4864 
Ãw_ev’t
->
shr_d©a_»q
 = 1;

4866 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

4867 
Ãw_ev’t
->
»q_time
 = 0;

4868 
Ãw_ev’t
->
cÚf_b™
 = -1;

4869 
Ãw_ev’t
->
³ndšg_æag
 = 0;

4870 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

4871 
Ãw_ev’t
->
isP»ãtch
 = 0;

4872 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_READ
;

4875 
Ãw_ev’t
->
qblk_£t_shiá
 = 
ml2_blk
->qblk_set_shift;

4877 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

4878 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

4879 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

4880 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

4881 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

4882 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4883 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

4884 
Ãw_ev’t
->
»£nd
 = 0;

4885 
Ãw_ev’t
->
blk_dœ
 = 
ml2_blk
;

4886 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

4887 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

4888 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

4889 
Ãw_ev’t
->
vp
 = 
NULL
;

4890 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

4891 
Ãw_ev’t
->
ud©a
 = 
NULL
;

4892 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

4893 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

4894 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

4895 
Ãw_ev’t
->
¥ec_mode
 = 0;

4896 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

4897 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4898 
ev’t
->
chdCouÁ
++;

4899 
ev’t
->
dœty_æag
 = 1;

4900 if(
ev’t
->
rs
)

4901 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

4902 
lßd_lšk_exşusive
 ++;

4905 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4906 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4910 iàĞ!
	`IsSh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
) )

4912 if(
ml2_blk
->
±r_’
 && ml2_blk->
®l_sh¬ed_’
)

4913 
	`·nic
("miss„ead mesi_invalid…tr_en‡ll_shared_enƒrror \n");

4915 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

4917 
ml2
->
d©a_acûss
 ++;

4918 
švŞve_2_hİs
 ++;

4919 if(
ev’t
->
rs
)

4920 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

4921 
lßd_lšk_sh¬ed
 ++;

4922 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

4923 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

4924 
ml2_blk
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

4926 
veùÜ_couÁ
;

4927 
veùÜ_couÁ
 = 
	`veùÜ_couÁ_func
(
ml2_blk
);

4933 
PVC_veùÜ_di¡r_»cÜd_num
++;

4934 
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

4935 
ÿche_ml2
->
£ts
[
ml2_£t
].
PVC_veùÜ_di¡r_»cÜd_num
++;

4936 
ÿche_ml2
->
£ts
[
ml2_£t
].
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

4938 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

4940 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

4941 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

4944 
	`´štf
("directory is for data segment\n");

4946 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

4947 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

4948 
ev’t
->
¤c1
 +ğev’t->
des1
;

4949 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4950 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4951 
ev’t
->
¤c2
 +ğev’t->
des2
;

4952 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4953 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4954 
ev’t
->
´oûssšgDÚe
 = 0;

4955 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4956 
ev’t
->
·»Á
 = 
NULL
;

4957 
ev’t
->
blk_dœ
 = 
NULL
;

4958 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4959 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

4960 
	`dœ_ev’tq_š£¹
(
ev’t
);

4966 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

4967 if(
ml2_blk
->
qblk_£t_shiá
)

4969 
»ad_Q_h™_num
--;

4970 
mb_·š_couÁ
--;

4973 
»ad_S_h™_num
--;

4974 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

4975 
ev’t
->
L2miss_æag
 = 1;

4976 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

4977 if(
ev’t
->
isSyncAcûss
)

4978 
Sync_L2_miss
 ++;

4979 if(!
m©chnum
)

4981 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

4983 if(!
Ï¡_L2_mshr_fuÎ
)

4985 
L2_mshr_fuÎ
 ++;

4986 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

4988 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4990 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

4992 
ev’t
->
¤c1
 +ğev’t->
des1
;

4993 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4994 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4995 
ev’t
->
¤c2
 +ğev’t->
des2
;

4996 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4997 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4998 
ev’t
->
İ”©iÚ
 = 
NACK
;

4999 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5000 
ev’t
->
´oûssšgDÚe
 = 0;

5001 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5002 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5003 
	`dœ_ev’tq_š£¹
(
ev’t
);

5008 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5009 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5010 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5011 
ev’t
->
æ_æag
 = 1;

5012 
æ_couÁ”
 ++;

5013 
	`dœ_ev’tq_š£¹
(
ev’t
);

5019 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

5020 if(
Ï¡_L2_mshr_fuÎ
)

5022 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

5023 
Ï¡_L2_mshr_fuÎ
 = 0;

5026 if(
cŞËù_¡©s
)

5028 
ÿche_dl2
->
mis£s
 ++;

5029 
ÿche_dl2
->
dmis£s
 ++;

5030 
švŞve_2_hİs_miss
 ++;

5032 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

5033 
ev’t
->
mshr_time
 = 
sim_cyşe
;

5034 
ev’t
->
blk_dœ
 = 
ml2_blk
;

5035 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

5036 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

5037 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

5038 
Ãw_ev’t
->
cmd
 = 
R—d
;

5039 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

5040 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

5041 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5042 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5043 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5044 
ev’t_ü—‹d
 = 
ev’t
;

5045 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

5050 
ev’t
->
isReqL2SecMiss
 = 1;

5051 if(
cŞËù_¡©s
)

5053 
ÿche_dl2
->
š_mshr
 ++;

5054 
ÿche_dl2
->
dš_mshr
 ++;

5056 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

5057 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5065 if(
ml2_blk
->
±r_’
 && !ml2_blk->
®l_sh¬ed_’
)

5066 
	`·nic
("miss„ead mesi_shared…tr_en‡ll_shared_enƒrror \n");

5068 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

5070 
ml2
->
d©a_acûss
 ++;

5071 
švŞve_2_hİs
 ++;

5072 if(
ev’t
->
rs
)

5073 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

5074 
lßd_lšk_sh¬ed
 ++;

5075 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5076 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

5077 
ml2_blk
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

5079 
veùÜ_couÁ
;

5080 
veùÜ_couÁ
 = 
	`veùÜ_couÁ_func
(
ml2_blk
);

5086 
PVC_veùÜ_di¡r_»cÜd_num
++;

5087 
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

5088 
ÿche_ml2
->
£ts
[
ml2_£t
].
PVC_veùÜ_di¡r_»cÜd_num
++;

5089 
ÿche_ml2
->
£ts
[
ml2_£t
].
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

5091 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5093 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64) | ml2_blk->dir_sharer[block_offset][tempID/64];

5094 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

5097 
	`´štf
("directory is for data segment\n");

5099 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

5100 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

5101 
ev’t
->
¤c1
 +ğev’t->
des1
;

5102 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5103 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5104 
ev’t
->
¤c2
 +ğev’t->
des2
;

5105 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5106 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5107 
ev’t
->
´oûssšgDÚe
 = 0;

5108 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5109 
ev’t
->
·»Á
 = 
NULL
;

5110 
ev’t
->
blk_dœ
 = 
NULL
;

5111 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

5112 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

5113 
	`dœ_ev’tq_š£¹
(
ev’t
);

5120 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

5121 ià(!
ev’t
->
shr_d©a_»q
)

5123 
shr_d©a_»q_š™Ÿl_num
++;

5124 
ev’t
->
d©a_»q_sh¬”
 = 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64];

5126 
shr_d©a_»q_tÙ®_num
++;

5127 
de¡
 = -1;

5128 
i
;

5129 
i
=0;i<
numcÚ‹xts
;i++)

5131 iàĞ(((
ev’t
->
d©a_»q_sh¬”
>>
i
)&1)==1è&& (i!óv’t->
‹mpID
) )

5133 
de¡
 = 
i
;

5134 
ev’t
->
d©a_»q_sh¬”
 &ğ~(1<<
i
);

5138 if(
ml2_blk
->
®l_sh¬ed_’
)

5140 
PVC_»ad_®l_shr_num
++;

5141 if(
shr_»ad_’
)

5142 
PVC_rfs_®l_shr_num
++;

5144 ifĞ!
shr_»ad_’
 || 
ml2_blk
->
®l_sh¬ed_’
 )

5145 
de¡
 = -1;

5146 iàĞ
de¡
 == -1 )

5149 
shr_d©a_»q_ç_num
++;

5150 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

5151 if(
ml2_blk
->
qblk_£t_shiá
)

5153 
»ad_Q_h™_num
--;

5154 
mb_·š_couÁ
--;

5157 
»ad_S_h™_num
--;

5158 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

5159 
ev’t
->
L2miss_æag
 = 1;

5160 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

5161 if(
ev’t
->
isSyncAcûss
)

5162 
Sync_L2_miss
 ++;

5163 if(!
m©chnum
)

5165 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

5167 if(!
Ï¡_L2_mshr_fuÎ
)

5169 
L2_mshr_fuÎ
 ++;

5170 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

5172 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

5174 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

5176 
ev’t
->
¤c1
 +ğev’t->
des1
;

5177 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5178 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5179 
ev’t
->
¤c2
 +ğev’t->
des2
;

5180 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5181 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5182 
ev’t
->
İ”©iÚ
 = 
NACK
;

5183 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5184 
ev’t
->
´oûssšgDÚe
 = 0;

5185 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5186 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5187 
	`dœ_ev’tq_š£¹
(
ev’t
);

5192 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5193 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5194 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5195 
ev’t
->
æ_æag
 = 1;

5196 
æ_couÁ”
 ++;

5197 
	`dœ_ev’tq_š£¹
(
ev’t
);

5203 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

5204 if(
Ï¡_L2_mshr_fuÎ
)

5206 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

5207 
Ï¡_L2_mshr_fuÎ
 = 0;

5210 if(
cŞËù_¡©s
)

5212 
ÿche_dl2
->
mis£s
 ++;

5213 
ÿche_dl2
->
dmis£s
 ++;

5214 
švŞve_2_hİs_miss
 ++;

5216 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

5217 
ev’t
->
mshr_time
 = 
sim_cyşe
;

5218 
ev’t
->
blk_dœ
 = 
ml2_blk
;

5219 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

5220 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

5221 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

5222 
Ãw_ev’t
->
cmd
 = 
R—d
;

5223 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

5224 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

5225 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5226 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5227 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5228 
ev’t_ü—‹d
 = 
ev’t
;

5229 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

5234 
ev’t
->
isReqL2SecMiss
 = 1;

5235 if(
cŞËù_¡©s
)

5237 
ÿche_dl2
->
š_mshr
 ++;

5238 
ÿche_dl2
->
dš_mshr
 ++;

5240 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

5241 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5245 
ev’t
->
shr_d©a_»q
 = 1;

5246 
ev’t
->
İ”©iÚ
 = 
DIR_SHR_READ
;

5249 
ev’t
->
qblk_£t_shiá
 = 
ml2_blk
->qblk_set_shift;

5251 
ev’t
->
¤c1
 =ƒv’t->
des1
;

5252 
ev’t
->
¤c2
 =ƒv’t->
des2
;

5253 
ev’t
->
des1
 = 
de¡
/
mesh_size
+
MEM_LOC_SHIFT
;

5254 
ev’t
->
des2
 = 
de¡
%
mesh_size
;

5255 
ev’t
->
´oûssšgDÚe
 = 0;

5256 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5257 
ev’t
->
·»Á
 = 
NULL
;

5258 
ev’t
->
blk_dœ
 = 
ml2_blk
;

5259 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

5260 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

5261 
	`dœ_ev’tq_š£¹
(
ev’t
);

5266 iàĞ
ev’t
->
b_¡©e
 =ğ
SHARED_WRITE
 )

5269 
ml2_g
 = 
ml2_mul_g
;

5270 
ml2_£t
 = 
ml2_mul_£t
;

5271 
»ad_Q_š™_num
++;

5273 
ml2
->
pŞicy
)

5275 
i
;

5276 
bšdex
;

5277 
LRU
:

5278 
FIFO
:

5279 
i
 = 
ml2
->
assoc
;

5281 if(
i
 == 0) ;

5282 
i
--;

5283 
»¶
 = 
ml2
->
£ts
[
ml2_£t
].
way_
;

5284 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

5286 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
));

5288 iàĞ
»¶_ad_’
 && ( 
»¶
->
qblk_£t_shiá
 == 1 ) )

5290 
ÿche_blk_t
 *
bak
;

5291 
bak
 = 
»¶
;

5293 
i
 = 
ml2
->
assoc
;

5295 if(
i
 == 0) ;

5296 
i
--;

5297 
»¶
 = 
ml2
->
£ts
[
ml2_£t
].
way_
;

5298 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

5300 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
è|| (»¶->
qblk_£t_shiá
 == 1) );

5302 iàĞ
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
è|| (»¶->
qblk_£t_shiá
 == 1))

5304 
»¶
 = 
bak
;

5305 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

5309 if(
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
))

5311 
æ_couÁ”
 ++;

5312 
ev’t
->
æ_æag
 = 1;

5313 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5314 
	`dœ_ev’tq_š£¹
(
ev’t
);

5318 
Rªdom
:

5319 
bšdex
 = 
	`my¿nd
 (è& (
dl2
->
assoc
 - 1);

5320 
»¶
 = 
	`CACHE_BINDEX
 (
dl2
, dl2->
£ts
[
dl2_£t
].
blks
, 
bšdex
);

5323 
	`·nic
 ("bogus„eplacement…olicy");

5326 
i
=0, 
™”©iÚ
 = 1;

5327 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

5328 
™”©iÚ
 = iteration * 2;

5329 
m
;

5330 ià(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

5332 ifĞ
»¶
->
±r_’
 &&„•l->
®l_sh¬ed_’
 && (»¶->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
) )

5333 
	`·nic
("recall…tr_en‡ll_shared_enƒrror \n");

5335 ià(
cŞËù_¡©s
)

5336 
ml2
->
»¶aûm’ts
++;

5338 
ml2_dœ_blk_¡©e
;

5339 
Ãw_vc
 = 0;

5340 
æag
 = 0, 
sh¬”_num
 = 0;

5341 
i
=0; i<
™”©iÚ
; i++)

5342 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]))

5343 
sh¬”_num
 ++;

5345 
ev’t
->
chdCouÁ
 = 0;

5346 
ev’t
->
sh¬”_num
 = 0;

5348 
i
=0; i<
™”©iÚ
; i++)

5350 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]))

5354 
ml2_dœ_blk_¡©e
 = 
»¶
->
dœ_blk_¡©e
[
i
];

5355 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) < 2)

5356 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) != 1)

5357 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_EXCLUSIVE
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) != 1)

5358 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_INVALID
)

5360 
	`´štf
("state conflicts with sharer vector\n");

5362 
m
 = 0; m<
™”©iÚ
; m++)

5364 
»¶
->
dœ_¡©e
[
m
] = 
DIR_TRANSITION
;

5365 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

5367 
»¶
->
±r_cur_ev’t
[
i
] = 
ev’t
;

5368 ià(
»¶
->
qblk_£t_shiá
)

5369 
»¶
->
addr
 = (»¶->
gid
.
g
 << (
ÿche_ml2
->
g_shiá
+
qblk_£t_shiá
)è+ (
ml2_£t
 << (ÿche_ml2->
£t_shiá
+qblk_set_shift));

5371 
»¶
->
addr
 = (»¶->
gid
.
g
 << 
ÿche_ml2
->
g_shiá
è+ (
ml2_£t
 << cache_ml2->
£t_shiá
è+ (
i
 << 
ÿche_dl1
[0]->set_shift);

5372 
ev’t
->
šdividu®_chdCouÁ
[
i
] = 0;

5373 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

5375 if(((
»¶
->
dœ_sh¬”
[
i
][
Th»adid
/64]) & (()1 << (Threadid%64))) == (()1 << (Threadid%64)))

5377 
»ÿÎ_šv_num
++;

5378 if(
cŞËù_¡©s
)

5379 
ÿche_ml2
->
šv®id©iÚs
 ++;

5380 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

5381 if(
Ãw_ev’t
 =ğ
NULL
)

5382 
	`·nic
("Out of Virtual Memory");

5383 
švŞve_4_hİs_miss
 ++;

5384 
Ãw_ev’t
->
cÚf_b™
 = -1;

5385 
Ãw_ev’t
->
»q_time
 = 0;

5386 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

5387 
Ãw_ev’t
->
³ndšg_æag
 = 0;

5388 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

5389 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

5392 
Ãw_ev’t
->
qblk_£t_shiá
 = 
»¶
->qblk_set_shift;

5393 
Ãw_ev’t
->
ml2_dœ_blk_¡©e
 = ml2_dir_blk_state;

5395 
Ãw_ev’t
->
isP»ãtch
 = 0;

5396 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

5397 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

5398 
Ãw_ev’t
->
»£nd
 = 0;

5399 
Ãw_ev’t
->
blk1
 = 
»¶
;

5400 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

5401 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

5402 
Ãw_ev’t
->
vp
 = 
NULL
;

5403 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

5404 
Ãw_ev’t
->
ud©a
 = 
NULL
;

5405 
Ãw_ev’t
->
rs
 = 
NULL
;

5406 
Ãw_ev’t
->
¥ec_mode
 = 0;

5407 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

5408 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

5409 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

5410 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

5411 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

5412 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5413 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

5414 
Ãw_ev’t
->
blk_dœ
 = 
»¶
;

5415 
Ãw_ev’t
->
d©a_»¶y
 = 1;

5416 
ev’t
->
sh¬”_num
 = sharer_num;

5417 
ev’t
->
blk_dœ
 = 
»¶
;

5418 
ev’t
->
chdCouÁ
++;

5419 
ev’t
->
šdividu®_chdCouÁ
[
i
] ++;

5421 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
Ãw_vc
);

5423 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5426 
æag
 = 1;

5428 if(
»¶
->
qblk_£t_shiá
)

5430 
»ad_Q_š™_QR_num
++;

5431 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

5432 
»ad_Q_š™_QR_s_num
++;

5433 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

5434 
»ad_Q_š™_QR_ed_num
++;

5437 
»ad_Q_š™_SR_num
++;

5438 
»ÿÎ_num
++;

5439 if(
»¶
->
®l_sh¬ed_’
)

5441 
»¶
->
®l_sh¬ed_’
 = 0;

5442 
PVC_»ÿÎ_®l_shr_num
++;

5445 
sh¬”_di¡r
[
ev’t
->
chdCouÁ
] ++;

5446 
	`IsNeighbÜ_sh¬”
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
);

5449 if(
æag
 == 1)

5452 if(
cŞËù_¡©s
)

5453 
dl2
->
»¶Inv
++;

5454 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

5455 
»¶
->
addr
 =‡ddr;

5456 
»¶
->
gid
.
g
 = 
ml2_g
;

5457 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

5458 
m
=0; m<
™”©iÚ
; m++)

5460 
»¶
->
dœ_sh¬”
[
m
][
‹mpID
/64] = 0;

5461 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

5463 ià(
qblk_£t_shiá
)

5464 
»¶
->
qblk_£t_shiá
 = 1;

5466 
»¶
->
qblk_£t_shiá
 = 0;

5471 
m
=0;m<
™”©iÚ
;m++)

5473 
»¶
->
±r_cur_ev’t
[
m
] = 
NULL
;

5474 
»¶
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

5475 
»¶
->
dœ_sh¬”
[
m
][
‹mpID
/64] = 0;

5476 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

5477 
»¶
->
dœ_dœty
[
m
] = -1;

5478 
»¶
->
exşusive_time
[
m
] = 
sim_cyşe
;

5480 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

5481 
»¶
->
»ady
 = 
sim_cyşe
;

5482 
»¶
->
gid
.
g
 = 
ml2_g
;

5483 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

5484 ià(
qblk_£t_shiá
)

5485 
»¶
->
qblk_£t_shiá
 = 1;

5487 
»¶
->
qblk_£t_shiá
 = 0;

5488 
»¶
->
addr
 =‡ddr;

5489 ià(
»¶
->
way_´ev
 && 
ml2
->
pŞicy
 =ğ
LRU
)

5490 
	`upd©e_way_li¡
(&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

5491 ià(
ml2
->
hsize
)

5492 
	`lšk_hb_’t
(
ml2
, &ml2->
£ts
[
ml2_£t
], 
»¶
);

5493 
ml2
->
Ï¡_g£tid
.
g
 = 0;

5494 
ml2
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

5495 
ml2
->
Ï¡_blk
 = 
»¶
;

5497 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

5499 
ml2
->
d©a_acûss
 ++;

5500 
švŞve_2_hİs
 ++;

5501 if(
ev’t
->
rs
)

5502 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

5503 
lßd_lšk_sh¬ed
 ++;

5504 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5505 
»¶
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

5506 
»¶
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

5508 
veùÜ_couÁ
;

5509 
veùÜ_couÁ
 = 
	`veùÜ_couÁ_func
(
»¶
);

5515 
PVC_veùÜ_di¡r_»cÜd_num
++;

5516 
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

5517 
ÿche_ml2
->
£ts
[
ml2_£t
].
PVC_veùÜ_di¡r_»cÜd_num
++;

5518 
ÿche_ml2
->
£ts
[
ml2_£t
].
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

5520 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5522 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5523 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

5526 
	`´štf
("directory is for data segment\n");

5528 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

5529 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

5530 
ev’t
->
¤c1
 +ğev’t->
des1
;

5531 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5532 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5533 
ev’t
->
¤c2
 +ğev’t->
des2
;

5534 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5535 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5536 
ev’t
->
´oûssšgDÚe
 = 0;

5537 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5538 
ev’t
->
·»Á
 = 
NULL
;

5539 
ev’t
->
blk_dœ
 = 
NULL
;

5540 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

5541 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

5542 
	`dœ_ev’tq_š£¹
(
ev’t
);

5548 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

5549 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

5550 
ev’t
->
L2miss_æag
 = 1;

5551 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

5552 if(
ev’t
->
isSyncAcûss
)

5553 
Sync_L2_miss
 ++;

5554 if(!
m©chnum
)

5556 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

5558 if(!
Ï¡_L2_mshr_fuÎ
)

5560 
L2_mshr_fuÎ
 ++;

5561 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

5563 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

5565 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

5567 
ev’t
->
¤c1
 +ğev’t->
des1
;

5568 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5569 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5570 
ev’t
->
¤c2
 +ğev’t->
des2
;

5571 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5572 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5573 
ev’t
->
İ”©iÚ
 = 
NACK
;

5574 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5575 
ev’t
->
´oûssšgDÚe
 = 0;

5576 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5577 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5578 
	`dœ_ev’tq_š£¹
(
ev’t
);

5583 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5584 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5585 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5586 
ev’t
->
æ_æag
 = 1;

5587 
æ_couÁ”
 ++;

5588 
	`dœ_ev’tq_š£¹
(
ev’t
);

5594 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

5595 if(
Ï¡_L2_mshr_fuÎ
)

5597 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

5598 
Ï¡_L2_mshr_fuÎ
 = 0;

5601 if(
cŞËù_¡©s
)

5603 
ÿche_dl2
->
mis£s
 ++;

5604 
ÿche_dl2
->
dmis£s
 ++;

5605 
švŞve_2_hİs_miss
 ++;

5607 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

5608 
ev’t
->
mshr_time
 = 
sim_cyşe
;

5609 
ev’t
->
blk_dœ
 = 
»¶
;

5610 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

5611 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

5612 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

5613 
Ãw_ev’t
->
cmd
 = 
R—d
;

5614 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

5615 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

5616 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5617 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5618 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5619 
ev’t_ü—‹d
 = 
ev’t
;

5620 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

5625 
ev’t
->
isReqL2SecMiss
 = 1;

5626 if(
cŞËù_¡©s
)

5628 
ÿche_dl2
->
š_mshr
 ++;

5629 
ÿche_dl2
->
dš_mshr
 ++;

5631 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

5632 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5639 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

5641 ià(
dl2_blk
->
way_´ev
 && 
dl2
->
pŞicy
 =ğ
LRU
)

5642 
	`upd©e_way_li¡
 (&
dl2
->
£ts
[
dl2_£t
], 
dl2_blk
, 
H—d
);

5644 
ev’t
->
isReqL2H™
 = 1;

5645 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

5646 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

5647 if(
ev’t
->
rs
)

5648 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

5649 
lßd_lšk_sh¬ed
 ++;

5650 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

5651 
ev’t
->
¤c1
 +ğev’t->
des1
;

5652 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5653 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5654 
ev’t
->
¤c2
 +ğev’t->
des2
;

5655 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5656 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5657 
ev’t
->
´oûssšgDÚe
 = 0;

5658 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5659 
ev’t
->
·»Á
 = 
NULL
;

5660 
ev’t
->
blk_dœ
 = 
NULL
;

5661 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

5662 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

5663 
	`dœ_ev’tq_š£¹
(
ev’t
);

5668 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

5669 
ev’t
->
L2miss_æag
 = 1;

5670 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

5671 
ev’t
->
blk_dœ
 = 
NULL
;

5672 if(
ev’t
->
isSyncAcûss
)

5673 
Sync_L2_miss
 ++;

5674 if(!
m©chnum
)

5676 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

5678 if(!
Ï¡_L2_mshr_fuÎ
)

5680 
L2_mshr_fuÎ
 ++;

5681 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

5683 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

5685 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

5687 
ev’t
->
¤c1
 +ğev’t->
des1
;

5688 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5689 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5690 
ev’t
->
¤c2
 +ğev’t->
des2
;

5691 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5692 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5693 
ev’t
->
İ”©iÚ
 = 
NACK
;

5694 
ev’t
->
´oûssšgDÚe
 = 0;

5695 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5696 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5697 
	`dœ_ev’tq_š£¹
(
ev’t
);

5702 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5703 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5704 
ev’t
->
æ_æag
 = 1;

5705 
æ_couÁ”
 ++;

5706 
	`dœ_ev’tq_š£¹
(
ev’t
);

5712 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

5713 if(
Ï¡_L2_mshr_fuÎ
)

5715 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

5716 
Ï¡_L2_mshr_fuÎ
 = 0;

5719 if(
cŞËù_¡©s
)

5721 
ÿche_dl2
->
mis£s
 ++;

5722 
ÿche_dl2
->
dmis£s
 ++;

5723 
švŞve_2_hİs_miss
 ++;

5725 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

5726 
ev’t
->
mshr_time
 = 
sim_cyşe
;

5727 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

5728 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

5729 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

5730 
Ãw_ev’t
->
cmd
 = 
R—d
;

5731 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

5732 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

5733 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5734 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5735 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5736 
ev’t_ü—‹d
 = 
ev’t
;

5737 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

5742 
ev’t
->
isReqL2SecMiss
 = 1;

5743 if(
cŞËù_¡©s
)

5745 
ÿche_dl2
->
š_mshr
 ++;

5746 
ÿche_dl2
->
dš_mshr
 ++;

5748 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

5754 
WRITE_UPDATE
 :

5755 
dÿche2_acûss
++;

5756 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

5757 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

5758 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5759 
	`·nic
("Writes cannot‡ccessext memory„egion");

5760 if(
	`fšdCacheStus
(
ml2
, 
ml2_sub_£t
, 
ml2_sub_g
, 
ml2_hšdex
, &
ml2_blk
))

5762 if(
ml2_blk
->
qblk_£t_shiá
 == 0)

5764 
ml2_h™
 = 1;

5765 
ml2_g
 = 
ml2_sub_g
;

5766 
ml2_£t
 = 
ml2_sub_£t
;

5768 
wr™e_S_h™_num
++;

5771 
ml2_h™
 = 0;

5773 if(!
ml2_h™
 && 
	`fšdCacheStus
(
ml2
, 
ml2_mul_£t
, 
ml2_mul_g
, 
ml2_hšdex
, &
ml2_blk
))

5775 
muÉi_h™_cÚd™iÚ
;

5776 
muÉi_h™_cÚd™iÚ
 = !
	`IsSh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
è|| !
muÉi_blk_ad­_’
;

5777 if((
ml2_blk
->
qblk_£t_shiá
 =ğ1è&& 
muÉi_h™_cÚd™iÚ
)

5779 iàĞ
muÉi_blk_ad­_’
 && (
ml2_blk
->
dœ_¡©e
[
block_off£t
] !ğ
DIR_TRANSITION
) )

5780 
	`´štf
("WRITE_UPDATE m_blkƒrror†ike\n");

5781 
ml2_h™
 = 1;

5782 
ml2_g
 = 
ml2_mul_g
;

5783 
ml2_£t
 = 
ml2_mul_£t
;

5785 
wr™e_Q_h™_num
++;

5786 
mb_·š_couÁ
++;

5789 
ml2_h™
 = 0;

5792 if(
ml2_h™
)

5794 *
muÉË_sh¬”s
 = (*)
	`ÿÎoc
(4, ());

5795 
cu¼’tTh»adId
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

5796 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

5797 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

5798 ià(
ml2_blk
->
way_´ev
 && 
ml2
->
pŞicy
 =ğ
LRU
)

5799 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
ml2_blk
, 
H—d
);

5800 
ev’t
->
isReqL2H™
 = 1;

5801 if(
ml2_blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

5803 
ev’t
->
isReqL2T¿ns
 = 1;

5804 if(
ml2_blk
->
qblk_£t_shiá
)

5806 
wr™e_Q_h™_num
--;

5807 
mb_·š_couÁ
--;

5810 
wr™e_S_h™_num
--;

5811 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

5813 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

5814 
ev’t
->
¤c1
 +ğev’t->
des1
;

5815 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5816 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5817 
ev’t
->
¤c2
 +ğev’t->
des2
;

5818 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5819 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5820 
ev’t
->
İ”©iÚ
 = 
NACK
;

5821 
ev’t
->
´oûssšgDÚe
 = 0;

5822 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5823 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5824 
	`dœ_ev’tq_š£¹
(
ev’t
);

5825 if(
cŞËù_¡©s
)

5826 
ml2
->
dœ_acûss
 ++;

5831 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5832 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5833 
æ_couÁ”
 ++;

5834 
ev’t
->
æ_æag
 = 1;

5835 
	`dœ_ev’tq_š£¹
(
ev’t
);

5836 if(
cŞËù_¡©s
)

5837 
ml2
->
dœ_acûss
 ++;

5842 if((!
	`IsExşusiveOrDœty
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
)è&& (ml2_blk->
dœ_dœty
[block_offset] != -1) )

5844 ià(
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] == ()1<<(tempID%64))

5846 ià((!
ml2_blk
->
qblk_£t_shiá
è&& (!
muÉi_blk_ad­_’
))

5847 
	`´štf
("WRITE_UPDATEƒrror†ike\n");

5850 
	`·nic
("DIR: Block can‚ot be dirty state when it is‚otƒxclusive!");

5854 if(!
	`IsSh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
))

5856 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
è|| (
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] & ()1<<(tempID%64)))

5859 ià(
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] & ()1<<(tempID%64))

5861 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

5862 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5866 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

5867 
·ck‘_size
 = 
d©a_·ck‘_size
;

5869 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5870 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5871 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

5872 
ml2_blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5873 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5875 
ev’t
->
¤c1
 +ğev’t->
des1
;

5876 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5877 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5878 
ev’t
->
¤c2
 +ğev’t->
des2
;

5879 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5880 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5882 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

5884 
ev’t
->
´oûssšgDÚe
 = 0;

5885 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5886 
ev’t
->
·»Á
 = 
NULL
;

5887 
ev’t
->
blk_dœ
 = 
NULL
;

5888 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

5889 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

5890 
	`dœ_ev’tq_š£¹
(
ev’t
);

5894 
ev’t
->
´oûssšgDÚe
 = 0;

5895 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5896 
ev’t
->
·»Á
 = 
NULL
;

5897 
ev’t
->
blk_dœ
 = 
NULL
;

5898 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

5899 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

5900 
	`dœ_ev’tq_š£¹
(
ev’t
);

5906 
ev’t
->
İ”©iÚ
 = 
MISS_WRITE
;

5907 
ev’t
->
·»Á_İ”©iÚ
 = 
MISS_WRITE
;

5909 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

5910 if(
ml2_blk
->
qblk_£t_shiá
)

5912 
wr™e_Q_h™_num
--;

5913 
mb_·š_couÁ
--;

5916 
wr™e_S_h™_num
--;

5918 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

5919 
ev’t
->
L2miss_æag
 = 1;

5920 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

5921 if(
ev’t
->
isSyncAcûss
)

5922 
Sync_L2_miss
 ++;

5923 if(!
m©chnum
)

5925 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

5927 if(!
Ï¡_L2_mshr_fuÎ
)

5929 
L2_mshr_fuÎ
 ++;

5930 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

5932 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

5934 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

5936 
ev’t
->
¤c1
 +ğev’t->
des1
;

5937 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5938 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5939 
ev’t
->
¤c2
 +ğev’t->
des2
;

5940 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5941 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5942 
ev’t
->
İ”©iÚ
 = 
NACK
;

5943 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5944 
ev’t
->
´oûssšgDÚe
 = 0;

5945 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5946 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5947 
	`dœ_ev’tq_š£¹
(
ev’t
);

5952 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5953 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5954 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5955 
ev’t
->
æ_æag
 = 1;

5956 
æ_couÁ”
 ++;

5957 
	`dœ_ev’tq_š£¹
(
ev’t
);

5963 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

5964 if(
Ï¡_L2_mshr_fuÎ
)

5966 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

5967 
Ï¡_L2_mshr_fuÎ
 = 0;

5970 if(
cŞËù_¡©s
)

5972 
ÿche_dl2
->
mis£s
 ++;

5973 
ÿche_dl2
->
dmis£s
 ++;

5974 
švŞve_2_hİs_miss
 ++;

5976 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

5977 
ev’t
->
mshr_time
 = 
sim_cyşe
;

5978 
ev’t
->
blk_dœ
 = 
ml2_blk
;

5979 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

5980 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

5981 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

5982 
Ãw_ev’t
->
cmd
 = 
R—d
;

5983 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

5984 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

5985 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5986 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5987 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5988 
ev’t_ü—‹d
 = 
ev’t
;

5989 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

5994 
ev’t
->
isReqL2SecMiss
 = 1;

5995 if(
cŞËù_¡©s
)

5997 
ÿche_dl2
->
š_mshr
 ++;

5998 
ÿche_dl2
->
dš_mshr
 ++;

6000 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

6001 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6008 if(
ml2_blk
->
qblk_£t_shiá
 && 
muÉi_blk_ad­_’
)

6009 
	`·nic
("m_blk write can‚ot„earch here write update");

6010 ifĞ
ml2_blk
->
±r_’
 && ml2_blk->
®l_sh¬ed_’
 && (ml2_blk->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
) )

6011 
	`·nic
("write…tr_en‡ll_shared_enƒrror \n");

6012 ifĞ
ml2_blk
->
®l_sh¬ed_’
 )

6014 
ml2_blk
->
®l_sh¬ed_’
 = 0;

6015 
PVC_wr™e_®l_shr_num
++;

6017 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

6018 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

6019 ià(!(
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] & ()1<<(tempID%64)))

6021 
ev’t
->
İ”©iÚ
 = 
MISS_WRITE
;

6022 
ev’t
->
·»Á_İ”©iÚ
 = 
MISS_WRITE
;

6024 
ev’t
->
blk_dœ
 = 
ml2_blk
;

6025 
ev’t
->
chdCouÁ
 = 0;

6026 
muÉË_sh¬”s
 = 
ml2_blk
->
dœ_sh¬”
[
block_off£t
];

6027 
shr_d©a_»q
 = 0;

6029 ià(
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
)

6031 ià(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

6033 
shr_d©a_»q
 = 0;

6034 
dl2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

6037 
shr_d©a_»q
 = 1;

6039 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

6041 if((((
muÉË_sh¬”s
[
Th»adid
/64]è& (()1 << (Th»adid%64))è=ğ(()1 << (Th»adid%64))è&& (Th»adid !ğ
‹mpID
))

6043 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

6044 if(
Ãw_ev’t
 =ğ
NULL
)

6045 
	`·nic
("Out of Virtual Memory");

6046 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

6047 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

6050 if(
ml2_blk
->
qblk_£t_shiá
 && 
muÉi_blk_ad­_’
)

6051 
	`·nic
("we do‚ot writeo m_blk");

6052 
Ãw_ev’t
->
qblk_£t_shiá
 = 
ml2_blk
->qblk_set_shift;

6054 
Ãw_ev’t
->
¤c1
 = 
cu¼’tTh»adId
/
mesh_size
+
MEM_LOC_SHIFT
;

6055 
Ãw_ev’t
->
¤c2
 = 
cu¼’tTh»adId
%
mesh_size
;

6056 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

6057 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

6058 ià(
shr_d©a_»q
)

6060 
ev’t
->
shr_d©a_»q
 = 1;

6061 
Ãw_ev’t
->
shr_d©a_»q
 = 1;

6062 
shr_d©a_»q
 = 0;

6064 
Ãw_ev’t
->
»q_time
 = 0;

6065 
Ãw_ev’t
->
cÚf_b™
 = -1;

6066 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

6067 
Ãw_ev’t
->
³ndšg_æag
 = 0;

6068 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

6069 
Ãw_ev’t
->
isP»ãtch
 = 0;

6070 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

6071 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

6072 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6073 
Ãw_ev’t
->
‹mpID
 =empID;

6074 
Ãw_ev’t
->
»£nd
 = 0;

6075 
Ãw_ev’t
->
blk_dœ
 = 
ml2_blk
;

6076 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

6077 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

6078 
Ãw_ev’t
->
vp
 = 
NULL
;

6079 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

6080 
Ãw_ev’t
->
ud©a
 = 
NULL
;

6081 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

6082 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

6083 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

6084 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

6085 
Ãw_ev’t
->
¥ec_mode
 = 0;

6086 
Ãw_ev’t
->
d©a_»¶y
 = 1;

6088 
ev’t
->
chdCouÁ
++;

6089 
ev’t
->
dœty_æag
 = 1;

6091 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6092 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6101 
ml2_h™
 = 
	`fšdCacheStus
(
ml2
, 
ml2_mul_£t
, 
ml2_mul_g
, 
ml2_hšdex
, &
ml2_blk
);

6102 if(
ml2_h™
)

6103 
ml2_ed
 = 
	`Is_ExşusiveOrDœty
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
]);

6104 if(
ml2_h™
)

6106 
ml2_g
 = 
ml2_sub_g
;

6107 
ml2_£t
 = 
ml2_sub_£t
;

6108 if(
ml2_ed
)

6109 
wr™e_S_š™_ed_num
++;

6111 
wr™e_S_š™_s_num
++;

6115 
ml2_g
 = 
ml2_mul_g
;

6116 
ml2_£t
 = 
ml2_mul_£t
;

6117 
wr™e_Q_š™_num
++;

6120 
ml2
->
pŞicy
)

6122 
i
;

6123 
bšdex
;

6124 
LRU
:

6125 
FIFO
:

6126 
i
 = 
ml2
->
assoc
;

6128 if(
i
 == 0) ;

6129 
i
--;

6130 
»¶
 = 
ml2
->
£ts
[
ml2_£t
].
way_
;

6131 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

6133 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
));

6135 iàĞ
»¶_ad_’
 && ( 
»¶
->
qblk_£t_shiá
 == 1 ) )

6137 
ÿche_blk_t
 *
bak
;

6138 
bak
 = 
»¶
;

6140 
i
 = 
ml2
->
assoc
;

6142 if(
i
 == 0) ;

6143 
i
--;

6144 
»¶
 = 
ml2
->
£ts
[
ml2_£t
].
way_
;

6145 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

6147 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
è|| (»¶->
qblk_£t_shiá
 == 1) );

6149 iàĞ
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
è|| (»¶->
qblk_£t_shiá
 == 1))

6151 
»¶
 = 
bak
;

6152 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

6156 if(
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
))

6158 
æ_couÁ”
 ++;

6159 
ev’t
->
æ_æag
 = 1;

6160 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

6161 
	`dœ_ev’tq_š£¹
(
ev’t
);

6165 
Rªdom
:

6166 
bšdex
 = 
	`my¿nd
 (è& (
dl2
->
assoc
 - 1);

6167 
»¶
 = 
	`CACHE_BINDEX
 (
dl2
, dl2->
£ts
[
dl2_£t
].
blks
, 
bšdex
);

6170 
	`·nic
 ("bogus„eplacement…olicy");

6175 ià(
ml2_h™
 && 
qblk_£t_shiá
 && (
veùÜ_num
!=0è&& (
»¶
->
±r_’
è&& (
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
])>1) )

6177 
veùÜ_avaabË
;

6178 
sh¬”_num
;

6179 
‹mp_th»adid
;

6180 
ÿche_blk_t
 *
veùÜ_blk
;

6182 
veùÜ_avaabË
 = 
	`veùÜ_avaabË_func
(&
veùÜ_blk
, 
ml2_£t
);

6186 if(!
veùÜ_avaabË
)

6188 
PVC_æ_num
++;

6189 
ev’t
->
isReqL2T¿ns
 = 1;

6190 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

6192 
ev’t
->
¤c1
 +ğev’t->
des1
;

6193 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6194 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6195 
ev’t
->
¤c2
 +ğev’t->
des2
;

6196 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6197 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6198 
ev’t
->
İ”©iÚ
 = 
NACK
;

6199 
ev’t
->
´oûssšgDÚe
 = 0;

6200 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6201 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6202 
	`dœ_ev’tq_š£¹
(
ev’t
);

6203 if(
cŞËù_¡©s
)

6204 
ml2
->
dœ_acûss
 ++;

6209 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

6210 
æ_couÁ”
 ++;

6211 
ev’t
->
æ_æag
 = 1;

6212 
	`dœ_ev’tq_š£¹
(
ev’t
);

6213 if(
cŞËù_¡©s
)

6214 
ml2
->
dœ_acûss
 ++;

6220 
sh¬”_num
 = 
	`Is_Sh¬ed
(
veùÜ_blk
->
dœ_sh¬”
[
block_off£t
]);

6222 
PVC_exchªge_num
++;

6223 
PVC_exch_vec_shr_di¡r
[
sh¬”_num
]++;

6225 ifĞ
sh¬”_num
 < 2 )

6227 
PVC_dowm_no_šv_num
++;

6229 
»¶
->
±r_’
 = 0;

6231 
veùÜ_blk
->
±r_’
 = 1;

6232 if(
veùÜ_blk
->
®l_sh¬ed_’
)

6233 
	`·nic
("vector_blk‡ll_shared_en illegal\n");

6234 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] =ğ
MESI_SHARED
 )

6235 
	`·nic
("stateƒrror\n");

6237 ifĞ
sh¬”_num
 =ğ
mesh_size
*mesh_size )

6239 
PVC_up_no_add_num
++;

6241 
»¶
->
±r_’
 = 0;

6243 
veùÜ_blk
->
±r_’
 = 1;

6244 
veùÜ_blk
->
®l_sh¬ed_’
 = 1;

6245 if(
veùÜ_blk
->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
)

6246 
	`·nic
("all_shared_en dir_sharerƒrrpr\n");

6247 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] !ğ
MESI_SHARED
 )

6248 
	`·nic
("stateƒrror\n");

6252 if(
sh¬”_num
 > 
sh¬”_th»shŞd
)

6254 
PVC_up_add_num
++;

6255 
PVC_up_add_shr_num
 +ğ
mesh_size
*mesh_size-
sh¬”_num
;

6256 
PVC_up_add_shr_di¡r
[
mesh_size
*mesh_size-
sh¬”_num
]++;

6258 
»¶
->
±r_’
 = 0;

6260 
veùÜ_blk
->
±r_’
 = 1;

6261 
veùÜ_blk
->
®l_sh¬ed_’
 = 1;

6262 
veùÜ_blk
->
dœ_sh¬”
[0][0] = ()
®l_sh¬”
;

6263 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] !ğ
MESI_SHARED
 )

6264 
	`·nic
("stateƒrror\n");

6268 
PVC_dowm_šv_num
++;

6269 
PVC_dowm_šv_shr_num
 +ğ
sh¬”_num
-1;

6270 
PVC_dowm_šv_shr_di¡r
[
sh¬”_num
-1]++;

6272 
»¶
->
±r_’
 = 0;

6274 
ml2_dœ_blk_¡©e
 = 
veùÜ_blk
->
dœ_blk_¡©e
[0];

6275 
survive_’
 = 1, 
survivÜ
 = -1;

6276 
DIRECTORY_EVENT
 *
cŞËù_ev’t
 = 
	`®loÿ‹_ev’t
(0);

6277 if(
cŞËù_ev’t
 =ğ
NULL
)

6278 
	`·nic
("Out of Virtual Memory");

6280 
veùÜ_blk
->
±r_’
 = 1;

6281 if(
veùÜ_blk
->
®l_sh¬ed_’
)

6282 
	`·nic
("vector_blk‡ll_shared_en illegal\n");

6283 
veùÜ_blk
->
®l_sh¬ed_’
 = 0;

6284 
veùÜ_blk
->
dœ_blk_¡©e
[0] = 
MESI_EXCLUSIVE
;

6285 
veùÜ_blk
->
dœ_¡©e
[0] = 
DIR_TRANSITION
;

6286 
veùÜ_blk
->
±r_cur_ev’t
[0] = 
cŞËù_ev’t
;

6287 ià(
veùÜ_blk
->
qblk_£t_shiá
)

6288 
veùÜ_blk
->
addr
 = (veùÜ_blk->
gid
.
g
 << (
ÿche_ml2
->
g_shiá
+
qblk_£t_shiá
)è+ (
ml2_£t
 << (ÿche_ml2->
£t_shiá
+qblk_set_shift));

6290 
veùÜ_blk
->
addr
 = (veùÜ_blk->
gid
.
g
 << 
ÿche_ml2
->
g_shiá
è+ (
ml2_£t
 << cache_ml2->
£t_shiá
);

6292 
cŞËù_ev’t
->
chdCouÁ
 = 0;

6293 
cŞËù_ev’t
->
šdividu®_chdCouÁ
[0] = 0;

6294 
cŞËù_ev’t
->
sh¬”_num
 = 1;

6295 
cŞËù_ev’t
->
blk_dœ
 = 
veùÜ_blk
;

6296 
cŞËù_ev’t
->
İ”©iÚ
 = 
VEC_DEGRADE
;

6298 
‹mp_th»adid
 = 0;emp_th»adid < 
numcÚ‹xts
;emp_threadid++)

6300 if(((
veùÜ_blk
->
dœ_sh¬”
[0][
‹mp_th»adid
/64]) & (()1 << (temp_threadid%64))) == (()1 << (temp_threadid%64)))

6302 if(
survive_’
)

6304 
survivÜ
 = 
‹mp_th»adid
;

6305 
survive_’
 = 0;

6308 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

6309 if(
Ãw_ev’t
 =ğ
NULL
)

6310 
	`·nic
("Out of Virtual Memory");

6313 
Ãw_ev’t
->
qblk_£t_shiá
 = 
veùÜ_blk
->qblk_set_shift;

6314 
Ãw_ev’t
->
ml2_dœ_blk_¡©e
 = ml2_dir_blk_state;

6315 
Ãw_ev’t
->
addr
 = 
veùÜ_blk
->addr;

6316 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

6317 
Ãw_ev’t
->
·»Á
 = 
cŞËù_ev’t
;

6318 
Ãw_ev’t
->
blk_dœ
 = 
veùÜ_blk
;

6319 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

6320 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

6321 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

6322 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6323 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6324 
Ãw_ev’t
->
des1
 = 
‹mp_th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

6325 
Ãw_ev’t
->
des2
 = 
‹mp_th»adid
%
mesh_size
;

6327 
Ãw_ev’t
->
isP»ãtch
 = 0;

6328 
Ãw_ev’t
->
cÚf_b™
 = -1;

6329 
Ãw_ev’t
->
»q_time
 = 0;

6330 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

6331 
Ãw_ev’t
->
³ndšg_æag
 = 0;

6332 
Ãw_ev’t
->
İ
 = 
cŞËù_ev’t
->op;

6333 
Ãw_ev’t
->
vp
 = 
NULL
;

6334 
Ãw_ev’t
->
ud©a
 = 
NULL
;

6335 
Ãw_ev’t
->
rs
 = 
NULL
;

6336 
Ãw_ev’t
->
¥ec_mode
 = 0;

6337 
Ãw_ev’t
->
d©a_»¶y
 = 1;

6340 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

6341 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6342 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

6343 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6345 
cŞËù_ev’t
->
chdCouÁ
++;

6346 
cŞËù_ev’t
->
šdividu®_chdCouÁ
[0] ++;

6349 if(
survivÜ
 == -1)

6350 
	`·nic
("survivorƒrror\n");

6351 
veùÜ_blk
->
dœ_sh¬”
[0][
survivÜ
/64] = (()1 << (survivor%64));

6358 
i
=0, 
™”©iÚ
 = 1;

6359 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

6360 
™”©iÚ
 = iteration * 2;

6361 
m
;

6362 ià(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

6364 ifĞ
»¶
->
±r_’
 &&„•l->
®l_sh¬ed_’
 && (»¶->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
) )

6365 
	`·nic
("recall…tr_en‡ll_shared_enƒrror \n");

6366 ià(
cŞËù_¡©s
)

6367 
ml2
->
»¶aûm’ts
++;

6369 
ml2_dœ_blk_¡©e
;

6370 
Ãw_vc
 = 0;

6371 
æag
 = 0, 
sh¬”_num
 = 0;

6372 
i
=0; i<
™”©iÚ
; i++)

6373 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]))

6374 
sh¬”_num
 ++;

6376 
ev’t
->
chdCouÁ
 = 0;

6377 
ev’t
->
sh¬”_num
 = 0;

6379 
i
=0; i<
™”©iÚ
; i++)

6381 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]))

6385 
ml2_dœ_blk_¡©e
 = 
»¶
->
dœ_blk_¡©e
[
i
];

6386 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) < 2)

6387 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) != 1)

6388 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_EXCLUSIVE
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) != 1)

6389 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_INVALID
)

6391 
	`´štf
("state conflicts with sharer vector\n");

6393 
m
 = 0; m<
™”©iÚ
; m++)

6395 
»¶
->
dœ_¡©e
[
m
] = 
DIR_TRANSITION
;

6396 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

6398 
»¶
->
±r_cur_ev’t
[
i
] = 
ev’t
;

6399 ià(
»¶
->
qblk_£t_shiá
)

6400 
»¶
->
addr
 = (»¶->
gid
.
g
 << (
ÿche_ml2
->
g_shiá
+
qblk_£t_shiá
)è+ (
ml2_£t
 << (ÿche_ml2->
£t_shiá
+qblk_set_shift));

6402 
»¶
->
addr
 = (»¶->
gid
.
g
 << 
ÿche_ml2
->
g_shiá
è+ (
ml2_£t
 << cache_ml2->
£t_shiá
è+ (
i
 << 
ÿche_dl1
[0]->set_shift);

6403 
ev’t
->
šdividu®_chdCouÁ
[
i
] = 0;

6404 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

6406 if(((
»¶
->
dœ_sh¬”
[
i
][
Th»adid
/64]) & (()1 << (Threadid%64))) == (()1 << (Threadid%64)))

6408 
»ÿÎ_šv_num
++;

6409 if(
cŞËù_¡©s
)

6410 
ÿche_ml2
->
šv®id©iÚs
 ++;

6411 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

6412 if(
Ãw_ev’t
 =ğ
NULL
)

6413 
	`·nic
("Out of Virtual Memory");

6414 
švŞve_4_hİs_miss
 ++;

6415 
Ãw_ev’t
->
cÚf_b™
 = -1;

6416 
Ãw_ev’t
->
»q_time
 = 0;

6417 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

6418 
Ãw_ev’t
->
³ndšg_æag
 = 0;

6419 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

6420 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

6423 
Ãw_ev’t
->
qblk_£t_shiá
 = 
»¶
->qblk_set_shift;

6424 
Ãw_ev’t
->
ml2_dœ_blk_¡©e
 = ml2_dir_blk_state;

6426 
Ãw_ev’t
->
isP»ãtch
 = 0;

6427 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

6428 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

6429 
Ãw_ev’t
->
»£nd
 = 0;

6430 
Ãw_ev’t
->
blk1
 = 
»¶
;

6431 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

6432 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

6433 
Ãw_ev’t
->
vp
 = 
NULL
;

6434 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

6435 
Ãw_ev’t
->
ud©a
 = 
NULL
;

6436 
Ãw_ev’t
->
rs
 = 
NULL
;

6437 
Ãw_ev’t
->
¥ec_mode
 = 0;

6438 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6439 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6440 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

6441 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

6442 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

6443 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6444 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

6445 
Ãw_ev’t
->
blk_dœ
 = 
»¶
;

6446 
Ãw_ev’t
->
d©a_»¶y
 = 1;

6447 
ev’t
->
sh¬”_num
 = sharer_num;

6448 
ev’t
->
blk_dœ
 = 
»¶
;

6449 
ev’t
->
chdCouÁ
++;

6450 
ev’t
->
šdividu®_chdCouÁ
[
i
] ++;

6452 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
Ãw_vc
);

6454 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6457 
æag
 = 1;

6459 if(
ml2_h™
)

6460 if(
ml2_ed
)

6461 if(
»¶
->
qblk_£t_shiá
)

6463 
wr™e_S_š™_ed_QR_num
++;

6464 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

6465 
wr™e_S_š™_ed_QR_s_num
++;

6466 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

6467 
wr™e_S_š™_ed_QR_ed_num
++;

6469 
wr™e_S_š™_ed_SR_num
++;

6471 if(
»¶
->
qblk_£t_shiá
)

6473 
wr™e_S_š™_s_QR_num
++;

6474 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

6475 
wr™e_S_š™_s_QR_s_num
++;

6476 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

6477 
wr™e_S_š™_s_QR_ed_num
++;

6479 
wr™e_S_š™_s_SR_num
++;

6481 if(
»¶
->
qblk_£t_shiá
)

6483 
wr™e_Q_š™_QR_num
++;

6484 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

6485 
wr™e_Q_š™_QR_s_num
++;

6486 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

6487 
wr™e_Q_š™_QR_ed_num
++;

6489 
wr™e_Q_š™_SR_num
++;

6490 
»ÿÎ_num
++;

6491 if(
»¶
->
®l_sh¬ed_’
)

6493 
»¶
->
®l_sh¬ed_’
 = 0;

6494 
PVC_»ÿÎ_®l_shr_num
++;

6497 
sh¬”_di¡r
[
ev’t
->
chdCouÁ
] ++;

6498 
	`IsNeighbÜ_sh¬”
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
);

6501 if(
æag
 == 1)

6504 if(
cŞËù_¡©s
)

6505 
dl2
->
»¶Inv
++;

6507 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

6508 
»¶
->
addr
 =‡ddr;

6509 
»¶
->
gid
.
g
 = 
ml2_g
;

6510 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

6511 
m
=0; m<
™”©iÚ
; m++)

6513 
»¶
->
dœ_sh¬”
[
m
][
‹mpID
/64] = 0;

6514 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

6517 if(
ml2_h™
 && 
qblk_£t_shiá
)

6519 ifĞ(
»¶
->
±r_’
è&& (
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
])>1) )

6520 
	`·nic
("unableo copy\n");

6521 
»¶
->
qblk_£t_shiá
 = 0;

6522 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = 
ml2_blk
->dir_sharer[block_offset][tempID/64];

6523 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
ml2_blk
->dir_blk_state[block_offset];

6524 
»¶
->
dœ_dœty
[
block_off£t
] = 
ml2_blk
->dir_dirty[block_offset];

6526 ià(
qblk_£t_shiá
)

6527 
»¶
->
qblk_£t_shiá
 = 1;

6529 
»¶
->
qblk_£t_shiá
 = 0;

6534 
m
=0;m<
™”©iÚ
;m++)

6536 
»¶
->
±r_cur_ev’t
[
m
] = 
NULL
;

6537 
»¶
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

6538 
»¶
->
dœ_sh¬”
[
m
][
‹mpID
/64] = 0;

6539 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

6540 
»¶
->
dœ_dœty
[
m
] = -1;

6541 
»¶
->
exşusive_time
[
m
] = 
sim_cyşe
;

6543 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

6544 
»¶
->
»ady
 = 
sim_cyşe
;

6545 
»¶
->
gid
.
g
 = 
ml2_g
;

6546 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

6547 if(
ml2_h™
 && 
qblk_£t_shiá
)

6548 
»¶
->
qblk_£t_shiá
 = 0;

6549 ià(
qblk_£t_shiá
)

6550 
»¶
->
qblk_£t_shiá
 = 1;

6552 
»¶
->
qblk_£t_shiá
 = 0;

6553 
»¶
->
addr
 =‡ddr;

6554 ià(
»¶
->
way_´ev
 && 
ml2
->
pŞicy
 =ğ
LRU
)

6555 
	`upd©e_way_li¡
(&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

6556 ià(
ml2
->
hsize
)

6557 
	`lšk_hb_’t
(
ml2
, &ml2->
£ts
[
ml2_£t
], 
»¶
);

6558 
ml2
->
Ï¡_g£tid
.
g
 = 0;

6559 
ml2
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

6560 
ml2
->
Ï¡_blk
 = 
»¶
;

6563 ià(
ml2_h™
 && 
qblk_£t_shiá
)

6565 ifĞ(
»¶
->
±r_’
è&& (
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
])>1) )

6566 
	`·nic
("unableo copy\n");

6567 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = 
ml2_blk
->dir_sharer[block_offset][tempID/64];

6568 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
ml2_blk
->dir_blk_state[block_offset];

6569 
»¶
->
dœ_dœty
[
block_off£t
] = 
ml2_blk
->dir_dirty[block_offset];

6570 
ev’t
->
wh’
 = 
sim_cyşe
;

6571 
ev’t
->
no_L2_d–ay
 = 1;

6572 
	`dœ_ev’tq_š£¹
(
ev’t
);

6576 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

6578 
ml2
->
d©a_acûss
 ++;

6579 
švŞve_2_hİs
 ++;

6580 if(
ev’t
->
rs
)

6581 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

6582 
lßd_lšk_sh¬ed
 ++;

6583 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6584 
»¶
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

6585 
»¶
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

6586 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

6588 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6589 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

6590 
»¶
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

6593 
	`´štf
("directory is for data segment\n");

6595 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

6596 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

6597 
ev’t
->
¤c1
 +ğev’t->
des1
;

6598 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6599 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6600 
ev’t
->
¤c2
 +ğev’t->
des2
;

6601 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6602 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6603 
ev’t
->
´oûssšgDÚe
 = 0;

6604 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6605 
ev’t
->
·»Á
 = 
NULL
;

6606 
ev’t
->
blk_dœ
 = 
NULL
;

6607 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

6608 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

6609 
	`dœ_ev’tq_š£¹
(
ev’t
);

6615 
ev’t
->
İ”©iÚ
 = 
MISS_WRITE
;

6616 
ev’t
->
·»Á_İ”©iÚ
 = 
MISS_WRITE
;

6617 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

6618 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

6619 
ev’t
->
L2miss_æag
 = 1;

6620 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

6621 if(
ev’t
->
isSyncAcûss
)

6622 
Sync_L2_miss
 ++;

6623 if(!
m©chnum
)

6625 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

6627 if(!
Ï¡_L2_mshr_fuÎ
)

6629 
L2_mshr_fuÎ
 ++;

6630 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

6632 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

6634 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

6636 
ev’t
->
¤c1
 +ğev’t->
des1
;

6637 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6638 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6639 
ev’t
->
¤c2
 +ğev’t->
des2
;

6640 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6641 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6642 
ev’t
->
İ”©iÚ
 = 
NACK
;

6643 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6644 
ev’t
->
´oûssšgDÚe
 = 0;

6645 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6646 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6647 
	`dœ_ev’tq_š£¹
(
ev’t
);

6652 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6653 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

6654 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

6655 
ev’t
->
æ_æag
 = 1;

6656 
æ_couÁ”
 ++;

6657 
	`dœ_ev’tq_š£¹
(
ev’t
);

6663 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

6664 if(
Ï¡_L2_mshr_fuÎ
)

6666 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

6667 
Ï¡_L2_mshr_fuÎ
 = 0;

6670 if(
cŞËù_¡©s
)

6672 
ÿche_dl2
->
mis£s
 ++;

6673 
ÿche_dl2
->
dmis£s
 ++;

6674 
švŞve_2_hİs_miss
 ++;

6676 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

6677 
ev’t
->
mshr_time
 = 
sim_cyşe
;

6678 
ev’t
->
blk_dœ
 = 
»¶
;

6679 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

6680 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

6681 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

6682 
Ãw_ev’t
->
cmd
 = 
R—d
;

6683 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

6684 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

6685 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6686 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6687 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6688 
ev’t_ü—‹d
 = 
ev’t
;

6689 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

6694 
ev’t
->
isReqL2SecMiss
 = 1;

6695 if(
cŞËù_¡©s
)

6697 
ÿche_dl2
->
š_mshr
 ++;

6698 
ÿche_dl2
->
dš_mshr
 ++;

6700 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

6701 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6708 
MISS_WRITE
 :

6709 
dÿche2_acûss
++;

6710 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

6711 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

6712 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

6713 
	`·nic
("Writes cannot‡ccessext memory„egion");

6715 if(
	`fšdCacheStus
(
ml2
, 
ml2_sub_£t
, 
ml2_sub_g
, 
ml2_hšdex
, &
ml2_blk
))

6717 if(
ml2_blk
->
qblk_£t_shiá
 == 0)

6719 
ml2_h™
 = 1;

6720 
ml2_g
 = 
ml2_sub_g
;

6721 
ml2_£t
 = 
ml2_sub_£t
;

6723 
wr™e_S_h™_num
++;

6726 
ml2_h™
 = 0;

6728 if(!
ml2_h™
 && 
	`fšdCacheStus
(
ml2
, 
ml2_mul_£t
, 
ml2_mul_g
, 
ml2_hšdex
, &
ml2_blk
))

6730 
muÉi_h™_cÚd™iÚ
;

6731 
muÉi_h™_cÚd™iÚ
 = !
	`IsSh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
è|| !
muÉi_blk_ad­_’
;

6732 if((
ml2_blk
->
qblk_£t_shiá
 =ğ1è&& 
muÉi_h™_cÚd™iÚ
)

6734 
ml2_h™
 = 1;

6735 
ml2_g
 = 
ml2_mul_g
;

6736 
ml2_£t
 = 
ml2_mul_£t
;

6738 
wr™e_Q_h™_num
++;

6739 
mb_·š_couÁ
++;

6742 
ml2_h™
 = 0;

6745 if(
ml2_h™
)

6747 *
muÉË_sh¬”s
 = (*)
	`ÿÎoc
(4, ());

6748 
cu¼’tTh»adId
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

6749 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

6750 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

6751 ià(
ml2_blk
->
way_´ev
 && 
ml2
->
pŞicy
 =ğ
LRU
)

6752 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
ml2_blk
, 
H—d
);

6753 
ev’t
->
isReqL2H™
 = 1;

6754 if(
ml2_blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

6756 
ev’t
->
isReqL2T¿ns
 = 1;

6757 if(
ml2_blk
->
qblk_£t_shiá
)

6759 
wr™e_Q_h™_num
--;

6760 
mb_·š_couÁ
--;

6763 
wr™e_S_h™_num
--;

6764 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

6766 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

6767 
ev’t
->
¤c1
 +ğev’t->
des1
;

6768 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6769 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6770 
ev’t
->
¤c2
 +ğev’t->
des2
;

6771 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6772 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6773 
ev’t
->
İ”©iÚ
 = 
NACK
;

6774 
ev’t
->
´oûssšgDÚe
 = 0;

6775 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6776 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6777 
	`dœ_ev’tq_š£¹
(
ev’t
);

6778 if(
cŞËù_¡©s
)

6779 
ml2
->
dœ_acûss
 ++;

6784 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

6785 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

6786 
æ_couÁ”
 ++;

6787 
ev’t
->
æ_æag
 = 1;

6788 
	`dœ_ev’tq_š£¹
(
ev’t
);

6789 if(
cŞËù_¡©s
)

6790 
ml2
->
dœ_acûss
 ++;

6795 if((!
	`IsExşusiveOrDœty
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
)è&& (ml2_blk->
dœ_dœty
[block_offset] != -1) )

6797 ià(
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64]==()1<<(tempID%64))

6799 ià(!
ml2_blk
->
qblk_£t_shiá
)

6800 
	`´štf
("MISS_WRITEƒveict self†ike\n");

6803 
	`·nic
("DIR: Block can‚ot be dirty state when it is‚otƒxclusive!");

6807 if(!
	`IsSh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
))

6809 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

6811 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6812 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

6813 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

6814 
ml2_blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

6815 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6816 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

6817 
·ck‘_size
 = 
d©a_·ck‘_size
;

6818 
ev’t
->
¤c1
 +ğev’t->
des1
;

6819 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6820 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6821 
ev’t
->
¤c2
 +ğev’t->
des2
;

6822 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6823 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6825 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

6827 
ev’t
->
´oûssšgDÚe
 = 0;

6828 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6829 
ev’t
->
·»Á
 = 
NULL
;

6830 
ev’t
->
blk_dœ
 = 
NULL
;

6831 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

6832 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

6833 
	`dœ_ev’tq_š£¹
(
ev’t
);

6837 
ev’t
->
´oûssšgDÚe
 = 0;

6838 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6839 
ev’t
->
·»Á
 = 
NULL
;

6840 
ev’t
->
blk_dœ
 = 
NULL
;

6841 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

6842 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

6843 
	`dœ_ev’tq_š£¹
(
ev’t
);

6849 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

6850 if(
ml2_blk
->
qblk_£t_shiá
)

6852 
wr™e_Q_h™_num
--;

6853 
mb_·š_couÁ
--;

6856 
wr™e_S_h™_num
--;

6857 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

6858 
ev’t
->
L2miss_æag
 = 1;

6859 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

6860 if(
ev’t
->
isSyncAcûss
)

6861 
Sync_L2_miss
 ++;

6862 if(!
m©chnum
)

6864 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

6866 if(!
Ï¡_L2_mshr_fuÎ
)

6868 
L2_mshr_fuÎ
 ++;

6869 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

6871 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

6873 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

6875 
ev’t
->
¤c1
 +ğev’t->
des1
;

6876 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6877 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6878 
ev’t
->
¤c2
 +ğev’t->
des2
;

6879 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6880 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6881 
ev’t
->
İ”©iÚ
 = 
NACK
;

6882 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6883 
ev’t
->
´oûssšgDÚe
 = 0;

6884 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6885 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6886 
	`dœ_ev’tq_š£¹
(
ev’t
);

6891 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6892 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

6893 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

6894 
ev’t
->
æ_æag
 = 1;

6895 
æ_couÁ”
 ++;

6896 
	`dœ_ev’tq_š£¹
(
ev’t
);

6902 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

6903 if(
Ï¡_L2_mshr_fuÎ
)

6905 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

6906 
Ï¡_L2_mshr_fuÎ
 = 0;

6909 if(
cŞËù_¡©s
)

6911 
ÿche_dl2
->
mis£s
 ++;

6912 
ÿche_dl2
->
dmis£s
 ++;

6913 
švŞve_2_hİs_miss
 ++;

6915 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

6916 
ev’t
->
mshr_time
 = 
sim_cyşe
;

6917 
ev’t
->
blk_dœ
 = 
ml2_blk
;

6918 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

6919 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

6920 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

6921 
Ãw_ev’t
->
cmd
 = 
R—d
;

6922 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

6923 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

6924 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

6925 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6926 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6927 
ev’t_ü—‹d
 = 
ev’t
;

6928 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

6933 
ev’t
->
isReqL2SecMiss
 = 1;

6934 if(
cŞËù_¡©s
)

6936 
ÿche_dl2
->
š_mshr
 ++;

6937 
ÿche_dl2
->
dš_mshr
 ++;

6939 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

6940 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6947 if(
ml2_blk
->
qblk_£t_shiá
 && 
muÉi_blk_ad­_’
)

6948 
	`·nic
("m_blk write can‚ot„earch here write miss");

6949 ifĞ
ml2_blk
->
±r_’
 && ml2_blk->
®l_sh¬ed_’
 && (ml2_blk->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
) )

6950 
	`·nic
("write…tr_en‡ll_shared_enƒrror \n");

6951 ifĞ
ml2_blk
->
®l_sh¬ed_’
 )

6953 
ml2_blk
->
®l_sh¬ed_’
 = 0;

6954 
PVC_wr™e_®l_shr_num
++;

6956 
ml2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

6957 
ml2_blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

6958 
ev’t
->
blk_dœ
 = 
ml2_blk
;

6959 
ev’t
->
chdCouÁ
 = 0;

6960 
muÉË_sh¬”s
 = 
ml2_blk
->
dœ_sh¬”
[
block_off£t
];

6961 
shr_d©a_»q
;

6962 ià(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

6964 
shr_d©a_»q
 = 0;

6965 
dl2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

6968 
shr_d©a_»q
 = 1;

6969 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

6971 if((((
muÉË_sh¬”s
[
Th»adid
/64]è& (()1 << (Th»adid%64))è=ğ(()1 << (Th»adid%64))è&& (Th»adid !ğ
‹mpID
))

6973 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

6974 if(
Ãw_ev’t
 =ğ
NULL
)

6975 
	`·nic
("Out of Virtual Memory");

6976 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

6977 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

6980 
Ãw_ev’t
->
qblk_£t_shiá
 = 
ml2_blk
->qblk_set_shift;

6982 ià(
shr_d©a_»q
)

6984 
ev’t
->
shr_d©a_»q
 = 1;

6985 
Ãw_ev’t
->
shr_d©a_»q
 = 1;

6986 
shr_d©a_»q
 = 0;

6988 
Ãw_ev’t
->
¤c1
 = 
cu¼’tTh»adId
/
mesh_size
+
MEM_LOC_SHIFT
;

6989 
Ãw_ev’t
->
¤c2
 = 
cu¼’tTh»adId
%
mesh_size
;

6990 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

6991 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

6993 
Ãw_ev’t
->
»q_time
 = 0;

6994 
Ãw_ev’t
->
cÚf_b™
 = -1;

6995 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

6996 
Ãw_ev’t
->
³ndšg_æag
 = 0;

6997 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

6998 
Ãw_ev’t
->
isP»ãtch
 = 0;

6999 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

7000 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7001 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7002 
Ãw_ev’t
->
‹mpID
 =empID;

7003 
Ãw_ev’t
->
»£nd
 = 0;

7004 
Ãw_ev’t
->
blk_dœ
 = 
ml2_blk
;

7005 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

7006 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

7007 
Ãw_ev’t
->
vp
 = 
NULL
;

7008 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

7009 
Ãw_ev’t
->
ud©a
 = 
NULL
;

7010 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

7011 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

7012 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

7013 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

7014 
Ãw_ev’t
->
¥ec_mode
 = 0;

7015 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7017 
ev’t
->
chdCouÁ
++;

7018 
ev’t
->
dœty_æag
 = 1;

7020 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

7021 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7026 iàĞ
ev’t
->
b_¡©e
 =ğ
SHARED_WRITE
 )

7029 
ml2_h™
 = 
	`fšdCacheStus
(
ml2
, 
ml2_mul_£t
, 
ml2_mul_g
, 
ml2_hšdex
, &
ml2_blk
);

7030 if(
ml2_h™
)

7031 
ml2_ed
 = 
	`Is_ExşusiveOrDœty
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
]);

7032 if(
ml2_h™
)

7034 
ml2_g
 = 
ml2_sub_g
;

7035 
ml2_£t
 = 
ml2_sub_£t
;

7036 if(
ml2_ed
)

7037 
wr™e_S_š™_ed_num
++;

7039 
wr™e_S_š™_s_num
++;

7043 
ml2_g
 = 
ml2_mul_g
;

7044 
ml2_£t
 = 
ml2_mul_£t
;

7045 
wr™e_Q_š™_num
++;

7048 
ml2
->
pŞicy
)

7050 
i
;

7051 
bšdex
;

7052 
LRU
:

7053 
FIFO
:

7054 
i
 = 
ml2
->
assoc
;

7056 if(
i
 == 0) ;

7057 
i
--;

7058 
»¶
 = 
ml2
->
£ts
[
ml2_£t
].
way_
;

7059 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

7061 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
));

7063 iàĞ
»¶_ad_’
 && ( 
»¶
->
qblk_£t_shiá
 == 1 ) )

7065 
ÿche_blk_t
 *
bak
;

7066 
bak
 = 
»¶
;

7068 
i
 = 
ml2
->
assoc
;

7070 if(
i
 == 0) ;

7071 
i
--;

7072 
»¶
 = 
ml2
->
£ts
[
ml2_£t
].
way_
;

7073 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

7075 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
è|| (»¶->
qblk_£t_shiá
 == 1) );

7077 iàĞ
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
è|| (»¶->
qblk_£t_shiá
 == 1))

7079 
»¶
 = 
bak
;

7080 
	`upd©e_way_li¡
 (&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

7084 if(
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
))

7086 
æ_couÁ”
 ++;

7087 
ev’t
->
æ_æag
 = 1;

7088 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7089 
	`dœ_ev’tq_š£¹
(
ev’t
);

7093 
Rªdom
:

7094 
bšdex
 = 
	`my¿nd
 (è& (
dl2
->
assoc
 - 1);

7095 
»¶
 = 
	`CACHE_BINDEX
 (
dl2
, dl2->
£ts
[
dl2_£t
].
blks
, 
bšdex
);

7098 
	`·nic
 ("bogus„eplacement…olicy");

7103 ià(
ml2_h™
 && 
qblk_£t_shiá
 && (
veùÜ_num
!=0è&& (
»¶
->
±r_’
è&& (
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
])>1) )

7105 
veùÜ_avaabË
;

7106 
sh¬”_num
;

7107 
‹mp_th»adid
;

7108 
ÿche_blk_t
 *
veùÜ_blk
;

7110 
veùÜ_avaabË
 = 
	`veùÜ_avaabË_func
(&
veùÜ_blk
, 
ml2_£t
);

7114 if(!
veùÜ_avaabË
)

7116 
PVC_æ_num
++;

7117 
ev’t
->
isReqL2T¿ns
 = 1;

7118 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

7120 
ev’t
->
¤c1
 +ğev’t->
des1
;

7121 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

7122 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

7123 
ev’t
->
¤c2
 +ğev’t->
des2
;

7124 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

7125 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

7126 
ev’t
->
İ”©iÚ
 = 
NACK
;

7127 
ev’t
->
´oûssšgDÚe
 = 0;

7128 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7129 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

7130 
	`dœ_ev’tq_š£¹
(
ev’t
);

7131 if(
cŞËù_¡©s
)

7132 
ml2
->
dœ_acûss
 ++;

7137 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7138 
æ_couÁ”
 ++;

7139 
ev’t
->
æ_æag
 = 1;

7140 
	`dœ_ev’tq_š£¹
(
ev’t
);

7141 if(
cŞËù_¡©s
)

7142 
ml2
->
dœ_acûss
 ++;

7148 
sh¬”_num
 = 
	`Is_Sh¬ed
(
veùÜ_blk
->
dœ_sh¬”
[
block_off£t
]);

7150 
PVC_exchªge_num
++;

7151 
PVC_exch_vec_shr_di¡r
[
sh¬”_num
]++;

7153 ifĞ
sh¬”_num
 < 2 )

7155 
PVC_dowm_no_šv_num
++;

7157 
»¶
->
±r_’
 = 0;

7159 
veùÜ_blk
->
±r_’
 = 1;

7160 if(
veùÜ_blk
->
®l_sh¬ed_’
)

7161 
	`·nic
("vector_blk‡ll_shared_en illegal\n");

7162 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] =ğ
MESI_SHARED
 )

7163 
	`·nic
("stateƒrror\n");

7165 ifĞ
sh¬”_num
 =ğ
mesh_size
*mesh_size )

7167 
PVC_up_no_add_num
++;

7169 
»¶
->
±r_’
 = 0;

7171 
veùÜ_blk
->
±r_’
 = 1;

7172 
veùÜ_blk
->
®l_sh¬ed_’
 = 1;

7173 if(
veùÜ_blk
->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
)

7174 
	`·nic
("all_shared_en dir_sharerƒrrpr\n");

7175 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] !ğ
MESI_SHARED
 )

7176 
	`·nic
("stateƒrror\n");

7180 if(
sh¬”_num
 > 
sh¬”_th»shŞd
)

7182 
PVC_up_add_num
++;

7183 
PVC_up_add_shr_num
 +ğ
mesh_size
*mesh_size-
sh¬”_num
;

7184 
PVC_up_add_shr_di¡r
[
mesh_size
*mesh_size-
sh¬”_num
]++;

7186 
»¶
->
±r_’
 = 0;

7188 
veùÜ_blk
->
±r_’
 = 1;

7189 
veùÜ_blk
->
®l_sh¬ed_’
 = 1;

7190 
veùÜ_blk
->
dœ_sh¬”
[0][0] = ()
®l_sh¬”
;

7191 ifĞ
veùÜ_blk
->
dœ_blk_¡©e
[0] !ğ
MESI_SHARED
 )

7192 
	`·nic
("stateƒrror\n");

7196 
PVC_dowm_šv_num
++;

7197 
PVC_dowm_šv_shr_num
 +ğ
sh¬”_num
-1;

7198 
PVC_dowm_šv_shr_di¡r
[
sh¬”_num
-1]++;

7200 
»¶
->
±r_’
 = 0;

7202 
ml2_dœ_blk_¡©e
 = 
veùÜ_blk
->
dœ_blk_¡©e
[0];

7203 
survive_’
 = 1, 
survivÜ
 = -1;

7204 
DIRECTORY_EVENT
 *
cŞËù_ev’t
 = 
	`®loÿ‹_ev’t
(0);

7205 if(
cŞËù_ev’t
 =ğ
NULL
)

7206 
	`·nic
("Out of Virtual Memory");

7208 
veùÜ_blk
->
±r_’
 = 1;

7209 if(
veùÜ_blk
->
®l_sh¬ed_’
)

7210 
	`·nic
("vector_blk‡ll_shared_en illegal\n");

7211 
veùÜ_blk
->
®l_sh¬ed_’
 = 0;

7212 
veùÜ_blk
->
dœ_blk_¡©e
[0] = 
MESI_EXCLUSIVE
;

7213 
veùÜ_blk
->
dœ_¡©e
[0] = 
DIR_TRANSITION
;

7214 
veùÜ_blk
->
±r_cur_ev’t
[0] = 
cŞËù_ev’t
;

7215 ià(
veùÜ_blk
->
qblk_£t_shiá
)

7216 
veùÜ_blk
->
addr
 = (veùÜ_blk->
gid
.
g
 << (
ÿche_ml2
->
g_shiá
+
qblk_£t_shiá
)è+ (
ml2_£t
 << (ÿche_ml2->
£t_shiá
+qblk_set_shift));

7218 
veùÜ_blk
->
addr
 = (veùÜ_blk->
gid
.
g
 << 
ÿche_ml2
->
g_shiá
è+ (
ml2_£t
 << cache_ml2->
£t_shiá
);

7220 
cŞËù_ev’t
->
chdCouÁ
 = 0;

7221 
cŞËù_ev’t
->
šdividu®_chdCouÁ
[0] = 0;

7222 
cŞËù_ev’t
->
sh¬”_num
 = 1;

7223 
cŞËù_ev’t
->
blk_dœ
 = 
veùÜ_blk
;

7224 
cŞËù_ev’t
->
İ”©iÚ
 = 
VEC_DEGRADE
;

7226 
‹mp_th»adid
 = 0;emp_th»adid < 
numcÚ‹xts
;emp_threadid++)

7228 if(((
veùÜ_blk
->
dœ_sh¬”
[0][
‹mp_th»adid
/64]) & (()1 << (temp_threadid%64))) == (()1 << (temp_threadid%64)))

7230 if(
survive_’
)

7232 
survivÜ
 = 
‹mp_th»adid
;

7233 
survive_’
 = 0;

7236 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

7237 if(
Ãw_ev’t
 =ğ
NULL
)

7238 
	`·nic
("Out of Virtual Memory");

7241 
Ãw_ev’t
->
qblk_£t_shiá
 = 
veùÜ_blk
->qblk_set_shift;

7242 
Ãw_ev’t
->
ml2_dœ_blk_¡©e
 = ml2_dir_blk_state;

7243 
Ãw_ev’t
->
addr
 = 
veùÜ_blk
->addr;

7244 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

7245 
Ãw_ev’t
->
·»Á
 = 
cŞËù_ev’t
;

7246 
Ãw_ev’t
->
blk_dœ
 = 
veùÜ_blk
;

7247 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

7248 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

7249 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

7250 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

7251 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

7252 
Ãw_ev’t
->
des1
 = 
‹mp_th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

7253 
Ãw_ev’t
->
des2
 = 
‹mp_th»adid
%
mesh_size
;

7255 
Ãw_ev’t
->
isP»ãtch
 = 0;

7256 
Ãw_ev’t
->
cÚf_b™
 = -1;

7257 
Ãw_ev’t
->
»q_time
 = 0;

7258 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

7259 
Ãw_ev’t
->
³ndšg_æag
 = 0;

7260 
Ãw_ev’t
->
İ
 = 
cŞËù_ev’t
->op;

7261 
Ãw_ev’t
->
vp
 = 
NULL
;

7262 
Ãw_ev’t
->
ud©a
 = 
NULL
;

7263 
Ãw_ev’t
->
rs
 = 
NULL
;

7264 
Ãw_ev’t
->
¥ec_mode
 = 0;

7265 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7268 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7269 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7270 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

7271 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7273 
cŞËù_ev’t
->
chdCouÁ
++;

7274 
cŞËù_ev’t
->
šdividu®_chdCouÁ
[0] ++;

7277 if(
survivÜ
 == -1)

7278 
	`·nic
("survivorƒrror\n");

7279 
veùÜ_blk
->
dœ_sh¬”
[0][
survivÜ
/64] = (()1 << (survivor%64));

7286 
i
=0, 
™”©iÚ
 = 1;

7287 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

7288 
™”©iÚ
 = iteration * 2;

7289 
m
;

7290 ià(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

7292 ifĞ
»¶
->
±r_’
 &&„•l->
®l_sh¬ed_’
 && (»¶->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
) )

7293 
	`·nic
("recall…tr_en‡ll_shared_enƒrror \n");

7294 ià(
cŞËù_¡©s
)

7295 
ml2
->
»¶aûm’ts
++;

7297 
ml2_dœ_blk_¡©e
;

7298 
Ãw_vc
 = 0;

7299 
æag
 = 0, 
sh¬”_num
 = 0;

7300 
i
=0; i<
™”©iÚ
; i++)

7301 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]))

7302 
sh¬”_num
 ++;

7304 
ev’t
->
chdCouÁ
 = 0;

7305 
ev’t
->
sh¬”_num
 = 0;

7307 
i
=0; i<
™”©iÚ
; i++)

7309 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]))

7313 
ml2_dœ_blk_¡©e
 = 
»¶
->
dœ_blk_¡©e
[
i
];

7314 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) < 2)

7315 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) != 1)

7316 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_EXCLUSIVE
è&& (
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
]) != 1)

7317 || (
ml2_dœ_blk_¡©e
 =ğ
MESI_INVALID
)

7319 
	`´štf
("state conflicts with sharer vector\n");

7321 
m
 = 0; m<
™”©iÚ
; m++)

7323 
»¶
->
dœ_¡©e
[
m
] = 
DIR_TRANSITION
;

7324 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

7326 
»¶
->
±r_cur_ev’t
[
i
] = 
ev’t
;

7327 ià(
»¶
->
qblk_£t_shiá
)

7328 
»¶
->
addr
 = (»¶->
gid
.
g
 << (
ÿche_ml2
->
g_shiá
+
qblk_£t_shiá
)è+ (
ml2_£t
 << (ÿche_ml2->
£t_shiá
+qblk_set_shift));

7330 
»¶
->
addr
 = (»¶->
gid
.
g
 << 
ÿche_ml2
->
g_shiá
è+ (
ml2_£t
 << cache_ml2->
£t_shiá
è+ (
i
 << 
ÿche_dl1
[0]->set_shift);

7331 
ev’t
->
šdividu®_chdCouÁ
[
i
] = 0;

7332 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

7334 if(((
»¶
->
dœ_sh¬”
[
i
][
Th»adid
/64]) & (()1 << (Threadid%64))) == (()1 << (Threadid%64)))

7336 
»ÿÎ_šv_num
++;

7337 if(
cŞËù_¡©s
)

7338 
ÿche_ml2
->
šv®id©iÚs
 ++;

7339 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

7340 if(
Ãw_ev’t
 =ğ
NULL
)

7341 
	`·nic
("Out of Virtual Memory");

7342 
švŞve_4_hİs_miss
 ++;

7343 
Ãw_ev’t
->
cÚf_b™
 = -1;

7344 
Ãw_ev’t
->
»q_time
 = 0;

7345 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

7346 
Ãw_ev’t
->
³ndšg_æag
 = 0;

7347 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

7348 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

7351 
Ãw_ev’t
->
qblk_£t_shiá
 = 
»¶
->qblk_set_shift;

7352 
Ãw_ev’t
->
ml2_dœ_blk_¡©e
 = ml2_dir_blk_state;

7354 
Ãw_ev’t
->
isP»ãtch
 = 0;

7355 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

7356 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

7357 
Ãw_ev’t
->
»£nd
 = 0;

7358 
Ãw_ev’t
->
blk1
 = 
»¶
;

7359 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

7360 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

7361 
Ãw_ev’t
->
vp
 = 
NULL
;

7362 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

7363 
Ãw_ev’t
->
ud©a
 = 
NULL
;

7364 
Ãw_ev’t
->
rs
 = 
NULL
;

7365 
Ãw_ev’t
->
¥ec_mode
 = 0;

7366 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

7367 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

7368 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

7369 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

7370 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7371 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7372 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

7373 
Ãw_ev’t
->
blk_dœ
 = 
»¶
;

7374 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7375 
ev’t
->
sh¬”_num
 = sharer_num;

7376 
ev’t
->
blk_dœ
 = 
»¶
;

7377 
ev’t
->
chdCouÁ
++;

7378 
ev’t
->
šdividu®_chdCouÁ
[
i
] ++;

7380 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
Ãw_vc
);

7382 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7385 
æag
 = 1;

7387 if(
ml2_h™
)

7388 if(
ml2_ed
)

7389 if(
»¶
->
qblk_£t_shiá
)

7391 
wr™e_S_š™_ed_QR_num
++;

7392 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

7393 
wr™e_S_š™_ed_QR_s_num
++;

7394 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

7395 
wr™e_S_š™_ed_QR_ed_num
++;

7397 
wr™e_S_š™_ed_SR_num
++;

7399 if(
»¶
->
qblk_£t_shiá
)

7401 
wr™e_S_š™_s_QR_num
++;

7402 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

7403 
wr™e_S_š™_s_QR_s_num
++;

7404 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

7405 
wr™e_S_š™_s_QR_ed_num
++;

7407 
wr™e_S_š™_s_SR_num
++;

7409 if(
»¶
->
qblk_£t_shiá
)

7411 
wr™e_Q_š™_QR_num
++;

7412 if(
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

7413 
wr™e_Q_š™_QR_s_num
++;

7414 iàĞ(
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
) )

7415 
wr™e_Q_š™_QR_ed_num
++;

7417 
wr™e_Q_š™_SR_num
++;

7419 
»ÿÎ_num
++;

7420 if(
»¶
->
®l_sh¬ed_’
)

7422 
»¶
->
®l_sh¬ed_’
 = 0;

7423 
PVC_»ÿÎ_®l_shr_num
++;

7426 
sh¬”_di¡r
[
ev’t
->
chdCouÁ
] ++;

7427 
	`IsNeighbÜ_sh¬”
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
);

7430 if(
æag
 == 1)

7433 if(
cŞËù_¡©s
)

7434 
dl2
->
»¶Inv
++;

7436 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7437 
»¶
->
addr
 =‡ddr;

7438 
»¶
->
gid
.
g
 = 
ml2_g
;

7439 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

7440 
m
=0; m<
™”©iÚ
; m++)

7442 
»¶
->
dœ_sh¬”
[
m
][
‹mpID
/64] = 0;

7443 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

7445 if(
ml2_h™
 && 
qblk_£t_shiá
)

7447 ifĞ(
»¶
->
±r_’
è&& (
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
])>1) )

7448 
	`·nic
("unableo copy\n");

7449 
»¶
->
qblk_£t_shiá
 = 0;

7450 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = 
ml2_blk
->dir_sharer[block_offset][tempID/64];

7451 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
ml2_blk
->dir_blk_state[block_offset];

7452 
»¶
->
dœ_dœty
[
block_off£t
] = 
ml2_blk
->dir_dirty[block_offset];

7454 ià(
qblk_£t_shiá
)

7455 
»¶
->
qblk_£t_shiá
 = 1;

7457 
»¶
->
qblk_£t_shiá
 = 0;

7462 
m
=0;m<
™”©iÚ
;m++)

7464 
»¶
->
±r_cur_ev’t
[
m
] = 
NULL
;

7465 
»¶
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

7466 
»¶
->
dœ_sh¬”
[
m
][
‹mpID
/64] = 0;

7467 
»¶
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

7468 
»¶
->
dœ_dœty
[
m
] = -1;

7469 
»¶
->
exşusive_time
[
m
] = 
sim_cyşe
;

7471 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7472 
»¶
->
»ady
 = 
sim_cyşe
;

7473 
»¶
->
gid
.
g
 = 
ml2_g
;

7474 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

7475 if(
ml2_h™
 && 
qblk_£t_shiá
)

7476 
»¶
->
qblk_£t_shiá
 = 0;

7477 ià(
qblk_£t_shiá
)

7478 
»¶
->
qblk_£t_shiá
 = 1;

7480 
»¶
->
qblk_£t_shiá
 = 0;

7481 
»¶
->
addr
 =‡ddr;

7482 ià(
»¶
->
way_´ev
 && 
ml2
->
pŞicy
 =ğ
LRU
)

7483 
	`upd©e_way_li¡
(&
ml2
->
£ts
[
ml2_£t
], 
»¶
, 
H—d
);

7484 ià(
ml2
->
hsize
)

7485 
	`lšk_hb_’t
(
ml2
, &ml2->
£ts
[
ml2_£t
], 
»¶
);

7486 
ml2
->
Ï¡_g£tid
.
g
 = 0;

7487 
ml2
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

7488 
ml2
->
Ï¡_blk
 = 
»¶
;

7490 ià(
ml2_h™
 && 
qblk_£t_shiá
)

7492 ifĞ(
»¶
->
±r_’
è&& (
	`Is_Sh¬ed
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
])>1) )

7493 
	`·nic
("unableo copy\n");

7494 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = 
ml2_blk
->dir_sharer[block_offset][tempID/64];

7495 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
ml2_blk
->dir_blk_state[block_offset];

7496 
»¶
->
dœ_dœty
[
block_off£t
] = 
ml2_blk
->dir_dirty[block_offset];

7497 
ev’t
->
wh’
 = 
sim_cyşe
;

7498 
ev’t
->
no_L2_d–ay
 = 1;

7499 
	`dœ_ev’tq_š£¹
(
ev’t
);

7503 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

7505 
ml2
->
d©a_acûss
 ++;

7506 
švŞve_2_hİs
 ++;

7507 if(
ev’t
->
rs
)

7508 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

7509 
lßd_lšk_sh¬ed
 ++;

7510 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

7511 
»¶
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

7512 
»¶
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

7513 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

7515 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

7516 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

7517 
»¶
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

7520 
	`´štf
("directory is for data segment\n");

7522 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

7523 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

7524 
ev’t
->
¤c1
 +ğev’t->
des1
;

7525 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

7526 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

7527 
ev’t
->
¤c2
 +ğev’t->
des2
;

7528 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

7529 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

7530 
ev’t
->
´oûssšgDÚe
 = 0;

7531 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7532 
ev’t
->
·»Á
 = 
NULL
;

7533 
ev’t
->
blk_dœ
 = 
NULL
;

7534 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

7535 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

7536 
	`dœ_ev’tq_š£¹
(
ev’t
);

7542 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

7543 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

7544 
ev’t
->
L2miss_æag
 = 1;

7545 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

7546 if(
ev’t
->
isSyncAcûss
)

7547 
Sync_L2_miss
 ++;

7548 if(!
m©chnum
)

7550 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

7552 if(!
Ï¡_L2_mshr_fuÎ
)

7554 
L2_mshr_fuÎ
 ++;

7555 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

7557 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

7559 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

7561 
ev’t
->
¤c1
 +ğev’t->
des1
;

7562 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

7563 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

7564 
ev’t
->
¤c2
 +ğev’t->
des2
;

7565 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

7566 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

7567 
ev’t
->
İ”©iÚ
 = 
NACK
;

7568 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

7569 
ev’t
->
´oûssšgDÚe
 = 0;

7570 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7571 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

7572 
	`dœ_ev’tq_š£¹
(
ev’t
);

7577 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

7578 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

7579 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7580 
ev’t
->
æ_æag
 = 1;

7581 
æ_couÁ”
 ++;

7582 
	`dœ_ev’tq_š£¹
(
ev’t
);

7588 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

7589 if(
Ï¡_L2_mshr_fuÎ
)

7591 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

7592 
Ï¡_L2_mshr_fuÎ
 = 0;

7595 if(
cŞËù_¡©s
)

7597 
ÿche_dl2
->
mis£s
 ++;

7598 
ÿche_dl2
->
dmis£s
 ++;

7599 
švŞve_2_hİs_miss
 ++;

7601 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

7602 
ev’t
->
mshr_time
 = 
sim_cyşe
;

7603 
ev’t
->
blk_dœ
 = 
»¶
;

7604 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

7605 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

7606 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

7607 
Ãw_ev’t
->
cmd
 = 
R—d
;

7608 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

7609 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

7610 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

7611 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7612 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7613 
ev’t_ü—‹d
 = 
ev’t
;

7614 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

7619 
ev’t
->
isReqL2SecMiss
 = 1;

7620 if(
cŞËù_¡©s
)

7622 
ÿche_dl2
->
š_mshr
 ++;

7623 
ÿche_dl2
->
dš_mshr
 ++;

7625 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

7626 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

7633 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

7636 ià(
dl2_blk
->
way_´ev
 && 
dl2
->
pŞicy
 =ğ
LRU
)

7637 
	`upd©e_way_li¡
 (&
dl2
->
£ts
[
dl2_£t
], 
dl2_blk
, 
H—d
);

7639 
ev’t
->
isReqL2H™
 = 1;

7640 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

7641 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

7642 if(
ev’t
->
rs
)

7643 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

7644 
lßd_lšk_sh¬ed
 ++;

7645 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

7646 
ev’t
->
¤c1
 +ğev’t->
des1
;

7647 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

7648 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

7649 
ev’t
->
¤c2
 +ğev’t->
des2
;

7650 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

7651 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

7652 
ev’t
->
´oûssšgDÚe
 = 0;

7653 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7654 
ev’t
->
·»Á
 = 
NULL
;

7655 
ev’t
->
blk_dœ
 = 
NULL
;

7656 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

7657 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

7658 
	`dœ_ev’tq_š£¹
(
ev’t
);

7663 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

7664 
ev’t
->
L2miss_æag
 = 1;

7665 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

7666 
ev’t
->
blk_dœ
 = 
NULL
;

7667 if(
ev’t
->
isSyncAcûss
)

7668 
Sync_L2_miss
 ++;

7669 if(!
m©chnum
)

7671 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

7673 if(!
Ï¡_L2_mshr_fuÎ
)

7675 
L2_mshr_fuÎ
 ++;

7676 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

7678 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

7680 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

7682 
ev’t
->
¤c1
 +ğev’t->
des1
;

7683 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

7684 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

7685 
ev’t
->
¤c2
 +ğev’t->
des2
;

7686 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

7687 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

7688 
ev’t
->
İ”©iÚ
 = 
NACK
;

7689 
ev’t
->
´oûssšgDÚe
 = 0;

7690 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7691 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

7692 
	`dœ_ev’tq_š£¹
(
ev’t
);

7697 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

7698 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7699 
ev’t
->
æ_æag
 = 1;

7700 
æ_couÁ”
 ++;

7701 
	`dœ_ev’tq_š£¹
(
ev’t
);

7707 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

7708 if(
Ï¡_L2_mshr_fuÎ
)

7710 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

7711 
Ï¡_L2_mshr_fuÎ
 = 0;

7714 if(
cŞËù_¡©s
)

7716 
ÿche_dl2
->
mis£s
 ++;

7717 
ÿche_dl2
->
dmis£s
 ++;

7718 
švŞve_2_hİs_miss
 ++;

7720 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

7721 
ev’t
->
mshr_time
 = 
sim_cyşe
;

7722 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

7723 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

7724 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

7725 
Ãw_ev’t
->
cmd
 = 
R—d
;

7726 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

7727 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

7728 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

7729 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7730 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7731 
ev’t_ü—‹d
 = 
ev’t
;

7732 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

7737 
ev’t
->
isReqL2SecMiss
 = 1;

7738 if(
cŞËù_¡©s
)

7740 
ÿche_dl2
->
š_mshr
 ++;

7741 
ÿche_dl2
->
dš_mshr
 ++;

7743 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

7749 
INFORM_BACK
 :

7750 
WRITE_BACK
 :

7751 
dÿche2_acûss
++;

7752 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

7753 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

7754 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

7755 
	`·nic
("Writes cannot‡ccessext memory„egion");

7756 iàĞ
ev’t
->
İ”©iÚ
 =ğ
WRITE_BACK
 )

7758 iàĞ
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
) )

7759 
dl2_blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

7763 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

7764 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

7765 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

7766 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_WRITE_BACK
;

7767 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

7768 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 0);

7769 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7772 if(
	`fšdCacheStus
(
ml2
, 
ml2_sub_£t
, 
ml2_sub_g
, 
ml2_hšdex
, &
ml2_blk
))

7774 ifĞ
ml2_blk
->
±r_’
 && ml2_blk->
®l_sh¬ed_’
 && (ml2_blk->
dœ_sh¬”
[0][0] !ğ()
®l_sh¬”
) )

7775 
	`·nic
("inform/write_back…tr_en‡ll_shared_enƒrror \n");

7776 ifĞ
ml2_blk
->
®l_sh¬ed_’
 && (
ev’t
->
İ”©iÚ
 =ğ
WRITE_BACK
) )

7777 
	`·nic
("WRITE_BACK‡ll_shared_enƒrror \n");

7778 if(!
ml2_blk
->
qblk_£t_shiá
 )

7780 if(
ml2_blk
->
®l_sh¬ed_’
 && (
ev’t
->
İ”©iÚ
 =ğ
INFORM_BACK
))

7781 
PVC_šfÜm_®l_shr_num
++;

7784 
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] &ğ~ (()1 << (((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
)%64));

7785 iàĞ!
ml2_blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] )

7787 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_INVALID
;

7788 
ml2_blk
->
dœ_dœty
[
block_off£t
] = -1;

7790 ià(
	`Is_ExşusiveOrDœty
(
ml2_blk
->
dœ_sh¬”
[
block_off£t
]))

7792 
ml2_blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

7796 ifĞ
ev’t
->
İ”©iÚ
 =ğ
WRITE_BACK
 )

7798 
wr™e_back_num
++;

7799 ifĞ
ml2_blk
->
qblk_£t_shiá
 )

7800 
wr™e_back_Q
++;

7802 
wr™e_back_S
++;

7806 
šfÜm_back_num
++;

7807 ifĞ
ml2_blk
->
qblk_£t_shiá
 )

7808 
šfÜm_back_Q
++;

7810 
šfÜm_back_S
++;

7813 
	`ä“_ev’t
(
ev’t
);

7816 
INV_MSG_READ
 :

7817 
dÿche_acûss
++;

7818 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

7819 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

7820 
	`·nic
("Writes cannot‡ccessext memory„egion");

7821 
couÁ
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
è* 
mesh_size
 +ƒv’t->
des2
;

7822 
ı1
 = 
ÿche_dl1
[
couÁ
];

7823 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

7824 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

7825 if(
cŞËù_¡©s
)

7826 
ı1
->
Inv®id_R—d_»ûived
 ++;

7828 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7829 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

7831 
dl1_blk
 = 
ı1
->
£ts
[
£t
].
way_h—d
; dl1_blk; dl1_blk =dl1_blk->
way_Ãxt
)

7833 ià((
dl1_blk
->
gid
.
g
 =ğgè&& (dl1_blk->
¡©us
 & 
CACHE_BLK_VALID
))

7835 
L1_h™
 = 1;

7836 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
)

7838 
·ck‘_size
 = 
d©a_·ck‘_size
;

7839 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READ
;

7840 if(
cŞËù_¡©s
)

7841 
ı1
->
wb_coh”’û_r
 ++;

7842 if(
ev’t
->
d©a_»¶y
 == 0)

7843 
tÙ®_exşusive_üoss
 ++;

7845 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

7847 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7848 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

7850 ià(
ev’t
->
qblk_£t_shiá
)

7851 
»ad_šv_QH_num
++;

7853 
»ad_šv_S_num
++;

7856 ifĞ(
veùÜ_num
==0è&& !
nv_brßdÿ¡
 )

7858 
dl1_blk
->
¡©e
 = 
MESI_INVALID
;

7859 
dl1_blk
->
¡©us
 = 0;

7863 
dl1_blk
->
¡©e
 = 
MESI_SHARED
;

7864 
dl1_blk
->
¡©us
 = 
CACHE_BLK_VALID
;

7866 if(
cŞËù_¡©s
)

7867 
ı1
->
Inv®id_R—d_»ûived_h™s
 ++;

7871 iàĞ(
ev’t
->
shr_d©a_»q
è&& (
·ck‘_size
 =ğ
m‘a_·ck‘_size
è&& 
L1_h™
 )

7873 
·ck‘_size
 = 
d©a_·ck‘_size
;

7874 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

7876 
ev’t
->
L1_h™
 = L1_hit;

7877 
ev’t
->
¤c1
 +ğev’t->
des1
;

7878 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

7879 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

7880 
ev’t
->
¤c2
 +ğev’t->
des2
;

7881 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

7882 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

7883 
ev’t
->
´oûssšgDÚe
 = 0;

7884 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7886 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

7887 
	`dœ_ev’tq_š£¹
(
ev’t
);

7890 ià(
ev’t
->
qblk_£t_shiá
)

7892 
i
;

7893 
i
=0;i<(1<<
muÉi_blk_£t_shiá
);i++)

7895 
addr
 = (add¸& (~(
qblk_£t_mask
<<
ml2
->
£t_shiá
))è+ (
i
<<ml2->set_shift);

7896 if(
addr
==
ev’t
->addr)

7898 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

7899 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

7901 
dl1_blk
 = 
ı1
->
£ts
[
£t
].
way_h—d
; dl1_blk; dl1_blk =dl1_blk->
way_Ãxt
)

7903 ià((
dl1_blk
->
gid
.
g
 =ğgè&& (dl1_blk->
¡©us
 & 
CACHE_BLK_VALID
))

7905 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
)

7907 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

7908 
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

7909 
Ãw_ev’t
->
·»Á
 = 
ev’t
->parent;

7910 
Ãw_ev’t
->
blk_dœ
 = 
ev’t
->blk_dir;

7911 
Ãw_ev’t
->
İ”©iÚ
 = 
ACK_MSG_READ
;

7912 
Ãw_ev’t
->
addr
 =‡ddr;

7913 
Ãw_ev’t
->
¤c1
 = 
ev’t
->src1;

7914 
Ãw_ev’t
->
¤c2
 = 
ev’t
->src2;

7915 
Ãw_ev’t
->
des1
 = 
ev’t
->des1;

7916 
Ãw_ev’t
->
des2
 = 
ev’t
->des2;

7917 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7918 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7919 
ev’t
->
·»Á
->
chdCouÁ
 ++;

7920 
»ad_šv_d_QM_num
++;

7921 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

7922 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7925 
»ad_šv_e_QM_num
++;

7927 
ev’t
->
L1_h™
 |= 2;

7930 ifĞ(
veùÜ_num
==0è&& !
nv_brßdÿ¡
 )

7932 
dl1_blk
->
¡©e
 = 
MESI_INVALID
;

7933 
dl1_blk
->
¡©us
 = 0;

7937 
dl1_blk
->
¡©e
 = 
MESI_SHARED
;

7938 
dl1_blk
->
¡©us
 = 
CACHE_BLK_VALID
;

7947 
INV_MSG_WRITE
 :

7948 
dÿche_acûss
++;

7949 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

7950 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

7951 
	`·nic
("Writes cannot‡ccessext memory„egion");

7952 
couÁ
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
è* 
mesh_size
 +ƒv’t->
des2
;

7953 
ı1
 = 
ÿche_dl1
[
couÁ
];

7954 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

7955 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

7956 
	`£ndLSQInv
(
addr
, 
couÁ
);

7958 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7959 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

7960 
dl1_blk
 = 
ı1
->
£ts
[
£t
].
way_h—d
; dl1_blk; dl1_blk =dl1_blk->
way_Ãxt
)

7962 ià((
dl1_blk
->
gid
.
g
 =ğgè&& (dl1_blk->
¡©us
 & 
CACHE_BLK_VALID
))

7964 
L1_h™
 = 1;

7966 ifĞ
ev’t
->
·»Á
->
sh¬”_num
 )

7968 if(
ev’t
->
qblk_£t_shiá
)

7969 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
)

7971 
»ÿÎ_šv_d_Q_num
++;

7972 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

7974 if(
»ÿÎ_ad_’
)

7976 
»ÿÎ_šv_d_Q_num
--;

7977 
»ÿÎ_šv_d_Q_s_ad_num
++;

7980 
»ÿÎ_šv_d_Q_s_num
++;

7982 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

7983 
»ÿÎ_šv_d_Q_ed_num
++;

7985 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

7987 
»ÿÎ_šv_e_Q_num
++;

7988 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

7990 if(
»ÿÎ_ad_’
)

7992 
»ÿÎ_šv_e_Q_num
--;

7993 
»ÿÎ_šv_e_Q_s_ad_num
++;

7996 
»ÿÎ_šv_e_Q_s_num
++;

7998 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

7999 
»ÿÎ_šv_e_Q_ed_num
++;

8003 
»ÿÎ_šv_s_Q_num
++;

8004 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

8005 
»ÿÎ_šv_s_Q_s_num
++;

8006 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

8008 if(
»ÿÎ_ad_’
)

8010 
»ÿÎ_šv_s_Q_num
--;

8011 
»ÿÎ_šv_s_Q_ed_ad_num
++;

8014 
»ÿÎ_šv_s_Q_ed_num
++;

8018 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
è
»ÿÎ_šv_d_S_num
++;

8019 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
è
»ÿÎ_šv_e_S_num
++;

8020 
»ÿÎ_šv_s_S_num
++;

8024 if(
ev’t
->
qblk_£t_shiá
)

8025 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
è
wr™e_šv_d_QH_num
++;

8026 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
è
wr™e_šv_e_QH_num
++;

8027 
wr™e_šv_s_QH_num
++;

8029 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
è
wr™e_šv_d_S_num
++;

8030 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
è
wr™e_šv_e_S_num
++;

8031 
wr™e_šv_s_S_num
++;

8034 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
)

8036 
·ck‘_size
 = 
d©a_·ck‘_size
;

8037 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITE
;

8041 
·ck‘_size
 = 
m‘a_·ck‘_size
;

8042 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

8046 
dl1_blk
->
¡©e
 = 
MESI_INVALID
;

8047 
dl1_blk
->
¡©us
 = 0;

8052 if(!
L1_h™
)

8053 ifĞ
ev’t
->
·»Á
->
sh¬”_num
 )

8054 if(
ev’t
->
qblk_£t_shiá
)

8056 
»ÿÎ_šv_i_Q_num
++;

8057 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

8058 
»ÿÎ_šv_i_Q_s_num
++;

8059 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

8060 
»ÿÎ_šv_i_Q_ed_num
++;

8062 
»ÿÎ_šv_i_S_num
++;

8064 if(
ev’t
->
qblk_£t_shiá
è
wr™e_šv_i_QH_num
++;

8065 
wr™e_šv_i_S_num
++;

8067 iàĞ(
ev’t
->
shr_d©a_»q
è&& (
·ck‘_size
 =ğ
m‘a_·ck‘_size
è&& 
L1_h™
 )

8069 
·ck‘_size
 = 
d©a_·ck‘_size
;

8070 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

8072 
ev’t
->
L1_h™
 = L1_hit;

8073 
ev’t
->
¤c1
 +ğev’t->
des1
;

8074 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

8075 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

8076 
ev’t
->
¤c2
 +ğev’t->
des2
;

8077 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

8078 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

8079 
ev’t
->
´oûssšgDÚe
 = 0;

8080 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8081 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

8082 
	`dœ_ev’tq_š£¹
(
ev’t
);

8085 ià(
ev’t
->
qblk_£t_shiá
)

8087 
i
;

8088 
i
=0;i<(1<<
muÉi_blk_£t_shiá
);i++)

8090 
addr
 = (add¸& (~(
qblk_£t_mask
<<
ml2
->
£t_shiá
))è+ (
i
<<ml2->set_shift);

8091 if(
addr
==
ev’t
->addr)

8093 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

8094 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

8095 
	`£ndLSQInv
(
addr
, 
couÁ
);

8096 
L1_h™
 = 0;

8097 
dl1_blk
 = 
ı1
->
£ts
[
£t
].
way_h—d
; dl1_blk; dl1_blk =dl1_blk->
way_Ãxt
)

8099 ià((
dl1_blk
->
gid
.
g
 =ğgè&& (dl1_blk->
¡©us
 & 
CACHE_BLK_VALID
))

8101 
L1_h™
 = 1;

8103 ifĞ
ev’t
->
·»Á
->
sh¬”_num
 )

8105 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
)

8107 
»ÿÎ_šv_d_Q_num
++;

8108 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

8110 if(
»ÿÎ_ad_’
)

8112 
»ÿÎ_šv_d_Q_num
--;

8113 
»ÿÎ_šv_d_Q_s_ad_num
++;

8116 
»ÿÎ_šv_d_Q_s_num
++;

8118 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

8119 
»ÿÎ_šv_d_Q_ed_num
++;

8121 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

8123 
»ÿÎ_šv_e_Q_num
++;

8124 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

8126 if(
»ÿÎ_ad_’
)

8128 
»ÿÎ_šv_e_Q_num
--;

8129 
»ÿÎ_šv_e_Q_s_ad_num
++;

8132 
»ÿÎ_šv_e_Q_s_num
++;

8134 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

8135 
»ÿÎ_šv_e_Q_ed_num
++;

8139 
»ÿÎ_šv_s_Q_num
++;

8140 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

8141 
»ÿÎ_šv_s_Q_s_num
++;

8142 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

8144 if(
»ÿÎ_ad_’
)

8146 
»ÿÎ_šv_s_Q_num
--;

8147 
»ÿÎ_šv_s_Q_ed_ad_num
++;

8150 
»ÿÎ_šv_s_Q_ed_num
++;

8156 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
è
wr™e_šv_d_QM_num
++;

8157 if(
dl1_blk
->
¡©e
 =ğ
MESI_EXCLUSIVE
è
wr™e_šv_e_QM_num
++;

8158 
wr™e_šv_s_QM_num
++;

8161 if(
dl1_blk
->
¡©e
 =ğ
MESI_MODIFIED
)

8163 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

8164 
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

8165 
Ãw_ev’t
->
·»Á
 = 
ev’t
->parent;

8166 
Ãw_ev’t
->
blk_dœ
 = 
ev’t
->blk_dir;

8167 
Ãw_ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITE
;

8168 
Ãw_ev’t
->
addr
 =‡ddr;

8169 
Ãw_ev’t
->
¤c1
 = 
ev’t
->src1;

8170 
Ãw_ev’t
->
¤c2
 = 
ev’t
->src2;

8171 
Ãw_ev’t
->
des1
 = 
ev’t
->des1;

8172 
Ãw_ev’t
->
des2
 = 
ev’t
->des2;

8173 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

8174 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8175 
ev’t
->
·»Á
->
chdCouÁ
 ++;

8176 if(
ev’t
->
·»Á
->
sh¬”_num
)

8177 
ev’t
->
·»Á
->
šdividu®_chdCouÁ
[
block_off£t
] ++;

8178 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

8179 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

8183 
dl1_blk
->
¡©e
 = 
MESI_INVALID
;

8184 
dl1_blk
->
¡©us
 = 0;

8189 if(!
L1_h™
)

8190 ifĞ
ev’t
->
·»Á
->
sh¬”_num
 )

8192 
»ÿÎ_šv_i_Q_num
++;

8193 if(
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_SHARED
)

8194 
»ÿÎ_šv_i_Q_s_num
++;

8195 if((
ev’t
->
ml2_dœ_blk_¡©e
 =ğ
MESI_MODIFIED
è|| (ev’t->ml2_dœ_blk_¡©=ğ
MESI_EXCLUSIVE
))

8196 
»ÿÎ_šv_i_Q_ed_num
++;

8198 
wr™e_šv_i_QM_num
++;

8203 
DIR_SHR_READ
:

8204 
couÁ
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
è* 
mesh_size
 +ƒv’t->
des2
;

8205 
ı1
 = 
ÿche_dl1
[
couÁ
];

8206 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

8207 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

8208 
dl1_blk
 = 
ı1
->
£ts
[
£t
].
way_h—d
; dl1_blk; dl1_blk =dl1_blk->
way_Ãxt
)

8210 ià((
dl1_blk
->
gid
.
g
 =ğgè&& (dl1_blk->
¡©us
 & 
CACHE_BLK_VALID
))

8211 
L1_h™
 = 1;

8213 iàĞ
L1_h™
 )

8214 
·ck‘_size
 = 
d©a_·ck‘_size
;

8216 
·ck‘_size
 = 
m‘a_·ck‘_size
;

8217 
ev’t
->
İ”©iÚ
 = 
ACK_SHR_READ
;

8218 
ev’t
->
L1_h™
 = L1_hit;

8219 
ev’t
->
¤c1
 +ğev’t->
des1
;

8220 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

8221 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

8222 
ev’t
->
¤c2
 +ğev’t->
des2
;

8223 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

8224 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

8225 
ev’t
->
´oûssšgDÚe
 = 0;

8226 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8228 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

8229 
	`dœ_ev’tq_š£¹
(
ev’t
);

8232 
ACK_SHR_READ
:

8233 if(
ev’t
->
blk_dœ
->
®l_sh¬ed_’
)

8234 
	`·nic
("ACK_SHR_READ‡ll_shared_enƒrror \n");

8235 (
ev’t
->
blk_dœ
)->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8236 iàĞ!
ev’t
->
L1_h™
 && !ev’t->
qblk_£t_shiá
)

8237 
ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] &ğ~ (()1 << ((Óv’t->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
)%64));

8238 iàĞ!
ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] )

8240 
ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_INVALID
;

8241 
ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = -1;

8243 ià(
	`Is_ExşusiveOrDœty
((
ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
]))

8245 
ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

8248 ià(
ev’t
->
L1_h™
 || 
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

8251 
veùÜ_couÁ
;

8252 
PVC_ml2_£t
;

8254 iàĞ
	`ml2_£t_m©ch_func
(
ev’t
->
blk_dœ
, 
ml2_mul_£t
) )

8255 
PVC_ml2_£t
 = 
ml2_mul_£t
;

8256 iàĞ
	`ml2_£t_m©ch_func
(
ev’t
->
blk_dœ
, 
ml2_sub_£t
) )

8257 
PVC_ml2_£t
 = 
ml2_sub_£t
;

8259 
	`·nic
("must hit\n");

8261 
veùÜ_couÁ
 = 
	`veùÜ_couÁ_func
(
ev’t
->
blk_dœ
);

8262 if(
	`Is_Sh¬ed
(
ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
]) == 1)

8265 
PVC_veùÜ_šc_di¡r_»cÜd_num
++;

8266 
PVC_veùÜ_šc_di¡r
[
veùÜ_couÁ
]++;

8267 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_šc_di¡r_»cÜd_num
++;

8268 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_šc_di¡r
[
veùÜ_couÁ
]++;

8269 
veùÜ_couÁ
++;

8272 
PVC_veùÜ_di¡r_»cÜd_num
++;

8273 
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

8274 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_di¡r_»cÜd_num
++;

8275 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

8277 ifĞ
ev’t
->
blk_dœ
->
±r_’
 )

8278 
	`·nic
("no sharer data obtain for…ointer\n");

8279 
ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64) | (event->blk_dir)->dir_sharer[block_offset][tempID/64];

8280 
ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
	`IsSh¬ed
(Óv’t->blk_dœ)->
dœ_sh¬”
[block_off£t], 
‹mpID
è? 
MESI_SHARED
 : 
MESI_EXCLUSIVE
;

8281 
ev’t
->
İ”©iÚ
 = 
	`IsSh¬ed
(Óv’t->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
], 
‹mpID
è? 
ACK_DIR_READ_SHARED
 : 
ACK_DIR_READ_EXCLUSIVE
;

8282 
·ck‘_size
 = 
d©a_·ck‘_size
;

8283 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

8284 
ev’t
->
¤c1
 =ƒv’t->
des1
;

8285 
ev’t
->
¤c2
 =ƒv’t->
des2
;

8286 
ev’t
->
des1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

8287 
ev’t
->
des2
 = 
‹mpID
%
mesh_size
;

8288 
ev’t
->
´oûssšgDÚe
 = 0;

8289 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8290 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

8291 
	`dœ_ev’tq_š£¹
(
ev’t
);

8296 if(
ev’t
->
blk_dœ
->
qblk_£t_shiá
)

8298 
»ad_Q_h™_num
--;

8299 
mb_·š_couÁ
--;

8302 
»ad_S_h™_num
--;

8303 
ev’t
->
İ”©iÚ
 =ƒv’t->
·»Á_İ”©iÚ
;

8304 
ev’t
->
¤c1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

8305 
ev’t
->
¤c2
 = 
‹mpID
%
mesh_size
;

8306 
ev’t
->
wh’
 = 
sim_cyşe
;

8307 
ev’t
->
no_L2_d–ay
 = 1;

8308 
	`dœ_ev’tq_š£¹
(
ev’t
);

8313 
ACK_MSG_READ
 :

8314 
ACK_MSG_READUPDATE
 :

8315 
dÿche2_acûss
++;

8316 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

8317 
R—d³ndšg
 = 0;

8318 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

8319 
	`·nic
("Writes cannot‡ccessext memory„egion");

8320 if(
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_STABLE
)

8321 
	`·nic
("DIR:‡fterhe„eceipt of ACK msg, directory‚ot inransient state");

8323 
·»Á_ev’t
->
chdCouÁ
 --;

8324 ià(
ev’t
->
L1_h™
)

8326 
·»Á_ev’t
->
L1_h™
 = 1;

8327 iàĞ
ev’t
->
addr
 =ğ
·»Á_ev’t
->add¸&& (ev’t->
L1_h™
 & 1))

8328 
·»Á_ev’t
->
shr_d©a_»q
 = 0;

8330 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
è&& (
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_READ
))

8331 
dl2_blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

8333 if(
·»Á_ev’t
->
chdCouÁ
 != 0)

8334 
	`ä“_ev’t
(
ev’t
);

8337 if(!
·»Á_ev’t
->
L1_h™
)

8339 ià(
·»Á_ev’t
->
blk_dœ
->
®l_sh¬ed_’
)

8340 
	`·nic
("ACK_MSG_READ‡ll_shared_enƒrror\n");

8341 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][(
‹mpID
/64)] &ğ~ (()1 << (((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
)%64));

8342 
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_INVALID
;

8343 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = -1;

8345 ifĞ
veùÜ_num
 == 0 )

8347 ifĞ
nv_brßdÿ¡
 )

8349 
·»Á_ev’t
->
blk_dœ
->
®l_sh¬ed_’
 = 1;

8350 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][(
‹mpID
/64)] = ()
®l_sh¬”
;

8351 
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

8352 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = -1;

8356 
·»Á_ev’t
->
blk_dœ
->
®l_sh¬ed_’
 = 0;

8357 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][(
‹mpID
/64)] = 0;

8358 
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_INVALID
;

8359 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = -1;

8363 
dl2_g
 = 
	`CACHE_TAG
(
dl2
, 
·»Á_ev’t
->
addr
);

8364 
dl2_£t
 = 
	`CACHE_SET
(
dl2
, 
·»Á_ev’t
->
addr
);

8367 iàĞ
·»Á_ev’t
->
shr_d©a_»q
 && !
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

8369 
	`ä“_ev’t
(
ev’t
);

8370 if(
·»Á_ev’t
->
blk_dœ
->
qblk_£t_shiá
)

8372 
»ad_Q_h™_num
--;

8373 
mb_·š_couÁ
--;

8376 
»ad_S_h™_num
--;

8378 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
·»Á_ev’t
->
addr
, cache_dl2->
£t_shiá
);

8379 
·»Á_ev’t
->
L2miss_æag
 = 1;

8380 
·»Á_ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

8381 if(
·»Á_ev’t
->
isSyncAcûss
)

8382 
Sync_L2_miss
 ++;

8383 if(!
m©chnum
)

8385 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

8387 if(!
Ï¡_L2_mshr_fuÎ
)

8389 
L2_mshr_fuÎ
 ++;

8390 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

8392 if(
tshr_fifo_num
[
·»Á_ev’t
->
des1
*
mesh_size
+
ev’t
->
des2
] >ğ
tshr_fifo_size
)

8394 
dœ_fifo_fuÎ
[
·»Á_ev’t
->
des1
*
mesh_size
+·»Á_ev’t->
des2
] = dir_fifo_full[parent_event->des1*mesh_size+parent_event->des2] - 4;

8396 
·»Á_ev’t
->
¤c1
 +ğ·»Á_ev’t->
des1
;

8397 
·»Á_ev’t
->
des1
 =…¬’t_ev’t->
¤c1
 -…arent_event->des1;

8398 
·»Á_ev’t
->
¤c1
 =…¬’t_ev’t->¤c1 -…¬’t_ev’t->
des1
;

8399 
·»Á_ev’t
->
¤c2
 +ğ·»Á_ev’t->
des2
;

8400 
·»Á_ev’t
->
des2
 =…¬’t_ev’t->
¤c2
 -…arent_event->des2;

8401 
·»Á_ev’t
->
¤c2
 =…¬’t_ev’t->¤c2 -…¬’t_ev’t->
des2
;

8402 
·»Á_ev’t
->
İ”©iÚ
 = 
NACK
;

8403 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8404 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

8405 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8406 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

8407 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8412 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8413 
dœ_fifo_fuÎ
[
·»Á_ev’t
->
des1
*
mesh_size
+·»Á_ev’t->
des2
] ++;

8414 
·»Á_ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

8415 
·»Á_ev’t
->
æ_æag
 = 1;

8416 
æ_couÁ”
 ++;

8417 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8423 
dœ_fifo_fuÎ
[
·»Á_ev’t
->
des1
*
mesh_size
+·»Á_ev’t->
des2
] = 0;

8424 if(
Ï¡_L2_mshr_fuÎ
)

8426 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

8427 
Ï¡_L2_mshr_fuÎ
 = 0;

8430 if(
cŞËù_¡©s
)

8432 
ÿche_dl2
->
mis£s
 ++;

8433 
ÿche_dl2
->
dmis£s
 ++;

8434 
švŞve_2_hİs_miss
 ++;

8436 
·»Á_ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

8437 
·»Á_ev’t
->
mshr_time
 = 
sim_cyşe
;

8438 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

8439 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
·»Á_ev’t
);

8440 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

8441 
Ãw_ev’t
->
cmd
 = 
R—d
;

8442 
·»Á_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

8443 
·»Á_ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

8444 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

8445 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

8446 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8447 
ev’t_ü—‹d
 = 
·»Á_ev’t
;

8448 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
·»Á_ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

8453 
ev’t
->
isReqL2SecMiss
 = 1;

8454 if(
cŞËù_¡©s
)

8456 
ÿche_dl2
->
š_mshr
 ++;

8457 
ÿche_dl2
->
dš_mshr
 ++;

8459 
	`ev’t_li¡_š£¹
(
·»Á_ev’t
, 
m©chnum
);

8460 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8467 
‹mpID
 = 
·»Á_ev’t
->tempID;

8469 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8470 
·»Á_ev’t
->
blk_dœ
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

8472 
veùÜ_couÁ
;

8473 
PVC_ml2_£t
;

8475 iàĞ
	`ml2_£t_m©ch_func
(
·»Á_ev’t
->
blk_dœ
, 
ml2_mul_£t
) )

8476 
PVC_ml2_£t
 = 
ml2_mul_£t
;

8477 iàĞ
	`ml2_£t_m©ch_func
(
·»Á_ev’t
->
blk_dœ
, 
ml2_sub_£t
) )

8478 
PVC_ml2_£t
 = 
ml2_sub_£t
;

8480 
	`·nic
("must hit\n");

8481 
veùÜ_couÁ
 = 
	`veùÜ_couÁ_func
(
·»Á_ev’t
->
blk_dœ
);

8482 if(
	`Is_Sh¬ed
(
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
]) == 1)

8484 
PVC_veùÜ_šc_di¡r_»cÜd_num
++;

8485 
PVC_veùÜ_šc_di¡r
[
veùÜ_couÁ
]++;

8486 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_šc_di¡r_»cÜd_num
++;

8487 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_šc_di¡r
[
veùÜ_couÁ
]++;

8488 
veùÜ_couÁ
++;

8491 
PVC_veùÜ_di¡r_»cÜd_num
++;

8492 
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

8493 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_di¡r_»cÜd_num
++;

8494 
ÿche_ml2
->
£ts
[
PVC_ml2_£t
].
PVC_veùÜ_di¡r
[
veùÜ_couÁ
]++;

8496 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] |= ()1<<(tempID%64);

8497 
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
	`IsSh¬ed
(Õ¬’t_ev’t->blk_dœ)->
dœ_sh¬”
[block_off£t], 
‹mpID
è? 
MESI_SHARED
 : 
MESI_EXCLUSIVE
;

8498 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = -1;

8500 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

8501 
dl2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8504 
·»Á_ev’t
->
İ”©iÚ
 = 
	`IsSh¬ed
(Õ¬’t_ev’t->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
], 
‹mpID
è? 
ACK_DIR_READ_SHARED
 : 
ACK_DIR_READ_EXCLUSIVE
;

8505 
·ck‘_size
 = 
d©a_·ck‘_size
;

8506 
·»Á_ev’t
->
»qAckTime
 = 
sim_cyşe
;

8507 
·»Á_ev’t
->
¤c1
 = 
ev’t
->
des1
;

8508 
·»Á_ev’t
->
¤c2
 = 
ev’t
->
des2
;

8509 
·»Á_ev’t
->
des1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

8510 
·»Á_ev’t
->
des2
 = 
‹mpID
%
mesh_size
;

8511 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

8512 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8513 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

8514 
	`ä“_ev’t
(
ev’t
);

8515 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8521 
ACK_MSG_WRITE
 :

8522 
ACK_MSG_WRITEUPDATE
:

8523 
dÿche2_acûss
++;

8524 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

8525 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

8526 
	`·nic
("Writes cannot‡ccessext memory„egion");

8527 if(
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_STABLE
)

8528 
	`·nic
("DIR:‡fterhe„eceipt of ACK msg, directory‚ot inransient state");

8531 
·»Á_ev’t
->
chdCouÁ
 --;

8532 iàĞ
ev’t
->
L1_h™
 &&ƒv’t->
shr_d©a_»q
)

8533 
ev’t
->
·»Á
->
shr_d©a_»q
 = 0;

8534 ifĞ
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
è&& (
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_WRITE
) )

8535 
dl2_blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

8536 ifĞ!
·»Á_ev’t
->
sh¬”_num
 )

8537 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][(((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
)/64)] &= ~ (()1 << (((event->src1-MEM_LOC_SHIFT)*mesh_size+event->src2)%64));

8540 if(
·»Á_ev’t
->
sh¬”_num
)

8541 
·»Á_ev’t
->
šdividu®_chdCouÁ
[
block_off£t
] --;

8543 if(
·»Á_ev’t
->
sh¬”_num
 &&…¬’t_ev’t->
šdividu®_chdCouÁ
[
block_off£t
] == 0)

8545 
·»Á_ev’t
->
sh¬”_num
 --;

8546 if(
·»Á_ev’t
->
sh¬”_num
 != 0)

8548 
	`ä“_ev’t
(
ev’t
);

8551 
·»Á_ev’t
->
sh¬”_num
 = 100;

8554 if(
·»Á_ev’t
->
chdCouÁ
 == 0)

8557 
·»Á_ev’t
->
blk_dœ
->
®l_sh¬ed_’
 = 0;

8559 
‹mpID
 = 
·»Á_ev’t
->tempID;

8560 
block_off£t
 = 
	`blockoff£t
(
·»Á_ev’t
->
addr
);

8562 
dl2_g
 = 
	`CACHE_TAG
(
dl2
, 
·»Á_ev’t
->
addr
);

8563 
dl2_£t
 = 
	`CACHE_SET
(
dl2
, 
·»Á_ev’t
->
addr
);

8565 
ml2_mul_g
 = 
	`CACHE_QBLK_TAG
(
ml2
, 
·»Á_ev’t
->
addr
);

8566 
ml2_mul_£t
 = 
	`CACHE_QBLK_SET
(
ml2
, 
·»Á_ev’t
->
addr
);

8567 
ml2_sub_g
 = 
	`CACHE_TAG
(
ml2
, 
·»Á_ev’t
->
addr
);

8568 
ml2_sub_£t
 = 
	`CACHE_SET
(
ml2
, 
·»Á_ev’t
->
addr
);

8571 if(
·»Á_ev’t
->
sh¬”_num
 != 100)

8573 
·»Á_ev’t
->
blk_dœ
->
¡©us
 = 
CACHE_BLK_VALID
;

8575 iàĞ!
·»Á_ev’t
->
shr_d©a_»q
 || 
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
) )

8577 if(
	`fšdCacheStus
(
dl2
, 
dl2_£t
, 
dl2_g
, 
dl2_hšdex
, &
dl2_blk
))

8578 
dl2_blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8580 
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

8581 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8582 
·»Á_ev’t
->
blk_dœ
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

8584 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

8585 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

8586 if(
·»Á_ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

8588 
·ck‘_size
 = 
m‘a_·ck‘_size
;

8589 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

8591 if(
·»Á_ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
)

8593 
·ck‘_size
 = 
d©a_·ck‘_size
;

8594 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

8596 
·»Á_ev’t
->
¤c1
 = 
ev’t
->
des1
;

8597 
·»Á_ev’t
->
¤c2
 = 
ev’t
->
des2
;

8598 
·»Á_ev’t
->
des1
 =…¬’t_ev’t->
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

8599 
·»Á_ev’t
->
des2
 =…¬’t_ev’t->
‹mpID
%
mesh_size
;

8600 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

8601 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8602 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8603 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

8604 
	`ä“_ev’t
(
ev’t
);

8610 
	`ä“_ev’t
(
ev’t
);

8612 
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_INVALID
;

8613 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

8614 if(
·»Á_ev’t
->
blk_dœ
->
qblk_£t_shiá
)

8616 
wr™e_Q_h™_num
--;

8617 
mb_·š_couÁ
--;

8620 
wr™e_S_h™_num
--;

8622 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
block_off£t
] = -1;

8623 
·»Á_ev’t
->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = 0;

8626 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
·»Á_ev’t
->
addr
, cache_dl2->
£t_shiá
);

8627 
·»Á_ev’t
->
L2miss_æag
 = 1;

8628 
·»Á_ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

8629 if(
·»Á_ev’t
->
isSyncAcûss
)

8630 
Sync_L2_miss
 ++;

8631 if(!
m©chnum
)

8633 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

8635 if(!
Ï¡_L2_mshr_fuÎ
)

8637 
L2_mshr_fuÎ
 ++;

8638 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

8640 if(
tshr_fifo_num
[
·»Á_ev’t
->
des1
*
mesh_size
+
ev’t
->
des2
] >ğ
tshr_fifo_size
)

8642 
dœ_fifo_fuÎ
[
·»Á_ev’t
->
des1
*
mesh_size
+·»Á_ev’t->
des2
] = dir_fifo_full[parent_event->des1*mesh_size+parent_event->des2] - 4;

8644 
·»Á_ev’t
->
¤c1
 +ğ·»Á_ev’t->
des1
;

8645 
·»Á_ev’t
->
des1
 =…¬’t_ev’t->
¤c1
 -…arent_event->des1;

8646 
·»Á_ev’t
->
¤c1
 =…¬’t_ev’t->¤c1 -…¬’t_ev’t->
des1
;

8647 
·»Á_ev’t
->
¤c2
 +ğ·»Á_ev’t->
des2
;

8648 
·»Á_ev’t
->
des2
 =…¬’t_ev’t->
¤c2
 -…arent_event->des2;

8649 
·»Á_ev’t
->
¤c2
 =…¬’t_ev’t->¤c2 -…¬’t_ev’t->
des2
;

8650 
·»Á_ev’t
->
İ”©iÚ
 = 
NACK
;

8651 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8652 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

8653 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8654 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

8655 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8660 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8661 
dœ_fifo_fuÎ
[
·»Á_ev’t
->
des1
*
mesh_size
+·»Á_ev’t->
des2
] ++;

8662 
·»Á_ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

8663 
·»Á_ev’t
->
æ_æag
 = 1;

8664 
æ_couÁ”
 ++;

8665 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8671 
dœ_fifo_fuÎ
[
·»Á_ev’t
->
des1
*
mesh_size
+·»Á_ev’t->
des2
] = 0;

8672 if(
Ï¡_L2_mshr_fuÎ
)

8674 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

8675 
Ï¡_L2_mshr_fuÎ
 = 0;

8678 if(
cŞËù_¡©s
)

8680 
ÿche_dl2
->
mis£s
 ++;

8681 
ÿche_dl2
->
dmis£s
 ++;

8682 
švŞve_2_hİs_miss
 ++;

8684 
·»Á_ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

8685 
·»Á_ev’t
->
mshr_time
 = 
sim_cyşe
;

8686 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

8687 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
·»Á_ev’t
);

8688 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

8689 
Ãw_ev’t
->
cmd
 = 
R—d
;

8690 
·»Á_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

8691 
·»Á_ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

8692 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

8693 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

8694 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8695 
ev’t_ü—‹d
 = 
·»Á_ev’t
;

8696 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
·»Á_ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

8701 
ev’t
->
isReqL2SecMiss
 = 1;

8702 if(
cŞËù_¡©s
)

8704 
ÿche_dl2
->
š_mshr
 ++;

8705 
ÿche_dl2
->
dš_mshr
 ++;

8707 
	`ev’t_li¡_š£¹
(
·»Á_ev’t
, 
m©chnum
);

8708 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

8716 if(
·»Á_ev’t
->
sh¬”_num
 != 100)

8717 
	`·nic
("WAIT_MEM_READ: sharer_num should be zero‚ow!\n");

8718 if(!
·»Á_ev’t
->
blk_dœ
->
qblk_£t_shiá
)

8719 
ml2_£t
 = 
ml2_sub_£t
;

8721 
ml2_£t
 = 
ml2_mul_£t
;

8723 
i
=0, 
m
=0, 
™”©iÚ
 = 1;

8724 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

8725 
™”©iÚ
 = iteration * 2;

8726 
m
=0; m<
™”©iÚ
; m++)

8728 
·»Á_ev’t
->
blk_dœ
->
dœ_dœty
[
m
] = -1;

8729 
·»Á_ev’t
->
blk_dœ
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

8730 
·»Á_ev’t
->
blk_dœ
->
±r_cur_ev’t
[
m
] = 
NULL
;

8732 
·»Á_ev’t
->
blk_dœ
->
»ady
 = 
sim_cyşe
;

8734 ifĞ
·»Á_ev’t
->
İ”©iÚ
 =ğ
VEC_DEGRADE
 )

8736 
	`ä“_ev’t
(
ev’t
);

8737 
	`ä“_ev’t
(
·»Á_ev’t
);

8740 ifĞ(
·»Á_ev’t
->
blk_dœ
->
dœ_blk_¡©e
[
block_off£t
]==
MESI_SHARED
è&& (
	`Is_Sh¬ed
Õ¬’t_ev’t->blk_dœ->
dœ_sh¬”
[block_offset])<2) )

8741 
	`·nic
("stateƒrror\n");

8743 ià(
ml2
->
hsize
)

8744 
	`lšk_hb_’t
(
ml2
, &ml2->
£ts
[
ml2_£t
], 
·»Á_ev’t
->
blk_dœ
);

8748 
ml2
->
Ï¡_g£tid
.
g
 = 
·»Á_ev’t
->
blk_dœ
->
gid
.tag;

8749 
ml2
->
Ï¡_g£tid
.
th»adid
 = 
·»Á_ev’t
->
blk_dœ
->
gid
.threadid;

8750 
ml2
->
Ï¡_blk
 = (
·»Á_ev’t
->
blk_dœ
);

8753 ià(
·»Á_ev’t
->
ud©a
)

8754 *(
·»Á_ev’t
->
ud©a
èğÕ¬’t_ev’t->
blk_dœ
)->
u£r_d©a
;

8756 
·»Á_ev’t
->
İ”©iÚ
 =…¬’t_ev’t->
·»Á_İ”©iÚ
;

8757 
·»Á_ev’t
->
sh¬”_num
 = 0;

8758 
·»Á_ev’t
->
wh’
 = 
sim_cyşe
;

8759 
·»Á_ev’t
->
no_L2_d–ay
 = 1;

8760 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

8763 
	`ä“_ev’t
(
ev’t
);

8766 
ACK_DIR_IL1
 :

8767 
iÿche_acûss
++;

8768 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
iÿche_acûss
++;

8770 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

8771 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

8773 (
ev’t
->
ı
)->
pŞicy
)

8775 
bšdex
;

8776 
LRU
:

8777 
FIFO
:

8778 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

8779 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

8781 
Rªdom
:

8782 
bšdex
 = 
	`my¿nd
 (è& ((
ev’t
->
ı
)->
assoc
 - 1);

8783 
»¶
 = 
	`CACHE_BINDEX
 ((
ev’t
->
ı
), (ev’t->ı)->
£ts
[
£t
].
blks
, 
bšdex
);

8786 
	`·nic
 ("bogus„eplacement…olicy");

8788 ià(
cŞËù_¡©s
)

8789 
ev’t
->
ı
->
»¶aûm’ts
++;

8790 
»¶
->
gid
.
g
 =ag;

8791 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

8792 
»¶
->
addr
 = 
ev’t
->addr;

8793 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

8794 
»¶
->
¡©e
 = 
MESI_SHARED
;

8797 
bofs
 = 
	`CACHE_BLK
(
ev’t
->
ı
,ƒv’t->
addr
);

8798 ià((
ev’t
->
ı
)->
b®loc
 && (ev’t->
vp
))

8799 
	`CACHE_BCOPY
(
ev’t
->
cmd
, 
»¶
, 
bofs
,ƒv’t->
vp
,ƒv’t->
nby‹s
);

8801 (
ev’t
->
ı
)->
Ï¡_g£tid
.
g
 = 0;

8802 (
ev’t
->
ı
)->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

8803 (
ev’t
->
ı
)->
Ï¡_blk
 = 
»¶
;

8806 ià(
ev’t
->
ud©a
)

8807 *(
ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

8809 if(
cŞËù_¡©s
)

8810 
tÙ®IL1misshªdËtime
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

8812 
»¶
->
»ady
 = 
sim_cyşe
;

8814 ià((
ev’t
->
ı
)->
hsize
)

8815 
	`lšk_hb_’t
((
ev’t
->
ı
), &Óv’t->ı)->
£ts
[
£t
], 
»¶
);

8817 
thecÚ‹xts
[
‹mpID
]->
ruu_ãtch_issue_d–ay
 = 0;

8818 
thecÚ‹xts
[
‹mpID
]->
ev’t
 = 
NULL
;

8819 
	`ä“_ev’t
(
ev’t
);

8822 
ACK_DIR_WRITE
 :

8823 
ACK_DIR_WRITEUPDATE
:

8824 
ACK_DIR_READ_EXCLUSIVE
:

8825 
ACK_DIR_READ_SHARED
:

8826 
dÿche_acûss
++;

8827 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

8830 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

8831 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

8832 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

8833 
m_upd©e_miss
[
ev’t
->
‹mpID
] = 0;

8835 (
ev’t
->
ı
)->
pŞicy
)

8837 
bšdex
, 
i
=0;

8838 
LRU
:

8839 
FIFO
:

8840 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

8842 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

8843 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

8847 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

8848 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

8851 
Rªdom
:

8852 
bšdex
 = 
	`my¿nd
 (è& ((
ev’t
->
ı
)->
assoc
 - 1);

8853 
»¶
 = 
	`CACHE_BINDEX
 ((
ev’t
->
ı
), (ev’t->ı)->
£ts
[
£t
].
blks
, 
bšdex
);

8856 
	`·nic
 ("bogus„eplacement…olicy");

8859 
b_¡©e
 = -1;

8860 
	`db_acûss
 ( ((
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
), 
»¶
->
addr
, &
b_¡©e
 );

8862 
šfÜm_back_’
;

8863 
šfÜm_back_’
 = 
tÙ®_šfÜm_back_’
 && ((
b_¡©e
 =ğ
SHARED_WRITE
è|| (b_¡©=ğ-1)è&& ((
muÉi_blk_ad­_’
 && 
muÉi_blk_ad­_šfÜm_’
è|| !
muÉi_blk_£t_shiá
);

8865 iàĞĞ
šfÜm_back_’
 || (
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
) )

8866 && (
»¶
->
¡©us
 & 
CACHE_BLK_VALID
è&& (
aùu®Proûss
 =ğ1è&& !
	`md_‹xt_addr
Ô•l->
addr
, 
‹mpID
) )

8868 ià((
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& !Ô•l->
¡©e
 =ğ
MESI_MODIFIED
))

8869 
	`·nic
 ("Cache Block should have been modified here");

8871 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

8872 if(
Ãw_ev’t
 =ğ
NULL
)

8873 
	`·nic
("Out of Virtual Memory");

8874 ià(
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

8876 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK
;

8877 
·ck‘_size
 = 
d©a_·ck‘_size
;

8881 
Ãw_ev’t
->
İ”©iÚ
 = 
INFORM_BACK
;

8882 
·ck‘_size
 = 
m‘a_·ck‘_size
;

8884 
Ãw_ev’t
->
cÚf_b™
 = -1;

8885 
Ãw_ev’t
->
»q_time
 = 0;

8886 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

8887 
Ãw_ev’t
->
³ndšg_æag
 = 0;

8888 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

8889 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

8890 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

8892 
md_addr_t
 
¤c
 = (
»¶
->
addr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

8893 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8894 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

8895 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

8896 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

8897 
Ãw_ev’t
->
·»Á
 = 
NULL
;

8898 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

8899 
Ãw_ev’t
->
chdCouÁ
 = 0;

8900 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

8901 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

8902 
Ãw_ev’t
->
»£nd
 = 0;

8903 
Ãw_ev’t
->
blk1
 = 
»¶
;

8904 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

8905 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

8906 
Ãw_ev’t
->
vp
 = 
NULL
;

8907 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

8908 
Ãw_ev’t
->
ud©a
 = 
NULL
;

8909 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

8910 
Ãw_ev’t
->
rs
 = 
NULL
;

8911 
Ãw_ev’t
->
¥ec_mode
 = 0;

8912 
Ãw_ev’t
->
d©a_»¶y
 = 0;

8914 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 0);

8915 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

8919 
»¶
->
gid
.
g
 =ag;

8920 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

8921 
»¶
->
addr
 = 
ev’t
->addr;

8922 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

8925 
bofs
 = 
	`CACHE_BLK
(
ev’t
->
ı
,ƒv’t->
addr
);

8926 ià((
ev’t
->
ı
)->
b®loc
 && (ev’t->
vp
))

8927 
	`CACHE_BCOPY
(
ev’t
->
cmd
, 
»¶
, 
bofs
,ƒv’t->
vp
,ƒv’t->
nby‹s
);

8930 
»¶
->
WÜdU£FÏg
[Ô•l->
addr
>>2) & 7] = 1;

8931 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
)

8933 
»¶
->
R—dCouÁ
 ++;

8934 
»¶
->
Ty³
 = 
PRIVATE
;

8935 
»¶
->
¡©e
 = 
MESI_EXCLUSIVE
;

8937 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
)

8939 
»¶
->
R—dCouÁ
 ++;

8940 
»¶
->
Ty³
 = 
SHARED_READ_ONLY
;

8941 
»¶
->
¡©e
 = 
MESI_SHARED
;

8943 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
)

8945 
»¶
->
Wr™eCouÁ
 ++;

8946 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

8947 
»¶
->
Ty³
 = 
SHARED_READ_WRITE
;

8948 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
)

8949 
»¶
->
Ty³
 = 
PRIVATE
;

8950 
»¶
->
¡©e
 = 
MESI_MODIFIED
;

8951 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

8953 
ev’t
->
ı
->
Ï¡_g£tid
.
g
 = 0;

8954 
ev’t
->
ı
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

8955 
ev’t
->
ı
->
Ï¡_blk
 = 
»¶
;

8958 ià(
ev’t
->
ud©a
)

8959 *(
ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

8961 
missHªdËTime
 = 
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

8963 if(!
ev’t
->
isReqL2H™
)

8965 iàĞ
ev’t
->
cmd
 =ğ
R—d
 )

8967 
»ad_L2_miss_num
 ++;

8968 
»ad_L2_miss_tÙ®_time
 +ğ
missHªdËTime
;

8971 #ifdeà
L2_TRACE


8972 
FILE
 *
fL2T¿û
;

8973 
fL2T¿û
=
	`fİ’
(
L2_Œaû
,"at+");

8974 
	`årštf
(
fL2T¿û
,"%d„—d_mis  %Îd %d\n", 
‹mpID
,
sim_cyşe
,
d©a_·ck‘_size
);

8975 
	`fşo£
(
fL2T¿û
);

8979 iàĞ
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 )

8981 
wr™e_L2_miss_num
 ++;

8982 
wr™e_L2_miss_tÙ®_time
 +ğ
missHªdËTime
;

8984 #ifdeà
L2_TRACE


8985 
FILE
 *
fL2T¿û
;

8986 
fL2T¿û
=
	`fİ’
(
L2_Œaû
,"at+");

8987 
	`årštf
(
fL2T¿û
,"%d wr™e_mis  %Îd %d\n", 
‹mpID
,
sim_cyşe
,
d©a_·ck‘_size
);

8988 
	`fşo£
(
fL2T¿û
);

8996 iàĞ
ev’t
->
cmd
 =ğ
R—d
 )

8998 
»ad_L1_miss_L2_h™_num
 ++;

8999 
»ad_L1_miss_L2_h™_tÙ®_time
 +ğ
missHªdËTime
;

9001 #ifdeà
L2_TRACE


9002 
FILE
 *
fL2T¿û
;

9003 
fL2T¿û
=
	`fİ’
(
L2_Œaû
,"at+");

9004 
	`årštf
(
fL2T¿û
,"%d„—d_h™ %Îd %d\n", 
‹mpID
,
sim_cyşe
,
d©a_·ck‘_size
);

9005 
	`fşo£
(
fL2T¿û
);

9010 iàĞ
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 )

9012 
wr™e_L1_miss_L2_h™_num
 ++;

9013 
wr™e_L1_miss_L2_h™_tÙ®_time
 +ğ
missHªdËTime
;

9015 #ifdeà
L2_TRACE


9016 
FILE
 *
fL2T¿û
;

9017 
fL2T¿û
=
	`fİ’
(
L2_Œaû
,"at+");

9018 
	`årštf
(
fL2T¿û
,"%d wr™e_h™ %Îd %d\n", 
‹mpID
,
sim_cyşe
,
d©a_·ck‘_size
);

9019 
	`fşo£
(
fL2T¿û
);

9025 if(
cŞËù_¡©s
)

9027 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 &&ƒv’t->
isReqL2H™
 && !ev’t->
isReqL2SecMiss
)

9029 
tÙ®Wr™eReq
++;

9030 
tÙ®Wr™eReqInv
 +ğ((
ev’t
->
»qAckTime
 =ğev’t->
»qAtDœTime
) ? 0 : 1);

9031 
tÙ®Wr™eD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬‹d
);

9032 
tÙ®Wr™eInvD–ay
 +ğ(
ev’t
->
»qAckTime
 -ƒv’t->
»qAtDœTime
);

9034 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
 &&ƒv’t->
isReqL2H™
 && !ev’t->
isReqL2SecMiss
)

9036 
tÙ®Upg¿deReq
++;

9037 
tÙ®Upg¿deReqInv
 +ğ((
ev’t
->
»qAckTime
 =ğev’t->
»qAtDœTime
) ? 0 : 1);

9038 
tÙ®Upg¿deD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬‹d
);

9039 
tÙ®Upg¿deInvD–ay
 +ğ(
ev’t
->
»qAckTime
 -ƒv’t->
»qAtDœTime
);

9042 
tÙ®Upg¿deMiss
 ++;

9044 
tÙ®misshªdËtime
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

9045 if(
ev’t
->
isSyncAcûss
)

9046 
tÙ®mis¡imefÜSync
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

9049 
tÙ®mis¡imefÜNÜm®
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

9050 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_com¶‘e
 &&ƒv’t->
L2miss_¡©ed
)

9052 
tÙ®L2mis¡ime
 +ğ
ev’t
->
L2miss_com¶‘e
 -ƒv’t->
L2miss_¡©ed
;

9053 
TÙ®L2mis£s
 ++;

9055 if(
ev’t
->
L2miss_æag
)

9056 
tÙ®WrÚgL2mis¡ime
 ++;

9060 
»¶
->
»ady
 = 
sim_cyşe
;

9062 ifĞ(
ev’t
->
´eãtch_Ãxt
 =ğ2 ||ƒv’t->´eãtch_Ãxˆ=ğ4è&& (ev’t->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
) )

9063 
»¶
->
isL1´eãtch
 = 1;

9065 
»¶
->
isL1´eãtch
 = 0;

9067 ià((
ev’t
->
ı
)->
hsize
)

9068 
	`lšk_hb_’t
((
ev’t
->
ı
), &Óv’t->ı)->
£ts
[
£t
], 
»¶
);

9072 if(!
ev’t
->
¥ec_mode
 &&ƒv’t->
rs
)

9074 if((
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
è|| (ev’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
))

9075 
	`ev’tq_upd©e
(
ev’t
->
rs
, 
»¶
->
»ady
);

9077 
ev’t
->
rs
->
wr™ewa™
 = 2;

9079 
	`msh»Áry_upd©e
(
ev’t
, 
»¶
->
»ady
,ƒv’t->
¡¬‹d
);

9080 
	`ä“_ev’t
(
ev’t
);

9083 
MEM_WRITE_BACK
 :

9084 
Ït
 = 
dl2
->
	`blk_acûss_â
(
Wr™e
, 
	`CACHE_BADDR
(dl2,
ev’t
->
addr
), dl2->
bsize
, 
NULL
, 
sim_cyşe
,ƒv’t->
‹mpID
);

9085 
	`ä“_ev’t
(
ev’t
);

9088 
MEM_READ_REQ
 :

9089 
Ït
 = 
dl2
->
	`blk_acûss_â
(
R—d
, 
	`CACHE_BADDR
(dl2,
addr
), dl2->
bsize
, 
NULL
, 
sim_cyşe
, 
‹mpID
);

9090 
ev’t
->
wh’
 = 
sim_cyşe
 + 
Ït
;

9091 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

9092 
ev’t
->
İ”©iÚ
 = 
MEM_READ_REPLY
;

9093 
tÙ®_mem_Ït
 +ğ
Ït
;

9094 
tÙ®_mem_acûss
 ++;

9095 
	`dœ_ev’tq_š£¹
(
ev’t
);

9098 
MEM_READ_REPLY
 :

9100 
ev’t
->
mshr_time
 =ƒv’t->
·»Á
->mshr_time;

9101 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

9102 
ev’t
->
¤c1
 +ğev’t->
des1
;

9103 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

9104 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

9105 
ev’t
->
¤c2
 +ğev’t->
des2
;

9106 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

9107 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

9108 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

9109 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

9110 
ev’t
->
´oûssšgDÚe
 = 0;

9111 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

9112 
	`dœ_ev’tq_š£¹
(
ev’t
);

9113 
i
;

9114 
i
=1;i<(
ÿche_dl2
->
bsize
/
max_·ck‘_size
);i++)

9116 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

9117 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

9118 
Ãw_ev’t
->
mshr_time
 = 
ev’t
->
·»Á
->mshr_time;

9119 
Ãw_ev’t
->
¤c1
 = 
ev’t
->src1;

9120 
Ãw_ev’t
->
¤c2
 = 
ev’t
->src2;

9121 
Ãw_ev’t
->
des1
 = 
ev’t
->des1;

9122 
Ãw_ev’t
->
des2
 = 
ev’t
->des2;

9123 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

9124 
Ãw_ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ_N_WAIT
;

9125 
Ãw_ev’t
->
»q_time
 = 
ev’t
->req_time;

9126 
Ãw_ev’t
->
wh’
 = 
sim_cyşe
 + ((
ÿche_dl1
[0]->
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()4/
mem_bus_¥“d
))*
i
;

9127 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

9132 
WAIT_MEM_READ_N_WAIT
:

9133 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ_N
;

9134 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

9135 
ev’t
->
´oûssšgDÚe
 = 0;

9136 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

9137 
	`dœ_ev’tq_š£¹
(
ev’t
);

9140 
WAIT_MEM_READ
 :

9141 
WAIT_MEM_READ_N
 :

9143 iàĞ
ev’t
->
İ”©iÚ
 =ğ
WAIT_MEM_READ
 )

9145 
DIRECTORY_EVENT
 *
p_ev’t
 = 
ev’t
->
·»Á
;

9146 
dÿche2_acûss
++;

9147 
thecÚ‹xts
[(
p_ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+p_ev’t->
des2
]->
dÿche2_acûss
++;

9148 
p_ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

9149 
dl2
->
pŞicy
)

9151 
i
;

9152 
bšdex
;

9153 
LRU
:

9154 
FIFO
:

9155 
i
 = 
dl2
->
assoc
;

9157 if(
i
 == 0) ;

9158 
i
--;

9159 
»¶
 = 
dl2
->
£ts
[
dl2_£t
].
way_
;

9160 
	`upd©e_way_li¡
 (&
dl2
->
£ts
[
dl2_£t
], 
»¶
, 
H—d
);

9162 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
));

9164 if(
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
))

9166 
æ_couÁ”
 ++;

9167 
ev’t
->
æ_æag
 = 1;

9168 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

9169 
	`dœ_ev’tq_š£¹
(
ev’t
);

9173 
Rªdom
:

9174 
bšdex
 = 
	`my¿nd
 (è& (
dl2
->
assoc
 - 1);

9175 
»¶
 = 
	`CACHE_BINDEX
 (
dl2
, dl2->
£ts
[
dl2_£t
].
blks
, 
bšdex
);

9178 
	`·nic
 ("bogus„eplacement…olicy");

9181 iàĞ(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
è&& (»¶->¡©u & 
CACHE_BLK_DIRTY
) )

9183 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

9184 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

9185 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

9186 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_WRITE_BACK
;

9187 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

9188 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 0);

9189 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

9191 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

9192 
»¶
->
gid
.
g
 = 
dl2_g
;

9193 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

9194 
»¶
->
addr
 =‡ddr;

9195 
m
=0, 
™”©iÚ
 = 1, 
æag
 = 0;

9196 
m
=0; m<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); m++)

9197 
™”©iÚ
 = iteration * 2;

9198 
m
=0; m<
™”©iÚ
; m++)

9199 
»¶
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

9201 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

9203 ià(
»¶
->
way_´ev
 && 
dl2
->
pŞicy
 =ğ
LRU
)

9204 
	`upd©e_way_li¡
(&
dl2
->
£ts
[
dl2_£t
], 
»¶
, 
H—d
);

9206 
dl2
->
Ï¡_g£tid
.
g
 = 
dl2_g
;

9207 
dl2
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

9208 
dl2
->
Ï¡_blk
 = 
»¶
;

9210 
»¶
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

9213 ià(
p_ev’t
->
ud©a
)

9214 *(
p_ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

9216 
»¶
->
»ady
 = 
sim_cyşe
;

9218 ià(
dl2
->
hsize
)

9219 
	`lšk_hb_’t
(
dl2
, &dl2->
£ts
[
dl2_£t
], 
»¶
);

9223 iàĞ(
p_ev’t
->
b_¡©e
 =ğ
SHARED_WRITE
è&& (!p_ev’t->
blk_dœ
) )

9224 
	`·nic
("it should†ock‡ metaƒntry\n");

9226 iàĞ
p_ev’t
->
blk_dœ
 )

9228 
p_ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

9229 
p_ev’t
->
blk_dœ
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

9232 
p_ev’t
->
İ”©iÚ
 =…_ev’t->
·»Á_İ”©iÚ
;

9233 
p_ev’t
->
wh’
 = 
sim_cyşe
;

9234 
p_ev’t
->
no_L2_d–ay
 = 1;

9235 
	`dœ_ev’tq_š£¹
(
p_ev’t
);

9237 
	`upd©e_L2_msh»Áry
(
ev’t
->
addr
, 
sim_cyşe
,ƒv’t->
mshr_time
);

9238 
	`ä“_ev’t
(
ev’t
);

9242 
	`·nic
("DIR: undefined directory operation");

9245 
	}
}

9247 
	$»¶_dœ_¡©e_check
(*
dœ_¡©e
)

9249 
m
=0, 
™”©iÚ
 = 1, 
æag
 = 0;

9250 
m
=0; m<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); m++)

9251 
™”©iÚ
 = iteration * 2;

9252 
m
=0; m<
™”©iÚ
; m++)

9253 if(
dœ_¡©e
[
m
] =ğ
DIR_TRANSITION
)

9254 
æag
 = 1;

9255  
æag
;

9256 
	}
}

9265 
tÙ®Upg¿des
;

9267 
	$ÿche_acûss
 (
ÿche_t
 *
ı
,

9268 
mem_cmd
 
cmd
,

9269 
md_addr_t
 
addr
,

9270 *
vp
,

9271 
nby‹s
,

9272 
tick_t
 
now
,

9273 
by‹_t
 ** 
ud©a
,

9274 
md_addr_t
 * 
»¶_addr
,

9275 
RUU_¡©iÚ
 *
rs
,

9276 
th»adid


9277 , 
m_L1WBufEÁry
 *
l1_wb_’Œy


9280 
	`¥rštf
(
dl1Çme
, "dl1");

9282 ià(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
è&& cp->
th»adid
 !=hreadid)

9283 
	`·nic
 ("Wrond DL1 cache being called in cache‡ccess\n");

9285 if(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
è&& 
	`md_‹xt_addr
(
addr
, 
th»adid
))

9286  
ÿche_dl1_Ït
;

9289 
by‹_t
 *
p
 = 
vp
;

9290 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

9291 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

9292 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

9293 
ÿche_blk_t
 *
blk
, *
»¶
;

9294 
Ït
 = 0, 
út
;

9295 
vc
 = -1, 
a
 = 0;

9296 
isSyncAcûss
 = 0;

9297 
RUU_¡©iÚ
 *
my_rs
 = 
rs
;

9300 
md_addr_t
 
wb_addr
, 
»¶Add»ss
;

9301 
DIRECTORY_EVENT
 *
ev’t
;

9303 
pÜt_Ït
 = 0, 
now_Ït
 = 0, 
pÜt_now
 = 0;

9304 #ià
PROCESS_MODEL


9305 
isSh¬edAdd»ss
 = 0;

9308 #ià
PROCESS_MODEL


9310 ià(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

9312 
isSh¬edAdd»ss
 = 
	`checkFÜSh¬edAddr
 ((è
addr
);

9317 ià(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

9319 ià(
cmd
 =ğ
Wr™e
)

9321 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

9323 ià((
qu›sûAddrSŒuù
[
út
].
add»ss
 =ğ
addr
))

9325 
thecÚ‹xts
[
út
]->
ä“ze
 = 0;

9326 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

9327 
qu›sûAddrSŒuù
[
út
].
add»ss
 = 1;

9328 
qu›sûAddrSŒuù
[
út
].
th»adid
 = -1;

9332 #ifdeà 
L1_STREAM_PREFETCHER


9334 iàĞ
STREAM_mš_En
 )

9336 
md_addr_t
 
¡»am_h—d_addr
;

9337 if(
rs
)

9339 if(!
rs
->
isSyncIn¡
)

9341 
¡»am_h—d_addr
 = 
	`¡»am_m©ch_addr
(
addr
, 
th»adid
);

9342 
	`l1Ïunch_¥
 (
¡»am_h—d_addr
, 
th»adid
, 1);

9348 
¡»am_h—d_addr
 = 
	`¡»am_m©ch_addr
(
addr
, 
th»adid
);

9349 
	`l1Ïunch_¥
 (
¡»am_h—d_addr
, 
th»adid
, 1);

9356 ià(
»¶_addr
)

9357 *
»¶_addr
 = 0;

9359 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

9361 
	`´štf
("nby‹ i %d\n", 
nby‹s
);

9362 
	`çl
 ("ÿche:‡cûs ”rÜ: bad sizÜ‡lignm’t,‡dd¸0x%08x", 
addr
);

9365 ià((
addr
 + 
nby‹s
 - 1è> (×dd¸& ~
ı
->
blk_mask
è+ cp->
bsize
 - 1))

9366 
	`·nic
 ("ÿche:‡cûs ”rÜ:‡cûs ¥ª block,‡dd¸0x%08x", 
addr
);

9368 ià(
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

9370 ià(
ı
->
hsize
)

9373 
hšdex
 = (è
	`CACHE_HASH
 (
ı
, 
g
);

9375 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9377 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9378 
ÿche_h™
;

9384 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9386 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9387 
ÿche_h™
;

9393 if(
rs
)

9395 if(
rs
->
isSyncIn¡
)

9397 
SyncIn¡CacheAcûss
 ++;

9398 if(
my_rs
->
š_LSQ
 != 1)

9399 
my_rs
 = &
thecÚ‹xts
[
th»adid
]->
LSQ
[thecÚ‹xts[th»adid]->
LSQ_h—d
];

9400 if(!
my_rs
)

9401 
	`·nic
("lsq does‚ot have‡ny data\n");

9402 if(
my_rs
->
İ
 =ğ
LDL
)

9403 
Te¡CacheAcûss
 ++;

9404 if(
my_rs
->
İ
 =ğ
LDL_L
)

9405 
Te¡SecCacheAcûss
 ++;

9406 if(
my_rs
->
İ
 =ğ
STL_C
)

9407 
S‘CacheAcûss
 ++;

9410 if(
l1_wb_’Œy
)

9411 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

9412 
S‘CacheAcûss
 ++;

9413 
Ëv–1_d©a_ÿche_acûss_num
++;

9414 
cmd
)

9416 
R—d
:

9417 
Ëv–1_d©a_ÿche_acûss_»ad_num
++;

9418 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9420 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
è&& ((blk->
¡©e
 =ğ
MESI_SHARED
è|| (blk->¡©=ğ
MESI_MODIFIED
è|| (blk->¡©=ğ
MESI_EXCLUSIVE
)))

9422 
Ëv–1_d©a_ÿche_acûss_»ad_h™_num
++;

9423 iàĞ
blk
->
isL1´eãtch
 )

9425 
Ëv–1_d©a_ÿche_acûss_»ad_h™_FPP_num
++;

9426 
blk
->
isL1´eãtch
 = 0;

9429 
blk
->
addr
 =‡ddr;

9431 
blk
->
R—dCouÁ
 ++;

9432 
blk
->
WÜdU£FÏg
[(blk->
addr
>>2) & 7] = 1;

9434 ià(
cŞËù_¡©s
)

9436 
blk
->
¡©e
)

9438 
MESI_SHARED
:

9439 
ı
->
ccLoÿlLßdS
++;

9441 
MESI_EXCLUSIVE
:

9442 
ı
->
ccLoÿlLßdX
++;

9444 
MESI_MODIFIED
:

9445 
ı
->
ccLoÿlLßdM
++;

9451 
ÿche_h™
;

9455 
Wr™e
:

9456 
Ëv–1_d©a_ÿche_acûss_wr™e_num
++;

9457 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9459 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9461 
blk
->
addr
 =‡ddr;

9462 
blk
->
¡©e
)

9464 
MESI_MODIFIED
:

9465 
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_num
++;

9466 iàĞ
blk
->
isL1´eãtch
 )

9468 
	`·nic
("blk can‚ot be dirty‡nd…refetched");

9470 ià(
cŞËù_¡©s
)

9471 
ı
->
ccLoÿlStÜeM
++;

9473 
blk
->
Wr™eCouÁ
 ++;

9474 
blk
->
WÜdU£FÏg
[(blk->
addr
>>2) & 7] = 1;

9475 
ÿche_h™
;

9478 
MESI_SHARED
:

9479 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_num
++;

9480 iàĞ
blk
->
isL1´eãtch
 )

9482 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_FPP_num
++;

9483 
blk
->
isL1´eãtch
 = 0;

9485 ià(
cŞËù_¡©s
)

9486 
ı
->
ccLoÿlStÜeS
++;

9487 ià(
¥ec_b’chm¬ks
)

9488 
	`·nic
 ("The state can‚ever be shared \n");

9490 
blk
->
¡©us
 = 0;

9491 if(
rs
)

9492 
isSyncAcûss
 = 
rs
->
isSyncIn¡
;

9493 if(
l1_wb_’Œy
)

9494 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

9495 
isSyncAcûss
 = 1;

9496 
ev’t
 = (
DIRECTORY_EVENT
 *)

9497 
	`®loÿ‹_ev’t
(
isSyncAcûss
);

9498 ià(!
ev’t
)

9499 
	`çl
("out of virtual memory in calloc dirƒvent");

9501 
¤c
;

9502 if(
my_rs
)

9504 
ev’t
->
İ
 = 
my_rs
->op;

9505 
ev’t
->
isP»ãtch
 = !
my_rs
->
issued
;

9506 
ev’t
->
isSyncAcûss
 = isSyncAccess;

9507 
ev’t
->
¥ec_mode
 = 
my_rs
->spec_mode;

9508 if(
my_rs
->
isSyncIn¡
)

9510 if(
my_rs
->
İ
 =ğ
STL_C
 || my_rs->İ =ğ
STQ_C
)

9512 
ev’t
->
¡Üe_cÚd
 = 
MY_STL_C
;

9513 
SyncStÜeCWr™eUpg¿de
 ++;

9515 if(
my_rs
->
İ
 =ğ
STL
)

9517 
SyncStÜeWr™eUpg¿de
 ++;

9518 
ev’t
->
¡Üe_cÚd
 = 
MY_STL
;

9522 if(
l1_wb_’Œy
)

9524 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

9526 
ev’t
->
¡Üe_cÚd
 = 
MY_STL_C
;

9527 
SyncStÜeCWr™eUpg¿de
 ++;

9532 
ev’t
->
İ
 = 0;

9533 
ev’t
->
isP»ãtch
 = 0;

9534 
ev’t
->
isSyncAcûss
 = 0;

9535 
ev’t
->
¥ec_mode
 = 0;

9537 
ev’t
->
¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

9538 
ev’t
->
¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

9539 #ifdeà
CENTRALIZED_L2


9541 
¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
CENTL2_BANK_NUM
;

9542 
ev’t
->
des1
 = 
mesh_size
 + 2 ;

9543 
ev’t
->
des2
 = 
¤c
;

9546 
¤c
 = (
addr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

9547 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

9548 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

9550 
ev’t
->
¡¬‹d
 = 
now
;

9551 
ev’t
->
¡¬tCyşe
 = 
now
;

9552 
ev’t
->
³ndšg_æag
 = 0;

9553 
ev’t
->
d©a_»¶y
 = 0;

9554 
ev’t
->
»q_time
 = 0;

9556 
missNo
 ++;

9557 
ev’t
->
»£nd
 = 0;

9558 
ev’t
->
chdCouÁ
 = 0;

9559 
ev’t
->
·»Á
 = 
NULL
;

9560 
ev’t
->
İ”©iÚ
 = 
WRITE_UPDATE
;

9562 
b_¡©e
 = -1;

9563 
	`db_acûss
 ( 
th»adid
, 
addr
, &
b_¡©e
 );

9564 
ev’t
->
b_¡©e
 =lb_state;

9565 ifĞ
b_¡©e
 !ğ
SHARED_WRITE
 )

9566 
	`´štf
("WRITE_UPDATE„equest but‚ot SHARED_WRITE");

9567 
SW_wr™e_»que¡_num
++;

9569 if(
cŞËù_¡©s
)

9571 
ı
->
šv®id©iÚs
++;

9572 ifĞ(((
ev’t
->
addr
)>>
ÿche_dl2
->
£t_shiá
)%
numcÚ‹xts
 =ğ
thecÚ‹xts
[
th»adid
]->
aùu®id
) )

9573 
loÿl_ÿche_acûss
++;

9575 
»mÙe_ÿche_acûss
++;

9578 
m_upd©e_miss
[
th»adid
] = 1;

9580 if(
cŞËù_¡©s
)

9581 
tÙ®ev’tcouÁnum
 ++;

9582 if(
cŞËù_¡©s
 && 
ev’t
->
isSyncAcûss
)

9584 
tÙ®SyncWr™eup
 ++;

9585 
tÙ®SyncEv’t
 ++;

9588 
tÙ®NÜm®Ev’t
 ++;

9589 
tÙ®Upg¿des
++;

9590 
ev’t
->
‹mpID
 = 
th»adid
;

9591 
ev’t
->
blk1
 = 
NULL
;

9592 
ev’t
->
addr
 =‡ddr;

9593 
ev’t
->
ı
 = cp;

9594 
ev’t
->
vp
 = 
p
;

9595 
ev’t
->
nby‹s
 =‚bytes;

9596 
ev’t
->
ud©a
 = udata;

9597 
ev’t
->
cmd
 = cmd;

9598 
ev’t
->
rs
 =„s;

9599 
ev’t
->
l1_wb_’Œy
 =†1_wb_entry;

9600 
ev’t
->
missNo
 = missNo;

9601 
ev’t
->
l2Stus
 = 0;

9602 
ev’t
->
l2MissS¹
 = 0;

9603 
ev’t
->
L2miss_æag
 = 0;

9604 
ev’t
->
sh¬”_num
 = 0;

9605 
ev’t
->
dœty_æag
 = 0;

9606 
ev’t
->
¬riv®_time
 = 0;

9607 
ev’t
->
cÚf_b™
 = -1;

9608 
ev’t
->
šput_bufãr_fuÎ
 = 0;

9610 
	`scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

9611 
	`dœ_ev’tq_š£¹
(
ev’t
);

9613 
ev’t_ü—‹d
 = 
ev’t
;

9614 if(
blk
->
isL1´eãtch
)

9615 
L1_´eãtch_wr™—á”
 ++;

9617 
Ït
 =†© + 
WAIT_TIME
;

9618  
Ït
;

9621 
MESI_EXCLUSIVE
:

9622 
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_num
++;

9623 iàĞ
blk
->
isL1´eãtch
 )

9625 
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_FPP_num
++;

9626 
blk
->
isL1´eãtch
 = 0;

9629 ià(
cŞËù_¡©s
)

9630 
ı
->
e_to_m
++;

9631 
e_to_m
 ++;

9632 
tÙ®L1LšeExlU£d
++;

9633 
blk
->
¡©e
 = 
MESI_MODIFIED
;

9634 
blk
->
Wr™eCouÁ
 ++;

9635 
blk
->
WÜdU£FÏg
[(blk->
addr
>>2) & 7] = 1;

9636 
ÿche_h™
;

9639 
	`·nic
 ("Should‚ot be invalid");

9646 
	`·nic
 ("Cacheohe command is‚either„ead‚or write");

9651 
æag
 = 0, 
Ãxt_block
 = 0, 
´e_block
 = 0;

9652 if(!
	`¡rcmp
(
ı
->
Çme
, 
dl1Çme
))

9655 ifĞ
cmd
 =ğ
R—d
 )

9657 
Ëv–1_d©a_ÿche_acûss_»ad_miss_num
++;

9661 
Ëv–1_d©a_ÿche_acûss_wr™e_miss_num
++;

9663 if(
cŞËù_¡©s
)

9665 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9667 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 =ğ0)&& (blk->
¡©e
 =ğ
MESI_INVALID
))

9669 
ı
->
coh”’û_mis£s
 ++;

9670 
æag
 = 1;

9673 if(
æag
 != 1)

9674 
ı
->
ÿ·c™ªû_mis£s
 ++;

9677 if(
rs
)

9678 
isSyncAcûss
 = 
rs
->
isSyncIn¡
;

9679 if(
l1_wb_’Œy
)

9680 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

9681 
isSyncAcûss
 = 1;

9682 
ev’t
 = (
DIRECTORY_EVENT
 *)

9683 
	`®loÿ‹_ev’t
(
isSyncAcûss
);

9685 ià(!
ev’t
)

9686 
	`çl
("out of virtual memory in calloc dirƒvent");

9687 ià(
cmd
 =ğ
R—d
)

9689 
ev’t
->
İ”©iÚ
 = 
MISS_READ
;

9690 
tÙ®misscouÁnum
 ++;

9691 
ev’t
->
isP»ãtch
 = 
rs
->isPrefetch;

9695 
ev’t
->
İ”©iÚ
 = 
MISS_WRITE
;

9696 
tÙ®»qcouÁnum
 ++;

9697 if(
rs
)

9698 
ev’t
->
isP»ãtch
 = !
rs
->
issued
;

9700 
ev’t
->
isP»ãtch
 = 0;

9702 
b_¡©e
 = -1;

9703 
	`db_acûss
 ( 
th»adid
, 
addr
, &
b_¡©e
 );

9704 
ev’t
->
b_¡©e
 =lb_state;

9705 ifĞ
b_¡©e
 =ğ
SHARED_WRITE
 )

9707 if(
cmd
 =ğ
R—d
)

9708 
SW_»ad_»que¡_num
++;

9710 
SW_wr™e_»que¡_num
++;

9712 if(
cŞËù_¡©s
)

9713 
tÙ®ev’tcouÁnum
 ++;

9714 if(
cŞËù_¡©s
 && 
isSyncAcûss
)

9716 
tÙ®SyncEv’t
 ++;

9717 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
)

9718 
tÙ®SyncWr™eM
 ++;

9720 
tÙ®SyncR—dM
 ++;

9723 
tÙ®NÜm®Ev’t
 ++;

9724 
missNo
 ++;

9725 
¤c
;

9726 
ev’t
->
³ndšg_æag
 = 0;

9727 
ev’t
->
İ
 = 
LDQ
;

9728 
ev’t
->
¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

9729 
ev’t
->
¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

9730 #ifdeà
CENTRALIZED_L2


9732 
¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
CENTL2_BANK_NUM
;

9733 
ev’t
->
des1
 = 
mesh_size
 + 2 ;

9734 
ev’t
->
des2
 = 
¤c
;

9737 
¤c
 = (
addr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

9738 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

9739 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

9741 
ev’t
->
¡¬‹d
 = 
now
;

9742 
ev’t
->
¡¬tCyşe
 = 
now
;

9743 if(
rs
)

9745 
ev’t
->
isSyncAcûss
 = isSyncAccess;

9746 
ev’t
->
¥ec_mode
 = 
rs
->spec_mode;

9748 if(
l1_wb_’Œy
)

9750 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

9752 
ev’t
->
isSyncAcûss
 = isSyncAccess;

9753 
ev’t
->
¥ec_mode
 = 0;

9758 
ev’t
->
isSyncAcûss
 = 0;

9759 
ev’t
->
¥ec_mode
 = 0;

9762 if(
cŞËù_¡©s
)

9764 
ı
->
mis£s
 ++;

9765 if((
addr
>>
ÿche_dl2
->
£t_shiá
)%
numcÚ‹xts
 =ğ
thecÚ‹xts
[
th»adid
]->
aùu®id
)

9766 
loÿl_ÿche_acûss
++;

9768 
»mÙe_ÿche_acûss
++;

9771 
ev’t
->
chdCouÁ
 = 0;

9772 
ev’t
->
·»Á
 = 
NULL
;

9773 
ev’t
->
l2Stus
 = 0;

9774 
ev’t
->
l2MissS¹
 = 0;

9775 
ev’t
->
‹mpID
 = 
th»adid
;

9776 
ev’t
->
»£nd
 = 0;

9777 
ev’t
->
blk1
 = 
NULL
;

9778 
ev’t
->
addr
 =‡ddr;

9779 
ev’t
->
ı
 = cp;

9780 
ev’t
->
vp
 = 
p
;

9781 
ev’t
->
nby‹s
 =‚bytes;

9782 
ev’t
->
ud©a
 = udata;

9783 
ev’t
->
cmd
 = cmd;

9784 
ev’t
->
rs
 =„s;

9785 
ev’t
->
l1_wb_’Œy
 =†1_wb_entry;

9786 
ev’t
->
missNo
 = missNo;

9787 
ev’t
->
L2miss_æag
 = 0;

9788 
ev’t
->
sh¬”_num
 = 0;

9789 
ev’t
->
´eãtch_Ãxt
 = 0;

9790 
ev’t
->
dœty_æag
 = 0;

9791 
ev’t
->
¬riv®_time
 = 0;

9792 
ev’t
->
cÚf_b™
 = -1;

9793 
ev’t
->
d©a_»¶y
 = 0;

9794 
ev’t
->
»q_time
 = 0;

9795 if(
my_rs
)

9797 if(
my_rs
->
isSyncIn¡
 && my_rs->
İ
 =ğ
LDL
)

9799 
SyncLßdR—dMiss
 ++;

9800 
ev’t
->
¡Üe_cÚd
 = 
MY_LDL
;

9802 if(
my_rs
->
İ
 =ğ
LDL_L
)

9804 
SyncLßdLR—dMiss
 ++;

9805 
ev’t
->
¡Üe_cÚd
 = 
MY_LDL_L
;

9807 if(
my_rs
->
İ
 =ğ
STL_C
)

9809 
SyncStÜeCWr™eMiss
 ++;

9810 
ev’t
->
¡Üe_cÚd
 = 
MY_STL_C
;

9812 if(
my_rs
->
isSyncIn¡
 && my_rs->
İ
 =ğ
STL
)

9814 
SyncStÜeWr™eMiss
 ++;

9815 
ev’t
->
¡Üe_cÚd
 = 
MY_STL
;

9819 if(
l1_wb_’Œy
)

9821 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

9823 
SyncStÜeCWr™eMiss
 ++;

9824 
ev’t
->
¡Üe_cÚd
 = 
MY_STL_C
;

9830 #ifdeà 
L1_STREAM_PREFETCHER


9832 ià(!
dl1_´eãtch_aùive
)

9834 if(
rs
)

9836 if(!
rs
->
isSyncIn¡
)

9837 
	`l1š£¹_¥
 (
addr
, 
th»adid
);

9840 
	`l1š£¹_¥
 (
addr
, 
th»adid
);

9844 
ev’t_ü—‹d
 = 
ev’t
;

9845 
ev’t
->
šput_bufãr_fuÎ
 = 0;

9846 
	`scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

9848 
	`dœ_ev’tq_š£¹
(
ev’t
);

9849  
WAIT_TIME
;

9851 if(!
	`¡rcmp
 (
ı
->
Çme
, "il1"))

9853 
ev’t
 = (
DIRECTORY_EVENT
 *)

9854 
	`®loÿ‹_ev’t
(0);

9856 ià(!
ev’t
)

9857 
	`çl
("out of virtual memory in calloc dirƒvent");

9858 if(
cmd
 =ğ
Wr™e
)

9859 
	`·nic
("Il1‡ccess could-not†eado Write command");

9861 
¤c
;

9862 
ev’t
->
İ
 = 
LDQ
;

9863 
ev’t
->
³ndšg_æag
 = 0;

9864 
ev’t
->
İ”©iÚ
 = 
MISS_IL1
;

9865 
ev’t
->
isP»ãtch
 = 0;

9866 
ev’t
->
¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

9867 
ev’t
->
¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

9868 #ifdeà
CENTRALIZED_L2


9870 
¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
CENTL2_BANK_NUM
;

9871 
ev’t
->
des1
 = 
mesh_size
 + 2 ;

9872 
ev’t
->
des2
 = 
¤c
;

9875 
¤c
 = (
addr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

9876 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

9877 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

9879 
ev’t
->
¡¬‹d
 = 
now
;

9880 
ev’t
->
¡¬tCyşe
 = 
now
;

9881 
ev’t
->
d©a_»¶y
 = 0;

9882 
ev’t
->
»q_time
 = 0;

9884 if(
cŞËù_¡©s
)

9886 
ı
->
mis£s
 ++;

9887 if((
addr
>>
ÿche_dl2
->
£t_shiá
)%
numcÚ‹xts
 =ğ
thecÚ‹xts
[
th»adid
]->
aùu®id
)

9888 
loÿl_ÿche_acûss
++;

9890 
»mÙe_ÿche_acûss
++;

9893 
ev’t
->
chdCouÁ
 = 0;

9894 
ev’t
->
·»Á
 = 
NULL
;

9895 
ev’t
->
l2Stus
 = 0;

9896 
ev’t
->
l2MissS¹
 = 0;

9897 
ev’t
->
‹mpID
 = 
th»adid
;

9898 
ev’t
->
»£nd
 = 0;

9899 
ev’t
->
blk1
 = 
NULL
;

9900 
ev’t
->
addr
 =‡ddr;

9901 
ev’t
->
ı
 = cp;

9902 
ev’t
->
vp
 = 
p
;

9903 
ev’t
->
nby‹s
 =‚bytes;

9904 
ev’t
->
ud©a
 = udata;

9905 
ev’t
->
cmd
 = cmd;

9906 
ev’t
->
rs
 = 
NULL
;

9907 
ev’t
->
l1_wb_’Œy
 =†1_wb_entry;

9908 
missNo
 ++;

9909 
ev’t
->
missNo
 = missNo;

9910 
ev’t
->
L2miss_æag
 = 0;

9911 
ev’t
->
sh¬”_num
 = 0;

9912 
ev’t
->
dœty_æag
 = 0;

9913 
ev’t
->
¬riv®_time
 = 0;

9914 
ev’t
->
cÚf_b™
 = -1;

9915 
ev’t
->
šput_bufãr_fuÎ
 = 0;

9917 
	`scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

9919 
	`dœ_ev’tq_š£¹
(
ev’t
);

9920 
ev’t_ü—‹d
 = 
ev’t
;

9921 
thecÚ‹xts
[
th»adid
]->
ev’t
 =ƒvent;

9922  
WAIT_TIME
;

9924 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dtlb"))

9927 
ev’t
 = (
DIRECTORY_EVENT
 *)

9928 
	`®loÿ‹_ev’t
(0);

9929 ià(!
ev’t
)

9930 
	`çl
("out of virtual memory in calloc dirƒvent");

9931 
¤c
;

9932 
ev’t
->
İ
 = 
LDQ
;

9933 
ev’t
->
³ndšg_æag
 = 0;

9934 
ev’t
->
İ”©iÚ
 = 
SHR_TLB_MISS
;

9935 
ev’t
->
isP»ãtch
 = 0;

9936 
ev’t
->
¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

9937 
ev’t
->
¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

9938 
¤c
 = 0;

9939 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

9940 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

9941 
ev’t
->
¡¬‹d
 = 
now
;

9942 
ev’t
->
¡¬tCyşe
 = 
now
;

9943 
ev’t
->
d©a_»¶y
 = 0;

9944 
ev’t
->
»q_time
 = 0;

9945 
ev’t
->
chdCouÁ
 = 0;

9946 
ev’t
->
·»Á
 = 
NULL
;

9947 
ev’t
->
l2Stus
 = 0;

9948 
ev’t
->
l2MissS¹
 = 0;

9949 
ev’t
->
‹mpID
 = 
th»adid
;

9950 
ev’t
->
»£nd
 = 0;

9951 
ev’t
->
blk1
 = 
NULL
;

9952 
ev’t
->
addr
 =‡ddr;

9953 
ev’t
->
ı
 = cp;

9954 
ev’t
->
vp
 = 
p
;

9955 
ev’t
->
nby‹s
 =‚bytes;

9956 
ev’t
->
ud©a
 = udata;

9957 
ev’t
->
cmd
 = cmd;

9958 
ev’t
->
rs
 = 
NULL
;

9959 
missNo
 ++;

9960 
ev’t
->
missNo
 = missNo;

9961 
ev’t
->
¥ec_mode
 = 
thecÚ‹xts
[
th»adid
]->spec_mode;

9962 
ev’t
->
L2miss_æag
 = 0;

9963 
ev’t
->
sh¬”_num
 = 0;

9964 
ev’t
->
dœty_æag
 = 0;

9965 
ev’t
->
¬riv®_time
 = 0;

9966 
ev’t
->
cÚf_b™
 = -1;

9967 
ev’t
->
šput_bufãr_fuÎ
 = 0;

9969 
	`scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

9971 
	`dœ_ev’tq_š£¹
(
ev’t
);

9972 
ev’t_ü—‹d
 = 
ev’t
;

9973 
thecÚ‹xts
[
th»adid
]->
ev’t
 =ƒvent;

9974  
WAIT_TIME
;

9980 
ı
->
pŞicy
)

9982 
LRU
:

9983 
FIFO
:

9984 
»¶
 = 
ı
->
£ts
[
£t
].
way_
;

9985 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
»¶
, 
H—d
);

9987 
Rªdom
:

9989 
bšdex
 = 
	`my¿nd
 (è& (
ı
->
assoc
 - 1);

9991 
»¶
 = 
	`CACHE_BINDEX
 (
ı
, cp->
£ts
[
£t
].
blks
, 
bšdex
);

9995 
	`·nic
 ("bogus„eplacement…olicy");

9999 ià(
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

10002 ià(
cŞËù_¡©s
)

10003 
ı
->
mis£s
++;

10006 ià(
ı
->
hsize
)

10007 
	`uÆšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

10010 
ı
->
Ï¡_g£tid
.
g
 = 0;

10011 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

10012 
ı
->
Ï¡_blk
 = 
NULL
;

10014 
Ït
 +ğ
ı
->
h™_Ï‹ncy
;

10017 ià(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

10019 ià(
cŞËù_¡©s
)

10020 
ı
->
»¶aûm’ts
++;

10022 ià(
»¶_addr
)

10023 *
»¶_addr
 = 
	`CACHE_MK_BADDR
 (
ı
, 
»¶
->
gid
.
g
, 
£t
);

10026 
Ït
 +ğ
	`BOUND_POS
 (
»¶
->
»ady
 - 
now
);

10028 ià((
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
))

10031 ià(
cŞËù_¡©s
)

10033 
ı
->
wr™ebacks
++;

10034 
ı
->
wrb
++;

10036 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
Wr™e
, 
	`CACHE_MK_BADDR
 (ı, 
»¶
->
gid
.
g
, 
£t
), cp->
bsize
,„•l, 
now
 +†©,„•l->gid.
th»adid
);

10041 
»¶
->
gid
.
g
 =ag;

10042 
»¶
->
gid
.
th»adid
 =hreadid;

10043 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

10044 
»¶
->
addr
 =‡ddr;

10045 
»¶
->
lšeVŞ©e
 = 0;

10046 
»¶
->
wÜdVŞ©e
 = 0;

10047 
»¶
->
wÜdInv®id
 = 0;

10048 
»¶
->
isSË
 = 0;

10052 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
cmd
, 
g
, cp->
bsize
, 
»¶
, 
now
 +†©, 
th»adid
);

10055 ià(
ı
->
b®loc
 && 
p
)

10057 
	`CACHE_BCOPY
 (
cmd
, 
»¶
, 
bofs
, 
p
, 
nby‹s
);

10061 ià(
cmd
 =ğ
Wr™e
)

10063 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

10066 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl2"))

10068 ià(
cmd
 =ğ
Wr™e
)

10070 
wm2
++;

10074 
rm2
++;

10079 ià(
ud©a
)

10080 *
ud©a
 = 
»¶
->
u£r_d©a
;

10083 
»¶
->
»ady
 = 
now
 + 
Ït
;

10085 ià(
ı
->
hsize
)

10086 
	`lšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

10089  
Ït
;

10093 
	`·nic
(" DL1‡ccess could‚ot ENTERhis…art ofhe code ");

10096 
ÿche_h™
:

10098 if(!
	`¡rcmp
 (
ı
->
Çme
, "dtlb"))

10100 iàĞ
cmd
 =ğ
R—d
 )

10101  
ı
->
h™_Ï‹ncy
;

10104 if(
blk
->
¡©e
 =ğ
PRIVATE_READ
)

10106 
blk
->
¡©e
 = 
PRIVATE_WRITE
;

10107  
ı
->
h™_Ï‹ncy
;

10109 ià(
blk
->
¡©e
 =ğ
SHARED_READ
)

10112 
	`b_cu_®loÿ‹
(
th»adid
, 
SHR_TLB_SR_RECOVERY
, 
g
, 
NULL
);

10113 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = (DIRECTORY_EVENT *è
	`®loÿ‹_ev’t
(0);

10114 ià(!
Ãw_ev’t
)

10115 
	`çl
("out of virtual memory in calloc dirƒvent");

10116 
¤c
;

10117 
Ãw_ev’t
->
İ”©iÚ
 = 
SHR_TLB_SR_RECOVERY
;

10118 
Ãw_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

10119 
Ãw_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

10120 
¤c
 = 0;

10121 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

10122 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

10123 
Ãw_ev’t
->
¡¬‹d
 = 
now
;

10124 
Ãw_ev’t
->
¡¬tCyşe
 = 
now
;

10125 
Ãw_ev’t
->
‹mpID
 = 
th»adid
;

10126 
Ãw_ev’t
->
addr
 =‡ddr;

10128 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

10129 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

10130  (
ı
->
h™_Ï‹ncy
+1);

10133  
ı
->
h™_Ï‹ncy
;

10137 ià(
cŞËù_¡©s
)

10138 
ı
->
h™s
++;

10141 ià(
ı
->
b®loc
 && 
p
)

10143 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
);

10147 ià(
cmd
 =ğ
Wr™e
)

10148 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

10149 
blk
->
isSË
 = 0;

10152 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

10154 ià(
cmd
 =ğ
Wr™e
)

10155 
wh1
++;

10157 
rh1
++;

10159 if(
my_rs
)

10161 if(
my_rs
->
isSyncIn¡
 && my_rs->
İ
 =ğ
LDL
)

10162 
SyncLßdH™
 ++;

10163 if(
my_rs
->
İ
 =ğ
LDL_L
)

10164 
SyncLßdLH™
 ++;

10165 if(
my_rs
->
İ
 =ğ
STL_C
)

10166 
SyncStÜeCH™
 ++;

10167 if(
my_rs
->
isSyncIn¡
 && my_rs->
İ
 =ğ
STL
)

10168 
SyncStÜeH™
 ++;

10171 if(
l1_wb_’Œy
)

10172 if(
l1_wb_’Œy
->
İ
 =ğ
STL_C
)

10173 
SyncStÜeCH™
 ++;

10176 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl2"))

10178 ià(
cmd
 =ğ
Wr™e
)

10179 
wh2
++;

10181 
rh2
++;

10183 #ifdeà
STREAM_PREFETCHER


10184 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl2"è&& 
blk
->
¥Tag
 && !
dl2_´eãtch_aùive
)

10186 
	`Ïunch_¥
(
blk
->
¥Tag
-1, 
th»adid
);

10188 
blk
->
¥Tag
 = 0;

10191 ià(
blk
->
way_´ev
 && 
ı
->
pŞicy
 =ğ
LRU
)

10193 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
blk
, 
H—d
);

10199 
ı
->
Ï¡_g£tid
.
g
 = 
	`CACHE_TAGSET
 (ı, 
addr
);

10200 
ı
->
Ï¡_g£tid
.
th»adid
 =hreadid;

10201 
ı
->
Ï¡_blk
 = 
blk
;

10204 ià(
ud©a
)

10205 *
ud©a
 = 
blk
->
u£r_d©a
;

10207 if((è
	`max2
 ((
ı
->
h™_Ï‹ncy
 + 
Ït
), (
blk
->
»ady
 - 
now
)è> 
WAIT_TIME
)

10208 
	`·nic
("Cache Hit†atencyoo†arge\n");

10211  (è
	`max2
 ((
ı
->
h™_Ï‹ncy
 + 
Ït
), (
blk
->
»ady
 - 
now
));

10213 
	}
}

10215 
	$ÿche_w¬mup
 (
ÿche_t
 *
ı
,

10216 
mem_cmd
 
cmd
,

10217 
md_addr_t
 
addr
,

10218 
nby‹s
,

10219 
th»adid
)

10224 
	}
}

10243 
	$ÿche_´št
 (
ÿche_t
 *
ı1
, ÿche_ˆ*
ı2
)

10245 
	`årštf
 (
¡d”r
, "ZZ L1D stats\n");

10246 
	`årštf
 (
¡d”r
, "ZZ %ld %ld %ld %ld %lu\n", 
rm1
, 
rh1
, 
wm1
, 
wh1
, (è
ı1
->
wr™ebacks
);

10247 
	`årštf
 (
¡d”r
, "ZZ UL2 stats\n");

10248 ià(
ı2
)

10249 
	`årštf
 (
¡d”r
, "ZZ %ld %ld %ld %ld %lu\n", 
rm2
, 
rh2
, 
wm2
, 
wh2
, (è
ı2
->
wr™ebacks
);

10250 
	}
}

10254 
	$sim¶e_ÿche_æush
 (
ÿche_t
 *
ı
)

10256 
i
, 
numæush
;

10257 
ÿche_blk_t
 *
blk
;

10259 #ifdeà
TOKENB


10260 
	`çl
 ("needo updatehis funco‡ccount for TOKENB coherence.");

10263 
numæush
 = 0;

10264 
i
 = 0; i < 
ı
->
n£ts
; i++)

10266 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

10268 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

10271 
blk
->
¡©us
 = 0;

10272 
blk
->
isSË
 = 0;

10274 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

10276 ià(
cŞËù_¡©s
)

10277 
ı
->
wr™ebacks
++;

10278 
numæush
++;

10284  
numæush
;

10285 
	}
}

10289 
	$ÿche_æush
 (
ÿche_t
 *
ı
,

10290 
tick_t
 
now
)

10293 
i
, 
Ït
 = 
ı
->
h™_Ï‹ncy
;

10294 
ÿche_blk_t
 *
blk
;

10297 
ı
->
Ï¡_g£tid
.
g
 = 0;

10298 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

10299 
ı
->
Ï¡_blk
 = 
NULL
;

10302 
i
 = 0; i < 
ı
->
n£ts
; i++)

10304 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

10306 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

10310 
blk
->
¡©us
 = 0;

10311 
blk
->
isSË
 = 0;

10312 
blk
->
¡©e
 = 
MESI_INVALID
;

10313 
blk
->
švCau£
 = 0;

10317  
Ït
;

10318 
	}
}

10322 
	$ÿcheBcİy
 (
mem_cmd
 
cmd
, 
ÿche_blk_t
 *
blk
, 
pos™iÚ
, 
by‹_t
 * 
d©a
, 
nby‹s
)

10324 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
pos™iÚ
, 
d©a
, 
nby‹s
);

10325 
	}
}

10327 
	$isCacheH™
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
)

10329 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"è&& cp->
th»adid
 !=hreadid)

10330 
	`·nic
 ("Wrond DL1 cache being called in cache‡ccess\n");

10332 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

10333 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

10334 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

10335 
ÿche_blk_t
 *
blk
;

10337 ià(
ı
->
hsize
)

10340 
hšdex
 = (è
	`CACHE_HASH
 (
ı
, 
g
);

10342 
blk
 = 
ı
->
£ts
[
£t
].
hash
[
hšdex
]; blk; blk = blk->
hash_Ãxt
)

10344 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

10351 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

10353 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

10358 
	}
}

10360 #ià 
defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

10362 
	$busIn™
 ()

10364 
i
, 
j
;

10366 
j
 = 
BUSSLOTS
 * 
NUMBEROFBUSES
;

10368 
bs_nd
 *
lšk
;

10370 
busNodePoŞ
 = 
NULL
;

10372 
i
 = 0; i < 
j
; i++)

10374 
lšk
 = 
	`ÿÎoc
 (1,  (
bs_nd
));

10375 ià(!
lšk
)

10376 
	`çl
 ("out of virtual memory");

10377 
lšk
->
Ãxt
 = 
busNodePoŞ
;

10378 
busNodePoŞ
 = 
lšk
;

10380 #ifdeà
BUS_INTERCONNECT


10381 
i
 = 0; i < 
NUMBEROFBUSES
; i++)

10382 
busNodesInU£
[
i
] = 
NULL
;

10384 
	}
}

	@cache.h

124 #iâdeà
CACHE_H


125 
	#CACHE_H


	)

127 
	~<¡dio.h
>

129 
	~"ho¡.h
"

130 
	~"misc.h
"

131 
	~"machše.h
"

132 
	~"memÜy.h
"

133 
	~"¡©s.h
"

135 
	~"smt.h
"

136 
	~"š‹rcÚÃù.h
"

137 
	~"sim-outÜd”.h
"

139 
	#PAGE_NUM
 (128*1024)

	)

140 
	#MAX_DIRECTORY_ASSOC
 16

	)

145 
	#SILENT_DROP


	)

149 
	#OPTIMIZED_OPTICAL_NETWORK


	)

151 
	#MESH_NETWORK


	)

154 #ifdeà
MESH_NETWORK


155 
	#POPNET


	)

158 
	#MULTI_VC


	)

162 #ifdeà
BASELINE_OPTICAL_NETWORK


163 
	#OPTICAL_INTERCONNECT


	)

169 #ifdeà
OPTIMIZED_OPTICAL_NETWORK


170 
	#OPTICAL_INTERCONNECT


171 

	)

173 
	#INV_ACK_CON


174 
	#WB_SPLIT_NET


175 

	)

180 
	#TSHR


	)

183 #ifdeà
CACHE_COHERENCE_OPTIMIZATION


184 #ifdeà
RELAXED_CONSISTENCY


185 
	#SERIALIZATION_ACK


	)

186 
	#READ_PERMIT


	)

187 #ifdeà
OPTICAL_INTERCONNECT


188 
	#EUP_NETWORK


	)

194 #ifdeà
POPNET


195 
Ord”BufRemove
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
couÁ”_t
 
msgno
);

196 
Ord”BufIn£¹
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
vc
, 
couÁ”_t
 
msgno
);

200 
muÉi_blk_£t_shiá
;

202 
couÁ”_t
 
	g³ndšg_šv®id©iÚ
[
MAXTHREADS
];

203 
couÁ”_t
 
	g³ndšg_šv®id_¡¬t_cyşes
[
MAXTHREADS
];

204 
couÁ”_t
 
	g³ndšg_šv®id_cyşes
;

207 
	gd©a_·ck‘_size
;

208 
	gm‘a_·ck‘_size
;

209 
couÁ”_t
 
´eãtch_num
;

210 
couÁ”_t
 
v”i_»¶aû
;

211 #ifdeà
POPNETn


212 
	gd©a_·ck‘_size
 = 5;

213 
	gm‘a_·ck‘_size
 = 1;

216 
	#DCACHE_MSHR


	)

218 
	#WAIT_TIME
 800000000

	)

219 
	#RETRY_TIME
 1

	)

220 #ifdeà 
DCACHE_MSHR


221 
	#TLB_MSHR_SIZE
 32

	)

222 
	#MSHR_SIZE
 32

	)

223 
	#L2_MSHR_SIZE
 48

	)

224 
	#MSHR_OC_SIZE
 15

	)

226 #ifdeà
CONF_RES_RESEND


227 
	#QUEUE_SIZE
 100

	)

230 
	#LSQSIZE
 1024

	)

231 
	#RUUSIZE
 1024

	)

235 
	smshr_’Œy_t


237 
	mid
;

238 
	misV®id
;

239 
md_addr_t
 
	maddr
;

240 
couÁ”_t
 
	m¡¬tCyşe
;

241 
couÁ”_t
 
	m’dCyşe
;

242 
	mblocknum
;

243 
	misOC
;

244 
RUU_¡©iÚ
 *
	mrs
;

245 
DIRECTORY_EVENT
 *
	mev’t
;

248 
	smshr_t


250 
	mth»adid
;

251 
mshr_’Œy_t
 
	mmshrEÁry
[
L2_MSHR_SIZE
];

252 
	mä“EÁr›s
;

253 
	mä“OCEÁr›s
;

254 
	mmshrSIZE
;

257 
md_addr_t
 
	gwb_bufãr
[
MAXTHREADS
][
MSHR_SIZE
];

258 
š™MSHR
(
mshr_t
 *
mshr
, 
æag
);

259 
ä“MSHR
(
mshr_t
 *
mshr
);

260 
b_æush_check
(
th»adid
);

261 
isMSHRFuÎ
(
mshr_t
 *
mshr
, 
isOC
, 
th»adid
);

262 
MSHRLookup
(
mshr_t
 *
mshr
, 
md_addr_t
 
addr
, 
Ït
, 
isOC
, 
RUU_¡©iÚ
 *
rs
);

267 
	#MEM_MODEL


268 
	#STREAM_PREFETCHER


269 
	#L1_STREAM_PREFETCHER


	)

270 
	#L1_DISTANCE


	)

273 
	#READ_EXCLUSION


274 

	)

275 #ifdeà 
STREAM_PREFETCHER


276 
	#L1_MISS_TABLE_SIZE
 32

	)

277 
	#L1_STREAM_ENTRIES
 16

	)

278 
	#L2_MISS_TABLE_SIZE
 16

	)

279 
	#L2_STREAM_ENTRIES
 8

	)

280 
	#PREFETCH_REPLACE_HISTORY
 1

	)

281 
	#REPLACE_HISTORY
 8

	)

282 
	#COHERENCE_HISTORY
 8

	)

284 
	sL1_miss_hi¡Üy_bË_t


286 
md_addr_t
 
	mhi¡Üy
[
L1_MISS_TABLE_SIZE
];

287 
	mmht_
;

288 
	mmht_num
;

291 
	sL2_miss_hi¡Üy_bË_t


293 
md_addr_t
 
	mhi¡Üy
[
L2_MISS_TABLE_SIZE
];

294 
	mmht_
;

295 
	mmht_num
;

298 
	s¡»am_bË_’Œy_t


300 
	mv®id
;

301 
	mÜd”
;

302 
md_addr_t
 
	maddr
;

303 
	m¡ride
;

304 
	m»maššg_´eãtches
;

305 
couÁ”_t
 
	mÏ¡_u£
;

308 
L2_miss_hi¡Üy_bË_t
 
	gmiss_hi¡Üy_bË
;

309 
¡»am_bË_’Œy_t
 
	g¡»am_bË
[
L2_STREAM_ENTRIES
];

311 
š™_¥
();

312 
š£¹_¥
(
md_addr_t
 
addr
, 
th»adid
);

313 
Ïunch_¥
(
id
, 
th»adid
);

315 #ifdeà
L1_STREAM_PREFETCHER


316 
L1_miss_hi¡Üy_bË_t
 
	gl1miss_hi¡Üy_bË
[
MAXTHREADS
];

317 
¡»am_bË_’Œy_t
 
	gl1¡»am_bË
[
MAXTHREADS
][
L1_STREAM_ENTRIES
];

319 
l1š™_¥
();

320 
l1š£¹_¥
(
md_addr_t
 
addr
, 
th»adid
);

321 
l1Ïunch_¥
(
md_addr_t
 
addr
, 
th»adid
, 
Œigg”
);

324 #ifdeà
CROSSBAR_INTERCONNECT


325 
	#NUMBEROFBUSES
 8

	)

329 #ifdeà
BUS_INTERCONNECT


330 
	#NUMBEROFBUSES
 1

	)

332 
	#BUSSLOTS
 2048

	)

333 
	sbs_nd


335 
	m¡¬tTime
, 
	m’dTime
;

336 
	macûssTy³
, 
	mth»adid
;

337 
bs_nd
 *
	mÃxt
;

376 
	#CACHE_HIGHLY_ASSOC
(
ı
è((ı)->
assoc
 > 4)

	)

379 
	#CACHE_TAG
(
ı
, 
addr
è(×ddrè>> (ı)->
g_shiá
)

	)

380 
	#CACHE_SET
(
ı
, 
addr
è((×ddrè>> (ı)->
£t_shiá
è& (ı)->
£t_mask
)

	)

382 
	#CACHE_QBLK_TAG
(
ı
, 
addr
è(×ddrè>> ((ı)->
g_shiá
+
muÉi_blk_£t_shiá
))

	)

383 
	#CACHE_QBLK_SET
(
ı
, 
addr
è((×ddrè>> ((ı)->
£t_shiá
)+
muÉi_blk_£t_shiá
è& (ı)->
£t_mask
)

	)

385 
	#CACHE_BLK
(
ı
, 
addr
è(×ddrè& (ı)->
blk_mask
)

	)

386 
	#CACHE_TAGSET
(
ı
, 
addr
è(×ddrè& (ı)->
g£t_mask
)

	)

389 
	eÿche_pŞicy
 {

390 
	mLRU
,

391 
	mRªdom
,

392 
	mFIFO


395 
	#STREAM_MIN
 1

	)

398 
	#CACHE_BLK_VALID
 0x00000001

	)

399 
	#CACHE_BLK_DIRTY
 0x00000002

	)

400 
	#CACHE_BLK_WVALID
 0x00000004

	)

401 
	#MESI_INVALID
 1

	)

402 
	#MESI_SHARED
 2

	)

403 
	#MESI_MODIFIED
 3

	)

404 
	#MESI_EXCLUSIVE
 4

	)

406 
	#MESI_NONSHARED
 5

	)

408 
	#WRITE_HIT_SHARED
 1

	)

411 
	#LOCAL
 1

	)

419 
	#NON_SHARED
 1

	)

420 
	#SHARED
 2

	)

421 
	#EXCLUSIVE_O_DIRTY
 3

	)

422 
	#MISS
 4

	)

423 
	#MISS_REPLACE
 5

	)

426 
	#READ_MATCH
 1

	)

427 
	#WRITE_MATCH
 2

	)

428 
	#L1_REPLACED
 3

	)

429 
	#L2_OVERLAP
 4

	)

430 
	#L2_REPLACED
 5

	)

431 
	#DROPPED
 6

	)

433 
	#L2_DROP
 0

	)

435 
	#PREFETCH_NUM
 20000000

	)

437 
	#TLB_CU_SIZE
 32

	)

439 
	#PRIVATE_READ
 1

	)

440 
	#PRIVATE_WRITE
 2

	)

441 
	#SHARED_READ
 3

	)

442 
	#SHARED_WRITE
 4

	)

444 
	#PAGE_TABLE_SEARCH
 300

	)

445 
	#FLUSH_OVERHEAD
 100

	)

447 
	#QBLK_SET_SHIFT
 2

	)

449 
	#IDEAL_CASE
 1

	)

451 
	#MISS_IL1
 2

	)

452 
	#MISS_READ
 3

	)

453 
	#MISS_WRITE
 4

	)

454 
	#WRITE_UPDATE
 5

	)

455 
	#WRITE_BACK
 6

	)

456 
	#WRITE_BACK_HEAD
 7

	)

457 
	#WRITE_BACK_REPLY
 8

	)

458 
	#UPDATE_DIR
 9

	)

459 
	#INV_MSG_READ
 10

	)

460 
	#INV_MSG_WRITE
 11

	)

461 
	#ACK_MSG_READ
 12

	)

462 
	#ACK_MSG_READUPDATE
 13

	)

463 
	#ACK_MSG_WRITE
 14

	)

464 
	#ACK_MSG_WRITEUPDATE
 15

	)

465 
	#ACK_DIR_IL1
 16

	)

466 
	#ACK_DIR_READ_SHARED
 17

	)

467 
	#ACK_DIR_READ_EXCLUSIVE
 18

	)

468 
	#ACK_DIR_WRITE
 19

	)

469 
	#ACK_DIR_WRITE_EARLY
 20

	)

470 
	#ACK_DIR_WRITEUPDATE
 21

	)

471 
	#WAIT_MEM_READ
 22

	)

472 
	#WAIT_MEM_READ_N
 23

	)

473 
	#L2_PREFETCH
 24

	)

474 
	#NACK
 25

	)

475 
	#FAIL
 26

	)

476 
	#FINAL_INV_ACK
 27

	)

477 
	#MEM_READ_REQ
 28

	)

478 
	#MEM_READ_REPLY
 29

	)

479 
	#WAIT_MEM_READ_N_WAIT
 30

	)

480 
	#MEM_WRITE_BACK
 31

	)

481 
	#MEM_PACK_HEAD
 32

	)

482 
	#MEM_PACK_REPLY
 33

	)

483 
	#FINAL_READ_ACK
 34

	)

484 
	#ACK_MSG_UPDATE
 35

	)

485 
	#INV_MSG_UPDATE
 36

	)

487 
	#SHR_TLB_MISS
 50

	)

488 
	#SHR_TLB_WRITE_BACK
 51

	)

489 
	#SHR_TLB_SR_RECOVERY
 52

	)

490 
	#SHR_TLB_UPDATE_PR_ACK
 53

	)

491 
	#SHR_TLB_UPDATE_PW_ACK
 54

	)

492 
	#SHR_TLB_RECOVERY_ACK
 55

	)

493 
	#DIR_TLB_REFILL
 56

	)

494 
	#DIR_TLB_UPDATE
 57

	)

495 
	#DIR_TLB_RECOVERY
 58

	)

496 
	#DIR_TLB_REFILL_WAIT
 59

	)

497 
	#DIR_TLB_UPDATE_WAIT
 60

	)

498 
	#DIR_TLB_RECOVERY_WAIT
 61

	)

500 
	#DIR_SHR_READ
 62

	)

501 
	#ACK_SHR_READ
 63

	)

502 
	#INFORM_BACK
 64

	)

504 
	#VEC_DEGRADE
 65

	)

507 
	#DIR_STABLE
 1

	)

508 
	#DIR_TRANSITION
 2

	)

509 
	#INV_TYPE
 3

	)

510 
	#REPL_TYPE
 4

	)

512 
	#REQ_PACKET
 1

	)

513 
	#DATA_PACKET
 4

	)

516 
	#LINE_PREFETCH
 1

	)

517 
	#LINE_READ
 2

	)

518 
	#LINE_WRITE
 3

	)

521 
	#LINE_READ_OP
 1

	)

522 
	#LINE_WRITE_OP
 2

	)

525 
	#MY_NORMAL
 0

	)

526 
	#MY_LDL
 1

	)

527 
	#MY_LDL_L
 2

	)

528 
	#MY_STL_C
 3

	)

529 
	#MY_STL
 4

	)

532 #ifdeà
SMT_SS


533 
	sg_id_t


535 
	mth»adid
;

536 
md_addr_t
 
	mg
;

540 #ifdeà
EVENT_CACHE_UPDATE


541 
	smshrq
 {

543 
	mwh’
;

544 
	mrd_wt
;

545 
md_addr_t
 
	maddr
;

546 
mshrq
 *
	mÃxt
;

547 
mshrq
 *
	m´ev
;

554 
	s´eãtch_»¶aû_hi¡Üy_t


556 
md_addr_t
 
	m´eãtch_»¶aû_addr
;

557 
couÁ”_t
 
	mpİÃtMsgNo
;

560 
	slše_šfo


562 
	mlše_owÃr
;

563 
	mlše_¡©e
;

566 
	s·ge_’Œy


568 
	mv®id
;

569 
	mbusy
;

570 
md_addr_t
 
	mVPN
;

571 
md_addr_t
 
	mPPN
;

572 
	mk“³r
;

573 
	mÿched
;

574 
	m¡©e
;

575 
lše_šfo
 *
	mlše_h—d
;

578 
·ge_’Œy
 *
	g·ge_bË
[
PAGE_NUM
];

580 
	sb_rs


582 
RUU_¡©iÚ
 *
	mrs
;

583 
b_rs
 *
	mÃxt
;

586 
	sb_mshr_’Œy


588 
	mv®id
;

589 
	mdœty
;

590 
	meviùšg
;

591 
md_addr_t
 
	mVPN
;

592 
b_rs
 *
	mh—d
;

595 
b_mshr_’Œy
 *
	gb_mshr
[
MAXTHREADS
][
TLB_MSHR_SIZE
];

597 
	spw_eviù_’Œy


599 
	mv®id
;

600 
md_addr_t
 
	mVPN
;

603 
	s¤_»cov”y_’Œy


605 
	mv®id
;

606 
md_addr_t
 
	mVPN
;

609 
	sdœ_»cov”y_’Œy


611 
	mv®id
;

612 
DIRECTORY_EVENT
 *
	mev’t
;

615 
	sb_cu_blk


617 
	m»cov”_d–ay
;

618 
pw_eviù_’Œy
 
	mpw_eviù
[
TLB_CU_SIZE
];

619 
¤_»cov”y_’Œy
 
	m¤_»cov”y
[
TLB_CU_SIZE
];

620 
dœ_»cov”y_’Œy
 
	mdœ_»cov”y
[
TLB_CU_SIZE
];

623 
b_cu_blk
 *
	gb_cu
[
MAXTHREADS
];

626 
	sÿche_blk_t


628 
ÿche_blk_t
 *
	mway_Ãxt
;

630 
ÿche_blk_t
 *
	mway_´ev
;

631 
ÿche_blk_t
 *
	mhash_Ãxt
;

635 #ifdeà
SMT_SS


636 
g_id_t
 
	mgid
;

638 
md_addr_t
 
	mg
;

640 
	m¡©us
;

642 
	mb_¡©e
;

643 
	mb_lock
;

646 
	m±r_’
;

647 
	m®l_sh¬ed_’
;

650 
md_addr_t
 
	mqblk_£t_shiá
;

652 
tick_t
 
	m»ady
;

655 
	m¡©e
;

656 
	misSË
;

657 
md_addr_t
 
	maddr
;

659 
	mÏ¡Thrd
;

660 
	mv®ue
;

661 
	mlšeVŞ©e
;

662 
	mwÜdVŞ©e
, 
	mwÜdInv®id
;

663 
	m•ochModif›d
;

664 
	misL1´eãtch
;

665 
	mdœ_¡©e
[8];

666 
	mdœ_sh¬”
[8][8];

667 
couÁ”_t
 
	mexşusive_time
[8];

668 
	mdœ_dœty
[8];

669 
	mdœ_blk_¡©e
[8];

670 
	mev”_wb
;

673 #ifdeà
STREAM_PREFETCHER


674 
	m¥Tag
;

676 
	mev”_dœty
;

677 
	mev”_touch
;

678 
	mR—dCouÁ
;

679 
	mWr™eCouÁ
;

680 
	mWÜdCouÁ
;

681 
	mTy³
;

682 
	mWÜdU£FÏg
[8];

683 
DIRECTORY_EVENT
 *
	m±r_cur_ev’t
[8];

686 
by‹_t
 *
	mu£r_d©a
;

691 
by‹_t
 
	md©a
[1];

694 
	mÏ¡Modif›d
, 
	mÏ¡Acûs£d
;

695 
	mmodif›dThisEpoch
;

696 
	mmodif›dByMe
;

697 
	mšvCau£
;

701 
	sÿche_£t_t


703 
ÿche_blk_t
 **
	mhash
;

705 
ÿche_blk_t
 *
	mway_h—d
;

706 
ÿche_blk_t
 *
	mway_
;

707 
ÿche_blk_t
 *
	mblks
;

710 
couÁ”_t
 
	mPVC_veùÜ_di¡r_»cÜd_num
;

711 
couÁ”_t
 
	mPVC_veùÜ_šc_di¡r_»cÜd_num
;

712 
couÁ”_t
 
	mPVC_veùÜ_di¡r
[
MAX_DIRECTORY_ASSOC
+1];

713 
couÁ”_t
 
	mPVC_veùÜ_šc_di¡r
[
MAX_DIRECTORY_ASSOC
+1];

717 
	sÿche_t


720 *
	mÇme
;

721 
	mn£ts
;

722 
	mbsize
;

723 
	mb®loc
;

724 
	musize
;

725 
	massoc
;

726 
ÿche_pŞicy
 
	mpŞicy
;

727 
	mh™_Ï‹ncy
;

739 (*
	mblk_acûss_â
)(
mem_cmd
 
	mcmd
,

740 
md_addr_t
 
	mbaddr
,

741 
	mbsize
,

742 
ÿche_blk_t
 *
	mblk
,

743 #ifdeà
SMT_SS


744 
tick_t
 
	mnow
,

745 
	mth»adid


746 #ià
defšed
Ğ
L2_COMM_LAT
è|| defšed (
TOKENB
)

747 , 
	mşu¡”


751 
tick_t
 
	mnow
);

755 
	mhsize
;

756 
md_addr_t
 
	mblk_mask
;

757 
	m£t_shiá
;

758 
md_addr_t
 
	m£t_mask
;

759 
	mg_shiá
;

760 
md_addr_t
 
	mg_mask
;

761 
md_addr_t
 
	mg£t_mask
;

764 
tick_t
 
	mbus_ä“
;

774 
couÁ”_t
 
	mh™s
;

775 
couÁ”_t
 
	mdh™s
;

776 
couÁ”_t
 
	mmis£s
;

777 
couÁ”_t
 
	mdmis£s
;

778 
couÁ”_t
 
	mcoh”’û_mis£s
;

779 
couÁ”_t
 
	mÿ·c™ªû_mis£s
;

780 
couÁ”_t
 
	m»¶aûm’ts
;

781 
couÁ”_t
 
	m»¶Inv
;

782 
couÁ”_t
 
	mwr™ebacks
;

783 
couÁ”_t
 
	mwb_coh”’û_w
;

784 
couÁ”_t
 
	mwb_coh”’û_r
;

785 
couÁ”_t
 
	mšv®id©iÚs
;

786 
couÁ”_t
 
	mcoh”’cyMis£s
;

787 
couÁ”_t
 
	mcoh”’cyMis£sOC
;

790 
couÁ”_t
 
	mš_mshr
;

791 
couÁ”_t
 
	mdš_mshr
;

792 
couÁ”_t
 
	mdœ_nÙifiÿtiÚ
;

793 
couÁ”_t
 
	mInv®id_R—d_»ûived
;

794 
couÁ”_t
 
	mInv®id_wr™e_»ûived
;

795 
couÁ”_t
 
	mInv®id_R—d_»ûived_h™s
;

796 
couÁ”_t
 
	mInv®id_wr™e_»ûived_h™s
;

797 
couÁ”_t
 
	me_to_i
;

798 
couÁ”_t
 
	me_to_m
;

799 
couÁ”_t
 
	ms_to_i
;

801 
couÁ”_t
 
	mack_»ûived
;

802 
couÁ”_t
 
	mL2_acûss
;

803 
couÁ”_t
 
	mdœ_acûss
;

804 
couÁ”_t
 
	md©a_acûss
;

805 
couÁ”_t
 
	mloÿldœeùÜy
;

806 
couÁ”_t
 
	m»mÙedœeùÜy
;

807 
couÁ”_t
 
	m£ndInv®id
, 
	mšv®idDÚe
, 
	mwasInv®id©ed
;

809 
couÁ”_t
 
	mæushCouÁ
, 
	mlšeFlushCouÁ
;

812 
	mrdb
;

813 
	mwrb
;

814 
	mped–ay
;

815 
	mwrbufsize
;

816 
	mÏ¡u£
;

818 #ifdeà
EVENT_CACHE_UPDATE


819 
mshrq
 *
	mmshr_queue
;

823 #ifdeà
SMT_SS


824 
g_id_t
 
	mÏ¡_g£tid
;

826 
md_addr_t
 
	mÏ¡_g£t
;

828 
ÿche_blk_t
 *
	mÏ¡_blk
;

830 #ifdeà 
DCACHE_MSHR


831 
mshr_t
 *
	mmshr
;

835 
by‹_t
 *
	md©a
;

837 
couÁ”_t
 
	mnumDiffThrds
;

841 
	mÏ¡Inv®id©e
;

842 
	mInvld
;

845 
	mšŒaThrdCÚæiù
;

846 
	mš‹rThrdCÚæiù
;

847 
	mCÚ£cutiveAcûss
;

850 
	mccLoÿlLßdS
;

851 
	mccLoÿlLßdX
;

852 
	mccLoÿlLßdM
;

853 
	mccLoÿlStÜeS
;

854 
	mccLoÿlStÜeX
;

855 
	mccLoÿlStÜeM
;

856 
	mccRemÙeLßdS
;

857 
	mccRemÙeLßdX
;

858 
	mccRemÙeLßdM
;

859 
	mccRemÙeStÜeS
;

860 
	mccRemÙeStÜeX
;

861 
	mccRemÙeStÜeM
;

864 
	mSRLoÿlLßdS
;

865 
	mSRLoÿlLßdX
;

866 
	mSRLoÿlLßdM
;

867 
	mSRLoÿlStÜeS
;

868 
	mSRLoÿlStÜeX
;

869 
	mSRLoÿlStÜeM
;

870 
	mSRRemÙeLßdS
;

871 
	mSRRemÙeLßdX
;

872 
	mSRRemÙeLßdM
;

873 
	mSRRemÙeStÜeS
;

874 
	mSRRemÙeStÜeX
;

875 
	mSRRemÙeStÜeM
;

877 
	mglLoÿlH™
;

878 
	mglRemÙeH™
;

880 
	mNumAcûs£s
;

882 
	mth»adid
;

886 
ÿche_£t_t
 
	m£ts
[1];

890 
ÿche_t
 *

891 
ÿche_ü—‹
(*
Çme
,

892 
n£ts
,

893 
bsize
,

894 
b®loc
,

895 
usize
,

896 
assoc
,

897 
ÿche_pŞicy
 
pŞicy
,

899 (*
blk_acûss_â
)(
mem_cmd
 
cmd
,

900 
md_addr_t
 
baddr
, 
bsize
,

901 
ÿche_blk_t
 *
blk
,

902 #ifdeà
SMT_SS


903 
tick_t
 
now
,

905 
th»adid


906 #ià
	`defšed
Ğ
L2_COMM_LAT
è|| defšed (
TOKENB
)

907 , 
şu¡”


911 
tick_t
 
now
),

913 
h™_Ï‹ncy
,

914 
th»adid
);

917 
ÿche_pŞicy


918 
	`ÿche_ch¬2pŞicy
(
c
);

922 
	`ÿche_cÚfig
(
ÿche_t
 *
ı
,

923 
FILE
 *
¡»am
);

926 
	`ÿche_»g_¡©s
(
ÿche_t
 *
ı
, 
¡©_sdb_t
 *
sdb
, 
id
);

932 
	`ÿche_¡©s
(
ÿche_t
 *
ı
,

933 
FILE
 *
¡»am
);

943 #ifdeà
SMT_SS


956 
	`ÿche_acûss
(
ÿche_t
 *
ı
,

957 
mem_cmd
 
cmd
,

958 
md_addr_t
 
addr
,

959 *
vp
,

960 
nby‹s
,

961 
tick_t
 
now
,

962 
by‹_t
 **
ud©a
,

963 
md_addr_t
 *
»¶_addr


964 
RUU_¡©iÚ
 *
rs
,

965 
th»adid
,

966 
m_L1WBufEÁry
 *
l1_wb_’Œy


970 
	`ÿche_w¬mup
 (
ÿche_t
 *
ı
,

971 
mem_cmd
 
cmd
,

972 
md_addr_t
 
addr
,

973 
nby‹s
,

974 
th»adid
);

979 #ià
	`defšed
Ğ
L2_COMM_LAT
è|| defšed (
TOKENB
)

980 
	#ÿche_doubË
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

981 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

982 
	#ÿche_æßt
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

983 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

984 
	#ÿche_dwÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

985 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

986 
	#ÿche_wÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

987 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

988 
	#ÿche_h®f
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

989 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

990 
	#ÿche_by‹
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

991 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

993 
	#ÿche_doubË
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

994 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

995 
	#ÿche_æßt
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

996 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

997 
	#ÿche_dwÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

998 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

999 
	#ÿche_wÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

1000 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

1001 
	#ÿche_h®f
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

1002 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

1003 
	#ÿche_by‹
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

1004 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

1009 
	`m¬kCacheNewEpoch
(
ÿche_t
 *
ı
, );

1011 
	`busF»e
();

1012 
	`busIn™
();

1013 
	`m¬kCacheLše
(
ÿche_t
 *, 
md_addr_t
, );

1015 
	`ÿche_m¬k_vŞ©e
(
ÿche_t
 *
ı
,

1016 
md_addr_t
 
addr
,

1017 
tick_t
 
now
,

1018 
th»adid
, );

1021 
	`ÿche_æush_vŞ©e
(
ÿche_t
 *
ı
,

1022 
tick_t
 
now
,

1023 
th»adid
, );

1026 
	`check_fÜ_l1_miss
(
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
);

1028 
	`upd©eBlockL©
(
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
, 
Ït
);

1030 
	`checkR•Ïûm’tStus
(
id
, 
md_addr_t
 
addr
);

1036 
	`ÿche_´obe
(
ÿche_t
 *
ı
,

1037 
md_addr_t
 
addr
);

1041 
	`ÿche_æush
(
ÿche_t
 *
ı
,

1042 
tick_t
 
now
);

1046 #ifdeà
SMT_SS


1048 
	`ÿche_æush_addr
(
ÿche_t
 *
ı
,

1049 
md_addr_t
 
addr
,

1050 
tick_t
 
now
,

1051 
th»adid
);

1054 
	`ÿche_æush_addr
(
ÿche_t
 *
ı
,

1055 
md_addr_t
 
addr
,

1056 
tick_t
 
now
);

1058 #ifdeà
EVENT_CACHE_UPDATE


1059 
	`š£¹_mshr
(
ÿche_t
 *,,,
md_addr_t
,);

1063 
	`ÿcheBcİy
(
mem_cmd
 
cmd
, 
ÿche_blk_t
 *
blk
, 
pos™iÚ
, 
by‹_t
 *
d©a
, 
nby‹s
);

1065 
	`isCacheH™
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
);

1067 #ifdeà 
EDA


1068 
	`ÿcheBlockS—rch
(
ÿche_t
 * 
ı
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, 
by‹_t
 *
d©a
, 
nby‹s
);

1069 
	`æushS–eùive
(
ÿche_t
 *
ı
, 
id
);

1072 
	sDIRECTORY_EVENT


1074 
md_İcode
 
İ
;

1075 
isP»ãtch
;

1076 
¡ride
;

1077 
Üd”
;

1078 
¡»am_’Œy_šdex
;

1079 
Œigg”
;

1080 
·ge_’Œy_¡©e
;

1081 
l2Stus
;

1082 
couÁ”_t
 
l2MissS¹
;

1083 
DIRECTORY_EVENT
 *
Ãxt
;

1084 
tick_t
 
wh’
;

1085 
tick_t
 
¡¬‹d
;

1086 
tick_t
 
mshr_time
;

1087 
tick_t
 
Œªsãr_time
;

1088 
tick_t
 
»q_time
;

1089 
¡Üe_cÚd
;

1090 
æ_æag
;

1093 
b_¡©e
;

1094 
shr_d©a_»q
;

1095 
d©a_»q_sh¬”
;

1096 
L1_h™
;

1097 
no_L2_d–ay
;

1100 
md_addr_t
 
qblk_£t_shiá
;

1101 
ml2_dœ_blk_¡©e
;

1104 
šput_bufãr_fuÎ
;

1105 
³ndšg_æag
;

1106 
L2miss_æag
;

1107 
L2miss_¡©ed
;

1108 
L2miss_com¶‘e
;

1109 
dœty_æag
;

1110 
couÁ”_t
 
¬riv®_time
;

1111 
d–ay
;

1112 
d©a_»¶y
;

1113 
cÚf_b™
;

1114 
couÁ”_t
 
missNo
;

1115 
couÁ”_t
 
tÙ®ev’tcouÁ
;

1116 
»£nd
;

1117 
İ”©iÚ
;

1118 
‹mpID
;

1119 
md_addr_t
 
addr
;

1120 
ÿche_blk_t
 *
blk1
, *
blk_dœ
;

1122 
RS_lšk
 *
±r_ev’t
;

1123 
ÿche_t
 *
ı
;

1124 *
vp
;

1125 
nby‹s
;

1126 
by‹_t
 **
ud©a
;

1127 
mem_cmd
 
cmd
;

1128 
RUU_¡©iÚ
 *
rs
;

1129 
m_L1WBufEÁry
 *
l1_wb_’Œy
;

1130 
¤c1
, 
¤c2
, 
des1
, 
des2
, 
¡¬tCyşe
;

1131 
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
;

1132 
DIRECTORY_EVENT
 *
·»Á
;

1133 
·»Á_İ”©iÚ
;

1134 
chdCouÁ
, 
´oûssšgDÚe
, 
¥ec_mode
, 
Üigš®ChdCouÁ
;

1135 
´ef_mode
;

1136 
couÁ”_t
 
pİÃtMsgNo
;

1137 
ev’tTy³
;

1138 
»c_busy
;

1139 
sh¬”_num
;

1140 
šdividu®_chdCouÁ
[8];

1141 
´eãtch_Ãxt
;

1142 
isReqL2H™
;

1143 
isReqL2SecMiss
;

1144 
isReqL2Inv
;

1145 
isReqL2T¿ns
;

1146 
couÁ”_t
 
»qAtDœTime
;

1147 
couÁ”_t
 
»qAckTime
;

1148 
isSyncAcûss
;

1151 
	#EUP_NETWORKn


	)

1152 #ifdeà
EUP_NETWORKn


1153 
DIRECTORY_EVENT
 *
ä“_ev’t_li¡
;

1154 
	#maxEv’t
 30000

	)

1155 
	`®loÿ‹_ä“_ev’t_li¡
();

1157 #ifdeà
CONF_RES_RESEND


1158 
	sQUEUE_EVENT_ENTRY


1160 
DIRECTORY_EVENT
 *
ev’t
;

1161 
isv®id
;

1164 
	sQUEUE_EVENT


1166 
QUEUE_EVENT_ENTRY
 
Queue_’Œy
[
QUEUE_SIZE
];

1167 
ä“_EÁr›s
;

1172 
	#MEM_LOC_SHIFT
 1

	)

1174 
	#DIR_FIFO_PORTS
 2

	)

1175 
	#DIR_FIFO_SIZE
 4096

	)

1176 
	#dœ_fifo_size
 64

	)

1177 
	#DIR_FIFO_FULL


	)

1178 
	#MAXSIZE
 250

	)

1179 
dœ_fifo_fuÎ
[
MAXSIZE
];

1181 
DIRECTORY_EVENT
 *
dœ_fifo
[
MAXSIZE
][
DIR_FIFO_SIZE
];

1182 
dœ_fifo_h—d
[
MAXSIZE
];

1183 
dœ_fifo_
[
MAXSIZE
];

1184 
dœ_fifo_num
[
MAXSIZE
];

1185 
dœ_fifo_pÜtu£
[
MAXSIZE
];

1186 
	#TSHR_FIFO_SIZE
 1024

	)

1187 
	#tshr_fifo_size
 64

	)

1188 
DIRECTORY_EVENT
 *
tshr_fifo
[
MAXSIZE
][
TSHR_FIFO_SIZE
];

1189 
tshr_fifo_h—d
[
MAXSIZE
];

1190 
tshr_fifo_
[
MAXSIZE
];

1191 
tshr_fifo_num
[
MAXSIZE
];

1192 
tshr_fifo_pÜtu£
[
MAXSIZE
];

1195 
DIRECTORY_EVENT
 *
l1_fifo
[
MAXSIZE
][
DIR_FIFO_SIZE
];

1196 
l1_fifo_h—d
[
MAXSIZE
];

1197 
l1_fifo_
[
MAXSIZE
];

1198 
l1_fifo_num
[
MAXSIZE
];

1199 
l1_fifo_pÜtu£
[
MAXSIZE
];

1201 
	`»£t_pÜts
();

1202 
	`dœ_fifo_’queue
(
DIRECTORY_EVENT
 *
ev’t
, 
ty³
);

1203 
	`dœ_fifo_dequeue
();

1204 
	`£ndLSQInv
(
md_addr_t
 
addr
, 
th»adid
);

	@cache_o.c

60 
	~<¡dio.h
>

61 
	~<¡dlib.h
>

62 
	~<as£¹.h
>

64 
	~"h—d”s.h
"

68 
	#CACHE_BADDR
(
ı
, 
addr
è(×ddrè& ~(ı)->
blk_mask
)

	)

69 
	#CACHE_MK_BADDR
(
ı
, 
g
, 
£t
è\

	)

70 (((
	gg
è<< (
	gı
)->
	gg_shiá
)|((
	g£t
è<< (ı)->
	g£t_shiá
))

72 
	#CACHE_MK1_BADDR
(
ı
, 
g
, 
£t
è\

	)

73 ((((
	gg
è<< (
	gı
)->
	gg_shiá
)/
	gBANKS
)|((
	g£t
è<< (ı)->
	g£t_shiá
))

75 
	#CACHE_MK2_BADDR
(
ı
, 
g
, 
£t
è\

	)

76 (((
	gg
è<< ((
	gı
)->
	gg_shiá
 - (
log_ba£2
(
»s_membªk
)-log_ba£2(
n_ÿche_lim™_thrd
[
th»adid
])) ))| \

77 ((
	g£t
è<< ((
	gı
)->
	g£t_shiá
 - (
log_ba£2
(
»s_membªk
)-
	$log_ba£2
(
n_ÿche_lim™_thrd
[
th»adid
])) )))

81 
	#CACHE_BINDEX
(
ı
, 
blks
, 
i
è\

	)

82 ((
ÿche_blk_t
 *)(((*)(
blks
)) + \

83 (
i
)*((
ÿche_blk_t
) + \

84 ((
ı
)->
b®loc
 \

85 ? (
ı
)->
bsize
*(
by‹_t
) : 0))))

88 
	#__CACHE_ACCESS
(
ty³
, 
d©a
, 
bofs
è\

	)

89 (*((
ty³
 *)(((*)
d©a
è+ (
bofs
))))

92 
	#CACHE_DOUBLE
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

93 
	#CACHE_FLOAT
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

94 
	#CACHE_WORD
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

95 
	#CACHE_HALF
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

96 
	#CACHE_BYTE
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

101 
	#CACHE_HASH
(
ı
, 
key
è\

	)

102 (((
key
 >> 24è^ (key >> 16è^ (key >> 8è^ keyè& ((
ı
)->
hsize
-1))

105 
	#CACHE_BCOPY
(
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
è\

	)

106 ià(
cmd
 =ğ
R—d
) \

108 
nby‹s
) { \

110 *((
by‹_t
 *)
p
èğ
	`CACHE_BYTE
(&
blk
->
d©a
[0], 
bofs
); ; \

112 *((
h®f_t
 *)
p
èğ
	`CACHE_HALF
(&
blk
->
d©a
[0], 
bofs
); ; \

114 *((
wÜd_t
 *)
p
èğ
	`CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
); ; \

117 
wÜds
 = 
nby‹s
 >> 2; \

118 
wÜds
-- > 0) \

120 *((
wÜd_t
 *)
p
èğ
	`CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
); \

121 
p
 +ğ4; 
bofs
 += 4; \

125 
	}
}\

128 
	gnby‹s
) { \

130 
CACHE_BYTE
(&
blk
->
d©a
[0], 
bofs
èğ*((
by‹_t
 *)
p
); ; \

132 
CACHE_HALF
(&
blk
->
d©a
[0], 
bofs
èğ*((
h®f_t
 *)
p
); ; \

134 
CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
èğ*((
wÜd_t
 *)
p
); ; \

137 
wÜds
 = 
nby‹s
 >> 2; \

138 
	gwÜds
-- > 0) \

140 
CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
èğ*((
wÜd_t
 *)
p
); \

141 
	gp
 +ğ4; 
	gbofs
 += 4; \

148 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

152 
	#BANKS
 16

	)

158 #ifdeà
CROSSBAR_INTERCONNECT


159 
	gbusSlÙCouÁ
 = 
BUSSLOTS
 * 
NUMBEROFBUSES
;

160 
busU£d
;

161 
couÁ”_t
 
busOccu·ncy
;

162 
bs_nd
 *
	gbusNodePoŞ
;

163 
bs_nd
 *
	güossb¬SndHd
[3][
MAXTHREADS
], *
	güossb¬RcvHd
[3][MAXTHREADS];

164 
couÁ”_t
 
	g£ndCouÁ
[3][
MAXTHREADS
], 
	grcvCouÁ
[3][MAXTHREADS];

166 
couÁ”_t
 
dÿche2_acûss
;

170 #ifdeà
BUS_INTERCONNECT


171 
	gbusSlÙCouÁ
 = 
BUSSLOTS
 * 
NUMBEROFBUSES
;

172 
busU£d
;

173 
couÁ”_t
 
busOccu·ncy
;

174 
bs_nd
 *
	gbusNodePoŞ
, *
	gbusNodesInU£
[
NUMBEROFBUSES
];

178 
	gdl1Çme
[20];

180 
ÿche_dl1_Ït
;

181 
ÿche_1_Ït
;

182 
ÿche_dl2_Ït
;

183 
mesh_size
;

184 
mem_bus_width
;

185 
mem_bus_¥“d
;

186 
mem_pÜt_num
;

187 
	gmax_·ck‘_size
 = 32;

188 
couÁ”_t
 
ÿcheMiss
[
MAXTHREADS
], 
h™InOth”Cache
[MAXTHREADS];

189 
couÁ”_t
 
	gšvŞve_4_hİs
, 
	gšvŞve_2_hİs
, 
	gšvŞve_2_hİ_wb
, 
	gšvŞve_2_hİ_touch
, 
	gšvŞve_2_hİs_wm
, 
	gšvŞve_4_hİs_wm
, 
	gšvŞve_4_hİs_upg¿de
, 
	gšvŞve_2_hİs_upg¿de
;

190 
couÁ”_t
 
	gšvŞve_4_hİs_miss
, 
	gšvŞve_2_hİs_miss
;

191 
couÁ”_t
 
	gd©a_´iv©e_»ad
, 
	gd©a_´iv©e_wr™e
, 
	gd©a_sh¬ed_»ad
, 
	gd©a_sh¬ed_wr™e
;

192 
couÁ”_t
 
lßd_lšk_sh¬ed
, 
lßd_lšk_exşusive
;

193 
couÁ”_t
 
¥ªd
[5];

194 
couÁ”_t
 
downg¿de_w
, 
downg¿de_r
;

196 
couÁ”_t
 
	gtÙ®_®l_şo£
, 
	gtÙ®_®l_®mo¡şo£
, 
	gtÙ®_nÙ_®l_şo£
, 
	gtÙ®_p_c_ev’ts
, 
	gtÙ®_cÚsum”s
, 
	gtÙ®_·ck‘s_š_ÃighbÜ
, 
	gtÙ®_·ck‘s_©_cÜÃrs
;

197 
couÁ”_t
 
	gtÙ®_d©a_©_cÜÃr
, 
	gtÙ®_d©a_şo£
, 
	gtÙ®_d©a_çr
, 
	gtÙ®_d©a_cÚsum”s
;

198 
couÁ”_t
 
	gsh¬”_num
[
MAXTHREADS
];

199 
	gav”age_šside_³rûÁ
;

200 
	gav”age_outside_³rûÁ
;

201 
	gav”age_outside_abs_³rûÁ
;

202 
	gav”age_cÜÃr_³rûÁ
;

203 
couÁ”_t
 
	gwr™e_—¾y
;

204 
dl2Aùu®lyAcûs£d
, 
m¬kedLšeR•Ïûd
;

205 
couÁ”_t
 
tÙ®S¶™WM
, 
tÙ®S¶™No
;

206 
couÁ”_t
 
tÙ®Upg¿desU§bË
, 
tÙ®Upg¿desB’eficŸl
;

208 
aùu®Proûss
;

210 
d©aFoundInPCB
 (
md_addr_t
, , );

211 
šv®id©eOth”PCB
 (
who
, 
id
, 
md_addr_t
 
addr
);

214 
	gdl2_´eãtch_aùive
 = 0;

215 
	gdl1_´eãtch_aùive
 = 0;

218 
qu›sûSŒuù
 
qu›sûAddrSŒuù
[
CLUSTERS
];

219 
¥ec_b’chm¬ks
;

220 
»s_poŞ
 *
fu_poŞ
;

221 
ÿche_t
 *
ÿche_dl1
[], *
ÿche_dl2
;

224 #ifdeà
LOCK_CACHE_REGISTER


225 
	sLOCK_CACHE
 {

226 
md_addr_t
 
	mg
;

227 
	mSubSüibeVeù
;

228 
	mlock_owÃr
;

229 
	mBoŞV®ue
;

230 } 
	gLock_ÿche
[
MAXTHREADS
];

231 
	#MAXLOCKEVENT
 8

	)

232 
DIRECTORY_EVENT
 *
	glock_fifo
[
MAXTHREADS
][
MAXLOCKEVENT
];

233 
	glock_fifo_num
[
MAXTHREADS
];

234 
	glock_fifo_h—d
[
MAXTHREADS
];

235 
	glock_fifo_
[
MAXTHREADS
];

236 
couÁ”_t
 
lock_fifo_fuÎ
;

237 
couÁ”_t
 
lock_fifo_wrÚg
;

238 
couÁ”_t
 
lock_fifo_wr™eback
;

239 
couÁ”_t
 
lock_fifo_b’ef™
;

240 
couÁ”_t
 
lock_ÿche_h™
;

241 
couÁ”_t
 
lock_ÿche_miss
;

243 
md_addr_t
 
b¬r›r_addr
;

245 
m¬kR—dAá”Wr™e
;

247 
	gÏ‹n
[
BANKS
];

250 
	grm1
 = 0;

251 
	gwm1
 = 0;

252 
	grh1
 = 0;

253 
	gwh1
 = 0;

254 
	grm2
 = 0;

255 
	gwm2
 = 0;

256 
	grh2
 = 0;

257 
	gwh2
 = 0;

259 #ifdeà 
THRD_WAY_CACHE


260 
aùivecÚ‹xts
;

261 
»s_membªk
;

262 
n_ÿche_lim™_thrd
[];

263 
n_ÿche_¡¬t_thrd
[];

264 
COHERENT_CACHE
;

265 
MSI
;

268 
cÚ‹xt
 *
thecÚ‹xts
[
MAXTHREADS
];

270 
FILE
 *
outFe
;

271 
cŞËù_¡©s
, 
®lFÜked
;

273 #ifdeà 
THRD_WAY_CACHE


274 
š£¹_flq
 (, 
md_addr_t
, );

276 
š£¹_flq
 (, 
md_addr_t
);

279 
numcÚ‹xts
;

280 
nÙRoundRobš
;

282 
RS_li¡
 *
rs_ÿche_li¡
[
MAXTHREADS
][
MSHR_SIZE
];

283 
FILE
 *
å_Œaû
;

284 
DIRECTORY_EVENT
 *
dœ_ev’t_queue
;

285 
DIRECTORY_EVENT
 *
ev’t_li¡
[
L2_MSHR_SIZE
];

286 
couÁ”_t
 
	gÇck_couÁ”
;

287 
couÁ”_t
 
	gnÜm®_Çcks
;

288 
couÁ”_t
 
	gwr™e_Çcks
;

289 
couÁ”_t
 
	g´eãtch_Çcks
;

290 
couÁ”_t
 
	gsync_Çcks
;

291 
couÁ”_t
 
	gæ_couÁ”
;

292 
couÁ”_t
 
	g¡Üe_cÚd™iÚ®_çed
;

293 
couÁ”_t
 
	gL1_æ_couÁ”
;

294 
couÁ”_t
 
	ge_to_m
;

296 
couÁ”_t
 
L1_mshr_fuÎ
;

297 
couÁ”_t
 
Ï¡_L1_mshr_fuÎ
[
MAXTHREADS
];

298 
couÁ”_t
 
L2_mshr_fuÎ
;

299 
couÁ”_t
 
Ï¡_L2_mshr_fuÎ
;

300 
couÁ”_t
 
L2_mshr_fuÎ_´eãtch
;

301 
couÁ”_t
 
L1_fifo_fuÎ
;

302 
couÁ”_t
 
Ï¡_L1_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

303 
couÁ”_t
 
Dœ_fifo_fuÎ
;

304 
couÁ”_t
 
Ï¡_Dœ_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

305 
couÁ”_t
 
IÅut_queue_fuÎ
;

306 
couÁ”_t
 
Ï¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

307 
couÁ”_t
 
Ouut_queue_fuÎ
;

309 
couÁ”_t
 
SÎ_L1_mshr
;

310 
couÁ”_t
 
SÎ_L2_mshr
;

311 
couÁ”_t
 
SÎ_L1_fifo
;

312 
couÁ”_t
 
SÎ_dœ_fifo
;

313 
couÁ”_t
 
SÎ_šput_queue
;

314 
couÁ”_t
 
SÎ_ouut_queue
;

315 
mshr_³ndšg_ev’t
[
MAXTHREADS
];

317 
couÁ”_t
 
WM_Miss
;

318 
couÁ”_t
 
WM_CËª
;

319 
couÁ”_t
 
WM_S
;

320 
couÁ”_t
 
WM_EM
;

321 
couÁ”_t
 
wr™e_sh¬ed_u£d_cÚf
;

323 
couÁ”_t
 
SyncIn¡CacheAcûss
;

324 
couÁ”_t
 
Te¡CacheAcûss
;

325 
couÁ”_t
 
Te¡SecCacheAcûss
;

326 
couÁ”_t
 
S‘CacheAcûss
;

327 
couÁ”_t
 
SyncLßdR—dMiss
;

328 
couÁ”_t
 
SyncLßdLR—dMiss
;

329 
couÁ”_t
 
SyncLßdH™
;

330 
couÁ”_t
 
SyncLßdLH™
;

331 
couÁ”_t
 
SyncStÜeCH™
;

332 
couÁ”_t
 
SyncStÜeCWr™eMiss
;

333 
couÁ”_t
 
SyncStÜeCWr™eUpg¿de
;

334 
couÁ”_t
 
SyncStÜeH™
;

335 
couÁ”_t
 
SyncStÜeWr™eMiss
;

336 
couÁ”_t
 
B¬StÜeWr™eMiss
;

337 
couÁ”_t
 
SyncStÜeWr™eUpg¿de
;

338 
couÁ”_t
 
B¬StÜeWr™eUpg¿de
;

339 
couÁ”_t
 
Sync_L2_miss
;

342 #ifdeà
CONF_RES_RESEND


343 
QUEUE_EVENT
 *
£nd_queue
[
MAXTHREADS
];

344 
QUEUE_EVENT
 *
»¶y_queue
[
MAXTHREADS
];

347 
RS_lšk
 *
ev’t_queue
;

348 
tÙ®Ev’tCouÁ
, 
tÙ®Ev’tProûssTime
;

349 
	gtÙ®ev’tcouÁ
;

350 
couÁ”_t
 
	gpİÃtMsgNo
;

351 
couÁ”_t
 
	gmissNo
;

352 
couÁ”_t
 
	gwr™e_back_msg
;

353 
couÁ”_t
 
	gloÿl_ÿche_acûss
, 
	g»mÙe_ÿche_acûss
, 
	gloÿldœeùÜy
, 
	g»mÙedœeùÜy
;

354 
tick_t
 
	gtÙ®misshªdËtime
;

355 
tick_t
 
	gtÙ®IL1misshªdËtime
;

356 
	gtÙ®ev’tcouÁnum
;

357 
couÁ”_t
 
	gtÙ®Wr™eIndiÿ‹
;

358 
couÁ”_t
 
	gtÙ®_exşusive_modif›d
;

359 
couÁ”_t
 
	gtÙ®_exşusive_cÚf
;

360 
couÁ”_t
 
	gtÙ®_exşusive_üoss
;

361 
couÁ”_t
 
	gtÙ®SyncEv’t
;

362 
couÁ”_t
 
	gtÙ®NÜm®Ev’t
;

363 
couÁ”_t
 
	gtÙ®SyncWr™eM
;

364 
couÁ”_t
 
	gtÙ®SyncR—dM
;

365 
couÁ”_t
 
	gtÙ®SyncWr™eup
;

366 
couÁ”_t
 
	gtÙ®mis¡imefÜNÜm®
;

367 
couÁ”_t
 
	gtÙ®mis¡imefÜSync
;

368 
couÁ”_t
 
	gtÙ®_mem_Ït
;

369 
couÁ”_t
 
	gtÙ®_mem_acûss
;

370 
couÁ”_t
 
	gtÙ®L2mis¡ime
;

371 
couÁ”_t
 
	gtÙ®WrÚgL2mis¡ime
;

372 
couÁ”_t
 
	gTÙ®L2mis£s
;

373 
	gtÙ®_L1_´eãtch
;

374 
couÁ”_t
 
	gl2_´eãtch_num
;

375 
couÁ”_t
 
	gwr™e_back_—¾y
;

376 
	gtÙ®_L1_fœ¡_´eãtch
;

377 
	gtÙ®_L1_£c_´eãtch
;

378 
couÁ”_t
 
	gL1_´eãtch_u£fuÎ
;

379 
couÁ”_t
 
	gL1_´eãtch_wr™—á”
;

380 #ifdeà
PREFETCH_OPTI


381 
couÁ”_t
 
	gR—dP»ãtchUpd©e
;

382 
couÁ”_t
 
	gWr™eP»ãtchUpd©e
;

383 
couÁ”_t
 
	gR—dM‘aR•ly_CS
;

384 
couÁ”_t
 
	gR—dD©aR•ly_CS
;

385 
couÁ”_t
 
	gR—dDowng¿de_EM
;

386 
couÁ”_t
 
	gR—dL2Miss
;

387 
couÁ”_t
 
	gR—dEM‘aR•ly
;

388 
couÁ”_t
 
	gR—dED©aR•ly
;

389 
couÁ”_t
 
	gR—dMR•ly
;

390 
couÁ”_t
 
	gWr™eM‘aR•ly_C
;

391 
couÁ”_t
 
	gWr™eD©aR•ly_C
;

392 
couÁ”_t
 
	gWr™eInv®id©e_SEM
;

393 
couÁ”_t
 
	gWr™eL2Miss
;

394 
couÁ”_t
 
	gWr™eSEM‘aR•ly
;

395 
couÁ”_t
 
	gWr™eSED©aR•ly
;

396 
couÁ”_t
 
	gWr™eMR•ly
;

398 
	gtÙ®»qcouÁnum
;

399 
	gtÙ®misscouÁnum
;

400 
	gæag
;

404 
	$uÆšk_hb_’t
 (
ÿche_t
 *
ı
,

405 
ÿche_£t_t
 *
£t
,

406 
ÿche_blk_t
 *
blk
)

408 
ÿche_blk_t
 *
´ev
, *
’t
;

409 
šdex
 = 
	`CACHE_HASH
 (
ı
, 
blk
->
gid
.
g
);

412 
´ev
 = 
NULL
, 
’t
 = 
£t
->
hash
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
hash_Ãxt
)

414 ià(
’t
 =ğ
blk
)

417 
	`as£¹
 (
’t
);

420 ià(!
´ev
)

423 
£t
->
hash
[
šdex
] = 
’t
->
hash_Ãxt
;

428 
´ev
->
hash_Ãxt
 = 
’t
->hash_next;

430 
’t
->
hash_Ãxt
 = 
NULL
;

431 
	}
}

435 
	$lšk_hb_’t
 (
ÿche_t
 *
ı
,

436 
ÿche_£t_t
 *
£t
,

437 
ÿche_blk_t
 *
blk
)

439 
šdex
 = 
	`CACHE_HASH
 (
ı
, 
blk
->
gid
.
g
);

442 
blk
->
hash_Ãxt
 = 
£t
->
hash
[
šdex
];

443 
£t
->
hash
[
šdex
] = 
blk
;

444 
	}
}

447 
	eli¡_loc_t


448 { 
	mH—d
, 
	mTa
 };

452 
	$upd©e_way_li¡
 (
ÿche_£t_t
 *
£t
,

453 
ÿche_blk_t
 *
blk
,

454 
li¡_loc_t
 
wh”e
)

457 ià(!
blk
->
way_´ev
 && !blk->
way_Ãxt
)

460 
	`as£¹
 (
£t
->
way_h—d
 =ğ
blk
 && s‘->
way_
 == blk);

466 ià(!
blk
->
way_´ev
)

468 
	`as£¹
 (
£t
->
way_h—d
 =ğ
blk
 && s‘->
way_
 != blk);

469 ià(
wh”e
 =ğ
H—d
)

476 
£t
->
way_h—d
 = 
blk
->
way_Ãxt
;

477 
blk
->
way_Ãxt
->
way_´ev
 = 
NULL
;

479 ià(!
blk
->
way_Ãxt
)

482 
	`as£¹
 (
£t
->
way_h—d
 !ğ
blk
 && s‘->
way_
 == blk);

483 ià(
wh”e
 =ğ
Ta
)

488 
£t
->
way_
 = 
blk
->
way_´ev
;

489 
blk
->
way_´ev
->
way_Ãxt
 = 
NULL
;

494 
	`as£¹
 (
£t
->
way_h—d
 !ğ
blk
 && s‘->
way_
 != blk);

495 
blk
->
way_´ev
->
way_Ãxt
 = blk->way_next;

496 
blk
->
way_Ãxt
->
way_´ev
 = blk->way_prev;

500 ià(
wh”e
 =ğ
H—d
)

503 
blk
->
way_Ãxt
 = 
£t
->
way_h—d
;

504 
blk
->
way_´ev
 = 
NULL
;

505 
£t
->
way_h—d
->
way_´ev
 = 
blk
;

506 
£t
->
way_h—d
 = 
blk
;

508 ià(
wh”e
 =ğ
Ta
)

511 
blk
->
way_´ev
 = 
£t
->
way_
;

512 
blk
->
way_Ãxt
 = 
NULL
;

513 
£t
->
way_
->
way_Ãxt
 = 
blk
;

514 
£t
->
way_
 = 
blk
;

517 
	`·nic
 ("bogus WHERE designator");

518 
	}
}

521 
ÿche_t
 *

522 
ÿche_ü—‹
 (*
Çme
,

523 
n£ts
,

524 
bsize
,

525 
b®loc
,

526 
usize
,

527 
assoc
,

528 
ÿche_pŞicy
 
pŞicy
,

530 (*
blk_acûss_â
è(
mem_cmd
 
cmd
, 
md_addr_t
 
baddr
, 
bsize
, 
ÿche_blk_t
 * 
blk
, 
tick_t
 
now
, 
th»adid
), 
h™_Ï‹ncy
,

531 
th»adid
)

533 
ÿche_t
 *
ı
;

534 
ÿche_blk_t
 *
blk
;

535 
i
, 
j
, 
bšdex
;

538 ià(
n£ts
 <= 0)

539 
	`çl
 ("ÿchsiz(š s‘sè`%d' mu¡ bnÚ-z”o", 
n£ts
);

540 ià((
n£ts
 & (nsets - 1)) != 0)

541 
	`çl
 ("ÿchsiz(š s‘sè`%d' i nÙ‡…ow” oàtwo", 
n£ts
);

543 ià(
bsize
 < 8)

544 
	`çl
 ("ÿchblock siz(š by‹sè`%d' mu¡ b8 o¸g»©”", 
bsize
);

545 ià((
bsize
 & (bsize - 1)) != 0)

546 
	`çl
 ("ÿchblock siz(š by‹sè`%d' mu¡ b¨pow” oàtwo", 
bsize
);

547 ià(
usize
 < 0)

548 
	`çl
 ("u£¸d©¨siz(š by‹sè`%d' mu¡ b¨pos™ivv®ue", 
usize
);

549 ià(!
blk_acûss_â
)

550 
	`çl
 ("must specify miss/replacement functions");

553 
ı
 = (
ÿche_t
 *è
	`ÿÎoc
 (1,  (ÿche_tè+ (
n£ts
 - 1è*  (
ÿche_£t_t
));

554 ià(!
ı
)

555 
	`çl
 ("out of virtual memory");

558 
ı
->
Çme
 = 
	`my¡rdup
 (name);

559 
ı
->
n£ts
 =‚sets;

560 
ı
->
bsize
 = bsize;

561 
ı
->
b®loc
 = balloc;

562 
ı
->
usize
 = usize;

563 
ı
->
assoc
 =‡ssoc;

564 
ı
->
pŞicy
 =…olicy;

565 
ı
->
h™_Ï‹ncy
 = hit_latency;

568 
ı
->
blk_acûss_â
 = blk_access_fn;

571 
ı
->
hsize
 = 
	`CACHE_HIGHLY_ASSOC
 (ıè? (
assoc
 >> 2) : 0;

572 
ı
->
blk_mask
 = 
bsize
 - 1;

573 
ı
->
£t_shiá
 = 
	`log_ba£2
 (
bsize
);

574 
ı
->
£t_mask
 = 
n£ts
 - 1;

575 
ı
->
g_shiá
 = cp->
£t_shiá
 + 
	`log_ba£2
 (
n£ts
);

576 
ı
->
g_mask
 = (1 << (32 - cp->
g_shiá
)) - 1;

577 
ı
->
g£t_mask
 = ~ı->
blk_mask
;

578 
ı
->
bus_ä“
 = 0;

581 
ı
->
h™s
 = 0;

582 
ı
->
dh™s
 = 0;

583 
ı
->
mis£s
 = 0;

584 
ı
->
dmis£s
 = 0;

585 
ı
->
š_mshr
 = 0;

586 
ı
->
dš_mshr
 = 0;

587 
ı
->
dœ_acûss
 = 0;

588 
ı
->
d©a_acûss
 = 0;

589 
ı
->
coh”’û_mis£s
 = 0;

590 
ı
->
ÿ·c™ªû_mis£s
 = 0;

591 
ı
->
»¶aûm’ts
 = 0;

592 
ı
->
»¶Inv
 = 0;

593 
ı
->
wr™ebacks
 = 0;

594 
ı
->
wb_coh”’û_w
 = 0;

595 
ı
->
wb_coh”’û_r
 = 0;

596 
ı
->
šv®id©iÚs
 = 0;

597 
ı
->
s_to_i
 = 0;

598 
ı
->
e_to_i
 = 0;

599 
ı
->
e_to_m
 = 0;

600 
ı
->
coh”’cyMis£s
 = 0;

601 
ı
->
coh”’cyMis£sOC
 = 0;

602 
ı
->
Invld
 = 0;

603 
ı
->
rdb
 = 0;

604 
ı
->
wrb
 = 0;

605 
ı
->
Ï¡u£
 = 0;

606 
ı
->
dœ_nÙifiÿtiÚ
 = 0;

607 
ı
->
Inv®id_wr™e_»ûived
 = 0;

608 
ı
->
Inv®id_wr™e_»ûived_h™s
 = 0;

609 
ı
->
Inv®id_R—d_»ûived
 = 0;

610 
ı
->
Inv®id_R—d_»ûived_h™s
 = 0;

611 
ı
->
ack_»ûived
 = 0;

614 
ı
->
Ï¡_g£tid
.
g
 = 0;

615 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

616 
ı
->
Ï¡_blk
 = 
NULL
;

617 
ı
->
th»adid
 =hreadid;

619 #ifdef 
DCACHE_MSHR


620 
mshr_æag
 = 0;

621 if((!
	`¡rcmp
 (
ı
->
Çme
, "dl1")) || (!strcmp (cp->name, "ul2")))

623 if(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

624 
mshr_æag
 = 0;

626 
mshr_æag
 = 1;

627 
ı
->
mshr
 = (
mshr_t
 *è
	`ÿÎoc
 (1,  (mshr_t));

628 
	`š™MSHR
(
ı
->
mshr
, 
mshr_æag
);

629 
ı
->
mshr
->
th»adid
 =hreadid;

632 
ı
->
mshr
 = 
NULL
;

636 
ı
->
d©a
 = (
by‹_t
 *è
	`ÿÎoc
 (
n£ts
 * 
assoc
,  (
ÿche_blk_t
è+ (ı->
b®loc
 ? (
bsize
 *  (byte_t)) : 0));

637 ià(!
ı
->
d©a
)

638 
	`çl
 ("out of virtual memory");

641 
bšdex
 = 0, 
i
 = 0; i < 
n£ts
; i++)

643 
ı
->
£ts
[
i
].
way_h—d
 = 
NULL
;

644 
ı
->
£ts
[
i
].
way_
 = 
NULL
;

646 ià(
ı
->
hsize
)

648 
ı
->
£ts
[
i
].
hash
 = (
ÿche_blk_t
 **è
	`ÿÎoc
 (ı->
hsize
,  (cache_blk_t *));

649 ià(!
ı
->
£ts
[
i
].
hash
)

650 
	`çl
 ("out of virtual memory");

655 
ı
->
£ts
[
i
].
blks
 = 
	`CACHE_BINDEX
 (ı, cp->
d©a
, 
bšdex
);

659 
j
 = 0; j < 
assoc
; j++)

662 
blk
 = 
	`CACHE_BINDEX
 (
ı
, cp->
d©a
, 
bšdex
);

663 
bšdex
++;

666 
blk
->
¡©us
 = 0;

667 
blk
->
gid
.
g
 = 0;

668 
blk
->
gid
.
th»adid
 = -1;

669 
blk
->
»ady
 = 0;

670 #ifdeà
EUP_NETWORK


671 
blk
->
—¾y_nÙifiÿtiÚ
 = 0;

674 
m
 = 0, 
n
=0;

675 
m
=0; m<8; m++)

677 
n
=0;n<8;n++)

678 
blk
->
dœ_sh¬”
[
m
][
n
]=0;

679 
blk
->
dœ_¡©e
[
m
]=
DIR_STABLE
;

680 
blk
->
dœ_dœty
[
m
] = -1;

681 
blk
->
exşusive_time
[
m
] = 0;

682 if(
MSI
)

683 
blk
->
dœ_blk_¡©e
[
m
] = 
MESI_INVALID
;

684 
blk
->
±r_cur_ev’t
[
m
] = 
NULL
;

685 #ifdeà
SERIALIZATION_ACK


686 
blk
->
R—dP’dšg
[
m
] = -1;

687 
blk
->
R—dP’dšg_ev’t
[
m
] = 
NULL
;

688 
blk
->
³ndšgInvAck
[
m
] = 0;

691 
blk
->
ev”_dœty
 = 0;

692 
blk
->
ev”_touch
 = 0;

694 
blk
->
isSË
 = 0;

696 
blk
->
lšeVŞ©e
 = 0;

697 
blk
->
isL1´eãtch
 = 0;

698 
blk
->
´eãtch_time
 = 0;

700 
blk
->
wÜdVŞ©e
 = 0;

701 
blk
->
wÜdInv®id
 = 0;

702 
blk
->
•ochModif›d
 = -1;

704 
blk
->
u£r_d©a
 = (
usize
 !ğ0 ? (
by‹_t
 *è
	`ÿÎoc
 (usize,  (by‹_t)è: 
NULL
);

705 
blk
->
švCau£
 = 0;

707 
blk
->
R—dCouÁ
 = 0;

708 
blk
->
Wr™eCouÁ
 = 0;

709 
blk
->
WÜdCouÁ
 = 0;

710 
blk
->
Ty³
 = 0;

711 
m
=0;m<8;m++)

712 
blk
->
WÜdU£FÏg
[
m
] = 0;

714 ià(
MSI
)

716 
blk
->
¡©e
 = 
MESI_INVALID
;

721 ià(
ı
->
hsize
)

722 
	`lšk_hb_’t
 (
ı
, &ı->
£ts
[
i
], 
blk
);

725 
blk
->
way_Ãxt
 = 
ı
->
£ts
[
i
].
way_h—d
;

726 
blk
->
way_´ev
 = 
NULL
;

727 ià(
ı
->
£ts
[
i
].
way_h—d
)

728 
ı
->
£ts
[
i
].
way_h—d
->
way_´ev
 = 
blk
;

729 
ı
->
£ts
[
i
].
way_h—d
 = 
blk
;

730 ià(!
ı
->
£ts
[
i
].
way_
)

731 
ı
->
£ts
[
i
].
way_
 = 
blk
;

734  
ı
;

735 
	}
}

736 #ifdeà
EUP_NETWORK


737 
	$Upg¿deCheck
(
DIRECTORY_EVENT
 *
ev’t
)

739 
i
, 
æag
 = 0, 
des
 = 
ev’t
->
des1
*
mesh_size
 +ƒv’t->
des2
;

740 
DIRECTORY_EVENT
 *
‹mp
;

741 
i
=0;i<
dœ_fifo_num
[
des
];i++)

743 
‹mp
 = 
dœ_fifo
[
des
][(
dœ_fifo_h—d
[des] + 
i
)%
DIR_FIFO_SIZE
];

744 if(
‹mp
->
¤c1
 =ğ
ev’t
->¤c1 &&emp->
¤c2
 =ğev’t->¤c2 &&emp->
İ”©iÚ
 =ğ
WRITE_UPDATE
 &&emp->
pİÃtMsgNo
 <ƒv’t->pİÃtMsgNØ&& (‹mp->
addr
>>
ÿche_dl1
[0]->
£t_shiá
 ==ƒvent->addr>>cache_dl1[0]->set_shift))

745 
æag
 = 1;

746 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
 && 
‹mp
->İ”©iÚ =ğ
WRITE_UPDATE
 &&emp->
pİÃtMsgNo
 <ƒv’t->pİÃtMsgNØ&& (‹mp->
addr
>>
ÿche_dl1
[0]->
£t_shiá
 ==ƒvent->addr>>cache_dl1[0]->set_shift))

747 
æag
 = 1;

749  
æag
;

750 
	}
}

751 
	$SameUpg¿deCheck
(
DIRECTORY_EVENT
 *
ev’t
)

753 
i
, 
j
, 
æag
 = 0, 
des
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

754 
i
 = 0; i < 
INV_COLLECT_TABLE_SIZE
; i++)

756 if(
švCŞËùTabË
[
des
][
i
].
isV®id
 && (švCŞËùTabË[des][i].
addr
>>
ÿche_dl1
[0]->
£t_shiá
 =ğ
ev’t
->addr>>cache_dl1[0]->set_shift))

758 
j
=0;j<
MAX_OWNERS
;j++)

759 if(
švCŞËùTabË
[
des
][
i
].
owÃrsLi¡
[
j
] =ğ
ev’t
->
‹mpID
)

760 
æag
 = 1;

763  
æag
;

764 
	}
}

766 
	$®loÿ‹_ä“_ev’t_li¡
()

768 
i
;

769 
ä“_ev’t_li¡
 = 
	`ÿÎoc
(1, (
DIRECTORY_EVENT
));

770 
DIRECTORY_EVENT
 * 
Ãxt
 = 
ä“_ev’t_li¡
;

772 
i
 = 1; i < 
maxEv’t
; i++)

774 
Ãxt
->Ãxˆğ
	`ÿÎoc
(1, (
DIRECTORY_EVENT
));

775 
Ãxt
 =‚ext->next;

776 
Ãxt
->Ãxˆğ
NULL
;

778 
	}
}

780 
DIRECTORY_EVENT
 * 
	$®loÿ‹_ev’t
(
isSyncAcûss
)

782 if(
tÙ®Ev’tCouÁ
 >ğ
maxEv’t
)

783 
	`·nic
("Out of freeƒvents\n");

784 
DIRECTORY_EVENT
 * 
‹mp
 = 
ä“_ev’t_li¡
;

785 
ä“_ev’t_li¡
 = f»e_ev’t_li¡->
Ãxt
;

786 
‹mp
->
Ãxt
 = 
NULL
;

787 
‹mp
->
İ
 = 0;

788 
‹mp
->
isP»ãtch
 = 0;

789 
‹mp
->
l2Stus
 = 0;

790 
‹mp
->
l2MissS¹
 = 0;

791 
‹mp
->
wh’
 = 0;

792 
‹mp
->
¡¬‹d
 = 0;

793 
‹mp
->
mshr_time
 = 0;

794 
‹mp
->
Œªsãr_time
 = 0;

795 
‹mp
->
»q_time
 = 0;

796 
‹mp
->
¡Üe_cÚd
 = 0;

797 
‹mp
->
æ_æag
 = 0;

798 
‹mp
->
Üigš®ChdCouÁ
 = 0;

799 #ifdeà
EXCLUSIVE_OPT


800 
‹mp
->
exşusive_aá”_wb
 = 0;

802 #ifdeà
SMD_USE_WRITE_BUF


803 
‹mp
->
l1_wb_’Œy
 = 
NULL
;

805 #ifdeà
EUP_NETWORK


806 
‹mp
->
—¾y_æag
 = 0;

809 
‹mp
->
šput_bufãr_fuÎ
 = 0;

810 
‹mp
->
³ndšg_æag
 = 0;

811 
‹mp
->
L2miss_æag
 = 0;

812 
‹mp
->
dœty_æag
 = 0;

813 
‹mp
->
¬riv®_time
 = 0;

814 
‹mp
->
d–ay
 = 0;

815 
‹mp
->
d©a_»¶y
 = 0;

816 
‹mp
->
cÚf_b™
 = -1;

817 
‹mp
->
missNo
 = 0;

818 
‹mp
->
»£nd
 = 0;

819 
‹mp
->
İ”©iÚ
 = 0;

820 
‹mp
->
‹mpID
 = 0;

821 
‹mp
->
addr
 = 0;

822 
‹mp
->
blk1
 = 
NULL
;

823 
‹mp
->
blk_dœ
 = 
NULL
;

825 
‹mp
->
±r_ev’t
 = 
NULL
;

826 
‹mp
->
ı
 = 
NULL
;

827 
‹mp
->
vp
 = 
NULL
;

828 
‹mp
->
nby‹s
 = 0;

829 
‹mp
->
ud©a
 = 
NULL
;

830 
‹mp
->
rs
 = 
NULL
;

831 
‹mp
->
¤c1
 = 0;

832 
‹mp
->
¤c2
 = 0;

833 
‹mp
->
des1
 = 0;

834 
‹mp
->
des2
 = 0;

835 
‹mp
->
Ãw_¤c1
 = 0;

836 
‹mp
->
Ãw_¤c2
 = 0;

837 
‹mp
->
Ãw_des1
 = 0;

838 
‹mp
->
Ãw_des2
 = 0;

839 
‹mp
->
¡¬tCyşe
 = 0;

840 
‹mp
->
·»Á
 = 
NULL
;

841 
‹mp
->
·»Á_İ”©iÚ
 = 0;

842 
‹mp
->
chdCouÁ
 = 0;

843 
‹mp
->
´oûssšgDÚe
 = 0;

844 
‹mp
->
¥ec_mode
 = 0;

845 
‹mp
->
pİÃtMsgNo
 = 0;

846 
‹mp
->
ev’tTy³
 = 0;

847 
‹mp
->
»c_busy
 = 0;

848 
‹mp
->
sh¬”_num
 = 0;

849 
‹mp
->
´eãtch_Ãxt
 = 0;

850 
‹mp
->
³ndšgInvAck
 = 0;

851 
‹mp
->
isReqL2H™
 = 0;

852 
‹mp
->
isReqL2Inv
 = 0;

853 
‹mp
->
isReqL2SecMiss
 = 0;

854 
‹mp
->
isReqL2T¿ns
 = 0;

855 
‹mp
->
»qN‘Time
 = 0;

856 
‹mp
->
»qAtDœTime
 = 0;

857 
‹mp
->
»qAckTime
 = 0;

858 
‹mp
->
isSyncAcûss
 = isSyncAccess;

859 
tÙ®Ev’tCouÁ
++;

860 
tÙ®ev’tcouÁ
++;

861 
‹mp
->
tÙ®ev’tcouÁ
 =otaleventcount;

862  
‹mp
;

863 
	}
}

865 
	$ä“_ev’t
(
DIRECTORY_EVENT
 *
ev’t
)

867 
ev’t
->
Ãxt
 = 
ä“_ev’t_li¡
;

868 
ä“_ev’t_li¡
 = 
ev’t
;

869 
tÙ®Ev’tCouÁ
--;

870 
	}
}

873 
ÿche_pŞicy


874 
	$ÿche_ch¬2pŞicy
 (
c
)

876 
c
)

879  
LRU
;

881  
Rªdom
;

883  
FIFO
;

885 
	`çl
 ("bogu »¶aûm’ˆpŞicy, `%c'", 
c
);

887 
	}
}

891 
	$ÿche_cÚfig
 (
ÿche_t
 *
ı
,

892 
FILE
 * 
¡»am
)

894 
	`årštf
 (
¡»am
, "ÿche: %s: %d s‘s, %d by‹ blocks, %d by‹ u£¸d©a/block\n", 
ı
->
Çme
, cp->
n£ts
, cp->
bsize
, cp->
usize
);

895 
	`årštf
 (
¡»am
, "ÿche: %s: %d-way, `%s'„•Ïûm’ˆpŞicy, wr™e-back\n", 
ı
->
Çme
, cp->
assoc
, cp->
pŞicy
 =ğ
LRU
 ? "LRU" : cp->pŞicy =ğ
Rªdom
 ? "Rªdom" : cp->pŞicy =ğ
FIFO
 ? "FIFO" : (
	`abÜt
 (), ""));

896 
	}
}

900 
	$ÿche_»g_¡©s
 (
ÿche_t
 *
ı
,

901 
¡©_sdb_t
 *
sdb
, 
id
)

903 
buf
[512], 
buf1
[512], *
Çme
;

906 ià(
ı
->
th»adid
 !ğ-1 && cp->th»adid !ğ
id
)

907 
	`·nic
 ("Wrong cache being called in cache_reg_stats\n");

910 ià(!
ı
->
Çme
 || !cp->name[0])

911 
Çme
 = "<unknown>";

913 
Çme
 = 
ı
->name;

915 
Çme
 = 
	`my¡rdup
(
ı
->name);

917 
	`¥rštf
(
buf
, "_%d", 
id
);

918 
	`¡rÿt
(
Çme
, 
buf
);

920 
	`¥rštf
 (
buf
, "%s.acûs£s", 
Çme
);

921 
	`¥rštf
 (
buf1
, "%s.h™ + %s.mis£ + %s.š_mshr", 
Çme
,‚ame,‚ame);

922 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "tÙ®‚umb” oàacûs£s", 
buf1
, "%12.0f");

923 
	`¥rštf
 (
buf
, "%s.h™s", 
Çme
);

924 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàh™s", &
ı
->
h™s
, 0, 
NULL
);

925 
	`¥rštf
 (
buf
, "%s.š_mshr", 
Çme
);

926 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà£cÚd¬y mis£s", &
ı
->
š_mshr
, 0, 
NULL
);

927 
	`¥rštf
 (
buf
, "%s.mis£s", 
Çme
);

928 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£s", &
ı
->
mis£s
, 0, 
NULL
);

930 
	`¥rštf
 (
buf
, "%s.dacûs£s", 
Çme
);

931 
	`¥rštf
 (
buf1
, "%s.dh™ + %s.dmis£ + %s.dš_mshr", 
Çme
,‚ame,‚ame);

932 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨acûs£s", 
buf1
, "%12.0f");

933 
	`¥rštf
 (
buf
, "%s.dh™s", 
Çme
);

934 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨h™s", &
ı
->
dh™s
, 0, 
NULL
);

935 
	`¥rštf
 (
buf
, "%s.dš_mshr", 
Çme
);

936 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨£cÚd¬y mis£s", &
ı
->
dš_mshr
, 0, 
NULL
);

937 
	`¥rštf
 (
buf
, "%s.dmis£s", 
Çme
);

938 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©¨mis£s", &
ı
->
dmis£s
, 0, 
NULL
);

940 
	`¥rštf
 (
buf
, "%s.dœ_acûss", 
Çme
);

941 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàdœ_acûss", &
ı
->
dœ_acûss
, 0, 
NULL
);

942 
	`¥rštf
 (
buf
, "%s.d©a_acûss", 
Çme
);

943 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàd©a_acûss", &
ı
->
d©a_acûss
, 0, 
NULL
);

944 
	`¥rštf
 (
buf
, "%s.coh”’û_mis£s", 
Çme
);

945 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£ dutØšv®id©iÚ", &
ı
->
coh”’û_mis£s
, 0, 
NULL
);

946 
	`¥rštf
 (
buf
, "%s.ÿ·c™ªû_mis£s", 
Çme
);

947 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£ dutØÿ·c™ªû", &
ı
->
ÿ·c™ªû_mis£s
, 0, 
NULL
);

948 
	`¥rštf
 (
buf
, "%s.»¶aûm’ts", 
Çme
);

949 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà»¶aûm’ts", &
ı
->
»¶aûm’ts
, 0, 
NULL
);

950 
	`¥rštf
 (
buf
, "%s.»¶Inv", 
Çme
);

951 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà»¶aûm’t which‡lsØšşudšv®id©iÚs", &
ı
->
»¶Inv
, 0, 
NULL
);

952 
	`¥rštf
 (
buf
, "%s.wr™ebacks", 
Çme
);

953 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™ebacks", &
ı
->
wr™ebacks
, 0, 
NULL
);

954 
	`¥rštf
 (
buf
, "%s.wb_coh”’û_w", 
Çme
);

955 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™eback dutØcoh”’û wr™e", &
ı
->
wb_coh”’û_w
, 0, 
NULL
);

956 
	`¥rštf
 (
buf
, "%s.wb_coh”’û_r", 
Çme
);

957 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™eback dutØcoh”’û„—d", &
ı
->
wb_coh”’û_r
, 0, 
NULL
);

958 
	`¥rštf
 (
buf
, "%s.Invld", 
Çme
);

959 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàInvld", &
ı
->
Invld
, 0, 
NULL
);

960 
	`¥rštf
 (
buf
, "%s.šv®id©iÚs", 
Çme
);

961 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚs", &
ı
->
šv®id©iÚs
, 0, 
NULL
);

962 
	`¥rštf
 (
buf
, "%s.s_to_i", 
Çme
);

963 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàsh¬edØšv®id(šv®id©iÚ_»ûived_sub)", &
ı
->
s_to_i
, 0, 
NULL
);

964 
	`¥rštf
 (
buf
, "%s.e_to_i", 
Çme
);

965 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàexşusivtØšv®id(šv®id©iÚ_»ûived_sub)", &
ı
->
e_to_i
, 0, 
NULL
);

966 
	`¥rštf
 (
buf
, "%s.e_to_m", 
Çme
);

967 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàexşusivtØšv®id(šv®id©iÚ_»ûived_sub)", &
ı
->
e_to_m
, 0, 
NULL
);

969 
	`¥rštf
 (
buf
, "%s.dœ_nÙifiÿtiÚ", 
Çme
);

970 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàupd©šg dœeùÜy", &
ı
->
dœ_nÙifiÿtiÚ
, 0, 
NULL
);

971 
	`¥rštf
 (
buf
, "%s.Inv®id_wr™e_»ûived", 
Çme
);

972 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ wr™»ûived", &
ı
->
Inv®id_wr™e_»ûived
, 0, 
NULL
);

973 
	`¥rštf
 (
buf
, "%s.Inv®id_»ad_»ûived", 
Çme
);

974 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ„—d„eûived", &
ı
->
Inv®id_R—d_»ûived
, 0, 
NULL
);

975 
	`¥rštf
 (
buf
, "%s.Inv®id_w_»ûived_h™s", 
Çme
);

976 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ wr™»ûived_h™s", &
ı
->
Inv®id_wr™e_»ûived_h™s
, 0, 
NULL
);

977 
	`¥rštf
 (
buf
, "%s.Inv®id_r_»ûived_h™s", 
Çme
);

978 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚ„—d„eûived_h™s", &
ı
->
Inv®id_R—d_»ûived_h™s
, 0, 
NULL
);

979 
	`¥rštf
 (
buf
, "%s.acknowËdgem’ˆ»ûived", 
Çme
);

980 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàacknowËdgem’ˆ»ûived", &
ı
->
ack_»ûived
, 0, 
NULL
);

982 
	`¥rštf
 (
buf
, "%s.coh”’cyMis£s", 
Çme
);

983 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàcoh”’cy Mis£s", &
ı
->
coh”’cyMis£s
, 0, 
NULL
);

984 
	`¥rštf
 (
buf
, "%s.coh”’cyMis£sOC", 
Çme
);

985 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàcoh”’cy Mis£ dutØİtimi¡iøcÜe", &
ı
->
coh”’cyMis£sOC
, 0, 
NULL
);

986 
	`¥rštf
 (
buf
, "%s.miss_¿‹", 
Çme
);

987 
	`¥rštf
 (
buf1
, "%s.mis£ / %s.acûs£s", 
Çme
,‚ame);

988 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "mis ¿‹ (i.e., mis£s/»f)", 
buf1
, 
NULL
);

989 
	`¥rštf
 (
buf
, "%s.»¶_¿‹", 
Çme
);

990 
	`¥rštf
 (
buf1
, "%s.»¶aûm’t / %s.acûs£s", 
Çme
,‚ame);

991 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "»¶aûm’ˆ¿‹ (i.e.,„•ls/»f)", 
buf1
, 
NULL
);

992 
	`¥rštf
 (
buf
, "%s.wb_¿‹", 
Çme
);

993 
	`¥rštf
 (
buf1
, "%s.wr™eback / %s.acûs£s", 
Çme
,‚ame);

994 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "wr™eback„©(i.e., wrbks/»f)", 
buf1
, 
NULL
);

995 
	`¥rštf
 (
buf
, "%s.šv_¿‹", 
Çme
);

996 
	`¥rštf
 (
buf1
, "%s.šv®id©iÚ / %s.acûs£s", 
Çme
,‚ame);

997 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "šv®id©iÚ„©(i.e., invs/»f)", 
buf1
, 
NULL
);

1000 
	`¥rštf
 (
buf
, "%s.æushCouÁ", 
Çme
);

1001 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ® flushes", &
ı
->
æushCouÁ
, 0, 
NULL
);

1002 
	`¥rštf
 (
buf
, "%s.lšeFlushed", 
Çme
);

1003 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "lše æushed", &
ı
->
lšeFlushCouÁ
, 0, 
NULL
);

1005 
	`¥rštf
 (
buf
, "%s.æushR©e", 
Çme
);

1006 
	`¥rštf
 (
buf1
, "%s.lšeFlushed / %s.æushCouÁ", 
Çme
,‚ame);

1007 
	`¡©_»g_fÜmuÏ
 (
sdb
, 
buf
, "æush„©(i.e.,†šes/chunk)", 
buf1
, 
NULL
);

1009 
	`ä“
(
Çme
);

1010 
	}
}

1023 
	$ÿche_¡©s
 (
ÿche_t
 *
ı
,

1024 
FILE
 * 
¡»am
)

1026 
sum
 = (è(
ı
->
h™s
 + cp->
mis£s
);

1028 
	`årštf
 (
¡»am
, "ÿche: %s: %.0àh™ %.0àmis£ %.0à»¶ %.0àšv®id©iÚs\n", 
ı
->
Çme
, (èı->
h™s
, (èı->
mis£s
, (èı->
»¶aûm’ts
, (èı->
šv®id©iÚs
);

1029 
	`årštf
 (
¡»am
, "ÿche: %s: mis ¿‹=%à„•È¿‹=%à inv®id©iÚ„©e=%f\n", 
ı
->
Çme
, (èı->
mis£s
 / 
sum
, (è(èı->
»¶aûm’ts
 / sum, (èı->
šv®id©iÚs
 / sum);

1030 
	}
}

1033 
	$bªk_check
 (
md_addr_t
 
addr
, 
ÿche_t
 *
ı
)

1036 
	}
}

1038 
	#BUS_TRAN_LAT
 0

	)

1040 
	#SET
 1

	)

1041 
	#TAG
 2

	)

1046 
dœ_ev’tq_š£¹
(
DIRECTORY_EVENT
 *
ev’t
);

1047 #ifdeà
DCACHE_MSHR


1048 
DIRECTORY_EVENT
 *
	gev’t_ü—‹d
 = 
NULL
;

1050 #ifdeà
L1_STREAM_PREFETCHER


1052 
	$l1š™_¥
 ()

1054 
i
, 
j
;

1055 
j
=0;j<
numcÚ‹xts
;j++)

1057 
i
 = 0; i < 
MISS_TABLE_SIZE
; i++)

1058 
l1miss_hi¡Üy_bË
[
j
].
hi¡Üy
[
i
] = 0;

1059 
l1miss_hi¡Üy_bË
[
j
].
mht_
 = 0;

1060 
l1miss_hi¡Üy_bË
[
j
].
mht_num
 = 0;

1062 
i
 = 0; i < 
STREAM_ENTRIES
; i++)

1064 
l1¡»am_bË
[
j
][
i
].
v®id
 = 0;

1065 
l1¡»am_bË
[
j
][
i
].
addr
 = 0;

1066 
l1¡»am_bË
[
j
][
i
].
¡ride
 = 0;

1067 
l1¡»am_bË
[
j
][
i
].
»maššg_´eãtches
 = 0;

1068 
l1¡»am_bË
[
j
][
i
].
Ï¡_u£
 = 0;

1071 
	}
}

1074 
	$l1š£¹_¥
 (
md_addr_t
 
addr
, 
th»adid
)

1076 
i
, 
num
;

1077 
di¡
;

1078 
mš_’Œy
;

1079 
md_addr_t
 
¡ride_addr
;

1080 
couÁ
 = 0;

1082 ià(
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
 == 0)

1084 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[l1miss_hi¡Üy_bË[th»adid].
mht_
] = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

1085 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 = (l1miss_hi¡Üy_bË[th»adid].mht_ + 1è% 
MISS_TABLE_SIZE
;

1086 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
++;

1090 
di¡
 = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è- 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[Ö1miss_hi¡Üy_bË[th»adid].
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE];

1091 
¡ride_addr
 = 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[Ö1miss_hi¡Üy_bË[th»adid].
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE];

1092 
mš_’Œy
 = (
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE;

1095 
num
 = 1, 
i
 = (
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 + 
MISS_TABLE_SIZE
 - 2è% MISS_TABLE_SIZE;‚um <†1miss_hi¡Üy_bË[th»adid].
mht_num
; i = (i + MISS_TABLE_SIZE - 1) % MISS_TABLE_SIZE,‚um++)

1097 
cu¼_di¡
 = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è- 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1099 ià(
	`abs
 (
cu¼_di¡
è<‡b (
di¡
))

1101 
di¡
 = 
cu¼_di¡
;

1102 
¡ride_addr
 = 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1103 
mš_’Œy
 = 
i
;

1107 
i
 = 
mš_’Œy
;

1110 
i
 = (˜+ 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE;

1111 
cu¼_di¡
 = (
¡ride_addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è- 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1113 ià(
cu¼_di¡
 =ğ
di¡
)

1115 
couÁ
++;

1116 
¡ride_addr
 = 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[
i
];

1119 
i
 !ğ
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
);

1122 
l1miss_hi¡Üy_bË
[
th»adid
].
hi¡Üy
[l1miss_hi¡Üy_bË[th»adid].
mht_
] = (
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

1123 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_
 = (l1miss_hi¡Üy_bË[th»adid].mht_ + 1è% 
MISS_TABLE_SIZE
;

1124 ià(
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
 < 
MISS_TABLE_SIZE
)

1125 
l1miss_hi¡Üy_bË
[
th»adid
].
mht_num
++;

1127 ià(
couÁ
 > 1)

1130 
id
 = 0;

1132 ià(
l1¡»am_bË
[
th»adid
][0].
v®id
 == 1)

1134 
Ï¡_u£
 = 
l1¡»am_bË
[
th»adid
][0].last_use;

1136 
id
 = 0;

1137 
i
 = 1; i < 
STREAM_ENTRIES
; i++)

1139 ià(
l1¡»am_bË
[
th»adid
][
i
].
v®id
 == 1)

1141 ià(
Ï¡_u£
 < 
l1¡»am_bË
[
th»adid
][
i
].last_use)

1143 
Ï¡_u£
 = 
l1¡»am_bË
[
th»adid
][
i
].last_use;

1144 
id
 = 
i
;

1149 
id
 = 
i
;

1156 
l1¡»am_bË
[
th»adid
][
id
].
v®id
 = 1;

1157 
l1¡»am_bË
[
th»adid
][
id
].
addr
 =‡dd¸& ~(
ÿche_dl1
[0]->
bsize
 - 1);

1158 
l1¡»am_bË
[
th»adid
][
id
].
¡ride
 = 
di¡
;

1159 
l1¡»am_bË
[
th»adid
][
id
].
»maššg_´eãtches
 = 
PREFETCH_DISTANCE
;

1160 
l1¡»am_bË
[
th»adid
][
id
].
Ï¡_u£
 = 2000000000;

1163 
	`l1Ïunch_¥
 (
addr
, 
th»adid
);

1165 
	}
}

1168 
	$l1Ïunch_¥
 (
md_addr_t
 
addr
, 
th»adid
)

1170 
i
;

1172 
i
 = 0; i < 
STREAM_ENTRIES
; i++)

1174 ià(
l1¡»am_bË
[
th»adid
][
i
].
v®id
 =ğ1 &&†1¡»am_bË[th»adid][i].
addr
 =ğ×dd¸& ~(
ÿche_dl1
[0]->
bsize
 - 1)))

1176 
lßd_Ït
 = 0;

1177 
by‹_t
 *
l1ÿche_lše
 = 
	`ÿÎoc
 (
ÿche_dl1
[0]->
bsize
,  (byte_t));

1179 
l1¡»am_bË
[
th»adid
][
i
].
addr
 =†1¡»am_bË[th»adid][i].add¸+†1¡»am_bË[th»adid][i].
¡ride
;

1180 
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
--;

1181 
l1¡»am_bË
[
th»adid
][
i
].
Ï¡_u£
 = 
sim_cyşe
;

1183 ià(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 == 1)

1185 
l1¡»am_bË
[
th»adid
][
i
].
v®id
 = 0;

1190 
dl1_´eãtch_aùive
 = 1;

1191 if(
l1¡»am_bË
[
th»adid
][
i
].
¡ride
 != 0)

1193 
md_addr_t
 
addr_´eãtch
 = (
l1¡»am_bË
[
th»adid
][
i
].
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1));

1194 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ÿche_dl1
[
th»adid
], 
addr_´eãtch
);

1195 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ÿche_dl1
[
th»adid
], 
addr_´eãtch
);

1196 
ÿche_blk_t
 *
blk
;

1197 
ÿche_h™_æag
 = 0;

1199 
blk
 = 
ÿche_dl1
[
th»adid
]->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

1201 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

1202 
ÿche_h™_æag
 = 1;

1204 if(
ÿche_h™_æag
 == 0)

1206 
¤c
 = (
addr_´eãtch
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

1207 
tÙ®_L1_´eãtch
 ++;

1209 
m©chnum
;

1210 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr_´eãtch
, cache_dl1[th»adid]->
£t_shiá
);

1211 if(!
m©chnum
 && (
ÿche_dl1
[
th»adid
]->
mshr
->
ä“EÁr›s
 > 1))

1213 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(0);

1214 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

1215 
Ãw_ev’t
->
d©a_»¶y
 = 0;

1216 
Ãw_ev’t
->
»q_time
 = 0;

1217 
Ãw_ev’t
->
³ndšg_æag
 = 0;

1218 
Ãw_ev’t
->
İ
 = 
LDQ
;

1219 
Ãw_ev’t
->
isP»ãtch
 = 0;

1220 #ifdeà
PREFETCH_OPTI


1221 
Ãw_ev’t
->
İ”©iÚ
 = 
L1_PREFETCH
;

1223 
Ãw_ev’t
->
İ”©iÚ
 = 
MISS_READ
;

1225 
Ãw_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1227 
Ãw_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1228 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

1229 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

1230 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

1231 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1232 
Ãw_ev’t
->
·»Á
 = 
NULL
;

1233 
Ãw_ev’t
->
‹mpID
 = 
th»adid
;

1234 
Ãw_ev’t
->
»£nd
 = 0;

1235 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

1236 
Ãw_ev’t
->
ı
 = 
ÿche_dl1
[
th»adid
];

1237 
Ãw_ev’t
->
addr
 = 
addr_´eãtch
;

1238 
Ãw_ev’t
->
vp
 = 
NULL
;

1239 
Ãw_ev’t
->
nby‹s
 = 
ÿche_dl1
[
th»adid
]->
bsize
;

1240 
Ãw_ev’t
->
ud©a
 = 
NULL
;

1241 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

1242 
Ãw_ev’t
->
rs
 = 
NULL
;

1243 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

1244 
Ãw_ev’t
->
¥ec_mode
 = 0;

1245 
Ãw_ev’t
->
L2miss_æag
 = 0;

1246 if(
l1¡»am_bË
[
th»adid
][
i
].
»maššg_´eãtches
 =ğ
PREFETCH_DISTANCE
 - 1)

1248 
Ãw_ev’t
->
´eãtch_Ãxt
 = 2;

1249 
tÙ®_L1_fœ¡_´eãtch
 ++;

1253 
Ãw_ev’t
->
´eãtch_Ãxt
 = 4;

1254 
tÙ®_L1_£c_´eãtch
 ++;

1256 
Ãw_ev’t
->
cÚf_b™
 = -1;

1257 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

1259 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

1261 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

1262 
ev’t_ü—‹d
 = 
Ãw_ev’t
;

1263 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr_´eãtch
, 
WAIT_TIME
, 0, 
NULL
);

1268 
dl1_´eãtch_aùive
 = 0;

1269 
	`ä“
 (
l1ÿche_lše
);

1273 
	}
}

1276 #ifdeà
STREAM_PREFETCHER


1278 
	$š™_¥
 ()

1280 
i
;

1282 
i
 = 0; i < 
MISS_TABLE_SIZE
; i++)

1283 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
] = 0;

1284 
miss_hi¡Üy_bË
.
mht_
 = 0;

1285 
miss_hi¡Üy_bË
.
mht_num
 = 0;

1287 
i
 = 0; i < 
STREAM_ENTRIES
; i++)

1289 
¡»am_bË
[
i
].
v®id
 = 0;

1290 
¡»am_bË
[
i
].
addr
 = 0;

1291 
¡»am_bË
[
i
].
¡ride
 = 0;

1292 
¡»am_bË
[
i
].
»maššg_´eãtches
 = 0;

1293 
¡»am_bË
[
i
].
Ï¡_u£
 = 0;

1295 
	}
}

1298 
	$š£¹_¥
 (
md_addr_t
 
addr
, 
th»adid
)

1300 
i
, 
num
;

1301 
di¡
;

1302 
mš_’Œy
;

1303 
md_addr_t
 
¡ride_addr
;

1304 
couÁ
 = 0;

1306 ià(
miss_hi¡Üy_bË
.
mht_num
 == 0)

1308 
miss_hi¡Üy_bË
.
hi¡Üy
[miss_hi¡Üy_bË.
mht_
] = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1));

1309 
miss_hi¡Üy_bË
.
mht_
 = (miss_hi¡Üy_bË.mht_ + 1è% 
MISS_TABLE_SIZE
;

1310 
miss_hi¡Üy_bË
.
mht_num
++;

1314 
di¡
 = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[(miss_hi¡Üy_bË.
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE];

1315 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[(miss_hi¡Üy_bË.
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE];

1316 
mš_’Œy
 = (
miss_hi¡Üy_bË
.
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE;

1319 
num
 = 1, 
i
 = (
miss_hi¡Üy_bË
.
mht_
 + 
MISS_TABLE_SIZE
 - 2è% MISS_TABLE_SIZE;‚um < miss_hi¡Üy_bË.
mht_num
; i = (i + MISS_TABLE_SIZE - 1) % MISS_TABLE_SIZE,‚um++)

1321 
cu¼_di¡
 = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

1323 ià(
	`abs
 (
cu¼_di¡
è<‡b (
di¡
))

1325 
di¡
 = 
cu¼_di¡
;

1326 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

1327 
mš_’Œy
 = 
i
;

1331 
i
 = 
mš_’Œy
;

1334 
i
 = (˜+ 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE;

1335 
cu¼_di¡
 = (
¡ride_addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

1337 ià(
cu¼_di¡
 =ğ
di¡
)

1339 
couÁ
++;

1340 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

1343 
i
 !ğ
miss_hi¡Üy_bË
.
mht_
);

1346 
miss_hi¡Üy_bË
.
hi¡Üy
[miss_hi¡Üy_bË.
mht_
] = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1));

1347 
miss_hi¡Üy_bË
.
mht_
 = (miss_hi¡Üy_bË.mht_ + 1è% 
MISS_TABLE_SIZE
;

1348 ià(
miss_hi¡Üy_bË
.
mht_num
 < 
MISS_TABLE_SIZE
)

1349 
miss_hi¡Üy_bË
.
mht_num
++;

1351 ià(
couÁ
 > 1)

1354 
id
 = 0;

1356 ià(
¡»am_bË
[0].
v®id
 == 1)

1358 
Ï¡_u£
 = 
¡»am_bË
[0].last_use;

1360 
id
 = 0;

1361 
i
 = 1; i < 
STREAM_ENTRIES
; i++)

1363 ià(
¡»am_bË
[
i
].
v®id
 == 1)

1365 ià(
Ï¡_u£
 < 
¡»am_bË
[
i
].last_use)

1367 
Ï¡_u£
 = 
¡»am_bË
[
i
].last_use;

1368 
id
 = 
i
;

1373 
id
 = 
i
;

1380 
¡»am_bË
[
id
].
v®id
 = 1;

1381 
¡»am_bË
[
id
].
addr
 =‡dd¸& ~(
ÿche_dl2
->
bsize
 - 1);

1382 
¡»am_bË
[
id
].
¡ride
 = 
di¡
;

1383 
¡»am_bË
[
id
].
»maššg_´eãtches
 = 
PREFETCH_DISTANCE
;

1384 
¡»am_bË
[
id
].
Ï¡_u£
 = 2000000000;

1387 
	`Ïunch_¥
 (
addr
, 
th»adid
);

1389 
	}
}

1392 
	$Ïunch_¥
 (
md_addr_t
 
addr
, 
th»adid
)

1394 
i
;

1396 
i
 = 0; i < 
STREAM_ENTRIES
; i++)

1398 ià(
¡»am_bË
[
i
].
v®id
 =ğ1 && sŒ—m_bË[i].
addr
 =ğ×dd¸& ~(
ÿche_dl2
->
bsize
 - 1)))

1400 
lßd_Ït
 = 0;

1401 
by‹_t
 *
l1ÿche_lše
 = 
	`ÿÎoc
 (
ÿche_dl2
->
bsize
,  (byte_t));

1403 
¡»am_bË
[
i
].
addr
 = sŒ—m_bË[i].add¸+ sŒ—m_bË[i].
¡ride
;

1404 
¡»am_bË
[
i
].
»maššg_´eãtches
--;

1405 
¡»am_bË
[
i
].
Ï¡_u£
 = 
sim_cyşe
;

1407 ià(
¡»am_bË
[
i
].
»maššg_´eãtches
 == 1)

1409 
¡»am_bË
[
i
].
v®id
 = 0;

1414 
dl2_´eãtch_aùive
 = 1;

1415 
DIRECTORY_EVENT
 *
ev’t
 = 
	`®loÿ‹_ev’t
(0);

1416 if(
ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

1417 
ev’t
->
cÚf_b™
 = -1;

1418 
ev’t
->
³ndšg_æag
 = 0;

1419 
ev’t
->
addr
 = (
¡»am_bË
[
i
].add¸& ~(
ÿche_dl2
->
bsize
 - 1));

1420 
ev’t
->
´eãtch_Ãxt
 = 3;

1421 
ev’t
->
¡¬‹d
 = 
sim_cyşe
;

1422 
ev’t
->
İ”©iÚ
 = 
L2_PREFETCH
;

1423 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1424 
ev’t
->
İ
 = 0;

1425 
ev’t
->
ı
 = 
ÿche_dl1
[0];

1426 
ev’t
->
‹mpID
 = 
th»adid
;

1427 
ev’t
->
nby‹s
 = 
ÿche_dl1
[0]->
bsize
;

1428 
ev’t
->
ud©a
 = 
NULL
;

1429 
ev’t
->
rs
 = 
NULL
;

1430 
ev’t
->
¥ec_mode
 = 0;

1431 
ev’t
->
šput_bufãr_fuÎ
 = 0;

1432 
ev’t
->
¤c1
 = 
th»adid
/
mesh_size
 + 
MEM_LOC_SHIFT
;

1433 
ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1434 
¤c
;

1435 
¤c
 = (
ev’t
->
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

1436 
ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

1437 
ev’t
->
des2
 = (
¤c
 %
mesh_size
);

1438 
ev’t
->
d©a_»¶y
 = 0;

1439 
ev’t
->
´oûssšgDÚe
 = 0;

1440 
ev’t
->
»q_time
 = 0;

1441 
	`dœ_ev’tq_š£¹
(
ev’t
);

1443 
dl2_´eãtch_aùive
 = 0;

1444 
	`ä“
 (
l1ÿche_lše
);

1448 
	}
}

1453 
couÁ”_t
 
tÙ®L2Wr™eReqH™s
;

1454 
couÁ”_t
 
tÙ®L2Wr™eReqNoSh¬”
;

1455 
couÁ”_t
 
tÙ®L2Wr™eReqDœty
;

1456 
couÁ”_t
 
d–ayL2Wr™eReqDœty
;

1457 
couÁ”_t
 
tÙ®L2Wr™eReqSh¬ed
;

1458 
couÁ”_t
 
d–ayL2Wr™eReqSh¬ed
;

1460 
couÁ”_t
 
tÙ®L2R—dReqH™s
;

1461 
couÁ”_t
 
tÙ®L2R—dReqNoSh¬”
;

1462 
couÁ”_t
 
tÙ®L2R—dReqDœty
;

1463 
couÁ”_t
 
d–ayL2R—dReqDœty
;

1465 
couÁ”_t
 
tÙ®L2R—dReqSh¬ed
;

1466 
couÁ”_t
 
tÙ®L2Wr™eReqSh¬edWT
;

1467 
couÁ”_t
 
tÙ®L2Wr™eReqDœtyWT
;

1468 
couÁ”_t
 
tÙ®L2R—dReqDœtyWT
;

1470 
couÁ”_t
 
tÙ®L1LšeP»fU£
;

1471 
couÁ”_t
 
tÙ®L1LšeP»fNoU£
;

1472 
couÁ”_t
 
tÙ®L1LšeR—dU£
;

1473 
couÁ”_t
 
tÙ®L1LšeR—dNoU£
;

1474 
couÁ”_t
 
tÙ®L1LšeWr™eU£
;

1475 
couÁ”_t
 
tÙ®L1LšeWr™eNoU£
;

1477 
couÁ”_t
 
tÙ®L1LšeExlU£d
;

1478 
couÁ”_t
 
tÙ®L1LšeExlInv
;

1479 
couÁ”_t
 
tÙ®L1LšeExlDrİ
;

1481 
couÁ”_t
 
tÙ®L2ReqPrimMiss
;

1482 
couÁ”_t
 
tÙ®L2ReqSecMiss
;

1483 
couÁ”_t
 
tÙ®L2ReqH™
;

1484 
couÁ”_t
 
tÙ®L2ReqInT¿ns
;

1485 
couÁ”_t
 
tÙ®L2OwnReqInT¿ns
;

1486 
couÁ”_t
 
tÙ®L2ReqInInv
;

1488 
couÁ”_t
 
d–ayL2ReqPrimMiss
;

1489 
couÁ”_t
 
d–ayL2ReqSecMiss
;

1490 
couÁ”_t
 
d–ayL2ReqH™
;

1491 
couÁ”_t
 
d–ayL2ReqInT¿ns
;

1492 
couÁ”_t
 
d–ayL2OwnReqInT¿ns
;

1493 
couÁ”_t
 
d–ayL2ReqInInv
;

1495 
couÁ”_t
 
tÙ®Wr™eReq
;

1496 
couÁ”_t
 
tÙ®Wr™eReqInv
;

1497 
couÁ”_t
 
tÙ®Wr™eD–ay
;

1498 
couÁ”_t
 
tÙ®Wr™eInvD–ay
;

1499 
couÁ”_t
 
tÙ®Upg¿deReq
;

1500 
couÁ”_t
 
	gtÙ®Upg¿deMiss
;

1501 
couÁ”_t
 
tÙ®Upg¿deReqInv
;

1502 
couÁ”_t
 
tÙ®Upg¿deD–ay
;

1503 
couÁ”_t
 
tÙ®Upg¿deInvD–ay
;

1504 
couÁ”_t
 
	gm_upd©e_miss
[
MAXTHREADS
];

1506 
couÁ”_t
 
couÁNÚAÎocR—dE¬ly
;

1507 
couÁ”_t
 
	gsh¬”_di¡r
[
MAXTHREADS
];

1508 
couÁ”_t
 
	gtÙ®_cÜÃr_·ck‘s
, 
	gtÙ®_ÃighbÜ_·ck‘s
, 
	gtÙ®_çr_·ck‘s
;

1510 #ifdeà
SERIALIZATION_ACK


1511 
	$isInvCŞËùTabËFuÎ
(
th»adid
)

1513 
i
;

1514 
i
 = 0; i < 
INV_COLLECT_TABLE_SIZE
; i++)

1516 if(!
švCŞËùTabË
[
th»adid
][
i
].
isV®id
)

1520 
	}
}

1522 
	$ÃwInvCŞËù
(
th»adid
, 
md_addr_t
 
addr
, 
³ndšgInv
, 
owÃr
, 
cÚf
)

1524 
i
;

1527 
i
 = 0; i < 
INV_COLLECT_TABLE_SIZE
; i++)

1529 if(
švCŞËùTabË
[
th»adid
][
i
].
isV®id
 && invCŞËùTabË[th»adid][i].
addr
 ==‡ddr)

1530 
	`·nic
("Error in‚ewInvCollect:‡ddress‡lreadyƒxists.");

1534 
i
 = 0; i < 
INV_COLLECT_TABLE_SIZE
; i++)

1536 if(!
švCŞËùTabË
[
th»adid
][
i
].
isV®id
)

1538 
švCŞËùTabË
[
th»adid
][
i
].
isV®id
 = 1;

1539 
švCŞËùTabË
[
th»adid
][
i
].
addr
 =‡ddr;

1540 
švCŞËùTabË
[
th»adid
][
i
].
³ndšgInv
 =…endingInv;

1541 
švCŞËùTabË
[
th»adid
][
i
].
numOwÃrs
 = 1;

1542 
švCŞËùTabË
[
th»adid
][
i
].
owÃrsLi¡
[0] = 
owÃr
;

1543 
švCŞËùTabË
[
th»adid
][
i
].
ack_cÚf
[0] = 
cÚf
;

1547 
	`·nic
("Error in‚ewInvCollect:able is full!!!");

1548 
	}
}

1550 
	$addOwÃr
(
th»adid
, 
md_addr_t
 
addr
, 
owÃr
)

1552 
i
;

1553 
i
 = 0; i < 
INV_COLLECT_TABLE_SIZE
; i++)

1555 if(
švCŞËùTabË
[
th»adid
][
i
].
isV®id
 && invCŞËùTabË[th»adid][i].
addr
 ==‡ddr)

1557 if(
švCŞËùTabË
[
th»adid
][
i
].
numOwÃrs
 >ğ
MAX_OWNERS
)

1559 
švCŞËùTabË
[
th»adid
][
i
].
owÃrsLi¡
[švCŞËùTabË[th»adid][i].
numOwÃrs
] = 
owÃr
;

1560 
švCŞËùTabË
[
th»adid
][
i
].
numOwÃrs
++;

1564 
	`·nic
("Error in‡ddOwner:ƒntry‚ot found!!!");

1565 
	}
}

1569 
	$švAckUpd©e
(
th»adid
, 
md_addr_t
 
addr
, 
owÃr
, 
isSyncAcûss
)

1571 
i
;

1572 
i
 = 0; i < 
INV_COLLECT_TABLE_SIZE
; i++)

1575 if(
švCŞËùTabË
[
th»adid
][
i
].
isV®id
 && invCŞËùTabË[th»adid][i].
addr
 =ğadd¸&& invCŞËùTabË[th»adid][i].
owÃrsLi¡
[švCŞËùTabË[th»adid][i].
numOwÃrs
 - 1] =ğ
owÃr
)

1577 
švCŞËùTabË
[
th»adid
][
i
].
³ndšgInv
--;

1578 if(
švCŞËùTabË
[
th»adid
][
i
].
³ndšgInv
 == 0)

1580 
j
 = 0;

1581 
j
 = 0; j < 
švCŞËùTabË
[
th»adid
][
i
].
numOwÃrs
; j++)

1583 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
isSyncAcûss
);

1585 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

1586 
Ãw_ev’t
->
»q_time
 = 0;

1587 
Ãw_ev’t
->
cÚf_b™
 = -1;

1588 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

1589 
Ãw_ev’t
->
³ndšg_æag
 = 0;

1590 
Ãw_ev’t
->
İ
 = 0;

1591 
Ãw_ev’t
->
isP»ãtch
 = 0;

1592 
Ãw_ev’t
->
L2miss_æag
 = 0;

1593 
Ãw_ev’t
->
İ”©iÚ
 = 
FINAL_INV_ACK
;

1594 
Ãw_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1595 
Ãw_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1596 
Ãw_ev’t
->
des1
 = 
švCŞËùTabË
[
th»adid
][
i
].
owÃrsLi¡
[
j
]/
mesh_size
+
MEM_LOC_SHIFT
;

1597 
Ãw_ev’t
->
des2
 = 
švCŞËùTabË
[
th»adid
][
i
].
owÃrsLi¡
[
j
]%
mesh_size
;

1598 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

1599 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1600 
Ãw_ev’t
->
·»Á
 = 
NULL
;

1601 
Ãw_ev’t
->
‹mpID
 = 
švCŞËùTabË
[
th»adid
][
i
].
owÃrsLi¡
[
j
];

1602 
Ãw_ev’t
->
»£nd
 = 0;

1603 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

1604 
Ãw_ev’t
->
ı
 = 
NULL
;

1605 
Ãw_ev’t
->
addr
 =‡ddr;

1606 
Ãw_ev’t
->
vp
 = 
NULL
;

1607 
Ãw_ev’t
->
nby‹s
 = 0;

1608 
Ãw_ev’t
->
ud©a
 = 
NULL
;

1609 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

1610 
Ãw_ev’t
->
rs
 = 
NULL
;

1611 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

1612 
Ãw_ev’t
->
¥ec_mode
 = 0;

1613 if(
švCŞËùTabË
[
th»adid
][
i
].
ack_cÚf
[
j
])

1614 
Ãw_ev’t
->
cÚf_b™
 = 1;

1616 
vc
 = 0;

1617 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

1618 
vc
 = 
	`pİÃtBufãrS·û
(
Ãw_ev’t
->
¤c1
,‚ew_ev’t->
¤c2
, -1);

1619 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

1620 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

1622 
švCŞËùTabË
[
th»adid
][
i
].
isV®id
 = 0;

1629 
	}
}

1632 
couÁ”_t
 
šv®id©iÚ_»¶ay
[
MAXTHREADS
];

1634 
	$£ndLSQInv
(
md_addr_t
 
addr
, 
th»adid
)

1636 ià(
cŞËù_¡©s
)

1638 
cx
, 
dx
;

1639 
LSQ_size
;

1640 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

1641 
md_addr_t
 
mask
;

1643 
mask
 = ~
ÿche_dl1
[
th»adid
]->
blk_mask
;

1645 
cx
 = 
cu¼’t
->
LSQ_h—d
, 
dx
 = 0; dx !ğcu¼’t->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

1647 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOADè&& (cu¼’t->LSQ[cx].
addr
 & 
mask
è=ğ×dd¸& maskè&& !cu¼’t->LSQ[cx].
¥ec_mode
 && !cu¼’t->LSQ[cx].
isP»ãtch
 && cu¼’t->LSQ[cx].
issued
)

1649 #ifdeà
SEQUENTIAL_CONSISTENCY


1650 
	`fixS³cS‹
 (
cu¼’t
->
LSQ
[
cx
].
´od
[1]->
šdex
, 
th»adid
);

1651 
cu¼’t
->
»gs
 = cu¼’t->
LSQ
[
cx
].
´od
[1]->
backupReg
;

1652 
	`£qCÚsi¡ªcyR•Ïy
 (
cu¼’t
->
LSQ
[
cx
].
´od
[1]->
šdex
, 
th»adid
);

1653 
šv®id©iÚ_»¶ay
[
th»adid
]++;

1656 #ifdeà
RELAXED_CONSISTENCY


1657 
cu¼’t
->
LSQ
[
cx
].
šv®id©iÚReûived
 = 1;

1662 
	}
}

1665 
	$»£t_pÜts
()

1667 
i
;

1668 
i
 = 0; i < 
MAXTHREADS
+
mesh_size
*2; i++)

1670 
dœ_fifo_pÜtu£
[
i
] = 0;

1671 
l1_fifo_pÜtu£
[
i
] = 0;

1672 #ifdeà
TSHR


1673 
tshr_fifo_pÜtu£
[
i
] = 0;

1676 
	}
}

1677 #ifdeà
LOCK_CACHE_REGISTER


1678 
	$LockRege¡”Check
(
DIRECTORY_EVENT
 *
ev’t
)

1680 
th»adid
 = (
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
;

1681 
LOCK_CACHE
 *
LockReg
 = &
Lock_ÿche
[
th»adid
];

1682 if(
LockReg
->
SubSüibeVeù
 =ğ0 && LockReg->
lock_owÃr
 == 0)

1684 
LockReg
->
SubSüibeVeù
 |ğ()1<<
ev’t
->
‹mpID
;

1685 
LockReg
->
g
 = 
ev’t
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1);

1687 if((
ev’t
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è=ğ
LockReg
->
g
)

1688 
LockReg
->
SubSüibeVeù
 |ğ()1<<
ev’t
->
‹mpID
;

1690 
	}
}

1691 
	$lock_ÿche_acûss
(
DIRECTORY_EVENT
 *
ev’t
)

1693 
th»adid
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

1694 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
 ||ƒv’t->¡Üe_cÚd =ğ
MY_LDL_L
)

1696 if(
ev’t
->
İ”©iÚ
 =ğ
INV_MSG_UPDATE
)

1698 if(
ev’t
->
addr
 =ğ
commÚ_»gs_s
[
thecÚ‹xts
[
th»adid
]->
ma¡”id
][th»adid].
add»ss
 && commÚ_»gs_s[thecÚ‹xts[th»adid]->ma¡”id][th»adid].
»gs_lock
)

1700 if(
lock_fifo_num
[
th»adid
] >ğ
MAXLOCKEVENT
)

1702 
lock_fifo_fuÎ
 ++;

1705 
lock_fifo
[
th»adid
][
lock_fifo_
[th»adid]] = 
ev’t
;

1706 
lock_fifo_num
[
th»adid
] ++;

1707 
lock_fifo_
[
th»adid
] = (lock_fifo_[th»adid] + 1 + 
MAXLOCKEVENT
) % MAXLOCKEVENT;

1711 if(((
ev’t
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è=ğ
Lock_ÿche
[
th»adid
].
g
))

1713 if(
lock_fifo_num
[
th»adid
] >ğ
MAXLOCKEVENT
)

1715 
lock_fifo_fuÎ
 ++;

1718 
lock_fifo
[
th»adid
][
lock_fifo_
[th»adid]] = 
ev’t
;

1719 
lock_fifo_num
[
th»adid
] ++;

1720 
lock_fifo_
[
th»adid
] = (lock_fifo_[th»adid] + 1 + 
MAXLOCKEVENT
) % MAXLOCKEVENT;

1725 
	}
}

1726 
	$lock_ÿche_İ”©iÚ
(
DIRECTORY_EVENT
 *
ev’t
)

1728 
th»adid
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

1729 
LOCK_CACHE
 *
LockReg
 = &
Lock_ÿche
[
th»adid
];

1730 
Th»adid
;

1732 
ev’t
->
¡Üe_cÚd
)

1734 
MY_LDL_L
:

1735 if((
ev’t
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è=ğ
LockReg
->
g
)

1737 
lock_ÿche_h™
 ++;

1738 
LockReg
->
SubSüibeVeù
 |ğ()1<<
ev’t
->
‹mpID
;

1740 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

1741 
ev’t
->
¤c1
 +ğev’t->
des1
;

1742 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

1743 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

1744 
ev’t
->
¤c2
 +ğev’t->
des2
;

1745 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

1746 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

1747 
ev’t
->
´oûssšgDÚe
 = 0;

1748 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1749 
ev’t
->
·»Á
 = 
NULL
;

1750 
ev’t
->
blk_dœ
 = 
NULL
;

1751 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

1752 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 0);

1753 
	`dœ_ev’tq_š£¹
(
ev’t
);

1758 
lock_ÿche_miss
 ++;

1760 
	`·nic
("LOCK OPERATION!");

1763 
MY_STL_C
:

1764 if(
ev’t
->
İ”©iÚ
 =ğ
INV_MSG_UPDATE
)

1766 if(
ev’t
->
addr
 =ğ
commÚ_»gs_s
[
thecÚ‹xts
[
th»adid
]->
ma¡”id
][th»adid].
add»ss
 && commÚ_»gs_s[thecÚ‹xts[th»adid]->ma¡”id][th»adid].
»gs_lock
)

1768 
commÚ_»gs_s
[
thecÚ‹xts
[
th»adid
]->
ma¡”id
][th»adid].
»gs_lock
 = 0;

1769 
commÚ_»gs_s
[
thecÚ‹xts
[
th»adid
]->
ma¡”id
][th»adid].
subsüibe_v®ue
 = ~common_regs_s[thecontexts[threadid]->masterid][threadid].subscribe_value;

1771 
i
, 
mshr_size
;

1772 
mshr_size
 = 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrSIZE
;

1773 
i
=0;i<
mshr_size
;i++)

1775 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
isV®id


1776 && ((
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
addr
 >> cache_dl1[th»adid]->
£t_shiá
è=ğ(
ev’t
->addr >> cache_dl1[threadid]->set_shift)))

1778 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
sim_cyşe
;

1779 if(!
ev’t
->
¥ec_mode
 && 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].ev’t->
rs
)

1781 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
ev’t
->
rs
->
wr™ewa™
 = 2;

1782 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
ev’t
->
rs
->
STL_C_ç
 = 1;

1784 #ifdeà
SMD_USE_WRITE_BUF


1785 if(
ev’t
->
l1_wb_’Œy
)

1786 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
ev’t
->
l1_wb_’Œy
->
STL_C_ç
 = 1;

1791 
	`ä“_ev’t
(
ev’t
);

1794 
	`·nic
("The store conditional update did‚ot matchhe†oad†ink‡ddress„egister!");

1796 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
)

1798 if((
ev’t
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è=ğ
Lock_ÿche
[
th»adid
].
g
)

1800 
lock_ÿche_h™
 ++;

1801 if(
LockReg
->
lock_owÃr
 !ğ0 && LockReg->lock_owÃ¸!ğ
ev’t
->
‹mpID
+1)

1803 
	`´štf
("th»adid %d fa oÀlock \n", 
ev’t
->
‹mpID
);

1804 
	`ä“_ev’t
(
ev’t
);

1809 
LockReg
->
SubSüibeVeù
 &ğ~()1<<
ev’t
->
‹mpID
;

1811 
LockReg
->
BoŞV®ue
 = ~LockReg->BoolValue;

1812 if(
LockReg
->
lock_owÃr
 == 0)

1814 
LockReg
->
lock_owÃr
 = 1+
ev’t
->
‹mpID
;

1815 
	`´štf
("th»adid %d‡cquœÚ†ock \n", 
ev’t
->
‹mpID
);

1817 if(
LockReg
->
lock_owÃr
 =ğ1+
ev’t
->
‹mpID
)

1819 
LockReg
->
lock_owÃr
 = 0;

1820 
	`´štf
("th»adid %d„–—£ oÀlock \n", 
ev’t
->
‹mpID
);

1824 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

1826 if((((
LockReg
->
SubSüibeVeù
è& (()1 << (
Th»adid
%64))è=ğ(()1 << (Th»adid%64))è&& (Th»adid !ğ
ev’t
->
‹mpID
))

1828 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

1829 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

1830 
Ãw_ev’t
->
»q_time
 = 0;

1831 
Ãw_ev’t
->
cÚf_b™
 = -1;

1832 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

1833 
Ãw_ev’t
->
³ndšg_æag
 = 0;

1834 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

1835 
Ãw_ev’t
->
isP»ãtch
 = 0;

1836 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

1837 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_UPDATE
;

1838 
Ãw_ev’t
->
cÚf_b™
 = 
ev’t
->
chdCouÁ
;

1839 
Ãw_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1840 
Ãw_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1841 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1842 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

1843 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

1844 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1845 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

1846 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

1847 
Ãw_ev’t
->
»£nd
 = 0;

1848 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

1849 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

1850 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

1851 
Ãw_ev’t
->
vp
 = 
NULL
;

1852 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

1853 
Ãw_ev’t
->
ud©a
 = 
NULL
;

1854 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

1855 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

1856 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

1857 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

1858 
Ãw_ev’t
->
¥ec_mode
 = 0;

1859 
ev’t
->
chdCouÁ
++;

1860 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI") || (!mystricmp(network_type, "HYBRID")))

1862 #ifdeà
INV_ACK_CON


1863 
th»ad_id
;

1864 if(
	`Is_Sh¬ed
(
LockReg
->
SubSüibeVeù
, 
‹mpID
) > 1)

1866 if((
Ãw_ev’t
->
¤c1
*
mesh_size
+Ãw_ev’t->
¤c2
 !ğÃw_ev’t->
des1
*mesh_size+Ãw_ev’t->
des2
è&& ((!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI")è|| (!my¡ricmpÒ‘wÜk_ty³, "HYBRID"è&& ((
	`abs
(new_event->src1 -‚ew_event->des1) +‡bs(new_event->src2 -‚ew_event->des2)) > 1))))

1868 
Ãw_ev’t
->
d©a_»¶y
 = 0;

1869 
DIRECTORY_EVENT
 *
Ãw_ev’t2
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

1870 if(
Ãw_ev’t2
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

1871 if(
cŞËù_¡©s
)

1872 
ı_dœ
->
dœ_acûss
 ++;

1873 
Ãw_ev’t2
->
šput_bufãr_fuÎ
 = 0;

1874 
Ãw_ev’t2
->
»q_time
 = 0;

1875 
Ãw_ev’t2
->
cÚf_b™
 = -1;

1876 
Ãw_ev’t2
->
³ndšg_æag
 = 0;

1877 
Ãw_ev’t2
->
İ
 = 
ev’t
->op;

1878 
Ãw_ev’t2
->
isP»ãtch
 = 0;

1879 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_UPDATE
;

1880 
Ãw_ev’t2
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

1881 
Ãw_ev’t2
->
¤c1
 = 
Ãw_ev’t
->
des1
;

1882 
Ãw_ev’t2
->
¤c2
 = 
Ãw_ev’t
->
des2
;

1883 
Ãw_ev’t2
->
des1
 = 
Ãw_ev’t
->
¤c1
;

1884 
Ãw_ev’t2
->
des2
 = 
Ãw_ev’t
->
¤c2
;

1885 
Ãw_ev’t2
->
´oûssšgDÚe
 = 0;

1886 
Ãw_ev’t2
->
¡¬tCyşe
 = 
sim_cyşe
;

1887 
Ãw_ev’t2
->
·»Á
 = 
ev’t
;

1888 
Ãw_ev’t2
->
‹mpID
 = 
ev’t
->tempID;

1889 
Ãw_ev’t2
->
»£nd
 = 0;

1890 
Ãw_ev’t2
->
blk_dœ
 = 
NULL
;

1891 
Ãw_ev’t2
->
ı
 = 
ev’t
->cp;

1892 
Ãw_ev’t2
->
addr
 = 
ev’t
->addr;

1893 
Ãw_ev’t2
->
vp
 = 
NULL
;

1894 
Ãw_ev’t2
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

1895 
Ãw_ev’t2
->
ud©a
 = 
NULL
;

1896 
Ãw_ev’t2
->
cmd
 = 
Wr™e
;

1897 
Ãw_ev’t2
->
rs
 = 
ev’t
->rs;

1898 
Ãw_ev’t2
->
¡¬‹d
 = 
sim_cyşe
;

1899 
Ãw_ev’t2
->
¥ec_mode
 = 0;

1900 
Ãw_ev’t2
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

1901 
Ãw_ev’t2
->
d©a_»¶y
 = 0;

1902 
pİÃtMsgNo
 ++;

1903 
Ãw_ev’t2
->
pİÃtMsgNo
 =…opnetMsgNo;

1904 
Ãw_ev’t2
->
wh’
 = 
WAIT_TIME
;

1905 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t2
);

1908 
Ãw_ev’t
->
d©a_»¶y
 = 1;

1911 
Ãw_ev’t
->
d©a_»¶y
 = 1;

1913 
Ãw_ev’t
->
d©a_»¶y
 = 1;

1917 
Ãw_ev’t
->
d©a_»¶y
 = 1;

1918 
ev’t
->
dœty_æag
 = 1;

1920 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 0);

1922 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

1930 
lock_ÿche_miss
 ++;

1931 
	`·nic
("LOCK OPERATION!");

1936 if((
ev’t
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
 - 1)è=ğ
Lock_ÿche
[
th»adid
].
g
)

1938 
dÿche2_acûss
++;

1939 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

1940 (
ev’t
->
·»Á
)->
chdCouÁ
 --;

1942 if((
ev’t
->
·»Á
)->
chdCouÁ
 == 0)

1945 
DIRECTORY_EVENT
 *
·»Á_ev’t
 = 
ev’t
->
·»Á
;

1946 
·ck‘_size
 = 
m‘a_·ck‘_size
;

1949 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

1950 
·»Á_ev’t
->
»qAckTime
 = 
sim_cyşe
;

1951 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

1952 
·»Á_ev’t
->
¤c1
 = 
ev’t
->
des1
;

1953 
·»Á_ev’t
->
¤c2
 = 
ev’t
->
des2
;

1954 
·»Á_ev’t
->
des1
 =…¬’t_ev’t->
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

1955 
·»Á_ev’t
->
des2
 =…¬’t_ev’t->
‹mpID
%
mesh_size
;

1956 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

1957 
·»Á_ev’t
->
³ndšgInvAck
 = 0;

1958 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
,…¬’t_ev’t->
¡¬tCyşe
, 
·ck‘_size
, 0);

1959 
	`ä“_ev’t
(
ev’t
);

1960 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

1963 
	`ä“_ev’t
(
ev’t
);

1968 
lock_ÿche_miss
 ++;

1969 
	`·nic
("LOCK OPERATION!");

1975 
	`·nic
("Operations otherhan LDL_L‡nd STL_C‡nd‚ot‡ccesshis function");

1977 
	}
}

1979 
m_shSQSize
;

1980 
	$dœ_fifo_’queue
(
DIRECTORY_EVENT
 *
ev’t
, 
ty³
)

1982 
th»adid
 = 
ev’t
->
des1
*
mesh_size
 +ƒv’t->
des2
;

1983 if(
ev’t
->
İ”©iÚ
 =ğ
INV_MSG_READ
 ||ƒv’t->İ”©iÚ =ğ
INV_MSG_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_IL1
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_SHARED
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
 ||ƒv’t->İ”©iÚ =ğ
FINAL_INV_ACK
 ||ƒv’t->İ”©iÚ =ğ
NACK
 ||ƒv’t->İ”©iÚ =ğ
FAIL


1984 #ifdeà
WRITE_EARLY


1985 || 
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE_EARLY


1987 #ifdeà
PREFETCH_OPTI


1988 || 
ev’t
->
İ”©iÚ
 =ğ
READ_META_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_META_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
WRITE_META_REPLY
 ||ƒv’t->İ”©iÚ =ğ
WRITE_DATA_REPLY


1992 #ifdeà
LOCK_CACHE_REGISTER


1993 if(
ev’t
->
İ”©iÚ
 =ğ
INV_MSG_UPDATE
)

1994 if(
	`lock_ÿche_acûss
(
ev’t
))

1997 if(
l1_fifo_num
[
th»adid
] >ğ
DIR_FIFO_SIZE
)

1998 
	`·nic
("L1 cache FIFO is full");

1999 if(
ty³
 =ğ0 && 
l1_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
)

2001 if(
l1_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
 && !
Ï¡_L1_fifo_fuÎ
[threadid])

2003 
L1_fifo_fuÎ
 ++;

2004 
Ï¡_L1_fifo_fuÎ
[
th»adid
] = 
sim_cyşe
;

2008 if(
Ï¡_L1_fifo_fuÎ
[
th»adid
])

2010 
SÎ_L1_fifo
 +ğ
sim_cyşe
 - 
Ï¡_L1_fifo_fuÎ
[
th»adid
];

2011 
Ï¡_L1_fifo_fuÎ
[
th»adid
] = 0;

2013 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_IL1
èev’t->
wh’
 = 
sim_cyşe
 + 
ÿche_1_Ït
;

2014 
ev’t
->
wh’
 = 
sim_cyşe
 + 
ÿche_dl1_Ït
;

2015 
l1_fifo
[
th»adid
][
l1_fifo_
[th»adid]] = 
ev’t
;

2016 
l1_fifo_
[
th»adid
] = (l1_fifo_[th»adid]+1)%
DIR_FIFO_SIZE
;

2017 
l1_fifo_num
[
th»adid
]++;

2022 #ifdeà
LOCK_CACHE_REGISTER


2023 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
ACK_MSG_UPDATE
)

2024 if(
	`lock_ÿche_acûss
(
ev’t
))

2027 #ifdeà
TSHR


2028 if(
ev’t
->
æ_æag
)

2030 
ev’t
->
wh’
 = 
sim_cyşe
+
RETRY_TIME
;

2031 
tshr_fifo
[
th»adid
][
tshr_fifo_
[th»adid]] = 
ev’t
;

2032 
tshr_fifo_
[
th»adid
] = (tshr_fifo_[th»adid]+1)%
TSHR_FIFO_SIZE
;

2033 
tshr_fifo_num
[
th»adid
]++;

2037 if(
dœ_fifo_num
[
th»adid
] >ğ
DIR_FIFO_SIZE
)

2038 
	`·nic
("DIR FIFO is full");

2039 if(
ty³
 =ğ0 && 
dœ_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
)

2041 if(
dœ_fifo_num
[
th»adid
] >ğ
dœ_fifo_size
 && !
Ï¡_Dœ_fifo_fuÎ
[threadid])

2043 
Dœ_fifo_fuÎ
 ++;

2044 
Ï¡_Dœ_fifo_fuÎ
[
th»adid
] = 
sim_cyşe
;

2048 if(
Ï¡_Dœ_fifo_fuÎ
[
th»adid
])

2050 
SÎ_dœ_fifo
 +ğ
sim_cyşe
 - 
Ï¡_Dœ_fifo_fuÎ
[
th»adid
];

2051 
Ï¡_Dœ_fifo_fuÎ
[
th»adid
] = 0;

2054 if(
ev’t
->
İ”©iÚ
 !ğ
MEM_READ_REQ
 &&ƒv’t->İ”©iÚ !ğ
MEM_READ_REPLY
 &&ƒv’t->İ”©iÚ !ğ
WAIT_MEM_READ_NBLK
)

2055 
ev’t
->
wh’
 = 
sim_cyşe
 + 
ÿche_dl2_Ït
;

2057 
ev’t
->
wh’
 = 
sim_cyşe
;

2058 
dœ_fifo
[
th»adid
][
dœ_fifo_
[th»adid]] = 
ev’t
;

2059 
dœ_fifo_
[
th»adid
] = (dœ_fifo_[th»adid]+1)%
DIR_FIFO_SIZE
;

2060 
dœ_fifo_num
[
th»adid
]++;

2063 
	}
}

2065 
	$dœ_fifo_dequeue
()

2067 
i
, 
j
;

2068 #ifdeà
LOCK_CACHE_REGISTER


2069 
’Œy
;

2070 
i
=0;i<
numcÚ‹xts
;i++)

2072 if(
lock_fifo_num
[
i
])

2074 
j
=0;j<
MAXLOCKEVENT
;j++)

2076 if(
	`lock_ÿche_İ”©iÚ
(
lock_fifo
[
i
][
lock_fifo_h—d
[i]]))

2078 
lock_fifo_num
[
i
] --;

2079 
lock_fifo_b’ef™
 ++;

2080 
lock_fifo_h—d
[
i
] = (lock_fifo_h—d[i]+1+
MAXLOCKEVENT
)%MAXLOCKEVENT;

2084 if(
lock_fifo_num
[
i
] == 0)

2090 #ifdeà
TSHR


2092 
i
 = 0; i < 
numcÚ‹xts
+
mesh_size
*2; i++)

2094 if(
tshr_fifo_num
[
i
] <ğ0 || 
tshr_fifo_pÜtu£
[i] >ğ
DIR_FIFO_PORTS
)

2098 if(
tshr_fifo
[
i
][
tshr_fifo_h—d
[i]]->
wh’
 > 
sim_cyşe
)

2100 if(
	`dœ_İ”©iÚ
(
tshr_fifo
[
i
][
tshr_fifo_h—d
[i]], 0) == 0)

2102 
tshr_fifo_pÜtu£
[
i
]++;

2103 
tshr_fifo_h—d
[
i
] = (tshr_fifo_h—d[i]+1)%
TSHR_FIFO_SIZE
;

2104 
tshr_fifo_num
[
i
]--;

2105 if(
tshr_fifo_pÜtu£
[
i
] >ğ
DIR_FIFO_PORTS
 || 
tshr_fifo_num
[i] <= 0)

2112 
i
 = 0; i < 
numcÚ‹xts
+
mesh_size
*2; i++)

2114 if(
dœ_fifo_num
[
i
] <ğ0 || 
dœ_fifo_pÜtu£
[i] >ğ
DIR_FIFO_PORTS
)

2118 if(
dœ_fifo
[
i
][
dœ_fifo_h—d
[i]]->
wh’
 > 
sim_cyşe
)

2120 if(
	`dœ_İ”©iÚ
(
dœ_fifo
[
i
][
dœ_fifo_h—d
[i]], 0) == 0)

2122 
dœ_fifo_pÜtu£
[
i
]++;

2123 
dœ_fifo_h—d
[
i
] = (dœ_fifo_h—d[i]+1)%
DIR_FIFO_SIZE
;

2124 
dœ_fifo_num
[
i
]--;

2125 if(
dœ_fifo_pÜtu£
[
i
] >ğ
DIR_FIFO_PORTS
 || 
dœ_fifo_num
[i] <= 0)

2131 
i
 = 0; i < 
numcÚ‹xts
+
mesh_size
*2; i++)

2133 
»s_poŞ
 *
fu_poŞ
;

2135 if(
l1_fifo_num
[
i
] <ğ0 || 
l1_fifo_pÜtu£
[i] >ğ
DIR_FIFO_PORTS
)

2139 if(
l1_fifo
[
i
][
l1_fifo_h—d
[i]]->
wh’
 > 
sim_cyşe
)

2141 if(
	`dœ_İ”©iÚ
(
l1_fifo
[
i
][
l1_fifo_h—d
[i]], 0) == 0)

2143 
l1_fifo_pÜtu£
[
i
]++;

2144 
l1_fifo_h—d
[
i
] = (l1_fifo_h—d[i]+1)%
DIR_FIFO_SIZE
;

2145 
l1_fifo_num
[
i
]--;

2146 if(
l1_fifo_pÜtu£
[
i
] >ğ
DIR_FIFO_PORTS
 || 
l1_fifo_num
[i] <= 0)

2150 
	}
}

2155 
	$dœ_ev’tq_š£¹
(
DIRECTORY_EVENT
 *
ev’t
)

2157 
DIRECTORY_EVENT
 *
ev
, *
´ev
;

2159 
´ev
 = 
NULL
, 
ev
 = 
dœ_ev’t_queue
;ƒv && (Óv->
wh’
è<ğ(
ev’t
->wh’));…»v =ƒv,ƒv =ƒv->
Ãxt
);

2160 ià(
´ev
)

2162 
ev’t
->
Ãxt
 = 
ev
;

2163 
´ev
->
Ãxt
 = 
ev’t
;

2167 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

2168 
dœ_ev’t_queue
 = 
ev’t
;

2170 
	}
}

2172 #ifdeà
CONF_RES_RESEND


2174 
	$queue_š£¹
(
DIRECTORY_EVENT
 *
ev’t
, 
QUEUE_EVENT
 *
queue
)

2176 
i
 = 0;

2177 if(
queue
->
ä“_EÁr›s
 == 0)

2178 
	`·nic
("There is‚o freeƒntryo insert in sending message queue");

2180 
i
=0; i<
QUEUE_SIZE
; i++)

2182 if(!
queue
->
Queue_’Œy
[
i
].
isv®id
)

2184 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 1;

2185 
queue
->
Queue_’Œy
[
i
].
ev’t
 =ƒvent;

2186 
queue
->
ä“_EÁr›s
 --;

2191 
	}
}

2193 
	$ä“_queue
(
DIRECTORY_EVENT
 *
ev’t
, 
QUEUE_EVENT
 *
queue
)

2195 
i
 = 0;

2196 if(!
queue
) ;

2197 
i
=0; i<
QUEUE_SIZE
; i++)

2199 if(
queue
->
Queue_’Œy
[
i
].
isv®id
 && (queue->Queue_’Œy[i].
ev’t
->
addr
 =ğev’t->addrè&& (queue->Queue_’Œy[i].ev’t->
¡¬‹d
 ==ƒvent->started)

2200 && (
queue
->
Queue_’Œy
[
i
].
ev’t
->
missNo
 ==ƒvent->missNo))

2202 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 0;

2203 
queue
->
ä“_EÁr›s
 ++;

2208 if(
queue
->
ä“_EÁr›s
 > 
QUEUE_SIZE
)

2209 
	`·nic
("QUEUE SIZE EXCEEDS\n");

2211 
	}
}

2213 
	$queue_check
(
DIRECTORY_EVENT
 *
ev’t
, 
QUEUE_EVENT
 *
queue
)

2215 
i
 = 0;

2216 if(!
queue
)  0;

2217 
i
=0; i<
QUEUE_SIZE
; i++)

2219 if(
queue
->
Queue_’Œy
[
i
].
isv®id
 && (queue->Queue_’Œy[i].
ev’t
->
addr
 =ğev’t->addrè&& (queue->Queue_’Œy[i].ev’t->
¡¬‹d
 ==ƒvent->started)

2220 && (
queue
->
Queue_’Œy
[
i
].
ev’t
->
missNo
 ==ƒvent->missNo))

2224 
	}
}

2227 
	$ev’tq_upd©e
(
RUU_¡©iÚ
 *
rs
, 
tick_t
 
»ady
)

2229 
RS_lšk
 *
ev
, *
´ev
, *
Ãw_ev
=
NULL
;

2231 if(
rs
 =ğ
NULL
 || 
ev’t_queue
 == NULL)

2236 
´ev
=
NULL
, 
ev
=
ev’t_queue
; (ev->
Ãxt
!=NULL);…rev=ev,ƒv=ev->next)

2238 if((
ev
->
rs
 =ğrsè&& (ev->
g
 ==„s->tag))

2244 ià((
ev
->
rs
 =ğrsè&& (ev->
g
 ==„s->tag))

2246 ià(
´ev
)

2248 
´ev
->
Ãxt
 = 
ev
->next;

2252 
ev’t_queue
 = 
ev
->
Ãxt
;

2254 
Ãw_ev
 = 
ev
;

2255 
Ãw_ev
->
x
.
wh’
 = 
»ady
;

2257 
´ev
=
NULL
, 
ev
=
ev’t_queue
;ƒv &&ƒv->
x
.
wh’
 < 
»ady
;…»vóv,ƒvóv->
Ãxt
);

2258 ià(
´ev
)

2260 
Ãw_ev
->
Ãxt
 = 
´ev
->next;

2261 
´ev
->
Ãxt
 = 
Ãw_ev
;

2265 
Ãw_ev
->
Ãxt
 = 
ev’t_queue
;

2266 
ev’t_queue
 = 
Ãw_ev
;

2269 
	}
}

2270 #ifdeà
TSHRn


2271 
	$š™TSHR
(
tshr_t
 *
tshr
, 
æag
)

2273 
i
;

2274 
tshr
->
tshrSIZE
 = 
TSHR_SIZE
;

2275 
tshr
->
ä“EÁr›s
 = 
TSHR_SIZE
;

2276 
i
 = 0; i < 
TSHR_SIZE
; i++)

2278 
tshr
->
tshrEÁry
[
i
].
id
 = i;

2279 
tshr
->
tshrEÁry
[
i
].
isV®id
 = 0;

2280 
tshr
->
tshrEÁry
[
i
].
ev’t
 = 
NULL
;

2281 
tshr
->
tshrEÁry
[
i
].
addr
 = 0;

2283 
	}
}

2284 
	$TSHRIn£¹
(
tshr_t
 *
tshr
, 
DIRECTORY_EVENT
 *
ev’t
, 
md_addr_t
 
addr
)

2286 
i
;

2288 if(
tshr
->
ä“EÁr›s
 == 0)

2289 
	`·nic
("There is‚o freeƒntryo insert in TSHR");

2291 
i
 = 0; i < 
TSHR_SIZE
; i++)

2293 if(!
tshr
->
mshrEÁry
[
i
].
isV®id
)

2295 
tshr
->
tshrEÁry
[
i
].
isV®id
 = 1;

2296 
tshr
->
tshrEÁry
[
i
].
ev’t
 =ƒvent;

2297 
tshr
->
tshrEÁry
[
i
].
³ndšg_addr
 = (
addr
 & ~
ÿche_dl2
->
bsize
);

2298 
tshr
->
ä“EÁr›s
--;

2302 
	`·nic
("There is‚o freeƒntryo insert in MSHR");

2303 
	}
}

2304 
	$TSHRWakeup
(
tshr_t
 *
tshr
, 
wakeup_addr
)

2306 
i
;

2308 
i
 = 0; i < 
TSHR_SIZE
; i++)

2310 if(
tshr
->
mshrEÁry
[
i
].
isV®id
 && (tshr->
tshrEÁry
[i].
³ndšg_addr
 =ğ(
wakeup_addr
 & ~
ÿche_dl2
->
bsize
)))

2312 if(
	`dœ_İ”©iÚ
(
tshr
->
tshrEÁry
[
i
].
ev’t
))

2314 
tshr
->
tshrEÁry
[
i
].
isV®id
 = 1;

2315 
tshr
->
tshrEÁry
[
i
].
ev’t
 = 
NULL
;

2316 
tshr
->
tshrEÁry
[
i
].
³ndšg_addr
 = 0;

2317 
tshr
->
ä“EÁr›s
++;

2320 
	`·nic
("can‚ot wakeup becuasehe blk is still inransient state");

2324 
	`·nic
("There is‚o matchƒntry in TSHR");

2326 
	}
}

2329 #ifdeà
DCACHE_MSHR


2331 
	$š™MSHR
(
mshr_t
 *
mshr
, 
æag
)

2333 
i
, 
mshr_size
;

2334 if(!
mshr
) ;

2335 if(
æag
 == 1)

2336 
mshr_size
 = 
L2_MSHR_SIZE
;

2338 
mshr_size
 = 
MSHR_SIZE
;

2340 
mshr
->
mshrSIZE
 = 
mshr_size
;

2341 
mshr
->
ä“EÁr›s
 = 
mshr_size
;

2342 #ifdeà 
EDA


2343 
mshr
->
ä“OCEÁr›s
 = 
MSHR_OC_SIZE
;

2345 
i
 = 0; i < 
mshr_size
; i++)

2347 
mshr
->
mshrEÁry
[
i
].
id
 = i;

2348 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2349 
mshr
->
mshrEÁry
[
i
].
addr
 = 0;

2350 
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 = 0;

2351 
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 0;

2352 
mshr
->
mshrEÁry
[
i
].
blocknum
 = 0;

2353 #ifdef 
EDA


2354 
mshr
->
mshrEÁry
[
i
].
isOC
 = 0;

2357 
	}
}

2359 
	$isMSHRFuÎ
(
mshr_t
 *
mshr
, 
isOC
, 
id
)

2361 if(!
mshr
)  0;

2362 if(
mshr
->
ä“EÁr›s
 =ğ0 && !
Ï¡_L1_mshr_fuÎ
[
id
])

2364 
L1_mshr_fuÎ
 ++;

2365 
Ï¡_L1_mshr_fuÎ
[
id
] = 
sim_cyşe
;

2369 if(
Ï¡_L1_mshr_fuÎ
[
id
])

2371 
SÎ_L1_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L1_mshr_fuÎ
[
id
];

2372 
Ï¡_L1_mshr_fuÎ
[
id
] = 0;

2375  (
mshr
->
ä“EÁr›s
 == 0);

2376 
	}
}

2378 
	$ä“MSHR
(
mshr_t
 *
mshr
)

2380 
i
;

2381 if(!
mshr
) ;

2382 
i
 = 0; i < 
MSHR_SIZE
; i++)

2384 if(
mshr
->
mshrEÁry
[
i
].
isV®id
 && mshr->mshrEÁry[i].
’dCyşe
 <ğ
sim_cyşe
)

2386 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2387 
mshr
->
ä“EÁr›s
++;

2388 
RS_li¡
 *
´ev
, *
cur
;

2389 
cur
 = 
rs_ÿche_li¡
[
mshr
->
th»adid
][
i
];

2390 
cur
)

2392 if(
cur
->
rs
 && ((cur->rs->
addr
)>>
ÿche_dl1
[
mshr
->
th»adid
]->
£t_shiá
è!ğ(mshr->
mshrEÁry
[
i
].addr>>cache_dl1[mshr->threadid]->set_shift))

2393 
	`·nic
("L1 MSHR: illegal‡ddress in MSHR†ist");

2395 
´ev
 = 
cur
->
Ãxt
;

2396 
	`RS_block_Ãxt
(
cur
);

2397 
	`ä“
(
cur
);

2398 
cur
 = 
´ev
;

2400 
rs_ÿche_li¡
[
mshr
->
th»adid
][
i
] = 
NULL
;

2403 ià(
mshr
->
ä“EÁr›s
 > 
MSHR_SIZE
)

2404 
	`·nic
("MSHR SIZEƒxceeds\n");

2405 
	}
}

2407 
	$ä“L2MSHR
(
mshr_t
 *
mshr
)

2409 
i
;

2410 if(!
mshr
) ;

2411 
i
 = 0; i < 
L2_MSHR_SIZE
; i++)

2413 if(
mshr
->
mshrEÁry
[
i
].
isV®id
 && mshr->mshrEÁry[i].
’dCyşe
 <ğ
sim_cyşe
)

2415 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 0;

2416 
mshr
->
mshrEÁry
[
i
].
blocknum
 = 0;

2417 
mshr
->
ä“EÁr›s
++;

2420 ià(
mshr
->
ä“EÁr›s
 > 
L2_MSHR_SIZE
)

2421 
	`·nic
("MSHR SIZEƒxceeds\n");

2422 
	}
}

2424 
	$MSHR_block_check
(
mshr_t
 *
mshr
, 
md_addr_t
 
addr
, 
off£t
)

2426 
i
, 
m©ch
 = 0, 
mshr_size
;

2427 
mshr_size
 = 
mshr
->
mshrSIZE
;

2429 
i
=0; i<
mshr_size
; i++)

2431 if(
mshr
->
mshrEÁry
[
i
].
isV®id
)

2433 if(((
mshr
->
mshrEÁry
[
i
].
addr
>>
off£t
) == (addr>>offset)))

2435 if(
m©ch
 !ğ0è
	`·nic
("MSHR:‡ miss‡ddress belongso morehanwo MSHR Entries");

2436 
m©ch
 = (
i
+1);

2440  
m©ch
;

2441 
	}
}

2444 
	$MSHRLookup
(
mshr_t
 *
mshr
, 
md_addr_t
 
addr
, 
Ït
, 
isOC
, 
RUU_¡©iÚ
 *
rs
)

2446 
i
, 
mshr_size
;

2447 if(!
mshr
) ;

2449 if(
Ït
 < 
ÿche_dl1_Ït
)

2452 
mshr_size
 = 
mshr
->
mshrSIZE
;

2454 if(
rs
 &&„s->
th»adid
 !ğ
mshr
->threadid)

2455 
	`·nic
("L1 MSHR wronghreadid");

2457 if(
mshr
->
ä“EÁr›s
 == 0)

2458 
	`·nic
("There is‚o freeƒntryo insert in MSHR");

2460 
i
 = 0; i < 
mshr_size
; i++)

2462 if(!
mshr
->
mshrEÁry
[
i
].
isV®id
)

2464 
mshr
->
mshrEÁry
[
i
].
isV®id
 = 1;

2465 
mshr
->
mshrEÁry
[
i
].
addr
 =‡ddr;

2466 
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 = 
sim_cyşe
;

2467 
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
sim_cyşe
 + 
Ït
;

2468 
mshr
->
mshrEÁry
[
i
].
ev’t
 = 
ev’t_ü—‹d
;

2469 
mshr
->
mshrEÁry
[
i
].
rs
 =„s;

2470 
mshr
->
ä“EÁr›s
--;

2475 
	`·nic
("There is‚o freeƒntryo insert in MSHR");

2476 
	}
}

2477 
	$msh»Áry_upd©e
(
DIRECTORY_EVENT
 *
ev’t
, 
tick_t
 
»ady
,ick_ˆ
¡¬tcyşe
)

2479 
i
, 
mshr_size
;

2480 
th»adid
 = 
ev’t
->
‹mpID
;

2481 if(!
ÿche_dl1
[
th»adid
]->
mshr
)

2483 
mshr_size
 = 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrSIZE
;

2484 
i
=0;i<
mshr_size
;i++)

2486 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
isV®id


2487 && ((
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
addr
 >> cache_dl1[th»adid]->
£t_shiá
è=ğ(
ev’t
->addr >> cache_dl1[threadid]->set_shift)))

2489 #iâdeà
EUP_NETWORK


2490 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 !ğ
¡¬tcyşe
)

2491 
	`·nic
("L1 MSHR: illegal match in mshr");

2493 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
»ady
;

2497 
	}
}

2498 #ifdeà
READ_PERMIT


2499 
couÁ”_t
 
	$mshr_check_rs
(
th»adid
, 
md_addr_t
 
addr
, 
RUU_¡©iÚ
 **
rs
)

2501 
i
;

2502 if(!
ÿche_dl1
[
th»adid
]->
mshr
)

2504 
i
=0;i<
MSHR_SIZE
;i++)

2506 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
isV®id


2507 && ((
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
addr
 >> cache_dl1[th»adid]->
£t_shiá
) == (addr >> cache_dl1[threadid]->set_shift)))

2509 *
rs
 = 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].rs;

2510  
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
;

2513 
	}
}

2517 
	$loÿl_acûss_check
(
¤c1
, 
¤c2
, 
des1
, 
des2
)

2519 
æag
;

2520 if((
¤c1
*
mesh_size
+
¤c2
)==(
des1
*mesh_size+
des2
))

2521 
æag
 = 1;

2523 
æag
 = 0;

2524  
æag
;

2525 
	}
}

2526 
	$fšdCacheStus
(
ÿche_t
 *
ı
, 
md_addr_t
 
£t
, md_addr_ˆ
g
, 
hšdex
, 
ÿche_blk_t
 **
blk
)

2528 
ÿche_blk_t
 *
fšdblk
;

2530 
fšdblk
=
ı
->
£ts
[
£t
].
way_h—d
; fšdblk; fšdblk=fšdblk->
way_Ãxt
)

2532 if((
fšdblk
->
gid
.
g
 =ğgè&& (fšdblk->
¡©us
 & 
CACHE_BLK_VALID
)

2533 #ià
PROCESS_MODEL


2534 && (
isSh¬edAdd»ss
 == 1)

2538 *
blk
 = 
fšdblk
;

2543 
	}
}

2544 
	$Is_Sh¬ed
(*
sh¬”
, 
th»adid
)

2546 
couÁ
;

2547 
couÁ”
 = 0;

2548 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

2550 if((((
sh¬”
[
couÁ
/64]) & (()1 << (count%64))) == (()1 << (count%64))))

2552 
couÁ”
 ++;

2555 if(
couÁ”
)

2556  
couÁ”
;

2560 
	}
}

2561 
	$Is_ExşusiveOrDœty
(*
sh¬”
, 
th»adid
, *
ExşusiveID
)

2563 
couÁ
, 
Exşusive_id
;

2564 
couÁ”
 = 0;

2565 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

2567 if((((
sh¬”
[
couÁ
/64]) & (()1 << (count%64))) == (()1 << (count%64))))

2569 
couÁ”
 ++;

2570 
Exşusive_id
 = 
couÁ
;

2573 if(
couÁ”
 == 1)

2575 (*
ExşusiveID
èğ
Exşusive_id
;

2580 
	}
}

2582 
	$IsSh¬ed
(*
sh¬”
, 
th»adid
)

2584 
couÁ
;

2585 
couÁ”
 = 0;

2586 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

2588 if((((
sh¬”
[
couÁ
/64]è& (()1 << (couÁ%64))è=ğ(()1 << (couÁ%64))è&& (couÁ !ğ
th»adid
))

2590 
couÁ”
 ++;

2593 if(
couÁ”
)

2598 
	}
}

2599 
	$IsExşusiveOrDœty
(*
sh¬”
, 
th»adid
, *
ExşusiveID
)

2601 
couÁ
, 
Exşusive_id
;

2602 
couÁ”
 = 0;

2603 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

2605 if((((
sh¬”
[
couÁ
/64]è& (()1 << (couÁ%64))è=ğ(()1 << (couÁ%64))è&& (couÁ !ğ
th»adid
))

2607 
couÁ”
 ++;

2608 
Exşusive_id
 = 
couÁ
;

2611 if(
couÁ”
 == 1)

2613 (*
ExşusiveID
èğ
Exşusive_id
;

2618 
	}
}

2625 
	$ev’t_li¡_š£¹
(
DIRECTORY_EVENT
 *
ev’t
, 
’Œy
)

2627 if(
’Œy
 < 1 ||ƒÁry > 
L2_MSHR_SIZE
è
	`·nic
("L2 MSHR insertionƒrror");

2628 
’Œy
 =ƒntry - 1;

2629 
DIRECTORY_EVENT
 *
cur
, *
´ev
;

2631 if(
ev’t_li¡
[
’Œy
] && ((
ev’t
->
addr
 >> 
ÿche_dl2
->
£t_shiá
) != (event_list[entry]->addr >> cache_dl2->set_shift)))

2632 
	`·nic
("L2 MSHR insertionƒrror");

2635 if(
sim_cyşe
 =ğ
ÿche_dl2
->
mshr
->
mshrEÁry
[
’Œy
].
’dCyşe
)

2636 
	`dœ_ev’tq_š£¹
(
ev’t
);

2639 
ev’t
->
Ãxt
 = 
ev’t_li¡
[
’Œy
];

2640 
ev’t_li¡
[
’Œy
] = 
ev’t
;

2642 
	}
}

2644 
	$upd©e_L2_msh»Áry
(
md_addr_t
 
addr
, 
tick_t
 
»ady
,ick_ˆ
¡¬tcyşe
)

2646 
i
;

2647 if(!
ÿche_dl2
->
mshr
)

2648 
	`·nic
("L2 CACHE did‚ot have MSHR!");

2649 
DIRECTORY_EVENT
 *
cur
, *
´ev
;

2650 
i
=0;i<
L2_MSHR_SIZE
;i++)

2652 if(
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
isV®id


2653 && (
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
addr
 ==‡ddr))

2655 if(
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
¡¬tCyşe
 !ğ
¡¬tcyşe
)

2656 
	`·nic
("L2 MSHR: illegal match in MSHR while update");

2657 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
blocknum
 ++;

2658 if(
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
blocknum
 < 2)

2660 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
’dCyşe
 = 
»ady
;

2661 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].
blocknum
 = 0;

2662 
cur
 = 
ev’t_li¡
[
i
]; cur; cur=
´ev
)

2664 if(((
cur
->
addr
)>>
ÿche_dl2
->
£t_shiá
è!ğ((ÿche_dl2->
mshr
->
mshrEÁry
[
i
].addr>>cache_dl2->set_shift)))

2666 
	`´štf
("cu¸add¸%Îd, msh¸add¸%Îd\n", 
cur
->
addr
, 
ÿche_dl2
->
mshr
->
mshrEÁry
[
i
].addr);

2667 
	`·nic
("Eventlist should havehe same‡ddress with its‡ppending mshrƒntry!");

2669 
´ev
 = 
cur
->
Ãxt
;

2670 
cur
->
Ãxt
 = 
NULL
;

2671 
cur
->
wh’
 = 
sim_cyşe
;

2672 
	`dœ_ev’tq_š£¹
(
cur
);

2674 
ev’t_li¡
[
i
] = 
NULL
;

2678 
	}
}

2681 
	$IsNeighbÜ
(
sh¬”
, 
th»adid
, 
ty³
, 
md_addr_t
 
addr
)

2683 
couÁ
, 
şo£
, 
çr
, 
d©a_şo£
, 
d©a_çr
, 
d©a_cÜÃr
, 
tÙ®_sh¬”
, 
tÙ®_d©a_sh¬”
, 
cÜÃr
, 
d©a_æag
 = 0;

2684 
ÿche_t
 *
ı1
;

2685 
ÿche_blk_t
 *
blk1
;

2686 
md_addr_t
 
g
, 
£t
;

2687 
şo£
 = 0;

2688 
cÜÃr
 = 0;

2689 
çr
 = 0;

2690 
tÙ®_sh¬”
 = 0;

2691 
tÙ®_d©a_sh¬”
 = 0;

2692 
tÙ®_p_c_ev’ts
 ++;

2694 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

2696 if((((
sh¬”
è& (()1 << 
couÁ
)è=ğ(()1 << couÁ)è&& (couÁ !ğ
th»adid
))

2698 
ı1
 = 
ÿche_dl1
[
couÁ
];

2699 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

2700 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

2701 
blk1
 = 
ı1
->
£ts
[
£t
].
way_h—d
; blk1; blk1 =blk1->
way_Ãxt
)

2703 ià((
blk1
->
gid
.
g
 =ğgè&& (blk1->
¡©us
 & 
CACHE_BLK_VALID
))

2705 if(
blk1
->
¡©e
 =ğ
MESI_MODIFIED
)

2707 
d©a_æag
 = 1;

2708 
tÙ®_d©a_cÚsum”s
 ++;

2709 
tÙ®_d©a_sh¬”
 ++;

2714 
tÙ®_cÚsum”s
 ++;

2715 
tÙ®_sh¬”
 ++;

2717 if(
	`abs
(
th»adid
 - 
couÁ
) == 3 ||‡bs(threadid - count) == 5)

2719 
tÙ®_·ck‘s_©_cÜÃrs
 ++;

2720 
cÜÃr
 ++;

2721 if(
d©a_æag
 == 1)

2722 
tÙ®_d©a_©_cÜÃr
 ++;

2725 if(
	`abs
(
th»adid
 - 
couÁ
) == 1 ||‡bs(threadid - count) == 4)

2727 
şo£
 ++;

2728 
tÙ®_·ck‘s_š_ÃighbÜ
 ++;

2729 if(
d©a_æag
 == 1)

2730 
tÙ®_d©a_şo£
 ++;

2734 
çr
 ++;

2735 if(
d©a_æag
 == 1)

2736 
tÙ®_d©a_çr
 ++;

2742 if((
cÜÃr
 + 
şo£
è=ğ
tÙ®_sh¬”
)

2743 
tÙ®_®l_®mo¡şo£
 ++;

2745 if(
şo£
 =ğ
tÙ®_sh¬”
)

2746 
tÙ®_®l_şo£
 ++;

2749 
tÙ®_nÙ_®l_şo£
 ++;

2750 
av”age_šside_³rûÁ
 +ğ(()
şo£
/()
tÙ®_sh¬”
);

2751 
av”age_outside_³rûÁ
 +ğ(()
çr
/()
tÙ®_sh¬”
);

2752 
av”age_outside_abs_³rûÁ
 +ğ(()(
çr
-
cÜÃr
)/()
tÙ®_sh¬”
);

2753 
av”age_cÜÃr_³rûÁ
 +ğ(()(
cÜÃr
)/()
tÙ®_sh¬”
);

2756 
tÙ®_sh¬”
)

2759 1: 
sh¬”_num
[1] ++; ;

2760 2: 
sh¬”_num
[2] ++; ;

2761 3: 
sh¬”_num
[3] ++; ;

2762 4: 
sh¬”_num
[4] ++; ;

2763 5: 
sh¬”_num
[5] ++; ;

2764 6: 
sh¬”_num
[6] ++; ;

2765 7: 
sh¬”_num
[7] ++; ;

2766 8: 
sh¬”_num
[8] ++; ;

2767 9: 
sh¬”_num
[9] ++; ;

2768 10: 
sh¬”_num
[10] ++; ;

2769 11: 
sh¬”_num
[11] ++; ;

2770 12: 
sh¬”_num
[12] ++; ;

2771 13: 
sh¬”_num
[13] ++; ;

2772 14: 
sh¬”_num
[14] ++; ;

2774 : 
sh¬”_num
[15] ++; ;

2777 
	}
}

2778 
	$IsNeighbÜ_sh¬”
(
sh¬”
, 
th»adid
)

2780 
couÁ
;

2782 
couÁ
 = 0; couÁ < 
numcÚ‹xts
; count++)

2784 if((((
sh¬”
è& (()1 << 
couÁ
)è=ğ(()1 << couÁ)è&& (couÁ !ğ
th»adid
))

2786 if(
	`abs
(
th»adid
 - 
couÁ
) == 3 ||‡bs(threadid - count) == 5)

2787 
tÙ®_cÜÃr_·ck‘s
 ++;

2789 if(
	`abs
(
th»adid
 - 
couÁ
) == 1 ||‡bs(threadid - count) == 4)

2790 
tÙ®_ÃighbÜ_·ck‘s
 ++;

2792 
tÙ®_çr_·ck‘s
 ++;

2795 
	}
}

2797 
	$blockoff£t
(
md_addr_t
 
addr
)

2799 
bofs
;

2800 
bofs
 = 
addr
 & 
ÿche_dl2
->
blk_mask
;

2801 
bofs
 = bof >> 
ÿche_dl1
[0]->
£t_shiá
;

2802  
bofs
;

2803 
	}
}

2805 
DIRECTORY_EVENT
 *
	$®loÿ‹_Ãw_ev’t
(
DIRECTORY_EVENT
 *
ev’t
)

2807 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

2808 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

2810 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

2811 
Ãw_ev’t
->
»q_time
 = 0;

2812 
Ãw_ev’t
->
cÚf_b™
 = -1;

2813 
Ãw_ev’t
->
³ndšg_æag
 = 0;

2814 
Ãw_ev’t
->
isP»ãtch
 = 0;

2815 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

2816 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

2817 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

2818 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

2819 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

2820 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

2821 
Ãw_ev’t
->
vp
 = 
NULL
;

2822 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

2823 
Ãw_ev’t
->
ud©a
 = 
NULL
;

2824 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

2825 
Ãw_ev’t
->
¥ec_mode
 = 0;

2826 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

2827 
Ãw_ev’t
->
d©a_»¶y
 = 1;

2828 
Ãw_ev’t
->
mshr_time
 = 
ev’t
->mshr_time;

2829 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

2830 
Ãw_ev’t
->
Üigš®ChdCouÁ
 = 0;

2831 #ifdeà
SMD_USE_WRITE_BUF


2832 
Ãw_ev’t
->
l1_wb_’Œy
 = 
NULL
;

2835 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

2837 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

2838 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

2839 if((
ev’t
->
des1
-
MEM_LOC_SHIFT
)/(
mesh_size
/2))

2840 
Ãw_ev’t
->
des1
 = 
mesh_size
+1;

2842 
Ãw_ev’t
->
des1
 = 0;

2845 
ev’t
->
des2
/(
mesh_size
/(
mem_pÜt_num
/2)))

2848 
Ãw_ev’t
->
des2
 = 
mesh_size
/(
mem_pÜt_num
/2) - 1;

2851 
Ãw_ev’t
->
des2
 = 
mesh_size
/(
mem_pÜt_num
/2);

2854 
Ãw_ev’t
->
des2
 = 3*(
mesh_size
/(
mem_pÜt_num
/2)) - 1;

2857 
Ãw_ev’t
->
des2
 = 3*(
mesh_size
/(
mem_pÜt_num
/2));

2860 
Ãw_ev’t
->
des2
 = 5*(
mesh_size
/(
mem_pÜt_num
/2)) - 1;

2863 
Ãw_ev’t
->
des2
 = 5*(
mesh_size
/(
mem_pÜt_num
/2));

2866 
Ãw_ev’t
->
des2
 = 7*(
mesh_size
/(
mem_pÜt_num
/2)) - 1;

2869 
Ãw_ev’t
->
des2
 = 7*(
mesh_size
/(
mem_pÜt_num
/2));

2872 
	`·nic
("can‚ot have other case\n");

2875 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

2876 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

2877 
Ãw_ev’t
->
»£nd
 = 0;

2878  
Ãw_ev’t
;

2879 
	}
}

2880 #ifdeà
POPNET


2881 
	sOrd”BufãrEÁry


2883 
	mv®id
;

2884 
md_addr_t
 
	maddr
;

2885 
	mdes
;

2886 
	mvc
;

2887 
couÁ”_t
 
	mmsgno
;

2889 
Ord”BufãrEÁry
 
	gOrd”Bufãr
[
MAXSIZE
][MAXSIZE];

2890 
	gOrd”BufãrNum
[
MAXSIZE
];

2892 
	$Ord”BufIn™
()

2894 
i
=0, 
j
=0;

2895 
i
=0;i<
MAXSIZE
;i++)

2897 
Ord”BufãrNum
[
i
] = 0;

2898 
j
=0;j<
MAXSIZE
;j++)

2900 
Ord”Bufãr
[
i
][
j
].
addr
 = 0;

2901 
Ord”Bufãr
[
i
][
j
].
v®id
 = 0;

2902 
Ord”Bufãr
[
i
][
j
].
des
 = 0;

2903 
Ord”Bufãr
[
i
][
j
].
vc
 = -1;

2904 
Ord”Bufãr
[
i
][
j
].
msgno
 = 0;

2907 
	}
}

2908 
	$Ord”BufIn£¹
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
vc
, 
couÁ”_t
 
msgno
)

2910 
i
=0, 
¤c
, 
des
;

2911 
¤c
 = 
s1
*
mesh_size
+
s2
;

2912 
des
 = 
d1
*
mesh_size
+
d2
;

2914 if(
Ord”BufãrNum
[
¤c
] >ğ
MAXSIZE
)

2915 
	`·nic
("Out going buffer is full for…opnet multiple vcs");

2917 
i
=0;i<
MAXSIZE
;i++)

2919 if(!
Ord”Bufãr
[
¤c
][
i
].
v®id
)

2921 
Ord”Bufãr
[
¤c
][
i
].
v®id
 = 1;

2922 
Ord”Bufãr
[
¤c
][
i
].
addr
 =‡ddr;

2923 
Ord”Bufãr
[
¤c
][
i
].
des
 = des;

2924 
Ord”Bufãr
[
¤c
][
i
].
vc
 = vc;

2925 
Ord”Bufãr
[
¤c
][
i
].
msgno
 = msgno;

2926 
Ord”BufãrNum
[
¤c
] ++;

2930 
	}
}

2931 
	$Ord”BufRemove
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
couÁ”_t
 
msgno
)

2933 
i
=0, 
¤c
, 
des
;

2934 
¤c
 = 
s1
*
mesh_size
+
s2
;

2935 
des
 = 
d1
*
mesh_size
+
d2
;

2937 
i
=0;i<
MAXSIZE
;i++)

2939 if(
Ord”Bufãr
[
¤c
][
i
].
v®id
 && Ord”Bufãr[¤c][i].
addr
 =ğadd¸&& Ord”Bufãr[¤c][i].
des
 =ğde && Ord”Bufãr[¤c][i].
msgno
 == msgno)

2941 
Ord”Bufãr
[
¤c
][
i
].
v®id
 = 0;

2942 
Ord”Bufãr
[
¤c
][
i
].
addr
 = 0;

2943 
Ord”Bufãr
[
¤c
][
i
].
des
 = 0;

2944 
Ord”Bufãr
[
¤c
][
i
].
vc
 = -1;

2945 
Ord”Bufãr
[
¤c
][
i
].
msgno
 = 0;

2946 
Ord”BufãrNum
[
¤c
] --;

2950 
	`·nic
("Can‚ot findheƒntry in OrderBuffer");

2951 
	}
}

2953 
	$Ord”Check
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
)

2955 
i
=0, 
¤c
, 
des
;

2956 
¤c
 = 
s1
*
mesh_size
+
s2
;

2957 
des
 = 
d1
*
mesh_size
+
d2
;

2958 #ifdeà
MULTI_VC


2959 
i
=0;i<
MAXSIZE
;i++)

2961 if(
Ord”Bufãr
[
¤c
][
i
].
v®id
 && Ord”Bufãr[¤c][i].
addr
 =ğadd¸&& Ord”Bufãr[¤c][i].
des
 == des)

2962  
Ord”Bufãr
[
¤c
][
i
].
vc
;

2966 
	}
}

2969 
	$time¥aû
(
couÁ”_t
 
time
, 
ty³
)

2971 if(
time
 < 0)

2973 if(
time
 <5)

2974 
¥ªd
[0] ++;

2975 if(
time
 <10)

2976 
¥ªd
[1] ++;

2977 if(
time
 <20)

2978 
¥ªd
[2] ++;

2979 if(
time
 <30)

2980 
¥ªd
[3] ++;

2982 
¥ªd
[4] ++;

2983 if(
ty³
 == 1)

2984 
downg¿de_r
 ++;

2986 
downg¿de_w
 ++;

2988 
	}
}

2989 
	$dœ_İ”©iÚ
 (
DIRECTORY_EVENT
 *
ev’t
, 
lock_acûss
)

2991 
couÁ”_t
 
iÿche_acûss
;

2992 
couÁ”_t
 
dÿche_acûss
;

2994 
Ït
;

2995 
md_addr_t
 
g_dœ
, 
£t_dœ
;

2996 
md_addr_t
 
g_´eãtch
, 
£t_´eãtch
, 
addr_´eãtch
;

2997 
md_addr_t
 
g
, 
£t
;

2998 
hšdex_dœ
;

2999 
ÿche_blk_t
 *
blk
;

3000 
ÿche_blk_t
 *
blk1
;

3001 
ÿche_blk_t
 *
»¶
;

3003 
m©chnum
;

3004 
Th»adid
;

3005 
‹mpID
 = 
ev’t
->tempID;

3006 
couÁ
;

3007 
ÿche_t
 *
ı_dœ
 = 
ÿche_dl2
, *
ı1
;

3008 
md_addr_t
 
addr
=
ev’t
->addr;

3009 
·ck‘_size
;

3010 
g_dœ
 = 
	`CACHE_TAG
(
ı_dœ
, 
addr
);

3011 
£t_dœ
 = 
	`CACHE_SET
(
ı_dœ
, 
addr
);

3012 
hšdex_dœ
 = (è
	`CACHE_HASH
(
ı_dœ
,
g_dœ
);

3013 
md_addr_t
 
bofs
;

3014 
block_off£t
 = 
	`blockoff£t
(
ev’t
->
addr
);

3015 
švCŞËùStus
 = 0;

3016 
vc
 = 0, 
a
 = 0;

3019 
İtiÚs
 = -1;

3020 
ev’t
->
æ_æag
 = 0;

3022 if(!(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_IL1
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_SHARED
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE


3023 #ifdeà
PREFETCH_OPTI


3024 || 
ev’t
->
İ”©iÚ
 =ğ
READ_META_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_META_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
WRITE_META_REPLY
 ||ƒv’t->İ”©iÚ =ğ
WRITE_DATA_REPLY


3029 
bufãr_fuÎ_æag
 = 0;

3030 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !(mystricmp (network_type, "HYBRID")))

3031 
bufãr_fuÎ_æag
 = 
	`İtiÿlBufãrS·û
(
ev’t
->
des1
,ƒv’t->
des2
,ƒv’t->
İ”©iÚ
);

3032 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

3034 if(!(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_IL1
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_SHARED
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
 ||ƒv’t->İ”©iÚ =ğ
FINAL_INV_ACK
 ||ƒv’t->İ”©iÚ =ğ
MEM_READ_REQ
 ||ƒv’t->İ”©iÚ =ğ
MEM_READ_REPLY
 ||ƒv’t->İ”©iÚ =ğ
WAIT_MEM_READ_NBLK
 || (ev’t->
des1
 =ğev’t->
¤c1
 &&ƒv’t->
des2
 =ğev’t->
¤c2
)

3035 #ifdeà
PREFETCH_OPTI


3036 || 
ev’t
->
İ”©iÚ
 =ğ
READ_META_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_META_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
WRITE_META_REPLY
 ||ƒv’t->İ”©iÚ =ğ
WRITE_DATA_REPLY


3040 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
des1
,ƒv’t->
des2
,ƒv’t->
¤c1
,ƒv’t->
¤c2
, 
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3041 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
des1
,ƒv’t->
des2
, 
İtiÚs
);

3043 
bufãr_fuÎ_æag
 = (
vc
 == -1);

3045 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

3047 
bufãr_fuÎ_æag
 = 
	`CombN‘wÜkBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1),ƒv’t->
İ”©iÚ
, &
vc
);

3049 if(
bufãr_fuÎ_æag
)

3051 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3053 
IÅut_queue_fuÎ
 ++;

3054 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

3060 if(
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3062 
SÎ_šput_queue
 +ğ
sim_cyşe
 - 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
];

3063 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3068 
ev’t
->
İ”©iÚ
)

3070 
IDEAL_CASE
 :

3071 
	`·nic
("DIR: Event operation is ideal -‚ot…ossible");

3073 #ifdeà
REAL_LOCK


3074 
FAIL
:

3075 if(!
ev’t
->
¥ec_mode
 &&ƒv’t->
rs
)

3077 
ev’t
->
rs
->
wr™ewa™
 = 2;

3078 
ev’t
->
rs
->
STL_C_ç
 = 1;

3080 #ifdeà
SMD_USE_WRITE_BUF


3081 if(
ev’t
->
l1_wb_’Œy
)

3082 
ev’t
->
l1_wb_’Œy
->
STL_C_ç
 = 1;

3085 
	`msh»Áry_upd©e
(
ev’t
, 
sim_cyşe
,ƒv’t->
¡¬‹d
);

3087 
	`ä“_ev’t
(
ev’t
);

3092 
NACK
 :

3094 
Çck_couÁ”
 ++;

3095 
ev’t
->
¤c1
 +ğev’t->
des1
;

3096 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3097 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3098 
ev’t
->
¤c2
 +ğev’t->
des2
;

3099 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3100 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3101 
ev’t
->
İ”©iÚ
 =ƒv’t->
·»Á_İ”©iÚ
;

3102 
ev’t
->
´oûssšgDÚe
 = 0;

3103 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
 + 20;

3104 
	`scheduËThroughN‘wÜk
(
ev’t
,ƒv’t->
¡¬tCyşe
, 
m‘a_·ck‘_size
, 
vc
);

3105 if(
ev’t
->
´eãtch_Ãxt
 == 2 ||ƒvent->prefetch_next == 4)

3106 
´eãtch_Çcks
 ++;

3107 if(
ev’t
->
isSyncAcûss
)

3108 
sync_Çcks
 ++;

3109 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
)

3110 
wr™e_Çcks
 ++;

3112 
nÜm®_Çcks
 ++;

3114 
	`dœ_ev’tq_š£¹
(
ev’t
);

3115 if(
cŞËù_¡©s
)

3116 
ı_dœ
->
dœ_acûss
 ++;

3119 
MEM_READ_REQ
 :

3120 
Ït
 = 
ı_dœ
->
	`blk_acûss_â
(
R—d
, 
	`CACHE_BADDR
(ı_dœ,
addr
), cp_dœ->
bsize
, 
NULL
, 
sim_cyşe
, 
‹mpID
);

3121 
ev’t
->
wh’
 = 
sim_cyşe
 + 
Ït
;

3122 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3123 
ev’t
->
İ”©iÚ
 = 
MEM_READ_REPLY
;

3124 
tÙ®_mem_Ït
 +ğ
Ït
;

3125 
tÙ®_mem_acûss
 ++;

3126 
	`dœ_ev’tq_š£¹
(
ev’t
);

3129 
MEM_READ_REPLY
 :

3131 
i
=0;

3132 
i
=0;i<(
ÿche_dl2
->
bsize
/
max_·ck‘_size
);i++)

3134 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

3135 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

3136 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

3137 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

3138 
Ãw_ev’t
->
des1
 = 
ev’t
->
¤c1
;

3139 
Ãw_ev’t
->
des2
 = 
ev’t
->
¤c2
;

3140 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

3141 
Ãw_ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3142 
Ãw_ev’t
->
»q_time
 = 
ev’t
->req_time;

3143 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3144 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3145 
ev’t
->
chdCouÁ
 ++;

3146 if(
i
==0)

3148 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

3149 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3153 
Ãw_ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ_NBLK
;

3154 
Ãw_ev’t
->
wh’
 = 
sim_cyşe
 + ((
ÿche_dl1
[0]->
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()4/
mem_bus_¥“d
))*
i
;

3155 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3160 
WAIT_MEM_READ_NBLK
:

3161 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ_N
;

3162 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3163 
ev’t
->
´oûssšgDÚe
 = 0;

3164 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

3165 
	`dœ_ev’tq_š£¹
(
ev’t
);

3167 
MEM_WRITE_BACK
:

3168 
Ït
 = 
ı_dœ
->
	`blk_acûss_â
(
Wr™e
, 
	`CACHE_BADDR
(ı_dœ,
ev’t
->
addr
), cp_dœ->
bsize
, 
NULL
, 
sim_cyşe
,ƒv’t->
‹mpID
);

3169 
	`ä“_ev’t
(
ev’t
);

3171 
L2_PREFETCH
 :

3172 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

3173 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

3175 
	`ä“_ev’t
(
ev’t
);

3180 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

3181 if(!
m©chnum
 && !
	`md_‹xt_addr
(
ev’t
->
addr
, 
‹mpID
))

3183 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3185 
L2_mshr_fuÎ_´eãtch
 ++;

3186 
	`ä“_ev’t
(
ev’t
);

3189 
l2_´eãtch_num
 ++;

3190 
ev’t
->
mshr_time
 = 
sim_cyşe
;

3191 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

3192 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

3193 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

3194 
Ãw_ev’t
->
cmd
 = 
R—d
;

3195 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3196 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3197 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3198 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3199 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3200 
ev’t_ü—‹d
 = 
ev’t
;

3201 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

3206 
	`ä“_ev’t
(
ev’t
);

3212 
MISS_IL1
 :

3213 
dÿche2_acûss
++;

3214 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

3215 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

3216 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

3218 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

3219 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

3221 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

3222 
	`·nic
("DIR: Thisƒvent could‚ot be inransition");

3224 if(
blk
->
dœ_sh¬”
[
block_off£t
][0] !ğ0 || blk->dœ_sh¬”[block_off£t][1] !ğ0 || blk->dœ_sh¬”[block_off£t][2] !ğ0 || blk->dœ_sh¬”[block_off£t][3] !ğ0 || (blk->
¡©us
 & 
CACHE_BLK_DIRTY
))

3225 
	`·nic
("DIR: IL1 block can‚ot have sharers†ist or modified");

3227 if(
cŞËù_¡©s
)

3229 
ı_dœ
->
d©a_acûss
 ++;

3230 
ı_dœ
->
h™s
 ++;

3232 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_IL1
;

3233 
ev’t
->
¤c1
 +ğev’t->
des1
;

3234 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3235 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3236 
ev’t
->
¤c2
 +ğev’t->
des2
;

3237 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3238 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3239 
ev’t
->
´oûssšgDÚe
 = 0;

3240 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3241 
ev’t
->
·»Á
 = 
NULL
;

3242 
ev’t
->
blk_dœ
 = 
NULL
;

3243 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

3244 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

3245 
	`dœ_ev’tq_š£¹
(
ev’t
);

3250 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

3251 
ev’t
->
L2miss_æag
 = 1;

3252 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

3253 if(!
m©chnum
)

3255 #ifdeà
DIR_FIFO_FULL


3256 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3258 if(!
Ï¡_L2_mshr_fuÎ
)

3260 
L2_mshr_fuÎ
 ++;

3261 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

3263 #ifdeà
TSHR


3264 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

3266 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

3269 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

3271 
ev’t
->
¤c1
 +ğev’t->
des1
;

3272 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3273 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3274 
ev’t
->
¤c2
 +ğev’t->
des2
;

3275 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3276 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3277 
ev’t
->
İ”©iÚ
 = 
NACK
;

3278 
ev’t
->
´oûssšgDÚe
 = 0;

3279 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3280 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3281 
	`dœ_ev’tq_š£¹
(
ev’t
);

3286 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

3287 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3288 
æ_couÁ”
 ++;

3289 
ev’t
->
æ_æag
 = 1;

3290 
	`dœ_ev’tq_š£¹
(
ev’t
);

3296 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3297 if(
Ï¡_L2_mshr_fuÎ
)

3299 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

3300 
Ï¡_L2_mshr_fuÎ
 = 0;

3304 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3306 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3307 
æ_couÁ”
 ++;

3308 
ev’t
->
æ_æag
 = 1;

3309 
	`dœ_ev’tq_š£¹
(
ev’t
);

3313 if(
cŞËù_¡©s
)

3314 
ÿche_dl2
->
mis£s
++;

3315 
ev’t
->
mshr_time
 = 
sim_cyşe
;

3316 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

3317 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

3318 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

3319 
Ãw_ev’t
->
cmd
 = 
R—d
;

3320 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3321 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3322 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3323 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3324 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3325 
ev’t_ü—‹d
 = 
ev’t
;

3326 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

3331 if(
cŞËù_¡©s
)

3332 
ÿche_dl2
->
š_mshr
 ++;

3334 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

3338 #ifdeà
PREFETCH_OPTI


3339 
L1_PREFETCH
 :

3340 
dÿche2_acûss
++;

3341 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

3342 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

3343 if(
ev’t
->
»qN‘Time
 == 0)

3344 
ev’t
->
»qN‘Time
 = 
sim_cyşe
;

3345 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

3347 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

3348 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

3350 
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
] = 1;

3351 
blk
->
dœ_´eãtch_num
[
block_off£t
] ++;

3355 
ev’t
->
¤c1
 +ğev’t->
des1
;

3356 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3357 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3358 
ev’t
->
¤c2
 +ğev’t->
des2
;

3359 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3360 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3361 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

3362 
ev’t
->
´oûssšgDÚe
 = 0;

3363 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3364 
ev’t
->
·»Á
 = 
NULL
;

3365 
ev’t
->
blk_dœ
 = 
NULL
;

3366 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

3367 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

3368 
	`dœ_ev’tq_š£¹
(
ev’t
);

3373 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

3374 
ev’t
->
L2miss_æag
 = 1;

3375 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

3376 if(
ev’t
->
isSyncAcûss
)

3377 
Sync_L2_miss
 ++;

3378 if(!
m©chnum
)

3380 #ifdeà
DIR_FIFO_FULL


3381 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3383 if(!
Ï¡_L2_mshr_fuÎ
)

3385 
L2_mshr_fuÎ
 ++;

3386 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

3388 #ifdeà
TSHR


3389 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

3391 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

3394 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

3396 
ev’t
->
¤c1
 +ğev’t->
des1
;

3397 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3398 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3399 
ev’t
->
¤c2
 +ğev’t->
des2
;

3400 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3401 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3402 
ev’t
->
³ndšgInvAck
 = 0;

3403 
ev’t
->
İ”©iÚ
 = 
NACK
;

3404 
ev’t
->
´oûssšgDÚe
 = 0;

3405 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3406 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3407 
	`dœ_ev’tq_š£¹
(
ev’t
);

3412 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

3413 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3414 
ev’t
->
æ_æag
 = 1;

3415 
æ_couÁ”
 ++;

3416 
	`dœ_ev’tq_š£¹
(
ev’t
);

3422 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3423 if(
Ï¡_L2_mshr_fuÎ
)

3425 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

3426 
Ï¡_L2_mshr_fuÎ
 = 0;

3430 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3432 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3433 
æ_couÁ”
 ++;

3434 
ev’t
->
æ_æag
 = 1;

3435 
	`dœ_ev’tq_š£¹
(
ev’t
);

3439 if(
cŞËù_¡©s
)

3441 
ÿche_dl2
->
mis£s
 ++;

3442 
ÿche_dl2
->
dmis£s
 ++;

3443 
švŞve_2_hİs_miss
 ++;

3445 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

3446 
ev’t
->
mshr_time
 = 
sim_cyşe
;

3447 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

3448 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

3449 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

3450 
Ãw_ev’t
->
cmd
 = 
R—d
;

3451 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3452 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3453 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3454 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3455 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3456 
ev’t_ü—‹d
 = 
ev’t
;

3457 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

3462 
ev’t
->
isReqL2SecMiss
 = 1;

3463 if(
cŞËù_¡©s
)

3465 
ÿche_dl2
->
š_mshr
 ++;

3466 
ÿche_dl2
->
dš_mshr
 ++;

3468 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

3475 
READ_COHERENCE_UPDATE
 :

3477 
dÿche2_acûss
++;

3478 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

3479 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

3480 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

3482 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

3483 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

3485 #ifdeà
DIR_FIFO_FULL


3486 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION


3487 #ifdeà
READ_PERMIT


3488 || (
blk
->
R—dP’dšg
[
block_off£t
] != -1)

3492 
ev’t
->
isReqL2T¿ns
 = 1;

3493 #ifdeà
TSHR


3494 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

3496 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

3499 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

3501 
ev’t
->
¤c1
 +ğev’t->
des1
;

3502 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3503 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3504 
ev’t
->
¤c2
 +ğev’t->
des2
;

3505 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3506 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3507 
ev’t
->
İ”©iÚ
 = 
NACK
;

3508 
ev’t
->
´oûssšgDÚe
 = 0;

3509 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3510 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3511 
	`dœ_ev’tq_š£¹
(
ev’t
);

3512 if(
cŞËù_¡©s
)

3513 
ı_dœ
->
dœ_acûss
 ++;

3518 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

3519 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3520 
æ_couÁ”
 ++;

3521 
ev’t
->
æ_æag
 = 1;

3522 
	`dœ_ev’tq_š£¹
(
ev’t
);

3523 if(
cŞËù_¡©s
)

3524 
ı_dœ
->
dœ_acûss
 ++;

3529 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3531 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

3533 
ev’t
->
isReqL2T¿ns
 = 1;

3534 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3535 
æ_couÁ”
 ++;

3536 
ev’t
->
æ_æag
 = 1;

3537 
	`dœ_ev’tq_š£¹
(
ev’t
);

3538 if(
cŞËù_¡©s
)

3539 
ı_dœ
->
dœ_acûss
 ++;

3543 if((!
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
)è&& (blk->
dœ_dœty
[block_offset] != -1))

3545 #ifdeà
L1_STREAM_PREFETCHER


3546 if(
ev’t
->
´eãtch_Ãxt
 == 4)

3548 
wr™e_back_—¾y
 ++;

3549 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

3550 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3551 
æ_couÁ”
 ++;

3552 
ev’t
->
æ_æag
 = 1;

3553 
	`dœ_ev’tq_š£¹
(
ev’t
);

3558 
	`·nic
("DIR: Block can‚ot be dirty state when it is‚ot shared!");

3561 if(
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
])

3563 
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
] = 0;

3564 
blk
->
dœ_´eãtch_num
[
block_off£t
] --;

3565 if(
blk
->
dœ_´eãtch_num
[
block_off£t
] < 0)

3566 
	`·nic
("prefetch‚umber doesn't match!\n");

3569 if(
cŞËù_¡©s
)

3571 
ı_dœ
->
h™s
 ++;

3572 
ı_dœ
->
dh™s
 ++;

3574 
exşusive_ş—n
 = 0;

3576 if(
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
è&& blk->
dœ_blk_¡©e
[block_off£t] !ğ
MESI_SHARED
)

3578 
R—dDowng¿de_EM
 ++;

3579 
	`IsNeighbÜ
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, 
MISS_READ
, 
ev’t
->
addr
);

3580 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

3581 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

3582 
ev’t
->
blk_dœ
 = 
blk
;

3583 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

3584 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

3585 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

3586 
Ãw_ev’t
->
»q_time
 = 0;

3587 
Ãw_ev’t
->
cÚf_b™
 = -1;

3588 
Ãw_ev’t
->
³ndšg_æag
 = 0;

3589 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

3590 
Ãw_ev’t
->
isP»ãtch
 = 0;

3591 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_READ
;

3592 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

3593 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

3594 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

3595 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

3596 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

3597 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3598 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

3599 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

3600 
Ãw_ev’t
->
»£nd
 = 0;

3601 
Ãw_ev’t
->
blk_dœ
 = 
blk
;

3602 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

3603 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

3604 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

3605 
Ãw_ev’t
->
vp
 = 
NULL
;

3606 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

3607 
Ãw_ev’t
->
ud©a
 = 
NULL
;

3608 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

3609 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

3610 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

3611 
Ãw_ev’t
->
¥ec_mode
 = 0;

3612 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

3613 #ifdeà
COHERENCE_MODIFIED


3614 #ifdeà
INV_ACK_CON


3615 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_EXCLUSIVE
)

3617 if((
Ãw_ev’t
->
¤c1
*
mesh_size
+Ãw_ev’t->
¤c2
 !ğÃw_ev’t->
des1
*mesh_size+Ãw_ev’t->
des2
è&& ((!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI")è|| (!my¡ricmpÒ‘wÜk_ty³, "HYBRID"è&& ((
	`abs
(new_event->src1 -‚ew_event->des1) +‡bs(new_event->src2 -‚ew_event->des2)) > 1))))

3620 
Ãw_ev’t
->
d©a_»¶y
 = 0;

3621 
exşusive_ş—n
 = 1;

3622 
tÙ®_exşusive_cÚf
 ++;

3623 
DIRECTORY_EVENT
 *
Ãw_ev’t2
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

3624 if(
Ãw_ev’t2
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

3625 if(
cŞËù_¡©s
)

3626 
ı_dœ
->
dœ_acûss
 ++;

3627 
Ãw_ev’t2
->
šput_bufãr_fuÎ
 = 0;

3628 
Ãw_ev’t2
->
»q_time
 = 0;

3629 
Ãw_ev’t2
->
cÚf_b™
 = -1;

3630 
Ãw_ev’t2
->
³ndšg_æag
 = 0;

3631 
Ãw_ev’t2
->
İ
 = 
ev’t
->op;

3632 
Ãw_ev’t2
->
isP»ãtch
 = 0;

3633 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

3634 
Ãw_ev’t2
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

3635 
Ãw_ev’t2
->
¤c1
 = 
Ãw_ev’t
->
des1
;

3636 
Ãw_ev’t2
->
¤c2
 = 
Ãw_ev’t
->
des2
;

3637 
Ãw_ev’t2
->
des1
 = 
Ãw_ev’t
->
¤c1
;

3638 
Ãw_ev’t2
->
des2
 = 
Ãw_ev’t
->
¤c2
;

3639 
Ãw_ev’t2
->
´oûssšgDÚe
 = 0;

3640 
Ãw_ev’t2
->
¡¬tCyşe
 = 
sim_cyşe
;

3641 
Ãw_ev’t2
->
·»Á
 = 
ev’t
;

3642 
Ãw_ev’t2
->
‹mpID
 = 
ev’t
->tempID;

3643 
Ãw_ev’t2
->
»£nd
 = 0;

3644 
Ãw_ev’t2
->
blk_dœ
 = 
blk
;

3645 
Ãw_ev’t2
->
ı
 = 
ev’t
->cp;

3646 
Ãw_ev’t2
->
addr
 = 
ev’t
->addr;

3647 
Ãw_ev’t2
->
vp
 = 
NULL
;

3648 
Ãw_ev’t2
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

3649 
Ãw_ev’t2
->
ud©a
 = 
NULL
;

3650 
Ãw_ev’t2
->
cmd
 = 
R—d
;

3651 
Ãw_ev’t2
->
rs
 = 
ev’t
->rs;

3652 
Ãw_ev’t2
->
¡¬‹d
 = 
sim_cyşe
;

3653 
Ãw_ev’t2
->
¥ec_mode
 = 0;

3654 
Ãw_ev’t2
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

3655 
Ãw_ev’t2
->
d©a_»¶y
 = 0;

3656 
pİÃtMsgNo
 ++;

3657 
Ãw_ev’t2
->
pİÃtMsgNo
 =…opnetMsgNo;

3658 
Ãw_ev’t2
->
wh’
 = 
WAIT_TIME
;

3659 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t2
);

3661 
Ãw_ev’t
->
d©a_»¶y
 = 0;

3662 
exşusive_ş—n
 = 1;

3663 
tÙ®_exşusive_cÚf
 ++;

3667 
Ãw_ev’t
->
d©a_»¶y
 = 1;

3672 
Ãw_ev’t
->
d©a_»¶y
 = 1;

3673 
ev’t
->
chdCouÁ
++;

3674 
ev’t
->
dœty_æag
 = 1;

3675 if(
ev’t
->
rs
)

3676 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

3677 
lßd_lšk_exşusive
 ++;

3680 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3682 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3683 #ifdeà
COHERENCE_MODIFIED


3684 if(!
exşusive_ş—n
)

3690 if(
cŞËù_¡©s
)

3693 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

3694 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

3695 if(
blk
->
´eãtch_modif›d
[
block_off£t
] || blk->
´eãtch_šv®id©e
[block_offset])

3697 if(
	`IsSh¬ed
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
))

3698 
ev’t
->
İ”©iÚ
 = 
READ_DATA_REPLY_SHARED
;

3700 
ev’t
->
İ”©iÚ
 = 
READ_DATA_REPLY_EXCLUSIVE
;

3701 
·ck‘_size
 = 
d©a_·ck‘_size
;

3702 
R—dD©aR•ly_CS
 ++;

3706 if(
	`IsSh¬ed
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
))

3707 
ev’t
->
İ”©iÚ
 = 
READ_META_REPLY_SHARED
;

3709 
ev’t
->
İ”©iÚ
 = 
READ_META_REPLY_EXCLUSIVE
;

3710 
·ck‘_size
 = 
m‘a_·ck‘_size
;

3711 
R—dM‘aR•ly_CS
 ++;

3713 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

3714 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

3716 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = (
	`IsSh¬ed
(blk->dir_sharer[block_offset],empID) ? blk->dir_sharer[block_offset][tempID/64] : 0) | ()1<<(tempID%64);

3717 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
	`IsSh¬ed
(blk->
dœ_sh¬”
[block_off£t], 
‹mpID
è? 
MESI_SHARED
 : 
MESI_EXCLUSIVE
;

3719 if(
blk
->
dœ_´eãtch_num
[
block_off£t
] == 0)

3721 
blk
->
´eãtch_šv®id©e
[
block_off£t
] = 0;

3722 
blk
->
´eãtch_modif›d
[
block_off£t
] = 0;

3724 
ev’t
->
¤c1
 +ğev’t->
des1
;

3725 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3726 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3727 
ev’t
->
¤c2
 +ğev’t->
des2
;

3728 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3729 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3730 
ev’t
->
´oûssšgDÚe
 = 0;

3731 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3732 
ev’t
->
·»Á
 = 
NULL
;

3733 
ev’t
->
blk_dœ
 = 
NULL
;

3734 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

3735 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

3736 
	`dœ_ev’tq_š£¹
(
ev’t
);

3737 #ifdeà
LOCK_CACHE_REGISTER


3739 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

3740 
	`LockRege¡”Check
(
ev’t
);

3746 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

3747 
ev’t
->
L2miss_æag
 = 1;

3748 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

3749 if(
ev’t
->
isSyncAcûss
)

3750 
Sync_L2_miss
 ++;

3751 if(!
m©chnum
)

3753 #ifdeà
DIR_FIFO_FULL


3754 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3756 if(!
Ï¡_L2_mshr_fuÎ
)

3758 
L2_mshr_fuÎ
 ++;

3759 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

3761 #ifdeà
TSHR


3762 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

3764 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

3767 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

3769 
ev’t
->
¤c1
 +ğev’t->
des1
;

3770 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3771 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3772 
ev’t
->
¤c2
 +ğev’t->
des2
;

3773 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3774 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3775 
ev’t
->
³ndšgInvAck
 = 0;

3776 
ev’t
->
İ”©iÚ
 = 
NACK
;

3777 
ev’t
->
´oûssšgDÚe
 = 0;

3778 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3779 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3780 
	`dœ_ev’tq_š£¹
(
ev’t
);

3785 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

3786 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3787 
ev’t
->
æ_æag
 = 1;

3788 
æ_couÁ”
 ++;

3789 
	`dœ_ev’tq_š£¹
(
ev’t
);

3795 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3796 if(
Ï¡_L2_mshr_fuÎ
)

3798 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

3799 
Ï¡_L2_mshr_fuÎ
 = 0;

3803 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

3805 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3806 
æ_couÁ”
 ++;

3807 
ev’t
->
æ_æag
 = 1;

3808 
	`dœ_ev’tq_š£¹
(
ev’t
);

3812 if(
cŞËù_¡©s
)

3814 
ÿche_dl2
->
mis£s
 ++;

3815 
ÿche_dl2
->
dmis£s
 ++;

3816 
švŞve_2_hİs_miss
 ++;

3818 
R—dL2Miss
 ++;

3819 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

3820 
ev’t
->
mshr_time
 = 
sim_cyşe
;

3821 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

3822 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

3823 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

3824 
Ãw_ev’t
->
cmd
 = 
R—d
;

3825 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

3826 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

3827 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3828 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

3829 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3830 
ev’t_ü—‹d
 = 
ev’t
;

3831 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

3836 
ev’t
->
isReqL2SecMiss
 = 1;

3837 if(
cŞËù_¡©s
)

3839 
ÿche_dl2
->
š_mshr
 ++;

3840 
ÿche_dl2
->
dš_mshr
 ++;

3842 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

3848 
WRITE_COHERENCE_UPDATE
 :

3850 
dÿche2_acûss
++;

3851 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

3852 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

3853 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

3854 
	`·nic
("Writes cannot‡ccessext memory„egion");

3855 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

3857 *
muÉË_sh¬”s
 = (*)
	`ÿÎoc
(4, ());

3858 
cu¼’tTh»adId
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

3859 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

3860 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

3861 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

3862 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

3863 
ev’t
->
isReqL2H™
 = 1;

3864 #ifdeà
REAL_LOCK


3865 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
 || (blk->dœ_¡©e[block_off£t] =ğ
DIR_STABLE
 && blk->
dœ_dœty
[block_off£t] !ğ-1 && blk->dœ_dœty[block_off£t] !ğ
‹mpID
)

3866 #ifdeà
SERIALIZATION_ACK


3867 || 
blk
->
³ndšgInvAck
[
block_off£t
]

3871 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
)

3873 
ev’t
->
¤c1
 +ğev’t->
des1
;

3874 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3875 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3876 
ev’t
->
¤c2
 +ğev’t->
des2
;

3877 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3878 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3879 
ev’t
->
İ”©iÚ
 = 
FAIL
;

3880 
ev’t
->
´oûssšgDÚe
 = 0;

3881 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3882 
¡Üe_cÚd™iÚ®_çed
 ++;

3883 
ev’t
->
wh’
 = 
sim_cyşe
;

3884 
	`dœ_ev’tq_š£¹
(
ev’t
);

3885 if(
cŞËù_¡©s
)

3886 
ı_dœ
->
dœ_acûss
 ++;

3891 #ifdeà
DIR_FIFO_FULL


3892 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION


3893 #ifdeà
SERIALIZATION_ACK


3894 || 
blk
->
³ndšgInvAck
[
block_off£t
]

3898 
ev’t
->
isReqL2T¿ns
 = 1;

3899 #ifdeà
TSHR


3900 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

3902 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

3905 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

3906 
ev’t
->
¤c1
 +ğev’t->
des1
;

3907 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

3908 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

3909 
ev’t
->
¤c2
 +ğev’t->
des2
;

3910 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

3911 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

3912 
ev’t
->
İ”©iÚ
 = 
NACK
;

3913 
ev’t
->
´oûssšgDÚe
 = 0;

3914 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3915 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3916 
	`dœ_ev’tq_š£¹
(
ev’t
);

3917 if(
cŞËù_¡©s
)

3918 
ı_dœ
->
dœ_acûss
 ++;

3923 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

3924 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3925 
æ_couÁ”
 ++;

3926 
ev’t
->
æ_æag
 = 1;

3927 
	`dœ_ev’tq_š£¹
(
ev’t
);

3928 if(
cŞËù_¡©s
)

3929 
ı_dœ
->
dœ_acûss
 ++;

3934 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3938 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION


3939 #ifdeà
SERIALIZATION_ACK


3940 || 
blk
->
³ndšgInvAck
[
block_off£t
]

3944 
ev’t
->
isReqL2T¿ns
 = 1;

3945 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3946 
æ_couÁ”
 ++;

3947 
ev’t
->
æ_æag
 = 1;

3948 
	`dœ_ev’tq_š£¹
(
ev’t
);

3949 if(
cŞËù_¡©s
)

3950 
ı_dœ
->
dœ_acûss
 ++;

3954 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

3956 #ifdeà
SERIALIZATION_ACK


3957 if(!
	`Is_ExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
è&& 
	`Is_Sh¬ed
(blk->dir_sharer[block_offset],empID))

3959 if(
	`isInvCŞËùTabËFuÎ
((
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
è|| 
blk
->
³ndšgInvAck
[
block_off£t
])

3961 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

3962 
æ_couÁ”
 ++;

3963 
ev’t
->
æ_æag
 = 1;

3964 
	`dœ_ev’tq_š£¹
(
ev’t
);

3965 if(
cŞËù_¡©s
)

3966 
ı_dœ
->
dœ_acûss
 ++;

3969 
muÉË_sh¬”s
 = 
blk
->
dœ_sh¬”
[
block_off£t
];

3972 if((!
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
)è&& (blk->
dœ_dœty
[block_offset] != -1))

3973 
	`·nic
("DIR: Block can‚ot be dirty state when it is‚otƒxclusive!");

3975 
isExşusiveOrDœty
 = 
	`Is_ExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
);

3977 if(
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
])

3979 
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
] = 0;

3980 
blk
->
dœ_´eãtch_num
[
block_off£t
] --;

3981 if(
blk
->
dœ_´eãtch_num
[
block_off£t
] < 0)

3982 
	`·nic
("prefetch‚umber doesn't match!\n");

3985 #ifdeà
SERIALIZATION_ACK


3987 if(!
isExşusiveOrDœty
 || (isExşusiveOrDœty && 
Th»adid
 =ğ
‹mpID
))

3989 if(!
	`IsSh¬ed
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
))

3992 if(
cŞËù_¡©s
)

3994 if(
blk
->
ev”_dœty
 == 1)

3995 
švŞve_2_hİ_wb
 ++;

3996 if(
blk
->
ev”_touch
 == 1)

3997 
švŞve_2_hİ_touch
 ++;

3998 if(
ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

4000 
ı_dœ
->
d©a_acûss
 ++;

4001 
švŞve_2_hİs_wm
 ++;

4002 
WM_CËª
 ++;

4006 
švŞve_2_hİs_upg¿de
 ++;

4007 
ı_dœ
->
dœ_acûss
 ++;

4010 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

4011 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

4012 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

4013 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

4014 if(
blk
->
´eãtch_šv®id©e
[
block_off£t
] || blk->
´eãtch_modif›d
[block_offset])

4016 
ev’t
->
İ”©iÚ
 = 
WRITE_DATA_REPLY
;

4017 
·ck‘_size
 = 
d©a_·ck‘_size
;

4018 
Wr™eD©aR•ly_C
 ++;

4022 
ev’t
->
İ”©iÚ
 = 
WRITE_META_REPLY
;

4023 
·ck‘_size
 = 
m‘a_·ck‘_size
;

4024 
Wr™eM‘aR•ly_C
 ++;

4027 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

4028 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

4029 
ev’t
->
¤c1
 +ğev’t->
des1
;

4030 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4031 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4032 
ev’t
->
¤c2
 +ğev’t->
des2
;

4033 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4034 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4035 if(
blk
->
dœ_´eãtch_num
[
block_off£t
] == 0)

4037 
blk
->
´eãtch_šv®id©e
[
block_off£t
] = 0;

4038 
blk
->
´eãtch_modif›d
[
block_off£t
] = 0;

4041 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

4043 #ifdeà
EUP_NETWORK


4044 if(
ev’t
->
—¾y_æag
 == 1)

4045 
	`EUP_’Œy_d–loÿ‹
((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
,ƒv’t->
addr
>>
ÿche_dl2
->
£t_shiá
);

4049 
ev’t
->
´oûssšgDÚe
 = 0;

4050 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4051 
ev’t
->
·»Á
 = 
NULL
;

4052 
ev’t
->
blk_dœ
 = 
NULL
;

4053 
ev’t
->
³ndšgInvAck
 = (
muÉË_sh¬”s
[0] != 0 || multiple_sharers[1] != 0 || multiple_sharers[2] != 0 || multiple_sharers[3] != 0);

4054 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4055 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

4056 
	`dœ_ev’tq_š£¹
(
ev’t
);

4057 #ifdeà
EUP_NETWORK


4063 
ev’t
->
´oûssšgDÚe
 = 0;

4064 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4065 
ev’t
->
·»Á
 = 
NULL
;

4066 
ev’t
->
blk_dœ
 = 
NULL
;

4067 
ev’t
->
³ndšgInvAck
 = (
muÉË_sh¬”s
[0] != 0 || multiple_sharers[1] != 0 || multiple_sharers[2] != 0 || multiple_sharers[3] != 0);

4068 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4069 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

4070 
	`dœ_ev’tq_š£¹
(
ev’t
);

4073 #ifdeà
SERIALIZATION_ACK


4074 if(
muÉË_sh¬”s
[0] == 0 && multiple_sharers[1] == 0 && multiple_sharers[2] == 0 && multiple_sharers[3] == 0)

4080 
ev’t
->
blk_dœ
 = 
blk
;

4081 if(
muÉË_sh¬”s
[0] == 0 && multiple_sharers[1] == 0 && multiple_sharers[2] == 0 && multiple_sharers[3] == 0)

4083 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

4084 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

4085 
ev’t
->
blk_dœ
 = 
blk
;

4087 
ev’t
->
chdCouÁ
 = 0;

4089 if(
muÉË_sh¬”s
[0] == 0 && multiple_sharers[1] == 0 && multiple_sharers[2] == 0 && multiple_sharers[3] == 0)

4090 
muÉË_sh¬”s
 = (
blk
->
dœ_sh¬”
[
block_off£t
]);

4091 
	`IsNeighbÜ
(
muÉË_sh¬”s
, 
‹mpID
, 
ev’t
->
İ”©iÚ
,ƒv’t->
addr
);

4093 
muÉish¬”s_æag
 = 0;

4094 if(
	`IsSh¬ed
(
muÉË_sh¬”s
, 
‹mpID
) > 1)

4095 
muÉish¬”s_æag
 = 1;

4097 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

4099 if((((
muÉË_sh¬”s
[
Th»adid
/64]è& (()1 << (Th»adid%64))è=ğ(()1 << (Th»adid%64))è&& (Th»adid !ğ
‹mpID
))

4101 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

4103 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

4104 
Wr™eInv®id©e_SEM
 ++;

4105 
Ãw_ev’t
->
»q_time
 = 0;

4106 
Ãw_ev’t
->
cÚf_b™
 = -1;

4107 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

4108 
Ãw_ev’t
->
³ndšg_æag
 = 0;

4109 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

4110 
Ãw_ev’t
->
isP»ãtch
 = 0;

4111 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

4112 #ifdeà
LOCK_CACHE_REGISTER


4113 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
 && 
muÉish¬”s_æag
)

4115 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_UPDATE
;

4116 
Ãw_ev’t
->
cÚf_b™
 = 
ev’t
->
chdCouÁ
;

4120 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

4121 
Ãw_ev’t
->
isExşusiveOrDœty
 = isExclusiveOrDirty;

4122 
Ãw_ev’t
->
¤c1
 = 
cu¼’tTh»adId
/
mesh_size
+
MEM_LOC_SHIFT
;

4123 
Ãw_ev’t
->
¤c2
 = 
cu¼’tTh»adId
%
mesh_size
;

4124 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

4125 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

4126 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

4127 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4128 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

4129 
Ãw_ev’t
->
‹mpID
 =empID;

4130 
Ãw_ev’t
->
»£nd
 = 0;

4131 
Ãw_ev’t
->
blk_dœ
 = 
blk
;

4132 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

4133 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

4134 
Ãw_ev’t
->
vp
 = 
NULL
;

4135 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

4136 
Ãw_ev’t
->
ud©a
 = 
NULL
;

4137 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

4138 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

4139 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

4140 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

4141 
Ãw_ev’t
->
¥ec_mode
 = 0;

4142 
ev’t
->
chdCouÁ
++;

4143 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI") || (!mystricmp(network_type, "HYBRID")))

4145 #ifdeà
INV_ACK_CON


4146 
th»ad_id
;

4147 if(
	`Is_Sh¬ed
(
muÉË_sh¬”s
, 
‹mpID
) > 1)

4149 if((
Ãw_ev’t
->
¤c1
*
mesh_size
+Ãw_ev’t->
¤c2
 !ğÃw_ev’t->
des1
*mesh_size+Ãw_ev’t->
des2
è&& ((!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI")è|| (!my¡ricmpÒ‘wÜk_ty³, "HYBRID"è&& ((
	`abs
(new_event->src1 -‚ew_event->des1) +‡bs(new_event->src2 -‚ew_event->des2)) > 1))))

4151 
Ãw_ev’t
->
d©a_»¶y
 = 0;

4152 
DIRECTORY_EVENT
 *
Ãw_ev’t2
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

4153 if(
Ãw_ev’t2
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

4154 if(
cŞËù_¡©s
)

4155 
ı_dœ
->
dœ_acûss
 ++;

4156 
Ãw_ev’t2
->
šput_bufãr_fuÎ
 = 0;

4157 
Ãw_ev’t2
->
»q_time
 = 0;

4158 
Ãw_ev’t2
->
cÚf_b™
 = -1;

4159 
Ãw_ev’t2
->
³ndšg_æag
 = 0;

4160 
Ãw_ev’t2
->
İ
 = 
ev’t
->op;

4161 
Ãw_ev’t2
->
isP»ãtch
 = 0;

4162 #ifdeà
LOCK_CACHE_REGISTER


4163 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
 && 
muÉish¬”s_æag
)

4164 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_UPDATE
;

4167 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

4168 
Ãw_ev’t2
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

4169 
Ãw_ev’t2
->
¤c1
 = 
Ãw_ev’t
->
des1
;

4170 
Ãw_ev’t2
->
¤c2
 = 
Ãw_ev’t
->
des2
;

4171 
Ãw_ev’t2
->
des1
 = 
Ãw_ev’t
->
¤c1
;

4172 
Ãw_ev’t2
->
des2
 = 
Ãw_ev’t
->
¤c2
;

4173 
Ãw_ev’t2
->
´oûssšgDÚe
 = 0;

4174 
Ãw_ev’t2
->
¡¬tCyşe
 = 
sim_cyşe
;

4175 
Ãw_ev’t2
->
·»Á
 = 
ev’t
;

4176 
Ãw_ev’t2
->
‹mpID
 = 
ev’t
->tempID;

4177 
Ãw_ev’t2
->
»£nd
 = 0;

4178 
Ãw_ev’t2
->
blk_dœ
 = 
blk
;

4179 
Ãw_ev’t2
->
ı
 = 
ev’t
->cp;

4180 
Ãw_ev’t2
->
addr
 = 
ev’t
->addr;

4181 
Ãw_ev’t2
->
vp
 = 
NULL
;

4182 
Ãw_ev’t2
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

4183 
Ãw_ev’t2
->
ud©a
 = 
NULL
;

4184 
Ãw_ev’t2
->
cmd
 = 
Wr™e
;

4185 
Ãw_ev’t2
->
rs
 = 
ev’t
->rs;

4186 
Ãw_ev’t2
->
¡¬‹d
 = 
sim_cyşe
;

4187 
Ãw_ev’t2
->
¥ec_mode
 = 0;

4188 
Ãw_ev’t2
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

4189 
Ãw_ev’t2
->
d©a_»¶y
 = 0;

4190 
pİÃtMsgNo
 ++;

4191 
Ãw_ev’t2
->
pİÃtMsgNo
 =…opnetMsgNo;

4192 
Ãw_ev’t2
->
wh’
 = 
WAIT_TIME
;

4193 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t2
);

4196 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4199 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4201 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4205 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4206 
ev’t
->
dœty_æag
 = 1;

4208 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4210 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4213 
sh¬”_di¡r
[
ev’t
->
chdCouÁ
] ++;

4214 
	`IsNeighbÜ_sh¬”
(
muÉË_sh¬”s
, 
‹mpID
);

4215 #ifdeà
SERIALIZATION_ACK


4217 if(
ev’t
->
chdCouÁ
 >ğ1 && !
isExşusiveOrDœty
)

4219 
fš®_ack_cÚf
 = 0;

4220 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

4221 
fš®_ack_cÚf
 = 1;

4223 
fš®_ack_cÚf
 = 0;

4225 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
)

4226 
wr™e_sh¬ed_u£d_cÚf
 ++;

4227 
	`ÃwInvCŞËù
((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
,ƒv’t->
addr
,ƒv’t->
chdCouÁ
, 
‹mpID
, 
fš®_ack_cÚf
);

4228 
blk
->
³ndšgInvAck
[
block_off£t
] = 1;

4229 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

4231 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

4233 
tÙ®Upg¿desU§bË
++;

4234 if(
thecÚ‹xts
[
‹mpID
]->
m_shSQNum
 > 
m_shSQSize
-3)

4235 
tÙ®Upg¿desB’eficŸl
++;

4244 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

4245 
ev’t
->
L2miss_æag
 = 1;

4246 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

4247 if(
ev’t
->
isSyncAcûss
)

4248 
Sync_L2_miss
 ++;

4249 if(!
m©chnum
)

4251 #ifdeà
DIR_FIFO_FULL


4252 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

4254 if(!
Ï¡_L2_mshr_fuÎ
)

4256 
L2_mshr_fuÎ
 ++;

4257 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

4259 #ifdeà
TSHR


4260 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4262 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

4265 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

4266 
ev’t
->
¤c1
 +ğev’t->
des1
;

4267 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4268 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4269 
ev’t
->
¤c2
 +ğev’t->
des2
;

4270 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4271 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4272 
ev’t
->
İ”©iÚ
 = 
NACK
;

4273 
ev’t
->
´oûssšgDÚe
 = 0;

4274 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4275 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4276 
	`dœ_ev’tq_š£¹
(
ev’t
);

4281 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

4282 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4283 
æ_couÁ”
 ++;

4284 
ev’t
->
æ_æag
 = 1;

4285 
	`dœ_ev’tq_š£¹
(
ev’t
);

4291 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4292 if(
Ï¡_L2_mshr_fuÎ
)

4294 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

4295 
Ï¡_L2_mshr_fuÎ
 = 0;

4299 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

4301 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4302 
æ_couÁ”
 ++;

4303 
ev’t
->
æ_æag
 = 1;

4304 
	`dœ_ev’tq_š£¹
(
ev’t
);

4308 
d©a_´iv©e_wr™e
 ++;

4309 if(
cŞËù_¡©s
)

4311 
ÿche_dl2
->
mis£s
 ++;

4312 
ÿche_dl2
->
dmis£s
 ++;

4313 
švŞve_2_hİs_miss
 ++;

4315 
Wr™eL2Miss
 ++;

4316 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

4317 
ev’t
->
mshr_time
 = 
sim_cyşe
;

4318 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

4319 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

4320 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

4321 
Ãw_ev’t
->
cmd
 = 
R—d
;

4322 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

4323 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

4324 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4325 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4326 if(
ev’t
->
İ”©iÚ
 !ğ
WRITE_UPDATE
)

4327 
WM_Miss
 ++;

4328 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4329 
ev’t_ü—‹d
 = 
ev’t
;

4330 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

4335 
ev’t
->
isReqL2SecMiss
 = 1;

4336 if(
cŞËù_¡©s
)

4338 
ÿche_dl2
->
š_mshr
 ++;

4339 
ÿche_dl2
->
dš_mshr
 ++;

4341 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

4347 
MISS_READ
 :

4348 
dÿche2_acûss
++;

4349 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

4350 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

4351 if(
ev’t
->
»qN‘Time
 == 0)

4352 
ev’t
->
»qN‘Time
 = 
sim_cyşe
;

4353 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

4356 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

4357 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

4359 
ev’t
->
isReqL2H™
 = 1;

4360 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

4361 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

4362 #ifdeà
DIR_FIFO_FULL


4363 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION


4364 #ifdeà
READ_PERMIT


4365 || (
blk
->
R—dP’dšg
[
block_off£t
] != -1)

4369 
ev’t
->
isReqL2T¿ns
 = 1;

4370 #ifdeà
TSHR


4371 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4373 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

4376 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

4378 
ev’t
->
¤c1
 +ğev’t->
des1
;

4379 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4380 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4381 
ev’t
->
¤c2
 +ğev’t->
des2
;

4382 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4383 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4384 
ev’t
->
İ”©iÚ
 = 
NACK
;

4385 
ev’t
->
´oûssšgDÚe
 = 0;

4386 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4387 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4388 
	`dœ_ev’tq_š£¹
(
ev’t
);

4389 if(
cŞËù_¡©s
)

4390 
ı_dœ
->
dœ_acûss
 ++;

4395 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

4396 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4397 
æ_couÁ”
 ++;

4398 
ev’t
->
æ_æag
 = 1;

4399 
	`dœ_ev’tq_š£¹
(
ev’t
);

4400 if(
cŞËù_¡©s
)

4401 
ı_dœ
->
dœ_acûss
 ++;

4406 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4408 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

4410 
ev’t
->
isReqL2T¿ns
 = 1;

4411 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4412 
æ_couÁ”
 ++;

4413 
ev’t
->
æ_æag
 = 1;

4414 
	`dœ_ev’tq_š£¹
(
ev’t
);

4415 if(
cŞËù_¡©s
)

4416 
ı_dœ
->
dœ_acûss
 ++;

4420 if((!
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
)è&& (blk->
dœ_dœty
[block_offset] != -1))

4422 #ifdeà
L1_STREAM_PREFETCHER


4423 if(
ev’t
->
´eãtch_Ãxt
 == 4)

4425 
wr™e_back_—¾y
 ++;

4426 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

4427 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4428 
æ_couÁ”
 ++;

4429 
ev’t
->
æ_æag
 = 1;

4430 
	`dœ_ev’tq_š£¹
(
ev’t
);

4435 
	`·nic
("DIR: Block can‚ot be dirty state when it is‚ot shared!");

4438 #ifdeà
PREFETCH_OPTI


4439 if(
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
])

4440 
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
] = 0;

4442 if(
cŞËù_¡©s
)

4444 
ı_dœ
->
h™s
 ++;

4445 
ı_dœ
->
dh™s
 ++;

4447 
tÙ®L2R—dReqH™s
++;

4448 if(
blk
->
dœ_sh¬”
[
block_off£t
][0] == 0 && blk->dir_sharer[block_offset][1] == 0 && blk->dir_sharer[block_offset][2] == 0 && blk->dir_sharer[block_offset][3] == 0)

4449 
tÙ®L2R—dReqNoSh¬”
++;

4450 if(
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
))

4452 
ev’t
->
isReqL2Inv
 = 1;

4453 
tÙ®L2R—dReqDœty
++;

4456 
tÙ®L2R—dReqSh¬ed
++;

4458 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

4459 
exşusive_ş—n
 = 0;

4461 if(
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
è&& blk->
dœ_blk_¡©e
[block_off£t] !ğ
MESI_SHARED
)

4463 if(
cŞËù_¡©s
)

4464 
švŞve_4_hİs
 ++;

4465 
	`IsNeighbÜ
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, 
MISS_READ
, 
ev’t
->
addr
);

4466 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

4467 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

4468 
ev’t
->
blk_dœ
 = 
blk
;

4469 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

4470 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

4471 if(
cŞËù_¡©s
)

4472 
ı_dœ
->
dœ_acûss
 ++;

4473 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

4474 
Ãw_ev’t
->
»q_time
 = 0;

4475 
Ãw_ev’t
->
cÚf_b™
 = -1;

4476 
Ãw_ev’t
->
³ndšg_æag
 = 0;

4477 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

4478 
Ãw_ev’t
->
isP»ãtch
 = 0;

4479 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_READ
;

4480 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

4481 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

4482 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

4483 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

4484 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

4485 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4486 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

4487 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

4488 
Ãw_ev’t
->
»£nd
 = 0;

4489 
Ãw_ev’t
->
blk_dœ
 = 
blk
;

4490 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

4491 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

4492 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

4493 
Ãw_ev’t
->
vp
 = 
NULL
;

4494 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

4495 
Ãw_ev’t
->
ud©a
 = 
NULL
;

4496 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

4497 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

4498 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

4499 
Ãw_ev’t
->
¥ec_mode
 = 0;

4500 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

4501 #ifdeà
COHERENCE_MODIFIED


4502 #ifdeà
INV_ACK_CON


4503 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_EXCLUSIVE
)

4505 if((
Ãw_ev’t
->
¤c1
*
mesh_size
+Ãw_ev’t->
¤c2
 !ğÃw_ev’t->
des1
*mesh_size+Ãw_ev’t->
des2
è&& ((!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI")è|| (!my¡ricmpÒ‘wÜk_ty³, "HYBRID"è&& ((
	`abs
(new_event->src1 -‚ew_event->des1) +‡bs(new_event->src2 -‚ew_event->des2)) > 1))))

4508 
Ãw_ev’t
->
d©a_»¶y
 = 0;

4509 
exşusive_ş—n
 = 1;

4510 
tÙ®_exşusive_cÚf
 ++;

4511 
DIRECTORY_EVENT
 *
Ãw_ev’t2
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

4512 if(
Ãw_ev’t2
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

4513 if(
cŞËù_¡©s
)

4514 
ı_dœ
->
dœ_acûss
 ++;

4515 
Ãw_ev’t2
->
šput_bufãr_fuÎ
 = 0;

4516 
Ãw_ev’t2
->
»q_time
 = 0;

4517 
Ãw_ev’t2
->
cÚf_b™
 = -1;

4518 
Ãw_ev’t2
->
³ndšg_æag
 = 0;

4519 
Ãw_ev’t2
->
İ
 = 
ev’t
->op;

4520 
Ãw_ev’t2
->
isP»ãtch
 = 0;

4521 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

4522 
Ãw_ev’t2
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

4523 
Ãw_ev’t2
->
¤c1
 = 
Ãw_ev’t
->
des1
;

4524 
Ãw_ev’t2
->
¤c2
 = 
Ãw_ev’t
->
des2
;

4525 
Ãw_ev’t2
->
des1
 = 
Ãw_ev’t
->
¤c1
;

4526 
Ãw_ev’t2
->
des2
 = 
Ãw_ev’t
->
¤c2
;

4527 
Ãw_ev’t2
->
´oûssšgDÚe
 = 0;

4528 
Ãw_ev’t2
->
¡¬tCyşe
 = 
sim_cyşe
;

4529 
Ãw_ev’t2
->
·»Á
 = 
ev’t
;

4530 
Ãw_ev’t2
->
‹mpID
 = 
ev’t
->tempID;

4531 
Ãw_ev’t2
->
»£nd
 = 0;

4532 
Ãw_ev’t2
->
blk_dœ
 = 
blk
;

4533 
Ãw_ev’t2
->
ı
 = 
ev’t
->cp;

4534 
Ãw_ev’t2
->
addr
 = 
ev’t
->addr;

4535 
Ãw_ev’t2
->
vp
 = 
NULL
;

4536 
Ãw_ev’t2
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

4537 
Ãw_ev’t2
->
ud©a
 = 
NULL
;

4538 
Ãw_ev’t2
->
cmd
 = 
R—d
;

4539 
Ãw_ev’t2
->
rs
 = 
ev’t
->rs;

4540 
Ãw_ev’t2
->
¡¬‹d
 = 
sim_cyşe
;

4541 
Ãw_ev’t2
->
¥ec_mode
 = 0;

4542 
Ãw_ev’t2
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

4543 
Ãw_ev’t2
->
d©a_»¶y
 = 0;

4544 
pİÃtMsgNo
 ++;

4545 
Ãw_ev’t2
->
pİÃtMsgNo
 =…opnetMsgNo;

4546 
Ãw_ev’t2
->
wh’
 = 
WAIT_TIME
;

4547 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t2
);

4549 
Ãw_ev’t
->
d©a_»¶y
 = 0;

4550 
exşusive_ş—n
 = 1;

4551 
tÙ®_exşusive_cÚf
 ++;

4555 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4560 
Ãw_ev’t
->
d©a_»¶y
 = 1;

4561 
ev’t
->
chdCouÁ
++;

4562 
ev’t
->
dœty_æag
 = 1;

4563 if(
ev’t
->
rs
)

4564 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

4565 
lßd_lšk_exşusive
 ++;

4568 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4570 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4571 #ifdeà
COHERENCE_MODIFIED


4572 if(!
exşusive_ş—n
)

4578 if(
cŞËù_¡©s
)

4580 
ı_dœ
->
d©a_acûss
 ++;

4581 
švŞve_2_hİs
 ++;

4582 if(
blk
->
ev”_dœty
 == 1)

4583 
švŞve_2_hİ_wb
 ++;

4585 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

4586 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

4587 if(
ev’t
->
rs
)

4588 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

4589 
lßd_lšk_sh¬ed
 ++;

4590 
ev’t
->
İ”©iÚ
 = 
	`IsSh¬ed
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
è? 
ACK_DIR_READ_SHARED
 : 
ACK_DIR_READ_EXCLUSIVE
;

4591 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

4592 if(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

4594 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = (
	`IsSh¬ed
(blk->dir_sharer[block_offset],empID) ? blk->dir_sharer[block_offset][tempID/64] : 0) | ()1<<(tempID%64);

4595 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
	`IsSh¬ed
(blk->
dœ_sh¬”
[block_off£t], 
‹mpID
è? 
MESI_SHARED
 : 
MESI_EXCLUSIVE
;

4598 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
)

4599 
blk
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

4601 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
 && 
cŞËù_¡©s
 && 
blk
->
ev”_touch
 == 1)

4602 
švŞve_2_hİ_touch
 ++;

4603 
ev’t
->
¤c1
 +ğev’t->
des1
;

4604 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4605 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4606 
ev’t
->
¤c2
 +ğev’t->
des2
;

4607 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4608 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4609 
ev’t
->
´oûssšgDÚe
 = 0;

4610 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4611 
ev’t
->
·»Á
 = 
NULL
;

4612 
ev’t
->
blk_dœ
 = 
NULL
;

4613 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4614 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

4615 
	`dœ_ev’tq_š£¹
(
ev’t
);

4616 #ifdeà
LOCK_CACHE_REGISTER


4618 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

4619 
	`LockRege¡”Check
(
ev’t
);

4625 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

4626 
ev’t
->
L2miss_æag
 = 1;

4627 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

4628 if(
ev’t
->
isSyncAcûss
)

4629 
Sync_L2_miss
 ++;

4630 if(!
m©chnum
)

4632 #ifdeà
DIR_FIFO_FULL


4633 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

4635 if(!
Ï¡_L2_mshr_fuÎ
)

4637 
L2_mshr_fuÎ
 ++;

4638 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

4640 #ifdeà
TSHR


4641 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4643 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

4646 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

4648 
ev’t
->
¤c1
 +ğev’t->
des1
;

4649 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4650 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4651 
ev’t
->
¤c2
 +ğev’t->
des2
;

4652 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4653 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4654 
ev’t
->
³ndšgInvAck
 = 0;

4655 
ev’t
->
İ”©iÚ
 = 
NACK
;

4656 
ev’t
->
´oûssšgDÚe
 = 0;

4657 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4658 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4659 
	`dœ_ev’tq_š£¹
(
ev’t
);

4664 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

4665 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4666 
ev’t
->
æ_æag
 = 1;

4667 
æ_couÁ”
 ++;

4668 
	`dœ_ev’tq_š£¹
(
ev’t
);

4674 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4675 if(
Ï¡_L2_mshr_fuÎ
)

4677 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

4678 
Ï¡_L2_mshr_fuÎ
 = 0;

4682 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

4684 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4685 
æ_couÁ”
 ++;

4686 
ev’t
->
æ_æag
 = 1;

4687 
	`dœ_ev’tq_š£¹
(
ev’t
);

4691 if(
cŞËù_¡©s
)

4693 
ÿche_dl2
->
mis£s
 ++;

4694 
ÿche_dl2
->
dmis£s
 ++;

4695 
švŞve_2_hİs_miss
 ++;

4697 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

4698 
ev’t
->
mshr_time
 = 
sim_cyşe
;

4699 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

4700 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

4701 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

4702 
Ãw_ev’t
->
cmd
 = 
R—d
;

4703 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

4704 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

4705 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4706 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

4707 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4708 
ev’t_ü—‹d
 = 
ev’t
;

4709 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

4714 
ev’t
->
isReqL2SecMiss
 = 1;

4715 if(
cŞËù_¡©s
)

4717 
ÿche_dl2
->
š_mshr
 ++;

4718 
ÿche_dl2
->
dš_mshr
 ++;

4720 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

4725 #ifdeà
COHERENCE_MODIFIED


4726 
WRITE_INDICATE
 :

4727 
dÿche2_acûss
++;

4728 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

4729 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

4730 if(
ev’t
->
»qN‘Time
 == 0)

4731 
ev’t
->
»qN‘Time
 = 
sim_cyşe
;

4732 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

4733 
	`·nic
("Writes cannot‡ccessext memory„egion");

4734 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

4736 if((
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_EXCLUSIVE
è&& (((blk->
dœ_sh¬”
[block_off£t][
‹mpID
/64]) & (()1 << (tempID%64))) == (()1 << (tempID%64))))

4738 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

4739 
tÙ®_exşusive_modif›d
 ++;

4741 
	`ä“_ev’t
(
ev’t
);

4745 
	`·nic
("Writeƒxclusive can‚ot be‡ miss in L2 cache");

4749 
WRITE_UPDATE
 :

4750 
MISS_WRITE
 :

4751 
dÿche2_acûss
++;

4752 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

4753 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

4754 if(
ev’t
->
»qN‘Time
 == 0)

4755 
ev’t
->
»qN‘Time
 = 
sim_cyşe
;

4756 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

4757 
	`·nic
("Writes cannot‡ccessext memory„egion");

4758 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

4760 *
muÉË_sh¬”s
 = (*)
	`ÿÎoc
(4, ());

4761 
cu¼’tTh»adId
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
des2
;

4762 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_¡©ed
)

4763 
ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

4764 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

4765 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

4766 
ev’t
->
isReqL2H™
 = 1;

4767 #ifdeà
REAL_LOCK


4768 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
 || (blk->dœ_¡©e[block_off£t] =ğ
DIR_STABLE
 && blk->
dœ_dœty
[block_off£t] !ğ-1 && blk->dœ_dœty[block_off£t] !ğ
‹mpID
)

4769 #ifdeà
SERIALIZATION_ACK


4770 || 
blk
->
³ndšgInvAck
[
block_off£t
]

4774 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
)

4776 
ev’t
->
¤c1
 +ğev’t->
des1
;

4777 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4778 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4779 
ev’t
->
¤c2
 +ğev’t->
des2
;

4780 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4781 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4782 
ev’t
->
İ”©iÚ
 = 
FAIL
;

4783 
ev’t
->
´oûssšgDÚe
 = 0;

4784 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4785 
¡Üe_cÚd™iÚ®_çed
 ++;

4786 
ev’t
->
wh’
 = 
sim_cyşe
;

4787 
	`dœ_ev’tq_š£¹
(
ev’t
);

4788 if(
cŞËù_¡©s
)

4789 
ı_dœ
->
dœ_acûss
 ++;

4794 #ifdeà
DIR_FIFO_FULL


4795 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION


4796 #ifdeà
SERIALIZATION_ACK


4797 || 
blk
->
³ndšgInvAck
[
block_off£t
]

4801 
ev’t
->
isReqL2T¿ns
 = 1;

4802 #ifdeà
TSHR


4803 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

4805 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

4808 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

4809 
ev’t
->
¤c1
 +ğev’t->
des1
;

4810 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4811 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4812 
ev’t
->
¤c2
 +ğev’t->
des2
;

4813 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4814 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4815 
ev’t
->
İ”©iÚ
 = 
NACK
;

4816 
ev’t
->
´oûssšgDÚe
 = 0;

4817 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4818 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4819 
	`dœ_ev’tq_š£¹
(
ev’t
);

4820 if(
cŞËù_¡©s
)

4821 
ı_dœ
->
dœ_acûss
 ++;

4826 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

4827 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4828 
æ_couÁ”
 ++;

4829 
ev’t
->
æ_æag
 = 1;

4830 
	`dœ_ev’tq_š£¹
(
ev’t
);

4831 if(
cŞËù_¡©s
)

4832 
ı_dœ
->
dœ_acûss
 ++;

4837 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4841 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION


4842 #ifdeà
SERIALIZATION_ACK


4843 || 
blk
->
³ndšgInvAck
[
block_off£t
]

4847 
ev’t
->
isReqL2T¿ns
 = 1;

4848 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4849 
æ_couÁ”
 ++;

4850 
ev’t
->
æ_æag
 = 1;

4851 
	`dœ_ev’tq_š£¹
(
ev’t
);

4852 if(
cŞËù_¡©s
)

4853 
ı_dœ
->
dœ_acûss
 ++;

4857 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

4859 #ifdeà
SERIALIZATION_ACK


4860 if(!
	`Is_ExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
è&& 
	`Is_Sh¬ed
(blk->dir_sharer[block_offset],empID))

4862 if(
	`isInvCŞËùTabËFuÎ
((
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
è|| 
blk
->
³ndšgInvAck
[
block_off£t
])

4864 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

4865 
æ_couÁ”
 ++;

4866 
ev’t
->
æ_æag
 = 1;

4867 
	`dœ_ev’tq_š£¹
(
ev’t
);

4868 if(
cŞËù_¡©s
)

4869 
ı_dœ
->
dœ_acûss
 ++;

4872 
muÉË_sh¬”s
 = 
blk
->
dœ_sh¬”
[
block_off£t
];

4875 if((!
	`IsExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
)è&& (blk->
dœ_dœty
[block_offset] != -1))

4876 
	`·nic
("DIR: Block can‚ot be dirty state when it is‚otƒxclusive!");

4878 
isExşusiveOrDœty
 = 
	`Is_ExşusiveOrDœty
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
, &
Th»adid
);

4879 if(
cŞËù_¡©s
)

4881 if(
ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

4882 
ı_dœ
->
ack_»ûived
 ++;

4883 
ı_dœ
->
h™s
 ++;

4884 
ı_dœ
->
dh™s
 ++;

4886 
tÙ®L2Wr™eReqH™s
++;

4887 if(
blk
->
dœ_sh¬”
[
block_off£t
][0] == 0 && blk->dir_sharer[block_offset][1] == 0 && blk->dir_sharer[block_offset][2] == 0 && blk->dir_sharer[block_offset][3] == 0)

4888 
tÙ®L2Wr™eReqNoSh¬”
++;

4889 if(
isExşusiveOrDœty
)

4891 
ev’t
->
isReqL2Inv
 = 1;

4892 
tÙ®L2Wr™eReqDœty
++;

4896 
ev’t
->
isReqL2Inv
 = 1;

4897 
tÙ®L2Wr™eReqSh¬ed
++;

4901 #ifdeà
PREFETCH_OPTI


4902 if(
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
])

4903 
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
] = 0;

4906 #ifdeà
SERIALIZATION_ACK


4908 if(!
isExşusiveOrDœty
 || (isExşusiveOrDœty && 
Th»adid
 =ğ
‹mpID
))

4910 if(!
	`IsSh¬ed
(
blk
->
dœ_sh¬”
[
block_off£t
], 
‹mpID
))

4913 if(
cŞËù_¡©s
)

4915 if(
blk
->
ev”_dœty
 == 1)

4916 
švŞve_2_hİ_wb
 ++;

4917 if(
blk
->
ev”_touch
 == 1)

4918 
švŞve_2_hİ_touch
 ++;

4919 if(
ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

4921 
ı_dœ
->
d©a_acûss
 ++;

4922 
švŞve_2_hİs_wm
 ++;

4923 
WM_CËª
 ++;

4927 
švŞve_2_hİs_upg¿de
 ++;

4928 
ı_dœ
->
dœ_acûss
 ++;

4931 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

4932 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

4933 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

4934 
ev’t
->
»qAckTime
 = 
sim_cyşe
;

4935 #ifdeà
PREFETCH_OPTI


4936 if(
blk
->
dœ_´eãtch_num
[
block_off£t
])

4937 
blk
->
´eãtch_šv®id©e
[
block_off£t
] = 1;

4938 if(
blk
->
dœ_´eãtch_num
[
block_off£t
])

4939 
blk
->
´eãtch_modif›d
[
block_off£t
] = 1;

4941 if(
ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
 || (
muÉË_sh¬”s
[0] =ğ0 && muÉË_sh¬”s[1] =ğ0 && muÉË_sh¬”s[2] =ğ0 && muÉË_sh¬”s[3] =ğ0 && 
blk
->
dœ_dœty
[
block_off£t
] !ğ-1 &&ƒv’t->
İ”©iÚ
 =ğ
WRITE_UPDATE
))

4943 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

4944 
·ck‘_size
 = 
d©a_·ck‘_size
;

4948 
ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

4949 
·ck‘_size
 = 
m‘a_·ck‘_size
;

4952 
d©a_´iv©e_wr™e
 ++;

4953 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

4954 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

4955 
ev’t
->
¤c1
 +ğev’t->
des1
;

4956 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

4957 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

4958 
ev’t
->
¤c2
 +ğev’t->
des2
;

4959 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

4960 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

4962 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

4964 #ifdeà
EUP_NETWORK


4965 if(
ev’t
->
—¾y_æag
 == 1)

4966 
	`EUP_’Œy_d–loÿ‹
((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
,ƒv’t->
addr
>>
ÿche_dl2
->
£t_shiá
);

4970 
ev’t
->
´oûssšgDÚe
 = 0;

4971 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4972 
ev’t
->
·»Á
 = 
NULL
;

4973 
ev’t
->
blk_dœ
 = 
NULL
;

4974 
ev’t
->
³ndšgInvAck
 = (
muÉË_sh¬”s
[0] != 0 || multiple_sharers[1] != 0 || multiple_sharers[2] != 0 || multiple_sharers[3] != 0);

4975 if(
ev’t
->
³ndšgInvAck
 =ğ1 &&ƒv’t->
·»Á_İ”©iÚ
 =ğ
WRITE_UPDATE
)

4976 
tÙ®S¶™No
 ++;

4977 if(
ev’t
->
³ndšgInvAck
 =ğ1 &&ƒv’t->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

4978 
tÙ®S¶™WM
 ++;

4979 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4980 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

4981 
	`dœ_ev’tq_š£¹
(
ev’t
);

4982 #ifdeà
EUP_NETWORK


4988 
ev’t
->
´oûssšgDÚe
 = 0;

4989 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4990 
ev’t
->
·»Á
 = 
NULL
;

4991 
ev’t
->
blk_dœ
 = 
NULL
;

4992 
ev’t
->
³ndšgInvAck
 = (
muÉË_sh¬”s
[0] != 0 || multiple_sharers[1] != 0 || multiple_sharers[2] != 0 || multiple_sharers[3] != 0);

4993 if(
ev’t
->
³ndšgInvAck
 =ğ1 &&ƒv’t->
·»Á_İ”©iÚ
 =ğ
WRITE_UPDATE
)

4994 
tÙ®S¶™No
 ++;

4995 if(
ev’t
->
³ndšgInvAck
 =ğ1 &&ƒv’t->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

4996 
tÙ®S¶™WM
 ++;

4997 
ev’t
->
¬riv®_time
 = 
sim_cyşe
 -ƒvent->arrival_time;

4998 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

4999 
	`dœ_ev’tq_š£¹
(
ev’t
);

5002 #ifdeà
SERIALIZATION_ACK


5003 if(
muÉË_sh¬”s
[0] == 0 && multiple_sharers[1] == 0 && multiple_sharers[2] == 0 && multiple_sharers[3] == 0)

5009 
d©a_sh¬ed_wr™e
 ++;

5010 if(
cŞËù_¡©s
)

5012 
ı_dœ
->
dœ_acûss
 ++;

5013 if(
ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

5014 
švŞve_4_hİs_upg¿de
 ++;

5016 
švŞve_4_hİs_wm
 ++;

5018 
ev’t
->
blk_dœ
 = 
blk
;

5019 if(
muÉË_sh¬”s
[0] == 0 && multiple_sharers[1] == 0 && multiple_sharers[2] == 0 && multiple_sharers[3] == 0)

5021 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_TRANSITION
;

5022 
blk
->
±r_cur_ev’t
[
block_off£t
] = 
ev’t
;

5023 
ev’t
->
blk_dœ
 = 
blk
;

5024 if(
blk
->
dœ_dœty
[
block_off£t
] !ğ-1 && 
ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

5026 
ev’t
->
İ”©iÚ
 = 
MISS_WRITE
;

5027 
ev’t
->
·»Á_İ”©iÚ
 = 
MISS_WRITE
;

5030 
ev’t
->
chdCouÁ
 = 0;

5032 if(
muÉË_sh¬”s
[0] == 0 && multiple_sharers[1] == 0 && multiple_sharers[2] == 0 && multiple_sharers[3] == 0)

5033 
muÉË_sh¬”s
 = (
blk
->
dœ_sh¬”
[
block_off£t
]);

5034 
	`IsNeighbÜ
(
muÉË_sh¬”s
, 
‹mpID
, 
ev’t
->
İ”©iÚ
,ƒv’t->
addr
);

5036 
muÉish¬”s_æag
 = 0;

5037 if(
	`IsSh¬ed
(
muÉË_sh¬”s
, 
‹mpID
) > 1)

5038 
muÉish¬”s_æag
 = 1;

5040 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

5042 if((((
muÉË_sh¬”s
[
Th»adid
/64]è& (()1 << (Th»adid%64))è=ğ(()1 << (Th»adid%64))è&& (Th»adid !ğ
‹mpID
))

5044 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

5046 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

5047 
Ãw_ev’t
->
»q_time
 = 0;

5048 
Ãw_ev’t
->
cÚf_b™
 = -1;

5049 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

5050 
Ãw_ev’t
->
³ndšg_æag
 = 0;

5051 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

5052 
Ãw_ev’t
->
isP»ãtch
 = 0;

5053 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

5054 #ifdeà
LOCK_CACHE_REGISTER


5055 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
 && 
muÉish¬”s_æag
)

5057 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_UPDATE
;

5058 
Ãw_ev’t
->
cÚf_b™
 = 
ev’t
->
chdCouÁ
;

5062 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

5063 
Ãw_ev’t
->
isExşusiveOrDœty
 = isExclusiveOrDirty;

5064 
Ãw_ev’t
->
¤c1
 = 
cu¼’tTh»adId
/
mesh_size
+
MEM_LOC_SHIFT
;

5065 
Ãw_ev’t
->
¤c2
 = 
cu¼’tTh»adId
%
mesh_size
;

5066 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

5067 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

5068 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

5069 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5070 
Ãw_ev’t
->
·»Á
 = 
ev’t
;

5071 
Ãw_ev’t
->
‹mpID
 =empID;

5072 
Ãw_ev’t
->
»£nd
 = 0;

5073 
Ãw_ev’t
->
blk_dœ
 = 
blk
;

5074 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

5075 
Ãw_ev’t
->
addr
 = 
ev’t
->addr;

5076 
Ãw_ev’t
->
vp
 = 
NULL
;

5077 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

5078 
Ãw_ev’t
->
ud©a
 = 
NULL
;

5079 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

5080 
Ãw_ev’t
->
rs
 = 
ev’t
->rs;

5081 
Ãw_ev’t
->
¡¬‹d
 = 
sim_cyşe
;

5082 
Ãw_ev’t
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

5083 
Ãw_ev’t
->
¥ec_mode
 = 0;

5084 
ev’t
->
chdCouÁ
++;

5085 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI") || (!mystricmp(network_type, "HYBRID")))

5087 #ifdeà
INV_ACK_CON


5088 
th»ad_id
;

5089 if(
	`Is_Sh¬ed
(
muÉË_sh¬”s
, 
‹mpID
) > 1)

5091 if((
Ãw_ev’t
->
¤c1
*
mesh_size
+Ãw_ev’t->
¤c2
 !ğÃw_ev’t->
des1
*mesh_size+Ãw_ev’t->
des2
è&& ((!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI")è|| (!my¡ricmpÒ‘wÜk_ty³, "HYBRID"è&& ((
	`abs
(new_event->src1 -‚ew_event->des1) +‡bs(new_event->src2 -‚ew_event->des2)) > 1))))

5093 
Ãw_ev’t
->
d©a_»¶y
 = 0;

5094 
DIRECTORY_EVENT
 *
Ãw_ev’t2
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

5095 if(
Ãw_ev’t2
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

5096 if(
cŞËù_¡©s
)

5097 
ı_dœ
->
dœ_acûss
 ++;

5098 
Ãw_ev’t2
->
šput_bufãr_fuÎ
 = 0;

5099 
Ãw_ev’t2
->
»q_time
 = 0;

5100 
Ãw_ev’t2
->
cÚf_b™
 = -1;

5101 
Ãw_ev’t2
->
³ndšg_æag
 = 0;

5102 
Ãw_ev’t2
->
İ
 = 
ev’t
->op;

5103 
Ãw_ev’t2
->
isP»ãtch
 = 0;

5104 #ifdeà
LOCK_CACHE_REGISTER


5105 if(
ev’t
->
¡Üe_cÚd
 =ğ
MY_STL_C
 && 
muÉish¬”s_æag
)

5106 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_UPDATE
;

5109 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

5110 
Ãw_ev’t2
->
¡Üe_cÚd
 = 
ev’t
->store_cond;

5111 
Ãw_ev’t2
->
¤c1
 = 
Ãw_ev’t
->
des1
;

5112 
Ãw_ev’t2
->
¤c2
 = 
Ãw_ev’t
->
des2
;

5113 
Ãw_ev’t2
->
des1
 = 
Ãw_ev’t
->
¤c1
;

5114 
Ãw_ev’t2
->
des2
 = 
Ãw_ev’t
->
¤c2
;

5115 
Ãw_ev’t2
->
´oûssšgDÚe
 = 0;

5116 
Ãw_ev’t2
->
¡¬tCyşe
 = 
sim_cyşe
;

5117 
Ãw_ev’t2
->
·»Á
 = 
ev’t
;

5118 
Ãw_ev’t2
->
‹mpID
 = 
ev’t
->tempID;

5119 
Ãw_ev’t2
->
»£nd
 = 0;

5120 
Ãw_ev’t2
->
blk_dœ
 = 
blk
;

5121 
Ãw_ev’t2
->
ı
 = 
ev’t
->cp;

5122 
Ãw_ev’t2
->
addr
 = 
ev’t
->addr;

5123 
Ãw_ev’t2
->
vp
 = 
NULL
;

5124 
Ãw_ev’t2
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

5125 
Ãw_ev’t2
->
ud©a
 = 
NULL
;

5126 
Ãw_ev’t2
->
cmd
 = 
Wr™e
;

5127 
Ãw_ev’t2
->
rs
 = 
ev’t
->rs;

5128 
Ãw_ev’t2
->
¡¬‹d
 = 
sim_cyşe
;

5129 
Ãw_ev’t2
->
¥ec_mode
 = 0;

5130 
Ãw_ev’t2
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

5131 
Ãw_ev’t2
->
d©a_»¶y
 = 0;

5132 
pİÃtMsgNo
 ++;

5133 
Ãw_ev’t2
->
pİÃtMsgNo
 =…opnetMsgNo;

5134 
Ãw_ev’t2
->
wh’
 = 
WAIT_TIME
;

5135 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t2
);

5138 
Ãw_ev’t
->
d©a_»¶y
 = 1;

5141 
Ãw_ev’t
->
d©a_»¶y
 = 1;

5143 
Ãw_ev’t
->
d©a_»¶y
 = 1;

5147 
Ãw_ev’t
->
d©a_»¶y
 = 1;

5148 
ev’t
->
dœty_æag
 = 1;

5150 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5152 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5155 if(
ev’t
->
chdCouÁ
 =ğ1 &&ƒv’t->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

5157 
WM_EM
 ++;

5158 
blk
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

5159 
ev’t
->
Üigš®ChdCouÁ
 =ƒv’t->
chdCouÁ
;

5161 if(
ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

5162 
WM_S
 ++;

5163 
sh¬”_di¡r
[
ev’t
->
chdCouÁ
] ++;

5164 
	`IsNeighbÜ_sh¬”
(
muÉË_sh¬”s
, 
‹mpID
);

5165 #ifdeà
SERIALIZATION_ACK


5167 if(
ev’t
->
chdCouÁ
 >ğ1 && !
isExşusiveOrDœty
)

5169 
fš®_ack_cÚf
 = 0;

5170 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

5171 
fš®_ack_cÚf
 = 1;

5173 
fš®_ack_cÚf
 = 0;

5175 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
)

5176 
wr™e_sh¬ed_u£d_cÚf
 ++;

5177 
	`ÃwInvCŞËù
((
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
,ƒv’t->
addr
,ƒv’t->
chdCouÁ
, 
‹mpID
, 
fš®_ack_cÚf
);

5178 
blk
->
³ndšgInvAck
[
block_off£t
] = 1;

5179 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

5181 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

5183 
tÙ®Upg¿desU§bË
++;

5184 if(
thecÚ‹xts
[
‹mpID
]->
m_shSQNum
 > 
m_shSQSize
-3)

5185 
tÙ®Upg¿desB’eficŸl
++;

5194 if(
ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

5195 
	`´štf
("here\n");

5196 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, cache_dl2->
£t_shiá
);

5197 
ev’t
->
L2miss_æag
 = 1;

5198 
ev’t
->
L2miss_¡©ed
 = 
sim_cyşe
;

5199 if(
ev’t
->
isSyncAcûss
)

5200 
Sync_L2_miss
 ++;

5201 if(!
m©chnum
)

5203 #ifdeà
DIR_FIFO_FULL


5204 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

5206 if(!
Ï¡_L2_mshr_fuÎ
)

5208 
L2_mshr_fuÎ
 ++;

5209 
Ï¡_L2_mshr_fuÎ
 = 
sim_cyşe
;

5211 #ifdeà
TSHR


5212 if(
tshr_fifo_num
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
tshr_fifo_size
)

5214 if(
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] >ğ
dœ_fifo_size
)

5217 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = dir_fifo_full[event->des1*mesh_size+event->des2] - 4;

5218 
ev’t
->
¤c1
 +ğev’t->
des1
;

5219 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5220 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5221 
ev’t
->
¤c2
 +ğev’t->
des2
;

5222 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5223 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5224 
ev’t
->
İ”©iÚ
 = 
NACK
;

5225 
ev’t
->
´oûssšgDÚe
 = 0;

5226 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5227 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5228 
	`dœ_ev’tq_š£¹
(
ev’t
);

5233 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] ++;

5234 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5235 
æ_couÁ”
 ++;

5236 
ev’t
->
æ_æag
 = 1;

5237 
	`dœ_ev’tq_š£¹
(
ev’t
);

5243 
dœ_fifo_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

5244 if(
Ï¡_L2_mshr_fuÎ
)

5246 
SÎ_L2_mshr
 +ğ
sim_cyşe
 - 
Ï¡_L2_mshr_fuÎ
;

5247 
Ï¡_L2_mshr_fuÎ
 = 0;

5251 if(!
ÿche_dl2
->
mshr
->
ä“EÁr›s
)

5253 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

5254 
æ_couÁ”
 ++;

5255 
ev’t
->
æ_æag
 = 1;

5256 
	`dœ_ev’tq_š£¹
(
ev’t
);

5260 
d©a_´iv©e_wr™e
 ++;

5261 if(
cŞËù_¡©s
)

5263 
ÿche_dl2
->
mis£s
 ++;

5264 
ÿche_dl2
->
dmis£s
 ++;

5265 
švŞve_2_hİs_miss
 ++;

5267 
ev’t
->
»qAtDœTime
 = 
sim_cyşe
;

5268 
ev’t
->
mshr_time
 = 
sim_cyşe
;

5269 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

5270 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
ev’t
);

5271 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_READ_REQ
;

5272 
Ãw_ev’t
->
cmd
 = 
R—d
;

5273 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

5274 
ev’t
->
İ”©iÚ
 = 
WAIT_MEM_READ
;

5275 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

5276 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

5277 if(
ev’t
->
İ”©iÚ
 !ğ
WRITE_UPDATE
)

5278 
WM_Miss
 ++;

5279 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5280 
ev’t_ü—‹d
 = 
ev’t
;

5281 
	`MSHRLookup
(
ÿche_dl2
->
mshr
, 
ev’t
->
addr
, 
WAIT_TIME
, 0, 
NULL
);

5286 
ev’t
->
isReqL2SecMiss
 = 1;

5287 if(
cŞËù_¡©s
)

5289 
ÿche_dl2
->
š_mshr
 ++;

5290 
ÿche_dl2
->
dš_mshr
 ++;

5292 
	`ev’t_li¡_š£¹
(
ev’t
, 
m©chnum
);

5297 
UPDATE_DIR
 :

5298 #ifdeà
UPDATE_HINT


5299 
dÿche2_acûss
++;

5300 
thecÚ‹xts
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

5301 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

5302 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5303 
	`·nic
("Writes cannot‡ccessext memory„egion");

5304 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

5306 if(
cŞËù_¡©s
)

5307 
ı_dœ
->
d©a_acûss
 ++;

5309 
blk
->
ev”_touch
 = 1;

5310 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] &= ~((()1<<(tempID%64)));

5311 
	`ä“_ev’t
(
ev’t
);

5317 
	`ä“_ev’t
(
ev’t
);

5321 #ifdeà
SILENT_DROP


5322 
	`·nic
("This Update_dir…art should‚ever beƒntered!\n");

5324 
dÿche2_acûss
++;

5325 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

5326 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

5327 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5328 
	`·nic
("Writes cannot‡ccessext memory„egion");

5329 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

5331 
blk
->
ev”_touch
 = 1;

5332 if(
cŞËù_¡©s
)

5334 
ı_dœ
->
h™s
 ++;

5335 
ı_dœ
->
ack_»ûived
 ++;

5336 
ı_dœ
->
dœ_acûss
 ++;

5339 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

5341 if(!
blk
->
±r_cur_ev’t
[
block_off£t
]è
	`·nic
("DIR (WB):…arentƒvent missing");

5342 if(
blk
->
±r_cur_ev’t
[
block_off£t
]->
İ”©iÚ
 !ğ
MISS_READ
 && blk->±r_cur_ev’t[block_off£t]->İ”©iÚ !ğ
MISS_WRITE
 && blk->±r_cur_ev’t[block_off£t]->İ”©iÚ !ğ
WRITE_UPDATE
 && blk->±r_cur_ev’t[block_off£t]->İ”©iÚ !ğ
WAIT_MEM_READ
)

5343 
	`·nic
("DIR (WB):he original message has invalid operation");

5345 if((
blk
->
±r_cur_ev’t
[
block_off£t
])->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

5347 (
blk
->
±r_cur_ev’t
[
block_off£t
])->
šdividu®_chdCouÁ
[block_offset] --;

5348 
blk
->
±r_cur_ev’t
[
block_off£t
]->
chdCouÁ
--;

5350 if(
block_off£t
 =ğ
	`blockoff£t
(
blk
->
±r_cur_ev’t
[block_off£t]->
addr
))

5351 
blk
->
±r_cur_ev’t
[
block_off£t
]->
chdCouÁ
--;

5353 if((
blk
->
±r_cur_ev’t
[
block_off£t
])->
İ”©iÚ
 =ğ
WAIT_MEM_READ
 && (blk->±r_cur_ev’t[block_off£t])->
šdividu®_chdCouÁ
[block_offset] == 0)

5355 (
blk
->
±r_cur_ev’t
[
block_off£t
])->
sh¬”_num
 --;

5356 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_dœty
[block_offset] = -1;

5357 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][0] = 0;

5358 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][1] = 0;

5359 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][2] = 0;

5360 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][3] = 0;

5362 if((
blk
->
±r_cur_ev’t
[
block_off£t
])->
sh¬”_num
 != 0)

5364 
	`ä“_ev’t
(
ev’t
);

5369 if(
blk
->
±r_cur_ev’t
[
block_off£t
]->
chdCouÁ
 == 0)

5371 
Şd_boff£t
 = 
block_off£t
;

5372 
block_off£t
 = 
	`blockoff£t
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
);

5373 
couÁ”_t
 
¡¬tCyşe
 = 
sim_cyşe
;

5374 
‹mpID
 = 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->tempID;

5375 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5376 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5378 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

5381 if(!
blk
->
Iswb_to_mem
 && (blk->
¡©us
 & 
CACHE_BLK_DIRTY
è&& (blk->¡©u & 
CACHE_BLK_VALID
))

5383 
Ït
 = 
ı_dœ
->
	`blk_acûss_â
(
Wr™e
, 
	`CACHE_BADDR
(ı_dœ,
ev’t
->
addr
), cp_dœ->
bsize
, 
NULL
, 
sim_cyşe
,ƒv’t->
‹mpID
);

5384 if(
cŞËù_¡©s
)

5385 
ÿche_dl2
->
wr™ebacks
 ++;

5388 
i
=0, 
m
=0, 
™”©iÚ
 = 1;

5389 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

5390 
™”©iÚ
 = iteration * 2;

5391 
m
=0; m<
™”©iÚ
; m++)

5392 
blk
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

5394 
g_dœ
 = 
	`CACHE_TAG
(
ı_dœ
, 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
);

5395 
blk
->
gid
.
g
 = 
g_dœ
;

5396 
blk
->
gid
.
th»adid
 = blk->
±r_cur_ev’t
[
Şd_boff£t
]->
‹mpID
;

5397 
blk
->
addr
 = blk->
±r_cur_ev’t
[
Şd_boff£t
]->addr;

5398 
blk
->
¡©us
 = 
CACHE_BLK_VALID
;

5399 
blk
->
Iswb_to_mem
 = 0;

5402 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

5403 
	`upd©e_way_li¡
(&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

5404 
ı_dœ
->
Ï¡_g£tid
.
g
 = 0;

5405 
ı_dœ
->
Ï¡_g£tid
.
th»adid
 = 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
‹mpID
;

5406 
ı_dœ
->
Ï¡_blk
 = 
blk
;

5408 ià(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
ud©a
)

5409 *(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
ud©a
èğblk->
u£r_d©a
;

5410 
blk
->
»ady
 = 
sim_cyşe
;

5411 ià(
ı_dœ
->
hsize
)

5412 
	`lšk_hb_’t
(
ı_dœ
, &ı_dœ->
£ts
[
£t_dœ
], 
blk
);

5415 
	`upd©e_L2_msh»Áry
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
, 
sim_cyşe
, blk->±r_cur_ev’t[Şd_boff£t]->
mshr_time
);

5417 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
L2_PREFETCH
)

5419 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5420 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5421 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5422 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5423 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5424 
	`ä“_ev’t
(
ev’t
);

5425 
	`ä“_ev’t
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5428 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_IL1
)

5430 
·ck‘_size
 = 
d©a_·ck‘_size
;

5431 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_IL1
;

5432 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

5433 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5434 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5435 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5436 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5437 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5438 
¡¬tCyşe
 = 
sim_cyşe
;

5440 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_READ
)

5442 
·ck‘_size
 = 
d©a_·ck‘_size
;

5443 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

5444 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5445 #ifdeà
LOCK_CACHE_REGISTER


5447 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

5448 
	`LockRege¡”Check
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5450 ià(!
	`md_‹xt_addr
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
, blk->±r_cur_ev’t[Şd_boff£t]->
‹mpID
))

5452 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

5453 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5457 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

5458 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5459 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5460 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5461 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5464 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

5466 
·ck‘_size
 = 
d©a_·ck‘_size
;

5467 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

5468 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5469 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5470 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5474 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5475 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

5476 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5477 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5478 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5481 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_READ
)

5483 
·ck‘_size
 = 
d©a_·ck‘_size
;

5484 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

5485 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

5486 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5487 #ifdeà
LOCK_CACHE_REGISTER


5489 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

5490 
	`LockRege¡”Check
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5493 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
WRITE_UPDATE
)

5495 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5496 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

5497 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5498 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5500 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

5502 
·ck‘_size
 = 
d©a_·ck‘_size
;

5503 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

5504 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5505 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5508 
	`·nic
("DIR UD:‡ll state optionsƒxhausted.");

5510 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¡¬tCyşe
 = startCycle;

5511 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¤c1
 = blk->±r_cur_ev’t[Şd_boff£t]->
des1
;

5512 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¤c2
 = blk->±r_cur_ev’t[Şd_boff£t]->
des2
;

5513 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
des1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

5514 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
des2
 = 
‹mpID
%
mesh_size
;

5515 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
´oûssšgDÚe
 = 0;

5516 
	`scheduËThroughN‘wÜk
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
], blk->±r_cur_ev’t[Şd_boff£t]->
¡¬tCyşe
, 
·ck‘_size
, 
vc
);

5517 
	`dœ_ev’tq_š£¹
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5518 
blk
->
±r_cur_ev’t
[
Şd_boff£t
] = 
NULL
;

5519 
	`ä“_ev’t
(
ev’t
);

5524 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] &= ~(()1<<(tempID%64));

5525 
	`ä“_ev’t
(
ev’t
);

5530 
	`·nic
("DIR: We mainting cache inclusion‡ccross cache hierarchy. There cannot be‡ miss for Update Dir");

5534 
WRITE_BACK
 :

5535 
dÿche2_acûss
++;

5536 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

5537 
ev’t
->
·»Á_İ”©iÚ
 =ƒv’t->
İ”©iÚ
;

5538 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5539 
	`·nic
("Writes cannot‡ccessext memory„egion");

5540 if(
	`fšdCacheStus
(
ı_dœ
, 
£t_dœ
, 
g_dœ
, 
hšdex_dœ
, &
blk
))

5542 if(
cŞËù_¡©s
)

5543 
ı_dœ
->
d©a_acûss
 ++;

5545 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

5546 
blk
->
ev”_dœty
 = 1;

5547 
blk
->
ev”_touch
 = 1;

5548 #ifdeà
NON_SILENT_DROP


5550 if(
blk
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_TRANSITION
)

5552 
couÁ”_t
 
¡¬tCyşe
 = 
sim_cyşe
;

5553 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_SHARED
 || blk->dœ_blk_¡©e[block_off£t] =ğ
MESI_INVALID
è
	`·nic
("DIR: The directory is‚ot in dirty state");

5554 if(!
blk
->
±r_cur_ev’t
[
block_off£t
]è
	`·nic
("DIR (WB):…arentƒvent missing");

5555 if(
blk
->
±r_cur_ev’t
[
block_off£t
]->
İ”©iÚ
 !ğ
MISS_READ
 && blk->±r_cur_ev’t[block_off£t]->İ”©iÚ !ğ
MISS_WRITE
 && blk->±r_cur_ev’t[block_off£t]->İ”©iÚ !ğ
WRITE_UPDATE
 && blk->±r_cur_ev’t[block_off£t]->İ”©iÚ !ğ
WAIT_MEM_READ
)

5556 
	`·nic
("DIR (WB):he original message has invalid operation");

5559 if(
blk
->
±r_cur_ev’t
[
block_off£t
]->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

5562 (
blk
->
±r_cur_ev’t
[
block_off£t
])->
šdividu®_chdCouÁ
[block_offset] --;

5563 (
blk
->
±r_cur_ev’t
[
block_off£t
])->
chdCouÁ
 --;

5564 if((
blk
->
±r_cur_ev’t
[
block_off£t
])->
šdividu®_chdCouÁ
[block_offset] == 0)

5566 (
blk
->
±r_cur_ev’t
[
block_off£t
])->
sh¬”_num
 --;

5567 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_dœty
[block_offset] = -1;

5568 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][0] = 0;

5569 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][1] = 0;

5570 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][2] = 0;

5571 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][3] = 0;

5573 if((
blk
->
±r_cur_ev’t
[
block_off£t
])->
sh¬”_num
 != 0)

5575 
	`ä“_ev’t
(
ev’t
);

5580 if(
block_off£t
 !ğ
	`blockoff£t
(
blk
->
±r_cur_ev’t
[block_off£t]->
addr
è&& blk->±r_cur_ev’t[block_off£t]->
İ”©iÚ
 !ğ
WAIT_MEM_READ
)

5582 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_dœty
[block_offset] = -1;

5583 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][0] = 0;

5584 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][1] = 0;

5585 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][2] = 0;

5586 ((
blk
->
±r_cur_ev’t
[
block_off£t
])->
blk_dœ
)->
dœ_sh¬”
[block_offset][3] = 0;

5587 
	`ä“_ev’t
(
ev’t
);

5591 
‹mpID
 = 
blk
->
±r_cur_ev’t
[
block_off£t
]->tempID;

5592 
Şd_boff£t
 = 
block_off£t
;

5593 
block_off£t
 = 
	`blockoff£t
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
);

5594 
blk
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

5595 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5597 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

5600 if(!
blk
->
Iswb_to_mem
)

5602 
Ït
 = 
ı_dœ
->
	`blk_acûss_â
(
Wr™e
, 
	`CACHE_BADDR
(ı_dœ,
ev’t
->
addr
), cp_dœ->
bsize
, 
NULL
, 
sim_cyşe
,ƒv’t->
‹mpID
);

5603 if(
cŞËù_¡©s
)

5604 
ÿche_dl2
->
wr™ebacks
 ++;

5606 
g_dœ
 = 
	`CACHE_TAG
(
ı_dœ
, 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
);

5607 
i
=0, 
m
=0, 
™”©iÚ
 = 1;

5608 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

5609 
™”©iÚ
 = iteration * 2;

5610 
m
=0; m<
™”©iÚ
; m++)

5611 
blk
->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

5612 
blk
->
gid
.
g
 = 
g_dœ
;

5613 
blk
->
gid
.
th»adid
 = blk->
±r_cur_ev’t
[
Şd_boff£t
]->
‹mpID
;

5614 
blk
->
addr
 = blk->
±r_cur_ev’t
[
Şd_boff£t
]->addr;

5615 
blk
->
¡©us
 = 
CACHE_BLK_VALID
;

5616 
blk
->
Iswb_to_mem
 = 0;

5619 ià(
blk
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

5620 
	`upd©e_way_li¡
(&
ı_dœ
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

5621 
ı_dœ
->
Ï¡_g£tid
.
g
 = 0;

5622 
ı_dœ
->
Ï¡_g£tid
.
th»adid
 = 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
‹mpID
;

5623 
ı_dœ
->
Ï¡_blk
 = 
blk
;

5625 ià(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
ud©a
)

5626 *(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
ud©a
èğblk->
u£r_d©a
;

5627 
blk
->
»ady
 = 
sim_cyşe
;

5628 ià(
ı_dœ
->
hsize
)

5629 
	`lšk_hb_’t
(
ı_dœ
, &ı_dœ->
£ts
[
£t_dœ
], 
blk
);

5632 
	`upd©e_L2_msh»Áry
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
, 
sim_cyşe
, blk->±r_cur_ev’t[Şd_boff£t]->
mshr_time
);

5634 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
L2_PREFETCH
)

5636 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5637 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5638 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5639 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5640 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5641 
	`ä“_ev’t
(
ev’t
);

5642 
	`ä“_ev’t
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5646 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_IL1
)

5648 
·ck‘_size
 = 
d©a_·ck‘_size
;

5649 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_IL1
;

5650 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5651 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

5652 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5653 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5654 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5655 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5656 
¡¬tCyşe
 = 
sim_cyşe
;

5658 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_READ
)

5660 
·ck‘_size
 = 
d©a_·ck‘_size
;

5661 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

5662 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5663 #ifdeà
LOCK_CACHE_REGISTER


5665 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

5666 
	`LockRege¡”Check
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5668 ià(!
	`md_‹xt_addr
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
addr
, blk->±r_cur_ev’t[Şd_boff£t]->
‹mpID
))

5670 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

5671 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5675 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

5676 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5677 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5678 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5679 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5682 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

5684 
·ck‘_size
 = 
d©a_·ck‘_size
;

5685 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

5686 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5687 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5688 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5692 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5693 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

5694 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5695 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5696 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

5699 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_READ
)

5701 
·ck‘_size
 = 
d©a_·ck‘_size
;

5702 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

5703 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

5704 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5705 #ifdeà
LOCK_CACHE_REGISTER


5707 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

5708 
	`LockRege¡”Check
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5711 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
WRITE_UPDATE
)

5713 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5714 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

5715 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5716 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5718 if(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE
)

5720 
·ck‘_size
 = 
d©a_·ck‘_size
;

5721 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

5722 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

5723 
blk
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

5726 
	`·nic
("DIR WB:‡ll state optionsƒxhausted.");

5728 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¡¬tCyşe
 = startCycle;

5729 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¤c1
 = blk->±r_cur_ev’t[Şd_boff£t]->
des1
;

5730 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
¤c2
 = blk->±r_cur_ev’t[Şd_boff£t]->
des2
;

5731 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
des1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

5732 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
des2
 = 
‹mpID
%
mesh_size
;

5733 
blk
->
±r_cur_ev’t
[
Şd_boff£t
]->
´oûssšgDÚe
 = 0;

5734 
	`scheduËThroughN‘wÜk
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
], blk->±r_cur_ev’t[Şd_boff£t]->
¡¬tCyşe
, 
·ck‘_size
, 
vc
);

5735 
	`dœ_ev’tq_š£¹
(
blk
->
±r_cur_ev’t
[
Şd_boff£t
]);

5736 
blk
->
±r_cur_ev’t
[
Şd_boff£t
] = 
NULL
;

5737 
	`ä“_ev’t
(
ev’t
);

5741 #ifdeà
PREFETCH_OPTI


5742 if(
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
])

5744 
blk
->
dœ_´eãtch
[
block_off£t
][
‹mpID
] = 0;

5745 
blk
->
dœ_´eãtch_num
[
block_off£t
] --;

5746 if(
blk
->
dœ_´eãtch_num
[
block_off£t
] < 0)

5747 
	`·nic
("prefetch‚umber does‚ot match!\n");

5748 #ifdeà
SILENT_DROP


5749 
	`·nic
("prefetch can‚ot be write back!\n");

5752 if(
blk
->
dœ_´eãtch_num
[
block_off£t
])

5753 
blk
->
´eãtch_modif›d
[
block_off£t
] = 1;

5756 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

5758 #ifdeà
EUP_NETWORK


5759 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_SHARED
)

5760 
blk
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] &ğ~(()1<<(
ev’t
->tempID%64));

5763 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5764 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5765 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5766 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5767 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5770 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_SHARED
)

5771 
	`·nic
("DIR: L2 cache block‚ot in modified state during WB");

5772 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5773 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5774 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5775 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5776 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5781 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_SHARED
)

5782 
	`·nic
("DIR: L2 cache block‚ot in modified state during WB");

5783 
blk
->
dœ_sh¬”
[
block_off£t
][0] = 0;

5784 
blk
->
dœ_sh¬”
[
block_off£t
][1] = 0;

5785 
blk
->
dœ_sh¬”
[
block_off£t
][2] = 0;

5786 
blk
->
dœ_sh¬”
[
block_off£t
][3] = 0;

5787 
blk
->
dœ_dœty
[
block_off£t
] = -1;

5789 
	`ä“_ev’t
(
ev’t
);

5794 
	`·nic
("DIR: We mainting cache inclusion‡ccross cache hierarchy. There cannot be‡ miss for WB");

5798 
INV_MSG_READ
 :

5799 
dÿche_acûss
++;

5800 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

5801 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5802 
	`·nic
("Writes cannot‡ccessext memory„egion");

5803 
couÁ
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
è* 
mesh_size
 +ƒv’t->
des2
;

5804 
ı1
 = 
ÿche_dl1
[
couÁ
];

5805 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

5806 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

5807 if(
cŞËù_¡©s
)

5808 
ı1
->
Inv®id_R—d_»ûived
 ++;

5809 #ifdeà
SILENT_DROP


5810 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5811 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

5813 #ifdeà
EXCLUSIVE_OPT


5814 
ev’t
->
exşusive_aá”_wb
 = 0;

5816 
ev’t
->
l1LšeU£Stus
 = 0;

5817 
blk1
 = 
ı1
->
£ts
[
£t
].
way_h—d
; blk1; blk1 =blk1->
way_Ãxt
)

5819 ià((
blk1
->
gid
.
g
 =ğgè&& (blk1->
¡©us
 & 
CACHE_BLK_VALID
))

5821 if(
blk1
->
¡©e
 =ğ
MESI_MODIFIED
)

5823 
·ck‘_size
 = 
d©a_·ck‘_size
;

5824 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READ
;

5825 if(
cŞËù_¡©s
)

5826 
ı1
->
wb_coh”’û_r
 ++;

5827 if(
ev’t
->
d©a_»¶y
 == 0)

5828 
tÙ®_exşusive_üoss
 ++;

5830 if(
blk1
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

5832 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5833 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_READUPDATE
;

5839 if((
blk1
->
¡©us
 & 
CACHE_BLK_VALID
è&& blk1->
¡©e
 =ğ
MESI_EXCLUSIVE
)

5840 
tÙ®L1LšeExlInv
++;

5842 
blk1
->
¡©e
 = 
MESI_SHARED
;

5843 
blk1
->
¡©us
 = 
CACHE_BLK_VALID
;

5844 if(
cŞËù_¡©s
)

5845 
ı1
->
Inv®id_R—d_»ûived_h™s
 ++;

5846 
ev’t
->
l1LšeU£Stus
 = !
blk1
->
blkImdtOp
;

5850 #ifdeà
NON_SILENT_DROP


5851 if(!
blk1
)

5853 
	`ä“_ev’t
(
ev’t
);

5857 #ifdeà
EXCLUSIVE_OPT


5858 if(!
blk1
)

5859 
ev’t
->
exşusive_aá”_wb
 = 1;

5861 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

5863 #ifdeà
INV_ACK_CON


5864 if(
ev’t
->
d©a_»¶y
 =ğ0 && (ev’t->
¤c1
*
mesh_size
+ev’t->
¤c2
 !ğev’t->
des1
*mesh_size+ev’t->
des2
))

5866 
³ndšg_šv®id©iÚ
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
] --;

5867 if(
³ndšg_šv®id©iÚ
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
] == 0)

5869 
³ndšg_šv®id_cyşes
 = 
sim_cyşe
 - 
³ndšg_šv®id_¡¬t_cyşes
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
];

5871 
	`ä“_ev’t
(
ev’t
);

5876 
ev’t
->
¤c1
 +ğev’t->
des1
;

5877 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

5878 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

5879 
ev’t
->
¤c2
 +ğev’t->
des2
;

5880 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

5881 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

5882 
ev’t
->
´oûssšgDÚe
 = 0;

5883 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

5885 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

5887 
	`dœ_ev’tq_š£¹
(
ev’t
);

5890 
INV_MSG_WRITE
 :

5891 
dÿche_acûss
++;

5892 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

5893 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

5894 
	`·nic
("Writes cannot‡ccessext memory„egion");

5895 
couÁ
 = (
ev’t
->
des1
-
MEM_LOC_SHIFT
è* 
mesh_size
 +ƒv’t->
des2
;

5896 
ı1
 = 
ÿche_dl1
[
couÁ
];

5897 
g
 = 
	`CACHE_TAG
(
ı1
,
addr
);

5898 
£t
 = 
	`CACHE_SET
(
ı1
,
addr
);

5899 
	`£ndLSQInv
(
addr
, 
couÁ
);

5900 if(
cŞËù_¡©s
)

5901 
ı1
->
Inv®id_wr™e_»ûived
 ++;

5902 
sh¬ed_æag
 = 0;

5903 #ifdeà
SILENT_DROP


5904 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5905 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

5907 
ev’t
->
l1LšeU£Stus
 = 0;

5908 
blk1
 = 
ı1
->
£ts
[
£t
].
way_h—d
; blk1; blk1 =blk1->
way_Ãxt
)

5910 ià((
blk1
->
gid
.
g
 =ğgè&& (blk1->
¡©us
 & 
CACHE_BLK_VALID
))

5912 if(
blk1
->
¡©e
 =ğ
MESI_MODIFIED
)

5914 
·ck‘_size
 = 
d©a_·ck‘_size
;

5915 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITE
;

5916 if(
cŞËù_¡©s
)

5917 
ı1
->
wb_coh”’û_w
 ++;

5921 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5922 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

5923 
sh¬ed_æag
 = 1;

5924 if(
cŞËù_¡©s
 && 
blk1
->
¡©e
 =ğ
MESI_SHARED
)

5925 
ı1
->
s_to_i
 ++;

5926 if(
cŞËù_¡©s
 && 
blk1
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

5927 
ı1
->
e_to_i
 ++;

5930 if(
cŞËù_¡©s
)

5931 
ı1
->
Inv®id_wr™e_»ûived_h™s
 ++;

5933 if((
blk1
->
¡©us
 & 
CACHE_BLK_VALID
è&& blk1->
¡©e
 =ğ
MESI_EXCLUSIVE
)

5934 
tÙ®L1LšeExlInv
++;

5936 
m
 = 0;

5937 
m
=0;m<8;m++)

5938 if(
blk1
->
WÜdU£FÏg
[
m
])

5939 
blk1
->
WÜdCouÁ
 ++;

5940 if(
ev’t
->
·»Á
->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

5941 
	`¡©s_do
(
blk1
->
addr
&(~(
ÿche_dl1
[0]->
bsize
-1)), blk1->
R—dCouÁ
, blk1->
Wr™eCouÁ
, blk1->
WÜdCouÁ
, blk1->
Ty³
, 
couÁ
);

5943 
	`¡©s_do
(
blk1
->
addr
&(~(
ÿche_dl1
[0]->
bsize
-1)), blk1->
R—dCouÁ
, blk1->
Wr™eCouÁ
, blk1->
WÜdCouÁ
, 
SHARED_READ_WRITE
, 
couÁ
);

5944 
blk1
->
R—dCouÁ
 = 0;

5945 
blk1
->
Wr™eCouÁ
 = 0;

5946 
blk1
->
WÜdCouÁ
 = 0;

5947 
m
=0;m<8;m++)

5948 
blk1
->
WÜdU£FÏg
[
m
] = 0;

5950 
blk1
->
¡©e
 = 
MESI_INVALID
;

5951 
blk1
->
¡©us
 = 0;

5952 
ev’t
->
l1LšeU£Stus
 = !
blk1
->
blkImdtOp
;

5953 if(
blk1
->
blkAlocR—sÚ
 =ğ
LINE_PREFETCH
)

5955 if(
blk1
->
blkImdtOp
)

5956 
tÙ®L1LšeP»fU£
++;

5958 
tÙ®L1LšeP»fNoU£
++;

5960 if(
blk1
->
blkAlocR—sÚ
 =ğ
LINE_READ
)

5962 if(
blk1
->
blkImdtOp
)

5963 
tÙ®L1LšeR—dU£
++;

5965 
tÙ®L1LšeR—dNoU£
++;

5967 ià(
blk1
->
blkAlocR—sÚ
 =ğ
LINE_WRITE
)

5969 if(
blk1
->
blkImdtOp
)

5970 
tÙ®L1LšeWr™eU£
++;

5972 
tÙ®L1LšeWr™eNoU£
++;

5977 #ifdeà
NON_SILENT_DROP


5978 if(!
blk1
)

5980 
m©ch
;

5981 if((
m©ch
=
	`MSHR_block_check
(
ı1
->
mshr
, 
ev’t
->
addr
, cp1->
£t_shiá
)))

5983 if(
ı1
->
mshr
->
mshrEÁry
[
m©ch
-1].
ev’t
->
İ”©iÚ
 !ğ
WRITE_UPDATE
)

5985 if(
ı1
->
mshr
->
mshrEÁry
[
m©ch
-1].
ev’t
->
İ”©iÚ
 =ğ
NACK
 && (ı1->mshr->mshrEÁry[m©ch-1].ev’t->
·»Á_İ”©iÚ
 =ğ
WRITE_UPDATE
))

5987 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5988 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

5992 
	`ä“_ev’t
(
ev’t
);

5998 
·ck‘_size
 = 
m‘a_·ck‘_size
;

5999 
ev’t
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

6004 
	`ä“_ev’t
(
ev’t
);

6009 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

6011 #ifdeà
INV_ACK_CON


6012 if(
ev’t
->
d©a_»¶y
 =ğ0 && (ev’t->
¤c1
*
mesh_size
+ev’t->
¤c2
 !ğev’t->
des1
*mesh_size+ev’t->
des2
))

6014 
³ndšg_šv®id©iÚ
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
] --;

6015 if(
³ndšg_šv®id©iÚ
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
] == 0)

6017 
³ndšg_šv®id_cyşes
 = 
sim_cyşe
 - 
³ndšg_šv®id_¡¬t_cyşes
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
];

6019 
	`ä“_ev’t
(
ev’t
);

6024 
ev’t
->
¤c1
 +ğev’t->
des1
;

6025 
ev’t
->
des1
 =ƒv’t->
¤c1
 -ƒvent->des1;

6026 
ev’t
->
¤c1
 =ƒv’t->¤c1 -ƒv’t->
des1
;

6027 
ev’t
->
¤c2
 +ğev’t->
des2
;

6028 
ev’t
->
des2
 =ƒv’t->
¤c2
 -ƒvent->des2;

6029 
ev’t
->
¤c2
 =ƒv’t->¤c2 -ƒv’t->
des2
;

6030 
ev’t
->
´oûssšgDÚe
 = 0;

6031 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6033 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

6035 
	`dœ_ev’tq_š£¹
(
ev’t
);

6038 
ACK_MSG_READ
 :

6039 
ACK_MSG_READUPDATE
 :

6040 
dÿche2_acûss
++;

6041 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

6042 
R—d³ndšg
 = 0;

6043 #ifdeà
SERIALIZATION_ACK


6044 if(
ev’t
->
blk_dœ
->
³ndšgInvAck
[
block_off£t
])

6046 #ifdeà
READ_PERMIT


6047 if(
ev’t
->
blk_dœ
->
R—dP’dšg
[
block_off£t
] == -1)

6049 
ev’t
->
·»Á
->
blk_dœ
->
R—dP’dšg
[
block_off£t
] =ƒv’t->
‹mpID
;

6050 
ev’t
->
·»Á
->
blk_dœ
->
R—dP’dšg_ev’t
[
block_off£t
] =ƒvent->parent;

6051 
R—d³ndšg
 = 1;

6054 
ev’t
->
wh’
 +ğ
RETRY_TIME
;

6055 
	`dœ_ev’tq_š£¹
(
ev’t
);

6060 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

6061 
	`·nic
("Writes cannot‡ccessext memory„egion");

6062 if(
ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_STABLE
)

6063 
	`·nic
("DIR:‡fterhe„eceipt of ACK msg, directory‚ot inransient state");

6064 (
ev’t
->
·»Á
)->
chdCouÁ
 --;

6065 if(
cŞËù_¡©s
)

6068 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_READUPDATE
)

6069 
ÿche_dl2
->
dœ_acûss
 ++;

6071 
ÿche_dl2
->
d©a_acûss
 ++;

6073 if((
ev’t
->
·»Á
)->
chdCouÁ
 == 0)

6075 
DIRECTORY_EVENT
 *
·»Á_ev’t
 = 
ev’t
->
·»Á
;

6076 
‹mpID
 = 
·»Á_ev’t
->tempID;

6077 if((
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_SHARED
)

6078 
	`·nic
("DIR: L2 cache†ine could‚ot be in shared state");

6080 (
·»Á_ev’t
->
blk_dœ
)->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

6081 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = -1;

6082 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] |= ()1<<(tempID%64);

6083 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

6084 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_READ
)

6085 (
·»Á_ev’t
->
blk_dœ
)->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

6087 if(
ev’t
->
l1LšeU£Stus
)

6089 
d–ayL2R—dReqDœty
 +ğ
ev’t
->
wh’
 -ƒv’t->
·»Á
->when;

6090 
tÙ®L2R—dReqDœtyWT
++;

6093 #ifdeà
READ_PERMIT


6094 if(!
R—d³ndšg
)

6097 (
·»Á_ev’t
->
blk_dœ
)->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6099 
	`time¥aû
(
sim_cyşe
 - 
·»Á_ev’t
->
blk_dœ
->
exşusive_time
[
block_off£t
], 1);

6102 #ifdeà
PREFETCH_OPTI


6103 if(
·»Á_ev’t
->
İ”©iÚ
 =ğ
READ_COHERENCE_UPDATE
)

6105 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_READUPDATE
)

6107 if(
·»Á_ev’t
->
blk_dœ
->
´eãtch_modif›d
[
block_off£t
] ||…¬’t_ev’t->blk_dœ->
´eãtch_šv®id©e
[block_offset])

6109 
·ck‘_size
 = 
d©a_·ck‘_size
;

6110 
·»Á_ev’t
->
İ”©iÚ
 = 
READ_META_REPLY_SHARED
;

6111 
R—dED©aR•ly
 ++;

6115 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6116 
·»Á_ev’t
->
İ”©iÚ
 = 
READ_META_REPLY_SHARED
;

6117 
R—dEM‘aR•ly
 ++;

6122 
·ck‘_size
 = 
d©a_·ck‘_size
;

6123 
·»Á_ev’t
->
İ”©iÚ
 = 
READ_DATA_REPLY_SHARED
;

6124 
R—dMR•ly
 ++;

6126 if(
·»Á_ev’t
->
blk_dœ
->
dœ_´eãtch_num
[
block_off£t
] == 0)

6128 
·»Á_ev’t
->
blk_dœ
->
´eãtch_šv®id©e
[
block_off£t
] = 0;

6129 
·»Á_ev’t
->
blk_dœ
->
´eãtch_modif›d
[
block_off£t
] = 0;

6134 
·ck‘_size
 = 
d©a_·ck‘_size
;

6135 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

6138 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

6139 
·ck‘_size
 = 
d©a_·ck‘_size
;

6141 
·»Á_ev’t
->
»qAckTime
 = 
sim_cyşe
;

6142 
·»Á_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6143 
·»Á_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6144 
·»Á_ev’t
->
des1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

6145 
·»Á_ev’t
->
des2
 = 
‹mpID
%
mesh_size
;

6146 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

6147 
·»Á_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6148 
·»Á_ev’t
->
³ndšgInvAck
 = 0;

6149 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
vc
);

6150 #ifdeà
LOCK_CACHE_REGISTER


6152 if(
·»Á_ev’t
->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

6153 
	`LockRege¡”Check
(
·»Á_ev’t
);

6155 
	`ä“_ev’t
(
ev’t
);

6156 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

6157 #ifdeà
READ_PERMIT


6161 
	`ä“_ev’t
(
ev’t
);

6168 #ifdeà
LOCK_CACHE_REGISTER


6169 
ACK_MSG_UPDATE
:

6170 
dÿche2_acûss
++;

6171 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

6172 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

6173 
	`·nic
("Writes cannot‡ccessext memory„egion");

6174 if(
ev’t
->
·»Á
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_STABLE
)

6175 
	`·nic
("DIR:‡fterhe„eceipt of ACK msg, directory‚ot inransient state");

6176 (
ev’t
->
·»Á
)->
chdCouÁ
 --;

6178 if(
cŞËù_¡©s
)

6180 
ÿche_dl2
->
ack_»ûived
 ++;

6181 
ÿche_dl2
->
dœ_acûss
 ++;

6183 if((
ev’t
->
·»Á
)->
chdCouÁ
 == 0)

6186 
couÁ”_t
 
¡¬tCyşe
 = 
sim_cyşe
;

6187 
DIRECTORY_EVENT
 *
·»Á_ev’t
 = 
ev’t
->
·»Á
;

6188 
‹mpID
 = 
·»Á_ev’t
->tempID;

6190 (
·»Á_ev’t
->
blk_dœ
)->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6191 (
·»Á_ev’t
->
blk_dœ
)->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

6194 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6195 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

6196 
·»Á_ev’t
->
»qAckTime
 = 
sim_cyşe
;

6197 
·»Á_ev’t
->
¡¬tCyşe
 = startCycle;

6198 
·»Á_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6199 
·»Á_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6200 
·»Á_ev’t
->
des1
 =…¬’t_ev’t->
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

6201 
·»Á_ev’t
->
des2
 =…¬’t_ev’t->
‹mpID
%
mesh_size
;

6202 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

6203 
·»Á_ev’t
->
³ndšgInvAck
 = 0;

6204 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
,…¬’t_ev’t->
¡¬tCyşe
, 
·ck‘_size
, 
vc
);

6205 #ifdeà
LOCK_CACHE_REGISTER


6207 if(
·»Á_ev’t
->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

6208 
	`LockRege¡”Check
(
·»Á_ev’t
);

6210 
	`ä“_ev’t
(
ev’t
);

6212 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

6215 
	`ä“_ev’t
(
ev’t
);

6218 
ACK_MSG_WRITEUPDATE
:

6219 
ACK_MSG_WRITE
 :

6220 #ifdeà
SERIALIZATION_ACK


6221 
švCŞËùStus
 = 
	`švAckUpd©e
((
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
,ƒv’t->
addr
,ƒv’t->
‹mpID
,ƒv’t->
isSyncAcûss
);

6222 if(
švCŞËùStus
 == 1)

6224 
ev’t
->
blk_dœ
->
³ndšgInvAck
[
block_off£t
] = 0;

6225 #ifdeà
READ_PERMIT


6226 if(
ev’t
->
blk_dœ
->
R—dP’dšg
[
block_off£t
] != -1)

6228 
ev’t
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6229 
DIRECTORY_EVENT
 *
p_ev’t
;

6230 
p_ev’t
 = 
ev’t
->
blk_dœ
->
R—dP’dšg_ev’t
[
block_off£t
];

6231 if(
p_ev’t
->
‹mpID
 !ğ
ev’t
->
blk_dœ
->
R—dP’dšg
[
block_off£t
])

6232 
	`·nic
("Event is‚othe same in Early Read…ermit!\n");

6233 
p_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_SHARED
;

6234 
p_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6235 
p_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6236 
p_ev’t
->
des1
 =…_ev’t->
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

6237 
p_ev’t
->
des2
 =…_ev’t->
‹mpID
%
mesh_size
;

6238 
p_ev’t
->
´oûssšgDÚe
 = 0;

6239 
p_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6240 
p_ev’t
->
³ndšgInvAck
 = 0;

6241 
	`scheduËThroughN‘wÜk
(
p_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
vc
);

6242 
	`dœ_ev’tq_š£¹
(
p_ev’t
);

6243 
ev’t
->
blk_dœ
->
R—dP’dšg
[
block_off£t
] = -1;

6245 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

6247 #ifdeà
EUP_NETWORK


6248 if(
ev’t
->
·»Á
->
—¾y_æag
 == 1)

6250 if(
ev’t
->
addr
 =ğev’t->
·»Á
->addr)

6251 
	`ä“_ev’t
(
ev’t
->
·»Á
);

6257 if(
švCŞËùStus
 != 0)

6259 
	`ä“_ev’t
(
ev’t
);

6263 
dÿche2_acûss
++;

6264 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche2_acûss
++;

6265 if(
	`md_‹xt_addr
(
addr
, 
‹mpID
))

6266 
	`·nic
("Writes cannot‡ccessext memory„egion");

6267 if(
ev’t
->
·»Á
->
blk_dœ
->
dœ_¡©e
[
block_off£t
] =ğ
DIR_STABLE
)

6268 
	`·nic
("DIR:‡fterhe„eceipt of ACK msg, directory‚ot inransient state");

6269 (
ev’t
->
·»Á
)->
blk_dœ
->
dœ_sh¬”
[
block_off£t
][((Óv’t->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
¤c2
)/64)] &= ~ (()1 << (((event->src1-MEM_LOC_SHIFT)*mesh_size+event->src2)%64));

6270 (
ev’t
->
·»Á
)->
chdCouÁ
 --;

6272 if((
ev’t
->
·»Á
)->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

6273 (
ev’t
->
·»Á
)->
šdividu®_chdCouÁ
[
block_off£t
] --;

6274 if(
cŞËù_¡©s
)

6276 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_WRITEUPDATE
)

6278 
ÿche_dl2
->
ack_»ûived
 ++;

6279 
ÿche_dl2
->
dœ_acûss
 ++;

6282 
ÿche_dl2
->
d©a_acûss
 ++;

6285 if((
ev’t
->
·»Á
)->
İ”©iÚ
 =ğ
WAIT_MEM_READ
 && (ev’t->·»Á)->
šdividu®_chdCouÁ
[
block_off£t
] == 0)

6287 (
ev’t
->
·»Á
)->
sh¬”_num
 --;

6288 ((
ev’t
->
·»Á
)->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = -1;

6289 ((
ev’t
->
·»Á
)->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][0] = 0;

6290 ((
ev’t
->
·»Á
)->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][1] = 0;

6291 ((
ev’t
->
·»Á
)->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][2] = 0;

6292 ((
ev’t
->
·»Á
)->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][3] = 0;

6294 if((
ev’t
->
·»Á
)->
sh¬”_num
 != 0)

6296 
	`ä“_ev’t
(
ev’t
);

6301 if((
ev’t
->
·»Á
)->
chdCouÁ
 == 0)

6304 
couÁ”_t
 
¡¬tCyşe
 = 
sim_cyşe
;

6305 
DIRECTORY_EVENT
 *
·»Á_ev’t
 = 
ev’t
->
·»Á
;

6306 
‹mpID
 = 
·»Á_ev’t
->tempID;

6308 (
·»Á_ev’t
->
blk_dœ
)->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

6309 (
·»Á_ev’t
->
blk_dœ
)->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

6310 
block_off£t
 = 
	`blockoff£t
(
·»Á_ev’t
->
addr
);

6311 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

6312 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6313 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

6315 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_WRITE
)

6316 (
·»Á_ev’t
->
blk_dœ
)->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

6317 if(
·»Á_ev’t
->
İ”©iÚ
 !ğ
WAIT_MEM_READ
)

6319 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

6320 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6321 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

6323 if(
·»Á_ev’t
->
Üigš®ChdCouÁ
 == 1)

6324 
	`time¥aû
(
sim_cyşe
 - 
·»Á_ev’t
->
blk_dœ
->
exşusive_time
[
block_off£t
], 2);

6325 #ifdeà
PREFETCH_OPTI


6326 if(
·»Á_ev’t
->
İ”©iÚ
 !ğ
WRITE_COHERENCE_UPDATE
)

6328 if((
·»Á_ev’t
->
blk_dœ
)->
dœ_´eãtch_num
[
block_off£t
])

6329 (
·»Á_ev’t
->
blk_dœ
)->
´eãtch_šv®id©e
[
block_off£t
] = 1;

6330 if((
·»Á_ev’t
->
blk_dœ
)->
dœ_´eãtch_num
[
block_off£t
])

6331 (
·»Á_ev’t
->
blk_dœ
)->
´eãtch_modif›d
[
block_off£t
] = 1;

6335 if(
ev’t
->
l1LšeU£Stus
)

6337 if(
ev’t
->
isExşusiveOrDœty
)

6339 
d–ayL2Wr™eReqDœty
 +ğ
ev’t
->
wh’
 -ƒv’t->
·»Á
->when;

6340 
tÙ®L2Wr™eReqDœtyWT
++;

6344 
d–ayL2Wr™eReqSh¬ed
 +ğ
ev’t
->
wh’
 -ƒv’t->
·»Á
->when;

6345 
tÙ®L2Wr™eReqSh¬edWT
++;

6349 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_WRITE
)

6350 (
·»Á_ev’t
->
blk_dœ
)->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

6354 if(
·»Á_ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

6356 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6357 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

6359 if(
·»Á_ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
)

6361 
·ck‘_size
 = 
d©a_·ck‘_size
;

6362 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

6364 #ifdeà
PREFETCH_OPTI


6365 if(
·»Á_ev’t
->
İ”©iÚ
 =ğ
WRITE_COHERENCE_UPDATE
)

6367 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_MSG_WRITE
)

6369 
·ck‘_size
 = 
d©a_·ck‘_size
;

6370 
·»Á_ev’t
->
İ”©iÚ
 = 
WRITE_DATA_REPLY
;

6371 
Wr™eMR•ly
 ++;

6375 if(
·»Á_ev’t
->
blk_dœ
->
´eãtch_šv®id©e
[
block_off£t
] ||…¬’t_ev’t->blk_dœ->
´eãtch_modif›d
[block_offset])

6377 
·ck‘_size
 = 
d©a_·ck‘_size
;

6378 
·»Á_ev’t
->
İ”©iÚ
 = 
WRITE_DATA_REPLY
;

6379 
Wr™eSED©aR•ly
 ++;

6383 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6384 
·»Á_ev’t
->
İ”©iÚ
 = 
WRITE_META_REPLY
;

6385 
Wr™eSEM‘aR•ly
 ++;

6388 if(
·»Á_ev’t
->
blk_dœ
->
dœ_´eãtch_num
[
block_off£t
] == 0)

6390 
·»Á_ev’t
->
blk_dœ
->
´eãtch_šv®id©e
[
block_off£t
] = 0;

6391 
·»Á_ev’t
->
blk_dœ
->
´eãtch_modif›d
[
block_off£t
] = 0;

6399 if(
ev’t
->
sh¬”_num
 != 0)

6400 
	`·nic
("WAIT_MEM_READ: sharer_num should be zero‚ow!\n");

6404 if(!
·»Á_ev’t
->
blk_dœ
->
Iswb_to_mem
 && (·»Á_ev’t->blk_dœ->
¡©us
 & 
CACHE_BLK_DIRTY
è&& (·»Á_ev’t->blk_dœ->¡©u & 
CACHE_BLK_VALID
))

6406 
Ãw_vc
 = 0;

6407 
l
=0;

6408 
l
=0;l<
ÿche_dl2
->
bsize
/
max_·ck‘_size
;l++)

6410 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

6411 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
·»Á_ev’t
);

6412 
Ãw_ev’t
->
addr
 = 
·»Á_ev’t
->addr;

6413 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_WRITE_BACK
;

6414 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

6415 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
Ãw_vc
);

6416 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6418 
·»Á_ev’t
->
blk_dœ
->
Iswb_to_mem
 = 1;

6419 if(
cŞËù_¡©s
)

6420 
ÿche_dl2
->
wr™ebacks
 ++;

6423 
·»Á_ev’t
->
blk_dœ
->
Iswb_to_mem
 = 0;

6425 
g_dœ
 = 
	`CACHE_TAG
(
ı_dœ
, 
·»Á_ev’t
->
addr
);

6427 
i
=0, 
m
=0, 
™”©iÚ
 = 1;

6428 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

6429 
™”©iÚ
 = iteration * 2;

6430 
m
=0; m<
™”©iÚ
; m++)

6431 (
·»Á_ev’t
->
blk_dœ
)->
dœ_¡©e
[
m
] = 
DIR_STABLE
;

6433 (
·»Á_ev’t
->
blk_dœ
)->
gid
.
g
 = 
g_dœ
;

6434 (
·»Á_ev’t
->
blk_dœ
)->
gid
.
th»adid
 = 
‹mpID
;

6435 (
·»Á_ev’t
->
blk_dœ
)->
addr
 =…arent_event->addr;

6436 (
·»Á_ev’t
->
blk_dœ
)->
¡©us
 = 
CACHE_BLK_VALID
;

6437 (
·»Á_ev’t
->
blk_dœ
)->
Iswb_to_mem
 = 0;

6442 
ı_dœ
->
Ï¡_g£tid
.
g
 = 0;

6443 
ı_dœ
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

6444 
ı_dœ
->
Ï¡_blk
 = (
·»Á_ev’t
->
blk_dœ
);

6447 ià(
·»Á_ev’t
->
ud©a
)

6448 *(
·»Á_ev’t
->
ud©a
èğÕ¬’t_ev’t->
blk_dœ
)->
u£r_d©a
;

6450 (
·»Á_ev’t
->
blk_dœ
)->
»ady
 = 
sim_cyşe
;

6452 ià(
ı_dœ
->
hsize
)

6453 
	`lšk_hb_’t
(
ı_dœ
, &ı_dœ->
£ts
[
£t_dœ
], (
·»Á_ev’t
->
blk_dœ
));

6456 
	`upd©e_L2_msh»Áry
(
·»Á_ev’t
->
addr
, 
sim_cyşe
,…¬’t_ev’t->
¡¬tCyşe
);

6457 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

6458 #ifdeà
PREFETCH_OPTI


6459 
i
=0;i<
MAXTHREADS
;i++)

6460 (
·»Á_ev’t
->
blk_dœ
)->
dœ_´eãtch
[
block_off£t
][
i
] = 0;

6461 (
·»Á_ev’t
->
blk_dœ
)->
dœ_´eãtch_num
[
block_off£t
] = 0;

6462 (
·»Á_ev’t
->
blk_dœ
)->
´eãtch_šv®id©e
[
block_off£t
] = 0;

6463 (
·»Á_ev’t
->
blk_dœ
)->
´eãtch_modif›d
[
block_off£t
] = 0;

6466 if(
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
L2_PREFETCH
)

6468 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][0] = 0;

6469 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][1] = 0;

6470 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][2] = 0;

6471 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][3] = 0;

6472 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = -1;

6473 
	`ä“_ev’t
(
ev’t
);

6474 
	`ä“_ev’t
(
·»Á_ev’t
);

6478 if(
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_IL1
)

6480 
·ck‘_size
 = 
d©a_·ck‘_size
;

6481 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_IL1
;

6482 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = -1;

6483 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][0] = 0;

6484 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][1] = 0;

6485 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][2] = 0;

6486 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][3] = 0;

6487 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

6488 
¡¬tCyşe
 = 
sim_cyşe
;

6490 if(
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_READ


6491 #ifdeà
PREFETCH_OPTI


6492 || 
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
L1_PREFETCH


6493 || 
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
READ_COHERENCE_UPDATE


6497 
·ck‘_size
 = 
d©a_·ck‘_size
;

6498 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

6499 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = -1;

6500 ià(!
	`md_‹xt_addr
(
·»Á_ev’t
->
addr
, 
‹mpID
))

6502 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6503 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

6507 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][0] = 0;

6508 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][1] = 0;

6509 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][2] = 0;

6510 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][3] = 0;

6511 (
·»Á_ev’t
->
blk_dœ
)->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

6513 #ifdeà
LOCK_CACHE_REGISTER


6515 if(
·»Á_ev’t
->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

6516 
	`LockRege¡”Check
(
·»Á_ev’t
);

6519 if(
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE


6520 #ifdeà
PREFETCH_OPTI


6521 || 
·»Á_ev’t
->
·»Á_İ”©iÚ
 =ğ
WRITE_COHERENCE_UPDATE


6525 
·ck‘_size
 = 
d©a_·ck‘_size
;

6526 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

6527 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

6528 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6532 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6533 
·»Á_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

6534 (
·»Á_ev’t
->
blk_dœ
)->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

6535 (
·»Á_ev’t
->
blk_dœ
)->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

6539 
·»Á_ev’t
->
blk_dœ
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

6540 
·»Á_ev’t
->
»qAckTime
 = 
sim_cyşe
;

6541 
·»Á_ev’t
->
¡¬tCyşe
 = startCycle;

6542 
·»Á_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6543 
·»Á_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6544 
·»Á_ev’t
->
des1
 =…¬’t_ev’t->
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

6545 
·»Á_ev’t
->
des2
 =…¬’t_ev’t->
‹mpID
%
mesh_size
;

6546 
·»Á_ev’t
->
´oûssšgDÚe
 = 0;

6547 
·»Á_ev’t
->
³ndšgInvAck
 = 0;

6548 
	`scheduËThroughN‘wÜk
(
·»Á_ev’t
,…¬’t_ev’t->
¡¬tCyşe
, 
·ck‘_size
, 
vc
);

6549 
	`ä“_ev’t
(
ev’t
);

6551 
	`dœ_ev’tq_š£¹
(
·»Á_ev’t
);

6554 
	`ä“_ev’t
(
ev’t
);

6557 
ACK_DIR_IL1
 :

6558 
iÿche_acûss
++;

6559 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
iÿche_acûss
++;

6561 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

6562 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

6564 (
ev’t
->
ı
)->
pŞicy
)

6566 
bšdex
;

6567 
LRU
:

6568 
FIFO
:

6569 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

6570 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

6572 
Rªdom
:

6573 
bšdex
 = 
	`my¿nd
 (è& ((
ev’t
->
ı
)->
assoc
 - 1);

6574 
»¶
 = 
	`CACHE_BINDEX
 ((
ev’t
->
ı
), (ev’t->ı)->
£ts
[
£t
].
blks
, 
bšdex
);

6577 
	`·nic
 ("bogus„eplacement…olicy");

6579 ià(
cŞËù_¡©s
)

6580 
ev’t
->
ı
->
»¶aûm’ts
++;

6581 
»¶
->
gid
.
g
 =ag;

6582 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

6583 
»¶
->
addr
 = 
ev’t
->addr;

6584 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

6585 
»¶
->
¡©e
 = 
MESI_SHARED
;

6588 
bofs
 = 
	`CACHE_BLK
(
ev’t
->
ı
,ƒv’t->
addr
);

6589 ià((
ev’t
->
ı
)->
b®loc
 && (ev’t->
vp
))

6590 
	`CACHE_BCOPY
(
ev’t
->
cmd
, 
»¶
, 
bofs
,ƒv’t->
vp
,ƒv’t->
nby‹s
);

6592 (
ev’t
->
ı
)->
Ï¡_g£tid
.
g
 = 0;

6593 (
ev’t
->
ı
)->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

6594 (
ev’t
->
ı
)->
Ï¡_blk
 = 
»¶
;

6597 ià(
ev’t
->
ud©a
)

6598 *(
ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

6600 if(
cŞËù_¡©s
)

6601 
tÙ®IL1misshªdËtime
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

6603 
»¶
->
»ady
 = 
sim_cyşe
;

6605 ià((
ev’t
->
ı
)->
hsize
)

6606 
	`lšk_hb_’t
((
ev’t
->
ı
), &Óv’t->ı)->
£ts
[
£t
], 
»¶
);

6608 
thecÚ‹xts
[
‹mpID
]->
ruu_ãtch_issue_d–ay
 = 0;

6609 
thecÚ‹xts
[
‹mpID
]->
ev’t
 = 
NULL
;

6610 
	`ä“_ev’t
(
ev’t
);

6614 #ifdeà
SERIALIZATION_ACK


6615 
FINAL_INV_ACK
:

6616 if(
numStÜeP’dšg
[
ev’t
->
‹mpID
] == 0)

6617 
	`·nic
("error in FINAL_INV_ACK\n");

6618 
numStÜeP’dšg
[
ev’t
->
‹mpID
]--;

6619 if((
numStÜeP’dšg
[
ev’t
->
‹mpID
] =ğ0è&& 
thecÚ‹xts
[ev’t->‹mpID]->
WBbËTa
 =ğ
NULL
)

6620 
thecÚ‹xts
[
ev’t
->
‹mpID
]->
©MB
 = 0;

6621 
	`ä“_ev’t
(
ev’t
);

6626 #ifdeà
WRITE_EARLY


6627 
ACK_DIR_WRITE
 :

6628 if(
ev’t
->
—¾y_æag
 == 3)

6630 
ı1
 = 
ev’t
->
ı
;

6631 
wr™e_—¾y
 --;

6632 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
,
addr
);

6633 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
,
addr
);

6634 
æag
 = 0;

6635 
blk1
 = 
ı1
->
£ts
[
£t
].
way_h—d
; blk1; blk1 =blk1->
way_Ãxt
)

6637 ià((
blk1
->
gid
.
g
 =ğgè&& (blk1->
¡©us
 & 
CACHE_BLK_WVALID
))

6639 
æag
 = 1;

6640 
blk1
->
¡©us
 &ğ(~
CACHE_BLK_WVALID
);

6641 
blk1
->
¡©us
 |ğ
CACHE_BLK_VALID
;

6645 if(
æag
 != 0)

6647 #ifdeà
SERIALIZATION_ACK


6648 if(
ev’t
->
³ndšgInvAck
)

6649 
numStÜeP’dšg
[
‹mpID
]++;

6651 
	`msh»Áry_upd©e
(
ev’t
, 
sim_cyşe
,ƒv’t->
¡¬‹d
);

6652 
	`ä“_ev’t
(
ev’t
);

6656 
ACK_DIR_WRITE_EARLY
:

6657 
dÿche_acûss
++;

6659 
wr™e_—¾y
 ++;

6660 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

6662 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

6663 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

6665 (
ev’t
->
ı
)->
pŞicy
)

6667 
bšdex
, 
i
=0;

6668 
LRU
:

6669 
FIFO
:

6676 
i
 = 
ev’t
->
ı
->
assoc
;

6678 if(
i
 == 0) ;

6679 
i
--;

6680 
»¶
 = 
ev’t
->
ı
->
£ts
[
£t
].
way_
;

6681 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

6683 
»¶
->
¡©us
 & 
CACHE_BLK_WVALID
);

6685 if(
»¶
->
¡©us
 & 
CACHE_BLK_WVALID
)

6687 
L1_æ_couÁ”
 ++;

6688 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

6689 
	`dœ_ev’tq_š£¹
(
ev’t
);

6693 
Rªdom
:

6694 
bšdex
 = 
	`my¿nd
 (è& ((
ev’t
->
ı
)->
assoc
 - 1);

6695 
»¶
 = 
	`CACHE_BINDEX
 ((
ev’t
->
ı
), (ev’t->ı)->
£ts
[
£t
].
blks
, 
bšdex
);

6698 
	`·nic
 ("bogus„eplacement…olicy");

6701 ià((
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

6702 #ifdeà
SILENT_DROP


6703 #iâdeà
UPDATE_HINT


6704 && (
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

6709 ià(
cŞËù_¡©s
)

6710 
ev’t
->
ı
->
»¶aûm’ts
++;

6712 ià(
aùu®Proûss
 =ğ1 && !
	`md_‹xt_addr
(
»¶
->
addr
, 
‹mpID
))

6714 ià((
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& !Ô•l->
¡©e
 =ğ
MESI_MODIFIED
))

6715 
	`·nic
 ("Cache Block should have been modified here");

6717 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

6718 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

6719 
Ãw_ev’t
->
isP»ãtch
 = 0;

6720 #ià
	`defšed
(
NON_SILENT_DROP
è|| defšed(
UPDATE_HINT
)

6721 ià(
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

6724 ià(
cŞËù_¡©s
)

6725 
ev’t
->
ı
->
wr™ebacks
++;

6726 #ifdeà
WB_SPLIT


6727 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK_HEAD
;

6728 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6729 
j
=0, 
wb_f
;

6730 
j
=0;j<
MSHR_SIZE
;j++)

6732 if(
wb_bufãr
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
][
j
] == 0)

6734 
wb_bufãr
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
][
j
] = 
»¶
->
addr
;

6735 
wb_f
 = 1;

6740 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK
;

6741 
·ck‘_size
 = 
d©a_·ck‘_size
;

6743 #ià
	`defšed
(
NON_SILENT_DROP
è|| defšed(
UPDATE_HINT
)

6747 
Ãw_ev’t
->
İ”©iÚ
 = 
UPDATE_DIR
;

6748 
·ck‘_size
 = 
m‘a_·ck‘_size
;

6749 ià(
cŞËù_¡©s
)

6750 
ev’t
->
ı
->
dœ_nÙifiÿtiÚ
++;

6753 
Ãw_ev’t
->
cÚf_b™
 = -1;

6754 
Ãw_ev’t
->
»q_time
 = 0;

6755 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

6756 
Ãw_ev’t
->
³ndšg_æag
 = 0;

6757 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

6758 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

6759 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

6760 
md_addr_t
 
¤c
 = (
»¶
->
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

6761 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

6762 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

6763 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

6764 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

6765 
Ãw_ev’t
->
·»Á
 = 
NULL
;

6766 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

6767 
Ãw_ev’t
->
chdCouÁ
 = 0;

6768 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

6769 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

6770 
Ãw_ev’t
->
»£nd
 = 0;

6771 
Ãw_ev’t
->
blk1
 = 
»¶
;

6772 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

6773 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

6774 
Ãw_ev’t
->
vp
 = 
NULL
;

6775 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

6776 
Ãw_ev’t
->
ud©a
 = 
NULL
;

6777 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

6778 
Ãw_ev’t
->
rs
 = 
NULL
;

6779 
Ãw_ev’t
->
¥ec_mode
 = 0;

6780 
Ãw_ev’t
->
d©a_»¶y
 = 0;

6781 
Ãw_vc
 = 0;

6783 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
Ãw_vc
);

6785 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

6789 if(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

6791 if(
»¶
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

6792 
tÙ®L1LšeExlDrİ
++;

6794 if(
»¶
->
blkAlocR—sÚ
 =ğ
LINE_PREFETCH
)

6796 if(
»¶
->
blkImdtOp
)

6797 
tÙ®L1LšeP»fU£
++;

6799 
tÙ®L1LšeP»fNoU£
++;

6801 if(
»¶
->
blkAlocR—sÚ
 =ğ
LINE_READ
)

6803 if(
»¶
->
blkImdtOp
)

6804 
tÙ®L1LšeR—dU£
++;

6806 
tÙ®L1LšeR—dNoU£
++;

6808 if(
»¶
->
blkAlocR—sÚ
 =ğ
LINE_WRITE
)

6810 if(
»¶
->
blkImdtOp
)

6811 
tÙ®L1LšeWr™eU£
++;

6813 
tÙ®L1LšeWr™eNoU£
++;

6817 if(
ev’t
->
isP»ãtch
)

6818 
»¶
->
blkAlocR—sÚ
 = 
LINE_PREFETCH
;

6819 if(
ev’t
->
cmd
 =ğ
Wr™e
)

6820 
»¶
->
blkAlocR—sÚ
 = 
LINE_WRITE
;

6821 if(
ev’t
->
cmd
 =ğ
R—d
)

6822 
»¶
->
blkAlocR—sÚ
 = 
LINE_READ
;

6824 
»¶
->
blkAlocR—sÚ
 = 0;

6827 
»¶
->
gid
.
g
 =ag;

6828 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

6829 
»¶
->
addr
 = 
ev’t
->addr;

6830 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE_EARLY
)

6831 
»¶
->
¡©us
 = 
CACHE_BLK_WVALID
;

6833 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

6835 
»¶
->
blkImdtOp
 = 0;

6836 
»¶
->
blkNextOps
 = 0;

6838 #ifdeà
SERIALIZATION_ACK


6839 if(
ev’t
->
İ”©iÚ
 !ğ
ACK_DIR_WRITE_EARLY
 &&ƒv’t->
³ndšgInvAck
)

6840 
numStÜeP’dšg
[
‹mpID
]++;

6844 
bofs
 = 
	`CACHE_BLK
(
ev’t
->
ı
,ƒv’t->
addr
);

6845 ià((
ev’t
->
ı
)->
b®loc
 && (ev’t->
vp
))

6846 
	`CACHE_BCOPY
(
ev’t
->
cmd
, 
»¶
, 
bofs
,ƒv’t->
vp
,ƒv’t->
nby‹s
);

6850 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
)

6851 
»¶
->
¡©e
 = 
MESI_EXCLUSIVE
;

6852 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
)

6853 
»¶
->
¡©e
 = 
MESI_SHARED
;

6854 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITE_EARLY
)

6856 
»¶
->
¡©e
 = 
MESI_MODIFIED
;

6857 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

6860 (
ev’t
->
ı
)->
Ï¡_g£tid
.
g
 = 0;

6861 (
ev’t
->
ı
)->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

6862 (
ev’t
->
ı
)->
Ï¡_blk
 = 
»¶
;

6865 ià(
ev’t
->
ud©a
)

6866 *(
ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

6868 if(
cŞËù_¡©s
)

6872 
missHªdËTime
 = 
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

6873 if(!
ev’t
->
isReqL2H™
)

6875 
tÙ®L2ReqPrimMiss
++;

6876 
d–ayL2ReqPrimMiss
 +ğ
missHªdËTime
;

6880 if(
ev’t
->
isReqL2SecMiss
)

6882 
tÙ®L2ReqSecMiss
++;

6883 
d–ayL2ReqSecMiss
 +ğ
missHªdËTime
;

6885 if(
ev’t
->
isReqL2T¿ns
)

6887 
tÙ®L2ReqInT¿ns
++;

6888 
d–ayL2ReqInT¿ns
 +ğ
missHªdËTime
;

6889 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
)

6891 
tÙ®L2OwnReqInT¿ns
++;

6892 
d–ayL2OwnReqInT¿ns
 +ğ
missHªdËTime
;

6895 if(
ev’t
->
isReqL2Inv
)

6897 
tÙ®L2ReqInInv
++;

6898 
d–ayL2ReqInInv
 +ğ
missHªdËTime
;

6902 
tÙ®L2ReqH™
++;

6903 
d–ayL2ReqH™
 +ğ
missHªdËTime
;

6908 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 &&ƒv’t->
isReqL2H™
 && !ev’t->
isReqL2SecMiss
)

6910 
tÙ®Wr™eReq
++;

6911 
tÙ®Wr™eReqInv
 +ğ((
ev’t
->
»qAckTime
 =ğev’t->
»qAtDœTime
) ? 0 : 1);

6912 
tÙ®Wr™eD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬‹d
);

6913 
tÙ®Wr™eInvD–ay
 +ğ(
ev’t
->
»qAckTime
 -ƒv’t->
»qAtDœTime
);

6915 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
 &&ƒv’t->
isReqL2H™
 && !ev’t->
isReqL2SecMiss
)

6917 
tÙ®Upg¿deReq
++;

6918 
tÙ®Upg¿deReqInv
 +ğ((
ev’t
->
»qAckTime
 =ğev’t->
»qAtDœTime
) ? 0 : 1);

6919 
tÙ®Upg¿deD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬‹d
);

6920 
tÙ®Upg¿deInvD–ay
 +ğ(
ev’t
->
»qAckTime
 -ƒv’t->
»qAtDœTime
);

6923 
tÙ®misshªdËtime
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

6924 if(
ev’t
->
isSyncAcûss
)

6925 
tÙ®mis¡imefÜSync
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

6927 
tÙ®mis¡imefÜNÜm®
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

6932 
»¶
->
»ady
 = 
sim_cyşe
;

6934 ià((
ev’t
->
ı
)->
hsize
)

6935 
	`lšk_hb_’t
((
ev’t
->
ı
), &Óv’t->ı)->
£ts
[
£t
], 
»¶
);

6939 if(!
ev’t
->
¥ec_mode
 &&ƒv’t->
rs
)

6941 if((
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
è|| (ev’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
))

6942 
	`ev’tq_upd©e
(
ev’t
->
rs
, 
»¶
->
»ady
);

6944 
ev’t
->
rs
->
wr™ewa™
 = 2;

6946 if(
ev’t
->
İ”©iÚ
 !ğ
ACK_DIR_WRITE_EARLY
)

6947 
	`msh»Áry_upd©e
(
ev’t
, 
»¶
->
»ady
,ƒv’t->
¡¬‹d
);

6949 
	`ä“_ev’t
(
ev’t
);

6952 
ACK_DIR_WRITE
 :

6954 
ACK_DIR_WRITEUPDATE
:

6955 
ACK_DIR_READ_EXCLUSIVE
:

6956 
ACK_DIR_READ_SHARED
:

6957 
dÿche_acûss
++;

6958 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

6959 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
)

6960 
d©a_sh¬ed_»ad
 ++;

6961 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
)

6962 
d©a_´iv©e_»ad
 ++;

6963 #ifdeà
LOCK_CACHE_REGISTER


6964 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
)

6966 if(
ev’t
->
İ
 =ğ
LDL_L
)

6968 ià(
commÚ_»gs_s
[
thecÚ‹xts
[
‹mpID
]->
ma¡”id
][‹mpID].
add»ss
 =ğ
ev’t
->
addr
 && commÚ_»gs_s[thecÚ‹xts[‹mpID]->ma¡”id][‹mpID].
»gs_lock
)

6970 
commÚ_»gs_s
[
thecÚ‹xts
[
‹mpID
]->
ma¡”id
][‹mpID].
subsüibed
 = 1;

6973 if(
ev’t
->
İ
 =ğ
STL_C
)

6975 ià(
commÚ_»gs_s
[
thecÚ‹xts
[
‹mpID
]->
ma¡”id
][‹mpID].
add»ss
 =ğ
ev’t
->
addr
 && commÚ_»gs_s[thecÚ‹xts[‹mpID]->ma¡”id][‹mpID].
»gs_lock
)

6977 
commÚ_»gs_s
[
thecÚ‹xts
[
‹mpID
]->
ma¡”id
][‹mpID].
»gs_lock
 = 0;

6978 
commÚ_»gs_s
[
thecÚ‹xts
[
‹mpID
]->
ma¡”id
][‹mpID].
add»ss
 = 0;

6979 
commÚ_»gs_s
[
thecÚ‹xts
[
‹mpID
]->
ma¡”id
][‹mpID].
subsüibed
 = 0;

6985 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

6986 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

6987 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

6988 
m_upd©e_miss
[
ev’t
->
‹mpID
] = 0;

6990 (
ev’t
->
ı
)->
pŞicy
)

6992 
bšdex
, 
i
=0;

6993 
LRU
:

6994 
FIFO
:

6995 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

6997 #ifdeà
WRITE_EARLY


6998 
i
 = 
ev’t
->
ı
->
assoc
;

7000 if(
i
 == 0) ;

7001 
i
--;

7002 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

7003 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

7005 
»¶
->
¡©us
 & 
CACHE_BLK_WVALID
);

7007 if(
»¶
->
¡©us
 & 
CACHE_BLK_WVALID
)

7009 
L1_æ_couÁ”
 ++;

7010 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7011 
	`dœ_ev’tq_š£¹
(
ev’t
);

7015 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

7016 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

7021 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

7022 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

7025 
Rªdom
:

7026 
bšdex
 = 
	`my¿nd
 (è& ((
ev’t
->
ı
)->
assoc
 - 1);

7027 
»¶
 = 
	`CACHE_BINDEX
 ((
ev’t
->
ı
), (ev’t->ı)->
£ts
[
£t
].
blks
, 
bšdex
);

7030 
	`·nic
 ("bogus„eplacement…olicy");

7033 ià((
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

7034 #ifdeà
SILENT_DROP


7035 #iâdeà
UPDATE_HINT


7036 && (
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

7041 ià(
cŞËù_¡©s
)

7042 
ev’t
->
ı
->
»¶aûm’ts
++;

7044 ià(
aùu®Proûss
 =ğ1 && !
	`md_‹xt_addr
(
»¶
->
addr
, 
‹mpID
))

7046 ià((
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& !Ô•l->
¡©e
 =ğ
MESI_MODIFIED
))

7047 
	`·nic
 ("Cache Block should have been modified here");

7049 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

7050 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

7051 
Ãw_ev’t
->
isP»ãtch
 = 0;

7052 #ià
	`defšed
(
NON_SILENT_DROP
è|| defšed(
UPDATE_HINT
)

7053 ià(
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

7056 ià(
cŞËù_¡©s
)

7057 
ev’t
->
ı
->
wr™ebacks
++;

7059 
m
 = 0;

7060 
m
=0;m<8;m++)

7061 if(
»¶
->
WÜdU£FÏg
[
m
])

7062 
»¶
->
WÜdCouÁ
 ++;

7063 
	`¡©s_do
((
»¶
->
addr
 & ~(
ÿche_dl1
[0]->
bsize
-1)),„•l->
R—dCouÁ
,„•l->
Wr™eCouÁ
,„•l->
WÜdCouÁ
,„•l->
Ty³
, 
‹mpID
);

7064 
»¶
->
R—dCouÁ
 = 0;

7065 
»¶
->
Wr™eCouÁ
 = 0;

7066 
»¶
->
WÜdCouÁ
 = 0;

7067 
m
=0;m<8;m++)

7068 
»¶
->
WÜdU£FÏg
[
m
] = 0;

7069 #ifdeà
WB_SPLIT


7070 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK_HEAD
;

7071 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7072 
j
=0, 
wb_f
;

7073 
j
=0;j<
MSHR_SIZE
;j++)

7075 if(
wb_bufãr
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
][
j
] == 0)

7077 
wb_bufãr
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
][
j
] = 
»¶
->
addr
;

7078 
wb_f
 = 1;

7082 if(
wb_f
 == 0)

7083 
	`´štf
("Wb_addr…ending buffer is full\n");

7085 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK
;

7086 
·ck‘_size
 = 
d©a_·ck‘_size
;

7088 #ià
	`defšed
(
NON_SILENT_DROP
è|| defšed(
UPDATE_HINT
)

7092 
Ãw_ev’t
->
İ”©iÚ
 = 
UPDATE_DIR
;

7093 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7094 ià(
cŞËù_¡©s
)

7095 
ev’t
->
ı
->
dœ_nÙifiÿtiÚ
++;

7098 
Ãw_ev’t
->
cÚf_b™
 = -1;

7099 
Ãw_ev’t
->
»q_time
 = 0;

7100 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

7101 
Ãw_ev’t
->
³ndšg_æag
 = 0;

7102 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

7103 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

7104 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

7105 
md_addr_t
 
¤c
 = (
»¶
->
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

7106 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

7107 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

7108 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7109 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7110 
Ãw_ev’t
->
·»Á
 = 
NULL
;

7111 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

7112 
Ãw_ev’t
->
chdCouÁ
 = 0;

7113 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

7114 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

7115 
Ãw_ev’t
->
»£nd
 = 0;

7116 
Ãw_ev’t
->
blk1
 = 
»¶
;

7117 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

7118 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

7119 
Ãw_ev’t
->
vp
 = 
NULL
;

7120 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

7121 
Ãw_ev’t
->
ud©a
 = 
NULL
;

7122 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

7123 
Ãw_ev’t
->
rs
 = 
NULL
;

7124 
Ãw_ev’t
->
¥ec_mode
 = 0;

7125 
Ãw_ev’t
->
d©a_»¶y
 = 0;

7126 
Ãw_vc
 = 0;

7128 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
Ãw_vc
);

7130 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7133 if(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

7135 if(
»¶
->
¡©e
 =ğ
MESI_EXCLUSIVE
)

7136 
tÙ®L1LšeExlDrİ
++;

7138 if(
»¶
->
blkAlocR—sÚ
 =ğ
LINE_PREFETCH
)

7140 if(
»¶
->
blkImdtOp
)

7141 
tÙ®L1LšeP»fU£
++;

7143 
tÙ®L1LšeP»fNoU£
++;

7145 if(
»¶
->
blkAlocR—sÚ
 =ğ
LINE_READ
)

7147 if(
»¶
->
blkImdtOp
)

7148 
tÙ®L1LšeR—dU£
++;

7150 
tÙ®L1LšeR—dNoU£
++;

7152 if(
»¶
->
blkAlocR—sÚ
 =ğ
LINE_WRITE
)

7154 if(
»¶
->
blkImdtOp
)

7155 
tÙ®L1LšeWr™eU£
++;

7157 
tÙ®L1LšeWr™eNoU£
++;

7161 if(
ev’t
->
isP»ãtch
)

7162 
»¶
->
blkAlocR—sÚ
 = 
LINE_PREFETCH
;

7163 if(
ev’t
->
cmd
 =ğ
Wr™e
)

7164 
»¶
->
blkAlocR—sÚ
 = 
LINE_WRITE
;

7165 if(
ev’t
->
cmd
 =ğ
R—d
)

7166 
»¶
->
blkAlocR—sÚ
 = 
LINE_READ
;

7168 
»¶
->
blkAlocR—sÚ
 = 0;

7171 
»¶
->
gid
.
g
 =ag;

7172 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

7173 
»¶
->
addr
 = 
ev’t
->addr;

7174 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7176 
»¶
->
blkImdtOp
 = 0;

7177 
»¶
->
blkNextOps
 = 0;

7180 #ifdeà
SERIALIZATION_ACK


7181 if(
ev’t
->
³ndšgInvAck
)

7182 
numStÜeP’dšg
[
‹mpID
]++;

7186 
bofs
 = 
	`CACHE_BLK
(
ev’t
->
ı
,ƒv’t->
addr
);

7187 ià((
ev’t
->
ı
)->
b®loc
 && (ev’t->
vp
))

7188 
	`CACHE_BCOPY
(
ev’t
->
cmd
, 
»¶
, 
bofs
,ƒv’t->
vp
,ƒv’t->
nby‹s
);

7191 
»¶
->
WÜdU£FÏg
[Ô•l->
addr
>>2) & 7] = 1;

7192 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7193 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_EXCLUSIVE
)

7195 
»¶
->
R—dCouÁ
 ++;

7196 
»¶
->
Ty³
 = 
PRIVATE
;

7197 
»¶
->
¡©e
 = 
MESI_EXCLUSIVE
;

7199 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
)

7201 
»¶
->
R—dCouÁ
 ++;

7202 
»¶
->
Ty³
 = 
SHARED_READ_ONLY
;

7203 
»¶
->
¡©e
 = 
MESI_SHARED
;

7205 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
)

7207 
»¶
->
Wr™eCouÁ
 ++;

7208 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

7209 
»¶
->
Ty³
 = 
SHARED_READ_WRITE
;

7210 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
)

7211 
»¶
->
Ty³
 = 
PRIVATE
;

7212 
»¶
->
¡©e
 = 
MESI_MODIFIED
;

7213 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

7216 (
ev’t
->
ı
)->
Ï¡_g£tid
.
g
 = 0;

7217 (
ev’t
->
ı
)->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

7218 (
ev’t
->
ı
)->
Ï¡_blk
 = 
»¶
;

7221 ià(
ev’t
->
ud©a
)

7222 *(
ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

7224 if(
cŞËù_¡©s
)

7228 
missHªdËTime
 = 
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

7229 if(!
ev’t
->
isReqL2H™
)

7231 
tÙ®L2ReqPrimMiss
++;

7232 
d–ayL2ReqPrimMiss
 +ğ
missHªdËTime
;

7236 if(
ev’t
->
isReqL2SecMiss
)

7238 
tÙ®L2ReqSecMiss
++;

7239 
d–ayL2ReqSecMiss
 +ğ
missHªdËTime
;

7241 if(
ev’t
->
isReqL2T¿ns
)

7243 
tÙ®L2ReqInT¿ns
++;

7244 
d–ayL2ReqInT¿ns
 +ğ
missHªdËTime
;

7245 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_WRITEUPDATE
)

7247 
tÙ®L2OwnReqInT¿ns
++;

7248 
d–ayL2OwnReqInT¿ns
 +ğ
missHªdËTime
;

7251 if(
ev’t
->
isReqL2Inv
)

7253 
tÙ®L2ReqInInv
++;

7254 
d–ayL2ReqInInv
 +ğ
missHªdËTime
;

7258 
tÙ®L2ReqH™
++;

7259 
d–ayL2ReqH™
 +ğ
missHªdËTime
;

7264 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITE
 &&ƒv’t->
isReqL2H™
 && !ev’t->
isReqL2SecMiss
)

7266 
tÙ®Wr™eReq
++;

7267 
tÙ®Wr™eReqInv
 +ğ((
ev’t
->
»qAckTime
 =ğev’t->
»qAtDœTime
) ? 0 : 1);

7268 
tÙ®Wr™eD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬‹d
);

7269 
tÙ®Wr™eInvD–ay
 +ğ(
ev’t
->
»qAckTime
 -ƒv’t->
»qAtDœTime
);

7271 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
 &&ƒv’t->
isReqL2H™
 && !ev’t->
isReqL2SecMiss
)

7273 
tÙ®Upg¿deReq
++;

7274 
tÙ®Upg¿deReqInv
 +ğ((
ev’t
->
»qAckTime
 =ğev’t->
»qAtDœTime
) ? 0 : 1);

7275 
tÙ®Upg¿deD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬‹d
);

7276 
tÙ®Upg¿deInvD–ay
 +ğ(
ev’t
->
»qAckTime
 -ƒv’t->
»qAtDœTime
);

7279 
tÙ®Upg¿deMiss
 ++;

7281 
tÙ®misshªdËtime
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

7282 if(
ev’t
->
isSyncAcûss
)

7283 
tÙ®mis¡imefÜSync
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

7286 
tÙ®mis¡imefÜNÜm®
 +ğ
sim_cyşe
 - 
ev’t
->
¡¬‹d
;

7287 if(
ev’t
->
L2miss_æag
 &&ƒv’t->
L2miss_com¶‘e
 &&ƒv’t->
L2miss_¡©ed
)

7289 
tÙ®L2mis¡ime
 +ğ
ev’t
->
L2miss_com¶‘e
 -ƒv’t->
L2miss_¡©ed
;

7290 
TÙ®L2mis£s
 ++;

7292 if(
ev’t
->
L2miss_æag
)

7293 
tÙ®WrÚgL2mis¡ime
 ++;

7298 
»¶
->
»ady
 = 
sim_cyşe
;

7300 if((
ev’t
->
´eãtch_Ãxt
 =ğ2 ||ƒv’t->´eãtch_Ãxˆ=ğ4)&& (ev’t->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
 ||ƒv’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
))

7302 
»¶
->
isL1´eãtch
 = 1;

7303 
»¶
->
´eãtch_time
 = 
sim_cyşe
;

7307 
»¶
->
isL1´eãtch
 = 0;

7308 
»¶
->
´eãtch_time
 = 0;

7311 ià((
ev’t
->
ı
)->
hsize
)

7312 
	`lšk_hb_’t
((
ev’t
->
ı
), &Óv’t->ı)->
£ts
[
£t
], 
»¶
);

7316 if(!
ev’t
->
¥ec_mode
 &&ƒv’t->
rs
)

7318 if((
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_READ_SHARED
è|| (ev’t->İ”©iÚ =ğ
ACK_DIR_READ_EXCLUSIVE
))

7319 
	`ev’tq_upd©e
(
ev’t
->
rs
, 
»¶
->
»ady
);

7321 
ev’t
->
rs
->
wr™ewa™
 = 2;

7323 
	`msh»Áry_upd©e
(
ev’t
, 
»¶
->
»ady
,ƒv’t->
¡¬‹d
);

7325 
	`ä“_ev’t
(
ev’t
);

7328 #ifdeà
PREFETCH_OPTI


7329 
READ_DATA_REPLY_EXCLUSIVE
:

7330 
READ_META_REPLY_EXCLUSIVE
:

7331 
READ_DATA_REPLY_SHARED
:

7332 
READ_META_REPLY_SHARED
:

7333 
WRITE_DATA_REPLY
:

7334 
WRITE_META_REPLY
:

7335 
dÿche_acûss
++;

7336 
thecÚ‹xts
[(
ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+ev’t->
des2
]->
dÿche_acûss
++;

7338 
g
 = 
	`CACHE_TAG
(
ev’t
->
ı
, 
addr
);

7339 
£t
 = 
	`CACHE_SET
(
ev’t
->
ı
, 
addr
);

7341 (
ev’t
->
ı
)->
pŞicy
)

7343 
bšdex
, 
i
=0;

7344 
LRU
:

7345 
FIFO
:

7346 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

7348 #ifdeà
WRITE_EARLY


7349 
i
 = 
ev’t
->
ı
->
assoc
;

7351 if(
i
 == 0) ;

7352 
i
--;

7353 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

7354 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

7356 
»¶
->
¡©us
 & 
CACHE_BLK_WVALID
);

7358 if(
»¶
->
¡©us
 & 
CACHE_BLK_WVALID
)

7360 
L1_æ_couÁ”
 ++;

7361 
ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7362 
	`dœ_ev’tq_š£¹
(
ev’t
);

7366 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

7367 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

7372 
»¶
 = (
ev’t
->
ı
)->
£ts
[
£t
].
way_
;

7373 
	`upd©e_way_li¡
 (&(
ev’t
->
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

7376 
Rªdom
:

7377 
bšdex
 = 
	`my¿nd
 (è& ((
ev’t
->
ı
)->
assoc
 - 1);

7378 
»¶
 = 
	`CACHE_BINDEX
 ((
ev’t
->
ı
), (ev’t->ı)->
£ts
[
£t
].
blks
, 
bšdex
);

7381 
	`·nic
 ("bogus„eplacement…olicy");

7384 ià((
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

7385 #ifdeà
SILENT_DROP


7386 #iâdeà
UPDATE_HINT


7387 && (
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

7392 ià(
cŞËù_¡©s
)

7393 
ev’t
->
ı
->
»¶aûm’ts
++;

7395 ià(
aùu®Proûss
 =ğ1 && !
	`md_‹xt_addr
(
»¶
->
addr
, 
‹mpID
))

7397 ià((
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& !Ô•l->
¡©e
 =ğ
MESI_MODIFIED
))

7398 
	`·nic
 ("Cache Block should have been modified here");

7400 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

7401 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

7402 
Ãw_ev’t
->
isP»ãtch
 = 0;

7403 #ià
	`defšed
(
NON_SILENT_DROP
è|| defšed(
UPDATE_HINT
)

7404 ià(
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

7407 ià(
cŞËù_¡©s
)

7408 
ev’t
->
ı
->
wr™ebacks
++;

7409 #ifdeà
WB_SPLIT


7410 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK_HEAD
;

7411 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7412 
j
=0, 
wb_f
;

7413 
j
=0;j<
MSHR_SIZE
;j++)

7415 if(
wb_bufãr
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
][
j
] == 0)

7417 
wb_bufãr
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
][
j
] = 
»¶
->
addr
;

7418 
wb_f
 = 1;

7422 if(
wb_f
 == 0)

7423 
	`´štf
("Wb_addr…ending buffer is full\n");

7425 
Ãw_ev’t
->
İ”©iÚ
 = 
WRITE_BACK
;

7426 
·ck‘_size
 = 
d©a_·ck‘_size
;

7428 #ià
	`defšed
(
NON_SILENT_DROP
è|| defšed(
UPDATE_HINT
)

7432 
Ãw_ev’t
->
İ”©iÚ
 = 
UPDATE_DIR
;

7433 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7434 ià(
cŞËù_¡©s
)

7435 
ev’t
->
ı
->
dœ_nÙifiÿtiÚ
++;

7438 
Ãw_ev’t
->
cÚf_b™
 = -1;

7439 
Ãw_ev’t
->
»q_time
 = 0;

7440 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

7441 
Ãw_ev’t
->
³ndšg_æag
 = 0;

7442 
Ãw_ev’t
->
İ
 = 
ev’t
->op;

7443 
Ãw_ev’t
->
¤c1
 = 
ev’t
->
des1
;

7444 
Ãw_ev’t
->
¤c2
 = 
ev’t
->
des2
;

7445 
md_addr_t
 
¤c
 = (
»¶
->
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

7446 
Ãw_ev’t
->
des1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

7447 
Ãw_ev’t
->
des2
 = (
¤c
 %
mesh_size
);

7448 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7449 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7450 
Ãw_ev’t
->
·»Á
 = 
NULL
;

7451 
Ãw_ev’t
->
blk_dœ
 = 
NULL
;

7452 
Ãw_ev’t
->
chdCouÁ
 = 0;

7453 
Ãw_ev’t
->
‹mpID
 = 
ev’t
->tempID;

7454 
Ãw_ev’t
->
L2miss_æag
 = 
ev’t
->L2miss_flag;

7455 
Ãw_ev’t
->
»£nd
 = 0;

7456 
Ãw_ev’t
->
blk1
 = 
»¶
;

7457 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

7458 
Ãw_ev’t
->
ı
 = 
ev’t
->cp;

7459 
Ãw_ev’t
->
vp
 = 
NULL
;

7460 
Ãw_ev’t
->
nby‹s
 = 
ev’t
->
ı
->
bsize
;

7461 
Ãw_ev’t
->
ud©a
 = 
NULL
;

7462 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

7463 
Ãw_ev’t
->
rs
 = 
NULL
;

7464 
Ãw_ev’t
->
¥ec_mode
 = 0;

7465 
Ãw_ev’t
->
d©a_»¶y
 = 0;

7466 
Ãw_vc
 = 0;

7468 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
·ck‘_size
, 
Ãw_vc
);

7470 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7474 
»¶
->
gid
.
g
 =ag;

7475 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

7476 
»¶
->
addr
 = 
ev’t
->addr;

7477 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7479 
»¶
->
blkImdtOp
 = 0;

7480 
»¶
->
blkNextOps
 = 0;

7482 #ifdeà
SERIALIZATION_ACK


7483 if(
ev’t
->
³ndšgInvAck
)

7484 
numStÜeP’dšg
[
‹mpID
]++;

7488 
bofs
 = 
	`CACHE_BLK
(
ev’t
->
ı
,ƒv’t->
addr
);

7489 ià((
ev’t
->
ı
)->
b®loc
 && (ev’t->
vp
))

7490 
	`CACHE_BCOPY
(
ev’t
->
cmd
, 
»¶
, 
bofs
,ƒv’t->
vp
,ƒv’t->
nby‹s
);

7493 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7494 if(
ev’t
->
İ”©iÚ
 =ğ
READ_META_REPLY_EXCLUSIVE
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_EXCLUSIVE
)

7495 
»¶
->
¡©e
 = 
MESI_EXCLUSIVE
;

7496 if(
ev’t
->
İ”©iÚ
 =ğ
READ_META_REPLY_SHARED
 ||ƒv’t->İ”©iÚ =ğ
READ_DATA_REPLY_SHARED
)

7497 
»¶
->
¡©e
 = 
MESI_SHARED
;

7498 if(
ev’t
->
İ”©iÚ
 =ğ
WRITE_DATA_REPLY
 ||ƒv’t->İ”©iÚ =ğ
WRITE_META_REPLY
)

7500 
»¶
->
¡©e
 = 
MESI_MODIFIED
;

7501 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

7504 (
ev’t
->
ı
)->
Ï¡_g£tid
.
g
 = 0;

7505 (
ev’t
->
ı
)->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

7506 (
ev’t
->
ı
)->
Ï¡_blk
 = 
»¶
;

7509 ià(
ev’t
->
ud©a
)

7510 *(
ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

7512 
»¶
->
»ady
 = 
sim_cyşe
;

7514 ià((
ev’t
->
ı
)->
hsize
)

7515 
	`lšk_hb_’t
((
ev’t
->
ı
), &Óv’t->ı)->
£ts
[
£t
], 
»¶
);

7519 if(!
ev’t
->
¥ec_mode
 &&ƒv’t->
rs
)

7521 if((
ev’t
->
İ”©iÚ
 =ğ
READ_DATA_REPLY_SHARED
è|| (ev’t->İ”©iÚ =ğ
READ_META_REPLY_SHARED
è|| (ev’t->İ”©iÚ =ğ
READ_DATA_REPLY_EXCLUSIVE
è|| (ev’t->İ”©iÚ =ğ
READ_META_REPLY_EXCLUSIVE
))

7522 
	`ev’tq_upd©e
(
ev’t
->
rs
, 
»¶
->
»ady
);

7524 
ev’t
->
rs
->
wr™ewa™
 = 2;

7526 
	`msh»Áry_upd©e
(
ev’t
, 
»¶
->
»ady
,ƒv’t->
¡¬‹d
);

7528 
	`ä“_ev’t
(
ev’t
);

7531 
WAIT_MEM_READ
 :

7532 
WAIT_MEM_READ_N
 :

7534 
DIRECTORY_EVENT
 *
p_ev’t
;

7535 
DIRECTORY_EVENT
 *
gp_ev’t
;

7536 if(
ev’t
->
İ”©iÚ
 =ğ
WAIT_MEM_READ_N
)

7537 
ev’t
->
İ”©iÚ
 =ğ
WAIT_MEM_READ
;

7538 
»FÏg
 = 0;

7539 if(
ev’t
->
·»Á_İ”©iÚ
 < 100)

7541 
ev’t
->
·»Á
->
chdCouÁ
 --;

7542 
gp_ev’t
 = 
ev’t
->
·»Á
;

7543 
	`ä“_ev’t
(
ev’t
);

7544 if(
gp_ev’t
->
chdCouÁ
 =ğ
ÿche_dl2
->
bsize
/
max_·ck‘_size
-1)

7545 
»FÏg
 = 1;

7547 if(
»FÏg
 || 
ev’t
->
·»Á_İ”©iÚ
 >= 100)

7550 if(
»FÏg
)

7552 if(
gp_ev’t
->
·»Á
->
İ”©iÚ
 =ğ
WAIT_MEM_READ
)

7554 
p_ev’t
 = 
gp_ev’t
->
·»Á
;

7558 
p_ev’t
 = 
gp_ev’t
;

7560 if(
ev’t
->
·»Á_İ”©iÚ
 >= 100)

7562 
p_ev’t
 = 
ev’t
;

7563 
p_ev’t
->
·»Á_İ”©iÚ
 =…_event->parent_operation - 100;

7565 
dÿche2_acûss
++;

7566 
thecÚ‹xts
[(
p_ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+p_ev’t->
des2
]->
dÿche2_acûss
++;

7567 
p_ev’t
->
L2miss_com¶‘e
 = 
sim_cyşe
;

7569 
ı_dœ
->
pŞicy
)

7571 
i
;

7572 
bšdex
;

7573 
LRU
:

7574 
FIFO
:

7575 
i
 = 
ı_dœ
->
assoc
;

7577 if(
i
 == 0) ;

7578 
i
--;

7579 
»¶
 = 
ı_dœ
->
£ts
[
£t_dœ
].
way_
;

7580 
	`upd©e_way_li¡
 (&
ı_dœ
->
£ts
[
£t_dœ
], 
»¶
, 
H—d
);

7582 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
, (
p_ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+p_ev’t->
des2
,„•l->
addr
));

7584 if(
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
, (
p_ev’t
->
des1
-
MEM_LOC_SHIFT
)*
mesh_size
+p_ev’t->
des2
,„•l->
addr
))

7586 
æ_couÁ”
 ++;

7587 
p_ev’t
->
æ_æag
 = 1;

7588 
p_ev’t
->
wh’
 = 
sim_cyşe
 + 
RETRY_TIME
;

7589 
p_ev’t
->
·»Á_İ”©iÚ
 += 100;

7590 
	`dœ_ev’tq_š£¹
(
p_ev’t
);

7594 
Rªdom
:

7595 
bšdex
 = 
	`my¿nd
 (è& (
ı_dœ
->
assoc
 - 1);

7596 
»¶
 = 
	`CACHE_BINDEX
 (
ı_dœ
, cp_dœ->
£ts
[
£t_dœ
].
blks
, 
bšdex
);

7599 
	`·nic
 ("bogus„eplacement…olicy");

7602 
»¶
->
ev”_dœty
 = 0;

7603 
»¶
->
ev”_touch
 = 0;

7604 ià(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

7607 ià(
cŞËù_¡©s
)

7608 
ı_dœ
->
»¶aûm’ts
++;

7610 
Ãw_vc
 = 0;

7612 
i
=0, 
m
=0, 
™”©iÚ
 = 1, 
æag
 = 0, 
sh¬”_num
 = 0;

7613 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

7614 
™”©iÚ
 = iteration * 2;

7615 
i
=0; i<
™”©iÚ
; i++)

7616 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
))

7617 
sh¬”_num
 ++;

7619 
p_ev’t
->
chdCouÁ
 = 0;

7620 
p_ev’t
->
sh¬”_num
 = 0;

7622 
i
=0; i<
™”©iÚ
; i++)

7624 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
))

7627 
m
 = 0; m<
™”©iÚ
; m++)

7628 
»¶
->
dœ_¡©e
[
m
] = 
DIR_TRANSITION
;

7629 
»¶
->
±r_cur_ev’t
[
i
] = 
p_ev’t
;

7630 
»¶
->
addr
 = (»¶->
gid
.
g
 << 
ÿche_dl2
->
g_shiá
è+ (
£t_dœ
 << cache_dl2->
£t_shiá
è+ (
i
 << 
ÿche_dl1
[0]->set_shift);

7631 
p_ev’t
->
šdividu®_chdCouÁ
[
i
] = 0;

7632 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

7634 if(((
»¶
->
dœ_sh¬”
[
i
][
Th»adid
/64]) & (()1 << (Threadid%64))) == (()1 << (Threadid%64)))

7636 if(
cŞËù_¡©s
)

7637 
ÿche_dl2
->
šv®id©iÚs
 ++;

7638 
DIRECTORY_EVENT
 *
Ãw_ev’t
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

7639 if(
Ãw_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

7640 
švŞve_4_hİs_miss
 ++;

7641 
Ãw_ev’t
->
cÚf_b™
 = -1;

7642 
Ãw_ev’t
->
»q_time
 = 0;

7643 
Ãw_ev’t
->
šput_bufãr_fuÎ
 = 0;

7644 
Ãw_ev’t
->
³ndšg_æag
 = 0;

7645 
Ãw_ev’t
->
İ
 = 
p_ev’t
->op;

7646 
Ãw_ev’t
->
İ”©iÚ
 = 
INV_MSG_WRITE
;

7647 
Ãw_ev’t
->
isP»ãtch
 = 0;

7648 
Ãw_ev’t
->
‹mpID
 = 
p_ev’t
->tempID;

7649 
Ãw_ev’t
->
L2miss_æag
 = 
p_ev’t
->L2miss_flag;

7650 
Ãw_ev’t
->
»£nd
 = 0;

7651 
Ãw_ev’t
->
blk1
 = 
»¶
;

7652 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

7653 
Ãw_ev’t
->
ı
 = 
p_ev’t
->cp;

7654 
Ãw_ev’t
->
vp
 = 
NULL
;

7655 
Ãw_ev’t
->
nby‹s
 = 
p_ev’t
->
ı
->
bsize
;

7656 
Ãw_ev’t
->
ud©a
 = 
NULL
;

7657 
Ãw_ev’t
->
rs
 = 
NULL
;

7658 
Ãw_ev’t
->
¥ec_mode
 = 0;

7659 
Ãw_ev’t
->
¤c1
 = 
p_ev’t
->
des1
;

7660 
Ãw_ev’t
->
¤c2
 = 
p_ev’t
->
des2
;

7661 
Ãw_ev’t
->
des1
 = 
Th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

7662 
Ãw_ev’t
->
des2
 = 
Th»adid
%
mesh_size
;

7663 
Ãw_ev’t
->
´oûssšgDÚe
 = 0;

7664 
Ãw_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7665 
Ãw_ev’t
->
·»Á
 = 
p_ev’t
;

7666 
Ãw_ev’t
->
blk_dœ
 = 
»¶
;

7667 
p_ev’t
->
sh¬”_num
 = sharer_num;

7668 
p_ev’t
->
blk_dœ
 = 
»¶
;

7669 
p_ev’t
->
chdCouÁ
++;

7670 
p_ev’t
->
šdividu®_chdCouÁ
[
i
] ++;

7671 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp(network_type, "HYBRID"))

7673 #ifdeà
INV_ACK_CON


7674 
th»ad_id
;

7675 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
) > 1)

7677 
Ãw_ev’t
->
d©a_»¶y
 = 0;

7678 if((
Ãw_ev’t
->
¤c1
*
mesh_size
+Ãw_ev’t->
¤c2
 !ğÃw_ev’t->
des1
*mesh_size+Ãw_ev’t->
des2
è&& ((!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI")è|| (!my¡ricmpÒ‘wÜk_ty³, "HYBRID"è&& ((
	`abs
(new_event->src1 -‚ew_event->des1) +‡bs(new_event->src2 -‚ew_event->des2)) > 1))))

7680 
Ãw_ev’t
->
d©a_»¶y
 = 0;

7681 
DIRECTORY_EVENT
 *
Ãw_ev’t2
 = 
	`®loÿ‹_ev’t
(
ev’t
->
isSyncAcûss
);

7682 if(
Ãw_ev’t2
 =ğ
NULL
è
	`·nic
("Out of Virtual Memory");

7683 
švŞve_4_hİs_miss
 ++;

7684 
Ãw_ev’t2
->
cÚf_b™
 = -1;

7685 
Ãw_ev’t2
->
»q_time
 = 0;

7686 
Ãw_ev’t2
->
šput_bufãr_fuÎ
 = 0;

7687 
Ãw_ev’t2
->
³ndšg_æag
 = 0;

7688 
Ãw_ev’t2
->
İ
 = 
p_ev’t
->op;

7689 
Ãw_ev’t2
->
İ”©iÚ
 = 
ACK_MSG_WRITEUPDATE
;

7690 
Ãw_ev’t2
->
isP»ãtch
 = 0;

7691 
Ãw_ev’t2
->
‹mpID
 = 
p_ev’t
->tempID;

7692 
Ãw_ev’t2
->
L2miss_æag
 = 
p_ev’t
->L2miss_flag;

7693 
Ãw_ev’t2
->
»£nd
 = 0;

7694 
Ãw_ev’t2
->
blk1
 = 
»¶
;

7695 
Ãw_ev’t2
->
addr
 = 
»¶
->addr;

7696 
Ãw_ev’t2
->
ı
 = 
p_ev’t
->cp;

7697 
Ãw_ev’t2
->
vp
 = 
NULL
;

7698 
Ãw_ev’t2
->
nby‹s
 = 
p_ev’t
->
ı
->
bsize
;

7699 
Ãw_ev’t2
->
ud©a
 = 
NULL
;

7700 
Ãw_ev’t2
->
rs
 = 
NULL
;

7701 
Ãw_ev’t2
->
¥ec_mode
 = 0;

7702 
Ãw_ev’t2
->
¤c1
 = 
Ãw_ev’t
->
des1
;

7703 
Ãw_ev’t2
->
¤c2
 = 
Ãw_ev’t
->
des2
;

7704 
Ãw_ev’t2
->
des1
 = 
Ãw_ev’t
->
¤c1
;

7705 
Ãw_ev’t2
->
des2
 = 
Ãw_ev’t
->
¤c2
;

7706 
Ãw_ev’t2
->
´oûssšgDÚe
 = 0;

7707 
Ãw_ev’t2
->
¡¬tCyşe
 = 
sim_cyşe
;

7708 
Ãw_ev’t2
->
·»Á
 = 
p_ev’t
;

7709 
Ãw_ev’t2
->
blk_dœ
 = 
»¶
;

7710 
Ãw_ev’t2
->
d©a_»¶y
 = 0;

7711 
Ãw_ev’t2
->
wh’
 = 
WAIT_TIME
;

7712 
pİÃtMsgNo
 ++;

7713 
Ãw_ev’t2
->
pİÃtMsgNo
 =…opnetMsgNo;

7714 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t2
);

7717 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7720 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7722 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7726 
Ãw_ev’t
->
d©a_»¶y
 = 1;

7728 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
Ãw_vc
);

7730 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7733 
æag
 = 1;

7734 
sh¬”_di¡r
[
p_ev’t
->
chdCouÁ
] ++;

7735 
	`IsNeighbÜ_sh¬”
(
»¶
->
dœ_sh¬”
[
i
], 
‹mpID
);

7738 if(
æag
 == 1)

7740 if(
cŞËù_¡©s
)

7741 
ı_dœ
->
»¶Inv
++;

7746 if(
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

7748 
l
=0;

7749 
l
=0;l<
ÿche_dl2
->
bsize
/
max_·ck‘_size
;l++)

7751 
DIRECTORY_EVENT
 *
Ãw_ev’t
;

7752 
Ãw_ev’t
 = 
	`®loÿ‹_Ãw_ev’t
(
p_ev’t
);

7753 
Ãw_ev’t
->
addr
 = 
»¶
->addr;

7754 
Ãw_ev’t
->
İ”©iÚ
 = 
MEM_WRITE_BACK
;

7755 
Ãw_ev’t
->
cmd
 = 
Wr™e
;

7756 
	`scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
sim_cyşe
, 
d©a_·ck‘_size
, 
Ãw_vc
);

7757 
	`dœ_ev’tq_š£¹
(
Ãw_ev’t
);

7759 
»¶
->
Iswb_to_mem
 = 1;

7760 if(
cŞËù_¡©s
)

7761 
ÿche_dl2
->
wr™ebacks
 ++;

7764 
»¶
->
Iswb_to_mem
 = 0;

7767 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

7768 #ifdeà
PREFETCH_OPTI


7769 
i
 = 0;

7770 
i
=0;i<
MAXTHREADS
;i++)

7771 
»¶
->
dœ_´eãtch
[
block_off£t
][
i
] = 0;

7772 
»¶
->
dœ_´eãtch_num
[
block_off£t
] = 0;

7773 
»¶
->
´eãtch_šv®id©e
[
block_off£t
] = 0;

7774 
»¶
->
´eãtch_modif›d
[
block_off£t
] = 0;

7776 
»¶
->
±r_cur_ev’t
[
block_off£t
] = 
NULL
;

7777 
»¶
->
gid
.
g
 = 
g_dœ
;

7778 
»¶
->
gid
.
th»adid
 = 
‹mpID
;

7779 
»¶
->
addr
 =‡ddr;

7780 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

7781 
»¶
->
Iswb_to_mem
 = 0;

7786 ià(
»¶
->
way_´ev
 && 
ı_dœ
->
pŞicy
 =ğ
LRU
)

7787 
	`upd©e_way_li¡
(&
ı_dœ
->
£ts
[
£t_dœ
], 
»¶
, 
H—d
);

7789 
ı_dœ
->
Ï¡_g£tid
.
g
 = 0;

7790 
ı_dœ
->
Ï¡_g£tid
.
th»adid
 = 
‹mpID
;

7791 
ı_dœ
->
Ï¡_blk
 = 
»¶
;

7793 
»¶
->
exşusive_time
[
block_off£t
] = 
sim_cyşe
;

7796 ià(
p_ev’t
->
ud©a
)

7797 *(
p_ev’t
->
ud©a
èğ
»¶
->
u£r_d©a
;

7799 
»¶
->
»ady
 = 
sim_cyşe
;

7801 ià(
ı_dœ
->
hsize
)

7802 
	`lšk_hb_’t
(
ı_dœ
, &ı_dœ->
£ts
[
£t_dœ
], 
»¶
);

7805 
	`upd©e_L2_msh»Áry
(
p_ev’t
->
addr
, 
sim_cyşe
,…_ev’t->
mshr_time
);

7807 
p_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7808 if(
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
L2_PREFETCH
)

7810 
»¶
->
dœ_dœty
[
block_off£t
] = -1;

7811 
»¶
->
dœ_sh¬”
[
block_off£t
][0] = 0;

7812 
»¶
->
dœ_sh¬”
[
block_off£t
][1] = 0;

7813 
»¶
->
dœ_sh¬”
[
block_off£t
][2] = 0;

7814 
»¶
->
dœ_sh¬”
[
block_off£t
][3] = 0;

7815 
	`ä“_ev’t
(
p_ev’t
);

7819 if(
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_IL1
)

7821 
·ck‘_size
 = 
d©a_·ck‘_size
;

7822 
p_ev’t
->
İ”©iÚ
 = 
ACK_DIR_IL1
;

7823 
»¶
->
dœ_dœty
[
block_off£t
] = -1;

7824 
»¶
->
dœ_sh¬”
[
block_off£t
][0] = 0;

7825 
»¶
->
dœ_sh¬”
[
block_off£t
][1] = 0;

7826 
»¶
->
dœ_sh¬”
[
block_off£t
][2] = 0;

7827 
»¶
->
dœ_sh¬”
[
block_off£t
][3] = 0;

7828 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

7829 
p_ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

7831 if(
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_READ


7832 #ifdeà
PREFETCH_OPTI


7833 || 
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
L1_PREFETCH


7834 || 
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
READ_COHERENCE_UPDATE


7838 
·ck‘_size
 = 
d©a_·ck‘_size
;

7839 
p_ev’t
->
İ”©iÚ
 = 
ACK_DIR_READ_EXCLUSIVE
;

7840 #ifdeà
LOCK_CACHE_REGISTER


7842 if(
p_ev’t
->
¡Üe_cÚd
 =ğ
MY_LDL_L
)

7843 
	`LockRege¡”Check
(
p_ev’t
);

7845 
»¶
->
dœ_dœty
[
block_off£t
] = -1;

7846 ià(!
	`md_‹xt_addr
(
addr
, 
‹mpID
))

7848 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

7849 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

7853 
»¶
->
dœ_sh¬”
[
block_off£t
][0] = 0;

7854 
»¶
->
dœ_sh¬”
[
block_off£t
][1] = 0;

7855 
»¶
->
dœ_sh¬”
[
block_off£t
][2] = 0;

7856 
»¶
->
dœ_sh¬”
[
block_off£t
][3] = 0;

7857 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

7860 if(
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
MISS_WRITE


7861 #ifdeà
PREFETCH_OPTI


7862 || 
p_ev’t
->
·»Á_İ”©iÚ
 =ğ
WRITE_COHERENCE_UPDATE


7866 
·ck‘_size
 = 
d©a_·ck‘_size
;

7867 
p_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITE
;

7868 
»¶
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

7869 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

7870 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

7874 
·ck‘_size
 = 
m‘a_·ck‘_size
;

7875 
p_ev’t
->
İ”©iÚ
 = 
ACK_DIR_WRITEUPDATE
;

7876 
»¶
->
dœ_dœty
[
block_off£t
] = 
‹mpID
;

7877 
»¶
->
dœ_sh¬”
[
block_off£t
][
‹mpID
/64] = ()1<<(tempID%64);

7878 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

7880 
p_ev’t
->
»qAckTime
 = 
sim_cyşe
;

7881 
p_ev’t
->
¤c1
 =…_ev’t->
des1
;

7882 
p_ev’t
->
¤c2
 =…_ev’t->
des2
;

7883 
p_ev’t
->
des1
 = 
‹mpID
/
mesh_size
+
MEM_LOC_SHIFT
;

7884 
p_ev’t
->
des2
 = 
‹mpID
%
mesh_size
;

7885 
p_ev’t
->
´oûssšgDÚe
 = 0;

7886 
p_ev’t
->
·»Á
 = 
NULL
;

7887 
p_ev’t
->
blk_dœ
 = 
»¶
;

7890 
	`scheduËThroughN‘wÜk
(
p_ev’t
,…_ev’t->
¡¬tCyşe
, 
·ck‘_size
, 
vc
);

7891 
	`dœ_ev’tq_š£¹
(
p_ev’t
);

7894 if(
gp_ev’t
->
chdCouÁ
 == 0)

7900 
	`upd©e_L2_msh»Áry
(
gp_ev’t
->
addr
, 
sim_cyşe
, gp_ev’t->
mshr_time
);

7901 
	`ä“_ev’t
(
gp_ev’t
);

7906 
	`·nic
("DIR: undefined directory operation");

7909 
	}
}

7911 
	$»¶_dœ_¡©e_check
(*
dœ_¡©e
, 
id
, 
md_addr_t
 
addr
)

7913 
m
=0, 
™”©iÚ
 = 1, 
æag
 = 0;

7914 #ifdeà
EUP_NETWORK


7915 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

7917 if(
	`EUP_’Œy_»¶aûcheck
(
id
, 
addr
>>
ÿche_dl2
->
£t_shiá
))

7921 
m
=0; m<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); m++)

7922 
™”©iÚ
 = iteration * 2;

7923 
m
=0; m<
™”©iÚ
; m++)

7924 if(
dœ_¡©e
[
m
] =ğ
DIR_TRANSITION
)

7925 
æag
 = 1;

7926  
æag
;

7927 
	}
}

7936 
tÙ®Upg¿des
;

7938 
ÿche_acûss
 (
ÿche_t
 *
ı
,

7939 
mem_cmd
 
cmd
,

7940 
md_addr_t
 
addr
,

7941 *
vp
,

7942 
nby‹s
,

7943 
tick_t
 
now
,

7944 
by‹_t
 ** 
ud©a
,

7945 
md_addr_t
 * 
»¶_addr
,

7946 
RUU_¡©iÚ
 *
rs
,

7947 
th»adid


7948 #ifdeà
SMD_USE_WRITE_BUF


7949 , 
m_L1WBufEÁry
 *
l1_wb_’Œy


7953 
¥rštf
(
dl1Çme
, "dl1");

7955 ià(!
¡rcmp
 (
ı
->
Çme
, 
dl1Çme
è&& 
	gı
->
	gth»adid
 !ğ
th»adid
)

7956 
·nic
 ("Wrond DL1 cache being called in cache‡ccess\n");

7958 if(!
¡rcmp
 (
ı
->
Çme
, 
dl1Çme
è&& 
md_‹xt_addr
(
addr
, 
th»adid
))

7959  
	gÿche_dl1_Ït
;

7960 if(
	gaddr
 == 5368767520)

7961 
´štf
("access here\n");

7962 
by‹_t
 *
	gp
 = 
vp
;

7963 
md_addr_t
 
	gg
 = 
CACHE_TAG
 (
ı
, 
addr
);

7964 
md_addr_t
 
	g£t
 = 
CACHE_SET
 (
ı
, 
addr
);

7965 
md_addr_t
 
	gbofs
 = 
CACHE_BLK
 (
ı
, 
addr
);

7966 
md_addr_t
 
	gaddr_´eãtch
;

7967 
ÿche_blk_t
 *
	gblk
, *
	g»¶
;

7968 
	gÏt
 = 0, 
	gút
;

7969 
	gvc
 = -1, 
	ga
 = 0;

7970 
	gisSyncAcûss
 = 0;

7971 
RUU_¡©iÚ
 *
	gmy_rs
 = 
rs
;

7974 
md_addr_t
 
	gwb_addr
, 
	g»¶Add»ss
;

7975 
DIRECTORY_EVENT
 *
	gev’t
;

7977 
	gpÜt_Ït
 = 0, 
	gnow_Ït
 = 0, 
	gpÜt_now
 = 0;

7978 #ià
PROCESS_MODEL


7979 
	gisSh¬edAdd»ss
 = 0;

7982 #ià
PROCESS_MODEL


7984 ià(!
¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

7986 
	gisSh¬edAdd»ss
 = 
checkFÜSh¬edAddr
 ((è
addr
);

7991 ià(!
¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

7993 ià(
	gcmd
 =ğ
Wr™e
)

7995 
út
 = 0; 
	gút
 < 
	gnumcÚ‹xts
; cnt++)

7997 ià((
	gqu›sûAddrSŒuù
[
út
].
	gadd»ss
 =ğ
addr
))

7999 
thecÚ‹xts
[
út
]->
ä“ze
 = 0;

8000 
	gthecÚ‹xts
[
út
]->
	gruÂšg
 = 1;

8001 
	gqu›sûAddrSŒuù
[
út
].
	gadd»ss
 = 1;

8002 
	gqu›sûAddrSŒuù
[
út
].
	gth»adid
 = -1;

8006 #ifdeà 
L1_STREAM_PREFETCHER


8008 if(
	grs
)

8010 if(!
	grs
->
	gisSyncIn¡
)

8011 
l1Ïunch_¥
 (
addr
, 
th»adid
);

8014 
l1Ïunch_¥
 (
addr
, 
th»adid
);

8019 ià(
	g»¶_addr
)

8020 *
	g»¶_addr
 = 0;

8022 ià((
	gnby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (
nby‹s
 - 1)) != 0)

8024 
´štf
("nby‹ i %d\n", 
nby‹s
);

8025 
çl
 ("ÿche:‡cûs ”rÜ: bad sizÜ‡lignm’t,‡dd¸0x%08x", 
addr
);

8028 ià((
	gaddr
 + 
	gnby‹s
 - 1è> (×dd¸& ~
	gı
->
	gblk_mask
è+ cp->
	gbsize
 - 1))

8029 
·nic
 ("ÿche:‡cûs ”rÜ:‡cûs ¥ª block,‡dd¸0x%08x", 
addr
);

8031 ià(
¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

8033 ià(
	gı
->
	ghsize
)

8036 
	ghšdex
 = (è
CACHE_HASH
 (
ı
, 
g
);

8038 
	gblk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = 
blk
->
way_Ãxt
)

8040 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

8041 
ÿche_h™
;

8047 
	gblk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = 
blk
->
way_Ãxt
)

8049 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

8050 
ÿche_h™
;

8056 if(
	grs
)

8058 if(
	grs
->
	gisSyncIn¡
)

8060 
	gSyncIn¡CacheAcûss
 ++;

8061 if(
	gmy_rs
->
	gš_LSQ
 != 1)

8062 
my_rs
 = &
thecÚ‹xts
[
th»adid
]->
LSQ
[thecÚ‹xts[th»adid]->
LSQ_h—d
];

8063 if(!
	gmy_rs
)

8064 
·nic
("lsq does‚ot have‡ny data\n");

8065 if(
	gmy_rs
->
	gİ
 =ğ
LDL
)

8066 
Te¡CacheAcûss
 ++;

8067 if(
	gmy_rs
->
	gİ
 =ğ
LDL_L
)

8068 
Te¡SecCacheAcûss
 ++;

8069 if(
	gmy_rs
->
	gİ
 =ğ
STL_C
)

8070 
S‘CacheAcûss
 ++;

8072 #ifdeà
BAR_OPT


8073 if(
	grs
->
	gisSyncIn¡B¬R–
)

8075 if(
	gmy_rs
->
	gš_LSQ
 != 1)

8076 
my_rs
 = &
thecÚ‹xts
[
th»adid
]->
LSQ
[thecÚ‹xts[th»adid]->
LSQ_h—d
];

8077 if(!
	gmy_rs
)

8078 
·nic
("lsq does‚ot have‡ny data\n");

8082 #ifdeà
SMD_USE_WRITE_BUF


8083 if(
	gl1_wb_’Œy
)

8084 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

8085 
S‘CacheAcûss
 ++;

8087 
	gcmd
)

8089 
	gR—d
:

8090 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; 
	gblk
; blk = blk->
way_Ãxt
)

8092 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
è&& ((blk->
¡©e
 =ğ
MESI_SHARED
è|| (blk->¡©=ğ
MESI_MODIFIED
è|| (blk->¡©=ğ
MESI_EXCLUSIVE
)))

8094 
blk
->
addr
 =‡ddr;

8096 
	gblk
->
	gR—dCouÁ
 ++;

8097 
	gblk
->
	gWÜdU£FÏg
[(
blk
->
addr
>>2) & 7] = 1;

8098 ià(
	gcŞËù_¡©s
)

8100 
	gblk
->
	g¡©e
)

8102 
	gMESI_SHARED
:

8103 
ı
->
ccLoÿlLßdS
++;

8105 
	gMESI_EXCLUSIVE
:

8106 
ı
->
ccLoÿlLßdX
++;

8108 
	gMESI_MODIFIED
:

8109 
ı
->
ccLoÿlLßdM
++;

8115 #ifdeà
PREFETCH_OPTI


8116 if(
	gblk
->
	gisL1´eãtch
)

8118 
	gL1_´eãtch_u£fuÎ
 ++;

8119 
	gR—dP»ãtchUpd©e
 ++;

8122 
	gblk
->
	gisL1´eãtch
 = 0;

8123 
	gblk
->
	g´eãtch_time
 = 0;

8124 
	gblk
->
	g¡©us
 = 0;

8126 
	gev’t
 = (
DIRECTORY_EVENT
 *è
®loÿ‹_ev’t
(
isSyncAcûss
);

8127 ià(!
	gev’t
)

8128 
çl
("out of virtual memory in calloc dirƒvent");

8130 
	gev’t
->
	gİ
 = 0;

8131 
	gev’t
->
	gisP»ãtch
 = 0;

8132 
	gev’t
->
	gisSyncAcûss
 = 0;

8133 
	gev’t
->
	g¥ec_mode
 = 0;

8134 
	gev’t
->
	g¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

8135 
	gev’t
->
	g¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

8136 
	g¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8137 
	gev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8138 
	gev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8139 
	gev’t
->
	g¡¬‹d
 = 
now
;

8140 
	gev’t
->
	g¡¬tCyşe
 = 
now
;

8141 
	gev’t
->
	g³ndšg_æag
 = 0;

8142 
	gev’t
->
	gd©a_»¶y
 = 0;

8143 
	gev’t
->
	g»q_time
 = 0;

8144 
	gmissNo
 ++;

8145 
	gev’t
->
	g»£nd
 = 0;

8146 
	gev’t
->
	gchdCouÁ
 = 0;

8147 
	gev’t
->
	g·»Á
 = 
NULL
;

8148 
	gev’t
->
	gİ”©iÚ
 = 
READ_COHERENCE_UPDATE
;

8149 
	gev’t
->
	g‹mpID
 = 
th»adid
;

8150 
	gev’t
->
	gblk1
 = 
NULL
;

8151 
	gev’t
->
	gaddr
 = 
addr
;

8152 
	gev’t
->
	gı
 = 
ı
;

8153 
	gev’t
->
	gvp
 = 
p
;

8154 
	gev’t
->
	gnby‹s
 = 
nby‹s
;

8155 
	gev’t
->
	gud©a
 = 
ud©a
;

8156 
	gev’t
->
	gcmd
 = 
cmd
;

8157 
	gev’t
->
	grs
 = 
rs
;

8158 #ifdeà
SMD_USE_WRITE_BUF


8159 
	gev’t
->
	gl1_wb_’Œy
 = 
l1_wb_’Œy
;

8161 
	gev’t
->
	gmissNo
 = 
missNo
;

8162 
	gev’t
->
	gl2Stus
 = 0;

8163 
	gev’t
->
	gl2MissS¹
 = 0;

8164 
	gev’t
->
	gL2miss_æag
 = 0;

8165 
	gev’t
->
	gsh¬”_num
 = 0;

8166 
	gev’t
->
	gdœty_æag
 = 0;

8167 
	gev’t
->
	g¬riv®_time
 = 0;

8168 
	gev’t
->
	gcÚf_b™
 = -1;

8169 
	gev’t
->
	gšput_bufãr_fuÎ
 = 0;

8171 
scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8172 
dœ_ev’tq_š£¹
(
ev’t
);

8173 
	gev’t_ü—‹d
 = 
ev’t
;

8174  
	gWAIT_TIME
;

8177 
	gÿche_h™
;

8179 
	gÿche_h™
;

8184 
	gWr™e
:

8185 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; 
	gblk
; blk = blk->
way_Ãxt
)

8187 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

8189 
blk
->
addr
 =‡ddr;

8190 
	gblk
->
	g¡©e
)

8192 
	gMESI_MODIFIED
:

8193 ià(
cŞËù_¡©s
)

8194 
ı
->
ccLoÿlStÜeM
++;

8196 
	gblk
->
	gWr™eCouÁ
 ++;

8197 
	gblk
->
	gWÜdU£FÏg
[(
blk
->
addr
>>2) & 7] = 1;

8198 
	gÿche_h™
;

8201 
	gMESI_SHARED
:

8202 ià(
cŞËù_¡©s
)

8203 
ı
->
ccLoÿlStÜeS
++;

8204 ià(
	g¥ec_b’chm¬ks
)

8205 
·nic
 ("The state can‚ever be shared \n");

8207 
	gblk
->
	g¡©us
 = 0;

8208 if(
	gcŞËù_¡©s
)

8211 if(
	gblk
->
	gblkAlocR—sÚ
 =ğ
LINE_PREFETCH
)

8213 if(
blk
->
blkImdtOp
)

8214 
tÙ®L1LšeP»fU£
++;

8216 
	gtÙ®L1LšeP»fNoU£
++;

8218 if(
	gblk
->
	gblkAlocR—sÚ
 =ğ
LINE_READ
)

8220 if(
blk
->
blkImdtOp
)

8221 
tÙ®L1LšeR—dU£
++;

8223 
	gtÙ®L1LšeR—dNoU£
++;

8225 ià(
	gblk
->
	gblkAlocR—sÚ
 =ğ
LINE_WRITE
)

8227 if(
blk
->
blkImdtOp
)

8228 
tÙ®L1LšeWr™eU£
++;

8230 
	gtÙ®L1LšeWr™eNoU£
++;

8233 if(
	grs
)

8234 
	gisSyncAcûss
 = 
rs
->
isSyncIn¡
;

8235 #ifdeà
SMD_USE_WRITE_BUF


8236 if(
	gl1_wb_’Œy
)

8237 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

8238 
isSyncAcûss
 = 1;

8240 
	gev’t
 = (
DIRECTORY_EVENT
 *)

8241 
®loÿ‹_ev’t
(
isSyncAcûss
);

8242 ià(!
	gev’t
)

8243 
çl
("out of virtual memory in calloc dirƒvent");

8245 
	g¤c
;

8246 if(
	gmy_rs
)

8248 
	gev’t
->
	gİ
 = 
my_rs
->
İ
;

8249 
	gev’t
->
	gisP»ãtch
 = !
my_rs
->
issued
;

8250 
	gev’t
->
	gisSyncAcûss
 = 
isSyncAcûss
;

8251 
	gev’t
->
	g¥ec_mode
 = 
my_rs
->
¥ec_mode
;

8252 if(
	gmy_rs
->
	gisSyncIn¡
)

8254 if(
	gmy_rs
->
	gİ
 =ğ
STL_C
 || 
my_rs
->
İ
 =ğ
STQ_C
)

8256 
ev’t
->
¡Üe_cÚd
 = 
MY_STL_C
;

8257 
	gSyncStÜeCWr™eUpg¿de
 ++;

8259 if(
	gmy_rs
->
	gİ
 =ğ
STL
)

8261 
SyncStÜeWr™eUpg¿de
 ++;

8262 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_STL
;

8265 #ifdeà
BAR_OPT


8266 if(
	gmy_rs
->
	gisSyncIn¡B¬R–
 && my_rs->
	gİ
 =ğ
STL
)

8268 
B¬StÜeWr™eUpg¿de
 ++;

8269 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_STL
;

8273 #ifdeà
SMD_USE_WRITE_BUF


8274 if(
	gl1_wb_’Œy
)

8276 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

8278 
ev’t
->
¡Üe_cÚd
 = 
MY_STL_C
;

8279 
	gSyncStÜeCWr™eUpg¿de
 ++;

8285 
	gev’t
->
	gİ
 = 0;

8286 
	gev’t
->
	gisP»ãtch
 = 0;

8287 
	gev’t
->
	gisSyncAcûss
 = 0;

8288 
	gev’t
->
	g¥ec_mode
 = 0;

8290 
	gev’t
->
	g¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

8291 
	gev’t
->
	g¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

8292 
	g¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8293 
	gev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8294 
	gev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8295 
	gev’t
->
	g¡¬‹d
 = 
now
;

8296 
	gev’t
->
	g¡¬tCyşe
 = 
now
;

8297 
	gev’t
->
	g³ndšg_æag
 = 0;

8298 
	gev’t
->
	gd©a_»¶y
 = 0;

8299 
	gev’t
->
	g»q_time
 = 0;

8301 if(
	gcŞËù_¡©s
)

8303 
	gı
->
	gšv®id©iÚs
++;

8304 if(((
	gev’t
->
	gaddr
)>>
	gÿche_dl2
->
	g£t_shiá
)%
	gnumcÚ‹xts
 =ğ
thecÚ‹xts
[
th»adid
]->
aùu®id
)

8305 
loÿl_ÿche_acûss
++;

8307 
	g»mÙe_ÿche_acûss
++;

8310 
	gmissNo
 ++;

8311 
	gev’t
->
	g»£nd
 = 0;

8312 
	gev’t
->
	gchdCouÁ
 = 0;

8313 
	gev’t
->
	g·»Á
 = 
NULL
;

8314 
	gev’t
->
	gİ”©iÚ
 = 
WRITE_UPDATE
;

8315 
	gm_upd©e_miss
[
th»adid
] = 1;

8317 if(
	gcŞËù_¡©s
)

8318 
	gtÙ®ev’tcouÁnum
 ++;

8319 if(
	gcŞËù_¡©s
 && 
	gev’t
->
	gisSyncAcûss
)

8321 
	gtÙ®SyncWr™eup
 ++;

8322 
	gtÙ®SyncEv’t
 ++;

8325 
	gtÙ®NÜm®Ev’t
 ++;

8326 
	gtÙ®Upg¿des
++;

8327 
	gev’t
->
	g‹mpID
 = 
th»adid
;

8328 
	gev’t
->
	gblk1
 = 
NULL
;

8329 
	gev’t
->
	gaddr
 = 
addr
;

8330 
	gev’t
->
	gı
 = 
ı
;

8331 
	gev’t
->
	gvp
 = 
p
;

8332 
	gev’t
->
	gnby‹s
 = 
nby‹s
;

8333 
	gev’t
->
	gud©a
 = 
ud©a
;

8334 
	gev’t
->
	gcmd
 = 
cmd
;

8335 
	gev’t
->
	grs
 = 
rs
;

8336 #ifdeà
SMD_USE_WRITE_BUF


8337 
	gev’t
->
	gl1_wb_’Œy
 = 
l1_wb_’Œy
;

8339 
	gev’t
->
	gmissNo
 = 
missNo
;

8340 
	gev’t
->
	gl2Stus
 = 0;

8341 
	gev’t
->
	gl2MissS¹
 = 0;

8342 
	gev’t
->
	gL2miss_æag
 = 0;

8343 
	gev’t
->
	gsh¬”_num
 = 0;

8344 
	gev’t
->
	gdœty_æag
 = 0;

8345 
	gev’t
->
	g¬riv®_time
 = 0;

8346 
	gev’t
->
	gcÚf_b™
 = -1;

8347 
	gev’t
->
	gšput_bufãr_fuÎ
 = 0;

8349 
scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8350 
dœ_ev’tq_š£¹
(
ev’t
);

8352 
	gev’t_ü—‹d
 = 
ev’t
;

8353 if(
	gblk
->
	gisL1´eãtch
)

8354 
	gL1_´eãtch_wr™—á”
 ++;

8356 
	gÏt
 = 
Ït
 + 
WAIT_TIME
;

8357  
	gÏt
;

8360 
	gMESI_EXCLUSIVE
:

8361 ià(
cŞËù_¡©s
)

8362 
ı
->
e_to_m
++;

8363 
	ge_to_m
 ++;

8364 
	gtÙ®L1LšeExlU£d
++;

8365 
	gblk
->
	g¡©e
 = 
MESI_MODIFIED
;

8366 
	gblk
->
	gWr™eCouÁ
 ++;

8367 
	gblk
->
	gWÜdU£FÏg
[(
blk
->
addr
>>2) & 7] = 1;

8368 #ifdeà
COHERENCE_MODIFIED


8369 
	gev’t
 = (
DIRECTORY_EVENT
 *è
®loÿ‹_ev’t
(
isSyncAcûss
);

8370 ià(!
	gev’t
)

8371 
çl
("out of virtual memory in calloc dirƒvent");

8373 
	gev’t
->
	gİ
 = 0;

8374 
	gev’t
->
	gisP»ãtch
 = 0;

8375 
	gev’t
->
	gisSyncAcûss
 = 0;

8376 
	gev’t
->
	g¥ec_mode
 = 0;

8377 
	gev’t
->
	g¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

8378 
	gev’t
->
	g¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

8379 
	g¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8380 
	gev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8381 
	gev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8382 
	gev’t
->
	g¡¬‹d
 = 
now
;

8383 
	gev’t
->
	g¡¬tCyşe
 = 
now
;

8384 
	gev’t
->
	g³ndšg_æag
 = 0;

8385 
	gev’t
->
	gd©a_»¶y
 = 0;

8386 
	gev’t
->
	g»q_time
 = 0;

8387 
	gmissNo
 ++;

8388 
	gev’t
->
	g»£nd
 = 0;

8389 
	gev’t
->
	gchdCouÁ
 = 0;

8390 
	gev’t
->
	g·»Á
 = 
NULL
;

8391 
	gev’t
->
	gİ”©iÚ
 = 
WRITE_INDICATE
;

8393 if(
	gcŞËù_¡©s
)

8394 
	gtÙ®Wr™eIndiÿ‹
 ++;

8395 
	gev’t
->
	g‹mpID
 = 
th»adid
;

8396 
	gev’t
->
	gblk1
 = 
NULL
;

8397 
	gev’t
->
	gaddr
 = 
addr
;

8398 
	gev’t
->
	gı
 = 
ı
;

8399 
	gev’t
->
	gvp
 = 
p
;

8400 
	gev’t
->
	gnby‹s
 = 
nby‹s
;

8401 
	gev’t
->
	gud©a
 = 
ud©a
;

8402 
	gev’t
->
	gcmd
 = 
cmd
;

8403 
	gev’t
->
	grs
 = 
rs
;

8404 #ifdeà
SMD_USE_WRITE_BUF


8405 
	gev’t
->
	gl1_wb_’Œy
 = 
l1_wb_’Œy
;

8407 
	gev’t
->
	gmissNo
 = 
missNo
;

8408 
	gev’t
->
	gl2Stus
 = 0;

8409 
	gev’t
->
	gl2MissS¹
 = 0;

8410 
	gev’t
->
	gL2miss_æag
 = 0;

8411 
	gev’t
->
	gsh¬”_num
 = 0;

8412 
	gev’t
->
	gdœty_æag
 = 0;

8413 
	gev’t
->
	g¬riv®_time
 = 0;

8414 
	gev’t
->
	gcÚf_b™
 = -1;

8415 
	gev’t
->
	gšput_bufãr_fuÎ
 = 0;

8417 
scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8418 
dœ_ev’tq_š£¹
(
ev’t
);

8419 
	gev’t_ü—‹d
 = 
ev’t
;

8421 #ifdeà
PREFETCH_OPTI


8422 if(
	gblk
->
	gisL1´eãtch
)

8424 
	gL1_´eãtch_u£fuÎ
 ++;

8425 
	gL1_´eãtch_wr™—á”
 ++;

8426 
	gWr™eP»ãtchUpd©e
 ++;

8429 
	gblk
->
	gisL1´eãtch
 = 0;

8430 
	gblk
->
	g´eãtch_time
 = 0;

8431 
	gblk
->
	g¡©us
 = 0;

8433 
	gev’t
 = (
DIRECTORY_EVENT
 *è
®loÿ‹_ev’t
(
isSyncAcûss
);

8434 ià(!
	gev’t
)

8435 
çl
("out of virtual memory in calloc dirƒvent");

8437 
	gev’t
->
	gİ
 = 0;

8438 
	gev’t
->
	gisP»ãtch
 = 0;

8439 
	gev’t
->
	gisSyncAcûss
 = 0;

8440 
	gev’t
->
	g¥ec_mode
 = 0;

8441 
	gev’t
->
	g¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

8442 
	gev’t
->
	g¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

8443 
	g¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8444 
	gev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8445 
	gev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8446 
	gev’t
->
	g¡¬‹d
 = 
now
;

8447 
	gev’t
->
	g¡¬tCyşe
 = 
now
;

8448 
	gev’t
->
	g³ndšg_æag
 = 0;

8449 
	gev’t
->
	gd©a_»¶y
 = 0;

8450 
	gev’t
->
	g»q_time
 = 0;

8451 
	gmissNo
 ++;

8452 
	gev’t
->
	g»£nd
 = 0;

8453 
	gev’t
->
	gchdCouÁ
 = 0;

8454 
	gev’t
->
	g·»Á
 = 
NULL
;

8455 
	gev’t
->
	gİ”©iÚ
 = 
WRITE_COHERENCE_UPDATE
;

8456 
	gev’t
->
	g‹mpID
 = 
th»adid
;

8457 
	gev’t
->
	gblk1
 = 
NULL
;

8458 
	gev’t
->
	gaddr
 = 
addr
;

8459 
	gev’t
->
	gı
 = 
ı
;

8460 
	gev’t
->
	gvp
 = 
p
;

8461 
	gev’t
->
	gnby‹s
 = 
nby‹s
;

8462 
	gev’t
->
	gud©a
 = 
ud©a
;

8463 
	gev’t
->
	gcmd
 = 
cmd
;

8464 
	gev’t
->
	grs
 = 
rs
;

8465 #ifdeà
SMD_USE_WRITE_BUF


8466 
	gev’t
->
	gl1_wb_’Œy
 = 
l1_wb_’Œy
;

8468 
	gev’t
->
	gmissNo
 = 
missNo
;

8469 
	gev’t
->
	gl2Stus
 = 0;

8470 
	gev’t
->
	gl2MissS¹
 = 0;

8471 
	gev’t
->
	gL2miss_æag
 = 0;

8472 
	gev’t
->
	gsh¬”_num
 = 0;

8473 
	gev’t
->
	gdœty_æag
 = 0;

8474 
	gev’t
->
	g¬riv®_time
 = 0;

8475 
	gev’t
->
	gcÚf_b™
 = -1;

8476 
	gev’t
->
	gšput_bufãr_fuÎ
 = 0;

8478 
scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8479 
dœ_ev’tq_š£¹
(
ev’t
);

8480 
	gev’t_ü—‹d
 = 
ev’t
;

8481  
	gWAIT_TIME
;

8484 
	gÿche_h™
;

8486 
	gÿche_h™
;

8490 
·nic
 ("Should‚ot be invalid");

8497 
·nic
 ("Cacheohe command is‚either„ead‚or write");

8502 
	gæag
 = 0, 
	gÃxt_block
 = 0, 
	g´e_block
 = 0;

8503 if(!
¡rcmp
(
ı
->
Çme
, 
dl1Çme
))

8506 if(
	gcŞËù_¡©s
)

8508 
	gblk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = 
blk
->
way_Ãxt
)

8510 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 =ğ0)&& (blk->
¡©e
 =ğ
MESI_INVALID
))

8512 
ı
->
coh”’û_mis£s
 ++;

8513 
	gæag
 = 1;

8516 if(
	gæag
 != 1)

8517 
ı
->
ÿ·c™ªû_mis£s
 ++;

8519 #ifdeà
DL1_PREFETCH


8521 if(
	g£t
 == 0)

8523 
blk
 = 
ı
->
£ts
[ı->
n£ts
-1].
way_h—d
; 
	gblk
; blk = blk->
way_Ãxt
)

8525 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

8526 
´e_block
 = 1;

8531 
	gblk
 = 
ı
->
£ts
[(
£t
-1)%ı->
n£ts
].
way_h—d
; blk; blk = 
blk
->
way_Ãxt
)

8533 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

8534 
´e_block
 = 1;

8537 
	gblk
 = 
ı
->
£ts
[(
£t
+1)%ı->
n£ts
].
way_h—d
; blk; blk = 
blk
->
way_Ãxt
)

8539 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

8540 
Ãxt_block
 = 1;

8544 if(
	grs
)

8545 
	gisSyncAcûss
 = 
rs
->
isSyncIn¡
;

8546 #ifdeà
SMD_USE_WRITE_BUF


8547 if(
	gl1_wb_’Œy
)

8548 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

8549 
isSyncAcûss
 = 1;

8551 
	gev’t
 = (
DIRECTORY_EVENT
 *)

8552 
®loÿ‹_ev’t
(
isSyncAcûss
);

8554 ià(!
	gev’t
)

8555 
çl
("out of virtual memory in calloc dirƒvent");

8556 ià(
	gcmd
 =ğ
R—d
)

8558 
ev’t
->
İ”©iÚ
 = 
MISS_READ
;

8559 
	gtÙ®misscouÁnum
 ++;

8560 
	gev’t
->
	gisP»ãtch
 = 
rs
->
isP»ãtch
;

8564 
	gev’t
->
	gİ”©iÚ
 = 
MISS_WRITE
;

8565 
	gtÙ®»qcouÁnum
 ++;

8566 if(
	grs
)

8567 
	gev’t
->
	gisP»ãtch
 = !
rs
->
issued
;

8569 
	gev’t
->
	gisP»ãtch
 = 0;

8571 if(
	gcŞËù_¡©s
)

8572 
	gtÙ®ev’tcouÁnum
 ++;

8573 if(
	gcŞËù_¡©s
 && 
	gisSyncAcûss
)

8575 
	gtÙ®SyncEv’t
 ++;

8576 if(
	gev’t
->
	gİ”©iÚ
 =ğ
MISS_WRITE
)

8577 
tÙ®SyncWr™eM
 ++;

8579 
	gtÙ®SyncR—dM
 ++;

8582 
	gtÙ®NÜm®Ev’t
 ++;

8583 
	gmissNo
 ++;

8584 
	g¤c
;

8585 
	gev’t
->
	g³ndšg_æag
 = 0;

8586 
	gev’t
->
	gİ
 = 
LDQ
;

8587 
	gev’t
->
	g¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

8588 
	gev’t
->
	g¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

8589 
	g¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8590 
	gev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8591 
	gev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8592 
	gev’t
->
	g¡¬‹d
 = 
now
;

8593 
	gev’t
->
	g¡¬tCyşe
 = 
now
;

8594 if(
	grs
)

8596 
	gev’t
->
	gisSyncAcûss
 = 
isSyncAcûss
;

8597 
	gev’t
->
	g¥ec_mode
 = 
rs
->
¥ec_mode
;

8599 #ifdeà
SMD_USE_WRITE_BUF


8600 if(
	gl1_wb_’Œy
)

8602 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

8604 
ev’t
->
isSyncAcûss
 = isSyncAccess;

8605 
	gev’t
->
	g¥ec_mode
 = 0;

8611 
	gev’t
->
	gisSyncAcûss
 = 0;

8612 
	gev’t
->
	g¥ec_mode
 = 0;

8615 if(
	gcŞËù_¡©s
)

8617 
	gı
->
	gmis£s
 ++;

8618 if((
	gaddr
>>
	gÿche_dl2
->
	g£t_shiá
)%
	gnumcÚ‹xts
 =ğ
thecÚ‹xts
[
th»adid
]->
aùu®id
)

8619 
loÿl_ÿche_acûss
++;

8621 
	g»mÙe_ÿche_acûss
++;

8624 
	gev’t
->
	gchdCouÁ
 = 0;

8625 
	gev’t
->
	g·»Á
 = 
NULL
;

8626 
	gev’t
->
	gl2Stus
 = 0;

8627 
	gev’t
->
	gl2MissS¹
 = 0;

8628 
	gev’t
->
	g‹mpID
 = 
th»adid
;

8629 
	gev’t
->
	g»£nd
 = 0;

8630 
	gev’t
->
	gblk1
 = 
NULL
;

8631 
	gev’t
->
	gaddr
 = 
addr
;

8632 
	gev’t
->
	gı
 = 
ı
;

8633 
	gev’t
->
	gvp
 = 
p
;

8634 
	gev’t
->
	gnby‹s
 = 
nby‹s
;

8635 
	gev’t
->
	gud©a
 = 
ud©a
;

8636 
	gev’t
->
	gcmd
 = 
cmd
;

8637 
	gev’t
->
	grs
 = 
rs
;

8638 #ifdeà
SMD_USE_WRITE_BUF


8639 
	gev’t
->
	gl1_wb_’Œy
 = 
l1_wb_’Œy
;

8641 
	gev’t
->
	gmissNo
 = 
missNo
;

8642 
	gev’t
->
	gL2miss_æag
 = 0;

8643 
	gev’t
->
	gsh¬”_num
 = 0;

8644 
	gev’t
->
	g´eãtch_Ãxt
 = 0;

8645 
	gev’t
->
	gdœty_æag
 = 0;

8646 
	gev’t
->
	g¬riv®_time
 = 0;

8647 
	gev’t
->
	gcÚf_b™
 = -1;

8648 
	gev’t
->
	gd©a_»¶y
 = 0;

8649 
	gev’t
->
	g»q_time
 = 0;

8650 if(
	gmy_rs
)

8652 if(
	gmy_rs
->
	gisSyncIn¡
 && my_rs->
	gİ
 =ğ
LDL
)

8654 
SyncLßdR—dMiss
 ++;

8655 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_LDL
;

8657 if(
	gmy_rs
->
	gİ
 =ğ
LDL_L
)

8659 
SyncLßdLR—dMiss
 ++;

8660 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_LDL_L
;

8662 if(
	gmy_rs
->
	gİ
 =ğ
STL_C
)

8664 
SyncStÜeCWr™eMiss
 ++;

8665 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_STL_C
;

8667 if(
	gmy_rs
->
	gisSyncIn¡
 && my_rs->
	gİ
 =ğ
STL
)

8669 
SyncStÜeWr™eMiss
 ++;

8670 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_STL
;

8672 #ifdeà
BAR_OPT


8673 if(
	gmy_rs
->
	gisSyncIn¡B¬R–
 && my_rs->
	gİ
 =ğ
STL
)

8675 
ev’t
->
¡Üe_cÚd
 = 
MY_STL
;

8676 
	gB¬StÜeWr™eMiss
 ++;

8680 #ifdeà
SMD_USE_WRITE_BUF


8681 if(
	gl1_wb_’Œy
)

8683 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

8685 
SyncStÜeCWr™eMiss
 ++;

8686 
	gev’t
->
	g¡Üe_cÚd
 = 
MY_STL_C
;

8692 #ifdeà 
L1_STREAM_PREFETCHER


8694 ià(!
	gdl1_´eãtch_aùive
)

8696 if(
	grs
)

8698 if(!
	grs
->
	gisSyncIn¡
)

8699 
l1š£¹_¥
 (
addr
, 
th»adid
);

8702 
l1š£¹_¥
 (
addr
, 
th»adid
);

8705 #ifdeà
DL1_PREFETCH


8706 if(!
	gÃxt_block
 && 
	g´e_block
)

8708 
	gaddr_´eãtch
 = (
g
 << 
ı
->
g_shiá
è+ (((
£t
+1)%ı->
n£ts
è<< cp->
£t_shiá
);

8709 
	g¤c
 = (
addr_´eãtch
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8710 
	gtÙ®ev’tcouÁnum
 ++;

8711 
	gtÙ®_L1_´eãtch
 ++;

8713 
	gm©chnum
;

8714 
	gm©chnum
 = 
MSHR_block_check
(
ı
->
mshr
, 
addr_´eãtch
, cp->
£t_shiá
);

8715 if(!
	gm©chnum
 && (
	gı
->
	gmshr
->
	gä“EÁr›s
 > 1))

8717 
DIRECTORY_EVENT
 *
	gÃw_ev’t
 = 
®loÿ‹_ev’t
(0);

8718 if(
	gÃw_ev’t
 =ğ
NULL
è
·nic
("Out of Virtual Memory");

8719 
	gÃw_ev’t
->
	gd©a_»¶y
 = 0;

8720 
	gÃw_ev’t
->
	g»q_time
 = 0;

8721 
	gÃw_ev’t
->
	g³ndšg_æag
 = 0;

8722 
	gÃw_ev’t
->
	gİ
 = 
ev’t
->
İ
;

8723 
	gÃw_ev’t
->
	gisP»ãtch
 = 0;

8724 #ifdeà
PREFETCH_OPTI


8725 
	gÃw_ev’t
->
	gİ”©iÚ
 = 
L1_PREFETCH
;

8727 
	gÃw_ev’t
->
	gİ”©iÚ
 = 
MISS_READ
;

8729 
	gÃw_ev’t
->
	g¤c1
 = 
ev’t
->
¤c1
;

8730 
	gÃw_ev’t
->
	g¤c2
 = 
ev’t
->
¤c2
;

8731 
	gÃw_ev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8732 
	gÃw_ev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8733 
	gÃw_ev’t
->
	g´oûssšgDÚe
 = 0;

8734 
	gÃw_ev’t
->
	g¡¬tCyşe
 = 
sim_cyşe
;

8735 
	gÃw_ev’t
->
	g·»Á
 = 
NULL
;

8736 
	gÃw_ev’t
->
	g‹mpID
 = 
ev’t
->
‹mpID
;

8737 
	gÃw_ev’t
->
	g»£nd
 = 0;

8738 
	gÃw_ev’t
->
	gblk_dœ
 = 
NULL
;

8739 
	gÃw_ev’t
->
	gı
 = 
ev’t
->
ı
;

8740 
	gÃw_ev’t
->
	gaddr
 = 
addr_´eãtch
;

8741 
	gÃw_ev’t
->
	gvp
 = 
NULL
;

8742 
	gÃw_ev’t
->
	gnby‹s
 = 
ev’t
->
ı
->
bsize
;

8743 
	gÃw_ev’t
->
	gud©a
 = 
NULL
;

8744 
	gÃw_ev’t
->
	gcmd
 = 
Wr™e
;

8745 
	gÃw_ev’t
->
	grs
 = 
NULL
;

8746 #ifdeà
SMD_USE_WRITE_BUF


8747 
	gÃw_ev’t
->
	gl1_wb_’Œy
 = 
NULL
;

8749 
	gÃw_ev’t
->
	g¡¬‹d
 = 
ev’t
->
¡¬‹d
;

8750 
	gÃw_ev’t
->
	g¥ec_mode
 = 0;

8751 
	gÃw_ev’t
->
	gL2miss_æag
 = 0;

8752 
	gÃw_ev’t
->
	g´eãtch_Ãxt
 = 2;

8753 
	gÃw_ev’t
->
	gcÚf_b™
 = -1;

8754 
	gÃw_ev’t
->
	gšput_bufãr_fuÎ
 = 0;

8756 
scheduËThroughN‘wÜk
(
Ãw_ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8758 
dœ_ev’tq_š£¹
(
Ãw_ev’t
);

8759 
	gev’t_ü—‹d
 = 
Ãw_ev’t
;

8760 
MSHRLookup
(
ı
->
mshr
, 
addr_´eãtch
, 
WAIT_TIME
, 0, 
rs
);

8765 
	gev’t_ü—‹d
 = 
ev’t
;

8766 
	gev’t
->
	gšput_bufãr_fuÎ
 = 0;

8767 
scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8769 
dœ_ev’tq_š£¹
(
ev’t
);

8770  
	gWAIT_TIME
;

8772 if(!
¡rcmp
 (
ı
->
Çme
, "il1"))

8774 
	gev’t
 = (
DIRECTORY_EVENT
 *)

8775 
®loÿ‹_ev’t
(0);

8777 ià(!
	gev’t
)

8778 
çl
("out of virtual memory in calloc dirƒvent");

8779 if(
	gcmd
 =ğ
Wr™e
)

8780 
·nic
("Il1‡ccess could-not†eado Write command");

8782 
	g¤c
;

8783 
	gev’t
->
	gİ
 = 
LDQ
;

8784 
	gev’t
->
	g³ndšg_æag
 = 0;

8785 
	gev’t
->
	gİ”©iÚ
 = 
MISS_IL1
;

8786 
	gev’t
->
	gisP»ãtch
 = 0;

8787 
	gev’t
->
	g¤c1
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
/
mesh_size
+
MEM_LOC_SHIFT
;

8788 
	gev’t
->
	g¤c2
 = 
thecÚ‹xts
[
th»adid
]->
aùu®id
%
mesh_size
;

8789 
	g¤c
 = (
addr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

8790 
	gev’t
->
	gdes1
 = (
¤c
 /
mesh_size
)+
MEM_LOC_SHIFT
;

8791 
	gev’t
->
	gdes2
 = (
¤c
 %
mesh_size
);

8792 
	gev’t
->
	g¡¬‹d
 = 
now
;

8793 
	gev’t
->
	g¡¬tCyşe
 = 
now
;

8794 
	gev’t
->
	gd©a_»¶y
 = 0;

8795 
	gev’t
->
	g»q_time
 = 0;

8797 if(
	gcŞËù_¡©s
)

8799 
	gı
->
	gmis£s
 ++;

8800 if((
	gaddr
>>
	gÿche_dl2
->
	g£t_shiá
)%
	gnumcÚ‹xts
 =ğ
thecÚ‹xts
[
th»adid
]->
aùu®id
)

8801 
loÿl_ÿche_acûss
++;

8803 
	g»mÙe_ÿche_acûss
++;

8806 
	gev’t
->
	gchdCouÁ
 = 0;

8807 
	gev’t
->
	g·»Á
 = 
NULL
;

8808 
	gev’t
->
	gl2Stus
 = 0;

8809 
	gev’t
->
	gl2MissS¹
 = 0;

8810 
	gev’t
->
	g‹mpID
 = 
th»adid
;

8811 
	gev’t
->
	g»£nd
 = 0;

8812 
	gev’t
->
	gblk1
 = 
NULL
;

8813 
	gev’t
->
	gaddr
 = 
addr
;

8814 
	gev’t
->
	gı
 = 
ı
;

8815 
	gev’t
->
	gvp
 = 
p
;

8816 
	gev’t
->
	gnby‹s
 = 
nby‹s
;

8817 
	gev’t
->
	gud©a
 = 
ud©a
;

8818 
	gev’t
->
	gcmd
 = 
cmd
;

8819 
	gev’t
->
	grs
 = 
NULL
;

8820 #ifdeà
SMD_USE_WRITE_BUF


8821 
	gev’t
->
	gl1_wb_’Œy
 = 
l1_wb_’Œy
;

8823 
	gev’t
->
	gmissNo
 = 
missNo
;

8824 
	gev’t
->
	g¥ec_mode
 = 
thecÚ‹xts
[
th»adid
]->
¥ec_mode
;

8825 
	gev’t
->
	gL2miss_æag
 = 0;

8826 
	gev’t
->
	gsh¬”_num
 = 0;

8827 
	gev’t
->
	gdœty_æag
 = 0;

8828 
	gev’t
->
	g¬riv®_time
 = 0;

8829 
	gev’t
->
	gcÚf_b™
 = -1;

8830 
	gev’t
->
	gšput_bufãr_fuÎ
 = 0;

8832 
scheduËThroughN‘wÜk
(
ev’t
, 
now
, 
m‘a_·ck‘_size
, 
vc
);

8834 
dœ_ev’tq_š£¹
(
ev’t
);

8835 
	gev’t_ü—‹d
 = 
ev’t
;

8836 
	gthecÚ‹xts
[
th»adid
]->
	gev’t
 = 
ev’t
;

8837  
	gWAIT_TIME
;

8843 
	gı
->
	gpŞicy
)

8845 
	gLRU
:

8846 
FIFO
:

8847 
»¶
 = 
ı
->
£ts
[
£t
].
way_
;

8848 
upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
»¶
, 
H—d
);

8850 
	gRªdom
:

8852 
bšdex
 = 
my¿nd
 (è& (
ı
->
assoc
 - 1);

8854 
	g»¶
 = 
CACHE_BINDEX
 (
ı
, cp->
£ts
[
£t
].
blks
, 
bšdex
);

8858 
·nic
 ("bogus„eplacement…olicy");

8862 ià(
¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

8865 ià(
	gcŞËù_¡©s
)

8866 
	gı
->
	gmis£s
++;

8869 ià(
	gı
->
	ghsize
)

8870 
uÆšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

8873 
	gı
->
	gÏ¡_g£tid
.
	gg
 = 0;

8874 
	gı
->
	gÏ¡_g£tid
.
	gth»adid
 = -1;

8875 
	gı
->
	gÏ¡_blk
 = 
NULL
;

8877 
	gÏt
 +ğ
ı
->
h™_Ï‹ncy
;

8880 ià(
	g»¶
->
	g¡©us
 & 
	gCACHE_BLK_VALID
)

8882 ià(
	gcŞËù_¡©s
)

8883 
	gı
->
	g»¶aûm’ts
++;

8885 ià(
	g»¶_addr
)

8886 *
	g»¶_addr
 = 
CACHE_MK_BADDR
 (
ı
, 
»¶
->
gid
.
g
, 
£t
);

8889 
	gÏt
 +ğ
BOUND_POS
 (
»¶
->
»ady
 - 
now
);

8891 ià((
	g»¶
->
	g¡©us
 & 
	gCACHE_BLK_DIRTY
))

8894 ià(
	gcŞËù_¡©s
)

8896 
	gı
->
	gwr™ebacks
++;

8897 
	gı
->
	gwrb
++;

8899 
	gÏt
 +ğ
ı
->
blk_acûss_â
 (
Wr™e
, 
CACHE_MK_BADDR
 (ı, 
»¶
->
gid
.
g
, 
£t
), cp->
bsize
,„•l, 
now
 + 
Ït
,„•l->gid.
th»adid
);

8904 
	g»¶
->
	ggid
.
	gg
 = 
g
;

8905 
	g»¶
->
	ggid
.
	gth»adid
 = 
th»adid
;

8906 
	g»¶
->
	g¡©us
 = 
CACHE_BLK_VALID
;

8907 
	g»¶
->
	gaddr
 = 
addr
;

8908 
	g»¶
->
	glšeVŞ©e
 = 0;

8909 
	g»¶
->
	gwÜdVŞ©e
 = 0;

8910 
	g»¶
->
	gwÜdInv®id
 = 0;

8911 
	g»¶
->
	gisSË
 = 0;

8914 
	gÏt
 +ğ
ı
->
blk_acûss_â
 (
R—d
, 
CACHE_BADDR
 (ı, 
addr
), cp->
bsize
, 
»¶
, 
now
 + 
Ït
, 
th»adid
);

8917 ià(
	gı
->
	gb®loc
 && 
	gp
)

8919 
CACHE_BCOPY
 (
cmd
, 
»¶
, 
bofs
, 
p
, 
nby‹s
);

8923 ià(
	gcmd
 =ğ
Wr™e
)

8925 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

8928 ià(!
¡rcmp
 (
ı
->
Çme
, "ul2"))

8930 ià(
	gcmd
 =ğ
Wr™e
)

8932 
wm2
++;

8936 
	grm2
++;

8941 ià(
	gud©a
)

8942 *
	gud©a
 = 
»¶
->
u£r_d©a
;

8945 
	g»¶
->
	g»ady
 = 
now
 + 
Ït
;

8947 ià(
	gı
->
	ghsize
)

8948 
lšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

8951  
	gÏt
;

8955 
·nic
(" DL1‡ccess could‚ot ENTERhis…art ofhe code ");

8958 
	gÿche_h™
:

8961 ià(
cŞËù_¡©s
)

8962 
ı
->
h™s
++;

8966 ià(
	gı
->
	gb®loc
 && 
	gp
)

8968 
CACHE_BCOPY
 (
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
);

8972 ià(
	gcmd
 =ğ
Wr™e
)

8973 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

8975 
	gblk
->
	gisSË
 = 0;

8978 ià(!
¡rcmp
 (
ı
->
Çme
, "dl1"))

8980 ià(
	gcmd
 =ğ
Wr™e
)

8981 
wh1
++;

8983 
	grh1
++;

8985 if(
	gblk
->
	gblkImdtOp
)

8986 
	gblk
->
	gblkNextOps
 = ((
cmd
 =ğ
Wr™e
è? 
LINE_WRITE_OP
 : 
LINE_READ_OP
);

8988 
	gblk
->
	gblkImdtOp
 = (
cmd
 =ğ
Wr™e
è? 
LINE_WRITE_OP
 : 
LINE_READ_OP
;

8990 if(
	gblk
->
	gisL1´eãtch
)

8992 
	gL1_´eãtch_u£fuÎ
 ++;

8996 
	gblk
->
	gisL1´eãtch
 = 0;

8997 
	gblk
->
	g´eãtch_time
 = 0;

8998 if(
	gmy_rs
)

9000 if(
	gmy_rs
->
	gisSyncIn¡
 && my_rs->
	gİ
 =ğ
LDL
)

9001 
SyncLßdH™
 ++;

9002 if(
	gmy_rs
->
	gİ
 =ğ
LDL_L
)

9003 
SyncLßdLH™
 ++;

9004 if(
	gmy_rs
->
	gİ
 =ğ
STL_C
)

9005 
SyncStÜeCH™
 ++;

9006 if(
	gmy_rs
->
	gisSyncIn¡
 && my_rs->
	gİ
 =ğ
STL
)

9007 
SyncStÜeH™
 ++;

9009 #ifdeà
SMD_USE_WRITE_BUF


9010 if(
	gl1_wb_’Œy
)

9011 if(
	gl1_wb_’Œy
->
	gİ
 =ğ
STL_C
)

9012 
SyncStÜeCH™
 ++;

9015 ià(!
¡rcmp
 (
ı
->
Çme
, "ul2"))

9017 ià(
	gcmd
 =ğ
Wr™e
)

9018 
wh2
++;

9020 
	grh2
++;

9023 ià(
	gblk
->
	gway_´ev
 && 
	gı
->
	gpŞicy
 =ğ
LRU
)

9025 
upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
blk
, 
H—d
);

9031 
	gı
->
	gÏ¡_g£tid
.
	gg
 = 
CACHE_TAGSET
 (
ı
, 
addr
);

9032 
	gı
->
	gÏ¡_g£tid
.
	gth»adid
 = 
th»adid
;

9033 
	gı
->
	gÏ¡_blk
 = 
blk
;

9036 ià(
	gud©a
)

9037 *
	gud©a
 = 
blk
->
u£r_d©a
;

9039 if((è
max2
 ((
ı
->
h™_Ï‹ncy
 + 
Ït
), (
blk
->
»ady
 - 
now
)è> 
	gWAIT_TIME
)

9040 
·nic
("Cache Hit†atencyoo†arge\n");

9043  (è
max2
 ((
ı
->
h™_Ï‹ncy
 + 
Ït
), (
blk
->
»ady
 - 
now
));

9047 
	$ÿche_w¬mup
 (
ÿche_t
 *
ı
,

9048 
mem_cmd
 
cmd
,

9049 
md_addr_t
 
addr
,

9050 
nby‹s
,

9051 
th»adid
)

9056 
	`¥rštf
(
dl1Çme
, "dl1");

9058 if(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
è&& cp->
th»adid
 !=hreadid)

9059 
	`·nic
 ("Wrond DL1 cache being called in cache‡ccess\n");

9060 if(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
è&& 
	`md_‹xt_addr
(
addr
, 
th»adid
))

9063 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

9064 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

9066 
ÿche_blk_t
 *
blk
, *
»¶
, *
»¶1
;

9068 #ià
PROCESS_MODEL


9069 
isSh¬edAdd»ss
 = 0;

9072 #ià
PROCESS_MODEL


9074 ià(!
	`¡rcmp
 (
ı
->
Çme
, 
dl1Çme
))

9076 
isSh¬edAdd»ss
 = 
	`checkFÜSh¬edAddr
 ((è
addr
);

9081 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

9083 
	`´štf
("nby‹ i %d\n", 
nby‹s
);

9084 
	`çl
 ("ÿche:‡cûs ”rÜ: bad sizÜ‡lignm’t,‡dd¸0x%08x", 
addr
);

9088 ià((
addr
 + 
nby‹s
 - 1è> (×dd¸& ~
ı
->
blk_mask
è+ cp->
bsize
 - 1))

9089 
	`·nic
 ("ÿche:‡cûs ”rÜ:‡cûs ¥ª block,‡dd¸0x%08x", 
addr
);

9091 ià(
ı
->
hsize
)

9094 
hšdex
 = (è
	`CACHE_HASH
 (
ı
, 
g
);

9096 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9098 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9100 ià(
blk
->
way_´ev
 && 
ı
->
pŞicy
 =ğ
LRU
)

9101 
	`upd©e_way_li¡
(&
ı
->
£ts
[
£t
], 
blk
, 
H—d
);

9109 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9111 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9113 ià(
blk
->
way_´ev
 && 
ı
->
pŞicy
 =ğ
LRU
)

9114 
	`upd©e_way_li¡
(&
ı
->
£ts
[
£t
], 
blk
, 
H—d
);

9121 
md_addr_t
 
g_dœ
 = 
	`CACHE_TAG
 (
ÿche_dl2
, 
addr
);

9122 
md_addr_t
 
£t_dœ
 = 
	`CACHE_SET
 (
ÿche_dl2
, 
addr
);

9123 
md_addr_t
 
bofs_dœ
 = 
	`CACHE_BLK
 (
ÿche_dl2
, 
addr
);

9125 
block_off£t
 = 
	`blockoff£t
(
addr
);

9126 
isL2H™
 = 0;

9129 
blk
 = 
ÿche_dl2
->
£ts
[
£t_dœ
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9131 ià((
blk
->
gid
.
g
 =ğ
g_dœ
è&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9133 
isL2H™
 = 1;

9134 ià(
blk
->
way_´ev
 && 
ÿche_dl2
->
pŞicy
 =ğ
LRU
)

9135 
	`upd©e_way_li¡
(&
ÿche_dl2
->
£ts
[
£t_dœ
], 
blk
, 
H—d
);

9140 if(
isL2H™
)

9142 if(
	`¡rcmp
 (
ı
->
Çme
, "il1"))

9143 #ifdeà
NEW_WARMUP


9145 if(
cmd
 =ğ
R—d
)

9147 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_INVALID
)

9149 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

9151 if(
blk
->
dœ_blk_¡©e
[
block_off£t
] =ğ
MESI_MODIFIED
 || blk->dœ_blk_¡©e[block_off£t] =ğ
MESI_EXCLUSIVE
)

9153 if(
blk
->
dœ_sh¬”
[
block_off£t
][
th»adid
/64] & (()1<<(threadid%64)) != (()1<<(threadid%64)))

9154 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

9156 
blk
->
dœ_sh¬”
[
block_off£t
][
th»adid
/64] |= (()1<<(threadid%64));

9160 
blk
->
dœ_sh¬”
[
block_off£t
][
th»adid
/64] = (()1<<(threadid%64));

9161 
blk
->
dœ_dœty
[
block_off£t
] = 
th»adid
;

9162 
blk
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

9165 
»¶1
 = 
blk
;

9167 
blk
->
dœ_sh¬”
[
block_off£t
][
th»adid
/64] |= (()1<<(threadid%64));

9172 
ÿche_dl2
->
pŞicy
)

9174 
i
;

9175 
bšdex
;

9176 
LRU
:

9177 
FIFO
:

9178 
i
 = 
ÿche_dl2
->
assoc
;

9180 if(
i
 == 0) ;

9181 
i
--;

9182 
»¶
 = 
ÿche_dl2
->
£ts
[
£t_dœ
].
way_
;

9183 
	`upd©e_way_li¡
 (&
ÿche_dl2
->
£ts
[
£t_dœ
], 
»¶
, 
H—d
);

9185 
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
, 
th»adid
,„•l->
addr
));

9187 if(
	`»¶_dœ_¡©e_check
(
»¶
->
dœ_¡©e
, 
th»adid
,„•l->
addr
))

9188 
	`·nic
("Can‚ot‡llocate L2†ine during warmup");

9191 
Rªdom
:

9192 
bšdex
 = 
	`my¿nd
 (è& (
ÿche_dl2
->
assoc
 - 1);

9193 
»¶
 = 
	`CACHE_BINDEX
 (
ÿche_dl2
, cache_dl2->
£ts
[
£t_dœ
].
blks
, 
bšdex
);

9196 
	`·nic
 ("bogus„eplacement…olicy");

9199 ià(
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

9202 
i
=0, 
m
=0, 
™”©iÚ
 = 1, 
æag
 = 0, 
sh¬”_num
 = 0, 
Th»adid
;

9203 
i
=0; i<(
ÿche_dl2
->
£t_shiá
 - 
ÿche_dl1
[0]->set_shift); i++)

9204 
™”©iÚ
 = iteration * 2;

9205 
i
=0; i<
™”©iÚ
; i++)

9206 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
], -1))

9207 
sh¬”_num
 ++;

9209 
i
=0; i<
™”©iÚ
; i++)

9211 
»¶
->
dœ_¡©e
[
i
] = 
DIR_STABLE
;

9212 if(
	`Is_Sh¬ed
(
»¶
->
dœ_sh¬”
[
i
], -1))

9214 
»¶
->
addr
 = (»¶->
gid
.
g
 << 
ÿche_dl2
->
g_shiá
è+ (
£t_dœ
 << cache_dl2->
£t_shiá
è+ (
i
 << 
ÿche_dl1
[0]->set_shift);

9215 
Th»adid
 = 0; Th»adid < 
numcÚ‹xts
; Threadid++)

9217 if(((
»¶
->
dœ_sh¬”
[
i
][
Th»adid
/64]) & (()1 << (Threadid%64))) == (()1 << (Threadid%64)))

9219 
md_addr_t
 
‹mp_g
 = 
	`CACHE_TAG
 (
ÿche_dl1
[
Th»adid
], 
addr
);

9220 
md_addr_t
 
‹mp_£t
 = 
	`CACHE_SET
 (
ÿche_dl1
[
Th»adid
], 
addr
);

9221 
blk
 = 
ÿche_dl1
[
Th»adid
]->
£ts
[
‹mp_£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9223 ià((
blk
->
gid
.
g
 =ğ
‹mp_g
è&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9225 
blk
->
¡©e
 = 
MESI_INVALID
;

9226 
blk
->
¡©us
 = 0;

9232 
»¶
->
dœ_sh¬”
[
i
][0] = 0;

9233 
»¶
->
dœ_sh¬”
[
i
][1] = 0;

9234 
»¶
->
dœ_sh¬”
[
i
][2] = 0;

9235 
»¶
->
dœ_sh¬”
[
i
][3] = 0;

9241 
»¶
->
dœ_¡©e
[
block_off£t
] = 
DIR_STABLE
;

9242 
»¶
->
gid
.
g
 = 
g_dœ
;

9243 
»¶
->
gid
.
th»adid
 =hreadid;

9244 
»¶
->
addr
 =‡ddr;

9245 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

9246 
»¶
->
»ady
 = 0;

9247 
»¶
->
dœ_dœty
[
block_off£t
] = -1;

9248 #ifdeà
NEW_WARMUP


9249 if(
cmd
 =ğ
R—d
)

9251 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_EXCLUSIVE
;

9252 
»¶
->
dœ_dœty
[
block_off£t
] = -1;

9256 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_MODIFIED
;

9257 if(
	`¡rcmp
 (
ı
->
Çme
, "il1"))

9258 
»¶
->
dœ_dœty
[
block_off£t
] = 
th»adid
;

9260 
»¶
->
dœ_dœty
[
block_off£t
] = -1;

9263 
»¶
->
dœ_blk_¡©e
[
block_off£t
] = 
MESI_SHARED
;

9266 if(
	`¡rcmp
 (
ı
->
Çme
, "il1"))

9267 
»¶
->
dœ_sh¬”
[
block_off£t
][
th»adid
/64] = ()1<<(threadid%64);

9270 
»¶
->
dœ_sh¬”
[
block_off£t
][0] = 0;

9271 
»¶
->
dœ_sh¬”
[
block_off£t
][1] = 0;

9272 
»¶
->
dœ_sh¬”
[
block_off£t
][2] = 0;

9273 
»¶
->
dœ_sh¬”
[
block_off£t
][3] = 0;

9276 
ÿche_dl2
->
Ï¡_g£tid
.
g
 = 0;

9277 
ÿche_dl2
->
Ï¡_g£tid
.
th»adid
 =hreadid;

9278 
ÿche_dl2
->
Ï¡_blk
 = 
»¶
;

9280 ià(
ÿche_dl2
->
hsize
)

9281 
	`lšk_hb_’t
(
ÿche_dl2
, &ÿche_dl2->
£ts
[
£t_dœ
], 
»¶
);

9282 #ifdeà
NEW_WARMUP


9283 
»¶1
 = 
»¶
;

9288 (
ı
)->
pŞicy
)

9290 
bšdex
;

9291 
LRU
:

9292 
FIFO
:

9293 
»¶
 = (
ı
)->
£ts
[
£t
].
way_
;

9294 
	`upd©e_way_li¡
 (&(
ı
)->
£ts
[
£t
], 
»¶
, 
H—d
);

9296 
Rªdom
:

9297 
bšdex
 = 
	`my¿nd
 (è& ((
ı
)->
assoc
 - 1);

9298 
»¶
 = 
	`CACHE_BINDEX
 ((
ı
), (ı)->
£ts
[
£t
].
blks
, 
bšdex
);

9301 
	`·nic
 ("bogus„eplacement…olicy");

9304 
»¶
->
gid
.
g
 =ag;

9305 
»¶
->
gid
.
th»adid
 =hreadid;

9306 
»¶
->
addr
 =‡ddr;

9307 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

9308 #ifdeà
NEW_WARMUP


9309 
»¶
->
¡©e
 = 
»¶1
->
dœ_blk_¡©e
[
block_off£t
];

9311 
»¶
->
¡©e
 = 
MESI_SHARED
;

9313 
»¶
->
»ady
 = 0;

9315 
ı
->
Ï¡_g£tid
.
g
 = 0;

9316 
ı
->
Ï¡_g£tid
.
th»adid
 =hreadid;

9317 
ı
->
Ï¡_blk
 = 
»¶
;

9319 ià((
ı
)->
hsize
)

9320 
	`lšk_hb_’t
((
ı
), &(ı)->
£ts
[
£t
], 
»¶
);

9321 
	}
}

9323 
	$isLšeInv®id©ed
(
md_addr_t
 
addr
, 
th»adid
)

9325 
ÿche_t
 *
ı
 = 
ÿche_dl1
[
th»adid
];

9326 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

9327 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

9328 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

9329 
ÿche_blk_t
 *
blk
;

9331 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9333 ià((
blk
->
gid
.
g
 =ğgè&& !(blk->
¡©us
 & 
CACHE_BLK_VALID
))

9337 
	}
}

9340 
	$ÿche_´št
 (
ÿche_t
 *
ı1
, ÿche_ˆ*
ı2
)

9342 
	`årštf
 (
¡d”r
, "ZZ L1D stats\n");

9343 
	`årštf
 (
¡d”r
, "ZZ %ld %ld %ld %ld %lu\n", 
rm1
, 
rh1
, 
wm1
, 
wh1
, (è
ı1
->
wr™ebacks
);

9344 
	`årštf
 (
¡d”r
, "ZZ UL2 stats\n");

9345 ià(
ı2
)

9346 
	`årštf
 (
¡d”r
, "ZZ %ld %ld %ld %ld %lu\n", 
rm2
, 
rh2
, 
wm2
, 
wh2
, (è
ı2
->
wr™ebacks
);

9347 
	}
}

9351 
	$sim¶e_ÿche_æush
 (
ÿche_t
 *
ı
)

9353 
i
, 
numæush
;

9354 
ÿche_blk_t
 *
blk
;

9356 #ifdeà
TOKENB


9357 
	`çl
 ("needo updatehis funco‡ccount for TOKENB coherence.");

9360 
numæush
 = 0;

9361 
i
 = 0; i < 
ı
->
n£ts
; i++)

9363 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9365 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

9368 
blk
->
¡©us
 = 0;

9369 
blk
->
isSË
 = 0;

9371 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

9373 ià(
cŞËù_¡©s
)

9374 
ı
->
wr™ebacks
++;

9375 
numæush
++;

9381  
numæush
;

9382 
	}
}

9386 
	$ÿche_æush
 (
ÿche_t
 *
ı
,

9387 
tick_t
 
now
)

9390 
i
, 
Ït
 = 
ı
->
h™_Ï‹ncy
;

9391 
ÿche_blk_t
 *
blk
;

9394 
ı
->
Ï¡_g£tid
.
g
 = 0;

9395 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

9396 
ı
->
Ï¡_blk
 = 
NULL
;

9399 
i
 = 0; i < 
ı
->
n£ts
; i++)

9401 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9403 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

9407 
blk
->
¡©us
 = 0;

9408 
blk
->
isSË
 = 0;

9409 
blk
->
¡©e
 = 
MESI_INVALID
;

9410 
blk
->
švCau£
 = 0;

9414  
Ït
;

9415 
	}
}

9419 
	$ÿcheBcİy
 (
mem_cmd
 
cmd
, 
ÿche_blk_t
 *
blk
, 
pos™iÚ
, 
by‹_t
 * 
d©a
, 
nby‹s
)

9421 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
pos™iÚ
, 
d©a
, 
nby‹s
);

9422 
	}
}

9424 
	$isCacheH™
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
)

9426 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"è&& cp->
th»adid
 !=hreadid)

9427 
	`·nic
 ("Wrond DL1 cache being called in cache‡ccess\n");

9429 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

9430 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

9431 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

9432 
ÿche_blk_t
 *
blk
;

9434 ià(
ı
->
hsize
)

9437 
hšdex
 = (è
	`CACHE_HASH
 (
ı
, 
g
);

9439 
blk
 = 
ı
->
£ts
[
£t
].
hash
[
hšdex
]; blk; blk = blk->
hash_Ãxt
)

9441 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9448 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9450 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9455 
	}
}

9457 #ià 
defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

9459 
	$busIn™
 ()

9461 
i
, 
j
;

9463 
j
 = 
BUSSLOTS
 * 
NUMBEROFBUSES
;

9465 
bs_nd
 *
lšk
;

9467 
busNodePoŞ
 = 
NULL
;

9469 
i
 = 0; i < 
j
; i++)

9471 
lšk
 = 
	`ÿÎoc
 (1,  (
bs_nd
));

9472 ià(!
lšk
)

9473 
	`çl
 ("out of virtual memory");

9474 
lšk
->
Ãxt
 = 
busNodePoŞ
;

9475 
busNodePoŞ
 = 
lšk
;

9477 #ifdeà
BUS_INTERCONNECT


9478 
i
 = 0; i < 
NUMBEROFBUSES
; i++)

9479 
busNodesInU£
[
i
] = 
NULL
;

9481 
	}
}

9487 
	$L2šşusiÚFunc
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
)

9489 
i
, 
út
, 
j
;

9490 
bsize
 = 
ı
->bsize;

9491 
mask
 = ~
ı
->
blk_mask
;

9492 
md_addr_t
 
tAddr
;

9493 
ÿche_t
 *
ı2
;

9494 
md_addr_t
 
g
;

9495 
md_addr_t
 
£t
;

9496 
ÿche_blk_t
 *
blk
;

9498 
út
 = (
ı
->
bsize
 / 
ÿche_dl1
[0]->bsize);

9499 
tAddr
 = (
addr
 & 
mask
);

9500 
i
 = 0; i < 
numcÚ‹xts
; i++)

9502 #ifdef 
EDA


9503 ià(
thecÚ‹xts
[
i
]->
ma¡”id
 != 0)

9506 
ı2
 = 
ÿche_dl1
[
i
];

9507 
j
 = 0; j < 
út
; j++)

9509 
addr
 = 
tAddr
 + (
j
 * 
ı2
->
bsize
);

9510 
g
 = 
	`CACHE_TAG
 (
ı2
, 
addr
);

9511 
£t
 = 
	`CACHE_SET
 (
ı2
, 
addr
);

9513 
blk
 = 
ı2
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

9515 #ifdeà
SMT_SS


9516 ià((
blk
->
gid
.
g
 =ğgè&& (blk->gid.
th»adid
 =ğ
i
è&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9518 ià(
blk
->
g
 =ğg && (blk->
¡©us
 & 
CACHE_BLK_VALID
))

9522 ià(
blk
)

9524 
blk
->
¡©us
 = 0;

9525 
blk
->
¡©e
 = 
MESI_INVALID
;

9526 
blk
->
švCau£
 = 0;

9527 
	`upd©e_way_li¡
 (&
ı2
->
£ts
[
£t
], 
blk
, 
Ta
);

9532  
ÿche_dl1
[0]->
h™_Ï‹ncy
;

9533 
	}
}

	@cache_o.h

124 #iâdeà
CACHE_H


125 
	#CACHE_H


	)

127 
	~<¡dio.h
>

129 
	~"ho¡.h
"

130 
	~"misc.h
"

131 
	~"machše.h
"

132 
	~"memÜy.h
"

133 
	~"¡©s.h
"

135 
	~"smt.h
"

136 
	~"š‹rcÚÃù.h
"

137 
	~"sim-outÜd”.h
"

145 
	#SILENT_DROP


	)

149 
	#OPTIMIZED_OPTICAL_NETWORK


	)

151 
	#MESH_NETWORK


	)

154 #ifdeà
MESH_NETWORK


155 
	#POPNET


	)

158 
	#MULTI_VC


	)

162 #ifdeà
BASELINE_OPTICAL_NETWORK


163 
	#OPTICAL_INTERCONNECT


	)

169 #ifdeà
OPTIMIZED_OPTICAL_NETWORK


170 
	#OPTICAL_INTERCONNECT


171 

	)

173 
	#INV_ACK_CON


174 
	#WB_SPLIT_NET


175 

	)

181 
	#TSHR


	)

184 #ifdeà
CACHE_COHERENCE_OPTIMIZATION


185 #ifdeà
RELAXED_CONSISTENCY


186 
	#SERIALIZATION_ACK


	)

187 
	#READ_PERMIT


	)

188 #ifdeà
OPTICAL_INTERCONNECT


189 
	#EUP_NETWORK


	)

196 #ifdeà
POPNET


197 
Ord”BufRemove
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
couÁ”_t
 
msgno
);

198 
Ord”BufIn£¹
(
s1
, 
s2
, 
d1
, 
d2
, 
md_addr_t
 
addr
, 
vc
, 
couÁ”_t
 
msgno
);

201 #ifdeà
EUP_NETWORK


202 
	#MAX_EUP_ENTRY
 16

	)

203 
	sEUP_ENTRY
{

204 
md_addr_t
 
	maddr
;

205 
	misV®id
;

206 
	mowÃr
;

209 
	sEUP_ENTRY_QUEUE
{

210 
EUP_ENTRY
 
	mEÁry
[
MAX_EUP_ENTRY
];

211 
	mä“_EÁr›s
;

214 
EUP_ENTRY_QUEUE
 
	gEUP_’Œy
[
MAXTHREADS
];

217 #ifdeà
INV_ACK_CON


218 
couÁ”_t
 
	g³ndšg_šv®id©iÚ
[
MAXTHREADS
];

219 
couÁ”_t
 
	g³ndšg_šv®id_¡¬t_cyşes
[
MAXTHREADS
];

220 
couÁ”_t
 
	g³ndšg_šv®id_cyşes
;

223 
	gd©a_·ck‘_size
;

224 
	gm‘a_·ck‘_size
;

225 #ifdeà
POPNETn


226 
	gd©a_·ck‘_size
 = 5;

227 
	gm‘a_·ck‘_size
 = 1;

230 
	#DCACHE_MSHR


	)

232 
	#WAIT_TIME
 800000000

	)

233 
	#RETRY_TIME
 1

	)

234 #ifdef 
DCACHE_MSHR


235 
	#MSHR_SIZE
 32

	)

236 
	#L2_MSHR_SIZE
 48

	)

237 
	#MSHR_OC_SIZE
 15

	)

239 #ifdeà
CONF_RES_RESEND


240 
	#QUEUE_SIZE
 100

	)

243 
	smshr_’Œy_t


245 
	mid
;

246 
	misV®id
;

247 
md_addr_t
 
	maddr
;

248 
couÁ”_t
 
	m¡¬tCyşe
;

249 
couÁ”_t
 
	m’dCyşe
;

250 
	mblocknum
;

251 
	misOC
;

252 
RUU_¡©iÚ
 *
	mrs
;

253 
DIRECTORY_EVENT
 *
	mev’t
;

256 
	smshr_t


258 
	mth»adid
;

259 
mshr_’Œy_t
 
	mmshrEÁry
[
L2_MSHR_SIZE
];

260 
	mä“EÁr›s
;

261 
	mä“OCEÁr›s
;

262 
	mmshrSIZE
;

265 
md_addr_t
 
	gwb_bufãr
[
MAXTHREADS
][
MSHR_SIZE
];

266 
š™MSHR
(
mshr_t
 *
mshr
, 
æag
);

267 
ä“MSHR
(
mshr_t
 *
mshr
);

268 
isMSHRFuÎ
(
mshr_t
 *
mshr
, 
isOC
, 
th»adid
);

269 
MSHRLookup
(
mshr_t
 *
mshr
, 
md_addr_t
 
addr
, 
Ït
, 
isOC
, 
RUU_¡©iÚ
 *
rs
);

273 #ifdeà
SERIALIZATION_ACK


274 
	#MAX_OWNERS
 2

	)

275 
	#INV_COLLECT_TABLE_SIZE
 8

	)

276 
	sšvCŞËùEÁry_t


278 
	misV®id
;

279 
md_addr_t
 
	maddr
;

280 
	m³ndšgInv
;

281 
	mnumOwÃrs
;

282 
	mowÃrsLi¡
[
MAX_OWNERS
];

283 
	mack_cÚf
[
MAX_OWNERS
];

286 
švCŞËùEÁry_t
 
	gšvCŞËùTabË
[
MAXTHREADS
][
INV_COLLECT_TABLE_SIZE
];

287 
	gnumStÜeP’dšg
[
MAXTHREADS
];

288 #ifdeà
READ_PERMIT


289 
	gnumLßdP’dšg
[
MAXTHREADS
];

295 
	#MEM_MODEL


296 
	#STREAM_PREFETCHER


297 
	#L1_STREAM_PREFETCHER


	)

299 #ifdeà 
STREAM_PREFETCHER


300 
	#MISS_TABLE_SIZE
 16

	)

301 
	#STREAM_ENTRIES
 8

	)

302 
	#PREFETCH_DISTANCE
 16

	)

303 
	smiss_hi¡Üy_bË_t


305 
md_addr_t
 
	mhi¡Üy
[
MISS_TABLE_SIZE
];

306 
	mmht_
;

307 
	mmht_num
;

310 
	s¡»am_bË_’Œy_t


312 
	mv®id
;

313 
md_addr_t
 
	maddr
;

314 
	m¡ride
;

315 
	m»maššg_´eãtches
;

316 
couÁ”_t
 
	mÏ¡_u£
;

319 
miss_hi¡Üy_bË_t
 
	gmiss_hi¡Üy_bË
;

320 
¡»am_bË_’Œy_t
 
	g¡»am_bË
[
STREAM_ENTRIES
];

322 
š™_¥
();

323 
š£¹_¥
(
md_addr_t
 
addr
, 
th»adid
);

324 
Ïunch_¥
(
md_addr_t
 
addr
, 
th»adid
);

326 #ifdeà
L1_STREAM_PREFETCHER


327 
miss_hi¡Üy_bË_t
 
	gl1miss_hi¡Üy_bË
[
MAXTHREADS
];

328 
¡»am_bË_’Œy_t
 
	gl1¡»am_bË
[
MAXTHREADS
][
STREAM_ENTRIES
];

330 
l1š™_¥
();

331 
l1š£¹_¥
(
md_addr_t
 
addr
, 
th»adid
);

332 
l1Ïunch_¥
(
md_addr_t
 
addr
, 
th»adid
);

335 #ifdeà
CROSSBAR_INTERCONNECT


336 
	#NUMBEROFBUSES
 8

	)

340 #ifdeà
BUS_INTERCONNECT


341 
	#NUMBEROFBUSES
 1

	)

343 
	#BUSSLOTS
 2048

	)

344 
	sbs_nd


346 
	m¡¬tTime
, 
	m’dTime
;

347 
	macûssTy³
, 
	mth»adid
;

348 
bs_nd
 *
	mÃxt
;

387 
	#CACHE_HIGHLY_ASSOC
(
ı
è((ı)->
assoc
 > 4)

	)

390 
	#CACHE_TAG
(
ı
, 
addr
è(×ddrè>> (ı)->
g_shiá
)

	)

391 
	#CACHE_SET
(
ı
, 
addr
è((×ddrè>> (ı)->
£t_shiá
è& (ı)->
£t_mask
)

	)

392 
	#CACHE_BLK
(
ı
, 
addr
è(×ddrè& (ı)->
blk_mask
)

	)

393 
	#CACHE_TAGSET
(
ı
, 
addr
è(×ddrè& (ı)->
g£t_mask
)

	)

396 
	eÿche_pŞicy
 {

397 
	mLRU
,

398 
	mRªdom
,

399 
	mFIFO


403 
	#CACHE_BLK_VALID
 0x00000001

	)

404 
	#CACHE_BLK_DIRTY
 0x00000002

	)

405 
	#CACHE_BLK_WVALID
 0x00000004

	)

406 
	#MESI_INVALID
 1

	)

407 
	#MESI_SHARED
 2

	)

408 
	#MESI_MODIFIED
 3

	)

409 
	#MESI_EXCLUSIVE
 4

	)

411 
	#WRITE_HIT_SHARED
 1

	)

415 
	#IDEAL_CASE
 1

	)

417 
	#MISS_IL1
 2

	)

418 
	#MISS_READ
 3

	)

419 
	#MISS_WRITE
 4

	)

420 
	#WRITE_UPDATE
 5

	)

421 
	#WRITE_BACK
 6

	)

422 
	#WRITE_BACK_HEAD
 7

	)

423 
	#WRITE_BACK_REPLY
 8

	)

424 
	#UPDATE_DIR
 9

	)

426 
	#INV_MSG_READ
 10

	)

427 
	#INV_MSG_WRITE
 11

	)

429 
	#ACK_MSG_READ
 12

	)

430 
	#ACK_MSG_READUPDATE
 13

	)

431 
	#ACK_MSG_WRITE
 14

	)

432 
	#ACK_MSG_WRITEUPDATE
 15

	)

434 
	#ACK_DIR_IL1
 16

	)

435 
	#ACK_DIR_READ_SHARED
 17

	)

436 
	#ACK_DIR_READ_EXCLUSIVE
 18

	)

437 
	#ACK_DIR_WRITE
 19

	)

438 
	#ACK_DIR_WRITE_EARLY
 20

	)

439 
	#ACK_DIR_WRITEUPDATE
 21

	)

441 
	#WAIT_MEM_READ
 22

	)

442 
	#WAIT_MEM_READ_N
 23

	)

443 
	#L2_PREFETCH
 24

	)

445 
	#NACK
 25

	)

446 
	#FAIL
 26

	)

447 
	#FINAL_INV_ACK
 27

	)

448 
	#MEM_READ_REQ
 28

	)

449 
	#MEM_READ_REPLY
 29

	)

450 
	#WAIT_MEM_READ_NBLK
 30

	)

451 
	#MEM_WRITE_BACK
 31

	)

452 
	#MEM_PACK_HEAD
 32

	)

453 
	#MEM_PACK_REPLY
 33

	)

454 
	#FINAL_READ_ACK
 34

	)

456 
	#ACK_MSG_UPDATE
 35

	)

457 
	#INV_MSG_UPDATE
 36

	)

458 #ifdeà
COHERENCE_MODIFIED


459 
	#WRITE_INDICATE
 37

	)

461 #ifdeà
PREFETCH_OPTI


462 
	#L1_PREFETCH
 38

	)

463 
	#READ_COHERENCE_UPDATE
 39

	)

464 
	#WRITE_COHERENCE_UPDATE
 40

	)

465 
	#READ_DATA_REPLY_EXCLUSIVE
 41

	)

466 
	#READ_DATA_REPLY_SHARED
 42

	)

467 
	#READ_META_REPLY_EXCLUSIVE
 43

	)

468 
	#READ_META_REPLY_SHARED
 44

	)

469 
	#WRITE_DATA_REPLY
 45

	)

470 
	#WRITE_META_REPLY
 46

	)

474 
	#DIR_STABLE
 1

	)

475 
	#DIR_TRANSITION
 2

	)

476 
	#INV_TYPE
 3

	)

477 
	#REPL_TYPE
 4

	)

479 
	#REQ_PACKET
 1

	)

480 
	#DATA_PACKET
 4

	)

483 
	#LINE_PREFETCH
 1

	)

484 
	#LINE_READ
 2

	)

485 
	#LINE_WRITE
 3

	)

488 
	#LINE_READ_OP
 1

	)

489 
	#LINE_WRITE_OP
 2

	)

492 
	#MY_NORMAL
 0

	)

493 
	#MY_LDL
 1

	)

494 
	#MY_LDL_L
 2

	)

495 
	#MY_STL_C
 3

	)

496 
	#MY_STL
 4

	)

499 #ifdeà
SMT_SS


500 
	sg_id_t


502 
	mth»adid
;

503 
md_addr_t
 
	mg
;

507 #ifdeà
EVENT_CACHE_UPDATE


508 
	smshrq
 {

510 
	mwh’
;

511 
	mrd_wt
;

512 
md_addr_t
 
	maddr
;

513 
mshrq
 *
	mÃxt
;

514 
mshrq
 *
	m´ev
;

523 
	sÿche_blk_t


525 
ÿche_blk_t
 *
	mway_Ãxt
;

527 
ÿche_blk_t
 *
	mway_´ev
;

528 
ÿche_blk_t
 *
	mhash_Ãxt
;

532 #ifdeà
SMT_SS


533 
g_id_t
 
	mgid
;

535 
md_addr_t
 
	mg
;

537 
	m¡©us
;

538 
tick_t
 
	m»ady
;

541 
	m¡©e
;

542 
	misSË
;

543 
md_addr_t
 
	maddr
;

545 
	mÏ¡Thrd
;

546 
	mv®ue
;

547 
	mlšeVŞ©e
;

548 
	mwÜdVŞ©e
, 
	mwÜdInv®id
;

549 
	m•ochModif›d
;

550 
	misL1´eãtch
;

551 
couÁ”_t
 
	m´eãtch_time
;

552 #ifdeà
PREFETCH_OPTI


553 
	mdœ_´eãtch
[8][
MAXTHREADS
];

554 
	mdœ_´eãtch_num
[8];

555 
	m´eãtch_šv®id©e
[8];

556 
	m´eãtch_modif›d
[8];

558 
	mdœ_¡©e
[8];

559 
	mdœ_sh¬”
[8][8];

560 
couÁ”_t
 
	mexşusive_time
[8];

561 
	mdœ_dœty
[8];

562 
	mdœ_blk_¡©e
[8];

563 
	mev”_wb
;

566 
	mev”_dœty
;

567 
	mev”_touch
;

568 
	mIswb_to_mem
;

569 
	mR—dCouÁ
;

570 
	mWr™eCouÁ
;

571 
	mWÜdCouÁ
;

572 
	mTy³
;

573 
	mWÜdU£FÏg
[8];

574 
DIRECTORY_EVENT
 *
	m±r_cur_ev’t
[8];

575 #ifdeà
SERIALIZATION_ACK


576 
	m³ndšgInvAck
[8];

577 
	mR—dP’dšg
[8];

578 
DIRECTORY_EVENT
 *
	mR—dP’dšg_ev’t
[8];

580 #ifdeà
EUP_NETWORK


581 
	m—¾y_nÙifiÿtiÚ
;

583 
	mblkAlocR—sÚ
;

584 
	mblkImdtOp
;

585 
	mblkNextOps
;

587 
by‹_t
 *
	mu£r_d©a
;

592 
by‹_t
 
	md©a
[1];

595 
	mÏ¡Modif›d
, 
	mÏ¡Acûs£d
;

596 
	mmodif›dThisEpoch
;

597 
	mmodif›dByMe
;

598 
	mšvCau£
;

602 
	sÿche_£t_t


604 
ÿche_blk_t
 **
	mhash
;

606 
ÿche_blk_t
 *
	mway_h—d
;

607 
ÿche_blk_t
 *
	mway_
;

608 
ÿche_blk_t
 *
	mblks
;

614 
	sÿche_t


617 *
	mÇme
;

618 
	mn£ts
;

619 
	mbsize
;

620 
	mb®loc
;

621 
	musize
;

622 
	massoc
;

623 
ÿche_pŞicy
 
	mpŞicy
;

624 
	mh™_Ï‹ncy
;

636 (*
	mblk_acûss_â
)(
mem_cmd
 
	mcmd
,

637 
md_addr_t
 
	mbaddr
,

638 
	mbsize
,

639 
ÿche_blk_t
 *
	mblk
,

640 #ifdeà
SMT_SS


641 
tick_t
 
	mnow
,

642 
	mth»adid


643 #ià
defšed
Ğ
L2_COMM_LAT
è|| defšed (
TOKENB
)

644 , 
	mşu¡”


648 
tick_t
 
	mnow
);

652 
	mhsize
;

653 
md_addr_t
 
	mblk_mask
;

654 
	m£t_shiá
;

655 
md_addr_t
 
	m£t_mask
;

656 
	mg_shiá
;

657 
md_addr_t
 
	mg_mask
;

658 
md_addr_t
 
	mg£t_mask
;

661 
tick_t
 
	mbus_ä“
;

671 
couÁ”_t
 
	mh™s
;

672 
couÁ”_t
 
	mdh™s
;

673 
couÁ”_t
 
	mmis£s
;

674 
couÁ”_t
 
	mdmis£s
;

675 
couÁ”_t
 
	mcoh”’û_mis£s
;

676 
couÁ”_t
 
	mÿ·c™ªû_mis£s
;

677 
couÁ”_t
 
	m»¶aûm’ts
;

678 
couÁ”_t
 
	m»¶Inv
;

679 
couÁ”_t
 
	mwr™ebacks
;

680 
couÁ”_t
 
	mwb_coh”’û_w
;

681 
couÁ”_t
 
	mwb_coh”’û_r
;

682 
couÁ”_t
 
	mšv®id©iÚs
;

683 
couÁ”_t
 
	mcoh”’cyMis£s
;

684 
couÁ”_t
 
	mcoh”’cyMis£sOC
;

687 
couÁ”_t
 
	mš_mshr
;

688 
couÁ”_t
 
	mdš_mshr
;

689 
couÁ”_t
 
	mdœ_nÙifiÿtiÚ
;

690 
couÁ”_t
 
	mInv®id_R—d_»ûived
;

691 
couÁ”_t
 
	mInv®id_wr™e_»ûived
;

692 
couÁ”_t
 
	mInv®id_R—d_»ûived_h™s
;

693 
couÁ”_t
 
	mInv®id_wr™e_»ûived_h™s
;

694 
couÁ”_t
 
	me_to_i
;

695 
couÁ”_t
 
	me_to_m
;

696 
couÁ”_t
 
	ms_to_i
;

698 
couÁ”_t
 
	mack_»ûived
;

699 
couÁ”_t
 
	mL2_acûss
;

700 
couÁ”_t
 
	mdœ_acûss
;

701 
couÁ”_t
 
	md©a_acûss
;

702 
couÁ”_t
 
	mloÿldœeùÜy
;

703 
couÁ”_t
 
	m»mÙedœeùÜy
;

704 
couÁ”_t
 
	m£ndInv®id
, 
	mšv®idDÚe
, 
	mwasInv®id©ed
;

706 
couÁ”_t
 
	mæushCouÁ
, 
	mlšeFlushCouÁ
;

709 
	mrdb
;

710 
	mwrb
;

711 
	mped–ay
;

712 
	mwrbufsize
;

713 
	mÏ¡u£
;

715 #ifdeà
EVENT_CACHE_UPDATE


716 
mshrq
 *
	mmshr_queue
;

720 #ifdeà
SMT_SS


721 
g_id_t
 
	mÏ¡_g£tid
;

723 
md_addr_t
 
	mÏ¡_g£t
;

725 
ÿche_blk_t
 *
	mÏ¡_blk
;

727 #ifdef 
DCACHE_MSHR


728 
mshr_t
 *
	mmshr
;

732 
by‹_t
 *
	md©a
;

734 
couÁ”_t
 
	mnumDiffThrds
;

738 
	mÏ¡Inv®id©e
;

739 
	mInvld
;

742 
	mšŒaThrdCÚæiù
;

743 
	mš‹rThrdCÚæiù
;

744 
	mCÚ£cutiveAcûss
;

747 
	mccLoÿlLßdS
;

748 
	mccLoÿlLßdX
;

749 
	mccLoÿlLßdM
;

750 
	mccLoÿlStÜeS
;

751 
	mccLoÿlStÜeX
;

752 
	mccLoÿlStÜeM
;

753 
	mccRemÙeLßdS
;

754 
	mccRemÙeLßdX
;

755 
	mccRemÙeLßdM
;

756 
	mccRemÙeStÜeS
;

757 
	mccRemÙeStÜeX
;

758 
	mccRemÙeStÜeM
;

761 
	mSRLoÿlLßdS
;

762 
	mSRLoÿlLßdX
;

763 
	mSRLoÿlLßdM
;

764 
	mSRLoÿlStÜeS
;

765 
	mSRLoÿlStÜeX
;

766 
	mSRLoÿlStÜeM
;

767 
	mSRRemÙeLßdS
;

768 
	mSRRemÙeLßdX
;

769 
	mSRRemÙeLßdM
;

770 
	mSRRemÙeStÜeS
;

771 
	mSRRemÙeStÜeX
;

772 
	mSRRemÙeStÜeM
;

774 
	mglLoÿlH™
;

775 
	mglRemÙeH™
;

777 
	mNumAcûs£s
;

779 
	mth»adid
;

783 
ÿche_£t_t
 
	m£ts
[1];

787 
ÿche_t
 *

788 
ÿche_ü—‹
(*
Çme
,

789 
n£ts
,

790 
bsize
,

791 
b®loc
,

792 
usize
,

793 
assoc
,

794 
ÿche_pŞicy
 
pŞicy
,

796 (*
blk_acûss_â
)(
mem_cmd
 
cmd
,

797 
md_addr_t
 
baddr
, 
bsize
,

798 
ÿche_blk_t
 *
blk
,

799 #ifdeà
SMT_SS


800 
tick_t
 
now
,

802 
th»adid


803 #ià
	`defšed
Ğ
L2_COMM_LAT
è|| defšed (
TOKENB
)

804 , 
şu¡”


808 
tick_t
 
now
),

810 
h™_Ï‹ncy
,

811 
th»adid
);

814 
ÿche_pŞicy


815 
	`ÿche_ch¬2pŞicy
(
c
);

819 
	`ÿche_cÚfig
(
ÿche_t
 *
ı
,

820 
FILE
 *
¡»am
);

823 
	`ÿche_»g_¡©s
(
ÿche_t
 *
ı
, 
¡©_sdb_t
 *
sdb
, 
id
);

829 
	`ÿche_¡©s
(
ÿche_t
 *
ı
,

830 
FILE
 *
¡»am
);

840 #ifdeà
SMT_SS


853 
	`ÿche_acûss
(
ÿche_t
 *
ı
,

854 
mem_cmd
 
cmd
,

855 
md_addr_t
 
addr
,

856 *
vp
,

857 
nby‹s
,

858 
tick_t
 
now
,

859 
by‹_t
 **
ud©a
,

860 
md_addr_t
 *
»¶_addr


861 
RUU_¡©iÚ
 *
rs
,

862 
th»adid
,

863 #ifdeà
SMD_USE_WRITE_BUF


864 
m_L1WBufEÁry
 *
l1_wb_’Œy


869 
	`ÿche_w¬mup
 (
ÿche_t
 *
ı
,

870 
mem_cmd
 
cmd
,

871 
md_addr_t
 
addr
,

872 
nby‹s
,

873 
th»adid
);

874 
	`isLšeInv®id©ed
(
md_addr_t
 
addr
, 
th»adid
);

878 #ià
	`defšed
Ğ
L2_COMM_LAT
è|| defšed (
TOKENB
)

879 
	#ÿche_doubË
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

880 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

881 
	#ÿche_æßt
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

882 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

883 
	#ÿche_dwÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

884 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

885 
	#ÿche_wÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

886 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

887 
	#ÿche_h®f
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

888 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

889 
	#ÿche_by‹
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
, 
ş
è\

	)

890 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
, 
ş
)

892 
	#ÿche_doubË
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

893 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

894 
	#ÿche_æßt
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

895 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

896 
	#ÿche_dwÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

897 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

898 
	#ÿche_wÜd
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

899 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

900 
	#ÿche_h®f
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

901 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

902 
	#ÿche_by‹
(
ı
, 
cmd
, 
addr
, 
p
, 
now
, 
ud©a
è\

	)

903 
	`ÿche_acûss
(
ı
, 
cmd
, 
addr
, 
p
, (), 
now
, 
ud©a
)

908 
	`m¬kCacheNewEpoch
(
ÿche_t
 *
ı
, );

910 
	`busF»e
();

911 
	`busIn™
();

912 
	`m¬kCacheLše
(
ÿche_t
 *, 
md_addr_t
, );

914 
	`ÿche_m¬k_vŞ©e
(
ÿche_t
 *
ı
,

915 
md_addr_t
 
addr
,

916 
tick_t
 
now
,

917 
th»adid
, );

920 
	`ÿche_æush_vŞ©e
(
ÿche_t
 *
ı
,

921 
tick_t
 
now
,

922 
th»adid
, );

925 
	`check_fÜ_l1_miss
(
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
);

927 
	`upd©eBlockL©
(
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
, 
Ït
);

929 
	`checkR•Ïûm’tStus
(
id
, 
md_addr_t
 
addr
);

935 
	`ÿche_´obe
(
ÿche_t
 *
ı
,

936 
md_addr_t
 
addr
);

940 
	`ÿche_æush
(
ÿche_t
 *
ı
,

941 
tick_t
 
now
);

945 #ifdeà
SMT_SS


947 
	`ÿche_æush_addr
(
ÿche_t
 *
ı
,

948 
md_addr_t
 
addr
,

949 
tick_t
 
now
,

950 
th»adid
);

953 
	`ÿche_æush_addr
(
ÿche_t
 *
ı
,

954 
md_addr_t
 
addr
,

955 
tick_t
 
now
);

957 #ifdeà
EVENT_CACHE_UPDATE


958 
	`š£¹_mshr
(
ÿche_t
 *,,,
md_addr_t
,);

962 
	`ÿcheBcİy
(
mem_cmd
 
cmd
, 
ÿche_blk_t
 *
blk
, 
pos™iÚ
, 
by‹_t
 *
d©a
, 
nby‹s
);

963 
	`L2šşusiÚFunc
(
ÿche_t
 *
ı
, 
md_addr_t
 
addr
);

964 
	`isCacheH™
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
th»adid
);

966 #ifdef 
EDA


967 
	`ÿcheBlockS—rch
(
ÿche_t
 * 
ı
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, 
by‹_t
 *
d©a
, 
nby‹s
);

968 
	`æushS–eùive
(
ÿche_t
 *
ı
, 
id
);

971 
	sDIRECTORY_EVENT


973 
md_İcode
 
İ
;

974 
isP»ãtch
;

975 
l2Stus
;

976 
couÁ”_t
 
l2MissS¹
;

977 
DIRECTORY_EVENT
 *
Ãxt
;

978 
tick_t
 
wh’
;

979 
tick_t
 
¡¬‹d
;

980 
tick_t
 
mshr_time
;

981 
tick_t
 
Œªsãr_time
;

982 
tick_t
 
»q_time
;

983 
¡Üe_cÚd
;

984 
æ_æag
;

985 #ifdeà
EXCLUSIVE_OPT


986 
exşusive_aá”_wb
;

988 #ifdeà
EUP_NETWORK


989 
—¾y_æag
;

992 
šput_bufãr_fuÎ
;

993 
³ndšg_æag
;

994 
L2miss_æag
;

995 
L2miss_¡©ed
;

996 
L2miss_com¶‘e
;

997 
dœty_æag
;

998 
couÁ”_t
 
¬riv®_time
;

999 
d–ay
;

1000 
d©a_»¶y
;

1001 
cÚf_b™
;

1002 
couÁ”_t
 
missNo
;

1003 
couÁ”_t
 
tÙ®ev’tcouÁ
;

1004 
»£nd
;

1005 
İ”©iÚ
;

1006 
‹mpID
;

1007 
md_addr_t
 
addr
;

1008 
ÿche_blk_t
 *
blk1
, *
blk_dœ
;

1010 
RS_lšk
 *
±r_ev’t
;

1011 
ÿche_t
 *
ı
;

1012 *
vp
;

1013 
nby‹s
;

1014 
by‹_t
 **
ud©a
;

1015 
mem_cmd
 
cmd
;

1016 
RUU_¡©iÚ
 *
rs
;

1017 #ifdeà
SMD_USE_WRITE_BUF


1018 
m_L1WBufEÁry
 *
l1_wb_’Œy
;

1020 
¤c1
, 
¤c2
, 
des1
, 
des2
, 
¡¬tCyşe
;

1021 
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
;

1022 
DIRECTORY_EVENT
 *
·»Á
;

1023 
·»Á_İ”©iÚ
;

1024 
chdCouÁ
, 
´oûssšgDÚe
, 
¥ec_mode
, 
Üigš®ChdCouÁ
;

1025 
couÁ”_t
 
pİÃtMsgNo
;

1026 
ev’tTy³
;

1027 
»c_busy
;

1028 
sh¬”_num
;

1029 
šdividu®_chdCouÁ
[8];

1030 
´eãtch_Ãxt
;

1031 
³ndšgInvAck
;

1032 
isExşusiveOrDœty
;

1033 
l1LšeU£Stus
;

1034 
isReqL2H™
;

1035 
isReqL2SecMiss
;

1036 
isReqL2Inv
;

1037 
isReqL2T¿ns
;

1038 
couÁ”_t
 
»qN‘Time
;

1039 
couÁ”_t
 
»qAtDœTime
;

1040 
couÁ”_t
 
»qAckTime
;

1041 
isSyncAcûss
;

1044 
	#EUP_NETWORKn


	)

1045 #ifdeà
EUP_NETWORKn


1046 
DIRECTORY_EVENT
 *
ä“_ev’t_li¡
;

1047 
	#maxEv’t
 30000

	)

1048 
	`®loÿ‹_ä“_ev’t_li¡
();

1050 #ifdeà
CONF_RES_RESEND


1051 
	sQUEUE_EVENT_ENTRY


1053 
DIRECTORY_EVENT
 *
ev’t
;

1054 
isv®id
;

1057 
	sQUEUE_EVENT


1059 
QUEUE_EVENT_ENTRY
 
Queue_’Œy
[
QUEUE_SIZE
];

1060 
ä“_EÁr›s
;

1065 
	#MEM_LOC_SHIFT
 1

	)

1067 
	#DIR_FIFO_PORTS
 2

	)

1068 
	#DIR_FIFO_SIZE
 4096

	)

1069 
	#dœ_fifo_size
 64

	)

1070 
	#DIR_FIFO_FULL


	)

1071 
	#MAXSIZE
 250

	)

1072 
dœ_fifo_fuÎ
[
MAXSIZE
];

1074 
DIRECTORY_EVENT
 *
dœ_fifo
[
MAXSIZE
][
DIR_FIFO_SIZE
];

1075 
dœ_fifo_h—d
[
MAXSIZE
];

1076 
dœ_fifo_
[
MAXSIZE
];

1077 
dœ_fifo_num
[
MAXSIZE
];

1078 
dœ_fifo_pÜtu£
[
MAXSIZE
];

1079 
	#TSHR_FIFO_SIZE
 1024

	)

1080 
	#tshr_fifo_size
 64

	)

1081 
DIRECTORY_EVENT
 *
tshr_fifo
[
MAXSIZE
][
TSHR_FIFO_SIZE
];

1082 
tshr_fifo_h—d
[
MAXSIZE
];

1083 
tshr_fifo_
[
MAXSIZE
];

1084 
tshr_fifo_num
[
MAXSIZE
];

1085 
tshr_fifo_pÜtu£
[
MAXSIZE
];

1088 
DIRECTORY_EVENT
 *
l1_fifo
[
MAXSIZE
][
DIR_FIFO_SIZE
];

1089 
l1_fifo_h—d
[
MAXSIZE
];

1090 
l1_fifo_
[
MAXSIZE
];

1091 
l1_fifo_num
[
MAXSIZE
];

1092 
l1_fifo_pÜtu£
[
MAXSIZE
];

1094 
	`»£t_pÜts
();

1095 
	`dœ_fifo_’queue
(
DIRECTORY_EVENT
 *
ev’t
, 
ty³
);

1096 
	`dœ_fifo_dequeue
();

1097 
	`£ndLSQInv
(
md_addr_t
 
addr
, 
th»adid
);

	@cache_update.c

115 
	~<¡dio.h
>

116 
	~<¡dlib.h
>

117 
	~<as£¹.h
>

118 
	~<m©h.h
>

120 
	~"ho¡.h
"

121 
	~"misc.h
"

122 
	~"machše.h
"

123 
	~"ÿche.h
"

125 
	~"smt.h
"

126 
	~"cÚ‹xt.h
"

128 #ifdeà
HOTLEAKAGE


130 
	~"ÿche_Ëak_ù¾.h
"

131 
	~"pow”.h
"

135 
tÙo
;

139 
	gglob®_tick
 = 0;

140 
	gn_»£ts
 = 0;

141 
	gloÿl_width
;

142 
	gglob®_width
;

143 
	gn_lšes
;

144 
	gg_size
;

145 
	gg_¬¿y_size
;

146 
	gv_addr_size
;

147 
	gÿche_size
;

149 
	gglob®_acûss_pow”
;

150 
	gglob®_af
;

151 
	gloÿl_acûss_pow”
;

152 
	gloÿl_af
;

153 
	gloÿl_»£t_pow”
;

157 
§m¶e_š‹rv®
;

158 
b_deÿy_’abËd
;

159 
b_deÿy_´ofe_’abËd
;

162 
couÁ”_t
 
	gsum_»®_miss
;

163 
couÁ”_t
 
	gsum_deÿy_ÿu£d_miss
;

164 
couÁ”_t
 
	gsum_»®_deÿy_ÿu£d_miss
;

165 
couÁ”_t
 
	gsum_çl£_deÿy_ÿu£d_miss
;

166 
couÁ”_t
 
	gšduûd_deÿy_mis£s
;

167 
couÁ”_t
 
	gšduûd_wbacks
;

168 
couÁ”_t
 
	g»®_deÿy_mis£s
;

170 #iâdef 
CACHE_CLEANUP


174 #ifdeà 
CACHE_CLEANUP


175 
yg¡RobId
;

176 
yg¡RobExId
;

179 #ià
defšed
(
ÿche_deÿy
)

180 
	#MAX_LIFE
 100

	)

181 
	#MAX_USAGE
 100

	)

182 
	#MAX_INTERVAL
 100

	)

183 
	#MAX_INTERVAL_FINE
 400

	)

186 
md_addr_t
 
cur_pc
;

189 
¡©_¡©_t
 *
	gn_»ad_´of
;

190 
¡©_¡©_t
 *
	gn_acûss_´of
;

192 
couÁ”_t
 
	gn_´ofed_blocks
;

194 
couÁ”_t
 
	gsum_acûss
;

195 
couÁ”_t
 
	gsum_live_time
;

196 
couÁ”_t
 
	gsum_d—d_time
;

198 
couÁ”_t
 
	gn_deÿy
, 
	gn_v®id_deÿy
, 
	gn_šv®id_deÿy
;

200 #ià(
deÿyed_ÿche
 =ğ
ÿche_dl2
)

201 
	#ACCESS_INTERVAL_STEP_FINE
 1000

	)

202 
	#ACCESS_INTERVAL_STEP
 10000

	)

203 
	#ACCESS_INTERVAL_STEP_COARSE
 100000

	)

204 
	#DEAD_TIME_STEP
 10000

	)

205 
	#DEAD_TIME_STEP_COARSE
 100000

	)

207 
	#ACCESS_INTERVAL_STEP_FINE
 10

	)

208 
	#ACCESS_INTERVAL_STEP
 100

	)

209 
	#ACCESS_INTERVAL_STEP_COARSE
 1000

	)

210 
	#DEAD_TIME_STEP
 100

	)

211 
	#DEAD_TIME_STEP_COARSE
 1000

	)

214 
¡©_¡©_t
 *
	gacûss_š‹rv®_´of
;

215 
¡©_¡©_t
 *
	gacûss_š‹rv®_´of_cßr£
;

216 
¡©_¡©_t
 *
	gacûss_š‹rv®_´of_fše
;

217 
couÁ”_t
 
	gsum_acûss_š‹rv®
;

218 
couÁ”_t
 
	gnum_acûss_š‹rv®
;

221 
¡©_¡©_t
 *
	gv®id_¿tio_´of
;

222 
¡©_¡©_t
 *
	gdœty_¿tio_´of
;

225 
¡©_¡©_t
 *
	gwhŞe_liã_´of
;

227 
	#WHOLE_LIFE_STEP
 100000

	)

229 
¡©_¡©_t
 *
	glive_time_´of
;

231 
	#LIVE_TIME_STEP
 50000

	)

233 
¡©_¡©_t
 *
	gd—d_time_´of
;

234 
¡©_¡©_t
 *
	gd—d_time_´of_cßr£
;

236 
¡©_¡©_t
 *
	gdœty_time_´of
;

238 
	#DIRTY_time_STEP
 100

	)

240 
couÁ”_t
 
	gsum_dœty_time
;

242 
	#MAX_WRITEBACK
 100

	)

243 
¡©_¡©_t
 *
	gn_wr™eback_´of
;

245 
glob®_couÁ”_max
;

246 
loÿl_couÁ”_max
;

247 
ç¡_couÁ”
;

248 
¦ow_couÁ”
;

250 
couÁ”_t
 
	gcouÁ”_upd©e
;

253 
ÿche_t
 *
ÿche_1
;

256 
ÿche_t
 *
ÿche_2
;

259 
ÿche_t
 *
™lb
;

262 
ÿche_t
 *
db
;

265 
ÿche_t
 *
ÿche_dl0
;

271 
ÿche_t
 *
ÿche_dl1
;

272 
ÿche_t
 *
ÿche_dl2
;

273 
ÿche_t
 *
ÿche_dl0
;

275 
	gl0H™FÏg
;

276 
	gl1H™FÏg
;

277 
	g1H™FÏg
;

278 
	gl2H™FÏg
;

279 
	gbH™FÏg
;

280 
md_addr_t
 
	gl2R•ÏûAddr
;

282 
	gdl2_´eãtch_aùive
 = 0;

283 
	gdl2_´eãtch_id
 = 0;

284 
couÁ”_t
 
pæ2H™
;

285 
couÁ”_t
 
pæ2SecMiss
;

286 
couÁ”_t
 
pæ2PrimMiss
;

288 
couÁ”_t
 
sim_cyşe
[8];

289 
cÜe_¥“d
[8];

290 
ç¡e¡_cÜe
;

291 
ç¡e¡_cÜe_¥“d
;

293 
couÁ”_t
 
tÙ®RecStÜeLßdComm
;

294 
couÁ”_t
 
tÙ®In¡D–ayStÜeLßdComm
;

295 
m_nLSQIdx
;

296 
RUU_¡©iÚ
 *
LSQ
[];

297 #ifdeà
CFJ


298 
sbdL—dTh»ad
;

299 
mašL—dTh»ad
;

304 
	#CACHE_BADDR
(
ı
, 
addr
è(×ddrè& ~(ı)->
blk_mask
)

	)

305 
	#CACHE_MK_BADDR
(
ı
, 
g
, 
£t
è\

	)

306 (((
	gg
è<< (
	gı
)->
	gg_shiá
)|((
	g£t
è<< (ı)->
	g£t_shiá
))

308 
	#CACHE_MK1_BADDR
(
ı
, 
g
, 
£t
è\

	)

309 ((((
	gg
è<< (
	gı
)->
	gg_shiá
)/
	gBANKS
)|((
	g£t
è<< (ı)->
	g£t_shiá
))

312 
	#CACHE_BINDEX
(
ı
, 
blks
, 
i
è\

	)

313 ((
	gÿche_blk_t
 *)(((*)(
	gblks
)) + \

314 (
	gi
)*((
	gÿche_blk_t
) + \

315 ((
	gı
)->
	gb®loc
 \

316 ? (
	gı
)->
bsize
*(
by‹_t
) : 0))))

321 
	#CACHE_HASH
(
ı
, 
key
è\

	)

322 (((
key
 >> 24è^ (key >> 16è^ (key >> 8è^ keyè& ((
ı
)->
hsize
-1))

325 
	#__CACHE_ACCESS
(
ty³
, 
d©a
, 
bofs
è\

	)

326 (*((
ty³
 *)(((*)
d©a
è+ (
bofs
))))

329 
	#CACHE_DOUBLE
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

330 
	#CACHE_FLOAT
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

331 
	#CACHE_WORD
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

332 
	#CACHE_HALF
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

333 
	#CACHE_BYTE
(
d©a
, 
bofs
è
	`__CACHE_ACCESS
(, d©a, bofs)

	)

337 
	#CACHE_BCOPY
(
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
è\

	)

338 ià(
cmd
 =ğ
R—d
) \

340 
nby‹s
) { \

342 *((
by‹_t
 *)
p
èğ
	`CACHE_BYTE
(&
blk
->
d©a
[0], 
bofs
); ; \

344 *((
h®f_t
 *)
p
èğ
	`CACHE_HALF
(&
blk
->
d©a
[0], 
bofs
); ; \

346 *((
wÜd_t
 *)
p
èğ
	`CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
); ; \

349 
wÜds
 = 
nby‹s
 >> 2; \

350 
wÜds
-- > 0) \

352 *((
wÜd_t
 *)
p
èğ
	`CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
); \

353 
p
 +ğ4; 
bofs
 += 4; \

357 
	}
}\

360 
	gnby‹s
) { \

362 
CACHE_BYTE
(&
blk
->
d©a
[0], 
bofs
èğ*((
by‹_t
 *)
p
); ; \

364 
CACHE_HALF
(&
blk
->
d©a
[0], 
bofs
èğ*((
h®f_t
 *)
p
); ; \

366 
CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
èğ*((
wÜd_t
 *)
p
); ; \

369 
wÜds
 = 
nby‹s
 >> 2; \

370 
	gwÜds
-- > 0) \

372 
CACHE_WORD
(&
blk
->
d©a
[0], 
bofs
èğ*((
wÜd_t
 *)
p
); \

373 
	gp
 +ğ4; 
	gbofs
 += 4; \

380 
	#CACHE_SCOPY
(
cmd
, 
d©a
, 
bofs
, 
p
, 
nby‹s
è\

	)

381 ià(
	gcmd
 =ğ
R—d
) \

383 
nby‹s
) { \

385 *((
by‹_t
 *)
p
èğ
CACHE_BYTE
(
d©a
, 
bofs
); ; \

387 *((
h®f_t
 *)
p
èğ
CACHE_HALF
(
d©a
, 
bofs
); ; \

389 *((
wÜd_t
 *)
p
èğ
CACHE_WORD
(
d©a
, 
bofs
); ; \

392 
wÜds
 = 
nby‹s
 >> 2; \

393 
	gwÜds
-- > 0) \

395 *((
	gwÜd_t
 *)
	gp
èğ
CACHE_WORD
(
d©a
, 
bofs
); \

396 
	gp
 +ğ4; 
	gbofs
 += 4; \

403 
	gnby‹s
) { \

405 
CACHE_BYTE
(
d©a
, 
bofs
èğ*((
by‹_t
 *)
p
); ; \

407 
CACHE_HALF
(
d©a
, 
bofs
èğ*((
h®f_t
 *)
p
); ; \

409 
CACHE_WORD
(
d©a
, 
bofs
èğ*((
wÜd_t
 *)
p
); ; \

412 
wÜds
 = 
nby‹s
 >> 2; \

413 
	gwÜds
-- > 0) \

415 
CACHE_WORD
(
d©a
, 
bofs
èğ*((
wÜd_t
 *)
p
); \

416 
	gp
 +ğ4; 
	gbofs
 += 4; \

424 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

428 
	#BANKS
 16

	)

433 
	gÏ‹n
[
BANKS
];

436 
	grm1
 = 0;

437 
	gwm1
 = 0;

438 
	grh1
 = 0;

439 
	gwh1
 = 0;

440 
	grm2
 = 0;

441 
	gwm2
 = 0;

442 
	grh2
 = 0;

443 
	gwh2
 = 0;

445 
aùivecÚ‹xts
;

446 
»s_membªk
;

447 
n_ÿche_lim™_thrd
[];

448 
n_ÿche_¡¬t_thrd
[];

450 #ifdeà 
LOAD_PREDICTOR


451 
ÿche_miss
;

454 #ifdeà
CACHE_THRD_STAT


455 
n_ÿche_miss_thrd
[];

456 
n_ÿche_acûss_thrd
[];

457 
n_ÿche_miss_th¿sh_thrd
[];

460 
š£¹_flq
 (, 
md_addr_t
, );

462 
numcÚ‹xts
;

466 
	$uÆšk_hb_’t
 (
ÿche_t
 *
ı
,

467 
ÿche_£t_t
 *
£t
,

468 
ÿche_blk_t
 *
blk
)

470 
ÿche_blk_t
 *
´ev
, *
’t
;

471 
šdex
 = 
	`CACHE_HASH
 (
ı
, 
blk
->
gid
.
g
);

474 
´ev
 = 
NULL
, 
’t
 = 
£t
->
hash
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
hash_Ãxt
)

476 ià(
’t
 =ğ
blk
)

479 
	`as£¹
 (
’t
);

482 ià(!
´ev
)

485 
£t
->
hash
[
šdex
] = 
’t
->
hash_Ãxt
;

490 
´ev
->
hash_Ãxt
 = 
’t
->hash_next;

492 
’t
->
hash_Ãxt
 = 
NULL
;

493 
	}
}

497 
	$lšk_hb_’t
 (
ÿche_t
 *
ı
,

498 
ÿche_£t_t
 *
£t
,

499 
ÿche_blk_t
 *
blk
)

501 
šdex
 = 
	`CACHE_HASH
 (
ı
, 
blk
->
gid
.
g
);

504 
blk
->
hash_Ãxt
 = 
£t
->
hash
[
šdex
];

505 
£t
->
hash
[
šdex
] = 
blk
;

506 
	}
}

510 
	$upd©e_way_li¡
 (
ÿche_£t_t
 *
£t
,

511 
ÿche_blk_t
 *
blk
,

512 
li¡_loc_t
 
wh”e
, 
assoc
)

515 ià(!
blk
->
way_´ev
 && !blk->
way_Ãxt
)

518 
	`as£¹
 (
£t
->
way_h—d
 =ğ
blk
 && s‘->
way_
 == blk);

523 ià(!
blk
->
way_´ev
)

525 
	`as£¹
 (
£t
->
way_h—d
 =ğ
blk
 && s‘->
way_
 != blk);

526 ià(
wh”e
 =ğ
H—d
)

532 
£t
->
way_h—d
 = 
blk
->
way_Ãxt
;

533 
blk
->
way_Ãxt
->
way_´ev
 = 
NULL
;

535 ià(!
blk
->
way_Ãxt
)

538 
	`as£¹
 (
£t
->
way_h—d
 !ğ
blk
 && s‘->
way_
 == blk);

539 ià(
wh”e
 =ğ
Ta
)

544 
£t
->
way_
 = 
blk
->
way_´ev
;

545 
blk
->
way_´ev
->
way_Ãxt
 = 
NULL
;

550 
	`as£¹
 (
£t
->
way_h—d
 !ğ
blk
 && s‘->
way_
 != blk);

551 
blk
->
way_´ev
->
way_Ãxt
 = blk->way_next;

552 
blk
->
way_Ãxt
->
way_´ev
 = blk->way_prev;

556 ià(
wh”e
 =ğ
H—d
)

559 
blk
->
way_Ãxt
 = 
£t
->
way_h—d
;

560 
blk
->
way_´ev
 = 
NULL
;

561 
£t
->
way_h—d
->
way_´ev
 = 
blk
;

562 
£t
->
way_h—d
 = 
blk
;

564 ià(
wh”e
 =ğ
Ta
)

567 
blk
->
way_´ev
 = 
£t
->
way_
;

568 
blk
->
way_Ãxt
 = 
NULL
;

569 
£t
->
way_
->
way_Ãxt
 = 
blk
;

570 
£t
->
way_
 = 
blk
;

572 #ifdeà
ALT_CACHE_MNG_POLICY


573 ià(
wh”e
 =ğ
Mid
)

575 
i
;

576 
ÿche_blk_t
 *
šsblk
 = 
£t
->
way_h—d
;

577 
i
 = 0; i < (
assoc
/2-1); i++)

578 
šsblk
 = insblk->
way_Ãxt
;

579 
blk
->
way_´ev
 = 
šsblk
;

580 
blk
->
way_Ãxt
 = 
šsblk
->way_next;

581 
šsblk
->
way_Ãxt
->
way_´ev
 = 
blk
;

582 
šsblk
->
way_Ãxt
 = 
blk
;

586 
	`·nic
 ("bogus WHERE designator");

587 
	}
}

589 #ifdeà
HOTLEAKAGE


591 
	$ş—r_ÿche_¡©s
 (
ÿche_t
 *
ı
)

594 
i
;

596 
i
 = 0; i < 
MAXTHREADS
; i++)

598 
ı
->
h™s
[
i
] = 0;

599 
ı
->
mis£s
[
i
] = 0;

600 
ı
->
»ad_mis£s
[
i
] = 0;

601 
ı
->
wr™e_mis£s
[
i
] = 0;

602 
ı
->
»¶aûm’ts
[
i
] = 0;

603 
ı
->
wr™ebacks
[
i
] = 0;

604 
ı
->
šv®id©iÚs
[
i
] = 0;

606 
	}
}

610 
ÿche_t
 *

611 
ÿche_ü—‹
 (*
Çme
,

612 
n£ts
,

613 
bsize
,

614 
b®loc
,

615 
usize
,

616 
assoc
,

617 
ÿche_pŞicy
 
pŞicy
,

619 (*
blk_acûss_â
è(
mem_cmd
 
cmd
, 
md_addr_t
 
baddr
, 
bsize
, 
ÿche_blk_t
 * 
blk
, 
tick_t
 
now
, 
th»adid
), 
h™_Ï‹ncy
)

621 
ÿche_t
 *
ı
;

622 
ÿche_blk_t
 *
blk
;

623 
i
, 
j
, 
bšdex
;

626 ià(
n£ts
 <= 0)

627 
	`çl
 ("ÿchsiz(š s‘sè`%d' mu¡ bnÚ-z”o", 
n£ts
);

628 ià((
n£ts
 & (nsets - 1)) != 0)

629 
	`çl
 ("ÿchsiz(š s‘sè`%d' i nÙ‡…ow” oàtwo", 
n£ts
);

631 ià(
bsize
 < 8)

632 
	`çl
 ("ÿchblock siz(š by‹sè`%d' mu¡ b8 o¸g»©”", 
bsize
);

633 ià((
bsize
 & (bsize - 1)) != 0)

634 
	`çl
 ("ÿchblock siz(š by‹sè`%d' mu¡ b¨pow” oàtwo", 
bsize
);

635 ià(
usize
 < 0)

636 
	`çl
 ("u£¸d©¨siz(š by‹sè`%d' mu¡ b¨pos™ivv®ue", 
usize
);

637 ià(
assoc
 <= 0)

638 
	`çl
 ("ÿchassocŸtiv™y `%d' mu¡ bnÚ-z”Øªd…os™ive", 
assoc
);

640 ià(!
blk_acûss_â
)

641 
	`çl
 ("must specify miss/replacement functions");

644 
ı
 = (
ÿche_t
 *è
	`ÿÎoc
 (1,  (ÿche_tè+ (
n£ts
 - 1è*  (
ÿche_£t_t
));

645 ià(!
ı
)

646 
	`çl
 ("out of virtual memory");

649 
ı
->
Çme
 = 
	`my¡rdup
 (name);

650 
ı
->
n£ts
 =‚sets;

651 
ı
->
bsize
 = bsize;

652 
ı
->
b®loc
 = balloc;

653 
ı
->
usize
 = usize;

654 
ı
->
assoc
 =‡ssoc;

655 
ı
->
pŞicy
 =…olicy;

656 
ı
->
h™_Ï‹ncy
 = hit_latency;

659 
ı
->
blk_acûss_â
 = blk_access_fn;

662 
ı
->
hsize
 = 
	`CACHE_HIGHLY_ASSOC
 (ıè? (
assoc
 >> 2) : 0;

663 
ı
->
blk_mask
 = 
bsize
 - 1;

664 
ı
->
£t_shiá
 = 
	`log_ba£2
 (
bsize
);

665 
ı
->
£t_mask
 = 
n£ts
 - 1;

666 
ı
->
g_shiá
 = cp->
£t_shiá
 + 
	`log_ba£2
 (
n£ts
);

667 
ı
->
g_mask
 = (1 << (32 - cp->
g_shiá
)) - 1;

668 
ı
->
g£t_mask
 = ~ı->
blk_mask
;

669 
ı
->
bus_ä“
 = 0;

670 #ifdeà
FINE_GRAIN_INV


671 
ı
->
wÜd_num
 = cp->
bsize
/
GRANULARITY
;

672 
ı
->
wÜd_shiá
 = 
	`log_ba£2
(
GRANULARITY
);

673 
ı
->
wÜd_mask
 = cp->
wÜd_num
-1;

676 #ifdeà
HOTLEAKAGE


678 
	`debug
 ("%s: cp->hsiz = %d", 
ı
->
Çme
, cp->
hsize
);

679 
	`debug
 ("%s: cp->blk_mask = 0x%08x", 
ı
->
Çme
, cp->
blk_mask
);

680 
	`debug
 ("%s: cp->£t_shiá = %d", 
ı
->
Çme
, cp->
£t_shiá
);

681 
	`debug
 ("%s: cp->£t_mask = 0x%08x", 
ı
->
Çme
, cp->
£t_mask
);

682 
	`debug
 ("%s: cp->g_shiá = %d", 
ı
->
Çme
, cp->
g_shiá
);

683 
	`debug
 ("%s: cp->g_mask = 0x%08x", 
ı
->
Çme
, cp->
g_mask
);

686 
	`debug
 ("%s: cp->hsiz = %d", 
ı
->
hsize
);

687 
	`debug
 ("%s: cp->blk_mask = 0x%08x", 
ı
->
blk_mask
);

688 
	`debug
 ("%s: cp->£t_shiá = %d", 
ı
->
£t_shiá
);

689 
	`debug
 ("%s: cp->£t_mask = 0x%08x", 
ı
->
£t_mask
);

690 
	`debug
 ("%s: cp->g_shiá = %d", 
ı
->
g_shiá
);

691 
	`debug
 ("%s: cp->g_mask = 0x%08x", 
ı
->
g_mask
);

695 
i
 = 0; i < 
MAXTHREADS
; i++)

697 
ı
->
h™s
[
i
] = 0;

698 
ı
->
mis£s
[
i
] = 0;

699 #ifdeà
HOTLEAKAGE


700 
ı
->
»ad_mis£s
[
i
] = 0;

701 
ı
->
wr™e_mis£s
[
i
] = 0;

703 
ı
->
»¶aûm’ts
[
i
] = 0;

704 
ı
->
wr™ebacks
[
i
] = 0;

705 
ı
->
šv®id©iÚs
[
i
] = 0;

707 
ı
->
rdb
 = 0;

708 
ı
->
wrb
 = 0;

709 
ı
->
Ï¡u£
 = 0;

712 
ı
->
Ï¡_g£tid
.
g
 = 0;

713 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

714 
ı
->
Ï¡_blk
 = 
NULL
;

717 
ı
->
d©a
 = (
by‹_t
 *è
	`ÿÎoc
 (
n£ts
 * 
assoc
,  (
ÿche_blk_t
è+ (ı->
b®loc
 ? (
bsize
 *  (byte_t)) : 0));

718 ià(!
ı
->
d©a
)

719 
	`çl
 ("out of virtual memory");

722 
bšdex
 = 0, 
i
 = 0; i < 
n£ts
; i++)

724 
ı
->
£ts
[
i
].
way_h—d
 = 
NULL
;

725 
ı
->
£ts
[
i
].
way_
 = 
NULL
;

726 #ifdeà
ALT_CACHE_MNG_POLICY


727 
ı
->
£ts
[
i
].
š£¹iÚPŞicy
 = 
H—d
;

728 
ı
->
£ts
[
i
].
wa™rcCouÁ”
 = 0;

729 
ı
->
£ts
[
i
].
rcV®id
 = 0;

732 ià(
ı
->
hsize
)

734 
ı
->
£ts
[
i
].
hash
 = (
ÿche_blk_t
 **è
	`ÿÎoc
 (ı->
hsize
,  (cache_blk_t *));

735 ià(!
ı
->
£ts
[
i
].
hash
)

736 
	`çl
 ("out of virtual memory");

741 
ı
->
£ts
[
i
].
blks
 = 
	`CACHE_BINDEX
 (ı, cp->
d©a
, 
bšdex
);

745 
j
 = 0; j < 
assoc
; j++)

748 
blk
 = 
	`CACHE_BINDEX
 (
ı
, cp->
d©a
, 
bšdex
);

749 
bšdex
++;

752 
blk
->
¡©us
 = 0;

753 
blk
->
gid
.
g
 = 0;

754 
blk
->
gid
.
th»adid
 = -1;

755 
blk
->
»ady
 = 0;

756 
blk
->
u£r_d©a
 = (
usize
 !ğ0 ? (
by‹_t
 *è
	`ÿÎoc
 (usize,  (by‹_t)è: 
NULL
);

757 
blk
->
isBy‹Dœty
 = 
	`ü—‹_by‹_mask
(
ı
->
bsize
);

759 
blk
->
Ï¡_acûss_time
 = 0;

760 
blk
->
isSË
 = 0;

761 
blk
->
Ï¡_acûss_š¢
 = 0;

762 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

763 
blk
->
wrÚgLßdCau£s
 = 0;

764 
blk
->
poisÚ
 = 0;

765 #ifdeà
CACHE_CLEANUP


766 
blk
->
robId
 = 0;

767 
blk
->
robExId
 = 3;

769 #ifdeà
FINE_GRAIN_INV


770 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"))

772 
blk
->
wÜdStus
 = (*è
	`ÿÎoc
 (
ı
->
wÜd_num
, ());

773 
k
;

774 
k
 = 0; k < 
ı
->
wÜd_num
; k++)

775 
blk
->
wÜdStus
[
k
] = 0;

778 
blk
->
wÜdStus
 = 
NULL
;

780 #ifdeà
HOTLEAKAGE


782 #ià
	`defšed
(
ÿche_deÿy
)

783 
blk
->
time_fœ¡_acûss
 = 0;

784 
blk
->
time_Ï¡_acûss
 = 0;

785 
blk
->
time_dœty
 = 0;

786 
blk
->
n_acûss
 = 0;

787 
blk
->
n_tÙ®_acûss
 = 0;

788 
blk
->
n_tÙ®_miss
 = 0;

789 
blk
->
n_»ad
 = 0;

790 
blk
->
n_wr™e
 = 0;

791 
blk
->
äequ’cy
 = 0;

792 
blk
->
loÿl_couÁ”_max
 =†ocal_counter_max;

793 
blk
->
loÿl_couÁ”
 = blk->
loÿl_couÁ”_max
;

798 ià(
ı
->
hsize
)

799 
	`lšk_hb_’t
 (
ı
, &ı->
£ts
[
i
], 
blk
);

802 
blk
->
way_Ãxt
 = 
ı
->
£ts
[
i
].
way_h—d
;

803 
blk
->
way_´ev
 = 
NULL
;

804 ià(
ı
->
£ts
[
i
].
way_h—d
)

805 
ı
->
£ts
[
i
].
way_h—d
->
way_´ev
 = 
blk
;

806 
ı
->
£ts
[
i
].
way_h—d
 = 
blk
;

807 ià(!
ı
->
£ts
[
i
].
way_
)

808 
ı
->
£ts
[
i
].
way_
 = 
blk
;

811  
ı
;

812 
	}
}

815 
ÿche_pŞicy


816 
	$ÿche_ch¬2pŞicy
 (
c
)

818 
c
)

821  
LRU
;

823  
Rªdom
;

825  
FIFO
;

827 
	`çl
 ("bogu »¶aûm’ˆpŞicy, `%c'", 
c
);

829 
	}
}

833 
	$ÿche_cÚfig
 (
ÿche_t
 *
ı
,

834 
FILE
 * 
¡»am
)

836 
	`årštf
 (
¡»am
, "ÿche: %s: %d s‘s, %d by‹ blocks, %d by‹ u£¸d©a/block\n", 
ı
->
Çme
, cp->
n£ts
, cp->
bsize
, cp->
usize
);

837 
	`årštf
 (
¡»am
, "ÿche: %s: %d-way, `%s'„•Ïûm’ˆpŞicy, wr™e-back\n", 
ı
->
Çme
, cp->
assoc
, cp->
pŞicy
 =ğ
LRU
 ? "LRU" : cp->pŞicy =ğ
Rªdom
 ? "Rªdom" : cp->pŞicy =ğ
FIFO
 ? "FIFO" : (
	`abÜt
 (), ""));

838 
	}
}

842 
	$ÿche_»g_¡©s
 (
ÿche_t
 *
ı
,

843 
¡©_sdb_t
 *
sdb
)

845 
i
;

847 
i
 = 0; i < 
numcÚ‹xts
; i++)

849 
buf
[512], 
buf1
[512], *
Çme
;

852 ià(!
ı
->
Çme
 || !cp->name[0])

853 
Çme
 = "<unknown>";

855 
Çme
 = 
ı
->name;

857 
	`¥rštf
 (
buf
, "%s.h™s[%d]", 
Çme
, 
i
);

858 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàh™s", &
ı
->
h™s
[
i
], 0, 
NULL
);

859 
	`¥rštf
 (
buf
, "%s.mis£s[%d]", 
Çme
, 
i
);

860 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàmis£s", &
ı
->
mis£s
[
i
], 0, 
NULL
);

861 #ifdeà
HOTLEAKAGE


862 
	`¥rštf
 (
buf
, "%s.»ad_mis£s[%d]", 
Çme
, 
i
);

863 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà»ad mis£s", &
ı
->
»ad_mis£s
[
i
], 0, 
NULL
);

864 
	`¥rštf
 (
buf
, "%s.wr™e_mis£s[%d]", 
Çme
, 
i
);

865 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™mis£s", &
ı
->
wr™e_mis£s
[
i
], 0, 
NULL
);

867 
	`¥rštf
 (
buf
, "%s.»¶aûm’ts[%d]", 
Çme
, 
i
);

868 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oà»¶aûm’ts", &
ı
->
»¶aûm’ts
[
i
], 0, 
NULL
);

869 
	`¥rštf
 (
buf
, "%s.wr™ebacks[%d]", 
Çme
, 
i
);

870 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàwr™ebacks", &
ı
->
wr™ebacks
[
i
], 0, 
NULL
);

871 
	`¥rštf
 (
buf
, "%s.šv®id©iÚs[%d]", 
Çme
, 
i
);

872 
	`¡©_»g_couÁ”
 (
sdb
, 
buf
, "tÙ®‚umb” oàšv®id©iÚs", &
ı
->
šv®id©iÚs
[
i
], 0, 
NULL
);

874 
	}
}

876 #ifdeà
HOTLEAKAGE


879 
	$upd©e_ÿche_¡©s
 ()

881 #ià
	`defšed
(
ÿche_deÿy
)

882 
i
, 
bšdex
;

883 
ÿche_blk_t
 *
blk
;

884 
n_v®id
, 
n_dœty
, 
n_tÙ®
;

885 
ÿche_t
 *
ı
 = 
deÿyed_ÿche
;

887 
n_v®id
 = 0;

888 
n_dœty
 = 0;

889 
n_tÙ®
 = 
ı
->
assoc
 * cp->
n£ts
;

893 
i
 = 0; i < 
ı
->
n£ts
; i++)

895 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

897 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

899 
n_v®id
++;

900 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

901 
n_dœty
++;

907 
	}
}

910 
	$´št_tÙ®_acûss
 ()

912 
i
, 
bšdex
;

913 
ÿche_blk_t
 *
blk
;

914 
ÿche_t
 *
ı
 = 
deÿyed_ÿche
;

916 
	`årštf
 (
¡d”r
, " cacheotal‡ccess\n");

918 
i
 = 0; i < 
ı
->
n£ts
; i++)

920 
bšdex
 = 0; bšdex < 
ı
->
assoc
; bindex++)

922 
blk
 = 
	`CACHE_BINDEX
 (
ı
, cp->
£ts
[
i
].
blks
, 
bšdex
);

923 
	`årštf
 (
¡d”r
, " %ld %ld", (è
blk
->
n_tÙ®_acûss
, (èblk->
n_tÙ®_miss
);

926 
	`årštf
 (
¡d”r
, " \n");

929 
	`årštf
 (
¡d”r
, " \n\n\n");

932 
	}
}

936 
	$upd©e_ÿche_deÿy
 ()

938 #ià
	`defšed
(
ÿche_deÿy
)

939 
ÿche_blk_t
 *
blk
;

940 
ÿche_t
 *
ı
 = 
deÿyed_ÿche
;

941 
n_wr™eback
 = 0;

942 
i
;

945 
couÁ”_t
 
šü_couÁ
 = 0;

948 ià(!
	`ÿche_Ëak_is_ù¾Ëd
 ())

950 
glob®_tick
 = 1;

953 
i
 = 0; i < 
ı
->
n£ts
; i++)

955 
k
;

957 
blk
 = 
ı
->
£ts
[
i
].
blks
, 
k
 = 0; k < cp->
assoc
; blk++, k++)

960 ià(!(
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
))

962 
couÁ”_upd©e
++;

963 
blk
->
loÿl_couÁ”
--;

966 ià(
blk
->
loÿl_couÁ”
 < 0)

972 ià(
	`ÿche_Ëak_ù¾_is_¡©e_losšg
 ())

973 
blk
->
¡©us
 &ğ~
CACHE_BLK_VALID
;

974 
blk
->
¡©us
 |ğ
CACHE_BLK_DECAYED
;

975 
blk
->
time_deÿyed
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

976 
n_deÿy
++;

980 
	`mode_sw™ch_h2l_šü
 ();

981 
šü_couÁ
++;

984 #ià
	`defšed
(
couÁ”_ba£d_ad­tive
è|| defšed(
combšed_ad­tive
)

985 
blk
->
loÿl_couÁ”
 = blk->
loÿl_couÁ”_max
;

990 ià((
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& 
	`ÿche_Ëak_ù¾_is_¡©e_losšg
 ())

992 
ı
->
wr™ebacks
[
blk
->
gid
.
th»adid
]++;

993 
n_wr™eback
++;

994 
šduûd_wbacks
++;

996 
ı
->
	`blk_acûss_â
 (
Wr™e
, 
	`CACHE_MK_BADDR
 (ı, 
blk
->
gid
.
g
, 
i
 ), cp->
bsize
, blk, 
sim_cyşe
[
ç¡e¡_cÜe
], blk->gid.
th»adid
);

1014 
	`low_Ëak_¿tio_šü
 ((è
šü_couÁ
 / (
ı
->
n£ts
 * cp->
assoc
), 
	`g‘_sw™ch_cyşes_h2l
 () / 2);

1018 
	}
}

1022 
	$upd©e_ÿche_block_¡©s_wh’_h™
 (
ÿche_t
 *
ı
, 
ÿche_blk_t
 *
blk
, 
mem_cmd
 
cmd
)

1024 
i
;

1025 
acûss_š‹rv®
;

1027 #ià
	`defšed
(
ÿche_deÿy
)

1028 ià(
ı
 =ğ
deÿyed_ÿche
)

1030 ià(
blk
->
time_fœ¡_acûss
 > 0)

1032 
acûss_š‹rv®
 = 
sim_cyşe
[
ç¡e¡_cÜe
] - 
blk
->
time_Ï¡_acûss
 + 1;

1035 
sum_acûss_š‹rv®
 +ğ
acûss_š‹rv®
;

1036 
num_acûss_š‹rv®
 += 1;

1038 
blk
->
time_Ï¡_acûss
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

1039 
blk
->
pc_Ï¡_acûss
 = 
cur_pc
;

1040 
blk
->
n_acûss
++;

1041 
blk
->
n_tÙ®_acûss
++;

1042 
blk
->
Ï¡_cmd
 = 
cmd
;

1043 ià(
cmd
 =ğ
R—d
)

1044 
blk
->
n_»ad
++;

1046 
blk
->
n_wr™e
++;

1050 ià(
blk
->
loÿl_couÁ”
 !ğblk->
loÿl_couÁ”_max
)

1052 
blk
->
loÿl_couÁ”
 = blk->
loÿl_couÁ”_max
;

1053 
couÁ”_upd©e
++;

1055 
n_»£ts
++;

1060 
i
 = 0;

1065 
	}
}

1069 
	$upd©e_ÿche_block_¡©s_wh’_miss
 (
ÿche_t
 *
ı
, 
ÿche_blk_t
 *
»¶
, 
mem_cmd
 
cmd
, 
deÿy_ÿu£d_miss
)

1071 #ià
	`defšed
(
ÿche_deÿy
)

1072 ià(
ı
 =ğ
deÿyed_ÿche
)

1075 ià(
»¶
->
time_fœ¡_acûss
 > 0)

1077 
n_´ofed_blocks
++;

1079 
sum_acûss
 +ğ
»¶
->
n_acûss
;

1080 
sum_live_time
 +ğ
»¶
->
time_Ï¡_acûss
 -„•l->
time_fœ¡_acûss
;

1081 
sum_d—d_time
 +ğ
sim_cyşe
[
ç¡e¡_cÜe
] - 
»¶
->
time_Ï¡_acûss
;

1084 ià(
»¶
->
time_deÿyed
)

1086 
n_šv®id_deÿy
 +ğ
deÿy_ÿu£d_miss
;

1087 
n_v®id_deÿy
 +ğ1 - 
deÿy_ÿu£d_miss
;

1093 
»¶
->
time_fœ¡_acûss
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

1094 
»¶
->
fœ¡_cmd
 = 
cmd
;

1096 
»¶
->
pc_Ï¡_acûss
 = 
cur_pc
;

1097 
»¶
->
time_Ï¡_acûss
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

1098 
»¶
->
Ï¡_cmd
 = 
cmd
;

1100 
»¶
->
time_deÿyed
 = 0;

1101 
»¶
->
n_tÙ®_miss
++;

1103 
»¶
->
n_acûss
 = 1;

1104 
»¶
->
n_tÙ®_acûss
++;

1105 
»¶
->
n_»ad
 = (
cmd
 =ğ
R—d
 ? 1 : 0);

1106 
»¶
->
n_wr™e
 = (
cmd
 =ğ
Wr™e
 ? 1 : 0);

1110 ià(
»¶
->
loÿl_couÁ”
 !ğ»¶->
loÿl_couÁ”_max
)

1112 
»¶
->
loÿl_couÁ”
 =„•l->
loÿl_couÁ”_max
;

1113 
couÁ”_upd©e
++;

1115 
n_»£ts
++;

1120 
	}
}

1125 
	$ÿche_¡©s
 (
ÿche_t
 *
ı
,

1126 
FILE
 * 
¡»am
,

1127 
th»adid
)

1129 
sum
 = (è(
ı
->
h™s
[
th»adid
] + cp->
mis£s
[threadid]);

1131 
	`årštf
 (
¡»am
, "ÿche: %s: %.0àh™ %.0àmis£ %.0à»¶ %.0àšv®id©iÚs\n", 
ı
->
Çme
, (èı->
h™s
[
th»adid
], (èı->
mis£s
[th»adid], (èı->
»¶aûm’ts
[th»adid], (èı->
šv®id©iÚs
[threadid]);

1132 
	`årštf
 (
¡»am
, "ÿche: %s: mis ¿‹=%à„•È¿‹=%à inv®id©iÚ„©e=%f\n", 
ı
->
Çme
, (èı->
mis£s
[
th»adid
] / 
sum
, (è(èı->
»¶aûm’ts
[th»adid] / sum, (èı->
šv®id©iÚs
[threadid] / sum);

1133 
	}
}

1135 #ifdeà
HOTLEAKAGE


1136 
b_š_di¥©ch
;

1140 
	$bªk_check
 (
md_addr_t
 
addr
, 
ÿche_t
 *
ı
)

1156 
	}
}

1158 
couÁ”_t
 
	gÃw_¡Üe_nÙ_exec
 = 0;

1159 
couÁ”_t
 
	g´ev_¡Üe_nÙ_exec
 = 0;

1160 
couÁ”_t
 
	gÃw_sim_num_š¢
 = 0;

1161 
couÁ”_t
 
	g´ev_sim_num_š¢
 = 0;

1162 
couÁ”_t
 
	g´ev_sim_cyşe
 = 0;

1163 
ÿche_blk_t
 *
	gcu¼’t_blk
 = 
NULL
;

1171 
	$ÿche_acûss
 (
ÿche_t
 *
ı
,

1172 
mem_cmd
 
cmd
,

1173 
md_addr_t
 
addr
,

1174 *
vp
,

1175 
nby‹s
,

1176 
tick_t
 
now
,

1177 
by‹_t
 ** 
ud©a
,

1178 
md_addr_t
 * 
»¶_addr
,

1179 
th»adid
)

1181 
by‹_t
 *
p
 = 
vp
;

1182 
md_addr_t
 
g
;

1183 
md_addr_t
 
£t
;

1184 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

1185 
ÿche_blk_t
 *
blk
, *
»¶
;

1186 
Ït
 = 0;

1188 
»¶_¡©us
 = 0;

1189 
tick_t
 
»¶_»ady
 = 0;

1190 
by‹_t
 
»¶_d©a
[
ı
->
bsize
];

1191 
pÜt_Ït
 = 0, 
now_Ït
 = 0, 
pÜt_now
 = 0;

1193 
md_addr_t
 
bªk_³r_th»ad
, 
thrd_bªk_¡¬t
, 
thrd_wÜd_bªk
;

1194 
md_addr_t
 
£t_bªk
;

1195 
md_addr_t
 
wb_addr
;

1196 
md_addr_t
 
g_bªk
, 
»¶_th»ad
, 
»¶_bªk
, 
»¶_thrd_bªk
, 
»¶_£t_bªk
, 
»¶_g
;

1198 #ifdeà
CFJ


1199 
dup
 = 0;

1200 
by‹_t
 
dup_d©a
[
ı
->
bsize
];

1201 
dup_dÚe
 = 0;

1203 #ifdeà
HOTLEAKAGE


1204 
possibË_»®_miss
 = 0;

1205 
low_Ëak_³ÇÉy_æag
 = 0;

1206 
‹mp
;

1207 
deÿy_ÿu£d_miss
 = 
FALSE
;

1209 ià(
b_š_di¥©ch
)

1210 
b_š_di¥©ch
 = 
TRUE
;

1213 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"))

1214 
l0H™FÏg
 = 0;

1215 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1216 
l1H™FÏg
 = 0;

1217 ià(!
	`¡rcmp
 (
ı
->
Çme
, "il1") || !strcmp (cp->name, "il0"))

1218 
1H™FÏg
 = 0;

1219 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

1220 
l2H™FÏg
 = 0;

1221 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dtlb"))

1222 
bH™FÏg
 = 0;

1224 
l2R•ÏûAddr
 = 0;

1226 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

1227 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

1229 #ifdeà 
ICACHE_BANK_CLUSTER


1239 ià(
»¶_addr
)

1240 *
»¶_addr
 = 0;

1243 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

1244 
	`çl
 ("ÿche:‡cûs ”rÜ: bad sizÜ‡lignm’t,‡dd¸0x%08x", 
addr
);

1247 ià((
addr
 + 
nby‹s
 - 1è> (×dd¸& ~
ı
->
blk_mask
è+ cp->
bsize
 - 1))

1248 
	`çl
 ("ÿche:‡cûs ”rÜ:‡cûs ¥ª block,‡dd¸0x%08x", 
addr
);

1252 ià(
ı
->
hsize
)

1255 
hšdex
 = 
	`CACHE_HASH
 (
ı
, 
g
);

1257 
blk
 = 
ı
->
£ts
[
£t
].
hash
[
hšdex
]; blk; blk = blk->
hash_Ãxt
)

1259 #ifdeà
HOTLEAKAGE


1260 ià((
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
è&& 
	`ÿche_Ëak_is_ù¾Ëd
 ())

1261 
low_Ëak_³ÇÉy_æag
 = 1;

1263 ià((
blk
->
gid
.
g
 ==ag) )

1266 ià((
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
è&& 
	`ÿche_Ëak_ù¾_is_¡©e_losšg
 ())

1268 
deÿy_ÿu£d_miss
 = 
TRUE
;

1269 
šduûd_deÿy_mis£s
++;

1272 ià((
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
è&& (blk->¡©u & 
CACHE_BLK_VALID
è&& 
	`ÿche_Ëak_is_ù¾Ëd
 ())

1280 
	`mode_sw™ch_l2h_šü
 ();

1287 
	`low_Ëak_¿tio_dü
 (1.0 / (
ı
->
n£ts
 * cp->
assoc
), 
	`g‘_sw™ch_cyşes_l2h
 () / 2);

1289 #ifdeà 
CACHE_CLEANUP


1290 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
blk
->
robExId
 !ğ3 && ((blk->robExId =ğ
yg¡RobExId
 && blk->
robId
 > 
yg¡RobId
) || (blk->robExId == (ygstRobExId+1)%3)))

1292 
»¶
 = 
blk
;

1293 
·¹Ÿl_ÿche_miss
;

1296 
ÿche_h™
;

1298 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

1300 #ifdeà 
CACHE_CLEANUP


1301 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
blk
->
robExId
 !ğ3 && ((blk->robExId =ğ
yg¡RobExId
 && blk->
robId
 > 
yg¡RobId
) || (blk->robExId == (ygstRobExId+1)%3)))

1303 
»¶
 = 
blk
;

1304 
·¹Ÿl_ÿche_miss
;

1307 
ÿche_h™
;

1310 ià(
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
)

1311 
possibË_»®_miss
 = 1;

1314 ià((
blk
->
gid
.
g
 ==ag) &&

1315 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

1317 #ifdeà
CFJ


1318 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
thecÚ‹xts
[
sbdL—dTh»ad
]->
ruÂšg
 && 
th»adid
 =ğ
mašL—dTh»ad
 && (
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& (blk->
gid
.threadid !=hreadid))

1320 
dup
 = 1;

1323 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
thecÚ‹xts
[
sbdL—dTh»ad
]->
ruÂšg
 && 
th»adid
 =ğsbdL—dTh»ad && (
blk
->
gid
.th»adid !ğth»adidè&& (blk->
dup
 || 
cmd
 =ğ
Wr™e
))

1325 ià(
ı
->
b®loc
)

1327 
by‹_t
 *
rd
 = &
dup_d©a
[0];

1328 
md_addr_t
 
rofs
 = 0;

1329 
	`CACHE_BCOPY
 (
R—d
, 
blk
, 
rofs
, 
rd
, 
ı
->
bsize
);

1330 
dup_dÚe
 = 1;

1332 
blk
->
dup
 = 1;

1336 #ifdeà 
CACHE_CLEANUP


1337 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
blk
->
robExId
 !ğ3 && ((blk->robExId =ğ
yg¡RobExId
 && blk->
robId
 > 
yg¡RobId
) || (blk->robExId == (ygstRobExId+1)%3)))

1339 
»¶
 = 
blk
;

1340 
·¹Ÿl_ÿche_miss
;

1343 
ÿche_h™
;

1351 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

1353 #ifdeà
HOTLEAKAGE


1354 ià((
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
è&& 
	`ÿche_Ëak_is_ù¾Ëd
 ())

1355 
low_Ëak_³ÇÉy_æag
 = 1;

1357 ià((
blk
->
gid
.
g
 ==ag) )

1360 ià((
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
è&& 
	`ÿche_Ëak_ù¾_is_¡©e_losšg
 ())

1362 
deÿy_ÿu£d_miss
 = 
TRUE
;

1364 ià(
ı
 =ğ
deÿyed_ÿche
)

1366 
šduûd_deÿy_mis£s
++;

1370 ià((
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
è&& (blk->¡©u & 
CACHE_BLK_VALID
è&& 
	`ÿche_Ëak_is_ù¾Ëd
 ())

1378 
	`mode_sw™ch_l2h_šü
 ();

1385 
	`low_Ëak_¿tio_dü
 (1.0 / (
ı
->
n£ts
 * cp->
assoc
), 
	`g‘_sw™ch_cyşes_l2h
 () / 2);

1387 #ifdeà 
CACHE_CLEANUP


1388 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
blk
->
robExId
 !ğ3 && ((blk->robExId =ğ
yg¡RobExId
 && blk->
robId
 > 
yg¡RobId
) || (blk->robExId == (ygstRobExId+1)%3)))

1390 
»¶
 = 
blk
;

1391 
·¹Ÿl_ÿche_miss
;

1394 
ÿche_h™
;

1396 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

1398 #ifdeà 
CACHE_CLEANUP


1399 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
blk
->
robExId
 !ğ3 && ((blk->robExId =ğ
yg¡RobExId
 && blk->
robId
 > 
yg¡RobId
) || (blk->robExId == (ygstRobExId+1)%3)))

1401 
»¶
 = 
blk
;

1402 
·¹Ÿl_ÿche_miss
;

1405 
ÿche_h™
;

1408 ià(
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
)

1409 
possibË_»®_miss
 = 1;

1412 ià((
blk
->
gid
.
g
 ==ag) &&

1413 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

1415 #ifdeà
CFJ


1416 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
thecÚ‹xts
[
sbdL—dTh»ad
]->
ruÂšg
 && 
th»adid
 =ğ
mašL—dTh»ad
 && (
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& (blk->
gid
.threadid !=hreadid))

1418 
dup
 = 1;

1421 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
thecÚ‹xts
[
sbdL—dTh»ad
]->
ruÂšg
 && 
th»adid
 =ğsbdL—dTh»ad && (
blk
->
gid
.th»adid !ğth»adidè&& (blk->
dup
 || 
cmd
 =ğ
Wr™e
))

1423 ià(
ı
->
b®loc
)

1425 
by‹_t
 *
rd
 = &
dup_d©a
[0];

1426 
md_addr_t
 
rofs
 = 0;

1427 
	`CACHE_BCOPY
 (
R—d
, 
blk
, 
rofs
, 
rd
, 
ı
->
bsize
);

1428 
dup_dÚe
 = 1;

1430 
blk
->
dup
 = 1;

1434 #ifdeà 
CACHE_CLEANUP


1435 if(!
	`¡rcmp
(
ı
->
Çme
,"dl0"è&& 
blk
->
robExId
 !ğ3 && ((blk->robExId =ğ
yg¡RobExId
 && blk->
robId
 > 
yg¡RobId
) || (blk->robExId == (ygstRobExId+1)%3)))

1437 
»¶
 = 
blk
;

1438 
·¹Ÿl_ÿche_miss
;

1441 
ÿche_h™
;

1447 #ifdeà
ACCURATE_CACHE_MISS_IMP


1449 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

1451 
»¶_live_t
 *
‹mp
 = 
	`£¬ch_»¶_live
(
	`CACHE_MK_BADDR
 (
ı
, 
g
, 
£t
));

1452 if(
‹mp
)

1454 
l2H™FÏg
 = 1;

1455 
ı
->
h™s
[
th»adid
]++;

1457 ià(
ı
->
b®loc
)

1459 
	`CACHE_SCOPY
 (
cmd
, 
‹mp
->
d©a
, 
bofs
, 
p
, 
nby‹s
);

1462 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

1464 ià(
cmd
 =ğ
Wr™e
)

1465 
wh2
++;

1467 
rh2
++;

1471  (è
	`max2
 (
ı
->
h™_Ï‹ncy
, (
‹mp
->
»ady
 - 
now
));

1478 
FILE
 *
Œaû_fe
;

1479 
isCacheAcûssS³c
;

1480 
ı
->
mis£s
[
th»adid
]++;

1483 #ifdeà
HOTLEAKAGE


1484 ià(
cmd
 =ğ
Wr™e
)

1485 
ı
->
wr™e_mis£s
[
th»adid
]++;

1487 
ı
->
»ad_mis£s
[
th»adid
]++;

1489 ià(
ı
 =ğ
deÿyed_ÿche
 && !
deÿy_ÿu£d_miss
 && 
possibË_»®_miss
)

1490 
»®_deÿy_mis£s
++;

1493 #ifdeà
LOAD_PREDICTOR


1494 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1495 
ÿche_miss
 = 1;

1498 #ifdeà
CACHE_THRD_STAT


1499 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1501 
n_ÿche_miss_thrd
[
th»adid
]++;

1502 
n_ÿche_acûss_thrd
[
th»adid
]++;

1508 
ı
->
pŞicy
)

1510 
LRU
:

1511 
FIFO
:

1512 
»¶
 = 
ı
->
£ts
[
£t
].
way_
;

1513 #ifdeà
HOTLEAKAGE


1515 #ià
	`defšed
(
ÿche_deÿy
)

1516 ià(
b_deÿy_’abËd
)

1518 
k
, 
found
 = 0;

1520 
blk
 = 
ı
->
£ts
[
£t
].
blks
, 
k
 = 0; k < cp->
assoc
; blk++, k++)

1523 ià(!(
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

1525 
»¶
 = 
blk
;

1526 
found
 = 1;

1531 ià(!
found
 && 
	`ÿche_Ëak_ù¾_is_¡©e_losšg
 ())

1532 
blk
 = 
ı
->
£ts
[
£t
].
blks
, 
k
 = 0; k < cp->
assoc
; blk++, k++)

1535 ià(
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
)

1537 
»¶
 = 
blk
;

1544 #ifdeà
ALT_CACHE_MNG_POLICY


1545 if(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1547 if(
ı
->
£ts
[
£t
].
rcV®id
)

1549 if(
ı
->
£ts
[
£t
].
rcTag
 =ğ
g
)

1551 
ı
->
£ts
[
£t
].
wa™rcCouÁ”
 = cp->£ts[£t].
rcCouÁ”
;

1552 if(
ı
->
£ts
[
£t
].
rcCouÁ”
 < cp->
assoc
/2)

1553 
ı
->
£ts
[
£t
].
š£¹iÚPŞicy
 = 
Mid
;

1554 if(
ı
->
£ts
[
£t
].
rcCouÁ”
 <ğı->
assoc
)

1555 
ı
->
£ts
[
£t
].
š£¹iÚPŞicy
 = 
H—d
;

1558 
ı
->
£ts
[
£t
].
š£¹iÚPŞicy
 = 
Ta
;

1559 
ı
->
£ts
[
£t
].
wa™rcCouÁ”
 = 0;

1562 
ı
->
£ts
[
£t
].
rcCouÁ”
 = 0;

1563 
ı
->
£ts
[
£t
].
rcV®id
 = 0;

1566 
ı
->
£ts
[
£t
].
rcCouÁ”
++;

1568 if(
ı
->
£ts
[
£t
].
rcCouÁ”
 > 8)

1570 
ı
->
£ts
[
£t
].
š£¹iÚPŞicy
 = 
Ta
;

1571 
ı
->
£ts
[
£t
].
rcV®id
 = 0;

1576 
ı
->
£ts
[
£t
].
wa™rcCouÁ”
--;

1577 if(
ı
->
£ts
[
£t
].
wa™rcCouÁ”
 == 0)

1579 
ı
->
£ts
[
£t
].
rcV®id
 = 1;

1580 
ı
->
£ts
[
£t
].
rcTag
 = 
g
;

1581 
ı
->
£ts
[
£t
].
rcCouÁ”
 = 1;

1584 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
»¶
, cp->£ts[£t].
š£¹iÚPŞicy
, cp->
assoc
);

1585 if(
£t
 == 0)

1587 
	`årštf
(
Œaû_fe
,"Mi - %d\t", 
£t
);

1588 
	`årštf
(
Œaû_fe
,"%d\n", 
g
);

1593 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
»¶
, 
H—d
, cp->
assoc
);

1595 
Rªdom
:

1597 
bšdex
 = 
	`my¿nd
 (è& (
ı
->
assoc
 - 1);

1599 
»¶
 = 
	`CACHE_BINDEX
 (
ı
, cp->
£ts
[
£t
].
blks
, 
bšdex
);

1603 
	`·nic
 ("bogus„eplacement…olicy");

1607 ià(
ı
->
hsize
)

1608 
	`uÆšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

1611 #ifdeà
CACHE_THRD_STAT


1612 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1614 ià((
»¶
->
gid
.
th»adid
 !ğ-1è&& (»¶->gid.th»adid !ğth»adidè&& (»¶->
¡©us
 & 
CACHE_BLK_VALID
))

1615 
n_ÿche_miss_th¿sh_thrd
[
th»adid
]++;

1621 
ı
->
Ï¡_g£tid
.
g
 = 0;

1622 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

1623 
ı
->
Ï¡_blk
 = 
NULL
;

1625 #ifdeà
HOTLEAKAGE


1626 ià(
low_Ëak_³ÇÉy_æag
 =ğ1 && 
	`ÿche_Ëak_is_ù¾Ëd
 ())

1628 
‹mp
 = 
	`g‘_low_Ëak_³ÇÉy
 ();

1630 
Ït
 +ğ
	`g‘_low_Ëak_³ÇÉy
 ();

1636 ià(
»¶
->
¡©us
 & 
CACHE_BLK_DECAYED
)

1638 
	`mode_sw™ch_l2h_šü
 ();

1645 
	`low_Ëak_¿tio_dü
 (1.0 / (
ı
->
n£ts
 * cp->
assoc
), 
	`g‘_sw™ch_cyşes_l2h
 () / 2);

1649 
Ït
 +ğ
ı
->
h™_Ï‹ncy
;

1652 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"))

1654 
Ï¡Th0Comm™‹dIn¢
;

1655 
couÁ”_t
 
útCacheEviùiÚ
;

1656 
couÁ”_t
 
útCESË
;

1657 
couÁ”_t
 
útCESËDGd
;

1658 
couÁ”_t
 
útCECÜrDBd
;

1660 
útCacheEviùiÚ
++;

1661 ià(
»¶
->
¡Üe_nÙ_execu‹d
 >„•l->
Ï¡_acûss_š¢
)

1663 
útCESË
++;

1664 ià(
Ï¡Th0Comm™‹dIn¢
 >ğ
»¶
->
¡Üe_nÙ_execu‹d
)

1665 
útCESËDGd
++;

1669 ià(
Ï¡Th0Comm™‹dIn¢
 < 
»¶
->
Ï¡_acûss_š¢
)

1670 
útCECÜrDBd
++;

1673 
couÁ”_t
 
‹mp_sim_num_š¢
 = 
Ãw_sim_num_š¢
;

1674 
couÁ”_t
 
‹mp_¡Üe_nÙ_exec
 = 
Ãw_¡Üe_nÙ_exec
;

1676 
Ãw_sim_num_š¢
 = 
»¶
->
Ï¡_acûss_š¢
;

1677 
Ãw_¡Üe_nÙ_exec
 = 
»¶
->
¡Üe_nÙ_execu‹d
;

1678 
»¶
->
wrÚgLßdCau£s
 = 0;

1679 
»¶
->
poisÚ
 = 0;

1680 
»¶
->
isSË
 = 0;

1681 ià(
cmd
 =ğ
Wr™e
)

1683 
»¶
->
Ï¡_acûss_time
 = 
now
;

1684 
»¶
->
Ï¡_acûss_š¢
 = 
‹mp_sim_num_š¢
;

1685 
»¶
->
¡Üe_nÙ_execu‹d
 = 
‹mp_¡Üe_nÙ_exec
;

1690 ià((
	`¡rcmp
 (
ı
->
Çme
, "dl0"è!ğ0è&& 
»¶
->
¡©us
 & 
CACHE_BLK_VALID
)

1692 
ı
->
»¶aûm’ts
[
th»adid
]++;

1694 ià(
»¶_addr
)

1695 *
»¶_addr
 = 
	`CACHE_MK_BADDR
 (
ı
, 
»¶
->
gid
.
g
, 
£t
);

1697 if(
	`¡rcmp
 (
ı
->
Çme
, "ul2") == 0)

1698 
l2R•ÏûAddr
 = 
	`CACHE_MK_BADDR
 (
ı
, 
»¶
->
gid
.
g
, 
£t
);

1700 #iâdeà
ACCURATE_CACHE_MISS_IMP


1702 
Ït
 +ğ
	`BOUND_POS
 (
»¶
->
»ady
 - (
now
 +†at));

1705 #ifdeà
HOTLEAKAGE


1707 
Ït
 +ğ
	`BOUND_POS
 (
ı
->
bus_ä“
 - (
now
 +†at));

1710 
ı
->
bus_ä“
 = 
	`MAX
 (ı->bus_ä“, (
now
 + 
Ït
)) + 1;

1713 ià((
	`¡rcmp
 (
ı
->
Çme
, "ul2") == 0))

1714 
	`š£¹_vCache
 (
	`CACHE_MK_BADDR
 (
ı
, 
»¶
->
gid
.
g
, 
£t
), cp->
bsize
,„epl);

1716 ià(
»¶
->
¡©us
 & 
CACHE_BLK_DIRTY
)

1719 
ı
->
wr™ebacks
[
th»adid
]++;

1721 
ı
->
wrb
++;

1722 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
Wr™e
, 
	`CACHE_MK_BADDR
 (ı, 
»¶
->
gid
.
g
, 
£t
), cp->
bsize
,„•l, 
now
 +†©,„•l->gid.
th»adid
);

1729 #ifdeà 
NO_BUS_CONTENTION


1730 
pÜt_Ït
 = 0;

1732 
pÜt_Ït
 = (
	`BOUND_POS
 (
ı
->
wrb
 - cp->
wrbufsize
è+ (ı->
rdb
)è* cp->
ped–ay
;

1734 #ifdeà 
SIM_CYCLE_CAST_BUG


1735 
now_Ït
 = (è(
now
 - (
tick_t
è
sim_cyşe
[
ç¡e¡_cÜe
]);

1737 
now_Ït
 = 
now
 - 
sim_cyşe
[
ç¡e¡_cÜe
];

1739 
pÜt_now
 = 
	`BOUND_POS
 (
pÜt_Ït
 - 
now_Ït
);

1740 
Ït
 +ğ
	`BOUND_POS
 (
pÜt_now
 + BOUND_POS (
ı
->
Ï¡u£
 + cp->
ped–ay
 - 
now
) -†at);

1741 
ı
->
rdb
++;

1743 #ifdeà
HOTLEAKAGE


1744 ià(
b_deÿy_´ofe_’abËd
)

1745 
	`upd©e_ÿche_block_¡©s_wh’_miss
 (
ı
, 
»¶
, 
cmd
, 
deÿy_ÿu£d_miss
);

1749 
»¶_¡©us
 = 
»¶
->
¡©us
;

1750 
»¶_»ady
 = 
»¶
->
»ady
;

1751 ià(
ı
->
b®loc
)

1753 
by‹_t
 *
rd
 = &
»¶_d©a
[0];

1754 
md_addr_t
 
rofs
 = 0;

1755 
	`CACHE_BCOPY
 (
R—d
, 
»¶
, 
rofs
, 
rd
, 
ı
->
bsize
);

1759 
»¶
->
gid
.
g
 =ag;

1760 
»¶
->
gid
.
th»adid
 =hreadid;

1761 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

1762 
»¶
->
addr
 =‡ddr;

1763 #ifdeà
CFJ


1764 
»¶
->
dup
 = dup;

1766 #ifdeà
STREAM_PREFETCHER


1767 
»¶
->
¥Tag
 = 0;

1768 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"è&& 
dl2_´eãtch_aùive
)

1770 
»¶
->
¥Tag
 = 
dl2_´eãtch_id
+1;

1773 #ifdeà
ALT_CACHE_MNG_POLICY


1774 
i
;

1775 
i
 = 0; i < 32; i++)

1776 
»¶
->
Ï¡Touch
[
i
] = 0;

1778 #ifdeà
FINE_GRAIN_INV


1779 if(
»¶
->
wÜdStus
)

1781 
k
;

1782 
k
 = 0; k < 
ı
->
wÜd_num
; k++)

1783 
»¶
->
wÜdStus
[
k
] = 1;

1787 #ifdeà
HOTLEAKAGE


1788 
»¶
->
¡©us
 &ğ~
CACHE_BLK_DECAYED
;

1791 #ifdeà
CACHE_CLEANUP


1792 
·¹Ÿl_ÿche_miss
:

1794 
»¶
->
robId
 = 
LSQ
[
m_nLSQIdx
]->robId;

1795 
»¶
->
robExId
 = 
LSQ
[
m_nLSQIdx
]->robExId;

1798 #iâdeà
NO_L2CACHE_ACCESS


1800 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
R—d
, 
	`CACHE_TAGSET
 (ı, 
addr
), cp->
bsize
, 
»¶
, 
now
 +†©, 
th»adid
);

1805 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1807 
	`š£¹_flq
 ((è(
now
 + 
Ït
), 
addr
, 
th»adid
);

1809 #ifdeà
CFJ


1810 ià(
ı
->
b®loc
 && 
dup_dÚe
)

1812 
by‹_t
 *
rd
 = &
dup_d©a
[0];

1813 
md_addr_t
 
rofs
 = 0;

1814 
	`CACHE_BCOPY
 (
Wr™e
, 
»¶
, 
rofs
, 
rd
, 
ı
->
bsize
);

1816 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"è&& 
cmd
 =ğ
Wr™e
 && 
th»adid
 =ğ
mašL—dTh»ad
)

1817 
	`sbd_lše_wr™e
(
ı
, 
addr
, 
vp
, 
nby‹s
, 
sbdL—dTh»ad
);

1821 ià(
ı
->
b®loc
)

1823 
	`CACHE_BCOPY
 (
cmd
, 
»¶
, 
bofs
, 
p
, 
nby‹s
);

1827 #ifdeà
HOTLEAKAGE


1828 ià(
cmd
 =ğ
Wr™e
)

1830 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

1831 
blk
->
time_dœty
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

1834 ià(
cmd
 =ğ
Wr™e
)

1836 
»¶
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

1837 
	`ş—r_mask
(
»¶
->
isBy‹Dœty
, 
ı
->
bsize
);

1838 
	`add_mask
(
»¶
->
isBy‹Dœty
, 
	`CACHE_BLK
 (
ı
, 
addr
), 
nby‹s
, cp->
bsize
);

1841 ià(
cmd
 =ğ
R—d
)

1843 
»¶
->
Ï¡_acûss_time
 = 
´ev_sim_cyşe
;

1844 
»¶
->
Ï¡_acûss_š¢
 = 
´ev_sim_num_š¢
;

1845 
»¶
->
¡Üe_nÙ_execu‹d
 = 
´ev_¡Üe_nÙ_exec
;

1847 
cu¼’t_blk
 = 
»¶
;

1850 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1852 ià(
cmd
 =ğ
Wr™e
)

1854 
wm1
++;

1858 
rm1
++;

1861 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

1863 ià(
cmd
 =ğ
Wr™e
)

1865 
wm2
++;

1869 
rm2
++;

1874 ià(
ud©a
)

1875 *
ud©a
 = 
»¶
->
u£r_d©a
;

1877 #ifdeà
ACCURATE_CACHE_MISS_IMP


1878 if(
»¶_¡©us
 & 
CACHE_BLK_VALID
)

1880 
Ït
 +ğ
	`BOUND_POS
 (
»¶_»ady
 - (
now
 +†at));

1881 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"è&& 
»¶_addr
)

1882 
	`š£¹_»¶_live
(*
»¶_addr
, 
»¶_»ady
, 
now
 + 
Ït
,‚ow, &
»¶_d©a
);

1886 
»¶
->
»ady
 = 
now
 + 
Ït
;

1889 ià(
ı
->
hsize
)

1890 
	`lšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

1893  
Ït
;

1896 
ÿche_h™
:

1898 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"))

1899 
l0H™FÏg
 = 1;

1900 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1901 
l1H™FÏg
 = 1;

1902 ià(!
	`¡rcmp
 (
ı
->
Çme
, "il1") || !strcmp (cp->name, "il0"))

1903 
1H™FÏg
 = 1;

1904 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

1905 
l2H™FÏg
 = 1;

1906 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dtlb"))

1907 
bH™FÏg
 = 1;

1908 #ifdeà
HOTLEAKAGE


1911 ià(
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
 && 
	`ÿche_Ëak_is_ù¾Ëd
 ())

1913 
blk
->
¡©us
 &ğ~
CACHE_BLK_DECAYED
;

1914 
‹mp
 = 
	`g‘_low_Ëak_³ÇÉy
 ();

1916 ià(
blk
->
»ady
 < 
now
 + 
	`g‘_low_Ëak_³ÇÉy
 ())

1917 
blk
->
»ady
 = 
now
 + 
	`g‘_low_Ëak_³ÇÉy
 (è+ 
ı
->
h™_Ï‹ncy
;

1920 ià(
b_deÿy_´ofe_’abËd
)

1921 
	`upd©e_ÿche_block_¡©s_wh’_h™
 (
ı
, 
blk
, 
cmd
);

1924 
ı
->
h™s
[
th»adid
]++;

1925 #ifdeà
CACHE_THRD_STAT


1926 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1928 
n_ÿche_acûss_thrd
[
th»adid
]++;

1932 #ifdeà
FINE_GRAIN_INV


1933 if(
blk
->
wÜdStus
 && !
	`¡rcmp
(
ı
->
Çme
,"dl0"))

1935 
fšeG¿šH™
;

1936 
wÜd_blk
 = 
	`CACHE_WORD_BLK
(
ı
, 
addr
);

1937 if(
blk
->
wÜdStus
[
wÜd_blk
] == 0)

1939 
by‹_t
 *
lše_hŞd”
 = 
	`ÿÎoc
 (
ı
->
bsize
,  (byte_t));

1940 
by‹_t
 *
l0ÿche_lše
 = 
lše_hŞd”
;

1941 
md_addr_t
 
l0ÿche_ofs
 = 0;

1942 
	`CACHE_BCOPY
 (
R—d
, 
blk
, 
l0ÿche_ofs
, 
l0ÿche_lše
, 
ı
->
bsize
);

1943 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
R—d
, 
	`CACHE_TAGSET
 (ı, 
addr
), cp->
bsize
, 
blk
, 
now
 +†©, 
th»adid
);

1944 
l0ÿche_ofs
 = 
bofs
 & ~(
GRANULARITY
-1);

1945 
l0ÿche_lše
 = 
lše_hŞd”
 + 
l0ÿche_ofs
;

1946 
	`CACHE_BCOPY
 (
R—d
, 
blk
, 
l0ÿche_ofs
, 
l0ÿche_lše
, 
GRANULARITY
);

1947 
l0ÿche_ofs
 = 0;

1948 
l0ÿche_lše
 = 
lše_hŞd”
;

1949 
	`CACHE_BCOPY
 (
Wr™e
, 
blk
, 
l0ÿche_ofs
, 
l0ÿche_lše
, 
ı
->
bsize
);

1950 
blk
->
wÜdStus
[
wÜd_blk
] = 1;

1951 
	`ä“
 (
lše_hŞd”
);

1955 
comb_¡©us
 = 1;

1956 
k
 = 0;

1957 
k
 = 0; k < 
ı
->
wÜd_num
; k++)

1958 
comb_¡©us
 = comb_¡©u & 
blk
->
wÜdStus
[
k
];

1959 if(
comb_¡©us
)

1960 
fšeG¿šH™
 = 1;

1966 ià(
ı
->
b®loc
)

1968 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
);

1971 #ifdeà
CFJ


1972 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"è&& 
cmd
 =ğ
Wr™e
 && 
th»adid
 =ğ
mašL—dTh»ad
)

1973 
	`sbd_lše_wr™e
(
ı
, 
addr
, 
vp
, 
nby‹s
, 
sbdL—dTh»ad
);

1977 ià(
cmd
 =ğ
Wr™e
)

1979 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

1980 
	`add_mask
(
blk
->
isBy‹Dœty
, 
	`CACHE_BLK
 (
ı
, 
addr
), 
nby‹s
, cp->
bsize
);

1981 #ifdeà
HOTLEAKAGE


1982 
blk
->
time_dœty
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

1987 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

1989 ià(
cmd
 =ğ
Wr™e
)

1991 
wh1
++;

1995 
rh1
++;

1998 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

2000 ià(
cmd
 =ğ
Wr™e
)

2002 
wh2
++;

2006 
rh2
++;

2010 #ifdeà
ALT_CACHE_MNG_POLICY


2011 if(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

2013 if(
£t
 == 0)

2015 
	`årštf
(
Œaû_fe
,"H™ - %d\t", 
£t
);

2016 
	`årštf
(
Œaû_fe
,"%d\n", 
g
);

2022 iàĞ
ı
->
pŞicy
 =ğ
LRU
)

2024 
qofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
)/8;

2025 if(
qofs
 >= 32)

2026 
qofs
 = 0;

2028 #ifdeà
ALT_CACHE_MNG_POLICY


2029 if(
	`¡rcmp
 (
ı
->
Çme
, "dl1"è|| 
blk
->
Ï¡Touch
[
qofs
])

2032 #ifdeà
ALT_CACHE_MNG_POLICY


2035 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
blk
, 
H—d
, cp->
assoc
);

2037 #ifdeà
ALT_CACHE_MNG_POLICY


2039 
blk
->
Ï¡Touch
[
qofs
] = 1;

2043 ià(
cmd
 =ğ
Wr™e
)

2045 
blk
->
Ï¡_acûss_time
 = 
now
;

2046 
blk
->
Ï¡_acûss_š¢
 = 
Ãw_sim_num_š¢
;

2047 
blk
->
¡Üe_nÙ_execu‹d
 = 
Ãw_¡Üe_nÙ_exec
;

2048 
blk
->
wrÚgLßdCau£s
 = 0;

2049 
blk
->
poisÚ
 = 0;

2050 #ifdeà
CACHE_CLEANUP


2051 
blk
->
robId
 = 
LSQ
[
m_nLSQIdx
]->robId;

2052 
blk
->
robExId
 = 
LSQ
[
m_nLSQIdx
]->robExId;

2055 
blk
->
isSË
 = 0;

2056 
´ev_sim_cyşe
 = 
blk
->
Ï¡_acûss_time
;

2057 
´ev_sim_num_š¢
 = 
blk
->
Ï¡_acûss_š¢
;

2058 
´ev_¡Üe_nÙ_exec
 = 
blk
->
¡Üe_nÙ_execu‹d
;

2059 
cu¼’t_blk
 = 
blk
;

2060 #ifdeà
STREAM_PREFETCHER


2061 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"è&& 
blk
->
¥Tag
 && !
dl2_´eãtch_aùive
)

2063 
	`Ïunch_¥
(
blk
->
¥Tag
-1);

2065 
blk
->
¥Tag
 = 0;

2071 
ı
->
Ï¡_g£tid
.
g
 = 
	`CACHE_TAGSET
 (ı, 
addr
);

2072 
ı
->
Ï¡_g£tid
.
th»adid
 =hreadid;

2073 
ı
->
Ï¡_blk
 = 
blk
;

2076 ià(
ud©a
)

2077 *
ud©a
 = 
blk
->
u£r_d©a
;

2080  (è
	`max2
 (
ı
->
h™_Ï‹ncy
, (
blk
->
»ady
 - 
now
));

2082 
ÿche_ç¡_h™
:

2084 #ifdeà
HOTLEAKAGE


2087 ià(
blk
->
¡©us
 & 
CACHE_BLK_DECAYED
)

2088 
	`çl
 ("can't have decayed block in fast_hit");

2090 ià(
b_deÿy_´ofe_’abËd
)

2091 
	`upd©e_ÿche_block_¡©s_wh’_h™
 (
ı
, 
blk
, 
cmd
);

2095 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"))

2096 
l0H™FÏg
 = 1;

2097 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

2098 
l1H™FÏg
 = 1;

2099 ià(!
	`¡rcmp
 (
ı
->
Çme
, "il1") || !strcmp (cp->name, "il0"))

2100 
1H™FÏg
 = 1;

2101 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

2102 
l2H™FÏg
 = 1;

2103 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dtlb"))

2104 
bH™FÏg
 = 1;

2106 
ı
->
h™s
[
th»adid
]++;

2107 #ifdeà
CACHE_THRD_STAT


2108 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

2110 
n_ÿche_acûss_thrd
[
th»adid
]++;

2115 ià(
ı
->
b®loc
)

2117 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
bofs
, 
p
, 
nby‹s
);

2120 #ifdeà
CFJ


2121 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl0"è&& 
cmd
 =ğ
Wr™e
 && 
th»adid
 =ğ
mašL—dTh»ad
)

2122 
	`sbd_lše_wr™e
(
ı
, 
addr
, 
vp
, 
nby‹s
, 
sbdL—dTh»ad
);

2126 ià(
cmd
 =ğ
Wr™e
)

2128 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

2129 
	`add_mask
(
blk
->
isBy‹Dœty
, 
	`CACHE_BLK
 (
ı
, 
addr
), 
nby‹s
, cp->
bsize
);

2130 #ifdeà
HOTLEAKAGE


2131 
blk
->
time_dœty
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

2135 ià(
cmd
 =ğ
Wr™e
)

2137 
blk
->
Ï¡_acûss_time
 = 
now
;

2138 
blk
->
Ï¡_acûss_š¢
 = 
Ãw_sim_num_š¢
;

2139 
blk
->
¡Üe_nÙ_execu‹d
 = 
Ãw_¡Üe_nÙ_exec
;

2140 
blk
->
wrÚgLßdCau£s
 = 
LSQ
[
m_nLSQIdx
]->
»cCau£s
;

2141 
blk
->
poisÚ
 = 0;

2142 #ifdeà
CACHE_CLEANUP


2143 
blk
->
robId
 = 
LSQ
[
m_nLSQIdx
]->robId;

2144 
blk
->
robExId
 = 
LSQ
[
m_nLSQIdx
]->robExId;

2147 if(
cmd
 =ğ
R—d
 && !
	`¡rcmp
 (
ı
->
Çme
, "dl0"è&& 
blk
->
wrÚgLßdCau£s
 && !
LSQ
[
m_nLSQIdx
]->
isWrÚgP©h
 && !LSQ[m_nLSQIdx]->
¥ec_mode
)

2149 
tÙ®RecStÜeLßdComm
++;

2150 
tÙ®In¡D–ayStÜeLßdComm
 +ğ
Ãw_sim_num_š¢
 - 
blk
->
Ï¡_acûss_š¢
;

2152 
blk
->
isSË
 = 0;

2153 
´ev_sim_cyşe
 = 
blk
->
Ï¡_acûss_time
;

2154 
´ev_sim_num_š¢
 = 
blk
->
Ï¡_acûss_š¢
;

2155 
´ev_¡Üe_nÙ_exec
 = 
blk
->
¡Üe_nÙ_execu‹d
;

2156 
cu¼’t_blk
 = 
blk
;

2159 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

2161 ià(
cmd
 =ğ
Wr™e
)

2163 
wh1
++;

2167 
rh1
++;

2170 ià(!
	`¡rcmp
 (
ı
->
Çme
, "ul2"))

2172 ià(
cmd
 =ğ
Wr™e
)

2174 
wh2
++;

2178 
rh2
++;

2187 ià(
ud©a
)

2188 *
ud©a
 = 
blk
->
u£r_d©a
;

2191 
ı
->
Ï¡_g£tid
.
g
 = 
	`CACHE_TAGSET
 (ı, 
addr
);

2192 
ı
->
Ï¡_g£tid
.
th»adid
 =hreadid;

2193 
ı
->
Ï¡_blk
 = 
blk
;

2198  (è
	`max2
 (
ı
->
h™_Ï‹ncy
, (
blk
->
»ady
 - 
now
));

2199 
	}
}

2201 #ifdeà
CFJ


2202 
	$sbd_lše_wr™e
 (
ÿche_t
 *
ı
,

2203 
md_addr_t
 
addr
,

2204 *
vp
,

2205 
nby‹s
,

2206 
th»adid
)

2208 
by‹_t
 *
p
 = 
vp
;

2209 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

2210 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

2211 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

2212 
ÿche_blk_t
 *
blk
;

2214 ià(
ı
->
hsize
)

2217 
hšdex
 = 
	`CACHE_HASH
 (
ı
, 
g
);

2219 
blk
 = 
ı
->
£ts
[
£t
].
hash
[
hšdex
]; blk; blk = blk->
hash_Ãxt
)

2221 ià((
blk
->
gid
.
g
 =ğgè&& (blk->gid.
th»adid
 ==hreadid) &&

2222 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

2229 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2231 ià((
blk
->
gid
.
g
 =ğgè&& (blk->gid.
th»adid
 ==hreadid) &&

2232 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

2237 ià(
blk
 && 
ı
->
b®loc
 && !
	`is_mask_£t
(blk, 
vp
, blk->
isBy‹Dœty
, 
bofs
, 
nby‹s
, cp->
bsize
))

2239 
blk
->
¡©us
 |ğ
CACHE_BLK_DIRTY
;

2240 
	`CACHE_BCOPY
 (
Wr™e
, 
blk
, 
bofs
, 
p
, 
nby‹s
);

2242 
	}
}

2246 
	$ÿche_´št
 (
ÿche_t
 *
ı1
, ÿche_ˆ*
ı2
)

2248 
	`årštf
 (
¡d”r
, "ZZ L1D stats\n");

2249 
	`årštf
 (
¡d”r
, "ZZ %ld %ld %ld %ld %lu\n", 
rm1
, 
rh1
, 
wm1
, 
wh1
, (è
ı1
->
wr™ebacks
[0]);

2250 
	`årštf
 (
¡d”r
, "ZZ UL2 stats\n");

2251 ià(
ı2
)

2252 
	`årštf
 (
¡d”r
, "ZZ %ld %ld %ld %ld %lu\n", 
rm2
, 
rh2
, 
wm2
, 
wh2
, (è
ı2
->
wr™ebacks
[0]);

2253 
	}
}

2257 
	$sim¶e_ÿche_æush
 (
ÿche_t
 *
ı
, 
th»adid
)

2259 
i
, 
numæush
;

2260 
ÿche_blk_t
 *
blk
;

2262 
numæush
 = 0;

2263 
i
 = 0; i < 
ı
->
n£ts
; i++)

2265 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2267 #ifdeà
CFJ


2268 ià(
blk
->
gid
.
th»adid
 =ğth»adid && (blk->
¡©us
 & 
CACHE_BLK_VALID
))

2270 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

2273 
ı
->
šv®id©iÚs
[
blk
->
gid
.
th»adid
]++;

2274 
blk
->
¡©us
 &ğ~
CACHE_BLK_VALID
;

2275 #ifdeà
CFJ


2276 
blk
->
dup
 = 0;

2278 
blk
->
Ï¡_acûss_time
 = 0;

2279 
blk
->
Ï¡_acûss_š¢
 = 0;

2280 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

2281 
blk
->
wrÚgLßdCau£s
 = 0;

2282 
blk
->
isSË
 = 0;

2283 
blk
->
poisÚ
 = 0;

2284 
	`ş—r_mask
(
blk
->
isBy‹Dœty
, 
ı
->
bsize
);

2285 #ifdeà
CACHE_CLEANUP


2286 
blk
->
robId
 = 0;

2287 
blk
->
robExId
 = 3;

2289 #ifdeà
FINE_GRAIN_INV


2290 if(
blk
->
wÜdStus
)

2292 
k
;

2293 
k
 = 0; k < 
ı
->
wÜd_num
; k++)

2294 
blk
->
wÜdStus
[
k
] = 0;

2298 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

2300 
ı
->
wr™ebacks
[
blk
->
gid
.
th»adid
]++;

2301 
blk
->
¡©us
 &ğ~
CACHE_BLK_DIRTY
;

2302 
numæush
++;

2308  
numæush
;

2309 
	}
}

2313 
	$ÿche_æush
 (
ÿche_t
 *
ı
,

2314 
tick_t
 
now
)

2319 
i
, 
Ït
 = 
ı
->
h™_Ï‹ncy
;

2320 
ÿche_blk_t
 *
blk
;

2323 
ı
->
Ï¡_g£tid
.
g
 = 0;

2324 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2325 
ı
->
Ï¡_blk
 = 
NULL
;

2328 
i
 = 0; i < 
ı
->
n£ts
; i++)

2330 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2332 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

2334 
ı
->
šv®id©iÚs
[
blk
->
gid
.
th»adid
]++;

2335 
blk
->
¡©us
 &ğ~
CACHE_BLK_VALID
;

2336 
blk
->
Ï¡_acûss_time
 = 0;

2337 
blk
->
Ï¡_acûss_š¢
 = 0;

2338 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

2339 
blk
->
wrÚgLßdCau£s
 = 0;

2340 
blk
->
poisÚ
 = 0;

2341 
blk
->
isSË
 = 0;

2342 
	`ş—r_mask
(
blk
->
isBy‹Dœty
, 
ı
->
bsize
);

2343 #ifdeà
CACHE_CLEANUP


2344 
blk
->
robId
 = 0;

2345 
blk
->
robExId
 = 3;

2348 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

2351 
ı
->
wr™ebacks
[
blk
->
gid
.
th»adid
]++;

2352 
ı
->
wrb
++;

2353 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

2354 
	`·nic
 ("flush implementation should be modified for THRD_WAY_CACHE");

2355 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
Wr™e
, 
	`CACHE_MK_BADDR
 (ı, 
blk
->
gid
.
g
, 
i
), cp->
bsize
, blk, 
now
 +†©, blk->gid.
th»adid
);

2362  
Ït
;

2363 
	}
}

2368 
	$ÿche_æush_addr
 (
ÿche_t
 *
ı
,

2369 
md_addr_t
 
addr
,

2370 
tick_t
 
now
,

2371 
th»adid
)

2373 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

2374 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

2375 
ÿche_blk_t
 *
blk
;

2376 
Ït
 = 
ı
->
h™_Ï‹ncy
;

2378 ià(
ı
->
hsize
)

2381 
hšdex
 = 
	`CACHE_HASH
 (
ı
, 
g
);

2383 
blk
 = 
ı
->
£ts
[
£t
].
hash
[
hšdex
]; blk; blk = blk->
hash_Ãxt
)

2385 ià((
blk
->
gid
.
g
 ==ag) &&

2386 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

2393 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2395 ià((
blk
->
gid
.
g
 ==ag) &&

2396 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

2401 ià(
blk
)

2403 
ı
->
šv®id©iÚs
[
blk
->
gid
.
th»adid
]++;

2404 
blk
->
¡©us
 &ğ~
CACHE_BLK_VALID
;

2405 
blk
->
Ï¡_acûss_time
 = 0;

2406 
blk
->
isSË
 = 0;

2407 
blk
->
Ï¡_acûss_š¢
 = 0;

2408 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

2409 
blk
->
wrÚgLßdCau£s
 = 0;

2410 
blk
->
poisÚ
 = 0;

2411 
	`ş—r_mask
(
blk
->
isBy‹Dœty
, 
ı
->
bsize
);

2412 #ifdeà
CACHE_CLEANUP


2413 
blk
->
robId
 = 0;

2414 
blk
->
robExId
 = 3;

2416 #ifdeà
FINE_GRAIN_INV


2417 if(
blk
->
wÜdStus
)

2419 
k
;

2420 
k
 = 0; k < 
ı
->
wÜd_num
; k++)

2421 
blk
->
wÜdStus
[
k
] = 0;

2427 
ı
->
Ï¡_g£tid
.
g
 = 0;

2428 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2429 
ı
->
Ï¡_blk
 = 
NULL
;

2431 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

2433 ià(
	`¡rcmp
 (
ı
->
Çme
, "dl0"))

2436 
ı
->
wr™ebacks
[
blk
->
gid
.
th»adid
]++;

2437 ià(!
	`¡rcmp
 (
ı
->
Çme
, "dl1"))

2438 
	`·nic
 ("flush_addr implementation should be modified for THRD_WAY_CACHE");

2439 
Ït
 +ğ
ı
->
	`blk_acûss_â
 (
Wr™e
, 
	`CACHE_MK_BADDR
 (ı, 
blk
->
gid
.
g
, 
£t
), cp->
bsize
, blk, 
now
 +†©, blk->gid.
th»adid
);

2441 
blk
->
¡©us
 &ğ~
CACHE_BLK_DIRTY
;

2444 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
blk
, 
Ta
, cp->
assoc
);

2448  
Ït
;

2449 
	}
}

2452 
	$sim¶e_ÿche_æush_addr
 (
ÿche_t
 *
ı
,

2453 
md_addr_t
 
addr
)

2455 
md_addr_t
 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

2456 
md_addr_t
 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

2457 
ÿche_blk_t
 *
blk
;

2459 ià(
ı
->
hsize
)

2462 
hšdex
 = 
	`CACHE_HASH
 (
ı
, 
g
);

2464 
blk
 = 
ı
->
£ts
[
£t
].
hash
[
hšdex
]; blk; blk = blk->
hash_Ãxt
)

2466 ià((
blk
->
gid
.
g
 ==ag) &&

2467 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

2474 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2476 ià((
blk
->
gid
.
g
 ==ag) &&

2477 (
blk
->
¡©us
 & 
CACHE_BLK_VALID
))

2483 ià(
blk


2484 #ifdef 
CONV_PREF_STORES


2485 && 
blk
->
isSË


2489 #ifdef 
CONV_PREF_STORES


2490 
tÙ®R–CE
++;

2491 ià(
blk
->
¡Üe_nÙ_execu‹d
 > blk->
Ï¡_acûss_š¢
)

2492 
tÙ®R–CESËD
++;

2495 ià(
Ï¡Th0Comm™‹dIn¢
 < 
blk
->
Ï¡_acûss_š¢
)

2496 
tÙ®R–CECÜrDBd
++;

2499 
comb_¡©us
 = 0;

2500 #ifdeà
FINE_GRAIN_INV


2501 if(
blk
->
wÜdStus
)

2503 
wÜd_blk
 = 
	`CACHE_WORD_BLK
(
ı
, 
addr
);

2504 
blk
->
wÜdStus
[
wÜd_blk
] = 0;

2505 
k
 = 0;

2506 
k
 = 0; k < 
ı
->
wÜd_num
; k++)

2507 
comb_¡©us
 = comb_¡©u | 
blk
->
wÜdStus
[
k
];

2510 if(
comb_¡©us
 == 0)

2512 
blk
->
¡©us
 &ğ~
CACHE_BLK_VALID
;

2513 
blk
->
Ï¡_acûss_time
 = 0;

2514 
blk
->
isSË
 = 0;

2515 
blk
->
Ï¡_acûss_š¢
 = 0;

2516 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

2517 
blk
->
wrÚgLßdCau£s
 = 0;

2518 
blk
->
poisÚ
 = 0;

2519 
	`ş—r_mask
(
blk
->
isBy‹Dœty
, 
ı
->
bsize
);

2520 #ifdeà
CACHE_CLEANUP


2521 
blk
->
robId
 = 0;

2522 
blk
->
robExId
 = 3;

2524 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

2525 
blk
->
¡©us
 &ğ~
CACHE_BLK_DIRTY
;

2528 
ı
->
Ï¡_g£tid
.
g
 = 0;

2529 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2530 
ı
->
Ï¡_blk
 = 
NULL
;

2533 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
blk
, 
Ta
, cp->
assoc
);

2536 
	}
}

2539 
	$ÿche_æush_·ge
 (
md_addr_t
 
addr
,

2540 
nby‹s
)

2542 
ÿche_t
 *
ı
;

2543 
ÿche_t
 *
ÿche_li¡
[5];

2544 
i
;

2547 
ÿche_li¡
[0] = 
ÿche_dl2
;

2548 
ÿche_li¡
[1] = 
ÿche_dl1
;

2549 
ÿche_li¡
[2] = 
ÿche_dl0
;

2550 
ÿche_li¡
[3] = 
NULL
;

2552 
ı
 = 
ÿche_li¡
[0], 
i
 = 0; c°!ğ
NULL
; cp = cache_list[i])

2554 
md_addr_t
 
memAddr
 = 
addr
;

2556 
memAddr
 = memAdd¸& (~
ı
->
blk_mask
);

2557 
memAddr
 < (
addr
 + 
nby‹s
))

2559 
	`sim¶e_ÿche_æush_addr
 (
ı
, 
memAddr
);

2560 
memAddr
 = memAdd¸+ 
ı
->
bsize
;

2562 
i
++;

2564 
	}
}

2566 #ifdeà
CFJ


2567 
couÁ”_t
 
	gmašDœtySbdDœty
 = 0;

2568 
couÁ”_t
 
	gmašDœtySbdCËª
 = 0;

2569 
couÁ”_t
 
	gmašCËª
 = 0;

2571 
	$ÿche_»£t_id
 (
ÿche_t
 *
ı
, 
th»adid
)

2573 
i
, 
Ït
 = 
ı
->
h™_Ï‹ncy
;

2574 
ÿche_blk_t
 *
blk
;

2577 
ı
->
Ï¡_g£tid
.
g
 = 0;

2578 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2579 
ı
->
Ï¡_blk
 = 
NULL
;

2582 
i
 = 0; i < 
ı
->
n£ts
; i++)

2584 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2586 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

2588 
ÿche_blk_t
 *
blk1
, *
blk_æush
;

2589 
m©ch
 = 0;

2590 
blk1
 = 
ı
->
£ts
[
i
].
way_h—d
; blk1; blk1 = blk1->
way_Ãxt
)

2592 ià(
blk1
->
¡©us
 & 
CACHE_BLK_VALID
)

2594 if(
blk1
->
gid
.
g
 =ğ
blk
->gid.g && blk1->gid.
th»adid
 == blk->tagid.threadid)

2596 if(
blk1
->
gid
.
g
 =ğ
blk
->tagid.tag)

2598 if(
m©ch
)

2599 
	`·nic
("Morehan one match in‡ single way of L0 cache.");

2600 
m©ch
 = 1;

2601 if(
blk1
->
gid
.
th»adid
 !=hreadid)

2603 
blk_æush
 = 
blk1
;

2604 
blk1
 = 
blk
;

2607 
blk_æush
 = 
blk
;

2609 if((
blk_æush
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& (
blk1
->status & CACHE_BLK_DIRTY))

2610 
mašDœtySbdDœty
++;

2611 if((
blk_æush
->
¡©us
 & 
CACHE_BLK_DIRTY
è&& !(
blk1
->status & CACHE_BLK_DIRTY))

2613 
	`memıy
(
blk1
->
d©a
, 
blk_æush
->d©a, 
ı
->
bsize
);

2614 
mašDœtySbdCËª
++;

2617 
mašCËª
++;

2619 
blk_æush
->
¡©us
 = 0;

2620 
blk_æush
->
Ï¡_acûss_time
 = 0;

2621 
blk_æush
->
isSË
 = 0;

2622 
blk_æush
->
Ï¡_acûss_š¢
 = 0;

2623 
blk_æush
->
¡Üe_nÙ_execu‹d
 = 0;

2624 
blk_æush
->
wrÚgLßdCau£s
 = 0;

2625 
blk_æush
->
poisÚ
 = 0;

2626 #ifdeà
CACHE_CLEANUP


2627 
blk_æush
->
robId
 = 0;

2628 
blk_æush
->
robExId
 = 3;

2630 
ı
->
Ï¡_g£tid
.
g
 = 0;

2631 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2632 
ı
->
Ï¡_blk
 = 
NULL
;

2633 
	`ş—r_mask
(
blk_æush
->
isBy‹Dœty
, 
ı
->
bsize
);

2634 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
i
], 
blk_æush
, 
Ta
, cp->
assoc
);

2638 
blk
->
gid
.
th»adid
 =hreadid;

2639 
blk
->
dup
 = 0;

2643 
	}
}

2645 
	$ÿche_»£t_dœty
 (
ÿche_t
 *
ı
)

2647 
i
, 
Ït
 = 
ı
->
h™_Ï‹ncy
;

2648 
ÿche_blk_t
 *
blk
;

2651 
i
 = 0; i < 
ı
->
n£ts
; i++)

2653 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2655 ià((
blk
->
¡©us
 & 
CACHE_BLK_VALID
è&& (blk->¡©u & 
CACHE_BLK_DIRTY
))

2657 
blk
->
¡©us
 &ğ~
CACHE_BLK_DIRTY
;

2658 
	`ş—r_mask
(
blk
->
isBy‹Dœty
, 
ı
->
bsize
);

2662 
	}
}

2665 #ifdeà
HOTLEAKAGE


2669 
	$Ê2
 (
x
)

2671  
	`log10
 (
x
) /†og10 (2.0);

2672 
	}
}

2675 
	$ÿche_Ëak_š™
 ()

2678 
n_lšes
 = 
deÿyed_ÿche
->
n£ts
 * deÿyed_ÿche->
assoc
;

2679 
ÿche_size
 = 
n_lšes
 * 
deÿyed_ÿche
->
bsize
;

2682 
loÿl_width
 = 
	`Ê2
 (
loÿl_couÁ”_max
 + 1);

2685 
glob®_width
 = 
	`Ê2
 (
glob®_couÁ”_max
 + 1);

2688 
v_addr_size
 =  (
md_addr_t
) * 8;

2689 
g_size
 = 
v_addr_size
 - (
	`Ê2
 (
deÿyed_ÿche
->
n£ts
è+†n2 (deÿyed_ÿche->
bsize
)è+ 
CACHE_BLK_NFLAGS
;

2690 
g_¬¿y_size
 = (
g_size
 * 
n_lšes
) / 8;

2695 
glob®_af
 = 1.0 / 
glob®_width
;

2696 
loÿl_af
 = 0.5;

2699 
glob®_acûss_pow”
 = 
	`sim¶e_¬¿y_wÜdlše_pow”
 (1, 
glob®_width
, 1, 1, 0);

2701 
glob®_acûss_pow”
 +ğ
glob®_af
 * 
	`sim¶e_¬¿y_b™lše_pow”
 (1, 
glob®_width
, 1, 1, 0);

2704 
loÿl_acûss_pow”
 = 
	`sim¶e_¬¿y_wÜdlše_pow”
 (
n_lšes
, 
loÿl_width
, 1, 1, 0);

2706 
loÿl_acûss_pow”
 +ğ
loÿl_af
 * 
	`sim¶e_¬¿y_b™lše_pow”
 (
n_lšes
, 
loÿl_width
, 1, 1, 0);

2709 
loÿl_»£t_pow”
 = 
	`sim¶e_¬¿y_wÜdlše_pow”
 (1, 
loÿl_width
, 1, 1, 0);

2711 
loÿl_»£t_pow”
 +ğ
loÿl_af
 * 
	`sim¶e_¬¿y_b™lše_pow”
 (1, 
loÿl_width
, 1, 1, 0);

2712 
	}
}

2723 
	$ÿche_g‘_ù¾_ovhd_¿tio
 (
Ëak_ù¾_ty³_t
 
ty³
)

2725 
xŒa2Üig_¿tio
;

2727 
ty³
)

2730 
G©edVss
:

2731 
Drowsy
:

2732 
RBB
:

2734 
xŒa2Üig_¿tio
 = ((è
loÿl_width
è/ (
deÿyed_ÿche
->
bsize
 * 8 + 
g_size
);

2735 
xŒa2Üig_¿tio
 +ğ((è
glob®_width
è/ (8 * (
ÿche_size
 + 
g_¬¿y_size
));

2737 
NÚe
:

2739 
xŒa2Üig_¿tio
 = 0;

2743  
xŒa2Üig_¿tio
;

2744 
	}
}

2754 
	$ÿche_g‘_xŒa_pow”
 (
Ëak_ù¾_ty³_t
 
ty³
)

2756 
xŒa_pow”
 = 0;

2758 
ty³
)

2761 
G©edVss
:

2762 
Drowsy
:

2763 
RBB
:

2766 
xŒa_pow”
 +ğ
glob®_acûss_pow”
;

2769 
xŒa_pow”
 +ğ
n_»£ts
 * 
loÿl_»£t_pow”
;

2772 ià(
glob®_tick
)

2773 
xŒa_pow”
 +ğ
loÿl_acûss_pow”
;

2777 
NÚe
:

2783 
glob®_tick
 = 0;

2784 
n_»£ts
 = 0;

2786  
xŒa_pow”
;

2787 
	}
}

2793 
	$ÿcheBcİy
 (
mem_cmd
 
cmd
, 
ÿche_blk_t
 *
blk
, 
pos™iÚ
, 
by‹_t
 * 
d©a
, 
nby‹s
)

2795 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
pos™iÚ
, 
d©a
, 
nby‹s
);

2796 
	}
}

2800 
	$ÿcheBlockS—rch
 (
ÿche_t
 *
ı
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, 
by‹_t
 * 
d©a
, 
nby‹s
, 
th»adid
)

2802 
md_addr_t
 
g
;

2803 
md_addr_t
 
£t
;

2804 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

2805 
ÿche_blk_t
 *
blk
 = 
NULL
;

2806 
md_addr_t
 
bªk_³r_th»ad
, 
thrd_bªk_¡¬t
, 
thrd_wÜd_bªk
;

2807 
md_addr_t
 
£t_bªk
;

2808 
md_addr_t
 
wb_addr
;

2809 
h™
 = 0;

2811 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

2812 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

2816 ià(
addr
 =ğ0x140002bf0 && !
	`¡rcmp
 (
ı
->
Çme
, "dl0"))

2818 
	`årštf
 (
¡d”r
, "Debug here\n");

2823 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2826 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
)

2827 #ifdeà
CFJ


2828 && (
	`¡rcmp
(
ı
->
Çme
,"dl0"è|| (!
thecÚ‹xts
[
sbdL—dTh»ad
]->
ruÂšg
 || 
blk
->
gid
.
th»adid
 =ğth»adid || (th»adid =ğsbdL—dTh»ad && !blk->
dup
è|| (th»adid =ğ
mašL—dTh»ad
 && !(blk->
¡©us
 & 
CACHE_BLK_DIRTY
))))

2832 
h™
 = 1;

2833 
cu¼’t_blk
 = 
blk
;

2838 #ifdeà
FINE_GRAIN_INV


2839 if(
h™
 && 
blk
->
wÜdStus
)

2841 
wÜd_blk
 = 
	`CACHE_WORD_BLK
(
ı
, 
addr
);

2842 if(
blk
->
wÜdStus
[
wÜd_blk
] =ğ0è
h™
 = 0;

2845 ià((
h™
 =ğ1è&& (
ı
->
b®loc
))

2847 #ifdeà 
IDEAL_LONGDIST_CE


2848 
couÁ”_t
 
tÙ®R–CE
;

2849 
cu¼’tG—r
;

2853 ià(
cu¼’tG—r
 =ğ1 && (
blk
->
¡Üe_nÙ_execu‹d
 > blk->
Ï¡_acûss_š¢
è&& (
Ãw_sim_num_š¢
 - blk->store_not_executed) > 100)

2855 
tÙ®R–CE
++;

2856 
blk
->
¡©us
 &ğ~
CACHE_BLK_VALID
;

2857 
blk
->
Ï¡_acûss_time
 = 0;

2858 
blk
->
isSË
 = 0;

2859 
blk
->
Ï¡_acûss_š¢
 = 0;

2860 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

2861 
blk
->
wrÚgLßdCau£s
 = 0;

2862 
blk
->
poisÚ
 = 0;

2863 #ifdeà
CACHE_CLEANUP


2864 
blk
->
robId
 = 0;

2865 
blk
->
robExId
 = 3;

2867 ià(
blk
->
¡©us
 & 
CACHE_BLK_DIRTY
)

2868 
blk
->
¡©us
 &ğ~
CACHE_BLK_DIRTY
;

2871 
ı
->
Ï¡_g£tid
.
g
 = 0;

2872 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2873 
ı
->
Ï¡_blk
 = 
NULL
;

2876 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
blk
, 
Ta
, cp->
assoc
);

2882 
	`CACHE_BCOPY
 (
cmd
, 
blk
, 
bofs
, 
d©a
, 
nby‹s
);

2884 #ifdeà 
IDEAL_LONGDIST_CE


2889 
	}
}

2892 
	$ÿcheAÎocBlock
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
by‹_t
 * 
d©a
, 
nby‹s
)

2894 
md_addr_t
 
g
;

2895 
md_addr_t
 
£t
;

2896 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

2897 
ÿche_blk_t
 *
»¶
 = 
NULL
;

2898 
md_addr_t
 
bªk_³r_th»ad
, 
thrd_bªk_¡¬t
, 
thrd_wÜd_bªk
;

2899 
md_addr_t
 
£t_bªk
;

2900 
th»adid
 = 0;

2902 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

2903 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

2907 
»¶
 = 
ı
->
£ts
[
£t
].
way_
;

2908 
	`upd©e_way_li¡
 (&
ı
->
£ts
[
£t
], 
»¶
, 
H—d
, cp->
assoc
);

2911 ià(
ı
->
hsize
)

2912 
	`uÆšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

2915 
ı
->
Ï¡_g£tid
.
g
 = 0;

2916 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

2917 
ı
->
Ï¡_blk
 = 
NULL
;

2919 
»¶
->
gid
.
g
 =ag;

2920 
»¶
->
gid
.
th»adid
 =hreadid;

2921 
»¶
->
¡©us
 = 
CACHE_BLK_VALID
;

2922 
»¶
->
»ady
 = 0;

2924 
	`CACHE_BCOPY
 (
Wr™e
, 
»¶
, 
bofs
, 
d©a
, 
nby‹s
);

2927 ià(
ı
->
hsize
)

2928 
	`lšk_hb_’t
 (
ı
, &ı->
£ts
[
£t
], 
»¶
);

2929 
	}
}

2932 
	$¡ÜeS—rch
 (
ÿche_t
 *
ı
, 
md_addr_t
 
addr
, 
couÁ”_t
 
sim_num_š¢
)

2934 
md_addr_t
 
g
;

2935 
md_addr_t
 
£t
;

2936 
md_addr_t
 
bofs
 = 
	`CACHE_BLK
 (
ı
, 
addr
);

2937 
ÿche_blk_t
 *
blk
 = 
NULL
;

2938 
md_addr_t
 
bªk_³r_th»ad
, 
thrd_bªk_¡¬t
, 
thrd_wÜd_bªk
;

2939 
md_addr_t
 
£t_bªk
;

2940 
md_addr_t
 
wb_addr
;

2941 
h™
 = 0;

2942 
th»adid
 = 0;

2944 
g
 = 
	`CACHE_TAG
 (
ı
, 
addr
);

2945 
£t
 = 
	`CACHE_SET
 (
ı
, 
addr
);

2948 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2951 ià((
blk
->
gid
.
g
 =ğgè&& (blk->
¡©us
 & 
CACHE_BLK_VALID
))

2953 
h™
 = 1;

2958 ià(
h™
 == 1)

2960 
blk
->
¡Üe_nÙ_execu‹d
 = 
sim_num_š¢
;

2964 
	}
}

2967 
	$ÿchePŞlutiÚ
 (
ÿche_t
 *
ı
)

2969 
md_addr_t
 
£t
;

2970 
ÿche_blk_t
 *
blk
 = 
NULL
;

2971 
numPŞlu‹d
 = 0;

2974 
£t
 = 0; s‘ < 
ı
->
n£ts
; set++)

2976 
blk
 = 
ı
->
£ts
[
£t
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

2979 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
 && (blk->
poisÚ
 || blk->
wrÚgLßdCau£s
))

2980 
numPŞlu‹d
++;

2983  
numPŞlu‹d
;

2984 
	}
}

2986 #ifdeà
STREAM_PREFETCHER


2988 
	$š™_¥
 ()

2990 
i
;

2992 
i
 = 0; i < 
MISS_TABLE_SIZE
; i++)

2993 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
] = 0;

2994 
miss_hi¡Üy_bË
.
mht_
 = 0;

2995 
miss_hi¡Üy_bË
.
mht_num
 = 0;

2997 
i
 = 0; i < 
STREAM_ENTRIES
; i++)

2999 
¡»am_bË
[
i
].
v®id
 = 0;

3000 
¡»am_bË
[
i
].
addr
 = 0;

3001 
¡»am_bË
[
i
].
¡ride
 = 0;

3002 
¡»am_bË
[
i
].
»maššg_´eãtches
 = 0;

3003 
¡»am_bË
[
i
].
Ï¡_u£
 = 0;

3005 
	}
}

3008 
	$š£¹_¥
 (
md_addr_t
 
addr
)

3010 
i
, 
num
;

3011 
di¡
;

3012 
mš_’Œy
;

3013 
md_addr_t
 
¡ride_addr
;

3014 
couÁ
 = 0;

3016 ià(
miss_hi¡Üy_bË
.
mht_num
 == 0)

3018 
miss_hi¡Üy_bË
.
hi¡Üy
[miss_hi¡Üy_bË.
mht_
] = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1));

3019 
miss_hi¡Üy_bË
.
mht_
 = (miss_hi¡Üy_bË.mht_ + 1è% 
MISS_TABLE_SIZE
;

3020 
miss_hi¡Üy_bË
.
mht_num
++;

3024 
di¡
 = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[(miss_hi¡Üy_bË.
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE];

3025 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[(miss_hi¡Üy_bË.
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE];

3026 
mš_’Œy
 = (
miss_hi¡Üy_bË
.
mht_
 + 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE;

3029 
num
 = 1, 
i
 = (
miss_hi¡Üy_bË
.
mht_
 + 
MISS_TABLE_SIZE
 - 2è% MISS_TABLE_SIZE;‚um < miss_hi¡Üy_bË.
mht_num
; i = (i + MISS_TABLE_SIZE - 1) % MISS_TABLE_SIZE,‚um++)

3031 
cu¼_di¡
 = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

3033 ià(
	`abs
 (
cu¼_di¡
è<‡b (
di¡
))

3035 
di¡
 = 
cu¼_di¡
;

3036 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

3037 
mš_’Œy
 = 
i
;

3041 
i
 = 
mš_’Œy
;

3044 
i
 = (˜+ 
MISS_TABLE_SIZE
 - 1) % MISS_TABLE_SIZE;

3045 
cu¼_di¡
 = (
¡ride_addr
 & ~(
ÿche_dl2
->
bsize
 - 1)è- 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

3047 ià(
cu¼_di¡
 =ğ
di¡
)

3049 
couÁ
++;

3050 
¡ride_addr
 = 
miss_hi¡Üy_bË
.
hi¡Üy
[
i
];

3053 
i
 !ğ
miss_hi¡Üy_bË
.
mht_
);

3056 
miss_hi¡Üy_bË
.
hi¡Üy
[miss_hi¡Üy_bË.
mht_
] = (
addr
 & ~(
ÿche_dl2
->
bsize
 - 1));

3057 
miss_hi¡Üy_bË
.
mht_
 = (miss_hi¡Üy_bË.mht_ + 1è% 
MISS_TABLE_SIZE
;

3058 ià(
miss_hi¡Üy_bË
.
mht_num
 < 
MISS_TABLE_SIZE
)

3059 
miss_hi¡Üy_bË
.
mht_num
++;

3061 ià(
couÁ
 > 1)

3064 
id
 = 0;

3066 ià(
¡»am_bË
[0].
v®id
 == 1)

3068 
Ï¡_u£
 = 
¡»am_bË
[0].last_use;

3070 
id
 = 0;

3071 
i
 = 1; i < 
STREAM_ENTRIES
; i++)

3073 ià(
¡»am_bË
[
i
].
v®id
 == 1)

3075 ià(
Ï¡_u£
 < 
¡»am_bË
[
i
].last_use)

3077 
Ï¡_u£
 = 
¡»am_bË
[
i
].last_use;

3078 
id
 = 
i
;

3083 
id
 = 
i
;

3090 
¡»am_bË
[
id
].
v®id
 = 1;

3091 
¡»am_bË
[
id
].
addr
 =‡dd¸& ~(
ÿche_dl2
->
bsize
 - 1);

3092 
¡»am_bË
[
id
].
¡ride
 = 
di¡
;

3093 
¡»am_bË
[
id
].
»maššg_´eãtches
 = 
PREFETCH_DISTANCE
;

3094 
¡»am_bË
[
id
].
Ï¡_u£
 = 2000000000;

3097 
	`Ïunch_¥
 (
id
);

3099 
	}
}

3102 
	$Ïunch_¥
 (
id
)

3104 
i
 = 
id
;

3106 ià(
¡»am_bË
[
i
].
v®id
 == 1)

3108 ; 
¡»am_bË
[
i
].
»maššg_´eãtches
; stream_table[i].remaining_prefetches--)

3110 
lßd_Ït
 = 0;

3111 
by‹_t
 *
l1ÿche_lše
 = 
	`ÿÎoc
 (
ÿche_dl2
->
bsize
,  (byte_t));

3113 
¡»am_bË
[
i
].
addr
 = sŒ—m_bË[i].add¸+ sŒ—m_bË[i].
¡ride
;

3114 
¡»am_bË
[
i
].
Ï¡_u£
 = 
sim_cyşe
[
ç¡e¡_cÜe
];

3118 
dl2_´eãtch_aùive
 = 1;

3119 
dl2_´eãtch_id
 = 
i
;

3120 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl2
, 
R—d
, (
¡»am_bË
[
i
].
addr
 & ~(ÿche_dl2->
bsize
 - 1)), 
l1ÿche_lše
, cache_dl2->bsize,

3121  
sim_cyşe
[
ç¡e¡_cÜe
], 
NULL
, NULL, 0);

3122 ià(
l2H™FÏg
)

3124 ià(
lßd_Ït
 <ğ
ÿche_dl2
->
h™_Ï‹ncy
)

3125 
pæ2H™
++;

3127 
pæ2SecMiss
++;

3130 
pæ2PrimMiss
++;

3132 
dl2_´eãtch_aùive
 = 0;

3133 
	`ä“
 (
l1ÿche_lše
);

3136 
¡»am_bË
[
i
].
»maššg_´eãtches
 = 1;

3137 
	}
}

3141 #ifdeà 
REALISTIC_LONGDIST_CE


3142 
couÁ”_t
 
tÙ®R–CE
;

3143 
couÁ”_t
 
tÙ®R–CESËD
;

3144 
couÁ”_t
 
tÙ®R–CECÜrDBd
;

3146 
	$æushS–eùive
 (
ÿche_t
 *
ı
)

3148 
i
, 
Ït
 = 
ı
->
h™_Ï‹ncy
;

3149 
ÿche_blk_t
 *
blk
;

3150 
Ï¡Th0Comm™‹dIn¢
;

3153 
ı
->
Ï¡_g£tid
.
g
 = 0;

3154 
ı
->
Ï¡_g£tid
.
th»adid
 = -1;

3155 
ı
->
Ï¡_blk
 = 
NULL
;

3160 
i
 = 0; i < 
ı
->
n£ts
; i++)

3162 
blk
 = 
ı
->
£ts
[
i
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

3164 ià(
blk
->
¡©us
 & 
CACHE_BLK_VALID
)

3166 #iâdeà
STORE_DELAY_CE


3167 ià(
blk
->
isSË
)

3169 
tÙ®R–CE
++;

3170 ià(
blk
->
¡Üe_nÙ_execu‹d
 > blk->
Ï¡_acûss_š¢
)

3171 
tÙ®R–CESËD
++;

3174 ià(
Ï¡Th0Comm™‹dIn¢
 < 
blk
->
Ï¡_acûss_š¢
)

3175 
tÙ®R–CECÜrDBd
++;

3177 
blk
->
¡©us
 = 0;

3178 
blk
->
Ï¡_acûss_time
 = 0;

3179 
blk
->
Ï¡_acûss_š¢
 = 0;

3180 
blk
->
¡Üe_nÙ_execu‹d
 = 0;

3181 
blk
->
wrÚgLßdCau£s
 = 0;

3182 
blk
->
poisÚ
 = 0;

3183 
blk
->
isSË
 = 0;

3184 #ifdeà
CACHE_CLEANUP


3185 
blk
->
robId
 = 0;

3186 
blk
->
robExId
 = 3;

3191 
blk
->
isSË
 = 1;

3195 
	}
}

3197 
	$m¬kCacheOld
(
ÿche_t
 *
ı
, 
robExId
)

3199 
ÿche_blk_t
 *
blk
;

3200 
i
;

3202 
i
=0; i<
ı
->
n£ts
; i++)

3204 
blk
=
ı
->
£ts
[
i
].
way_h—d
; blk; blk=blk->
way_Ãxt
)

3206 ià(
blk
->
robExId
 ==„obExId)

3207 
blk
->
robExId
 = 3;

3210 
	}
}

3212 #ifdeà
ACCURATE_CACHE_MISS_IMP


3213 
»¶_live_t
 *
	g»¶_live
 = 
NULL
;

3214 
	$š£¹_»¶_live
(
md_addr_t
 
addr
, 
tick_t
 
»ady
,ick_ˆ
»cyşe
,ick_ˆ
now
, 
by‹_t
 *
d©a
)

3216 if(
»cyşe
 <ğ
now
) ;

3217 if(
»ady
 > 
»cyşe
) ;

3218 
by‹_t
 *
p
 = 
d©a
;

3219 
md_addr_t
 
rofs
 = 0;

3221 
»¶_live_t
 *
‹mp
 = (»¶_live_ˆ*è
	`ÿÎoc
(1, (repl_live_t));

3222 
‹mp
->
addr
 =‡ddr;

3223 
‹mp
->
»ady
 =„eady;

3224 
‹mp
->
»cyşe
 =„ecycle;

3225 
‹mp
->
d©a
 = 
	`ÿÎoc
(
ÿche_dl2
->
bsize
, (
by‹_t
));

3226 
	`CACHE_SCOPY
(
Wr™e
, 
‹mp
->
d©a
, 
rofs
, 
p
, 
ÿche_dl2
->
bsize
);

3227 
‹mp
->
Ãxt
 = 
NULL
;

3228 
»¶_live_t
 *
Œav”£
;

3229 
»¶_live_t
 *
´evious
;

3231 if(
»¶_live
 =ğ
NULL
)

3233 
»¶_live
 = 
‹mp
;

3236 if(
»cyşe
 < 
»¶_live
->recycle)

3238 
‹mp
->
Ãxt
 = 
»¶_live
;

3239 
»¶_live
 = 
‹mp
;

3242 
´evious
 = 
»¶_live
;

3243 
Œav”£
 = 
»¶_live
->
Ãxt
;

3244 
Œav”£
)

3246 if(
»cyşe
 < 
Œav”£
->recycle)

3248 
‹mp
->
Ãxt
 = 
´evious
->next;

3249 
´evious
->
Ãxt
 = 
‹mp
;

3252 
Œav”£
 =¿v”£->
Ãxt
;

3253 
´evious
 =…»vious->
Ãxt
;

3255 
´evious
->
Ãxt
 = 
‹mp
;

3256 
	}
}

3258 
	$»move_»¶_live
(
couÁ”_t
 
now
)

3260 
»¶_live
 &&„•l_live->
»cyşe
 < 
now
)

3262 
»¶_live_t
 *
‹mp
 = 
»¶_live
;

3263 
»¶_live
 =„•l_live->
Ãxt
;

3264 
	`ä“
(
‹mp
->
d©a
);

3265 
	`ä“
(
‹mp
);

3267 
	}
}

3269 
»¶_live_t
 * 
	$£¬ch_»¶_live
(
md_addr_t
 
addr
)

3271 
»¶_live_t
 *
Œav”£
 = 
»¶_live
;

3272 
Œav”£
)

3274 if(
Œav”£
->
addr
 ==‡ddr)

3275  
Œav”£
;

3276 
Œav”£
 =¿v”£->
Ãxt
;

3278  
NULL
;

3279 
	}
}

3282 * 
	$ü—‹_by‹_mask
(
bsize
)

3284 
num
 = 1, 
i
;

3285 * 
‹mp
;

3286 if(
bsize
 > (()*8))

3287 
num
 +ğ(
bsize
-1)/(()*8);

3289 
‹mp
 = (*è
	`ÿÎoc
(
num
, ());

3290 
i
 = 0; i < 
num
; i++)

3291 
‹mp
[
i
] = 0;

3292  
‹mp
;

3293 
	}
}

3295 
	$ş—r_mask
(*
mask
, 
bsize
)

3297 
num
 = 1, 
i
;

3298 if(
bsize
 > (()*8))

3299 
num
 +ğ(
bsize
-1)/(()*8);

3300 
i
 = 0; i < 
num
; i++)

3301 
mask
[
i
] = 0;

3302 
	}
}

3304 
	$add_mask
(*
mask
, 
bofs
, 
nby‹s
, 
bsize
)

3306 
šdex
, 
i
;

3307 if(
bofs
 >ğ
bsize
)

3308 
	`·nic
("Wrong byte offset sent\n");

3310 
šdex
 = 
bofs
 / (()*8);

3311 
bofs
 = bofs % (()*8);

3312 
i
 = 0; i < 
nby‹s
; i++)

3314 
mask
[
šdex
] |ğ(1<<
bofs
);

3315 
bofs
++;

3317 
	}
}

3319 
couÁ”_t
 
	gby‹Dœty
 = 0;

3320 
	$is_mask_£t
(
ÿche_blk_t
 *
blk
, 
by‹_t
 *
vp
, *
mask
, 
bofs
, 
nby‹s
, 
bsize
)

3322 
šdex
, 
i
;

3323 
bofs_Ãw
;

3324 if(
bofs
 >ğ
bsize
)

3325 
	`·nic
("Wrong byte offset sent\n");

3327 
šdex
 = 
bofs
 / (()*8);

3328 
bofs_Ãw
 = 
bofs
 % (()*8);

3329 
i
 = 0; i < 
nby‹s
; i++)

3331 if(
mask
[
šdex
] & (1<<
bofs_Ãw
))

3333 
by‹Dœty
++;

3335 
by‹
 = 1;

3336 
bof
 = 
bofs
+
i
;

3337 
by‹_t
 *
p
 = &
vp
[
i
];

3338 
	`CACHE_BCOPY
 (
R—d
, 
blk
, 
bof
, 
p
, 
by‹
);

3340 
bofs_Ãw
++;

3343 
	}
}

	@cluster-opts.c

1 
	~"h—d”s.h
"

4 * 
	glšk_defš™iÚs
[
MAX_IC_INDEX
];

5 
	glšk_defš™iÚs_¬gc
;

6 * 
	glšk_cu¡om_de¡š©iÚs
[
MAX_IC_INDEX
];

7 
	glšk_cu¡om_de¡š©iÚs_¬gc
;

11 
	gn_way
;

12 
	gn_way_ÿche
;

14 
	gn_way_adjaûÁ
;

16 
	guni_Ït_comm
;

17 
	gtwo_Ït_comm
;

18 #iâdeà
CONFIG_BASED_ICS


19 
	glšk_width
;

20 
	ghİ_time
;

22 *
	gİtiÿl_ty³
;

24 
	gİtiÿl_ty³_ch¬
;

26 
	gİtiÿl_comm
;

27 
	gİtiÿl_lšk_width
;

28 
	gİtiÿl_hİ_time
;

30 #ifdeà
CONFIG_BASED_ICS


31 
	gã_lšk_time
;

33 #ifdeà
TOKENB


34 
	gtok’B
;

38 
couÁ”_t
 *
	gİtiÿl_lšk_width_di¡
;

39 
couÁ”_t
 
	gcomm_İt_q¿m_acûss_ş
[
CLUSTERS
];

41 
couÁ”_t
 
	gtÙ®_¦_cyşes
;

42 
couÁ”_t
 
	gmax_¦_cyşes
;

43 
couÁ”_t
 
	gtÙ®_issue_¦_cyşes
;

44 
couÁ”_t
 
	gmax_issue_¦_cyşes
;

49 *
	gd–ay_di¡_¡r
[
DELAY_DIST_NUMBER
] = {

62 
couÁ”_t
 
	gtÙ®_d–ay
;

64 
couÁ”_t
 
	gtÙ®_numb”_d–ay
;

65 
¡©_¡©_t
 *
	gd–ay_di¡
 = 
NULL
;

67 
couÁ”_t
 
	g¡_tÙ®_d–ay
;

68 
¡©_¡©_t
 *
	g¡_d–ay_di¡
 = 
NULL
;

71 
couÁ”_t
 
	gtÙ®_hİ
;

72 
¡©_¡©_t
 *
	ghİ_di¡
 = 
NULL
;

74 
¡©_¡©_t
 *
	gcomm™_width_¡©
;

77 
	$şu¡”_»g_İtiÚs
(
İt_odb_t
 *
odb
)

79 
	`İt_»g_št
(
odb
, "-n_way",

81 &
n_way
, 
N_WAY
,

82  
TRUE
, 
NULL
);

85 
	`İt_»g_št
(
odb
, "-n_way_cache",

87 &
n_way_ÿche
, 
N_WAY_CACHE
,

88  
TRUE
, 
NULL
);

91 
	`İt_»g_æag
(
odb
, "-n_way_adjacent",

93 &
n_way_adjaûÁ
, 
FALSE
,

94  
TRUE
, 
NULL
);

97 
	`İt_»g_æag
(
odb
, "-uni-lat-comm", "All communicationsake 1 cycle if from 2 different‚odes",

98 &
uni_Ït_comm
, 
FALSE
, 
TRUE
, 
NULL
);

99 
	`İt_»g_æag
(
odb
, "-two-lat-comm", "All communicationsake 2 cycle if from 2 different‚odes (1 cycle for‡djacent)",

100 &
two_Ït_comm
, 
FALSE
, 
TRUE
, 
NULL
);

101 #iâdeà
CONFIG_BASED_ICS


102 
	`İt_»g_¡ršg
(
odb
, "-optical:type",

104 &
İtiÿl_ty³
, "none",

105  
TRUE
, 
NULL
);

106 
	`İt_»g_št
(
odb
, "-link:width",

108 &
lšk_width
, 
LINK_WIDTH
,

109  
TRUE
, 
NULL
);

110 
	`İt_»g_št
(
odb
, "-hop_time",

112 &
hİ_time
, 
HOPTIME
,

113  
TRUE
, 
NULL
);

114 #ifdeà
OPTICAL_TENT


115 
	`İt_»g_æag
(
odb
, "-opticaltent", "Performs communication mimicking‡n opticalent",

116 &
İtiÿl_comm
, 
FALSE
, 
TRUE
, 
NULL
);

117 
	`İt_»g_št
(
odb
, "-optical:width",

119 &
İtiÿl_lšk_width
, 
OPTICAL_LINK_WIDTH
,

120  
TRUE
, 
NULL
);

121 
	`İt_»g_št
(
odb
, "-optical:hop_time",

123 &
İtiÿl_hİ_time
, 
OPTICAL_HOP_TIME
,

124  
TRUE
, 
NULL
);

129 
	`İt_»g_¡ršg_li¡
(
odb
,"-link:type","The†ink definitions, 'name:type:width:hoptime:physics' withype†ike 'ER'‡nd…hysics of 'electrical' or 'optical'",

130 
lšk_defš™iÚs
, 
MAX_IC_INDEX
, &
lšk_defš™iÚs_¬gc
, 
NULL
,

131  
TRUE
, 
NULL
,

132  
TRUE
);

134 
	`İt_»g_¡ršg_li¡
(
odb
,"-link:custom","Custom†ink destination definition, 'name:to0,to1,...' withoi = -1 for‚o†ink, specifyig wherehe†ink goes fromƒach core.",

135 
lšk_cu¡om_de¡š©iÚs
, 
MAX_IC_INDEX
, &
lšk_cu¡om_de¡š©iÚs_¬gc
, 
NULL
,

136  
TRUE
, 
NULL
,

137  
TRUE
);

140 #ifdeà
CONFIG_BASED_ICS


141 
	`İt_»g_št
(
odb
, "-fe_link_time",

143 &
ã_lšk_time
, -1,

144  
TRUE
, 
NULL
);

146 #ifdeà
TOKENB


147 
	`İt_»g_æag
(
odb
, "-tc",

149 &
tok’B
, 
FALSE
,

150 
TRUE
, 
NULL
);

153 
	}
}

155 
	$şu¡”_check_İtiÚs
()

157 #iâdeà
CONFIG_BASED_ICS


158 
İtiÿl_ty³_ch¬
 = 
	`touµ”
(
İtiÿl_ty³
[0]);

160 
ma¡”_lšk_width
[
OR_INDEX
] = 
İtiÿl_lšk_width
;

161 
ma¡”_lšk_width
[
OL_INDEX
] = 
İtiÿl_lšk_width
;

162 
ma¡”_lšk_width
[
ER_INDEX
] = 
lšk_width
;

163 
ma¡”_lšk_width
[
EL_INDEX
] = 
lšk_width
;

164 
ma¡”_lšk_width
[
AC_INDEX
] = 
İtiÿl_lšk_width
;

165 
ma¡”_lšk_width
[
OT_INDEX
] = 
İtiÿl_lšk_width
;

166 
ma¡”_lšk_width
[
EU_INDEX
] = 
lšk_width
;

167 
ma¡”_lšk_width
[
ED_INDEX
] = 
lšk_width
;

169 
ma¡”_hİ_time
[
OR_INDEX
] = 
İtiÿl_hİ_time
;

170 
ma¡”_hİ_time
[
OL_INDEX
] = 
İtiÿl_hİ_time
;

171 
ma¡”_hİ_time
[
ER_INDEX
] = 
hİ_time
;

172 
ma¡”_hİ_time
[
EL_INDEX
] = 
hİ_time
;

173 
ma¡”_hİ_time
[
AC_INDEX
] = 
İtiÿl_hİ_time
;

174 
ma¡”_hİ_time
[
OT_INDEX
] = 
İtiÿl_hİ_time
;

175 
ma¡”_hİ_time
[
EU_INDEX
] = 
hİ_time
;

176 
ma¡”_hİ_time
[
ED_INDEX
] = 
hİ_time
;

178 
	}
}

180 
	$şu¡”_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

182 
	`¡©_»g_couÁ”
(
sdb
, "total_number_delay",

184 &
tÙ®_numb”_d–ay
, 0, 
NULL
);

186 
	`¡©_»g_couÁ”
(
sdb
, "total_delay",

188 &
tÙ®_d–ay
, 0, 
NULL
);

189 
	`¡©_»g_fÜmuÏ
(
sdb
, "lat_delay_avg",

191 "tÙ®_d–ay /Ù®_numb”_d–ay", 
NULL
);

192 
	`¡©_»g_fÜmuÏ
(
sdb
, "lat_delay_cycle",

194 "tÙ®_d–ay / sim_cyşe", 
NULL
);

197 
	`¡©_»g_couÁ”
(
sdb
, "total_hop",

199 &
tÙ®_hİ
, 0, 
NULL
);

200 
	`¡©_»g_fÜmuÏ
(
sdb
, "hops_avg",

202 "tÙ®_hİ /Ù®_numb”_d–ay", 
NULL
);

203 
	`¡©_»g_fÜmuÏ
(
sdb
, "hop_cycle",

205 "tÙ®_hİ / sim_cyşe", 
NULL
);

207 
	`¡©_»g_couÁ”
(
sdb
, "total_slip_cycles",

209 &
tÙ®_¦_cyşes
, 0 , 
NULL
 );

210 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_slip_cycle",

212 "tÙ®_¦_cyşe / sim_num_š¢", 
NULL
 );

213 
	`¡©_»g_couÁ”
(
sdb
, "max_slip_cycles",

215 &
max_¦_cyşes
, 0 , 
NULL
 );

217 
	`¡©_»g_couÁ”
(
sdb
, "total_issue_slip_cycles",

219 &
tÙ®_issue_¦_cyşes
, 0 , 
NULL
 );

220 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_issue_slip_cycle",

222 "tÙ®_issue_¦_cyşe / sim_num_š¢", 
NULL
 );

223 
	`¡©_»g_couÁ”
(
sdb
, "max_issue_slip_cycles",

225 &
max_issue_¦_cyşes
, 0 , 
NULL
 );

228 
d–ay_di¡
 = 
	`¡©_»g_di¡
(
sdb
, "delay_dist",

232  
TIMEWINDOW
/
DELAY_DIST_NUMBER
,

233  (
PF_COUNT
|
PF_PDF
),

234  
NULL
,

235  
d–ay_di¡_¡r
,

236  
NULL
);

238 
¡_d–ay_di¡
 = 
	`¡©_»g_di¡
(
sdb
, "st_delay_dist",

242  
TIMEWINDOW
/
DELAY_DIST_NUMBER
,

243  (
PF_COUNT
|
PF_PDF
),

244  
NULL
,

245  
d–ay_di¡_¡r
,

246  
NULL
);

248 
hİ_di¡
 = 
	`¡©_»g_di¡
(
sdb
, "hop_dist",

251  
CLUSTERS
,

253  (
PF_COUNT
|
PF_PDF
),

254  
NULL
,

255  
NULL
,

256  
NULL
);

257 
comm™_width_¡©
 = 
	`¡©_»g_di¡
(
sdb
, "commit_width_stat", "This showshe commit width usage, in buckets of 4",

258 0, 1 + 64*8/4, 4, 
PF_ALL
, 
NULL
, NULL, NULL);

259 
	}
}

	@cluster-opts.h

1 
	#DELAY_DIST_NUMBER
 10

	)

4 
n_way
;

5 
n_way_ÿche
;

6 
n_way_adjaûÁ
;

7 
uni_Ït_comm
;

8 
two_Ït_comm
;

9 
lšk_width
;

10 
hİ_time
;

12 
tok’B
;

14 *
İtiÿl_ty³
;

15 
İtiÿl_ty³_ch¬
;

16 
İtiÿl_lšk_width
;

17 
İtiÿl_comm
;

18 
İtiÿl_hİ_time
;

21 
couÁ”_t
 *
İtiÿl_lšk_width_di¡
;

22 
couÁ”_t
 
comm_İt_q¿m_acûss_ş
[
CLUSTERS
];

23 
couÁ”_t
 
tÙ®_¦_cyşes
;

24 
couÁ”_t
 
max_¦_cyşes
;

25 
couÁ”_t
 
tÙ®_issue_¦_cyşes
;

26 
couÁ”_t
 
max_issue_¦_cyşes
;

32 
couÁ”_t
 
tÙ®_d–ay
;

33 
couÁ”_t
 
tÙ®_numb”_d–ay
;

34 
couÁ”_t
 
¡_tÙ®_d–ay
;

35 
¡©_¡©_t
 *
d–ay_di¡
;

36 
¡©_¡©_t
 *
¡_d–ay_di¡
;

37 
¡©_¡©_t
 *
comm™_width_¡©
;

39 
couÁ”_t
 
tÙ®_hİ
;

40 
¡©_¡©_t
 *
hİ_di¡
;

43 
şu¡”_»g_İtiÚs
(
İt_odb_t
 *
odb
);

44 
şu¡”_»g_¡©s
(
¡©_sdb_t
 *
sdb
);

45 
şu¡”_check_İtiÚs
();

49 * 
lšk_defš™iÚs
[
MAX_IC_INDEX
];

50 
lšk_defš™iÚs_¬gc
;

51 * 
lšk_cu¡om_de¡š©iÚs
[
MAX_IC_INDEX
];

52 
lšk_cu¡om_de¡š©iÚs_¬gc
;

	@cluster.c

1 
	~"h—d”s.h
"

4 
couÁ”_t
 
sim_cyşe
;

7 
RUU_size
;

10 
LSQ_size
;

13 
»s_poŞ
 *
fu_poŞ
;

16 
ÿche_dl1_Ït
;

19 
ÿche_t
 *
ÿche_1
;

22 
ÿche_t
 *
ÿche_2
;

25 
ÿche_t
 *
ÿche_dl1
;

28 
ÿche_t
 *
ÿche_dl2
;

31 
»s_mempÜt
;

33 
mš_addr
;

34 
max_addr
;

36 
¡ddev
;

37 
bª0
;

38 
bª1
;

39 
bª2
;

40 
bª3
;

41 
bš_acc_tÙ
;

42 
bš_mis_tÙ
;

43 
bš_acc
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

44 
bš_lds
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

45 
bš_tŞ
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

46 
bš_mis
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

48 
addr0
, 
addr1
, 
addr2
;

50 
š¢16
;

51 
š¢4
;

53 
nÚ_ü™
;

54 
ü™
;

55 
b2_cÜr
;

56 
b2_šcÜr
;

57 
b2_miss
;

58 
b_cÜr
;

59 
b_šcÜr
;

60 
b_miss
;

61 
bË_gs
[
MAXTHREADS
][
TABLESIZE
];

62 
bË_num
[
MAXTHREADS
][
TABLESIZE
];

63 
bË2_gs
[
MAXTHREADS
][
TABLE2SIZE
];

64 
bË2_num
[
MAXTHREADS
][
TABLE2SIZE
];

67 
Üigš®_bsize
;

69 
›xŒa
;

70 
ãxŒa
;

71 
iv®id
;

72 
fv®id
;

74 
tÙ_œeg
;

75 
tÙ_äeg
;

76 
tÙ_›xt
;

77 
tÙ_ãxt
;

78 
tÙ_šÚdup
;

79 
tÙ_âÚdup
;

81 
comm_d–ay
;

82 
num_sšgË
;

83 
iss_¡®l
;

84 
ã_¡®l
;

85 
n_»ady
;

86 
num_£mi_f
;

87 
num_qw¡®l
;

88 
š_this
;

89 
num_ä“d
;

90 
tÙ_d–
;

91 
tÙ_d–_bw
;

92 
num_bw_of
;

93 
¼obš
;

95 
št_di¡±h»sh
;

96 
di¡±abË
[
ITABLESIZE
];

97 
g_id_t
 
di¡±abËgid
[
ITABLESIZE
];

98 
di¡pcouÁ”
[
ITABLESIZE
];

99 
di¡p§m¶es
[
ITABLESIZE
];

100 
di¡pcouÁ
;

101 
št_di¡p
;

104 #ifdeà 
MSHR


105 
mshr_size
;

106 
mshr_fuÎ
;

107 
mshr_couÁ
;

108 
mshr_size_di¡
[];

109 
mshr_fuÎ_couÁ
;

115 #ifdeà 
FETCH_QUEUE_CLUSTER


116 
ãtch_num_ş
[
CLUSTERS
];

119 #ifdeà
DISPATCH_CLUSTER


120 
di¥©ch_ş
[
CLUSTERS
];

129 
IISSUEQ_couÁ
;

130 
IISSUEQ_fcouÁ
;

131 
FISSUEQ_couÁ
;

132 
FISSUEQ_fcouÁ
;

133 
IPREG_couÁ
;

134 
IexŒa_couÁ
;

135 
IPREG_fcouÁ
;

136 
FPREG_couÁ
;

137 
FexŒa_couÁ
;

138 
FPREG_fcouÁ
;

140 
œegfe_ş_couÁ
[];

141 
›xŒa_ş_couÁ
[];

142 
äegfe_ş_couÁ
[];

143 
ãxŒa_ş_couÁ
[];

144 
iissueq_ş_couÁ
[];

145 
fissueq_ş_couÁ
[];

147 #ifdeà 
SPLIT_LSQ


148 
lsq_ş_couÁ
[];

151 
no_di¥_şu¡”
;

152 
di¥_di¡
[];

154 #ifdeà
RAW


155 
¿wq_couÁ
;

156 
¿wq_fcouÁ
;

157 
¿wq_ş_couÁ
[];

158 
¿wq_di¡
[];

161 
Ìeg_id_t
 
±Şm­
[];

162 
Ìeg_id_t
 
cÚsum”s
[];

163 
Ìeg_id_t
 
±Şm­_chk
[];

164 
p_tÙ®_»gs
;

166 #ifdeà
RABMAP


167 
š¡_u£_exŒa
[];

168 
Éİm­_exŒa
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

169 
Éİm­_´eg
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

172 #ifdeà
RAW


173 
¿wq
;

174 
¿wq_ş
[];

175 
¿wq»ady
;

176 
¿wq»ady_ş
[];

177 
¿wq_fuÎ
;

178 
¿wq_¡®l
;

180 
iissueq
;

181 
fissueq
;

183 #ifdeà
PWR_WAKE


184 
œ—dy
;

185 
ä—dy
;

186 
lsq»ady
;

187 
iuÄ—dy
;

188 
fuÄ—dy
;

189 
lsquÄ—dy
;

190 
IREADY_couÁ
;

191 
FREADY_couÁ
;

192 
LSQREADY_couÁ
;

193 
œ—dy_ş
[];

194 
ä—dy_ş
[];

195 
lsq»ady_ş
[];

196 
iuÄ—dy_ş
[];

197 
fuÄ—dy_ş
[];

200 #ifdeà 
SPLIT_LSQ


201 
lsq_ş
[];

202 
lsquÄ—dy_ş
[];

205 
œegfe
;

206 
äegfe
;

207 
œegfe_ş
[];

208 
›xŒa_ş
[];

209 
äegfe_ş
[];

210 
ãxŒa_ş
[];

211 
iissueq_ş
[];

212 
fissueq_ş
[];

213 
num_¡Üeq
[];

214 
max_¡Üeq
[];

215 
di¥_d–ay
;

217 #ifdeà 
PWR_CLUSTER


218 
couÁ”_t
 
iq¿m_acûss_ş
[];

219 
couÁ”_t
 
fq¿m_acûss_ş
[];

220 
couÁ”_t
 
iwakeup_acûss_ş
[];

221 
couÁ”_t
 
fwakeup_acûss_ş
[];

222 
couÁ”_t
 
i£ËùiÚ_acûss_ş
[];

223 
couÁ”_t
 
f£ËùiÚ_acûss_ş
[];

224 
couÁ”_t
 
œegfe_acûss_ş
[];

225 
couÁ”_t
 
äegfe_acûss_ş
[];

226 
couÁ”_t
 
Ÿlu1_acûss_ş
[];

227 
couÁ”_t
 
Ÿlu2_acûss_ş
[];

228 
couÁ”_t
 
çlu1_acûss_ş
[];

229 
couÁ”_t
 
çlu2_acûss_ş
[];

230 
couÁ”_t
 
œesuÉbus_acûss_ş
[];

231 
couÁ”_t
 
äesuÉbus_acûss_ş
[];

233 
couÁ”_t
 
iq¿m_acûss
;

234 
couÁ”_t
 
fq¿m_acûss
;

235 
couÁ”_t
 
iwakeup_acûss
;

236 
couÁ”_t
 
fwakeup_acûss
;

237 
couÁ”_t
 
i£ËùiÚ_acûss
;

238 
couÁ”_t
 
f£ËùiÚ_acûss
;

239 
couÁ”_t
 
œegfe_acûss
;

240 
couÁ”_t
 
äegfe_acûss
;

241 
couÁ”_t
 
Ÿlu1_acûss
;

242 
couÁ”_t
 
Ÿlu2_acûss
;

243 
couÁ”_t
 
çlu1_acûss
;

244 
couÁ”_t
 
çlu2_acûss
;

245 
couÁ”_t
 
œesuÉbus_acûss
;

246 
couÁ”_t
 
äesuÉbus_acûss
;

249 #ifdeà 
RAW


250 
couÁ”_t
 
¿wq¿m_acûss_ş
[];

251 
couÁ”_t
 
¿wqwakeup_acûss_ş
[];

253 #iâdeà
NEW_INTERCONNECT


254 #ifdeà 
COMM_BUFF


255 
couÁ”_t
 
comm1q¿m_acûss_ş
[];

256 
couÁ”_t
 
comm2q¿m_acûss_ş
[];

258 #ifdeà 
COMM_LINK_PWR


259 
couÁ”_t
 
comm1lšk_acûss_ş
[];

260 
couÁ”_t
 
comm2lšk_acûss_ş
[];

264 #ifdeà
CACHE_MISS_STAT


265 
¥ec_rdb_miss
;

266 
¥ec_wrb_miss
;

267 
couÁ_”rÜ
;

271 #ifdeà
IFREELIST_FREELIST


272 
li¡–t
 *
	giä“li¡_ä“li¡
;

274 
	#IFREELIST_FREE
(
‹mp
è\

	)

275 
	g‹mp
->
	gÃxt
 = 
iä“li¡_ä“li¡
; \

276 
	giä“li¡_ä“li¡
 = 
‹mp
;

277 
	#IFREELIST_GET
(
DST
è\

	)

278 { 
li¡–t
 *
	giä“_l
; \

279 ià(!
	giä“li¡_ä“li¡
) \

281 
	gw
; \

282 
	giä“li¡_ä“li¡
 = 
m®loc
(10*(
li¡–t
)); \

283  
	gw
 = 0; w<9; w++) \

284 
	giä“li¡_ä“li¡
[
w
].
	gÃxt
 = &
iä“li¡_ä“li¡
[w+1]; \

285 
	giä“li¡_ä“li¡
[9].
	gÃxt
 = 
NULL
; \

287 
	giä“_l
 = 
iä“li¡_ä“li¡
; \

288 
	giä“li¡_ä“li¡
 = 
iä“li¡_ä“li¡
->
Ãxt
; \

289 
	giä“_l
->
	gÃxt
 = 
NULL
; \

290 (
	gDST
èğ
iä“_l
; \

295 
shiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

296 
¥ecshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

297 
shiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

298 
¥ecshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

299 
shiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

300 
¥ecshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

301 
shiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

302 
¥ecshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

303 
shiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

304 
¥ecshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

305 
Ëv2´ed1
[];

306 
Ëv2´ed2
[];

307 
Ëv2´ed3
[];

308 
Ëv2´ed4
[];

309 
Ëv2´ed5
[];

312 
RUU_¡©iÚ
 *
LSQ
[];

313 
LSQ_h—d
, 
LSQ_
;

314 
LSQ_num
;

316 #ifdeà 
COUNT_LSQ


317 
nÚ_issue_LSQ_num
;

320 
IIQ_size
;

321 
FIQ_size
;

322 
IPREG_size
;

323 
FPREG_size
;

325 
ršg1
[
CLUSTERS
][
TIMEWINDOW
];

326 
ršg2
[
CLUSTERS
][
TIMEWINDOW
];

327 
ršg3
[
CLUSTERS
][
TIMEWINDOW
];

328 
ršg4
[
CLUSTERS
][
TIMEWINDOW
];

331 
aùu®_şu¡”s
;

333 #ifdeà
PORT_PER_BANK


334 
CACHEPORTS
;

335 
RES_CACHEPORTS
;

336 
RES_CACHE_PORTS
;

337 
aùu®_ÿch•Üts
;

339 
aùu®_ÿch•Üts
;

342 #ifdeà
RAW


343 
¿wq_size
;

345 #ifdeà 
COMM_BUFF


346 
timewšdow
;

350 
key
[];

352 #ifdeà
INTERVAL_BASED


353 
š‹rv®_key
[
MAXTHREADS
];

358 
æushes
;

359 
num_æushes
;

360 
ä“_şu¡”
;

363 #ifdeà
N_WAY_STEER


364 
¡“r_şu¡”_thrd
[
MAXTHREADS
][
CLUSTERS
];

365 
n_lim™_thrd
[];

366 
n_¡¬t_thrd
[];

369 #ifdeà 
THRD_WAY_CACHE


370 
n_ÿche_¡¬t_thrd
[];

371 
n_ÿche_lim™_thrd
[];

374 #ifdeà
IC_STAT


375 
	gãtch_num_thrd_couÁ
[
MAXTHREADS
];

376 
	giissueq_thrd_couÁ
[
MAXTHREADS
];

377 
	gfissueq_thrd_couÁ
[
MAXTHREADS
];

378 
	glsq_thrd_couÁ
[
MAXTHREADS
];

379 
	gnÚ_issue_lsq_thrd_couÁ
[
MAXTHREADS
];

380 
	gicouÁ_thrd_couÁ
[
MAXTHREADS
];

387 #ifdeà 
PARTITIONED_LSQ


388 
lsq_·¹_bªk
;

389 
lsq_·¹_ş
;

390 
lsq_·¹_thrd
;

399 
aùivecÚ‹xts
;

400 
»s_membªk
;

403 
ÿlcuÏ‹_´iÜ™y
 ();

404 
g‘_şu¡”
 (, , , 
RUU_¡©iÚ
 *, );

405 
sim¶e_ÿche_æush
 (
ÿche_t
 *);

407 
dl1_acûss_â
 (
mem_cmd
,

408 
md_addr_t
,

410 
ÿche_blk_t
 *,

411 
tick_t
,

413 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

414 , 
şu¡”


420 
	$şu¡”_check
 (
md_addr_t
 
addr
)

422 ià((è
addr
 < 
addr0
)

426 ià((è
addr
 < 
addr1
)

430 ià((è
addr
 < 
addr2
)

438 
	}
}

442 
	sflq


445 
	mwh’
;

446 
md_addr_t
 
	maddr
;

447 #ifdeà 
THRD_WAY_CACHE


448 
	mth»adid
;

450 
flq
 *
	mÃxt
;

451 
flq
 *
	m´ev
;

454 
flq
 *
	gfl
;

455 
flq
 *
	gtİfl
;

456 
	gflqsize
;

459 
	$flq_š™
 ()

461 
fl
 = 
NULL
;

463 
tİfl
 = 
NULL
;

464 
flqsize
 = 0;

465 
	}
}

467 #ifdeà 
THRD_WAY_CACHE


469 
	$š£¹_flq
 (
wh’
, 
md_addr_t
 
addr
, 
th»adid
)

472 
	$š£¹_flq
 (
wh’
, 
md_addr_t
 
addr
)

480 
flq
 *
p
, *
q
;

481 
found
;

483 
flqsize
++;

484 
p
 = (
flq
 *è
	`m®loc
 ( (fillq));

485 
p
->
wh’
 = when;

486 
p
->
addr
 =‡ddr;

487 #ifdeà 
THRD_WAY_CACHE


488 
p
->
th»adid
 =hreadid;

490 ià(!
tİfl
)

492 
tİfl
 = 
p
;

493 
p
->
Ãxt
 = 
NULL
;

494 
p
->
´ev
 = 
NULL
;

495 
fl
 = 
p
;

499 
q
 = 
fl
;

500 
found
 = 0;

502 !
found
)

504 ià(
q
->
wh’
 < when)

506 
found
 = 1;

509 ià(!
q
->
´ev
)

511 
found
 = 1;

514 
q
 = q->
´ev
;

517 ià(
q
->
wh’
 < when)

519 ià(
q
->
Ãxt
)

521 
q
->
Ãxt
->
´ev
 = 
p
;

522 
p
->
Ãxt
 = 
q
->next;

523 
p
->
´ev
 = 
q
;

524 
q
->
Ãxt
 = 
p
;

528 
fl
 = 
p
;

529 
q
->
Ãxt
 = 
p
;

530 
p
->
´ev
 = 
q
;

531 
p
->
Ãxt
 = 
NULL
;

536 
q
->
´ev
 = 
p
;

537 
p
->
Ãxt
 = 
q
;

538 
p
->
´ev
 = 
NULL
;

539 
tİfl
 = 
p
;

543 
	}
}

546 
	$bš_š™
 ()

548 
i
;

550 
i
 = 0; i < (
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
; i++)

552 
bš_acc
[
i
] = 0;

553 
bš_lds
[
i
] = 0;

554 
bš_tŞ
[
i
] = 0;

555 
bš_mis
[
i
] = 0;

557 
bš_acc_tÙ
 = 0;

558 
bš_mis_tÙ
 = 0;

559 
	}
}

562 
	$ÿche_š™
 ()

565 
ÿche_dl1
->
wrbufsize
 = 
DL1WRB
;

566 
ÿche_dl1
->
ped–ay
 = 
DL1PIPE
;

567 
ÿche_1
->
wrbufsize
 = 
IL1WRB
;

568 
ÿche_1
->
ped–ay
 = 
IL1PIPE
;

569 
ÿche_dl2
->
wrbufsize
 = 
DL2WRB
;

570 
ÿche_dl2
->
ped–ay
 = 
DL2PIPE
;

571 
	`flq_š™
 ();

572 #ifdeà
EVENT_CACHE_UPDATE


573 
	`mshr_š™
 ();

575 
	}
}

577 #ifdeà
INST_TRANS_RATE


578 #iâdeà
NEW_INTERCONNECT


579 *
	glšk_width_di¡
;

582 #iâdeà
NEW_INTERCONNECT


583 
	gršg1
[
CLUSTERS
][
TIMEWINDOW
];

584 
	gršg2
[
CLUSTERS
][
TIMEWINDOW
];

585 
	gršg3
[
CLUSTERS
][
TIMEWINDOW
];

586 
	gršg4
[
CLUSTERS
][
TIMEWINDOW
];

588 #ifdeà
TRACE_REG


589 *
	g»g1
[
CLUSTERS
][
TIMEWINDOW
];

590 *
	g»g2
[
CLUSTERS
][
TIMEWINDOW
];

592 
	g»g1
[
CLUSTERS
][
TIMEWINDOW
];

593 
	g»g2
[
CLUSTERS
][
TIMEWINDOW
];

595 
	g»g3
[
CLUSTERS
][
TIMEWINDOW
];

596 
	g»g4
[
CLUSTERS
][
TIMEWINDOW
];

599 
	$şu¡”_š™
 ()

601 
i
, 
j
;

603 #ifdeà
INST_TRANS_RATE


604 #iâdeà
NEW_INTERCONNECT


605 
lšk_width_di¡
 = 
	`m®loc
 ( (è* 
lšk_width
);

608 #ifdeà
TRACE_REG


609 
i
 = 0; i < 
CLUSTERS
; i++)

611 
j
 = 0; j < 
TIMEWINDOW
; j++)

613 
»g1
[
i
][
j
] = 
	`m®loc
 (
lšk_width
 *  ());

614 
»g2
[
i
][
j
] = 
	`m®loc
 (
lšk_width
 *  ());

619 
	}
}

622 
	$şu¡”_unš™
 ()

624 
i
, 
j
;

626 #ifdeà
INST_TRANS_RATE


627 #iâdeà
NEW_INTERCONNECT


628 
	`ä“
 (
lšk_width_di¡
);

631 #ifdeà
TRACE_REG


632 
i
 = 0; i < 
CLUSTERS
; i++)

634 
j
 = 0; j < 
TIMEWINDOW
; j++)

636 
	`ä“
 (
»g1
[
i
][
j
]);

637 
	`ä“
 (
»g2
[
i
][
j
]);

641 
	}
}

643 #ifdeà
EVENT_CACHE_UPDATE


646 
	$mshr_š™
 ()

648 
ÿche_dl1
->
mshr_queue
 = 
NULL
;

649 
ÿche_1
->
mshr_queue
 = 
NULL
;

650 
ÿche_dl2
->
mshr_queue
 = 
NULL
;

651 
	}
}

654 
	$š£¹_mshr
 (
ÿche_t
 *
ı
, 
rd_wt
, 
wh’
, 
md_addr_t
 
addr
, 
ped–ay
)

661 
mshrq
 *
p
, *
q
;

662 
found
;

663 
Üd”
 = 0;

664 
Üd”_cÚt
 = 0;

665 
fœ¡_cÚt_wh’
 = 
wh’
;

667 
p
 = (
mshrq
 *è
	`m®loc
 ( (mshrq));

668 
p
->
wh’
 = when;

669 
p
->
rd_wt
 =„d_wt;

670 
p
->
addr
 =‡ddr;

671 ià(!
ı
->
mshr_queue
)

673 
ı
->
mshr_queue
 = 
p
;

674 
p
->
Ãxt
 = 
NULL
;

675 
p
->
´ev
 = 
NULL
;

676  
Üd”
;

678 
q
 = 
ı
->
mshr_queue
;

679 
found
 = 0;

680 !
found
)

682 ià(
q
->
wh’
 > when)

684 
found
 = 1;

687 ià(!
q
->
Ãxt
)

689 
found
 = 1;

690 
Üd”
++;

691 ià(
q
->
wh’
 + 
ped–ay
 >= when)

693 ià(!
Üd”_cÚt
)

694 
fœ¡_cÚt_wh’
 = 
q
->
wh’
;

695 
Üd”_cÚt
++;

699 ià(
q
->
wh’
 + 
ped–ay
 >= when)

701 ià(!
Üd”_cÚt
)

702 
fœ¡_cÚt_wh’
 = 
q
->
wh’
;

703 
Üd”_cÚt
++;

705 
q
 = q->
Ãxt
;

706 
Üd”
++;

708 ià(
q
->
wh’
 > when)

710 ià(
q
->
´ev
)

712 
q
->
´ev
->
Ãxt
 = 
p
;

713 
p
->
´ev
 = 
q
->prev;

714 
p
->
Ãxt
 = 
q
;

715 
q
->
´ev
 = 
p
;

719 
ı
->
mshr_queue
 = 
p
;

720 
q
->
´ev
 = 
p
;

721 
p
->
Ãxt
 = 
q
;

722 
p
->
´ev
 = 
NULL
;

727 
q
->
Ãxt
 = 
p
;

728 
p
->
´ev
 = 
q
;

729 
p
->
Ãxt
 = 
NULL
;

731 #ifdeà 
APPROXIMATE_LAT


732  
Üd”
;

734 #ifdeà 
ACURATE_LAT


735  
Üd”_cÚt
;

737 #ifdeà 
MOST_ACURATE_LAT


738  
Üd”_cÚt
 * 
ped–ay
 - (
wh’
 - 
fœ¡_cÚt_wh’
);

740 
	}
}

744 #ifdeà
EVENT_CACHE_UPDATE


747 
	$ÿche_upd©e
 ()

752 
mshrq
 *
mp
, *
mq
;

754 
flq
 *
p
, *
q
;

755 
i
;

757 #ifdeà 
THRD_WAY_CACHE


758 
bªk_³r_th»ad
, 
thrd_bªk_¡¬t
, 
thrd_wÜd_bªk
, 
th»adid
;

762 
p
 = 
tİfl
;

763 
p
 && (p->
wh’
 < 
sim_cyşe
))

765 
q
 = 
p
;

766 
p
 =…->
Ãxt
;

767 ià(
p
)

768 
p
->
´ev
 = 
NULL
;

769 
flqsize
--;

770 
tİfl
 = 
p
;

771 #iâdeà 
NO_QFILL_CONTENTION


772 #ifdeà 
LINE_INTERLEAVED


773 #ifdeà 
THRD_WAY_CACHE


774 
th»adid
 = 
q
->threadid;

775 
bªk_³r_th»ad
 = 
»s_membªk
 / 
aùivecÚ‹xts
 + (res_membank %‡ctivecontexts ? 1 : 0);

776 
thrd_bªk_¡¬t
 = 
bªk_³r_th»ad
 * 
th»adid
;

777 
thrd_wÜd_bªk
 = (
	`CACHE_SET
 (
ÿche_dl1
, 
q
->
addr
è% 
n_ÿche_lim™_thrd
[
th»adid
] + 
n_ÿche_¡¬t_thrd
[th»adid]è% 
»s_membªk
;

778 
i
 = 
thrd_wÜd_bªk
;

780 
i
 = (
q
->
addr
 >> 
ÿche_dl1
->
£t_shiá
è& (
»s_membªk
 - 1);

782 
fu_poŞ
->
bË
[10][
i
]->
ma¡”
->
busy
 +ğfu_poŞ->bË[10][i]->
issu–©
;

785 ià(
WORD_INTERLEAVED
)

787 
i
 = 0; i < 
»s_mempÜt
; i++)

788 
fu_poŞ
->
bË
[10][
i
]->
ma¡”
->
busy
 +ğfu_poŞ->bË[10][i]->
issu–©
;

792 
i
 = 
	`şu¡”_check
 (
q
->
addr
);

793 
fu_poŞ
->
bË
[10][
i
]->
ma¡”
->
busy
 +ğfu_poŞ->bË[10][i]->
issu–©
;

797 
	`ä“
 (
q
);

801 
mp
 = 
ÿche_dl1
->
mshr_queue
;

802 
mp
 && (mp->
wh’
 < 
sim_cyşe
è&& ((sim_cyş- 
ÿche_dl1
->
Ï¡u£
è>ğ
DL1PIPE
))

804 
ÿche_dl1
->
Ï¡u£
 = 
sim_cyşe
;

805 ià(
mp
->
rd_wt
 == 1)

806 
ÿche_dl1
->
rdb
--;

807 ià(
mp
->
rd_wt
 == 2)

808 
ÿche_dl1
->
wrb
--;

809 
mq
 = 
mp
;

810 
mp
 = mp->
Ãxt
;

811 ià(
mp
)

812 
mp
->
´ev
 = 
NULL
;

813 
ÿche_dl1
->
mshr_queue
 = 
mp
;

814 
	`ä“
 (
mq
);

817 
mp
 = 
ÿche_1
->
mshr_queue
;

818 
mp
 && (mp->
wh’
 < 
sim_cyşe
è&& ((sim_cyş- 
ÿche_1
->
Ï¡u£
è>ğ
IL1PIPE
))

820 
ÿche_1
->
Ï¡u£
 = 
sim_cyşe
;

821 ià(
mp
->
rd_wt
 == 1)

822 
ÿche_1
->
rdb
--;

823 ià(
mp
->
rd_wt
 == 2)

824 
ÿche_1
->
wrb
--;

825 
mq
 = 
mp
;

826 
mp
 = mp->
Ãxt
;

827 ià(
mp
)

828 
mp
->
´ev
 = 
NULL
;

829 
ÿche_1
->
mshr_queue
 = 
mp
;

830 
	`ä“
 (
mq
);

833 
mp
 = 
ÿche_dl2
->
mshr_queue
;

834 
mp
 && (mp->
wh’
 < 
sim_cyşe
è&& ((sim_cyş- 
ÿche_dl2
->
Ï¡u£
è>ğ
DL2PIPE
))

836 
ÿche_dl2
->
Ï¡u£
 = 
sim_cyşe
;

837 ià(
mp
->
rd_wt
 == 1)

838 
ÿche_dl2
->
rdb
--;

839 ià(
mp
->
rd_wt
 == 2)

840 
ÿche_dl2
->
wrb
--;

841 
mq
 = 
mp
;

842 
mp
 = mp->
Ãxt
;

843 ià(
mp
)

844 
mp
->
´ev
 = 
NULL
;

845 
ÿche_dl2
->
mshr_queue
 = 
mp
;

846 
	`ä“
 (
mq
);

849 #ifdeà 
MSHR


850 
mshr_size
 = 
ÿche_dl1
->
rdb
 + 
ÿche_dl2
->rdb;

851 ià(
mshr_size
 >ğ
MSHRSIZE
)

852 
mshr_fuÎ
 = 1;

854 
mshr_fuÎ
 = 0;

855 
mshr_couÁ
 +ğ
mshr_size
;

856 ià(
mshr_fuÎ
)

858 #ifdeà 
MSHR_DIST


859 
mshr_size_di¡
[
MSHRSIZE
 - 1]++;

861 
mshr_fuÎ_couÁ
++;

863 #ifdeà 
MSHR_DIST


865 
mshr_size_di¡
[
mshr_size
]++;

870 
	}
}

875 
	$ÿche_upd©e
 ()

880 
flq
 *
p
, *
q
;

881 
i
;

882 
	`´štf
("I‡m coming here!\n");

883 #ifdeà 
THRD_WAY_CACHE


884 
bªk_³r_th»ad
, 
thrd_bªk_¡¬t
, 
thrd_wÜd_bªk
, 
th»adid
;

887 
p
 = 
tİfl
;

888 
p
 && (p->
wh’
 < 
sim_cyşe
))

890 
q
 = 
p
;

891 
p
 =…->
Ãxt
;

892 ià(
p
)

893 
p
->
´ev
 = 
NULL
;

894 
flqsize
--;

895 
tİfl
 = 
p
;

896 #iâdeà 
NO_QFILL_CONTENTION


897 #ifdeà 
LINE_INTERLEAVED


898 #ifdeà 
THRD_WAY_CACHE


899 
th»adid
 = 
q
->threadid;

900 
bªk_³r_th»ad
 = 
»s_membªk
 / 
aùivecÚ‹xts
 + (res_membank %‡ctivecontexts ? 1 : 0);

901 
thrd_bªk_¡¬t
 = 
bªk_³r_th»ad
 * 
th»adid
;

902 
thrd_wÜd_bªk
 = (
	`CACHE_SET
 (
ÿche_dl1
, 
q
->
addr
è% 
n_ÿche_lim™_thrd
[
th»adid
] + 
n_ÿche_¡¬t_thrd
[th»adid]è% 
»s_membªk
;

903 
i
 = 
thrd_wÜd_bªk
;

905 
i
 = (
q
->
addr
 >> 
ÿche_dl1
->
£t_shiá
è& (
»s_membªk
 - 1);

907 
fu_poŞ
->
bË
[10][
i
]->
ma¡”
->
busy
 +ğfu_poŞ->bË[10][i]->
issu–©
;

910 ià(
WORD_INTERLEAVED
)

912 
i
 = 0; i < 
»s_mempÜt
; i++)

913 
fu_poŞ
->
bË
[10][
i
]->
ma¡”
->
busy
 +ğfu_poŞ->bË[10][i]->
issu–©
;

917 
i
 = 
	`şu¡”_check
 (
q
->
addr
);

918 
fu_poŞ
->
bË
[10][
i
]->
ma¡”
->
busy
 +ğfu_poŞ->bË[10][i]->
issu–©
;

922 
	`ä“
 (
q
);

928 ià((
sim_cyşe
 - 
ÿche_dl1
->
Ï¡u£
è>ğ
DL1PIPE
)

930 ià((
ÿche_dl1
->
wrb
 - cache_dl1->
wrbufsize
è> 
DL1WRB
)

934 
ÿche_dl1
->
wrb
--;

935 
ÿche_dl1
->
Ï¡u£
 = 
sim_cyşe
;

937 ià(
ÿche_dl1
->
rdb
)

940 
ÿche_dl1
->
rdb
--;

941 
ÿche_dl1
->
Ï¡u£
 = 
sim_cyşe
;

943 ià(
ÿche_dl1
->
wrb
)

946 
ÿche_dl1
->
wrb
--;

947 
ÿche_dl1
->
Ï¡u£
 = 
sim_cyşe
;

952 ià((
sim_cyşe
 - 
ÿche_1
->
Ï¡u£
è>ğ
IL1PIPE
)

954 ià((
ÿche_1
->
wrb
 - cache_1->
wrbufsize
è> 
IL1WRB
)

957 
ÿche_1
->
wrb
--;

958 
ÿche_1
->
Ï¡u£
 = 
sim_cyşe
;

960 ià(
ÿche_1
->
rdb
)

963 
ÿche_1
->
rdb
--;

964 
ÿche_1
->
Ï¡u£
 = 
sim_cyşe
;

966 ià(
ÿche_1
->
wrb
)

969 
ÿche_1
->
wrb
--;

970 
ÿche_1
->
Ï¡u£
 = 
sim_cyşe
;

975 ià((
sim_cyşe
 - 
ÿche_dl2
->
Ï¡u£
è>ğ
DL2PIPE
)

977 ià((
ÿche_dl2
->
wrb
 - cache_dl2->
wrbufsize
è> 
DL2WRB
)

980 
ÿche_dl2
->
wrb
--;

981 
ÿche_dl2
->
Ï¡u£
 = 
sim_cyşe
;

982 #ifdeà
CACHE_MISS_STAT


983 ià(
thecÚ‹xts
[0]->
nÚ_¥ec_wrb_miss_couÁ
 > 0)

984 
thecÚ‹xts
[0]->
nÚ_¥ec_wrb_miss_couÁ
--;

985 ià(
thecÚ‹xts
[0]->
¥ec_wrb_miss_couÁ
 > 0)

986 
thecÚ‹xts
[0]->
¥ec_wrb_miss_couÁ
--;

989 ià(
ÿche_dl2
->
rdb
)

992 
ÿche_dl2
->
rdb
--;

993 
ÿche_dl2
->
Ï¡u£
 = 
sim_cyşe
;

994 #ifdeà
CACHE_MISS_STAT


995 ià(
thecÚ‹xts
[0]->
nÚ_¥ec_rdb_miss_couÁ
 > 0)

996 
thecÚ‹xts
[0]->
nÚ_¥ec_rdb_miss_couÁ
--;

997 ià(
thecÚ‹xts
[0]->
¥ec_rdb_miss_couÁ
 > 0)

998 
thecÚ‹xts
[0]->
¥ec_rdb_miss_couÁ
--;

1000 ià(
thecÚ‹xts
[0]->
š¡_miss_couÁ
 > 0)

1001 
thecÚ‹xts
[0]->
š¡_miss_couÁ
--;

1002 ià(
thecÚ‹xts
[0]->
lßd_miss_couÁ
 > 0)

1003 
thecÚ‹xts
[0]->
lßd_miss_couÁ
--;

1004 ià(
thecÚ‹xts
[0]->
¡Üe_miss_couÁ
 > 0)

1005 
thecÚ‹xts
[0]->
¡Üe_miss_couÁ
--;

1008 ià(
ÿche_dl2
->
wrb
)

1011 
ÿche_dl2
->
wrb
--;

1012 
ÿche_dl2
->
Ï¡u£
 = 
sim_cyşe
;

1013 #ifdeà
CACHE_MISS_STAT


1014 ià(
thecÚ‹xts
[0]->
nÚ_¥ec_wrb_miss_couÁ
 > 0)

1015 
thecÚ‹xts
[0]->
nÚ_¥ec_wrb_miss_couÁ
--;

1016 ià(
thecÚ‹xts
[0]->
¥ec_wrb_miss_couÁ
 > 0)

1017 
thecÚ‹xts
[0]->
¥ec_wrb_miss_couÁ
--;

1021 #ifdeà
CACHE_MISS_STAT


1022 ià(!
couÁ_”rÜ
)

1024 
couÁ_”rÜ
 = 1;

1025 ià((
thecÚ‹xts
[0]->
nÚ_¥ec_rdb_miss_couÁ
 +hecÚ‹xts[0]->
¥ec_rdb_miss_couÁ
è!ğ
ÿche_dl2
->
rdb
)

1026 
	`årštf
 (
¡d”r
, "E¼Ü cache_dl2rdb mism©ch s³c-nÚ¥eøÚ cyş%lu\n", (è
sim_cyşe
);

1027 ià((
thecÚ‹xts
[0]->
š¡_miss_couÁ
 +hecÚ‹xts[0]->
lßd_miss_couÁ
 +hecÚ‹xts[0]->
¡Üe_miss_couÁ
è!ğ
ÿche_dl2
->
rdb
)

1028 
	`årštf
 (
¡d”r
, "E¼Ü cache_dl2rdb mism©ch in¡/ld/¡ oÀcyş%lu\n", (è
sim_cyşe
);

1029 ià((
thecÚ‹xts
[0]->
nÚ_¥ec_wrb_miss_couÁ
 +hecÚ‹xts[0]->
¥ec_wrb_miss_couÁ
è!ğ
ÿche_dl2
->
wrb
)

1030 
	`årštf
 (
¡d”r
, "E¼Ü cache_dl2wrb mism©ch oÀcyş%lu\n", (è
sim_cyşe
);

1034 #ifdeà 
MSHR


1035 
mshr_size
 = 
ÿche_dl1
->
rdb
 + 
ÿche_dl2
->rdb;

1036 ià(
mshr_size
 >ğ
MSHRSIZE
)

1037 
mshr_fuÎ
 = 1;

1039 
mshr_fuÎ
 = 0;

1040 
mshr_couÁ
 +ğ
mshr_size
;

1041 ià(
mshr_fuÎ
)

1043 #ifdeà 
MSHR_DIST


1044 
mshr_size_di¡
[
MSHRSIZE
 - 1]++;

1046 
mshr_fuÎ_couÁ
++;

1048 #ifdeà 
MSHR_DIST


1050 
mshr_size_di¡
[
mshr_size
]++;

1053 
	}
}

1058 
	$compu‹_queue
 (
th»adid
)

1061 
	}
}

1065 
	$bªk_lookup
 (
md_addr_t
 
pc
, 
¥ec
, 
th»adid
)

1067 
šdex
, 
xÜb™s
, 
Ëv2šdex1
, 
Ëv2šdex2
, 
Ëv2šdex3
, 
Ëv2šdex4
, 
Ëv2šdex5
, 
bnk
;

1069 ià(
¥ec
)

1071 
šdex
 = (
pc
 >> 2è% 
LEV1SIZE
;

1072 
xÜb™s
 = (
pc
 >> 2è- (Õø>> (2 + 
XORSIZE
)) << XORSIZE);

1074 
Ëv2šdex1
 = (
¥ecshiá»g1
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1075 
Ëv2šdex2
 = (
¥ecshiá»g2
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1076 
Ëv2šdex3
 = (
¥ecshiá»g3
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1077 
Ëv2šdex4
 = (
¥ecshiá»g4
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1078 
Ëv2šdex5
 = (
¥ecshiá»g5
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1079 
bnk
 = 0;

1080 ià((
CACHEPORTS
 > 1è&& (
Ëv2´ed1
[
Ëv2šdex1
] >= 2))

1081 
bnk
++;

1082 ià((
CACHEPORTS
 > 2è&& (
Ëv2´ed2
[
Ëv2šdex2
] >= 2))

1083 
bnk
 += 2;

1084 ià((
CACHEPORTS
 > 4è&& (
Ëv2´ed3
[
Ëv2šdex3
] >= 2))

1085 
bnk
 += 4;

1086 ià((
CACHEPORTS
 > 8è&& (
Ëv2´ed4
[
Ëv2šdex4
] >= 2))

1087 
bnk
 += 8;

1088 ià((
CACHEPORTS
 > 16è&& (
Ëv2´ed5
[
Ëv2šdex5
] >= 2))

1089 
bnk
 += 16;

1091 
¥ecshiá»g1
[
th»adid
][
šdex
] = (¥ecshiá»g1[th»adid][šdex] << 1è% 
LEV2SIZE
;

1092 
¥ecshiá»g2
[
th»adid
][
šdex
] = (¥ecshiá»g2[th»adid][šdex] << 1è% 
LEV2SIZE
;

1093 
¥ecshiá»g3
[
th»adid
][
šdex
] = (¥ecshiá»g3[th»adid][šdex] << 1è% 
LEV2SIZE
;

1094 
¥ecshiá»g4
[
th»adid
][
šdex
] = (¥ecshiá»g4[th»adid][šdex] << 1è% 
LEV2SIZE
;

1095 
¥ecshiá»g5
[
th»adid
][
šdex
] = (¥ecshiá»g5[th»adid][šdex] << 1è% 
LEV2SIZE
;

1096 ià(
bnk
 % 2)

1098 
¥ecshiá»g1
[
th»adid
][
šdex
] = (¥ecshiá»g1[th»adid][šdex] + 1è% 
LEV2SIZE
;

1100 ià((
bnk
 / 2) % 2)

1102 
¥ecshiá»g2
[
th»adid
][
šdex
] = (¥ecshiá»g2[th»adid][šdex] + 1è% 
LEV2SIZE
;

1104 ià((
bnk
 / 4) % 2)

1106 
¥ecshiá»g3
[
th»adid
][
šdex
] = (¥ecshiá»g3[th»adid][šdex] + 1è% 
LEV2SIZE
;

1108 ià((
bnk
 / 8) % 2)

1110 
¥ecshiá»g4
[
th»adid
][
šdex
] = (¥ecshiá»g4[th»adid][šdex] + 1è% 
LEV2SIZE
;

1112 ià((
bnk
 / 16) % 2)

1114 
¥ecshiá»g5
[
th»adid
][
šdex
] = (¥ecshiá»g5[th»adid][šdex] + 1è% 
LEV2SIZE
;

1117  
bnk
;

1121 
šdex
 = (
pc
 >> 2è% 
LEV1SIZE
;

1122 
xÜb™s
 = (
pc
 >> 2è- (Õø>> (2 + 
XORSIZE
)) << XORSIZE);

1124 
Ëv2šdex1
 = (
shiá»g1
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1125 
Ëv2šdex2
 = (
shiá»g2
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1126 
Ëv2šdex3
 = (
shiá»g3
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1127 
Ëv2šdex4
 = (
shiá»g4
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1128 
Ëv2šdex5
 = (
shiá»g5
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1130 
bnk
 = 0;

1131 ià((
CACHEPORTS
 > 1è&& (
Ëv2´ed1
[
Ëv2šdex1
] >= 2))

1132 
bnk
++;

1133 ià((
CACHEPORTS
 > 2è&& (
Ëv2´ed2
[
Ëv2šdex2
] >= 2))

1134 
bnk
 += 2;

1135 ià((
CACHEPORTS
 > 4è&& (
Ëv2´ed3
[
Ëv2šdex3
] >= 2))

1136 
bnk
 += 4;

1137 ià((
CACHEPORTS
 > 8è&& (
Ëv2´ed4
[
Ëv2šdex4
] >= 2))

1138 
bnk
 += 8;

1139 ià((
CACHEPORTS
 > 16è&& (
Ëv2´ed5
[
Ëv2šdex5
] >= 2))

1140 
bnk
 += 16;

1141  
bnk
;

1143 
	}
}

1146 
	$bªk_upd©e
 (
md_addr_t
 
pc
, 
bnk
, 
th»adid
)

1148 
šdex
, 
xÜb™s
, 
Ëv2šdex1
, 
Ëv2šdex2
, 
Ëv2šdex3
, 
Ëv2šdex4
, 
Ëv2šdex5
;

1150 
šdex
 = (
pc
 >> 2è% 
LEV1SIZE
;

1151 
xÜb™s
 = (
pc
 >> 2è- (Õø>> (2 + 
XORSIZE
)) << XORSIZE);

1152 
Ëv2šdex1
 = (
shiá»g1
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1153 
Ëv2šdex2
 = (
shiá»g2
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1154 
Ëv2šdex3
 = (
shiá»g3
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1155 
Ëv2šdex4
 = (
shiá»g4
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1156 
Ëv2šdex5
 = (
shiá»g5
[
th»adid
][
šdex
] ^ 
xÜb™s
è% 
LEV2SIZE
;

1158 
shiá»g1
[
th»adid
][
šdex
] = (shiá»g1[th»adid][šdex] << 1è% 
LEV2SIZE
;

1159 
shiá»g2
[
th»adid
][
šdex
] = (shiá»g2[th»adid][šdex] << 1è% 
LEV2SIZE
;

1160 
shiá»g3
[
th»adid
][
šdex
] = (shiá»g3[th»adid][šdex] << 1è% 
LEV2SIZE
;

1161 
shiá»g4
[
th»adid
][
šdex
] = (shiá»g4[th»adid][šdex] << 1è% 
LEV2SIZE
;

1162 
shiá»g5
[
th»adid
][
šdex
] = (shiá»g5[th»adid][šdex] << 1è% 
LEV2SIZE
;

1163 ià((
CACHEPORTS
 > 1è&& (
bnk
 % 2))

1165 
Ëv2´ed1
[
Ëv2šdex1
]++;

1166 
Ëv2´ed1
[
Ëv2šdex1
] = 
	`mš2
 (3,†ev2pred1[lev2index1]);

1167 
shiá»g1
[
th»adid
][
šdex
] = (shiá»g1[th»adid][šdex] + 1è% 
LEV2SIZE
;

1171 
Ëv2´ed1
[
Ëv2šdex1
]--;

1172 
Ëv2´ed1
[
Ëv2šdex1
] = 
	`max2
 (0,†ev2pred1[lev2index1]);

1174 ià((
CACHEPORTS
 > 2è&& ((
bnk
 / 2) % 2))

1176 
Ëv2´ed2
[
Ëv2šdex2
]++;

1177 
Ëv2´ed2
[
Ëv2šdex2
] = 
	`mš2
 (3,†ev2pred2[lev2index2]);

1178 
shiá»g2
[
th»adid
][
šdex
] = (shiá»g2[th»adid][šdex] + 1è% 
LEV2SIZE
;

1182 
Ëv2´ed2
[
Ëv2šdex2
]--;

1183 
Ëv2´ed2
[
Ëv2šdex2
] = 
	`max2
 (0,†ev2pred2[lev2index2]);

1185 ià((
CACHEPORTS
 > 4è&& ((
bnk
 / 4) % 2))

1187 
Ëv2´ed3
[
Ëv2šdex3
]++;

1188 
Ëv2´ed3
[
Ëv2šdex3
] = 
	`mš2
 (3,†ev2pred3[lev2index3]);

1189 
shiá»g3
[
th»adid
][
šdex
] = (shiá»g3[th»adid][šdex] + 1è% 
LEV2SIZE
;

1193 
Ëv2´ed3
[
Ëv2šdex3
]--;

1194 
Ëv2´ed3
[
Ëv2šdex3
] = 
	`max2
 (0,†ev2pred3[lev2index3]);

1196 ià((
CACHEPORTS
 > 8è&& ((
bnk
 / 8) % 2))

1198 
Ëv2´ed4
[
Ëv2šdex4
]++;

1199 
Ëv2´ed4
[
Ëv2šdex4
] = 
	`mš2
 (3,†ev2pred4[lev2index4]);

1200 
shiá»g4
[
th»adid
][
šdex
] = (shiá»g4[th»adid][šdex] + 1è% 
LEV2SIZE
;

1204 
Ëv2´ed4
[
Ëv2šdex4
]--;

1205 
Ëv2´ed4
[
Ëv2šdex4
] = 
	`max2
 (0,†ev2pred4[lev2index4]);

1207 ià((
CACHEPORTS
 > 16è&& ((
bnk
 / 16) % 2))

1209 
Ëv2´ed5
[
Ëv2šdex5
]++;

1210 
Ëv2´ed5
[
Ëv2šdex5
] = 
	`mš2
 (3,†ev2pred5[lev2index5]);

1211 
shiá»g5
[
th»adid
][
šdex
] = (shiá»g5[th»adid][šdex] + 1è% 
LEV2SIZE
;

1215 
Ëv2´ed5
[
Ëv2šdex5
]--;

1216 
Ëv2´ed5
[
Ëv2šdex5
] = 
	`max2
 (0,†ev2pred5[lev2index5]);

1218 
	}
}

1221 
	$bªk´ed_š™
 ()

1223 
i
;

1225 
i
 = 0; i < 
LEV2SIZE
; i++)

1227 ià((
i
 % 4) == 0)

1229 
Ëv2´ed1
[
i
] = 1;

1230 
Ëv2´ed2
[
i
] = 1;

1232 ià((
i
 % 4) == 1)

1234 
Ëv2´ed1
[
i
] = 2;

1235 
Ëv2´ed2
[
i
] = 1;

1237 ià((
i
 % 4) == 2)

1239 
Ëv2´ed1
[
i
] = 1;

1240 
Ëv2´ed2
[
i
] = 2;

1244 
Ëv2´ed1
[
i
] = 2;

1245 
Ëv2´ed2
[
i
] = 2;

1248 
	}
}

1251 
	$p_š™
 ()

1253 
i
, 
j
;

1254 
cÚ‹xt
 *
cu¼’t
;

1256 
i
 = 0; i < 
ITABLESIZE
; i++)

1258 
di¡±abË
[
i
] = 1;

1259 
di¡±abËgid
[
i
].
g
 = 0;

1260 
di¡±abËgid
[
i
].
th»adid
 = -1;

1261 
di¡pcouÁ”
[
i
] = 0;

1262 
di¡p§m¶es
[
i
] = 0;

1264 
j
 = 0; j < 
numcÚ‹xts
; j++)

1266 
cu¼’t
 = 
thecÚ‹xts
[
j
];

1267 
i
 = 0; i < 
OWINDOWSIZE
; i++)

1269 
cu¼’t
->
Şdwšdowp
[
i
] = 0;

1270 
cu¼’t
->
Şdwšdowbr
[
i
] = 0;

1271 
cu¼’t
->
Şdwšdowpc
[
i
] = 0;

1273 
cu¼’t
->
owšdow_h—d
 = 0;

1275 
di¡pcouÁ
 = 0;

1276 
	}
}

1279 
	$¡d_dev
 (
a
, 
b
, 
c
, 
d
)

1281 
sum
, 
avg
;

1282 
¯
, 
bb
, 
cc
, 
dd
;

1284 
¯
 = (è
a
;

1285 
bb
 = (è
b
;

1286 
cc
 = (è
c
;

1287 
dd
 = (è
d
;

1289 
avg
 = (
¯
 + 
bb
 + 
cc
 + 
dd
) / 4.0;

1290 
sum
 = (
¯
 - 
avg
è* (¯ -‡vgè+ (
bb
 -‡vgè* (bb -‡vgè+ (
cc
 -‡vgè* (cø-‡vgè+ (
dd
 -‡vg) * (dd -‡vg);

1291 
sum
 = sum / 4.0;

1292 
sum
 = 
	`sq¹
 (sum);

1293  
sum
;

1294 
	}
}

1296 #iâdeà
NEW_INTERCONNECT


1298 
	$¡_ršg_Ït
 (
RUU_¡©iÚ
 *
rs
)

1300 
my»g
, 
‹mpv
, 
äom
, 
i
, 
j
, 
rowf
;

1301 
couÁ”_t
 
now
, 
nowc
;

1302 
found
, 
k
;

1304 #ifdeà
N_WAY_STEER


1305 
lim™_şu¡”
;

1308 #ifdeà 
PARTITIONED_LSQ


1309 
lsq_·¹_thrd
;

1312 #ifdeà 
IGNORE_MEM_COMM_LATENCY


1319 #ifdeà 
THRD_WAY_CACHE


1320 #ifdeà 
PARTITIONED_LSQ


1321 
lsq_·¹_thrd
 = (
n_ÿche_lim™_thrd
[
rs
->
th»adid
] / 
lsq_·¹_bªk
) + ((n_cache_limit_thrd[rs->threadid] %†sq_part_bank == 0) ? 0 : 1);

1322 ià(
lsq_·¹_thrd
 < 2)

1325 ià(
n_ÿche_lim™_thrd
[
rs
->
th»adid
] < 2)

1330 ià(
uni_Ït_comm
)

1332 
i
 = 0; i < 
CLUSTERS
; i++)

1333 
rs
->
¡_»ach
[
i
] = 
sim_cyşe
 + 1;

1334 
rs
->
¡_»ach
[rs->
şu¡”
] = 
sim_cyşe
;

1337 ià(
two_Ït_comm
)

1339 
i
 = 0; i < 
CLUSTERS
; i++)

1340 
rs
->
¡_»ach
[
i
] = 
sim_cyşe
 + 2;

1341 
rs
->
¡_»ach
[rs->
şu¡”
] = 
sim_cyşe
;

1342 
rs
->
¡_»ach
[
	`CL_ADD
 (rs->
şu¡”
, 1)] = 
sim_cyşe
 + 1;

1343 
rs
->
¡_»ach
[
	`CL_SUB
 (rs->
şu¡”
, 1)] = 
sim_cyşe
 + 1;

1347 ià(
GRID
)

1349 
my»g
 = 0;

1350 
rs
->
¡_»ach
[rs->
şu¡”
] = 
sim_cyşe
;

1352 ià(
ST_RING_BW
)

1354 
äom
 = 
rs
->
şu¡”
;

1355 
rowf
 = 
äom
 / 
ROWCOUNT
;

1357 
now
 = 
sim_cyşe
;

1358 
i
 = 
äom
; i < (
rowf
 + 1è* 
ROWCOUNT
; i++)

1360 ià(
i
 < (
rowf
 + 1è* 
ROWCOUNT
 - 1)

1362 #ifdeà 
TRACE_REG


1363 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)][0] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1365 
now
++;

1367 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1368 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)][0] = 
my»g
;

1370 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1372 
now
++;

1374 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1375 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1377 
now
 =‚ow + 
hİ_time
;

1378 
rs
->
¡_»ach
[(
i
 + 1è% 
CLUSTERS
] = 
now
;

1379 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1381 
num_bw_of
++;

1386 
nowc
 = 
now
;

1387 
j
 = 
i
; j < (
CLUSTERS
 - 
ROWCOUNT
); j = j + ROWCOUNT)

1389 
ršg3
[
j
][(
nowc
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g3
[j][Òowø% TIMEWINDOW)] !ğmy»g)è&& (Òowø- 
sim_cyşe
) < TIMEWINDOW))

1391 
nowc
++;

1393 
ršg3
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 1;

1394 
»g3
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 
my»g
;

1395 
nowc
 =‚owø+ 
hİ_time
;

1396 
rs
->
¡_»ach
[(
j
 + 
ROWCOUNT
è% 
CLUSTERS
] = 
nowc
;

1397 ià((
nowc
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1399 
num_bw_of
++;

1403 
nowc
 = 
now
;

1404 
j
 = 
i
; j >ğ
ROWCOUNT
; j = j - ROWCOUNT)

1406 
ršg4
[
j
][(
nowc
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g4
[j][Òowø% TIMEWINDOW)] !ğmy»g)è&& (Òowø- 
sim_cyşe
) < TIMEWINDOW))

1408 
nowc
++;

1410 
ršg4
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 1;

1411 
»g4
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 
my»g
;

1412 
nowc
 =‚owø+ 
hİ_time
;

1413 
rs
->
¡_»ach
[(
j
 - 
ROWCOUNT
)] = 
nowc
;

1414 ià((
nowc
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1416 
num_bw_of
++;

1422 
now
 = 
sim_cyşe
;

1423 
i
 = 
äom
; i >ğ
rowf
 * 
ROWCOUNT
; i--)

1425 ià(
i
 > 
rowf
 * 
ROWCOUNT
)

1427 #ifdeà 
TRACE_REG


1428 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)][0] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1430 
now
++;

1432 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1433 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)][0] = 
my»g
;

1435 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1437 
now
++;

1439 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1440 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1442 
now
 =‚ow + 
hİ_time
;

1443 
rs
->
¡_»ach
[(
i
 - 1è% 
CLUSTERS
] = 
now
;

1444 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1446 
num_bw_of
++;

1451 
nowc
 = 
now
;

1452 
j
 = 
i
; j < (
CLUSTERS
 - 
ROWCOUNT
); j = j + ROWCOUNT)

1454 
ršg3
[
j
][(
nowc
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g3
[j][Òowø% TIMEWINDOW)] !ğmy»g)è&& (Òowø- 
sim_cyşe
) < TIMEWINDOW))

1456 
nowc
++;

1458 
ršg3
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 1;

1459 
»g3
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 
my»g
;

1460 
nowc
 =‚owø+ 
hİ_time
;

1461 
rs
->
¡_»ach
[(
j
 + 
ROWCOUNT
è% 
CLUSTERS
] = 
nowc
;

1462 ià((
nowc
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1464 
num_bw_of
++;

1468 
nowc
 = 
now
;

1469 
j
 = 
i
; j >ğ
ROWCOUNT
; j = j - ROWCOUNT)

1471 
ršg4
[
j
][(
nowc
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g4
[j][Òowø% TIMEWINDOW)] !ğmy»g)è&& (Òowø- 
sim_cyşe
) < TIMEWINDOW))

1473 
nowc
++;

1475 
ršg4
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 1;

1476 
»g4
[
j
][(
nowc
 % 
TIMEWINDOW
)] = 
my»g
;

1477 
nowc
 =‚owø+ 
hİ_time
;

1478 
rs
->
¡_»ach
[(
j
 - 
ROWCOUNT
)] = 
nowc
;

1479 ià((
nowc
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1481 
num_bw_of
++;

1489 
äom
 = 
rs
->
şu¡”
;

1490 
rowf
 = 
äom
 / 
ROWCOUNT
;

1492 
now
 = 
sim_cyşe
;

1493 
i
 = 
äom
; i < (
rowf
 + 1è* 
ROWCOUNT
; i++)

1495 ià(
i
 < (
rowf
 + 1è* 
ROWCOUNT
 - 1)

1497 
now
 =‚ow + 
hİ_time
;

1498 
rs
->
¡_»ach
[(
i
 + 1è% 
CLUSTERS
] = 
now
;

1501 
nowc
 = 
now
;

1502 
j
 = 
i
; j < (
CLUSTERS
 - 
ROWCOUNT
); j = j + ROWCOUNT)

1504 
nowc
 =‚owø+ 
hİ_time
;

1505 
rs
->
¡_»ach
[(
j
 + 
ROWCOUNT
è% 
CLUSTERS
] = 
nowc
;

1507 
nowc
 = 
now
;

1508 
j
 = 
i
; j >ğ
ROWCOUNT
; j = j - ROWCOUNT)

1510 
nowc
 =‚owø+ 
hİ_time
;

1511 
rs
->
¡_»ach
[(
j
 - 
ROWCOUNT
)] = 
nowc
;

1515 
now
 = 
sim_cyşe
;

1516 
i
 = 
äom
; i >ğ
rowf
 * 
ROWCOUNT
; i--)

1518 ià(
i
 > 
rowf
 * 
ROWCOUNT
)

1520 
now
 =‚ow + 
hİ_time
;

1521 
rs
->
¡_»ach
[(
i
 - 1è% 
CLUSTERS
] = 
now
;

1524 
nowc
 = 
now
;

1525 
j
 = 
i
; j < (
CLUSTERS
 - 
ROWCOUNT
); j = j + ROWCOUNT)

1527 
nowc
 =‚owø+ 
hİ_time
;

1528 
rs
->
¡_»ach
[(
j
 + 
ROWCOUNT
è% 
CLUSTERS
] = 
nowc
;

1530 
nowc
 = 
now
;

1531 
j
 = 
i
; j >ğ
ROWCOUNT
; j = j - ROWCOUNT)

1533 
nowc
 =‚owø+ 
hİ_time
;

1534 
rs
->
¡_»ach
[(
j
 - 
ROWCOUNT
)] = 
nowc
;

1542 
my»g
 = 0;

1543 
rs
->
¡_»ach
[rs->
şu¡”
] = 
sim_cyşe
;

1544 #ifdeà 
COMM_BUFF


1545 
comm1q¿m_acûss_ş
[
rs
->
şu¡”
] = 1;

1546 
comm2q¿m_acûss_ş
[
rs
->
şu¡”
] = 1;

1549 ià(
ST_RING_BW
)

1552 
‹mpv
 = (
CLUSTERS
 / 2) - 1;

1553 
now
 = 
sim_cyşe
;

1554 
äom
 = 
rs
->
şu¡”
;

1555 #ifdeà
THRD_WAY_CACHE


1556 ià(
n_ÿche_lim™_thrd
[
rs
->
th»adid
] <ğ
CLUSTERS
 / 2)

1557 
lim™_şu¡”
 = (
n_ÿche_¡¬t_thrd
[
rs
->
th»adid
] + 
n_ÿche_lim™_thrd
[rs->th»adid] + 1è% 
CLUSTERS
;

1559 
lim™_şu¡”
 = -1;

1560 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
 && i !ğ
lim™_şu¡”
; j++, i = (˜+ 1è% 
CLUSTERS
)

1563 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (˜+ 1è% 
CLUSTERS
)

1566 #ifdeà
INST_TRANS_RATE


1567 #ifdeà 
TRACE_REG


1568 ià(!
my»g
)

1570 
found
 = 0;

1571 (
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1572 
now
++;

1576 
found
 = 0;

1577 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] > 0)

1579 
k
 = 0; k < 
ršg1
[
i
][
now
 % 
TIMEWINDOW
]; k++)

1581 ià(
»g1
[
i
][(
now
 % 
TIMEWINDOW
)][
k
] =ğ
my»g
)

1583 
found
 = 1;

1587 ià(
found
 || (
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
))

1590 
now
++;

1593 ià(!
found
)

1595 ià(
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

1597 
lšk_width_di¡
[
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

1598 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)][
ršg1
[i][Òow % TIMEWINDOW)]] = 
my»g
;

1599 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]++;

1603 
	`årštf
 (
¡d”r
, "DE_CENT„šg1ƒxûed it lim™ iÀcyø%lu\n", (è
sim_cyşe
);

1604 
	`ex™
 (1);

1608 (
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1609 
now
++;

1610 ià(
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

1612 
lšk_width_di¡
[
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

1613 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]++;

1614 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1618 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1620 
now
++;

1622 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1623 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1625 
now
 =‚ow + 
hİ_time
;

1626 
rs
->
¡_»ach
[(
i
 + 1è% 
CLUSTERS
] = 
now
;

1627 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1629 
num_bw_of
++;

1634 
‹mpv
 = (
CLUSTERS
 / 2) - 2;

1635 
now
 = 
sim_cyşe
;

1636 
äom
 = 
rs
->
şu¡”
;

1637 #ifdeà
THRD_WAY_CACHE


1638 ià(
n_ÿche_lim™_thrd
[
rs
->
th»adid
] <ğ
CLUSTERS
 / 2)

1639 
lim™_şu¡”
 = (
n_ÿche_¡¬t_thrd
[
rs
->
th»adid
] + 
CLUSTERS
 - 1) % CLUSTERS;

1641 
lim™_şu¡”
 = -1;

1642 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
 && i !ğ
lim™_şu¡”
; j++, i = (
CLUSTERS
 + i - 1) % CLUSTERS)

1645 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (
CLUSTERS
 + i - 1) % CLUSTERS)

1648 #ifdeà
INST_TRANS_RATE


1649 #ifdeà 
TRACE_REG


1650 ià(!
my»g
)

1652 
found
 = 0;

1653 (
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1654 
now
++;

1658 
found
 = 0;

1659 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] > 0)

1661 
k
 = 0; k < 
ršg2
[
i
][
now
 % 
TIMEWINDOW
]; k++)

1663 ià(
»g2
[
i
][(
now
 % 
TIMEWINDOW
)][
k
] =ğ
my»g
)

1665 
found
 = 1;

1669 ià(
found
 || (
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
))

1672 
now
++;

1675 ià(!
found
)

1677 ià(
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

1679 
lšk_width_di¡
[
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

1680 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)][
ršg2
[i][Òow % TIMEWINDOW)]] = 
my»g
;

1681 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]++;

1685 
	`årštf
 (
¡d”r
, "ršg2ƒxûed it lim™ iÀcyø%lu\n", (è
sim_cyşe
);

1686 
	`ex™
 (1);

1690 (
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1691 
now
++;

1692 ià(
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

1694 
lšk_width_di¡
[
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

1695 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]++;

1696 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1700 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1702 
now
++;

1704 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1705 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1707 
now
 =‚ow + 
hİ_time
;

1708 
rs
->
¡_»ach
[(
CLUSTERS
 + 
i
 - 1è% CLUSTERS] = 
now
;

1709 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1711 
num_bw_of
++;

1719 
‹mpv
 = (
CLUSTERS
 / 2) - 1;

1720 
now
 = 
sim_cyşe
;

1721 
äom
 = 
rs
->
şu¡”
;

1722 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (˜+ 1è% 
CLUSTERS
)

1724 
now
 =‚ow + 
hİ_time
;

1725 
rs
->
¡_»ach
[(
i
 + 1è% 
CLUSTERS
] = 
now
;

1728 
‹mpv
 = (
CLUSTERS
 / 2) - 2;

1729 
now
 = 
sim_cyşe
;

1730 
äom
 = 
rs
->
şu¡”
;

1731 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (
CLUSTERS
 + i - 1) % CLUSTERS)

1733 
now
 =‚ow + 
hİ_time
;

1734 
rs
->
¡_»ach
[(
CLUSTERS
 + 
i
 - 1è% CLUSTERS] = 
now
;

1740 
	}
}

1743 
	$ršg_Ït
 (
äom
, 
to
, 
my»g
, 
off£t
)

1745 
‹mpv
, 
d–ay
, 
i
, 
dœ
, 
j
, 
rowf
, 
rowt
, 
cŞf
, 
cŞt
;

1746 
couÁ”_t
 
now
;

1747 
found
, 
k
;

1749 #ifdeà 
IGNORE_ALL_COMM_LATENCY


1752 ià(
äom
 =ğ
to
)

1754 ià(
uni_Ït_comm
)

1756 ià(
two_Ït_comm
)

1758 ià((
	`CL_ADD
 (
äom
, 1è=ğ
to
è|| (
	`CL_SUB
 (from, 1) ==o))

1764 ià(
GRID
)

1771 
rowf
 = 
äom
 / 
ROWCOUNT
;

1772 
cŞf
 = 
äom
 % 
ROWCOUNT
;

1773 
rowt
 = 
to
 / 
ROWCOUNT
;

1774 
cŞt
 = 
to
 % 
ROWCOUNT
;

1778 
‹mpv
 = 
	`abs
 (
cŞf
 - 
cŞt
);

1779 ià((
cŞf
 - 
cŞt
) < 0)

1781 
dœ
 = 1;

1785 
dœ
 = 2;

1787 ià(
aùu®_şu¡”s
 == 4)

1789 ià((
cŞf
 - 
cŞt
) == -3)

1791 
‹mpv
 = 1;

1792 
dœ
 = 2;

1794 ià((
cŞf
 - 
cŞt
) == 3)

1796 
‹mpv
 = 1;

1797 
dœ
 = 1;

1801 
‹mpv
 =empv - 1;

1802 
d–ay
 = (
‹mpv
 * 2 * 
COMM_LATENCY
è/ 
CLUSTERS
 + 
hİ_time
;

1804 ià(
RING_BW
)

1806 ià(
dœ
 == 1)

1808 
now
 = 
sim_cyşe
 + 
off£t
;

1809 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (˜+ 1è% 
CLUSTERS
)

1811 #ifdeà
TRACE_REG


1812 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)][0] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1814 
now
++;

1816 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1817 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)][0] = 
my»g
;

1819 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1821 
now
++;

1823 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1824 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1826 
now
 =‚ow + 
hİ_time
;

1827 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1829 
num_bw_of
++;

1836 
now
 = 
sim_cyşe
 + 
off£t
;

1837 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (
CLUSTERS
 + i - 1) % CLUSTERS)

1839 #ifdeà
TRACE_REG


1840 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)][0] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1842 
now
++;

1844 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1845 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)][0] = 
my»g
;

1847 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1849 
now
++;

1851 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1852 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1854 
now
 =‚ow + 
hİ_time
;

1855 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1857 
num_bw_of
++;

1864 
‹mpv
 = 
	`abs
 (
rowf
 - 
rowt
);

1865 ià((
rowf
 - 
rowt
) < 0)

1867 
dœ
 = 1;

1871 
dœ
 = 2;

1873 
‹mpv
 =empv - 1;

1874 
d–ay
 +ğ(
‹mpv
 * 2 * 
COMM_LATENCY
è/ 
CLUSTERS
 + 
hİ_time
;

1875 
tÙ_d–
 +ğ
d–ay
;

1877 ià(
RING_BW
)

1879 ià(
dœ
 == 1)

1881 
i
 = (
rowf
 * 
ROWCOUNT
è+ 
cŞt
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (˜+ ROWCOUNTè% 
CLUSTERS
)

1883 
ršg3
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g3
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1885 
now
++;

1887 
ršg3
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1888 
»g3
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1889 
now
 =‚ow + 
hİ_time
;

1890 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1892 
num_bw_of
++;

1899 
i
 = (
rowf
 * 
ROWCOUNT
è+ 
cŞt
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (
CLUSTERS
 + i - ROWCOUNT) % CLUSTERS)

1901 
ršg4
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g4
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1903 
now
++;

1905 
ršg4
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

1906 
»g4
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

1907 
now
 =‚ow + 
hİ_time
;

1908 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

1910 
num_bw_of
++;

1915 
d–ay
 = 
now
 - 
sim_cyşe
 - 
off£t
;

1918 
tÙ_d–_bw
 +ğ
d–ay
;

1920 ià(
d–ay
 < 1)

1921 
	`çl
 ("d–ay i %ld", 
d–ay
);

1923  
d–ay
;

1931 
‹mpv
 = 
	`abs
 (
äom
 - 
to
);

1932 ià(
‹mpv
 > (
CLUSTERS
 / 2))

1934 
‹mpv
 = 
CLUSTERS
 -empv;

1935 ià((
äom
 - 
to
) < 0)

1937 
dœ
 = 2;

1941 
dœ
 = 1;

1946 ià((
äom
 - 
to
) < 0)

1948 
dœ
 = 1;

1952 
dœ
 = 2;

1955 
tÙ®_hİ
 +ğ
‹mpv
;

1956 
	`¡©_add_§m¶e
 (
hİ_di¡
, 
‹mpv
);

1957 
now
 = 
sim_cyşe
 + 
off£t
;

1958 #ifdeà
OPTICAL_TENT


1959 ià(
İtiÿl_comm
 && (
‹mpv
 > (
CLUSTERS
 / 4)))

1961 
comm_İt_q¿m_acûss_ş
[
äom
] = 1;

1962 
‹mpv
 =empv - 
CLUSTERS
 / 4;

1963 
found
 = 0;

1964 ià(!
my»g
)

1966 (
İtiÿl_lšk
[
äom
][(
now
 % 
TIMEWINDOW
)] >ğ
İtiÿl_lšk_width
è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

1967 
now
++;

1971 
İtiÿl_lšk
[
äom
][(
now
 % 
TIMEWINDOW
)] > 0)

1973 
k
 = 0; k < 
İtiÿl_lšk
[
äom
][
now
 % 
TIMEWINDOW
]; k++)

1975 ià(
İt_»g
[
äom
][(
now
 % 
TIMEWINDOW
)][
k
] =ğ
my»g
)

1977 
found
 = 1;

1981 ià(
found
 || (
İtiÿl_lšk
[
äom
][(
now
 % 
TIMEWINDOW
)] < 
İtiÿl_lšk_width
))

1984 
now
++;

1987 ià(!
found
)

1989 ià(
İtiÿl_lšk
[
äom
][(
now
 % 
TIMEWINDOW
)] < 
İtiÿl_lšk_width
)

1991 
İtiÿl_lšk_width_di¡
[
İtiÿl_lšk
[
äom
][(
now
 % 
TIMEWINDOW
)]]++;

1994 
İt_»g
[
äom
][(
now
 % 
TIMEWINDOW
)][
İtiÿl_lšk
[äom][Òow % TIMEWINDOW)]] = 
my»g
;

1995 
İtiÿl_lšk
[
äom
][(
now
 % 
TIMEWINDOW
)]++;

1999 
	`årštf
 (
¡d”r
, "İtiÿl_lškƒxûeded it lim™ iÀcyş%Îu\n", 
sim_cyşe
);

2000 
	`çl
 ("bad optical†imit");

2004 
äom
 = (äom + (
CLUSTERS
 / 2)) % CLUSTERS;

2005 
dœ
 = dir == 1 ? 2 : 1;

2006 
now
 +ğ
İtiÿl_hİ_time
;

2009 
‹mpv
 =empv - 1;

2010 
d–ay
 = (
‹mpv
 * 2 * 
COMM_LATENCY
è/ 
CLUSTERS
 + 
hİ_time
;

2011 
tÙ_d–
 +ğ
d–ay
;

2013 ià(
RING_BW
)

2015 ià(
dœ
 == 1)

2017 #ifdeà 
COMM_BUFF


2018 
comm1q¿m_acûss_ş
[
äom
] = 1;

2020 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (˜+ 1è% 
CLUSTERS
)

2022 #ifdeà
INST_TRANS_RATE


2023 #ifdeà 
TRACE_REG


2024 
found
 = 0;

2025 ià(!
my»g
)

2027 (
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

2028 
now
++;

2032 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] > 0)

2034 
k
 = 0; k < 
ršg1
[
i
][
now
 % 
TIMEWINDOW
]; k++)

2036 ià(
»g1
[
i
][(
now
 % 
TIMEWINDOW
)][
k
] =ğ
my»g
)

2038 
found
 = 1;

2042 ià(
found
 || (
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
))

2045 
now
++;

2048 ià(!
found
)

2050 ià(
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

2052 
lšk_width_di¡
[
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

2053 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)][
ršg1
[i][Òow % TIMEWINDOW)]] = 
my»g
;

2054 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]++;

2058 
	`årštf
 (
¡d”r
, "ršg1ƒxûed it lim™ iÀcyø%lu\n", (è
sim_cyşe
);

2059 
	`ex™
 (1);

2063 (
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

2064 
now
++;

2065 ià(
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

2067 
lšk_width_di¡
[
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

2068 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)]++;

2069 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

2073 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g1
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

2075 
now
++;

2077 
ršg1
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

2078 
»g1
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

2080 
now
 =‚ow + 
hİ_time
;

2081 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

2083 
num_bw_of
++;

2090 #ifdeà 
COMM_BUFF


2091 
comm2q¿m_acûss_ş
[
äom
] = 1;

2093 
i
 = 
äom
, 
j
 = 0; j <ğ
‹mpv
; j++, i = (
CLUSTERS
 + i - 1) % CLUSTERS)

2095 #ifdeà
INST_TRANS_RATE


2096 #ifdeà 
TRACE_REG


2097 
found
 = 0;

2098 ià(!
my»g
)

2100 (
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

2101 
now
++;

2105 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] > 0)

2107 
k
 = 0; k < 
ršg2
[
i
][
now
 % 
TIMEWINDOW
]; k++)

2109 ià(
»g2
[
i
][(
now
 % 
TIMEWINDOW
)][
k
] =ğ
my»g
)

2111 
found
 = 1;

2115 ià(
found
 || (
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
))

2118 
now
++;

2121 ià(!
found
)

2123 ià(
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

2125 
lšk_width_di¡
[
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

2126 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)][
ršg2
[i][Òow % TIMEWINDOW)]] = 
my»g
;

2127 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]++;

2131 
	`årštf
 (
¡d”r
, "ršg2ƒxûed it lim™ iÀcyø%lu\n", (è
sim_cyşe
);

2132 
	`ex™
 (1);

2136 (
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] >ğ
lšk_width
è&& (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

2137 
now
++;

2138 ià(
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] < 
lšk_width
)

2140 
lšk_width_di¡
[
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]]++;

2141 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)]++;

2142 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

2146 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] && (!
my»g
 || (
»g2
[i][Òow % TIMEWINDOW)] !ğmy»g)è&& (Òow - 
sim_cyşe
) < TIMEWINDOW))

2148 
now
++;

2150 
ršg2
[
i
][(
now
 % 
TIMEWINDOW
)] = 1;

2151 
»g2
[
i
][(
now
 % 
TIMEWINDOW
)] = 
my»g
;

2153 
now
 =‚ow + 
hİ_time
;

2154 ià((
now
 - 
sim_cyşe
è>ğ
TIMEWINDOW
)

2156 
num_bw_of
++;

2161 
d–ay
 = 
now
 - 
sim_cyşe
 - 
off£t
;

2174 
tÙ_d–_bw
 +ğ
d–ay
;

2176 ià(
d–ay
 < 1)

2177 
	`çl
 ("d–ay i %ld", 
d–ay
);

2178 
	`¡©_add_§m¶e
 (
d–ay_di¡
, 
d–ay
);

2179 
tÙ®_d–ay
 +ğ
d–ay
;

2180 
tÙ®_numb”_d–ay
++;

2181  
d–ay
;

2183 
	}
}

2185 
	$ršg_ä“
 ()

2187 
i
, 
j
;

2189 
i
 = 0; i < 
CLUSTERS
; i++)

2191 #ifdeà 
COMM_BUFF


2192 #ifdeà 
PWR_ACCESS


2193 ià(
ršg1
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)])

2194 
comm1q¿m_acûss_ş
[
i
] = 2 * 
ršg1
[i][((è
sim_cyşe
 % 
TIMEWINDOW
)];

2195 ià(
ršg2
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)])

2196 
comm2q¿m_acûss_ş
[
i
] = 2 * 
ršg2
[i][((è
sim_cyşe
 % 
TIMEWINDOW
)];

2198 ià(
ršg1
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)])

2199 
comm1q¿m_acûss_ş
[
i
] = 1;

2200 ià(
ršg2
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)])

2201 
comm2q¿m_acûss_ş
[
i
] = 1;

2204 #ifdeà 
COMM_LINK_PWR


2205 ià(
ršg1
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)])

2206 
comm1lšk_acûss_ş
[
i
] = 1;

2207 ià(
ršg2
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)])

2208 
comm2lšk_acûss_ş
[
i
] = 1;

2210 
ršg1
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2211 
ršg2
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2212 
ršg3
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2213 
ršg4
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2214 #ifdeà 
TRACE_REG


2215 
j
 = 0; j < 
lšk_width
; j++)

2217 
»g1
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)][
j
] = 0;

2218 
»g2
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)][
j
] = 0;

2221 
»g1
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2222 
»g2
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2224 
»g3
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2225 
»g4
[
i
][((è
sim_cyşe
 % 
TIMEWINDOW
)] = 0;

2226 #ifdeà
OPTICAL_TENT


2227 
	`İtiÿl_ä“
 ();

2230 
	}
}

2233 
	$ÿche_chªge_cÚfig
 (
Ãwsize
)

2235 
ÿche_t
 *
‹mpÿche
;

2237 ià(
Ãwsize
 =ğ
aùu®_şu¡”s
)

2240 
	`årštf
 (
¡d”r
, "Chªgšg cÚfig from %dØ%d\n", 
aùu®_şu¡”s
, 
Ãwsize
);

2241 
æushes
 +ğ(è
	`sim¶e_ÿche_æush
 (
ÿche_dl1
);

2242 
num_æushes
++;

2244 
‹mpÿche
 = 
ÿche_dl1
;

2245 
ÿche_dl1
 = 
	`ÿche_ü—‹
 (
‹mpÿche
->
Çme
,empÿche->
n£ts
, (
Üigš®_bsize
 * 
Ãwsize
è/ 
CLUSTERS
,

2246  
FALSE
, 0, 
‹mpÿche
->
assoc
,

2247 
‹mpÿche
->
pŞicy
, 
dl1_acûss_â
, 
ÿche_dl1_Ït
, 0);

2248 
ÿche_dl1
->
bus_ä“
 = 
‹mpÿche
->bus_free;

2249 
ÿche_dl1
->
h™s
 = 
‹mpÿche
->hits;

2250 
ÿche_dl1
->
mis£s
 = 
‹mpÿche
->misses;

2251 
ÿche_dl1
->
»¶aûm’ts
 = 
‹mpÿche
->replacements;

2252 
ÿche_dl1
->
wr™ebacks
 = 
‹mpÿche
->writebacks;

2253 
ÿche_dl1
->
šv®id©iÚs
 = 
‹mpÿche
->invalidations;

2254 
ÿche_dl1
->
rdb
 = 
‹mpÿche
->rdb;

2255 
ÿche_dl1
->
wrb
 = 
‹mpÿche
->wrb;

2256 
ÿche_dl1
->
ped–ay
 = 
‹mpÿche
->pipedelay;

2257 
ÿche_dl1
->
wrbufsize
 = 
‹mpÿche
->wrbufsize;

2258 
ÿche_dl1
->
Ï¡u£
 = 
‹mpÿche
->lastuse;

2260 
aùu®_ÿch•Üts
 = (
CACHEPORTS
 * 
Ãwsize
è/ 
CLUSTERS
;

2262 
	}
}

	@cluster.h

46 
	~"smt.h
"

49 
	#FETCHLIMIT
 1024

	)

51 
	#FBLOCKMASK
 ~63

	)

52 
	#THREADFETCHLIMIT
 8

	)

54 
	#TOTALFETCHLIMIT
 1024

	)

57 
	#ICACHEBANKS
 8

	)

59 
	#IQSIZE
 1048

61 
	#FQSIZE
 1048

62 

	)

63 #ifdeà
RAW


64 
	#RAWSIZE
 
IQSIZE


	)

67 
	#IPREGSIZE
 4000

68 
	#FPREGSIZE
 4000

69 
	#EXTRA_REG_RENAME
 30

	)

71 #ifdeà
PORT_PER_BANK


72 
	#MAXCACHEPORTS
 512

	)

74 
	#CACHEPORTS
 32

	)

75 
	#RES_CACHEPORTS
 32

	)

80 #ifdeà 
PARTITIONED_LSQ


81 
	#MAXLSQPARTS
 32

	)

84 
	#WARMUP
 0

	)

87 #ifdeà 
CENTRALIZED_LSQ


88 
	#CENTRAL_CACHE
 1

	)

89 
	#CENTRALCACHELAT
 1

	)

90 
	#CACHELOC
 0

	)

92 
	#CENTRAL_CACHE
 0

	)

93 
	#CENTRALCACHELAT
 0

	)

94 
	#CACHELOC
 0

	)

97 
	#GRID
 0

	)

99 
	#DL1WRB
 16

	)

100 
	#IL1WRB
 16

	)

101 
	#DL2WRB
 16

	)

102 
	#DL1PIPE
 4

	)

103 
	#IL1PIPE
 4

	)

104 
	#DL2PIPE
 16

	)

106 
	#TIMEWINDOW
 5000

	)

108 
	#LEV1SIZE
 1024

	)

109 
	#LEV2SIZE
 4096

	)

114 
	#MINADDR
 4799987712ULL

	)

115 
	#MAXADDR
 5400000000ULL

	)

116 
	#BINSIZE
 16384

	)

118 
	#TABLE2SIZE
 4096

	)

119 
	#TABLESIZE
 4096

	)

121 
	#ITABLESIZE
 16384

	)

123 
	#XORSIZE
 12

	)

125 
	#SORT
 0

	)

127 
	#FREE_REG_THRESH
 (
IPREGSIZE
)

	)

130 
	#ROWCOUNT
 4

	)

133 #ifdeà
DE_CENTRALIZED_LSQ


134 
	#STOREDELAY
 1

	)

135 
	#BANKPRED
 1

	)

136 
	#BANKMISPREDLAT
 1

	)

137 
	#BANKP_SPEC
 0

	)

138 
	#ST_ADDR_COMM
 1

	)

139 
	#ST_RING_BW
 1

	)

141 
	#STOREDELAY
 0

	)

142 
	#BANKPRED
 0

	)

143 
	#BANKMISPREDLAT
 0

	)

144 
	#BANKP_SPEC
 0

	)

145 
	#ST_ADDR_COMM
 0

	)

146 
	#ST_RING_BW
 0

	)

149 
	#IFACTOR
 4

	)

151 
	#RFACTOR
 1

	)

153 #iâdeà 
STEER_FU


154 
	#DEP_FACTOR
 
CLUSTERS


	)

157 
	#DEP_FACTOR
 0

	)

160 #ifdeà
DE_CENTRALIZED_LSQ


162 #iâdeà
NO_COMMUNICATION


163 
	#LD_FACTOR
 (4*
DEP_FACTOR
)

	)

167 #iâdeà
NO_COMMUNICATION


168 
	#LD_FACTOR
 (0*
DEP_FACTOR
)

	)

172 #ifdeà 
STEER_MEM_NEIGHBOR


173 
	#LD_PROXIMITY
 1

	)

175 
	#LD_PROXIMITY
 0

	)

177 
	#LDPROX_FACTOR
 256

	)

179 #ifdeà
CENTRALIZED_CACHE_BANK


180 #iâdeà
PARTITIONED_LSQ


181 
	#LD_FACTOR
 0

	)

182 
	#LD_PROXIMITY
 0

	)

183 
	#LDPROX_FACTOR
 0

	)

187 #ifdeà
IGNORE_MEM_COMM_LATENCY


188 
	#LD_FACTOR
 0

	)

189 
	#LD_PROXIMITY
 0

	)

192 #ifdeà
IGNORE_ALL_COMM_LATENCY


193 
	#STEER_2NONREADY
 0

	)

194 
	#STEER_CRITICAL
 0

	)

195 
	#LD_FACTOR
 0

	)

196 
	#LD_PROXIMITY
 0

	)

199 #ifdeà 
UNIFORM_COMM


200 
	#RING_IC
 0

	)

201 
	#RING_BW
 0

	)

203 
	#RING_IC
 1

	)

204 
	#RING_BW
 1

	)

207 #ifdeà 
IGNORE_ALL_COMM_LATENCY


208 
	#IGNORE_COMM_LATENCY
 1

	)

211 
	#IGNORE_COMM_LATENCY
 0

	)

214 
	#MAGICN
 2000

	)

216 
	#NUMPHASES
 
CLUSTERS


	)

217 
	#MIN_INSN_INT
 10000

	)

218 
	#STOP_EXPL_THRESH
 -5

	)

220 
	#ILPTAGCHECK
 1

	)

221 
	#DISTILP
 120

	)

222 
	#DISTILPTHRESH
 30

	)

223 
	#SAMPLETHRESH
 10

	)

224 
	#BR_INT
 8

	)

225 
	#ILPCLEARINT
 10000000

	)

227 
	#STATPRINT
 0

	)

229 
	#IQBUF
 0

	)

232 
	#CHATTER
 0

	)

233 
	#TOL_COUNT
 0

	)

235 
	#REGFREE
 0

	)

236 
	#FREE_CURR_REGS
 0

	)

237 
	#FREE_INTERVAL
 1

	)

238 
	#DISPDELAY
 0

	)

241 
	#READY_COMM
 1

242 
	#HOLY_REGS
 0

	)

243 
	#NUM_H_REGS
 3

	)

244 
	#COPY_THRESH
 50

	)

246 
	#FIRST_FIT
 0

	)

247 
	#FIRST_FIT_ENFORCE
 0

	)

248 
	#FIRST_VAL
 10000

	)

250 
	#STEER_ENFORCE
 0

	)

251 
	#MOD_N
 0

	)

252 
	#MOD_N_N
 8

	)

254 
	#FIRST_MOD
 0

	)

255 
	#GROUPSIZE
 4

	)

256 
	#MOD_N_T
 2

	)

258 
	#ANYWILLDO
 1

	)

261 
	#NEIGHBOR_SEEK
 (
CLUSTERS
/2)

	)

263 
	#PICKMIDDLE
 0

	)

265 
	#MIDTHRESH
 16

	)

272 
	#FE_LAT
 ((
CLUSTERS
*
HOPTIME
)/2)

	)

273 #ifdeà 
IGNORE_ALL_COMM_LATENCY


274 
	#MPRED_COMM_LAT
 0

	)

275 
	#CACHE_REFILL_LAT
 0

	)

277 #ifdeà 
IGNORE_MEM_COMM_LATENCY


278 
	#CACHE_REFILL_LAT
 0

	)

280 
	#CACHE_REFILL_LAT
 1

	)

282 
	#MPRED_COMM_LAT
 1

	)

293 #iâdeà
NO_COMMUNICATION


294 #iâdeà
STEER_FU


295 #iâdeà
STEER_OPRANDS


297 
	#STEER_2NONREADY
 1

	)

298 
	#STEER_CRITICAL
 1

	)

301 
	#STEER_2NONREADY
 0

	)

302 
	#STEER_CRITICAL
 0

	)

305 #ifdeà 
STEER_OPRANDS


306 
	#STEER_2NONREADY
 0

	)

307 
	#STEER_CRITICAL
 0

	)

311 #ifdeà 
STEER_RES1


312 
	#ILOAD_MIN
 1

	)

313 
	#RLOAD_MIN
 1

	)

315 
	#ILOAD_MIN
 0

	)

316 
	#RLOAD_MIN
 0

	)

319 
	sli¡–t
 {

320 
	m´eg
;

321 
li¡–t
 *
	mÃxt
;

322 
li¡–t
 *
	m´ev
;

326 #ifdeà
INST_TRANS_RATE


327 *
lšk_width_di¡
;

329 
ršg1
[
CLUSTERS
][
TIMEWINDOW
];

330 
ršg2
[
CLUSTERS
][
TIMEWINDOW
];

331 
ršg3
[
CLUSTERS
][
TIMEWINDOW
];

332 
ršg4
[
CLUSTERS
][
TIMEWINDOW
];

333 #ifdeà
TRACE_REG


334 *
»g1
[
CLUSTERS
][
TIMEWINDOW
];

335 *
»g2
[
CLUSTERS
][
TIMEWINDOW
];

337 
»g1
[
CLUSTERS
][
TIMEWINDOW
];

338 
»g2
[
CLUSTERS
][
TIMEWINDOW
];

340 
»g3
[
CLUSTERS
][
TIMEWINDOW
];

341 
»g4
[
CLUSTERS
][
TIMEWINDOW
];

	@cmt.c

41 
	~"h—d”s.h
"

43 
cÚ‹xt
* 
	$g‘_Ãxt_th»ad
()

45 
	}
}

46 
	$ÿlcuÏ‹_´iÜ™y
()

48 
	}
}

49 
	$ÿlcuÏ‹_š‹rv®_´iÜ™y
()

51 
	}
}

52 
	$upd©e_examš_n_lim™
()

54 
	}
}

55 
	$n_way_ÿche_ad­t
()

57 
	}
}

59 
	$MTA_´štInfo
(
id
)

61 
	}
}

63 
	$upd©e_n_lim™
()

65 
	}
}

66 
	$g’”®_¡©
()

69 
	}
}

70 
	$¡“r_š™
()

72 
	}
}

74 
	$upd©e_¡“r_li¡
()

76 
	}
}

78 
	$g‘_şu¡”
(
š1
, 
š2
, 
š3
, 
RUU_¡©iÚ
 *
rs
, 
th»adid
)

80 
	}
}

82 
	$check_RUU_LSQ_m©ch
()

84 
	}
}

86 
	$check_»g
()

88 
	}
}

	@cmt.h

25 
¡“r_š™
();

	@config.h

80 #iâdeà
CONFIG_H


81 
	#CONFIG_H


	)

	@context.c

1 
	~<¡dlib.h
>

2 
	~<¡ršg.h
>

4 
	~<fú.h
>

5 
	~<sys/¡©.h
>

6 
	~<sys/ty³s.h
>

9 
	~"cÚ‹xt.h
"

10 
	~"»gs.h
"

11 
	~"memÜy.h
"

13 
	~"smt.h
"

15 
	~"h—d”s.h
"

17 #ifdeà
SMT_SS


19 
	gnumcÚ‹xts
 = 0;

20 
cÚ‹xt
 *
	gthecÚ‹xts
[
MAXTHREADS
];

21 
	gMTAcÚ‹xts
 = 0;

23 #ifdeà
PROG_OUT_FROM_SIM_OUT


24 * 
sim_simout
;

28 * 
	$g‘_´og_out_fe
(cÚ¡ * 
bnc_v®ue
) {

29 * 
f’ame
;

30 * 
´og_out_fe
;

31 * 
simout_’d
;

33 
f’ame
 = 
	`¡¼chr
(
bnc_v®ue
, '/');

34 ià(
f’ame
)

35 ++
f’ame
;

37 
f’ame
=(*è
bnc_v®ue
;

41 
´og_out_fe
 = 
	`ÿÎoc
(
	`¡¾’
(
sim_simout
)+¡¾’(
f’ame
)+1,());

45 
simout_’d
 = 
	`¡r¡r
(
sim_simout
,".sim_out");

47 ià(
simout_’d
) {

48 
simou’
 = 
simout_’d
 - 
sim_simout
 + 1;

49 
	`¡ºıy
(
´og_out_fe
,
sim_simout
,
simou’
);

50 
	`¡rıy
(
´og_out_fe
 + 
simou’
,
f’ame
);

52 
	`¥rštf
(
´og_out_fe
,"%s.%s",
sim_simout
,
f’ame
);

55  
´og_out_fe
;

56 
	}
}

63 
	$»ad_th»ad_¬gs
(*
’v
[], *
f’ame
, *
curcÚ‹xt
)

66 
FILE
 *
¬gfe
;

67 
»tcode
,
j
,
numth»ads
;

68 
loÿrgc
 = 0;

69 
fœ¡¡ršg
[256];

70 
cÚ‹xt
 *
cu¼’t
;

72 if(*
curcÚ‹xt
<0 || *curcÚ‹xt>=
MAXTHREADS
)

74 
	`årštf
(
¡d”r
,"E¼Ü: simuÏtÜ suµÜt %dh»ad Úly\n",
MAXTHREADS
);

75 
	`ex™
(1);

77 
cu¼’t
 = 
thecÚ‹xts
[*
curcÚ‹xt
] = (
cÚ‹xt
 *è
	`ÿÎoc
(1,(context));

78 if(
cu¼’t
 =ğ
NULL
)

80 
	`årštf
(
¡d”r
,"allocation fail in„ead_thread_args\n");

81 
	`ex™
(1);

83 
cu¼’t
->
¬gv
 = (**è
	`m®loc
(30*(*));

84 if(
cu¼’t
->
¬gv
 =ğ
NULL
)

86 
	`årštf
(
¡d”r
,"allocation fail in„ead_thread_args\n");

87 
	`ex™
(1);

89 
j
=0;j<30;j++)

91 
cu¼’t
->
¬gv
[
j
] = 
NULL
;

92 
cu¼’t
->
¬gv
[
j
] = (*è
	`m®loc
(240*());

93 if(
cu¼’t
->
¬gv
[
j
] =ğ
NULL
)

95 
	`årštf
(
¡d”r
,"allocation fail in„ead_thread_args\n");

96 
	`ex™
(1);

99 
cu¼’t
->
¬gfe
 =‡rgfğ
	`fİ’
(
f’ame
, "r");

100 if(
cu¼’t
->
¬gfe
 =ğ
NULL
)

102 
	`årštf
(
¡d”r
,"E¼Ü iÀ'cÚ‹xt.c:»ad_th»ad_¬gs':- NØsuch‡ b’chm¬k cÚfigu¿tiÚ fe: '%s' \n",
f’ame
);

103 
	`ex™
(1);

106 
cu¼’t
->
¬gv
[0] = (*è
	`m®loc
(240);

107 if(
cu¼’t
->
¬gv
[0] =ğ
NULL
)

109 
	`årštf
(
¡d”r
,"allocation fail in„ead_thread_args\n");

110 
	`ex™
(1);

113 
cu¼’t
->
sim_´ogout
 = (*è
	`m®loc
(240);

114 if(
cu¼’t
->
sim_´ogout
 =ğ
NULL
)

116 
	`årštf
(
¡d”r
,"allocation fail in„ead_thread_args\n");

117 
	`ex™
(1);

119 
cu¼’t
->
sim_´ogš
 = (*è
	`m®loc
(240);

120 if(
cu¼’t
->
sim_´ogš
 =ğ
NULL
)

122 
	`årštf
(
¡d”r
,"allocation fail in„ead_thread_args\n");

123 
	`ex™
(1);

125 
cu¼’t
->
¬gc
 = 0;

126 
cu¼’t
->
sim_šputfd
 = 0;

127 
cu¼’t
->
sim_´ogfd
 = 
NULL
;

128 
cu¼’t
->
ç¡fwd_couÁ
 = 0;

136 
»tcode
 = 
	`fsÿnf
(
¬gfe
, "%s", 
fœ¡¡ršg
);

137 ià(
fœ¡¡ršg
[0] != '#') {

138 
cu¼’t
->
ç¡fwd_couÁ
 = 
	`©Şl
(
fœ¡¡ršg
);

139 
	`fsÿnf
(
¬gfe
, "%s", 
fœ¡¡ršg
);

143 
	`årštf
(
¡d”r
,"E¼Ü % ffœ¡…¬am‘” mu¡ bç¡fÜw¬d di¡ªû \n",
f’ame
);

144 
	`ex™
(1);

146 
	`fsÿnf
(
¬gfe
, "%d", &
numth»ads
);

147 ifĞ
numth»ads
 < 1 ||‚umth»ad > 
MAXTHREADS
 )

149 
	`årštf
(
¡d”r
,"E¼Ü %d i šv®id‚umth»ad š %s\n",
numth»ads
,
f’ame
);

150 
	`ex™
(1);

159 
»tcode
 = 
	`fsÿnf
(
¬gfe
, "%s", 
cu¼’t
->
¬gv
[
loÿrgc
]);

160 ià(
»tcode
 =ğ
EOF
 || 
cu¼’t
->
¬gv
[
loÿrgc
][0] == '#')

163 
cu¼’t
->
âame
 = cu¼’t->
¬gv
[0];

164 if(!
cu¼’t
->
¬gc
)

165 
cu¼’t
->
¬gc
 = 
loÿrgc
;

167 
cu¼’t
->
id
 = cu¼’t->
ma¡”id
 = *
curcÚ‹xt
;

171 
	`»gs_š™
(&(
cu¼’t
->
»gs
));

172 
cu¼’t
->
»gs
.
th»adid
 = cu¼’t->
id
;

174 
cu¼’t
->
mem
 = 
	`mem_ü—‹
("mem");

175 
	`mem_š™
(
cu¼’t
->
mem
);

176 
cu¼’t
->
mem
->
th»adid
 = cu¼’t->
ma¡”id
;

180 
cu¼’t
->
ld_‹xt_ba£
 = 0;

183 
cu¼’t
->
ld_‹xt_size
 = 0;

186 
cu¼’t
->
ld_d©a_ba£
 = 0;

189 
cu¼’t
->
ld_brk_pošt
 = 0;

192 
cu¼’t
->
ld_d©a_size
 = 0;

195 
cu¼’t
->
ld_¡ack_ba£
 = 0;

198 
cu¼’t
->
ld_¡ack_size
 = 0;

201 
cu¼’t
->
ld_¡ack_mš
 = -1;

204 
cu¼’t
->
ld_´og_âame
 = 
NULL
;

207 
cu¼’t
->
ld_´og_’Œy
 = 0;

210 
cu¼’t
->
ld_’vœÚ_ba£
 = 0;

213 
cu¼’t
->
ld_rg‘_big_’dŸn
 = 0;

217 
cu¼’t
->
sim_eio_âame
 = 
NULL
;

218 
cu¼’t
->
sim_chk±_âame
 = 
NULL
;

219 
cu¼’t
->
sim_eio_fd
 = 
NULL
;

225 
cu¼’t
->
owšdow_h—d
 = 0;

228 
cu¼’t
->
sim_num_š¢
 = 0;

230 
cu¼’t
->
sim_tÙ®_š¢
 = 0;

232 
cu¼’t
->
ãtch_num_š¢
 = 0;

234 
cu¼’t
->
ãtch_tÙ®_š¢
 = 0;

236 
cu¼’t
->
sim_num_»fs
 = 0;

238 
cu¼’t
->
sim_tÙ®_»fs
 = 0;

240 
cu¼’t
->
sim_num_lßds
 = 0;

242 
cu¼’t
->
sim_tÙ®_lßds
 = 0;

244 
cu¼’t
->
sim_num_b¿nches
 = 0;

246 
cu¼’t
->
sim_tÙ®_b¿nches
 = 0;

252 
cu¼’t
->
š¡_£q
 = 0;

254 
cu¼’t
->
±¿û_£q
 = 0;

259 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

261 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 0;

262 
cu¼’t
->
wa™_fÜ_ãtch
 = 0;

264 #ifdeà
CACHE_MISS_STAT


265 
cu¼’t
->
¥ec_rdb_miss_couÁ
 = 0;

266 
cu¼’t
->
¥ec_wrb_miss_couÁ
 = 0;

267 
cu¼’t
->
nÚ_¥ec_rdb_miss_couÁ
 = 0;

268 
cu¼’t
->
nÚ_¥ec_wrb_miss_couÁ
 = 0;

269 
cu¼’t
->
š¡_miss_couÁ
 = 0;

270 
cu¼’t
->
lßd_miss_couÁ
 = 0;

271 
cu¼’t
->
¡Üe_miss_couÁ
 = 0;

274 
cu¼’t
->
ãtch_num_thrd
 = 0;

275 
cu¼’t
->
iissueq_thrd
 = 0;

276 
cu¼’t
->
fissueq_thrd
 = 0;

277 
cu¼’t
->
icouÁ_thrd
 = 0;

281 
cu¼’t
->
Ï¡_İ
.
Ãxt
 = 
NULL
;

282 
cu¼’t
->
Ï¡_İ
.
rs
 = 
NULL
;

283 
cu¼’t
->
Ï¡_İ
.
g
 = 0;

284 
cu¼’t
->
ãtch_»dœeùed
 = 
FALSE
;

285 
cu¼’t
->
buck‘_ä“_li¡
 = 
NULL
;

287 
	`årštf
(
¡d”r
, "th»ad %d %s\n", *
curcÚ‹xt
, 
cu¼’t
->
¬gv
[0]);

288 
loÿrgc
 = 0;

289 
cu¼’t
->
ruÂšg
 = 1;

290 
cu¼’t
->
fšish_cyşe
 = 0;

291 
cu¼’t
->
·»Á
 = -1;

292 
cu¼’t
->
num_chd
 = 0;

294 
cu¼’t
->
isFFdÚe
 = 0;

296 #ifdeà 
COLLECT_STAT_STARTUP


297 
cu¼’t
->
ç¡fwd_dÚe
 = 0;

298 
cu¼’t
->
b¬r›rR—ched
 = 0;

299 
cu¼’t
->
¡¬tR—ched
 = 0;

301 #ifdef 
EDA


302 
cu¼’t
->
´edQueue
 = 
NULL
;

303 
cu¼’t
->
lockStus
 = 0;

304 
cu¼’t
->
boqIndex
 = -1;

307 (*
curcÚ‹xt
)++;

310 ià(
cu¼’t
->
¬gv
[
loÿrgc
][0] == '<')

312 if(!
cu¼’t
->
¬gc
)

313 
cu¼’t
->
¬gc
 = 
loÿrgc
;

314 
	`fsÿnf
(
¬gfe
, "%s", 
cu¼’t
->
sim_´ogš
);

315 
cu¼’t
->
sim_šputfd
 = 
	`İ’
(cu¼’t->
sim_´ogš
,
O_RDONLY
,0666);

316 ià(
cu¼’t
->
sim_šputfd
 < 0 )

318 
	`çl
("th»ad %d, uÇbËØ»dœeù…rog¿m iÅuˆtØf`%s'", 
cu¼’t
->
id
, cu¼’t->
sim_´ogš
);

319 
	`ex™
(1);

323 ià(
cu¼’t
->
¬gv
[
loÿrgc
][0] == '>')

325 if(!
cu¼’t
->
¬gc
)

326 
cu¼’t
->
¬gc
 = 
loÿrgc
;

327 
	`fsÿnf
(
¬gfe
, "%s", 
cu¼’t
->
sim_´ogout
);

328 #ifdeà
PROG_OUT_FROM_SIM_OUT


329 
cu¼’t
->
sim_´ogout
 = 
	`g‘_´og_out_fe
(current->sim_progout);

331 
cu¼’t
->
sim_´ogfd
 = 
	`fİ’
(cu¼’t->
sim_´ogout
, "w");

332 ià(!
cu¼’t
->
sim_´ogfd
)

334 
	`çl
("th»ad %d, uÇbËØ»dœeù…rog¿m ouuˆtØf`%s'", 
cu¼’t
->
id
, cu¼’t->
sim_´ogout
);

335 
	`ex™
(1);

339 
loÿrgc
++;

342 
	}
}

	@context.h

1 #iâdeà
CONTEXT_H


3 
	#CONTEXT_H


	)

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<¡dio.h
>

9 
	~"ho¡.h
"

10 
	~"misc.h
"

11 
	~"machše.h
"

12 
	~"’dŸn.h
"

13 
	~"»gs.h
"

14 
	~"memÜy.h
"

15 
	~"sim.h
"

16 
	~"eio.h
"

17 
	~"lßd”.h
"

18 
	~"b´ed.h
"

19 
	~"b™m­.h
"

21 
	~"pow”.h
"

22 
	~"smt.h
"

23 
	~"b¿nchCÜr.h
"

30 
	#COLLECT_STAT_STARTUP


	)

37 
	#STATUS_NUM
 50

	)

38 
	#THREADS_PER_JOB
 
MAXTHREADS


	)

39 #ifdef 
COLLECT_STAT_STARTUP


40 
	gthrdP”JobCÁ
;

43 #ifdef 
EDA


44 
	sp¢_¡ruù


46 
	mdœty
;

47 
qwÜd_t
 
	md©a
;

50 
	#TYPE_INST_REMOVED
 0

	)

51 
	#TYPE_INST_INCLUDED
 1

	)

52 
	#TYPE_BR_NOTTAKEN
 2

	)

53 
	#TYPE_BR_TAKEN
 3

	)

54 
	#TYPE_LOCK_ACQUIRE
 4

	)

55 
	#TYPE_INST_PREFETCH
 5

	)

56 
	#TYPE_INST_BARRIER
 6

	)

57 
	#TYPE_INST_BARRIER_END
 7

	)

60 
	#DL0_CLEAUP_INTERVAL
 4096

	)

64 
	sÜaşe_¡Üe_queue


66 
md_addr_t
 
	mPC
;

67 
	mmemWidth
;

68 
md_addr_t
 
	mmemAddr
;

69 
qwÜd_t
 
	mmemD©a
;

70 
couÁ”_t
 
	msim_num_š¢
;

71 
couÁ”_t
 
	msim_cyşe
;

72 
	misExecu‹d
;

75 
	#OSQ_size
 5000

	)

77 #ifdeà
DECOUPLED_PREFETCH


78 
	#PREFETCH_QUEUE_SIZE
 128

	)

79 
	#PREFETCH_DELAY_GUARD
 20

82 

	)

85 
	#PROG_OUT_FROM_SIM_OUT


	)

87 #ifdeà
SMT_SS


88 
	#STACKSIZE
 0x90000

	)

89 
MTAcÚ‹xts
;

90 
	sÌeg_id_t


92 
	mth»adid
;

93 
	mÌeg
;

97 
	#OWINDOWSIZE
 360

	)

98 
	#HOPTIME
 1

	)

99 
	#COMM_LATENCY
 ((
CLUSTERS
*
HOPTIME
)/2)

	)

105 
	tINST_TAG_TYPE
;

110 
	tINST_SEQ_TYPE
;

113 
	#MAX_IDEPS
 3

	)

116 
	#MAX_ODEPS
 2

	)

118 
	#SÎRUUFuÎ
 1

	)

119 
	#SÎLQFuÎ
 2

	)

120 
	#SÎSQFuÎ
 3

	)

121 
	#SÎRegFuÎ
 4

	)

122 
	#SÎIssueFuÎ
 5

	)

123 
	#SÎF‘chEm±y
 6

	)

124 
	#SÎSTLC
 8

	)

125 
	#SÎT¿p
 10

	)

140 
	sRUU_¡©iÚ


143 
	mšdex
;

144 
	mth»adid
;

145 
md_š¡_t
 
	mIR
;

146 
md_İcode
 
	mİ
;

147 
md_addr_t
 
	mPC
, 
	mÃxt_PC
, 
	m´ed_PC
;

148 
	mš_LSQ
;

149 
	m—_comp
;

150 
	m»cov”_š¡
;

151 
	m¡ack_»cov”_idx
;

152 
b´ed_upd©e_t
 
	mdœ_upd©e
;

153 
	m¥ec_mode
;

154 
md_addr_t
 
	maddr
;

155 
	mmiss_æag
;

156 
INST_TAG_TYPE
 
	mg
;

158 
INST_SEQ_TYPE
 
	m£q
;

160 
	m±¿û_£q
;

162 
	mdu¶iÿ‹
;

163 
	m´ef_æag
;

166 
	mqueued
;

167 
	missued
;

168 
	mcom¶‘ed
;

171 
quad_t
 
	mv®_¿
, 
	mv®_rb
, 
	mv®_rc
, 
	mv®_¿_»suÉ
;

176 
	mÚames
[
MAX_ODEPS
];

177 
RS_lšk
 *
	mod•_li¡
[
MAX_ODEPS
];

185 
	mid•_»ady
[
MAX_IDEPS
];

186 
	mwh’_id•_»ady
[
MAX_IDEPS
];

187 
	mid•_Çme
[
MAX_IDEPS
];

189 
RUU_¡©iÚ
 *
	m´od
[
MAX_IDEPS
];

190 
couÁ”_t
 
	mdi¥_time
;

191 
couÁ”_t
 
	mfšish_time
;

192 
	mÿche_»ady
;

193 
couÁ”_t
 
	mãtch_time
;

194 
couÁ”_t
 
	mcomm™_time
;

195 
couÁ”_t
 
	missue_time
;

196 
	mšv®id©iÚReûived
;

198 
	mout1
, 
	mš1
, 
	mš2
, 
	mš3
;

200 
	mŞd´eg
;

201 
	mİ»g
;

203 
	mşu¡”
;

204 
	mwh’_»ady
[
MAX_IDEPS
];

205 
	mwh’_šq
;

206 
	mpbªk
;

207 
	mabªk
;

208 
	mš_qwa™
;

209 
	mä“d
;

210 
	m»g
[
MAX_IDEPS
];

212 
	m¡_»ach
[
CLUSTERS
];

213 
	mš¡num
;

214 
	mdi¡issue
;

216 
	mcouÁed_iissueq
;

217 
	mcouÁed_fissueq
;

218 #ifdeà
PWR_WAKE


219 
	mcouÁed_œ—dy
;

220 
	mcouÁed_ä—dy
;

221 
	mcouÁed_lsq»ady
;

223 #ifdeà
COUNT_LSQ


224 
	mcouÁed_nÚ_issue_lsq
;

227 #ifdeà
RAW


228 
	mcouÁed_¿wq
[
CLUSTERS
];

231 #ifdeà
CACHE_MISS_STAT


232 
	m¥ec_rdb_miss
;

233 
	m¥ec_wrb_miss
;

236 #ifdeà
LOAD_PREDICTOR


237 
	mcouÁed_miss
;

238 
	mlßd_h™
;

239 
	mld´ed_h™
;

242 #ifdeà
SELECTIVE_DISPATCH_GATE


243 
	mşu¡”_assigÃd
;

244 
	mouut1
, 
	mout2
;

247 #ifdeà
N_WAY_CACHE_ADAPT


248 
	mn_ÿche_lim™_š¡
;

251 #ifdeà
UNREADY_DISPATCH_STAT


252 
	mcouÁed_uÄ—dy_di¥©ch
;

254 
	mçuÉšg_š¡r
;

255 
	mwrÚgCyşe
;

256 
	mdl2_mis£d
;

257 
couÁ”_t
 
	msim_num_š¢
;

258 
	moutReg
;

259 
qwÜd_t
 
	m´evRegV®
;

260 
»gs_t
 
	m´evReg
;

262 
couÁ”_t
 
	msqStÜeFÜw¬dT
;

266 
h®f_t
 
	mushFÏg
;

268 
h®f_t
 
	mushS³cLdD–ay
;

272 
	m»¶ayThisEÁry
, 
	m’ŒyR•Ïyed
;

274 
	mldAcûssFÏg
;

275 
»gs_t
 
	mbackupReg
;

276 
	mrobEÁry
;

277 
	mlsqEÁry
;

278 
	misP»ãtch
;

279 
	misL1Miss
;

280 
	mwr™ewa™
;

281 
	mR—dSh¬eDœ
;

282 
	mwr™emiss
;

283 
	m»adAá”Wr™e
;

284 
	mSTL_C_ç
;

286 #ifdef 
EDA


287 
quad_t
 
	mo_v®_¿
, 
	mo_v®_rb
, 
	mo_v®_rc
;

288 
p¢_¡ruù
 
	mpoisÚ
[3];

289 
	mboqIndex
;

290 
	mlockStus
;

291 
	mš¡Ty³
;

292 
	misWrÚgP©h
;

293 
md_addr_t
 
	m®tPC
;

294 
	mchªgeS³cMode
;

296 
	misSyncIn¡
;

297 
	misSyncIn¡B¬
;

298 
	misSyncIn¡B¬R–
;

302 
	#PHY_TOTAL_REGS
 1024

	)

316 
	sRS_lšk
 {

317 
RS_lšk
 *
	mÃxt
;

318 
RUU_¡©iÚ
 *
	mrs
;

319 
INST_TAG_TYPE
 
	mg
;

321 
tick_t
 
	mwh’
;

322 
INST_SEQ_TYPE
 
	m£q
;

323 
	mİnum
;

324 } 
	mx
;

325 
couÁ”_t
 
	mÏ¡_u£
;

326 
couÁ”_t
 
	mrs_lšk_id
;

328 
	#RSLINK_NULL_DATA
 { 
NULL
, NULL, 0 }

	)

331 
	sCV_lšk
 {

332 
RUU_¡©iÚ
 *
	mrs
;

333 
	mod•_num
;

336 
	sRS_li¡
 {

337 
RS_li¡
 *
	mÃxt
;

338 
RUU_¡©iÚ
 *
	mrs
;

339 
tick_t
 
	mwh’
;

340 
	m¥ec_mode
;

341 
	m´ef_mode
;

345 
	swb_mem_’t
 {

346 
wb_mem_’t
 *
	mÃxt
;

347 
md_addr_t
 
	mš¡r
;

348 
md_addr_t
 
	mPC
;

349 
md_addr_t
 
	maddr
;

350 
	md©a
[2];

351 
	mnby‹s
;

352 
couÁ”_t
 
	msim_num_š¢
;

353 
couÁ”_t
 
	mdi¥_time
;

354 
	mlsqId
;

355 
couÁ”_t
 
	mcom¶‘eCyşe
;

356 
wb_mem_’t
 *
	m´ev
;

357 
	mis_STL_C
;

358 
	mÃedBusAcûss
;

359 
	macûs£d
;

360 
	mwr™eAÌ—dyDÚe
;

364 
	#STORE_HASH_SIZE
 32

	)

369 
	s¥ec_mem_’t
 {

370 
¥ec_mem_’t
 *
	mÃxt
;

371 
md_addr_t
 
	maddr
;

372 
	md©a
[2];

378 
	sãtch_»c


380 
	mšdex
;

381 
	mth»adid
;

382 
	mãtch_time
;

383 
md_š¡_t
 
	mIR
;

384 
md_addr_t
 
	m»gs_PC
, 
	m´ed_PC
;

385 
b´ed_upd©e_t
 
	mdœ_upd©e
;

386 
	m¡ack_»cov”_idx
;

387 
	m±¿û_£q
;

389 
	mis_ù¾2
 : 1;

390 
	mis_dup
;

391 #ifdef 
EDA


392 
	mboqIndex
;

393 
	mlockStus
;

397 
	scÚ‹xt_t


399 
	mruÂšg
;

400 
	mfšish_cyşe
;

401 
	m¡¬t_cyşe
;

402 
	mid
;

408 
	mma¡”id
;

409 
	m·»Á
;

410 
	mnum_chd
;

411 
	mnum_chd_aùive
;

412 
	mç¡fwd_couÁ
;

413 #ifdef 
COLLECT_STAT_STARTUP


414 
	mç¡fwd_dÚe
;

415 
	mb¬r›rR—ched
;

416 
	m¡¬tR—ched
;

417 
	mjobThdId
;

418 
	mh–pThdId
;

419 
	mÜaşeId
;

421 
FILE
 *
	m¬gfe
;

422 *
	msim_´ogout
;

423 *
	msim_´ogš
;

424 
FILE
 *
	msim_´ogfd
;

425 
	msim_šputfd
;

428 *
	mâame
;

429 **
	m¬gv
;

430 
	m¬gc
;

433 
»gs_t
 
	m»gs
;

436 
mem_t
 *
	mmem
;

441 
md_addr_t
 
	mld_‹xt_ba£
 ;

444 
	mld_‹xt_size
 ;

447 
md_addr_t
 
	mld_d©a_ba£
 ;

450 
md_addr_t
 
	mld_brk_pošt
 ;

453 
	mld_d©a_size
 ;

456 
md_addr_t
 
	mld_¡ack_ba£
 ;

459 
	mld_¡ack_size
 ;

462 
md_addr_t
 
	mld_¡ack_mš
 ;

465 *
	mld_´og_âame
 ;

468 
md_addr_t
 
	mld_´og_’Œy
;

471 
md_addr_t
 
	mld_’vœÚ_ba£
 ;

474 
	mld_rg‘_big_’dŸn
;

478 *
	msim_eio_âame
;

479 *
	msim_chk±_âame
;

480 
FILE
 *
	msim_eio_fd
;

483 
	msim_sw­_by‹s
;

484 
	msim_sw­_wÜds
;

491 
	mŞdwšdowp
[
OWINDOWSIZE
];

492 
	mŞdwšdowbr
[
OWINDOWSIZE
];

493 
	mŞdwšdowpc
[
OWINDOWSIZE
];

494 
	mowšdow_h—d
;

496 
	mÉİm­
[
MD_TOTAL_REGS
];

497 
	mÉİm­_Şd
[
MD_TOTAL_REGS
][
CLUSTERS
][
COMM_LATENCY
];

498 
	mÍrod
[
MD_TOTAL_REGS
];

499 
	mÍrod_rd
[
MD_TOTAL_REGS
];

500 
	mÉİm­_chk
[
MD_TOTAL_REGS
];

501 
	mÍrod_chk
[
MD_TOTAL_REGS
];

502 
	mÍrod_rd_chk
[
MD_TOTAL_REGS
];

504 
Ìeg_id_t
 
	m±Şm­
[
PHY_TOTAL_REGS
];

505 
Ìeg_id_t
 
	mcÚsum”s
[
PHY_TOTAL_REGS
];

506 
Ìeg_id_t
 
	m±Şm­_chk
[
PHY_TOTAL_REGS
];

509 
couÁ”_t
 
	msim_num_š¢
;

512 
couÁ”_t
 
	msim_tÙ®_š¢
;

515 
couÁ”_t
 
	mãtch_num_š¢
;

518 
couÁ”_t
 
	mãtch_tÙ®_š¢
;

521 
couÁ”_t
 
	msim_num_»fs
;

524 
couÁ”_t
 
	msim_tÙ®_»fs
;

527 
couÁ”_t
 
	msim_num_lßds
;

530 
couÁ”_t
 
	msim_tÙ®_lßds
;

533 
couÁ”_t
 
	msim_num_b¿nches
;

536 
couÁ”_t
 
	msim_tÙ®_b¿nches
;

539 
couÁ”_t
 
	msim_šv®id_addrs
;

546 
	mš¡_£q
;

549 
	m±¿û_£q
;

555 
	m¥ec_mode
;

557 
	m´ef_mode
;

561 
	mçuÉ_mode
;

564 
	mruu_ãtch_issue_d–ay
;

565 
	mwa™_fÜ_ãtch
;

569 
RUU_¡©iÚ
 *
	mRUU
;

570 
	mRUU_h—d
, 
	mRUU_
;

571 
	mRUU_num
;

572 
couÁ”_t
 
	mRUU_couÁ_thrd
;

573 
couÁ”_t
 
	mRUU_fcouÁ_thrd
;

576 
RUU_¡©iÚ
 *
	mLSQ
;

577 
	mLSQ_h—d
, 
	mLSQ_
;

578 
	mLSQ_num
;

579 
	mLSQ_couÁ
;

580 
	mLSQ_fcouÁ
;

581 
	mm_shLQNum
;

582 
	mm_shSQNum
;

585 
	mãtch_num_thrd
;

586 
	miissueq_thrd
;

587 
	mfissueq_thrd
;

588 #ifdeà
COUNT_LSQ


589 
	mnÚ_issue_lsq_thrd
;

590 
	mlsq_thrd
;

592 
	micouÁ_thrd
;

597 #iâdeà
TEST_BUG


598 
BITMAP_TYPE
(
MD_TOTAL_REGS
, 
u£_¥ec_cv
);

599 
BITMAP_TYPE
(
MD_NUM_IREGS
, 
u£_¥ec_R
);

600 
BITMAP_TYPE
(
MD_NUM_FREGS
, 
u£_¥ec_F
);

601 
BITMAP_TYPE
(
MD_NUM_FREGS
, 
u£_¥ec_C
);

603 
CV_lšk
 
	mü—‹_veùÜ
[
MD_TOTAL_REGS
];

604 
CV_lšk
 
	m¥ec_ü—‹_veùÜ
[
MD_TOTAL_REGS
];

608 
tick_t
 
	mü—‹_veùÜ_¹
[
MD_TOTAL_REGS
];

609 
tick_t
 
	m¥ec_ü—‹_veùÜ_¹
[
MD_TOTAL_REGS
];

612 
md_g´_t
 
	m¥ec_»gs_R
;

615 
md_år_t
 
	m¥ec_»gs_F
;

618 
md_ù¾_t
 
	m¥ec_»gs_C
;

621 
md_addr_t
 
	m´ed_PC
;

622 
md_addr_t
 
	m»cov”_PC
;

625 
md_addr_t
 
	mãtch_»gs_PC
;

626 
md_addr_t
 
	mãtch_´ed_PC
;

630 
RS_lšk
 
	mÏ¡_İ
;

633 
¥ec_mem_’t
 *
	m¡Üe_hbË
[
STORE_HASH_SIZE
];

635 
¥ec_mem_’t
 *
	mbuck‘_ä“_li¡
;

638 
wb_mem_’t
 *
	mWBbËH—d
;

639 
wb_mem_’t
 *
	mWBbËTa
;

641 
wb_mem_’t
 *
	mWBbuck‘_ä“_li¡
;

645 
	mãtch_»dœeùed
;

648 #ifdeà 
DELAY_STAT


649 
	mãtch_d–ay_¡©
;

650 
	mmax_ãtch_d–ay_¡©
;

653 #ifdeà
CACHE_MISS_STAT


654 
	m¥ec_rdb_miss_couÁ
;

655 
	m¥ec_wrb_miss_couÁ
;

656 
	mnÚ_¥ec_rdb_miss_couÁ
;

657 
	mnÚ_¥ec_wrb_miss_couÁ
;

658 
	mš¡_miss_couÁ
;

659 
	mlßd_miss_couÁ
;

660 
	m¡Üe_miss_couÁ
;

663 #ifdeà
LOAD_PREDICTOR


664 
	mld_miss
;

665 
	maùive
;

668 #ifdeà
SELECTIVE_DISPATCH_GATE


669 
	mdi¥©ch_blocked
;

670 
couÁ”_t
 
	mdi¥_block_time
;

673 #ifdeà
UNREADY_DISPATCH_STAT


674 
	muÄ—dy_di¥©ch
;

676 
md_addr_t
 
	m¡ack_ba£
;

679 
	mnumDL1CacheAcûss
;

680 
	mnumLoÿlH™s
;

681 
	mnumRemÙeH™s
;

682 
	mnumMemAcûss
;

683 
	mnumR—dCacheAcûss
;

684 
	mnumWr™eCacheAcûss
;

685 
	mnumInv®id©iÚs
;

686 
	mnumDL1H™s
;

687 
	mnumDL1Mis£s
;

688 
	mnumIn¢
;

693 *
	mb¿nch_add»ss2
;

694 
	mb¿nch_h—d2
, 
	mb¿nch_2
;

695 
	mmy_Ï¡_g
;

696 
	mcyşe_mask
;

697 
	mÏ‹ncy_çùÜ
;

698 
	maùive_this_cyşe
;

699 
	mpcb_³ÇÉy
;

700 
	mmaš_th»ad
;

701 
pow”_»suÉ_ty³
 
	mpow”
;

704 
couÁ”_t
 
	m»Çme_acûss
;

705 
couÁ”_t
 
	miq¿m_acûss
;

706 
couÁ”_t
 
	mfq¿m_acûss
;

707 
couÁ”_t
 
	mrob1_acûss
;

708 
couÁ”_t
 
	mrob2_acûss
;

709 
couÁ”_t
 
	mb´ed_acûss
;

710 
couÁ”_t
 
	miwakeup_acûss
;

711 
couÁ”_t
 
	mfwakeup_acûss
;

712 
couÁ”_t
 
	mi£ËùiÚ_acûss
;

713 
couÁ”_t
 
	mf£ËùiÚ_acûss
;

714 
couÁ”_t
 
	mœegfe_acûss
;

715 
couÁ”_t
 
	mäegfe_acûss
;

717 
couÁ”_t
 
	mlsq_acûss
;

718 
couÁ”_t
 
	miÿche_acûss
;

719 
couÁ”_t
 
	mdÿche_acûss
;

720 
couÁ”_t
 
	mdÿche2_acûss
;

721 
couÁ”_t
 
	mšput_buf_acûss
;

722 
couÁ”_t
 
	mouut_buf_acûss
;

723 
couÁ”_t
 
	miÿche2_acûss
;

725 
couÁ”_t
 
	mŸlu1_acûss
;

726 
couÁ”_t
 
	mŸlu2_acûss
;

727 
couÁ”_t
 
	mçlu1_acûss
;

728 
couÁ”_t
 
	mçlu2_acûss
;

729 
couÁ”_t
 
	mœesuÉbus_acûss
;

730 
couÁ”_t
 
	mäesuÉbus_acûss
;

731 
couÁ”_t
 
	mlsq_´eg_acûss
;

732 
couÁ”_t
 
	mlsq_wakeup_acûss
;

734 
	misFFdÚe
;

737 
b´ed_t
 *
	m´ed
;

738 
ãtch_»c
 *
	mãtch_d©a
[128];

739 
	mãtch_num
;

740 
	mãtch_
, 
	mãtch_h—d
;

743 
	mTÙ®numDL1CacheAcûss
;

744 
	mTÙ®numLoÿlH™s
;

745 
	mTÙ®numRemÙeH™s
;

746 
	mTÙ®numMemAcûss
;

747 
	mTÙ®numR—dCacheAcûss
;

748 
	mTÙ®numWr™eCacheAcûss
;

749 
	mTÙ®numInv®id©iÚs
;

750 
	mTÙ®numDL1H™s
;

751 
	mTÙ®numDL1Mis£s
;

752 
	mTÙ®numIn¢
;

753 
	mNRLoÿlH™sLßd
;

754 
	mNRRemÙeH™sLßd
;

755 
	mNRMissLßd
;

756 
	mNRLoÿlH™sStÜe
;

757 
	mNRRemÙeH™sStÜe
;

758 
	mNRMissStÜe
;

759 
	m´e£Á
;

762 
	mnumIn¡rB¬r›r
;

763 
	mnumCyşeB¬r›r
;

764 
	mtÙ®B¬r›rIn¡r
;

765 
	mtÙ®B¬r›rCyşe
;

767 
	mnumIn¡rLock
;

768 
	mnumCyşeLock
;

769 
	mtÙ®LockIn¡r
;

770 
	mtÙ®LockCyşe
;

772 
	mL0BufãrH™s
;

773 
	mTÙ®Lßds
;

775 
	mD©aLoÿtÜH™
;

776 
	mD©aLoÿtÜMiss
;

778 
	m¦•tAt
;

779 
	mä“ze
;

780 
	m¡®lTh»ad
;

781 
	mwa™FÜ
;

782 
	m©MB
;

783 
	mwa™FÜSTLC
;

784 
	mnumOfWBEÁry
;

785 
	mWBFuÎ
;

786 
	mwa™FÜB¿nchResŞve
;

787 
	mwa™FÜP»ãtchInfo
;

788 
	mlßdL©’cy
;

789 
	mnumLßds
;

790 
	m¡İTh»ad
;

791 
	maùu®id
;

792 
	mffSÎ
;

793 
	mloÿlSubEpoch
;

794 
	mÏ¡SubEpochS“n
[32];

795 #ifdef 
EDA


796 
b¿nchCÜr
 *
	m´edQueue
;

797 
quad_t
 
	mo_v®_¿
, 
	mo_v®_rb
, 
	mo_v®_rc
;

798 
	mboqIndex
;

799 
	mlockStus
;

800 
md_addr_t
 
	mlockEx™PC
;

802 
DIRECTORY_EVENT
 *
	mev’t
;

803 } 
	tcÚ‹xt
;

805 
numcÚ‹xts
;

806 
cÚ‹xt
 *
thecÚ‹xts
[
MAXTHREADS
];

809 
	ssh¬edAdd»ssLi¡_s
 {

810 
	madd»ss
;

811 
	msize
;

812 
sh¬edAdd»ssLi¡_s
 * 
	mÃxt
;

815 
sh¬edAdd»ssLi¡_s
 *
	gsh¬edAdd»ssLi¡
[512];

822 
»ad_th»ad_¬gs
(*
’v
[], *
f’ame
, *
curcÚ‹xt
);

824 
upd©e_pow”_¡©s
(
pow”_»suÉ_ty³
, , 
cÚ‹xt
*);

	@def.h

57 
	#LONG
 1

	)

58 
	#SHORT
 2

	)

60 
	#OUTPUTTYPE
 
LONG


	)

66 
	#ADDRESS_BITS
 32

	)

67 
	#BITOUT
 64

	)

72 
	#MAXN
 8

	)

73 
	#MAXSUBARRAYS
 8

	)

74 
	#MAXSPD
 8

	)

83 
	#FUDGEFACTOR
 4.4

	)

99 
	#CwÜdm‘®
 1.8e-15

	)

100 
	#Cb™m‘®
 4.4e-15

	)

101 
	#Cndifç»a
 0.137e-15

	)

102 
	#Cpdifç»a
 0.343e-15

	)

103 
	#Cndiffside
 0.275e-15

	)

104 
	#Cpdiffside
 0.275e-15

	)

105 
	#CndiffovÍ
 0.138e-15

	)

106 
	#CpdiffovÍ
 0.138e-15

	)

107 
	#CnoxideovÍ
 0.263e-15

	)

108 
	#CpoxideovÍ
 0.338e-15

	)

109 
	#Leff
 0.8

	)

110 
	#Cg©e
 (1.95e-15è

	)

111 
	#Cg©•ass
 1.45e-15

	)

115 
	#CpŞywœe
 0.25e-15

	)

116 
	#RnchªÃl¡©ic
 25800

	)

117 
	#RpchªÃl¡©ic
 61200

	)

118 
	#RnchªÃlÚ
 9723

	)

119 
	#RpchªÃlÚ
 22400

	)

120 
	#Rb™m‘®
 0.320

	)

121 
	#RwÜdm‘®
 0.080

	)

122 
	#Vdd
 5

	)

127 
	#VSINV
 0.456

	)

128 
	#VTHINV100x60
 0.438

	)

129 
	#VTHNAND60x90
 0.561

	)

130 
	#VTHNOR12x4x1
 0.503

	)

131 
	#VTHNOR12x4x2
 0.452

	)

132 
	#VTHNOR12x4x3
 0.417

	)

133 
	#VTHNOR12x4x4
 0.390

	)

134 
	#VTHOUTDRINV
 0.437

	)

135 
	#VTHOUTDRNOR
 0.431

	)

136 
	#VTHOUTDRNAND
 0.441

	)

137 
	#VTHOUTDRIVE
 0.425

	)

138 
	#VTHCOMPINV
 0.437

	)

139 
	#VTHMUXDRV1
 0.437

	)

140 
	#VTHMUXDRV2
 0.486

	)

141 
	#VTHMUXDRV3
 0.437

	)

142 
	#VTHEVALINV
 0.267

	)

146 
	#Wdecdriv•
 100.0

	)

147 
	#Wdecdriv’
 60.0

	)

148 
	#Wdec3to8n
 90.0

	)

149 
	#Wdec3to8p
 60.0

	)

150 
	#WdecNORn
 2.4

	)

151 
	#WdecNORp
 12.0

	)

152 
	#Wdecšvn
 5.0

	)

153 
	#Wdecšvp
 10.0

	)

154 
	#WwÜddrivemax
 100.0

	)

155 
	#WmemûÎa
 2.4

	)

156 
	#WmemûÎbsÿË
 2

	)

157 
	#Wb™´“qu
 80.0

	)

158 
	#Wb™muxn
 10.0

	)

159 
	#W£n£Q1to4
 4.0

	)

160 
	#Wcompšvp1
 10.0

	)

161 
	#Wcompšvn1
 6.0

	)

162 
	#Wcompšvp2
 20.0

	)

163 
	#Wcompšvn2
 12.0

	)

164 
	#Wcompšvp3
 40.0

	)

165 
	#Wcompšvn3
 24.0

	)

166 
	#Wev®švp
 20.0

	)

167 
	#Wev®švn
 80.0

	)

169 
	#Wcom²
 10.0

	)

170 
	#Wcomµ
 30.0

	)

171 
	#Wmuxdrv12n
 30.0

	)

172 
	#Wmuxdrv12p
 50.0

	)

173 
	#WmuxdrvNORn
 20.0

	)

174 
	#WmuxdrvNORp
 80.0

	)

175 
	#Wmuxdrv3n
 120.0

	)

176 
	#Wmuxdrv3p
 200.0

	)

177 
	#Woutdrv£Ê
 12.0

	)

178 
	#Woutdrv£Í
 20.0

	)

179 
	#WoutdrvÇndn
 24.0

	)

180 
	#WoutdrvÇndp
 10.0

	)

181 
	#WoutdrvnÜn
 6.0

	)

182 
	#WoutdrvnÜp
 40.0

	)

183 
	#Woutdriv”n
 48.0

	)

184 
	#Woutdriv”p
 80.0

	)

188 
	#kri£
 0.4e-9

	)

189 
	#t£n£d©a
 5.8e-10

	)

190 
	#t£n£g
 2.6e-10

	)

191 
	#tçÎd©a
 7e-10

	)

192 
	#tçÎg
 7e-10

	)

193 
	#Vb™´e
 3.3

	)

194 
	#Vt
 1.09

	)

195 
	#Vb™£n£
 0.10

	)

196 
	#B™Width
 8.0

	)

197 
	#B™Height
 16.0

	)

198 
	#Cout
 0.5e-12

	)

207 
	#TRUE
 1

	)

208 
	#FALSE
 0

	)

209 
	#NULL
 0

	)

210 
	#OK
 1

	)

211 
	#ERROR
 0

	)

212 
	#BIGNUM
 1e30

	)

213 
	#DIVIDE
(
a
,
b
è((b)==0)? 0:×)/(b)

	)

214 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

218 
	#RISE
 1

	)

219 
	#FALL
 0

	)

220 
	#NCH
 1

	)

221 
	#PCH
 0

	)

227 
	mÿche_size
;

228 
	mnumb”_of_£ts
;

229 
	massocŸtiv™y
;

230 
	mblock_size
;

231 } 
	t·¿m‘”_ty³
;

234 
	macûss_time
,
	mcyşe_time
;

235 
	mbe¡_Ndwl
,
	mbe¡_Ndbl
;

236 
	mbe¡_N¥d
;

237 
	mbe¡_Ntwl
,
	mbe¡_Ntbl
;

238 
	mbe¡_Nt¥d
;

239 
	mdecod”_d–ay_d©a
,
	mdecod”_d–ay_g
;

240 
	mdec_d©a_driv”
,
	mdec_d©a_3to8
,
	mdec_d©a_šv
;

241 
	mdec_g_driv”
,
	mdec_g_3to8
,
	mdec_g_šv
;

242 
	mwÜdlše_d–ay_d©a
,
	mwÜdlše_d–ay_g
;

243 
	mb™lše_d–ay_d©a
,
	mb™lše_d–ay_g
;

244 
	m£n£_amp_d–ay_d©a
,
	m£n£_amp_d–ay_g
;

245 
	mcom·»_·¹_d–ay
;

246 
	mdrive_mux_d–ay
;

247 
	m£lb_d–ay
;

248 
	md©a_ouut_d–ay
;

249 
	mdrive_v®id_d–ay
;

250 
	m´ech¬ge_d–ay
;

252 } 
	t»suÉ_ty³
;

	@dlite.c

100 
	~<¡dio.h
>

101 
	~<¡dlib.h
>

102 
	~<¡ršg.h
>

103 
	~<ùy³.h
>

104 #ià
defšed
(
__CYGWIN32__
)

105 
	~<”ºo.h
>

108 
	~"ho¡.h
"

109 
	~"misc.h
"

110 
	~"machše.h
"

111 
	~"v”siÚ.h
"

112 
	~"ev®.h
"

113 
	~"»gs.h
"

114 
	~"memÜy.h
"

115 
	~"sim.h
"

116 
	~"symbŞ.h
"

117 
	~"lßd”.h
"

118 
	~"İtiÚs.h
"

119 
	~"¡©s.h
"

120 
	~"¿nge.h
"

121 
	~"dl™e.h
"

124 
	~"smt.h
"

126 #ifdeà
SMT_SS


127 
	~"cÚ‹xt.h
"

132 
dl™e_»g_obj_t
 
	gf_dl™e_»g_obj
 = 
NULL
;

133 
dl™e_mem_obj_t
 
	gf_dl™e_mem_obj
 = 
NULL
;

134 
dl™e_m¡©e_obj_t
 
	gf_dl™e_m¡©e_obj
 = 
NULL
;

137 
	gdl™e_aùive
 = 
FALSE
;

140 
	gdl™e_check
 = 
FALSE
;

143 
	gdl™e_»tuº
 = 
FALSE
;

146 
	#MOD_BYTE
 0x0001

	)

147 
	#MOD_HALF
 0x0002

	)

148 
	#MOD_WORD
 0x0004

	)

149 
	#MOD_QWORD
 0x0008

	)

150 
	#MOD_FLOAT
 0x0010

	)

151 
	#MOD_DOUBLE
 0x0020

	)

152 
	#MOD_CHAR
 0x0040

	)

153 
	#MOD_STRING
 0x0080

	)

155 
	#MOD_SIZES
 \

	)

156 (
	gMOD_BYTE
|
	gMOD_HALF
|
	gMOD_WORD
|
	gMOD_QWORD
 \

157 |
	gMOD_FLOAT
|
	gMOD_DOUBLE
|
	gMOD_CHAR
|
	gMOD_STRING
)

160 
	#MOD_DECIMAL
 0x0100

	)

161 
	#MOD_UNSIGNED
 0x0200

	)

162 
	#MOD_OCTAL
 0x0400

	)

163 
	#MOD_HEX
 0x0800

	)

164 
	#MOD_BINARY
 0x1000

	)

166 
	#MOD_FORMATS
 \

	)

167 (
	gMOD_DECIMAL
|
	gMOD_UNSIGNED
|
	gMOD_OCTAL
|
	gMOD_HEX
|
	gMOD_BINARY
)

172 
	$modif›r_·r£r
(*
p
,

173 **
’dp
,

174 *
pmod
)

176 
modif›rs
 = 0;

179 *
pmod
 = 0;

182 ià(*
p
 == '/')

184 
p
++;

186 *
p
 != '\0' && *p != '\n' && *p != ' ' && *p != '\t')

188 *
p
)

191 
modif›rs
 |ğ
MOD_BYTE
;

194 
modif›rs
 |ğ
MOD_HALF
;

197 
modif›rs
 |ğ
MOD_WORD
;

200 
modif›rs
 |ğ
MOD_QWORD
;

203 
modif›rs
 |ğ
MOD_DECIMAL
;

206 
modif›rs
 |ğ
MOD_UNSIGNED
;

209 
modif›rs
 |ğ
MOD_OCTAL
;

212 
modif›rs
 |ğ
MOD_HEX
;

215 
modif›rs
 |ğ
MOD_BINARY
;

218 
modif›rs
 |ğ
MOD_FLOAT
;

221 
modif›rs
 |ğ
MOD_DOUBLE
;

224 
modif›rs
 |ğ
MOD_CHAR
;

227 
modif›rs
 |ğ
MOD_STRING
;

232 
p
++;

237 *
’dp
 = 
p
;

238 *
pmod
 = 
modif›rs
;

239  
NULL
;

240 
	}
}

243 
ev®_¡©e_t
 *
	gdl™e_ev®u©Ü
 = 
NULL
;

244 
»gs_t
 *
	gloÿl_»gs
 = 
NULL
;

246 #ifdeà
SMT_SS


250 
ev®_v®ue_t


251 
	$id’t_ev®u©Ü
(
ev®_¡©e_t
 *
es
)

253 
i
;

254 *
”r_¡r
;

255 
ev®_v®ue_t
 
v®
;

256 
¡©_¡©_t
 *
¡©
;

257 
sym_sym_t
 *
sym
;

258 
ev®_v®ue_t
 
”r_v®ue
 = { 
‘_št
, { 0 } };

260 
th»adid
 = 0;

261 
cÚ‹xt
 *
cu¼’t
;

262 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

266 
i
=0; 
md_»g_Çmes
[i].
¡r
 !ğ
NULL
; i++)

268 ià(!
	`my¡ricmp
(
es
->
tok_buf
, 
md_»g_Çmes
[
i
].
¡r
))

270 
”r_¡r
 =

271 
	`f_dl™e_»g_obj
(
loÿl_»gs
, 
FALSE
,

272 
md_»g_Çmes
[
i
].
fe
, md_»g_Çmes[i].
»g
, &
v®
);

273 ià(
”r_¡r
)

275 
ev®_”rÜ
 = 
ERR_UNDEFVAR
;

276 
ev®_”r_exŒa_šfo
 = 
es
->
tok_buf
;

277 
v®
 = 
”r_v®ue
;

279  
v®
;

284 
	`sym_lßdsyms
(
cu¼’t
->
ld_´og_âame
, 
TRUE
,cu¼’t->
id
);

285 
sym
 = 
	`sym_bšd_Çme
(
es
->
tok_buf
, 
NULL
, 
sdb_ªy
);

286 ià(
sym
)

289 
v®
.
ty³
 = 
‘_addr
;

290 
v®
.
v®ue
.
as_addr
 = 
sym
->
addr
;

291  
v®
;

295 
¡©
 = 
	`¡©_fšd_¡©
(
sim_sdb
, 
es
->
tok_buf
);

296 ià(
¡©
)

299 
¡©
->
sc
)

301 
sc_št
:

302 
v®
.
ty³
 = 
‘_št
;

303 
v®
.
v®ue
.
as_št
 = *
¡©
->
v¬ŸÁ
.
fÜ_št
.
v¬
;

305 
sc_ušt
:

306 
v®
.
ty³
 = 
‘_ušt
;

307 
v®
.
v®ue
.
as_ušt
 = *
¡©
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
;

309 #ifdeà
HOST_HAS_QWORD


310 
sc_qwÜd
:

311 
v®
.
ty³
 = 
‘_qwÜd
;

312 
v®
.
v®ue
.
as_qwÜd
 = *
¡©
->
v¬ŸÁ
.
fÜ_qwÜd
.
v¬
;

315 
sc_æßt
:

316 
v®
.
ty³
 = 
‘_æßt
;

317 
v®
.
v®ue
.
as_æßt
 = *
¡©
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
;

319 
sc_doubË
:

320 
v®
.
ty³
 = 
‘_doubË
;

321 
v®
.
v®ue
.
as_doubË
 = *
¡©
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
;

323 
sc_di¡
:

324 
sc_sdi¡
:

325 
ev®_”rÜ
 = 
ERR_BADEXPR
;

326 
v®
 = 
”r_v®ue
;

328 
sc_fÜmuÏ
:

331 
ev®_¡©e_t
 *
es
 = 
	`ev®_Ãw
(
id’t_ev®u©Ü
, 
sim_sdb
);

332 *
’dp
;

334 
v®
 = 
	`ev®_ex´
(
es
, 
¡©
->
v¬ŸÁ
.
fÜ_fÜmuÏ
.
fÜmuÏ
, &
’dp
);

335 ià(
ev®_”rÜ
 !ğ
ERR_NOERR
 || *
’dp
 != '\0')

338 
v®
 = 
”r_v®ue
;

341 
	`ev®_d–‘e
(
es
);

345 
	`·nic
("bogus stat class");

347  
v®
;

352 
ev®_”rÜ
 = 
ERR_UNDEFVAR
;

353 
ev®_”r_exŒa_šfo
 = 
es
->
tok_buf
;

354 
v®
 = 
”r_v®ue
;

355  
v®
;

356 
	}
}

363 
ev®_v®ue_t


364 
	$id’t_ev®u©Ü
(
ev®_¡©e_t
 *
es
)

366 
i
;

367 *
”r_¡r
;

368 
ev®_v®ue_t
 
v®
;

369 
¡©_¡©_t
 *
¡©
;

370 
sym_sym_t
 *
sym
;

371 
ev®_v®ue_t
 
”r_v®ue
 = { 
‘_št
, { 0 } };

374 
i
=0; 
md_»g_Çmes
[i].
¡r
 !ğ
NULL
; i++)

376 ià(!
	`my¡ricmp
(
es
->
tok_buf
, 
md_»g_Çmes
[
i
].
¡r
))

378 
”r_¡r
 =

379 
	`f_dl™e_»g_obj
(
loÿl_»gs
, 
FALSE
,

380 
md_»g_Çmes
[
i
].
fe
, md_»g_Çmes[i].
»g
, &
v®
);

381 ià(
”r_¡r
)

383 
ev®_”rÜ
 = 
ERR_UNDEFVAR
;

384 
ev®_”r_exŒa_šfo
 = 
es
->
tok_buf
;

385 
v®
 = 
”r_v®ue
;

387  
v®
;

392 
	`sym_lßdsyms
(
ld_´og_âame
, 
TRUE
);

393 
sym
 = 
	`sym_bšd_Çme
(
es
->
tok_buf
, 
NULL
, 
sdb_ªy
);

394 ià(
sym
)

397 
v®
.
ty³
 = 
‘_addr
;

398 
v®
.
v®ue
.
as_addr
 = 
sym
->
addr
;

399  
v®
;

403 
¡©
 = 
	`¡©_fšd_¡©
(
sim_sdb
, 
es
->
tok_buf
);

404 ià(
¡©
)

407 
¡©
->
sc
)

409 
sc_št
:

410 
v®
.
ty³
 = 
‘_št
;

411 
v®
.
v®ue
.
as_št
 = *
¡©
->
v¬ŸÁ
.
fÜ_št
.
v¬
;

413 
sc_ušt
:

414 
v®
.
ty³
 = 
‘_ušt
;

415 
v®
.
v®ue
.
as_ušt
 = *
¡©
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
;

417 #ifdeà
HOST_HAS_QWORD


418 
sc_qwÜd
:

419 
v®
.
ty³
 = 
‘_qwÜd
;

420 
v®
.
v®ue
.
as_qwÜd
 = *
¡©
->
v¬ŸÁ
.
fÜ_qwÜd
.
v¬
;

423 
sc_æßt
:

424 
v®
.
ty³
 = 
‘_æßt
;

425 
v®
.
v®ue
.
as_æßt
 = *
¡©
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
;

427 
sc_doubË
:

428 
v®
.
ty³
 = 
‘_doubË
;

429 
v®
.
v®ue
.
as_doubË
 = *
¡©
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
;

431 
sc_di¡
:

432 
sc_sdi¡
:

433 
ev®_”rÜ
 = 
ERR_BADEXPR
;

434 
v®
 = 
”r_v®ue
;

436 
sc_fÜmuÏ
:

439 
ev®_¡©e_t
 *
es
 = 
	`ev®_Ãw
(
id’t_ev®u©Ü
, 
sim_sdb
);

440 *
’dp
;

442 
v®
 = 
	`ev®_ex´
(
es
, 
¡©
->
v¬ŸÁ
.
fÜ_fÜmuÏ
.
fÜmuÏ
, &
’dp
);

443 ià(
ev®_”rÜ
 !ğ
ERR_NOERR
 || *
’dp
 != '\0')

446 
v®
 = 
”r_v®ue
;

449 
	`ev®_d–‘e
(
es
);

453 
	`·nic
("bogus stat class");

455  
v®
;

460 
ev®_”rÜ
 = 
ERR_UNDEFVAR
;

461 
ev®_”r_exŒa_šfo
 = 
es
->
tok_buf
;

462 
v®
 = 
”r_v®ue
;

463  
v®
;

464 
	}
}

470 
	#MAX_ARGS
 4

	)

473 
	#MAX_STR
 128

	)

476 
	u¬g_v®_t
 {

477 
	mas_modif›r
;

478 
ev®_v®ue_t
 
	mas_v®ue
;

479 
	mas_acûss
;

480 
	mas_¡r
[
MAX_STR
];

485 (*
	tcmd_â_t
)(
	tÇrgs
,

486 
	t¬g_v®_t
 
	t¬gs
[],

487 
	t»gs_t
 *
	t»gs
,

488 
	tmem_t
 *
	tmem
);

492 
	sdl™e_cmd_t
 {

493 *
	mcmd_¡r
;

494 *
	m¬g_¡rs
[
MAX_ARGS
];

502 
cmd_â_t
 
	mcmd_â
;

503 *
	mh–p_¡r
;

508 
dl™e_h–p
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

509 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

511 
dl™e_v”siÚ
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

512 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

514 
dl™e_‹rmš©e
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

515 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

517 
dl™e_qu™
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

518 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

520 
dl™e_cÚt
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

521 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

523 
dl™e_¡•
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

524 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

526 
dl™e_´št
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

527 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

529 
dl™e_İtiÚs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

530 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

532 
dl™e_İtiÚ
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

533 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

535 
dl™e_¡©s
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

536 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

538 
dl™e_¡©
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

539 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

541 
dl™e_wh©is
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

542 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

544 
dl™e_»gs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

545 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

547 
dl™e_œegs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

548 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

550 
dl™e_å»gs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

551 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

553 
dl™e_üegs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

554 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

556 
dl™e_m¡©e
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

557 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

559 
dl™e_di¥Ïy
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

560 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

562 
dl™e_dump
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

563 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

565 
dl™e_dis
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

566 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

568 
dl™e_b»ak
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

569 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

571 
dl™e_db»ak
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

572 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

574 
dl™e_rb»ak
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

575 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

577 
dl™e_b»aks
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

578 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

580 
dl™e_d–‘e
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

581 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

583 
dl™e_ş—r
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

584 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

586 
dl™e_symbŞs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

587 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

589 
dl™e_tsymbŞs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

590 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

592 
dl™e_dsymbŞs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

593 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

595 
dl™e_symbŞ
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

596 
»gs_t
 *
»gs
, 
mem_t
 *
mem
);

601 
dl™e_cmd_t
 
	gcmd_db
[] =

603 { "h–p", { "s?", 
NULL
 }, 
dl™e_h–p
,

605 { "v”siÚ", { 
NULL
 }, 
dl™e_v”siÚ
,

607 { "‹rmš©e", { 
NULL
 }, 
dl™e_‹rmš©e
,

609 { "qu™", { 
NULL
 }, 
dl™e_qu™
,

611 { "cÚt", { "a?", 
NULL
 }, 
dl™e_cÚt
,

613 { "¡•", { 
NULL
 }, 
dl™e_¡•
,

616 { "Ãxt", { 
NULL
 }, 
dl™e_Ãxt
,

619 { "´št", { "m?", "e", 
NULL
 }, 
dl™e_´št
,

621 { "İtiÚs", { 
NULL
 }, 
dl™e_İtiÚs
,

623 { "İtiÚ", { "s", 
NULL
 }, 
dl™e_İtiÚ
,

625 { "¡©s", { 
NULL
 }, 
dl™e_¡©s
,

627 { "¡©", { "s", 
NULL
 }, 
dl™e_¡©
,

629 { "wh©is", { "e", 
NULL
 }, 
dl™e_wh©is
,

631 { "---", { 
NULL
 }, NULL, NULL },

632 { "»gs", { 
NULL
 }, 
dl™e_»gs
,

634 { "œegs", { 
NULL
 }, 
dl™e_œegs
,

636 { "å»gs", { 
NULL
 }, 
dl™e_å»gs
,

638 { "üegs", { 
NULL
 }, 
dl™e_üegs
,

640 { "m¡©e", { "s?", 
NULL
 }, 
dl™e_m¡©e
,

642 { "di¥Ïy", { "m?", "a", 
NULL
 }, 
dl™e_di¥Ïy
,

644 { "dump", { "a?", "c?", 
NULL
 }, 
dl™e_dump
,

646 { "dis", { "a?", "c?", 
NULL
 }, 
dl™e_dis
,

648 { "b»ak", { "a", 
NULL
 }, 
dl™e_b»ak
,

650 { "db»ak", { "a", "t?", 
NULL
 }, 
dl™e_db»ak
,

653 { "rb»ak", { "s", "t?", 
NULL
 }, 
dl™e_rb»ak
,

656 { "b»aks", { 
NULL
 }, 
dl™e_b»aks
,

658 { "d–‘e", { "i", 
NULL
 }, 
dl™e_d–‘e
,

660 { "ş—r", { 
NULL
 }, 
dl™e_ş—r
,

662 { "---", { 
NULL
 }, NULL, NULL },

663 { "symbŞs", { 
NULL
 }, 
dl™e_symbŞs
,

665 { "tsymbŞs", { 
NULL
 }, 
dl™e_tsymbŞs
,

667 { "dsymbŞs", { 
NULL
 }, 
dl™e_dsymbŞs
,

669 { "symbŞ", { "s", 
NULL
 }, 
dl™e_symbŞ
,

671 { "---", { 
NULL
 }, NULL, NULL },

673 { 
NULL
, { NULL }, NULL, NULL }

677 *
	gdl™e_h–p_
 =

692 #ifdeà
HOST_HAS_QWORD


708 
	$dl™e_exec
(*
cmd_¡r
,

709 
»gs_t
 *
»gs
,

710 
mem_t
 *
mem
)

712 
i
, 
¬g_út
;

713 
dl™e_cmd_t
 *
cmd
;

714 
cmd_buf
[512], *
p
, *
q
, *
’dp
;

715 
¬g_v®_t
 
¬gs
[
MAX_ARGS
];

717 
p
 = 
cmd_¡r
;

718 
q
 = 
cmd_buf
;

721 *
p
 == ' ' || *p == '\t' || *p == '\n')

722 
p
++;

725 ià(*
p
 == '\0')

728  
NULL
;

732 *
p
 != '\0' && *p != '\n' && *p != ' ' && *p != '\t' && *p != '/')

733 *
q
++ = *
p
++;

734 *
q
 = '\0';

737 
cmd
=
cmd_db
; cmd->
cmd_¡r
 !ğ
NULL
; cmd++)

739 ià(!
	`¡rcmp
(
cmd
->
cmd_¡r
, 
cmd_buf
))

742 ià(
cmd
->
cmd_¡r
 =ğ
NULL
)

746 
i
=0, 
¬g_út
=0; i<
MAX_ARGS
 && 
cmd
->
¬g_¡rs
[i] !ğ
NULL
; i++,‡rg_cnt++)

748 
İtiÚ®
, 
acûss
, 
modif›rs
;

749 *
¬g
, 
¬g_ty³
, *
”r_¡r
;

750 
ev®_v®ue_t
 
v®
;

753 *
p
 == ' ' || *p == '\t' || *p == '\n')

754 
p
++;

756 
¬g
 = 
cmd
->
¬g_¡rs
[
i
];

757 
¬g_ty³
 = 
¬g
[0];

758 
İtiÚ®
 = (
¬g
[1] == '?');

760 ià(*
p
 == '\0')

762 ià(
İtiÚ®
)

771 
’dp
 = 
p
;

772 
¬g_ty³
)

775 
”r_¡r
 = 
	`modif›r_·r£r
(
p
, &
’dp
, &
modif›rs
);

776 ià(
”r_¡r
)

777  
”r_¡r
;

778 
¬gs
[
¬g_út
].
as_modif›r
 = 
modif›rs
;

781 
loÿl_»gs
 = 
»gs
;

782 
v®
 = 
	`ev®_ex´
(
dl™e_ev®u©Ü
, 
p
, &
’dp
);

783 ià(
ev®_”rÜ
)

784  
ev®_”r_¡r
[
ev®_”rÜ
];

785 
¬gs
[
¬g_út
].
as_v®ue
 = 
v®
;

788 
loÿl_»gs
 = 
»gs
;

789 
v®
 = 
	`ev®_ex´
(
dl™e_ev®u©Ü
, 
p
, &
’dp
);

790 ià(
ev®_”rÜ
)

791  
ev®_”r_¡r
[
ev®_”rÜ
];

792 
¬gs
[
¬g_út
].
as_v®ue
 = 
v®
;

795 
loÿl_»gs
 = 
»gs
;

796 
v®
 = 
	`ev®_ex´
(
dl™e_ev®u©Ü
, 
p
, &
’dp
);

797 ià(
ev®_”rÜ
)

798  
ev®_”r_¡r
[
ev®_”rÜ
];

799 
¬gs
[
¬g_út
].
as_v®ue
 = 
v®
;

802 
acûss
 = 0;

803 *
p
 != '\0' && *p != '\n' && *p != ' ' && *p != '\t')

805 *
p
)

808 
acûss
 |ğ
ACCESS_READ
;

811 
acûss
 |ğ
ACCESS_WRITE
;

814 
acûss
 |ğ
ACCESS_EXEC
;

819 
p
++;

821 
’dp
 = 
p
;

822 
¬gs
[
¬g_út
].
as_acûss
 = 
acûss
;

825 
loÿl_»gs
 = 
»gs
;

826 
v®
 = 
	`ev®_ex´
(
dl™e_ev®u©Ü
, 
p
, &
’dp
);

827 ià(
ev®_”rÜ
)

828  
ev®_”r_¡r
[
ev®_”rÜ
];

829 
¬gs
[
¬g_út
].
as_v®ue
 = 
v®
;

832 
q
 = 
¬gs
[
¬g_út
].
as_¡r
;

833 *
p
 != ' ' && *p != '\t' && *p != '\0')

834 *
q
++ = *
p
++;

835 *
q
 = '\0';

836 
’dp
 = 
p
;

839 
	`·nic
("bogu ¬gum’ˆty³: `%c'", 
¬g_ty³
);

841 
p
 = 
’dp
;

846 *
p
 == ' ' || *p == '\t' || *p == '\n')

847 
p
++;

850 ià(*
p
 != '\0')

854  
cmd
->
	`cmd_â
(
¬g_út
, 
¬gs
, 
»gs
, 
mem
);

855 
	}
}

859 
	$´št_v®
(
modif›rs
,

860 
ev®_v®ue_t
 
v®
)

862 *
fÜm©
 = "", *
´efix
 = "", 
¿dix
, 
buf
[512];

865 ià((
modif›rs
 & 
MOD_SIZES
) == 0)

868 
v®
.
ty³
)

870 
‘_št
: 
modif›rs
 |ğ
MOD_WORD
; ;

871 
‘_ušt
: 
modif›rs
 |ğ
MOD_WORD
; ;

872 
‘_addr
:

873 #ifdeà
HOST_HAS_QWORD


874 
modif›rs
 |ğ(((
md_addr_t
è> 4è? 
MOD_QWORD
 : 
MOD_WORD
);

876 
modif›rs
 |ğ
MOD_WORD
;

879 #ifdeà
HOST_HAS_QWORD


880 
‘_qwÜd
: 
modif›rs
 |ğ
MOD_QWORD
; ;

881 
‘_sqwÜd
: 
modif›rs
 |ğ
MOD_QWORD
; ;

883 
‘_æßt
: 
modif›rs
 |ğ
MOD_FLOAT
; ;

884 
‘_doubË
: 
modif›rs
 |ğ
MOD_DOUBLE
; ;

885 
‘_symbŞ
:

889 ià(((
modif›rs
 & 
MOD_SIZES
) & ((modifiers & MOD_SIZES) - 1)) != 0)

893 ià((
modif›rs
 & 
MOD_FORMATS
) == 0)

896 
v®
.
ty³
)

898 
‘_št
: 
modif›rs
 |ğ
MOD_DECIMAL
; ;

899 
‘_ušt
: 
modif›rs
 |ğ
MOD_UNSIGNED
; ;

900 
‘_addr
: 
modif›rs
 |ğ
MOD_HEX
; ;

901 #ifdeà
HOST_HAS_QWORD


902 
‘_qwÜd
: 
modif›rs
 |ğ
MOD_UNSIGNED
; ;

903 
‘_sqwÜd
: 
modif›rs
 |ğ
MOD_DECIMAL
; ;

905 
‘_æßt
: ;

906 
‘_doubË
: ;

907 
‘_symbŞ
:

911 ià(((
modif›rs
 & 
MOD_FORMATS
) & ((modifiers & MOD_FORMATS) - 1)) != 0)

915 ià(
modif›rs
 & (
MOD_BYTE
|
MOD_HALF
|
MOD_WORD
|
MOD_QWORD
))

917 ià(
modif›rs
 & 
MOD_DECIMAL
)

918 
¿dix
 = 'd';

919 ià(
modif›rs
 & 
MOD_UNSIGNED
)

920 
¿dix
 = 'u';

921 ià(
modif›rs
 & 
MOD_OCTAL
)

922 
¿dix
 = 'o';

923 ià(
modif›rs
 & 
MOD_HEX
)

924 
¿dix
 = 'x';

925 ià(
modif›rs
 & 
MOD_BINARY
)

928 
	`·nic
("no default integer format");

930 ià(
modif›rs
 & 
MOD_BYTE
)

932 ià(
modif›rs
 & 
MOD_OCTAL
)

934 
´efix
 = "0";

935 
fÜm©
 = "03";

937 ià(
modif›rs
 & 
MOD_HEX
)

939 
´efix
 = "0x";

940 
fÜm©
 = "02";

944 
´efix
 = "";

945 
fÜm©
 = "";

948 
	`¥rštf
(
buf
, "%s%%%s%c", 
´efix
, 
fÜm©
, 
¿dix
);

949 
	`myårštf
(
¡dout
, 
buf
, 
	`ev®_as_ušt
(
v®
));

951 ià(
modif›rs
 & 
MOD_HALF
)

953 ià(
modif›rs
 & 
MOD_OCTAL
)

955 
´efix
 = "0";

956 
fÜm©
 = "06";

958 ià(
modif›rs
 & 
MOD_HEX
)

960 
´efix
 = "0x";

961 
fÜm©
 = "04";

965 
´efix
 = "";

966 
fÜm©
 = "";

969 
	`¥rštf
(
buf
, "%s%%%s%c", 
´efix
, 
fÜm©
, 
¿dix
);

970 
	`myårštf
(
¡dout
, 
buf
, 
	`ev®_as_ušt
(
v®
));

972 ià(
modif›rs
 & 
MOD_WORD
)

974 ià(
modif›rs
 & 
MOD_OCTAL
)

976 
´efix
 = "0";

977 
fÜm©
 = "011";

979 ià(
modif›rs
 & 
MOD_HEX
)

981 
´efix
 = "0x";

982 
fÜm©
 = "08";

986 
´efix
 = "";

987 
fÜm©
 = "";

990 
	`¥rštf
(
buf
, "%s%%%s%c", 
´efix
, 
fÜm©
, 
¿dix
);

991 
	`myårštf
(
¡dout
, 
buf
, 
	`ev®_as_ušt
(
v®
));

993 #ifdeà
HOST_HAS_QWORD


994 ià(
modif›rs
 & 
MOD_QWORD
)

996 ià(
modif›rs
 & 
MOD_OCTAL
)

998 
´efix
 = "0";

999 
fÜm©
 = "022";

1001 ià(
modif›rs
 & 
MOD_HEX
)

1003 
´efix
 = "0x";

1004 
fÜm©
 = "016";

1008 
´efix
 = "";

1009 
fÜm©
 = "";

1012 
	`¥rštf
(
buf
, "%s%%%¦%c", 
´efix
, 
fÜm©
, 
¿dix
);

1013 
	`myårštf
(
¡dout
, 
buf
, 
	`ev®_as_qwÜd
(
v®
));

1017 ià(
modif›rs
 & 
MOD_FLOAT
)

1018 
	`årštf
(
¡dout
, "%f", ()
	`ev®_as_æßt
(
v®
));

1019 ià(
modif›rs
 & 
MOD_DOUBLE
)

1020 
	`årštf
(
¡dout
, "%f", 
	`ev®_as_doubË
(
v®
));

1021 ià(
modif›rs
 & 
MOD_CHAR
)

1022 
	`årštf
(
¡dout
, "`%c'", 
	`ev®_as_ušt
(
v®
));

1023 ià(
modif›rs
 & 
MOD_STRING
)

1026 
	`·nic
("no default format");

1029  
NULL
;

1030 
	}
}

1034 
	$dl™e_mem_obj
(
mem_t
 *
mem
,

1035 
is_wr™e
,

1036 
md_addr_t
 
addr
,

1037 *
p
,

1038 
nby‹s
)

1040 
mem_cmd
 
cmd
;

1042 ià(!
is_wr™e
)

1043 
cmd
 = 
R—d
;

1045 
cmd
 = 
Wr™e
;

1048 *
”r¡r
;

1049 
”r¡r
 = 
	`mem_v®id
(
cmd
, 
addr
, 
nby‹s
, 
FALSE
);

1050 ià(
”r¡r
)

1051  
”r¡r
;

1055 
	`mem_acûss
(
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, mem->
th»adid
);

1058  
NULL
;

1059 
	}
}

1063 
	$dl™e_m¡©e_obj
(
FILE
 *
¡»am
,

1064 *
cmd
,

1065 
»gs_t
 *
»gs
,

1066 
mem_t
 *
mem
)

1069 
	`årštf
(
¡»am
, "No machine state.\n");

1072  
NULL
;

1073 
	}
}

1077 
	$dl™e_·u£
()

1079 
buf
[512];

1080 
	`årštf
(
¡dout
, "Press <return>o continue...");

1081 
	`fæush
(
¡dout
);

1082 
	`fg‘s
(
buf
, 512, 
¡dš
);

1083 
	}
}

1087 
	$´št_h–p
(
dl™e_cmd_t
 *
cmd
)

1089 
i
;

1092 
	`årštf
(
¡dout
, " % ", 
cmd
->
cmd_¡r
);

1095 
i
=0; i < 
MAX_ARGS
 && 
cmd
->
¬g_¡rs
[i] !ğ
NULL
; i++)

1097 
İtiÚ®
;

1098 *
¬g
, 
¬g_ty³
;

1100 
¬g
 = 
cmd
->
¬g_¡rs
[
i
];

1101 
¬g_ty³
 = 
¬g
[0];

1102 
İtiÚ®
 = (
¬g
[1] == '?');

1104 ià(
İtiÚ®
)

1105 
	`årštf
(
¡dout
, "{");

1107 
	`årštf
(
¡dout
, "<");

1109 
¬g_ty³
)

1112 
	`årštf
(
¡dout
, "/modifiers");

1115 
	`årštf
(
¡dout
, "addr");

1118 
	`årštf
(
¡dout
, "count");

1121 
	`årštf
(
¡dout
, "expr");

1124 
	`årštf
(
¡dout
, "r|w|x");

1127 
	`årštf
(
¡dout
, "id");

1130 
	`årštf
(
¡dout
, "string");

1133 
	`·nic
("bogu ¬gum’ˆty³: `%c'", 
¬g_ty³
);

1136 ià(
İtiÚ®
)

1137 
	`årštf
(
¡dout
, "}");

1139 
	`årštf
(
¡dout
, ">");

1141 
	`årštf
(
¡dout
, " ");

1143 
	`årštf
(
¡dout
, "\n");

1146 
	`årštf
(
¡dout
, " %s\n", 
cmd
->
h–p_¡r
);

1147 
	}
}

1151 
	$dl™e_h–p
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1152 
»gs_t
 *
»gs
,

1153 
mem_t
 *
mem
)

1155 
dl™e_cmd_t
 *
cmd
;

1157 ià(
Çrgs
 != 0 &&‚args != 1)

1160 ià(
Çrgs
 == 1)

1163 
cmd
=
cmd_db
; cmd->
cmd_¡r
 !ğ
NULL
; cmd++)

1165 ià(!
	`¡rcmp
(
cmd
->
cmd_¡r
, 
¬gs
[0].
as_¡r
))

1168 ià(!
cmd
->
cmd_¡r
)

1171 
	`´št_h–p
(
cmd
);

1176 
cmd
=
cmd_db
; cmd->
cmd_¡r
 !ğ
NULL
; cmd++)

1179 ià(!
	`¡rcmp
(
cmd
->
cmd_¡r
, "---"))

1180 
	`dl™e_·u£
();

1182 
	`´št_h–p
(
cmd
);

1185 
	`årštf
 (
¡dout
, "\n");

1186 ià(
dl™e_h–p_
)

1187 
	`årštf
 (
¡dout
, "%s\n", 
dl™e_h–p_
);

1191  
NULL
;

1192 
	}
}

1196 
	$dl™e_v”siÚ
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1197 
»gs_t
 *
»gs
,

1198 
mem_t
 *
mem
)

1200 ià(
Çrgs
 != 0)

1204 
	`årštf
(
¡dout
, "The SimpleScalar/%s Tool Set, version %d.%d of %s.\n",

1205 
VER_TARGET
, 
VER_MAJOR
, 
VER_MINOR
, 
VER_UPDATE
);

1206 
	`årštf
(
¡dout
,

1210  
NULL
;

1211 
	}
}

1215 
	$dl™e_‹rmš©e
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1216 
»gs_t
 *
»gs
,

1217 
mem_t
 *
mem
)

1219 ià(
Çrgs
 != 0)

1222 
	`årštf
(
¡dout
, "DLite:erminating simulation...\n");

1223 
	`lÚgjmp
(
sim_ex™_buf
, 1);

1226  
NULL
;

1227 
	}
}

1231 
	$dl™e_qu™
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1232 
»gs_t
 *
»gs
,

1233 
mem_t
 *
mem
)

1235 ià(
Çrgs
 != 0)

1238 
	`årštf
(
¡dout
, "DLite:ƒxiting simulator...\n");

1239 
	`ex™
(1);

1240 #ifdeà
__GNUC__


1242  
NULL
;

1244 
	}
}

1248 
	$dl™e_cÚt
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1249 
»gs_t
 *
»gs
,

1250 
mem_t
 *
mem
)

1252 
ev®_v®ue_t
 
v®
;

1254 ià(!
f_dl™e_»g_obj
 || !
f_dl™e_mem_obj
)

1255 
	`·nic
("DLite is‚ot configured");

1257 ià(
Çrgs
 != 0 &&‚args != 1)

1260 ià(
Çrgs
 == 1)

1263 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1267 
v®
.
ty³
 = 
‘_addr
;

1268 
v®
.
v®ue
.
as_addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

1269 
	`f_dl™e_»g_obj
(
»gs
, 
TRUE
, 
¹_PC
, 0, &
v®
);

1271 
	`myårštf
(
¡dout
, "DLite: continuingƒxecution @ 0x%08p...\n",

1272 
v®
.
v®ue
.
as_addr
);

1276 
dl™e_aùive
 = 
FALSE
;

1277 
dl™e_»tuº
 = 
TRUE
;

1280  
NULL
;

1281 
	}
}

1285 
	$dl™e_¡•
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1286 
»gs_t
 *
»gs
,

1287 
mem_t
 *
mem
)

1289 ià(
Çrgs
 != 0)

1293 
dl™e_aùive
 = 
TRUE
;

1294 
dl™e_»tuº
 = 
TRUE
;

1297  
NULL
;

1298 
	}
}

1303 
	$dl™e_Ãxt
(
Çrgs
, 
¬g_v®_t
 
¬gs
[])

1305 ià(
Çrgs
 != 0)

1309 
dl™e_¡•_út
 = 1;

1310 
dl™e_¡•_što
 = 
FALSE
;

1313  
NULL
;

1314 
	}
}

1319 
	$dl™e_´št
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1320 
»gs_t
 *
»gs
,

1321 
mem_t
 *
mem
)

1323 
modif›rs
 = 0;

1324 *
”r_¡r
;

1325 
ev®_v®ue_t
 
v®
;

1327 ià(
Çrgs
 != 1 &&‚args != 2)

1330 ià(
Çrgs
 == 2)

1333 
modif›rs
 = 
¬gs
[0].
as_modif›r
;

1334 
v®
 = 
¬gs
[1].
as_v®ue
;

1339 
v®
 = 
¬gs
[0].
as_v®ue
;

1343 
”r_¡r
 = 
	`´št_v®
(
modif›rs
, 
v®
);

1344 ià(
”r_¡r
)

1345  
”r_¡r
;

1346 
	`årštf
(
¡dout
, "\n");

1349  
NULL
;

1350 
	}
}

1354 
	$dl™e_İtiÚs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1355 
»gs_t
 *
»gs
,

1356 
mem_t
 *
mem
)

1358 ià(
Çrgs
 != 0)

1362 
	`İt_´št_İtiÚs
(
sim_odb
, 
¡dout
, 
TRUE
, 
FALSE
);

1365  
NULL
;

1366 
	}
}

1370 
	$dl™e_İtiÚ
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1371 
»gs_t
 *
»gs
,

1372 
mem_t
 *
mem
)

1374 
İt_İt_t
 *
İt
;

1376 ià(
Çrgs
 != 1)

1380 
İt
 = 
	`İt_fšd_İtiÚ
(
sim_odb
, 
¬gs
[0].
as_¡r
);

1381 ià(!
İt
)

1385 
	`årštf
(
¡dout
, "%-16  ", 
İt
->
Çme
);

1386 
	`İt_´št_İtiÚ
(
İt
, 
¡dout
);

1387 ià(
İt
->
desc
)

1388 
	`årštf
(
¡dout
, " # %s", 
İt
->
desc
);

1389 
	`årštf
(
¡dout
, "\n");

1392  
NULL
;

1393 
	}
}

1397 
	$dl™e_¡©s
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1398 
»gs_t
 *
»gs
,

1399 
mem_t
 *
mem
)

1401 ià(
Çrgs
 != 0)

1405 
	`¡©_´št_¡©s
(
sim_sdb
, 
¡dout
);

1406 
	`sim_aux_¡©s
(
¡dout
);

1409  
NULL
;

1410 
	}
}

1414 
	$dl™e_¡©
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1415 
»gs_t
 *
»gs
,

1416 
mem_t
 *
mem
)

1418 
¡©_¡©_t
 *
¡©
;

1420 ià(
Çrgs
 != 1)

1424 
¡©
 = 
	`¡©_fšd_¡©
(
sim_sdb
, 
¬gs
[0].
as_¡r
);

1425 ià(!
¡©
)

1429 
	`¡©_´št_¡©
(
sim_sdb
, 
¡©
, 
¡dout
);

1432  
NULL
;

1433 
	}
}

1437 
	$dl™e_wh©is
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1438 
»gs_t
 *
»gs
,

1439 
mem_t
 *
mem
)

1441 ià(
Çrgs
 != 1)

1444 
	`årštf
(
¡dout
, "ty³ =ğ`%s'\n", 
ev®_ty³_¡r
[
¬gs
[0].
as_v®ue
.
ty³
]);

1447  
NULL
;

1448 
	}
}

1452 
	$dl™e_œegs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1453 
»gs_t
 *
»gs
,

1454 
mem_t
 *
mem
)

1456 *
”r_¡r
;

1458 ià(
Çrgs
 != 0)

1462 
	`myårštf
(
¡dout
, "PC: 0x%08p NPC: 0x%08p\n",

1463 
»gs
->
»gs_PC
,„egs->
»gs_NPC
);

1464 ià((
”r_¡r
 = 
	`dl™e_üegs
(
Çrgs
, 
¬gs
, 
»gs
, 
mem
)è!ğ
NULL
)

1465  
”r_¡r
;

1466 
	`md_´št_œegs
(
»gs
->
»gs_R
, 
¡dout
);

1469  
NULL
;

1470 
	}
}

1474 
	$dl™e_å»gs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1475 
»gs_t
 *
»gs
,

1476 
mem_t
 *
mem
)

1479 
	`md_´št_å»gs
(
»gs
->
»gs_F
, 
¡dout
);

1482  
NULL
;

1483 
	}
}

1487 
	$dl™e_üegs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1488 
»gs_t
 *
»gs
,

1489 
mem_t
 *
mem
)

1492 
	`md_´št_üegs
(
»gs
->
»gs_C
, 
¡dout
);

1495  
NULL
;

1496 
	}
}

1500 
	$dl™e_»gs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1501 
»gs_t
 *
»gs
,

1502 
mem_t
 *
mem
)

1504 *
”r_¡r
;

1506 
	`myårštf
(
¡dout
, "PC: 0x%08p NPC: 0x%08p\n",

1507 
»gs
->
»gs_PC
,„egs->
»gs_NPC
);

1508 ià((
”r_¡r
 = 
	`dl™e_üegs
(
Çrgs
, 
¬gs
, 
»gs
, 
mem
)è!ğ
NULL
)

1509  
”r_¡r
;

1510 
	`md_´št_œegs
(
»gs
->
»gs_R
, 
¡dout
);

1511 
	`dl™e_·u£
();

1512 ià((
”r_¡r
 = 
	`dl™e_å»gs
(
Çrgs
, 
¬gs
, 
»gs
, 
mem
)è!ğ
NULL
)

1513  
”r_¡r
;

1516  
NULL
;

1517 
	}
}

1521 
	$dl™e_m¡©e
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1522 
»gs_t
 *
»gs
,

1523 
mem_t
 *
mem
)

1525 *
”r¡r
;

1527 ià(
Çrgs
 != 0 &&‚args != 1)

1530 ià(
f_dl™e_m¡©e_obj
)

1532 ià(
Çrgs
 == 0)

1534 
”r¡r
 = 
	`f_dl™e_m¡©e_obj
(
¡dout
, 
NULL
, 
»gs
, 
mem
);

1535 ià(
”r¡r
)

1536  
”r¡r
;

1540 
”r¡r
 = 
	`f_dl™e_m¡©e_obj
(
¡dout
, 
¬gs
[0].
as_¡r
, 
»gs
, 
mem
);

1541 ià(
”r¡r
)

1542  
”r¡r
;

1547  
NULL
;

1548 
	}
}

1552 
	$dl™e_di¥Ïy
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1553 
»gs_t
 *
»gs
,

1554 
mem_t
 *
mem
)

1556 
modif›rs
 = 0, 
size
;

1557 
md_addr_t
 
addr
 = 0;

1558 
buf
[512];

1559 
ev®_v®ue_t
 
v®
;

1560 *
”r¡r
;

1562 ià(
Çrgs
 != 1 &&‚args != 2)

1565 ià(
Çrgs
 == 1)

1568 
modif›rs
 = 0;

1571 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1575 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

1577 ià(
Çrgs
 == 2)

1579 
modif›rs
 = 
¬gs
[0].
as_modif›r
;

1582 ià(!
	`EVAL_INTEGRAL
(
¬gs
[1].
as_v®ue
.
ty³
))

1586 
addr
 = 
	`ev®_as_addr
(
¬gs
[1].
as_v®ue
);

1590 ià(
modif›rs
 & (
MOD_BYTE
|
MOD_CHAR
))

1591 
size
 = 1;

1592 ià(
modif›rs
 & 
MOD_HALF
)

1593 
size
 = 2;

1594 ià(
modif›rs
 & (
MOD_QWORD
|
MOD_DOUBLE
))

1595 
size
 = 8;

1597 
size
 = 4;

1600 
”r¡r
 = 
	`f_dl™e_mem_obj
(
mem
, 
FALSE
, 
addr
, (*)
buf
, 
size
);

1601 ià(
”r¡r
)

1602  
”r¡r
;

1605 ià(
modif›rs
 & (
MOD_BYTE
|
MOD_CHAR
))

1608 
v®
.
ty³
 = 
‘_št
;

1609 
v®
.
v®ue
.
as_št
 = ()*(*)
buf
;

1611 ià(
modif›rs
 & 
MOD_HALF
)

1614 
v®
.
ty³
 = 
‘_št
;

1615 
v®
.
v®ue
.
as_št
 = ()*(*)
buf
;

1617 ià(
modif›rs
 & (
MOD_QWORD
|
MOD_DOUBLE
))

1620 
v®
.
ty³
 = 
‘_doubË
;

1621 
v®
.
v®ue
.
as_doubË
 = *(*)
buf
;

1626 
v®
.
ty³
 = 
‘_ušt
;

1627 
v®
.
v®ue
.
as_ušt
 = *(*)
buf
;

1631 
”r¡r
 = 
	`´št_v®
(
modif›rs
, 
v®
);

1632 ià(
”r¡r
)

1633  
”r¡r
;

1634 
	`årštf
(
¡dout
, "\n");

1637  
NULL
;

1638 
	}
}

1641 
	#BYTES_PER_LINE
 16

	)

1642 
	#LINES_PER_SCREEN
 4

	)

1646 
	$dl™e_dump
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1647 
»gs_t
 *
»gs
,

1648 
mem_t
 *
mem
)

1650 
i
, 
j
;

1651 
couÁ
 = 
LINES_PER_SCREEN
 * 
BYTES_PER_LINE
, 
i_couÁ
, 
fmt_couÁ
, 
fmt_lšes
;

1652 
md_addr_t
 
fmt_addr
, 
i_addr
;

1653 
md_addr_t
 
addr
 = 0;

1654 
by‹
;

1655 
buf
[512];

1656 *
”r¡r
;

1658 ià(
Çrgs
 < 0 ||‚args > 2)

1661 ià(
Çrgs
 == 1)

1664 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1668 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

1670 ià(
Çrgs
 == 2)

1673 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1677 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

1680 ià(!
	`EVAL_INTEGRAL
(
¬gs
[1].
as_v®ue
.
ty³
))

1683 ià(
	`ev®_as_ušt
(
¬gs
[1].
as_v®ue
) > 1024)

1687 
couÁ
 = 
	`ev®_as_ušt
(
¬gs
[1].
as_v®ue
);

1692 
fmt_addr
 = 
addr
 & ~(
BYTES_PER_LINE
 - 1);

1693 
fmt_couÁ
 = (
couÁ
 + (
BYTES_PER_LINE
 - 1)) & ~(BYTES_PER_LINE - 1);

1694 
fmt_lšes
 = 
fmt_couÁ
 / 
BYTES_PER_LINE
;

1696 ià(
fmt_lšes
 < 1)

1697 
	`·nic
("no output†ines");

1700 ià(
fmt_lšes
 == 1)

1703 
i_addr
 = 
fmt_addr
;

1704 
	`myårštf
(
¡dout
, "0x%08p: ", 
i_addr
);

1705 
i
=0; i < 
couÁ
; i++)

1707 
”r¡r
 =

1708 
	`f_dl™e_mem_obj
(
mem
, 
FALSE
,

1709 
i_addr
, (*)&
by‹
, 1);

1710 ià(
”r¡r
)

1711  
”r¡r
;

1712 
	`årštf
(
¡dout
, "%02x ", 
by‹
);

1713 ià(
	`i¥ršt
(
by‹
))

1714 
buf
[
i
] = 
by‹
;

1716 
buf
[
i
] = '.';

1717 
i_addr
++;

1718 
addr
++;

1720 
buf
[
i
] = '\0';

1723 
	`årštf
(
¡dout
, "[%s]\n", 
buf
);

1727 
i_couÁ
 = 0;

1728 
i_addr
 = 
fmt_addr
;

1729 
i
=0; i < 
fmt_lšes
; i++)

1731 
	`myårštf
(
¡dout
, "0x%08p: ", 
i_addr
);

1734 
j
=0; j < 
BYTES_PER_LINE
; j++)

1736 ià(
i_addr
 >ğ
addr
 && 
i_couÁ
 <ğ
couÁ
)

1738 
”r¡r
 =

1739 
	`f_dl™e_mem_obj
(
mem
, 
FALSE
,

1740 
i_addr
, (*)&
by‹
, 1);

1741 ià(
”r¡r
)

1742  
”r¡r
;

1743 
	`årštf
(
¡dout
, "%02x ", 
by‹
);

1744 ià(
	`i¥ršt
(
by‹
))

1745 
buf
[
j
] = 
by‹
;

1747 
buf
[
j
] = '.';

1748 
i_couÁ
++;

1749 
addr
++;

1753 
	`årštf
(
¡dout
, " ");

1754 
buf
[
j
] = ' ';

1756 
i_addr
++;

1758 
buf
[
j
] = '\0';

1761 
	`årštf
(
¡dout
, "[%s]\n", 
buf
);

1766  
NULL
;

1767 
	}
}

1770 
	#INSTS_PER_SCREEN
 16

	)

1774 
	$dl™e_dis
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

1775 
»gs_t
 *
»gs
,

1776 
mem_t
 *
mem
)

1778 
i
;

1779 
couÁ
 = 
INSTS_PER_SCREEN
;

1780 
md_addr_t
 
addr
 = 0;

1781 
md_š¡_t
 
š¡
;

1782 *
”r¡r
;

1784 ià(
Çrgs
 < 0 ||‚args > 2)

1787 ià(
Çrgs
 == 1)

1790 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1794 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

1796 ià(
Çrgs
 == 2)

1799 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1803 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

1806 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

1810 
couÁ
 = 
	`ev®_as_ušt
(
¬gs
[1].
as_v®ue
);

1812 ià(
couÁ
 < 0 || count > 1024)

1817 ià((
addr
 % (
md_š¡_t
)) != 0)

1821 
i
=0; i<
couÁ
; i++)

1824 
	`myårštf
(
¡dout
, " 0x%08p: ", 
addr
);

1825 
”r¡r
 =

1826 
	`f_dl™e_mem_obj
(
mem
, 
FALSE
,

1827 
addr
, (*)&
š¡
, (inst));

1829 
š¡
 = 
	`MD_SWAPI
(inst);

1831 
	`MD_SWAPI
(
š¡
);

1833 ià(
”r¡r
)

1834  
”r¡r
;

1835 
	`md_´št_š¢
(
š¡
, 
addr
, 
¡dout
);

1836 
	`årštf
(
¡dout
, "\n");

1839 
addr
 +ğ(
md_š¡_t
);

1843  
NULL
;

1844 
	}
}

1847 
	sdl™e_b»ak_t
 {

1848 
dl™e_b»ak_t
 *
	mÃxt
;

1849 
	mid
;

1850 
	mşass
;

1851 
¿nge_¿nge_t
 
	m¿nge
;

1855 
dl™e_b»ak_t
 *
	gdl™e_bps
 = 
NULL
;

1858 
	gb»ak_id
 = 1;

1862 
	$bp_şass_¡r
(
şass
)

1864 ià(
şass
 =ğ(
ACCESS_READ
|
ACCESS_WRITE
|
ACCESS_EXEC
))

1866 ià(
şass
 =ğ(
ACCESS_READ
|
ACCESS_WRITE
))

1868 ià(
şass
 =ğ(
ACCESS_WRITE
|
ACCESS_EXEC
))

1870 ià(
şass
 =ğ(
ACCESS_READ
|
ACCESS_EXEC
))

1872 ià(
şass
 =ğ
ACCESS_READ
)

1874 ià(
şass
 =ğ
ACCESS_WRITE
)

1876 ià(
şass
 =ğ
ACCESS_EXEC
)

1879 
	`·nic
("bogus‡ccess class");

1880 
	}
}

1884 
	$£t_b»ak
(
şass
,

1885 
¿nge_¿nge_t
 *
¿nge
)

1887 
dl™e_b»ak_t
 *
bp
;

1890 
bp
 = 
	`ÿÎoc
(1, (
dl™e_b»ak_t
));

1891 ià(!
bp
)

1892 
	`çl
("out of virtual memory");

1894 
bp
->
id
 = 
b»ak_id
++;

1895 
bp
->
¿nge
 = *range;

1896 
bp
->
şass
 = class;

1898 
bp
->
Ãxt
 = 
dl™e_bps
;

1899 
dl™e_bps
 = 
bp
;

1901 
	`årštf
(
¡dout
, "b»akpošˆ#%d s‘ @ ", 
bp
->
id
);

1902 
	`¿nge_´št_¿nge
(&
bp
->
¿nge
, 
¡dout
);

1903 
	`årštf
(
¡dout
, ", cÏss: %s\n", 
	`bp_şass_¡r
(
şass
));

1906 
dl™e_check
 = 
TRUE
;

1909  
NULL
;

1910 
	}
}

1914 
	$d–‘e_b»ak
(
id
)

1916 
dl™e_b»ak_t
 *
bp
, *
´ev
;

1918 ià(!
dl™e_bps
)

1921 
bp
=
dl™e_bps
,
´ev
=
NULL
; b°!ğNULL;…»v=bp,bp=bp->
Ãxt
)

1923 ià(
bp
->
id
 == id)

1926 ià(!
bp
)

1929 ià(!
´ev
)

1932 
dl™e_bps
 = 
bp
->
Ãxt
;

1937 
´ev
->
Ãxt
 = 
bp
->next;

1940 
	`årštf
(
¡dout
, "b»akpošˆ#%d d–‘ed @ ", 
bp
->
id
);

1941 
	`¿nge_´št_¿nge
(&
bp
->
¿nge
, 
¡dout
);

1942 
	`årštf
(
¡dout
, ", cÏss: %s\n", 
	`bp_şass_¡r
(
bp
->
şass
));

1944 
bp
->
Ãxt
 = 
NULL
;

1945 
	`ä“
(
bp
);

1947 ià(!
dl™e_bps
)

1950 
dl™e_check
 = 
FALSE
;

1955 
dl™e_check
 = 
TRUE
;

1959  
NULL
;

1960 
	}
}

1963 
	gb»ak_acûss
 = 0;

1967 
	$__check_b»ak
(
md_addr_t
 
Ãxt_PC
,

1968 
acûss
,

1969 
md_addr_t
 
addr
,

1970 
couÁ”_t
 
icouÁ
,

1971 
couÁ”_t
 
cyşe
)

1973 
dl™e_b»ak_t
 *
bp
;

1975 ià(
dl™e_aùive
)

1978 
b»ak_acûss
 = 0;

1979  
TRUE
;

1983 
bp
=
dl™e_bps
; b°!ğ
NULL
; bp=bp->
Ãxt
)

1985 
bp
->
¿nge
.
¡¬t
.
±y³
)

1987 
±_addr
:

1988 ià((
bp
->
şass
 & 
ACCESS_EXEC
)

1989 && !
	`¿nge_cmp_¿nge
(&
bp
->
¿nge
, 
Ãxt_PC
))

1992 
	`myårštf
(
¡dout
,

1994 
bp
->
id
, 
Ãxt_PC
);

1995 
b»ak_acûss
 = 
ACCESS_EXEC
;

1996  
TRUE
;

1998 ià((
bp
->
şass
 & 
ACCESS_READ
)

1999 && ((
acûss
 & 
ACCESS_READ
)

2000 && !
	`¿nge_cmp_¿nge
(&
bp
->
¿nge
, 
addr
)))

2003 
	`myårštf
(
¡dout
,

2005 
bp
->
id
, 
addr
);

2006 
b»ak_acûss
 = 
ACCESS_READ
;

2007  
TRUE
;

2009 ià((
bp
->
şass
 & 
ACCESS_WRITE
)

2010 && ((
acûss
 & 
ACCESS_WRITE
)

2011 && !
	`¿nge_cmp_¿nge
(&
bp
->
¿nge
, 
addr
)))

2014 
	`myårštf
(
¡dout
,

2016 
bp
->
id
, 
addr
);

2017 
b»ak_acûss
 = 
ACCESS_WRITE
;

2018  
TRUE
;

2022 
±_š¡
:

2023 ià(!
	`¿nge_cmp_¿nge
(&
bp
->
¿nge
, 
icouÁ
))

2026 
	`årštf
(
¡dout
,

2028 
bp
->
id
, ()
icouÁ
);

2029 
b»ak_acûss
 = 
ACCESS_EXEC
;

2030  
TRUE
;

2034 
±_cyşe
:

2035 ià(!
	`¿nge_cmp_¿nge
(&
bp
->
¿nge
, 
cyşe
))

2038 
	`årštf
(
¡dout
,

2040 
bp
->
id
, ()
cyşe
);

2041 
b»ak_acûss
 = 
ACCESS_EXEC
;

2042  
TRUE
;

2047 
	`·nic
("bogus„angeype");

2054 
b»ak_acûss
 = 0;

2055  
FALSE
;

2056 
	}
}

2060 
	$dl™e_b»ak
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2061 
»gs_t
 *
»gs
,

2062 
mem_t
 *
mem
)

2064 
md_addr_t
 
addr
;

2065 
¿nge_¿nge_t
 
¿nge
;

2067 ià(
Çrgs
 != 1)

2071 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

2075 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

2078 
¿nge
.
¡¬t
.
±y³
 = 
±_addr
;

2079 
¿nge
.
¡¬t
.
pos
 = 
addr
;

2080 
¿nge
.
’d
.
±y³
 = 
±_addr
;

2081 #ifdeà
TARGET_ALPHA


2084 
¿nge
.
’d
.
pos
 = 
addr
 + 9;

2086 
¿nge
.
’d
.
pos
 = 
addr
 + 1;

2090  
	`£t_b»ak
(
ACCESS_EXEC
, &
¿nge
);

2091 
	}
}

2095 
	$dl™e_db»ak
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2096 
»gs_t
 *
»gs
,

2097 
mem_t
 *
mem
)

2099 
acûss
 = 0;

2100 
md_addr_t
 
addr
 = 0;

2101 
¿nge_¿nge_t
 
¿nge
;

2103 ià(
Çrgs
 != 1 &&‚args != 2)

2106 ià(
Çrgs
 == 1)

2109 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

2113 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

2116 
acûss
 = 
ACCESS_READ
|
ACCESS_WRITE
;

2118 ià(
Çrgs
 == 2)

2121 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

2125 
addr
 = 
	`ev®_as_addr
(
¬gs
[0].
as_v®ue
);

2128 
acûss
 = 
¬gs
[1].
as_acûss
;

2132 
¿nge
.
¡¬t
.
±y³
 = 
±_addr
;

2133 
¿nge
.
¡¬t
.
pos
 = 
addr
;

2134 
¿nge
.
’d
.
±y³
 = 
±_addr
;

2135 
¿nge
.
’d
.
pos
 = 
addr
 + 1;

2138  
	`£t_b»ak
(
acûss
, &
¿nge
);

2139 
	}
}

2143 
	$dl™e_rb»ak
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2144 
»gs_t
 *
»gs
,

2145 
mem_t
 *
mem
)

2147 
acûss
;

2148 *
”r¡r
;

2149 
¿nge_¿nge_t
 
¿nge
;

2151 ià(
Çrgs
 != 1 &&‚args != 2)

2154 ià(
Çrgs
 == 2)

2157 
acûss
 = 
¬gs
[1].
as_acûss
;

2162 
acûss
 = 
ACCESS_READ
|
ACCESS_WRITE
|
ACCESS_EXEC
;

2166 
”r¡r
 = 
	`¿nge_·r£_¿nge
(
¬gs
[0].
as_¡r
, &
¿nge
);

2167 ià(
”r¡r
)

2168  
”r¡r
;

2171 ià(
¿nge
.
¡¬t
.
±y³
 !ğ¿nge.
’d
.ptype)

2173 ià(
¿nge
.
¡¬t
.
pos
 >„ªge.
’d
.pos)

2177  
	`£t_b»ak
(
acûss
, &
¿nge
);

2178 
	}
}

2182 
	$dl™e_b»aks
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2183 
»gs_t
 *
»gs
,

2184 
mem_t
 *
mem
)

2186 
dl™e_b»ak_t
 *
bp
;

2188 ià(!
dl™e_bps
)

2190 
	`årštf
(
¡dout
, "No‡ctive breakpoints.\n");

2193  
NULL
;

2196 
	`årštf
(
¡dout
, "Active breakpoints:\n");

2197 
bp
=
dl™e_bps
; b°!ğ
NULL
; bp=bp->
Ãxt
)

2199 
	`årštf
(
¡dout
, " b»akpošˆ#%d @ ", 
bp
->
id
);

2200 
	`¿nge_´št_¿nge
(&
bp
->
¿nge
, 
¡dout
);

2201 
	`årštf
(
¡dout
, ", cÏss: %s\n", 
	`bp_şass_¡r
(
bp
->
şass
));

2205  
NULL
;

2206 
	}
}

2210 
	$dl™e_d–‘e
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2211 
»gs_t
 *
»gs
,

2212 
mem_t
 *
mem
)

2214 
id
;

2216 ià(
Çrgs
 != 1)

2220 ià(!
	`EVAL_INTEGRAL
(
¬gs
[0].
as_v®ue
.
ty³
))

2223 
id
 = 
	`ev®_as_ušt
(
¬gs
[0].
as_v®ue
);

2224  
	`d–‘e_b»ak
(
id
);

2225 
	}
}

2229 
	$dl™e_ş—r
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2230 
»gs_t
 *
»gs
,

2231 
mem_t
 *
mem
)

2233 ià(!
dl™e_bps
)

2235 
	`årštf
(
¡dout
, "No‡ctive breakpoints.\n");

2238  
NULL
;

2241 
dl™e_bps
 !ğ
NULL
)

2244 
	`d–‘e_b»ak
(
dl™e_bps
->
id
);

2246 
	`årštf
(
¡dout
, "All breakpoints cleared.\n");

2249  
NULL
;

2250 
	}
}

2254 
	$dl™e_symbŞs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2255 
»gs_t
 *
»gs
,

2256 
mem_t
 *
mem
)

2258 
i
;

2260 #ifdeà
SMT_SS


2261 
th»adid
 = 
mem
->threadid;

2262 
cÚ‹xt
 *
cu¼’t
;

2263 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

2266 ià(
Çrgs
 != 0)

2270 #ifdeà
SMT_SS


2271 
	`sym_lßdsyms
(
cu¼’t
->
ld_´og_âame
, 
FALSE
,cu¼’t->
id
);

2273 
	`sym_lßdsyms
(
ld_´og_âame
, 
FALSE
);

2277 
i
=0; i<
sym_nsyms
; i++)

2278 
	`sym_dumpsym
(
sym_syms
[
i
], 
¡dout
);

2281  
NULL
;

2282 
	}
}

2286 
	$dl™e_tsymbŞs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2287 
»gs_t
 *
»gs
,

2288 
mem_t
 *
mem
)

2290 
i
;

2292 #ifdeà
SMT_SS


2293 
th»adid
 = 
mem
->threadid;

2294 
cÚ‹xt
 *
cu¼’t
;

2295 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

2298 ià(
Çrgs
 != 0)

2302 #ifdeà
SMT_SS


2303 
	`sym_lßdsyms
(
cu¼’t
->
ld_´og_âame
, 
FALSE
,cu¼’t->
id
);

2305 
	`sym_lßdsyms
(
ld_´og_âame
, 
FALSE
);

2309 
i
=0; i<
sym_Áextsyms
; i++)

2310 
	`sym_dumpsym
(
sym_‹xtsyms
[
i
], 
¡dout
);

2313  
NULL
;

2314 
	}
}

2318 
	$dl™e_dsymbŞs
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2319 
»gs_t
 *
»gs
,

2320 
mem_t
 *
mem
)

2322 
i
;

2324 #ifdeà
SMT_SS


2325 
th»adid
 = 
mem
->threadid;

2326 
cÚ‹xt
 *
cu¼’t
;

2327 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

2330 ià(
Çrgs
 != 0)

2334 #ifdeà
SMT_SS


2335 
	`sym_lßdsyms
(
cu¼’t
->
ld_´og_âame
, 
FALSE
,cu¼’t->
id
);

2337 
	`sym_lßdsyms
(
ld_´og_âame
, 
FALSE
);

2341 
i
=0; i<
sym_nd©asyms
; i++)

2342 
	`sym_dumpsym
(
sym_d©asyms
[
i
], 
¡dout
);

2345  
NULL
;

2346 
	}
}

2350 
	$dl™e_symbŞ
(
Çrgs
, 
¬g_v®_t
 
¬gs
[],

2351 
»gs_t
 *
»gs
,

2352 
mem_t
 *
mem
)

2354 
šdex
;

2355 
sym_sym_t
 *
sym
;

2357 #ifdeà
SMT_SS


2358 
th»adid
 = 
mem
->threadid;

2359 
cÚ‹xt
 *
cu¼’t
;

2360 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

2363 ià(
Çrgs
 != 1)

2367 #ifdeà
SMT_SS


2368 
	`sym_lßdsyms
(
cu¼’t
->
ld_´og_âame
, 
FALSE
,cu¼’t->
id
);

2370 
	`sym_lßdsyms
(
ld_´og_âame
, 
FALSE
);

2374 
sym
 = 
	`sym_bšd_Çme
(
¬gs
[0].
as_¡r
, &
šdex
, 
sdb_ªy
);

2375 ià(!
sym
)

2379 
	`sym_dumpsym
(
sym_syms_by_Çme
[
šdex
], 
¡dout
);

2382  
NULL
;

2383 
	}
}

2387 
	$dl™e_š™
(
dl™e_»g_obj_t
 
»g_obj
,

2388 
dl™e_mem_obj_t
 
mem_obj
,

2389 
dl™e_m¡©e_obj_t
 
m¡©e_obj
)

2392 
f_dl™e_»g_obj
 = 
»g_obj
;

2393 
f_dl™e_mem_obj
 = 
mem_obj
;

2394 
f_dl™e_m¡©e_obj
 = 
m¡©e_obj
;

2397 
dl™e_ev®u©Ü
 = 
	`ev®_Ãw
(
id’t_ev®u©Ü
, 
NULL
);

2398 
	}
}

2402 
	$dl™e_¡©us
(
md_addr_t
 
»gs_PC
,

2403 
md_addr_t
 
Ãxt_PC
,

2404 
couÁ”_t
 
cyşe
,

2405 
db»ak
,

2406 
»gs_t
 *
»gs
,

2407 
mem_t
 *
mem
)

2409 
md_š¡_t
 
š¡
;

2410 *
”r¡r
;

2412 ià(
db»ak
)

2414 
	`årštf
(
¡dout
, "\n");

2415 
	`årštf
(
¡dout
, "Instruction (now finished)hat caused data break:\n");

2416 
	`myårštf
(
¡dout
, "[%10n] 0x%08p: ", 
cyşe
, 
»gs_PC
);

2417 
”r¡r
 =

2418 
	`f_dl™e_mem_obj
(
mem
, 
FALSE
,

2419 
»gs_PC
, (*)&
š¡
, (inst));

2421 
š¡
 = 
	`MD_SWAPI
(inst);

2423 
	`MD_SWAPI
(
š¡
);

2425 ià(
”r¡r
)

2426 
	`årštf
(
¡dout
, "<šv®id memÜy>: %s", 
”r¡r
);

2428 
	`md_´št_š¢
(
š¡
, 
»gs_PC
, 
¡dout
);

2429 
	`årštf
(
¡dout
, "\n");

2430 
	`årštf
(
¡dout
, "\n");

2434 
	`myårštf
(
¡dout
, "[%10n] 0x%08p: ", 
cyşe
, 
Ãxt_PC
);

2435 
”r¡r
 =

2436 
	`f_dl™e_mem_obj
(
mem
, 
FALSE
,

2437 
Ãxt_PC
, (*)&
š¡
, (inst));

2439 
š¡
 = 
	`MD_SWAPI
(inst);

2441 
	`MD_SWAPI
(
š¡
);

2443 ià(
”r¡r
)

2444 
	`årštf
(
¡dout
, "<šv®id memÜy>: %s", 
”r¡r
);

2446 
	`md_´št_š¢
(
š¡
, 
Ãxt_PC
, 
¡dout
);

2447 
	`årštf
(
¡dout
, "\n");

2448 
	}
}

2451 
	#DLITE_PROMPT
 "DL™e! > "

	)

2455 
	$dl™e_maš
(
md_addr_t
 
»gs_PC
,

2456 
md_addr_t
 
Ãxt_PC
,

2457 
couÁ”_t
 
cyşe
,

2458 
»gs_t
 *
»gs
,

2459 
mem_t
 *
mem
)

2461 
buf
[512], *
”r_¡r
;

2462 
db»ak
 = (
b»ak_acûss
 & (
ACCESS_READ
|
ACCESS_WRITE
)) != 0;

2463 
cmd
[512] = "";

2465 
dl™e_aùive
 = 
TRUE
;

2466 
dl™e_»tuº
 = 
FALSE
;

2467 
	`dl™e_¡©us
(
»gs_PC
, 
Ãxt_PC
, 
cyşe
, 
db»ak
, 
»gs
, 
mem
);

2469 
dl™e_aùive
 && !
dl™e_»tuº
)

2471 
	`årštf
(
¡dout
, 
DLITE_PROMPT
);

2472 
	`fæush
(
¡dout
);

2473 
	`fg‘s
(
buf
, 512, 
¡dš
);

2476 ià(
buf
[
	`¡¾’
(buf)-1] == '\n')

2477 
buf
[
	`¡¾’
(buf)-1] = '\0';

2479 ià(
buf
[0] != '\0')

2482 
	`¡rıy
(
cmd
, 
buf
);

2486 
”r_¡r
 = 
	`dl™e_exec
(
cmd
, 
»gs
, 
mem
);

2487 ià(
”r_¡r
)

2488 
	`årštf
(
¡dout
, "Dl™e:ƒ¼Ü: %s\n", 
”r_¡r
);

2490 
	}
}

	@dlite.h

142 #iâdeà
DLITE_H


143 
	#DLITE_H


	)

145 
	~<¡dio.h
>

147 
	~"ho¡.h
"

148 
	~"misc.h
"

149 
	~"machše.h
"

150 
	~"»gs.h
"

151 
	~"memÜy.h
"

152 
	~"ev®.h
"

157 (*
	tdl™e_»g_obj_t
)(
	t»gs_t
 *
	t»gs
,

158 
	tis_wr™e
,

159 
	tmd_»g_ty³
 
	t¹
,

160 
	t»g
,

161 
	tev®_v®ue_t
 *
	tv®
);

166 (*
	tdl™e_mem_obj_t
)(
	tmem_t
 *
	tmem
,

167 
	tis_wr™e
,

168 
	tmd_addr_t
 
	taddr
,

169 *
	tp
,

170 
	tnby‹s
);

175 (*
	tdl™e_m¡©e_obj_t
)(
	tFILE
 *
	t¡»am
,

176 *
	tcmd
,

177 
	t»gs_t
 *
	t»gs
,

178 
	tmem_t
 *
	tmem
);

182 
dl™e_š™
(
dl™e_»g_obj_t
 
»g_obj
,

183 
dl™e_mem_obj_t
 
mem_obj
,

184 
dl™e_m¡©e_obj_t
 
m¡©e_obj
);

192 
dl™e_mem_obj
(
mem_t
 *
mem
,

193 
is_wr™e
,

194 
md_addr_t
 
addr
,

195 *
p
,

196 
nby‹s
);

200 
dl™e_m¡©e_obj
(
FILE
 *
¡»am
,

201 *
cmd
,

202 
»gs_t
 *
»gs
,

203 
mem_t
 *
mem
);

206 
	#ACCESS_READ
 0x01

	)

207 
	#ACCESS_WRITE
 0x02

	)

208 
	#ACCESS_EXEC
 0x04

	)

211 
md_addr_t
 
dl™e_ç¡b»ak
 ;

214 
dl™e_aùive
 ;

217 
dl™e_check
 ;

221 
__check_b»ak
(
md_addr_t
 
Ãxt_PC
,

222 
acûss
,

223 
md_addr_t
 
addr
,

224 
couÁ”_t
 
icouÁ
,

225 
couÁ”_t
 
cyşe
);

228 
	#dl™e_check_b»ak
(
NPC
, 
ACCESS
, 
ADDR
, 
ICNT
, 
CYCLE
è\

	)

229 ((
	gdl™e_check
 || 
	gdl™e_aùive
) \

230 ? 
__check_b»ak
((
NPC
), (
ACCESS
), (
ADDR
), (
ICNT
), (
CYCLE
)) \

231 : 
FALSE
)

235 
dl™e_maš
(
md_addr_t
 
»gs_PC
,

236 
md_addr_t
 
Ãxt_PC
,

237 
couÁ”_t
 
cyşe
,

238 
»gs_t
 *
»gs
,

239 
mem_t
 *
mem
);

	@eio.c

95 
	~<¡dio.h
>

96 
	~<¡dlib.h
>

97 #ifdeà
_MSC_VER


98 
	~<io.h
>

100 
	~<uni¡d.h
>

103 
	~"ho¡.h
"

104 
	~"misc.h
"

105 
	~"machše.h
"

106 
	~"»gs.h
"

107 
	~"memÜy.h
"

108 
	~"lßd”.h
"

109 
	~"libexo/libexo.h
"

110 
	~"sysÿÎ.h
"

111 
	~"sim.h
"

112 
	~"’dŸn.h
"

113 
	~"eio.h
"

115 
	~"smt.h
"

117 #ifdeà
SMT_SS


118 
	~"cÚ‹xt.h
"

121 #ifdeà
_MSC_VER


122 
	#wr™e
 
_wr™e


	)

125 
	#EIO_FILE_HEADER
 \

	)

143 
couÁ”_t
 
	geio_Œªs_iút
 = -1;

145 
FILE
 *

146 
	$eio_ü—‹
(*
âame
)

148 
FILE
 *
fd
;

149 
exo_‹rm_t
 *
exo
;

150 
rg‘_big_’dŸn
;

152 #ifdeà
SMT_SS


153 
th»adid
 = 0;

154 
cÚ‹xt
 *
cu¼’t
;

155 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

159 
rg‘_big_’dŸn
 = (
	`’dŸn_ho¡_by‹_Üd”
(è=ğ
’dŸn_big
);

161 
fd
 = 
	`gzİ’
(
âame
, "w");

162 ià(!
fd
)

163 
	`çl
("uÇbËØü—‹ EIO f`%s'", 
âame
);

166 
	`årštf
(
fd
, "%s\n", 
EIO_FILE_HEADER
);

167 #ifdeà
SMT_SS


168 
	`årštf
(
fd
, "/*th»ad %d, fe_fÜm©: %d, fe_v”siÚ: %d, big_’dŸn: %d */\n",
th»adid
,

169 
MD_EIO_FILE_FORMAT
, 
EIO_FILE_VERSION
, 
cu¼’t
->
ld_rg‘_big_’dŸn
);

171 
	`årštf
(
fd
, "/* file_format: %d, file_version: %d, big_endian: %d */\n",

172 
MD_EIO_FILE_FORMAT
, 
EIO_FILE_VERSION
, 
ld_rg‘_big_’dŸn
);

174 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

175 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
MD_EIO_FILE_FORMAT
),

176 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
EIO_FILE_VERSION
),

177 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
rg‘_big_’dŸn
),

178 
NULL
);

179 
	`exo_´št
(
exo
, 
fd
);

180 
	`exo_d–‘e
(
exo
);

181 
	`årštf
(
fd
, "\n\n");

183  
fd
;

184 
	}
}

186 
FILE
 *

187 
	$eio_İ’
(*
âame
)

189 
FILE
 *
fd
;

190 
exo_‹rm_t
 *
exo
;

191 
fe_fÜm©
, 
fe_v”siÚ
, 
big_’dŸn
, 
rg‘_big_’dŸn
;

193 
rg‘_big_’dŸn
 = (
	`’dŸn_ho¡_by‹_Üd”
(è=ğ
’dŸn_big
);

195 
fd
 = 
	`gzİ’
(
âame
, "r");

196 ià(!
fd
)

197 
	`çl
("uÇbËØİ’ EIO f`%s'", 
âame
);

200 
exo
 = 
	`exo_»ad
(
fd
);

201 ià(!
exo


202 || 
exo
->
ec
 !ğ
ec_li¡


203 || !
exo
->
as_li¡
.
h—d


204 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_š‹g”


205 || !
exo
->
as_li¡
.
h—d
->
Ãxt


206 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


207 || !
exo
->
as_li¡
.
h—d
->
Ãxt
->next

208 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
ec
 !ğ
ec_š‹g”


209 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxˆ!ğ
NULL
)

210 
	`çl
("could‚ot„ead EIO file header");

212 
fe_fÜm©
 = 
exo
->
as_li¡
.
h—d
->
as_š‹g”
.
v®
;

213 
fe_v”siÚ
 = 
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

214 
big_’dŸn
 = 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
as_š‹g”
.
v®
;

215 
	`exo_d–‘e
(
exo
);

217 ià(
fe_fÜm©
 !ğ
MD_EIO_FILE_FORMAT
)

218 
	`çl
("EIO f`%s' ha šcom·tibË fÜm©", 
âame
);

220 ià(
fe_v”siÚ
 !ğ
EIO_FILE_VERSION
)

221 
	`çl
("EIO f`%s' ha šcom·tibË v”siÚ", 
âame
);

223 ià(!!
big_’dŸn
 !ğ!!
rg‘_big_’dŸn
)

225 
	`w¬n
("’dŸÀoà`%s' dÛ nÙ m©ch ho¡", 
âame
);

226 
	`w¬n
("running withƒxperimental cross-endianƒxecution support");

227 
	`w¬n
("****************************************");

228 
	`w¬n
("**>>…lease check„esults carefully <<**");

229 
	`w¬n
("****************************************");

232  
fd
;

233 
	}
}

237 
	$eio_v®id
(*
âame
)

239 
FILE
 *
fd
;

240 
buf
[512];

243 
fd
 = 
	`gzİ’
(
âame
, "r");

244 ià(!
fd
)

245  
FALSE
;

248 
	`fg‘s
(
buf
, 512, 
fd
);

251 ià(
	`¡rcmp
(
buf
, 
EIO_FILE_HEADER
))

252  
FALSE
;

255 
	`gzşo£
(
fd
);

258  
TRUE
;

259 
	}
}

262 
	$eio_şo£
(
FILE
 *
fd
)

264 
	`gzşo£
(
fd
);

265 
	}
}

269 
couÁ”_t


270 
	$eio_wr™e_chk±
(
»gs_t
 *
»gs
,

271 
mem_t
 *
mem
,

272 
FILE
 *
fd
)

274 
i
;

275 
exo_‹rm_t
 *
exo
;

276 
mem_±e_t
 *
±e
;

278 #ifdeà
SMT_SS


279 
th»adid
 = 
mem
->threadid;

280 
cÚ‹xt
 *
cu¼’t
;

281 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

284 
	`myårštf
(
fd
, "/* ** s¹ checkpošˆ@ %n... */\n\n", 
eio_Œªs_iút
);

286 
	`myårštf
(
fd
, "/* EIO fpoš‹r: %n... */\n", 
eio_Œªs_iút
);

287 
exo
 = 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
eio_Œªs_iút
);

288 
	`exo_´št
(
exo
, 
fd
);

289 
	`årštf
(
fd
, "\n\n");

290 
	`exo_d–‘e
(
exo
);

293 
	`årštf
(
fd
, "/* misc„egs icnt, PC, NPC,ƒtc... */\n");

294 
exo
 = 
	`MD_MISC_REGS_TO_EXO
(
»gs
);

295 
	`exo_´št
(
exo
, 
fd
);

296 
	`årštf
(
fd
, "\n\n");

297 
	`exo_d–‘e
(
exo
);

300 
	`årštf
(
fd
, "/* integer„egs */\n");

301 
exo
 = 
	`exo_Ãw
(
ec_li¡
, 
NULL
);

302 
i
=0; i < 
MD_NUM_IREGS
; i++)

303 
exo
->
as_li¡
.
h—d
 = 
	`exo_chaš
Óxo->as_li¡.h—d, 
	`MD_IREG_TO_EXO
(
»gs
, 
i
));

304 
	`exo_´št
(
exo
, 
fd
);

305 
	`årštf
(
fd
, "\n\n");

306 
	`exo_d–‘e
(
exo
);

309 
	`årštf
(
fd
, "/* FP„egs (integer format) */\n");

310 
exo
 = 
	`exo_Ãw
(
ec_li¡
, 
NULL
);

311 
i
=0; i < 
MD_NUM_FREGS
; i++)

312 
exo
->
as_li¡
.
h—d
 = 
	`exo_chaš
Óxo->as_li¡.h—d, 
	`MD_FREG_TO_EXO
(
»gs
, 
i
));

313 
	`exo_´št
(
exo
, 
fd
);

314 
	`årštf
(
fd
, "\n\n");

315 
	`exo_d–‘e
(
exo
);

317 
	`årštf
(
fd
, "/* wr™šg `%d' memÜy…ages... */\n", ()
mem
->
·ge_couÁ
);

318 #ifdeà
SMT_SS


319 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

320 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
mem
->
·ge_couÁ
),

321 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
cu¼’t
->
ld_brk_pošt
),

322 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
cu¼’t
->
ld_¡ack_mš
),

323 
NULL
);

324 
	`exo_´št
(
exo
, 
fd
);

325 
	`årštf
(
fd
, "\n\n");

326 
	`exo_d–‘e
(
exo
);

328 
	`årštf
(
fd
, "/*ext segment specifiers (base & size) */\n");

329 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

330 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
cu¼’t
->
ld_‹xt_ba£
),

331 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
cu¼’t
->
ld_‹xt_size
),

332 
NULL
);

333 
	`exo_´št
(
exo
, 
fd
);

334 
	`årštf
(
fd
, "\n\n");

335 
	`exo_d–‘e
(
exo
);

337 
	`årštf
(
fd
, "/* data segment specifiers (base & size) */\n");

338 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

339 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
cu¼’t
->
ld_d©a_ba£
),

340 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
cu¼’t
->
ld_d©a_size
),

341 
NULL
);

342 
	`exo_´št
(
exo
, 
fd
);

343 
	`årštf
(
fd
, "\n\n");

344 
	`exo_d–‘e
(
exo
);

346 
	`årštf
(
fd
, "/* stack segment specifiers (base & size) */\n");

347 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

348 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
cu¼’t
->
ld_¡ack_ba£
),

349 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
cu¼’t
->
ld_¡ack_size
),

350 
NULL
);

352 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

353 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
mem
->
·ge_couÁ
),

354 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
ld_brk_pošt
),

355 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
ld_¡ack_mš
),

356 
NULL
);

357 
	`exo_´št
(
exo
, 
fd
);

358 
	`årštf
(
fd
, "\n\n");

359 
	`exo_d–‘e
(
exo
);

361 
	`årštf
(
fd
, "/*ext segment specifiers (base & size) */\n");

362 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

363 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
ld_‹xt_ba£
),

364 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
ld_‹xt_size
),

365 
NULL
);

366 
	`exo_´št
(
exo
, 
fd
);

367 
	`årštf
(
fd
, "\n\n");

368 
	`exo_d–‘e
(
exo
);

370 
	`årštf
(
fd
, "/* data segment specifiers (base & size) */\n");

371 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

372 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
ld_d©a_ba£
),

373 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
ld_d©a_size
),

374 
NULL
);

375 
	`exo_´št
(
exo
, 
fd
);

376 
	`årštf
(
fd
, "\n\n");

377 
	`exo_d–‘e
(
exo
);

379 
	`årštf
(
fd
, "/* stack segment specifiers (base & size) */\n");

380 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

381 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
ld_¡ack_ba£
),

382 
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
ld_¡ack_size
),

383 
NULL
);

385 
	`exo_´št
(
exo
, 
fd
);

386 
	`årštf
(
fd
, "\n\n");

387 
	`exo_d–‘e
(
exo
);

390 
	`MEM_FORALL
(
mem
, 
i
, 
±e
)

393 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

394 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
	`MEM_PTE_ADDR
(
±e
, 
i
)),

395 
	`exo_Ãw
(
ec_blob
, 
MD_PAGE_SIZE
, 
±e
->
·ge
),

396 
NULL
);

397 
	`exo_´št
(
exo
, 
fd
);

398 
	`årštf
(
fd
, "\n\n");

399 
	`exo_d–‘e
(
exo
);

402 
	`myårštf
(
fd
, "/* **ƒnd checkpošˆ@ %n... */\n\n", 
eio_Œªs_iút
);

404  
eio_Œªs_iút
;

405 
	}
}

409 
couÁ”_t


410 
	$eio_»ad_chk±
(
»gs_t
 *
»gs
,

411 
mem_t
 *
mem
,

412 
FILE
 *
fd
)

414 
i
, 
·ge_couÁ
;

415 
couÁ”_t
 
Œªs_iút
;

416 
exo_‹rm_t
 *
exo
, *
–t
;

418 #ifdeà
SMT_SS


419 
th»adid
 = 
mem
->threadid;

420 
cÚ‹xt
 *
cu¼’t
;

421 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

425 
exo
 = 
	`exo_»ad
(
fd
);

426 ià(!
exo


427 || 
exo
->
ec
 !ğ
ec_š‹g”
)

428 
	`çl
("could‚ot„ead EIO file…ointer");

429 
Œªs_iút
 = 
exo
->
as_š‹g”
.
v®
;

430 
	`exo_d–‘e
(
exo
);

433 
exo
 = 
	`exo_»ad
(
fd
);

434 
	`MD_EXO_TO_MISC_REGS
(
exo
, 
sim_num_š¢
, 
»gs
);

435 
	`exo_d–‘e
(
exo
);

438 
exo
 = 
	`exo_»ad
(
fd
);

439 ià(!
exo


440 || 
exo
->
ec
 !ğ
ec_li¡
)

441 
	`çl
("could‚ot„ead EIO integer„egs");

442 
–t
 = 
exo
->
as_li¡
.
h—d
;

443 
i
=0; i < 
MD_NUM_IREGS
; i++)

445 ià(!
–t
)

446 
	`çl
("could‚ot„ead EIO integer„egs (too few)");

448 ià(
–t
->
ec
 !ğ
ec_add»ss
)

449 
	`çl
("could‚ot„ead EIO integer„egs (bad value)");

451 
	`MD_EXO_TO_IREG
(
–t
, 
»gs
, 
i
);

452 
–t
 =ƒÉ->
Ãxt
;

454 ià(
–t
 !ğ
NULL
)

455 
	`çl
("could‚ot„ead EIO integer„egs (too many)");

456 
	`exo_d–‘e
(
exo
);

459 
exo
 = 
	`exo_»ad
(
fd
);

460 ià(!
exo


461 || 
exo
->
ec
 !ğ
ec_li¡
)

462 
	`çl
("could‚ot„ead EIO FP„egs");

463 
–t
 = 
exo
->
as_li¡
.
h—d
;

464 
i
=0; i < 
MD_NUM_FREGS
; i++)

466 ià(!
–t
)

467 
	`çl
("could‚ot„ead EIO FP„egs (too few)");

469 ià(
–t
->
ec
 !ğ
ec_add»ss
)

470 
	`çl
("could‚ot„ead EIO FP„egs (bad value)");

472 
	`MD_EXO_TO_FREG
(
–t
, 
»gs
, 
i
);

473 
–t
 =ƒÉ->
Ãxt
;

475 ià(
–t
 !ğ
NULL
)

476 
	`çl
("could‚ot„ead EIO FP„egs (too many)");

477 
	`exo_d–‘e
(
exo
);

479 #ifdeà
SMT_SS


481 
exo
 = 
	`exo_»ad
(
fd
);

482 ià(!
exo


483 || 
exo
->
ec
 !ğ
ec_li¡


484 || !
exo
->
as_li¡
.
h—d


485 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_š‹g”


486 || !
exo
->
as_li¡
.
h—d
->
Ãxt


487 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_add»ss


488 || !
exo
->
as_li¡
.
h—d
->
Ãxt
->next

489 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
ec
 !ğ
ec_add»ss


490 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxˆ!ğ
NULL
)

491 
	`çl
("could‚ot„ead EIO memory…age count");

492 
·ge_couÁ
 = 
exo
->
as_li¡
.
h—d
->
as_š‹g”
.
v®
;

493 
cu¼’t
->
ld_brk_pošt
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_add»ss
.
v®
;

494 
cu¼’t
->
ld_¡ack_mš
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
as_add»ss
.
v®
;

495 
	`exo_d–‘e
(
exo
);

498 
exo
 = 
	`exo_»ad
(
fd
);

499 ià(!
exo


500 || 
exo
->
ec
 !ğ
ec_li¡


501 || !
exo
->
as_li¡
.
h—d


502 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


503 || !
exo
->
as_li¡
.
h—d
->
Ãxt


504 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


505 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

506 
	`çl
("count‚ot„ead EIOext segment specifiers");

507 
cu¼’t
->
ld_‹xt_ba£
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

508 
cu¼’t
->
ld_‹xt_size
 = ()
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

509 
	`exo_d–‘e
(
exo
);

512 
exo
 = 
	`exo_»ad
(
fd
);

513 ià(!
exo


514 || 
exo
->
ec
 !ğ
ec_li¡


515 || !
exo
->
as_li¡
.
h—d


516 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


517 || !
exo
->
as_li¡
.
h—d
->
Ãxt


518 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


519 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

520 
	`çl
("count‚ot„ead EIO data segment specifiers");

521 
cu¼’t
->
ld_d©a_ba£
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

522 
cu¼’t
->
ld_d©a_size
 = ()
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

523 
	`exo_d–‘e
(
exo
);

526 
exo
 = 
	`exo_»ad
(
fd
);

527 ià(!
exo


528 || 
exo
->
ec
 !ğ
ec_li¡


529 || !
exo
->
as_li¡
.
h—d


530 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


531 || !
exo
->
as_li¡
.
h—d
->
Ãxt


532 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


533 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

534 
	`çl
("count‚ot„ead EIO stack segment specifiers");

535 
cu¼’t
->
ld_¡ack_ba£
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

536 
cu¼’t
->
ld_¡ack_size
 = ()
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

537 
	`exo_d–‘e
(
exo
);

540 
exo
 = 
	`exo_»ad
(
fd
);

541 ià(!
exo


542 || 
exo
->
ec
 !ğ
ec_li¡


543 || !
exo
->
as_li¡
.
h—d


544 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_š‹g”


545 || !
exo
->
as_li¡
.
h—d
->
Ãxt


546 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_add»ss


547 || !
exo
->
as_li¡
.
h—d
->
Ãxt
->next

548 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
ec
 !ğ
ec_add»ss


549 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxˆ!ğ
NULL
)

550 
	`çl
("could‚ot„ead EIO memory…age count");

551 
·ge_couÁ
 = 
exo
->
as_li¡
.
h—d
->
as_š‹g”
.
v®
;

552 
ld_brk_pošt
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_add»ss
.
v®
;

553 
ld_¡ack_mš
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
as_add»ss
.
v®
;

554 
	`exo_d–‘e
(
exo
);

557 
exo
 = 
	`exo_»ad
(
fd
);

558 ià(!
exo


559 || 
exo
->
ec
 !ğ
ec_li¡


560 || !
exo
->
as_li¡
.
h—d


561 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


562 || !
exo
->
as_li¡
.
h—d
->
Ãxt


563 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


564 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

565 
	`çl
("count‚ot„ead EIOext segment specifiers");

566 
ld_‹xt_ba£
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

567 
ld_‹xt_size
 = ()
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

568 
	`exo_d–‘e
(
exo
);

571 
exo
 = 
	`exo_»ad
(
fd
);

572 ià(!
exo


573 || 
exo
->
ec
 !ğ
ec_li¡


574 || !
exo
->
as_li¡
.
h—d


575 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


576 || !
exo
->
as_li¡
.
h—d
->
Ãxt


577 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


578 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

579 
	`çl
("count‚ot„ead EIO data segment specifiers");

580 
ld_d©a_ba£
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

581 
ld_d©a_size
 = ()
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

582 
	`exo_d–‘e
(
exo
);

585 
exo
 = 
	`exo_»ad
(
fd
);

586 ià(!
exo


587 || 
exo
->
ec
 !ğ
ec_li¡


588 || !
exo
->
as_li¡
.
h—d


589 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


590 || !
exo
->
as_li¡
.
h—d
->
Ãxt


591 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_š‹g”


592 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

593 
	`çl
("count‚ot„ead EIO stack segment specifiers");

594 
ld_¡ack_ba£
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

595 
ld_¡ack_size
 = ()
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
;

596 
	`exo_d–‘e
(
exo
);

599 
i
=0; i < 
·ge_couÁ
; i++)

601 
j
;

602 
md_addr_t
 
·ge_addr
;

603 
exo_‹rm_t
 *
blob
;

606 
exo
 = 
	`exo_»ad
(
fd
);

607 ià(!
exo


608 || 
exo
->
ec
 !ğ
ec_li¡


609 || !
exo
->
as_li¡
.
h—d


610 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_add»ss


611 || !
exo
->
as_li¡
.
h—d
->
Ãxt


612 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_blob


613 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxˆ!ğ
NULL
)

614 
	`çl
("could‚ot„ead EIO memory…age");

615 
·ge_addr
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
as_add»ss
.
v®
;

616 
blob
 = 
exo
->
as_li¡
.
h—d
->
Ãxt
;

619 
j
=0; j < 
blob
->
as_blob
.
size
; j++)

621 
by‹_t
 
v®
;

623 
v®
 = 
blob
->
as_blob
.
d©a
[
j
];

625 
	`MEM_WRITE_BYTE
(
mem
, 
·ge_addr
, 
v®
);

626 
·ge_addr
++;

628 
	`exo_d–‘e
(
exo
);

631  
Œªs_iút
;

632 
	}
}

634 
	smem_»c_t
 {

635 
md_addr_t
 
	maddr
;

636 
	msize
, 
	mmaxsize
;

637 
exo_‹rm_t
 *
	mexo
;

638 
exo_‹rm_t
 *
	mblob
;

642 
exo_‹rm_t
 *
	gšput_»gs
;

643 
exo_‹rm_t
 *
	gouut_»gs
;

646 
exo_‹rm_t
 *
	gšput_mem
;

647 
mem_»c_t
 
	gšput_mem_»c
;

650 
exo_‹rm_t
 *
	gouut_mem
;

651 
mem_»c_t
 
	gouut_mem_»c
;

653 
	g£’_wr™e
;

654 
mem_acûss_â
 
	gloÿl_mem_â
;

657 
	#BLOB_TAIL_SIZE
 256

	)

660 
md_çuÉ_ty³


661 
	$my_mem_â
(
mem_t
 *
mem
,

662 
mem_cmd
 
cmd
,

663 
md_addr_t
 
addr
,

664 *
vp
,

665 
nby‹s
)

667 
i
;

668 *
p
 = 
vp
;

669 
mem_»c_t
 *
mem_»c
 = 
NULL
;

670 
exo_‹rm_t
 *
mem_li¡
 = 
NULL
;

671 
md_çuÉ_ty³
 
çuÉ
 = 
md_çuÉ_nÚe
;

673 ià(
cmd
 =ğ
R—d
 && 
£’_wr™e
)

674 
	`çl
("Read‡fter Write inƒio_syscall()");

676 ià(
cmd
 =ğ
Wr™e
)

677 
£’_wr™e
 = 
TRUE
;

680 ià(
cmd
 =ğ
R—d
)

682 
mem_»c
 = &
šput_mem_»c
;

683 
mem_li¡
 = 
šput_mem
;

685 ià(
cmd
 =ğ
Wr™e
)

687 
mem_»c
 = &
ouut_mem_»c
;

688 
mem_li¡
 = 
ouut_mem
;

691 
	`·nic
("bogus memory‡ccess command");

694 ià(
cmd
 =ğ
R—d
 )

695 
çuÉ
 = (*
loÿl_mem_â
)(
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, mem->
th»adid
);

700 ià(
mem_»c
->
exo
 !ğ
NULL


701 && (
mem_»c
->
addr
 + mem_»c->
size
 ==‡ddr)

702 && (
mem_»c
->
size
 + 
nby‹s
 < mem_»c->
maxsize
))

705 
i
=0; i < 
nby‹s
; i++)

706 
mem_»c
->
blob
->
as_blob
.
d©a
[mem_»c->
size
 + 
i
] = 
p
[i];

707 
mem_»c
->
size
 +ğ
nby‹s
;

708 
mem_»c
->
blob
->
as_blob
.
size
 = mem_rec->size;

713 
mem_li¡
->
as_li¡
.
h—d
 =

714 
	`exo_chaš
(
mem_li¡
->
as_li¡
.
h—d
,

715 (
mem_»c
->
exo
 =

716 
	`exo_Ãw
(
ec_li¡
,

717 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
addr
),

718 (
mem_»c
->
blob
 =

719 
	`exo_Ãw
(
ec_blob
, 
nby‹s
 + 
BLOB_TAIL_SIZE
, 
NULL
)),

720 
NULL
)));

721 
i
=0; i < 
nby‹s
; i++)

722 
mem_»c
->
blob
->
as_blob
.
d©a
[
i
] = 
p
[i];

723 
mem_»c
->
addr
 =‡ddr;

724 
mem_»c
->
size
 = 
nby‹s
;

725 
mem_»c
->
maxsize
 = 
nby‹s
 + 
BLOB_TAIL_SIZE
;

726 
mem_»c
->
blob
->
as_blob
.
size
 = mem_rec->size;

730 ià(
cmd
 =ğ
Wr™e
 )

731 
çuÉ
 = (*
loÿl_mem_â
)(
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, mem->
th»adid
);

733  
çuÉ
;

734 
	}
}

740 
	$eio_wr™e_Œaû
(
FILE
 *
eio_fd
,

741 
couÁ”_t
 
iút
,

742 
»gs_t
 *
»gs
,

743 
mem_acûss_â
 
mem_â
,

744 
mem_t
 *
mem
,

745 
md_š¡_t
 
š¡
)

747 
i
;

748 
exo_‹rm_t
 *
exo
;

750 #ifdeà
SMT_SS


751 
th»adid
 = 
mem
->threadid;

752 
cÚ‹xt
 *
cu¼’t
;

753 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

757 
šput_»gs
 = 
	`exo_Ãw
(
ec_li¡
, 
NULL
);

758 
i
=
MD_FIRST_IN_REG
; i <ğ
MD_LAST_IN_REG
; i++)

760 
šput_»gs
->
as_li¡
.
h—d
 =

761 
	`exo_chaš
(
šput_»gs
->
as_li¡
.
h—d
, 
	`MD_IREG_TO_EXO
(
»gs
, 
i
));

765 
šput_mem
 = 
	`exo_Ãw
(
ec_li¡
, 
NULL
); 
šput_mem_»c
.
exo
 = NULL;

766 
ouut_mem
 = 
	`exo_Ãw
(
ec_li¡
, 
NULL
); 
ouut_mem_»c
.
exo
 = NULL;

769 
£’_wr™e
 = 
FALSE
;

770 
loÿl_mem_â
 = 
mem_â
;

772 #ifdeà
SMT_SS


773 ià(
cu¼’t
->
sim_eio_fd
 !ğ
NULL
)

774 
	`eio_»ad_Œaû
(
cu¼’t
->
sim_eio_fd
, 
iút
, 
»gs
, 
my_mem_â
, 
mem
, 
š¡
);

776 ià(
sim_eio_fd
 !ğ
NULL
)

777 
	`eio_»ad_Œaû
(
sim_eio_fd
, 
iút
, 
»gs
, 
my_mem_â
, 
mem
, 
š¡
);

781 
	`sys_sysÿÎ
(
»gs
, 
my_mem_â
, 
mem
, 
š¡
, 
FALSE
);

785 
ouut_»gs
 = 
	`exo_Ãw
(
ec_li¡
, 
NULL
);

786 #ifdeà
SMT_SS


787 
ouut_»gs
->
as_li¡
.
h—d
 =

788 
	`exo_chaš
(
ouut_»gs
->
as_li¡
.
h—d
,

789 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
cu¼’t
->
ld_brk_pošt
));

791 
ouut_»gs
->
as_li¡
.
h—d
 =

792 
	`exo_chaš
(
ouut_»gs
->
as_li¡
.
h—d
,

793 
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
ld_brk_pošt
));

795 
i
=
MD_FIRST_OUT_REG
; i <ğ
MD_LAST_OUT_REG
; i++)

797 
ouut_»gs
->
as_li¡
.
h—d
 =

798 
	`exo_chaš
(
ouut_»gs
->
as_li¡
.
h—d
, 
	`MD_IREG_TO_EXO
(
»gs
, 
i
));

802 
exo
 = 
	`exo_Ãw
(
ec_li¡
,

803  
	`exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
iút
),

804  
	`exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)
»gs
->
»gs_PC
),

805 
šput_»gs
, 
šput_mem
,

806 
ouut_»gs
, 
ouut_mem
,

807 
NULL
);

808 
	`exo_´št
(
exo
, 
eio_fd
);

809 
	`årštf
(
eio_fd
, "\n\n");

812 
	`exo_d–‘e
(
exo
);

815 
eio_Œªs_iút
 = 
iút
;

816 
	}
}

822 
	$eio_»ad_Œaû
(
FILE
 *
eio_fd
,

823 
couÁ”_t
 
iút
,

824 
»gs_t
 *
»gs
,

825 
mem_acûss_â
 
mem_â
,

826 
mem_t
 *
mem
,

827 
md_š¡_t
 
š¡
)

829 
i
;

830 
exo_‹rm_t
 *
exo
, *
exo_iút
, *
exo_pc
;

831 
exo_‹rm_t
 *
exo_š»gs
, *
exo_šmem
, *
exo_ouŒegs
, *
exo_outmem
;

832 
exo_‹rm_t
 *
brk»c
, *
»g»c
, *
mem»c
;

834 #ifdeà
SMT_SS


835 
th»adid
 = 
mem
->threadid;

836 
cÚ‹xt
 *
cu¼’t
;

837 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

841 ià(
	`MD_EXIT_SYSCALL
(
»gs
))

843 
´og¿m_com¶‘e
 = 1;

844 
	`fæush
(
¡dout
);

845 
	`´štf
("exiting\n");

847 
	`sys_sysÿÎ
(
»gs
, 
mem_â
, 
mem
, 
š¡
, 
FALSE
);

848 
	`·nic
("returned fromƒxit() system call");

852 
exo
 = 
	`exo_»ad
(
eio_fd
);

855 
eio_Œªs_iút
 = 
iút
;

858 ià(!
exo


859 || 
exo
->
ec
 !ğ
ec_li¡


860 || !(
exo_iút
 = 
exo
->
as_li¡
.
h—d
)

861 || 
exo_iút
->
ec
 !ğ
ec_š‹g”


862 || !(
exo_pc
 = 
exo_iút
->
Ãxt
)

863 || 
exo_pc
->
ec
 !ğ
ec_add»ss


864 || !(
exo_š»gs
 = 
exo_pc
->
Ãxt
)

865 || 
exo_š»gs
->
ec
 !ğ
ec_li¡


866 || !(
exo_šmem
 = 
exo_š»gs
->
Ãxt
)

867 || 
exo_šmem
->
ec
 !ğ
ec_li¡


868 || !(
exo_ouŒegs
 = 
exo_šmem
->
Ãxt
)

869 || 
exo_ouŒegs
->
ec
 !ğ
ec_li¡


870 || !(
exo_outmem
 = 
exo_ouŒegs
->
Ãxt
)

871 || 
exo_outmem
->
ec
 !ğ
ec_li¡


872 || 
exo_outmem
->
Ãxt
 !ğ
NULL
)

873 
	`çl
("cannot„ead EIOransaction");

880 ià(
iút
 !ğ(
couÁ”_t
)
exo_iút
->
as_š‹g”
.
v®
)

881 
	`çl
("EIOrace inconsistency: ICNT mismatch");

884 ià(
»gs
->
»gs_PC
 !ğ(
md_addr_t
)
exo_pc
->
as_š‹g”
.
v®
)

885 
	`çl
("EIOrace inconsistency: PC mismatch");

888 
i
=
MD_FIRST_IN_REG
, 
»g»c
=
exo_š»gs
->
as_li¡
.
h—d
;

889 
i
 <ğ
MD_LAST_IN_REG
; i++, 
»g»c
ôeg»c->
Ãxt
)

891 ià(!
»g»c
 ||„eg»c->
ec
 !ğ
ec_add»ss
)

892 
	`çl
("EIOrace inconsistency: missing input„eg");

894 ià(
	`MD_EXO_CMP_IREG
(
»g»c
, 
»gs
, 
i
))

895 
	`çl
("EIO¿û incÚsi¡’cy: R[%d] iÅuˆmism©ch", 
i
);

896 #ifdeà
VERBOSE


897 
	`årštf
(
¡d”r
, "** R[%d] check out...\n", 
i
);

900 ià(
»g»c
 !ğ
NULL
)

901 
	`çl
("EIOrace inconsistency:oo many input„egs");

904 
mem»c
=
exo_šmem
->
as_li¡
.
h—d
; mem»ø!ğ
NULL
; mem»c=mem»c->
Ãxt
)

906 
md_addr_t
 
loc
;

907 
exo_‹rm_t
 *
addr
, *
blob
;

910 ià(!
mem»c


911 || 
mem»c
->
ec
 !ğ
ec_li¡


912 || !(
addr
 = 
mem»c
->
as_li¡
.
h—d
)

913 || 
addr
->
ec
 !ğ
ec_add»ss


914 || !(
blob
 = 
addr
->
Ãxt
)

915 || 
blob
->
ec
 !ğ
ec_blob


916 || 
blob
->
Ãxt
 !ğ
NULL
)

917 
	`çl
("EIOrace inconsistency: bad memoryransaction");

919 
loc
=
addr
->
as_š‹g”
.
v®
, 
i
=0; i < 
blob
->
as_blob
.
size
;†oc++,i++)

921 
v®
;

924 (*
mem_â
)(
mem
, 
R—d
, 
loc
, &
v®
, (), mem->
th»adid
);

926 ià(
v®
 !ğ
blob
->
as_blob
.
d©a
[
i
])

927 
	`çl
("EIO¿û incÚsi¡’cy:‡dd¸0x%08°špuˆmism©ch", 
loc
);

929 #ifdeà
VERBOSE


930 
	`myårštf
(
¡d”r
, "** 0x%08°check out...\n", 
loc
);

935 ià(
	`MD_OUTPUT_SYSCALL
(
»gs
))

937 #ifdeà
SMT_SS


938 ià(
cu¼’t
->
sim_´ogfd
)

941 
	`fwr™e
(
blob
->
as_blob
.
d©a
, 1, blob->as_blob.
size
, 
cu¼’t
->
sim_´ogfd
);

944 ià(
sim_´ogfd
)

947 
	`fwr™e
(
blob
->
as_blob
.
d©a
, 1, blob->as_blob.
size
, 
sim_´ogfd
);

953 
	`wr™e
(
	`MD_STREAM_FILENO
(
»gs
),

954 
blob
->
as_blob
.
d©a
, blob->as_blob.
size
);

964 
brk»c
 = 
exo_ouŒegs
->
as_li¡
.
h—d
;

965 ià(!
brk»c
 || brk»c->
ec
 !ğ
ec_add»ss
)

966 
	`çl
("EIOrace inconsistency: missing memory breakpoint");

967 #ifdeà
SMT_SS


968 
cu¼’t
->
ld_brk_pošt
 = (
md_addr_t
)
brk»c
->
as_š‹g”
.
v®
;

970 
ld_brk_pošt
 = (
md_addr_t
)
brk»c
->
as_š‹g”
.
v®
;

974 
i
=
MD_FIRST_OUT_REG
, 
»g»c
=
exo_ouŒegs
->
as_li¡
.
h—d
->
Ãxt
;

975 
i
 <ğ
MD_LAST_OUT_REG
; i++, 
»g»c
ôeg»c->
Ãxt
)

977 ià(!
»g»c
 ||„eg»c->
ec
 !ğ
ec_add»ss
)

978 
	`çl
("EIOrace inconsistency: missing output„eg");

980 
	`MD_EXO_TO_IREG
(
»g»c
, 
»gs
, 
i
);

982 #ifdeà
VERBOSE


983 
	`årštf
(
¡d”r
, "** R[%d] wr™‹n...\n", 
i
);

986 ià(
»g»c
 !ğ
NULL
)

987 
	`çl
("EIOrace inconsistency:oo many output„egs");

990 
mem»c
=
exo_outmem
->
as_li¡
.
h—d
; mem»ø!ğ
NULL
; mem»c=mem»c->
Ãxt
)

992 
md_addr_t
 
loc
;

993 
exo_‹rm_t
 *
addr
, *
blob
;

996 ià(!
mem»c


997 || 
mem»c
->
ec
 !ğ
ec_li¡


998 || !(
addr
 = 
mem»c
->
as_li¡
.
h—d
)

999 || 
addr
->
ec
 !ğ
ec_add»ss


1000 || !(
blob
 = 
addr
->
Ãxt
)

1001 || 
blob
->
ec
 !ğ
ec_blob


1002 || 
blob
->
Ãxt
 !ğ
NULL
)

1003 
	`çl
("EIOrace icnonsistency: bad memoryransaction");

1005 
loc
=
addr
->
as_š‹g”
.
v®
, 
i
=0; i < 
blob
->
as_blob
.
size
;†oc++,i++)

1008 (*
mem_â
)(
mem
, 
Wr™e
, 
loc
, &
blob
->
as_blob
.
d©a
[
i
], (), mem->
th»adid
);

1010 #ifdeà
VERBOSE


1011 
	`årštf
(
¡d”r
, "** 0x%08°wr™‹n...\n", 
loc
);

1017 
	`exo_d–‘e
(
exo
);

1018 
	}
}

1022 
	$eio_ç¡_fÜw¬d
(
FILE
 *
eio_fd
, 
couÁ”_t
 
iút
)

1024 
exo_‹rm_t
 *
exo
, *
exo_iút
;

1029 
exo
 = 
	`exo_»ad
(
eio_fd
);

1031 ià(!
exo
)

1032 
	`çl
("could‚ot fast forwardo EIO checkpoint");

1035 
eio_Œªs_iút
 = 
iút
;

1038 ià(!
exo


1039 || 
exo
->
ec
 !ğ
ec_li¡


1040 || !(
exo_iút
 = 
exo
->
as_li¡
.
h—d
)

1041 || 
exo_iút
->
ec
 !ğ
ec_š‹g”
)

1042 
	`çl
("cannot„ead EIOransaction (during fast forward)");

1044 (
couÁ”_t
)
exo_iút
->
as_š‹g”
.
v®
 !ğ
iút
);

1047 
	}
}

	@eio.h

80 #iâdeà
EIO_H


81 
	#EIO_H


	)

83 
	~<¡dio.h
>

86 
	#EIO_PISA_FORMAT
 1

	)

87 
	#EIO_ALPHA_FORMAT
 2

	)

90 
	#EIO_FILE_VERSION
 3

	)

92 
FILE
 *
eio_ü—‹
(*
âame
);

94 
FILE
 *
eio_İ’
(*
âame
);

97 
eio_v®id
(*
âame
);

99 
eio_şo£
(
FILE
 *
fd
);

103 
couÁ”_t


104 
eio_wr™e_chk±
(
»gs_t
 *
»gs
,

105 
mem_t
 *
mem
,

106 
FILE
 *
fd
);

110 
couÁ”_t


111 
eio_»ad_chk±
(
»gs_t
 *
»gs
,

112 
mem_t
 *
mem
,

113 
FILE
 *
fd
);

119 
eio_wr™e_Œaû
(
FILE
 *
eio_fd
,

120 
couÁ”_t
 
iút
,

121 
»gs_t
 *
»gs
,

122 
mem_acûss_â
 
mem_â
,

123 
mem_t
 *
mem
,

124 
md_š¡_t
 
š¡
);

130 
eio_»ad_Œaû
(
FILE
 *
eio_fd
,

131 
couÁ”_t
 
iút
,

132 
»gs_t
 *
»gs
,

133 
mem_acûss_â
 
mem_â
,

134 
mem_t
 *
mem
,

135 
md_š¡_t
 
š¡
);

138 
eio_ç¡_fÜw¬d
(
FILE
 *
eio_fd
, 
couÁ”_t
 
iút
);

	@endian.c

88 
	~"’dŸn.h
"

89 #iâdeà
HOST_ONLY


90 
	~"lßd”.h
"

93 
	~"smt.h
"

95 #ifdeà
SMT_SS


96 
	~"cÚ‹xt.h
"

101 
’dŸn_t


102 
	$’dŸn_ho¡_by‹_Üd”
()

104 
i
 = 1, *
p
;

106 
p
 = &
i
;

107 ià(*((*)
p
) == 1)

108  
’dŸn_l™e
;

109 ià(*((*)
p
) == 0)

110  
’dŸn_big
;

112  
’dŸn_unknown
;

113 
	}
}

116 
’dŸn_t


117 
	$’dŸn_ho¡_wÜd_Üd”
()

119 *
p
;

120 
x
 = 1.0;

123 
p
 = (*)&
x
;

124 ià(*
p
 == 0)

125  
’dŸn_l™e
;

126 ià(*
p
 == 0x3ff00000)

127  
’dŸn_big
;

129  
’dŸn_unknown
;

130 
	}
}

132 #iâdeà
HOST_ONLY


134 #ifdeà
SMT_SS


137 
’dŸn_t


138 
	$’dŸn_rg‘_by‹_Üd”
(
th»adid
)

140 
cÚ‹xt
 *
cu¼’t
;

141 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

142  
cu¼’t
->
ld_rg‘_big_’dŸn
 ? 
’dŸn_big
 : 
’dŸn_l™e
;

143 
	}
}

147 
’dŸn_t


148 
	$’dŸn_rg‘_wÜd_Üd”
(
th»adid
)

151  
	`’dŸn_rg‘_by‹_Üd”
(
th»adid
);

152 
	}
}

157 
’dŸn_t


158 
	$’dŸn_rg‘_by‹_Üd”
()

160  
ld_rg‘_big_’dŸn
 ? 
’dŸn_big
 : 
’dŸn_l™e
;

161 
	}
}

165 
’dŸn_t


166 
	$’dŸn_rg‘_wÜd_Üd”
()

169  
	`’dŸn_rg‘_by‹_Üd”
();

170 
	}
}

	@endian.h

100 
	~"smt.h
"

103 #iâdeà
ENDIAN_H


104 
	#ENDIAN_H


	)

107 
	#SWAP_HALF
(
X
è\

	)

108 (((((
	gh®f_t
)(
	gX
)) & 0xff) << 8) | ((((half_t)(X)) & 0xff00) >> 8))

109 
	#SWAP_WORD
(
X
è(((
wÜd_t
)(Xè<< 24è| \

	)

110 (((
	gwÜd_t
)(
	gX
) << 8) & 0x00ff0000) | \

111 (((
	gwÜd_t
)(
	gX
) >> 8) & 0x0000ff00) | \

112 (((
	gwÜd_t
)(
	gX
) >> 24) & 0x000000ff))

113 
	#SWAP_QWORD
(
X
è(((
qwÜd_t
)(Xè<< 56è| \

	)

114 (((
	gqwÜd_t
)(
	gX
è<< 40è& 
ULL
(0x00ff000000000000)) |\

115 (((
	gqwÜd_t
)(
	gX
è<< 24è& 
ULL
(0x0000ff0000000000)) |\

116 (((
	gqwÜd_t
)(
	gX
è<< 8è& 
ULL
(0x000000ff00000000)) |\

117 (((
	gqwÜd_t
)(
	gX
è>> 8è& 
ULL
(0x00000000ff000000)) |\

118 (((
	gqwÜd_t
)(
	gX
è>> 24è& 
ULL
(0x0000000000ff0000)) |\

119 (((
	gqwÜd_t
)(
	gX
è>> 40è& 
ULL
(0x000000000000ff00)) |\

120 (((
	gqwÜd_t
)(
	gX
è>> 56è& 
	$ULL
(0x00000000000000ff)))

123 
	e’dŸn_t
 { 
’dŸn_big
=0, 
’dŸn_l™e
=1, 
’dŸn_unknown
=2};

125 
’dŸn_t


126 
	`’dŸn_ho¡_by‹_Üd”
();

129 
’dŸn_t


130 
	`’dŸn_ho¡_wÜd_Üd”
();

132 #iâdeà
HOST_ONLY


134 #ifdeà
SMT_SS


137 
’dŸn_t


138 
	`’dŸn_rg‘_by‹_Üd”
(
th»adid
);

142 
’dŸn_t


143 
	`’dŸn_rg‘_wÜd_Üd”
(
th»did
);

148 
’dŸn_t


149 
	`’dŸn_rg‘_by‹_Üd”
();

153 
’dŸn_t


154 
	`’dŸn_rg‘_wÜd_Üd”
();

	@eval.c

100 
	~<¡dio.h
>

101 
	~<¡dlib.h
>

102 
	~<ùy³.h
>

103 
	~<”ºo.h
>

105 
	~"ho¡.h
"

106 
	~"misc.h
"

107 
	~"ev®.h
"

109 #ià
defšed
(
¥¬c
è&& !defšed(
__svr4__
)

110 
	#¡¹oul
 
¡¹Ş


	)

114 
ev®_”r_t
 
	gev®_”rÜ
 = 
ERR_NOERR
;

117 *
	gev®_”r_¡r
[
ERR_NUM
] = {

129 * 
	gev®_”r_exŒa_šfo
 = 
NULL
;

132 
ev®_tok’_t
 
	gtok_m­
[256];

133 
	gtok_m­_š™Ÿlized
 = 
FALSE
;

137 
	$š™_tok_m­
()

139 
i
;

141 
i
=0; i<256; i++)

142 
tok_m­
[
i
] = 
tok_šv®id
;

145 
i
='a'; i<='z'; i++)

146 
tok_m­
[
i
] = 
tok_id’t
;

147 
i
='A'; i<='Z'; i++)

148 
tok_m­
[
i
] = 
tok_id’t
;

149 
tok_m­
[()'_'] = 
tok_id’t
;

150 
tok_m­
[()'$'] = 
tok_id’t
;

153 
i
='0'; i<='9'; i++)

154 
tok_m­
[
i
] = 
tok_cÚ¡
;

155 
tok_m­
[()'.'] = 
tok_cÚ¡
;

158 
tok_m­
[()'+'] = 
tok_¶us
;

159 
tok_m­
[()'-'] = 
tok_mšus
;

160 
tok_m­
[()'*'] = 
tok_muÉ
;

161 
tok_m­
[()'/'] = 
tok_div
;

162 
tok_m­
[()'('] = 
tok_İ¬’
;

163 
tok_m­
[()')'] = 
tok_ı¬’
;

166 
tok_m­
[()' '] = 
tok_wh™e¥aû
;

167 
tok_m­
[()'\t'] = 
tok_wh™e¥aû
;

168 
	}
}

171 
ev®_tok’_t


172 
	$g‘_Ãxt_tok’
(
ev®_¡©e_t
 *
es
)

174 
®low_hex
;

175 
ev®_tok’_t
 
tok
;

176 *
±ok_buf
, 
Ï¡_ch¬
;

179 ià(!
tok_m­_š™Ÿlized
)

181 
	`š™_tok_m­
();

182 
tok_m­_š™Ÿlized
 = 
TRUE
;

186 ià(
es
->
³ek_tok
 !ğ
tok_šv®id
)

188 
tok
 = 
es
->
³ek_tok
;

189 
es
->
³ek_tok
 = 
tok_šv®id
;

190  
tok
;

194 
±ok_buf
 = 
es
->
tok_buf
;

195 *
±ok_buf
 = '\0';

198 *
es
->
p
 && 
tok_m­
[()*es->p] =ğ
tok_wh™e¥aû
)

199 
es
->
p
++;

202 ià(*
es
->
p
 == '\0')

203  
tok_eof
;

205 *
±ok_buf
++ = *
es
->
p
;

206 
tok
 = 
tok_m­
[()*
es
->
p
++];

207 
tok
)

209 
tok_id’t
:

211 *
es
->
p


212 && (
tok_m­
[()*
es
->
p
] =ğ
tok_id’t


213 || 
tok_m­
[()*
es
->
p
] =ğ
tok_cÚ¡
))

215 *
±ok_buf
++ = *
es
->
p
++;

218 
tok_cÚ¡
:

220 
Ï¡_ch¬
 = '\0';

221 
®low_hex
 = 
FALSE
;

222 *
es
->
p
 &&

223 (
tok_m­
[()*
es
->
p
] =ğ
tok_cÚ¡


224 || (*
es
->
p
 =ğ'-' && 
Ï¡_ch¬
 == 'e')

225 || (*
es
->
p
 =ğ'+' && 
Ï¡_ch¬
 == 'e')

226 || 
	`tŞow”
(()(*
es
->
p
)) == 'e'

227 || 
	`tŞow”
(()(*
es
->
p
)) == 'x'

228 || (
	`tŞow”
(()(*
es
->
p
)è=ğ'a' && 
®low_hex
)

229 || (
	`tŞow”
(()(*
es
->
p
)è=ğ'b' && 
®low_hex
)

230 || (
	`tŞow”
(()(*
es
->
p
)è=ğ'c' && 
®low_hex
)

231 || (
	`tŞow”
(()(*
es
->
p
)è=ğ'd' && 
®low_hex
)

232 || (
	`tŞow”
(()(*
es
->
p
)è=ğ'e' && 
®low_hex
)

233 || (
	`tŞow”
(()(*
es
->
p
)è=ğ'f' && 
®low_hex
)))

235 
Ï¡_ch¬
 = 
	`tŞow”
(()(*
es
->
p
));

236 ià(*
es
->
p
 == 'x' || *es->p == 'X')

237 
®low_hex
 = 
TRUE
;

238 *
±ok_buf
++ = *
es
->
p
++;

241 
tok_¶us
:

242 
tok_mšus
:

243 
tok_muÉ
:

244 
tok_div
:

245 
tok_İ¬’
:

246 
tok_ı¬’
:

250 
tok
 = 
tok_šv®id
;

255 *
±ok_buf
 = '\0';

257  
tok
;

258 
	}
}

262 
ev®_tok’_t


263 
	$³ek_Ãxt_tok’
(
ev®_¡©e_t
 *
es
)

266 ià(
es
->
³ek_tok
 =ğ
tok_šv®id
)

268 
es
->
Ï¡p
 =ƒs->
p
;

269 
es
->
³ek_tok
 = 
	`g‘_Ãxt_tok’
(es);

273  
es
->
³ek_tok
;

274 
	}
}

277 
ev®_v®ue_t
 
ex´
(
ev®_¡©e_t
 *
es
);

280 
ev®_v®ue_t
 
	g”r_v®ue
 = { 
‘_št
, { 0 } };

283 *
	gev®_ty³_¡r
[
‘_NUM
] = {

287 #ifdeà
HOST_HAS_QWORD


297 
ev®_ty³_t


298 
	$»suÉ_ty³
(
ev®_ty³_t
 
t1
,

299 
ev®_ty³_t
 
t2
)

302 ià(
t1
 =ğ
‘_symbŞ
 || 
t2
 ==ƒt_symbol)

303 
	`·nic
("symbol used inƒxpression");

306 ià(
t1
 =ğ
‘_doubË
 || 
t2
 ==ƒt_double)

307  
‘_doubË
;

308 ià(
t1
 =ğ
‘_æßt
 || 
t2
 ==ƒt_float)

309  
‘_æßt
;

310 #ifdeà
HOST_HAS_QWORD


311 ià(
t1
 =ğ
‘_qwÜd
 || 
t2
 ==ƒt_qword)

312  
‘_qwÜd
;

313 ià(
t1
 =ğ
‘_sqwÜd
 || 
t2
 ==ƒt_sqword)

314  
‘_sqwÜd
;

316 ià(
t1
 =ğ
‘_addr
 || 
t2
 ==ƒt_addr)

317  
‘_addr
;

318 ià(
t1
 =ğ
‘_ušt
 || 
t2
 ==ƒt_uint)

319  
‘_ušt
;

321  
‘_št
;

322 
	}
}

330 
	$ev®_as_doubË
(
ev®_v®ue_t
 
v®
)

332 
v®
.
ty³
)

334 
‘_doubË
:

335  
v®
.
v®ue
.
as_doubË
;

336 
‘_æßt
:

337  ()
v®
.
v®ue
.
as_æßt
;

338 #ifdeà
HOST_HAS_QWORD


339 
‘_qwÜd
:

340 #ifdeà
_MSC_VER


341  ()(
sqwÜd_t
)
v®
.
v®ue
.
as_qwÜd
;

343  ()
v®
.
v®ue
.
as_qwÜd
;

345 
‘_sqwÜd
:

346  ()
v®
.
v®ue
.
as_sqwÜd
;

348 
‘_addr
:

349 #ià
	`defšed
(
_MSC_VER
è&& defšed(
TARGET_ALPHA
)

351  ()(
sqwÜd_t
)
v®
.
v®ue
.
as_addr
;

353  ()
v®
.
v®ue
.
as_addr
;

355 
‘_ušt
:

356  ()
v®
.
v®ue
.
as_ušt
;

357 
‘_št
:

358  ()
v®
.
v®ue
.
as_št
;

359 
‘_symbŞ
:

360 
	`·nic
("symbol used inƒxpression");

362 
	`·nic
("illegal‡rithmeticƒxpression conversion");

364 
	}
}

368 
	$ev®_as_æßt
(
ev®_v®ue_t
 
v®
)

370 
v®
.
ty³
)

372 
‘_doubË
:

373  ()
v®
.
v®ue
.
as_doubË
;

374 
‘_æßt
:

375  
v®
.
v®ue
.
as_æßt
;

376 #ifdeà
HOST_HAS_QWORD


377 
‘_qwÜd
:

378 #ifdeà
_MSC_VER


379  ()(
sqwÜd_t
)
v®
.
v®ue
.
as_qwÜd
;

381  ()
v®
.
v®ue
.
as_qwÜd
;

383 
‘_sqwÜd
:

384  ()
v®
.
v®ue
.
as_sqwÜd
;

386 
‘_addr
:

387 #ià
	`defšed
(
_MSC_VER
è&& defšed(
TARGET_ALPHA
)

389  ()(
sqwÜd_t
)
v®
.
v®ue
.
as_addr
;

391  ()
v®
.
v®ue
.
as_addr
;

393 
‘_ušt
:

394  ()
v®
.
v®ue
.
as_ušt
;

395 
‘_št
:

396  ()
v®
.
v®ue
.
as_št
;

397 
‘_symbŞ
:

398 
	`·nic
("symbol used inƒxpression");

400 
	`·nic
("illegal‡rithmeticƒxpression conversion");

402 
	}
}

404 #ifdeà
HOST_HAS_QWORD


406 
qwÜd_t


407 
	$ev®_as_qwÜd
(
ev®_v®ue_t
 
v®
)

409 
v®
.
ty³
)

411 
‘_doubË
:

412  (
qwÜd_t
)
v®
.
v®ue
.
as_doubË
;

413 
‘_æßt
:

414  (
qwÜd_t
)
v®
.
v®ue
.
as_æßt
;

415 
‘_qwÜd
:

416  
v®
.
v®ue
.
as_qwÜd
;

417 
‘_sqwÜd
:

418  (
qwÜd_t
)
v®
.
v®ue
.
as_sqwÜd
;

419 
‘_addr
:

420  (
qwÜd_t
)
v®
.
v®ue
.
as_addr
;

421 
‘_ušt
:

422  (
qwÜd_t
)
v®
.
v®ue
.
as_ušt
;

423 
‘_št
:

424  (
qwÜd_t
)
v®
.
v®ue
.
as_št
;

425 
‘_symbŞ
:

426 
	`·nic
("symbol used inƒxpression");

428 
	`·nic
("illegal‡rithmeticƒxpression conversion");

430 
	}
}

433 
sqwÜd_t


434 
	$ev®_as_sqwÜd
(
ev®_v®ue_t
 
v®
)

436 
v®
.
ty³
)

438 
‘_doubË
:

439  (
sqwÜd_t
)
v®
.
v®ue
.
as_doubË
;

440 
‘_æßt
:

441  (
sqwÜd_t
)
v®
.
v®ue
.
as_æßt
;

442 
‘_qwÜd
:

443  (
sqwÜd_t
)
v®
.
v®ue
.
as_qwÜd
;

444 
‘_sqwÜd
:

445  
v®
.
v®ue
.
as_sqwÜd
;

446 
‘_addr
:

447  (
sqwÜd_t
)
v®
.
v®ue
.
as_addr
;

448 
‘_ušt
:

449  (
sqwÜd_t
)
v®
.
v®ue
.
as_ušt
;

450 
‘_št
:

451  (
sqwÜd_t
)
v®
.
v®ue
.
as_št
;

452 
‘_symbŞ
:

453 
	`·nic
("symbol used inƒxpression");

455 
	`·nic
("illegal‡rithmeticƒxpression conversion");

457 
	}
}

461 
md_addr_t


462 
	$ev®_as_addr
(
ev®_v®ue_t
 
v®
)

464 
v®
.
ty³
)

466 
‘_doubË
:

467  (
md_addr_t
)
v®
.
v®ue
.
as_doubË
;

468 
‘_æßt
:

469  (
md_addr_t
)
v®
.
v®ue
.
as_æßt
;

470 #ifdeà
HOST_HAS_QWORD


471 
‘_qwÜd
:

472  (
md_addr_t
)
v®
.
v®ue
.
as_qwÜd
;

473 
‘_sqwÜd
:

474  (
md_addr_t
)
v®
.
v®ue
.
as_sqwÜd
;

476 
‘_addr
:

477  
v®
.
v®ue
.
as_addr
;

478 
‘_ušt
:

479  (
md_addr_t
)
v®
.
v®ue
.
as_ušt
;

480 
‘_št
:

481  (
md_addr_t
)
v®
.
v®ue
.
as_št
;

482 
‘_symbŞ
:

483 
	`·nic
("symbol used inƒxpression");

485 
	`·nic
("illegal‡rithmeticƒxpression conversion");

487 
	}
}

491 
	$ev®_as_ušt
(
ev®_v®ue_t
 
v®
)

493 
v®
.
ty³
)

495 
‘_doubË
:

496  ()
v®
.
v®ue
.
as_doubË
;

497 
‘_æßt
:

498  ()
v®
.
v®ue
.
as_æßt
;

499 #ifdeà
HOST_HAS_QWORD


500 
‘_qwÜd
:

501  ()
v®
.
v®ue
.
as_qwÜd
;

502 
‘_sqwÜd
:

503  ()
v®
.
v®ue
.
as_sqwÜd
;

505 
‘_addr
:

506  ()
v®
.
v®ue
.
as_addr
;

507 
‘_ušt
:

508  
v®
.
v®ue
.
as_ušt
;

509 
‘_št
:

510  ()
v®
.
v®ue
.
as_št
;

511 
‘_symbŞ
:

512 
	`·nic
("symbol used inƒxpression");

514 
	`·nic
("illegal‡rithmeticƒxpression conversion");

516 
	}
}

520 
	$ev®_as_št
(
ev®_v®ue_t
 
v®
)

522 
v®
.
ty³
)

524 
‘_doubË
:

525  ()
v®
.
v®ue
.
as_doubË
;

526 
‘_æßt
:

527  ()
v®
.
v®ue
.
as_æßt
;

528 #ifdeà
HOST_HAS_QWORD


529 
‘_qwÜd
:

530  ()
v®
.
v®ue
.
as_qwÜd
;

531 
‘_sqwÜd
:

532  ()
v®
.
v®ue
.
as_sqwÜd
;

534 
‘_addr
:

535  ()
v®
.
v®ue
.
as_addr
;

536 
‘_ušt
:

537  ()
v®
.
v®ue
.
as_ušt
;

538 
‘_št
:

539  
v®
.
v®ue
.
as_št
;

540 
‘_symbŞ
:

541 
	`·nic
("symbol used inƒxpression");

543 
	`·nic
("illegal‡rithmeticƒxpression conversion");

545 
	}
}

552 
ev®_v®ue_t


553 
	$f_add
(
ev®_v®ue_t
 
v®1
, ev®_v®ue_ˆ
v®2
)

555 
ev®_ty³_t
 
‘
;

556 
ev®_v®ue_t
 
v®
;

559 ià(
v®1
.
ty³
 =ğ
‘_symbŞ
 || 
v®2
.type ==ƒt_symbol)

561 
ev®_”rÜ
 = 
ERR_BADEXPR
;

562  
”r_v®ue
;

566 
‘
 = 
	`»suÉ_ty³
(
v®1
.
ty³
, 
v®2
.type);

567 
‘
)

569 
‘_doubË
:

570 
v®
.
ty³
 = 
‘_doubË
;

571 
v®
.
v®ue
.
as_doubË
 = 
	`ev®_as_doubË
(
v®1
è+ƒv®_as_doubË(
v®2
);

573 
‘_æßt
:

574 
v®
.
ty³
 = 
‘_æßt
;

575 
v®
.
v®ue
.
as_æßt
 = 
	`ev®_as_æßt
(
v®1
è+ƒv®_as_æßt(
v®2
);

577 #ifdeà
HOST_HAS_QWORD


578 
‘_qwÜd
:

579 
v®
.
ty³
 = 
‘_qwÜd
;

580 
v®
.
v®ue
.
as_qwÜd
 = 
	`ev®_as_qwÜd
(
v®1
è+ƒv®_as_qwÜd(
v®2
);

582 
‘_sqwÜd
:

583 
v®
.
ty³
 = 
‘_sqwÜd
;

584 
v®
.
v®ue
.
as_sqwÜd
 = 
	`ev®_as_sqwÜd
(
v®1
è+ƒv®_as_sqwÜd(
v®2
);

587 
‘_addr
:

588 
v®
.
ty³
 = 
‘_addr
;

589 
v®
.
v®ue
.
as_addr
 = 
	`ev®_as_addr
(
v®1
è+ƒv®_as_addr(
v®2
);

591 
‘_ušt
:

592 
v®
.
ty³
 = 
‘_ušt
;

593 
v®
.
v®ue
.
as_ušt
 = 
	`ev®_as_ušt
(
v®1
è+ƒv®_as_ušt(
v®2
);

595 
‘_št
:

596 
v®
.
ty³
 = 
‘_št
;

597 
v®
.
v®ue
.
as_št
 = 
	`ev®_as_št
(
v®1
è+ƒv®_as_št(
v®2
);

600 
	`·nic
("bogusƒxpressionype");

603  
v®
;

604 
	}
}

607 
ev®_v®ue_t


608 
	$f_sub
(
ev®_v®ue_t
 
v®1
, ev®_v®ue_ˆ
v®2
)

610 
ev®_ty³_t
 
‘
;

611 
ev®_v®ue_t
 
v®
;

614 ià(
v®1
.
ty³
 =ğ
‘_symbŞ
 || 
v®2
.type ==ƒt_symbol)

616 
ev®_”rÜ
 = 
ERR_BADEXPR
;

617  
”r_v®ue
;

621 
‘
 = 
	`»suÉ_ty³
(
v®1
.
ty³
, 
v®2
.type);

622 
‘
)

624 
‘_doubË
:

625 
v®
.
ty³
 = 
‘_doubË
;

626 
v®
.
v®ue
.
as_doubË
 = 
	`ev®_as_doubË
(
v®1
è-ƒv®_as_doubË(
v®2
);

628 
‘_æßt
:

629 
v®
.
ty³
 = 
‘_æßt
;

630 
v®
.
v®ue
.
as_æßt
 = 
	`ev®_as_æßt
(
v®1
è-ƒv®_as_æßt(
v®2
);

632 #ifdeà
HOST_HAS_QWORD


633 
‘_qwÜd
:

634 
v®
.
ty³
 = 
‘_qwÜd
;

635 
v®
.
v®ue
.
as_qwÜd
 = 
	`ev®_as_qwÜd
(
v®1
è-ƒv®_as_qwÜd(
v®2
);

637 
‘_sqwÜd
:

638 
v®
.
ty³
 = 
‘_sqwÜd
;

639 
v®
.
v®ue
.
as_sqwÜd
 = 
	`ev®_as_sqwÜd
(
v®1
è-ƒv®_as_sqwÜd(
v®2
);

642 
‘_addr
:

643 
v®
.
ty³
 = 
‘_addr
;

644 
v®
.
v®ue
.
as_addr
 = 
	`ev®_as_addr
(
v®1
è-ƒv®_as_addr(
v®2
);

646 
‘_ušt
:

647 
v®
.
ty³
 = 
‘_ušt
;

648 
v®
.
v®ue
.
as_ušt
 = 
	`ev®_as_ušt
(
v®1
è-ƒv®_as_ušt(
v®2
);

650 
‘_št
:

651 
v®
.
ty³
 = 
‘_št
;

652 
v®
.
v®ue
.
as_št
 = 
	`ev®_as_št
(
v®1
è-ƒv®_as_št(
v®2
);

655 
	`·nic
("bogusƒxpressionype");

658  
v®
;

659 
	}
}

662 
ev®_v®ue_t


663 
	$f_muÉ
(
ev®_v®ue_t
 
v®1
, ev®_v®ue_ˆ
v®2
)

665 
ev®_ty³_t
 
‘
;

666 
ev®_v®ue_t
 
v®
;

669 ià(
v®1
.
ty³
 =ğ
‘_symbŞ
 || 
v®2
.type ==ƒt_symbol)

671 
ev®_”rÜ
 = 
ERR_BADEXPR
;

672  
”r_v®ue
;

676 
‘
 = 
	`»suÉ_ty³
(
v®1
.
ty³
, 
v®2
.type);

677 
‘
)

679 
‘_doubË
:

680 
v®
.
ty³
 = 
‘_doubË
;

681 
v®
.
v®ue
.
as_doubË
 = 
	`ev®_as_doubË
(
v®1
è*ƒv®_as_doubË(
v®2
);

683 
‘_æßt
:

684 
v®
.
ty³
 = 
‘_æßt
;

685 
v®
.
v®ue
.
as_æßt
 = 
	`ev®_as_æßt
(
v®1
è*ƒv®_as_æßt(
v®2
);

687 #ifdeà
HOST_HAS_QWORD


688 
‘_qwÜd
:

689 
v®
.
ty³
 = 
‘_qwÜd
;

690 
v®
.
v®ue
.
as_qwÜd
 = 
	`ev®_as_qwÜd
(
v®1
è*ƒv®_as_qwÜd(
v®2
);

692 
‘_sqwÜd
:

693 
v®
.
ty³
 = 
‘_sqwÜd
;

694 
v®
.
v®ue
.
as_sqwÜd
 = 
	`ev®_as_sqwÜd
(
v®1
è*ƒv®_as_sqwÜd(
v®2
);

697 
‘_addr
:

698 
v®
.
ty³
 = 
‘_addr
;

699 
v®
.
v®ue
.
as_addr
 = 
	`ev®_as_addr
(
v®1
è*ƒv®_as_addr(
v®2
);

701 
‘_ušt
:

702 
v®
.
ty³
 = 
‘_ušt
;

703 
v®
.
v®ue
.
as_ušt
 = 
	`ev®_as_ušt
(
v®1
è*ƒv®_as_ušt(
v®2
);

705 
‘_št
:

706 
v®
.
ty³
 = 
‘_št
;

707 
v®
.
v®ue
.
as_št
 = 
	`ev®_as_št
(
v®1
è*ƒv®_as_št(
v®2
);

710 
	`·nic
("bogusƒxpressionype");

713  
v®
;

714 
	}
}

717 
ev®_v®ue_t


718 
	$f_div
(
ev®_v®ue_t
 
v®1
, ev®_v®ue_ˆ
v®2
)

720 
ev®_ty³_t
 
‘
;

721 
ev®_v®ue_t
 
v®
;

724 ià(
v®1
.
ty³
 =ğ
‘_symbŞ
 || 
v®2
.type ==ƒt_symbol)

726 
ev®_”rÜ
 = 
ERR_BADEXPR
;

727  
”r_v®ue
;

731 
‘
 = 
	`»suÉ_ty³
(
v®1
.
ty³
, 
v®2
.type);

732 
‘
)

734 
‘_doubË
:

735 
v®
.
ty³
 = 
‘_doubË
;

736 
v®
.
v®ue
.
as_doubË
 = 
	`ev®_as_doubË
(
v®1
è/ƒv®_as_doubË(
v®2
);

738 
‘_æßt
:

739 
v®
.
ty³
 = 
‘_æßt
;

740 
v®
.
v®ue
.
as_æßt
 = 
	`ev®_as_æßt
(
v®1
è/ƒv®_as_æßt(
v®2
);

742 #ifdeà
HOST_HAS_QWORD


743 
‘_qwÜd
:

744 
v®
.
ty³
 = 
‘_qwÜd
;

745 
v®
.
v®ue
.
as_qwÜd
 = 
	`ev®_as_qwÜd
(
v®1
è/ƒv®_as_qwÜd(
v®2
);

747 
‘_sqwÜd
:

748 
v®
.
ty³
 = 
‘_sqwÜd
;

749 
v®
.
v®ue
.
as_sqwÜd
 = 
	`ev®_as_sqwÜd
(
v®1
è/ƒv®_as_sqwÜd(
v®2
);

752 
‘_addr
:

753 
v®
.
ty³
 = 
‘_addr
;

754 
v®
.
v®ue
.
as_addr
 = 
	`ev®_as_addr
(
v®1
è/ƒv®_as_addr(
v®2
);

756 
‘_ušt
:

757 
v®
.
ty³
 = 
‘_ušt
;

758 
v®
.
v®ue
.
as_ušt
 = 
	`ev®_as_ušt
(
v®1
è/ƒv®_as_ušt(
v®2
);

760 
‘_št
:

761 
v®
.
ty³
 = 
‘_št
;

762 
v®
.
v®ue
.
as_št
 = 
	`ev®_as_št
(
v®1
è/ƒv®_as_št(
v®2
);

765 
	`·nic
("bogusƒxpressionype");

768  
v®
;

769 
	}
}

772 
ev®_v®ue_t


773 
	$f_Ãg
(
ev®_v®ue_t
 
v®1
)

775 
ev®_v®ue_t
 
v®
;

778 ià(
v®1
.
ty³
 =ğ
‘_symbŞ
)

780 
ev®_”rÜ
 = 
ERR_BADEXPR
;

781  
”r_v®ue
;

785 
v®1
.
ty³
)

787 
‘_doubË
:

788 
v®
.
ty³
 = 
‘_doubË
;

789 
v®
.
v®ue
.
as_doubË
 = - 
v®1
.value.as_double;

791 
‘_æßt
:

792 
v®
.
ty³
 = 
‘_æßt
;

793 
v®
.
v®ue
.
as_æßt
 = - 
v®1
.value.as_float;

795 #ifdeà
HOST_HAS_QWORD


796 
‘_qwÜd
:

797 
v®
.
ty³
 = 
‘_sqwÜd
;

798 
v®
.
v®ue
.
as_qwÜd
 = - (
sqwÜd_t
)
v®1
.value.as_qword;

800 
‘_sqwÜd
:

801 
v®
.
ty³
 = 
‘_sqwÜd
;

802 
v®
.
v®ue
.
as_sqwÜd
 = - 
v®1
.value.as_sqword;

805 
‘_addr
:

806 
v®
.
ty³
 = 
‘_addr
;

807 
v®
.
v®ue
.
as_addr
 = - 
v®1
.value.as_addr;

809 
‘_ušt
:

810 ià(()
v®1
.
v®ue
.
as_ušt
 > 2147483648U)

813 #ifdeà
HOST_HAS_QWORD


814 
v®
.
ty³
 = 
‘_sqwÜd
;

815 
v®
.
v®ue
.
as_sqwÜd
 = - ((
sqwÜd_t
)
v®1
.v®ue.
as_ušt
);

817 
v®
.
ty³
 = 
‘_doubË
;

818 
v®
.
v®ue
.
as_doubË
 = - (()
v®1
.v®ue.
as_ušt
);

824 
v®
.
ty³
 = 
‘_št
;

825 
v®
.
v®ue
.
as_št
 = - (()
v®1
.v®ue.
as_ušt
);

828 
‘_št
:

829 ià(()
v®1
.
v®ue
.
as_št
 == 0x80000000U)

832 
v®
.
ty³
 = 
‘_ušt
;

833 
v®
.
v®ue
.
as_ušt
 = 2147483648U;

838 
v®
.
ty³
 = 
‘_št
;

839 
v®
.
v®ue
.
as_št
 = - 
v®1
.value.as_int;

843 
	`·nic
("bogusƒxpressionype");

846  
v®
;

847 
	}
}

851 
	$f_eq_z”o
(
ev®_v®ue_t
 
v®1
)

853 
v®
;

856 ià(
v®1
.
ty³
 =ğ
‘_symbŞ
)

858 
ev®_”rÜ
 = 
ERR_BADEXPR
;

859  
FALSE
;

862 
v®1
.
ty³
)

864 
‘_doubË
:

865 
v®
 = 
v®1
.
v®ue
.
as_doubË
 == 0.0;

867 
‘_æßt
:

868 
v®
 = 
v®1
.
v®ue
.
as_æßt
 == 0.0;

870 #ifdeà
HOST_HAS_QWORD


871 
‘_qwÜd
:

872 
v®
 = 
v®1
.
v®ue
.
as_qwÜd
 == 0;

874 
‘_sqwÜd
:

875 
v®
 = 
v®1
.
v®ue
.
as_sqwÜd
 == 0;

878 
‘_addr
:

879 
v®
 = 
v®1
.
v®ue
.
as_addr
 == 0;

881 
‘_ušt
:

882 
v®
 = 
v®1
.
v®ue
.
as_ušt
 == 0;

884 
‘_št
:

885 
v®
 = 
v®1
.
v®ue
.
as_št
 == 0;

888 
	`·nic
("bogusƒxpressionype");

891  
v®
;

892 
	}
}

897 
ev®_v®ue_t


898 
	$cÚ¡ªt
(
ev®_¡©e_t
 *
es
)

900 
ev®_v®ue_t
 
v®
;

901 
št_v®
;

902 
ušt_v®
;

903 
doubË_v®
;

904 *
’dp
;

905 #ifdeà
HOST_HAS_QWORD


906 
sqwÜd_t
 
sqwÜd_v®
;

907 
qwÜd_t
 
qwÜd_v®
;

911 #ià
	`defšed
(
¥¬c
è&& !defšed(
__svr4__
)

912 
	`¡¹Ş
(*, **, );

913 
	`¡¹od
(*, **);

923 
”ºo
 = 0;

924 
št_v®
 = 
	`¡¹Ş
(
es
->
tok_buf
, &
’dp
, 0);

925 ià(!
”ºo
 && !*
’dp
)

928 
v®
.
ty³
 = 
‘_št
;

929 
v®
.
v®ue
.
as_št
 = 
št_v®
;

930  
v®
;

934 
”ºo
 = 0;

935 
ušt_v®
 = 
	`¡¹oul
(
es
->
tok_buf
, &
’dp
, 0);

936 ià(!
”ºo
 && !*
’dp
)

939 
v®
.
ty³
 = 
‘_ušt
;

940 
v®
.
v®ue
.
as_ušt
 = 
ušt_v®
;

941  
v®
;

944 #ifdeà
HOST_HAS_QWORD


946 
”ºo
 = 0;

947 
sqwÜd_v®
 = 
	`my©osq
(
es
->
tok_buf
, &
’dp
, 0);

948 ià(!
”ºo
 && !*
’dp
)

951 
v®
.
ty³
 = 
‘_sqwÜd
;

952 
v®
.
v®ue
.
as_sqwÜd
 = 
sqwÜd_v®
;

953  
v®
;

957 
”ºo
 = 0;

958 
qwÜd_v®
 = 
	`my©oq
(
es
->
tok_buf
, &
’dp
, 0);

959 ià(!
”ºo
 && !*
’dp
)

962 
v®
.
ty³
 = 
‘_qwÜd
;

963 
v®
.
v®ue
.
as_qwÜd
 = 
qwÜd_v®
;

964  
v®
;

970 
”ºo
 = 0;

971 
doubË_v®
 = 
	`¡¹od
(
es
->
tok_buf
, &
’dp
);

972 ià(!
”ºo
 && !*
’dp
)

975 
v®
.
ty³
 = 
‘_doubË
;

976 
v®
.
v®ue
.
as_doubË
 = 
doubË_v®
;

977  
v®
;

982 
ev®_”rÜ
 = 
ERR_BADCONST
;

983  
”r_v®ue
;

984 
	}
}

988 
ev®_v®ue_t


989 
	$çùÜ
(
ev®_¡©e_t
 *
es
)

991 
ev®_tok’_t
 
tok
;

992 
ev®_v®ue_t
 
v®
;

994 
tok
 = 
	`³ek_Ãxt_tok’
(
es
);

995 
tok
)

997 
tok_İ¬’
:

998 ()
	`g‘_Ãxt_tok’
(
es
);

999 
v®
 = 
	`ex´
(
es
);

1000 ià(
ev®_”rÜ
)

1001  
”r_v®ue
;

1003 
tok
 = 
	`³ek_Ãxt_tok’
(
es
);

1004 ià(
tok
 !ğ
tok_ı¬’
)

1006 
ev®_”rÜ
 = 
ERR_UPAREN
;

1007  
”r_v®ue
;

1009 ()
	`g‘_Ãxt_tok’
(
es
);

1012 
tok_mšus
:

1014 ()
	`g‘_Ãxt_tok’
(
es
);

1015 
v®
 = 
	`çùÜ
(
es
);

1016 ià(
ev®_”rÜ
)

1017  
”r_v®ue
;

1018 
v®
 = 
	`f_Ãg
(val);

1021 
tok_id’t
:

1022 ()
	`g‘_Ãxt_tok’
(
es
);

1024 
v®
 = 
es
->
	`f_ev®_id’t
(es);

1025 ià(
ev®_”rÜ
)

1026  
”r_v®ue
;

1029 
tok_cÚ¡
:

1030 ()
	`g‘_Ãxt_tok’
(
es
);

1031 
v®
 = 
	`cÚ¡ªt
(
es
);

1032 ià(
ev®_”rÜ
)

1033  
”r_v®ue
;

1037 
ev®_”rÜ
 = 
ERR_NOTERM
;

1038  
”r_v®ue
;

1041  
v®
;

1042 
	}
}

1046 
ev®_v®ue_t


1047 
	$‹rm
(
ev®_¡©e_t
 *
es
)

1049 
ev®_tok’_t
 
tok
;

1050 
ev®_v®ue_t
 
v®
, 
v®1
;

1052 
v®
 = 
	`çùÜ
(
es
);

1053 ià(
ev®_”rÜ
)

1054  
”r_v®ue
;

1056 
tok
 = 
	`³ek_Ãxt_tok’
(
es
);

1057 
tok
)

1059 
tok_muÉ
:

1060 ()
	`g‘_Ãxt_tok’
(
es
);

1061 
v®
 = 
	`f_muÉ
(v®, 
	`‹rm
(
es
));

1062 ià(
ev®_”rÜ
)

1063  
”r_v®ue
;

1066 
tok_div
:

1067 ()
	`g‘_Ãxt_tok’
(
es
);

1068 
v®1
 = 
	`‹rm
(
es
);

1069 ià(
ev®_”rÜ
)

1070  
”r_v®ue
;

1071 ià(
	`f_eq_z”o
(
v®1
))

1073 
ev®_”rÜ
 = 
ERR_DIV0
;

1074  
”r_v®ue
;

1076 
v®
 = 
	`f_div
(v®, 
v®1
);

1082  
v®
;

1083 
	}
}

1087 
ev®_v®ue_t


1088 
	$ex´
(
ev®_¡©e_t
 *
es
)

1090 
ev®_tok’_t
 
tok
;

1091 
ev®_v®ue_t
 
v®
;

1093 
v®
 = 
	`‹rm
(
es
);

1094 ià(
ev®_”rÜ
)

1095  
”r_v®ue
;

1097 
tok
 = 
	`³ek_Ãxt_tok’
(
es
);

1098 
tok
)

1100 
tok_¶us
:

1101 ()
	`g‘_Ãxt_tok’
(
es
);

1102 
v®
 = 
	`f_add
(v®, 
	`ex´
(
es
));

1103 ià(
ev®_”rÜ
)

1104  
”r_v®ue
;

1107 
tok_mšus
:

1108 ()
	`g‘_Ãxt_tok’
(
es
);

1109 
v®
 = 
	`f_sub
(v®, 
	`ex´
(
es
));

1110 ià(
ev®_”rÜ
)

1111  
”r_v®ue
;

1117  
v®
;

1118 
	}
}

1121 
ev®_¡©e_t
 *

1122 
	$ev®_Ãw
(
ev®_id’t_t
 
f_ev®_id’t
,

1123 *
u£r_±r
)

1125 
ev®_¡©e_t
 *
es
;

1127 
es
 = 
	`ÿÎoc
(1, (
ev®_¡©e_t
));

1128 ià(!
es
)

1129 
	`çl
("out of virtual memory");

1131 
es
->
f_ev®_id’t
 = f_eval_ident;

1132 
es
->
u£r_±r
 = user_ptr;

1134  
es
;

1135 
	}
}

1139 
	$ev®_d–‘e
(
ev®_¡©e_t
 *
es
)

1141 
	`ä“
(
es
);

1142 
	}
}

1146 
ev®_v®ue_t


1147 
	$ev®_ex´
(
ev®_¡©e_t
 *
es
,

1148 *
p
,

1149 **
’dp
)

1151 
ev®_v®ue_t
 
v®
;

1154 
ev®_”rÜ
 = 
ERR_NOERR
;

1155 
es
->
p
 =…;

1156 *
es
->
tok_buf
 = '\0';

1157 
es
->
³ek_tok
 = 
tok_šv®id
;

1160 
v®
 = 
	`ex´
(
es
);

1163 ià(
’dp
)

1165 ià(
es
->
³ek_tok
 !ğ
tok_šv®id
)

1168 *
’dp
 = 
es
->
Ï¡p
;

1171 *
’dp
 = 
es
->
p
;

1174  
v®
;

1175 
	}
}

1179 
	$ev®_´št
(
FILE
 *
¡»am
,

1180 
ev®_v®ue_t
 
v®
)

1182 
v®
.
ty³
)

1184 
‘_doubË
:

1185 
	`årštf
(
¡»am
, "%à[doubË]", 
v®
.
v®ue
.
as_doubË
);

1187 
‘_æßt
:

1188 
	`årštf
(
¡»am
, "%à[æßt]", ()
v®
.
v®ue
.
as_æßt
);

1190 #ifdeà
HOST_HAS_QWORD


1191 
‘_qwÜd
:

1192 
	`myårštf
(
¡»am
, "%lu [qwÜd_t]", 
v®
.
v®ue
.
as_qwÜd
);

1194 
‘_sqwÜd
:

1195 
	`myårštf
(
¡»am
, "%ld [sqwÜd_t]", 
v®
.
v®ue
.
as_sqwÜd
);

1198 
‘_addr
:

1199 
	`myårštf
(
¡»am
, "0x%°[md_addr_t]", 
v®
.
v®ue
.
as_addr
);

1201 
‘_ušt
:

1202 
	`årštf
(
¡»am
, "%u [ušt]", 
v®
.
v®ue
.
as_ušt
);

1204 
‘_št
:

1205 
	`årštf
(
¡»am
, "%d [št]", 
v®
.
v®ue
.
as_št
);

1207 
‘_symbŞ
:

1208 
	`årštf
(
¡»am
, "\"%s\" [symbŞ]", 
v®
.
v®ue
.
as_symbŞ
);

1211 
	`·nic
("bogusƒxpressionype");

1213 
	}
}

1216 #ifdeà
TEST


1218 
ev®_v®ue_t
 
	gª_št
;

1219 
ev®_v®ue_t
 
	ga_ušt
;

1220 
ev®_v®ue_t
 
	ga_æßt
;

1221 
ev®_v®ue_t
 
	ga_doubË
;

1222 
ev®_v®ue_t
 
	ga_symbŞ
;

1224 
	ssym_m­_t
 {

1225 *
	msymbŞ
;

1226 
ev®_v®ue_t
 *
	mv®ue
;

1229 
sym_m­_t
 
	gsym_m­
[] = {

1230 { "ª_št", &
ª_št
 },

1231 { "a_ušt", &
a_ušt
 },

1232 { "a_æßt", &
a_æßt
 },

1233 { "a_doubË", &
a_doubË
 },

1234 { "a_symbŞ", &
a_symbŞ
 },

1235 { 
NULL
, NULL },

1238 
ev®_v®ue_t


1239 
	$my_ev®_id’t
(
ev®_¡©e_t
 *
es
)

1241 
sym_m­_t
 *
sym
;

1243 
sym
=
sym_m­
; sym->
symbŞ
 !ğ
NULL
; sym++)

1245 ià(!
	`¡rcmp
(
sym
->
symbŞ
, 
es
->
tok_buf
))

1246  *
sym
->
v®ue
;

1249 
ev®_”rÜ
 = 
ERR_UNDEFVAR
;

1250 
ev®_”r_exŒa_šfo
 = 
es
->
tok_buf
;

1251  
”r_v®ue
;

1252 
	}
}

1255 
	$maš
()

1257 
ev®_¡©e_t
 *
es
;

1260 
ª_št
.
ty³
 = 
‘_št
;‡n_št.
v®ue
.
as_št
 = 1;

1261 
a_ušt
.
ty³
 = 
‘_ušt
;‡_ušt.
v®ue
.
as_ušt
 = 2;

1262 
a_æßt
.
ty³
 = 
‘_æßt
;‡_æßt.
v®ue
.
as_æßt
 = 3.0f;

1263 
a_doubË
.
ty³
 = 
‘_doubË
;‡_doubË.
v®ue
.
as_doubË
 = 4.0;

1264 
a_symbŞ
.
ty³
 = 
‘_symbŞ
;‡_symbŞ.
v®ue
.
as_symbŞ
 = "testing 1 2 3...";

1267 
es
 = 
	`ev®_Ãw
(
my_ev®_id’t
, 
NULL
);

1271 
ev®_v®ue_t
 
v®
;

1272 
ex´_buf
[1024];

1274 
	`fg‘s
(
ex´_buf
, 1024, 
¡dš
);

1277 ià(
ex´_buf
[
	`¡¾’
(expr_buf)-1] == '\n')

1278 
ex´_buf
[
	`¡¾’
(expr_buf)-1] = '\0';

1280 ià(
ex´_buf
[0] == '\0')

1281 
	`ex™
(0);

1283 
v®
 = 
	`ev®_ex´
(
es
, 
ex´_buf
, 
NULL
);

1284 ià(
ev®_”rÜ
)

1286 ià(
ev®_”r_exŒa_šfo
)

1287 
	`årštf
(
¡dout
, "ev®ƒ¼Ü: %s: %s\n", 
ev®_”r_¡r
[
ev®_”rÜ
],
ev®_”r_exŒa_šfo
);

1289 
	`årštf
(
¡dout
, "ev®ƒ¼Ü: %s\n", 
ev®_”r_¡r
[
ev®_”rÜ
]);

1293 
	`årštf
(
¡dout
, "% =ğ", 
ex´_buf
);

1294 
	`ev®_´št
(
¡dout
, 
v®
);

1295 
	`årštf
(
¡dout
, "\n");

1298 
	}
}

	@eval.h

94 #iâdeà
EVAL_H


95 
	#EVAL_H


	)

97 
	~<¡dio.h
>

98 
	~"ho¡.h
"

99 
	~"misc.h
"

100 
	~"machše.h
"

103 
	gev®_¡©e_t
;

104 
	gev®_v®ue_t
;

109 
	gev®_v®ue_t


110 (*
	tev®_id’t_t
)(
	tev®_¡©e_t
 *
	tes
);

113 
	eev®_tok’_t
 {

114 
	mtok_id’t
,

115 
	mtok_cÚ¡
,

116 
	mtok_¶us
,

117 
	mtok_mšus
,

118 
	mtok_muÉ
,

119 
	mtok_div
,

120 
	mtok_İ¬’
,

121 
	mtok_ı¬’
,

122 
	mtok_eof
,

123 
	mtok_wh™e¥aû
,

124 
	mtok_šv®id


128 
	sev®_¡©e_t
 {

129 *
	mp
;

130 *
	mÏ¡p
;

131 
ev®_id’t_t
 
	mf_ev®_id’t
;

132 *
	mu£r_±r
;

133 
	mtok_buf
[512];

134 
ev®_tok’_t
 
	m³ek_tok
;

138 
	eev®_”r_t
 {

139 
	mERR_NOERR
,

140 
	mERR_UPAREN
,

141 
	mERR_NOTERM
,

142 
	mERR_DIV0
,

143 
	mERR_BADCONST
,

144 
	mERR_BADEXPR
,

145 
	mERR_UNDEFVAR
,

146 
	mERR_EXTRA
,

147 
	mERR_NUM


152 * 
ev®_”r_exŒa_šfo
;

155 
ev®_”r_t
 
ev®_”rÜ
 ;

158 *
ev®_”r_¡r
[
ERR_NUM
];

161 
	eev®_ty³_t
 {

162 
	m‘_št
,

163 
	m‘_ušt
,

164 
	m‘_addr
,

165 #ifdeà
HOST_HAS_QWORD


166 
	m‘_qwÜd
,

167 
	m‘_sqwÜd
,

169 
	m‘_æßt
,

170 
	m‘_doubË
,

171 
	m‘_symbŞ
,

172 
	m‘_NUM


176 #ifdeà
HOST_HAS_QWORD


177 
	#EVAL_INTEGRAL
(
TYPE
è\

	)

178 ((
	gTYPE
è=ğ
‘_št
 || (
TYPE
è=ğ
‘_ušt
 || (TYPEè=ğ
‘_addr
 \

179 || (
TYPE
è=ğ
‘_qwÜd
 || (TYPEè=ğ
‘_sqwÜd
)

181 
	#EVAL_INTEGRAL
(
TYPE
è\

	)

182 ((
TYPE
è=ğ
‘_št
 || (TYPEè=ğ
‘_ušt
 || (TYPEè=ğ
‘_addr
)

186 *
ev®_ty³_¡r
[
‘_NUM
];

189 
	sev®_v®ue_t
 {

190 
ev®_ty³_t
 
	mty³
;

192 
	mas_št
;

193 
	mas_ušt
;

194 
md_addr_t
 
	mas_addr
;

195 #ifdeà
HOST_HAS_QWORD


196 
qwÜd_t
 
	mas_qwÜd
;

197 
sqwÜd_t
 
	mas_sqwÜd
;

199 
	mas_æßt
;

200 
	mas_doubË
;

201 *
	mas_symbŞ
;

202 } 
	mv®ue
;

210 
ev®_as_doubË
(
ev®_v®ue_t
 
v®
);

213 
ev®_as_æßt
(
ev®_v®ue_t
 
v®
);

215 #ifdeà
HOST_HAS_QWORD


217 
qwÜd_t
 
ev®_as_qwÜd
(
ev®_v®ue_t
 
v®
);

220 
sqwÜd_t
 
ev®_as_sqwÜd
(
ev®_v®ue_t
 
v®
);

224 
md_addr_t
 
ev®_as_addr
(
ev®_v®ue_t
 
v®
);

227 
ev®_as_ušt
(
ev®_v®ue_t
 
v®
);

230 
ev®_as_št
(
ev®_v®ue_t
 
v®
);

233 
ev®_¡©e_t
 *

234 
ev®_Ãw
(
ev®_id’t_t
 
f_ev®_id’t
,

235 *
u£r_±r
);

239 
ev®_d–‘e
(
ev®_¡©e_t
 *
es
);

243 
ev®_v®ue_t


244 
ev®_ex´
(
ev®_¡©e_t
 *
es
,

245 *
p
,

246 **
’dp
);

250 
ev®_´št
(
FILE
 *
¡»am
,

251 
ev®_v®ue_t
 
v®
);

	@eventq.c

86 
	~<¡dio.h
>

87 
	~<¡dlib.h
>

89 
	~"ho¡.h
"

90 
	~"misc.h
"

91 
	~"machše.h
"

92 
	~"ev’tq.h
"

94 
	gev’tq_max_ev’ts
;

95 
	gev’tq_ev’t_couÁ
;

96 
ev’tq_desc
 *
	gev’tq_³ndšg
;

97 
ev’tq_desc
 *
	gev’tq_ä“
;

99 
EVENTQ_ID_TYPE
 
	gÃxt_ID
 = 1;

102 
	$ev’tq_š™
(
max_ev’ts
)

104 
ev’tq_max_ev’ts
 = 
max_ev’ts
;

105 
ev’tq_ev’t_couÁ
 = 0;

106 
ev’tq_³ndšg
 = 
NULL
;

107 
ev’tq_ä“
 = 
NULL
;

108 
	}
}

110 
	#__QUEUE_EVENT
(
WHEN
, 
ID
, 
ACTION
è\

	)

111 
ev’tq_desc
 *
	g´ev
, *
	gev
, *
	gÃw
; \

113 ià(!
	gev’tq_ä“
) \

115 ià(
	gev’tq_max_ev’ts
 && 
	gev’tq_ev’t_couÁ
 >ğ
ev’tq_max_ev’ts
) \

116 
·nic
("too manyƒvents"); \

117 
	gev’tq_ä“
 = 
ÿÎoc
(1, (
ev’tq_desc
)); \

119 
	gÃw
 = 
ev’tq_ä“
; \

120 
	gev’tq_ä“
 = 
ev’tq_ä“
->
Ãxt
; \

122 
	gÃw
->
	gwh’
 = (
WHEN
); (
	gID
èğ
Ãw
->
id
 = 
Ãxt_ID
++; 
	gACTION
; \

124 
	g´ev
=
NULL
,
	gev
=
ev’tq_³ndšg
; \

125 
	gev
 &&ƒv->
	gwh’
 < when; \

126 
	g´ev
=
ev
, 
	gev
óv->
Ãxt
); \

128 ià(
	g´ev
) \

131 
	gÃw
->
	gÃxt
 = 
´ev
->
Ãxt
; \

132 
	g´ev
->
	gÃxt
 = 
Ãw
; \

137 
	gÃw
->
	gÃxt
 = 
ev’tq_³ndšg
; \

138 
	gev’tq_³ndšg
 = 
Ãw
; \

141 
EVENTQ_ID_TYPE


142 
	$ev’tq_queue_£tb™
(
SS_TIME_TYPE
 
wh’
,

143 
BITMAP_ENT_TYPE
 *
bm­
, 
sz
, 
b™num
)

145 
EVENTQ_ID_TYPE
 
id
;

146 
	`__QUEUE_EVENT
(
wh’
, 
id
, \

147 
Ãw
->
aùiÚ
 = 
Ev’tS‘B™
;‚ew->
d©a
.
b™
.
bm­
 = bmap; \

148 
Ãw
->
d©a
.
b™
.
sz
 = sz;‚ew->d©a.b™.
b™num
 = bitnum);

149  
id
;

150 
	}
}

152 
EVENTQ_ID_TYPE


153 
	$ev’tq_queue_ş—rb™
(
SS_TIME_TYPE
 
wh’
,

154 
BITMAP_ENT_TYPE
 *
bm­
, 
sz
, 
b™num
)

156 
EVENTQ_ID_TYPE
 
id
;

157 
	`__QUEUE_EVENT
(
wh’
, 
id
, \

158 
Ãw
->
aùiÚ
 = 
Ev’tCË¬B™
;‚ew->
d©a
.
b™
.
bm­
 = bmap; \

159 
Ãw
->
d©a
.
b™
.
sz
 = sz;‚ew->d©a.b™.
b™num
 = bitnum);

160  
id
;

161 
	}
}

163 
EVENTQ_ID_TYPE


164 
	$ev’tq_queue_£tæag
(
SS_TIME_TYPE
 
wh’
, *
pæag
, 
v®ue
)

166 
EVENTQ_ID_TYPE
 
id
;

167 
	`__QUEUE_EVENT
(
wh’
, 
id
, \

168 
Ãw
->
aùiÚ
 = 
Ev’tS‘FÏg
; \

169 
Ãw
->
d©a
.
æag
.
pæag
 =…æag;‚ew->d©a.æag.
v®ue
 = value);

170  
id
;

171 
	}
}

173 
EVENTQ_ID_TYPE


174 
	$ev’tq_queue_addİ
(
SS_TIME_TYPE
 
wh’
, *
summªd
, 
add’d
)

176 
EVENTQ_ID_TYPE
 
id
;

177 
	`__QUEUE_EVENT
(
wh’
, 
id
, \

178 
Ãw
->
aùiÚ
 = 
Ev’tAddOp
; \

179 
Ãw
->
d©a
.
addİ
.
summªd
 = summand; \

180 
Ãw
->
d©a
.
addİ
.
add’d
 =‡ddend);

181  
id
;

182 
	}
}

184 
EVENTQ_ID_TYPE


185 
ev’tq_queue_ÿÎback
(
SS_TIME_TYPE
 
wh’
,

186 (*
â
)(
SS_TIME_TYPE
 
time
, 
¬g
), arg)

188 
EVENTQ_ID_TYPE
 
id
;

189 
	`__QUEUE_EVENT
(
wh’
, 
id
, \

190 
Ãw
->
aùiÚ
 = 
Ev’tC®lback
;‚ew->
d©a
.
ÿÎback
.
â
 = fn;\

191 
Ãw
->
d©a
.
ÿÎback
.
¬g
 =‡rg);

192  
id
;

193 
	}
}

195 
	#EXECUTE_ACTION
(
ev
, 
now
è\

	)

197 
	gev
->
	gaùiÚ
) { \

198 
	gEv’tS‘B™
: \

199 
BITMAP_SET
(
ev
->
d©a
.
b™
.
bm­
,ƒv->d©a.b™.
sz
,ƒv->d©a.b™.
b™num
);\

201 
	gEv’tCË¬B™
: \

202 
BITMAP_CLEAR
(
ev
->
d©a
.
b™
.
bm­
,ƒv->d©a.b™.
sz
,ƒv->d©a.b™.
b™num
);\

204 
	gEv’tS‘FÏg
: \

205 *
ev
->
d©a
.
æag
.
pæag
 =ƒv->d©a.æag.
v®ue
; \

207 
	gEv’tAddOp
: \

208 *
ev
->
d©a
.
addİ
.
summªd
 +ğev->d©a.addİ.
add’d
; \

210 
	gEv’tC®lback
: \

211 (*
ev
->
d©a
.
ÿÎback
.
â
)(
now
, 
	gev
->
	gd©a
.
	gÿÎback
.
	g¬g
); \

214 
·nic
("bogusƒvent‡ction"); \

220 
	$ev’tq_execu‹
(
EVENTQ_ID_TYPE
 
id
)

222 
ev’tq_desc
 *
´ev
, *
ev
;

224 
´ev
=
NULL
,
ev
=
ev’tq_³ndšg
;ƒv;…»vóv,evóv->
Ãxt
)

226 ià(
ev
->
id
 == id)

228 ià(
´ev
)

231 
´ev
->
Ãxt
 = 
ev
->next;

236 
ev’tq_³ndšg
 = 
ev
->
Ãxt
;

240 
	`EXECUTE_ACTION
(
ev
, 0);

243 
ev
->
Ãxt
 = 
ev’tq_ä“
;

244 
ev’tq_ä“
 = 
ev
;

247  
TRUE
;

251  
FALSE
;

252 
	}
}

257 
	$ev’tq_»move
(
EVENTQ_ID_TYPE
 
id
)

259 
ev’tq_desc
 *
´ev
, *
ev
;

261 
´ev
=
NULL
,
ev
=
ev’tq_³ndšg
;ƒv;…»vóv,evóv->
Ãxt
)

263 ià(
ev
->
id
 == id)

265 ià(
´ev
)

268 
´ev
->
Ãxt
 = 
ev
->next;

273 
ev’tq_³ndšg
 = 
ev
->
Ãxt
;

277 
ev
->
Ãxt
 = 
ev’tq_ä“
;

278 
ev’tq_ä“
 = 
ev
;

281  
TRUE
;

285  
FALSE
;

286 
	}
}

289 
	$ev’tq_£rviû_ev’ts
(
SS_TIME_TYPE
 
now
)

291 
ev’tq_³ndšg
 &&ƒv’tq_³ndšg->
wh’
 <ğ
now
)

293 
ev’tq_desc
 *
ev
 = 
ev’tq_³ndšg
;

296 
	`EXECUTE_ACTION
(
ev
, 
now
);

299 
ev’tq_³ndšg
 = 
ev
->
Ãxt
;

300 
ev
->
Ãxt
 = 
ev’tq_ä“
;

301 
ev’tq_ä“
 = 
ev
;

303 
	}
}

306 
	$ev’tq_dump
(
FILE
 *
¡»am
)

308 
ev’tq_desc
 *
ev
;

310 ià(!
¡»am
)

311 
¡»am
 = 
¡d”r
;

313 
	`årštf
(
¡»am
, "Pending Events: ");

314 
ev
=
ev’tq_³ndšg
;ƒv;ƒvóv->
Ãxt
)

316 
	`årštf
(
¡»am
, "@ %.0f:%s:",

317 ()
ev
->
wh’
,

318 
ev
->
aùiÚ
 =ğ
Ev’tS‘B™
 ? "set bit"

319 : 
ev
->
aùiÚ
 =ğ
Ev’tCË¬B™
 ? "clear bit"

320 : 
ev
->
aùiÚ
 =ğ
Ev’tS‘FÏg
 ? "set flag"

321 : 
ev
->
aùiÚ
 =ğ
Ev’tAddOp
 ? "add operation"

322 : 
ev
->
aùiÚ
 =ğ
Ev’tC®lback
 ? "call back"

323 : (
	`abÜt
(), ""));

324 
ev
->
aùiÚ
) {

325 
Ev’tS‘B™
:

326 
Ev’tCË¬B™
:

327 
	`årštf
(
¡»am
, "0x%p, %d, %d",

328 
ev
->
d©a
.
b™
.
bm­
,ƒv->d©a.b™.
sz
,ƒv->d©a.b™.
b™num
);

330 
Ev’tS‘FÏg
:

331 
	`årštf
(
¡»am
, "0x%p, %d", 
ev
->
d©a
.
æag
.
pæag
,ƒv->d©a.æag.
v®ue
);

333 
Ev’tAddOp
:

334 
	`årštf
(
¡»am
, "0x%p, %d",

335 
ev
->
d©a
.
addİ
.
summªd
,ƒv->d©a.addİ.
add’d
);

337 
Ev’tC®lback
:

338 
	`årštf
(
¡»am
, "0x%p, %d",

339 
ev
->
d©a
.
ÿÎback
.
â
,ƒv->d©a.ÿÎback.
¬g
);

342 
	`·nic
("bogusƒvent‡ction");

344 
	`årštf
(
¡»am
, " ");

346 
	}
}

	@eventq.h

87 #iâdeà
EVENTQ_H


88 
	#EVENTQ_H


	)

90 
	~<¡dio.h
>

92 
	~"ho¡.h
"

93 
	~"misc.h
"

94 
	~"b™m­.h
"

101 
	eev’tq_aùiÚ
 {

102 
	mEv’tS‘B™
,

103 
	mEv’tCË¬B™
,

104 
	mEv’tS‘FÏg
,

105 
	mEv’tAddOp
,

106 
	mEv’tC®lback
,

110 
	tEVENTQ_ID_TYPE
;

113 
	sev’tq_desc
 {

114 
ev’tq_desc
 *
	mÃxt
;

115 
SS_TIME_TYPE
 
	mwh’
;

116 
EVENTQ_ID_TYPE
 
	mid
;

117 
ev’tq_aùiÚ
 
	maùiÚ
;

118 
	uev’tq_d©a
 {

120 
BITMAP_ENT_TYPE
 *
	mbm­
;

121 
	msz
;

122 
	mb™num
;

123 } 
	mb™
;

125 *
	mpæag
;

126 
	mv®ue
;

127 } 
	mæag
;

129 *
	msummªd
;

130 
	madd’d
;

131 } 
	maddİ
;

133 (*
	mâ
)(
SS_TIME_TYPE
 
	mtime
, 
	m¬g
);

134 
	m¬g
;

135 } 
	mÿÎback
;

136 } 
	md©a
;

141 
ev’tq_š™
(
max_ev’ts
);

145 
EVENTQ_ID_TYPE
 
ev’tq_queue_£tb™
(
SS_TIME_TYPE
 
wh’
,

146 
BITMAP_ENT_TYPE
 *
bm­
, 
sz
, 
b™num
);

147 
EVENTQ_ID_TYPE
 
ev’tq_queue_ş—rb™
(
SS_TIME_TYPE
 
wh’
, 
BITMAP_ENT_TYPE
 *
bm­
,

148 
sz
, 
b™num
);

149 
EVENTQ_ID_TYPE
 
ev’tq_queue_£tæag
(
SS_TIME_TYPE
 
wh’
,

150 *
pæag
, 
v®ue
);

151 
EVENTQ_ID_TYPE
 
ev’tq_queue_addİ
(
SS_TIME_TYPE
 
wh’
,

152 *
summªd
, 
add’d
);

153 
EVENTQ_ID_TYPE
 
ev’tq_queue_ÿÎback
(
SS_TIME_TYPE
 
wh’
,

154 (*
â
)(
SS_TIME_TYPE
 
time
, 
¬g
),

155 
¬g
);

159 
	`ev’tq_execu‹
(
EVENTQ_ID_TYPE
 
id
);

163 
	`ev’tq_»move
(
EVENTQ_ID_TYPE
 
id
);

166 
	`ev’tq_£rviû_ev’ts
(
SS_TIME_TYPE
 
now
);

168 
	`ev’tq_dump
(
FILE
 *
¡»am
);

	@flp.c

27 
	~"æp.h
"

28 
	~"ut.h
"

30 
	~<¡dio.h
>

31 
	~<¡ršgs.h
>

32 
	~<¡ršg.h
>

33 
	~<¡dlib.h
>

34 
	~"h—d”s.h
"

36 
	$´št_æp_fig
 (
æp_t
 *
æp
, 
FILE
 *
outfe
)

38 
i
;

39 
un™_t
 *
un™
;

41 
	`årštf
(
outfe
, "FIG starts\n");

42 
i
=0; i< 
æp
->
n_un™s
; i++) {

43 
un™
 = &
æp
->
un™s
[
i
];

44 
	`årštf
(
outfe
, "%.7à%.7à%.7à%.7à%.7à%.7à%.7à%.7à%.7à%.7f\n", 
un™
->
Ëáx
, un™->
bÙtomy
, \

45 
un™
->
Ëáx
, un™->
bÙtomy
 + un™->
height
, un™->Ëáx + un™->
width
, unit->bottomy + \

46 
un™
->
height
, un™->
Ëáx
 + un™->
width
, un™->
bÙtomy
, unit->leftx, unit->bottomy);

47 
	`årštf
(
outfe
, "%s\n", 
un™
->
Çme
);

49 
	`årštf
(
outfe
, "FIGƒnds\n");

50 
	}
}

53 
æp_t
 *
	$»ad_æp
(*
fe
)

55 
¡r
[
STR_SIZE
], 
cİy
[STR_SIZE];

56 
FILE
 *
å
 = 
	`fİ’
(
fe
, "r");

57 
æp_t
 *
æp
;

58 
i
=0, 
couÁ
 = 0;

59 *
±r
;

61 ià(!
å
) {

62 
	`¥rštf
(
¡r
, "”rÜ o³nšg f%s", 
fe
);

63 
	`çl
(
¡r
);

66 !
	`ãof
(
å
))

68 
	`fg‘s
(
¡r
, 
STR_SIZE
, 
å
);

69 ià(
	`ãof
(
å
))

71 
±r
 = 
	`¡¹ok
(
¡r
, " \t\n");

72 iàĞ
±r
 &&…tr[0] != '#')

73 
couÁ
++;

76 if(!
couÁ
)

77 
	`çl
("no units specified inhe floorplan file");

79 
æp
 = (
æp_t
 *è
	`ÿÎoc
 (1, (flp_t));

80 if(!
æp
)

81 
	`çl
("memory‡llocationƒrror");

82 
æp
->
un™s
 = (
un™_t
 *è
	`ÿÎoc
 (
couÁ
, (unit_t));

83 ià(!
æp
->
un™s
)

84 
	`çl
("memory‡llocationƒrror");

85 
æp
->
n_un™s
 = 
couÁ
;

87 
	`f£ek
(
å
, 0, 
SEEK_SET
);

88 !
	`ãof
(
å
))

90 
	`fg‘s
(
¡r
, 
STR_SIZE
, 
å
);

91 ià(
	`ãof
(
å
))

93 
	`¡rıy
(
cİy
, 
¡r
);

94 
±r
 = 
	`¡¹ok
(
¡r
, " \t\n");

95 iàĞ
±r
 &&…tr[0] != '#') {

96 ià(
	`ssÿnf
(
cİy
, "%s%lf%lf%lf%lf", 
æp
->
un™s
[
i
].
Çme
, &æp->un™s[i].
width
, \

97 &
æp
->
un™s
[
i
].
height
, &æp->un™s[i].
Ëáx
, &æp->un™s[i].
bÙtomy
) != 5)

98 
	`çl
("invalid floorplan file format");

99 
i
++;

103 
	`fşo£
(
å
);

105  
æp
;

106 
	}
}

108 
	$ä“_æp
(
æp_t
 *
æp
)

110 
	`ä“
(
æp
->
un™s
);

111 
	`ä“
(
æp
);

112 
	}
}

114 
	$g‘_blk_šdex
(
æp_t
 *
æp
, *
Çme
)

116 
i
;

117 
msg
[
STR_SIZE
];

119 ià(!
æp
)

120 
	`çl
("null…ointer in get_blk_index");

122 
i
 = 0; i < 
æp
->
n_un™s
; i++) {

123 ià(!
	`¡rÿ£cmp
(
Çme
, 
æp
->
un™s
[
i
].name)) {

124  
i
;

128 
	`¥rštf
(
msg
, "block % nÙ found", 
Çme
);

129 
	`çl
(
msg
);

131 
	}
}

133 
	$exi¡s_blk_šdex
(
æp_t
 *
æp
, *
Çme
)

135 
i
;

136 ià(!
æp
)

137 
	`çl
("null…ointer in get_blk_index");

139 
i
 = 0; i < 
æp
->
n_un™s
; i++) {

140 ià(!
	`¡rÿ£cmp
(
Çme
, 
æp
->
un™s
[
i
].name)) {

145 
	}
}

147 
	$is_hÜiz_adj
(
æp_t
 *
æp
, 
i
, 
j
)

149 
x1
, 
x2
, 
x3
, 
x4
;

150 
y1
, 
y2
, 
y3
, 
y4
;

152 ià(
i
 =ğ
j
)

155 
x1
 = 
æp
->
un™s
[
i
].
Ëáx
;

156 
x2
 = 
x1
 + 
æp
->
un™s
[
i
].
width
;

157 
x3
 = 
æp
->
un™s
[
j
].
Ëáx
;

158 
x4
 = 
x3
 + 
æp
->
un™s
[
j
].
width
;

160 
y1
 = 
æp
->
un™s
[
i
].
bÙtomy
;

161 
y2
 = 
y1
 + 
æp
->
un™s
[
i
].
height
;

162 
y3
 = 
æp
->
un™s
[
j
].
bÙtomy
;

163 
y4
 = 
y3
 + 
æp
->
un™s
[
j
].
height
;

166 ià(
	`eq
(
x2
,
x3
è&&ƒq(
y2
,
y3
))

168 ià(
	`eq
(
x1
,
x4
è&&ƒq(
y1
,
y4
))

170 ià(
	`eq
(
x2
,
x3
è&&ƒq(
y1
,
y4
))

172 ià(
	`eq
(
x1
,
x4
è&&ƒq(
y2
,
y3
))

175 ià(
	`eq
(
x1
,
x4
è||ƒq(
x2
,
x3
))

176 ià((
y3
 >ğ
y1
 && y3 <ğ
y2
è|| (
y4
 >= y1 && y4 <= y2) ||

177 (
y1
 >ğ
y3
 && y1 <ğ
y4
è|| (
y2
 >= y3 && y2 <= y4))

181 
	}
}

183 
	$is_v”t_adj
 (
æp_t
 *
æp
, 
i
, 
j
)

185 
x1
, 
x2
, 
x3
, 
x4
;

186 
y1
, 
y2
, 
y3
, 
y4
;

188 ià(
i
 =ğ
j
)

191 
x1
 = 
æp
->
un™s
[
i
].
Ëáx
;

192 
x2
 = 
x1
 + 
æp
->
un™s
[
i
].
width
;

193 
x3
 = 
æp
->
un™s
[
j
].
Ëáx
;

194 
x4
 = 
x3
 + 
æp
->
un™s
[
j
].
width
;

196 
y1
 = 
æp
->
un™s
[
i
].
bÙtomy
;

197 
y2
 = 
y1
 + 
æp
->
un™s
[
i
].
height
;

198 
y3
 = 
æp
->
un™s
[
j
].
bÙtomy
;

199 
y4
 = 
y3
 + 
æp
->
un™s
[
j
].
height
;

202 ià(
	`eq
(
x2
,
x3
è&&ƒq(
y2
,
y3
))

204 ià(
	`eq
(
x1
,
x4
è&&ƒq(
y1
,
y4
))

206 ià(
	`eq
(
x2
,
x3
è&&ƒq(
y1
,
y4
))

208 ià(
	`eq
(
x1
,
x4
è&&ƒq(
y2
,
y3
))

211 ià(
	`eq
(
y1
,
y4
è||ƒq(
y2
,
y3
))

212 ià((
x3
 >ğ
x1
 && x3 <ğ
x2
è|| (
x4
 >= x1 && x4 <= x2) ||

213 (
x1
 >ğ
x3
 && x1 <ğ
x4
è|| (
x2
 >= x3 && x2 <= x4))

217 
	}
}

219 
	$g‘_sh¬ed_Ën
(
æp_t
 *
æp
, 
i
, 
j
)

221 
p11
, 
p12
, 
p21
, 
p22
;

222 
p11
 = 
p12
 = 
p21
 = 
p22
 = 0.0;

224 ià(
i
==
j
)

227 ià(
	`is_hÜiz_adj
(
æp
, 
i
, 
j
)) {

228 
p11
 = 
æp
->
un™s
[
i
].
bÙtomy
;

229 
p12
 = 
p11
 + 
æp
->
un™s
[
i
].
height
;

230 
p21
 = 
æp
->
un™s
[
j
].
bÙtomy
;

231 
p22
 = 
p21
 + 
æp
->
un™s
[
j
].
height
;

234 ià(
	`is_v”t_adj
(
æp
, 
i
, 
j
)) {

235 
p11
 = 
æp
->
un™s
[
i
].
Ëáx
;

236 
p12
 = 
p11
 + 
æp
->
un™s
[
i
].
width
;

237 
p21
 = 
æp
->
un™s
[
j
].
Ëáx
;

238 
p22
 = 
p21
 + 
æp
->
un™s
[
j
].
width
;

241  (
	`MIN
(
p12
, 
p22
è- 
	`MAX
(
p11
, 
p21
));

242 
	}
}

244 
	$g‘_tÙ®_width
(
æp_t
 *
æp
)

246 
i
;

247 
mš_x
 = 
æp
->
un™s
[0].
Ëáx
;

248 
max_x
 = 
æp
->
un™s
[0].
Ëáx
 + fÍ->un™s[0].
width
;

250 
i
=1; i < 
æp
->
n_un™s
; i++) {

251 ià(
æp
->
un™s
[
i
].
Ëáx
 < 
mš_x
)

252 
mš_x
 = 
æp
->
un™s
[
i
].
Ëáx
;

253 ià(
æp
->
un™s
[
i
].
Ëáx
 + fÍ->un™s[i].
width
 > 
max_x
)

254 
max_x
 = 
æp
->
un™s
[
i
].
Ëáx
 + fÍ->un™s[i].
width
;

257  (
max_x
 - 
mš_x
);

258 
	}
}

260 
	$g‘_tÙ®_height
(
æp_t
 *
æp
)

262 
i
;

263 
mš_y
 = 
æp
->
un™s
[0].
bÙtomy
;

264 
max_y
 = 
æp
->
un™s
[0].
bÙtomy
 + fÍ->un™s[0].
height
;

266 
i
=1; i < 
æp
->
n_un™s
; i++) {

267 ià(
æp
->
un™s
[
i
].
bÙtomy
 < 
mš_y
)

268 
mš_y
 = 
æp
->
un™s
[
i
].
bÙtomy
;

269 ià(
æp
->
un™s
[
i
].
bÙtomy
 + fÍ->un™s[i].
height
 > 
max_y
)

270 
max_y
 = 
æp
->
un™s
[
i
].
bÙtomy
 + fÍ->un™s[i].
height
;

273  (
max_y
 - 
mš_y
);

274 
	}
}

	@flp.h

23 #iâdeà
__FLP_H_


24 
	#__FLP_H_


	)

27 
	~<¡dio.h
>

29 
	#STR_SIZE
 256

	)

31 
	#MAX_UNITS
 520

	)

34 
	sun™_t_¡


36 
	mÇme
[
STR_SIZE
];

37 
	mwidth
;

38 
	mheight
;

39 
	mËáx
;

40 
	mbÙtomy
;

41 }
	tun™_t
;

44 
	sæp_t_¡


46 
un™_t
 *
	mun™s
;

47 
	mn_un™s
;

48 } 
	tæp_t
;

57 
´št_æp_fig
 (
æp_t
 *
æp
, 
FILE
 *
outfe
);

60 
æp_t
 *
»ad_æp
(*
fe
);

63 
ä“_æp
(
æp_t
 *
æp
);

66 
g‘_blk_šdex
(
æp_t
 *
æp
, *
Çme
);

69 
exi¡s_blk_šdex
(
æp_t
 *
æp
, *
Çme
);

72 
is_hÜiz_adj
(
æp_t
 *
æp
, 
i
, 
j
);

75 
is_v”t_adj
 (
æp_t
 *
æp
, 
i
, 
j
);

78 
g‘_sh¬ed_Ën
(
æp_t
 *
æp
, 
i
, 
j
);

81 
g‘_tÙ®_width
(
æp_t
 *
æp
);

84 
g‘_tÙ®_height
(
æp_t
 *
æp
);

	@headers.h

1 #iâdeà
HEADER_H_


3 
	#HEADER_H_


	)

5 
	~<¡dio.h
>

6 
	~<¡dlib.h
>

7 
	~<m©h.h
>

8 
	~<as£¹.h
>

9 
	~<sigÇl.h
>

10 
	~<¡ršg.h
>

12 
	~"ho¡.h
"

13 
	~"misc.h
"

14 
	~"machše.h
"

15 
	~"»gs.h
"

16 
	~"memÜy.h
"

17 
	~"ÿche.h
"

18 
	~"lßd”.h
"

19 
	~"sysÿÎ.h
"

20 
	~"b´ed.h
"

21 
	~"»sourû.h
"

22 
	~"b™m­.h
"

23 
	~"İtiÚs.h
"

24 
	~"ev®.h
"

25 
	~"¡©s.h
"

26 
	~"±¿û.h
"

27 
	~"dl™e.h
"

28 
	~"sim.h
"

29 
	~"ÃtwÜk.h
"

30 
	~"my¡©s.h
"

33 
	~"İtiÿlFÜSim¶esÿÏr/pošt-pošt.h
"

36 
	~"smt.h
"

38 
	~"š‹rcÚÃù.h
"

41 
	~"cÚ‹xt.h
"

46 
	~"şu¡”.h
"

48 
	~"şu¡”-İts.h
"

50 
	~"hÙ¥Ù.h
"

52 
	~"cmt.h
"

55 
	~"MTA.h
"

57 
	~"tok’coh”’û.h
"

65 
	#PCB_LINE_SIZE
 16

	)

66 
couÁ”_t
 
sim_cyşe
;

67 
aùu®_şu¡”s
;

68 
tÙ_d–
;

69 
tÙ_d–_bw
;

70 
num_bw_of
;

71 
RUU_size
;

72 #ifdeà 
COMM_BUFF


73 
couÁ”_t
 
comm1q¿m_acûss_ş
[];

74 
couÁ”_t
 
comm2q¿m_acûss_ş
[];

76 
hÙ¥Ù_cyşe_§m¶šg_štvl
;

80 #ifdeà
GHB


82 
	#GHB_Size
 512

	)

83 
	#DELTA_INDEX_TABLE_Size
 8

	)

84 
	#TAG_INDEX_TABLE_Size
 128

	)

	@host.h

94 #iâdeà
HOST_H


95 
	#HOST_H


	)

98 #iâdeà
__STDC__


99 #”rÜ 
The
 
Sim¶eSÿÏr
 
simuÏtÜs
 
mu¡
 
be
 
comped
 
w™h
 
ª
 
ANSI
 
C
 
comp”
.

103 #undeà
INLINE


104 #ià
defšed
(
__GNUC__
)

105 
	#INLINE
 
šlše


	)

107 
	#INLINE


	)

111 #ifdeà
__GNUC__


113 
	#SYMCAT
(
X
,
Y
èX##
	)
Y

114 
	#ANSI_SYMCAT


	)

116 #ifdeà
OLD_SYMCAT


117 
	#SYMCAT
(
X
,
Y
èX 
	)
Y

119 
	#SYMCAT
(
X
,
Y
èX##
	)
Y

120 
	#ANSI_SYMCAT


	)

125 
	tboŞ_t
;

126 
	tby‹_t
;

127 sigÃd 
	tsby‹_t
;

128 
	th®f_t
;

129 sigÃd 
	tsh®f_t
;

130 
	twÜd_t
;

131 sigÃd 
	tswÜd_t
;

132 
	tsæßt_t
;

133 
	tdæßt_t
;

136 #ià
defšed
(
__GNUC__
è|| defšed(
__SUNPRO_C
è|| defšed(
__CC_C89
è|| defšed(
__CC_XLC
)

137 
	#HOST_HAS_QWORD


	)

138 
	tqwÜd_t
;

139 sigÃd 
	tsqwÜd_t
;

140 #ifdeà
ANSI_SYMCAT


141 
	#ULL
(
N
èN##
ULL


	)

142 
	#LL
(
N
èN##
LL


	)

144 
	#ULL
(
N
èN 
ULL


	)

145 
	#LL
(
N
èN 
LL


	)

147 #–ià
defšed
(
__®pha
)

148 
	#HOST_HAS_QWORD


	)

149 
	tqwÜd_t
;

150 sigÃd 
	tsqwÜd_t
;

151 #ifdeà
ANSI_SYMCAT


152 
	#ULL
(
N
èN##
UL


	)

153 
	#LL
(
N
èN##
L


	)

155 
	#ULL
(
N
èN 
UL


	)

156 
	#LL
(
N
èN 
L


	)

158 #–ià
defšed
(
_MSC_VER
)

159 
	#HOST_HAS_QWORD


	)

160 
	t__št64
 
	tqwÜd_t
;

161 sigÃd 
	t__št64
 
	tsqwÜd_t
;

162 
	#ULL
(
N
è((
qwÜd_t
)(N))

	)

163 
	#LL
(
N
è((
sqwÜd_t
)(N))

	)

165 #undeà
HOST_HAS_QWORD


169 #ifdeà
HOST_HAS_QWORD


170 
sqwÜd_t
 
	tcouÁ”_t
;

172 
couÁ”_t
 
	ttick_t
;

175 
dæßt_t
 
	tcouÁ”_t
;

176 
dæßt_t
 
	ttick_t
;

180 #iâdeà
INF_COUNTER


181 
	#INF_COUNTER
 9223372036854775807LL

	)

184 #ifdeà
__svr4__


185 
	#£tjmp
 
_£tjmp


	)

186 
	#lÚgjmp
 
_lÚgjmp


	)

	@hotspot.c

188 
	~"RC.h
"

189 
	~"æp.h
"

190 
	~"ut.h
"

191 
	~<¡dio.h
>

192 
	~<¡ršg.h
>

193 
	~<ùy³.h
>

194 
	~"h—d”s.h
"

198 
	#FT_CMP


	)

200 
	#CORE_ELEMENTS
 30

	)

203 
	gom™_Ï‹¿l
 = 0;

204 
	gš™_‹mp
 = 60 + 273.15;

206 
couÁ”_t
 
	gÏ¡_hÙ¥Ù_cyşe
;

207 
	gba£_´oc_äeq
;

208 
	gdtm_u£d
 = 0;

210 *
	gæp_cfg
 = 
NULL
;

211 *
	gš™_fe
 = 
NULL
;

212 *
	g¡—dy_fe
 = 
NULL
;

216 
	gt_ch
 = 0.0005;

217 
	gth”m®_th»shŞd
 = 111.8 + 273.15;

220 
	gc_cÚvec
 = 140.4;

222 
	gr_cÚvec
 = 0.02;

223 
	gs_sšk
 = 0.06;

224 
	gt_sšk
 = 0.0069;

228 
	gs_¥»ad”
 = 0.03;

229 
	gt_¥»ad”
 = 0.001;

232 
	gt_š‹rçû
;

233 
	gt_š‹rçû_um
;

237 
	gamb›Á
 = 45 + 273.15;

239 *
	g‹mp
, *
	ghÙ¥Ù_pow”
, *
	gov”®l_pow”
, *
	g¡—dy_‹mp
, *
	gmid_pow”
,

240 *
	gmid_‹mp
, *
	gtÙ®_Ëakage_pow”
, *
	gşu¡”_tÙ®_Ëakage_pow”
,

241 *
	gşu¡”_av”age_Ëakage
;

242 
æp_t
 *
	gæp
;

243 
couÁ”_t
 
	gtÙ®_–­£d_cyşes
;

245 
	ghÙ¥Ù_ÿÎs
 = 0;

248 
	ghÙ¥Ù_dump_äeq
;

250 
hÙ¥Ù_pow”_¬¿y_t
 
	ghÙ¥Ù_³½”iod
[
CLUSTERS
];

253 
FILE
 *
	gsim_hÙ¥Ùout_fd
;

256 
	$hÙ¥Ù_»g_İtiÚs
 (
İt_odb_t
 *
odb
)

258 
	`İt_»g_¡ršg
(
odb
, "-hÙ¥Ù:æp", "æoÜ¶ª f(.æp))", &
æp_cfg
,

259  
NULL
, 
FALSE
, NULL);

260 
	`İt_»g_¡ršg
(
odb
, "-hotspot:init",

261 "hÙ¥Ùem³¿tu» in™Ÿliz©iÚ fe", &
š™_fe
,

262  
NULL
, 
FALSE
,

263 
NULL
);

264 
	`İt_»g_¡ršg
 (
odb
, "-hotspot:steady",

266 &
¡—dy_fe
,

267  "hÙ¥Ù.out", 
FALSE
, 
NULL
);

268 
	`İt_»g_doubË
 (
odb
, "-hotspot:t_interface",

270 &
t_š‹rçû_um
,

271  30, 
FALSE
, 
NULL
);

272 
	`İt_»g_št
 (
odb
, "-hotspot:dump_freq",

274 &
hÙ¥Ù_dump_äeq
,

275  30, 
FALSE
, 
NULL
);

276 
	`İt_»g_doubË
 (
sim_odb
, "-hotspot:base_proc_freq",

277 "ba£…roûssÜ f»qu’cy iÀHz", &
ba£_´oc_äeq
,

278  2.5e9, 
FALSE
, 
NULL
);

279 
	`İt_»g_æag
(
sim_odb
, "-hotspot:active",

280 "Tuº HÙSpÙ on", &
hÙ¥Ù_aùive
, 
FALSE
, FALSE, 
NULL
);

281 
	}
}

283 
	#FLPGETAREA
(
un™
è(
æp
->
un™s
[
	`g‘_blk_šdex
(æp, un™)].
width
 * fÍ->un™s[g‘_blk_šdex(æp, un™)].
height
)

	)

285 
	gËakage_pow”_çùÜ
[
MAX_UNITS
];

290 
	$š™_Ëakage_pow”
 ()

292 
i
;

293 
tÙ®pow”
 = 0;

294 
tÙ®_¤am_¬—
 = 0;

295 
tÙ®_logic_¬—
 = 0;

298 #iâdeà
FT_CMP


299 
tÙ®_bus_¬—
 = 0;

302 ià(
æp
->
n_un™s
 > 
MAX_UNITS
)

303 
çl


305 
æp
->
n_un™s
, 
MAX_UNITS
);

307 
i
 = 0; i < 
æp
->
n_un™s
; i++)

309 ià(
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "cache") ||

310 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "qram") ||

311 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "IntQ") ||

312 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "FPQ") ||

313 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "LdStQ") ||

314 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "TB") ||

315 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "bpred") ||

316 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "Reg") ||

317 
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "L2SysInterface")

323 
Ëakage_pow”_çùÜ
[
i
] =

324 
SRAMPOWERPERUM2PERTEMP_LEAD
 * 1e12 * 
æp
->
un™s
[
i
].
width
 *

325 
æp
->
un™s
[
i
].
height
;

326 
tÙ®_¤am_¬—
 +ğ
æp
->
un™s
[
i
].
width
 * fÍ->un™s[i].
height
;

331 
Ëakage_pow”_çùÜ
[
i
] =

332 
LOGICPOWERPERUM2PERTEMP_LEAD
 * 1e12 * 
æp
->
un™s
[
i
].
width
 *

333 
æp
->
un™s
[
i
].
height
;

334 
tÙ®_logic_¬—
 +ğ
æp
->
un™s
[
i
].
width
 * fÍ->un™s[i].
height
;

340 ià(!
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "c0"))

342 
Ëakage_pow”_çùÜ
[
i
] *=

343 (
SRAMPOWERPERUM2PERTEMP_CHK
 / 
SRAMPOWERPERUM2PERTEMP_LEAD
);

345 
tÙ®pow”
 +ğ
Ëakage_pow”_çùÜ
[
i
];

348 
	`årštf
 (
¡d”r
, "Estimatedotal‚umber of†ogicransistors: %g\n",

349 (è(
tÙ®_logic_¬—
 * 
LOGICDENSITY
 * 1e12));

350 
	`årštf
 (
¡d”r
, "Estimatedotal‚umber of SRAMransistors: %g\n",

351 (è(
tÙ®_¤am_¬—
 * 
SRAMDENSITY
 * 1e12));

353 #iâdeà
FT_CMP


354 
	`årštf
 (
¡d”r
, "Estimatedotal bus‡rea: %g um^2\n",

355 (è(
tÙ®_bus_¬—
 * 1e12));

358 
	`årštf
 (
¡d”r
, "At 80 C,heotal†eakage…ower would be %g Watts\n",

359 (è
	`LEAKAGEPOWERFROMTEMP
 (
tÙ®pow”
, 273.15 + 80));

360 
	}
}

362 
	#MAX_L2CACHES
 80

363 
l2ÿche_blk_šdex
[
MAX_L2CACHES
];

	)

364 
	gl2ÿche_couÁ
 = 0;

365 
	gl2ÿche_¬—s
[
MAX_L2CACHES
];

369 
	$loÿ‹_l2ÿche
 ()

372 
i
;

373 
tÙ®¬—
 = 0;

374 
i
 = 0; i < 
æp
->
n_un™s
; i++)

376 ià(
	`¡r¡r
 (
æp
->
un™s
[
i
].
Çme
, "L2cache"))

378 ià(
l2ÿche_couÁ
 >ğ
MAX_L2CACHES
)

379 
	`çl
 ("Your MAX_L2CACHES isoo small. Recompile.");

381 
l2ÿche_blk_šdex
[
l2ÿche_couÁ
] = 
i
;

382 
l2ÿche_¬—s
[
l2ÿche_couÁ
] =

383 
æp
->
un™s
[
i
].
width
 * fÍ->un™s[i].
height
;

384 
tÙ®¬—
 +ğ
l2ÿche_¬—s
[
l2ÿche_couÁ
];

385 ++
l2ÿche_couÁ
;

388 
	`årštf
 (
¡d”r
, "Added %d…ieces of L2cache, having‡otal‡rea of %g\n",

389 
l2ÿche_couÁ
, 
tÙ®¬—
);

390 
i
 = 0; i < 
l2ÿche_couÁ
; i++)

392 
l2ÿche_¬—s
[
i
] /ğ
tÙ®¬—
;

394 
	}
}

398 
	#FRACTION_DECLARE
(
un™
,
v®ues
...è\

	)

399 cÚ¡ *
	gun™
##
	g_äaù_Çmes
[] = {
v®ues
}; \

400 cÚ¡ 
	gun™
##
	g_äaù_size
 = (
un™
##
_äaù_Çmes
)/(unit##_fract_names[0]); \

401 
	gun™
##
	g_äaù
[(
un™
##
_äaù_Çmes
)/(unit##_fract_names[0])];

403 
	#FRACTION_INIT
(
un™
,
´efix
,
divisÜ
è\

	)

405 
	gun™
##
	g_tÙ®
 = 0; \

406 
	g™r
; \

407 
	gtmp
[100]; \

408 
	g™r
=0;™r<
	gun™
##
	g_äaù_size
;itr++) { \

409 
¥rštf
(
tmp
,
´efix
 "%s",
un™
##
_äaù_Çmes
[
™r
]); \

410 
	gun™
##
	g_tÙ®
 +ğ
FLPGETAREA
(
tmp
); \

412 
	g™r
=0;™r<
	gun™
##
	g_äaù_size
;itr++) { \

413 
¥rštf
(
tmp
,
´efix
 "%s",
un™
##
_äaù_Çmes
[
™r
]); \

414 
	gun™
##
	g_äaù
[
™r
] = 
FLPGETAREA
(
tmp
)/(
un™
##
_tÙ®
*
divisÜ
); \

418 
	#FRACTION_INIT_CORE
(
un™
,
num
,
divisÜ
è\

	)

420 
un™
##
_tÙ®
 = 0; \

421 
™r
; \

422 
tmp
[100]; \

423 
™r
=0;™r<
un™
##
_äaù_size
;itr++) { \

424 
	`¥rštf
(
tmp
,"c%d_%s",
num
, 
un™
##
_äaù_Çmes
[
™r
]); \

425 
un™
##
_tÙ®
 +ğ
	`FLPGETAREA
(
tmp
); \

427 
™r
=0;™r<
un™
##
_äaù_size
;itr++) { \

428 
	`¥rštf
(
tmp
,"c%d_%s",
num
, 
un™
##
_äaù_Çmes
[
™r
]); \

429 
un™
##
_äaù
[
™r
] = 
	`FLPGETAREA
(
tmp
)/(un™##
_tÙ®
*
divisÜ
); \

431 
	}
} 0)

433 
	#FRACTION_UPDATEHSSTAT
(
un™
,
j
,
¥rštffÜm©
...è\

	)

435 
™r
; \

436 
™r
=0;™r<
un™
##
_äaù_size
;itr++) { \

437 
	`¥rštf
(
func_un™
,
¥rštffÜm©
); \

438 
hÙ¥Ù_pow”
[
	`g‘_blk_šdex
(
æp
, 
func_un™
)] +ğ
hÙ¥Ù_³½”iod
[
j
].
un™
*un™##
_äaù
[
™r
]; \

440 
	}
} 0)

442 
	#FRACTION_UPDATESDONE
(
un™
,
i
è
hÙ¥Ù_³½”iod
[i].un™=0

	)

445 
	#FRACTION_UPDATEHSSTAT_CL
(
un™
,
i
è
	`FRACTION_UPDATEHSSTAT
(un™,i,"c%d_%s",i,un™##
_äaù_Çmes
[
™r
]); \

	)

446 
hÙ¥Ù_³½”iod
[
i
].
un™
=0

448 
	#FRACTION_UPDATEHSSTAT_ALLCL
(
un™
,
i
è
	`FRACTION_UPDATEHSSTAT
(un™,0,"c%d_%s",i,un™##
_äaù_Çmes
[
™r
])

	)

450 
	#FRACTION_UPDATEHSSTAT_ALL
(
un™
,
i
è
	`FRACTION_UPDATEHSSTAT
(un™,i,"%s",un™##
_äaù_Çmes
[
™r
])

	)

452 
	`FRACTION_DECLARE
 (
œesuÉbus
, "IntAlu0", "IntAlu1", "IntAlu2",

454 
	`FRACTION_DECLARE
 (
äesuÉbus
, "FPAdd", "FPMult", "FPReg");

455 
	`FRACTION_DECLARE
 (
şock1
,

536 
	`FRACTION_DECLARE
 (
şock2
, "IntQ", "IntReg0", "IntReg1",

538 
	`FRACTION_DECLARE
 (
şock3
, "FPQ", "FPReg", "FPAdd", "FPMult");

541 
	$hÙ¥Ù_š™
 ()

543 
i
;

544 *
sim_¡r_dump
;

545 *
sim_dump
 = 
sim_¡r_dump
;

546 
¡rFeName
[256];

548 ià(!
sim_dump
)

550 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

551 
	`ex™
 (1);

554 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

555 
	`¡rÿt
 (
¡rFeName
, ".hsp");

557 ià((
sim_hÙ¥Ùout_fd
 = 
	`fİ’
 (
¡rFeName
, "w")è=ğ
NULL
)

559 
çl


561 
¡rFeName
);

562 
	`ex™
 (0);

566 
t_š‹rçû
 = 0.000001 * 
t_š‹rçû_um
;

569 
æp
 = 
	`»ad_æp
 (
æp_cfg
);

572 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "TÙ®‚umb” oàşu¡” ¬%i.\n", 
numcÚ‹xts
);

575 
	`´št_æp_fig
 (
æp
, 
sim_hÙ¥Ùout_fd
);

578 
	`loÿ‹_l2ÿche
 ();

581 
	`FRACTION_INIT
 (
şock1
, "", 1);

582 
i
 = 0; i < 
CLUSTERS
; i++)

584 
	`FRACTION_INIT_CORE
 (
œesuÉbus
, 
i
, 1);

585 
	`FRACTION_INIT_CORE
 (
äesuÉbus
, 
i
, 1);

586 
	`FRACTION_INIT_CORE
 (
şock2
, 
i
, 1);

587 
	`FRACTION_INIT_CORE
 (
şock3
, 
i
, 1);

591 
	`š™_Ëakage_pow”
 ();

594 
	`ü—‹_RC_m©riûs
 (
æp
, 
om™_Ï‹¿l
);

599 
‹mp
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

600 
hÙ¥Ù_pow”
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

601 
¡—dy_‹mp
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

602 
ov”®l_pow”
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

604 
mid_‹mp
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

605 
mid_pow”
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

607 
tÙ®_Ëakage_pow”
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

608 
şu¡”_tÙ®_Ëakage_pow”
 = 
	`hÙ¥Ù_veùÜ
 (
æp
->
n_un™s
);

609 
şu¡”_av”age_Ëakage
 = 
	`hÙ¥Ù_veùÜ
 (
numcÚ‹xts
);

612 ià(
š™_fe
)

614 ià(!
dtm_u£d
)

615 
	`»ad_‹mp
 (
æp
, 
‹mp
, 
š™_fe
, 0);

617 
	`»ad_‹mp
 (
æp
, 
‹mp
, 
š™_fe
, 1);

620 
	`£t_‹mp
 (
‹mp
, 
æp
->
n_un™s
, 
š™_‹mp
);

621 
Ï¡_hÙ¥Ù_cyşe
 = 0;

622 
tÙ®_–­£d_cyşes
 = 0;

623 
	}
}

625 
	#HOTSPOTDUMPSTAT
(
niûÇme
,
úame
è
	`årštf
(
sim_hÙ¥Ùout_fd
,"%  \t%.2f\t%.2f\n",‚iûÇme, 
mid_‹mp
[úame]-273.15, 
‹mp
[úame])

	)

627 
	$hÙ¥Ù_dump¡©s
 ()

629 
n
, 
i
;

630 
Ëakage_tÙ®
;

632 
i
 = 0; i < 
æp
->
n_un™s
; i++)

634 
mid_pow”
[
i
] = 
ov”®l_pow”
[i];

635 
mid_pow”
[
i
] /ğ
tÙ®_–­£d_cyşes
;

637 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "totalƒlapsed cycles %lld \n",

638 
tÙ®_–­£d_cyşes
);

640 
	`¡—dy_¡©e_‹mp
 (
mid_pow”
, 
mid_‹mp
, 
æp
->
n_un™s
);

642 
n
 = 
æp
->
n_un™s
;

643 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "Unit \tSteady \tTransient\n");

644 
i
 = 0; i < 
n
; i++)

645 
	`HOTSPOTDUMPSTAT
 (
æp
->
un™s
[
i
].
Çme
, i);

647 
	`HOTSPOTDUMPSTAT
 ("¥»ad”_we¡", 
SP_W
);

648 
	`HOTSPOTDUMPSTAT
 ("¥»ad”_—¡", 
SP_E
);

649 
	`HOTSPOTDUMPSTAT
 ("¥»ad”_nÜth", 
SP_N
);

650 
	`HOTSPOTDUMPSTAT
 ("¥»ad”_south", 
SP_S
);

651 
	`HOTSPOTDUMPSTAT
 ("¥»ad”_bÙtom", 
SP_B
);

652 
	`HOTSPOTDUMPSTAT
 ("sšk_we¡", 
SINK_W
);

653 
	`HOTSPOTDUMPSTAT
 ("sšk_—¡", 
SINK_E
);

654 
	`HOTSPOTDUMPSTAT
 ("sšk_nÜth", 
SINK_N
);

655 
	`HOTSPOTDUMPSTAT
 ("sšk_south", 
SINK_S
);

656 
	`HOTSPOTDUMPSTAT
 ("sšk_bÙtom", 
SINK_B
);

659 
Ëakage_tÙ®
 = 0;

660 
i
 = 0; i < 
n
; i++)

662 
Ëakage_tÙ®
 +=

663 
	`LEAKAGEPOWERFROMTEMP
 (
Ëakage_pow”_çùÜ
[
i
], 
mid_‹mp
[i]);

665 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "Current†eakage…ower of %s is %g W.\n",

666 
æp
->
un™s
[
i
].
Çme
,

667 
	`LEAKAGEPOWERFROMTEMP
 (
Ëakage_pow”_çùÜ
[
i
], 
mid_‹mp
[i]));

670 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "Currentotal†eakage…ower is %g W.\n",

671 
Ëakage_tÙ®
);

672 
	`fæush
(
sim_hÙ¥Ùout_fd
);

673 
	}
}

676 
	$hÙ¥Ù_unš™
 ()

678 
i
, 
j
, 
k
, 
hÙ¥Ù_cyşes
;

680 
tÙ®_av”age_Ëakage
 = 0;

683 
hÙ¥Ù_cyşes
 = 
sim_cyşe
 - (sim_cyş% 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

685 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "Totalƒlasped cycles is %lld.\n",

686 
tÙ®_–­£d_cyşes
);

690 
i
 = 0; i < 
æp
->
n_un™s
; i++)

692 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "Average†eakage…ower of %s is %g W.\n",

693 
æp
->
un™s
[
i
].
Çme
,

694 
tÙ®_Ëakage_pow”
[
i
] / (
tÙ®_–­£d_cyşes
 /

695 
hÙ¥Ù_cyşe_§m¶šg_štvl
));

696 
tÙ®_av”age_Ëakage
 +=

697 
tÙ®_Ëakage_pow”
[
i
] / (
tÙ®_–­£d_cyşes
 /

698 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

703 #ifdeà
FT_CMP


706 
j
 = 0; j < 
numcÚ‹xts
; j++)

709 
şu¡”_av”age_Ëakage
[
j
] = 0;

712 
k
 = (
j
 * 
CORE_ELEMENTS
); k < ((j * CORE_ELEMENTS) + CORE_ELEMENTS);

713 
k
++)

715 
şu¡”_av”age_Ëakage
[
j
] +=

716 
şu¡”_tÙ®_Ëakage_pow”
[
k
] / (
tÙ®_–­£d_cyşes
 /

717 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

719 
	`årštf
 (
sim_hÙ¥Ùout_fd
,

720 "TÙ®‡v”agËakagpow” fÜ clu¡” %˜i %g W.\n", 
j
,

721 
şu¡”_av”age_Ëakage
[
j
]);

725 
	`årštf
 (
sim_hÙ¥Ùout_fd
,

727 
numcÚ‹xts
, 
tÙ®_av”age_Ëakage
);

728 
	`årštf
 (
¡d”r
, "avg_Ëakage_pow”: %gƒÃrgy: %g\n", 
tÙ®_av”age_Ëakage
,Ù®_av”age_Ëakage*
sim_cyşe
);

732 #ifdeà
FT_CMP


733 
j
 = 0; j < 
numcÚ‹xts
; j++)

735 
	`årštf
 (
sim_hÙ¥Ùout_fd
,

736 "TÙ®†—kag’”gy fÜ clu¡” %˜i %g W.\n", 
j
,

737 
şu¡”_av”age_Ëakage
[
j
] * 
tÙ®_–­£d_cyşes
);

741 
	`årštf
 (
sim_hÙ¥Ùout_fd
,

742 "TÙ®‚umb” oà–em’t š…roûssÜ‡rch™eùu»‡»: %i\n", 
i
);

744 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "Average†eakage…ower…er cluster is %g W.\n",

745 
tÙ®_av”age_Ëakage
 / 
numcÚ‹xts
);

748 ià(
¡—dy_fe
)

749 
	`dump_‹mp
 (
æp
, 
¡—dy_‹mp
, 
¡—dy_fe
);

752 
	`ş—nup_hÙ¥Ù
 (
æp
->
n_un™s
);

753 
	`ä“_æp
 (
æp
);

754 
	`ä“_veùÜ
 (
‹mp
);

755 
	`ä“_veùÜ
 (
hÙ¥Ù_pow”
);

756 
	`ä“_veùÜ
 (
¡—dy_‹mp
);

757 
	`ä“_veùÜ
 (
ov”®l_pow”
);

759 
	`ä“_veùÜ
 (
mid_‹mp
);

760 
	`ä“_veùÜ
 (
mid_pow”
);

762 
	`ä“_veùÜ
 (
tÙ®_Ëakage_pow”
);

763 
	`ä“_veùÜ
 (
şu¡”_tÙ®_Ëakage_pow”
);

764 
	`ä“_veùÜ
 (
şu¡”_av”age_Ëakage
);

765 
	}
}

768 
	$upd©e_hÙ¥Ù_¡©s
 (
–­£d_cyşes
)

770 
i
;

774 #iâdeà
FT_CMP


775 
l
;

778 
–­£d_time
;

779 
l2ÿche_pow”
 = 0;

780 
func_un™
[80];

781 #ifdeà
GET_BLK_INDEX


782 
	`GET_BLK_INDEX_CACHE_OPEN
 ();

785 #iâdeà
GET_BLK_INDEX


786 
	#UPDATEHSSTAT
(
Çme
,
memb”
è
	`¥rštf
(
func_un™
,"c%d_%s",
i
,Çme); \

	)

787 
hÙ¥Ù_pow”
[
	`g‘_blk_šdex
(
æp
, 
func_un™
)] +ğ
hÙ¥Ù_³½”iod
[
i
].
memb”
; \

788 
hÙ¥Ù_³½”iod
[
i
].
memb”
=0

790 
	#UPDATEHSSTAT
(
Çme
,
memb”
è
	`GET_BLK_INDEX_CACHE
Òame); \

	)

791 
hÙ¥Ù_pow”
[
	`GET_BLK_INDEX
()] +ğ
hÙ¥Ù_³½”iod
[
i
].
memb”
; \

792 
hÙ¥Ù_³½”iod
[
i
].
memb”
=0

797 
	#UPDATEHSSTATFE
(
Çme
,
memb”
è
hÙ¥Ù_pow”
[
	`g‘_blk_šdex
(
æp
,‚ame)] +ğ
hÙ¥Ù_³½”iod
[
i
].memb”; \

	)

798 
hÙ¥Ù_³½”iod
[
i
].
memb”
=0

800 
	#UPDATEHSSTATFE8
(
Çme
,
memb”
è
	`¥rštf
(
func_un™
,"ã8_%s_%d",Çme,
i
+1); \

	)

801 
hÙ¥Ù_pow”
[
	`g‘_blk_šdex
(
æp
, 
func_un™
)] +ğ
hÙ¥Ù_³½”iod
[
i
].
memb”
; \

802 
hÙ¥Ù_³½”iod
[
i
].
memb”
=0

803 
i
 = 0;

809 
i
 = 0; i < 
numcÚ‹xts
; i++)

811 
	`UPDATEHSSTAT
 ("b´ed", 
b´ed
);

812 
	`UPDATEHSSTAT
 ("L2SysIÁ”çû", 
sysštf
);

813 
	`UPDATEHSSTAT
 ("Iÿche", 
iÿche
);

814 
	`UPDATEHSSTAT
 ("ITB", 
™lb
);

815 
	`UPDATEHSSTAT
 ("F‘ch", 
ãtch
);

816 
	`UPDATEHSSTAT
 ("ROB", 
rob
);

817 
	`UPDATEHSSTAT
 ("FPR’ame", 
ä’ame
);

818 
	`UPDATEHSSTAT
 ("IÁR’ame", 
œ’ame
);

820 
	`FRACTION_UPDATEHSSTAT_ALL
 (
şock1
, 
i
);

825 
i
 = 0; i < 
numcÚ‹xts
; i++)

827 
	`UPDATEHSSTAT
 ("FPMuÉ", 
fmul
);

828 
	`UPDATEHSSTAT
 ("FPReg", 
äeg
);

829 
	`UPDATEHSSTAT
 ("FPAdd", 
çdd
);

831 
	`FRACTION_UPDATEHSSTAT_CL
 (
äesuÉbus
, 
i
);

833 
	`UPDATEHSSTAT
 ("DTB0", 
dtb0
);

834 
	`UPDATEHSSTAT
 ("FPQ", 
fqueue
);

835 
	`UPDATEHSSTAT
 ("IÁQ", 
iqueue
);

836 
	`UPDATEHSSTAT
 ("LdStQ", 
lsq
);

837 
	`UPDATEHSSTAT
 ("IÁReg0", 
œeg0
);

838 
	`UPDATEHSSTAT
 ("IÁAlu0", 
Ÿlu0
);

839 
	`UPDATEHSSTAT
 ("IÁMuÉ", 
Ÿlu2
);

840 
	`UPDATEHSSTAT
 ("DTB1", 
dtb1
);

841 
	`UPDATEHSSTAT
 ("IÁReg1", 
œeg1
);

842 
	`UPDATEHSSTAT
 ("IÁAlu1", 
Ÿlu1
);

843 
	`UPDATEHSSTAT
 ("IÁAlu2", 
Ÿlu3
);

845 
	`FRACTION_UPDATEHSSTAT_CL
 (
œesuÉbus
, 
i
);

848 
	`UPDATEHSSTAT
 ("Dÿche", 
dl1ÿche
);

850 
	`FRACTION_UPDATEHSSTAT_ALLCL
 (
şock2
, 
i
);

851 
	`FRACTION_UPDATEHSSTAT_ALLCL
 (
şock3
, 
i
);

853 
l2ÿche_pow”
 +ğ
hÙ¥Ù_³½”iod
[
i
].
ul2ÿche
;

854 
hÙ¥Ù_³½”iod
[
i
].
ul2ÿche
 = 0;

859 
i
 = 0; i < 
l2ÿche_couÁ
; i++)

861 
hÙ¥Ù_pow”
[
l2ÿche_blk_šdex
[
i
]] +ğ
l2ÿche_pow”
 * 
l2ÿche_¬—s
[i];

864 
i
 = 0; i < 
numcÚ‹xts
; i++)

866 
	`FRACTION_UPDATESDONE
 (
œesuÉbus
,
i
);

867 
	`FRACTION_UPDATESDONE
 (
äesuÉbus
,
i
);

868 
	`FRACTION_UPDATESDONE
 (
şock1
,
i
);

869 
	`FRACTION_UPDATESDONE
 (
şock2
,
i
);

870 
	`FRACTION_UPDATESDONE
 (
şock3
,
i
);

873 
–­£d_time
 = 
–­£d_cyşes
 / 
ba£_´oc_äeq
;

876 
i
 = 0; i < 
æp
->
n_un™s
; i++)

879 
hÙ¥Ù_pow”
[
i
] +=

880 
–­£d_cyşes
 * 
	`LEAKAGEPOWERFROMTEMP
 (
Ëakage_pow”_çùÜ
[
i
],

881 
mid_‹mp
[
i
]);

882 
tÙ®_Ëakage_pow”
[
i
] +=

883 
	`LEAKAGEPOWERFROMTEMP
 (
Ëakage_pow”_çùÜ
[
i
], 
mid_‹mp
[i]);

884 
şu¡”_tÙ®_Ëakage_pow”
[
i
] +=

885 
	`LEAKAGEPOWERFROMTEMP
 (
Ëakage_pow”_çùÜ
[
i
], 
mid_‹mp
[i]);

889 
i
 = 0; i < 
æp
->
n_un™s
; i++)

891 
ov”®l_pow”
[
i
] +ğ
hÙ¥Ù_pow”
[i];

896 
hÙ¥Ù_pow”
[
i
] /ğ(
–­£d_cyşes
);

902 
	`compu‹_‹mp
 (
hÙ¥Ù_pow”
, 
‹mp
, 
æp
->
n_un™s
, 
–­£d_time
);

903 
tÙ®_–­£d_cyşes
 +ğ
–­£d_cyşes
;

906 
i
 = 0; i < 
æp
->
n_un™s
; i++)

907 
hÙ¥Ù_pow”
[
i
] = 0;

908 #ifdeà
GET_BLK_INDEX


909 
	`GET_BLK_INDEX_CACHE_CLOSE
 ();

911 
hÙ¥Ù_ÿÎs
++;

912 ià(
hÙ¥Ù_ÿÎs
 > 
hÙ¥Ù_dump_äeq
)

914 
hÙ¥Ù_ÿÎs
 = 0;

915 
	`hÙ¥Ù_dump¡©s
 ();

917 
	}
}

922 
	$Ëakage_pow”_v®ue
 (
FILE
 * 
å
)

924 
j
, 
k
;

925 
ÿche_av”age_Ëakage
 = 0;

927 
j
 = 0; j < 
numcÚ‹xts
; j++)

930 
şu¡”_av”age_Ëakage
[
j
] = 0;

933 
k
 = (
j
 * 
CORE_ELEMENTS
); k < ((j * CORE_ELEMENTS) + CORE_ELEMENTS);

934 
k
++)

936 
şu¡”_av”age_Ëakage
[
j
] +=

937 
şu¡”_tÙ®_Ëakage_pow”
[
k
] / (
tÙ®_–­£d_cyşes
 /

938 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

941 
şu¡”_av”age_Ëakage
[
j
] -=

942 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

943 10] / (
tÙ®_–­£d_cyşes
 /

944 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

945 
şu¡”_av”age_Ëakage
[
j
] -=

946 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

947 12] / (
tÙ®_–­£d_cyşes
 /

948 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

949 
şu¡”_av”age_Ëakage
[
j
] -=

950 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

951 17] / (
tÙ®_–­£d_cyşes
 /

952 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

953 
şu¡”_av”age_Ëakage
[
j
] -=

954 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

955 21] / (
tÙ®_–­£d_cyşes
 /

956 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

958 ià(!
j
)

960 
ÿche_av”age_Ëakage
 +=

961 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

962 10] / (
tÙ®_–­£d_cyşes
 /

963 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

964 
ÿche_av”age_Ëakage
 +=

965 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

966 12] / (
tÙ®_–­£d_cyşes
 /

967 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

968 
ÿche_av”age_Ëakage
 +=

969 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

970 17] / (
tÙ®_–­£d_cyşes
 /

971 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

972 
ÿche_av”age_Ëakage
 +=

973 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 +

974 21] / (
tÙ®_–­£d_cyşes
 /

975 
hÙ¥Ù_cyşe_§m¶šg_štvl
);

981 
	`årštf
 (
å
, "%.2f\t%.2f\t%.2f\t%.2f\t",

982 
şu¡”_av”age_Ëakage
[0] * 
tÙ®_–­£d_cyşes
,

983 
şu¡”_av”age_Ëakage
[1] * 
tÙ®_–­£d_cyşes
,

984 
şu¡”_av”age_Ëakage
[2] * 
tÙ®_–­£d_cyşes
,

985 
ÿche_av”age_Ëakage
 * 
tÙ®_–­£d_cyşes
);

986 
	}
}

991 
	$Ëakage_pow”_ş—r
 ()

994 
j
, 
k
;

996 
j
 = 0; j < 
numcÚ‹xts
; j++)

998 
k
 = (
j
 * 
CORE_ELEMENTS
); k < ((j * CORE_ELEMENTS) + CORE_ELEMENTS);

999 
k
++)

1001 
şu¡”_tÙ®_Ëakage_pow”
[
k
] = 0;

1004 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 10] = 0;

1005 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 12] = 0;

1006 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 17] = 0;

1007 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 21] = 0;

1009 ià(!
j
)

1011 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 10] = 0;

1012 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 12] = 0;

1013 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 17] = 0;

1014 
şu¡”_tÙ®_Ëakage_pow”
[
j
 * 
CORE_ELEMENTS
 + 21] = 0;

1017 
	}
}

	@hotspot.h

51 
	~<¡dio.h
>

54 
	ghÙ¥Ù_aùive
;

56 
FILE
 *
	gsim_hÙ¥Ùout_fd
;

63 
ba£_´oc_äeq
;

65 
	shÙ¥Ù_pow”_t_¡


68 
	mfmul
;

69 
	mäeg
;

70 
	mçdd
;

71 
	mdtb0
;

72 
	mfqueue
;

73 
	miqueue
;

74 
	mlsq
;

75 
	mœeg0
;

76 
	mŸlu0
;

77 
	mŸlu1
;

78 #iâdeà
CONFIG_BASED_ICS


79 
	m–
;

80 
	m”
;

81 
	mİtiÿl_mod_l
;

82 
	mİtiÿl_»c_l
;

83 
	mİtiÿl_q¿m_l
;

84 
	mİtiÿl_mod_r
;

85 
	mİtiÿl_»c_r
;

86 
	mİtiÿl_q¿m_r
;

88 
	mcomm_lšk_tx
[
MAX_IC_INDEX
];

89 
	mcomm_lšk_rx
[
MAX_IC_INDEX
];

90 
	mcomm_q¿m
[
MAX_IC_INDEX
];

92 
	mdl1ÿche
;

93 
	mul2ÿche
;

94 
	m¿q
;

95 
	mœesuÉbus
;

96 
	mäesuÉbus
;

97 
	mşock1
;

98 
	mşock2
;

99 
	mşock3
;

105 
	mb´ed
;

106 
	miÿche
;

107 
	mrob
;

108 
	mœ’ame
;

109 
	m™lb
;

110 
	mãtch
;

115 
	mıbuf
;

116 
	mbroutq
;

117 
	mpcbuf
;

119 
	mbus0
;

120 
	mbus1
;

123 
	msysštf
;

125 
	mŸlu2
;

126 
	mä’ame
;

128 
	mŸlu3
;

129 
	mdtb1
;

130 
	mœeg1
;

132 }
	thÙ¥Ù_pow”_¬¿y_t
;

133 
hÙ¥Ù_pow”_¬¿y_t
 
hÙ¥Ù_³½”iod
[
CLUSTERS
];

135 
couÁ”_t
 
Ï¡_hÙ¥Ù_cyşe
;

141 
hÙ¥Ù_š™
();

142 
hÙ¥Ù_unš™
();

143 
hÙ¥Ù_»g_İtiÚs
(
İt_odb_t
 *
odb
);

144 
upd©e_hÙ¥Ù_¡©s
(
–­£d_cyşes
);

145 
hÙ¥Ù_dump¡©s
();

149 
Ëakage_pow”_v®ue
(
FILE
 *
å
);

150 
Ëakage_pow”_ş—r
();

	@indirectjump.cpp

1 
	~<¡dio.h
>

2 
	~<io¡»am
>

3 
	~<¡ršg.h
>

4 
	~"ho¡.h
"

5 
	~"machše.h
"

6 
usšg
 
Çme¥aû
 
	g¡d
;

8 "C" 
pushJump
 (
md_addr_t
 
pc
, md_addr_ˆ
Ãxt_pc
);

9 "C" 
´štJumpSts
 ();

11 
	#TABLE_LENGTH
 2048

	)

12 
	#SHIFT_LENGTH
 0

	)

13 
	#ASSOC
 4

	)

14 şas 
	c’Œy


16 
	mpublic
:

17 
md_addr_t
 
pc
;

18 
couÁ”_t
 
	mcouÁ
;

19 
’Œy
 *
	mÃxt
;

22 
	$’Œy
 ()

24 
pc
 = 0;

25 
couÁ
 = 0;

26 
Ãxt
 = 
NULL
;

28 
	$’Œy
 (
md_addr_t
 
Ãxt_pc
)

30 
pc
 = 
Ãxt_pc
;

31 
couÁ
 = 1;

32 
Ãxt
 = 
NULL
;

33 
	}
}

36 ~
	$’Œy
 ()

38 
	}
}

40 
	$š£¹Jump
 (
md_addr_t
 
Ãxt_pc
)

42 ià(
pc
 =ğ
Ãxt_pc
)

44 
couÁ
++;

48 ià(
Ãxt
 =ğ
NULL
)

50 
Ãxt
 = 
Ãw
 
	`’Œy
 (
Ãxt_pc
);

54 
Ãxt
->
	`š£¹Jump
 (
Ãxt_pc
);

55 
	}
}

57 
’Œy
 *
	$sÜtIn£¹
 (
’Œy
 * 
Ãw_’Œy
)

59 ià(
Ãw_’Œy
->
couÁ
 > count)

61 
Ãw_’Œy
->
Ãxt
 = 
this
;

62  
Ãw_’Œy
;

65 ià(
Ãxt
 =ğ
NULL
)

67 
Ãxt
 = 
Ãw_’Œy
;

68  
this
;

71 
Ãxt
 =‚ext->
	`sÜtIn£¹
 (
Ãw_’Œy
);

72 
	}
}

74 
	$´št_fe
 (
FILE
 * 
å
)

76 
	`årštf
 (
å
, "\tPC: 0x%Îx\tCouÁ: %Îd", 
pc
, 
couÁ
);

77 ià(
Ãxt
 !ğ
NULL
)

79 
Ãxt
->
	`´št_fe
 (
å
);

81 
	}
}

84 şas 
	chashTabË


86 
	mpublic
:

87 
’Œy
 * 
bË
[
TABLE_LENGTH
][
ASSOC
];

88 
md_addr_t
 
	mpc
[
TABLE_LENGTH
][
ASSOC
];

91 
	$hashTabË
 ()

93 
i
, 
j
;

94 
i
 = 0; i < 
TABLE_LENGTH
; i++)

96 
j
 = 0; j < 
ASSOC
; j++)

98 
bË
[
i
][
j
] = 
NULL
;

99 
pc
[
i
][
j
] = 0;

105 ~
	$hashTabË
 ()

107 
	}
}

111 
hashTabË
 
	gjumpBufãr
;

114 
	$pushJump
 (
md_addr_t
 
pc
, md_addr_ˆ
Ãxt_pc
)

116 
šdex
;

117 
i
;

119 ià(
pc
 =ğ0 || 
Ãxt_pc
 == 0)

121 
šdex
 = (
pc
 >> 
SHIFT_LENGTH
è% 
TABLE_LENGTH
;

124 
i
 = 0; i < 
ASSOC
; i++)

126 ià(
jumpBufãr
.
pc
[
šdex
][
i
] ==…c)

128 
jumpBufãr
.
bË
[
šdex
][
i
]->
	`š£¹Jump
 (
Ãxt_pc
);

134 
i
 = 0; i < 
ASSOC
; i++)

136 ià(
jumpBufãr
.
pc
[
šdex
][
i
] == 0)

138 
jumpBufãr
.
pc
[
šdex
][
i
] =…c;

139 
jumpBufãr
.
bË
[
šdex
][
i
] = 
Ãw
 
	`’Œy
 (
Ãxt_pc
);

145 
	}
}

148 
	$sÜtJumps
 ()

150 
i
, 
j
;

152 
i
 = 0; i < 
TABLE_LENGTH
; i++)

154 
j
 = 0; j < 
ASSOC
; j++)

156 ià(
jumpBufãr
.
pc
[
i
][
j
] != 0)

158 
’Œy
 *
‹mp
;

160 
‹mp
 = 
jumpBufãr
.
bË
[
i
][
j
];

161 
jumpBufãr
.
bË
[
i
][
j
] = jumpBufãr.bË[i][j]->
Ãxt
;

162 
‹mp
->
Ãxt
 = 
NULL
;

163 
jumpBufãr
.
bË
[
i
][
j
] !ğ
NULL
)

165 
’Œy
 *
‹mp_Ãxt
;

167 
‹mp_Ãxt
 = 
jumpBufãr
.
bË
[
i
][
j
]->
Ãxt
;

168 
jumpBufãr
.
bË
[
i
][
j
]->
Ãxt
 = 
NULL
;

169 
‹mp
 =emp->
	`sÜtIn£¹
 (
jumpBufãr
.
bË
[
i
][
j
]);

170 
jumpBufãr
.
bË
[
i
][
j
] = 
‹mp_Ãxt
;

173 
jumpBufãr
.
bË
[
i
][
j
] = 
‹mp
;

177 
	}
}

180 
	$´štJumpSts
 ()

182 
FILE
 *
å
;

183 *
sim_¡r_dump
;

184 *
sim_dump
 = 
sim_¡r_dump
;

185 
¡rFeName
[256];

187 ià(!
sim_dump
)

189 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

190 
	`ex™
 (1);

193 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

194 
	`¡rÿt
 (
¡rFeName
, ".jpf");

195 ià((
å
 = 
	`fİ’
 (
¡rFeName
, "w")è=ğ
NULL
)

197 
	`årštf
 (
¡d”r
, "Error opening file\n");

198 
	`ex™
 (1);

204 
i
 = 0; i < 
TABLE_LENGTH
; i++)

206 
j
 = 0; j < 
ASSOC
; j++)

208 ià(
jumpBufãr
.
pc
[
i
][
j
] !ğ0 && jumpBufãr.
bË
[i][j] !ğ
NULL
)

210 
	`årštf
 (
å
, "PC: 0x%Îx", 
jumpBufãr
.
pc
[
i
][
j
]);

211 
jumpBufãr
.
bË
[
i
][
j
]->
	`´št_fe
 (
å
);

212 
	`årštf
 (
å
, "\n");

217 
	`fşo£
 (
å
);

218 
	}
}

	@instManip.c

2 
	~<sys/ty³s.h
>

3 
	~<uni¡d.h
>

4 
	~<wa™.h
>

5 
	~<”ºo.h
>

6 
	~<¡dlib.h
>

8 
	~"ho¡.h
"

9 
	~"machše.h
"

10 
	~"»sourû.h
"

11 
	~"ÿche.h
"

12 
	~"cÚ‹xt.h
"

13 
	~"±¿û.h
"

14 
	~"b´ed.h
"

15 
	~"»sourû.h
"

16 
	~"sysÿÎ.h
"

17 
	~"š¡Mª.h
"

19 
	#WORDSIZE
 8

	)

25 
	$G‘MemAccWidth
(
md_İcode
 
İ
)

27 
İ
) {

29 
LDBU
:

30 
STB
:

34 
LDWU
:

35 
STW
:

39 
LDL
:

40 
LDL_L
:

41 
STL
:

42 
STL_C
:

43 
LDF
:

44 
LDS
:

45 
STF
:

46 
STS
:

50 
LDQ
:

51 
LDQ_L
:

52 
LDQ_U
:

53 
STQ
:

54 
STQ_C
:

55 
STQ_U
:

56 
LDG
:

57 
LDT
:

58 
STG
:

59 
STT
:

64 
	`´štf
("F©®: G‘MemAccWidth cªnÙ d—Èw™h o°: %d!\n", 
İ
);

65 
	`·nic
("G‘MemAccWidth cªnÙ d—Èw™h o°: %d!\n", 
İ
);

68 
	}
}

73 
boŞ_t
 
	$isFPMemAcc
(
md_İcode
 
İ
)

75 
İ
) {

76 
LDF
:

77 
LDG
:

78 
LDS
:

79 
LDT
:

80 
STF
:

81 
STG
:

82 
STS
:

83 
STT
:

84  
TRUE
;

86  
FALSE
;

88 
	}
}

94 
	$fÜm©D©aM2R
(
md_İcode
 
İ
, 
qwÜd_t
 
memD©a
, qwÜd_ˆ*
»gD©a
)

96 
İ
) {

98 
LDBU
:

99 
LDWU
:

100 
LDQ
:

101 
LDQ_L
:

102 
LDQ_U
:

103 
LDT
:

104 
STB
:

105 
STW
:

106 
STQ
:

107 
STQ_C
:

108 
STQ_U
:

109 
STT
:

110 *
»gD©a
 = 
memD©a
;

114 
LDL
:

115 
LDL_L
:

116 
STL
:

117 
STL_C
:

119 
swÜd_t
 
‹mpD©a
 = (swÜd_tè
memD©a
;

120 *
»gD©a
 = (
qwÜd_t
è((
sqwÜd_t
è
‹mpD©a
);

125 
LDS
:

126 
STS
:

128 
sqwÜd_t
 
lÚghŞd
, 
e1
, 
e2
;

129 
lÚghŞd
 = (
wÜd_t
è
memD©a
;

131 
e1
 = 
lÚghŞd
 & 0x40000000;

132 
e2
 = (
lÚghŞd
 >> 23è& 
	`ULL
(0x7f);

133 ià(
e1
) {

134 ià(
e2
 =ğ
	`ULL
(0x3f800000))

135 
e2
 = 
	`ULL
(0x7ff);

137 
e2
 |ğ
	`ULL
(0x400);

140 ià(
e2
 == 0)

141 
e2
 = 0;

143 
e2
 |ğ
	`ULL
(0x380);

146 *
»gD©a
 = (
qwÜd_t
è((
lÚghŞd
 & 
	`ULL
(0x80000000)è<< 32 | 
e2
 << 52 | (longhold & ULL(0x7fffff)) << 29);

151 
LDF
:

152 
LDG
:

153 
STF
:

154 
STG
:

155 
	`´štf
("F©®: fÜm©D©aM2R cªnÙ d—Èw™h o°- LDF‡nd LDG: %d!\n", 
İ
);

156 
	`·nic
("fÜm©D©aM2R cªnÙ d—Èw™h o°- LDF‡nd LDG: %d!\n", 
İ
);

157 *
»gD©a
 = 
memD©a
;

162 
	`´štf
("F©®: fÜm©D©aM2R cªnÙ d—Èw™h o°: %d!\n", 
İ
);

163 
	`·nic
("fÜm©D©aM2R cªnÙ d—Èw™h o°: %d!\n", 
İ
);

164 *
»gD©a
 = 
memD©a
;

167 
	}
}

173 
	$fÜm©D©aR2M
(
md_İcode
 
İ
, 
qwÜd_t
 
»gD©a
, qwÜd_ˆ*
memD©a
)

175 
İ
) {

177 
LDBU
:

178 
LDWU
:

179 
LDQ
:

180 
LDQ_L
:

181 
LDQ_U
:

182 
LDT
:

183 
STB
:

184 
STW
:

185 
STQ
:

186 
STQ_C
:

187 
STQ_U
:

188 
STT
:

189 *
memD©a
 = 
»gD©a
;

193 
LDS
:

194 
STS
:

196 
sqwÜd_t
 
lÚghŞd
;

197 
swÜd_t
 
šthŞd
;

199 
lÚghŞd
 = 
»gD©a
;

201 
šthŞd
 = (((
lÚghŞd
 >> 32è& 
	`ULL
(0xc0000000)) | ((longhold >> 29) & ULL(0x3fffffff)));

203 *
memD©a
 = (
qwÜd_t
è
šthŞd
;

208 
LDL
:

209 
LDL_L
:

210 
STL
:

211 
STL_C
:

213 
wÜd_t
 
¤c
;

214 
¤c
 = (
wÜd_t
)(
»gD©a
 & 
	`ULL
(0xffffffff));

215 *
memD©a
 = (
qwÜd_t
è
¤c
;

221 
LDF
:

222 
LDG
:

223 
STF
:

224 
STG
:

225 
	`´štf
("F©®: fÜm©D©aR2M cªnÙ d—Èw™h STF‡nd STG o°: %d!\n", 
İ
);

226 
	`·nic
("fÜm©D©aR2M cªnÙ d—Èw™h STF‡nd STG o°: %d!\n", 
İ
);

227 *
memD©a
 = 
»gD©a
;

232 
	`´štf
("F©®: fÜm©D©aR2M cªnÙ d—Èw™h o°: %d!\n", 
İ
);

233 
	`·nic
("fÜm©D©aR2M cªnÙ d—Èw™h o°: %d!\n", 
İ
);

234 *
memD©a
 = 
»gD©a
;

237 
	}
}

242 
	$g‘RegV®ue
(
md_İcode
 
İ
, 
cÚ‹xt
 *
cu¼’t
, 
¿
, 
qwÜd_t
 *
d©a
)

244 
İ
) {

245 
LDBU
:

246 
STB
:

247 
LDWU
:

248 
STW
:

249 
LDL
:

250 
LDL_L
:

251 
STL
:

252 
STL_C
:

253 
LDQ
:

254 
LDQ_U
:

255 
LDQ_L
:

256 
STQ
:

257 
STQ_C
:

258 
STQ_U
:

259 if(
cu¼’t
->
¥ec_mode
)

260 *
d©a
 = 
cu¼’t
->
¥ec_»gs_R
[
¿
];

262 *
d©a
 = 
cu¼’t
->
»gs
.
»gs_R
[
¿
];

265 
LDS
:

266 
STS
:

267 
LDT
:

268 
STT
:

269 if(
cu¼’t
->
¥ec_mode
)

270 *
d©a
 = 
cu¼’t
->
¥ec_»gs_F
.
q
[
¿
];

272 *
d©a
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
¿
];

275 
LDG
:

276 
STG
:

277 
LDF
:

278 
STF
:

279 
	`´štf
("F©®: g‘RegV®uÿÂÙ d—Èw™h o°: %d!\n", 
İ
);

280 
	`·nic
("g‘RegV®uÿÂÙ d—Èw™h o°: %d!\n", 
İ
);

285 
	`´štf
("F©®: g‘RegV®uÿÂÙ d—Èw™h o°: %d!\n", 
İ
);

286 
	`·nic
("g‘RegV®uÿÂÙ d—Èw™h o°: %d!\n", 
İ
);

289 
	}
}

	@instManip.h

1 #iâdeà
__INSTMANIP_H__


2 
	#__INSTMANIP_H__


	)

3 
	~"ho¡.h
"

5 
G‘MemAccWidth
(
md_İcode
 
İ
);

6 
boŞ_t
 
isFPMemAcc
(
md_İcode
 
İ
);

7 
fÜm©D©aM2R
(
md_İcode
 
İ
, 
qwÜd_t
 
memD©a
, qwÜd_ˆ*
»gD©a
);

8 
fÜm©D©aR2M
(
md_İcode
 
İ
, 
qwÜd_t
 
»gD©a
, qwÜd_ˆ*
memD©a
);

9 
g‘RegV®ue
(
md_İcode
 
İ
, 
cÚ‹xt
 *
cu¼’t
, 
¿
, 
qwÜd_t
 *
d©a
);

	@interconnect.c

2 
	~"h—d”s.h
"

3 
dump_rou‹_bË
();

108 
	gma¡”_q¿m_acûss_ş
[
MAX_IC_INDEX
][
CLUSTERS
];

109 
	gma¡”_lšk_rx_acûss_ş
[
MAX_IC_INDEX
][
CLUSTERS
];

110 
	gma¡”_lšk_tx_acûss_ş
[
MAX_IC_INDEX
][
CLUSTERS
];

111 #ifdeà
TRACK_COMM_USE_TYPES


112 
	gma¡”_lšk_tx_u£_ty³_acûss
[
MAX_IC_INDEX
][
LENGTHOF_comm_u£_ty³_’um
];

113 * 
	gcomm_u£_ty³_’um_Çmes
[] = {"sendregister", "l2comm", "flood", "bare_token", "data_token", "other"};

121 #ifdeà
CONFIG_BASED_ICS


122 
	gma¡”_Œªsv”£_lšk_bË
[
MAX_IC_INDEX
][
CLUSTERS
];

123 
lšk_šfo_t
 
	glšk_šfo
[
MAX_IC_INDEX
];

124 
	gtÙ®_nÚcÚge¡ed_comm_d–ay
[
CLUSTERS
][CLUSTERS];

127 
	gac_bË
[16] = {-1,11,10,9, -1,15,14,13, -1,3,2,1, -1,7,6,5};

128 #ià
CLUSTERS
 != 16

129 #w¬nšg 
O±iÿl
 
AC
 
lšks
 
wl
 
nÙ
 
be
 
suµÜ‹d
 
š
 
this
 
bud
 
beÿu£
 
the
 
numb”
 
of
 
şu¡”s
 != 16

134 
	ggrid_bË_16
[4][16] = { {1,14,3,12, 5,10,7,8, 9,-1,11,-1, 13,-1,15,-1},

139 #ià
CLUSTERS
 != 16

140 #w¬nšg 
EËùriÿl
 
grid
-
¬¿nged
 
lšks
 
wl
 
nÙ
 
be
 
suµÜ‹d
 
š
 
this
 
bud
 
beÿu£
 
the
 
numb”
 
of
 
şu¡”s
 != 16

144 
	gma¡”_lšk_width
[
MAX_IC_INDEX
];

145 
	gma¡”_hİ_time
[
MAX_IC_INDEX
];

146 #iâdeà
CONFIG_BASED_ICS


147 
	g»v”£_lšk
[
MAX_IC_INDEX
];

150 #ifdeà
THRD_WAY_CACHE


151 
n_ÿche_¡¬t_thrd
[];

152 
n_ÿche_lim™_thrd
[];

157 #ifdeà
COMM_LINK_PWR


158 
DECLARE_POWER_STATS
(
q¿m
);

159 
DECLARE_POWER_STATS
(
lšk_rx
);

160 
DECLARE_POWER_STATS
(
lšk_tx
);

163 
	$ş—r_š‹rcÚÃù_acûss_¡©s
()

165 
lšk_num
,
i
;

166 #ifdeà
CONFIG_BASED_ICS


167 
lšk_num
=0;lšk_num<
lšk_defš™iÚs_¬gc
;link_num++)

169 
lšk_num
=0;lšk_num<
MAX_IC_INDEX
;link_num++)

172 
i
=0;i<
CLUSTERS
;i++)

174 
ma¡”_q¿m_acûss_ş
[
lšk_num
][
i
] = 0;

175 
ma¡”_lšk_tx_acûss_ş
[
lšk_num
][
i
] = 0;

176 
ma¡”_lšk_rx_acûss_ş
[
lšk_num
][
i
] = 0;

178 #ifdeà
TRACK_COMM_USE_TYPES


179 
i
=0; i < 
LENGTHOF_comm_u£_ty³_’um
; i++)

181 
ma¡”_lšk_tx_u£_ty³_acûss
[
lšk_num
][
i
] = 0;

185 
	}
}

186 
	$tÙ®_š‹rcÚÃù_pow”_¡©s
()

188 
l
,
i
;

189 
l
=0;l<
MAX_IC_INDEX
;l++)

191 
	#RESET_POWER_TOTALS
(
rg
èdØ{\

	)

192 
ma¡”_
##
rg
##
_pow”_cc1
[
l
][
CLUSTER_TOTAL
] = 0; \

193 
ma¡”_
##
rg
##
_pow”_cc2
[
l
][
CLUSTER_TOTAL
] = 0; \

194 
ma¡”_
##
rg
##
_pow”_cc3
[
l
][
CLUSTER_TOTAL
] = 0; } 0)

196 
	#ADD_POWER_TOTAL
(
rg
èdØ{\

	)

197 
ma¡”_
##
rg
##
_pow”_cc1
[
l
][
CLUSTER_TOTAL
] +ğma¡”_##rg##_pow”_cc1[l][
i
]; \

198 
ma¡”_
##
rg
##
_pow”_cc2
[
l
][
CLUSTER_TOTAL
] +ğma¡”_##rg##_pow”_cc2[l][
i
]; \

199 
ma¡”_
##
rg
##
_pow”_cc3
[
l
][
CLUSTER_TOTAL
] +ğma¡”_##rg##_pow”_cc3[l][
i
]; } 0)

200 
	`RESET_POWER_TOTALS
(
q¿m
);

201 
	`RESET_POWER_TOTALS
(
lšk_rx
);

202 
	`RESET_POWER_TOTALS
(
lšk_tx
);

204 
i
=0;i<
CLUSTERS
;i++)

206 
	`ADD_POWER_TOTAL
(
q¿m
);

207 
	`ADD_POWER_TOTAL
(
lšk_tx
);

208 
	`ADD_POWER_TOTAL
(
lšk_rx
);

211 #undeà
RESET_POWER_TOTAL


212 #undeà
ADD_POWER_TOTAL


213 
	}
}

215 #ifdeà
CONFIG_BASED_ICS


221 
	$š™_lšk_desü_bËs
()

223 
i
,
äom
,
j
;

225 
i
=0;i<
lšk_defš™iÚs_¬gc
;i++)

227 * 
lšk_desü
 = 
lšk_defš™iÚs
[
i
];

228 * 
·r£±r
;

229 * 
lšk_ty³_Çme
;

230 * 
lšk_ty³_physics
;

231 
lšk_šfo
[
i
].
lÚgÇme
 = 
	`¡¹ok_r
(
lšk_desü
,":",&
·r£±r
);

232 
lšk_ty³_Çme
 = 
	`¡¹ok_r
(
NULL
,":",&
·r£±r
);

233 
ma¡”_lšk_width
[
i
] = 
	`¡¹Ş
(
	`¡¹ok_r
(
NULL
,":",&
·r£±r
),NULL,0);

234 
ma¡”_hİ_time
[
i
] = 
	`¡¹Ş
(
	`¡¹ok_r
(
NULL
,":",&
·r£±r
),NULL,0);

235 
lšk_ty³_physics
 = 
	`¡¹ok_r
(
NULL
,":",&
·r£±r
);

237 
lšk_šfo
[
i
].
ty³
 = 
lšk_ty³_Çme
;

239 ià(!
	`my¡ricmp
(
lšk_ty³_physics
,"optical"))

240 
lšk_šfo
[
i
].
physics
=
İtiÿl
;

241 ià(!
	`my¡ricmp
(
lšk_ty³_physics
,"electrical"))

242 
lšk_šfo
[
i
].
physics
=
–eùriÿl
;

244 
	`çl
("Thlšk…hysic mu¡ b'İtiÿl' o¸'–eùriÿl', buˆyou gav'%s'.",
lšk_ty³_physics
);

246 ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"custom")) {

247 
found
 = 0;

248 
j
 = 0; j < 
lšk_cu¡om_de¡š©iÚs_¬gc
; j++)

250 * 
lšk_ty³_Çme_cu¡om
;

251 * 
lšk_de¡š©iÚs
;

252 
lšk_ty³_Çme_cu¡om
 = 
	`¡¹ok_r
(
lšk_cu¡om_de¡š©iÚs
[
j
],":",&
·r£±r
);

253 
lšk_de¡š©iÚs
 = 
	`¡¹ok_r
(
NULL
,":",&
·r£±r
);

254 ià(!
	`my¡ricmp
(
lšk_ty³_Çme_cu¡om
,
lšk_šfo
[
i
].
lÚgÇme
)){

256 ++
found
;

258 
lšk_šfo
[
i
].
ty³
 =†šk_šfo[i].
lÚgÇme
;

260 
ma¡”_Œªsv”£_lšk_bË
[
i
][0]=
	`¡¹Ş
(
	`¡¹ok_r
(
lšk_de¡š©iÚs
,",",&
·r£±r
),
NULL
,0);

261 
äom
=1;äom<
CLUSTERS
;from++) {

262 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
]=
	`¡¹Ş
(
	`¡¹ok_r
(
NULL
,",",&
·r£±r
),NULL,0);

267 *(
lšk_de¡š©iÚs
 - 1) = ':';

269 ià(
found
 != 1) {

270 
	`çl
("Found %d defš™iÚ fÜ cu¡om†šk %s",
found
,
lšk_šfo
[
i
].
lÚgÇme
);

272 } 
äom
=0;äom<
CLUSTERS
;from++)

275 
	#CHECK_GRID_VALID
 \

	)

276 ià((
grid_bË_16
)/(grid_bË_16[0][0])/4 !ğ
CLUSTERS
) \

277 
	`çl
("š™_lšk_desü_bËs: You¸grid_bË i fÜ %d clu¡”s, buˆyou‡» usšg %d clu¡”s.",(
grid_bË_16
)/(grid_bË_16[0][0])/4,
CLUSTERS
)

280 ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"ER_grid")) {

281 
CHECK_GRID_VALID
;

282 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
grid_bË_16
[0][from];

283 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"EL_grid")) {

284 
CHECK_GRID_VALID
;

285 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
grid_bË_16
[1][from];

286 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"EU_grid")) {

287 
CHECK_GRID_VALID
;

288 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
grid_bË_16
[2][from];

289 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"ED_grid")) {

290 
CHECK_GRID_VALID
;

291 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
grid_bË_16
[3][from];

294 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"ER")) {

295 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
	`CL_ADD
(from,1);

296 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"EL")) {

297 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
	`CL_SUB
(from,1);

304 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"AC")) {

305 ià((
ac_bË
)/×c_bË[0]è!ğ
CLUSTERS
)

306 
	`çl
("š™_lšk_desü_bËs: You¸ac_bË i fÜ %d clu¡”s, buˆyou‡» usšg %d clu¡”s.",(
ac_bË
)/×c_bË[0]),
CLUSTERS
);

307 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
ac_bË
[from];

308 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"OT")) {

309 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = 
	`CL_ADD
(äom,(
CLUSTERS
/2));

310 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"OL")) {

311 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = (äom % 4è=ğ0 ? 
	`CL_SUB
(äom,(
CLUSTERS
/4)) : -1;

312 } ià(!
	`my¡ricmp
(
lšk_ty³_Çme
,"OR")) {

313 
ma¡”_Œªsv”£_lšk_bË
[
i
][
äom
] = (äom % 4è=ğ0 ? 
	`CL_ADD
(äom,(
CLUSTERS
/4)) : -1;

320 
	`çl
("linkype '%s' ('%s') is‚ot known by init_link_descr_tables().",

321 
lšk_ty³_Çme
,

322 
lšk_šfo
[
i
].
lÚgÇme
);

325 
	`årštf
(
¡d”r
,"Added†ink %s: %s,ype %s, width %d,‡nd hopime %d.\n",

326 
lšk_šfo
[
i
].
lÚgÇme
,
lšk_ty³_physics
,lšk_šfo[i].
ty³
,
ma¡”_lšk_width
[i],
ma¡”_hİ_time
[i]);

328 
	}
}

330 
	$Œªv”£_lšk
(
lšk_ty³
, 
äom
)

332  
ma¡”_Œªsv”£_lšk_bË
[
lšk_ty³
][
äom
];

333 
	}
}

335 
	$š™_lšk_desü_bËs
(è{
	}
}

337 
	$Œªv”£_lšk
(
lšk_ty³
, 
äom
)

340 
to
;

343 if(
İtiÿl_ty³_ch¬
=='G')

344 
to
 = 
grid_bË_16
[
lšk_ty³
][
äom
];

346 
lšk_ty³
)

349 
	`çl
("bad†šky³ %d",
lšk_ty³
);

352 
OR_INDEX
:

353 
to
 = 
	`CL_ADD
(
äom
,4);

356 
OL_INDEX
:

357 
to
 = 
	`CL_SUB
(
äom
,4);

360 
ER_INDEX
:

361 
to
 = 
	`CL_ADD
(
äom
,1);

364 
EL_INDEX
:

365 
to
 = 
	`CL_SUB
(
äom
,1);

368 
AC_INDEX
:

369 
to
 = 
ac_bË
[
äom
];

372 
OT_INDEX
:

373 
to
 = 
	`CL_ADD
(
äom
,(
CLUSTERS
/2));

376 
EU_INDEX
:

377 
to
 = 
äom
 + 4;

380 
ED_INDEX
:

381 
to
 = 
äom
 - 4;

387 if(
to
 > 
CLUSTERS
)

388 
	`çl
("tØ(%dèi ov” (äom %dèÖšk %d)",
to
,
äom
,
lšk_ty³
);

389  
to
;

390 
	}
}

393 #iâdeà
CONFIG_BASED_ICS


394 *
	gIC_šdex2¡ršg
[
MAX_IC_INDEX
] = {

406 
	gnh_bË_æow”_o2_e1
[4][16] =

408 {{0,
ER
,ER,
OR
|ER, OR,OR,OR,OR|
OL
, OR|OL,OR|OL,OL,OL, OL,OL|
EL
,EL,EL},

409 {0,
ER
,ER,
EL
|ER, EL|ER,EL|ER,EL|ER,EL|ER, EL|ER,EL,EL,EL, EL,EL,EL,EL},

410 {0,
ER
,ER,ER, ER,ER,ER,ER, ER|
EL
,EL,EL,EL, EL,EL,EL,EL},

411 {0,
ER
,ER,ER, ER,ER,ER,ER, 
EL
|ER,ER|EL,ER|EL,ER|EL, ER|EL,ER|EL,EL,EL}};

413 
	gnh_bË_mesh_o2_e1
[4][16] =

415 {{0,
ER
,ER,
OR
|ER, OR,
EL
|OR,EL|OR,EL|
OL
|OR, OL|OR,OL|OR|ER,OL|ER,OL|ER, OL,OL|EL,EL,EL},

416 {0,
ER
,ER,ER, ER|ER,
EL
|ER,EL|ER|
AC
,EL|ER|AC, ER|AC,ER|AC,AC,EL|AC, EL|AC,EL,EL,EL},

417 {0,
ER
,ER,ER, ER,ER|
AC
,ER|AC,ER|AC, AC,AC|
EL
,AC|EL,AC|EL, EL,EL,EL,EL},

418 {0,
ER
,ER,ER, ER|
AC
,ER|AC,AC,
EL
|AC, EL|AC,EL|ER|AC,EL|ER|AC,EL|ER, ER|EL,EL,EL,EL}};

420 
	gnh_bË_‹Á_o2_e1
[4][16] =

422 {{0,
ER
,ER,ER, ER,ER|
OT
,OT,OT, OT,OT,OT,OT|
EL
, EL,EL,EL,EL},

423 {0,
ER
,ER,ER, ER,ER|
OT
,OT,OT, OT,OT,OT,OT|
EL
, EL,EL,EL,EL},

424 {0,
ER
,ER,ER, ER,ER|
OT
,OT,OT, OT,OT,OT,OT|
EL
, EL,EL,EL,EL},

425 {0,
ER
,ER,ER, ER,ER|
OT
,OT,OT, OT,OT,OT,OT|
EL
, EL,EL,EL,EL}};

427 
	#O1_E1
 0

	)

428 
	#O2_E1
 1

	)

429 
	#O3_E1
 2

	)

431 #iâdeà
CONFIG_BASED_ICS


432 
	ggrid_nh_bË_ma¡”_nÜm®
[16] = {
ER_BM
|
EU_BM
, ER_BM|
EL_BM
|EU_BM, ER_BM|EL_BM|EU_BM, EL_BM|EU_BM,

433 
ER_BM
|
EU_BM
|
ED_BM
, ER_BM|
EL_BM
|EU_BM|ED_BM, ER_BM|EL_BM|EU_BM|ED_BM, EL_BM|EU_BM|ED_BM,

434 
ER_BM
|
EU_BM
|
ED_BM
, ER_BM|
EL_BM
|EU_BM|ED_BM, ER_BM|EL_BM|EU_BM|ED_BM, EL_BM|EU_BM|ED_BM,

435 
ER_BM
|
ED_BM
, ER_BM|
EL_BM
|ED_BM, ER_BM|EL_BM|ED_BM, EL_BM|ED_BM

437 
	ggrid_nh_bË_ma¡”
[16] = {
ER_BM
|
EU_BM
, ER_BM|
EL_BM
|EU_BM, 
ED_BM
|ER_BM|EU_BM, EL_BM|EU_BM|ED_BM|ER_BM,

438 
ER_BM
|
EU_BM
|
ED_BM
, ER_BM|
EL_BM
|EU_BM|ED_BM, ER_BM|ED_BM, EL_BM|ED_BM|ER_BM,

439 
ER_BM
|
ED_BM
|
EL_BM
, EL_BM|ED_BM, ER_BM|EL_BM|
EU_BM
|ED_BM, EL_BM|EU_BM|ED_BM,

440 
ER_BM
|
EU_BM
|
ED_BM
|
EL_BM
, EL_BM|EU_BM|ED_BM, ER_BM|EL_BM|EU_BM, EL_BM|EU_BM,

442 
	gdu®_¿_nh_bË_ma¡”
[16] = {
ER_BM
|
OT_BM
, ER_BM|
EL_BM
|
AC_BM
, ER_BM|EL_BM, EL_BM|AC_BM|ER_BM,

443 
ER_BM
|
EL_BM
, ER_BM|EL_BM|
AC_BM
, ER_BM|EL_BM, 
OT_BM
|ER_BM,

444 
ER_BM
|
ED_BM
|
EL_BM
, EL_BM|ED_BM, ER_BM|EL_BM|
EU_BM
|ED_BM, EL_BM|EU_BM|ED_BM,

445 
ER_BM
|
EU_BM
|
ED_BM
|
EL_BM
, EL_BM|EU_BM|ED_BM, ER_BM|EL_BM|EU_BM, EL_BM|EU_BM,

448 
	gæow”_nh_bË_ma¡”
[3][4][16] =

452 {{
ER_BM
|
EL_BM
|
OR_BM
|
OL_BM
,ER_BM,ER_BM,OR_BM|ER_BM, OR_BM,OR_BM,OR_BM,OR_BM|OL_BM, OR_BM|OL_BM,OR_BM|OL_BM,OL_BM,OL_BM, OL_BM,OL_BM|EL_BM,EL_BM,EL_BM},

453 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,EL_BM|ER_BM, EL_BM|ER_BM,EL_BM|ER_BM,EL_BM|ER_BM,EL_BM|ER_BM, EL_BM|ER_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

454 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

455 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, EL_BM|ER_BM,ER_BM|EL_BM,ER_BM|EL_BM,ER_BM|EL_BM, ER_BM|EL_BM,ER_BM|EL_BM,EL_BM,EL_BM}},

459 
	g‹Á_nh_bË_ma¡”
[3][4][16] =

463 {{
ER_BM
|
EL_BM
|
OT_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM|OT_BM,OT_BM|EL_BM,OT_BM|EL_BM, OT_BM,OT_BM|ER_BM,OT_BM|ER_BM,OT_BM|EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

464 {
ER_BM
|
EL_BM
|
OT_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM|OT_BM,OT_BM,OT_BM, OT_BM,OT_BM,OT_BM,OT_BM|EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

465 {
ER_BM
|
EL_BM
|
OT_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM|OT_BM,OT_BM,OT_BM, OT_BM,OT_BM,OT_BM,OT_BM|EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

466 {
ER_BM
|
EL_BM
|
OT_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM|OT_BM,OT_BM,OT_BM, OT_BM,OT_BM,OT_BM,OT_BM|EL_BM, EL_BM,EL_BM,EL_BM,EL_BM}},

470 
	gmesh_nh_bË_ma¡”
[3][4][16] =

474 {{
ER_BM
|
EL_BM
|
OR_BM
|
OL_BM
,ER_BM,ER_BM,OR_BM|ER_BM, OR_BM,EL_BM|OR_BM,EL_BM|OR_BM,EL_BM|OL_BM|OR_BM, OL_BM|OR_BM,OL_BM|OR_BM|ER_BM,OL_BM|ER_BM,OL_BM|ER_BM, OL_BM,OL_BM|EL_BM,EL_BM,EL_BM},

475 {
ER_BM
|
EL_BM
|
AC_BM
,ER_BM,ER_BM,ER_BM, ER_BM|ER_BM,EL_BM|ER_BM,EL_BM|ER_BM|AC_BM,EL_BM|ER_BM|AC_BM, ER_BM|AC_BM,ER_BM|AC_BM,AC_BM,EL_BM|AC_BM, EL_BM|AC_BM,EL_BM,EL_BM,EL_BM},

476 {
ER_BM
|
EL_BM
|
AC_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM|AC_BM,ER_BM|AC_BM,ER_BM|AC_BM, AC_BM,AC_BM|EL_BM,AC_BM|EL_BM,AC_BM|EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

477 {
ER_BM
|
EL_BM
|
AC_BM
,ER_BM,ER_BM,ER_BM, ER_BM|AC_BM,ER_BM|AC_BM,AC_BM,EL_BM|AC_BM, EL_BM|AC_BM,EL_BM|ER_BM|AC_BM,EL_BM|ER_BM|AC_BM,EL_BM|ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM}},

484 
	gnh_bË
[16][16] =

486 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

488 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

489 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

490 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

491 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

492 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

493 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

494 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

495 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

496 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

497 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

498 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

499 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

500 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

501 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM},

502 {
ER_BM
|
EL_BM
,ER_BM,ER_BM,ER_BM, ER_BM,ER_BM,ER_BM,ER_BM, ER_BM|EL_BM,EL_BM,EL_BM,EL_BM, EL_BM,EL_BM,EL_BM,EL_BM}};

504 
	gnh_bË
[
CLUSTERS
][CLUSTERS];

506 
	$š™_nh_bË
() {

507 
i
,
l
;

509 ià(
lšk_defš™iÚs_¬gc
 > ((
nh_bË
[0][0])*8))

510 
	`çl
("Th”¬mÜlšky³ thªh”¬b™ šhnh_bË b™m­ (%d > %d)!",
lšk_defš™iÚs_¬gc
,(
nh_bË
[0][0])*8);

512 
i
=0;i<
CLUSTERS
;i++)

514 
nh_bË
[
i
][0]=0;

515 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

517 ià(
ma¡”_Œªsv”£_lšk_bË
[
l
][
i
] >= 0)

518 
nh_bË
[
i
][0] |ğ
l_BM
;

521 
	}
}

525 
	$İtiÿl_š™
()

527 
i
,
j
,
mm
;

529 
İtiÿl_lšk_width_di¡
 = (
couÁ”_t
 *)
	`m®loc
((couÁ”_t)*
İtiÿl_lšk_width
);

530 
i
=0;i<
İtiÿl_lšk_width
;i++)

531 
İtiÿl_lšk_width_di¡
[
i
] = 0;

533 
i
=0;i<
CLUSTERS
;i++) {

534 
İtiÿl_lšk
[
i
] = 
	`m®loc
((è* 
TIMEWINDOW
);

535 
İt_»g
[
i
] = 
	`m®loc
((*è* 
TIMEWINDOW
);

536 
mm
=0;mm<
TIMEWINDOW
;mm++) {

537 
İtiÿl_lšk
[
i
][
mm
]=0;

538 
İt_»g
[
i
][
mm
] = 
	`m®loc
((è* 
İtiÿl_lšk_width
);

539 
j
=0;j<
İtiÿl_lšk_width
;j++)

540 
İt_»g
[
i
][
mm
][
j
]=0;

543 
	}
}

545 *
	gma¡”_lšk
[
MAX_IC_INDEX
][
CLUSTERS
];

546 **
	gma¡”_»g
[
MAX_IC_INDEX
][
CLUSTERS
];

547 
couÁ”_t
 *
	gma¡”_lšk_width_di¡
[
MAX_IC_INDEX
];

548 #ifdeà
TRACK_COMM_USE_TYPES


549 
comm_u£_ty³_’um
 *
	gma¡”_lšk_u£_ty³
[
MAX_IC_INDEX
][
CLUSTERS
];

553 #ifdeà
NEW_INTERCONNECT


554 
	$š‹rcÚÃù_š™
()

556 
i
,
j
,
k
,
mm
;

557 
l_width
;

558 
k
=0;k<
MAX_IC_INDEX
;k++)

560 
l_width
 = 
ma¡”_lšk_width
[
k
];

561 #ifdeà
INST_TRANS_RATE


562 
ma¡”_lšk_width_di¡
[
k
] = 
	`m®loc
((
couÁ”_t
è* 
l_width
);

563 
i
=0;i<
l_width
;i++)

564 
ma¡”_lšk_width_di¡
[
k
][
i
] = 0;

567 #ifdeà
TRACE_REG


568 
i
=0;i<
CLUSTERS
;i++)

570 
ma¡”_lšk
[
k
][
i
] = 
	`m®loc
((è* 
TIMEWINDOW
);

571 
ma¡”_»g
[
k
][
i
] = 
	`m®loc
((*è* 
TIMEWINDOW
);

572 #ifdeà
TRACK_COMM_USE_TYPES


573 
ma¡”_lšk_u£_ty³
[
k
][
i
] = 
	`m®loc
((
comm_u£_ty³_’um
è* 
TIMEWINDOW
);

576 
mm
=0;mm<
TIMEWINDOW
;mm++)

578 
ma¡”_lšk
[
k
][
i
][
mm
] = 0;

579 
ma¡”_»g
[
k
][
i
][
mm
] = 
	`m®loc
((è* 
l_width
);

580 
j
=0;j<
l_width
;j++)

581 
ma¡”_»g
[
k
][
i
][
mm
][
j
] = 0;

587 
	}
}

588 
	$ršg_ä“
()

590 
i
,
j
,
lšk_num
;

591 #ifdeà
CONFIG_BASED_ICS


592 
lšk_num
 = 0;†šk_num < 
lšk_defš™iÚs_¬gc
;†ink_num++)

594 
lšk_num
 = 0;†šk_num < 
MAX_IC_INDEX
;†ink_num++)

597 
i
=0;i<
CLUSTERS
;i++)

599 if(
ma¡”_lšk
[
lšk_num
][
i
][(()
sim_cyşe
%
TIMEWINDOW
)]) {

600 
ma¡”_q¿m_acûss_ş
[
lšk_num
][
i
]++;

601 
ma¡”_lšk_tx_acûss_ş
[
lšk_num
][
i
]++;

608 
ma¡”_lšk_rx_acûss_ş
[
lšk_num
][
	`Œªv”£_lšk
Öšk_num,
i
)]++;

610 #ifdeà
TRACK_COMM_USE_TYPES


611 
ma¡”_lšk_tx_u£_ty³_acûss
[
lšk_num
][ 
ma¡”_lšk_u£_ty³
[lšk_num][
i
][(()
sim_cyşe
%
TIMEWINDOW
)] ]++;

614 
ma¡”_lšk
[
lšk_num
][
i
][(()(
sim_cyşe
%
TIMEWINDOW
))]=0;

616 
j
=0;j<
ma¡”_lšk_width
[
lšk_num
];j++)

617 
ma¡”_»g
[
lšk_num
][
i
][(()(
sim_cyşe
%
TIMEWINDOW
))][
j
]=0;

621 
	}
}

622 
	$¬b™¿ry_routšg_bË_š™
()

624 
i
,
äom
, 
num_¬rived
,
l
;

625 
to
, 
rou‹
, 
d–ay
;

626 
couÁ”_t
 
now
;

627 
couÁ”_t
 
¡_a
[
CLUSTERS
];

628 
¡_how
[
CLUSTERS
];

630 #ifdeà
CONFIG_BASED_ICS


631 ià(!
lšk_defš™iÚs_¬gc
)

632 
	`çl
("arbitrary_routing_table_init: You did‚ot specify‡ny communication†inks‡t‡ll, but I‚eed‡t†east one.");

634 
	`š™_nh_bË
();

638 #ifdeà 
IGNORE_MEM_COMM_LATENCY


641 if(
uni_Ït_comm
)

643 if(
two_Ït_comm
)

653 
äom
=0;äom<
CLUSTERS
;from++)

655 
i
=0;i<
CLUSTERS
;i++)

657 
¡_a
[
i
] = 0;

658 
¡_how
[
i
] = 0;

660 
num_¬rived
 = 0;

661 
now
 = 1;

662 
¡_a
[
äom
] = 
now
;

663 
rou‹
 = 
nh_bË
[
äom
][0];

664 #ifdeà
THRD_WAY_CACHE


671 #ifdeà
CONFIG_BASED_ICS


673 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

676 ià(
rou‹
&
l_BM
)

678 
to
 = 
	`Œªv”£_lšk
(
l
,
äom
);

679 
d–ay
 = 
ma¡”_hİ_time
[
l
];

680 if(
d–ay
+
now
 =ğ
¡_a
[
to
])

681 
¡_how
[
to
] |ğ
l_BM
;

682 if(((
d–ay
+
now
è< 
¡_a
[
to
]) || (st_a[to] == 0))

684 
¡_a
[
to
] = 
d–ay
 + 
now
; \

685 
¡_how
[
to
] = 
l_BM
; \

693 
	#FLOOD_INIT
(
LINK_POS
è\

	)

695 ià(
rou‹
&
LINK_POS
##
_BM
) \

697 
to
 = 
	`Œªv”£_lšk
(
LINK_POS
##
_INDEX
,
äom
); \

698 
d–ay
 = 
ma¡”_hİ_time
[
LINK_POS
##
_INDEX
]; \

699 if(
d–ay
+
now
 =ğ
¡_a
[
to
]) \

700 
¡_how
[
to
] |ğ
LINK_POS
##
_BM
; \

701 if(((
d–ay
+
now
è< 
¡_a
[
to
]) || (st_a[to] == 0)) \

703 
¡_a
[
to
] = 
d–ay
 + 
now
; \

704 
¡_how
[
to
] = 
LINK_POS
##
_BM
; \

709 
	`FLOOD_INIT
(
OL
);

710 
	`FLOOD_INIT
(
OR
);

711 
	`FLOOD_INIT
(
EL
);

712 
	`FLOOD_INIT
(
ER
);

713 
	`FLOOD_INIT
(
AC
);

714 
	`FLOOD_INIT
(
OT
);

715 
	`FLOOD_INIT
(
EU
);

716 
	`FLOOD_INIT
(
ED
);

719 
num_¬rived
 < 
CLUSTERS
)

721 
i
=0;i<
CLUSTERS
;i++)

723 if(
¡_a
[
i
] =ğ
now
)

725 
num_¬rived
++;

728 #ifdeà
CONFIG_BASED_ICS


729 
tÙ®_nÚcÚge¡ed_comm_d–ay
[
äom
][
i
]=
now
-1;

732 if(
äom
==
i
)

739 
nh_bË
[
äom
][
	`CL_SUB
(
i
,äom)] = 
¡_how
[i];

742 
rou‹
 = 
nh_bË
[
i
][0];

743 #ifdeà
CONFIG_BASED_ICS


744 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

747 ià(
rou‹
&
l_BM
) \

749 
to
 = 
	`Œªv”£_lšk
(
l
,
i
);

750 
d–ay
 = 
ma¡”_hİ_time
[
l
];

751 if(
d–ay
+
now
 =ğ
¡_a
[
to
])

752 
¡_how
[
to
] |ğ¡_how[
i
];

753 if(((
d–ay
+
now
è< 
¡_a
[
to
]) || (st_a[to] == 0))

755 
¡_a
[
to
] = 
d–ay
 + 
now
;

756 
¡_how
[
to
] = st_how[
i
];

762 
	#FLOOD_REC
(
LINK_POS
è\

	)

764 ià(
rou‹
&
LINK_POS
##
_BM
) \

766 
to
 = 
	`Œªv”£_lšk
(
LINK_POS
##
_INDEX
,
i
); \

767 
d–ay
 = 
ma¡”_hİ_time
[
LINK_POS
##
_INDEX
]; \

768 if(
d–ay
+
now
 =ğ
¡_a
[
to
]) \

769 
¡_how
[
to
] |ğ¡_how[
i
]; \

770 if(((
d–ay
+
now
è< 
¡_a
[
to
]) || (st_a[to] == 0)) \

772 
¡_a
[
to
] = 
d–ay
 + 
now
; \

773 
¡_how
[
to
] = st_how[
i
]; \

778 
	`FLOOD_REC
(
OL
);

779 
	`FLOOD_REC
(
OR
);

780 
	`FLOOD_REC
(
EL
);

781 
	`FLOOD_REC
(
ER
);

782 
	`FLOOD_REC
(
AC
);

783 
	`FLOOD_REC
(
OT
);

784 
	`FLOOD_REC
(
EU
);

785 
	`FLOOD_REC
(
ED
);

789 
now
++;

792 
	}
}

794 #iâdeà
CONFIG_BASED_ICS


796 
	$š™_¿_routšg_bË
()

798 
rou‹
,
äom
,
to
, 
äomr
, 
äomc
, 
tÜ
, 
toc
,
to_s
;

799 
äom
 = 0; from<
CLUSTERS
; from++)

801 
äomr
 = 
äom
/(
CLUSTERS
/2);

802 
äomc
 = 
äom
%(
CLUSTERS
/2);

804 
to
=0;o<
CLUSTERS
;o++)

806 
to_s
 = 
	`CL_SUB
(
to
,
äom
);

808 
rou‹
 = 0;

810 
tÜ
 = 
to
/(
CLUSTERS
/2);

811 
toc
 = 
to
%(
CLUSTERS
/2);

813 if(
äomr
 > 
tÜ
)

814 
rou‹
|=
OT_BM
;

815 if(
äomr
 < 
tÜ
)

816 
rou‹
|=
OT_BM
;

818 if(
äomc
 > 
toc
)

819 
rou‹
|=
EL_BM
;

820 if(
äomc
 < 
toc
)

821 
rou‹
|=
ER_BM
;

823 
nh_bË
[
äom
][
to_s
] = 
rou‹
;

826 
nh_bË
[
äom
][0] = 
OT_BM
;

828 if(
äomc
 != 0)

829 
nh_bË
[
äom
][0] |ğ
EL_BM
;

830 if(
äomc
 !ğ((
CLUSTERS
/2)-1))

831 
nh_bË
[
äom
][0] |ğ
ER_BM
;

833 
	}
}

836 
	$š™_grid_routšg_bË
()

838 
rou‹
,
äom
,
to
, 
äomr
, 
äomc
, 
tÜ
, 
toc
,
to_s
;

839 
äom
 = 0; from<
CLUSTERS
; from++)

841 
äomr
 = 
äom
/
GRIDCOLS
;

842 
äomc
 = 
äom
%
GRIDROWS
;

844 
to
=0;o<
CLUSTERS
;o++)

846 
to_s
 = 
	`CL_SUB
(
to
,
äom
);

848 
rou‹
 = 0;

850 
tÜ
 = 
to
/
GRIDCOLS
;

851 
toc
 = 
to
%
GRIDROWS
;

853 if(
äomr
 > 
tÜ
)

854 
rou‹
|=
ED_BM
;

855 if(
äomr
 < 
tÜ
)

856 
rou‹
|=
EU_BM
;

858 if(
äomc
 > 
toc
)

859 
rou‹
|=
EL_BM
;

860 if(
äomc
 < 
toc
)

861 
rou‹
|=
ER_BM
;

863 
nh_bË
[
äom
][
to_s
] = 
rou‹
;

866 if(
äomr
 != 0)

867 
nh_bË
[
äom
][0] |ğ
ED_BM
;

868 if(
äomr
 !ğ(
GRIDROWS
-1))

869 
nh_bË
[
äom
][0] |ğ
EU_BM
;

871 if(
äomc
 != 0)

872 
nh_bË
[
äom
][0] |ğ
EL_BM
;

873 if(
äomc
 !ğ(
GRIDCOLS
-1))

874 
nh_bË
[
äom
][0] |ğ
ER_BM
;

876 
	}
}

878 
	#REG_LINK
(
ty³
è\

	)

880 if(!
my¡ricmp
(
İtiÿl_ty³
,#type)) \

882 
	gi
=0;i<4;i++) \

883 
	gj
=0;j<16;j++) \

884 
	gnh_bË
[
i
+4][
j
]=
nh_bË
[i+8][j]òh_bË[i+12][j]òh_bË[i][j] = 
SYMCAT
(
ty³
,
_nh_bË_ma¡”
[
eo_¿tio
][i][j]); \

889 
	#NEW_REG_LINK
(
ty³
èdØ{\

	)

890 if(!
	`my¡ricmp
(
İtiÿl_ty³
,#type)) {\

891 
i
=0;i<
CLUSTERS
;i++) \

892 
nh_bË
[
i
][0] = 
ty³
##
_nh_bË_ma¡”
[i]; \

893 ; } 
	}

	$}whe
(0)

896 
	$š™_routšg_bË
()

898 #ifdeà
CONFIG_BASED_ICS


903 
eo_¿tio
;

904 
¿tio
;

905 
i
,
j
;

906 
»v”£_lšk
[
OR_INDEX
] = 
OL_BM
;

907 
»v”£_lšk
[
OL_INDEX
] = 
OR_BM
;

908 
»v”£_lšk
[
ER_INDEX
] = 
EL_BM
;

909 
»v”£_lšk
[
EL_INDEX
] = 
ER_BM
;

910 
»v”£_lšk
[
AC_INDEX
] = 
AC_BM
;

911 
»v”£_lšk
[
OT_INDEX
] = 
OT_BM
;

912 
»v”£_lšk
[
EU_INDEX
] = 
ED_BM
;

913 
»v”£_lšk
[
ED_INDEX
] = 
EU_BM
;

915 if(!
	`my¡ricmp
(
İtiÿl_ty³
,"none"))

931 
	`NEW_REG_LINK
(
grid
);

933 
¿tio
 = ()
İtiÿl_hİ_time
/
hİ_time
;

934 if(
¿tio
==2.0)

935 
eo_¿tio
 = 
O2_E1
;

936 if(
¿tio
 == 1.0)

937 
eo_¿tio
 = 
O1_E1
;

938 if(
¿tio
 == 3.0)

939 
eo_¿tio
 = 
O3_E1
;

941 
	`çl
("R©iØ%à%d %d‚Ù v®id",
¿tio
,
İtiÿl_hİ_time
,
hİ_time
);

944 #iâdeà
CONFIG_BASED_ICS


945 
	`REG_LINK
(
‹Á
);

946 
	`REG_LINK
(
mesh
);

947 
	`REG_LINK
(
æow”
);

948 
	`çl
("optical_type %s undefined");

950 
	`¬b™¿ry_routšg_bË_š™
();

967 
	}
}

1013 
	#DIVIDE_POSITIVE_BY_8_ROUNDING_UP
(
x
è((x+7)>>3)

	)

1014 
	$ş_comm_Ït
(
äom
, 
to
, 
off£t
, 
by‹size
, 
comm_u£_ty³_’um
 
u£_ty³
) {

1015 
numb”_·ck‘s
 = 
	`DIVIDE_POSITIVE_BY_8_ROUNDING_UP
(
by‹size
);

1017 
maxÏt
 = 0;

1018 
numb”_·ck‘s
) {

1019 #ifdeà 
TRACK_COMM_USE_TYPES


1020 
Ït
 = 
	`ršg_Ït_ty³d
(
äom
,
to
,0,
off£t
,
u£_ty³
);

1022 
Ït
 = 
	`ršg_Ït
(
äom
,
to
,0,
off£t
);

1024 ià(
Ït
 > 
maxÏt
)

1025 
maxÏt
 = 
Ït
;

1026 
numb”_·ck‘s
--;

1028  
maxÏt
;

1029 
	}
}

1040 
	$ršg_Ït
(
äom
, 
to
, 
my»g
, 
off£t
)

1041 #ifdeà
TRACK_COMM_USE_TYPES


1043 #ifdeà 
IGNORE_ALL_COMM_LATENCY


1046 ià(
my»g
) {

1047  
	`ršg_Ït_ty³d
(
äom
, 
to
, 
my»g
, 
off£t
, 
£nd»gi¡”
);

1049  
	`ršg_Ït_ty³d
(
äom
, 
to
, 
my»g
, 
off£t
, 
Ùh”
);

1051 
	}
}

1052 
	$ršg_Ït_ty³d
(
äom
, 
to
, 
my»g
, 
off£t
, 
comm_u£_ty³_’um
 
u£_ty³
)

1055 
rou‹
, 
found
, 
d–ay
, 
‹mpv
;

1056 
possibË_lšks
[
MAX_IC_INDEX
];

1057 
num_possibË_lšks
;

1058 
to_s
;

1059 
wšnšg_lšk
;

1060 
k
,
l
;

1061 
fœ¡_time
 = 1;

1062 
couÁ”_t
 
now
;

1064 
‹mpv
 = 
	`abs
(
äom
 - 
to
);

1065 ià(
‹mpv
 > (
CLUSTERS
/2))

1066 
‹mpv
 = 
CLUSTERS
-tempv;

1067 
tÙ®_hİ
 +ğ
‹mpv
;

1068 
	`¡©_add_§m¶e
(
hİ_di¡
, 
‹mpv
);

1069 
now
 = 
sim_cyşe
+
off£t
;

1071 
äom
 !ğ
to
 && (
now
 - 
sim_cyşe
è< 
TIMEWINDOW
 )

1081 
num_possibË_lšks
 = 0;

1082 
found
 = 
FALSE
;

1084 
to_s
 = 
	`CL_SUB
(
to
,
äom
);

1085 
	#CHECK_VALID
(
LINK_POS
è\

	)

1086 if(
rou‹
&
LINK_POS
##
_BM
) \

1087 ifĞ
ma¡”_lšk
[
LINK_POS
##
_INDEX
][
äom
][(
now
%
TIMEWINDOW
)]<
ma¡”_lšk_width
[LINK_POS##_INDEX]) \

1088 
possibË_lšks
[
num_possibË_lšks
++] = 
LINK_POS
##
_INDEX


1090 
	#CHECK_MYREG_VALID
(
LINK_POS
è\

	)

1091 if(
rou‹
&
LINK_POS
##
_BM
) \

1093 
k
 = 0; k < 
ma¡”_lšk
[
LINK_POS
##
_INDEX
][
äom
][(
now
%
TIMEWINDOW
)]; k++) \

1094 if(
ma¡”_»g
[
LINK_POS
##
_INDEX
][
äom
][(
now
%
TIMEWINDOW
)][
k
] =ğ
my»g
) \

1096 
found
 = 
TRUE
; \

1097 
possibË_lšks
[
num_possibË_lšks
++] = 
LINK_POS
##
_INDEX
; \

1100 ifĞ
ma¡”_lšk
[
LINK_POS
##
_INDEX
][
äom
][(
now
%
TIMEWINDOW
)]<
ma¡”_lšk_width
[LINK_POS##_INDEX]) \

1101 
possibË_lšks
[
num_possibË_lšks
++] = 
LINK_POS
##
_INDEX
; \

1103 
rou‹
 = 
nh_bË
[
äom
][
to_s
];

1109 if(!
my»g
)

1111 #ifdeà
CONFIG_BASED_ICS


1112 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

1113 
	`CHECK_VALID
(
l
);

1116 
	`CHECK_VALID
(
OR
);

1117 
	`CHECK_VALID
(
OL
);

1118 
	`CHECK_VALID
(
ER
);

1119 
	`CHECK_VALID
(
EL
);

1120 
	`CHECK_VALID
(
AC
);

1121 
	`CHECK_VALID
(
OT
);

1122 
	`CHECK_VALID
(
EU
);

1123 
	`CHECK_VALID
(
ED
);

1128 #ifdeà
CONFIG_BASED_ICS


1129 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

1130 
	`CHECK_MYREG_VALID
(
l
)

1133 
	`CHECK_MYREG_VALID
(
OR
)

1134 
	`CHECK_MYREG_VALID
(
OL
)

1135 
	`CHECK_MYREG_VALID
(
ER
)

1136 
	`CHECK_MYREG_VALID
(
EL
)

1137 
	`CHECK_MYREG_VALID
(
AC
)

1138 
	`CHECK_MYREG_VALID
(
OT
)

1139 
	`CHECK_MYREG_VALID
(
EU
)

1140 
	`CHECK_MYREG_VALID
(
ED
)

1143 if(
num_possibË_lšks
 < 1)

1144 
now
++;

1147 ià(
num_possibË_lšks
 == 1)

1148 
wšnšg_lšk
 = 
possibË_lšks
[0];

1150 
wšnšg_lšk
 = 
possibË_lšks
[
	`my¿nd
()%
num_possibË_lšks
];

1152 if(
fœ¡_time
)

1154 
ma¡”_q¿m_acûss_ş
[
wšnšg_lšk
][
äom
]++;

1155 
fœ¡_time
 = 0;

1158 if(!
found
)

1161 
ma¡”_»g
[
wšnšg_lšk
][
äom
][(
now
%
TIMEWINDOW
)][ 
ma¡”_lšk
[wšnšg_lšk][äom][Òow%TIMEWINDOW)] ] = 
my»g
;

1162 
ma¡”_lšk_width_di¡
[
wšnšg_lšk
][ 
ma¡”_lšk
[wšnšg_lšk][
äom
][(
now
%
TIMEWINDOW
)]++ ]++;

1163 #ifdeà
TRACK_COMM_USE_TYPES


1164 
ma¡”_lšk_u£_ty³
[
wšnšg_lšk
][
äom
][(
now
%
TIMEWINDOW
)]=
u£_ty³
;

1167 
now
 +ğ
ma¡”_hİ_time
[
wšnšg_lšk
];

1168 
äom
 = 
	`Œªv”£_lšk
(
wšnšg_lšk
,from);

1174 if(
TIMEWINDOW
 < (
now
 - 
sim_cyşe
) )

1175 
	`·nic
("lškƒxûeded it lim™ iÀcyø%Îd\n", 
sim_cyşe
);

1177 
d–ay
 = 
now
 - 
sim_cyşe
 - 
off£t
;

1178 
	`¡©_add_§m¶e
(
d–ay_di¡
, 
d–ay
);

1179 
tÙ®_d–ay
 +ğ
d–ay
;

1180 
tÙ®_numb”_d–ay
++;

1181  
d–ay
;

1182 
	}
}

1184 
	$æood_Ït
(
couÁ”_t
 * 
»suÉs
, 
äom
, couÁ”_ˆ
£ndtime
)

1186 
num_¬rived
,
i
,
l
,
to
,
rou‹
;

1187 
my»g
=0;

1188 
couÁ”_t
 
¡_a
[
CLUSTERS
];

1189 
¡_how
[
CLUSTERS
];

1190 
couÁ”_t
 
now
, 
d–ay
;

1192 
i
=0;i<
CLUSTERS
;i++)

1194 
¡_a
[
i
] = -1;

1195 
¡_how
[
i
] = 0;

1198 
num_¬rived
 = 0;

1199 
¡_a
[
äom
] = 
£ndtime
;

1200 
now
 = 
£ndtime
;

1205 
num_¬rived
 < 
CLUSTERS
)

1207 
i
=0;i<
CLUSTERS
;i++)

1209 if(
¡_a
[
i
] =ğ
now
)

1211 
num_¬rived
++;

1213 
»suÉs
[
i
] = 
now
;

1215 
rou‹
 = 
nh_bË
[
i
][0];

1216 
	#CHECK_ST_VALID
(
LINK_POS
è\

	)

1218 if((
rou‹
&
LINK_POS
##
_BM
è&& !(LINK_POS##_BM&
¡_how
[
i
]))\

1220 
to
 = 
	`Œªv”£_lšk
(
LINK_POS
##
_INDEX
,
i
); \

1221 
d–ay
 = 
	`ršg_Ït_ty³d
(
i
,
to
,
my»g
,
now
-
sim_cyşe
,
æood
); \

1222 if(
d–ay
+
now
 =ğ
¡_a
[
to
]) \

1224 if(((
d–ay
+
now
è< 
¡_a
[
to
]) || (st_a[to] == -1)) \

1226 
¡_a
[
to
] = 
d–ay
 + 
now
; \

1231 #ifdeà
CONFIG_BASED_ICS


1232 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

1233 
	`CHECK_ST_VALID
(
l
);

1235 
	`CHECK_ST_VALID
(
OL
);

1236 
	`CHECK_ST_VALID
(
OR
);

1237 
	`CHECK_ST_VALID
(
EL
);

1238 
	`CHECK_ST_VALID
(
ER
);

1239 
	`CHECK_ST_VALID
(
AC
);

1240 
	`CHECK_ST_VALID
(
OT
);

1241 
	`CHECK_ST_VALID
(
EU
);

1242 
	`CHECK_ST_VALID
(
ED
);

1246 
now
++;

1249 
	}
}

1252 
	$¡_ršg_Ït
(
RUU_¡©iÚ
 *
rs
)

1257 
my»g
, 
i
, 
d–ay
;

1259 
num_¬rived
,
l
;

1260 
to
, 
rou‹
;

1261 
couÁ”_t
 
now
;

1262 
couÁ”_t
 
¡_a
[
CLUSTERS
];

1263 
¡_how
[
CLUSTERS
];

1266 #ifdeà 
IGNORE_MEM_COMM_LATENCY


1269 if(
uni_Ït_comm
)

1271 
i
=0;i<
CLUSTERS
;i++)

1272 
rs
->
¡_»ach
[
i
] = 
sim_cyşe
 + 1;

1273 
rs
->
¡_»ach
[rs->
şu¡”
] = 
sim_cyşe
;

1276 if(
two_Ït_comm
)

1278 
i
=0;i<
CLUSTERS
;i++)

1279 
rs
->
¡_»ach
[
i
] = 
sim_cyşe
 + 2;

1280 
rs
->
¡_»ach
[rs->
şu¡”
] = 
sim_cyşe
;

1281 
rs
->
¡_»ach
[
	`CL_ADD
Ôs->
şu¡”
,1)] = 
sim_cyşe
 + 1;

1282 
rs
->
¡_»ach
[
	`CL_SUB
Ôs->
şu¡”
,1)] = 
sim_cyşe
 + 1;

1287 
i
=0;i<
CLUSTERS
;i++)

1289 
¡_a
[
i
] = 0;

1290 
¡_how
[
i
] = 0;

1293 
my»g
=0;

1294 
num_¬rived
 = 0;

1295 
¡_a
[
rs
->
şu¡”
] = 
sim_cyşe
;

1296 
now
 = 
sim_cyşe
;

1297 #ifdeà
THRD_WAY_CACHE


1303 
num_¬rived
 < 
CLUSTERS
)

1305 
i
=0;i<
CLUSTERS
;i++)

1307 if(
¡_a
[
i
] =ğ
now
)

1309 
num_¬rived
++;

1311 
rs
->
¡_»ach
[
i
] = 
now
;

1313 
rou‹
 = 
nh_bË
[
i
][0];

1314 
	#CHECK_ST_VALID
(
LINK_POS
è\

	)

1316 if((
rou‹
&
LINK_POS
##
_BM
è&& !(LINK_POS##_BM&
¡_how
[
i
]))\

1318 
to
 = 
	`Œªv”£_lšk
(
LINK_POS
##
_INDEX
,
i
); \

1319 
d–ay
 = 
	`ršg_Ït
(
i
,
to
,
my»g
,
now
-
sim_cyşe
); \

1320 if(
d–ay
+
now
 =ğ
¡_a
[
to
]) \

1321 
¡_how
[
to
] |ğ
»v”£_lšk
[
LINK_POS
##
_INDEX
]; \

1322 if(((
d–ay
+
now
è< 
¡_a
[
to
]) || (st_a[to] == 0)) \

1324 
¡_a
[
to
] = 
d–ay
 + 
now
; \

1325 
¡_how
[
to
] = 
»v”£_lšk
[
LINK_POS
##
_INDEX
]; \

1329 #ifdeà
CONFIG_BASED_ICS


1330 
l
=0;l<
lšk_defš™iÚs_¬gc
;l++)

1331 
	`CHECK_ST_VALID
(
l
);

1333 
	`CHECK_ST_VALID
(
OL
);

1334 
	`CHECK_ST_VALID
(
OR
);

1335 
	`CHECK_ST_VALID
(
EL
);

1336 
	`CHECK_ST_VALID
(
ER
);

1337 
	`CHECK_ST_VALID
(
AC
);

1338 
	`CHECK_ST_VALID
(
OT
);

1339 
	`CHECK_ST_VALID
(
EU
);

1340 
	`CHECK_ST_VALID
(
ED
);

1344 
now
++;

1351 
my»g
=0;

1352 #ifdeà
THRD_WAY_CACHE


1353 
i
=
n_ÿche_¡¬t_thrd
[
rs
->
th»adid
];

1354 
i
<(
n_ÿche_¡¬t_thrd
[
rs
->
th»adid
] + 
n_ÿche_lim™_thrd
[rs->threadid]);

1355 
i
++)

1357 
i
=0;i<
CLUSTERS
;i++)

1360 
d–ay
 = 
	`ršg_Ït
(
rs
->
şu¡”
,
i
,
my»g
,0);

1361 
rs
->
¡_»ach
[
i
] = 
d–ay
 + 
sim_cyşe
;

1365 
	}
}

1367 #ifdeà
TOKENB


1368 
couÁ”_t
 
	$´ediù_comm™
(
RUU_¡©iÚ
 *
rs
)

1371 
i
;

1372 
tick_t
 
Ï‹¡
 = 0;

1373 
RUU_¡©iÚ
 *
wrs
,*
our_ROB
,*
wlsq
;

1375 
our_h—d
, 
our_num
;

1378 
our_ROB
 = 
thecÚ‹xts
[
rs
->
th»adid
]->
RUU
;

1379 
our_h—d
 = 
thecÚ‹xts
[
rs
->
th»adid
]->
RUU_h—d
;

1380 
our_num
 = 
thecÚ‹xts
[
rs
->
th»adid
]->
RUU_num
;

1386 if(
rs
->
š_LSQ
)

1389 
wlsq
 = &
our_ROB
[
rs
->
šdex
];

1393 
wlsq
 = 
rs
;

1396  
i
 = 0; i < 
our_num
 ; i++ )

1398 
wrs
 = &
our_ROB
[(
our_h—d
 + 
i
è% 
RUU_size
 ];

1399 
Ï‹¡
 = 
	`MAX
Ö©e¡, 
wrs
->
fšish_time
);

1400 
Ï‹¡
 = 
	`MAX
Ö©e¡, 
wrs
->
comm™_time
);

1401 if(
i
==
our_num
)

1402 
	`çl
("This shouldn't have gottenhis high.");

1403 if(
wrs
 =ğ
wlsq
)

1414 if(
Ï‹¡
 < 
rs
->
fšish_time
)

1416 
Ï‹¡
 = 
rs
->
fšish_time
;

1417  
Ï‹¡
;

1418 
	}
}

1421 
	$dump_rou‹_bË
()

1423 
i
,
j
;

1424 
i
=0;i<
CLUSTERS
;i++)

1426 
j
=0;j<
CLUSTERS
;j++)

1428 
	`årštf
(
¡d”r
,"%x ", 
nh_bË
[
i
][
j
]);

1430 
	`årštf
(
¡d”r
,"\n");

1432 
	}
}

	@interconnect.h

104 #iâdeà
__INTERCONNECT_H


105 
	#__INTERCONNECT_H


	)

111 
	#TRACK_COMM_USE_TYPES


	)

113 #ifdeà
TRACK_COMM_USE_TYPES


114 
	ecomm_u£_ty³_’um
 {
	m£nd»gi¡”
, 
	ml2comm
, 
	mæood
, 
	mb¬e_tok’
, 
	md©a_tok’
, 
	mÙh”
};

115 * 
comm_u£_ty³_’um_Çmes
[];

116 
	#LENGTHOF_comm_u£_ty³_’um
 6

	)

124 #ià
defšed
(
L2_COMM_LAT
è|| defšed(
TOKENB
)

125 
	#IF_L2_COMM_LAT_CL
(
şu¡”
è,
	)
cluster

127 
	#IF_L2_COMM_LAT_CL
(
şu¡”
)

	)

132 
	#CONFIG_BASED_ICS


	)

134 
	#NEW_INTERCONNECT


	)

136 
	#CLUSTER_TOTAL
 
CLUSTERS


	)

138 
	#GRIDROWS
 4

	)

139 
	#GRIDCOLS
 (
CLUSTERS
/
GRIDROWS
)

	)

141 
	#¡r
(
s
è#s

	)

142 
	#x¡r
(
s
è
	`¡r
(s)

	)

144 
	#CNORM
(
x
è(x+
CLUSTERS
)%
	)
CLUSTERS

146 #ifdeà
CL_MOD


147 
	#CL_SUB
(
a
,
b
è
	`CL_MOD
(×)-(b)+
CLUSTERS
)

	)

148 
	#CL_ADD
(
a
,
b
è
	`CL_MOD
(×)+(b))

	)

150 
	#CL_SUB
(
a
,
b
è((×)-(b)+
CLUSTERS
)%CLUSTERS)

	)

151 
	#CL_ADD
(
a
,
b
è((×)+(b))%
CLUSTERS
)

	)

154 
	#NODE_TYPE
(
x
è(x&0x3)

	)

156 #iâdeà
CONFIG_BASED_ICS


158 
	#ER_BM
 0x01

	)

159 
	#EL_BM
 0x02

	)

160 
	#EU_BM
 0x04

	)

161 
	#ED_BM
 0x08

	)

162 
	#OR_BM
 0x10

	)

163 
	#OL_BM
 0x20

	)

164 
	#AC_BM
 0x40

	)

165 
	#OT_BM
 0x80

	)

168 
	#ER_INDEX
 0

	)

169 
	#EL_INDEX
 1

	)

170 
	#EU_INDEX
 2

	)

171 
	#ED_INDEX
 3

	)

172 
	#OR_INDEX
 4

	)

173 
	#OL_INDEX
 5

	)

174 
	#AC_INDEX
 6

	)

175 
	#OT_INDEX
 7

	)

178 
	#l_INDEX
 
l


	)

179 
	#l_BM
 (1 << 
l
)

	)

182 
	#MAX_IC_INDEX
 8

	)

186 
ma¡”_lšk_width
[
MAX_IC_INDEX
];

187 
ma¡”_hİ_time
[
MAX_IC_INDEX
];

188 *
IC_šdex2¡ršg
[
MAX_IC_INDEX
];

189 
	elšk_physics_’um
 {
	mnÚe
, 
	m–eùriÿl
, 
	mİtiÿl
};

190 
	slšk_šfo_t_¡


192 * 
	mty³
;

193 * 
	mlÚgÇme
;

194 
lšk_physics_’um
 
	mphysics
;

195 } 
	tlšk_šfo_t
;

196 
lšk_šfo_t
 
lšk_šfo
[
MAX_IC_INDEX
];

198 #ifdeà
CONFIG_BASED_ICS


199 
ã_lšk_time
;

200 
tÙ®_nÚcÚge¡ed_comm_d–ay
[
CLUSTERS
][CLUSTERS];

204 #ifdeà
IGNORE_DISPATCH_COMM_LATENCY


205 
	#GENERIC_COMM_FE_LAT_DELAYED
(
äom
,
to
,
d–ay
è0

	)

209 #ifdeà
UNIFORM_COMM_LATENCY


210 
	#GENERIC_COMM_FE_LAT_DELAYED
(
äom
,
to
,
d–ay
è1

	)

214 #iâdeà
IGNORE_DISPATCH_COMM_LATENCY


215 #iâdeà
UNIFORM_COMM_LATENCY


216 
	#GENERIC_COMM_FE_LAT_DELAYED
(
äom
,
to
,
d–ay
è(
ã_lšk_time
 < 0 ? 
	`Ït_nÚcÚge¡ed
(äom,toè+ 
HOPTIME
 : (Ö©_nÚcÚge¡ed(äom,toè+ HOPTIME)<ã_lšk_time)?†©_nÚcÚge¡ed(äom,toè+ HOPTIME : fe_lšk_tim)

	)

220 
	#COMM_FE_TO_CL_LAT_DELAYED
(
to
,
d–ay
è
	`GENERIC_COMM_FE_LAT_DELAYED
(0,to,d–ay)

	)

221 
	#COMM_CL_TO_FE_LAT_DELAYED
(
äom
,
d–ay
è
	`GENERIC_COMM_FE_LAT_DELAYED
(äom,0,d–ay)

	)

222 
	#COMM_CL_TO_FE_LAT
(
äom
è
	`COMM_CL_TO_FE_LAT_DELAYED
(äom,0)

	)

223 
	#COMM_FE_TO_CL_LAT
(
to
è
	`COMM_FE_TO_CL_LAT_DELAYED
Ño,0)

	)

231 
	#Ït_nÚcÚge¡ed
(
äom
,
to
è
tÙ®_nÚcÚge¡ed_comm_d–ay
[äom][to]

	)

235 
ma¡”_q¿m_acûss_ş
[
MAX_IC_INDEX
][
CLUSTERS
];

236 
ma¡”_lšk_rx_acûss_ş
[
MAX_IC_INDEX
][
CLUSTERS
];

237 
ma¡”_lšk_tx_acûss_ş
[
MAX_IC_INDEX
][
CLUSTERS
];

238 #ifdeà
TRACK_COMM_USE_TYPES


239 
ma¡”_lšk_tx_u£_ty³_acûss
[
MAX_IC_INDEX
][
LENGTHOF_comm_u£_ty³_’um
];

242 
couÁ”_t
 *
ma¡”_lšk_width_di¡
[
MAX_IC_INDEX
];

244 
	#DECLARE_POWER_STATS
(
rg
è\

	)

245 
couÁ”_t
 
	gtÙ®_ma¡”_
##
	grg
##
	g_acûss
[
MAX_IC_INDEX
]; \

246 
couÁ”_t
 
	gmax_ma¡”_
##
	grg
##
	g_acûss
[
MAX_IC_INDEX
]; \

247 
	gma¡”_
##
	grg
##
	g_pow”
[
MAX_IC_INDEX
]; \

248 
	gma¡”_
##
	grg
##
	g_pow”_cc1
[
MAX_IC_INDEX
][
CLUSTERS
+1]; \

249 
	gma¡”_
##
	grg
##
	g_pow”_cc2
[
MAX_IC_INDEX
][
CLUSTERS
+1]; \

250 
	gma¡”_
##
	grg
##
	g_pow”_cc3
[
MAX_IC_INDEX
][
CLUSTERS
+1]

252 
	#CLEAR_AGGREGATE_POWER_STATS
(
rg
,
l
è\

	)

253 
	gtÙ®_ma¡”_
##
	grg
##
	g_acûss
[
l
] = 0; \

254 
	gmax_ma¡”_
##
	grg
##
	g_acûss
[
l
] = 0; \

256 
	#CLEAR_POWER_STATS
(
rg
,
l
,
i
è\

	)

257 
	gma¡”_
##
	grg
##
	g_pow”
[
l
] = 0; \

258 
	gma¡”_
##
	grg
##
	g_pow”_cc1
[
l
][
i
] = 0; \

259 
	gma¡”_
##
	grg
##
	g_pow”_cc2
[
l
][
i
] = 0; \

260 
	gma¡”_
##
	grg
##
	g_pow”_cc3
[
l
][
i
] = 0

262 
DECLARE_POWER_STATS
(
q¿m
);

263 
DECLARE_POWER_STATS
(
lšk_rx
);

264 
DECLARE_POWER_STATS
(
lšk_tx
);

266 
	#ACCESS_TOTAL_POWER_STAT_B
(
rg
,
l
,
i
,
şock”
è
ma¡”_
##rg##
_pow”
##şock”[l][i]

	)

267 
	#ACCESS_TOTAL_POWER_STAT
(
rg
,
l
è
ma¡”_
##rg##
_pow”
[l]

	)

269 
	#ACCESS_TOTAL_POWER_STAT_CC1
(
rg
,
l
,
i
è
	`ACCESS_TOTAL_POWER_STAT_B
Ñ¬g,l,i,
_cc1
)

	)

270 
	#ACCESS_TOTAL_POWER_STAT_CC2
(
rg
,
l
,
i
è
	`ACCESS_TOTAL_POWER_STAT_B
Ñ¬g,l,i,
_cc2
)

	)

271 
	#ACCESS_TOTAL_POWER_STAT_CC3
(
rg
,
l
,
i
è
	`ACCESS_TOTAL_POWER_STAT_B
Ñ¬g,l,i,
_cc3
)

	)

275 
š™_routšg_bË
();

276 
š‹rcÚÃù_š™
();

277 
š‹rcÚÃù_ä“
();

278 
ş—r_š‹rcÚÃù_acûss_¡©s
();

279 
tÙ®_š‹rcÚÃù_pow”_¡©s
();

280 
tÙ®_š‹rcÚÃù_acûss_¡©s
();

281 
¬b™¿ry_routšg_bË_š™
();

282 
š™_lšk_desü_bËs
();

283 
ş_comm_Ït
(
äom
, 
to
, 
off£t
, 
by‹size
, 
comm_u£_ty³_’um
 
u£_ty³
);

284 #ifdeà
TRACK_COMM_USE_TYPES


285 
ršg_Ït_ty³d
(
äom
, 
to
, 
my»g
, 
off£t
, 
comm_u£_ty³_’um
 
u£_ty³
);

287 
ršg_Ït
(
äom
, 
to
, 
my»g
, 
off£t
);

289 
æood_Ït
(
couÁ”_t
 * 
»suÉs
, 
äom
, couÁ”_ˆ
£ndtime
);

	@loader.c

52 
	~<¡dio.h
>

53 
	~<¡dlib.h
>

55 
	~"ho¡.h
"

56 
	~"misc.h
"

57 
	~"machše.h
"

58 
	~"’dŸn.h
"

59 
	~"»gs.h
"

60 
	~"memÜy.h
"

61 
	~"sim.h
"

62 
	~"eio.h
"

63 
	~"lßd”.h
"

65 #ifdeà
SMT_SS


66 
	~"cÚ‹xt.h
"

68 #ifdeà
BFD_LOADER


69 
	~<bfd.h
>

71 
	~"rg‘-®pha-lšux/ecoff.h
"

72 
	~"rg‘-®pha-lšux/–f64.h
"

76 
	#TEXT_TAIL_PADDING
 0

	)

78 
AÍhaSy¡emS‹
 
	g_sy¡em
;

81 
md_addr_t
 
	gld_bss_ba£
 = 0;

84 
	gld_bss_size
 = 0;

87 
md_addr_t
 
	gld_brk_pošt
 = 0;

89 
ušt64_t
 
	gaddr
, 
	gz”o
=0;

93 
	$š™Ÿlize_sy¡em_¡©e
()

97 
_sy¡em
.
brk_pošt
 = (
ld_bss_ba£
 + 
ld_bss_size
 + 0xffffLL) & 0xffffffffffff0000LL;

99 
_sy¡em
.
mm­_’d
 = 0x180000000;

100 
	}
}

105 
	$ld_»g_¡©s
(
¡©_sdb_t
 *
sdb
, 
th»adid
)

107 
cÚ‹xt
 *
cu¼’t
;

108 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

110 
	`¡©_»g_ušt
(
sdb
, "threadid",

112 &
cu¼’t
->
id
, current->id, "0x%010p");

113 
	`¡©_»g_addr
(
sdb
, "ld_text_base",

115 &
cu¼’t
->
ld_‹xt_ba£
, current->ld_text_base, "0x%010p");

116 
	`¡©_»g_ušt
(
sdb
, "ld_text_size",

118 &
cu¼’t
->
ld_‹xt_size
, cu¼’t->ld_‹xt_size, 
NULL
);

119 
	`¡©_»g_addr
(
sdb
, "ld_data_base",

121 &
cu¼’t
->
ld_d©a_ba£
, current->ld_data_base, "0x%010p");

122 
	`¡©_»g_ušt
(
sdb
, "ld_data_size",

124 &
cu¼’t
->
ld_d©a_size
, cu¼’t->ld_d©a_size, 
NULL
);

125 
	`¡©_»g_addr
(
sdb
, "ld_stack_base",

127 &
cu¼’t
->
ld_¡ack_ba£
, current->ld_stack_base, "0x%010p");

128 
	`¡©_»g_ušt
(
sdb
, "ld_stack_size",

130 &
cu¼’t
->
ld_¡ack_size
, cu¼’t->ld_¡ack_size, 
NULL
);

131 
	`¡©_»g_addr
(
sdb
, "ld_prog_entry",

133 &
cu¼’t
->
ld_´og_’Œy
, current->ld_prog_entry, "0x%010p");

134 
	`¡©_»g_addr
(
sdb
, "ld_environ_base",

136 &
cu¼’t
->
ld_’vœÚ_ba£
, current->ld_environ_base, "0x%010p");

137 
	`¡©_»g_št
(
sdb
, "ld_target_big_endian",

139 &
cu¼’t
->
ld_rg‘_big_’dŸn
, cu¼’t->ld_rg‘_big_’dŸn, 
NULL
);

140 
	}
}

146 
	$ld_lßd_´og
(*
âame
,

147 
¬gc
, **
¬gv
,

148 **
’vp
,

149 
»gs_t
 *
»gs
,

150 
mem_t
 *
mem
,

151 
z”o_bss_£gs
,

152 
th»adid
)

154 
i
;

155 
qwÜd_t
 
‹mp
;

156 
md_addr_t
 
¥
, 
d©a_b»ak
 = 0, 
nuÎ_±r
 = 0, 
¬gv_addr
, 
’vp_addr
;

158 
cÚ‹xt
 *
cu¼’t
;

159 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

161 ià(
	`eio_v®id
(
âame
))

163 ià(
¬gc
 != 1)

165 
	`årštf
(
¡d”r
, "h»ad %dƒ¼Ü: EIO fha ¬gum’ts\n",
th»adid
);

166 
	`ex™
(1);

169 
	`årštf
(
¡d”r
, "h»ad %d sim:†ßdšg EIO fe: %s\n",
th»adid
, 
âame
);

171 
cu¼’t
->
sim_eio_âame
 = 
	`my¡rdup
(
âame
);

174 
cu¼’t
->
sim_eio_fd
 = 
	`eio_İ’
(
âame
);

177 ià(
	`eio_»ad_chk±
(
»gs
, 
mem
, 
cu¼’t
->
sim_eio_fd
) != -1)

178 
	`çl
("h»ad %d bad in™ŸÈcheckpošˆš EIO fe",
th»adid
);

181 ià(
cu¼’t
->
sim_chk±_âame
 !ğ
NULL
)

183 
couÁ”_t
 
»¡Üe_iút
;

185 
FILE
 *
chk±_fd
;

187 
	`årštf
(
¡d”r
, "sim:h»ad %d†ßdšg checkpošˆfe: %s\n",
th»adid
,

188 
cu¼’t
->
sim_chk±_âame
);

190 ià(!
	`eio_v®id
(
cu¼’t
->
sim_chk±_âame
))

191 
	`çl
("h»ad %d f`%s' dÛ nÙ‡µ—¸tØb¨checkpošˆfe",
th»adid
,

192 
cu¼’t
->
sim_chk±_âame
);

195 
chk±_fd
 = 
	`eio_İ’
(
cu¼’t
->
sim_chk±_âame
);

198 
»¡Üe_iút
 = 
	`eio_»ad_chk±
(
»gs
, 
mem
, 
chk±_fd
);

201 
	`myårštf
(
¡d”r
, "sim:h»ad %d fa¡ fÜw¬dšgØš¡ruùiÚ %n\n",
th»adid
,

202 
»¡Üe_iút
);

203 
	`eio_ç¡_fÜw¬d
(
cu¼’t
->
sim_eio_fd
, 
»¡Üe_iút
);

207 
cu¼’t
->
ld_’vœÚ_ba£
 = 
»gs
->
»gs_R
[
MD_REG_SP
];

208 
cu¼’t
->
ld_´og_’Œy
 = 
»gs
->
»gs_PC
;

213 #ifdeà
MD_CROSS_ENDIAN


216 
	`w¬n
("’dŸÀoà`%s' dÛ nÙ m©ch ho¡", 
âame
);

217 
	`w¬n
("running withƒxperimental cross-endianƒxecution support");

218 
	`w¬n
("****************************************");

219 
	`w¬n
("**>>…lease check„esults carefully <<**");

220 
	`w¬n
("****************************************");

225 ià(
cu¼’t
->
sim_chk±_âame
 !ğ
NULL
)

226 
	`çl
("h»ad %d checkpošt Úly suµÜ‹d whEIO¿cšg",
th»adid
);

231 
FILE
 *
fobj
;

232 
æoc
;

233 
Elf64_Ehdr
 
fhdr
;

234 
Elf64_Phdr
 
phdr
;

235 
Elf64_Shdr
 
shdr
;

236 *
shdr_¡rs
;

237 
ecoff_aouthdr
 
ahdr
;

240 *
p
;

243 
cu¼’t
->
ld_´og_âame
 = 
¬gv
[0];

246 #ià
	`defšed
(
__CYGWIN32__
è|| defšed(
_MSC_VER
)

247 
fobj
 = 
	`fİ’
(
¬gv
[0], "rb");

249 
fobj
 = 
	`fİ’
(
¬gv
[0], "r");

251 ià(!
fobj
)

252 
	`çl
("h»ad %d cªnÙ o³ÀexecubË `%s'",
th»adid
, 
¬gv
[0]);

255 ià(
	`ä—d
(&
fhdr
, (
Elf64_Ehdr
), 1, 
fobj
) < 1)

256 
	`çl
("h»ad %d cªnÙ„—d h—d” fromƒxecubË `%s'",
th»adid
, 
¬gv
[0]);

259 ià((
fhdr
.
e_id’t
[0] != '\x7f') ||

260 (
fhdr
.
e_id’t
[1] != 'E') ||

261 (
fhdr
.
e_id’t
[2] != 'L') ||

262 (
fhdr
.
e_id’t
[3] != 'F'))

263 
	`çl
("ArchLib: % did‚Ù cÚš‡ v®id magiønumb”", 
¬gv
[0]);

264 ià(
fhdr
.
e_id’t
[4] !ğ
ELFCLASS64
)

265 
	`çl
("ArchLib: % wa nÙ‡ 64-b™ ELF bš¬y", 
¬gv
[0]);

266 ià(
fhdr
.
e_id’t
[5] !ğ
ELFDATA2LSB
)

267 
	`çl
("ArchLib: %s did‚ot contain†ittle-endian object file strutcs",

268 
¬gv
[0]);

269 ià(
fhdr
.
e_ty³
 !ğ
ET_EXEC
)

270 
	`çl
("ArchLib: % i nÙ‡ÀexecubË fe", 
¬gv
[0]);

285 
i
 = 0; i < 
fhdr
.
e_phnum
; i++)

287 ià(
	`f£ek
(
fobj
, 
fhdr
.
e_phoff
 + (
i
*fhdr.
e_ph’tsize
), 
SEEK_SET
) == -1)

288 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

289 
size_t
 
Ën
 = 
	`ä—d
(&
phdr
, 1, Õhdr), 
fobj
);

290 ià(
Ën
 !ğ(
phdr
))

291 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

293 
phdr
.
p_ty³
)

295 
PT_NULL
:

298 
PT_NOTE
:

301 
PT_SHLIB
:

304 
PT_LOOS
:

307 
PT_HIOS
:

310 
PT_LOPROC
:

313 
PT_HIPROC
:

317 
PT_LOAD
:

318 
PT_DYNAMIC
:

319 
PT_INTERP
:

320 
PT_PHDR
:

322 ià(
	`f£ek
(
fobj
, 
phdr
.
p_off£t
, 
SEEK_SET
) == -1)

323 
	`çl
("ArchLib:ƒrror seekingo…rogram seg %i from %s",

324 
i
, 
¬gv
[0]);

326 
p
 = (*)
	`ÿÎoc
(
phdr
.
p_fesz
, ());

327 ià(!
p
)

328 
	`çl
("ArchLib: out of virtual memory");

329 ià(
	`ä—d
(
p
, 
phdr
.
p_fesz
, 1, 
fobj
) < 1)

330 
	`çl
("ArchLib:ƒrror„eading…rogram segment %i from %s",

331 
i
, 
¬gv
[0]);

333 
	`mem_bcİy
(
mem_acûss
, 
cu¼’t
->
mem
, 
Wr™e
, 
	`MD_SWAPQ
(
phdr
.
p_vaddr
), 
p
, MD_SWAPQÕhdr.
p_fesz
), cu¼’t->
id
);

334 
	`ä“
(
p
);

344 ià(
	`f£ek
(
fobj
,

345 
fhdr
.
e_shoff
 + (fhdr.
e_sh¡ºdx
*fhdr.
e_sh’tsize
),

346 
SEEK_SET
) == -1)

347 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

348 
size_t
 
Ën
 = 
	`ä—d
(&
shdr
, 1, (shdr), 
fobj
);

349 ià(
Ën
 !ğ(
shdr
))

350 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

351 ià(
shdr
.
sh_ty³
 !ğ
SHT_STRTAB
)

352 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

353 ià(
	`f£ek
(
fobj
, 
shdr
.
sh_off£t
, 
SEEK_SET
) == -1)

354 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

355 
shdr_¡rs
 = (*)
	`ÿÎoc
(
shdr
.
sh_size
, ());

356 
Ën
 = 
	`ä—d
(
shdr_¡rs
, 1, 
shdr
.
sh_size
, 
fobj
);

357 ià(
Ën
 !ğ
shdr
.
sh_size
)

358 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

361 
cu¼’t
->
ld_´og_’Œy
 = 
fhdr
.
e_’Œy
;

362 
cu¼’t
->
ld_‹xt_size
 = cu¼’t->
ld_‹xt_ba£
 = 0;

363 
cu¼’t
->
ld_d©a_size
 = cu¼’t->
ld_d©a_ba£
 = 0;

366 
i
 = 0; i < 
fhdr
.
e_shnum
; i++)

368 ià(
	`f£ek
(
fobj
, 
fhdr
.
e_shoff
 + (
i
*fhdr.
e_sh’tsize
), 
SEEK_SET
) == -1)

369 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

370 
size_t
 
Ën
 = 
	`ä—d
(&
shdr
, 1, (shdr), 
fobj
);

371 ià(
Ën
 !ğ(
shdr
))

372 
	`çl
("ArchLib:ƒ¼Ü…¬sšg %s", 
¬gv
[0]);

375 ià(!
	`¡rcmp
(".‹xt", 
shdr_¡rs
 + 
shdr
.
sh_Çme
))

377 
cu¼’t
->
ld_‹xt_size
 = 
	`MD_SWAPQ
(
shdr
.
sh_size
);

378 
cu¼’t
->
ld_‹xt_ba£
 = 
	`MD_SWAPQ
(
shdr
.
sh_addr
);

382 ià(!
	`¡rcmp
(".d©a", 
shdr_¡rs
 + 
shdr
.
sh_Çme
))

384 
cu¼’t
->
ld_d©a_size
 = 
	`MD_SWAPQ
(
shdr
.
sh_size
);

385 
cu¼’t
->
ld_d©a_ba£
 = 
	`MD_SWAPQ
(
shdr
.
sh_addr
);

388 ià(!
	`¡rcmp
(".bss", 
shdr_¡rs
 + 
shdr
.
sh_Çme
))

391 
ld_bss_size
 = 
	`MD_SWAPQ
(
shdr
.
sh_size
);

392 
cu¼’t
->
ld_d©a_size
 +=
ld_bss_size
;

393 
ld_bss_ba£
 = 
	`MD_SWAPQ
(
shdr
.
sh_addr
);

397 
	`ä“
(
shdr_¡rs
);

411 
d©a_b»ak
 = 
cu¼’t
->
ld_d©a_ba£
 + cu¼’t->
ld_d©a_size
;

418 
	`debug
("processing %d sections in `%s'...",

419 
	`MD_SWAPH
(
fhdr
.
e_phnum
), 
¬gv
[0]);

424 ià(
	`fşo£
(
fobj
))

425 
	`çl
("could‚Ù clo£ƒxecubË `%s'", 
¬gv
[0]);

431 ià(!
cu¼’t
->
ld_‹xt_ba£
 || !cu¼’t->
ld_‹xt_size
)

432 
	`çl
("h»ad %dƒxecubË i missšg‡ `.‹xt' seùiÚ",
th»adid
);

433 ià(!
cu¼’t
->
ld_d©a_ba£
 || !cu¼’t->
ld_d©a_size
)

434 
	`çl
("h»ad %dƒxecubË i missšg‡ `.d©a' seùiÚ",
th»adid
);

435 ià(!
cu¼’t
->
ld_´og_’Œy
)

436 
	`çl
("h»ad %d…rog¿mƒÁry…ošˆnÙ s³cif›d",
th»adid
);

439 
cu¼’t
->
sim_sw­_by‹s
 = (
	`’dŸn_ho¡_by‹_Üd”
(è!ğ
	`’dŸn_rg‘_by‹_Üd”
(
th»adid
));

440 
cu¼’t
->
sim_sw­_wÜds
 = (
	`’dŸn_ho¡_wÜd_Üd”
(è!ğ
	`’dŸn_rg‘_wÜd_Üd”
(
th»adid
));

444 
cu¼’t
->
ld_¡ack_ba£
 = cu¼’t->
ld_‹xt_ba£
 - (409600+4096);

446 
¥
 = 
cu¼’t
->
ld_¡ack_ba£
 - 
MD_MAX_ENVIRON
;

447 
cu¼’t
->
ld_¡ack_size
 = cu¼’t->
ld_¡ack_ba£
 - 
¥
;

448 
cu¼’t
->
¡ack_ba£
 = cu¼’t->
ld_¡ack_ba£
 - 
STACKSIZE
;

452 
cu¼’t
->
ld_’vœÚ_ba£
 = 
¥
;

455 
‹mp
 = 
	`MD_SWAPQ
(
¬gc
);

456 
	`mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
¥
, &
‹mp
, (
qwÜd_t
), cu¼’t->
id
);

457 
»gs
->
»gs_R
[
MD_REG_A0
] = 
‹mp
;

458 
¥
 +ğ(
qwÜd_t
);

461 
¬gv_addr
 = 
¥
;

462 
»gs
->
»gs_R
[
MD_REG_A1
] = 
¬gv_addr
;

463 
¥
 = s°+ (
¬gc
 + 1è* (
md_addr_t
);

466 
’vp_addr
 = 
¥
;

467 
i
=0; 
’vp
[i]; i++)

468 
¥
 +ğ(
md_addr_t
);

469 
¥
 +ğ(
md_addr_t
);

472 
i
=0; i<
¬gc
; i++)

475 
‹mp
 = 
	`MD_SWAPQ
(
¥
);

476 
	`mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
¬gv_addr
 + 
i
*(
md_addr_t
), &
‹mp
, (md_addr_t), cu¼’t->
id
);

478 
	`mem_¡rıy
(
mem_acûss
, 
cu¼’t
->
mem
, 
Wr™e
, 
¥
, 
¬gv
[
i
], cu¼’t->
id
);

479 
¥
 +ğ
	`¡¾’
(
¬gv
[
i
])+1;

482 
	`mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
¬gv_addr
 + 
i
*(
md_addr_t
), &
nuÎ_±r
, (md_addr_t), cu¼’t->
id
);

485 
i
 = 0; 
’vp
[i]; i++)

488 
‹mp
 = 
	`MD_SWAPQ
(
¥
);

489 
	`mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
’vp_addr
 + 
i
*(
md_addr_t
), &
‹mp
, (md_addr_t), cu¼’t->
id
);

491 
	`mem_¡rıy
(
mem_acûss
, 
cu¼’t
->
mem
, 
Wr™e
, 
¥
, 
’vp
[
i
], cu¼’t->
id
);

492 
¥
 +ğ
	`¡¾’
(
’vp
[
i
]) + 1;

495 
	`mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
’vp_addr
 + 
i
*(
md_addr_t
), &
nuÎ_±r
, (md_addr_t), cu¼’t->
id
);

498 ià(
¥
 > 
cu¼’t
->
ld_¡ack_ba£
)

503 
	`çl
("h»ad %dƒnvœÚm’ˆov”æow, inü—£ MD_MAX_ENVIRON iÀ®pha.h",
th»adid
);

507 
cu¼’t
->
ld_brk_pošt
 = 
	`ROUND_UP
(cu¼’t->
ld_d©a_ba£
 + cu¼’t->
ld_d©a_size
, 
MD_PAGE_SIZE
);

510 
cu¼’t
->
ld_¡ack_mš
 = 
»gs
->
»gs_R
[
MD_REG_SP
];

512 
»gs
->
»gs_R
[
MD_REG_SP
] = 
cu¼’t
->
ld_’vœÚ_ba£
;

513 
»gs
->
»gs_PC
 = 
cu¼’t
->
ld_´og_’Œy
;

514 
	`´štf
("h»ad %d†d_‹xt_ba£: 0x%08x†d_‹xt_size: 0x%08x",
th»adid
,

515 
cu¼’t
->
ld_‹xt_ba£
, cu¼’t->
ld_‹xt_size
);

516 
	`´štf
("h»ad %d†d_d©a_ba£: 0x%08x†d_d©a_size: 0x%08x",
th»adid
,

517 
cu¼’t
->
ld_d©a_ba£
, cu¼’t->
ld_d©a_size
);

518 
	`´štf
("h»ad %d†d_¡ack_ba£: 0x%08x†d_¡ack_size: 0x%08x",
th»adid
,

519 
cu¼’t
->
ld_¡ack_ba£
, cu¼’t->
ld_¡ack_size
);

520 
	`´štf
("h»ad %d†d_´og_’Œy: 0x%08x",
th»adid
, 
cu¼’t
->
ld_´og_’Œy
);

521 
	`fæush
 (
¡dout
);

522 
	`debug
("h»ad %d†d_‹xt_ba£: 0x%08x†d_‹xt_size: 0x%08x",
th»adid
,

523 
cu¼’t
->
ld_‹xt_ba£
, cu¼’t->
ld_‹xt_size
);

524 
	`debug
("h»ad %d†d_d©a_ba£: 0x%08x†d_d©a_size: 0x%08x",
th»adid
,

525 
cu¼’t
->
ld_d©a_ba£
, cu¼’t->
ld_d©a_size
);

526 
	`debug
("h»ad %d†d_¡ack_ba£: 0x%08x†d_¡ack_size: 0x%08x",
th»adid
,

527 
cu¼’t
->
ld_¡ack_ba£
, cu¼’t->
ld_¡ack_size
);

528 
	`debug
("h»ad %d†d_´og_’Œy: 0x%08x",
th»adid
, 
cu¼’t
->
ld_´og_’Œy
);

633 
´og¿m_com¶‘e
 = 0;

637 
	`š™Ÿlize_sy¡em_¡©e
();

641 
	`´štf
("FINISHED LOADER\n");

642 
	}
}

	@loader.h

93 #iâdeà
LOADER_H


94 
	#LOADER_H


	)

96 
	~<¡dio.h
>

98 
	~"ho¡.h
"

99 
	~"misc.h
"

100 
	~"machše.h
"

101 
	~"»gs.h
"

102 
	~"memÜy.h
"

103 
	~"sim.h
"

141 
AÍhaSy¡emS‹
 
_sy¡em
;

143 
md_addr_t
 
ld_brk_pošt
;

145 #iâdeà
SMT_SS


147 
md_addr_t
 
ld_‹xt_ba£
;

150 
ld_‹xt_size
;

153 
md_addr_t
 
ld_d©a_ba£
;

156 
ld_d©a_size
;

159 
md_addr_t
 
ld_brk_pošt
;

162 
md_addr_t
 
ld_¡ack_ba£
;

165 
ld_¡ack_size
;

168 
md_addr_t
 
ld_¡ack_mš
;

171 *
ld_´og_âame
;

174 
md_addr_t
 
ld_´og_’Œy
;

177 
md_addr_t
 
ld_’vœÚ_ba£
;

180 
ld_rg‘_big_’dŸn
;

184 
ld_»g_¡©s
(
¡©_sdb_t
 *
sdb
);

189 
ld_lßd_´og
(*
âame
,

190 
¬gc
, **
¬gv
,

191 **
’vp
,

192 
»gs_t
 *
»gs
,

193 
mem_t
 *
mem
,

194 
z”o_bss_£gs
);

200 
ld_»g_¡©s
(
¡©_sdb_t
 *
sdb
, 
th»adid
);

205 
ld_lßd_´og
(*
âame
,

206 
¬gc
, **
¬gv
,

207 **
’vp
,

208 
»gs_t
 *
»gs
,

209 
mem_t
 *
mem
,

210 
z”o_bss_£gs
,

211 
th»adid
);

	@machine.c

112 
	~<¡dio.h
>

113 
	~<¡dlib.h
>

115 
	~"ho¡.h
"

116 
	~"misc.h
"

117 
	~"machše.h
"

118 
	~"ev®.h
"

119 
	~"»gs.h
"

120 
	~"sim.h
"

122 
	~"smt.h
"

124 #ifdeà
SMT_SS


125 
	~"cÚ‹xt.h
"

130 #ià!
defšed
(
BYTES_LITTLE_ENDIAN
è|| !defšed(
WORDS_LITTLE_ENDIAN
)

131 #”rÜ 
Sim¶eSÿÏr
/
AXP
 
Úly
 
buds
 
Ú
 
l™e
-
’dŸn
 
machšes
...

136 #ià!
defšed
(
HOST_HAS_QWORD
)

137 #”rÜ 
Sim¶eSÿÏr
/
AXP
 
Úly
 
buds
 
Ú
 
ho¡s
 
w™h
 
butš
 
qwÜd
 
suµÜt
...

138 #”rÜ 
Try
 
budšg
 
w™h
 
GNU
 
GCC
, 
as
 
™
 
suµÜts
 
qwÜds
 
Ú
 
mo¡
 
machšes
.

142 
md_š¡_t
 
	gMD_NOP_INST
 = 0x43ff041f;

145 
md_İcode
 
	gmd_mask2İ
[
MD_MAX_MASK
+1];

146 
	gmd_İoff£t
[
OP_MAX
];

149 
	gmd_İmask
[
OP_MAX
] = {

151 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è0,

	)

152 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
SHIFT
,
MASK
èMASK,

	)

153 
	#CONNECT
(
OP
)

	)

154 
	~"machše.def
"

158 
	gmd_İshiá
[
OP_MAX
] = {

160 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è0,

	)

161 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
SHIFT
,
MASK
èSHIFT,

	)

162 
	#CONNECT
(
OP
)

	)

163 
	~"machše.def
"

167 *
	gmd_İ2Çme
[
OP_MAX
] = {

168 
NULL
,

169 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
èNAME,

	)

170 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
èNAME,

	)

171 
	#CONNECT
(
OP
)

	)

172 
	~"machše.def
"

176 *
	gmd_İ2fÜm©
[
OP_MAX
] = {

177 
NULL
,

178 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
èOPFORM,

	)

179 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è
NULL
,

	)

180 
	#CONNECT
(
OP
)

	)

181 
	~"machše.def
"

185 
md_fu_şass
 
	gmd_İ2fu
[
OP_MAX
] = {

186 
FUCÏmd_NA
,

187 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
èRES,

	)

188 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è
FUCÏmd_NA
,

	)

189 
	#CONNECT
(
OP
)

	)

190 
	~"machše.def
"

194 *
	gmd_fu2Çme
[
NUM_FU_CLASSES
] = {

195 
NULL
,

209 *
	gmd_amode_¡r
[
md_amode_NUM
] =

220 
md_»g_Çmes_t
 
	gmd_»g_Çmes
[] =

225 { "$r0", 
¹_g´
, 0 },

226 { "$v0", 
¹_g´
, 0 },

227 { "$r1", 
¹_g´
, 1 },

228 { "$r2", 
¹_g´
, 2 },

229 { "$r3", 
¹_g´
, 3 },

230 { "$r4", 
¹_g´
, 4 },

231 { "$r5", 
¹_g´
, 5 },

232 { "$r6", 
¹_g´
, 6 },

233 { "$r7", 
¹_g´
, 7 },

234 { "$”r", 
¹_g´
, 7 },

235 { "$r8", 
¹_g´
, 8 },

236 { "$r9", 
¹_g´
, 9 },

237 { "$r10", 
¹_g´
, 10 },

238 { "$r11", 
¹_g´
, 11 },

239 { "$r12", 
¹_g´
, 12 },

240 { "$r13", 
¹_g´
, 13 },

241 { "$r14", 
¹_g´
, 14 },

242 { "$r15", 
¹_g´
, 15 },

243 { "$å", 
¹_g´
, 15 },

244 { "$r16", 
¹_g´
, 16 },

245 { "$a0", 
¹_g´
, 16 },

246 { "$r17", 
¹_g´
, 17 },

247 { "$a1", 
¹_g´
, 17 },

248 { "$r18", 
¹_g´
, 18 },

249 { "$a2", 
¹_g´
, 18 },

250 { "$r19", 
¹_g´
, 19 },

251 { "$a3", 
¹_g´
, 19 },

252 { "$r20", 
¹_g´
, 20 },

253 { "$a4", 
¹_g´
, 20 },

254 { "$r21", 
¹_g´
, 21 },

255 { "$a5", 
¹_g´
, 21 },

256 { "$r22", 
¹_g´
, 22 },

257 { "$r23", 
¹_g´
, 23 },

258 { "$r24", 
¹_g´
, 24 },

259 { "$r25", 
¹_g´
, 25 },

260 { "$r26", 
¹_g´
, 26 },

261 { "$¿", 
¹_g´
, 26 },

262 { "$r27", 
¹_g´
, 27 },

263 { "$r28", 
¹_g´
, 28 },

264 { "$r29", 
¹_g´
, 29 },

265 { "$gp", 
¹_g´
, 29 },

266 { "$r30", 
¹_g´
, 30 },

267 { "$¥", 
¹_g´
, 30 },

268 { "$r31", 
¹_g´
, 31 },

269 { "$z”o", 
¹_g´
, 31 },

272 { "$f0", 
¹_år
, 0 },

273 { "$f1", 
¹_år
, 1 },

274 { "$f2", 
¹_år
, 2 },

275 { "$f3", 
¹_år
, 3 },

276 { "$f4", 
¹_år
, 4 },

277 { "$f5", 
¹_år
, 5 },

278 { "$f6", 
¹_år
, 6 },

279 { "$f7", 
¹_år
, 7 },

280 { "$f8", 
¹_år
, 8 },

281 { "$f9", 
¹_år
, 9 },

282 { "$f10", 
¹_år
, 10 },

283 { "$f11", 
¹_år
, 11 },

284 { "$f12", 
¹_år
, 12 },

285 { "$f13", 
¹_år
, 13 },

286 { "$f14", 
¹_år
, 14 },

287 { "$f15", 
¹_år
, 15 },

288 { "$f16", 
¹_år
, 16 },

289 { "$f17", 
¹_år
, 17 },

290 { "$f18", 
¹_år
, 18 },

291 { "$f19", 
¹_år
, 19 },

292 { "$f20", 
¹_år
, 20 },

293 { "$f21", 
¹_år
, 21 },

294 { "$f22", 
¹_år
, 22 },

295 { "$f23", 
¹_år
, 23 },

296 { "$f24", 
¹_år
, 24 },

297 { "$f25", 
¹_år
, 25 },

298 { "$f26", 
¹_år
, 26 },

299 { "$f27", 
¹_år
, 27 },

300 { "$f28", 
¹_år
, 28 },

301 { "$f29", 
¹_år
, 29 },

302 { "$f30", 
¹_år
, 30 },

303 { "$f31", 
¹_år
, 31 },

306 { "$l0", 
¹_Ír
, 0 },

307 { "$l1", 
¹_Ír
, 1 },

308 { "$l2", 
¹_Ír
, 2 },

309 { "$l3", 
¹_Ír
, 3 },

310 { "$l4", 
¹_Ír
, 4 },

311 { "$l5", 
¹_Ír
, 5 },

312 { "$l6", 
¹_Ír
, 6 },

313 { "$l7", 
¹_Ír
, 7 },

314 { "$l8", 
¹_Ír
, 8 },

315 { "$l9", 
¹_Ír
, 9 },

316 { "$l10", 
¹_Ír
, 10 },

317 { "$l11", 
¹_Ír
, 11 },

318 { "$l12", 
¹_Ír
, 12 },

319 { "$l13", 
¹_Ír
, 13 },

320 { "$l14", 
¹_Ír
, 14 },

321 { "$l15", 
¹_Ír
, 15 },

322 { "$l16", 
¹_Ír
, 16 },

323 { "$l17", 
¹_Ír
, 17 },

324 { "$l18", 
¹_Ír
, 18 },

325 { "$l19", 
¹_Ír
, 19 },

326 { "$l20", 
¹_Ír
, 20 },

327 { "$l21", 
¹_Ír
, 21 },

328 { "$l22", 
¹_Ír
, 22 },

329 { "$l23", 
¹_Ír
, 23 },

330 { "$l24", 
¹_Ír
, 24 },

331 { "$l25", 
¹_Ír
, 25 },

332 { "$l26", 
¹_Ír
, 26 },

333 { "$l27", 
¹_Ír
, 27 },

334 { "$l28", 
¹_Ír
, 28 },

335 { "$l29", 
¹_Ír
, 29 },

336 { "$l30", 
¹_Ír
, 30 },

337 { "$l31", 
¹_Ír
, 31 },

340 { "$åü", 
¹_ù¾
, 0 },

341 { "$uniq", 
¹_ù¾
, 1 },

344 { "$pc", 
¹_PC
, 0 },

345 { "$Åc", 
¹_NPC
, 0 },

348 { 
NULL
, 
¹_g´
, 0 }

353 
	$md_»g_Çme
(
md_»g_ty³
 
¹
, 
»g
)

355 
i
;

357 
i
=0; 
md_»g_Çmes
[i].
¡r
 !ğ
NULL
; i++)

359 ià(
md_»g_Çmes
[
i
].
fe
 =ğ
¹
 && md_»g_Çmes[i].
»g
 ==„eg)

360  
md_»g_Çmes
[
i
].
¡r
;

364  
NULL
;

365 
	}
}

368 
	$md_»g_obj
(
»gs_t
 *
»gs
,

369 
is_wr™e
,

370 
md_»g_ty³
 
¹
,

371 
»g
,

372 
ev®_v®ue_t
 *
v®
)

374 
¹
)

376 
¹_g´
:

377 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_IREGS
)

380 ià(!
is_wr™e
)

382 
v®
->
ty³
 = 
‘_qwÜd
;

383 
v®
->
v®ue
.
as_qwÜd
 = 
»gs
->
»gs_R
[
»g
];

386 
»gs
->
»gs_R
[
»g
] = 
	`ev®_as_qwÜd
(*
v®
);

389 
¹_Ír
:

390 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_FREGS
)

393 ià(!
is_wr™e
)

395 
v®
->
ty³
 = 
‘_qwÜd
;

396 
v®
->
v®ue
.
as_qwÜd
 = 
»gs
->
»gs_F
.
q
[
»g
];

399 
»gs
->
»gs_F
.
q
[
»g
] = 
	`ev®_as_qwÜd
(*
v®
);

402 
¹_år
:

403 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_FREGS
)

406 ià(!
is_wr™e
)

408 
v®
->
ty³
 = 
‘_doubË
;

409 
v®
->
v®ue
.
as_doubË
 = 
»gs
->
»gs_F
.
d
[
»g
];

412 
»gs
->
»gs_F
.
d
[
»g
] = 
	`ev®_as_doubË
(*
v®
);

415 
¹_ù¾
:

416 
»g
)

419 ià(!
is_wr™e
)

421 
v®
->
ty³
 = 
‘_qwÜd
;

422 
v®
->
v®ue
.
as_qwÜd
 = 
»gs
->
»gs_C
.
åü
;

425 
»gs
->
»gs_C
.
åü
 = 
	`ev®_as_qwÜd
(*
v®
);

429 ià(!
is_wr™e
)

431 
v®
->
ty³
 = 
‘_qwÜd
;

432 
v®
->
v®ue
.
as_qwÜd
 = 
»gs
->
»gs_C
.
uniq
;

435 
»gs
->
»gs_C
.
uniq
 = 
	`ev®_as_qwÜd
(*
v®
);

443 
¹_PC
:

444 ià(!
is_wr™e
)

446 
v®
->
ty³
 = 
‘_addr
;

447 
v®
->
v®ue
.
as_addr
 = 
»gs
->
»gs_PC
;

450 
»gs
->
»gs_PC
 = 
	`ev®_as_addr
(*
v®
);

453 
¹_NPC
:

454 ià(!
is_wr™e
)

456 
v®
->
ty³
 = 
‘_addr
;

457 
v®
->
v®ue
.
as_addr
 = 
»gs
->
»gs_NPC
;

460 
»gs
->
»gs_NPC
 = 
	`ev®_as_addr
(*
v®
);

464 
	`·nic
("bogus„egister bank");

468  
NULL
;

469 
	}
}

473 
	$md_´št_œeg
(
md_g´_t
 
»gs
, 
»g
, 
FILE
 *
¡»am
)

475 
	`myårštf
(
¡»am
, "%4s: %16ld/0x%012lx",

476 
	`md_»g_Çme
(
¹_g´
, 
»g
), 
»gs
[reg],„egs[reg]);

477 
	}
}

480 
	$md_´št_œegs
(
md_g´_t
 
»gs
, 
FILE
 *
¡»am
)

482 
i
;

484 
i
=0; i < 
MD_NUM_IREGS
; i += 2)

486 
	`md_´št_œeg
(
»gs
, 
i
, 
¡»am
);

487 
	`årštf
(
¡»am
, " ");

488 
	`md_´št_œeg
(
»gs
, 
i
+1, 
¡»am
);

489 
	`årštf
(
¡»am
, "\n");

491 
	}
}

495 
	$md_´št_å»g
(
md_år_t
 
»gs
, 
»g
, 
FILE
 *
¡»am
)

497 
	`myårštf
(
¡»am
, "%4s: %16ld/0x%012lx/%f",

498 
	`md_»g_Çme
(
¹_år
, 
»g
), 
»gs
.
q
[»g],„egs.q[»g],„egs.
d
[reg]);

499 
	}
}

502 
	$md_´št_å»gs
(
md_år_t
 
»gs
, 
FILE
 *
¡»am
)

504 
i
;

507 
i
=0; i < 
MD_NUM_FREGS
; i += 2)

509 
	`md_´št_å»g
(
»gs
, 
i
, 
¡»am
);

510 
	`årštf
(
¡»am
, "\n");

512 
	`md_´št_å»g
(
»gs
, 
i
+1, 
¡»am
);

513 
	`årštf
(
¡»am
, "\n");

515 
	}
}

518 
	$md_´št_üeg
(
md_ù¾_t
 
»gs
, 
»g
, 
FILE
 *
¡»am
)

521 
»g
)

524 
	`myårštf
(
¡»am
, "FPCR: 0x%012lx", 
»gs
.
åü
);

528 
	`myårštf
(
¡»am
, "UNIQ: 0x%012lx", 
»gs
.
uniq
);

532 
	`·nic
("bogus control„egister index");

534 
	}
}

537 
	$md_´št_üegs
(
md_ù¾_t
 
»gs
, 
FILE
 *
¡»am
)

539 
	`md_´št_üeg
(
»gs
, 0, 
¡»am
);

540 
	`årštf
(
¡»am
, " ");

541 
	`md_´št_üeg
(
»gs
, 1, 
¡»am
);

542 
	`årštf
(
¡»am
, "\n");

543 
	}
}

546 
wÜd_t


547 
	$md_xÜ_»gs
(
»gs_t
 *
»gs
)

549 
i
;

550 
qwÜd_t
 
checksum
 = 0;

552 
i
=0; i < (
MD_NUM_IREGS
-1); i++)

553 
checksum
 ^ğ
»gs
->
»gs_R
[
i
];

555 
i
=0; i < (
MD_NUM_FREGS
-1); i++)

556 
checksum
 ^ğ
»gs
->
»gs_F
.
q
[
i
];

558 
checksum
 ^ğ
»gs
->
»gs_C
.
åü
;

559 
checksum
 ^ğ
»gs
->
»gs_C
.
uniq
;

560 
checksum
 ^ğ
»gs
->
»gs_PC
;

561 
checksum
 ^ğ
»gs
->
»gs_NPC
;

563  (
wÜd_t
)((
checksum
 >> 32) ^ checksum);

564 
	}
}

566 #ifdeà
SMT_SS


567 
	$md_v®id_addr
(
md_addr_t
 
ADDR
, 
th»adid
)

569 
cÚ‹xt
 *
cu¼’t
;

570 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

571  ( ((
ADDR
è>ğ
cu¼’t
->
ld_‹xt_ba£
 && (ADDRè< (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
))

573 || ((
ADDR
è>ğ
cu¼’t
->
ld_d©a_ba£
 && (ADDRè< 
_sy¡em
.
mm­_’d
)

574 || ((
ADDR
è>ğ(
cu¼’t
->
ld_¡ack_ba£
 - 16*1024*1024) && (ADDR) < current->ld_stack_base))

578 
	}
}

580 
	$md_‹xt_addr
(
md_addr_t
 
ADDR
, 
th»adid
)

582 
cÚ‹xt
 *
cu¼’t
;

583 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

584  ((
ADDR
è>ğ
cu¼’t
->
ld_´og_’Œy
 && (ADDRè< (cu¼’t->
ld_‹xt_ba£
 + cu¼’t->
ld_‹xt_size
));

585 
	}
}

589 
	gmd_İ2æags
[
OP_MAX
] = {

590 
NA
,

591 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
èFLAGS,

	)

592 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è
NA
,

	)

593 
	#CONNECT
(
OP
)

	)

594 
	~"machše.def
"

600 
	$md_š™_decod”
()

602 
max_off£t
 = 0;

603 
off£t
 = 0;

605 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

606 ià((
MSK
)+
off£t
 >ğ
MD_MAX_MASK
) \

607 
	`·nic
("MASK_MAX i toØsm®l, index==%d", (
MSK
)+
off£t
); \

608 ià(
md_mask2İ
[(
MSK
)+
off£t
]) \

609 
	`çl
("doubly defšed opcode, index==%d", (
MSK
)+
off£t
); \

610 
md_mask2İ
[(
MSK
)+
off£t
]=(
OP
); 
max_off£t
=
	`max2
(max_offset,(MSK)+offset);

612 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

613 ià((
MSK
)+
off£t
 >ğ
MD_MAX_MASK
) \

614 
	`·nic
("MASK_MAX i toØsm®l, index==%d", (
MSK
)+
off£t
); \

615 ià(
md_mask2İ
[(
MSK
)+
off£t
]) \

616 
	`çl
("doubly defšed opcode, index==%d", (
MSK
)+
off£t
); \

617 
md_mask2İ
[(
MSK
)+
off£t
]=(
OP
); 
max_off£t
=
	`max2
(max_offset,(MSK)+offset);

619 
	#CONNECT
(
OP
è\

	)

620 
off£t
 = 
max_off£t
+1; 
md_İoff£t
[
OP
] = offset;

622 
	~"machše.def
"

624 ià(
max_off£t
 >ğ
MD_MAX_MASK
)

625 
	`·nic
("MASK_MAX i toØsm®l, index==%d", 
max_off£t
);

626 
	}
}

630 
	$md_´št_š¢
(
md_š¡_t
 
š¡
,

631 
md_addr_t
 
pc
,

632 
FILE
 *
¡»am
)

634 
md_İcode
 
İ
;

637 ià(!
¡»am
)

638 
¡»am
 = 
¡d”r
;

641 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

644 ià(
İ
 <ğ
OP_NA
 || o°>ğ
OP_MAX
)

647 
	`årštf
(
¡»am
, "<šv®id in¡: 0x%08x>", 
š¡
);

651 *
s
;

654 
	`årštf
(
¡»am
, "% ", 
	`MD_OP_NAME
(
İ
));

656 
s
 = 
	`MD_OP_FORMAT
(
İ
);

657 *
s
) {

658 *
s
) {

660 
	`årštf
(
¡»am
, "r%d", 
RA
);

663 
	`årštf
(
¡»am
, "r%d", 
RB
);

666 
	`årštf
(
¡»am
, "r%d", 
RC
);

669 
	`årštf
(
¡»am
, "f%d", 
RA
);

672 
	`årštf
(
¡»am
, "f%d", 
RB
);

675 
	`årštf
(
¡»am
, "f%d", 
RC
);

678 
	`årštf
(
¡»am
, "%d", (
swÜd_t
)
	`SEXT
(
OFS
));

681 
	`myårštf
(
¡»am
, "0x%p", 
pc
 + (
	`SEXT
(
OFS
) << 2) + 4);

684 
	`myårštf
(
¡»am
, "0x%p", 
pc
 + (
	`SEXT21
(
TARG
) << 2) + 4);

687 
	`årštf
(
¡»am
, "%d", (
wÜd_t
)
IMM
);

691 
	`åutc
(*
s
, 
¡»am
);

693 
s
++;

696 
	}
}

	@machine.h

122 #iâdeà
ALPHA_H


123 
	#ALPHA_H


	)

125 
	~<¡dio.h
>

127 
	~"ho¡.h
"

128 
	~"misc.h
"

129 
	~"cÚfig.h
"

130 
	~"’dŸn.h
"

132 
	~"smt.h
"

141 
	#TARGET_ALPHA


	)

144 #ià
defšed
(
BYTES_BIG_ENDIAN
)

145 
	#MD_CROSS_ENDIAN


	)

149 
	#NA
 0

	)

156 
	#MD_QWORD_ADDRS


	)

159 
qwÜd_t
 
	tmd_addr_t
;

167 
	#MD_PAGE_SIZE
 4096

	)

168 
	#MD_LOG_PAGE_SIZE
 12

	)

176 
	#MD_LOCKED_BYTES
 16

177 

	)

178 
	#LOCKED_ADDRESS
(
X
è((X)&(
MD_LOCKED_BYTES
-1))

	)

180 
	#NUM_COM_REGS
 
MAXTHREADS


	)

214 
	emd_çuÉ_ty³
 {

215 
	mmd_çuÉ_nÚe
 = 0,

216 
	mmd_çuÉ_acûss
,

217 
	mmd_çuÉ_®ignm’t
,

218 
	mmd_çuÉ_ov”æow
,

219 
	mmd_çuÉ_div0
,

220 
	mmd_çuÉ_šv®id
,

222 
	mmd_çuÉ_b»ak
,

223 
	mmd_çuÉ_unim¶
,

224 
	mmd_çuÉ_š‹º®


233 
	#MD_NUM_IREGS
 32

	)

236 
	#MD_NUM_FREGS
 32

	)

239 
	#MD_NUM_CREGS
 2

	)

242 
	#MD_TOTAL_REGS
 \

	)

246 
qwÜd_t
 
	tmd_g´_t
[
MD_NUM_IREGS
];

250 
qwÜd_t
 
	mq
[
MD_NUM_FREGS
];

251 
dæßt_t
 
	md
[
MD_NUM_FREGS
];

252 } 
	tmd_år_t
;

256 
qwÜd_t
 
	måü
;

257 
qwÜd_t
 
	muniq
;

258 } 
	tmd_ù¾_t
;

261 
	emd_»g_Çmes
 {

262 
	mMD_REG_V0
 = 0,

263 
	mMD_REG_ERR
 = 7,

264 
	mMD_REG_FP
 = 15,

265 
	mMD_REG_A0
 = 16,

266 
	mMD_REG_A1
 = 17,

267 
	mMD_REG_A2
 = 18,

268 
	mMD_REG_A3
 = 19,

269 
	mMD_REG_A4
 = 20,

270 
	mMD_REG_A5
 = 21,

271 
	mMD_REG_RA
 = 26,

272 
	mMD_REG_GP
 = 29,

273 
	mMD_REG_SP
 = 30,

274 
	mMD_REG_ZERO
 = 31

283 
wÜd_t
 
	tmd_š¡_t
;

286 
md_š¡_t
 
MD_NOP_INST
;

289 #ifdeà
MD_CROSS_ENDIAN


291 
	#MD_SWAPH
(
X
è
	`SWAP_HALF
(X)

	)

292 
	#MD_SWAPW
(
X
è
	`SWAP_WORD
(X)

	)

293 
	#MD_SWAPQ
(
X
è
	`SWAP_QWORD
(X)

	)

294 
	#MD_SWAPI
(
X
èdØ{ (Xèğ
	`SWAP_WORD
(X); } 0)

	)

298 
	#MD_SWAPH
(
X
è(X)

	)

299 
	#MD_SWAPW
(
X
è(X)

	)

300 
	#MD_SWAPQ
(
X
è(X)

	)

301 
	#MD_SWAPD
(
X
è(X)

	)

302 
	#MD_SWAPI
(
X
è

	)

307 
	#MD_FETCH_INST
(
INST
, 
MEM
, 
PC
è\

	)

308 { (
	gINST
èğ
MEM_READ_WORD
((
MEM
), (
PC
)); }

315 
	#MD_MAX_ENVIRON
 16384

	)

323 
	#MD_TOP_OP
(
INST
è(((INSTè>> 26è& 0x3f)

	)

324 
	#MD_SET_OPCODE
(
OP
, 
INST
è\

	)

325 { 
	gOP
 = 
md_mask2İ
[
MD_TOP_OP
(
INST
)]; \

326 
	gmd_İmask
[
OP
]) \

327 
	gOP
 = 
md_mask2İ
[((
INST
 >> 
md_İshiá
[
OP
]è& 
md_İmask
[OP]) \

328 + 
md_İoff£t
[
OP
]]; }

332 
	#MD_MAX_MASK
 2048

	)

335 
	emd_İcode
 {

336 
	mOP_NA
 = 0,

337 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
èOP,

	)

338 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
èOP,

	)

339 
	#CONNECT
(
OP
)

	)

340 
	~"machše.def
"

341 
	mOP_MAX


347 
md_İcode
 
md_mask2İ
[];

348 
md_İoff£t
[];

349 
md_İmask
[];

350 
md_İshiá
[];

353 
	#MD_OP_NAME
(
OP
è(
md_İ2Çme
[OP])

	)

354 *
md_İ2Çme
[];

357 
	#MD_OP_FORMAT
(
OP
è(
md_İ2fÜm©
[OP])

	)

358 *
md_İ2fÜm©
[];

361 
	emd_fu_şass
 {

362 
	mFUCÏmd_NA
 = 0,

363 
	mIÁALU
,

364 
	mIÁMULT
,

365 
	mIÁDIV
,

366 
	mFlßtADD
,

367 
	mFlßtCMP
,

368 
	mFlßtCVT
,

369 
	mFlßtMULT
,

370 
	mFlßtDIV
,

371 
	mFlßtSQRT
,

372 
	mRdPÜt
,

373 
	mWrPÜt
,

374 
	mNUM_FU_CLASSES


378 
	#MD_OP_FUCLASS
(
OP
è(
md_İ2fu
[OP])

	)

379 
md_fu_şass
 
md_İ2fu
[];

382 
	#MD_FU_NAME
(
FU
è(
md_fu2Çme
[FU])

	)

383 *
md_fu2Çme
[];

386 
	#F_ICOMP
 0x00000001

	)

387 
	#F_FCOMP
 0x00000002

	)

388 
	#F_CTRL
 0x00000004

	)

389 
	#F_UNCOND
 0x00000008

	)

390 
	#F_COND
 0x00000010

	)

391 
	#F_MEM
 0x00000020

	)

392 
	#F_LOAD
 0x00000040

	)

393 
	#F_STORE
 0x00000080

	)

394 
	#F_DISP
 0x00000100

	)

395 
	#F_RR
 0x00000200

	)

396 
	#F_DIRECT
 0x00000400

	)

397 
	#F_TRAP
 0x00000800

	)

398 
	#F_LONGLAT
 0x00001000

	)

399 
	#F_DIRJMP
 0x00002000

	)

400 
	#F_INDIRJMP
 0x00004000

	)

401 
	#F_CALL
 0x00008000

	)

402 
	#F_FPCOND
 0x00010000

	)

403 
	#F_IMM
 0x00020000

	)

404 
	#F_FENCE
 0x00040000

	)

407 
	#MD_OP_FLAGS
(
OP
è(
md_İ2æags
[OP])

	)

408 
md_İ2æags
[];

412 
	#RA
 ((
š¡
 >> 21è& 0x1fè

	)

413 
	#RB
 ((
š¡
 >> 16è& 0x1fè

	)

414 
	#RC
 (
š¡
 & 0x1fè

	)

417 
	#IMM
 ((
qwÜd_t
)((
š¡
 >> 13è& 0xff))

	)

420 
	#TARG
 (
š¡
 & 0x1fffff)

	)

423 
	#OFS
 (
š¡
 & 0xffff)

	)

426 
	#SEXT
(
X
è\

	)

427 (((
	gX
è& 0x8000è? ((
	gsqwÜd_t
)(Xè| 
	$LL
(0xffffffffffff0000)è: (
sqwÜd_t
)(
X
))

429 
	#SEXT21
(
X
è\

	)

430 (((
X
è& 0x100000è? ((
sqwÜd_t
)(Xè| 
	$LL
(0xfffffffffã00000)è: (
sqwÜd_t
)(
X
))

432 
	#SEXT32
(
X
è\

	)

433 (((
X
è& 0x80000000è? ((
sqwÜd_t
)(X)|
	$LL
(0xffffffff00000000)è: (
sqwÜd_t
)(
X
))

436 
	#ARITH_OVFL
(
RESULT
, 
OP1
, 
OP2
è((RESULTè< (OP1è|| (RESULTè< (OP2))

	)

439 
	#IEEEFP_DBL_SIGN
(
Q
è((Qè>> 63)

	)

440 
	#IEEEFP_DBL_EXPONENT
(
Q
è(((Qè>> 52è& 0x7ff)

	)

441 
	#IEEEFP_DBL_FRACTION
(
Q
è((Qè& 
	`ULL
(0xfffffffffffff))

	)

442 
	#IS_IEEEFP_DBL_NAN
(
Q
è\

	)

443 ((
	`IEEEFP_DBL_EXPONENT
(
Q
è=ğ0x7ffè&& (
	$IEEEFP_DBL_FRACTION
(
Q
)))

446 #iâdeà
SET_TPC


447 
	#SET_TPC
(
PC
è()0

	)

456 
	#OSF_SYS_ex™
 1

	)

457 
	#MD_EXIT_SYSCALL
(
REGS
è\

	)

458 ((
REGS
)->
»gs_R
[
MD_REG_V0
] =ğ
OSF_SYS_ex™
)

461 
	#OSF_SYS_wr™e
 4

	)

462 
	#MD_OUTPUT_SYSCALL
(
REGS
è\

	)

463 ((
REGS
)->
»gs_R
[
MD_REG_V0
] =ğ
OSF_SYS_wr™e
 \

464 && ((
REGS
)->
»gs_R
[
MD_REG_A0
] == 1 \

465 || (
REGS
)->
»gs_R
[
MD_REG_A0
] == 2))

468 
	#MD_STREAM_FILENO
(
REGS
è((REGS)->
»gs_R
[
MD_REG_A0
])

	)

471 
	#MD_IS_CALL
(
OP
è((OPè=ğ
JSR
 || (OPè=ğ
BSR
)

	)

474 
	#MD_IS_RETURN
(
OP
è((OPè=ğ
RETN
)

	)

477 
	#MD_IS_INDIR
(
OP
è\

	)

478 ((
OP
è=ğ
JMP
 || (OPè=ğ
JSR
 || (OPè=ğ
RETN
 || (OPè=ğ
JSR_COROUTINE
)

481 
	emd_amode_ty³
 {

482 
md_amode_imm
,

483 
md_amode_gp
,

484 
md_amode_¥
,

485 
md_amode_å
,

486 
md_amode_di¥
,

487 
md_amode_¼
,

488 
md_amode_NUM


490 *
md_amode_¡r
[
md_amode_NUM
];

493 
	#MD_AMODE_PREPROBE
(
OP
, 
FSM
è{ (FSMèğ0; 
	}

	)
}

496 
	#MD_AMODE_PROBE
(
AM
, 
OP
, 
FSM
è\

	)

498 ià(
MD_OP_FLAGS
(
OP
è& 
	gF_DISP
) \

500 ià((
	gRB
è=ğ
MD_REG_GP
) \

501 (
AM
èğ
md_amode_gp
; \

502 ià((
	gRB
è=ğ
MD_REG_SP
) \

503 (
AM
èğ
md_amode_¥
; \

504 ià((
	gRB
è=ğ
MD_REG_FP
) \

505 (
AM
èğ
md_amode_å
; \

507 (
	gAM
èğ
md_amode_di¥
; \

509 ià(
MD_OP_FLAGS
(
OP
è& 
	gF_RR
) \

510 (
	gAM
èğ
md_amode_¼
; \

512 
·nic
("cannot decode‡ddressing mode"); \

516 
	#MD_AMODE_POSTPROBE
(
FSM
è

	)

524 
	#MD_EIO_FILE_FORMAT
 
EIO_ALPHA_FORMAT


	)

526 
	#MD_MISC_REGS_TO_EXO
(
REGS
è\

	)

527 
exo_Ãw
(
ec_li¡
, \

528  
exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)
sim_num_š¢
), \

529  
exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)(
REGS
)->
»gs_PC
), \

530  
exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)(
REGS
)->
»gs_NPC
), \

531  
exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)(
REGS
)->
»gs_C
.
åü
),\

532  
exo_Ãw
(
ec_š‹g”
, (
exo_š‹g”_t
)(
REGS
)->
»gs_C
.
uniq
),\

533 
NULL
)

535 
	#MD_IREG_TO_EXO
(
REGS
, 
IDX
è\

	)

536 
exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)(
REGS
)->
»gs_R
[
IDX
])

538 
	#MD_FREG_TO_EXO
(
REGS
, 
IDX
è\

	)

539 
exo_Ãw
(
ec_add»ss
, (
exo_š‹g”_t
)(
REGS
)->
»gs_F
.
q
[
IDX
])

541 
	#MD_EXO_TO_MISC_REGS
(
EXO
, 
ICNT
, 
REGS
è\

	)

543 ià(!
	gexo
 \

544 || 
	gexo
->
	gec
 !ğ
ec_li¡
 \

545 || !
exo
->
as_li¡
.
h—d
 \

546 || 
exo
->
as_li¡
.
h—d
->
ec
 !ğ
ec_š‹g”
 \

547 || !
exo
->
as_li¡
.
h—d
->
Ãxt
 \

548 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->
ec
 !ğ
ec_add»ss
 \

549 || !
exo
->
as_li¡
.
h—d
->
Ãxt
->next \

550 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
ec
 !ğ
ec_add»ss
 \

551 || !
exo
->
as_li¡
.
h—d
->
Ãxt
->next->next \

552 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxt->
ec
 !ğ
ec_š‹g”
 \

553 || !
exo
->
as_li¡
.
h—d
->
Ãxt
->next->next->next \

554 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxt->Ãxt->
ec
 !ğ
ec_š‹g”
 \

555 || 
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxt->Ãxt->Ãxˆ!ğ
NULL
) \

556 
çl
("could‚ot„ead EIO misc„egs"); \

557 (
	gICNT
èğ(
couÁ”_t
)
exo
->
as_li¡
.
h—d
->
as_š‹g”
.
v®
; \

558 (
	gREGS
)->
	g»gs_PC
 = (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->
as_š‹g”
.
v®
; \

559 (
	gREGS
)->
	g»gs_NPC
 = \

560 (
md_addr_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->
as_š‹g”
.
v®
; \

561 (
	gREGS
)->
	g»gs_C
.
	gåü
 = \

562 (
qwÜd_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxt->
as_š‹g”
.
v®
; \

563 (
	gREGS
)->
	g»gs_C
.
	guniq
 = \

564 (
qwÜd_t
)
exo
->
as_li¡
.
h—d
->
Ãxt
->Ãxt->Ãxt->Ãxt->
as_š‹g”
.
v®
;

566 
	#MD_EXO_TO_IREG
(
EXO
, 
REGS
, 
IDX
è\

	)

567 ((
	gREGS
)->
	g»gs_R
[
IDX
] = (
qwÜd_t
)(
EXO
)->
as_š‹g”
.
v®
)

569 
	#MD_EXO_TO_FREG
(
EXO
, 
REGS
, 
IDX
è\

	)

570 ((
	gREGS
)->
	g»gs_F
.
	gq
[
IDX
] = (
qwÜd_t
)(
EXO
)->
as_š‹g”
.
v®
)

572 
	#MD_EXO_CMP_IREG
(
EXO
, 
REGS
, 
IDX
è\

	)

573 ((
	gREGS
)->
	g»gs_R
[
IDX
] !ğ(
qwÜd_t
)(
EXO
)->
as_š‹g”
.
v®
)

575 
	#MD_FIRST_IN_REG
 0

	)

576 
	#MD_LAST_IN_REG
 21

	)

578 
	#MD_FIRST_OUT_REG
 0

	)

579 
	#MD_LAST_OUT_REG
 21

	)

587 
qwÜd_t
 
	texo_add»ss_t
;

590 
qwÜd_t
 
	texo_š‹g”_t
;

593 
	texo_æßt_t
;

601 
	#¡©_»g_couÁ”
 
¡©_»g_sqwÜd


	)

602 
	#sc_couÁ”
 
sc_sqwÜd


	)

603 
	#fÜ_couÁ”
 
fÜ_sqwÜd


	)

606 
	#¡©_»g_addr
 
¡©_»g_qwÜd


	)

614 
	emd_»g_ty³
 {

615 
	m¹_g´
,

616 
	m¹_Ír
,

617 
	m¹_år
,

618 
	m¹_d´
,

619 
	m¹_ù¾
,

620 
	m¹_PC
,

621 
	m¹_NPC
,

622 
	m¹_NUM


626 
	smd_»g_Çmes_t
 {

627 *
	m¡r
;

628 
md_»g_ty³
 
	mfe
;

629 
	m»g
;

633 
md_»g_Çmes_t
 
md_»g_Çmes
[];

636 *
md_»g_Çme
(
md_»g_ty³
 
¹
, 
»g
);

639 
	gev®_v®ue_t
;

640 
	g»gs_t
;

642 
md_»g_obj
(
»gs_t
 *
»gs
,

643 
is_wr™e
,

644 
md_»g_ty³
 
¹
,

645 
»g
,

646 
ev®_v®ue_t
 *
v®
);

649 
md_´št_œeg
(
md_g´_t
 
»gs
, 
»g
, 
FILE
 *
¡»am
);

650 
md_´št_œegs
(
md_g´_t
 
»gs
, 
FILE
 *
¡»am
);

653 
md_´št_å»g
(
md_år_t
 
»gs
, 
»g
, 
FILE
 *
¡»am
);

654 
md_´št_å»gs
(
md_år_t
 
»gs
, 
FILE
 *
¡»am
);

657 
md_´št_üeg
(
md_ù¾_t
 
»gs
, 
»g
, 
FILE
 *
¡»am
);

658 
md_´št_üegs
(
md_ù¾_t
 
»gs
, 
FILE
 *
¡»am
);

661 
wÜd_t
 
md_xÜ_»gs
(
»gs_t
 *
»gs
);

663 #ifdeà
SMT_SS


664 
md_v®id_addr
(
md_addr_t
 
ADDR
, 
th»adid
);

672 
	#MD_AGEN_OP
 
ADDQ


	)

675 
	#MD_NOP_OP
 
OP_NA


	)

679 #iâdeà
SMT_SS


680 
	#MD_VALID_ADDR
(
ADDR
è\

	)

681 (((
	gADDR
è>ğ
ld_‹xt_ba£
 && (
ADDR
è< (ld_‹xt_ba£ + 
ld_‹xt_size
)) \

682 || ((
ADDR
è>ğ
ld_d©a_ba£
 && (ADDRè< 
ld_brk_pošt
) \

683 || ((
ADDR
è>ğ(
ld_¡ack_ba£
 - 16*1024*1024) && (ADDR) <†d_stack_base))

692 
	#MD_BR_SHIFT
 2

	)

700 
md_š™_decod”
();

704 
md_´št_š¢
(
md_š¡_t
 
š¡
,

705 
md_addr_t
 
pc
,

706 
FILE
 *
¡»am
);

	@main.c

153 
	~<¡dio.h
>

154 
	~<¡dlib.h
>

155 
	~<¡ršg.h
>

156 
	~<time.h
>

157 
	~<£tjmp.h
>

158 
	~<sigÇl.h
>

159 
	~<sys/ty³s.h
>

160 #iâdeà
_MSC_VER


161 
	~<uni¡d.h
>

162 
	~<sys/time.h
>

164 #ifdeà
BFD_LOADER


165 
	~<bfd.h
>

168 
	~"ho¡.h
"

169 
	~"misc.h
"

170 
	~"machše.h
"

171 
	~"’dŸn.h
"

172 
	~"v”siÚ.h
"

173 
	~"dl™e.h
"

174 
	~"İtiÚs.h
"

175 
	~"¡©s.h
"

176 
	~"lßd”.h
"

177 
	~"sim.h
"

178 
	~"ÿche.h
"

179 
	~"hÙ¥Ù.h
"

182 
	~"smt.h
"

184 #ifdeà
SMT_SS


185 
	~"cÚ‹xt.h
"

188 *
	gsim_¡r_dump
 = 
NULL
;

191 
tÙ®_š‹rcÚÃù_pow”_¡©s
 ();

194 
	gnumTh»ads
[
MAXTHREADS
];

195 
	gm_maxth»ads
;

199 
	$sigÇl_sim_¡©s
 (
sigty³
)

201 
sim_dump_¡©s
 = 
TRUE
;

202 
	}
}

206 
	$sigÇl_ex™_now
 (
sigty³
)

208 
sim_ex™_now
 = 
TRUE
;

209 
	}
}

212 
couÁ”_t
 
	gsim_num_š¢
 = 0;

213 
couÁ”_t
 
	gnum_of_šv®id©iÚs
 = 0;

220 
	gsim_mem_u§ge
 = 0;

224 
time_t
 
	gsim_¡¬t_time
;

225 
time_t
 
	gsim_’d_time
;

226 
	gsim_–­£d_time
;

228 #iâdeà
SMT_SS


230 
	gsim_sw­_by‹s
;

231 
	gsim_sw­_wÜds
;

235 
	gsim_ex™_now
 = 
FALSE
;

238 
jmp_buf
 
	gsim_ex™_buf
;

241 
	gsim_dump_¡©s
 = 
FALSE
;

244 
İt_odb_t
 *
	gsim_odb
 = 
NULL
;

247 
¡©_sdb_t
 *
	gsim_sdb
 = 
NULL
;

249 #ifdeà
FIX_8_CLUSTER_BUG


250 
İt_odb_t
 *
odb
;

253 #iâdeà
SMT_SS


255 *
	gsim_eio_âame
 = 
NULL
;

256 *
	gsim_chk±_âame
 = 
NULL
;

257 
FILE
 *
	gsim_eio_fd
 = 
NULL
;

261 *
	gsim_simout
 = 
NULL
;

263 #iâdeà
SMT_SS


264 *
	gsim_´ogout
 = 
NULL
;

265 
FILE
 *
	gsim_´ogfd
 = 
NULL
;

268 #ifdeà 
REMOVE_MY_CODE


270 
	gsim_sw­_by‹s
;

271 
	gsim_sw­_wÜds
;

274 *
	gsim_eio_âame
 = 
NULL
;

275 *
	gsim_chk±_âame
 = 
NULL
;

276 
FILE
 *
	gsim_eio_fd
 = 
NULL
;

279 *
	gsim_´ogout
 = 
NULL
;

280 
FILE
 *
	gsim_´ogfd
 = 
NULL
;

284 
	gexec_šdex
 = -1;

287 
	gh–p_me
;

290 
	g¿nd_£ed
;

293 
	gš™_qu™
;

295 #iâdeà
_MSC_VER


297 
	gniû_´iÜ™y
;

299 
	gšk_run
;

300 
	gem3d_run
;

303 
	#NICE_DEFAULT_VALUE
 0

	)

306 
	$Üphª_â
 (
i
, 
¬gc
, **
¬gv
)

308 
exec_šdex
 = 
i
;

309  
FALSE
;

310 
	}
}

313 
	$bªÃr
 (
FILE
 * 
fd
, 
¬gc
, **
¬gv
)

315 *
s
;

317 
	`årštf
 (
fd
,

320 "Thi v”siÚ oàSim¶eSÿÏ¸i liûn£d fÜ‡ÿdemiønÚ-comm”cŸÈu£ oÆy.\n" "\n", ((
s
 = 
	`¡¼chr
 (
¬gv
[0], '/')è? s + 1 :‡rgv[0]), 
VER_TARGET
, 
VER_MAJOR
, 
VER_MINOR
, 
VER_UPDATE
);

321 
	}
}

324 
	$u§ge
 (
FILE
 * 
fd
, 
¬gc
, **
¬gv
)

326 
	`årštf
 (
fd
, "U§ge: % {-İtiÚs}ƒxecubË {¬gum’ts}\n", 
¬gv
[0]);

327 
	`İt_´št_h–p
 (
sim_odb
, 
fd
);

328 
	}
}

330 
	gruÂšg
 = 
FALSE
;

334 
	$sim_´št_¡©s
 (
FILE
 * 
fd
)

336 ià(!
ruÂšg
)

340 
sim_’d_time
 = 
	`time
 ((
time_t
 *è
NULL
);

341 
sim_–­£d_time
 = 
	`max2
 (
sim_’d_time
 - 
sim_¡¬t_time
, 1);

344 
	`tÙ®_š‹rcÚÃù_pow”_¡©s
 ();

347 
	`årštf
 (
fd
, "\nsim: ** simulation statistics **\n");

348 
	`¡©_´št_¡©s
 (
sim_sdb
, 
fd
);

349 
	`sim_aux_¡©s
 (
fd
);

350 #ifdeà
POPNET


351 
	`pow”_»pÜt
(
fd
);

352 
	`d–ay_»pÜt
(
fd
);

354 
	`årštf
 (
fd
, "\n");

355 if(
hÙ¥Ù_aùive
)

356 
	`hÙ¥Ù_dump¡©s
();

357 
	`fæush
(
fd
);

358 
	}
}

362 
	$ex™_now
 (
ex™_code
)

365 
	`sim_´št_¡©s
 (
¡d”r
);

368 
	`sim_unš™
 ();

369 ià(
ex™_code
)

370 
	`årštf
 (
¡d”r
, "”rÜ: somfunùiÚ c®Èex™_now w™hƒx™_cod%d\n", 
ex™_code
);

372 
	`ex™
 (
ex™_code
);

373 
	}
}

375 
	$g‘_cÚfig
(
P_cÚfig_i
, 
FILE
 *
tÙ®_CÚfig_fe
, *
´eãtch_CÚfig
)

377 
i
;

378 
i
=0;i<16;i++)

380 
	`fsÿnf
(
tÙ®_CÚfig_fe
,"\t%d",&
´eãtch_CÚfig
[
P_cÚfig_i
+
i
*256]);

382 
	}
}

385 
	$maš
 (
¬gc
, **
¬gv
, **
’vp
)

387 *
s
 ;

388 
s
 = 
NULL
 ;

389 
i
, 
ex™_code
, 
j
;

391 
P_cÚfig_i
, 
P_cÚfig_j
;

394 #iâdeà
_MSC_VER


396 
	`sigÇl
 (
SIGUSR1
, 
sigÇl_sim_¡©s
);

399 
	`sigÇl
 (
SIGUSR2
, 
sigÇl_ex™_now
);

403 
	`çl_hook
 (
sim_´št_¡©s
);

406 ià((
ex™_code
 = 
	`£tjmp
 (
sim_ex™_buf
)) != 0)

409 
	`ex™_now
 (
ex™_code
 - 1);

413 
sim_odb
 = 
	`İt_Ãw
 (
Üphª_â
);

414 
	`İt_»g_æag
 (
sim_odb
, "-h", "´šˆh–°mes§ge", &
h–p_me
, 
FALSE
, FALSE, 
NULL
);

415 
	`İt_»g_æag
 (
sim_odb
, "-v", "v”bo£ o³¿tiÚ", &
v”bo£
, 
FALSE
, FALSE, 
NULL
);

416 #ifdeà
DEBUG


417 
	`İt_»g_æag
 (
sim_odb
, "-d", "’abË debug mes§ge", &
debuggšg
, 
FALSE
, FALSE, 
NULL
);

419 
	`İt_»g_æag
 (
sim_odb
, "-i", "¡¬ˆš Dl™debugg”", &
dl™e_aùive
, 
FALSE
, FALSE, 
NULL
);

420 
	`İt_»g_št
 (
sim_odb
, "-£ed", "¿ndom‚umb” g’”©Ü s“d (0 fÜim” s“d)", &
¿nd_£ed
, 1, 
TRUE
, 
NULL
);

421 
	`İt_»g_æag
 (
sim_odb
, "-q", "š™Ÿlizªd”mš©immedŸ‹ly", &
š™_qu™
, 
FALSE
, FALSE, 
NULL
);

423 #ifdeà
SMT_SS


424 
	`årštf
 (
¡d”r
, "Note: -chkpt option is disabled for SMT version \n");

426 
	`İt_»g_¡ršg
 (
sim_odb
, "-chk±", "»¡ÜEIO¿ûƒxecutiÚ from <âame>", &
sim_chk±_âame
, 
NULL
, 
FALSE
, NULL);

429 #ifdeà
REMOVE_MY_CODE


430 
	`İt_»g_¡ršg
 (
sim_odb
, "-chk±", "»¡ÜEIO¿ûƒxecutiÚ from <âame>", &
sim_chk±_âame
, 
NULL
, 
FALSE
, NULL);

434 
	`İt_»g_¡ršg
 (
sim_odb
, "-»dœ:sim", "»dœeù simuÏtÜ ouuˆtØfÒÚ-š‹¿ùivÚly)", &
sim_simout
,

435  
NULL
, 
FALSE
, NULL);

436 #ifdeà
SMT_SS


437 #iâdeà
PROG_OUT_FROM_SIM_OUT


438 
	`årštf
 (
¡d”r
, "Note: -redir:prog option is controled in *.bnc configuration " "file ofƒach…rogram in SMT version \n");

440 
	`årštf
 (
¡d”r
, "Note: -redir:prog option is controled by combininghe *.bnc configuration " "setting withhe -redir:sim option. \n");

443 
	`İt_»g_¡ršg
 (
sim_odb
, "-»dœ:´og", "»dœeù simuÏ‹d…rog¿m ouuˆtØfe", &
sim_´ogout
, 
NULL
, 
FALSE
, NULL);

446 #ifdeà
REMOVE_MY_CODE


447 
	`İt_»g_¡ršg
 (
sim_odb
, "-»dœ:´og", "»dœeù simuÏ‹d…rog¿m ouuˆtØfe", &
sim_´ogout
, 
NULL
, 
FALSE
, NULL);

451 
	`İt_»g_¡ršg
 (
sim_odb
, "-»dœ:dump", "»dœeù simuÏ‹d…rog¿m ouuˆtØfe", &
sim_¡r_dump
, 
NULL
, 
FALSE
, NULL);

453 #iâdeà
_MSC_VER


455 
	`İt_»g_št
 (
sim_odb
, "-niû", "simuÏtÜ schedulšg…riÜ™y", &
niû_´iÜ™y
,

456  
NICE_DEFAULT_VALUE
, 
TRUE
, 
NULL
);

460 
	`sim_»g_İtiÚs
 (
sim_odb
);

463 
exec_šdex
 = -1;

465 #ifdeà
REMOVE_MY_CODE


466 
	`årštf
 (
¡d”r
, "sim_odb %lu \n", (è
sim_odb
);

467 
	`årštf
 (
¡d”r
, "sim: command†ine: ");

468 
i
 = 0; i < 
¬gc
; i++)

469 
	`årštf
 (
¡d”r
, "% ", 
¬gv
[
i
]);

470 
	`årštf
 (
¡d”r
, "\n");

472 
Çme
[256];

474 
	`g‘ho¡Çme
 (
Çme
, 256);

475 
	`årštf
 (
¡d”r
, "RuÀÚ %s\n", 
Çme
);

478 
	`İt_´oûss_İtiÚs
 (
sim_odb
, 
¬gc
, 
¬gv
);

481 ià(
sim_simout
 !ğ
NULL
)

484 ià(
	`fæush
 (
¡d”r
))

485 
	`çl
 ("unableo flush stderr ");

488 ià(!
	`äeİ’
 (
sim_simout
, "w", 
¡d”r
))

489 
	`çl
 ("uÇbËØ»dœeù simuÏtÜ ouuˆtØf`%s'", 
sim_simout
);

494 #iâdeà
SMT_SS


495 ià(
sim_´ogout
 !ğ
NULL
)

498 
sim_´ogfd
 = 
	`fİ’
 (
sim_´ogout
, "w");

499 ià(!
sim_´ogfd
)

500 
	`çl
 ("uÇbËØ»dœeù…rog¿m ouuˆtØf`%s'", 
sim_´ogout
);

505 ià(
¬gc
 < 2)

507 
	`bªÃr
 (
¡d”r
, 
¬gc
, 
¬gv
);

508 
	`u§ge
 (
¡d”r
, 
¬gc
, 
¬gv
);

509 
	`årštf
 (
¡d”r
, "error:exit from main‡rgc < 2\n");

510 
	`ex™
 (1);

514 
	`bªÃr
 (
¡d”r
, 
¬gc
, 
¬gv
);

516 ià(
h–p_me
)

519 
	`u§ge
 (
¡d”r
, 
¬gc
, 
¬gv
);

520 
	`årštf
 (
¡d”r
, "error:exit from main help_me\n");

521 
	`ex™
 (1);

525 ià(
¿nd_£ed
 == 0)

528 
	`my¤ªd
 (
	`time
 ((
time_t
 *è
NULL
));

533 
	`my¤ªd
 (
¿nd_£ed
);

537 ià(
exec_šdex
 == -1)

540 
	`årštf
 (
¡d”r
, "error:‚oƒxecutable specified\n");

541 
	`u§ge
 (
¡d”r
, 
¬gc
, 
¬gv
);

542 
	`ex™
 (1);

547 
	`sim_check_İtiÚs
 (
sim_odb
, 
¬gc
, 
¬gv
);

549 #iâdeà
_MSC_VER


551 ià(
	`niû
 (0è< 
niû_´iÜ™y
)

553 ià(
	`niû
 (
niû_´iÜ™y
 -‚ice (0)) < 0)

554 
	`çl
 ("could‚ot„enice simulator…rocess");

559 
	`årštf
 (
¡d”r
, "sim: command†ine: ");

560 
i
 = 0; i < 
¬gc
; i++)

561 
	`årštf
 (
¡d”r
, "% ", 
¬gv
[
i
]);

562 
	`årštf
 (
¡d”r
, "\n");

564 
Çme
[256];

566 
	`g‘ho¡Çme
 (
Çme
, 256);

567 
	`årštf
 (
¡d”r
, "RuÀÚ %s\n", 
Çme
);

572 
sim_num_š¢
 = 0;

574 #ifdeà
BFD_LOADER


576 
	`bfd_š™
 ();

580 
	`md_š™_decod”
 ();

582 #iâdeà
SMT_SS


584 
	`sim_š™
 ();

588 #ifdeà
SMT_SS


589 
	`sim_lßd_th»ads
 (
¬gc
 - 
exec_šdex
, 
¬gv
 +ƒxec_šdex, 
’vp
);

591 
	`sim_lßd_´og
 (
¬gv
[
exec_šdex
], 
¬gc
 -ƒxec_šdex,‡rgv +ƒxec_šdex, 
’vp
);

594 #ifdeà
SMT_SS


596 
	`sim_š™
 ();

599 #iâdeà
PARALLEL_EMUL


601 
sim_sdb
 = 
	`¡©_Ãw
 ();

602 
	`sim_»g_¡©s
 (
sim_sdb
);

606 
sim_¡¬t_time
 = 
	`time
 ((
time_t
 *è
NULL
);

609 
	`årštf
 (
¡d”r
, "sim: command†ine: ");

610 
i
 = 0; i < 
¬gc
; i++)

611 
	`årštf
 (
¡d”r
, "% ", 
¬gv
[
i
]);

612 
	`årštf
 (
¡d”r
, "\n");

614 
Çme
[256];

616 
	`g‘ho¡Çme
 (
Çme
, 256);

617 
	`årštf
 (
¡d”r
, "RuÀÚ %s\n", 
Çme
);

621 
s
 = 
	`ùime
 (&
sim_¡¬t_time
);

622 ià(
s
[
	`¡¾’
 (s) - 1] == '\n')

623 
s
[
	`¡¾’
 (s) - 1] = '\0';

624 #ifdeà
__VERSION__


625 
	#COMPILEDWITH
 "gcøv”siÚ " 
__VERSION__


	)

627 
	#COMPILEDWITH
 "unknowÀcomp”"

	)

629 
	`årštf
 (
¡d”r
, "\nsim: maš.øcomped oÀ" 
__DATE__
 "‡ˆ" 
__TIME__
 " w™h " 
COMPILEDWITH
);

630 
	`årštf
 (
¡d”r
, "\nsim: simuÏtiÚ s¹ed @ %s, o±iÚ fŞlow:\n", 
s
);

631 
	`İt_´št_İtiÚs
 (
sim_odb
, 
¡d”r
, 
TRUE
, TRUE);

632 
	`sim_aux_cÚfig
 (
¡d”r
);

633 
	`årštf
 (
¡d”r
, "\n");

636 
sim_¡¬t_time
 = 
	`time
 ((
time_t
 *è
NULL
);

638 ià(
š™_qu™
)

639 
	`ex™_now
 (0);

641 
ruÂšg
 = 
TRUE
;

643 
j
 = 0; j < 4; j++)

645 
i
 = 0; i < 
NUM_COM_REGS
; i++)

647 
commÚ_»gs_s
[
j
][
i
].
»gs_lock
 = 0;

648 
commÚ_»gs_s
[
j
][
i
].
add»ss
 = 0;

652 if(!
	`¡rcmp
(
¬gv
[9], "ilink1030.BNC"))

653 
šk_run
 = 1;

655 
šk_run
 = 0;

656 if(!
	`¡rcmp
(
¬gv
[9], "../../BNCfor16/em3d1030.BNC"))

657 
em3d_run
 = 1;

659 
em3d_run
 = 0;

660 
	`sim_maš
 ();

663 
	`ex™_now
 (0);

664 #ifdeà
__GNUC__


667 
	}
}

	@main.h

3 
	#SUPPORT_PREFETCH


7 

	)

8 
	#LSQ_LOAD_FAST_ISSUE


13 

	)

18 
	#LSQ_FIX_PARTIAL_BUG


20 

	)

22 
	sRES_DESC


24 *
	m¡rName
;

25 
	mnCÁ
;

27 
	mİÏt
;

29 
	missu–©
;

32 
	mBusy
[16];

34 }
	tResDesc
, *
	tPResDesc
;

36 
ResDesc
 
	gm_SQPÜt
;

	@memory.c

114 
	~<¡dio.h
>

115 
	~<¡dlib.h
>

117 
	~"ho¡.h
"

118 
	~"misc.h
"

119 
	~"machše.h
"

120 
	~"İtiÚs.h
"

121 
	~"¡©s.h
"

122 
	~"memÜy.h
"

123 
	~"cÚ‹xt.h
"

125 
COHERENT_CACHE
;

126 
cŞËù_¡©s
, 
®lFÜked
;

127 
cu¼’tThrd
;

128 
md_addr_t
 
TempIn¡r
;

129 
R—dFromWB
;

134 
mem_t
 *

135 
	$mem_ü—‹
(*
Çme
)

137 
mem_t
 *
mem
;

139 
mem
 = 
	`ÿÎoc
(1, (
mem_t
));

140 ià(!
mem
)

141 
	`çl
("out of virtual memory");

143 
mem
->
Çme
 = 
	`my¡rdup
(name);

144  
mem
;

145 
	}
}

148 
by‹_t
 *

149 
	$mem_Œª¦©e
(
mem_t
 *
mem
,

150 
md_addr_t
 
addr
)

152 
mem_±e_t
 *
±e
, *
´ev
;

155 
mem
->
±ab_mis£s
++; mem->
±ab_acûs£s
++;

158 
´ev
=
NULL
, 
±e
=
mem
->
±ab
[
	`MEM_PTAB_SET
(
addr
)];

159 
±e
 !ğ
NULL
;

160 
´ev
=
±e
,…‹õ‹->
Ãxt
)

162 ià(
±e
->
g
 =ğ
	`MEM_PTAB_TAG
(
addr
))

165 ià(
´ev
)

167 
´ev
->
Ãxt
 = 
±e
->next;

168 
±e
->
Ãxt
 = 
mem
->
±ab
[
	`MEM_PTAB_SET
(
addr
)];

169 
mem
->
±ab
[
	`MEM_PTAB_SET
(
addr
)] = 
±e
;

171  
±e
->
·ge
;

176  
NULL
;

177 
	}
}

181 
	$mem_Ãw·ge
(
mem_t
 *
mem
,

182 
md_addr_t
 
addr
)

184 
by‹_t
 *
·ge
;

185 
mem_±e_t
 *
±e
 = 
NULL
;

192 
·ge
 = 
	`g‘cÜe
(
MD_PAGE_SIZE
);

199 ià(!
·ge
)

200 
	`çl
("out of virtual memory");

207 
±e
 = 
	`ÿÎoc
(1, (
mem_±e_t
));

215 ià(!
±e
)

216 
	`çl
("out of virtual memory");

217 
±e
->
g
 = 
	`MEM_PTAB_TAG
(
addr
);

218 
±e
->
·ge
 =…age;

226 
±e
->
Ãxt
 = 
mem
->
±ab
[
	`MEM_PTAB_SET
(
addr
)];

227 
mem
->
±ab
[
	`MEM_PTAB_SET
(
addr
)] = 
±e
;

230 
mem
->
·ge_couÁ
++;

232 
	}
}

237 
md_çuÉ_ty³


238 
	$mem_acûss_drù
(
mem_t
 *
mem
,

239 
mem_cmd
 
cmd
,

240 
md_addr_t
 
addr
,

241 *
vp
,

242 
nby‹s
, 
th»adID
 )

245 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adID
];

247 
by‹_t
 *
p
 = 
vp
;

248 
md_çuÉ_ty³
 
»tTy³
;;

250 ià((
nby‹s
 & (nby‹s-1)è!ğ0 ||‚by‹ > 
MD_PAGE_SIZE
)

252  
md_çuÉ_acûss
;

254 ià((
addr
 & (
nby‹s
-1)) != 0)

256 
	`årštf
(
¡d”r
, "Alignm’ˆProbËm %Îx %d\n", ()
addr
, ()
nby‹s
);

257 
	`fæush
(
¡d”r
);

258  
md_çuÉ_®ignm’t
;

260 ià(
cmd
 =ğ
R—d
)

262 
nby‹s
-- > 0)

264 *((
by‹_t
 *)
p
èğ
	`MEM_READ_BYTE
(
mem
, 
addr
);

265 
p
 +ğ(
by‹_t
);

266 
addr
 +ğ(
by‹_t
);

271 
nby‹s
-- > 0)

273 
	`MEM_WRITE_BYTE
(
mem
, 
addr
, *((
by‹_t
 *)
p
));

274 
p
 +ğ(
by‹_t
);

275 
addr
 +ğ(
by‹_t
);

278  
md_çuÉ_nÚe
;

279 
	}
}

282 
	#READFROMWB
 1

	)

283 
	#READFROMCACHE
 0

	)

285 
	$R—dFrmWB
(
th»adID
, 
md_addr_t
 
addr
, 
nby‹s
)

287 
wb_mem_’t
 *
’t
;

288 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adID
];

290 
’t
=
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁóÁ->
Ãxt
)

292 if(
nby‹s
 == 1)

294 if(
’t
->
nby‹s
 ==‚bytes)

296 if(
’t
->
addr
 ==‡ddr)

298  
READFROMWB
;

303 ifĞ(
’t
->
addr
 <ğaddrè&& (ÓÁ->add¸+ 
nby‹s
) >‡ddr))

305 
	`årštf
(
¡d”r
,"OÃ by‹ oàd©¨found iÀthwr™bufã¸1 %d, %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_PC
);

306 
	`ex™
(0);

310 ià(
nby‹s
 == 2)

312 if(
’t
->
nby‹s
 ==‚bytes)

314 if(
’t
->
addr
 ==‡ddr)

316  
READFROMWB
;

319 if(
’t
->
nby‹s
 <‚bytes)

321 iàĞ(
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

323 
	`årštf
(
¡d”r
,"OÃ by‹ oàd©¨found iÀthwr™bufã¸2 %d, %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_PC
);

324 
	`ex™
(0);

329 ifĞ(
addr
 >ğ
’t
->addrè&& (add¸< (’t->add¸+ƒÁ->
nby‹s
)))

331 
	`årštf
(
¡d”r
,"OÃ by‹ oàd©¨found iÀthwr™bufã¸3 %d, %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_PC
);

332 
	`ex™
(0);

337 ià(
nby‹s
 == 4)

339 if(
nby‹s
 =ğ
’t
->nbytes)

341 if(
’t
->
addr
 ==‡ddr)

343  
READFROMWB
;

346 if(
’t
->
nby‹s
 <‚bytes)

348 iàĞ(
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

350 
	`årštf
(
¡d”r
,"OÃ by‹ oàd©¨found iÀthwr™bufã¸4 %d, %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_PC
);

351 
	`ex™
(0);

356 if(
’t
->
addr
 ==‡ddr)

358  
READFROMWB
;

361 if(
’t
->
addr
 + 
nby‹s
 ==‡ddr)

363  
READFROMWB
;

367 ià(
nby‹s
 == 8)

369 if(
nby‹s
 =ğ
’t
->nbytes)

371 if(
’t
->
addr
 ==‡ddr)

373  
READFROMWB
;

376 iàĞ(
’t
->
nby‹s
 == 1) || (ent->nbytes == 2))

378 if((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

380 
	`årštf
(
¡d”r
,"OÃ by‹ oàd©¨found iÀthwr™bufã¸5 %d, %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_PC
);

381 
	`ex™
(0);

386 if(
’t
->
addr
 ==‡ddr)

388  
READFROMCACHE
;

390 if((
’t
->
addr
 + 4) ==‡ddr)

392  
READFROMCACHE
;

398 
	`årštf
(
¡d”r
, " Number of bytes„ead is incorrect\n");

399 
	`ex™
(0);

402  
READFROMCACHE
;

403 
	}
}

406 
	$mem_·¹Ÿl_»ad
(
mem_t
 *
mem
, 
md_addr_t
 
addr
, *
p
,
nby‹s
, 
th»adid
)

408 
wb_mem_’t
 *
’t
 = 
NULL
, *
´ev
 = NULL;

409 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

410 
nby‹s
)

413 *((
by‹_t
 *)
p
èğ
	`MEM_READ_BYTE
(
mem
, 
addr
);

416 *((
h®f_t
 *)
p
èğ
	`MEM_READ_HALF
(
mem
, 
addr
);

419 *((
wÜd_t
 *)
p
èğ
	`MEM_READ_WORD
(
mem
, 
addr
);

422 *((
wÜd_t
 *)
p
èğ
	`MEM_READ_WORD
(
mem
, 
addr
);

423 *(((
wÜd_t
 *)
p
)+1èğ
	`MEM_READ_WORD
(
mem
, 
addr
 + (word_t));

426 
	`·nic
("access size‚ot supported in mis-speculative mode");

430 
’t
=
cu¼’t
->
WBbËTa
;ƒÁ;ƒÁóÁ->
´ev
)

432 
bigMemWidth
 = (
’t
->
nby‹s
 >‚bytes) ?ƒnt->nbytes :‚bytes;

433 
md_addr_t
 
addr_lßd
, 
addr_’t
;

434 if(
bigMemWidth
 != 1 && bigMemWidth != 2 && bigMemWidth != 4 && bigMemWidth != 8)

435 
	`·nic
("access size‚ot supported in mis-speculative mode");

436 if(
bigMemWidth
 == 8)

438 
addr_lßd
 = 
addr
 >> 3;

439 
addr_’t
 = 
’t
->
addr
 >> 3;

441 if(
bigMemWidth
 == 4)

443 
addr_lßd
 = 
addr
 >> 2;

444 
addr_’t
 = 
’t
->
addr
 >> 2;

446 if(
bigMemWidth
 == 2)

448 
addr_lßd
 = 
addr
 >> 1;

449 
addr_’t
 = 
’t
->
addr
 >> 1;

451 if(
bigMemWidth
 == 1)

453 
addr_lßd
 = 
addr
 >> 0;

454 
addr_’t
 = 
’t
->
addr
 >> 0;

457 if(
addr_lßd
 =ğ
addr_’t
)

459 if(
nby‹s
 >ğ
’t
->nbytes)

461 
šdex
 = ()((
’t
->
addr
 & (
nby‹s
 - 1)) & ~(ent->nbytes - 1));

462 
	`memıy
(((
by‹_t
 *)
p
)+
šdex
, &
’t
->
d©a
[0] ,ƒÁ->
nby‹s
);

466 
šdex
 = ()((
addr
 & (
’t
->
nby‹s
 - 1)) & ~(nbytes - 1));

467 
	`memıy
(((
by‹_t
 *)
p
), ((by‹_ˆ*)
’t
->
d©a
)+
šdex
 , 
nby‹s
);

471 
	}
}

473 
couÁ”_t
 
sim_cyşe
;

481 
md_çuÉ_ty³
 
	$mem_acûss
(
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
,
nby‹s
, 
th»adID
)

483 
i
, 
šdex
;

484 
wb_mem_’t
 *
’t
, *
´ev
;

485 
wb_mem_’t
 *
’t1
, *
´ev1
;

486 
cÚ‹xt
 *
cu¼’t
;

487 
md_addr_t
 
’tS
, 
’tF
, 
»adS
, 
»adF
;

488 
wr™eProb
 = 0;

490 
th»adid
 = 
th»adID
;

491 
’t
 = 
NULL
;

492 
´ev
 = 
NULL
;

493 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

495 if(!(
COHERENT_CACHE
 && 
®lFÜked
))

497  
	`mem_acûss_drù
(
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

501 ià((
nby‹s
 & (nby‹s-1)è!ğ0 || (
addr
 & (nbytes-1)) != 0)

504 
i
=0; i < 
nby‹s
; i++)

505 ((*)
p
)[
i
] = 0;

506  
md_çuÉ_nÚe
;

510 if(
cmd
 =ğ
R—d
)

513 
’t
=
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁóÁ->
Ãxt
)

515 if(
nby‹s
 == 1)

517 if(
’t
->
nby‹s
 ==‚bytes)

519 if(
’t
->
addr
 ==‡ddr)

521 
R—dFromWB
 = 1;

527 ifĞ(
’t
->
addr
 <ğaddrè&& (ÓÁ->add¸+ƒÁ->
nby‹s
) >‡ddr))

529 
	`æushWr™eBufãr
(
cu¼’t
->
id
);

530 *((
by‹_t
 *)
p
èğ
	`MEM_READ_BYTE
(
mem
, 
addr
);

531 
R—dFromWB
 = 0;

532  
md_çuÉ_nÚe
;

536 ià(
nby‹s
 == 2)

538 if(
’t
->
nby‹s
 ==‚bytes)

540 if(
’t
->
addr
 ==‡ddr)

542 
R—dFromWB
 = 1;

546 if(
’t
->
nby‹s
 <‚bytes)

548 iàĞ(
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

551 
	`æushWr™eBufãr
(
cu¼’t
->
id
);

552 *((
h®f_t
 *)
p
èğ
	`MEM_READ_HALF
(
mem
, 
addr
);

553 
R—dFromWB
 = 0;

554  
md_çuÉ_nÚe
;

559 ifĞ(
addr
 >ğ
’t
->addrè&& (add¸< (’t->add¸+ƒÁ->
nby‹s
)))

562 
	`æushWr™eBufãr
(
cu¼’t
->
id
);

563 *((
h®f_t
 *)
p
èğ
	`MEM_READ_HALF
(
mem
, 
addr
);

564 
R—dFromWB
 = 0;

565  
md_çuÉ_nÚe
;

569 ià(
nby‹s
 == 4)

571 if(
nby‹s
 =ğ
’t
->nbytes)

573 if(
’t
->
addr
 ==‡ddr)

575 
R—dFromWB
 = 1;

579 if(
’t
->
nby‹s
 <‚bytes)

581 iàĞ(
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

584 
	`æushWr™eBufãr
(
cu¼’t
->
id
);

585 *((
wÜd_t
 *)
p
èğ
	`MEM_READ_WORD
(
mem
, 
addr
);

586 
R—dFromWB
 = 0;

587  
md_çuÉ_nÚe
;

592 if(
’t
->
addr
 ==‡ddr)

594 
R—dFromWB
 = 1;

595 *((
wÜd_t
 *)
p
èğ*((wÜd_ˆ*)&
’t
->
d©a
[0]);

596  
md_çuÉ_nÚe
;

598 if(
’t
->
addr
 + 
nby‹s
 ==‡ddr)

600 
R—dFromWB
 = 1;

601 *((
wÜd_t
 *)
p
èğ*((wÜd_ˆ*)&
’t
->
d©a
[1]);

602  
md_çuÉ_nÚe
;

606 ià(
nby‹s
 == 8)

608 if(
nby‹s
 =ğ
’t
->nbytes)

610 if(
’t
->
addr
 ==‡ddr)

612 
R—dFromWB
 = 1;

616 iàĞ(
’t
->
nby‹s
 == 1) || (ent->nbytes == 2)|| (ent->nbytes == 4))

618 if((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

621 
	`æushWr™eBufãr
(
cu¼’t
->
id
);

622 *((
wÜd_t
 *)
p
èğ
	`MEM_READ_WORD
(
mem
, 
addr
);

623 *(((
wÜd_t
 *)
p
)+1èğ
	`MEM_READ_WORD
(
mem
, 
addr
 + (word_t));

624 
R—dFromWB
 = 0;

625  
md_çuÉ_nÚe
;

631 
	`årštf
(
¡d”r
, " Number of bytes„ead is incorrect\n");

632 
	`ex™
(0);

638 ià(
cmd
 =ğ
Wr™e
)

640 if(
’t
 !ğ
NULL
)

641 
	`·nic
("ent is‚otƒqualo NULL\n");

642 ià(!
cu¼’t
->
WBbuck‘_ä“_li¡
)

644 
cu¼’t
->
WBbuck‘_ä“_li¡
 = (
wb_mem_’t
 *)
	`ÿÎoc
(1, (wb_mem_ent));

645 ià(!
cu¼’t
->
WBbuck‘_ä“_li¡
)

646 
	`çl
("th»ad %d , ouˆoàvœtu® memÜy",
th»adid
);

647 
cu¼’t
->
WBbuck‘_ä“_li¡
->
Ãxt
 = 
NULL
;

649 
’t
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

650 
cu¼’t
->
WBbuck‘_ä“_li¡
 = cu¼’t->WBbuck‘_ä“_li¡->
Ãxt
;

651 
’t
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

652 
’t
->
addr
 =‡ddr;

653 
’t
->
d©a
[0] = 0;ƒnt->data[1] = 0;

654 
’t
->
com¶‘eCyşe
 = 0;

655 
’t
->
nby‹s
 =‚bytes;

656 
’t
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

657 
’t
->
di¥_time
 = 
sim_cyşe
;

658 
’t
->
lsqId
 = 
cu¼’t
->
LSQ_
;

659 
’t
->
ÃedBusAcûss
 = 0;

660 
’t
->
š¡r
 = 
TempIn¡r
;

661 
’t
->
acûs£d
 = 0;

662 
’t
->
wr™eAÌ—dyDÚe
 = 
wr™eProb
;

663 
cu¼’t
->
numOfWBEÁry
++;

665 
TempIn¡r
 = 0x1A2B3C4D;

666 if(
cu¼’t
->
WBbËH—d
 !ğ
NULL
)

668 
’t
->
Ãxt
 = 
cu¼’t
->
WBbËH—d
;

669 
cu¼’t
->
WBbËH—d
 = 
’t
;

670 
’t
->
Ãxt
->
´ev
 =ƒnt;

671 
’t
->
´ev
 = 
NULL
;

675 
cu¼’t
->
WBbËH—d
 = 
’t
;

676 
cu¼’t
->
WBbËTa
 = 
’t
;

677 
’t
->
Ãxt
 = 
NULL
;

678 
’t
->
´ev
 = 
NULL
;

683 
nby‹s
)

686 ià(
cmd
 =ğ
R—d
)

688 ià(
’t
)

691 *((
by‹_t
 *)
p
èğ*((by‹_ˆ*)(&
’t
->
d©a
[0]));

697 *((
by‹_t
 *)
p
èğ
	`MEM_READ_BYTE
(
mem
, 
addr
);

703 *((
by‹_t
 *)(&
’t
->
d©a
[0])èğ*((by‹_ˆ*)
p
);

707 ià(
cmd
 =ğ
R—d
)

709 ià(
’t
)

711 *((
h®f_t
 *)
p
èğ*((h®f_ˆ*)(&
’t
->
d©a
[0]));

715 *((
h®f_t
 *)
p
èğ
	`MEM_READ_HALF
(
mem
, 
addr
);

720 *((
h®f_t
 *)&
’t
->
d©a
[0]èğ*((h®f_ˆ*)
p
);

724 ià(
cmd
 =ğ
R—d
)

726 ià(
’t
)

728 *((
wÜd_t
 *)
p
èğ*((wÜd_ˆ*)&
’t
->
d©a
[0]);

732 *((
wÜd_t
 *)
p
èğ
	`MEM_READ_WORD
(
mem
, 
addr
);

737 *((
wÜd_t
 *)&
’t
->
d©a
[0]èğ*((wÜd_ˆ*)
p
);

741 ià(
cmd
 =ğ
R—d
)

743 ià(
’t
)

745 *((
wÜd_t
 *)
p
èğ*((wÜd_ˆ*)&
’t
->
d©a
[0]);

746 *(((
wÜd_t
 *)
p
)+1èğ*((wÜd_ˆ*)&
’t
->
d©a
[1]);

750 *((
wÜd_t
 *)
p
èğ
	`MEM_READ_WORD
(
mem
, 
addr
);

751 *(((
wÜd_t
 *)
p
)+1èğ
	`MEM_READ_WORD
(
mem
, 
addr
 + (word_t));

756 *((
wÜd_t
 *)&
’t
->
d©a
[0]èğ*((wÜd_ˆ*)
p
);

757 *((
wÜd_t
 *)&
’t
->
d©a
[1]èğ*(((wÜd_ˆ*)
p
)+1);

761 
	`·nic
("access size‚ot supported in mis-speculative mode");

764 if(
cmd
 =ğ
R—d
)

765 
	`mem_·¹Ÿl_»ad
(
mem
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

767  
md_çuÉ_nÚe
;

768 
	}
}

772 
	$mem_»g_¡©s
(
mem_t
 *
mem
,

773 
¡©_sdb_t
 *
sdb
)

775 
buf
[512], 
buf1
[512];

777 
	`¥rštf
(
buf
, "%s.·ge_couÁ", 
mem
->
Çme
);

778 
	`¡©_»g_couÁ”
(
sdb
, 
buf
, "total‚umber of…ages‡llocated",

779 &
mem
->
·ge_couÁ
, mem->·ge_couÁ, 
NULL
);

781 
	`¥rštf
(
buf
, "%s.·ge_mem", 
mem
->
Çme
);

782 
	`¥rštf
(
buf1
, "%s.·ge_couÁ * %d / 1024", 
mem
->
Çme
, 
MD_PAGE_SIZE
);

783 
	`¡©_»g_fÜmuÏ
(
sdb
, 
buf
, "total size of memory…ages‡llocated",

784 
buf1
, "%11.0fk");

786 
	`¥rštf
(
buf
, "%s.±ab_mis£s", 
mem
->
Çme
);

787 
	`¡©_»g_couÁ”
(
sdb
, 
buf
, "total first†evel…ageable misses",

788 &
mem
->
±ab_mis£s
, mem->±ab_mis£s, 
NULL
);

790 
	`¥rštf
(
buf
, "%s.±ab_acûs£s", 
mem
->
Çme
);

791 
	`¡©_»g_couÁ”
(
sdb
, 
buf
, "total…ageable‡ccesses",

792 &
mem
->
±ab_acûs£s
, mem->±ab_acûs£s, 
NULL
);

794 
	`¥rštf
(
buf
, "%s.±ab_miss_¿‹", 
mem
->
Çme
);

795 
	`¥rštf
(
buf1
, "%s.±ab_mis£ / %s.±ab_acûs£s", 
mem
->
Çme
, mem->name);

796 
	`¡©_»g_fÜmuÏ
(
sdb
, 
buf
, "fœ¡†ev–…agbË mis ¿‹", 
buf1
, 
NULL
);

797 
	}
}

801 
	$mem_š™
(
mem_t
 *
mem
)

803 
i
;

806 
i
=0; i < 
MEM_PTAB_SIZE
; i++)

807 
mem
->
±ab
[
i
] = 
NULL
;

809 
mem
->
·ge_couÁ
 = 0;

810 
mem
->
±ab_mis£s
 = 0;

811 
mem
->
±ab_acûs£s
 = 0;

812 
	}
}

815 
md_çuÉ_ty³


816 
	$mem_dump
(
mem_t
 *
mem
,

817 
md_addr_t
 
addr
,

818 
Ën
,

819 
FILE
 *
¡»am
)

821 
d©a
;

822 
md_çuÉ_ty³
 
çuÉ
;

824 ià(!
¡»am
)

825 
¡»am
 = 
¡d”r
;

827 
addr
 &ğ~(
wÜd_t
);

828 
Ën
 = (ËÀ+ ((
wÜd_t
) - 1)) & ~(word_t);

829 
Ën
-- > 0)

831 
çuÉ
 = 
	`mem_acûss
(
mem
, 
R—d
, 
addr
, &
d©a
, (
wÜd_t
), mem->
th»adid
);

832 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

833  
çuÉ
;

835 
	`myårštf
(
¡»am
, "0x%08p: %08x\n", 
addr
, 
d©a
);

836 
addr
 +ğ(
wÜd_t
);

840  
md_çuÉ_nÚe
;

841 
	}
}

889 
md_çuÉ_ty³


890 
	$mem_¡rıy
(
mem_acûss_â
 
mem_â
,

891 
mem_t
 *
mem
,

892 
mem_cmd
 
cmd
,

893 
md_addr_t
 
addr
,

894 *
s
, 
th»adID
)

896 
n
 = 0;

897 
c
;

898 
md_çuÉ_ty³
 
çuÉ
;

899 #ià
DEFINE_WB


900 
	`æushWr™eBufãr
(
th»adID
);

902 
cmd
)

904 
R—d
:

907 #ià
DEFINE_WB


908 
çuÉ
 = 
	`mem_acûss_drù
(
mem
, 
R—d
, 
addr
++, &
c
, 1, 
th»adID
);

910 
çuÉ
 = 
	`mem_â
(
mem
, 
R—d
, 
addr
++, &
c
, 1, 
th»adID
);

912 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

913  
çuÉ
;

914 *
s
++ = 
c
;

915 
n
++;

916 } 
c
);

919 
Wr™e
:

922 
c
 = *
s
++;

923 #ià
DEFINE_WB


924 
çuÉ
 = 
	`mem_acûss_drù
(
mem
, 
Wr™e
, 
addr
++, &
c
, 1, 
th»adID
);

926 
çuÉ
 = 
	`mem_â
(
mem
, 
Wr™e
, 
addr
++, &
c
, 1, 
th»adID
);

928 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

929  
çuÉ
;

930 
n
++;

931 } 
c
);

935  
md_çuÉ_š‹º®
;

939  
md_çuÉ_nÚe
;

940 
	}
}

978 
md_çuÉ_ty³


979 
	$mem_bcİy
(
mem_acûss_â
 
mem_â
,

980 
mem_t
 *
mem
,

981 
mem_cmd
 
cmd
,

982 
md_addr_t
 
addr
,

983 *
vp
,

984 
nby‹s
, 
th»adID
)

986 
by‹_t
 *
p
 = 
vp
;

987 
md_çuÉ_ty³
 
çuÉ
;

989 #ià
DEFINE_WB


990 
	`æushWr™eBufãr
(
th»adID
);

992 
nby‹s
-- > 0)

994 #ià
DEFINE_WB


995 
çuÉ
 = 
	`mem_acûss_drù
(
mem
, 
cmd
, 
addr
++, 
p
++, 1, 
th»adID
);

997 
çuÉ
 = 
	`mem_â
(
mem
, 
cmd
, 
addr
++, 
p
++, 1, 
th»adID
);

999 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

1000  
çuÉ
;

1002  
md_çuÉ_nÚe
;

1003 
	}
}

1035 
md_çuÉ_ty³


1036 
	$mem_bcİy4
(
mem_acûss_â
 
mem_â
,

1037 
mem_t
 *
mem
,

1038 
mem_cmd
 
cmd
,

1039 
md_addr_t
 
addr
,

1040 *
vp
,

1041 
nby‹s
, 
th»adID
)

1043 
by‹_t
 *
p
 = 
vp
;

1044 
wÜds
 = 
nby‹s
 >> 2;

1045 
md_çuÉ_ty³
 
çuÉ
;

1047 #ià
DEFINE_WB


1048 
	`æushWr™eBufãr
(
th»adID
);

1050 
wÜds
-- > 0)

1052 #ià
DEFINE_WB


1053 
çuÉ
 = 
	`mem_acûss_drù
(
mem
, 
cmd
, 
addr
, 
p
, (
wÜd_t
), 
th»adID
);

1055 
çuÉ
 = 
	`mem_â
(
mem
, 
cmd
, 
addr
, 
p
, (
wÜd_t
), 
th»adID
);

1057 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

1058  
çuÉ
;

1060 
addr
 +ğ(
wÜd_t
);

1061 
p
 +ğ(
wÜd_t
);

1063  
md_çuÉ_nÚe
;

1064 
	}
}

1098 
md_çuÉ_ty³


1099 
	$mem_bz”o
(
mem_acûss_â
 
mem_â
,

1100 
mem_t
 *
mem
,

1101 
md_addr_t
 
addr
,

1102 
nby‹s
, 
th»adID
)

1104 
by‹_t
 
c
 = 0;

1105 
md_çuÉ_ty³
 
çuÉ
;

1107 #ià
DEFINE_WB


1108 
	`æushWr™eBufãr
(
th»adID
);

1112 
nby‹s
-- > 0)

1114 #ià
DEFINE_WB


1115 
çuÉ
 = 
	`mem_acûss_drù
(
mem
, 
Wr™e
, 
addr
++, &
c
, 1, 
th»adID
);

1117 
çuÉ
 = 
	`mem_â
(
mem
, 
Wr™e
, 
addr
++, &
c
, 1, 
th»adID
);

1119 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

1120  
çuÉ
;

1122  
md_çuÉ_nÚe
;

1123 
	}
}

1184 
SS_ADDR_TYPE
 
mem_brk_pošt
;

1187 
SS_ADDR_TYPE
 
mem_¡ack_mš
;

1194 
	#MEM_TABLE_SIZE
 0x8000

	)

1196 #iâdeà
HIDE_MEM_TABLE_DEF


1198 *
mem_bË
[
MEM_TABLE_SIZE
];

1202 
	#MEM_BLOCK_SIZE
 0x10000

	)

1206 (
	gaddr
 >ğ
ld_‹xt_ba£
 && 
addr
 < (ld_‹xt_ba£+
ld_‹xt_size
)

1207 && 
cmd
 =ğ
R—d
)

1209 || (
addr
 >ğ
ld_d©a_ba£
 &&‡dd¸< 
ld_¡ack_ba£
)))

1210 
çl
("acûs ”rÜ: segm’tiÚ viŞ©iÚ,‡dd¸0x%08p", 
addr
);

1213 ià(
	gaddr
 > 
	gmem_brk_pošt
 &&‡dd¸< 
	gmem_¡ack_mš
)

1214 
	gmem_¡ack_mš
 = 
addr
;

1218 
mem_v®id
(
mem_t
 *
mem
,

1219 
mem_cmd
 
cmd
,

1220 
md_addr_t
 
addr
,

1221 
nby‹s
,

1222 
deş¬e
);

1226 
	$mem_v®id
(
mem_cmd
 
cmd
,

1227 
SS_ADDR_TYPE
 
addr
,

1228 
nby‹s
,

1229 
deş¬e
)

1231 *
”r_¡r
 = 
NULL
;

1234 ià((
nby‹s
 & (nby‹s-1)è!ğ0 || (
addr
 & (nbytes-1)) != 0)

1236 
”r_¡r
 = "bad size or‡lignment";

1240 (
addr
 >ğ
ld_‹xt_ba£
 &&‡dd¸< (ld_‹xt_ba£+
ld_‹xt_size
)

1241 && 
cmd
 =ğ
R—d
)

1243 || (
addr
 >ğ
ld_d©a_ba£
 &&‡dd¸< 
ld_¡ack_ba£
)))

1245 
”r_¡r
 = "segmentation violation";

1249 ià(
addr
 > 
mem_brk_pošt
 &&‡dd¸< 
mem_¡ack_mš
)

1250 
mem_¡ack_mš
 = 
addr
;

1252 ià(!
deş¬e
)

1253  
”r_¡r
;

1254 ià(
”r_¡r
 !ğ
NULL
)

1255 
	`çl
(
”r_¡r
);

1257  
NULL
;

1258 
	}
}

1262 
	$mem_š™1
()

1266 
mem_brk_pošt
 = 
	`ROUND_UP
(
ld_d©a_ba£
 + 
ld_d©a_size
, 
SS_PAGE_SIZE
);

1269 
mem_¡ack_mš
 = 
»gs_R
[
SS_STACK_REGNO
];

1270 
	}
}

	@memory.h

103 #iâdeà
MEMORY_H


104 
	#MEMORY_H


	)

106 
	~<¡dio.h
>

108 
	~"ho¡.h
"

109 
	~"misc.h
"

110 
	~"machše.h
"

111 
	~"İtiÚs.h
"

112 
	~"¡©s.h
"

114 
	~"»gs.h
"

116 
	~"smt.h
"

117 
	~"MTA.h
"

120 
	#MEM_PTAB_SIZE
 (32*1024)

	)

121 
	#MEM_LOG_PTAB_SIZE
 15

	)

122 
	#DEFINE_WB
 1

	)

123 
	#TESTWB
 0

	)

124 
	#WBSIZE
 16

	)

127 
	smem_±e_t
 {

128 
mem_±e_t
 *
	mÃxt
;

129 
md_addr_t
 
	mg
;

130 
by‹_t
 *
	m·ge
;

134 
	smem_t
 {

136 #ifdeà
SMT_SS


137 
	mth»adid
;

139 *
	mÇme
;

140 
mem_±e_t
 *
	m±ab
[
MEM_PTAB_SIZE
];

143 
couÁ”_t
 
	m·ge_couÁ
;

144 
couÁ”_t
 
	m±ab_mis£s
;

145 
couÁ”_t
 
	m±ab_acûs£s
;

149 
	emem_cmd
 {

150 
	mR—d
,

151 
	mWr™e


157 
	gmd_çuÉ_ty³


158 (*
	tmem_acûss_â
)(
	tmem_t
 *
	tmem
,

159 
	tmem_cmd
 
	tcmd
,

160 
	tmd_addr_t
 
	taddr
,

161 *
	tp
,

162 
	tnby‹s
, 
	tth»adID
);

169 
	#MEM_PTAB_SET
(
ADDR
è\

	)

170 (((
	gADDR
è>> 
	gMD_LOG_PAGE_SIZE
è& (
	gMEM_PTAB_SIZE
 - 1))

173 
	#MEM_PTAB_TAG
(
ADDR
è\

	)

174 ((
	gADDR
è>> (
	gMD_LOG_PAGE_SIZE
 + 
	gMEM_LOG_PTAB_SIZE
))

177 
	#MEM_PTE_ADDR
(
PTE
, 
IDX
è\

	)

178 (((
	gPTE
)->
	gg
 << (
	gMD_LOG_PAGE_SIZE
 + 
	gMEM_LOG_PTAB_SIZE
)) \

179 | ((
	gIDX
è<< 
	gMD_LOG_PAGE_SIZE
))

182 
	#MEM_PAGE
(
MEM
, 
ADDR
è\

	)

184 ((
	gMEM
)->
	g±ab
[
MEM_PTAB_SET
(
ADDR
)] \

185 && (
	gMEM
)->
	g±ab
[
MEM_PTAB_SET
(
ADDR
)]->
	gg
 =ğ
MEM_PTAB_TAG
(ADDR)) \

187 (
MEM
)->
±ab_acûs£s
++, \

188 (
	gMEM
)->
	g±ab
[
MEM_PTAB_SET
(
ADDR
)]->
	g·ge
) \

190 
mem_Œª¦©e
((
MEM
), (
ADDR
))))

193 
	#MEM_OFFSET
(
ADDR
è((ADDRè& (
MD_PAGE_SIZE
 - 1))

	)

196 
	#MEM_TICKLE
(
MEM
, 
ADDR
è\

	)

197 (!
MEM_PAGE
(
MEM
, 
ADDR
) \

199 
mem_Ãw·ge
(
MEM
, 
ADDR
)) \

203 
	#MEM_FORALL
(
MEM
, 
ITER
, 
PTE
è\

	)

204 (
	gITER
)=0; (ITERè< 
	gMEM_PTAB_SIZE
; (ITER)++) \

205 (
	gPTE
)=(
MEM
)->
±ab
[
i
]; (PTEè!ğ
NULL
; (PTE)=(
PTE
)->
Ãxt
)

214 
	#MEM_READ
(
MEM
, 
ADDR
, 
TYPE
è\

	)

215 (
MEM_PAGE
(
MEM
, (
md_addr_t
)(
ADDR
)) \

216 ? *((
	gTYPE
 *)(
MEM_PAGE
(
MEM
, (
md_addr_t
)(
ADDR
)è+ 
MEM_OFFSET
(ADDR))) \

220 
	#__UNCHK_MEM_READ
(
MEM
, 
ADDR
, 
TYPE
è\

	)

221 (*((
	gTYPE
 *)(
MEM_PAGE
(
MEM
, (
md_addr_t
)(
ADDR
)è+ 
	$MEM_OFFSET
(
ADDR
))))

225 
	#MEM_WRITE
(
MEM
, 
ADDR
, 
TYPE
, 
VAL
è\

	)

226 (
	`MEM_TICKLE
(
MEM
, (
md_addr_t
)(
ADDR
)), \

227 *((
TYPE
 *)(
	`MEM_PAGE
(
MEM
, (
md_addr_t
)(
ADDR
)è+ 
	`MEM_OFFSET
(ADDR))èğ(
VAL
))

230 
	#__UNCHK_MEM_WRITE
(
MEM
, 
ADDR
, 
TYPE
, 
VAL
è\

	)

231 (*((
TYPE
 *)(
	`MEM_PAGE
(
MEM
, (
md_addr_t
)(
ADDR
)è+ 
	`MEM_OFFSET
(ADDR))èğ(
VAL
))

233 #ià
PROCESS_MODEL


235 
	#MEM_READ_BYTE
(
MEM
, 
ADDR
è\

	)

236 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
by‹_t
) \

237 : 
	$MEM_READ
(
MEM
, 
ADDR
, 
by‹_t
) )

239 
	#MEM_READ_SBYTE
(
MEM
, 
ADDR
è\

	)

240 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sby‹_t
) \

241 : 
	$MEM_READ
(
MEM
, 
ADDR
, 
sby‹_t
) )

243 
	#MEM_READ_HALF
(
MEM
, 
ADDR
è\

	)

244 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MD_SWAPH
(
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
h®f_t
))\

245 : 
	`MD_SWAPH
(
	$MEM_READ
(
MEM
, 
ADDR
, 
h®f_t
)) )

247 
	#MEM_READ_SHALF
(
MEM
, 
ADDR
è\

	)

248 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MD_SWAPH
(
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sh®f_t
))\

249 : 
	`MD_SWAPH
(
	$MEM_READ
(
MEM
, 
ADDR
, 
sh®f_t
)) )

251 
	#MEM_READ_WORD
(
MEM
, 
ADDR
è\

	)

252 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MD_SWAPW
(
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
wÜd_t
))\

253 : 
	`MD_SWAPW
(
	$MEM_READ
(
MEM
, 
ADDR
, 
wÜd_t
)) )

255 
	#MEM_READ_SWORD
(
MEM
, 
ADDR
è\

	)

256 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MD_SWAPW
(
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
swÜd_t
))\

257 : 
	`MD_SWAPW
(
	$MEM_READ
(
MEM
, 
ADDR
, 
swÜd_t
)) )

259 #ifdeà
HOST_HAS_QWORD


260 
	#MEM_READ_QWORD
(
MEM
, 
ADDR
è\

	)

261 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MD_SWAPQ
(
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
qwÜd_t
))\

262 : 
	`MD_SWAPQ
(
	$MEM_READ
(
MEM
, 
ADDR
, 
qwÜd_t
)) )

264 
	#MEM_READ_SQWORD
(
MEM
, 
ADDR
è\

	)

265 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MD_SWAPQ
(
	`MEM_READ
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sqwÜd_t
))\

266 : 
	`MD_SWAPQ
(
	$MEM_READ
(
MEM
, 
ADDR
, 
sqwÜd_t
)) )

269 
	#MEM_WRITE_BYTE
(
MEM
, 
ADDR
, 
VAL
è\

	)

270 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
by‹_t
, 
VAL
) \

271 : 
	$MEM_WRITE
(
MEM
, 
ADDR
, 
by‹_t
, 
VAL
))

273 
	#MEM_WRITE_SBYTE
(
MEM
, 
ADDR
, 
VAL
è\

	)

274 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sby‹_t
, 
VAL
) \

275 : 
	$MEM_WRITE
(
MEM
, 
ADDR
, 
sby‹_t
, 
VAL
) )

277 
	#MEM_WRITE_HALF
(
MEM
, 
ADDR
, 
VAL
è\

	)

278 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
h®f_t
, 
	`MD_SWAPH
(
VAL
)) \

279 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
h®f_t
, 
	$MD_SWAPH
(
VAL
)) )

281 
	#MEM_WRITE_SHALF
(
MEM
, 
ADDR
, 
VAL
è\

	)

282 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sh®f_t
, 
	`MD_SWAPH
(
VAL
)) \

283 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
sh®f_t
, 
	$MD_SWAPH
(
VAL
)) )

285 
	#MEM_WRITE_WORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

286 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
wÜd_t
, 
	`MD_SWAPW
(
VAL
)) \

287 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
wÜd_t
, 
	$MD_SWAPW
(
VAL
)) )

289 
	#MEM_WRITE_SWORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

290 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
swÜd_t
, 
	`MD_SWAPW
(
VAL
)) \

291 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
swÜd_t
, 
	$MD_SWAPW
(
VAL
)) )

293 
	#MEM_WRITE_SFLOAT
(
MEM
, 
ADDR
, 
VAL
è\

	)

294 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sæßt_t
, 
	`MD_SWAPW
(
VAL
)) \

295 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
sæßt_t
, 
	$MD_SWAPW
(
VAL
)) )

297 
	#MEM_WRITE_DFLOAT
(
MEM
, 
ADDR
, 
VAL
è\

	)

298 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
dæßt_t
, 
	`MD_SWAPQ
(
VAL
)) \

299 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
dæßt_t
, 
	$MD_SWAPQ
(
VAL
)) )

302 #ifdeà
HOST_HAS_QWORD


303 
	#MEM_WRITE_QWORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

304 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
qwÜd_t
, 
	`MD_SWAPQ
(
VAL
)) \

305 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
qwÜd_t
, 
	$MD_SWAPQ
(
VAL
)) )

307 
	#MEM_WRITE_SQWORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

308 (
	`checkFÜSh¬edAddr
(
ADDR
è? 
	`MEM_WRITE
(
thecÚ‹xts
[thecÚ‹xts[
MEM
->
th»adid
]->
ma¡”id
]->
mem
, ADDR, 
sqwÜd_t
, 
	`MD_SWAPQ
(
VAL
)) \

309 : 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
sqwÜd_t
, 
	$MD_SWAPQ
(
VAL
)) )

315 
	#MEM_READ_BYTE
(
MEM
, 
ADDR
è
	`MEM_READ
(MEM, ADDR, 
by‹_t
)

	)

316 
	#MEM_READ_SBYTE
(
MEM
, 
ADDR
è
	`MEM_READ
(MEM, ADDR, 
sby‹_t
)

	)

317 
	#MEM_READ_HALF
(
MEM
, 
ADDR
è
	`MD_SWAPH
(
	`MEM_READ
(MEM, ADDR, 
h®f_t
))

	)

318 
	#MEM_READ_SHALF
(
MEM
, 
ADDR
è
	`MD_SWAPH
(
	`MEM_READ
(MEM, ADDR, 
sh®f_t
))

	)

319 
	#MEM_READ_WORD
(
MEM
, 
ADDR
è
	`MD_SWAPW
(
	`MEM_READ
(MEM, ADDR, 
wÜd_t
))

	)

320 
	#MEM_READ_SWORD
(
MEM
, 
ADDR
è
	`MD_SWAPW
(
	`MEM_READ
(MEM, ADDR, 
swÜd_t
))

	)

322 #ifdeà
HOST_HAS_QWORD


323 
	#MEM_READ_QWORD
(
MEM
, 
ADDR
è
	`MD_SWAPQ
(
	`MEM_READ
(MEM, ADDR, 
qwÜd_t
))

	)

324 
	#MEM_READ_SQWORD
(
MEM
, 
ADDR
è
	`MD_SWAPQ
(
	`MEM_READ
(MEM, ADDR, 
sqwÜd_t
))

	)

327 
	#MEM_WRITE_BYTE
(
MEM
, 
ADDR
, 
VAL
è
	`MEM_WRITE
(MEM, ADDR, 
by‹_t
, VAL)

	)

331 
	#MEM_WRITE_SBYTE
(
MEM
, 
ADDR
, 
VAL
è
	`MEM_WRITE
(MEM, ADDR, 
sby‹_t
, VAL)

	)

332 
	#MEM_WRITE_HALF
(
MEM
, 
ADDR
, 
VAL
è\

	)

333 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
h®f_t
, 
	$MD_SWAPH
(
VAL
))

334 
	#MEM_WRITE_SHALF
(
MEM
, 
ADDR
, 
VAL
è\

	)

335 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
sh®f_t
, 
	$MD_SWAPH
(
VAL
))

336 
	#MEM_WRITE_WORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

337 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
wÜd_t
, 
	$MD_SWAPW
(
VAL
))

338 
	#MEM_WRITE_SWORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

339 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
swÜd_t
, 
	$MD_SWAPW
(
VAL
))

340 
	#MEM_WRITE_SFLOAT
(
MEM
, 
ADDR
, 
VAL
è\

	)

341 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
sæßt_t
, 
	$MD_SWAPW
(
VAL
))

342 
	#MEM_WRITE_DFLOAT
(
MEM
, 
ADDR
, 
VAL
è\

	)

343 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
dæßt_t
, 
	$MD_SWAPQ
(
VAL
))

345 #ifdeà
HOST_HAS_QWORD


346 
	#MEM_WRITE_QWORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

347 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
qwÜd_t
, 
	$MD_SWAPQ
(
VAL
))

348 
	#MEM_WRITE_SQWORD
(
MEM
, 
ADDR
, 
VAL
è\

	)

349 
	`MEM_WRITE
(
MEM
, 
ADDR
, 
sqwÜd_t
, 
	$MD_SWAPQ
(
VAL
))

393 
mem_t
 *

394 
	`mem_ü—‹
(*
Çme
);

397 
by‹_t
 *

398 
	`mem_Œª¦©e
(
mem_t
 *
mem
,

399 
md_addr_t
 
addr
);

403 
	`mem_Ãw·ge
(
mem_t
 *
mem
,

404 
md_addr_t
 
addr
);

409 
md_çuÉ_ty³


410 
	`mem_acûss
(
mem_t
 *
mem
,

411 
mem_cmd
 
cmd
,

412 
md_addr_t
 
addr
,

413 *
vp
,

414 
nby‹s
, 
th»adID
);

418 
	`mem_»g_¡©s
(
mem_t
 *
mem
,

419 
¡©_sdb_t
 *
sdb
);

423 
	`mem_š™
(
mem_t
 *
mem
);

426 
md_çuÉ_ty³


427 
	`mem_dump
(
mem_t
 *
mem
,

428 
md_addr_t
 
addr
,

429 
Ën
,

430 
FILE
 *
¡»am
);

443 
md_çuÉ_ty³


444 
	`mem_¡rıy
(
mem_acûss_â
 
mem_â
,

445 
mem_t
 *
mem
,

446 
mem_cmd
 
cmd
,

447 
md_addr_t
 
addr
,

448 *
s
, 
th»adID
);

451 
md_çuÉ_ty³


452 
	`mem_bcİy
(
mem_acûss_â
 
mem_â
,

453 
mem_t
 *
mem
,

454 
mem_cmd
 
cmd
,

455 
md_addr_t
 
addr
,

456 *
vp
,

457 
nby‹s
, 
th»adID
);

462 
md_çuÉ_ty³


463 
	`mem_bcİy4
(
mem_acûss_â
 
mem_â
,

464 
mem_t
 *
mem
,

465 
mem_cmd
 
cmd
,

466 
md_addr_t
 
addr
,

467 *
vp
,

468 
nby‹s
, 
th»adID
);

471 
md_çuÉ_ty³


472 
	`mem_bz”o
(
mem_acûss_â
 
mem_â
,

473 
mem_t
 *
mem
,

474 
md_addr_t
 
addr
,

475 
nby‹s
, 
th»adID
);

	@misc.c

109 
	~<¡dio.h
>

110 
	~<¡dlib.h
>

111 
	~<¡d¬g.h
>

112 
	~<¡ršg.h
>

113 
	~<ùy³.h
>

114 
	~<”ºo.h
>

116 #ià
defšed
(
__®pha
è|| defšed(
lšux
)

117 
	~<uni¡d.h
>

120 
	~"ho¡.h
"

121 
	~"misc.h
"

122 
	~"machše.h
"

123 
	g´og¿m_com¶‘e
 = 0;

125 
	gv”bo£
 = 
FALSE
;

127 #ifdeà
DEBUG


129 
	gdebuggšg
 = 
FALSE
;

134 (*
hook_â
)(
FILE
 *
¡»am
èğ
NULL
;

138 
	`çl_hook
((*
â
)(
FILE
 *
¡»am
))

140 
hook_â
 = 
â
;

141 
	}
}

144 #ifdeà
__GNUC__


146 
	$_çl
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

149 
	$çl
(*
fmt
, ...)

152 
va_li¡
 
v
;

153 
	`va_¡¬t
(
v
, 
fmt
);

155 
	`årštf
(
¡d”r
, "fatal: ");

156 
	`myvårštf
(
¡d”r
, 
fmt
, 
v
);

157 #ifdeà
__GNUC__


160 ià(
v”bo£
)

162 
	`årštf
(
¡d”r
, " [%s:%s,†š%d]", 
func
, 
fe
, 
lše
);

164 
	`årštf
(
¡d”r
, "\n");

165 ià(
hook_â
)

166 (*
hook_â
)(
¡d”r
);

167 
	`ex™
(1);

168 
	}
}

171 #ifdeà
__GNUC__


173 
	$_·nic
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

176 
	$·nic
(*
fmt
, ...)

179 
va_li¡
 
v
;

180 
	`va_¡¬t
(
v
, 
fmt
);

182 
	`årštf
(
¡d”r
, "panic: ");

183 
	`myvårštf
(
¡d”r
, 
fmt
, 
v
);

184 #ifdeà
__GNUC__


185 
	`årštf
(
¡d”r
, " [%s:%s,†š%d]", 
func
, 
fe
, 
lše
);

187 
	`årštf
(
¡d”r
, "\n");

188 ià(
hook_â
)

189 (*
hook_â
)(
¡d”r
);

190 
	`abÜt
();

191 
	}
}

194 #ifdeà
__GNUC__


196 
	$_w¬n
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

199 
	$w¬n
(*
fmt
, ...)

202 
va_li¡
 
v
;

203 
	`va_¡¬t
(
v
, 
fmt
);

205 
	`årštf
(
¡d”r
, "warning: ");

206 
	`myvårštf
(
¡d”r
, 
fmt
, 
v
);

207 #ifdeà
__GNUC__


208 ià(
v”bo£
)

209 
	`årštf
(
¡d”r
, " [%s:%s,†š%d]", 
func
, 
fe
, 
lše
);

211 
	`årštf
(
¡d”r
, "\n");

212 
	}
}

215 #ifdeà
__GNUC__


217 
	$_šfo
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

220 
	$šfo
(*
fmt
, ...)

223 
va_li¡
 
v
;

224 
	`va_¡¬t
(
v
, 
fmt
);

226 
	`myvårštf
(
¡d”r
, 
fmt
, 
v
);

227 #ifdeà
__GNUC__


228 ià(
v”bo£
)

229 
	`årštf
(
¡d”r
, " [%s:%s,†š%d]", 
func
, 
fe
, 
lše
);

231 
	`årštf
(
¡d”r
, "\n");

232 
	}
}

234 #ifdeà
DEBUG


236 #ifdeà
__GNUC__


238 
	$_debug
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

241 
	$debug
(*
fmt
, ...)

244 
va_li¡
 
v
;

245 
	`va_¡¬t
(
v
, 
fmt
);

247 ià(
debuggšg
)

249 
	`årštf
(
¡d”r
, "debug: ");

250 
	`myvårštf
(
¡d”r
, 
fmt
, 
v
);

251 #ifdeà
__GNUC__


252 
	`årštf
(
¡d”r
, " [%s:%s,†š%d]", 
func
, 
fe
, 
lše
);

254 
	`årštf
(
¡d”r
, "\n");

256 
	}
}

262 
	$my¤ªd
(
£ed
)

264 #ià
	`defšed
(
__CYGWIN32__
è|| defšed(
hpux
è|| defšed(
__hpux
è|| defšed(
__svr4__
è|| defšed(
_MSC_VER
)

265 
	`¤ªd
(
£ed
);

267 
	`¤ªdom
(
£ed
);

269 
	}
}

273 
	$my¿nd
()

275 #ià!
	`defšed
(
__®pha
è&& !defšed(
lšux
)

276 
	`¿ndom
();

279 #ià
	`defšed
(
__CYGWIN32__
è|| defšed(
hpux
è|| defšed(
__hpux
è|| defšed(
__svr4__
è|| defšed(
_MSC_VER
)

280  
	`¿nd
();

282  
	`¿ndom
();

284 
	}
}

289 
	$my¡rdup
(*
s
)

291 *
buf
;

293 ià(!(
buf
 = (*)
	`m®loc
(
	`¡¾’
(
s
)+1)))

294  
NULL
;

295 
	`¡rıy
(
buf
, 
s
);

296  
buf
;

297 
	}
}

301 
	$my¡¼chr
(*
s
, 
c
)

303 *
¹nv®
 = 0;

306 ià(*
s
 =ğ
c
)

307 
¹nv®
 = 
s
;

308 } *
s
++);

310  
¹nv®
;

311 
	}
}

316 
	$my¡ricmp
(*
s1
, *
s2
)

318 
u1
, 
u2
;

322 
u1
 = ()*
s1
++; u1 = 
	`tŞow”
(u1);

323 
u2
 = ()*
s2
++; u2 = 
	`tŞow”
(u2);

325 ià(
u1
 !ğ
u2
)

326  
u1
 - 
u2
;

327 ià(
u1
 == '\0')

330 
	}
}

335 
	$g‘cÜe
(
nby‹s
)

337  
	`ÿÎoc
(
nby‹s
, 1);

340 #ià!
	`defšed
(
PURIFY
è&& !defšed(
_MSC_VER
)

341 *
p
 = (*)
	`sbrk
(
nby‹s
);

343 ià(
p
 == (*)-1)

344  
NULL
;

347 #ià
	`defšed
(
__svr4__
è|| defšed(
_MSC_VER
)

348 
	`mem£t
(
p
, '\0', 
nby‹s
);

350 
	`bz”o
(
p
, 
nby‹s
);

352  
p
;

354  
	`ÿÎoc
(
nby‹s
, 1);

357 
	}
}

361 
	$log_ba£2
(
n
)

363 
pow”
 = 0;

365 ià(
n
 <= 0 || (n & (n-1)) != 0)

366 
	`·nic
("log2() only works for…ositive…ower ofwo values");

368 
n
 >>= 1)

369 
pow”
++;

371  
pow”
;

372 
	}
}

376 
	$–­£d_time
(
£c
)

378 
t¡r
[256];

379 
‹mp
[256];

381 ià(
£c
 <= 0)

384 
t¡r
[0] = '\0';

387 ià(
£c
 >= 86400)

389 
	`¥rštf
(
‹mp
, "%ldD ", 
£c
/86400);

390 
	`¡rÿt
(
t¡r
, 
‹mp
);

391 
£c
 = sec % 86400;

394 ià(
£c
 >= 3600)

396 
	`¥rštf
(
‹mp
, "%ldh ", 
£c
/3600);

397 
	`¡rÿt
(
t¡r
, 
‹mp
);

398 
£c
 = sec % 3600;

401 ià(
£c
 >= 60)

403 
	`¥rštf
(
‹mp
, "%ldm ", 
£c
/60);

404 
	`¡rÿt
(
t¡r
, 
‹mp
);

405 
£c
 = sec % 60;

408 ià(
£c
 >= 1)

410 
	`¥rštf
(
‹mp
, "%ld ", 
£c
);

411 
	`¡rÿt
(
t¡r
, 
‹mp
);

413 
t¡r
[
	`¡¾’
(tstr)-1] = '\0';

414  
t¡r
;

415 
	}
}

423 
	$exŒaùl
(
wÜd
,

424 
pos
,

425 
num
)

427 (((è
wÜd
 >> (
pos
 + 1 - 
num
)) & ~(~0 <<‚um));

428 
	}
}

430 
	#PUT
(
p
, 
n
è\

	)

432 
	gÂ
, 
	gcc
; \

434 
	gÂ
 = 0;‚À< 
	gn
;‚n++) \

436 
	gcc
 = *(
p
+
Â
); \

437 *
	gobuf
++ = 
cc
; \

441 
	#PAD
(
s
, 
n
è\

	)

443 
	gÂ
, 
	gcc
; \

445 
	gcc
 = *
s
; \

446 
	gÂ
 = 
n
;‚n > 0;‚n--) \

447 *
	gobuf
++ = 
cc
; \

450 #ifdeà
HOST_HAS_QWORD


451 
	#HIBITL
 
	`LL
(0x8000000000000000)

	)

452 
sqwÜd_t
 
	t¦¬gešt_t
;

453 
qwÜd_t
 
	tÏrgešt_t
;

455 
	#HIBITL
 0x80000000L

	)

456 
swÜd_t
 
	t¦¬gešt_t
;

457 
wÜd_t
 
	tÏrgešt_t
;

461 
	$_lowdig™
(
¦¬gešt_t
 *
v®±r
)

468 
lowb™
 = ()(*
v®±r
 & 1);

469 
¦¬gešt_t
 
v®ue
 = (*
v®±r
 >> 1è& ~
HIBITL
;

471 *
v®±r
 = 
v®ue
 / 5;

472  ()(
v®ue
 % 5 * 2 + 
lowb™
 + '0');

473 
	}
}

477 
	$myv¥rštf
(*
obuf
, *
fÜm©
, 
va_li¡
 
v
)

479 
_bÏnks
[] = " ";

480 
_z”Ûs
[] = "00000000000000000000";

483 
couÁ
 = 0;

486 
fcode
;

489 
width
, 
´ec
 = 0;

492 
lz”o
 = 0;

495 
´efixËngth
;

498 
Ùh”Ëngth
;

501 
	#PADZERO
 0x0001

	)

502 
	#RZERO
 0x0002

	)

503 
	#LZERO
 0x0004

	)

504 
	#DOTSEEN
 0x0008

	)

505 
	#LENGTH
 0x0010

	)

506 
æagwÜd
;

509 
	#MAXDIGS
 22

	)

512 *
bp
, *
p
;

515 
k
, 
Ìadix
, 
m¿dix
;

518 *
´efix
 = 
NULL
;

521 
buf
[
MAXDIGS
*4], 
buf1
[MAXDIGS*4];

524 *
b
;

527 
¦¬gešt_t
 
v®
;

530 
dæßt_t
 
fv®
;

534 
n
;

536 (
fcode
 = *
fÜm©
) != '\0' && fcode != '%')

538 *
obuf
++ = 
fcode
;

539 
fÜm©
++;

540 
couÁ
++;

543 ià(
fcode
 == '\0')

546 *
obuf
 = '\0';

547  
obuf
;

556 
width
 = 
´efixËngth
 = 
Ùh”Ëngth
 = 
æagwÜd
 = 0;

557 
fÜm©
++;

559 
ch¬sw™ch
:

560 
fcode
 = *
fÜm©
++)

563 
æagwÜd
 |ğ
PADZERO
;

574 
num
 = 
fcode
 - '0';

575 
	`isdig™
(
fcode
 = *
fÜm©
))

577 
num
 =‚um * 10 + 
fcode
 - '0';

578 
fÜm©
++;

580 ià(
æagwÜd
 & 
DOTSEEN
)

581 
´ec
 = 
num
;

583 
width
 = 
num
;

584 
ch¬sw™ch
;

588 
æagwÜd
 |ğ
DOTSEEN
;

589 
ch¬sw™ch
;

592 
æagwÜd
 |ğ
LENGTH
;

593 
ch¬sw™ch
;

596 #ifdeà
HOST_HAS_QWORD


597 
æagwÜd
 |ğ
LENGTH
;

600 
æagwÜd
 |ğ
DOTSEEN
;

601 ià(!
width
)

602 
width
 = 12;

603 
´ec
 = 0;

604 
´oûss_æßt
;

609 ià(
æagwÜd
 & 
LENGTH
)

610 
v®
 = 
	`va_¬g
(
v
, 
¦¬gešt_t
);

612 
v®
 = (
¦¬gešt_t
)
	`va_¬g
(
v
, 
swÜd_t
);

615 
p
 = 
bp
 = 
buf
 + 
MAXDIGS
;

618 ià(
v®
 < 0)

620 
´efix
 = "-";

621 
´efixËngth
 = 1;

623 ià(
v®
 !ğ(
¦¬gešt_t
)
HIBITL
)

624 
v®
 = -val;

628 *--
bp
 = 
	`_lowdig™
(&
v®
);

632 
decim®
:

634 
¦¬gešt_t
 
qv®
 = 
v®
;

636 ià(
qv®
 <= 9)

637 *--
bp
 = ()
qv®
 + '0';

641 
n
 = ()
qv®
;

642 
qv®
 /= 10;

643 *--
bp
 = 
n
 - ()
qv®
 * 10 + '0';

645 
qv®
 > 9);

646 *--
bp
 = ()
qv®
 + '0';

653 ià(
æagwÜd
 & 
LENGTH
)

654 
v®
 = 
	`va_¬g
(
v
, 
Ïrgešt_t
);

656 
v®
 = (
Ïrgešt_t
)
	`va_¬g
(
v
, 
wÜd_t
);

659 
p
 = 
bp
 = 
buf
 + 
MAXDIGS
;

661 ià(
v®
 & 
HIBITL
)

662 *--
bp
 = 
	`_lowdig™
(&
v®
);

663 
decim®
;

666 
m¿dix
 = 7;

667 
Ìadix
 = 2;

668 
fixed
;

671 ià((
md_addr_t
) > 4)

672 
æagwÜd
 |ğ
LENGTH
;

677 
m¿dix
 = 15;

678 
Ìadix
 = 3;

680 
fixed
:

682 ià(
æagwÜd
 & 
LENGTH
)

683 
v®
 = 
	`va_¬g
(
v
, 
Ïrgešt_t
);

685 
v®
 = (
Ïrgešt_t
)
	`va_¬g
(
v
, 
wÜd_t
);

688 
b
 = (
fcode
 == 'X') ? "0123456789ABCDEF" : "0123456789abcdef";

691 
p
 = 
bp
 = 
buf
 + 
MAXDIGS
;

694 
¦¬gešt_t
 
qv®
 = 
v®
;

696 ià(
qv®
 == 0)

698 
Ùh”Ëngth
 = 
lz”o
 = 1;

699 
æagwÜd
 |ğ
LZERO
;

703 *--
bp
 = 
b
[
qv®
 & 
m¿dix
];

704 
qv®
 = ((qv® >> 1è& ~
HIBITL
è>> 
Ìadix
;

705 } 
qv®
 != 0);

709 #iâdeà
HOST_HAS_QWORD


710 
´oûss_æßt
:

714 ià(
æagwÜd
 & 
DOTSEEN
)

715 
	`¥rštf
(
buf1
, "%%%d.%df", 
width
, 
´ec
);

716 ià(
width
)

717 
	`¥rštf
(
buf1
, "%%%df", 
width
);

719 
	`¥rštf
(
buf1
, "%%f");

722 
fv®
 = 
	`va_¬g
(
v
, 
dæßt_t
);

725 
	`¥rštf
(
buf
, 
buf1
, 
fv®
);

726 
bp
 = 
buf
;

727 
p
 = 
bp
 + 
	`¡¾’
(bp);

731 
bp
 = 
	`va_¬g
(
v
, *);

732 ià(
bp
 =ğ
NULL
)

733 
bp
 = "(null)";

734 
p
 = 
bp
 + 
	`¡¾’
(bp);

738 
buf
[0] = 
fcode
;

739 
c_m”ge
;

742 
buf
[0] = 
	`va_¬g
(
v
, );

743 
c_m”ge
:

744 
p
 = (
bp
 = &
buf
[0]) + 1;

750 
fÜm©
--;

755 
k
 = (
n
 = 
p
 - 
bp
è+ 
´efixËngth
 + 
Ùh”Ëngth
;

756 ià(
width
 <ğ
k
)

757 
couÁ
 +ğ
k
;

760 
couÁ
 +ğ
width
;

764 ià(
æagwÜd
 & 
PADZERO
)

766 ià(!(
æagwÜd
 & 
LZERO
))

768 
æagwÜd
 |ğ
LZERO
;

769 
lz”o
 = 
width
 - 
k
;

772 
lz”o
 +ğ
width
 - 
k
;

775 
k
 = 
width
;

780 
	`PAD
(
_bÏnks
, 
width
 - 
k
);

785 ià(
´efixËngth
 != 0)

787 
	`PUT
(
´efix
, 
´efixËngth
);

791 ià(
æagwÜd
 & 
LZERO
)

793 
	`PAD
(
_z”Ûs
, 
lz”o
);

797 ià(
n
 > 0)

799 
	`PUT
(
bp
, 
n
);

802 
	}
}

806 
	$my¥rštf
(*
obuf
, *
fÜm©
, ...)

809 
va_li¡
 
v
;

810 
	`va_¡¬t
(
v
, 
fÜm©
);

812  
	`myv¥rštf
(
obuf
, 
fÜm©
, 
v
);

813 
	}
}

817 
	$myvårštf
(
FILE
 *
¡»am
, *
fÜm©
, 
va_li¡
 
v
)

820 
buf
[2048];

822 
	`myv¥rštf
(
buf
, 
fÜm©
, 
v
);

823 
	`åuts
(
buf
, 
¡»am
);

824 
	}
}

828 
	$myårštf
(
FILE
 *
¡»am
, *
fÜm©
, ...)

831 
buf
[2048];

834 
va_li¡
 
v
;

835 
	`va_¡¬t
(
v
, 
fÜm©
);

837 
	`myv¥rštf
(
buf
, 
fÜm©
, 
v
);

838 
	`åuts
(
buf
, 
¡»am
);

839 
	}
}

841 #ifdeà
HOST_HAS_QWORD


843 
	#LL_MAX
 
	`LL
(9223372036854775807)

	)

844 
	#LL_MIN
 (-
LL_MAX
 - 1)

	)

845 
	#ULL_MAX
 (
	`ULL
(9223372036854775807è* ULL(2è+ 1)

	)

848 
sqwÜd_t


849 
	$my©osq
(*
ÅŒ
, **
’dp
, 
ba£
)

851 *
s
, *
§ve
;

852 
Ãg©ive
, 
ov”æow
;

853 
sqwÜd_t
 
cutoff
, 
cuim
, 
i
;

854 
c
;

855 
”ºo
;

857 ià(!
ÅŒ
 || !*nptr)

858 
	`·nic
("strtoll()…assed‡ NULL string");

860 
s
 = 
ÅŒ
;

863 
	`is¥aû
(()(*
s
)))

864 ++
s
;

865 ià(*
s
 == '\0')

866 
nocÚv
;

868 ià(
ba£
 == 0)

870 ià(
s
[0] =ğ'0' && 
	`touµ”
(()s[1]) == 'X')

871 
ba£
 = 16;

873 
ba£
 = 10;

876 ià(
ba£
 <= 1 || base > 36)

877 
	`·nic
("bogu ba£: %d", 
ba£
);

880 ià(*
s
 == '-')

882 
Ãg©ive
 = 1;

883 ++
s
;

885 ià(*
s
 == '+')

887 
Ãg©ive
 = 0;

888 ++
s
;

891 
Ãg©ive
 = 0;

893 ià(
ba£
 =ğ16 && 
s
[0] =ğ'0' && 
	`touµ”
(()s[1]) == 'X')

894 
s
 += 2;

897 
§ve
 = 
s
;

899 
cutoff
 = 
LL_MAX
 / (è
ba£
;

900 
cuim
 = 
LL_MAX
 % (è
ba£
;

902 
ov”æow
 = 0;

903 
i
 = 0;

904 
c
 = *
s
; c != '\0'; c = *++s)

906 ià(
	`isdig™
 (
c
))

907 
c
 -= '0';

908 ià(
	`i§Íha
 (
c
))

909 
c
 = 
	`touµ”
(c) - 'A' + 10;

912 ià(
c
 >ğ
ba£
)

916 ià(
i
 > 
cutoff
 || (˜=ğcutofà&& 
c
 > 
cuim
))

917 
ov”æow
 = 1;

920 
i
 *ğ(è
ba£
;

921 
i
 +ğ
c
;

926 ià(
s
 =ğ
§ve
)

927 
nocÚv
;

931 ià(
’dp
 !ğ
NULL
)

932 *
’dp
 = (*è
s
;

934 ià(
ov”æow
)

936 
”ºo
 = 
ERANGE
;

937  
Ãg©ive
 ? 
LL_MIN
 : 
LL_MAX
;

941 
”ºo
 = 0;

944  (
Ãg©ive
 ? -
i
 : i);

947 
nocÚv
:

949 ià(
’dp
 !ğ
NULL
)

950 *
’dp
 = (*è
ÅŒ
;

952 
	}
}

955 
qwÜd_t


956 
	$my©oq
(*
ÅŒ
, **
’dp
, 
ba£
)

958 *
s
, *
§ve
;

959 
ov”æow
;

960 
qwÜd_t
 
cutoff
, 
cuim
, 
i
;

961 
c
;

962 
”ºo
;

964 ià(!
ÅŒ
 || !*nptr)

965 
	`·nic
("strtoll()…assed‡ NULL string");

967 
s
 = 
ÅŒ
;

970 
	`is¥aû
(()(*
s
)))

971 ++
s
;

972 ià(*
s
 == '\0')

973 
nocÚv
;

975 ià(
ba£
 == 0)

977 ià(
s
[0] =ğ'0' && 
	`touµ”
(()s[1]) == 'X')

978 
ba£
 = 16;

980 
ba£
 = 10;

983 ià(
ba£
 <= 1 || base > 36)

984 
	`·nic
("bogu ba£: %d", 
ba£
);

986 ià(
ba£
 =ğ16 && 
s
[0] =ğ'0' && 
	`touµ”
(()s[1]) == 'X')

987 
s
 += 2;

990 
§ve
 = 
s
;

992 
cutoff
 = 
ULL_MAX
 / (è
ba£
;

993 
cuim
 = 
ULL_MAX
 % (è
ba£
;

995 
ov”æow
 = 0;

996 
i
 = 0;

997 
c
 = *
s
; c != '\0'; c = *++s)

999 ià(
	`isdig™
 (
c
))

1000 
c
 -= '0';

1001 ià(
	`i§Íha
 (
c
))

1002 
c
 = 
	`touµ”
(c) - 'A' + 10;

1005 ià(
c
 >ğ
ba£
)

1009 ià(
i
 > 
cutoff
 || (˜=ğcutofà&& 
c
 > 
cuim
))

1010 
ov”æow
 = 1;

1013 
i
 *ğ(è
ba£
;

1014 
i
 +ğ
c
;

1019 ià(
s
 =ğ
§ve
)

1020 
nocÚv
;

1024 ià(
’dp
 !ğ
NULL
)

1025 *
’dp
 = (*è
s
;

1027 ià(
ov”æow
)

1029 
”ºo
 = 
ERANGE
;

1030  
ULL_MAX
;

1034 
”ºo
 = 0;

1037  
i
;

1040 
nocÚv
:

1042 ià(
’dp
 !ğ
NULL
)

1043 *
’dp
 = (*è
ÅŒ
;

1045 
	}
}

1047 #ifdeà
TESTIT


1049 
	$‹¡™
(*
s
)

1051 
buf
[128];

1052 
qwÜd_t
 
qv®
;

1054 
qv®
 = 
	`my©oq
(
s
, 
NULL
, 10);

1056 
	`myqtß
(
qv®
, "%x", 
buf
, 
NULL
);

1057 
	`årštf
(
¡d”r
, "x: %s\n", 
buf
);

1058 
	`myqtß
(
qv®
, "%16x", 
buf
, 
NULL
);

1059 
	`årštf
(
¡d”r
, "16x: %s\n", 
buf
);

1060 
	`myqtß
(
qv®
, "%016x", 
buf
, 
NULL
);

1061 
	`årštf
(
¡d”r
, "016x: %s\n", 
buf
);

1062 
	`myqtß
(
qv®
, "0x%016x", 
buf
, 
NULL
);

1063 
	`årštf
(
¡d”r
, "0x016x: %s\n", 
buf
);

1064 
	`myqtß
(
qv®
, "0x%08x", 
buf
, 
NULL
);

1065 
	`årštf
(
¡d”r
, "0x08x: %s\n", 
buf
);

1067 
	`myqtß
(
qv®
, "%d", 
buf
, 
NULL
);

1068 
	`årštf
(
¡d”r
, "d: %s\n", 
buf
);

1069 
	`myqtß
(
qv®
, "%22d", 
buf
, 
NULL
);

1070 
	`årštf
(
¡d”r
, "22d: %s\n", 
buf
);

1071 
	`myqtß
(
qv®
, "%022d", 
buf
, 
NULL
);

1072 
	`årštf
(
¡d”r
, "022d: %s\n", 
buf
);

1074 
	`myqtß
(
qv®
, "%u", 
buf
, 
NULL
);

1075 
	`årštf
(
¡d”r
, "u: %s\n", 
buf
);

1077 
	`myqtß
(
qv®
, "%o", 
buf
, 
NULL
);

1078 
	`årštf
(
¡d”r
, "o: %s\n", 
buf
);

1079 
	}
}

1082 
	$¡e¡™
(*
s
)

1084 
buf
[128];

1085 
sqwÜd_t
 
sqv®
;

1087 
sqv®
 = 
	`my©osq
(
s
, 
NULL
, 10);

1089 
	`myqtß
(
sqv®
, "%x", 
buf
, 
NULL
);

1090 
	`årštf
(
¡d”r
, "x: %s\n", 
buf
);

1092 
	`myqtß
(
sqv®
, "%d", 
buf
, 
NULL
);

1093 
	`årštf
(
¡d”r
, "d: %s\n", 
buf
);

1095 
	`myqtß
(
sqv®
, "%u", 
buf
, 
NULL
);

1096 
	`årštf
(
¡d”r
, "u: %s\n", 
buf
);

1097 
	}
}

1100 
	$x‹¡™
(*
s
)

1102 
buf
[128];

1103 
qwÜd_t
 
qv®
;

1105 
qv®
 = 
	`my©oq
(
s
, 
NULL
, 16);

1107 
	`myqtß
(
qv®
, "%x", 
buf
, 
NULL
);

1108 
	`årštf
(
¡d”r
, "x: %s\n", 
buf
);

1110 
	`myqtß
(
qv®
, "%d", 
buf
, 
NULL
);

1111 
	`årštf
(
¡d”r
, "d: %s\n", 
buf
);

1113 
	`myqtß
(
qv®
, "%u", 
buf
, 
NULL
);

1114 
	`årštf
(
¡d”r
, "u: %s\n", 
buf
);

1115 
	}
}

1120 #ifdeà
GZIP_PATH


1123 *
	mty³
;

1124 *
	mext
;

1125 *
	mcmd
;

1126 } 
	ggzcmds
[] = {

1138 
FILE
 *

1139 
	$gzİ’
(*
âame
, *
ty³
)

1141 
i
;

1142 *
cmd
 = 
NULL
, *
ext
;

1143 
FILE
 *
fd
;

1144 
¡r
[2048];

1147 
ext
 = 
	`my¡¼chr
(
âame
, '.');

1150 ià(
ext
 !ğ
NULL
 && *ext != '\0')

1152 
i
=0; i < 
	`N_ELT
(
gzcmds
); i++)

1154 ià(!
	`¡rcmp
(
gzcmds
[
i
].
ty³
,y³è&& !¡rcmp(gzcmds[i].
ext
,ƒxt))

1156 
cmd
 = 
gzcmds
[
i
].cmd;

1162 ià(!
cmd
)

1165 
fd
 = 
	`fİ’
(
âame
, 
ty³
);

1170 
	`¥rštf
(
¡r
, 
cmd
, 
GZIP_PATH
, 
âame
);

1171 
fd
 = 
	`pİ’
(
¡r
, 
ty³
);

1174  
fd
;

1175 
	}
}

1179 
	$gzşo£
(
FILE
 *
fd
)

1182 ià(
	`pşo£
(
fd
) == -1)

1183 
	`fşo£
(
fd
);

1184 
	}
}

1188 
FILE
 *

1189 
	$gzİ’
(*
âame
, *
ty³
)

1191  
	`fİ’
(
âame
, 
ty³
);

1192 
	}
}

1195 
	$gzşo£
(
FILE
 *
fd
)

1197 
	`fşo£
(
fd
);

1198 
	}
}

1204 
	#POLYNOMIAL
 0x04c11db7L

	)

1206 
	güc_š™
 = 
FALSE
;

1207 
	güc_bË
[256];

1211 
	$üc_g’b
()

1213 
i
, 
j
;

1214 
wÜd_t
 
üc_accum
;

1216 
i
=0; i < 256; i++)

1218 
üc_accum
 = (()
i
 << 24);

1219 
j
=0; j < 8; j++)

1221 ià(
üc_accum
 & 0x80000000L)

1222 
üc_accum
 = (üc_accum << 1è^ 
POLYNOMIAL
;

1224 
üc_accum
 = (crc_accum << 1);

1226 
üc_bË
[
i
] = 
üc_accum
;

1229 
	}
}

1232 
wÜd_t


1233 
	$üc
(
wÜd_t
 
üc_accum
, wÜd_ˆ
d©a
)

1235 
i
, 
j
;

1237 ià(!
üc_š™
)

1239 
	`üc_g’b
();

1240 
üc_š™
 = 
TRUE
;

1243 
j
=0; j < (
wÜd_t
); j++)

1245 
i
 = (()(
üc_accum
 >> 24è^ (
d©a
 >> (
j
*8))) & 0xff;

1246 
üc_accum
 = (üc_accum << 8è^ 
üc_bË
[
i
];

1248  
üc_accum
;

1249 
	}
}

	@misc.h

114 #iâdeà
MISC_H


115 
	#MISC_H


	)

117 
	~<¡dio.h
>

118 
	~<¡dlib.h
>

119 
	~<¡d¬g.h
>

120 
	~<¡ršg.h
>

121 
	~<sys/ty³s.h
>

122 
	~"ho¡.h
"

125 #iâdeà
TRUE


126 
	#TRUE
 1

	)

128 #iâdeà
FALSE


129 
	#FALSE
 0

	)

133 #iâdeà
max2


134 
	#max2
(
a
, 
b
è((×è< (b)è? (bè: (a))

	)

136 #iâdeà
mš2


137 
	#mš2
(
a
, 
b
è((×è< (b)è? (aè: (b))

	)

139 #iâdeà
MAX


140 
	#MAX
(
a
, 
b
è((×è< (b)è? (bè: (a))

	)

142 #iâdeà
MIN


143 
	#MIN
(
a
, 
b
è((×è< (b)è? (aè: (b))

	)

148 
	#LLHIGH
(
L
è(()(((L)>>32è& 0xffffffff))

	)

149 
	#LLLOW
(
L
è(()((Lè& 0xffffffff))

	)

152 
	#N_ELT
(
ARR
è((ARR)/((ARR)[0]))

	)

155 
	#ROUND_UP
(
N
,
ALIGN
è(((Nè+ ((ALIGN)-1)è& ~((ALIGN)-1))

	)

156 
	#ROUND_DOWN
(
N
,
ALIGN
è((Nè& ~((ALIGN)-1))

	)

159 
v”bo£
;

160 
´og¿m_com¶‘e
;

162 #ifdeà
DEBUG


164 
debuggšg
;

169 
çl_hook
((*
hook_â
)(
FILE
 *
¡»am
));

171 #ifdeà
__GNUC__


173 
	#çl
(
fmt
, 
¬gs
...è\

	)

174 
	`_çl
(
__FILE__
, 
__FUNCTION__
, 
__LINE__
, 
fmt
, ## 
¬gs
)

177 
	$_çl
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

178 
	`__©Œibu‹__
 ((
nÜ‘uº
));

181 
	`çl
(*
fmt
, ...);

184 #ifdeà
__GNUC__


186 
	#·nic
(
fmt
, 
¬gs
...è\

	)

187 
	`_·nic
(
__FILE__
, 
__FUNCTION__
, 
__LINE__
, 
fmt
, ## 
¬gs
)

190 
	$_·nic
(*
fe
, *
func
, 
lše
, *
fmt
, ...)

191 
	`__©Œibu‹__
 ((
nÜ‘uº
));

194 
	`·nic
(*
fmt
, ...);

197 #ifdeà
__GNUC__


199 
	#w¬n
(
fmt
, 
¬gs
...è\

	)

200 
	`_w¬n
(
__FILE__
, 
__FUNCTION__
, 
__LINE__
, 
fmt
, ## 
¬gs
)

203 
	`_w¬n
(*
fe
, *
func
, 
lše
, *
fmt
, ...);

206 
	`w¬n
(*
fmt
, ...);

209 #ifdeà
__GNUC__


211 
	#šfo
(
fmt
, 
¬gs
...è\

	)

212 
	`_šfo
(
__FILE__
, 
__FUNCTION__
, 
__LINE__
, 
fmt
, ## 
¬gs
)

215 
	`_šfo
(*
fe
, *
func
, 
lše
, *
fmt
, ...);

218 
	`šfo
(*
fmt
, ...);

221 #ifdeà
DEBUG


223 #ifdeà
__GNUC__


225 
	#debug
(
fmt
, 
¬gs
...è\

	)

227 ià(
debuggšg
) \

228 
	`_debug
(
__FILE__
, 
__FUNCTION__
, 
__LINE__
, 
fmt
, ## 
¬gs
); \

229 
	}
} 0)

232 
	`_debug
(*
fe
, *
func
, 
lše
, *
fmt
, ...);

235 
	`debug
(*
fmt
, ...);

240 #ifdeà
__GNUC__


241 
	#debug
(
fmt
, 
¬gs
...)

	)

244 
	$debug
(*
fmt
, ...è{
	}
}

251 
my¤ªd
(
£ed
);

254 
my¿nd
();

259 
my¡rdup
(*
s
);

263 
my¡¼chr
(*
s
, 
c
);

268 
my¡ricmp
(*
s1
, *
s2
);

272 *
g‘cÜe
(
nby‹s
);

275 
log_ba£2
(
n
);

278 *
–­£d_time
(
£c
);

286 
exŒaùl
(
wÜd
,

287 
pos
,

288 
num
);

290 #ià
defšed
(
¥¬c
è&& !defšed(
__svr4__
)

291 
	#¡¹oul
 
¡¹Ş


	)

297 *
myv¥rštf
(*
obuf
, *
fÜm©
, 
va_li¡
 
v
);

300 *
my¥rštf
(*
obuf
, *
fÜm©
, ...);

303 
myvårštf
(
FILE
 *
¡»am
, *
fÜm©
, 
va_li¡
 
v
);

306 
myårštf
(
FILE
 *
¡»am
, *
fÜm©
, ...);

308 #ifdeà
HOST_HAS_QWORD


311 
sqwÜd_t
 
my©osq
(*
ÅŒ
, **
’dp
, 
ba£
);

314 
qwÜd_t
 
my©oq
(*
ÅŒ
, **
’dp
, 
ba£
);

320 
FILE
 *
gzİ’
(*
âame
, *
ty³
);

323 
gzşo£
(
FILE
 *
fd
);

326 
wÜd_t
 
üc
(wÜd_ˆ
üc_accum
, wÜd_ˆ
d©a
);

334 
	mbrk_pošt
;

335 
	mmm­_’d
;

337 } 
	tAÍhaSy¡emS‹
;

	@mystats.c

1 
	~"my¡©s.h
"

4 
	$¡©s_š™
()

6 
addr_bË
.
couÁ
 = 0;

7 
	}
}

9 
	$šæight_¡©s
(
ty³
, 
»ad
, 
wr™e
)

11 
acûss_num
 = 
»ad
 + 
wr™e
;

12 
lše_šæight_acûs£s
 ++;

13 
ty³
)

15 
PRIVATE
:

16 
šæight_´iv©e
 ++;

17 if(
acûss_num
 < 100)

18 
Cache_dyÇmic_acc_´iv©e
[
acûss_num
] ++;

20 
Cache_dyÇmic_acc_´iv©e
[100] ++;

22 
MIGRATE
:

23 
šæight_mig¿‹
 ++;

24 if(
acûss_num
 < 100)

25 
Cache_dyÇmic_acc_mig¿‹
[
acûss_num
] ++;

27 
Cache_dyÇmic_acc_mig¿‹
[100] ++;

29 
SHARED_READ_ONLY
:

30 
šæight_sh¬ed_Úly
 ++;

31 if(
acûss_num
 < 100)

32 
Cache_dyÇmic_acc_sh¬ed
[
acûss_num
] ++;

34 
Cache_dyÇmic_acc_sh¬ed
[100] ++;

36 
SHARED_READ_WRITE
:

37 
šæight_sh¬ed_rw
 ++;

38 if(
acûss_num
 < 100)

39 
Cache_dyÇmic_acc_¤w
[
acûss_num
] ++;

41 
Cache_dyÇmic_acc_¤w
[100] ++;

44 
	`·nic
("can‚ot be here\n");

48 
	}
}

50 
	$¡©s_®loÿ‹
(
md_addr_t
 
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
)

52 if(
addr_bË
.
mem
[addr_bË.
couÁ
].
v®id
)

53 
	`·nic
("allocate wrongƒntry:‡ddress is different!\n");

54 if(
»ad
 !ğ0 || 
wr™e
 !ğ0 || 
wÜd
 != 0)

56 
addr_bË
.
mem
[addr_bË.
couÁ
].
v®id
 = 1;

57 
addr_bË
.
mem
[addr_bË.
couÁ
].
addr
 =‡ddr;

58 
addr_bË
.
mem
[addr_bË.
couÁ
].
»ad
 =„ead;

59 
addr_bË
.
mem
[addr_bË.
couÁ
].
wr™e
 = write;

60 
addr_bË
.
mem
[addr_bË.
couÁ
].
wÜd
 = word;

61 
addr_bË
.
mem
[addr_bË.
couÁ
].
u£
 ++;

62 
addr_bË
.
mem
[addr_bË.
couÁ
].
ty³
 =ype;

63 
addr_bË
.
mem
[addr_bË.
couÁ
].
owÃr
 = owner;

64 if(
ty³
 =ğ
PRIVATE
)

66 
addr_bË
.
mem
[addr_bË.
couÁ
].
´iv©e_acûss
 = 
»ad
 + 
wr™e
;

67 
addr_bË
.
mem
[addr_bË.
couÁ
].
´iv©e_acûss_r
 = 
»ad
;

68 
addr_bË
.
mem
[addr_bË.
couÁ
].
´iv©e_acûss_w
 = 
wr™e
;

69 
addr_bË
.
mem
[addr_bË.
couÁ
].
´iv©e_couÁ
 ++;

71 if(
ty³
 =ğ
SHARED_READ_WRITE
)

73 
addr_bË
.
mem
[addr_bË.
couÁ
].
¤w_acûss
 = 
»ad
 + 
wr™e
;

74 
addr_bË
.
mem
[addr_bË.
couÁ
].
¤w_acûss_r
 = 
»ad
;

75 
addr_bË
.
mem
[addr_bË.
couÁ
].
¤w_acûss_w
 = 
wr™e
;

76 
addr_bË
.
mem
[addr_bË.
couÁ
].
¤w_couÁ
 ++;

78 
addr_bË
.
couÁ
 ++;

79 
	`šæight_¡©s
(
ty³
, 
»ad
, 
wr™e
);

80 
lše_acûs£s
 ++;

82 if(
addr_bË
.
couÁ
 >= 1048576)

84 
	`¡©s_cŞËù
();

85 
	`·nic
("Overflow in‡ddressable\n");

87 
	}
}

88 
	$¡©s_upd©e
(
md_addr_t
 
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
, 
h™_couÁ
)

90 
Ãw_ty³
;

91 if(
addr_bË
.
mem
[
h™_couÁ
].
addr
 !=‡ddr)

92 
	`·nic
("Update wrongƒntry:‡ddress is different!\n");

93 if(
»ad
 !ğ0 || 
wr™e
 !ğ0 || 
wÜd
 != 0)

95 
addr_bË
.
mem
[
h™_couÁ
].
»ad
 +=„ead;

96 
addr_bË
.
mem
[
h™_couÁ
].
wr™e
 += write;

97 
addr_bË
.
mem
[
h™_couÁ
].
wÜd
 += word;

98 
addr_bË
.
mem
[
h™_couÁ
].
u£
 ++;

99 
Ãw_ty³
 = 
	`¡©s_ty³_check
(
addr_bË
.
mem
[
h™_couÁ
].
ty³
,y³,‡ddr_bË.mem[h™_couÁ].
owÃr
, owner);

100 if(
ty³
 =ğ
PRIVATE
)

102 
addr_bË
.
mem
[
h™_couÁ
].
´iv©e_acûss
 +ğ
»ad
 + 
wr™e
;

103 
addr_bË
.
mem
[
h™_couÁ
].
´iv©e_acûss_r
 +ğ
»ad
;

104 
addr_bË
.
mem
[
h™_couÁ
].
´iv©e_acûss_w
 +ğ
wr™e
;

105 
addr_bË
.
mem
[
h™_couÁ
].
´iv©e_couÁ
 ++;

107 if(
ty³
 =ğ
SHARED_READ_WRITE
)

109 
addr_bË
.
mem
[
h™_couÁ
].
¤w_acûss
 +ğ
»ad
 + 
wr™e
;

110 
addr_bË
.
mem
[
h™_couÁ
].
¤w_acûss_r
 +ğ
»ad
;

111 
addr_bË
.
mem
[
h™_couÁ
].
¤w_acûss_w
 +ğ
wr™e
;

112 
addr_bË
.
mem
[
h™_couÁ
].
¤w_couÁ
 ++;

114 
addr_bË
.
mem
[
h™_couÁ
].
ty³
 = 
Ãw_ty³
;

115 
addr_bË
.
mem
[
h™_couÁ
].
owÃr
 = owner;

116 
	`šæight_¡©s
(
ty³
, 
»ad
, 
wr™e
);

118 
	}
}

120 
	$¡©s_ty³_check
(
Şd_ty³
, 
ty³
, 
Şd_owÃr
, 
owÃr
)

122 
Ãw_ty³
;

123 if(
Şd_ty³
 =ğ
SHARED_READ_WRITE
 || 
ty³
 == SHARED_READ_WRITE)

125 
Ãw_ty³
 = 
SHARED_READ_WRITE
;

126 if(
Şd_ty³
 =ğ
PRIVATE
)

127 
´iv©e_to_sh¬ed_rw
 ++;

128 if(
ty³
 =ğ
PRIVATE
)

129 
sh¬ed_rw_to_´iv©e
 ++;

130 if(
Şd_ty³
 =ğ
SHARED_READ_WRITE
 && 
ty³
 == SHARED_READ_WRITE)

131 
sh¬ed_rw_cÚ¡ªt
 ++;

133 if(
Şd_ty³
 =ğ
SHARED_READ_ONLY
 || 
ty³
 == SHARED_READ_ONLY)

134 
Ãw_ty³
 = 
SHARED_READ_ONLY
;

135 if(
Şd_ty³
 =ğ
MIGRATE
 || 
Şd_owÃr
 !ğ
owÃr
)

136 
Ãw_ty³
 = 
MIGRATE
;

138 
Ãw_ty³
 = 
PRIVATE
;

139 if(
Ãw_ty³
 !ğ
Şd_ty³
)

140 
ty³_chªged
 ++;

141  
Ãw_ty³
;

142 
	}
}

144 
	$¡©s_com·»
(
md_addr_t
 
addr
)

146 
i
, 
h™_couÁ
 = -1;

147 
i
=0;i<
addr_bË
.
couÁ
;i++)

149 if(
addr_bË
.
mem
[
i
].
addr
 ==‡ddr)

151 
h™_couÁ
 = 
i
;

155  
h™_couÁ
;

156 
	}
}

158 
	$¡©s_do
(
md_addr_t
 
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
)

160 
h™_couÁ
;

161 
h™_couÁ
 = 
	`¡©s_com·»
(
addr
);

162 if(
h™_couÁ
 == -1)

163 
	`¡©s_®loÿ‹
(
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
);

165 
	`¡©s_upd©e
(
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
, 
h™_couÁ
);

166 
	}
}

168 
	$¡©s_cŞËù
()

170 
i
=0, 
c
, 
wc
;

171 
acûss
 = 0, 
wÜd_u£
, 
´iv©e_acûss
 = 0, 
¤w_acûss
 = 0, 
´iv©e_acûss_r
 = 0, 
´iv©e_acûss_w
 = 0;

172 
¤w_acûss_r
 = 0, 
¤w_acûss_w
 = 0;

173 
i
=0;i<
addr_bË
.
couÁ
;i++)

175 
acûss
 = (()
addr_bË
.
mem
[
i
].
»ad
 + (ïddr_bË.mem[i].
wr™e
)/((ïddr_bË.mem[i].
u£
);

176 if(
addr_bË
.
mem
[
i
].
´iv©e_couÁ
)

178 
´iv©e_acûss
 = (()
addr_bË
.
mem
[
i
].´iv©e_acûss)/((ïddr_bË.mem[i].
´iv©e_couÁ
);

179 
´iv©e_acûss_r
 = (()
addr_bË
.
mem
[
i
].´iv©e_acûss_r)/((ïddr_bË.mem[i].
´iv©e_couÁ
);

180 
´iv©e_acûss_w
 = (()
addr_bË
.
mem
[
i
].´iv©e_acûss_w)/((ïddr_bË.mem[i].
´iv©e_couÁ
);

182 if(
addr_bË
.
mem
[
i
].
¤w_couÁ
)

184 
¤w_acûss
 = (()
addr_bË
.
mem
[
i
].¤w_acûss)/((ïddr_bË.mem[i].
¤w_couÁ
);

185 
¤w_acûss_r
 = (()
addr_bË
.
mem
[
i
].¤w_acûss_r)/((ïddr_bË.mem[i].
¤w_couÁ
);

186 
¤w_acûss_w
 = (()
addr_bË
.
mem
[
i
].¤w_acûss_w)/((ïddr_bË.mem[i].
¤w_couÁ
);

188 
c
 = ()(
acûss
) - 1;

189 if(
c
<100)

190 
Cache_acûss
[
c
] ++;

192 
Cache_acûss
[100] ++;

193 
wÜd_u£
 = ()
addr_bË
.
mem
[
i
].
wÜd
/((ïddr_bË.mem[i].
u£
);

194 
wc
 = ()(
wÜd_u£
) - 1;

195 if(
wc
<100)

196 
wÜd_utiz©iÚ
[
wc
] ++;

198 
wÜd_utiz©iÚ
[100] ++;

199 
addr_bË
.
mem
[
i
].
ty³
)

201 
PRIVATE
:

202 if(
c
<100)

203 
Cache_acûss_p
[
c
] ++;

205 
Cache_acûss_p
[100] ++;

206 if(
wc
<100)

207 
wÜd_utiz©iÚ_p
[
wc
] ++;

209 
wÜd_utiz©iÚ_p
[100] ++;

210 
´iv©e_couÁ
 ++;

211 
´iv©e_dyÇmic_acûs£s
 +ğ
addr_bË
.
mem
[
i
].
u£
;

213 
MIGRATE
:

214 if(
c
<100)

215 
Cache_acûss_m
[
c
] ++;

217 
Cache_acûss_m
[100] ++;

218 if(
wc
<100)

219 
wÜd_utiz©iÚ_m
[
wc
] ++;

221 
wÜd_utiz©iÚ_m
[100] ++;

222 
mig¿‹_couÁ
 ++;

223 
mig¿‹_dyÇmic_acûs£s
 +ğ
addr_bË
.
mem
[
i
].
u£
;

225 
SHARED_READ_ONLY
:

226 if(
c
<100)

227 
Cache_acûss_s
[
c
] ++;

229 
Cache_acûss_s
[100] ++;

230 if(
wc
<100)

231 
wÜd_utiz©iÚ_s
[
wc
] ++;

233 
wÜd_utiz©iÚ_s
[100] ++;

234 
sh¬ed_couÁ
 ++;

235 
sh¬ed_dyÇmic_acûs£s
 +ğ
addr_bË
.
mem
[
i
].
u£
;

237 
SHARED_READ_WRITE
:

238 if(
c
<100)

239 
Cache_acûss_¤w
[
c
] ++;

241 
Cache_acûss_¤w
[100] ++;

242 if(
wc
<100)

243 
wÜd_utiz©iÚ_¤w
[
wc
] ++;

245 
wÜd_utiz©iÚ_¤w
[100] ++;

246 
sh¬ed_rw_couÁ
 ++;

247 
sh¬edrw_dyÇmic_acûs£s
 +ğ
addr_bË
.
mem
[
i
].
u£
;

248 if(
addr_bË
.
mem
[
i
].
´iv©e_couÁ
)

250 
pc
 = ()(
´iv©e_acûss
) - 1;

251 if(
pc
<100)

252 
Cache_acc_¤w_´iv©e
[
pc
] ++;

254 
Cache_acc_¤w_´iv©e
[100] ++;

255 
pc_r
 = ()(
´iv©e_acûss_r
) - 1;

256 if(
pc
<100)

257 
Cache_acc_¤w_´i_r
[
pc_r
] ++;

259 
Cache_acc_¤w_´i_r
[100] ++;

260 
pc_w
 = ()(
´iv©e_acûss_w
) - 1;

261 if(
pc
<100)

262 
Cache_acc_¤w_´i_w
[
pc_w
] ++;

264 
Cache_acc_¤w_´i_w
[100] ++;

266 if(
addr_bË
.
mem
[
i
].
¤w_couÁ
)

268 
¤wc
 = ()(
¤w_acûss
) - 1;

269 if(
¤wc
<100)

270 
Cache_acc_¤w_¤w
[
¤wc
] ++;

272 
Cache_acc_¤w_¤w
[100] ++;

273 
¤wc_r
 = ()(
¤w_acûss_r
) - 1;

274 if(
¤wc
<100)

275 
Cache_acc_¤w_r
[
¤wc_r
] ++;

277 
Cache_acc_¤w_r
[100] ++;

278 
¤wc_w
 = ()(
¤w_acûss_w
) - 1;

279 if(
¤wc
<100)

280 
Cache_acc_¤w_w
[
¤wc_w
] ++;

282 
Cache_acc_¤w_w
[100] ++;

286 if(
c
<100)

287 
Cache_acûss_p
[
c
] ++;

289 
Cache_acûss_p
[100] ++;

290 if(
wc
<100)

291 
wÜd_utiz©iÚ_p
[
wc
] ++;

293 
wÜd_utiz©iÚ_p
[100] ++;

294 
´iv©e_Ùh”s
 ++;

298 
	}
}

	@mystats.h

1 
	~<¡dio.h
>

2 
	~"machše.h
"

5 
	#PRIVATE
 1

	)

6 
	#MIGRATE
 2

	)

7 
	#SHARED_READ_ONLY
 3

	)

8 
	#SHARED_READ_WRITE
 4

	)

9 
	sADDR_TABLE_ENTRY
{

10 
md_addr_t
 
	maddr
;

11 
	mv®id
;

12 
	m»ad
;

13 
	mwr™e
;

14 
	m´iv©e_acûss
;

15 
	m´iv©e_acûss_r
;

16 
	m´iv©e_acûss_w
;

17 
	m¤w_acûss
;

18 
	m¤w_acûss_r
;

19 
	m¤w_acûss_w
;

20 
	m´iv©e_couÁ
;

21 
	m¤w_couÁ
;

22 
	mwÜd
;

23 
	mu£
;

24 
	mty³
;

25 
	mowÃr
;

26 } 
	taddr_bË_’Œy
;

28 
	sADDR_TABLE
{

29 
addr_bË_’Œy
 
	mmem
[1048576];

30 
couÁ”_t
 
	mcouÁ
;

31 }
	gaddr_bË
;

33 
couÁ”_t
 
	gCache_acûss
[101];

34 
couÁ”_t
 
	gwÜd_utiz©iÚ
[101];

35 
couÁ”_t
 
	gCache_acûss_p
[101];

36 
couÁ”_t
 
	gwÜd_utiz©iÚ_p
[101];

37 
couÁ”_t
 
	gCache_acûss_m
[101];

38 
couÁ”_t
 
	gwÜd_utiz©iÚ_m
[101];

39 
couÁ”_t
 
	gCache_acûss_s
[101];

40 
couÁ”_t
 
	gwÜd_utiz©iÚ_s
[101];

41 
couÁ”_t
 
	gCache_acûss_¤w
[101];

42 
couÁ”_t
 
	gwÜd_utiz©iÚ_¤w
[101];

43 
couÁ”_t
 
	gCache_acc_¤w_´iv©e
[101];

44 
couÁ”_t
 
	gCache_acc_¤w_¤w
[101];

45 
couÁ”_t
 
	gCache_acc_¤w_´i_r
[101];

46 
couÁ”_t
 
	gCache_acc_¤w_´i_w
[101];

47 
couÁ”_t
 
	gCache_acc_¤w_r
[101];

48 
couÁ”_t
 
	gCache_acc_¤w_w
[101];

49 
couÁ”_t
 
	gCache_dyÇmic_acc_´iv©e
[101];

50 
couÁ”_t
 
	gCache_dyÇmic_acc_mig¿‹
[101];

51 
couÁ”_t
 
	gCache_dyÇmic_acc_sh¬ed
[101];

52 
couÁ”_t
 
	gCache_dyÇmic_acc_¤w
[101];

53 
couÁ”_t
 
	g´iv©e_couÁ
;

54 
couÁ”_t
 
	gmig¿‹_couÁ
;

55 
couÁ”_t
 
	gsh¬ed_couÁ
;

56 
couÁ”_t
 
	gsh¬ed_rw_couÁ
;

57 
couÁ”_t
 
	g´iv©e_Ùh”s
;

58 
couÁ”_t
 
	g´iv©e_dyÇmic_acûs£s
;

59 
couÁ”_t
 
	gmig¿‹_dyÇmic_acûs£s
;

60 
couÁ”_t
 
	gsh¬ed_dyÇmic_acûs£s
;

61 
couÁ”_t
 
	gsh¬edrw_dyÇmic_acûs£s
;

62 
couÁ”_t
 
	glše_šæight_acûs£s
;

63 
couÁ”_t
 
	glše_acûs£s
;

64 
couÁ”_t
 
	gty³_chªged
;

65 
couÁ”_t
 
	g´iv©e_to_sh¬ed_rw
;

66 
couÁ”_t
 
	gsh¬ed_rw_to_´iv©e
;

67 
couÁ”_t
 
	gšæight_´iv©e
;

68 
couÁ”_t
 
	gšæight_mig¿‹
;

69 
couÁ”_t
 
	gšæight_sh¬ed_rw
;

70 
couÁ”_t
 
	gšæight_sh¬ed_Úly
;

71 
couÁ”_t
 
	gsh¬ed_rw_cÚ¡ªt
;

74 
¡©s_®loÿ‹
(
md_addr_t
 
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
);

75 
¡©s_upd©e
(
md_addr_t
 
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
, 
h™_couÁ
);

76 
¡©s_ty³_check
(
Şd_ty³
, 
ty³
, 
Şd_owÃr
, 
owÃr
);

77 
¡©s_com·»
(
md_addr_t
 
addr
);

78 
¡©s_do
(
md_addr_t
 
addr
, 
»ad
, 
wr™e
, 
wÜd
, 
ty³
, 
owÃr
);

79 
¡©s_cŞËù
();

	@network.c

44 
	~"h—d”s.h
"

46 
	~"smt.h
"

47 #ifdeà
SMT_SS


48 
	~"cÚ‹xt.h
"

52 
couÁ”_t
 
	gtÙ®_L2_MEM_L2P»ãtch_Req
;

53 
couÁ”_t
 
	gtÙ®_L2_MEM_D©a_Miss_Req
;

54 
couÁ”_t
 
	gtÙ®_L2_MEM_In¡_Miss_Req
;

55 
couÁ”_t
 
	gtÙ®_MEM_L2_D©a_Paylßd
;

56 
couÁ”_t
 
	gtÙ®_MEM_L2_In¡_Paylßd
;

57 
couÁ”_t
 
	gtÙ®_L2_MEM_D©a_Paylßd
;

58 
couÁ”_t
 
	gtÙ®_L1_L2_In¡_Miss_Req
;

59 
couÁ”_t
 
	gtÙ®_L2_L1_In¡_Paylßd
;

60 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_R—d_Miss_Req
;

61 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_R—d_Miss_Paylßd
;

62 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_R—d_Inv®id
;

63 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_R—d_Inv®id_Ack
;

64 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_R—d_Inv®id_Paylßd
;

65 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_Wr™e_Miss_Req
;

66 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_Wr™e_Miss_Paylßd
;

67 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_L2»¶aûd_Inv®id
;

68 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_Wr™e_Inv®id
;

69 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Ack
;

70 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_Wr™e_Inv®id_Ack
;

71 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Paylßd
;

72 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_Wr™e_Inv®id_Paylßd
;

73 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_Wr™e_Upd©e
;

74 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_Wr™e_Upd©e_Ack
;

75 
couÁ”_t
 
	gtÙ®_L1_L2_D©a_Wr™eback_Paylßd
;

76 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_V”ify_Ack
;

77 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_V”ify_PÏylßd
;

78 
couÁ”_t
 
	gtÙ®_L2_L1_D©a_P»ãtch_PÏylßd_PPP
;

79 
couÁ”_t
 
	gtÙ®_L1_L2_R—d_V”ify_Req
;

80 
couÁ”_t
 
	gtÙ®_L1_L2_Wr™e_V”ify_Req
;

81 
couÁ”_t
 
	gtÙ®_L1_L2_shr_b_miss_Req
;

82 
couÁ”_t
 
	gtÙ®_L1_L2_shr_b_wr™e_back_Req
;

83 
couÁ”_t
 
	gtÙ®_L1_L2_shr_b_¤_»cov”y_Req
;

84 
couÁ”_t
 
	gtÙ®_L1_L2_shr_b_upd©e_´_ack_Req
;

85 
couÁ”_t
 
	gtÙ®_L1_L2_shr_b_upd©e_pw_ack_Req
;

86 
couÁ”_t
 
	gtÙ®_L1_L2_shr_b_»cov”y_ack_Req
;

87 
couÁ”_t
 
	gtÙ®_L1_L2_dœ_b_»fl_Req
;

88 
couÁ”_t
 
	gtÙ®_L1_L2_dœ_b_upd©e_Req
;

89 
couÁ”_t
 
	gtÙ®_L1_L2_dœ_b_»cov”y_Req
;

90 
couÁ”_t
 
	gtÙ®_L2_L1_dœ_shr_»ad
;

91 
couÁ”_t
 
	gtÙ®_L1_L2_ack_shr_»ad
;

92 
couÁ”_t
 
	gtÙ®_L1_L2_šfÜm_back
;

93 
couÁ”_t
 
	gtÙ®_TSHR_FuÎ
;

96 
couÁ”_t
 
pİÃtMsgNo
;

97 
couÁ”_t
 
IÅut_queue_fuÎ
;

98 
couÁ”_t
 
Ï¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

99 
ÿche_t
 *
ÿche_dl1
[], *
ÿche_ml2
, *
ÿche_dl2
;

100 
couÁ”_t
 
M‘aPack‘s_1
;

101 
couÁ”_t
 
D©aPack‘s_1
;

102 
couÁ”_t
 
TÙ®M‘aPack‘sInAÎ
, 
TÙ®D©aPack‘sInAÎ
, 
TÙ®SyncM‘aPack‘s
, 
TÙ®SyncD©aPack‘s
;

103 
couÁ”_t
 
İtiÿl_d©a_·ck‘s
, 
İtiÿl_m‘a_·ck‘s
, 
mesh_d©a_·ck‘s
, 
mesh_m‘a_·ck‘s
;

104 
couÁ”_t
 
tÙ®O±HİCouÁ
, 
tÙ®O±HİD–ay
, 
tÙ®O±NÜHİCouÁ
, 
tÙ®O±NÜHİD–ay
, 
tÙ®O±SyncHİCouÁ
, 
tÙ®O±SyncHİD–ay
;

105 
couÁ”_t
 
tÙ®MeshHİCouÁ
, 
tÙ®MeshHİD–ay
, 
tÙ®Ev’tCouÁ
, 
tÙ®Ev’tProûssTime
;

106 
couÁ”_t
 
tÙ®MeshNÜHİCouÁ
, 
tÙ®MeshNÜHİD–ay
, 
tÙ®MeshSyncHİCouÁ
, 
tÙ®MeshSyncHİD–ay
;

107 
couÁ”_t
 
tÙ®Upg¿des
;

108 
couÁ”_t
 
tÙ®N‘Upg¿des
;

109 
couÁ”_t
 
tÙ®Upg¿desU§bË
;

110 
couÁ”_t
 
tÙ®Upg¿desB’eficŸl
;

111 
couÁ”_t
 
d©a_·ck‘s_£ndšg
[300][300];

112 
couÁ”_t
 
m‘a_·ck‘s_£ndšg
[300][300];

113 
couÁ”_t
 
	gm‘a_·ck‘_dœ
[300][2];

114 
couÁ”_t
 
m‘a_ev’_»q_şo£
[300];

115 
couÁ”_t
 
m‘a_odd_»q_şo£
[300];

116 
couÁ”_t
 
»q_¥ªd
[261];

118 
couÁ”_t
 
lšk_£r_Ït
[300][300];

120 
couÁ”_t
 
tÙ®N‘Wr™es
;

121 
couÁ”_t
 
tÙ®Wr™esU§bË
;

122 
couÁ”_t
 
tÙ®Wr™esB’eficŸl
;

123 
couÁ”_t
 
exşusive_somewh”e
;

124 
couÁ”_t
 
äÚt_wr™e
;

125 
lock_ÃtwÜk_acûss
;

126 
IDChªgeFÜIÁ¿N‘wÜk
(
¤c1
, 
¤c2
, 
des1
, 
des2
, *
Ãw_¤c1
, *
Ãw_¤c2
, *
Ãw_des1
, *
Ãw_des2
);

128 
m_shSQSize
;

129 
cŞËù_¡©s
;

132 
	$ÃtwÜk_»g_İtiÚs
(
İt_odb_t
 *
odb
)

134 
	`İt_»g_¡ršg
 (
odb
, "-ÃtwÜk", "ÃtwÜky³ {FSOI|MESH|COMB|HYBRID}", &
ÃtwÜk_ty³
, "FSOI",

135  
TRUE
, 
NULL
);

138 
	`İt_»g_¡ršg
 (
odb
, "-ÃtwÜk:š‹rcfg", "š‹¸ch‚‘wÜk cÚfig {FSOI|MESH}", &
š‹r_cfg
, "FSOI", 
TRUE
, 
NULL
);

139 
	`İt_»g_¡ršg
 (
odb
, "-ÃtwÜk:šŒacfg", "šŒ¨ch‚‘wÜk cÚfig {FSOI|MESH}", &
šŒa_cfg
, "MESH", 
TRUE
, 
NULL
);

142 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:chnum", "numb” oàch š whŞsy¡em", &
tÙ®_ch_num
, 4,

143  
TRUE
, 
NULL
);

144 
	`İtiÿl_İtiÚs
(
odb
);

145 
	`pİÃt_İtiÚs
(
odb
);

146 
	}
}

148 
	$»¶y_¡©i¡ics
(
couÁ”_t
 
»q_time
)

150 if(
sim_cyşe
 - 
»q_time
 < 100)

151 
»q_¥ªd
[
sim_cyşe
-
»q_time
] ++;

152 if(
sim_cyşe
 - 
»q_time
 >=100 && sim_cycle -„eq_time < 120)

153 
»q_¥ªd
[100]++;

154 if(
sim_cyşe
 - 
»q_time
 >=120 && sim_cycle -„eq_time < 140)

155 
»q_¥ªd
[101]++;

156 if(
sim_cyşe
 - 
»q_time
 >=140 && sim_cycle -„eq_time < 160)

157 
»q_¥ªd
[102]++;

158 if(
sim_cyşe
 - 
»q_time
 >=160 && sim_cycle -„eq_time < 180)

159 
»q_¥ªd
[103]++;

160 if(
sim_cyşe
 - 
»q_time
 >=180 && sim_cycle -„eq_time < 200)

161 
»q_¥ªd
[104]++;

162 if(
sim_cyşe
 - 
»q_time
 >= 200 && sim_cycle -„eq_time < 350)

163 
»q_¥ªd
[
sim_cyşe
-
»q_time
-95] ++;

164 if(
sim_cyşe
 - 
»q_time
 >= 350 && sim_cycle -„eq_time < 400)

165 
»q_¥ªd
[255] ++;

166 if(
sim_cyşe
 - 
»q_time
 >= 400 && sim_cycle -„eq_time < 450)

167 
»q_¥ªd
[256] ++;

168 if(
sim_cyşe
 - 
»q_time
 >= 450 && sim_cycle -„eq_time < 550)

169 
»q_¥ªd
[257] ++;

170 if(
sim_cyşe
 - 
»q_time
 >= 550 && sim_cycle -„eq_time < 650)

171 
»q_¥ªd
[258] ++;

172 if(
sim_cyşe
 - 
»q_time
 >= 650 && sim_cycle -„eq_time < 850)

173 
»q_¥ªd
[259] ++;

174 if(
sim_cyşe
 - 
»q_time
 >= 850)

175 
»q_¥ªd
[260] ++;

176 
	}
}

177 
	$ÃtwÜk_check_İtiÚs
()

179 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

181 if(
tÙ®_ch_num
 == 0)

182 
	`çl
("Single chip can‚ot use hybrid‚etwork system!\n");

183 if(
tÙ®_ch_num
 > 
MAXTHREADS
)

184 
	`çl
("number of chipƒxceedhe‚umber ofhreads!\n");

185 if(
MAXTHREADS
 == 16)

187 if(!(
tÙ®_ch_num
 == 2 ||otal_chip_num == 4 ||otal_chip_num == 8))

188 
	`çl
("number of chipƒxceedhe‚umber ofhreads!\n");

190 if(
MAXTHREADS
 == 32)

193 
	`çl
("number of chipƒxceedhe‚umber ofhreads!\n");

195 if(
MAXTHREADS
 == 64)

197 if(!(
tÙ®_ch_num
 == 2 ||otal_chip_num == 4 ||otal_chip_num == 8 ||otal_chip_num == 16 ||otal_chip_num == 32))

198 
	`çl
("number of chipƒxceedhe‚umber ofhreads!\n");

201 
Lše_ch_num
 = 2;

202 
CŞumn_ch_num
 = 
tÙ®_ch_num
/
Lše_ch_num
;

204 
	}
}

207 
	$ChIdCheck
(
a1
, 
a2
)

209 if(
tÙ®_ch_num
 == 0)

210 
	`çl
("Single chip can‚ot use hybrid‚etwork system!\n");

212 
lše_size
 = 
mesh_size
;

213 
cŞumn_size
 = 
mesh_size
 + 2;

215 if(
tÙ®_ch_num
 != 4)

216 
	`·nic
("only hard code for chip‚umber is 4\n");

218 if(
a1
 < 
cŞumn_size
/
CŞumn_ch_num
)

220 if(
a2
 < 
lše_size
/
Lše_ch_num
)

227 if(
a2
 < 
lše_size
/
Lše_ch_num
)

232 
	}
}

237 
	$IDChªgeFÜIÁ¿N‘wÜk
(
¤c1
, 
¤c2
, 
des1
, 
des2
, *
Ãw_¤c1
, *
Ãw_¤c2
, *
Ãw_des1
, *
Ãw_des2
)

239 
ChID_x
 = 
	`ChIdCheck
(
¤c1
, 
¤c2
);

240 
ChID_y
 = 
	`ChIdCheck
(
des1
, 
des2
);

241 
x_¡¬t
 = 0, 
y_¡¬t
 = 
mesh_size
;

242 *
Ãw_¤c1
 = 
x_¡¬t
 + 
ChID_x
/2;

243 *
Ãw_¤c2
 = 
y_¡¬t
 + 
ChID_x
%2;

244 *
Ãw_des1
 = 
x_¡¬t
 + 
ChID_y
/2;

245 *
Ãw_des2
 = 
y_¡¬t
 + 
ChID_y
%2;

247 
	}
}

249 
	$CÚfigCheck
(
¤c1
, 
¤c2
, 
des1
, 
des2
)

251 
¤c_ch
 = 
	`ChIdCheck
(
¤c1
, 
¤c2
);

252 
des_ch
 = 
	`ChIdCheck
(
des1
, 
des2
);

253 if(
¤c_ch
 =ğ
des_ch
)

256 if(!
	`my¡ricmp
(
šŒa_cfg
, "FSOI"))

257  
FSOI_NET_INTRA
;

259  
MESH_NET_INTRA
;

264 if(!
	`my¡ricmp
(
š‹r_cfg
, "FSOI"))

265  
FSOI_NET_INTER
;

267  
MESH_NET_INTER
;

269 
	}
}

270 
	$CombN‘wÜkBufãrS·û
(
¤c1
, 
¤c2
, 
des1
, 
des2
, 
md_addr_t
 
addr
, 
İ”©iÚ
, *
vc
)

272 
İtiÚs
 = -1, 
bufãr_fuÎ
 = 0;

273 
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
;

274 
	`IDChªgeFÜIÁ¿N‘wÜk
(
¤c1
, 
¤c2
, 
des1
, 
des2
, &
Ãw_¤c1
, &
Ãw_¤c2
, &
Ãw_des1
, &
Ãw_des2
);

275 
æag
 = 
	`CÚfigCheck
(
¤c1
, 
¤c2
, 
des1
, 
des2
);

277 if(
æag
 == 0 || flag == 2)

279 if(
æag
 == 2)

281 if(
	`İtiÿlBufãrS·û
(
Ãw_¤c1
, 
Ãw_¤c2
, 
İ”©iÚ
))

282 
bufãr_fuÎ
 = 1;

286 if(
	`İtiÿlBufãrS·û
(
¤c1
, 
¤c2
, 
İ”©iÚ
))

287 
bufãr_fuÎ
 = 1;

292 if(
æag
 == 3)

294 
İtiÚs
 = 
	`Ord”Check
(
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
, 
addr
);

295 *
vc
 = 
	`pİÃtBufãrS·û
(
Ãw_¤c1
, 
Ãw_¤c2
, 
İtiÚs
);

296 if(*
vc
 == -1)

297 
bufãr_fuÎ
 = 1;

301 
İtiÚs
 = 
	`Ord”Check
(
¤c1
, 
¤c2
, 
des1
, 
des2
, 
addr
);

302 *
vc
 = 
	`pİÃtBufãrS·û
(
¤c1
, 
¤c2
, 
İtiÚs
);

303 if(*
vc
 == -1)

304 
bufãr_fuÎ
 = 1;

307  
bufãr_fuÎ
;

308 
	}
}

309 #ifdeà
LOCK_HARD


310 
	$scheduË_ÃtwÜk
(
LOCK_EVENT
 *
ev’t
)

313 
æag
 = 
	`loÿl_acûss_check
(
ev’t
);

314 
ty³
 = 0;

315 if(
ev’t
->
İt
 =ğ
ACQ_REMOTE_ACC
 ||ƒv’t->İˆ=ğ
REL_REMOTE_ACC
)

316 
ty³
 = 
m‘a_·ck‘_size
;

317 
pİÃtMsgNo
++;

318 if(!
æag
 && 
cŞËù_¡©s
)

320 
ev’t
->
wh’
 = 
sim_cyşe
 + 1;

321 
lock_ÃtwÜk_acûss
 ++;

323 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI"))

324 
	`dœeùMsgIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
pİÃtMsgNo
, 0,ƒv’t->
İt
, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,0);

325 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

326 
	`pİÃtMes§geIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
pİÃtMsgNo
, 0,ƒv’t->
İt
, 0);

327 
ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

331 
ev’t
->
wh’
 = 
sim_cyşe
;

332 
ev’t
->
pİÃtMsgNo
 =…opnetMsgNo;

333 
	}
}

334 
	$LockMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
msgNo
)

336 
LOCK_EVENT
 *
ev’t
, *
´ev
;

337 
ev’t
 = 
lock_ev’t_queue
;

338 
´ev
 = 
NULL
;

339 ià(
ev’t
!=
NULL
)

341 
ev’t
)

343 if(
ev’t
->
¤c1
 =ğ
w
 &&ƒv’t->
¤c2
 =ğ
x
 &&ƒv’t->
des1
 =ğ
y
 &&ƒv’t->
des2
 =ğ
z
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

345 
ev’t
->
wh’
 = 
sim_cyşe
;

348 
´ev
 = 
ev’t
;

349 
ev’t
 =ƒv’t->
Ãxt
;

352 
	`·nic
("Error findingƒvent forhe„eturned message from‚etwork");

353 
	}
}

357 
	$tÙ®_Œªsãr_ty³
(
DIRECTORY_EVENT
 *
ev’t
, 
ty³
)

359 
ev’t
->
İ”©iÚ
)

362 
L2_PREFETCH
:

364 
tÙ®_L2_MEM_L2P»ãtch_Req
++;

367 
MEM_READ_REQ
:

369 if(
ev’t
->
cmd
 =ğ
R—d
)

370 
tÙ®_L2_MEM_D©a_Miss_Req
++;

372 
tÙ®_L2_MEM_In¡_Miss_Req
++;

375 
WAIT_MEM_READ
:

376 
WAIT_MEM_READ_N
:

378 if(
ev’t
->
cmd
 =ğ
R—d
)

379 
tÙ®_MEM_L2_D©a_Paylßd
++;

381 
tÙ®_MEM_L2_In¡_Paylßd
++;

384 
MEM_WRITE_BACK
:

386 
tÙ®_L2_MEM_D©a_Paylßd
++;

390 
MISS_IL1
:

392 
tÙ®_L1_L2_In¡_Miss_Req
++;

395 
ACK_DIR_IL1
:

397 
tÙ®_L2_L1_In¡_Paylßd
++;

400 
MISS_READ
:

402 
tÙ®_L1_L2_D©a_R—d_Miss_Req
++;

405 
ACK_DIR_READ_SHARED
:

406 
ACK_DIR_READ_EXCLUSIVE
:

408 
tÙ®_L2_L1_D©a_R—d_Miss_Paylßd
++;

411 
INV_MSG_READ
:

413 
tÙ®_L2_L1_D©a_R—d_Inv®id
++;

416 
ACK_MSG_READ
:

418 
tÙ®_L1_L2_D©a_R—d_Inv®id_Ack
++;

421 
ACK_MSG_READUPDATE
:

423 
tÙ®_L1_L2_D©a_R—d_Inv®id_Paylßd
++;

426 
MISS_WRITE
:

428 
tÙ®_L1_L2_D©a_Wr™e_Miss_Req
++;

431 
ACK_DIR_WRITE
:

433 
tÙ®_L2_L1_D©a_Wr™e_Miss_Paylßd
++;

436 
INV_MSG_WRITE
:

438 if(
ev’t
->
·»Á
->
sh¬”_num
)

439 
tÙ®_L2_L1_D©a_L2»¶aûd_Inv®id
++;

441 
tÙ®_L2_L1_D©a_Wr™e_Inv®id
++;

444 
ACK_MSG_WRITE
:

446 if(
ev’t
->
·»Á
->
sh¬”_num
)

447 
tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Ack
++;

449 
tÙ®_L1_L2_D©a_Wr™e_Inv®id_Ack
++;

452 
ACK_MSG_WRITEUPDATE
:

454 ifĞ
ev’t
->
·»Á
->
sh¬”_num
 )

455 
tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Paylßd
++;

457 
tÙ®_L1_L2_D©a_Wr™e_Inv®id_Paylßd
++;

460 
WRITE_UPDATE
:

462 
tÙ®_L1_L2_D©a_Wr™e_Upd©e
++;

465 
ACK_DIR_WRITEUPDATE
:

467 
tÙ®_L2_L1_D©a_Wr™e_Upd©e_Ack
++;

470 
WRITE_BACK
:

472 
tÙ®_L1_L2_D©a_Wr™eback_Paylßd
++;

475 
NACK
:

477 
tÙ®_TSHR_FuÎ
++;

480 
SHR_TLB_MISS
:

482 
tÙ®_L1_L2_shr_b_miss_Req
++;

485 
SHR_TLB_WRITE_BACK
:

487 
tÙ®_L1_L2_shr_b_wr™e_back_Req
++;

490 
SHR_TLB_SR_RECOVERY
:

492 
tÙ®_L1_L2_shr_b_¤_»cov”y_Req
++;

495 
SHR_TLB_UPDATE_PR_ACK
:

497 
tÙ®_L1_L2_shr_b_upd©e_´_ack_Req
++;

500 
SHR_TLB_UPDATE_PW_ACK
:

502 
tÙ®_L1_L2_shr_b_upd©e_pw_ack_Req
++;

505 
SHR_TLB_RECOVERY_ACK
:

507 
tÙ®_L1_L2_shr_b_»cov”y_ack_Req
++;

510 
DIR_TLB_REFILL
:

512 
tÙ®_L1_L2_dœ_b_»fl_Req
++;

515 
DIR_TLB_UPDATE
:

517 
tÙ®_L1_L2_dœ_b_upd©e_Req
++;

520 
DIR_TLB_RECOVERY
:

522 
tÙ®_L1_L2_dœ_b_»cov”y_Req
++;

525 
DIR_TLB_REFILL_WAIT
:

527 
DIR_TLB_UPDATE_WAIT
:

529 
DIR_TLB_RECOVERY_WAIT
:

532 
DIR_SHR_READ
:

534 
tÙ®_L2_L1_dœ_shr_»ad
++;

537 
ACK_SHR_READ
:

539 
tÙ®_L1_L2_ack_shr_»ad
++;

542 
INFORM_BACK
:

544 
tÙ®_L1_L2_šfÜm_back
++;

549 
	`fæush
(
¡dout
);

550 
	`´štf
("%d\n", 
ev’t
->
İ”©iÚ
);

551 
	`fæush
(
¡dout
);

552 
	`·nic
("the operation is missed, fix it!");

555 
	}
}

558 
	$scheduËThroughN‘wÜk
(
DIRECTORY_EVENT
 *
ev’t
, 
¡¬t
, 
ty³
, 
vc
)

560 if(
ev’t
->
¤c1
 < 0 ||ƒv’t->¤c1 > 16 ||ƒv’t->
¤c2
 < 0 ||ƒv’t->¤c2 > 16 ||ƒv’t->
des1
 < 0 ||ƒv’t->des1 > 16 ||ƒv’t->
des2
 < 0 ||ƒvent->des2 > 16)

561 
	`·nic
("Network: source or destination‡ddresses‡re wrong.");

564 
æag
 = 
	`loÿl_acûss_check
(
ev’t
);

565 
ev’_æag
 = 0;

566 
pİÃtMsgNo
++;

568 if(
ev’t
->
rs
)

569 if(
ev’t
->
rs
->
İ
 =ğ
LDL_L
)

570 
ev’_æag
 = 1;

573 if(
ev’t
->
isSyncAcûss
)

575 if(
ty³
 =ğ
d©a_·ck‘_size
)

576 
d©a_·ck‘s_£ndšg
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
][ev’t->
des1
*(mesh_size+2)+ev’t->
des2
] ++;

579 
m‘a_·ck‘s_£ndšg
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
][ev’t->
des1
*(mesh_size+2)+ev’t->
des2
] ++;

580 if((
ev’t
->
des1
*(
mesh_size
+2)+ev’t->
des2
) % 2== 0)

582 if(
sim_cyşe
 - 
m‘a_·ck‘_dœ
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
][0] <10)

583 
m‘a_ev’_»q_şo£
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
] ++;

584 
m‘a_·ck‘_dœ
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
][0] = 
sim_cyşe
;

588 if(
sim_cyşe
 - 
m‘a_·ck‘_dœ
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
][1] <10)

589 
m‘a_odd_»q_şo£
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
] ++;

590 
m‘a_·ck‘_dœ
[
ev’t
->
¤c1
*(
mesh_size
+2)+ev’t->
¤c2
][1] = 
sim_cyşe
;

595 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI"))

597 if(!
æag
)

599 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

601 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

603 
ev’t
->
šput_bufãr_fuÎ
 = 1;

604 
ev’t
->
wh’
 = 
¡¬t
+
RETRY_TIME
;

605 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

607 
IÅut_queue_fuÎ
 ++;

608 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

614 
	`dœeùMsgIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
,ƒv’t->
addr
,ƒv’t->
İ”©iÚ
,ƒv’t->
d–ay
,ƒv’t->
L2miss_æag
,ƒv’t->
´eãtch_Ãxt
,ƒv’t->
dœty_æag
,ƒv’t->
¬riv®_time
,ƒv’t->
d©a_»¶y
,ƒv’t->
cÚf_b™
, 0, 
ev’_æag
,ƒv’t->
isSyncAcûss
,ƒv’t->
¡Üe_cÚd
);

615 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

618 
ev’t
->
wh’
 = 
¡¬t
;

619 
ev’t
->
pİÃtMsgNo
 =…opnetMsgNo;

621 if(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

623 
	`tÙ®_Œªsãr_ty³
(
ev’t
, 
ty³
);

624 if(!
æag
)

626 
İtiÚs
 = -1;

627 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

628 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

629 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

631 if(
vc
 == -1)

633 
ev’t
->
šput_bufãr_fuÎ
 = 1;

634 
ev’t
->
wh’
 = 
¡¬t
+
RETRY_TIME
;

635 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

637 
IÅut_queue_fuÎ
 ++;

638 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

644 if(
vc
 == -1)

646 if(
İtiÚs
 == -1)

647 
vc
 = 0;

649 
vc
 = 
İtiÚs
;

651 if(
ty³
 =ğ
d©a_·ck‘_size
)

652 
D©aPack‘s_1
 ++;

654 
M‘aPack‘s_1
 ++;

656 #iâdeà
MULTI_VC


657 
vc
 = 0;

659 
	`pİÃtMes§geIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
,ƒv’t->
addr
>>
ÿche_dl2
->
£t_shiá
,ƒv’t->
İ”©iÚ
, 
vc
);

661 #ifdeà
MULTI_VC


663 
	`Ord”BufIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1), 
vc
, 
pİÃtMsgNo
);

665 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

668 
ev’t
->
wh’
 = 
¡¬t
;

669 
ev’t
->
pİÃtMsgNo
 =…opnetMsgNo;

671 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "HYBRID"))

673 if((
	`abs
(
ev’t
->
des1
 -ƒv’t->
¤c1
è+‡bsÓv’t->
des2
 -ƒv’t->
¤c2
)) > 1)

676 if(!
æag
)

678 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

680 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

682 
ev’t
->
šput_bufãr_fuÎ
 = 1;

683 
ev’t
->
wh’
 = 
¡¬t
+
RETRY_TIME
;

684 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

686 
IÅut_queue_fuÎ
 ++;

687 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

693 
	`dœeùMsgIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
,ƒv’t->
addr
,ƒv’t->
İ”©iÚ
,ƒv’t->
d–ay
,ƒv’t->
L2miss_æag
,ƒv’t->
´eãtch_Ãxt
,ƒv’t->
dœty_æag
,ƒv’t->
¬riv®_time
,ƒv’t->
d©a_»¶y
,ƒv’t->
cÚf_b™
, 0, 
ev’_æag
,ƒv’t->
isSyncAcûss
,ƒv’t->
¡Üe_cÚd
);

695 if(
ty³
 =ğ
d©a_·ck‘_size
)

696 
İtiÿl_d©a_·ck‘s
 ++;

698 
İtiÿl_m‘a_·ck‘s
 ++;

699 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

702 
ev’t
->
wh’
 = 
¡¬t
;

703 
ev’t
->
pİÃtMsgNo
 =…opnetMsgNo;

708 if(!
æag
)

710 if(
ty³
 =ğ
d©a_·ck‘_size
)

711 
lšk_£r_Ït
[
ev’t
->
¤c1
*
mesh_size
+ev’t->
¤c2
][ev’t->
des1
*mesh_size+ev’t->
des2
] +ğ
ty³
;

713 
lšk_£r_Ït
[
ev’t
->
¤c1
*
mesh_size
+ev’t->
¤c2
][ev’t->
des1
*mesh_size+ev’t->
des2
] += 1;

715 
ev’t
->
wh’
 = 
¡¬t
 + 
lšk_£r_Ït
[ev’t->
¤c1
*
mesh_size
+ev’t->
¤c2
][ev’t->
des1
*mesh_size+ev’t->
des2
];

716 if(
ty³
 =ğ
d©a_·ck‘_size
)

717 
mesh_d©a_·ck‘s
 ++;

719 
mesh_m‘a_·ck‘s
 ++;

723 
ev’t
->
wh’
 = 
¡¬t
;

724 
ev’t
->
pİÃtMsgNo
 =…opnetMsgNo;

729 if(!
æag
)

731 
Ch_id’tify
 = 
	`CÚfigCheck
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
);

732 if(
Ch_id’tify
 =ğ
FSOI_NET_INTER
 || Ch_id’tify =ğ
FSOI_NET_INTRA
)

735 if(
Ch_id’tify
 =ğ
FSOI_NET_INTER
)

738 
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
;

739 
	`IDChªgeFÜIÁ¿N‘wÜk
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, &
Ãw_¤c1
, &
Ãw_¤c2
, &
Ãw_des1
, &
Ãw_des2
);

740 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

742 if(
	`İtiÿlBufãrS·û
(
Ãw_¤c1
, 
Ãw_¤c2
, 
ev’t
->
İ”©iÚ
))

744 
ev’t
->
šput_bufãr_fuÎ
 = 1;

745 
ev’t
->
wh’
 = 
¡¬t
+1;

746 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

748 
IÅut_queue_fuÎ
 ++;

749 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

755 
	`dœeùMsgIn£¹
(
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
, 
ev’t
->
addr
,ƒv’t->
İ”©iÚ
,ƒv’t->
d–ay
,ƒv’t->
L2miss_æag
,ƒv’t->
´eãtch_Ãxt
,ƒv’t->
dœty_æag
,ƒv’t->
¬riv®_time
,ƒv’t->
d©a_»¶y
,ƒv’t->
cÚf_b™
, 0, 
ev’_æag
,ƒv’t->
isSyncAcûss
,ƒv’t->
¡Üe_cÚd
);

756 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

757 
ev’t
->
Ãw_¤c1
 =‚ew_src1;

758 
ev’t
->
Ãw_¤c2
 =‚ew_src2;

759 
ev’t
->
Ãw_des1
 =‚ew_des1;

760 
ev’t
->
Ãw_des2
 =‚ew_des2;

766 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

768 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

770 
ev’t
->
šput_bufãr_fuÎ
 = 1;

771 
ev’t
->
wh’
 = 
¡¬t
+1;

772 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

774 
IÅut_queue_fuÎ
 ++;

775 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

781 
	`dœeùMsgIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
,ƒv’t->
addr
,ƒv’t->
İ”©iÚ
,ƒv’t->
d–ay
,ƒv’t->
L2miss_æag
,ƒv’t->
´eãtch_Ãxt
,ƒv’t->
dœty_æag
,ƒv’t->
¬riv®_time
,ƒv’t->
d©a_»¶y
,ƒv’t->
cÚf_b™
, 0, 
ev’_æag
,ƒv’t->
isSyncAcûss
,ƒv’t->
¡Üe_cÚd
);

782 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

788 
İtiÚs
 = -1;

789 if(
Ch_id’tify
 =ğ
MESH_NET_INTER
)

792 
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
;

793 
	`IDChªgeFÜIÁ¿N‘wÜk
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, &
Ãw_¤c1
, &
Ãw_¤c2
, &
Ãw_des1
, &
Ãw_des2
);

795 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

796 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

798 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

800 if(
vc
 == -1)

802 
ev’t
->
šput_bufãr_fuÎ
 = 1;

803 
ev’t
->
wh’
 = 
¡¬t
+1;

804 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

806 
IÅut_queue_fuÎ
 ++;

807 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

813 if(
vc
 == -1)

815 if(
İtiÚs
 == -1)

816 
vc
 = 0;

818 
vc
 = 
İtiÚs
;

820 if(
ty³
 =ğ
d©a_·ck‘_size
)

821 
D©aPack‘s_1
 ++;

823 
M‘aPack‘s_1
 ++;

824 #iâdeà
MULTI_VC


825 
vc
 = 0;

827 
	`pİÃtMes§geIn£¹
(
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
, 
ev’t
->
addr
>>
ÿche_dl2
->
£t_shiá
,ƒv’t->
İ”©iÚ
, 
vc
);

828 #ifdeà
MULTI_VC


829 
	`Ord”BufIn£¹
(
Ãw_¤c1
, 
Ãw_¤c2
, 
Ãw_des1
, 
Ãw_des2
, 
ev’t
->
addr
&~(
ÿche_dl1
[0]->
bsize
-1), 
vc
, 
pİÃtMsgNo
);

831 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

832 
ev’t
->
Ãw_¤c1
 =‚ew_src1;

833 
ev’t
->
Ãw_¤c2
 =‚ew_src2;

834 
ev’t
->
Ãw_des1
 =‚ew_des1;

835 
ev’t
->
Ãw_des2
 =‚ew_des2;

841 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

842 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

843 if(
ev’t
->
İ”©iÚ
 =ğ
MISS_IL1
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 )

845 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

846 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

847 if(
vc
 == -1)

849 
ev’t
->
šput_bufãr_fuÎ
 = 1;

850 
ev’t
->
wh’
 = 
¡¬t
+1;

851 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

853 
IÅut_queue_fuÎ
 ++;

854 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

860 if(
vc
 == -1)

862 if(
İtiÚs
 == -1)

863 
vc
 = 0;

865 
vc
 = 
İtiÚs
;

867 if(
ty³
 =ğ
d©a_·ck‘_size
)

868 
D©aPack‘s_1
 ++;

870 
M‘aPack‘s_1
 ++;

871 #iâdeà
MULTI_VC


872 
vc
 = 0;

874 
	`pİÃtMes§geIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
, 
¡¬t
, 
ty³
, 
pİÃtMsgNo
,ƒv’t->
addr
>>
ÿche_dl2
->
£t_shiá
,ƒv’t->
İ”©iÚ
, 
vc
);

875 #ifdeà
MULTI_VC


876 
	`Ord”BufIn£¹
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1), 
vc
, 
pİÃtMsgNo
);

878 
ev’t
->
wh’
 = 
¡¬t
 + 
WAIT_TIME
;

884 
ev’t
->
wh’
 = 
¡¬t
;

885 
ev’t
->
pİÃtMsgNo
 =…opnetMsgNo;

889 if(
ty³
 =ğ
d©a_·ck‘_size
)

891 
TÙ®D©aPack‘sInAÎ
 ++;

892 if(
ev’t
->
isSyncAcûss
)

893 
TÙ®SyncD©aPack‘s
 ++;

897 
TÙ®M‘aPack‘sInAÎ
 ++;

898 if(
ev’t
->
isSyncAcûss
)

899 
TÙ®SyncM‘aPack‘s
 ++;

901 
	}
}

905 
	$MsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
couÁ”_t
 
¡Time
, 
msgNo
, couÁ”_ˆ
Œªsãr_time
, 
d–ay
, couÁ”_ˆ
»q_time
)

908 
DIRECTORY_EVENT
 *
ev’t
, *
´ev
;

909 
ev’t
 = 
dœ_ev’t_queue
;

910 
´ev
 = 
NULL
;

911 ià(
ev’t
!=
NULL
)

913 
ev’t
)

915 
equ®_æag
 = 0;

916 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "COMB"))

918 
Ch_id’tify
 = 
	`CÚfigCheck
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
);

919 if(
Ch_id’tify
 =ğ
FSOI_NET_INTER
)

921 if(
ev’t
->
Ãw_¤c1
 =ğ
w
 &&ƒv’t->
Ãw_¤c2
 =ğ
x
 &&ƒv’t->
Ãw_des1
 =ğ
y
 &&ƒv’t->
Ãw_des2
 =ğ
z
 &&ƒv’t->
¡¬tCyşe
 =ğ
¡Time
 && !ev’t->
´oûssšgDÚe
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

922 
equ®_æag
 = 1;

926 if(
ev’t
->
¤c1
 =ğ
w
 &&ƒv’t->
¤c2
 =ğ
x
 &&ƒv’t->
des1
 =ğ
y
 &&ƒv’t->
des2
 =ğ
z
 &&ƒv’t->
¡¬tCyşe
 =ğ
¡Time
 && !ev’t->
´oûssšgDÚe
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

927 
equ®_æag
 = 1;

932 if(
ev’t
->
¤c1
 =ğ
w
 &&ƒv’t->
¤c2
 =ğ
x
 &&ƒv’t->
des1
 =ğ
y
 &&ƒv’t->
des2
 =ğ
z
 &&ƒv’t->
¡¬tCyşe
 =ğ
¡Time
 && !ev’t->
´oûssšgDÚe
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

933 
equ®_æag
 = 1;

936 if(
equ®_æag
)

938 
DIRECTORY_EVENT
 *
‹mp
 = 
ev’t
->
Ãxt
;

939 
ev’t
->
Ãxt
 = 
NULL
;

940 
»tuº_v®ue
 = 
	`dœ_fifo_’queue
(
ev’t
, 0);

941 if(
»tuº_v®ue
 == 0)

943 
ev’t
->
Ãxt
 = 
‹mp
;

949 
tÙ®O±HİCouÁ
++;

950 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

951 
tÙ®O±HİD–ay
 += 1;

953 
tÙ®O±HİD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬tCyşe
);

954 if(
ev’t
->
¡Üe_cÚd
)

956 
tÙ®O±SyncHİCouÁ
++;

957 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

958 
tÙ®O±SyncHİD–ay
 += 1;

960 
tÙ®O±SyncHİD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬tCyşe
);

964 
tÙ®O±NÜHİCouÁ
++;

965 if(
ev’t
->
İ”©iÚ
 =ğ
ACK_DIR_WRITEUPDATE
)

966 
tÙ®O±NÜHİD–ay
 += 1;

968 
tÙ®O±NÜHİD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬tCyşe
);

972 
ev’t
->
´oûssšgDÚe
 = 1;

973 
ev’t
->
Œªsãr_time
 =ransfer_time;

974 
ev’t
->
d–ay
 = delay;

975 
ev’t
->
»q_time
 = 
sim_cyşe
;

976 
ev’t
->
¬riv®_time
 = 
sim_cyşe
;

978 if(
´ev
 =ğ
NULL
)

979 
dœ_ev’t_queue
 = 
‹mp
;

981 
´ev
->
Ãxt
 = 
‹mp
;

983 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "FSOI") || (!mystricmp(network_type, "HYBRID")))

990 
´ev
 = 
ev’t
;

991 
ev’t
 =ƒv’t->
Ãxt
;

994 
	`·nic
("Error findingƒvent forhe„eturned message from‚etwork");

995 
	}
}

996 
	$pİÃtMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
couÁ”_t
 
¡Time
, 
msgNo
)

999 
DIRECTORY_EVENT
 *
ev’t
, *
´ev
;

1000 
ev’t
 = 
dœ_ev’t_queue
;

1001 
´ev
 = 
NULL
;

1002 ià(
ev’t
!=
NULL
)

1004 
ev’t
)

1006 
equ®_æag
 = 0;

1007 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "COMB"))

1009 
Ch_id’tify
 = 
	`CÚfigCheck
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
);

1010 if(
Ch_id’tify
 =ğ
MESH_NET_INTER
)

1012 if(
ev’t
->
Ãw_¤c1
 =ğ
w
 &&ƒv’t->
Ãw_¤c2
 =ğ
x
 &&ƒv’t->
Ãw_des1
 =ğ
y
 &&ƒv’t->
Ãw_des2
 =ğ
z
 &&ƒv’t->
¡¬tCyşe
 =ğ
¡Time
 && !ev’t->
´oûssšgDÚe
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

1013 
equ®_æag
 = 1;

1017 if(
ev’t
->
¤c1
 =ğ
w
 &&ƒv’t->
¤c2
 =ğ
x
 &&ƒv’t->
des1
 =ğ
y
 &&ƒv’t->
des2
 =ğ
z
 &&ƒv’t->
¡¬tCyşe
 =ğ
¡Time
 && !ev’t->
´oûssšgDÚe
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

1018 
equ®_æag
 = 1;

1023 if(
ev’t
->
¤c1
 =ğ
w
 &&ƒv’t->
¤c2
 =ğ
x
 &&ƒv’t->
des1
 =ğ
y
 &&ƒv’t->
des2
 =ğ
z
 &&ƒv’t->
¡¬tCyşe
 =ğ
¡Time
 && !ev’t->
´oûssšgDÚe
 && 
msgNo
 =ğev’t->
pİÃtMsgNo
)

1024 
equ®_æag
 = 1;

1027 if(
equ®_æag
)

1029 
DIRECTORY_EVENT
 *
‹mp
 = 
ev’t
->
Ãxt
;

1030 if(
	`dœ_fifo_’queue
(
ev’t
, 0) == 0)

1034 #ifdeà
MULTI_VC


1035 
	`Ord”BufRemove
(
w
, 
x
, 
y
, 
z
, 
ev’t
->
addr
&~(
ÿche_dl1
[0]->
bsize
-1), 
msgNo
);

1037 
tÙ®MeshHİCouÁ
++;

1038 
tÙ®MeshHİD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬tCyşe
);

1039 if(
ev’t
->
¡Üe_cÚd
)

1041 
tÙ®MeshSyncHİCouÁ
++;

1042 
tÙ®MeshSyncHİD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬tCyşe
);

1046 
tÙ®MeshNÜHİCouÁ
++;

1047 
tÙ®MeshNÜHİD–ay
 +ğ(
sim_cyşe
 - 
ev’t
->
¡¬tCyşe
);

1049 
ev’t
->
´oûssšgDÚe
 = 1;

1050 if(
´ev
 =ğ
NULL
)

1051 
dœ_ev’t_queue
 = 
‹mp
;

1053 
´ev
->
Ãxt
 = 
‹mp
;

1054 if(
ev’t
->
İ”©iÚ
 =ğ
WRITE_UPDATE
)

1055 
tÙ®N‘Upg¿des
++;

1059 
´ev
 = 
ev’t
;

1060 
ev’t
 =ƒv’t->
Ãxt
;

1063 #ifdeà
LOCK_HARD


1064 if(!
	`LockMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
msgNo
))

1065 
	`·nic
("Error findingƒvent forhe„eturned message from‚etwork");

1067 
	}
}

1068 
	#CACHE_HASH
(
ı
, 
key
è\

	)

1069 (((
	gkey
 >> 24è^ (key >> 16è^ (key >> 8è^ keyè& ((
	gı
)->
	ghsize
-1))

	@network.h

1 #iâdeà
NETWORK_H


2 
	#NETWORK_H


	)

3 
	~<¡dio.h
>

4 
	~"ho¡.h
"

5 
	~"misc.h
"

6 
	~"machše.h
"

7 
	~"¡©s.h
"

8 
	~"smt.h
"

16 
	#FSOI_NET_INTER
 1

	)

17 
	#FSOI_NET_INTRA
 2

	)

18 
	#MESH_NET_INTER
 3

	)

19 
	#MESH_NET_INTRA
 4

	)

22 *
	gÃtwÜk_ty³
;

23 *
	gš‹r_cfg
;

24 *
	gšŒa_cfg
;

25 
	gtÙ®_ch_num
;

26 
	gLše_ch_num
;

27 
	gCŞumn_ch_num
;

28 
	eÃtwÜk_şass
 {

29 
	mFSOI
,

30 
	mMESH
,

31 
	mCOMB
,

32 
	mHYBRID


35 
scheduËThroughN‘wÜk
(
DIRECTORY_EVENT
 *
ev’t
, 
¡¬t
, 
ty³
, 
vc
);

36 
pİÃtMes§geIn£¹
(
s1
, 
s2
, 
d1
, 
d2
, 
sim_cyşe
, 
size
, 
couÁ”_t
 
msgNo
, 
md_addr_t
 
addr
, 
İ”©iÚ
, 
vc
);

39 
EUP_’Œy_š™
(
id
);

40 
EUP_’Œy_»¶aûcheck
(
id
, 
md_addr_t
 
addr
);

41 
EUP_’Œy_check
(
id
, 
md_addr_t
 
addr
);

42 
EUP_’Œy_®loÿ‹
(
id
, 
md_addr_t
 
addr
);

43 
EUP_’Œy_d–loÿ‹
(
id
, 
md_addr_t
 
addr
);

44 
E¬lyUpg¿de
(
DIRECTORY_EVENT
 *
ev’t
);

45 
E¬lyUpg¿‹G’”©e
(
DIRECTORY_EVENT
 *
ev’t
);

	@old_sim-out.c

113 
	~"h—d”s.h
"

115 
	~"maš.h
"

116 
	~"sim-outÜd”.h
"

117 
	~"š¡Mª.h
"

120 
couÁ”_t
 
	gTÙ®B¬r›rs
 = 0;

121 
couÁ”_t
 
	gTÙ®Locks
 = 0;

122 
couÁ”_t
 
	gpu»_num_š¢
 = 0;

123 
couÁ”_t
 
	gtÙ®_num_š¢
 = 0;

124 
couÁ”_t
 
	g»Çme_acûss
 = 0;

125 
couÁ”_t
 
	giq¿m_acûss
 = 0;

126 
couÁ”_t
 
	gfq¿m_acûss
 = 0;

127 
couÁ”_t
 
	grob1_acûss
 = 0;

128 
couÁ”_t
 
	grob2_acûss
 = 0;

129 
couÁ”_t
 
	gb´ed_acûss
 = 0;

130 
couÁ”_t
 
	giwakeup_acûss
 = 0;

131 
couÁ”_t
 
	gfwakeup_acûss
 = 0;

132 
couÁ”_t
 
	gi£ËùiÚ_acûss
 = 0;

133 
couÁ”_t
 
	gf£ËùiÚ_acûss
 = 0;

134 
couÁ”_t
 
	gœegfe_acûss
 = 0;

135 
couÁ”_t
 
	gäegfe_acûss
 = 0;

137 
couÁ”_t
 
	glsq_acûss
 = 0;

138 
couÁ”_t
 
	giÿche_acûss
 = 0;

139 
couÁ”_t
 
	gdÿche_acûss
 = 0;

140 
couÁ”_t
 
	gdÿche2_acûss
 = 0;

141 
couÁ”_t
 
	giÿche2_acûss
 = 0;

143 
couÁ”_t
 
	gŸlu1_acûss
 = 0;

144 
couÁ”_t
 
	gŸlu2_acûss
 = 0;

145 
couÁ”_t
 
	gçlu1_acûss
 = 0;

146 
couÁ”_t
 
	gçlu2_acûss
 = 0;

147 
couÁ”_t
 
	gœesuÉbus_acûss
 = 0;

148 
couÁ”_t
 
	gäesuÉbus_acûss
 = 0;

149 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

150 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

152 
	gpcb_blk_couÁ
 = 0;

155 
couÁ”_t
 
	g¦“pCouÁ
[
MAXTHREADS
];

159 
couÁ”_t
 
	gdu¶iÿtiÚ_acûss
, 
	gDUPLICATION_acûss
[
CLUSTERS
], 
	gdu¶iÿtiÚ_tÙ®
 = 0;

160 
couÁ”_t
 
	gcom·»_acûss
, 
	gCOMPARE_acûss
[
CLUSTERS
], 
	gcom·»_tÙ®
 = 0;

164 
couÁ”_t
 
´ediù_comm™
 (
RUU_¡©iÚ
 *
rs
);

167 
	gb´ed_btb_u£_ma¡”id
 = 0;

168 
šk_run
;

169 
em3d_run
;

171 #ifdeà
DIRECTORY


172 #ifdeà
POPNET


173 
mašPİÃt
();

174 
pİÃtMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
¡Time
, 
msgNo
);

175 
pİÃtBufãrS·û
(
s1
, 
s2
, 
İt
);

177 
couÁ”_t
 
pİÃtMsgNo
;

178 
	gmshr_³ndšg_ev’t
[
MAXTHREADS
];

180 
couÁ”_t
 
	g§me_L1_L2_fifo_fuÎ
;

181 
couÁ”_t
 
	gL1_mshr_fuÎ
;

182 
couÁ”_t
 
	gÏ¡_L1_mshr_fuÎ
[
MAXTHREADS
];

183 
couÁ”_t
 
	gL2_mshr_fuÎ
;

184 
couÁ”_t
 
	gÏ¡_L2_mshr_fuÎ
;

185 
couÁ”_t
 
	gL2_mshr_fuÎ_´eãtch
;

186 
couÁ”_t
 
	gL1_fifo_fuÎ
;

187 
couÁ”_t
 
	gÏ¡_L1_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

188 
couÁ”_t
 
	gDœ_fifo_fuÎ
;

189 
couÁ”_t
 
	gÏ¡_Dœ_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

190 
couÁ”_t
 
	gIÅut_queue_fuÎ
;

191 
couÁ”_t
 
	gÏ¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

192 
couÁ”_t
 
	gOuut_queue_fuÎ
;

194 
couÁ”_t
 
	gSÎ_L1_mshr
;

195 
couÁ”_t
 
	gSÎ_L2_mshr
;

196 
couÁ”_t
 
	gSÎ_L1_fifo
;

197 
couÁ”_t
 
	gSÎ_dœ_fifo
;

198 
couÁ”_t
 
	gSÎ_šput_queue
;

199 
couÁ”_t
 
	gSÎ_ouut_queue
;

201 
couÁ”_t
 
Çck_couÁ”
, 
L1_æ_couÁ”
, 
æ_couÁ”
, 
e_to_m
;

202 
couÁ”_t
 
	gtÙ®MeshHİCouÁ
, 
	gtÙ®MeshHİD–ay
, 
	gtÙ®Ev’tCouÁ
, 
	gtÙ®Ev’tProûssTime
;

203 
couÁ”_t
 
	gtÙ®O±HİCouÁ
, 
	gtÙ®O±HİD–ay
;

204 
tick_t
 
tÙ®misshªdËtime
;

205 
tÙ®ev’tcouÁnum
;

206 
tÙ®_L1_´eãtch
;

207 
tÙ®»qcouÁnum
;

208 
tÙ®misscouÁnum
;

209 
couÁ”_t
 
loÿl_ÿche_acûss
, 
»mÙe_ÿche_acûss
, 
loÿldœeùÜy
, 
»mÙedœeùÜy
;

210 
couÁ”_t
 
švŞve_2_hİs
, 
švŞve_2_hİ_touch
, 
švŞve_2_hİ_wb
, 
švŞve_2_hİs_wm
, 
švŞve_4_hİs_wm
, 
švŞve_2_hİs_upg¿de
, 
švŞve_4_hİs
, 
švŞve_4_hİs_miss
, 
švŞve_2_hİs_miss
, 
švŞve_4_hİs_upg¿de
;

211 
couÁ”_t
 
	gtÙ®S¶™No
, 
	gtÙ®S¶™WM
;

212 
couÁ”_t
 
d©a_´iv©e_wr™e
, 
d©a_´iv©e_»ad
, 
d©a_sh¬ed_wr™e
, 
d©a_sh¬ed_»ad
;

213 
couÁ”_t
 
tÙ®_®l_şo£
, 
tÙ®_®l_®mo¡şo£
, 
tÙ®_nÙ_®l_şo£
, 
tÙ®_p_c_ev’ts
, 
tÙ®_cÚsum”s
, 
tÙ®_·ck‘s_š_ÃighbÜ
, 
tÙ®_·ck‘s_©_cÜÃrs
;

214 
couÁ”_t
 
tÙ®_d©a_cÚsum”s
, 
tÙ®_d©a_şo£
, 
tÙ®_d©a_çr
, 
tÙ®_d©a_©_cÜÃr
;

215 
couÁ”_t
 
sh¬”_num
[
MAXTHREADS
];

216 
av”age_šside_³rûÁ
;

217 
av”age_outside_³rûÁ
;

218 
av”age_outside_abs_³rûÁ
;

219 
av”age_cÜÃr_³rûÁ
;

221 
	gmem_pÜt_Ït
[8];

224 
	#PULL_BACK


	)

226 
	#WATER_NSQUARED
 0

	)

227 
	#LSQ_LATENCY
 4

	)

228 
	#DUP_NO
 2

	)

230 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

231 
	#LSQSIZE
 1024

	)

232 
	#RUUSIZE
 1024

	)

235 
	#_rÙr
(
x
è(xèğ((xè& 1)?(((x)>>1)|0x80000000):((x)>>1)

	)

237 
qu›sûSŒuù
 
	gqu›sûAddrSŒuù
[
CLUSTERS
];

238 
md_addr_t
 
	gTempIn¡r
 = 0x1A2B3C4D;

239 
	gacûss_mem
 = 0;

240 
	gacûss_mem_id
 = -1;

241 
	g¡İ³d_num_th»ads
 = 0;

242 
	gR—dFromWB
 = 0;

243 
couÁ”_t
 
	gÿcheMiss
[
MAXTHREADS
], 
	gh™InOth”Cache
[MAXTHREADS];

244 
couÁ”_t
 
	gm_sqP»ãtchCÁ
 = 0;

245 
	gexecu‹MaxIn¢
;

246 
	gdl2Aùu®lyAcûs£d
, 
	gm¬kedLšeR•Ïûd
;

247 
	gqu›n£Wakeup
[
MAXTHREADS
];

248 
	gsimIn¢
[
MAXTHREADS
];

249 
	gæushImpSts
 = 0;

252 
	gth»adFÜked
[4], 
	g®lFÜked
, 
	g¡ÜeCÚdFa
, 
	gtimeToR‘uº
 = 0;

253 
couÁ”_t
 
	gStÜeCÚd™iÚFaNum
;

254 
	gcŞËùStB¬r›r
, 
	gcŞËùStStİ
[
MAXTHREADS
];

255 
	g»®SimCyşe
;

256 
	gaùu®Proûss
;

257 
	gdi§bË_¿y
 = 1;

258 
	gfu_busy
[
CLUSTERS
], 
	gwb_dÚe
[CLUSTERS], 
	gissue_dÚe
[CLUSTERS], 
	gãtch_dÚe
[CLUSTERS], 
	gcomm™_dÚe
[CLUSTERS], 
	gdi¥©ch_dÚe
[CLUSTERS];

259 
couÁ”_t
 
	gbrRecov”y
[
CLUSTERS
], 
	gexŒaIn¢
[CLUSTERS];

261 #ià 
defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

262 
	g¡®lNoBusSlÙ
;

263 
busSlÙCouÁ
;

264 
	gbusU£d
;

265 
couÁ”_t
 
	gbusOccu·ncy
 = 0;

269 #ifdeà
PULL_BACK


270 
couÁ”_t
 
	gpuÎbackBubbË
[
MAXTHREADS
], 
	gpuÎbackWa™Cyşe
[MAXTHREADS], 
	gpuÎbackDÚeThisCyşe
[MAXTHREADS], 
	gpuÎbackH™P»d
[MAXTHREADS], 
	gdl1MissThisCyşe
[MAXTHREADS], 
	gdl1H™ThisCyşe
[MAXTHREADS], 
	gpuÎbackCyşeCouÁ
[MAXTHREADS],

271 
	gpuÎbackCouÁ
[
MAXTHREADS
];

272 
couÁ”_t
 
	g´edH™H™
[
MAXTHREADS
], 
	g´edH™Miss
[MAXTHREADS], 
	g´edMissH™
[MAXTHREADS], 
	g´edMissMiss
[MAXTHREADS];

275 #ifdeà 
MSHR


276 
	gmshr_size
 = 0;

277 
	gmshr_fuÎ
 = 0;

278 
	gmshr_couÁ
;

280 #ifdeà 
MSHR_DIST


281 
	gmshr_size_di¡
[
MSHRSIZE
];

283 
	gmshr_fuÎ_couÁ
;

285 #ifdeà
EUP_NETWORK


286 
couÁ”_t
 
	gEUP_’Œy_fuÎ
;

290 
	gm_shLQSize
;

291 
	gm_shSQSize
;

292 
couÁ”_t
 
	gm_tÙ®SÎ
[
MAXTHREADS
];

293 
couÁ”_t
 
	gm_sqLQFuÎ
[
MAXTHREADS
];

294 
couÁ”_t
 
	gm_sqSQFuÎ
[
MAXTHREADS
];

295 
couÁ”_t
 
	gm_RUUFuÎ
[
MAXTHREADS
];

296 
couÁ”_t
 
	gm_»gFuÎ
[
MAXTHREADS
];

297 
couÁ”_t
 
	gm_issueFuÎ
[
MAXTHREADS
];

298 
couÁ”_t
 
	gm_1Miss
[
MAXTHREADS
];

299 
couÁ”_t
 
	gm_ãtchEm±y
[
MAXTHREADS
];

300 
couÁ”_t
 
	gm_STLC
[
MAXTHREADS
];

301 
couÁ”_t
 
	gm_Œ­
[
MAXTHREADS
];

302 
couÁ”_t
 
	gm_LßdMiss
[
MAXTHREADS
];

303 
couÁ”_t
 
	gm_StÜeMiss
[
MAXTHREADS
];

305 
couÁ”_t
 
	gm_comm™SÎ
[
MAXTHREADS
];

307 
couÁ”_t
 
	gšv®id©iÚ_»¶ay
[
MAXTHREADS
];

308 
couÁ”_t
 
	glßdLßdR•ÏyCouÁ
[
MAXTHREADS
];

309 
	gšv®id©iÚSÎ
[
MAXTHREADS
], 
	gšv®id©eOth”Cache
;

310 
	gcomm™SÎ
[
MAXTHREADS
];

313 
checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
);

314 
couÁ”_t
 
	glßdRejeùR•Ïy
[
MAXTHREADS
], 
	glßdRejeùCouÁ
[MAXTHREADS], 
	glßdRejeùSt
[MAXTHREADS], 
	gm_sqNumLdR•Ïy
[MAXTHREADS], 
	g»¶ayIndex
[MAXTHREADS];

315 
	g»jeùR‘ryCyşe
 = 3;

316 
couÁ”_t
 
	gldIssueCouÁ
, 
	gld¡RejeùiÚCouÁ
[
MAXTHREADS
];

318 
	g£qCÚsR•Ïy
[
MAXTHREADS
], 
	g£qCÚsIn¢R•Ïy
[MAXTHREADS];

319 
couÁ”_t
 
	gtÙ®RUUsize
[
MAXTHREADS
], 
	gtÙ®LQsize
[MAXTHREADS], 
	gtÙ®SQsize
[MAXTHREADS];

320 
	gavgRUUsize
[
MAXTHREADS
], 
	gavgLQsize
[MAXTHREADS], 
	gavgSQsize
[MAXTHREADS];

322 
m_maxth»ads
;

323 
numTh»ads
[
MAXTHREADS
];

324 
	gcŞËù_¡©s
 = 0;

325 
	gCOHERENT_CACHE
;

326 
	gMSI
;

327 
	g¥ec_b’chm¬ks
;

328 
couÁ”_t
 
num_of_šv®id©iÚs
;

330 
	gcŞËù_b¬r›r_¡©s
[
CLUSTERS
];

331 
	gcŞËù_lock_¡©s
[
CLUSTERS
];

332 
	gä“zeCouÁ”
;

333 
	g¡İsim
;

334 
	gç¡fwd
;

337 
	goc_Ü_cc_acûss
 = 2;

338 #ifdef 
EDA


340 
ÿche_t
 *
	gÿche_dl0
[
THREADS_PER_JOB
];

342 
couÁ”_t
 
	g»cov”yCouÁ
[8];

343 
couÁ”_t
 
	gnumBCQEm±y
[8];

346 
couÁ”_t
 
	gš‹rv®CouÁ
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

347 
couÁ”_t
 
	gtÙ®R–CE
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

348 
couÁ”_t
 
	gnÚSktIn¢
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

349 
couÁ”_t
 
	gnumSyncIn¡
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

350 
couÁ”_t
 
	gpu»_sync_š¢
 = 0;

351 
couÁ”_t
 
	gpu»_skt_š¢
 = 0;

354 
	$dl0_ş—nup
 ()

356 
i
;

358 
i
 = 0; i < 
numcÚ‹xts
; i++)

360 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
i
];

361 
jobId
 = 
cu¼’t
->
jobThdId
;

363 ià(
cu¼’t
->
ma¡”id
 != 0)

366 ià(
cu¼’t
->
sim_num_š¢
 > 
š‹rv®CouÁ
[
jobId
])

368 
	`æushS–eùive
 (
ÿche_dl0
[
jobId
], jobId);

369 
š‹rv®CouÁ
[
jobId
] +ğ
DL0_CLEAUP_INTERVAL
;

372 
	}
}

375 
Üaşe_¡Üe_queue
 
	gOSQ
[8][
OSQ_size
];

376 
	gOSQ_num
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

377 
	gOSQ_h—d
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

380 
	$fšdOSQ
 (
md_addr_t
 
addr
, 
width
, 
id
)

382 
i
, 
j
;

384 
i
 = (
OSQ_h—d
[
id
] + 
OSQ_size
 - 1è% OSQ_size, 
j
 = 
OSQ_num
[id]; j > 0; j--, i = (i + OSQ_size - 1) % OSQ_size)

386 
bigWidth
 = 
OSQ
[
id
][
i
].
memWidth
 > 
width
 ? OSQ[id][i].memWidth : width;

387 
md_addr_t
 
lAddr
 = 
addr
 & ~(
bigWidth
 - 1);

388 
md_addr_t
 
osqAddr
 = 
OSQ
[
id
][
i
].
memAddr
 & ~(
bigWidth
 - 1);

390 ià(
osqAddr
 =ğ
lAddr
)

391  
i
;

394 
	}
}

396 #ifdeà 
DECOUPLED_PREFETCH


397 
md_addr_t
 
	g´efQueue
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

398 
md_addr_t
 
	g´efQueue_pc
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

399 
couÁ”_t
 
	g´efQueue_š¡Num
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

400 
	g´efQueue_isWrÚgP©h
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

401 
	g´efQueue_h—d
[
MAXTHREADS
] = 0;

402 
	g´efQueue_
[
MAXTHREADS
] = 0;

403 
	g´efQueue_size
[
MAXTHREADS
] = 0;

404 
	gmemMissC­
 = 0;

405 
couÁ”_t
 
	gtÙ®P»fMissL©’cy
 = 0;

406 
	g´efMissCouÁ
 = 0;

407 
couÁ”_t
 
	gdeıP»fSÎCouÁ
 = 0;

408 
md_addr_t
 
	gÏ¡P»fAddr
 = 0;

414 
	gBRANCH_Q_NUM
;

415 
	gCHECKER_NUMBER
 = 0;

416 
	gPCB_BLK_SIZE
 = 128;

417 
	gINORDER_CHECKER
 = 0;

418 
	gOUTSTANDING_STORE_NUM
 = 128;

419 
	gcheck”VDD
, 
	gcheck”F»q
;

422 
g‘_ä“_»g
 (, );

423 
comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
);

424 
com¶‘eWr™e
 ();

425 
š™P¬®ËlSimuÏtiÚ
 ();

426 
com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
);

427 
com¶‘eStÜe_l
 (
th»adid
, 
md_addr_t
 
addr
, 
width
);

429 
md_çuÉ_ty³
 
WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
);

432 
£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
);

433 
fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
);

437 
li¡–t
 *
	giä“li¡_h—d
[
MAXTHREADS
], *
	giä“li¡_
[MAXTHREADS];

438 
li¡–t
 *
	gfä“li¡_h—d
[
MAXTHREADS
], *
	gfä“li¡_
[MAXTHREADS];

454 
	ghÙ¥Ù_cyşe_§m¶šg_štvl
;

457 
	gmax_š¡s
;

458 
	gmax_b¬r›r
;

461 
	g±¿û_ÃÉ
 = 0;

462 *
	g±¿û_İts
[2];

465 
	gruu_ifq_size
;

468 
	gruu_b¿nch_³ÇÉy
;

471 
	gãtch_¥“d
;

475 *
	g´ed_ty³
;

481 *
	g´ed_ty³2
;

485 cÚ¡ 
	gcombšed2
 = 
FALSE
;

489 cÚ¡ 
	ghi¡_imm
 = 
FALSE
;

497 
	gbimod_ÃÉ
 = 1;

498 
	gbimod_cÚfig
[1] = { 2048 };

501 
	gtwŞev_ÃÉ
 = 4;

502 
	gtwŞev_cÚfig
[4] = { 1, 1024, 8, 
FALSE
 };

505 
	gcomb_ÃÉ
 = 1;

506 
	gcomb_cÚfig
[1] = { 1024 };

509 
	gtwobcgskew_ÃÉ
 = 6;

510 
	gtwobcgskew_cÚfig
[6] = { 32768, 32768, 0, 22,

517 
	gtwobcgskew_ÃÉ2
 = 6;

518 
	gtwobcgskew_cÚfig2
[6] = { 4096, 4096, 0, 12,

524 
	g¿s_size
 = 8;

527 
	gbtb_ÃÉ
 = 2;

528 
	gbtb_cÚfig
[2] = { 512, 4 };

531 
	gruu_decode_width
;

532 
	gruu_issue_width
;

536 
	gruu_šÜd”_issue
;

539 
	gruu_šşude_¥ec
 = 
TRUE
;

542 
	gruu_comm™_width
;

545 
	gRUU_size
 = 
RUUSIZE
;

548 
	gLSQ_size
 = 
LSQSIZE
;

550 
	gLSQ_size_şu¡”
;

552 #ifdef 
EDA


554 *
	gÿche_dl0_İt
;

557 
	gÿche_dl0_Ït
;

561 *
	gÿche_dl1_İt
;

564 
	gÿche_dl1_Ït
;

567 *
	gÿche_dl2_İt
;

570 
	gÿche_dl2_Ït
;

572 *
	gÿche_1_İt
;

575 
	gÿche_1_Ït
;

578 *
	gÿche_2_İt
;

581 
	gÿche_2_Ït
;

584 
	gæush_Ú_sysÿÎs
;

587 
	gcom´ess_iÿche_addrs
;

590 
	gmem_ÃÉ
 = 2;

591 
	gmem_Ït
[2] = { 18, 2 };

594 
	gmem_bus_width
;

595 
	gmem_bus_¥“d
;

596 
	gmem_pÜt_num
;

599 *
	g™lb_İt
;

602 *
	gdb_İt
;

605 
	gb_miss_Ït
;

608 
	gÃtwÜk_»ûiv”
;

609 
	gÃtwÜk_cÚæiù
;

612 
	g»s_Ÿlu
 = 0;

615 
	g»s_imuÉ
 = 0;

617 #ifdeà
PORT_PER_BANK


619 
	g»s_membªk
 = 0;

622 
	g»s_mem_pÜt_bªk
 = 0;

624 
	g»s_membªk_şu¡”
;

629 
	g»s_mempÜt
 = 0;

632 
	g»s_å®u
 = 0;

635 
	g»s_åmuÉ
 = 0;

638 
	g»s_Ÿlu_şu¡”
 = 0;

639 
	g»s_imuÉ_şu¡”
 = 0;

640 
	g»s_å®u_şu¡”
 = 0;

641 
	g»s_åmuÉ_şu¡”
 = 0;

644 
	gd©a_width
 = 64;

647 
pow”_»suÉ_ty³
 
pow”
;

651 
	gaùivecÚ‹xts
;

653 
	gth»ad_ãtch
 = 
THREADFETCHLIMIT
;

654 
	gš¡_th»ad_ãtch
 = 
FETCHLIMIT
;

655 
	gth»ad_comm™
 = 0;

657 
	#ICACHEBANKS
 8

	)

659 
	gibªk
 = 0;

662 
	g´iÜ™y¦Ù
 = 0;

663 
	g´iÜ™y
[
MAXTHREADS
];

666 
	gkey
[
MAXTHREADS
];

669 #ifdeà 
PWR_CLUSTER


670 
couÁ”_t
 
	giq¿m_acûss_ş
[
CLUSTERS
];

671 
couÁ”_t
 
	gfq¿m_acûss_ş
[
CLUSTERS
];

672 
couÁ”_t
 
	giwakeup_acûss_ş
[
CLUSTERS
];

673 
couÁ”_t
 
	gfwakeup_acûss_ş
[
CLUSTERS
];

674 
couÁ”_t
 
	gi£ËùiÚ_acûss_ş
[
CLUSTERS
];

675 
couÁ”_t
 
	gf£ËùiÚ_acûss_ş
[
CLUSTERS
];

676 
couÁ”_t
 
	gœegfe_acûss_ş
[
CLUSTERS
];

677 
couÁ”_t
 
	gäegfe_acûss_ş
[
CLUSTERS
];

678 
couÁ”_t
 
	gŸlu1_acûss_ş
[
CLUSTERS
];

679 
couÁ”_t
 
	gŸlu2_acûss_ş
[
CLUSTERS
];

680 
couÁ”_t
 
	gçlu1_acûss_ş
[
CLUSTERS
];

681 
couÁ”_t
 
	gçlu2_acûss_ş
[
CLUSTERS
];

682 
couÁ”_t
 
	gœesuÉbus_acûss_ş
[
CLUSTERS
];

683 
couÁ”_t
 
	gäesuÉbus_acûss_ş
[
CLUSTERS
];

686 
couÁ”_t
 
	glsq_¡Üe_d©a_acûss
 = 0;

688 #ifdeà
DE_CENTRALIZED_POWER_BUG


689 
couÁ”_t
 
	glsq_´eg_acûss_ş
[
LSQ_PARTS
];

690 
couÁ”_t
 
	glsq_wakeup_acûss_ş
[
LSQ_PARTS
];

691 
couÁ”_t
 
	glsq_acûss_ş
[
LSQ_PARTS
];

692 
	gexŒa_lsq
 = 0;

693 
	gexŒa_lsq_couÁ
 = 0;

694 
	gdi¥_¡Üe_¡®l
 = 0;

696 
couÁ”_t
 
	glsq_acûss
 = 0;

697 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

698 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

701 #ifdeà
RES1_FULL_MASK


702 
	giq_ş_fuÎ_mask
;

703 
	gfq_ş_fuÎ_mask
;

704 
	gœeg_ş_fuÎ_mask
;

705 
	gäeg_ş_fuÎ_mask
;

706 
	g»s1_ş_thrd_mask
[
MAXTHREADS
];

709 
couÁ”_t
 
	glsq_tÙ®_pİ_couÁ_cyşe
 = 0;

710 
couÁ”_t
 
	glsq_num_pİ_couÁ_cyşe
 = 0;

711 
couÁ”_t
 
	gœegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

712 
couÁ”_t
 
	gœegfe_num_pİ_couÁ_cyşe
 = 0;

713 
couÁ”_t
 
	gäegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

714 
couÁ”_t
 
	gäegfe_num_pİ_couÁ_cyşe
 = 0;

715 
couÁ”_t
 
	gœesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

716 
couÁ”_t
 
	gœesuÉbus_num_pİ_couÁ_cyşe
 = 0;

717 
couÁ”_t
 
	gäesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

718 
couÁ”_t
 
	gäesuÉbus_num_pİ_couÁ_cyşe
 = 0;

720 #ifdeà
PROCESS_MODEL


721 
	gLa¡Sh¬edAdd»ss
;

722 
	gLa¡Sh¬edSize
;

727 
	#MAX_PCSTAT_VARS
 8

	)

728 
	gpc¡©_ÃÉ
 = 0;

729 *
	gpc¡©_v¬s
[
MAX_PCSTAT_VARS
];

732 #ifdeà
TARGET_PISA


733 
	#IACOMPRESS
(
A
è\

	)

734 (
	gcom´ess_iÿche_addrs
 ? ((((
	gA
è- 
	gcu¼’t
->
	gld_‹xt_ba£
è>> 1è+ cu¼’t->ld_‹xt_ba£è: (
A
))

735 
	#ISCOMPRESS
(
SZ
è\

	)

736 (
com´ess_iÿche_addrs
 ? ((
SZ
) >> 1) : (SZ))

738 
	#IACOMPRESS
(
A
è(A)

	)

739 
	#ISCOMPRESS
(
SZ
è(SZ)

	)

742 
bugcom·t_mode
;

749 
	#FU_IALU_INDEX
 0

	)

750 
	#FU_IMULT_INDEX
 1

	)

751 
	#FU_MEMPORT_INDEX
 2

	)

752 
	#FU_FPALU_INDEX
 3

	)

753 
	#FU_FPMULT_INDEX
 4

	)

756 
»s_desc
 
	gfu_cÚfig
[] = {

764 {
IÁALU
, 1, 1}

774 #ià
defšed
(
MULT_DOES_ADD
)

775 {
IÁALU
, 1, 1},

777 {
IÁMULT
, 3, 1},

778 {
IÁDIV
, 20, 19}

788 {
RdPÜt
, 2, 1},

789 {
WrPÜt
, 2, 1}

799 {
FlßtADD
, 2, 1},

800 {
FlßtCMP
, 2, 1},

801 {
FlßtCVT
, 2, 1}

811 {
FlßtMULT
, 4, 1},

812 {
FlßtDIV
, 12, 12},

813 {
FlßtSQRT
, 24, 24}

821 
	#PRED_BR_CHANGES
 0

	)

822 
	#PRED_JR_CHANGES
 0

	)

823 
	#DYNAMIC_CHANGE
 0

	)

824 
	#METRIC_CHANGE
 0

	)

825 
	#LINEAR_PHASE
 0

	)

827 #ifdeà
ALLOW_ANY_CLUSTER


828 
	#SMALLEST_CONFIG
 
CLUSTERS


	)

830 
	#SMALLEST_CONFIG
 4

	)

832 
	gaùu®_şu¡”s
 = 
CLUSTERS
;

837 #ifdeà
PORT_PER_BANK


838 
	gCACHEPORTS
;

839 
	gRES_CACHEPORTS
;

840 
RES_CACHE_PORTS
;

841 
	gaùu®_ÿch•Üts
;

843 
	gaùu®_ÿch•Üts
;

846 #ifdeà 
CENTRALIZED_STEER


847 
	gdi¥©ch_şu¡”
 = 0;

849 #ifdeà
DISPATCH_CLUSTER


850 
	gdi¥©ch_ş
[
CLUSTERS
];

855 #ifdeà
N_WAY_STEER


856 #iâdeà
FIXED_N_WAY


858 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

862 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

864 
	g¡“r_şu¡”_thrd
[
MAXTHREADS
][
CLUSTERS
];

865 
	gabs_¡“r
 = 0;

866 
¡“r_š™
 ();

868 #ifdeà 
CLUSTER_PRIORITY


869 
	g´iÜ™y_ş_thrd
[
MAXTHREADS
][
CLUSTERS
];

871 #ifdeà 
THRD_PROFILE


872 #ifdeà
mix_8_f


873 
	gn_lim™_thrd
[] = { 8, 8, 8, 8, 8, 4, 2, 2 };

875 #ifdeà
mix_8_i


876 
	gn_lim™_thrd
[] = { 8, 8, 8, 2, 4, 2, 2, 4 };

878 #ifdeà
mix_8_if


879 
	gn_lim™_thrd
[] = { 2, 2, 2, 4, 8, 8, 8, 8 };

881 #ifdeà
mix_8_m


882 
	gn_lim™_thrd
[] = { 2, 2, 2, 2, 8, 8, 8, 8 };

884 #ifdeà
mix_4_i


885 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

887 #ifdeà
mix_4_f


888 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

890 #ifdeà
mix1_4_m


891 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

893 #ifdeà
mix2_4_m


894 
	gn_lim™_thrd
[] = { 2, 2, 8, 8 };

897 
	gn_lim™_thrd
[
MAXTHREADS
];

899 #ifdeà 
CMC_START_N_WAY


900 
	gn_¡¬t_cmc
[
MAXTHREADS
];

901 
	gn_¡¬t_thrd_cmc
[
MAXTHREADS
];

903 
	gn_¡¬t_thrd
[
MAXTHREADS
];

904 
	gÃighbÜ_lim™_thrd
[
MAXTHREADS
];

906 #ifdeà 
N_WAY_ADAPT


907 
	gcŞd_¡¬t
 = 1;

908 
	gc_Şd
[
MAXTHREADS
];

909 
	gn_lim™_thrd_Şd
[
MAXTHREADS
];

910 
	gsim_num_š¢_Şd
[
MAXTHREADS
];

911 
upd©e_n_lim™
 ();

913 #ifdeà
THRD_PRIO_ADAPT


914 
´iÜ™y_n_way
 ();

916 #ifdeà
ADAPT_LIMIT


917 
	gad­t_lim™_thrd
[
MAXTHREADS
];

920 #ifdeà
PDG_THRD_ADAPT


921 
pdg_thrd_n_way
 ();

923 #ifdeà
PDG_THRD_PRIO_ADAPT


924 
pdg_´iÜ™y_n_way
 ();

926 #ifdeà
COMM_OPER_LIMIT


927 #ifdeà
AVG_LIMIT


928 
	gavg_high_lim™
 = 
CLUSTERS
;

929 
	gavg_high_lim™_couÁ
 = 0;

931 
	ghigh_lim™_thrd
[
MAXTHREADS
];

932 
	ghigh_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

933 
	ghigh_lim™_di¡
[
CLUSTERS
 + 1];

936 #ifdeà
PDG_ADAPT


937 
pdg_n_way
 ();

939 
	gn_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

940 
	gn_lim™_di¡
[
CLUSTERS
 + 1];

943 #ifdeà 
CLUSTER_PRIORITY


945 
	g´iÜ™y_ş
[
CLUSTERS
];

948 #ifdeà 
PRIORITY_STEER


950 
	g´iÜ™y_ş
[
CLUSTERS
];

952 #ifdeà 
COMMUNICATION_STEER


953 #ifdeà
OPER_COMM_RATIO


954 
	gş_thrd
[
MAXTHREADS
][
CLUSTERS
];

955 
	gş_num
[
MAXTHREADS
];

959 #ifdeà 
THRD_WAY_CACHE


960 
	gn_ÿche_¡¬t_thrd
[
MAXTHREADS
];

961 
	gn_ÿche_lim™_thrd
[
MAXTHREADS
];

963 #ifdeà
N_WAY_CACHE_ADAPT


964 #ifdeà
PER_THREAD


965 
	gov”®l_n_ÿche_lim™
;

966 
	g¡¬t_up
;

967 
	gÿche_dl1_mis£s_Şd
[
MAXTHREADS
];

968 
	gÿche_dl1_h™s_Şd
[
MAXTHREADS
];

969 
	gÿche_dl1_miss_¿‹_Şd
[
MAXTHREADS
];

970 
	gn_ÿche_lim™_Şd
[
MAXTHREADS
];

971 
	gn_ÿche_lim™_di¡
[
MAXTHREADS
][32];

972 
	gn_ÿche_lim™_couÁ
;

974 #ifdeà 
MEM_REF_PER


975 
	gÿche_miss_¡abË_thrd
[
MAXTHREADS
];

978 
	gov”®l_n_ÿche_lim™
;

979 
	g¡¬t_up
 = 1;

980 
	gÿche_dl1_mis£s_Şd
;

981 
	gÿche_dl1_h™s_Şd
;

982 
	gÿche_dl1_miss_¿‹_Şd
;

983 
	gn_ÿche_lim™_Şd
;

984 
	gn_ÿche_lim™_di¡
[32];

985 
	gn_ÿche_lim™_couÁ
;

987 #ifdeà 
MEM_REF


988 
	gÿche_miss_¡abË
;

994 #ifdeà 
MEM_REF_STAT


995 
	gmem_»f_thrd
[
MAXTHREADS
];

996 
	gmem_»f
;

999 #ifdeà
CMP_STEER


1000 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1003 #ifdeà
N_WAY_STEER


1004 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1007 
	gabs_»s_¡“r
 = 0;

1008 
	gnum_¡“r
 = 0;

1010 
	gšt_di¡±h»sh
 = (è(
MIN_INSN_INT
 / 6);

1011 
	gdi¡±abË
[
ITABLESIZE
];

1012 
g_id_t
 
	gdi¡±abËgid
[
ITABLESIZE
];

1013 
	gdi¡pcouÁ”
[
ITABLESIZE
];

1014 
	gdi¡p§m¶es
[
ITABLESIZE
];

1015 
	gdi¡pcouÁ
 = 0;

1016 
	gšt_di¡p
 = 0;

1018 
	gsk³d_br
 = 0;

1019 
	gdi¡p
 = 0;

1020 
	gdi¡p_v®id
 = 0;

1022 
	gš¢16
 = 0;

1023 
	gš¢4
 = 0;

1025 
	gš¢_š‹rv®
 = 
MIN_INSN_INT
;

1026 
	gh_»gs
[
NUM_H_REGS
];

1028 
	gnum_£Á
 = 0;

1029 
	gnum_Œs
 = 1;

1030 
	gÏ¡şu¡”
 = 0;

1031 
	gš¡£qnum
 = 0;

1033 
	g¹h»sh
;

1034 
	gb¹h»sh
;

1035 
	gm¡h»sh
;

1036 
	gim¡h»sh
;

1037 
	gcyùh»sh
;

1038 
	gºoi£
;

1039 
	gbºoi£
;

1040 
	gm¢oi£
;

1041 
	gim¢oi£
;

1043 
	g»gd–ay
 = 0;

1044 
	g»gŒªs
 = 0;

1045 
	gtÙ®Ït
 = 0;

1046 
	gtÙlds
 = 0;

1048 
	gæushes
 = 0;

1049 
	gnum_æushes
 = 0;

1050 
	gä“_şu¡”
 = 0;

1063 
	#CYCNOISE
 10

	)

1064 
	#NUMCYCTHRESH
 5

	)

1066 
	#STATINT
 
MIN_INSN_INT


	)

1068 
	gIIQ_size
 = 
IQSIZE
;

1069 
	gFIQ_size
 = 
FQSIZE
;

1070 
	gIPREG_size
 = 
IPREGSIZE
;

1071 
	gFPREG_size
 = 
FPREGSIZE
;

1073 
	gIIQ_size_şu¡”
;

1074 
	gFIQ_size_şu¡”
;

1075 
	gIPREG_size_şu¡”
;

1076 
	gFPREG_size_şu¡”
;

1079 #ifdeà
RAW


1080 
	g¿wq_size
 = 
RAWSIZE
;

1082 #ifdeà 
COMM_BUFF


1083 
	gtimewšdow
 = 
TIMEWINDOW
;

1086 
	gnÚ_ü™
 = 0;

1087 
	gü™
 = 0;

1088 
	gb2_cÜr
 = 0;

1089 
	gb2_šcÜr
 = 0;

1090 
	gb2_miss
 = 0;

1091 
	gb_cÜr
 = 0;

1092 
	gb_šcÜr
 = 0;

1093 
	gb_miss
 = 0;

1094 
	gbË_gs
[
MAXTHREADS
][
TABLESIZE
];

1095 
	gbË_num
[
MAXTHREADS
][
TABLESIZE
];

1096 
	gbË2_gs
[
MAXTHREADS
][
TABLE2SIZE
];

1097 
	gbË2_num
[
MAXTHREADS
][
TABLE2SIZE
];

1100 
	#DEV_PERIOD
 10

	)

1102 
	#DEDICATED_ADDER
 0

	)

1104 
	#DED_ADDER_LAT_DIFF
 0

	)

1106 
	gadd_®u
 = 0;

1107 
	gnÚadd_®u
 = 0;

1109 
	#PERFECT
 0

	)

1110 
	#PERFECTLAT
 1

	)

1111 
	gnÙw¬m
 = 1;

1112 
	gcyşecheck
;

1116 #ifdeà
RAW


1117 
	g¿wq
;

1118 
	g¿wq_ş
[
CLUSTERS
];

1119 
	g¿wq»ady
 = 0;

1120 
	g¿wq»ady_ş
[
CLUSTERS
];

1121 
	g¿wq_fuÎ
 = 0;

1122 
	g¿wq_¡®l
 = 0;

1124 
	giissueq
;

1125 
	gfissueq
;

1127 #ifdeà
PWR_WAKE


1128 
	gœ—dy
 = 0;

1129 
	gä—dy
 = 0;

1130 
	glsq»ady
 = 0;

1131 
	giuÄ—dy
 = 0;

1132 
	gfuÄ—dy
 = 0;

1133 
	glsquÄ—dy
 = 0;

1134 
	gIREADY_couÁ
 = 0;

1135 
	gFREADY_couÁ
 = 0;

1136 
	gLSQREADY_couÁ
 = 0;

1137 
	gœ—dy_ş
[
CLUSTERS
];

1138 
	gä—dy_ş
[
CLUSTERS
];

1139 
	glsq»ady_ş
[
CLUSTERS
];

1140 
	giuÄ—dy_ş
[
CLUSTERS
];

1141 
	gfuÄ—dy_ş
[
CLUSTERS
];

1144 #ifdeà 
SPLIT_LSQ


1145 
	glsq_ş
[
LSQ_PARTS
];

1146 
	glsquÄ—dy_ş
[
CLUSTERS
];

1151 #ifdeà 
PARTITIONED_LSQ


1152 
	glsq_·¹_bªk
;

1153 
	glsq_·¹_ş
 = 
CLUSTERS
 / 
LSQ_PARTS
;

1154 
	glsq_·¹_thrd
;

1157 
	gœegfe
;

1158 
	gäegfe
;

1159 
	gœegfe_ş
[
CLUSTERS
];

1160 
	g›xŒa_ş
[
CLUSTERS
];

1161 
	gäegfe_ş
[
CLUSTERS
];

1162 
	gãxŒa_ş
[
CLUSTERS
];

1163 
	giissueq_ş
[
CLUSTERS
];

1164 
	gfissueq_ş
[
CLUSTERS
];

1165 
	gnum_¡Üeq
[
CLUSTERS
];

1166 
	gmax_¡Üeq
[
CLUSTERS
];

1167 
	gdi¥_d–ay
 = 0;

1169 
	gšchk
 = 0;

1170 
	gšchk2
 = 0;

1171 
	gšchk3
 = 0;

1172 
couÁ”_t
 
	gšpchk
 = 0;

1173 
	gcycchk
 = 0;

1174 
	gcycchk2
 = 0;

1175 
	gcycchk3
 = 0;

1176 
	gbrchk
 = 0;

1177 
	g»fchk
 = 0;

1178 
	gš¢chk±
 = 0;

1179 
	gcyşechk±
 = 0;

1180 
	gbrchk±
 = 0;

1181 
	g»fchk±
 = 0;

1182 
	gimischk±
 = 0;

1183 
	gmischk±
 = 0;

1184 
	gd–chk±
 = 0;

1185 
	gÜigš®_bsize
 = 0;

1186 
	gÿche_dl1_£t_shiá
 = 0;

1187 
	gpha£
 = 
SMALLEST_CONFIG
;

1188 
	gcyşe_couÁ
[
NUMPHASES
 + 1];

1189 
	g¡abË_couÁ
 = 0;

1190 
	g¡İ_ex¶
 = 0;

1192 
	g›xŒa
;

1193 
	gãxŒa
;

1194 
	giv®id
;

1195 
	gfv®id
;

1197 
	gtÙ_œeg
 = 0;

1198 
	gtÙ_äeg
 = 0;

1199 
	gtÙ_›xt
 = 0;

1200 
	gtÙ_ãxt
 = 0;

1201 
	gtÙ_šÚdup
 = 0;

1202 
	gtÙ_âÚdup
 = 0;

1204 
	gcomm_d–ay
 = 0;

1205 
	gnum_sšgË
 = 0;

1206 
	giss_¡®l
 = 0;

1207 
	gã_¡®l
 = 0;

1208 
	gn_»ady
 = 0;

1209 
	gnum_£mi_f
 = 0;

1210 
	gnum_qw¡®l
 = 0;

1211 
	gš_this
 = 0;

1212 
	gnum_ä“d
 = 0;

1213 
	gtÙ_d–
 = 0;

1214 
	gtÙ_d–_bw
 = 0;

1215 
	gnum_bw_of
 = 0;

1216 
	g¼obš
 = 0;

1218 
	gmš_addr
 = 5600000000ULL;

1219 
	gmax_addr
 = 0;

1221 
	g¡ddev
 = 0;

1222 
	gbª0
 = 0;

1223 
	gbª1
 = 0;

1224 
	gbª2
 = 0;

1225 
	gbª3
 = 0;

1226 
	gbš_acc_tÙ
 = 0;

1227 
	gbš_mis_tÙ
 = 0;

1228 
	gbš_acc
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1229 
	gbš_lds
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1230 
	gbš_tŞ
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1231 
	gbš_mis
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1242 
	gaddr0
, 
	gaddr1
, 
	gaddr2
;

1244 
	#HIST
 4

	)

1245 
	gnum_issued
 = 0;

1246 
	giss_¿‹
[
HIST
];

1247 
	gissue_¿‹
 = 0;

1248 
	gtŞ
[4][3];

1249 
	gtŞ0
 = 0;

1250 
	gtŞ1
 = 0;

1251 
	gtŞ2
 = 0;

1252 
	gtÙ_tŞ
 = 0;

1253 
	gtÙ_tŞ0
 = 0;

1254 
	gtÙ_tŞ1
 = 0;

1255 
	gtÙ_tŞ2
 = 0;

1256 
	gtÙ_tŞ3
 = 0;

1257 
	gbªk_cÚf
 = 0;

1258 
	g¡_bªk_cÚf
 = 0;

1260 #ifdeà
PORT_PER_BANK


1261 
	gmiss_num
[
MAXCACHEPORTS
];

1262 
	g»f_num
[
MAXCACHEPORTS
];

1264 
	gmiss_num
[
CACHEPORTS
];

1265 
	g»f_num
[
CACHEPORTS
];

1267 
	g»f_N
;

1269 
	gdi¥_time
[
MD_TOTAL_REGS
];

1270 
	gliãtime1
 = 0;

1271 
	gliãtime2
 = 0;

1272 
	gwa™time1
 = 0;

1273 
	gwa™time2
 = 0;

1274 
	gcÚswa™time1
 = 0;

1275 
	gcÚswa™time2
 = 0;

1276 
	gnum1
 = 0;

1277 
	gnum2
 = 0;

1278 
	gnum11
 = 0;

1279 
	gnum22
 = 0;

1280 
	ghi¡o
[122];

1282 
	gdi¥_¡®ls
 = 0;

1283 
	gÿu£1
 = 0;

1284 
	gÿu£2
 = 0;

1285 
	gÿu£3
 = 0;

1286 
	gÿu£4
 = 0;

1287 
	gÿu£5
 = 0;

1290 
	gIISSUEQ_couÁ
 = 0;

1291 
	gIISSUEQ_fcouÁ
 = 0;

1292 
	gFISSUEQ_couÁ
 = 0;

1293 
	gFISSUEQ_fcouÁ
 = 0;

1294 
	gIPREG_couÁ
 = 0;

1295 
	gIexŒa_couÁ
 = 0;

1296 
	gIPREG_fcouÁ
 = 0;

1297 
	gFPREG_couÁ
 = 0;

1298 
	gFexŒa_couÁ
 = 0;

1299 
	gFPREG_fcouÁ
 = 0;

1301 
	gœegfe_ş_couÁ
[
CLUSTERS
];

1302 
	g›xŒa_ş_couÁ
[
CLUSTERS
];

1303 
	gäegfe_ş_couÁ
[
CLUSTERS
];

1304 
	gãxŒa_ş_couÁ
[
CLUSTERS
];

1305 
	giissueq_ş_couÁ
[
CLUSTERS
];

1306 
	gfissueq_ş_couÁ
[
CLUSTERS
];

1308 #ifdeà 
SPLIT_LSQ


1309 
	glsq_ş_couÁ
[
LSQ_PARTS
];

1312 
	gno_di¥_şu¡”
 = 0;

1313 
	gdi¥_di¡
[
TOTALFETCHLIMIT
 + 1];

1315 #ifdeà
RAW


1316 
	g¿wq_couÁ
 = 0;

1317 
	g¿wq_fcouÁ
 = 0;

1318 
	g¿wq_ş_couÁ
[
CLUSTERS
];

1319 
	g¿wq_di¡
[
RAWSIZE
 / 
CLUSTERS
];

1322 
	#P_TOTAL_REGS
 
IPREGSIZE
+
FPREGSIZE
+1

	)

1329 
	gp_tÙ®_»gs
 = 
P_TOTAL_REGS
;

1331 #ifdeà
RABMAP


1332 
	gš¡_u£_exŒa
[
P_TOTAL_REGS
];

1333 
	gÉİm­_exŒa
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1334 
	gÉİm­_´eg
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1337 
	gshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1338 
	g¥ecshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1339 
	gshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1340 
	g¥ecshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1341 
	gshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1342 
	g¥ecshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1343 
	gshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1344 
	g¥ecshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1345 
	gshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1346 
	g¥ecshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1347 
	gËv2´ed1
[
LEV2SIZE
];

1348 
	gËv2´ed2
[
LEV2SIZE
];

1349 
	gËv2´ed3
[
LEV2SIZE
];

1350 
	gËv2´ed4
[
LEV2SIZE
];

1351 
	gËv2´ed5
[
LEV2SIZE
];

1353 
	gbªk_´ed_cÜr
 = 0;

1354 
	gbªk_´ed_wrÚg
 = 0;

1355 
	gac_bªk_´ed_cÜr
 = 0;

1356 
	gac_bªk_´ed_wrÚg
 = 0;

1358 #ifdeà
CACHE_MISS_STAT


1359 
	g¥ec_rdb_miss
 = 0;

1360 
	g¥ec_wrb_miss
 = 0;

1361 
	gcouÁ_”rÜ
 = 0;

1365 
pow”_·¿m‘”_cİy
 ();

1367 
bš_š™
 ();

1368 
ÿche_š™
 ();

1369 
p_š™
 ();

1370 
bªk´ed_š™
 ();

1371 
»g_š™
 ();

1372 
ÿche_chªge_cÚfig
 ();

1373 
ršg_ä“
 ();

1374 
ÿche_upd©e
 ();

1375 
compu‹_queue
 ();

1376 
»g_couÁ
 ();

1377 
b´ed_š™
 ();

1380 
sim¶e_ÿche_æush
 (
ÿche_t
 *);

1381 
şu¡”_check
 (
md_addr_t
);

1382 
bªk_upd©e
 (
md_addr_t
, , );

1383 
¡_ršg_Ït
 (
RUU_¡©iÚ
 *);

1384 
ršg_Ït
 (, , , );

1385 
cİy_äom
 ();

1386 
ä“li¡_š£¹
 (, );

1387 
check_RUU_LSQ_m©ch
 ();

1388 
check_»g
 ();

1389 
pow”_ş—r
 ();

1390 
sim_cyc
 ();

1391 
ÿlcuÏ‹_´iÜ™y
 ();

1392 
š£¹_flq
 (, 
md_addr_t
);

1394 #ifdeà
CYCLE_JUMP


1395 
cyşe_jump
 ();

1396 
ršg_ä“_jump
 ();

1398 
g’”®_¡©
 ();

1400 #ifdeà
EVENT_CACHE_UPDATE


1401 
mshr_š™
 ();

1409 
couÁ”_t
 
	gsim_tÙ®_š¢
 = 0;

1412 
couÁ”_t
 
	gsim_num_»fs
 = 0;

1415 
couÁ”_t
 
	gsim_tÙ®_»fs
 = 0;

1418 
couÁ”_t
 
	gsim_num_lßds
 = 0;

1421 
couÁ”_t
 
	gsim_tÙ®_lßds
 = 0;

1424 
couÁ”_t
 
	gsim_num_b¿nches
 = 0;

1427 
couÁ”_t
 
	gsim_tÙ®_b¿nches
 = 0;

1429 #ifdeà
TG


1430 
couÁ”_t
 
	gtg_¿‹
;

1431 
couÁ”_t
 
	gtÙ®_·ck‘s_g’”©iÚ
;

1432 
couÁ”_t
 
	gtÙ®_»ad_·ck‘s_g’”©iÚ
;

1433 
couÁ”_t
 
	gtÙ®_wr™e_·ck‘s_g’”©iÚ
;

1436 
couÁ”_t
 
	gsim_cyşe
 = 0;

1437 
couÁ”_t
 
	gglob®_d©a_·ck‘s_g’”©iÚ
 = 0;

1438 
couÁ”_t
 
	gM‘aPack‘s_1
;

1439 
couÁ”_t
 
	gD©aPack‘s_1
;

1440 
couÁ”_t
 
	gw¬mupEndCyşe
 = 0;

1442 
couÁ”_t
 
	g·¿Î–_sim_cyşe
 = 1;

1443 
	gdi¥2
, 
	gdi¥1
;

1446 
couÁ”_t
 
	gIFQ_couÁ
;

1447 
couÁ”_t
 
	gIFQ_fcouÁ
;

1448 
couÁ”_t
 
	gRUU_couÁ
;

1449 
couÁ”_t
 
	gRUU_fcouÁ
;

1450 
couÁ”_t
 
	gLSQ_couÁ
;

1451 
couÁ”_t
 
	gLSQ_fcouÁ
;

1453 
couÁ”_t
 
	gpæ2H™
 = 0;

1454 
couÁ”_t
 
	gpæ2SecMiss
 = 0;

1455 
couÁ”_t
 
	gpæ2PrimMiss
 = 0;

1457 #ifdeà 
COUNT_LSQ


1458 
	gnÚ_issue_LSQ_couÁ
;

1459 
	gnÚ_issue_LSQ_fcouÁ
;

1463 
couÁ”_t
 
	gsim_šv®id_addrs
;

1470 
	g±¿û_£q
 = 0;

1478 
	g´ed_³rãù
 = 
FALSE
;

1481 *
	gb´ed_¥ec_İt
;

1483 { 
	m¥ec_ID
, 
	m¥ec_WB
, 
	m¥ec_CT
 } 
	gb´ed_¥ec_upd©e
;

1486 
ÿche_t
 *
	gÿche_1
[
CLUSTERS
];

1489 
ÿche_t
 *
	gÿche_2
;

1492 
ÿche_t
 *
	gÿche_dl1
[
CLUSTERS
];

1495 
ÿche_t
 *
	gÿche_dl2
;

1498 
ÿche_t
 *
	g™lb
[
CLUSTERS
];

1501 
ÿche_t
 *
	gdb
[
CLUSTERS
];

1506 #ifdeà
LOAD_PREDICTOR


1508 
b´ed_t
 *
	gld´ed
;

1509 
	gld´ed_¥ec_upd©e
 = 0;

1510 
	gld´ed_couÁ
 = 0, 
	gld´ed_h™
 = 0;

1511 
	gov”_miss
 = 0, 
	gund”_miss
 = 0;

1512 
	gÿche_miss
;

1513 
	gld_miss_thrd
[
MAXTHREADS
];

1515 #ifdeà
PDG


1516 
	gnum_pdg
 = 0;

1517 
	gpdg_di¡
[
MAXTHREADS
 + 1];

1522 
»s_poŞ
 *
	gfu_poŞ
 = 
NULL
;

1525 
¡©_¡©_t
 *
	gpc¡©_¡©s
[
MAX_PCSTAT_VARS
];

1526 
couÁ”_t
 
	gpc¡©_Ï¡v®s
[
MAX_PCSTAT_VARS
];

1527 
¡©_¡©_t
 *
	gpc¡©_sdi¡s
[
MAX_PCSTAT_VARS
];

1531 
	#STATVAL
(
STAT
è\

	)

1532 ((
	gSTAT
)->
	gsc
 =ğ
sc_št
 \

1533 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_št
.
v¬
) \

1534 : ((
STAT
)->
sc
 =ğ
sc_ušt
 \

1535 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_ušt
.
v¬
) \

1536 : ((
STAT
)->
sc
 =ğ
sc_couÁ”
 \

1537 ? *((
STAT
)->
v¬ŸÁ
.
fÜ_couÁ”
.
v¬
) \

1538 : (
·nic
("bad stat class"), 0))))

1540 
	gClu¡”SŒuù
[
CLUSTERS
][CLUSTERS];

1541 
ThrdAcûssP©‹º
[
MAXTHREADS
][
CLUSTERS
];

1542 
FILE
 *
outFe
;

1543 
³riodic_ad­tiÚ
 ();

1545 
	g¡İ_ãtch
 = 0;

1546 
	gÏ¡SimCyşe
 = 0;

1549 
	g¡¬tTakšgSti¡ics
 = 0;

1551 
	#PERFECTBANKPREDICTOR
 1

	)

1554 
	$š™Clu¡”Info
 ()

1556 
i
, 
l
;

1558 
i
 = 0; i < 
CLUSTERS
; i++)

1559 
l
 = 0;† < 
CLUSTERS
;†++)

1560 
Clu¡”SŒuù
[
i
][
l
] = -1;

1562 
	}
}

1564 
	gHavePrš‹d
 = 0;

1567 
	$PrštClu¡”Info
 ()

1569 
gg
, 
¼
;

1571 
¼
 = 0;„¸< 
CLUSTERS
;„r++)

1573 
	`´štf
 ("\n");

1574 
gg
 = 0; gg < 
CLUSTERS
; gg++)

1575 
	`´štf
 ("%d", 
Clu¡”SŒuù
[
¼
][
gg
]);

1577 
	}
}

1582 
	$mem_acûss_Ï‹ncy
 (
blk_sz
)

1584 #ifdeà
MEM_MOD


1585 
chunks
 = (
ÿche_dl1
[0]->
bsize
)*
mem_pÜt_num
/ 
mem_bus_width
;

1587 
chunks
 = (
blk_sz
 + (
mem_bus_width
 - 1)) / mem_bus_width;

1590 
	`as£¹
 (
chunks
 > 0);

1592  ( 
mem_Ït
[0] +

1593 Ğ (()5/
mem_bus_¥“d
è* (
chunks
 - 1)));

1595 
	}
}

1597 #ifdeà
L2_COMM_LAT


1598 
	#L2_COMM_LAT_LOCATION
(
baddr
è(badd¸& (
CLUSTERS
 - 1))

	)

1605 #ifdef 
EDA


1608 
	$dl0_acûss_â
 (
mem_cmd
 
cmd
,

1609 
md_addr_t
 
baddr
,

1610 
bsize
,

1611 
ÿche_blk_t
 *
blk
,

1612 
tick_t
 
now
,

1613 
th»adid
)

1615 
Ït
;

1617 ià(
ÿche_dl1
[
th»adid
])

1619 
oc_Ü_cc_acûss
 = 1;

1620 
by‹_t
 *
l0ÿche_lše
 = 
	`ÿÎoc
 (
bsize
,  (byte_t));

1622 
	`ÿcheBcİy
 (
R—d
, 
blk
, 0, 
l0ÿche_lše
, 
bsize
);

1624 #ifdeà 
LDTH_USEONLY_L2


1626 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl2
, 
cmd
, (
baddr
 & ~(
bsize
 - 1)), 
l0ÿche_lše
, bsize,

1627  
now
, 
NULL
, NULL, 
th»adid
);

1628 
l1H™FÏg
 = 0;

1631 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
cmd
, (
baddr
 & ~(
bsize
 - 1)), 
l0ÿche_lše
, bsize,

1632  
now
, 
NULL
, NULL, 
th»adid
);

1634 
	`ÿcheBcİy
 (
Wr™e
, 
blk
, 0, 
l0ÿche_lše
, 
bsize
);

1635 
	`ä“
 (
l0ÿche_lše
);

1637 
oc_Ü_cc_acûss
 = 2;

1639 #ifdeà 
HIGHER_LDTH_L1LAT


1640 
Ït
 +ğ
LDTH_L1LAT
;

1642 ià(
cmd
 =ğ
R—d
)

1643  
Ït
;

1649 ià(
cmd
 =ğ
R—d
)

1650  
	`mem_acûss_Ï‹ncy
 (
bsize
);

1654 
	}
}

1657 
RUU_¡©iÚ
 *
	grsCacheAcûss
 = 
NULL
;

1658 
FILE
 *
	gå_Œaû
;

1661 
dl1_acûss_â
 (
mem_cmd
 
cmd
,

1662 
md_addr_t
 
baddr
,

1663 
bsize
,

1664 
ÿche_blk_t
 *
blk
,

1665 
tick_t
 
now
,

1666 
th»adid


1667 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1668 , 
şu¡”


1672 
	gÏt
;

1673 
	gwhich_th»ad
, 
	gi
;

1674 
	gæag
 = 0;

1675 
	gwhich_th»ad
 = 
th»adid
;

1677 #ifdeà 
STREAM_PREFETCHER


1679 
Ïunch_¥
 (
baddr
, 
th»adid
);

1682 ià(
	gÿche_dl2
)

1686 #ifdeà
DIRECTORY


1687 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, NULL, 
which_th»ad
);

1689 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, 
which_th»ad
);

1692 
	gdÿche2_acûss
++;

1693 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1694 ià(
	gcmd
 =ğ
R—d
)

1695  
Ït
;

1702 ià(
	gcmd
 =ğ
R—d
)

1703  
mem_acûss_Ï‹ncy
 (
bsize
);

1709 
dl2_´eãtch_aùive
;

1713 
dl2_acûss_â
 (
mem_cmd
 
cmd
,

1714 
md_addr_t
 
baddr
,

1715 
bsize
,

1716 
ÿche_blk_t
 *
blk
,

1717 
tick_t
 
now
,

1718 
th»adid


1719 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1720 , 
şu¡”


1724 #ifdeà 
STREAM_PREFETCHER


1726 ià(!
	gdl2_´eãtch_aùive
)

1728 
š£¹_¥
 (
baddr
, 
th»adid
);

1732 
	gÏt
;

1737 #ifdeà
MEM_MOD


1738 
	g¤c
, 
	gpÜt_num
, 
	gx
, 
	gy
;

1739 
	g¤c
 = (
baddr
 >> 
ÿche_dl2
->
£t_shiá
è% 
MAXTHREADS
;

1740 
	gx
 = (
¤c
 /
MESH_SIZE
);

1741 
	gy
 = (
¤c
 %
MESH_SIZE
);

1742 
	gpÜt_num
 = (
x
/(
MESH_SIZE
/2))*2+
y
/(MESH_SIZE/(
mem_pÜt_num
/2));

1743 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

1744 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()5/
mem_bus_¥“d
);

1746 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
);

1748  
	gÏt
;

1756 
1_acûss_â
 (
mem_cmd
 
cmd
,

1757 
md_addr_t
 
baddr
,

1758 
bsize
,

1759 
ÿche_blk_t
 *
blk
,

1760 
tick_t
 
now
,

1761 
th»adid


1762 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1763 , 
şu¡”


1767 
	gÏt
 = 0;

1768 
	gm©chnum
 = 0;

1770 ià(
	gÿche_2
)

1773 
	gÏt
 = 
ÿche_acûss
 (
ÿche_2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL,

1774 #ifdeà
DIRECTORY


1775  
NULL
,

1777 
th»adid
 
IF_L2_COMM_LAT_CL
 (
şu¡”
));

1779 
	gdÿche2_acûss
++;

1780 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1782 ià(
	gcmd
 =ğ
R—d
)

1783  
Ït
;

1785 
·nic
 ("writeso instruction memory‚ot supported");

1790 ià(
	gcmd
 =ğ
R—d
)

1791  
mem_acûss_Ï‹ncy
 (
bsize
);

1793 
·nic
 ("writeso instruction memory‚ot supported");

1795  
	gÏt
;

1800 
2_acûss_â
 (
mem_cmd
 
cmd
,

1801 
md_addr_t
 
baddr
,

1802 
bsize
,

1803 
ÿche_blk_t
 *
blk
,

1804 
tick_t
 
now
,

1805 
th»adid


1806 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1807 , 
şu¡”


1813 
	gÏt
 = 0;

1814 ià(
	gcmd
 =ğ
R—d
)

1816 #ifdeà
MEM_MOD


1817 
¤c
, 
pÜt_num
, 
x
, 
y
;

1818 
	g¤c
 = (
baddr
 >> 
ÿche_dl2
->
£t_shiá
è% 
MAXTHREADS
;

1819 
	gx
 = (
¤c
 /
MESH_SIZE
);

1820 
	gy
 = (
¤c
 %
MESH_SIZE
);

1821 
	gpÜt_num
 = (
x
/(
MESH_SIZE
/2))*2+
y
/(MESH_SIZE/(
mem_pÜt_num
/2));

1822 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

1823 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()5/
mem_bus_¥“d
);

1824  
	gÏt
;

1826  
mem_acûss_Ï‹ncy
 (
bsize
);

1830 
·nic
 ("writeso instruction memory‚ot supported");

1841 
™lb_acûss_â
 (
mem_cmd
 
cmd
,

1842 
md_addr_t
 
baddr
,

1843 
bsize
,

1844 
ÿche_blk_t
 *
blk
,

1845 
tick_t
 
now
,

1846 
th»adid


1847 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1848 , 
şu¡”


1852 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

1855 
as£¹
 (
phy_·ge_±r
);

1858 *
	gphy_·ge_±r
 = 0;

1861  
	gb_miss_Ït
;

1866 
db_acûss_â
 (
mem_cmd
 
cmd
,

1867 
md_addr_t
 
baddr
,

1868 
bsize
,

1869 
ÿche_blk_t
 *
blk
,

1870 
tick_t
 
now
,

1871 
th»adid


1872 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1873 , 
şu¡”


1877 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

1880 
as£¹
 (
phy_·ge_±r
);

1883 *
	gphy_·ge_±r
 = 0;

1886  
	gb_miss_Ït
;

1892 
	$sim_»g_İtiÚs
 (
İt_odb_t
 *
odb
)

1894 
	`İt_»g_h—d”
 (
odb
,

1899 
	`İt_»g_ušt
 (
odb
, "-max:š¡", "maximum‚umb” oàš¡' tØexecu‹/th»ad", (*è(&
max_š¡s
), 0,

1900  
TRUE
, 
NULL
);

1903 
	`İt_»g_ušt
 (
odb
, "-max:b¬r›r", "maximum‚umb” oàb¬r›r tØexecu‹", (*è(&
max_b¬r›r
), 0,

1904  
TRUE
, 
NULL
);

1907 
	`İt_»g_¡ršg_li¡
 (
odb
, "-±¿û", "g’”©p‘¿û, i.e., <âame|¡dout|¡d”r> <¿nge>", 
±¿û_İts
, 2, &
±¿û_ÃÉ
, 
NULL
,

1908  
FALSE
, 
NULL
, FALSE);

1911 
	`İt_»g_nÙe
 (
odb
, "####### Network configuration #######\n");

1912 #ifdeà
OPTICAL_INTERCONNECT


1913 
	`İt_»g_nÙe
 (
odb
, "Optical interconnect\n");

1915 #ifdeà
POPNET


1916 
	`İt_»g_nÙe
 (
odb
, "Popnet interconnect\n");

1918 #ifdeà
CONF_BIT


1919 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation\n");

1921 #ifdeà
INV_ACK_CON


1922 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation for Invalidation\n");

1924 #ifdeà
WB_SPLIT


1925 
	`İt_»g_nÙe
 (
odb
, "Write back split\n");

1927 #ifdeà
WB_SPLIT_NET


1928 
	`İt_»g_nÙe
 (
odb
, "Write back split in‚etwork†evel\n");

1930 #ifdeà
PSEUDO_SCHEDULE


1931 
	`İt_»g_nÙe
 (
odb
, "Inorder…robability-based scheduling (IRD)\n");

1933 #ifdeà
PSEUDO_SCHEDULE_REORDER


1934 
	`İt_»g_nÙe
 (
odb
, "Reorder…robability-based scheduling (RRD)\n");

1936 #ifdeà
PSEUDO_SCHEDULE_DATA


1937 
	`İt_»g_nÙe
 (
odb
, "Intelligent delay (IDD)\n");

1939 #ifdeà
L1_L2_CONF


1940 
	`İt_»g_nÙe
 (
odb
, "L1‡nd L2„eply conflict„esolution\n");

1942 #ifdeà
ORDER_NODE


1943 
	`İt_»g_nÙe
 (
odb
, "Ordering by‚ode\n");

1945 #ifdeà
ORDER_ADDR


1946 
	`İt_»g_nÙe
 (
odb
, "Ordering by‡ddr\n");

1948 
	`İt_»g_nÙe
 (
odb
, "######‚etwork configurationƒnd ######\n");

1950 
	`İt_»g_nÙe
 (
odb
,

1966 
	`İt_»g_št
 (
odb
, "-ãtch:ifqsize", "š¡ruùiÚ f‘ch queusiz(š in¡s)", &
ruu_ifq_size
, 16,

1967  
TRUE
, 
NULL
);

1969 
	`İt_»g_št
 (
odb
, "-ãtch:m¶©", "exŒ¨b¿nch mis-´ediùiÚ†©’cy", &
ruu_b¿nch_³ÇÉy
, 7,

1970  
TRUE
, 
NULL
);

1972 
	`İt_»g_št
 (
odb
, "-ãtch:¥“d", "¥“d oàäÚt-’d oàmachš»ÏtivtØexecutiÚ cÜe", &
ãtch_¥“d
, 1,

1973  
TRUE
, 
NULL
);

1977 
	`İt_»g_nÙe
 (
odb
,

1988 
	`İt_»g_¡ršg
 (
odb
, "-b´ed", "b¿nch…»diùÜy³ {nÙk’|k’|³rãù|bimod|2Ëv|comb|2bcgskew}", &
´ed_ty³
, "comb",

1989  
TRUE
, 
NULL
);

1991 
	`İt_»g_æag
 (
odb
, "-b´ed:btb_u£_ma¡”id", "u£ ma¡”id iÀ¶aû oàth»adid wh’ iÁ”aùšg w™h BTB, givšg you…”-´oûs š¡—d oà³r-th»adƒÁr›s", &
b´ed_btb_u£_ma¡”id
, 
TRUE
,

1992  
TRUE
, 
NULL
);

1994 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:bimod", "bimod®…»diùÜ cÚfig (<bË size>)", 
bimod_cÚfig
, 
bimod_ÃÉ
, &bimod_nelt,

1995  
bimod_cÚfig
,

1996  
TRUE
, 
NULL
, 
FALSE
);

1998 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2Ëv", "2-Ëv–…»diùÜ cÚfig " "(<l1size> <l2size> <hi¡_size> <xÜ>)", 
twŞev_cÚfig
, 
twŞev_ÃÉ
, &twolev_nelt,

1999  
twŞev_cÚfig
,

2000  
TRUE
, 
NULL
, 
FALSE
);

2002 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:comb", "combššg…»diùÜ cÚfig (<m‘a_bË_size>)", 
comb_cÚfig
, 
comb_ÃÉ
, &comb_nelt,

2003  
comb_cÚfig
,

2004  
TRUE
, 
NULL
, 
FALSE
);

2007 
	`İt_»g_št
 (
odb
, "-di¥1", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 1", &
di¥1
, 0,

2008  
TRUE
, 
NULL
);

2011 
	`İt_»g_št
 (
odb
, "-di¥2", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 2", &
di¥2
, 0,

2012  
TRUE
, 
NULL
);

2015 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2bcgskew", "2Bc-gskew…»diùÜ cÚfig (<bim_size> <size> <bim_hi¡_size> <g0_hi¡_size> <g1_hi¡_size> <m‘a_hi¡_size>)", 
twobcgskew_cÚfig
, 
twobcgskew_ÃÉ
, &twobcgskew_nelt,

2016  
twobcgskew_cÚfig
,

2017  
TRUE
, 
NULL
, 
FALSE
);

2021 
	`İt_»g_št_li¡
 (
odb
, "-b´ed2:2bcgskew", "2Bc-gskew…»diùÜ2 cÚfig (<bim_size> <size> <bim_hi¡_size> <g0_hi¡_size> <g1_hi¡_size> <m‘a_hi¡_size>)", 
twobcgskew_cÚfig2
, 
twobcgskew_ÃÉ2
, &twobcgskew_nelt2,

2022  
twobcgskew_cÚfig2
,

2023  
TRUE
, 
NULL
, 
FALSE
);

2026 
	`İt_»g_št
 (
odb
, "-b´ed:¿s", "»tuº‡dd»s ¡ack siz(0 fÜ‚Ø»tuº sck)", &
¿s_size
,„as_size,

2027  
TRUE
, 
NULL
);

2029 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:btb", "BTB cÚfig (<num_£ts> <assocŸtiv™y>)", 
btb_cÚfig
, 
btb_ÃÉ
, &btb_nelt,

2030  
btb_cÚfig
,

2031  
TRUE
, 
NULL
, 
FALSE
);

2033 
	`İt_»g_¡ršg
 (
odb
, "-b´ed:¥ec_upd©e", "¥ecuÏtiv´ediùÜ upd©š {ID|WB} (deçuÉ‚Ú-¥ec)", &
b´ed_¥ec_İt
, 
NULL
,

2034  
TRUE
, 
NULL
);

2038 
	`İt_»g_št
 (
odb
, "-combšed2", "u£ 2 combšed…»diùÜs?", &
combšed2
, 
FALSE
,

2039  
TRUE
, 
NULL
);

2041 
	`İt_»g_št
 (
odb
, "-hi¡_imm", "upd©b¿nch hi¡Üy immedŸ‹ly?", &
hi¡_imm
, 
FALSE
,

2042  
TRUE
, 
NULL
);

2046 
	`İt_»g_št
 (
odb
, "-decode:width", "š¡ruùiÚ decodB/W (š¡s/cyşe)", &
ruu_decode_width
, 5,

2047  
TRUE
, 
NULL
);

2049 #iâdeà
REMOVE_MY_CODE


2051 
	`İt_»g_št
 (
odb
, "-thrdf:lim™", "Numb” oàth»ad f‘ch (thrd/cyşe<=8)", &
th»ad_ãtch
, 
THREADFETCHLIMIT
,

2052  
TRUE
, 
NULL
);

2054 
	`İt_»g_št
 (
odb
, "-š¡thrdf:width", "š¡ruùiÚ f‘ch B/w…”h»ad (š¡s/cyşe<=decode_width)", &
š¡_th»ad_ãtch
, 8,

2055  
TRUE
, 
NULL
);

2058 
	`İt_»g_št
 (
odb
, "-»gf:size", "š‹g”…hysiÿÈ»gi¡” fsizÕ” clu¡”)", &
IPREG_size_şu¡”
, 80,

2059  
TRUE
, 
NULL
);

2061 
	`İt_»g_št
 (
odb
, "-å»gf:size", "æßtšg…ošˆphysiÿÈ»gi¡” fsizÕ” clu¡”)", &
FPREG_size_şu¡”
, 80,

2062  
TRUE
, 
NULL
);

2064 
	`İt_»g_št
 (
odb
, "-iqueue:size", "š‹g” queusiz(š¡sèÕ” clu¡”)", &
IIQ_size_şu¡”
, 32,

2065  
TRUE
, 
NULL
);

2067 
	`İt_»g_št
 (
odb
, "-fqueue:size", "æßtšg…ošˆqueusiz(š¡sèÕ” clu¡”)", &
FIQ_size_şu¡”
, 32,

2068  
TRUE
, 
NULL
);

2070 #ifdeà
RAW


2071 
	`İt_»g_št
 (
odb
, "-¿wqueue:size", "»mÙacûs queusiz(š¡s)", &
¿wq_size
, 
RAWSIZE
,

2072  
TRUE
, 
NULL
);

2075 #ifdeà
ISSUE_PER_CLUSTER


2076 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/şu¡”/cyşe)", &
ruu_issue_width
, 4,

2077  
TRUE
, 
NULL
);

2079 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/cyşe)", &
ruu_issue_width
, 4,

2080  
TRUE
, 
NULL
);

2083 
	`İt_»g_æag
 (
odb
, "-issue:šÜd”", "ruÀp–šw™h in-Üd” issue", &
ruu_šÜd”_issue
, 
FALSE
,

2084  
TRUE
, 
NULL
);

2086 
	`İt_»g_æag
 (
odb
, "-issue:wrÚg·th", "issuš¡ruùiÚ dowÀwrÚgƒxecutiÚ…©hs", &
ruu_šşude_¥ec
, 
TRUE
,

2087  
TRUE
, 
NULL
);

2090 
	`İt_»g_št
 (
odb
, "-comm™:width", "š¡ruùiÚ comm™ B/W (š¡s/th»ad/cyşe)", &
ruu_comm™_width
, 4,

2091  
TRUE
, 
NULL
);

2094 
	`İt_»g_št
 (
odb
, "-ruu:size", "»gi¡” upd©un™ (RUUèsize", &
RUU_size
, 16,

2095  
TRUE
, 
NULL
);

2098 
	`İt_»g_št
 (
odb
, "-lsq:size", "lßd/¡Üqueu(LSQèsizÕ” clu¡”)", &
LSQ_size_şu¡”
, 8,

2099  
TRUE
, 
NULL
);

2101 
	`İt_»g_št
 (
odb
, "-lq:size", "lßd queu(LQèsize", &
m_shLQSize
, 8,

2102  
TRUE
, 
NULL
);

2104 
	`İt_»g_št
 (
odb
, "-sq:size", "¡Üqueu(SQèsize", &
m_shSQSize
, 8,

2105  
TRUE
, 
NULL
);

2107 
	`İt_»g_æßt
 (
odb
, "-check”:vdd", "check” vdd", &
check”VDD
, 0.6,

2108  
TRUE
, 
NULL
);

2110 
	`İt_»g_æßt
 (
odb
, "-check”:äeq", "check”„uÂšg‡ˆwh© f¿ùiÚ oàfuÎ f»q", &
check”F»q
, 0.5,

2111  
TRUE
, 
NULL
);

2114 
	`İt_»g_nÙe
 (
odb
,

2124 #ifdef 
EDA


2125 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl0", "l0 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl0_İt
, "dl0:128:32:4:l",

2126  
TRUE
, 
NULL
);

2128 
	`İt_»g_št
 (
odb
, "-ÿche:dl0Ït", "l0 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl0_Ït
, 1,

2129  
TRUE
, 
NULL
);

2132 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl1", "l1 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl1_İt
, "dl1:128:32:4:l",

2133  
TRUE
, 
NULL
);

2135 
	`İt_»g_št
 (
odb
, "-ÿche:dl1Ït", "l1 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl1_Ït
, 1,

2136  
TRUE
, 
NULL
);

2138 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl2", "l2 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe}", &
ÿche_dl2_İt
, "ul2:1024:64:4:l",

2139  
TRUE
, 
NULL
);

2141 
	`İt_»g_št
 (
odb
, "-ÿche:dl2Ït", "l2 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl2_Ït
, 6,

2142  
TRUE
, 
NULL
);

2144 #ifdeà
TG


2145 
	`İt_»g_št
 (
odb
, "-ÿche:tg¿‹", "Œaffiøg’”©iÚ„©e", &
tg_¿‹
, 100,

2146  
TRUE
, 
NULL
);

2148 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:1", "l1 in¡ cachcÚfig, i.e., {<cÚfig>|dl1|dl2|nÚe}", &
ÿche_1_İt
, "il1:512:32:1:l",

2149  
TRUE
, 
NULL
);

2151 
	`İt_»g_nÙe
 (
odb
,

2161 
	`İt_»g_št
 (
odb
, "-ÿche:1Ït", "l1 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_1_Ït
, 1,

2162  
TRUE
, 
NULL
);

2164 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:2", "l2 in¡ruùiÚ cachcÚfig, i.e., {<cÚfig>|dl2|nÚe}", &
ÿche_2_İt
, "dl2",

2165  
TRUE
, 
NULL
);

2167 
	`İt_»g_št
 (
odb
, "-ÿche:2Ït", "l2 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_2_Ït
, 6,

2168  
TRUE
, 
NULL
);

2170 #ifdeà
L2_COMM_LAT


2171 
	`İt_»g_æag
 (
odb
, "-ÿche:l2commÏt", "wh‘h”Øhav¨di¡ribu‹d L2 w™h communiÿtiÚ†©’c› added", &
l2_comm_Ït_’abËd
, 
FALSE
, 
TRUE
, 
NULL
);

2174 
	`İt_»g_æag
 (
odb
, "-ÿche:æush", "æush cache Ú sy¡em c®ls", &
æush_Ú_sysÿÎs
, 
FALSE
, 
TRUE
, 
NULL
);

2176 
	`İt_»g_æag
 (
odb
, "-ÿche:icom´ess", "cÚv”ˆ64-b™ in¡‡dd»s£ tØ32-b™ in¡ƒquiv®’ts", &
com´ess_iÿche_addrs
, 
FALSE
,

2177  
TRUE
, 
NULL
);

2180 
	`İt_»g_št_li¡
 (
odb
, "-mem:Ït", "memÜy‡cûs Ï‹ncy (<fœ¡_chunk> <š‹r_chunk>)", 
mem_Ït
, 
mem_ÃÉ
, &mem_nelt, mem_lat,

2181  
TRUE
, 
NULL
, 
FALSE
);

2183 
	`İt_»g_št
 (
odb
, "-mem:width", "memÜy‡cûs bu width (š by‹s)", &
mem_bus_width
, 8,

2184  
TRUE
, 
NULL
);

2185 
	`İt_»g_æßt
 (
odb
, "-mem:¥“d", "memÜy‡cûs bu ¥“d (š GHz)", &
mem_bus_¥“d
, 1.25,

2186  
TRUE
, 
NULL
);

2187 
	`İt_»g_št
 (
odb
, "-mem:pÜts", "memÜy‡cûs pÜˆnumb”", &
mem_pÜt_num
, 4,

2188  
TRUE
, 
NULL
);

2191 
	`İt_»g_¡ršg
 (
odb
, "-b:™lb", "š¡ruùiÚ TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
™lb_İt
, "™lb:16:4096:4:l", 
TRUE
, 
NULL
);

2193 
	`İt_»g_¡ršg
 (
odb
, "-b:db", "d©¨TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
db_İt
, "db:32:4096:4:l", 
TRUE
, 
NULL
);

2195 
	`İt_»g_št
 (
odb
, "-b:Ït", "š¡/d©¨TLB mis Ï‹ncy (š cyşes)", &
b_miss_Ït
, 30,

2196  
TRUE
, 
NULL
);

2198 #ifdeà
NET_ALGR


2202 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:»c_®gr", "»ûiv”‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_»ûiv”
, 0,

2203  
TRUE
, 
NULL
);

2204 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:Ãt_®gr", "cÚæiùiÚ‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_cÚæiù
, 0,

2205  
TRUE
, 
NULL
);

2209 
	`İt_»g_št
 (
odb
, "-»s:Ÿlu", "tÙ®‚umb” oàš‹g” ALU' avaabË (³¸şu¡”)", &
»s_Ÿlu_şu¡”
, 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
,

2210  
TRUE
, 
NULL
);

2212 #iâdeà
ALU_MERGE


2213 
	`İt_»g_št
 (
odb
, "-»s:imuÉ", "tÙ®‚umb” oàš‹g” muÉl›r/divid” avaabË (³¸şu¡”)", &
»s_imuÉ_şu¡”
, 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
,

2214  
TRUE
, 
NULL
);

2217 
	`İt_»g_št
 (
odb
, "-maxThrds", "Maximum Numb” oàTh»ad AÎowed", &
m_maxth»ads
, 1, 
TRUE
, 
NULL
);

2219 
	`İt_»g_æag
 (
odb
, "-Coh”’t_Cache", "Coh”’ˆCache", &
COHERENT_CACHE
, 1, 
TRUE
, 
NULL
);

2221 
	`İt_»g_æag
 (
odb
, "-MSI_´Ù", "MSI PrÙocŞ", &
MSI
, 0, 
TRUE
, 
NULL
);

2223 
	`İt_»g_æag
 (
odb
, "-SPEC", "SPEC B’chm¬ks", &
¥ec_b’chm¬ks
, 1, 
TRUE
, 
NULL
);

2225 #ifdeà 
PORT_PER_BANK


2226 
	`İt_»g_št
 (
odb
, "-»s:membªk", "numb” oàd©¨ÿchbªk avaabË (³¸Clu¡”ØCPU)", &
»s_membªk_şu¡”
, 2,

2227  
TRUE
, 
NULL
);

2229 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (³¸bªk)", &
»s_mem_pÜt_bªk
, 1,

2230  
TRUE
, 
NULL
);

2232 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (tØCPU)", &
»s_mempÜt
, 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
,

2233  
TRUE
, 
NULL
);

2236 
	`İt_»g_št
 (
odb
, "-»s:å®u", "tÙ®‚umb” oàæßtšg…ošˆALU' avaabË (³¸şu¡”)", &
»s_å®u_şu¡”
, 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
,

2237  
TRUE
, 
NULL
);

2239 #iâdeà
ALU_MERGE


2240 
	`İt_»g_št
 (
odb
, "-»s:åmuÉ", "tÙ®‚umb” oàæßtšg…ošˆmuÉl›r/divid” avaabË (³¸şu¡”)", &
»s_åmuÉ_şu¡”
, 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
,

2241  
TRUE
, 
NULL
);

2244 
	`İt_»g_¡ršg_li¡
 (
odb
, "-pc¡©", "´of¡©(sèagaš¡exˆaddr' (muÉ u£ ok)", 
pc¡©_v¬s
, 
MAX_PCSTAT_VARS
, &
pc¡©_ÃÉ
, 
NULL
,

2245  
FALSE
, 
NULL
, 
TRUE
);

2247 
	`İt_»g_æag
 (
odb
, "-bugcom·t", "İ”©š backw¬d-com·tibË bug mod(fÜe¡šg oÆy)", &
bugcom·t_mode
, 
FALSE
, 
TRUE
, 
NULL
);

2249 
	`İt_»g_št
 (
sim_odb
, "-hÙ¥Ù:§m¶šg_štvl", "how mªy cyşe b‘w“ÀÿÎ tØupd©e_hÙ¥Ù_¡©s", &
hÙ¥Ù_cyşe_§m¶šg_štvl
,

2250  10000, 
FALSE
, 
NULL
);

2252 
	`İt_»g_št
 (
odb
, "-¿y:di§bËd", "¿y‡ùive", &
di§bË_¿y
, 1,

2253  
TRUE
, 
NULL
);

2256 
	`şu¡”_»g_İtiÚs
 (
odb
);

2257 
	`hÙ¥Ù_»g_İtiÚs
 (
odb
);

2260 #ifdeà
MC


2261 
	`ÃtwÜk_»g_İtiÚs
 (
odb
);

2263 #ifdeà
OPTICAL_INTERCONNECT


2264 
	`İtiÿl_İtiÚs
 (
odb
);

2267 
	}
}

2271 
	$sim_check_İtiÚs
 (
İt_odb_t
 *
odb
,

2272 
¬gc
, **
¬gv
)

2274 
Çme
[128], 
c
;

2275 
n£ts
, 
bsize
, 
assoc
;

2277 
i
;

2278 
cÚ‹xt
 *
cu¼’t
;

2280 #ifdeà
LOAD_PREDICTOR


2282 
ld´ed
 = 
	`b´ed_ü—‹
 (
LDP»d2b™
,

2283  
bimod_cÚfig
[0],

2295 #ifdeà
ISU_N2


2296 ià(
ruu_issue_width
 < 1)

2297 
	`çl
 ("issue width must be…ositive‚on-zero");

2299 ià(
ruu_issue_width
 < 1 || (ruu_issue_width & (ruu_issue_width - 1)) != 0)

2300 
	`çl
 ("issue width must be…ositive‚on-zero‡nd‡…ower ofwo");

2305 
IIQ_size
 = 
IIQ_size_şu¡”
;

2306 
FIQ_size
 = 
FIQ_size_şu¡”
;

2307 
IPREG_size
 = 
IPREG_size_şu¡”
;

2308 
FPREG_size
 = 
FPREG_size_şu¡”
;

2310 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2312 ià(
IIQ_size
 < 1)

2313 
	`çl
 ("integer queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2315 ià(
FIQ_size
 < 1)

2316 
	`çl
 ("floating…oint queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2318 #iâdeà
REG_RENAME_CONFIGUARE


2319 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2322 ià(
IPREG_size
 < 1)

2323 
	`çl
 ("integer…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2325 ià(
FPREG_size
 < 1)

2326 
	`çl
 ("floating…oint…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2328 #ifdeà
RAW


2329 
¿wq_size
 = 
IIQ_size
;

2330 ià(
¿wq_size
 < 1 ||„awq_siz> 
RAWSIZE
)

2331 
	`çl
 ("»mÙacûs queu(%dèmu¡ bpos™ivnÚ-z”Øªd†es thª RAWSIZE (%d)", 
¿wq_size
, 
RAWSIZE
);

2334 ià(
ruu_comm™_width
 < 1)

2335 
	`çl
 ("commit width must be…ositive‚on-zero");

2337 ià(
RUU_size
 < 2 || (RUU_siz> 
RUUSIZE
))

2338 
	`çl
 ("RUU sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
RUUSIZE
);

2340 
LSQ_size
 = 
LSQ_size_şu¡”
;

2342 ià(
LSQ_size
 < 2 || (LSQ_siz> 
LSQSIZE
))

2343 
	`çl
 ("LSQ sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
LSQSIZE
);

2345 #ifdef 
EDA


2347 ià(!
	`my¡ricmp
 (
ÿche_dl0_İt
, "none"))

2349 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2350 
ÿche_dl0
[
i
] = 
NULL
;

2354 ià(
	`ssÿnf
 (
ÿche_dl0_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2355 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2357 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2359 
ÿche_dl0
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2360  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2361 
dl0_acûss_â
, 
ÿche_dl0_Ït
, 
i
);

2362 #ifdeà
CACHE_SET_STAT


2363 ià(
ÿche_dl0
[
i
]->
n£ts
 > 
MAXCACHESET
)

2364 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2371 ià(!
	`my¡ricmp
 (
ÿche_dl1_İt
, "none"))

2374 ià(
	`¡rcmp
 (
ÿche_dl2_İt
, "none"))

2375 
	`çl
 ("the†1 data cache must defined ifhe†2 cache is defined");

2376 
ÿche_dl2
 = 
NULL
;

2380 ià(
	`ssÿnf
 (
ÿche_dl1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2381 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2383 
i
 = 0; i < 
CLUSTERS
; i++)

2385 
ÿche_dl1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2386  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2387 
dl1_acûss_â
, 
ÿche_dl1_Ït
, 
i
);

2389 #ifdeà
CACHE_SET_STAT


2390 ià(
ÿche_dl1
[
i
]->
n£ts
 > 
MAXCACHESET
)

2391 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2394 
ÿche_dl1_£t_shiá
 = 
ÿche_dl1
[0]->
£t_shiá
;

2395 
Üigš®_bsize
 = 
bsize
;

2397 ià(!
	`my¡ricmp
 (
ÿche_dl2_İt
, "none"))

2398 
ÿche_dl2
 = 
NULL
;

2401 ià(
	`ssÿnf
 (
ÿche_dl2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2402 
	`çl
 ("bad†2 D-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2404 
ÿche_dl2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2405  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2406 
dl2_acûss_â
, 
ÿche_dl2_Ït
, -1);

2411 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "none"))

2413 
ÿche_1
[0] = 
NULL
;

2416 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2417 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2418 
ÿche_2
 = 
NULL
;

2420 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl1"))

2423 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2424 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2425 
ÿche_2
 = 
NULL
;

2427 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl2"))

2429 ià(!
ÿche_dl2
)

2430 
	`çl
 ("I-cache†1 cannot‡ccess D-cache†2‡s it's undefined");

2431 
ÿche_1
[0] = 
ÿche_dl2
;

2434 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2435 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2436 
ÿche_2
 = 
NULL
;

2440 ià(
	`ssÿnf
 (
ÿche_1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2441 
	`çl
 ("bad†1 I-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2443 
i
 = 0; i < 
CLUSTERS
; i++)

2445 
ÿche_1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2446  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2447 
1_acûss_â
, 
ÿche_1_Ït
, 
i
);

2450 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "none"))

2451 
ÿche_2
 = 
NULL
;

2452 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "dl2"))

2454 ià(!
ÿche_dl2
)

2455 
	`çl
 ("I-cache†2 cannot‡ccess D-cache†2‡s it's undefined");

2456 
ÿche_2
 = 
ÿche_dl2
;

2460 ià(
	`ssÿnf
 (
ÿche_2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2461 
	`çl
 ("bad†2 I-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2463 
ÿche_2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2464  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2465 
2_acûss_â
, 
ÿche_2_Ït
, -1);

2470 
i
 = 0; i < 
CLUSTERS
; i++)

2472 ià(
	`ssÿnf
 (
™lb_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2473 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2475 
™lb
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2476   (
md_addr_t
), 
assoc
,

2477 
	`ÿche_ch¬2pŞicy
 (
c
), 
™lb_acûss_â
,

2478  1, 
i
);

2481 
i
 = 0; i < 
CLUSTERS
; i++)

2483 ià(
	`ssÿnf
 (
db_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2484 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2485 
db
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2486   (
md_addr_t
), 
assoc
,

2487 
	`ÿche_ch¬2pŞicy
 (
c
), 
db_acûss_â
,

2488  1, 
i
);

2491 ià(
ÿche_dl1_Ït
 < 1)

2492 
	`çl
 ("l1 data cache†atency must be greaterhan zero");

2494 ià(
ÿche_dl2_Ït
 < 1)

2495 
	`çl
 ("l2 data cache†atency must be greaterhan zero");

2497 ià(
ÿche_1_Ït
 < 1)

2498 
	`çl
 ("l1 instruction cache†atency must be greaterhan zero");

2500 ià(
ÿche_2_Ït
 < 1)

2501 
	`çl
 ("l2 instruction cache†atency must be greaterhan zero");

2503 ià(
mem_ÃÉ
 != 2)

2504 
	`çl
 ("bad memory‡ccess†atency (<first_chunk> <inter_chunk>)");

2506 ià(
mem_Ït
[0] < 1 || mem_lat[1] < 1)

2507 
	`çl
 ("all memory‡ccess†atencies must be greaterhan zero");

2509 ià(
mem_bus_width
 < 1 || (mem_bus_width & (mem_bus_width - 1)) != 0)

2510 
	`çl
 ("memory bus width must be…ositive‚on-zero‡nd‡…ower ofwo");

2512 ià(
b_miss_Ït
 < 1)

2513 
	`çl
 ("TLB miss†atency must be greaterhan zero");

2515 
»s_Ÿlu
 = 
»s_Ÿlu_şu¡”
 * 
CLUSTERS
;

2517 ià(
»s_Ÿlu
 < 1)

2518 
	`çl
 ("number of integer ALU's must be greaterhan zero");

2519 ià(
»s_Ÿlu
 > 
MAX_INSTS_PER_CLASS
)

2520 
	`çl
 ("number of integer ALU's must be <= MAX_INSTS_PER_CLASS");

2522 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
 = 
»s_Ÿlu
;

2524 #iâdeà
ALU_MERGE


2525 
»s_imuÉ
 = 
»s_imuÉ_şu¡”
 * 
CLUSTERS
;

2526 ià(
»s_imuÉ
 < 1)

2527 
	`çl
 ("number of integer multiplier/dividers must be greaterhan zero");

2528 ià(
»s_imuÉ
 > 
MAX_INSTS_PER_CLASS
)

2529 
	`çl
 ("number of integer mult/div's must be <= MAX_INSTS_PER_CLASS");

2530 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
 = 
»s_imuÉ
;

2533 #ifdeà
PORT_PER_BANK


2534 
»s_membªk
 = 
»s_membªk_şu¡”
 * 
CLUSTERS
;

2536 ià(
»s_membªk
 < 1)

2537 
	`çl
 ("number of memory system banks must be greaterhan zero");

2540 #ifdeà 
PARTITIONED_LSQ


2541 
lsq_·¹_bªk
 = 
»s_membªk
 / 
LSQ_PARTS
;

2543 ià(
»s_mem_pÜt_bªk
 < 1)

2544 
	`çl
 ("number of memory system…orts/bank must be greaterhan zero");

2545 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAX_INSTS_PER_CLASS
)

2546 
	`çl
 ("number ofotal memory system…orts must be <= MAX_INSTS_PER_CLASS");

2547 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAXCACHEPORTS
)

2548 
	`çl
 ("number ofotal memory system…orts must be <= MAXCACHEPORTS");

2549 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

2551 ià(
»s_mempÜt
 < 1)

2552 
	`çl
 ("number of memory system…orts must be greaterhan zero");

2553 ià(
»s_mempÜt
 > 
MAX_INSTS_PER_CLASS
)

2554 
	`çl
 ("number of memory system…orts must be <= MAX_INSTS_PER_CLASS");

2555 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
;

2558 
»s_å®u
 = 
»s_å®u_şu¡”
 * 
CLUSTERS
;

2559 ià(
»s_å®u
 < 1)

2560 
	`çl
 ("number of floating…oint ALU's must be greaterhan zero");

2561 ià(
»s_å®u
 > 
MAX_INSTS_PER_CLASS
)

2562 
	`çl
 ("number of floating…oint ALU's must be <= MAX_INSTS_PER_CLASS");

2563 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
 = 
»s_å®u
;

2565 #iâdeà
ALU_MERGE


2566 
»s_åmuÉ
 = 
»s_åmuÉ_şu¡”
 * 
CLUSTERS
;

2567 ià(
»s_åmuÉ
 < 1)

2568 
	`çl
 ("number of floating…oint multiplier/dividers must be > zero");

2569 ià(
»s_åmuÉ
 > 
MAX_INSTS_PER_CLASS
)

2570 
	`çl
 ("number of FP mult/div's must be <= MAX_INSTS_PER_CLASS");

2571 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
 = 
»s_åmuÉ
;

2573 #ifdeà
TOKENB


2574 ià(
tok’B
)

2575 
	`tc_š™
 (
MAXTHREADS
, 
ÿche_dl2
->
assoc
 * cache_dl2->
n£ts
, cache_dl2->
bsize
);

2576 ià(
LSQ_PARTS
 !ğ(
n_way_ÿche
 * 
MAXTHREADS
))

2577 
	`çl
 ("This only supports 1 cache…erhread");

2579 #ifdeà
MC


2580 
	`ÃtwÜk_check_İtiÚs
 ();

2582 
	`şu¡”_check_İtiÚs
 ();

2583 
	`š™_lšk_desü_bËs
 ();

2584 
	`š™_routšg_bË
 ();

2585 
	`¬b™¿ry_routšg_bË_š™
 ();

2586 
	}
}

2590 
	$sim_aux_cÚfig
 (
FILE
 * 
¡»am
)

2593 
	}
}

2596 
couÁ”_t
 
	gtÙ®Upg¿des
 = 0;

2597 
couÁ”_t
 
	gtÙ®N‘Upg¿des
 = 0;

2598 
couÁ”_t
 
	gtÙ®Upg¿desU§bË
 = 0;

2599 
couÁ”_t
 
	gtÙ®Upg¿desB’eficŸl
 = 0;

2601 
couÁ”_t
 
	gtÙ®N‘Wr™es
 = 0;

2602 
couÁ”_t
 
	gtÙ®Wr™esU§bË
 = 0;

2603 
couÁ”_t
 
	gtÙ®Wr™esB’eficŸl
 = 0;

2604 
couÁ”_t
 
	gexşusive_somewh”e
 = 0;

2605 
couÁ”_t
 
	gäÚt_wr™e
 = 0;

2607 
couÁ”_t
 
	gtÙ®L2Wr™eReqH™s
 = 0;

2608 
couÁ”_t
 
	gtÙ®L2Wr™eReqNoSh¬”
 = 0;

2609 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœty
 = 0;

2610 
couÁ”_t
 
	gd–ayL2Wr™eReqDœty
 = 0;

2611 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬ed
 = 0;

2612 
couÁ”_t
 
	gd–ayL2Wr™eReqSh¬ed
 = 0;

2614 
couÁ”_t
 
	gtÙ®L2R—dReqH™s
 = 0;

2615 
couÁ”_t
 
	gtÙ®L2R—dReqNoSh¬”
 = 0;

2616 
couÁ”_t
 
	gtÙ®L2R—dReqDœty
 = 0;

2617 
couÁ”_t
 
	gd–ayL2R—dReqDœty
 = 0;

2619 
couÁ”_t
 
	gtÙ®L2R—dReqSh¬ed
 = 0;

2620 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬edWT
 = 0;

2621 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœtyWT
 = 0;

2622 
couÁ”_t
 
	gtÙ®L2R—dReqDœtyWT
 = 0;

2624 
couÁ”_t
 
	gtÙ®L1LšeP»fU£
 = 0;

2625 
couÁ”_t
 
	gtÙ®L1LšeP»fNoU£
 = 0;

2626 
couÁ”_t
 
	gtÙ®L1LšeR—dU£
 = 0;

2627 
couÁ”_t
 
	gtÙ®L1LšeR—dNoU£
 = 0;

2628 
couÁ”_t
 
	gtÙ®L1LšeWr™eU£
 = 0;

2629 
couÁ”_t
 
	gtÙ®L1LšeWr™eNoU£
 = 0;

2631 
couÁ”_t
 
	gtÙ®L1LšeExlU£d
 = 0;

2632 
couÁ”_t
 
	gtÙ®L1LšeExlInv
 = 0;

2633 
couÁ”_t
 
	gtÙ®L1LšeExlDrİ
 = 0;

2635 
couÁ”_t
 
	gtÙ®L2ReqPrimMiss
 = 0;

2636 
couÁ”_t
 
	gtÙ®L2ReqSecMiss
 = 0;

2637 
couÁ”_t
 
	gtÙ®L2ReqH™
 = 0;

2638 
couÁ”_t
 
	gtÙ®L2ReqInT¿ns
 = 0;

2639 
couÁ”_t
 
	gtÙ®L2OwnReqInT¿ns
 = 0;

2640 
couÁ”_t
 
	gtÙ®L2ReqInInv
 = 0;

2642 
couÁ”_t
 
	gd–ayL2ReqPrimMiss
 = 0;

2643 
couÁ”_t
 
	gd–ayL2ReqSecMiss
 = 0;

2644 
couÁ”_t
 
	gd–ayL2ReqH™
 = 0;

2645 
couÁ”_t
 
	gd–ayL2ReqInT¿ns
 = 0;

2646 
couÁ”_t
 
	gd–ayL2OwnReqInT¿ns
 = 0;

2647 
couÁ”_t
 
	gd–ayL2ReqInInv
 = 0;

2649 
couÁ”_t
 
	gtÙ®Wr™eReq
 = 0;

2650 
couÁ”_t
 
	gtÙ®Wr™eReqInv
 = 0;

2651 
couÁ”_t
 
	gtÙ®Wr™eD–ay
 = 0;

2652 
couÁ”_t
 
	gtÙ®Wr™eInvD–ay
 = 0;

2653 
couÁ”_t
 
	gtÙ®Upg¿deReq
 = 0;

2654 
couÁ”_t
 
	gtÙ®Upg¿deReqInv
 = 0;

2655 
couÁ”_t
 
	gtÙ®Upg¿deD–ay
 = 0;

2656 
couÁ”_t
 
	gtÙ®Upg¿deInvD–ay
 = 0;

2658 
couÁ”_t
 
	gcouÁNÚAÎocR—dE¬ly
 = 0;

2662 
	$sim_»g_¡©s
 (
¡©_sdb_t
 *
sdb
)

2664 
i
, 
j
;

2667 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg cÚsi¡’cy„•Ïy in¡ruùiÚs", &
sim_num_š¢
, sim_num_š¢, 
NULL
);

2668 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
pu»_num_š¢
,…u»_num_š¢, 
NULL
);

2669 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
tÙ®_num_š¢
,Ù®_num_š¢, 
NULL
);

2670 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®B¬r›rs", "tÙ®‚umb” oàb¬r›rs", &
TÙ®B¬r›rs
, 0, 
NULL
);

2671 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®Locks", "tÙ®‚umb” oàlocks", &
TÙ®Locks
, 0, 
NULL
);

2672 #ifdef 
EDA


2673 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_sync_š¢", "tÙ®‚umb” oàmašh»ad synøš¡ruùiÚ comm™‹d", &
pu»_sync_š¢
,…u»_sync_š¢, 
NULL
);

2674 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_skt_š¢", "tÙ®‚umb” oàmašh»ad skˆš¡ruùiÚ comm™‹d", &
pu»_skt_š¢
,…u»_skt_š¢, 
NULL
);

2676 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_»fs", "tÙ®‚umb” oàlßd ªd stÜe comm™‹d", &
sim_num_»fs
, 0, 
NULL
);

2677 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_lßds", "tÙ®‚umb” oàlßd comm™‹d", &
sim_num_lßds
, 0, 
NULL
);

2678 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_num_¡Ües", "tÙ®‚umb” oà¡Üe comm™‹d", "sim_num_»f - sim_num_lßds", 
NULL
);

2679 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_b¿nches", "tÙ®‚umb” oàb¿nche comm™‹d", &
sim_num_b¿nches
, 0, 
NULL
);

2680 
	`¡©_»g_št
 (
sdb
, "sim_–­£d_time", "tÙ® simuÏtiÚimš secÚds", &
sim_–­£d_time
, 0, 
NULL
);

2681 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_š¡_¿‹", "simuÏtiÚ s³ed (š in¡s/£c)", "sim_num_š¢ / sim_–­£d_time", 
NULL
);

2682 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_š¢", "tÙ®‚umb” oàš¡ruùiÚ execu‹d", &
sim_tÙ®_š¢
, 0, 
NULL
);

2683 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_»fs", "tÙ®‚umb” oàlßd ªd stÜe execu‹d", &
sim_tÙ®_»fs
, 0, 
NULL
);

2684 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_lßds", "tÙ®‚umb” oàlßd execu‹d", &
sim_tÙ®_lßds
, 0, 
NULL
);

2685 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_tÙ®_¡Ües", "tÙ®‚umb” oà¡Üe execu‹d", "sim_tÙ®_»f - sim_tÙ®_lßds", 
NULL
);

2686 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_b¿nches", "tÙ®‚umb” oàb¿nche execu‹d", &
sim_tÙ®_b¿nches
, 0, 
NULL
);

2688 
	`¡©_»g_couÁ”
 (
sdb
, "sim_cyşe", "tÙ® simuÏtiÚimš cyşes", &
sim_cyşe
, 0, 
NULL
);

2689 
	`¡©_»g_couÁ”
 (
sdb
, "»®SimCyşe", "", &
»®SimCyşe
, 0, 
NULL
);

2690 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_IPC", "š¡ruùiÚ ³¸cyşe", "sim_num_š¢ / sim_cyşe", 
NULL
);

2691 
	`¡©_»g_fÜmuÏ
 (
sdb
, "»®SimIPC", "", "pu»_num_š¢ /„—lSimCyşe", 
NULL
);

2692 
	`¡©_»g_fÜmuÏ
 (
sdb
, "mašEfãùiveIPC", "", "pu»_num_š¢ / (»®SimCyş- maš_th»ad_¡®l_couÁ)", 
NULL
);

2693 
	`¡©_»g_couÁ”
 (
sdb
, "num_of_šv®id©iÚs", "Numb”_Of_V®id©iÚs", &
num_of_šv®id©iÚs
, 0, 
NULL
);

2694 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

2695 
	`¡©_»g_couÁ”
 (
sdb
, "busU£d", "Numb” oàtime bu i u£d", &
busU£d
, 0, 
NULL
);

2696 
	`¡©_»g_couÁ”
 (
sdb
, "busOccu·ncy", "Occu·ncy oàbu š‚umb” oàcyşes", &
busOccu·ncy
, 0, 
NULL
);

2697 
	`¡©_»g_fÜmuÏ
 (
sdb
, "busOccu·ncyP”Cyşe", "Bu occu·ncy…” cyşe", "busOccu·ncy /„—lSimCyşe", 
NULL
);

2698 
	`¡©_»g_couÁ”
 (
sdb
, "¡®lNoBusSlÙ", "¡®lNoBusSlÙ", &
¡®lNoBusSlÙ
, 0, 
NULL
);

2700 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_CPI", "cyşe ³¸š¡ruùiÚ", "sim_cyş/ sim_num_š¢", 
NULL
);

2701 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_exec_BW", "tÙ® in¡ruùiÚ (mis-¥eø+ comm™‹dè³¸cyşe", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2702 
	`¡©_»g_couÁ”
 (
sdb
, "ldIssueCouÁ", "tÙ®†d issu©tm•t", &
ldIssueCouÁ
, 0, 
NULL
);

2703 #ifdeà
PULL_BACK


2704 
ch2
[32];

2706 
i
 = 0; i < 
MAXTHREADS
; i++)

2708 
	`¥rštf
 (
ch2
, "puÎbackCyşeCÁ_%d", 
i
);

2709 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
puÎbackCyşeCouÁ
[
i
], 0, 
NULL
);

2712 #ifdeà
DIRECTORY


2713 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_ev’t_couÁ", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®ev’tcouÁnum
, 0, 
NULL
);

2714 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_´eãtch
, 0, 
NULL
);

2715 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»q_ev’t_couÁ", "tÙ®‚um oà»que¡ƒv’ˆš™® c»©ed", &
tÙ®»qcouÁnum
, 0, 
NULL
);

2716 
	`¡©_»g_couÁ”
 (
sdb
, "StÜeCÚd™iÚFaNum", "TÙ® stÜcÚd™iÚ® faed‚um", &
StÜeCÚd™iÚFaNum
, 0, 
NULL
);

2717 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®Upg¿des
, 0, 
NULL
);

2718 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_ev’t_couÁ", "tÙ®‚um oàmis ev’ˆštŸÈü—‹d", &
tÙ®misscouÁnum
, 0, 
NULL
);

2719 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®N‘Upg¿des
, 0, 
NULL
);

2720 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU§bË", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desU§bË
, 0, 
NULL
);

2721 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desB’eficŸl", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desB’eficŸl
, 0, 
NULL
);

2722 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU£2", "tÙ®‚umb” oàupg¿de u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™No
, 0, 
NULL
);

2724 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Wr™es", "tÙ®‚umb” oàWr™e £’", &
tÙ®N‘Wr™es
, 0, 
NULL
);

2725 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU§bË", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esU§bË
, 0, 
NULL
);

2726 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esB’eficŸl", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esB’eficŸl
, 0, 
NULL
);

2727 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU£2", "tÙ®‚umb” oàWr™e u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™WM
, 0, 
NULL
);

2728 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®NoExşusive", "tÙ®‚umb” oàWr™e unu§bË beÿu£ oàexşusivsomewh”–£", &
exşusive_somewh”e
, 0, 
NULL
);

2729 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®FrÚtWr™e", "tÙ®‚umb” oàWr™e unu§vË beÿu£ oàäÚˆwr™e", &
äÚt_wr™e
, 0, 
NULL
);

2731 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqH™s", "tÙ®‚um oàwr™ev’ts", &
tÙ®L2Wr™eReqH™s
, 0, 
NULL
);

2732 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqNoSh¬”", "tÙ®‚um oàwr™»q w™h‚Øsh¬”s", &
tÙ®L2Wr™eReqNoSh¬”
, 0, 
NULL
);

2733 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœty", "tÙ®‚um oàwr™»q w™h ju¡ oÃ sh¬”", &
tÙ®L2Wr™eReqDœty
, 0, 
NULL
);

2734 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqDœty", "ExŒ¨d–ayØcom¶‘wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2Wr™eReqDœty
, 0, 
NULL
);

2735 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœtyWT", "tÙ®ime wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2Wr™eReqDœtyWT
, 0, 
NULL
);

2736 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬ed", "tÙ®‚um oàwr™»q w™h muÉË sh¬”s", &
tÙ®L2Wr™eReqSh¬ed
, 0, 
NULL
);

2737 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqSh¬ed", "ExŒ¨d–ayØcom¶‘wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
d–ayL2Wr™eReqSh¬ed
, 0, 
NULL
);

2738 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬edWT", "tÙ®ime wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
tÙ®L2Wr™eReqSh¬edWT
, 0, 
NULL
);

2740 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqH™s", "tÙ®‚um oàR—dƒv’ts", &
tÙ®L2R—dReqH™s
, 0, 
NULL
);

2741 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqNoSh¬”", "tÙ®‚um oàR—d„eq w™h‚Øsh¬”s", &
tÙ®L2R—dReqNoSh¬”
, 0, 
NULL
);

2742 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœty", "tÙ®‚um oàR—d„eq w™h ju¡ oÃ sh¬”", &
tÙ®L2R—dReqDœty
, 0, 
NULL
);

2743 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2R—dReqDœty", "ExŒ¨d–ayØcom¶‘R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2R—dReqDœty
, 0, 
NULL
);

2744 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœtyWT", "tÙ®ime R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2R—dReqDœtyWT
, 0, 
NULL
);

2745 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqSh¬ed", "tÙ®‚um oà»ad„eq w™h muÉË sh¬”s", &
tÙ®L2R—dReqSh¬ed
, 0, 
NULL
);

2747 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fU£", "tÙ® L1†š´eãtche u£ful", &
tÙ®L1LšeP»fU£
, 0, 
NULL
);

2748 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fNoU£", "tÙ® L1†š´eãtche nÙ u£ful", &
tÙ®L1LšeP»fNoU£
, 0, 
NULL
);

2749 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dU£", "tÙ® L1†š»ad mis£ u£ful", &
tÙ®L1LšeR—dU£
, 0, 
NULL
);

2750 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dNoU£", "tÙ® L1†š»ad mis£ nÙ u£ful", &
tÙ®L1LšeR—dNoU£
, 0, 
NULL
);

2751 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eU£", "tÙ® L1†šwr™mis£ u£ful", &
tÙ®L1LšeWr™eU£
, 0, 
NULL
);

2752 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eNoU£", "tÙ® L1†šwr™mis£ nÙ u£ful", &
tÙ®L1LšeWr™eNoU£
, 0, 
NULL
);

2754 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlU£d", "tÙ® L1†ššƒxşusivmodu£ful", &
tÙ®L1LšeExlU£d
, 0, 
NULL
);

2755 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlInv", "tÙ® L1†ššƒxşusivmodšv®id©ed w™houˆu£", &
tÙ®L1LšeExlInv
, 0, 
NULL
);

2756 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlDrİ", "tÙ® L1†ššƒxşusivmoddrİed w™houˆu£", &
tÙ®L1LšeExlDrİ
, 0, 
NULL
);

2758 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqPrimMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
tÙ®L2ReqPrimMiss
, 0, 
NULL
);

2759 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqSecMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
tÙ®L2ReqSecMiss
, 0, 
NULL
);

2760 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqH™", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
tÙ®L2ReqH™
, 0, 
NULL
);

2761 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInT¿ns", "TÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2ReqInT¿ns
, 0, 
NULL
);

2762 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2OwnReqInT¿ns", "TÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2OwnReqInT¿ns
, 0, 
NULL
);

2763 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInInv", "TÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
tÙ®L2ReqInInv
, 0, 
NULL
);

2765 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqPrimMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
d–ayL2ReqPrimMiss
, 0, 
NULL
);

2766 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqSecMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
d–ayL2ReqSecMiss
, 0, 
NULL
);

2767 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqH™", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
d–ayL2ReqH™
, 0, 
NULL
);

2768 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2ReqInT¿ns
, 0, 
NULL
);

2769 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2OwnReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2OwnReqInT¿ns
, 0, 
NULL
);

2770 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInInv", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
d–ayL2ReqInInv
, 0, 
NULL
);

2772 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Wr™eReq
, 0, 
NULL
);

2773 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Wr™eReqInv
, 0, 
NULL
);

2774 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Wr™eD–ay
, 0, 
NULL
);

2775 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Wr™eInvD–ay
, 0, 
NULL
);

2777 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Upg¿deReq
, 0, 
NULL
);

2778 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Upg¿deReqInv
, 0, 
NULL
);

2779 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Upg¿deD–ay
, 0, 
NULL
);

2780 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Upg¿deInvD–ay
, 0, 
NULL
);

2782 
	`¡©_»g_couÁ”
 (
sdb
, "couÁNÚAÎocR—dE¬ly", "Numb” oàtime ¨»ad mis »que¡ from L1 ha b“À£rviûdƒ¬ly w™houˆ®loÿtiÚ", &
couÁNÚAÎocR—dE¬ly
, 0, 
NULL
);

2783 #ifdeà
TG


2784 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2785 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»ad_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_»ad_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2786 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_wr™e_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_wr™e_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2788 
	`¡©_»g_couÁ”
 (
sdb
, "L1_mshr_fuÎ", "tÙ®‚umb” oàL1 msh¸ov”æow", &
L1_mshr_fuÎ
, 0, 
NULL
);

2789 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_mshr", "tÙ® sÎ cyşe fÜ L1 msh¸ov”æow", &
SÎ_L1_mshr
, 0, 
NULL
);

2790 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ", "tÙ®‚umb” oàL2 msh¸ov”æow", &
L2_mshr_fuÎ
, 0, 
NULL
);

2791 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L2_mshr", "tÙ® sÎ cyşe fÜ L2 msh¸ov”æow", &
SÎ_L2_mshr
, 0, 
NULL
);

2792 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ_´eãtch", "tÙ®‚umb” oàL2 msh¸ov”æow wh’…»ãtch", &
L2_mshr_fuÎ_´eãtch
, 0, 
NULL
);

2793 
	`¡©_»g_couÁ”
 (
sdb
, "L1_fifo_fuÎ", "tÙ®‚umb” oàL1 fifØov”æow", &
L1_fifo_fuÎ
, 0, 
NULL
);

2794 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_fifo", "tÙ® sÎ cyşe fÜ L1 fifØov”æow", &
SÎ_L1_fifo
, 0, 
NULL
);

2795 
	`¡©_»g_couÁ”
 (
sdb
, "Dœ_fifo_fuÎ", "tÙ®‚umb” oàdœ fifØov”æow", &
Dœ_fifo_fuÎ
, 0, 
NULL
);

2796 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_dœ_fifo", "tÙ® sÎ cyşe fÜ dœ fifØov”æow", &
SÎ_dœ_fifo
, 0, 
NULL
);

2797 
	`¡©_»g_couÁ”
 (
sdb
, "IÅut_queue_fuÎ", "tÙ®‚umb” oàšpuˆqueuov”æow", &
IÅut_queue_fuÎ
, 0, 
NULL
);

2798 
	`¡©_»g_couÁ”
 (
sdb
, "Ouut_queue_fuÎ", "tÙ®‚umb” oàouuˆqueuov”æow", &
Ouut_queue_fuÎ
, 0, 
NULL
);

2799 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_šput_queue", "tÙ® sÎ cyşe dutØšpuˆqueuov”æow", &
SÎ_šput_queue
, 0, 
NULL
);

2800 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_ouut_queue", "tÙ® sÎ cyşe dutØouuˆqueuov”æow", &
SÎ_ouut_queue
, 0, 
NULL
);

2802 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®misshªdËtime
, 0, 
NULL
);

2803 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
Çck_couÁ”
, 0, 
NULL
);

2804 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
æ_couÁ”
, 0, 
NULL
);

2805 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
L1_æ_couÁ”
, 0, 
NULL
);

2806 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_»¶y_b’ef™", "tÙ®‚um oàd©¨»¶y b’ef™", &
e_to_m
, 0, 
NULL
);

2807 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_miss_hªdË_tim/Ù®_ev’t_couÁ", 
NULL
);

2808 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_acûss", "tÙ® mesh_ÃtwÜk‡cûss", &
tÙ®MeshHİCouÁ
, 0, 
NULL
);

2809 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_d–ay", "tÙ® mesh_ÃtwÜk d–ay", &
tÙ®MeshHİD–ay
, 0, 
NULL
);

2810 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_mesh_ÃtwÜk_time", "cyşe ³¸mesh_ÃtwÜk‡cûss", "tÙ®_mesh_ÃtwÜk_d–ay /Ù®_mesh_ÃtwÜk_acûss", 
NULL
);

2811 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_acûss", "tÙ® o±_ÃtwÜk‡cûss", &
tÙ®O±HİCouÁ
, 0, 
NULL
);

2812 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_d–ay", "tÙ® o±_ÃtwÜk d–ay", &
tÙ®O±HİD–ay
, 0, 
NULL
);

2813 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_İt_ÃtwÜk_time", "cyşe ³¸İt_ÃtwÜk‡cûss", "tÙ®_İt_ÃtwÜk_d–ay /Ù®_İt_ÃtwÜk_acûss", 
NULL
);

2814 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_loÿl_ÿche_acûss", "tÙ®†oÿÈdl2 cachacûs numb”", &
loÿl_ÿche_acûss
, 0, 
NULL
);

2815 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»mÙe_ÿche_acûss", "tÙ®„emÙdl2 cachacûs numb”", &
»mÙe_ÿche_acûss
, 0, 
NULL
);

2816 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_wb", "tÙ®wØhİ švŞve dutØwr™back", &
švŞve_2_hİ_wb
, 0, 
NULL
);

2817 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_touch", "tÙ®wØhİ švŞve dutØtouch", &
švŞve_2_hİ_touch
, 0, 
NULL
);

2818 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves", "tÙ®wØhİ švŞves", &
švŞve_2_hİs
, 0, 
NULL
);

2819 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs
, 0, 
NULL
);

2820 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves_wm", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_wm
, 0, 
NULL
);

2821 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves_wm", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_wm
, 0, 
NULL
);

2822 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_miss", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_miss
, 0, 
NULL
);

2823 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_miss", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_miss
, 0, 
NULL
);

2824 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_upg¿de", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_upg¿de
, 0, 
NULL
);

2825 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_upg¿de", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_upg¿de
, 0, 
NULL
);

2826 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_»ad", "tÙ®…riv©d©¨fÜ„—d miss", &
d©a_´iv©e_»ad
, 0, 
NULL
);

2827 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_wr™e", "tÙ®…riv©d©¨fÜ wr™miss", &
d©a_´iv©e_wr™e
, 0, 
NULL
);

2828 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_»ad", "tÙ® sh¬ed d©¨fÜ„—d miss", &
d©a_sh¬ed_»ad
, 0, 
NULL
);

2829 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_wr™e", "tÙ® sh¬ed d©¨fÜ wr™miss", &
d©a_sh¬ed_wr™e
, 0, 
NULL
);

2830 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_şo£", "tÙ®‚umb” oà®Èşo£d cÚsum”s", &
tÙ®_®l_şo£
, 0, 
NULL
);

2831 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÙ_®l_şo£", "tÙ®‚umb” oànÙ‡Î clo£d cÚsum”s", &
tÙ®_nÙ_®l_şo£
, 0, 
NULL
);

2832 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_p_c_ev’ts", "tÙ®…roduû¸ªd cÚsum” ev’t (shouldƒqu®Ø4 hİs)", &
tÙ®_p_c_ev’ts
, 0, 
NULL
);

2833 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_cÚsum”s", "tÙ®‚umb” oàcÚsum”s", &
tÙ®_cÚsum”s
, 0, 
NULL
);

2834 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_š_ÃighbÜ", "tÙ®…ack‘ ¬š‚eighbÜhood", &
tÙ®_·ck‘s_š_ÃighbÜ
, 0, 
NULL
);

2835 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_©_cÜÃrs", "tÙ®…ack‘ ¬© cÜÃrs", &
tÙ®_·ck‘s_©_cÜÃrs
, 0, 
NULL
);

2836 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_®mo¡şo£", "tÙ®‚umb” oà®Èşo£d‡nd cÜÃ¸cÚsum”s", &
tÙ®_®l_®mo¡şo£
, 0, 
NULL
);

2837 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_cÚsum”s", "tÙ® d©¨·ck‘ oàcÚsum”s", &
tÙ®_d©a_cÚsum”s
, 0, 
NULL
);

2838 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_©_cÜÃr", "tÙ® d©¨·ck‘ suµly from‡ˆcÜÃrs", &
tÙ®_d©a_©_cÜÃr
, 0, 
NULL
);

2839 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_şo£", "tÙ® d©¨·ck‘ ¬suµl›d from clo£by sourûs", &
tÙ®_d©a_şo£
, 0, 
NULL
);

2840 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_çr", "tÙ® d©¨·ck‘ ¬sumµl›d from f¬ sourûs", &
tÙ®_d©a_çr
, 0, 
NULL
);

2841 
	`¡©_»g_doubË
 (
sdb
, "av”age_šside_³rûÁ", "av”agšsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_šside_³rûÁ
, 0, 
NULL
);

2842 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_outside_³rûÁ
, 0, 
NULL
);

2843 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_abs_³rûÁ", "av”agabsŞuy outsid·ck‘ ³rûÁ(ç¸- cÜÃr)", &
av”age_outside_abs_³rûÁ
, 0, 
NULL
);

2844 
	`¡©_»g_doubË
 (
sdb
, "av”age_cÜÃr_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(cÜÃr: should bdivided byÙ®_nÙ_®l_şos)", &
av”age_cÜÃr_³rûÁ
, 0, 
NULL
);

2845 #ifdeà
INV_ACK_CON


2846 
	`¡©_»g_doubË
 (
sdb
, "³ndšg_šv®id_cyşes", "how mªy cyşe tØšv®id©thÿchlše", &
³ndšg_šv®id_cyşes
, 0, 
NULL
);

2849 
i
 = 0; i < 
MAXTHREADS
; i++)

2851 
	`¥rštf
 (
ch2
, "sh¬”_bšcouÁ_%d", 
i
);

2852 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
sh¬”_num
[
i
], 0, 
NULL
);

2855 #ifdeà
MC


2857 
	`İtiÿl_»g_¡©s
 (
sdb
);

2859 #ifdeà
OPTICAL_INTERCONNECT


2860 
	`İtiÿl_»g_¡©s
 (
sdb
);

2864 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_couÁ", "cumuÏtivIFQ occu·ncy", &
IFQ_couÁ
, 0, 
NULL
);

2865 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_fcouÁ", "cumuÏtivIFQ fuÎ couÁ", &
IFQ_fcouÁ
, 0, 
NULL
);

2866 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_occu·ncy", "avg IFQ occu·ncy (š¢'s)", "IFQ_couÁ / sim_cyşe", 
NULL
);

2867 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_¿‹", "avg IFQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2868 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_Ï‹ncy", "avg IFQ occu·Á†©’cy (cyşe's)", "ifq_occu·ncy / ifq_¿‹", 
NULL
);

2869 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_fuÎ", "äaùiÚ oàtim(cyşe'sèIFQ wa fuÎ", "IFQ_fcouÁ / sim_cyşe", 
NULL
);

2871 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_couÁ", "cumuÏtivRUU occu·ncy", &
RUU_couÁ
, 0, 
NULL
);

2872 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_fcouÁ", "cumuÏtivRUU fuÎ couÁ", &
RUU_fcouÁ
, 0, 
NULL
);

2873 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_occu·ncy", "avg RUU occu·ncy (š¢'s)", "RUU_couÁ / sim_cyşe", 
NULL
);

2874 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_¿‹", "avg RUU di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2875 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_Ï‹ncy", "avg RUU occu·Á†©’cy (cyşe's)", "ruu_occu·ncy /„uu_¿‹", 
NULL
);

2876 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_fuÎ", "äaùiÚ oàtim(cyşe'sèRUU wa fuÎ", "RUU_fcouÁ / sim_cyşe", 
NULL
);

2878 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_couÁ", "cumuÏtivLSQ occu·ncy", &
LSQ_couÁ
, 0, 
NULL
);

2879 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_fcouÁ", "cumuÏtivLSQ fuÎ couÁ", &
LSQ_fcouÁ
, 0, 
NULL
);

2880 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_occu·ncy", "avg LSQ occu·ncy (š¢'s)", "LSQ_couÁ / sim_cyşe", 
NULL
);

2881 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_¿‹", "avg LSQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2882 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_Ï‹ncy", "avg LSQ occu·Á†©’cy (cyşe's)", "lsq_occu·ncy /†sq_¿‹", 
NULL
);

2883 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_fuÎ", "äaùiÚ oàtim(cyşe'sèLSQ wa fuÎ", "LSQ_fcouÁ / sim_cyşe", 
NULL
);

2884 
	`¡©_»g_couÁ”
 (
sdb
, "dl2Aùu®lyAcûs£d", "", &
dl2Aùu®lyAcûs£d
, 0, 
NULL
);

2886 
	`¡©_»g_couÁ”
 (
sdb
, "´eãtchLßd", "", &
m_sqP»ãtchCÁ
, 0, 
NULL
);

2888 
i
 = 0; i < 
numcÚ‹xts
; i++)

2890 
ch
[20], 
fm
[30], 
ch2
[20];

2892 
	`¥rštf
 (
ch2
, "brRecov”y_%d", 
i
);

2893 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® wrÚg b¿nches", &
brRecov”y
[
i
], 0, 
NULL
);

2895 
	`¥rštf
 (
ch2
, "exŒaIn¢_%d", 
i
);

2896 
	`¡©_»g_couÁ”
 (
sdb
, "exŒaIn¢", "tÙ®‚umb” oàwrÚg…©h in¢ƒxecu‹d", &
exŒaIn¢
[
i
], 0, 
NULL
);

2899 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2901 
ch2
[20];

2903 #ifdef 
EDA


2904 
	`¥rštf
 (
ch2
, "nÚSktIn¢_%d", 
i
);

2905 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ® NÚ sk–‘Ú in¡ruùiÚ execu‹d", &
nÚSktIn¢
[
i
], 0, 
NULL
);

2906 
	`¥rštf
 (
ch2
, "»cov”yCouÁ_%d", 
i
);

2907 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "Recov”y couÁ", &
»cov”yCouÁ
[
i
], 0, 
NULL
);

2908 
	`¥rštf
 (
ch2
, "¡®lCC_BOQEm±y_%d", 
i
);

2909 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "CÜ»ùÃs cÜãtch sÎ dutØBOQƒm±y", &
numBCQEm±y
[
i
], 0, 
NULL
);

2910 
	`¥rštf
 (
ch2
, "tÙ®R–CE_%d", 
i
);

2911 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ® Dl0 cacheviùiÚs.", &
tÙ®R–CE
[
i
], 0, 
NULL
);

2912 
	`¥rštf
 (
ch2
, "numSyncIn¡_%d", 
i
);

2913 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ®‚um oàsynchrÚiz©iÚ in¡ruùiÚs", &
numSyncIn¡
[
i
], 0, 
NULL
);

2917 
i
 = 0; i < 
MAXTHREADS
; i++)

2919 
ch2
[20];

2922 
	`¥rštf
 (
ch2
, "th»ad_sim_š¢_%d", 
i
);

2923 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "³¸th»ad sim‚um in¢", &
simIn¢
[
i
], 0, 
NULL
);

2924 
	`¥rštf
 (
ch2
, "SÎCouÁ_%d", 
i
);

2925 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® sÎ couÁ", &
¦“pCouÁ
[
i
], 0, 
NULL
);

2926 
	`¥rštf
 (
ch2
, "qu›n£Wakeup_%d", 
i
);

2927 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
qu›n£Wakeup
[
i
], 0, 
NULL
);

2928 
	`¥rštf
 (
ch2
, "£qCÚsR•Ïy_%d", 
i
);

2929 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsR•Ïy
[
i
], 0, 
NULL
);

2930 
	`¥rštf
 (
ch2
, "£qCÚsIn¢R•Ïy_%d", 
i
);

2931 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsIn¢R•Ïy
[
i
], 0, 
NULL
);

2932 
	`¥rštf
 (
ch2
, "ld¡RejeùiÚCouÁ_%d", 
i
);

2933 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
ld¡RejeùiÚCouÁ
[
i
], 0, 
NULL
);

2934 
	`¥rštf
 (
ch2
, "TrueR•Ïy_%d", 
i
);

2935 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqNumLdR•Ïy
[
i
], 0, 
NULL
);

2937 
	`¥rštf
 (
ch2
, "Inv®id©iÚR•Ïy_%d", 
i
);

2938 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
šv®id©iÚ_»¶ay
[
i
], 0, 
NULL
);

2940 #ifdeà
RELAXED_CONSISTENCY


2941 
	`¥rštf
 (
ch2
, "lßdLßdR•Ïy_%d", 
i
);

2942 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
lßdLßdR•ÏyCouÁ
[
i
], 0, 
NULL
);

2944 
	`¥rštf
 (
ch2
, "avgRUUsize_%d", 
i
);

2945 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgRUUsize
[
i
], 0, 
NULL
);

2946 
	`¥rštf
 (
ch2
, "avgLQsize_%d", 
i
);

2947 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgLQsize
[
i
], 0, 
NULL
);

2948 
	`¥rštf
 (
ch2
, "avgSQsize_%d", 
i
);

2949 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgSQsize
[
i
], 0, 
NULL
);

2950 
	`¥rštf
 (
ch2
, "Comm™SÎ_%d", 
i
);

2951 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_comm™SÎ
[
i
], 0, 
NULL
);

2952 
	`¥rštf
 (
ch2
, "TÙ®SÎ_%d", 
i
);

2953 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_tÙ®SÎ
[
i
], 0, 
NULL
);

2954 
	`¥rštf
 (
ch2
, "RUUSÎ_%d", 
i
);

2955 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_RUUFuÎ
[
i
], 0, 
NULL
);

2956 
	`¥rštf
 (
ch2
, "LQSÎ_%d", 
i
);

2957 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqLQFuÎ
[
i
], 0, 
NULL
);

2958 
	`¥rštf
 (
ch2
, "SQSÎ_%d", 
i
);

2959 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqSQFuÎ
[
i
], 0, 
NULL
);

2960 
	`¥rštf
 (
ch2
, "StÜeMissSÎ_%d", 
i
);

2961 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeMiss
[
i
], 0, 
NULL
);

2962 
	`¥rštf
 (
ch2
, "LßdMissSÎ_%d", 
i
);

2963 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdMiss
[
i
], 0, 
NULL
);

2964 
	`¥rštf
 (
ch2
, "RegSÎ_%d", 
i
);

2965 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_»gFuÎ
[
i
], 0, 
NULL
);

2966 
	`¥rštf
 (
ch2
, "IssueSÎ_%d", 
i
);

2967 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_issueFuÎ
[
i
], 0, 
NULL
);

2968 
	`¥rštf
 (
ch2
, "Il1missSÎ_%d", 
i
);

2969 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_1Miss
[
i
], 0, 
NULL
);

2970 
	`¥rštf
 (
ch2
, "F‘chSÎ_%d", 
i
);

2971 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_ãtchEm±y
[
i
], 0, 
NULL
);

2972 
	`¥rštf
 (
ch2
, "STLCSÎ_%d", 
i
);

2973 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_STLC
[
i
], 0, 
NULL
);

2974 
	`¥rštf
 (
ch2
, "T¿pSÎ_%d", 
i
);

2975 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_Œ­
[
i
], 0, 
NULL
);

2978 #ifdeà
LOAD_PREDICTOR


2980 ià(
ld´ed
)

2981 
	`b´ed_»g_¡©s
 (
ld´ed
, 
sdb
, 0);

2985 
i
 = 0; i < 
numcÚ‹xts
; i++)

2987 
	`ld_»g_¡©s
 (
sdb
, 
i
);

2988 
	`mem_»g_¡©s
 (
thecÚ‹xts
[
i
]->
mem
, 
sdb
);

2990 #ifdef 
EDA


2991 
i
 = 0; i < 
numcÚ‹xts
; i++)

2993 ià(
ÿche_dl0
[
i
])

2994 
	`ÿche_»g_¡©s
 (
ÿche_dl0
[
i
], 
sdb
, i);

2998 
i
 = 0; i < 
CLUSTERS
; i++)

3000 ià(
ÿche_dl1
[
i
])

3001 
	`ÿche_»g_¡©s
 (
ÿche_dl1
[
i
], 
sdb
, i);

3002 ià(
ÿche_1
[
i
])

3003 
	`ÿche_»g_¡©s
 (
ÿche_1
[
i
], 
sdb
, i);

3004 ià(
™lb
[
i
])

3005 
	`ÿche_»g_¡©s
 (
™lb
[
i
], 
sdb
, i);

3006 ià(
db
[
i
])

3007 
	`ÿche_»g_¡©s
 (
db
[
i
], 
sdb
, i);

3011 ià(
ÿche_dl2
)

3012 
	`ÿche_»g_¡©s
 (
ÿche_dl2
, 
sdb
, 0);

3015 
	`pow”_»g_¡©s
 (
sdb
);

3018 
	`¡©_»g_couÁ”
 (
sdb
, "sim_šv®id_addrs", "tÙ®‚Ú-¥ecuÏtivbogu add»s£ £’ (debug v¬)", &
sim_šv®id_addrs
, 0, 
NULL
);

3020 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

3022 
buf
[512], 
buf1
[512];

3023 
¡©_¡©_t
 *
¡©
;

3027 
¡©
 = 
	`¡©_fšd_¡©
 (
sdb
, 
pc¡©_v¬s
[
i
]);

3028 ià(!
¡©
)

3029 
	`çl
 ("ÿÂÙ†oÿ‹‡ny sti¡iøÇmed `%s'", 
pc¡©_v¬s
[
i
]);

3032 ià(
¡©
->
sc
 !ğ
sc_št
 && st->sø!ğ
sc_ušt
 && st->sø!ğ
sc_couÁ”
)

3033 
	`çl
 ("`-pc¡©' sti¡iÿÈv¬ŸbË `%s' i nÙ‡Àš‹g¿Èty³", 
¡©
->
Çme
);

3036 
pc¡©_¡©s
[
i
] = 
¡©
;

3037 
pc¡©_Ï¡v®s
[
i
] = 
	`STATVAL
 (
¡©
);

3040 
	`¥rštf
 (
buf
, "%s_by_pc", 
¡©
->
Çme
);

3041 
	`¥rštf
 (
buf1
, "% (byexˆadd»ss)", 
¡©
->
desc
);

3042 
pc¡©_sdi¡s
[
i
] = 
	`¡©_»g_sdi¡
 (
sdb
, 
buf
, 
buf1
,

3044  (
PF_COUNT
 | 
PF_PDF
),

3046  
NULL
);

3050 #ifdeà
TOKENB


3051 ià(
tok’B
)

3052 
	`tc_»g_¡©s
 (
sdb
);

3054 
	`şu¡”_»g_¡©s
 (
sdb
);

3055 
	}
}

3058 
lsq_š™
 ();

3059 
r¦šk_š™
 (
Æšks
);

3060 
rs_ÿche_š™
 ();

3061 
ev’tq_š™
 ();

3062 
»adyq_š™
 ();

3063 
cv_š™
 (
th»adid
);

3064 
ruu_š™
 (
th»adid
);

3065 
Œaûr_š™
 (
th»adid
);

3066 
ãtch_š™
 (
th»adid
);

3068 #ifdeà
DIRECTORY


3069 
dœ_ev’tq_š™
();

3074 
	$sim_š™
 ()

3076 
i
;

3078 
sim_num_»fs
 = 0;

3080 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

3083 ià(
bimod_ÃÉ
 != 1)

3084 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3085 ià(
btb_ÃÉ
 != 2)

3086 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3089 
i
 = 0; i < 
numcÚ‹xts
; i++)

3091 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

3092  
bimod_cÚfig
[0],

3098  
btb_cÚfig
[0],

3099  
btb_cÚfig
[1],

3100  
¿s_size
);

3103 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

3106 ià(
twŞev_ÃÉ
 != 4)

3107 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3108 ià(
btb_ÃÉ
 != 2)

3109 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3111 
i
 = 0; i < 
numcÚ‹xts
; i++)

3113 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

3115  
twŞev_cÚfig
[0],

3116  
twŞev_cÚfig
[1],

3118  
twŞev_cÚfig
[2],

3119  
twŞev_cÚfig
[3],

3120  
btb_cÚfig
[0],

3121  
btb_cÚfig
[1],

3122  
¿s_size
);

3125 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

3128 ià(
twŞev_ÃÉ
 != 4)

3129 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3130 ià(
bimod_ÃÉ
 != 1)

3131 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3132 ià(
comb_ÃÉ
 != 1)

3133 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

3134 ià(
btb_ÃÉ
 != 2)

3135 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3137 
i
 = 0; i < 
numcÚ‹xts
; i++)

3139 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

3140  
bimod_cÚfig
[0],

3141  
twŞev_cÚfig
[0],

3142  
twŞev_cÚfig
[1],

3143  
comb_cÚfig
[0],

3144  
twŞev_cÚfig
[2],

3145  
twŞev_cÚfig
[3],

3146  
btb_cÚfig
[0],

3147  
btb_cÚfig
[1],

3148  
¿s_size
);

3152 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


3153 #iâdeà
CENTRALIZED_CACHE_BANK


3154 ià(
»s_membªk
 < 
CLUSTERS
)

3156 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3157 
	`årštf
 (
¡d”r
, "„es_membªk %d < CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3158 
	`ex™
 (1);

3161 ià(
»s_membªk
 !ğ
CLUSTERS
)

3163 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3164 
	`årštf
 (
¡d”r
, "„es_membªk %d !ğ CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3165 
	`ex™
 (1);

3170 #ifdeà
PORT_PER_BANK


3171 
CACHEPORTS
 = 
RES_CACHEPORTS
 = 
RES_CACHE_PORTS
 = 
»s_membªk
;

3172 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

3175 #ifdeà
ISSUE_PER_CLUSTER


3181 
i
 = 0; i < 
numcÚ‹xts
; i++)

3183 ià(
i
 == 0)

3185 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
Vdd
 * Vdd;

3186 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* (
Vdd
 / 2) * (Vdd / 2);

3187 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 1;

3191 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * 
Vdd
 * checkerVDD * Vdd;

3192 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * (
Vdd
 / 2) * checkerVDD * (Vdd / 2);

3193 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 
check”VDD
;

3196 
	`ÿlcuÏ‹_pow”
 (&(
thecÚ‹xts
[
i
]->
pow”
));

3198 ià(
i
)

3200 
thecÚ‹xts
[
i
]->
pow”
.
b´ed_pow”
 = 0;

3201 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_pow”
 =hecontexts[0]->power.dcache2_power;

3203 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_decod”
 =hecontexts[0]->power.dcache2_decoder;

3204 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_wÜdlše
 =hecontexts[0]->power.dcache2_wordline;

3205 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_b™lše
 =hecontexts[0]->power.dcache2_bitline;

3206 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_£n£amp
 =hecontexts[0]->power.dcache2_senseamp;

3207 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_g¬¿y
 =hecontexts[0]->power.dcache2_tagarray;

3208 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_gc
 =hecontexts[0]->power.dcache2_gc;

3212 ià(
hÙ¥Ù_aùive
)

3213 
	`hÙ¥Ù_š™
 ();

3214 
	}
}

3218 
simoo_»g_obj
 (
»gs_t
 *
»gs
,

3219 
is_wr™e
,

3220 
md_»g_ty³
 
¹
,

3221 
»g
,

3222 
ev®_v®ue_t
 *
v®
);

3226 
simoo_mem_obj
 (
mem_t
 *
mem
,

3227 
is_wr™e
,

3228 
md_addr_t
 
addr
,

3229 *
p
,

3230 
nby‹s
);

3234 
simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

3235 *
cmd
,

3236 
»gs_t
 *
»gs
,

3237 
mem_t
 *
mem
);

3240 
	#MAX_RS_LINKS
 65536

	)

3241 
couÁ”_t
 
	grs_lšk_num
 = 0;

3243 
	gMAX_BR_NUM
;

3247 
	$sim_lßd_th»ads
 (
¬gc
, **
¬gv
,

3248 **
’vp
)

3250 
j
, 
¬g_¡©us
 = 1;

3251 
cÚ‹xt
 *
cu¼’t
;

3253 
numcÚ‹xts
 = 0;

3254 
j
 = 0; (j < 
¬gc
è&& (
numcÚ‹xts
 < 
MAXTHREADS
è&& 
¬g_¡©us
; j++)

3256 
	`årštf
 (
¡d”r
, "In™Ÿlizšg cÚ‹xˆ%d\n", 
numcÚ‹xts
);

3258 
¬g_¡©us
 = 
	`»ad_th»ad_¬gs
 (
’vp
, 
¬gv
[
j
], &
numcÚ‹xts
);

3260 
cu¼’t
 = 
thecÚ‹xts
[
j
];

3262 
cu¼’t
->
aùu®id
 = 0;

3265 
	`ld_lßd_´og
 (
cu¼’t
->
âame
, cu¼’t->
¬gc
, cu¼’t->
¬gv
, 
’vp
, &(cu¼’t->
»gs
), cu¼’t->
mem
, 
TRUE
, 
j
);

3269 ià(
±¿û_ÃÉ
 == 2)

3272 
	`±¿û_İ’
 ( 
±¿û_İts
[0],…trace_opts[1]);

3274 ià(
±¿û_ÃÉ
 == 0)

3279 
	`çl
 ("bad…ipetrace‡rgs, use: <fname|stdout|stderr> <range>");

3282 
MAX_BR_NUM
 = 
ruu_ifq_size
 + 
RUU_size
;

3287 
fu_poŞ
 = 
	`»s_ü—‹_poŞ
 ("fu-poŞ", 
fu_cÚfig
, 
	`N_ELT
 (fu_config));

3288 
	`r¦šk_š™
 (
MAX_RS_LINKS
);

3289 
	`rs_ÿche_š™
();

3290 
aùivecÚ‹xts
 = 
numcÚ‹xts
;

3291 
j
 = 0; j < 
numcÚ‹xts
; j++)

3292 
	`Œaûr_š™
 (
j
);

3293 
j
 = 0; j < 
numcÚ‹xts
; j++)

3294 
	`ãtch_š™
 (
j
);

3295 
j
 = 0; j < 
numcÚ‹xts
; j++)

3296 
	`cv_š™
 (
j
);

3297 
	`ev’tq_š™
 ();

3298 
	`»adyq_š™
 ();

3300 #ifdeà
DIRECTORY


3301 
	`dœ_ev’tq_š™
();

3302 
j
 = 0; j < 
numcÚ‹xts
+
MESH_SIZE
*2; j++)

3304 
dœ_fifo_h—d
[
j
] = 0;

3305 
dœ_fifo_
[
j
] = 0;

3306 
dœ_fifo_num
[
j
] = 0;

3307 
dœ_fifo_pÜtu£
[
j
] = 0;

3308 
l1_fifo_h—d
[
j
] = 0;

3309 
l1_fifo_
[
j
] = 0;

3310 
l1_fifo_num
[
j
] = 0;

3311 
l1_fifo_pÜtu£
[
j
] = 0;

3312 
mshr_³ndšg_ev’t
[
j
] = 0;

3313 
Ï¡_L1_mshr_fuÎ
[
j
] = 0;

3314 
Ï¡_L1_fifo_fuÎ
[
j
] = 0;

3315 
Ï¡_Dœ_fifo_fuÎ
[
j
] = 0;

3316 
Ï¡_IÅut_queue_fuÎ
[
j
] = 0;

3318 
Ï¡_L2_mshr_fuÎ
 = 0;

3319 
§me_L1_L2_fifo_fuÎ
 = 0;

3320 
L1_mshr_fuÎ
 = 0;

3321 
L2_mshr_fuÎ
 = 0;

3322 
L2_mshr_fuÎ_´eãtch
 = 0;

3323 
L1_fifo_fuÎ
 = 0;

3324 
Dœ_fifo_fuÎ
 = 0;

3325 
IÅut_queue_fuÎ
 = 0;

3326 
Ouut_queue_fuÎ
 = 0;

3328 
SÎ_L1_mshr
 = 0;

3329 
SÎ_L2_mshr
 = 0;

3330 
SÎ_L1_fifo
 = 0;

3331 
SÎ_dœ_fifo
 = 0;

3332 
SÎ_šput_queue
 = 0;

3333 
SÎ_ouut_queue
 = 0;

3336 
j
 = 0; j < 
numcÚ‹xts
; j++)

3338 
	`ruu_š™
 (
j
);

3339 
	`lsq_š™
 (
j
);

3342 
j
 = 0; j < 
numcÚ‹xts
; j++)

3344 
´iÜ™y
[
j
] = j;

3345 
key
[
j
] = 0;

3346 #ifdeà
INTERVAL_BASED


3347 
š‹rv®_´iÜ™y
[
j
] = j;

3348 
š‹rv®_key
[
j
] = 0;

3352 #ifdeà 
CLUSTER_PRIORITY


3353 
j
 = 0; j < 
CLUSTERS
; j++)

3354 
´iÜ™y_ş
[
j
] = j;

3357 #ifdeà 
PRIORITY_STEER


3358 
j
 = 0; j < 
CLUSTERS
; j++)

3359 
´iÜ™y_ş
[
j
] = j;

3362 #ifdeà 
STEER_DISPATCH_STAT


3363 
j
 = 0; j < 
numcÚ‹xts
; j++)

3364 
»ady_¡“r_thrd_max
[
j
] = 
»ady_¡“r_thrd_mš
[j] = 
»ady_¡“r_thrd_v®ue
[j] = 
MAXDEV
 / 2;

3367 #ià
	`defšed
(
DLITE_SUPPORT
)

3369 
	`dl™e_š™
 (
simoo_»g_obj
, 
simoo_mem_obj
, 
simoo_m¡©e_obj
);

3371 
	}
}

3375 
	$sim_aux_¡©s
 (
FILE
 * 
¡»am
)

3378 
	}
}

3382 
	$sim_unš™
 ()

3384 ià(
±¿û_ÃÉ
 > 0)

3385 
	`±¿û_şo£
 ();

3388 
	}
}

3395 #iâdeà 
STEER_DISPATCH_STAT


3397 
	#OPERANDS_READY
(
RS
è\

	)

3398 ((
	gRS
)->
	gid•_»ady
[0] && (RS)->idep_ready[1] && (RS)->idep_ready[2])

3402 
	#ONE_OPERANDS_READY
(
RS
è\

	)

3403 ((
	gRS
)->
	gid•_»ady
[0] || (RS)->idep_ready[1])

3408 
	$ruu_š™
 (
th»adid
)

3410 
i
 = 0;

3411 
cÚ‹xt
 *
cu¼’t
;

3413 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3414 
cu¼’t
->
RUU
 = 
	`ÿÎoc
 (
RUU_size
,  (
RUU_¡©iÚ
));

3415 ià(!
cu¼’t
->
RUU
)

3416 
	`çl
 ("out of virtual memory");

3418 
i
 = 0; i < 
RUU_size
; i++)

3420 
cu¼’t
->
RUU
[
i
].
šdex
 = i;

3421 
cu¼’t
->
RUU
[
i
].
th»adid
 =hreadid;

3423 
cu¼’t
->
RUU_num
 = 0;

3424 
cu¼’t
->
RUU_h—d
 = cu¼’t->
RUU_
 = 0;

3425 
cu¼’t
->
RUU_couÁ_thrd
 = 0;

3426 
cu¼’t
->
RUU_fcouÁ_thrd
 = 0;

3427 
RUU_couÁ
 = 0;

3428 
RUU_fcouÁ
 = 0;

3430 ià(
th»adid
)

3432 
cu¼’t
->
cyşe_mask
 = 0xffffffff;

3433 
cu¼’t
->
Ï‹ncy_çùÜ
 = 1;

3434 
cu¼’t
->
maš_th»ad
 = 1;

3435 
ÿche_dl1
[
th»adid
]->
h™_Ï‹ncy
 *ğ
cu¼’t
->
Ï‹ncy_çùÜ
;

3438 
i
 = 0; i < 
CLUSTERS
; i++)

3440 
œegfe_ş_couÁ
[
i
] = 0;

3441 
›xŒa_ş_couÁ
[
i
] = 0;

3442 
äegfe_ş_couÁ
[
i
] = 0;

3443 
ãxŒa_ş_couÁ
[
i
] = 0;

3444 
iissueq_ş_couÁ
[
i
] = 0;

3445 
fissueq_ş_couÁ
[
i
] = 0;

3446 #ifdeà
RAW


3447 
¿wq_ş_couÁ
[
i
] = 0;

3450 
	}
}

3454 
	$ruu_dum³Á
 (
RUU_¡©iÚ
 *
rs
,

3455 
šdex
,

3456 
FILE
 * 
¡»am
,

3457 
h—d”
)

3459 ià(!
¡»am
)

3460 
¡»am
 = 
¡d”r
;

3462 ià(
h—d”
)

3463 
	`årštf
 (
¡»am
, "idx: %2d: opcode: %s, in¡: `", 
šdex
, 
	`MD_OP_NAME
 (
rs
->
İ
));

3465 
	`årštf
 (
¡»am
, " opcode: %s, in¡: `", 
	`MD_OP_NAME
 (
rs
->
İ
));

3466 
	`md_´št_š¢
 (
rs
->
IR
,„s->
PC
, 
¡»am
);

3467 
	`årštf
 (
¡»am
, "'\n");

3468 
	`myårštf
 (
¡»am
, " PC: 0x%08p, NPC: 0x%08°Õ»d_PC: 0x%08p)\n", 
rs
->
PC
,„s->
Ãxt_PC
,„s->
´ed_PC
);

3469 
	`årštf
 (
¡»am
, " in_LSQ: %s,ƒa_comp: %s,„ecov”_š¡: %s\n", 
rs
->
š_LSQ
 ? "t" : "f",„s->
—_comp
 ? "t" : "f",„s->
»cov”_š¡
 ? "t" : "f");

3470 
	`myårštf
 (
¡»am
, " s³c_mode: %s,‡ddr: 0x%08p,ag: 0x%08x\n", 
rs
->
¥ec_mode
 ? "t" : "f",„s->
addr
,„s->
g
);

3471 
	`årštf
 (
¡»am
, " seq: 0x%08x,…Œaû_£q: 0x%08x\n", 
rs
->
£q
,„s->
±¿û_£q
);

3472 
	`årštf
 (
¡»am
, " queued: %s, issued: %s, com¶‘ed: %s\n", 
rs
->
queued
 ? "t" : "f",„s->
issued
 ? "t" : "f",„s->
com¶‘ed
 ? "t" : "f");

3473 
	`årštf
 (
¡»am
, " o³¿nd »ady: %s\n", 
	`OPERANDS_READY
 (
rs
) ? "t" : "f");

3474 
	}
}

3478 
	$ruu_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

3480 
num
, 
h—d
;

3481 
RUU_¡©iÚ
 *
rs
;

3483 
cÚ‹xt
 *
cu¼’t
;

3485 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3487 ià(!
¡»am
)

3488 
¡»am
 = 
¡d”r
;

3490 
	`årštf
 (
¡»am
, "** Th»ad %d **\n", 
th»adid
);

3491 
	`årštf
 (
¡»am
, "** RUU state **\n");

3492 
	`årštf
 (
¡»am
, "RUU_h—d: %d, RUU_: %d\n", 
cu¼’t
->
RUU_h—d
, cu¼’t->
RUU_
);

3493 
	`årštf
 (
¡»am
, "RUU_num: %d\n", 
cu¼’t
->
RUU_num
);

3495 
num
 = 
cu¼’t
->
RUU_num
;

3496 
h—d
 = 
cu¼’t
->
RUU_h—d
;

3497 
num
)

3499 
rs
 = &(
cu¼’t
->
RUU
[
h—d
]);

3500 
	`ruu_dum³Á
 (
rs
,„ - 
cu¼’t
->
RUU
, 
¡»am
, 
TRUE
);

3501 
h—d
 = (h—d + 1è% 
RUU_size
;

3502 
num
--;

3504 
	}
}

3508 
	$lsq_š™
 (
th»adid
)

3510 
i
 = 0;

3511 
cÚ‹xt
 *
cu¼’t
;

3513 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3515 
cu¼’t
->
LSQ
 = 
	`ÿÎoc
 (
LSQ_size
,  (
RUU_¡©iÚ
));

3516 ià(!
cu¼’t
->
LSQ
)

3517 
	`çl
 ("out of virtual memory");

3518 
i
 = 0; i < 
LSQ_size
; i++)

3520 
cu¼’t
->
LSQ
[
i
].
šdex
 = i;

3521 
cu¼’t
->
LSQ
[
i
].
th»adid
 =hreadid;

3523 
cu¼’t
->
LSQ_num
 = 0;

3524 
cu¼’t
->
LSQ_h—d
 = cu¼’t->
LSQ_
 = 0;

3525 
cu¼’t
->
LSQ_couÁ
 = 0;

3526 
cu¼’t
->
LSQ_fcouÁ
 = 0;

3527 
cu¼’t
->
m_shLQNum
 = 0;

3528 
cu¼’t
->
m_shSQNum
 = 0;

3529 
m_tÙ®SÎ
[
th»adid
] = 0;

3530 
m_sqLQFuÎ
[
th»adid
] = 0;

3531 
m_sqSQFuÎ
[
th»adid
] = 0;

3532 
m_RUUFuÎ
[
th»adid
] = 0;

3533 
m_comm™SÎ
[
th»adid
] = 0;

3535 
	}
}

3540 #ifdeà
COUNT_LSQ


3541 
	gnÚ_issue_LSQ_num
;

3549 
	#STORE_OP_INDEX
 0

	)

3550 
	#STORE_ADDR_INDEX
 1

	)

3552 
	#STORE_OP_READY
(
RS
è((RS)->
id•_»ady
[
STORE_OP_INDEX
])

	)

3553 
	#STORE_ADDR_READY
(
RS
è((RS)->
id•_»ady
[
STORE_ADDR_INDEX
])

	)

3571 
RS_lšk
 *
	gr¦šk_ä“_li¡
;

3572 
RS_lšk
 *
	gr¦šk_li¡
[
MAX_RS_LINKS
];

3575 #ifdeà
DIRECTORY


3576 
RS_li¡
 *
	grs_ÿche_li¡
[
MAXTHREADS
][
MSHR_SIZE
];

3579 
RS_lšk
 
	gRSLINK_NULL
 = 
RSLINK_NULL_DATA
;

3582 
	#RSLINK_INIT
(
RSL
, 
RS
è\

	)

3583 ((
	gRSL
).
	gÃxt
 = 
NULL
, (RSL).
	grs
 = (
RS
), (RSL).
	gg
 = (RS)->
g
)

3586 
	#RSLINK_IS_NULL
(
LINK
è((LINK)->
rs
 =ğ
NULL
)

	)

3589 
	#RSLINK_VALID
(
LINK
è((LINK)->
g
 =ğ(LINK)->
rs
->g)

	)

3592 
	#RSLINK_RS
(
LINK
è((LINK)->
rs
)

	)

3595 
	#RSLINK_NEW
(
DST
, 
RS
è\

	)

3596 { 
RS_lšk
 *
	gn_lšk
; \

3597 ià(!
	gr¦šk_ä“_li¡
) \

3598 
·nic
("out of„s†inks"); \

3599 
	grs_lšk_num
++; \

3600 
	gn_lšk
 = 
r¦šk_ä“_li¡
; \

3601 
	gr¦šk_ä“_li¡
 = 
r¦šk_ä“_li¡
->
Ãxt
; \

3602 
	gn_lšk
->
	gÃxt
 = 
NULL
; \

3603 
	gn_lšk
->
	grs
 = (
RS
);‚_lšk->
	gg
 = 
n_lšk
->
rs
->
g
; \

3604 
	gn_lšk
->
	gÏ¡_u£
 = 
sim_cyşe
; \

3605 (
	gDST
èğ
n_lšk
; \

3609 
	#RSLINK_FREE
(
LINK
è\

	)

3610 { 
RS_lšk
 *
	gf_lšk
 = (
LINK
); \

3611 
	gf_lšk
->
	grs
 = 
NULL
; f_lšk->
	gg
 = 0; \

3612 
	gf_lšk
->
	gÃxt
 = 
r¦šk_ä“_li¡
; \

3613 
	gr¦šk_ä“_li¡
 = 
f_lšk
; \

3614 
	grs_lšk_num
--; \

3619 
	#RSLINK_FREE_LIST
(
LINK
è\

	)

3620 { 
RS_lšk
 *
	gæ_lšk
, *
	gæ_lšk_Ãxt
; \

3621 
	gæ_lšk
=(
LINK
); fl_lšk; fl_lšk=
æ_lšk_Ãxt
) \

3623 
æ_lšk_Ãxt
 = 
æ_lšk
->
Ãxt
; \

3624 
RSLINK_FREE
(
æ_lšk
); \

3630 
	$r¦šk_š™
 (
Æšks
)

3632 
i
;

3633 
RS_lšk
 *
lšk
;

3635 
r¦šk_ä“_li¡
 = 
NULL
;

3636 
i
 = 0; i < 
Æšks
; i++)

3638 
lšk
 = 
	`ÿÎoc
 (1,  (
RS_lšk
));

3639 ià(!
lšk
)

3640 
	`çl
 ("out of virtual memory");

3641 
r¦šk_li¡
[
i
] = 
lšk
;

3642 
lšk
->
Ãxt
 = 
r¦šk_ä“_li¡
;

3643 
r¦šk_ä“_li¡
 = 
lšk
;

3645 
	}
}

3647 
RS_lšk
 * 
	$fšdMax_r¦šk
()

3649 
i
, 
max_id
;

3650 
RS_lšk
 *
lšk
;

3651 
couÁ”_t
 
max
 = 0;

3653 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

3655 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 > 
max
)

3657 
max
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

3658 
max_id
 = 
i
;

3661  
r¦šk_li¡
[
max_id
];

3662 
	}
}

3664 
RS_lšk
 * 
	$fšdMš_r¦šk
()

3666 
i
, 
mš_id
;

3667 
RS_lšk
 *
lšk
;

3668 
couÁ”_t
 
mš
 = 
WAIT_TIME
;

3670 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

3672 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 < 
mš
)

3674 
mš
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

3675 
mš_id
 = 
i
;

3678  
r¦šk_li¡
[
mš_id
];

3679 
	}
}

3681 #ifdeà
DIRECTORY


3683 
	$rs_ÿche_š™
()

3685 
i
, 
n
;

3686 
n
 = 0;‚ < 
MAXTHREADS
;‚++)

3688 
i
=0; i<
MSHR_SIZE
; i++)

3689 
rs_ÿche_li¡
[
n
][
i
] = 
NULL
;

3691 
	}
}

3698 
	$check_fu_busy
 ()

3700 
i
;

3702 
i
 = 0; i < 
numcÚ‹xts
; i++)

3704 
fu_busy
[
i
] = 0;

3708 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

3710 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
)

3711 
fu_busy
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]++;

3713 
	}
}

3723 
	$ruu_»Ëa£_fu
 ()

3725 
i
;

3728 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

3731 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
 > 0)

3733 
fu_poŞ
->
»sourûs
[
i
].
busy
--;

3735 #ifdeà 
PWR_ALU


3736 #ifdeà
ALU_MERGE


3737 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

3739 
Ÿlu1_acûss
++;

3740 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

3742 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

3744 
çlu1_acûss
++;

3745 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

3748 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

3750 
Ÿlu1_acûss
++;

3751 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

3753 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IMULT_INDEX
)

3755 
Ÿlu2_acûss
++;

3756 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu2_acûss
++;

3759 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

3761 
çlu1_acûss
++;

3762 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

3765 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPMULT_INDEX
)

3767 
çlu2_acûss
++;

3768 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu2_acûss
++;

3776 
	}
}

3778 #ifdeà
DIRECTORY


3779 #ifdeà
CONF_RES_RESEND


3780 
QUEUE_EVENT
 *
	g»¶y_queue
[
MAXTHREADS
], *
	g£nd_queue
[MAXTHREADS];

3782 
DIRECTORY_EVENT
 *
	gdœ_ev’t_queue
;

3783 
DIRECTORY_EVENT
 *
	gev’t_li¡
[
L2_MSHR_SIZE
];

3786 
	$dœ_ev’tq_š™
()

3788 
n
 = 0;

3789 #ifdeà
CONF_RES_RESEND


3790 
n
 = 0;‚<
MAXTHREADS
;‚++)

3792 
»¶y_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

3793 
£nd_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

3794 
	`š™Queue
(
»¶y_queue
[
n
]);

3795 
	`š™Queue
(
£nd_queue
[
n
]);

3798 
dœ_ev’t_queue
 = 
NULL
;

3799 
n
 = 0;‚<
L2_MSHR_SIZE
;‚++)

3800 
ev’t_li¡
[
n
] = 
NULL
;

3801 
	}
}

3803 #ifdeà
CONF_RES_RESEND


3805 
	$š™Queue
(
QUEUE_EVENT
 *
queue
)

3807 
i
;

3808 if(!
queue
) ;

3809 
queue
->
ä“_EÁr›s
 = 
QUEUE_SIZE
;

3810 
i
=0; i<
QUEUE_SIZE
; i++)

3812 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 0;

3813 
queue
->
Queue_’Œy
[
i
].
ev’t
 = 
NULL
;

3815 
	}
}

3819 
	$bufãr_fuÎ_check
(
DIRECTORY_EVENT
 *
ev’t
)

3821 
vc
 = 0, 
İtiÚs
 = -1, 
bufãr_fuÎ
 = 0;

3822 if((
ev’t
->
des1
*
MESH_SIZE
+ev’t->
des2
 !ğev’t->
¤c1
*MESH_SIZE+ev’t->
¤c2
è&& (ev’t->
šput_bufãr_fuÎ
è&& (ev’t->
İ”©iÚ
 =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
MISS_IL1
))

3824 #ifdeà
MC


3825 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI"))

3827 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

3828 
bufãr_fuÎ
 = 1;

3830 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

3832 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3833 if(
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
) == -1)

3834 
bufãr_fuÎ
 = 1;

3837 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

3840 
bufãr_fuÎ
 = 
	`CombN‘wÜkBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1),ƒv’t->
İ”©iÚ
, &
vc
);

3842 if(
bufãr_fuÎ
)

3844 #ifdeà
POPNET


3845 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3846 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

3849 #ifdeà
POPNET


3850 
vc
 == -1

3852 #ifdeà
OPTICAL_INTERCONNECT


3853 
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
)

3859 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
MESH_SIZE
+ev’t->
des2
])

3861 
IÅut_queue_fuÎ
 ++;

3862 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
MESH_SIZE
+ev’t->
des2
] = 
sim_cyşe
;

3868 
ev’t
->
šput_bufãr_fuÎ
 = 0;

3869 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3870 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3871 if(
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
MESH_SIZE
+ev’t->
des2
])

3873 
SÎ_šput_queue
 +ğ
sim_cyşe
 - 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
MESH_SIZE
+ev’t->
des2
];

3874 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
MESH_SIZE
+ev’t->
des2
] = 0;

3881 
	}
}

3882 
	$dœ_ev’tq_Ãx‹v’t
()

3884 
DIRECTORY_EVENT
 *
ev’t
, *
ev
, *
Ãxt
, *
´ev
;

3885 
i
, 
š£¹_æag
 = 0;

3886 
ev’t
 = 
dœ_ev’t_queue
;

3887 
ev
 = 
NULL
;

3888 
ev’t
!=
NULL
)

3890 
Ãxt
 = 
ev’t
->next;

3892 ià(
ev’t
->
wh’
 <ğ
sim_cyşe
)

3894 
š£¹_æag
 = 
	`bufãr_fuÎ_check
(
ev’t
);

3895 if(
š£¹_æag
 == 0)

3897 if(
ev’t
 =ğ
dœ_ev’t_queue
)

3899 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

3900 
ev’t
->
Ãxt
 = 
NULL
;

3901 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

3903 if(
ev’t
->
³ndšg_æag
 == 0)

3905 
ev’t
->
³ndšg_æag
 = 1;

3906 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
MESH_SIZE
 +ƒv’t->
¤c2
] ++;

3909 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

3910 
dœ_ev’t_queue
 = 
ev’t
;

3911 
ev
 = 
ev’t
;

3912 
ev’t
 =ƒv’t->
Ãxt
;

3913 
§me_L1_L2_fifo_fuÎ
 ++;

3917 if(
ev’t
->
³ndšg_æag
 == 1)

3918 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
MESH_SIZE
 +ƒv’t->
¤c2
] --;

3919 
ev’t
 = 
dœ_ev’t_queue
;

3925 
ev
->
Ãxt
 = 
ev’t
->next;

3926 
ev’t
->
Ãxt
 = 
NULL
;

3927 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

3929 if(
ev’t
->
³ndšg_æag
 == 0)

3931 
ev’t
->
³ndšg_æag
 = 1;

3932 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
MESH_SIZE
 +ƒv’t->
¤c2
] ++;

3934 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

3935 
dœ_ev’t_queue
 = 
ev’t
;

3936 
ev
 = 
ev’t
;

3937 
ev’t
 =ƒv’t->
Ãxt
;

3938 
§me_L1_L2_fifo_fuÎ
 ++;

3942 if(
ev’t
->
³ndšg_æag
 == 1)

3943 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
MESH_SIZE
 +ƒv’t->
¤c2
] --;

3944 
ev’t
 = 
ev
->
Ãxt
;

3948 if(
š£¹_æag
 == 1)

3950 
ev
 = 
ev’t
;

3951 
ev’t
 =ƒv’t->
Ãxt
;

3953 if(
š£¹_æag
 == 2)

3955 if(
ev’t
 =ğ
dœ_ev’t_queue
)

3957 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

3958 
ev’t
->
Ãxt
 = 
NULL
;

3959 
	`dœ_ev’tq_š£¹
(
ev’t
);

3960 
ev’t
 = 
dœ_ev’t_queue
;

3964 
ev
->
Ãxt
 = 
ev’t
->next;

3965 
ev’t
->
Ãxt
 = 
NULL
;

3966 
	`dœ_ev’tq_š£¹
(
ev’t
);

3967 
ev’t
 = 
ev
->
Ãxt
;

3974 
ev
 = 
ev’t
;

3975 
ev’t
 =ƒv’t->
Ãxt
;

3979 
	}
}

3992 #ifdeà
DIRECTORY


3993 
RS_lšk
 *
	gev’t_queue
;

3995 
RS_lšk
 *
	gev’t_queue
;

3999 
	$ev’tq_š™
 ()

4001 
ev’t_queue
 = 
NULL
;

4002 
	}
}

4007 
	$ev’tq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4009 
RS_lšk
 *
ev
;

4011 
cÚ‹xt
 *
cu¼’t
;

4013 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4015 ià(!
¡»am
)

4016 
¡»am
 = 
¡d”r
;

4018 
	`årštf
 (
¡»am
, "**ƒvent queue state **\n");

4020 
ev
 = 
ev’t_queue
;ƒv !ğ
NULL
;ƒv =ƒv->
Ãxt
)

4023 ià(
	`RSLINK_VALID
 (
ev
))

4025 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4027 
	`årštf
 (
¡»am
, "idx: %2d: @ %.0f\n", 
rs
->
šdex
, (è
ev
->
x
.
wh’
);

4028 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
FALSE
);

4031 
	}
}

4038 
ev’tq_queue_ev’t
 (
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’


4039 #ifdeà
DIRECTORY


4040 , 
Ït
)

4045 
RS_lšk
 *
	g´ev
, *
	gev
, *
	gÃw_ev
;

4047 ià(
	grs
->
	gcom¶‘ed
)

4048 
·nic
 ("event completed");

4050 ià(
	gwh’
 <ğ
sim_cyşe
)

4051 
·nic
 ("event occurred inhe…ast");

4054 
RSLINK_NEW
 (
Ãw_ev
, 
rs
);

4055 
	gÃw_ev
->
	gx
.
	gwh’
 = 
wh’
;

4057 #ifdeà
DIRECTORY


4058 if(
	grs
 =ğ
NULL
)

4059 
´štf
("RS…robËm %Îd\n", 
sim_cyşe
);

4062 
	g´ev
 = 
NULL
, 
	gev
 = 
ev’t_queue
;ƒv &&ƒv->
	gx
.
	gwh’
 < wh’;…»v = 
ev
,ƒv =ƒv->
Ãxt
);

4064 ià(
	g´ev
)

4067 
	gÃw_ev
->
	gÃxt
 = 
´ev
->
Ãxt
;

4068 
	g´ev
->
	gÃxt
 = 
Ãw_ev
;

4073 
	gÃw_ev
->
	gÃxt
 = 
ev’t_queue
;

4074 
	gev’t_queue
 = 
Ãw_ev
;

4083 
RUU_¡©iÚ
 *

4084 
	$ev’tq_Ãxt_ev’t
 ()

4086 
RS_lšk
 *
ev
;

4087 
RS_lšk
 *
‹mp_ev
, *
´ed_ev
 = 
NULL
;

4089 
‹mp_ev
 = 
ev’t_queue
;

4091 
‹mp_ev
 && !
thecÚ‹xts
[‹mp_ev->
rs
->
th»adid
]->
aùive_this_cyşe
)

4093 
´ed_ev
 = 
‹mp_ev
;

4094 
‹mp_ev
 =emp_ev->
Ãxt
;

4097 ià(
‹mp_ev
 &&emp_ev->
x
.
wh’
 <ğ
sim_cyşe
)

4100 
ev
 = 
‹mp_ev
;

4101 ià(
‹mp_ev
 =ğ
ev’t_queue
)

4103 
ev’t_queue
 =ƒv’t_queue->
Ãxt
;

4107 
´ed_ev
->
Ãxt
 = 
‹mp_ev
->next;

4111 ià(
	`RSLINK_VALID
 (
ev
))

4113 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4116 
	`RSLINK_FREE
 (
ev
);

4119  
rs
;

4124 
	`RSLINK_FREE
 (
ev
);

4127  
	`ev’tq_Ãxt_ev’t
 ();

4133  
NULL
;

4135 
	}
}

4137 
	$chªgeInEv’tQueue
 (
RUU_¡©iÚ
 * 
rs
, 
th»adid
)

4141 
RS_lšk
 *
ev
 = 
ev’t_queue
;

4142 
RS_lšk
 *
´ev
 = 
NULL
;

4144 
ev
 !ğ
NULL
)

4146 ià(
ev
->
rs
 ==„s)

4148 
´ev
 = 
ev
;

4149 
ev
 =ƒv->
Ãxt
;

4152 ià(
ev
 =ğ
NULL
)

4154 
ev
->
x
.
wh’
 = 
sim_cyşe
;

4157 ià(
´ev
 =ğ
NULL
)

4158 
ev’t_queue
 = 
ev
->
Ãxt
;

4160 
´ev
->
Ãxt
 = 
ev
->next;

4162 
	`RSLINK_FREE
 (
ev
);

4163 
	}
}

4179 
RS_lšk
 *
	g»ady_queue
;

4183 
	$»adyq_š™
 ()

4185 
»ady_queue
 = 
NULL
;

4186 
	}
}

4191 
	$»adyq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4193 
RS_lšk
 *
lšk
;

4195 
cÚ‹xt
 *
cu¼’t
;

4197 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4199 ià(!
¡»am
)

4200 
¡»am
 = 
¡d”r
;

4202 
	`årštf
 (
¡»am
, "**„eady queue state **\n");

4204 
lšk
 = 
»ady_queue
;†šk !ğ
NULL
;†šk =†šk->
Ãxt
)

4207 ià(
	`RSLINK_VALID
 (
lšk
))

4209 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
lšk
);

4211 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
TRUE
);

4214 
	}
}

4230 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

4232 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

4235 ià(
rs
->
queued
)

4236 
	`·nic
("node is‡lready queued");

4238 
rs
->
queued
 = 
TRUE
;

4240 #ifdeà
REMOVE_COMPUTE_QUEUE


4241 #ifdeà
PWR_WAKE


4242 ià(
rs
->
š_LSQ
)

4244 
lsq»ady
++;

4245 
rs
->
couÁed_lsq»ady
 = 1;

4247 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

4249 
ä—dy
++;

4250 
rs
->
couÁed_ä—dy
 = 1;

4254 
œ—dy
++;

4255 
rs
->
couÁed_œ—dy
 = 1;

4261 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

4262 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

4265 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

4267 ià(
´ev
)

4270 
Ãw_node
->
Ãxt
 = 
´ev
->next;

4271 
´ev
->
Ãxt
 = 
Ãw_node
;

4276 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

4277 
»ady_queue
 = 
Ãw_node
;

4279 
	}
}

4284 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

4286 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

4289 ià(
rs
->
queued
)

4290 
	`·nic
 ("node is‡lready queued");

4291 
rs
->
queued
 = 
TRUE
;

4293 #ifdeà
PWR_WAKE


4294 #ifdeà
READY_ROB_STAT


4295 ià(!
rs
->
š_LSQ
)

4296 
»ady_thrd
[
rs
->
th»adid
]++;

4298 ià(
rs
->
š_LSQ
)

4300 
lsq»ady
++;

4301 
lsq»ady_ş
[
rs
->
şu¡”
]++;

4302 
rs
->
couÁed_lsq»ady
 = 1;

4304 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

4306 
ä—dy
++;

4307 
ä—dy_ş
[
rs
->
şu¡”
]++;

4308 
rs
->
couÁed_ä—dy
 = 1;

4312 
œ—dy
++;

4313 
œ—dy_ş
[
rs
->
şu¡”
]++;

4314 
rs
->
couÁed_œ—dy
 = 1;

4319 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

4320 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

4323 ià(
rs
->
š_LSQ
 || 
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_LONGLAT
 | 
F_CTRL
))

4326 
´ev
 = 
NULL
;

4327 
node
 = 
»ady_queue
;

4332 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

4335 ià(
´ev
)

4338 
Ãw_node
->
Ãxt
 = 
´ev
->next;

4339 
´ev
->
Ãxt
 = 
Ãw_node
;

4344 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

4345 
»ady_queue
 = 
Ãw_node
;

4347 
	}
}

4358 
CV_lšk
 
	gCVLINK_NULL
 = { 
NULL
, 0 };

4361 
	#CVLINK_INIT
(
CV
, 
RS
,
ONUM
è((CV).
rs
 = (RS), (CV).
od•_num
 = (ONUM))

	)

4364 
	#CV_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_TOTAL_REGS
))

	)

4371 
	#CREATE_VECTOR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

4372 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] \

4373 : 
cu¼’t
->
ü—‹_veùÜ
[
N
])

4376 
	#CREATE_VECTOR_RT
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

4377 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ_¹
[
N
] \

4378 : 
cu¼’t
->
ü—‹_veùÜ_¹
[
N
])

4381 
	#SET_CREATE_VECTOR
(
N
, 
L
è(
cu¼’t
->
¥ec_mode
 \

	)

4382 ? (
BITMAP_SET
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (
N
)),\

4383 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] = (
L
)) \

4384 : (
cu¼’t
->
ü—‹_veùÜ
[
N
] = (
L
)))

4391 
	#DNA
 (0)

	)

4393 #ià
defšed
(
TARGET_PISA
)

4396 
	#DGPR
(
N
è(N)

	)

4397 
	#DGPR_D
(
N
è((Nè&~1)

	)

4400 
	#DFPR_L
(
N
è(((N)+32)&~1)

	)

4401 
	#DFPR_F
(
N
è(((N)+32)&~1)

	)

4402 
	#DFPR_D
(
N
è(((N)+32)&~1)

	)

4405 
	#DHI
 (0+32+32)

	)

4406 
	#DLO
 (1+32+32)

	)

4407 
	#DFCC
 (2+32+32)

	)

4408 
	#DTMP
 (3+32+32)

	)

4410 #–ià
defšed
(
TARGET_ALPHA
)

4413 
	#DGPR
(
N
è(31 - (N)è

	)

4416 
	#DFPR
(
N
è(((Nè=ğ31è? 
DNA
 : ((N)+32))

	)

4419 
	#DFPCR
 (0+32+32)

	)

4420 
	#DUNIQ
 (1+32+32)

	)

4421 
	#DTMP
 (2+32+32)

	)

4424 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4432 
	#SET_NPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_NPC
 = (EXPR))

	)

4435 #undeà
SET_TPC


4436 
	#SET_TPC
(
EXPR
è(
rg‘_PC
 = (EXPR))

	)

4439 
	#CPC
 (
cu¼’t
->
»gs
.
»gs_PC
)

	)

4440 
	#SET_CPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_PC
 = (EXPR))

	)

4445 #ifdeà
TEST_BUG


4447 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

4448 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

4449 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

4450 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4451 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

4452 
BITMAP_SET
(
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

4453 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

4454 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

4455 #ià
defšed
(
TARGET_PISA
)

4460 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4461 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

4462 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

4463 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4464 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

4465 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4466 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

4467 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

4468 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4469 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

4470 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

4471 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4472 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

4473 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4474 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

4475 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

4476 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4477 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

4478 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

4479 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4480 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)),\

4481 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4482 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

4483 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

4488 
	#HI
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

4489 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

4490 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

4491 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4492 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

4493 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0), \

4494 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

4495 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

4496 
	#LO
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

4497 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

4498 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

4499 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4500 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

4501 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1), \

4502 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

4503 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

4504 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

4505 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4506 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4507 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4508 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4509 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 2), \

4510 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4511 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4513 #–ià
defšed
(
TARGET_ALPHA
)

4518 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

4519 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

4520 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

4521 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4522 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

4523 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

4524 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

4525 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

4526 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

4527 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

4528 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

4529 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4530 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

4531 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

4532 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

4533 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

4538 
	#FPCR
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

4539 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

4540 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

4541 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4542 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

4543 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 0), \

4544 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

4545 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

4546 
	#UNIQ
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

4547 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

4548 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

4549 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4550 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

4551 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

4552 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

4553 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

4554 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

4555 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4556 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4557 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4558 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4559 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

4560 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4561 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4564 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4568 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

4569 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

4570 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

4571 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4572 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

4573 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

4574 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

4575 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

4576 #ià
defšed
(
TARGET_PISA
)

4581 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4582 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

4583 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

4584 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4585 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

4586 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4587 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

4588 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

4589 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4590 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

4591 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

4592 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4593 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

4594 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4595 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

4596 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

4597 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4598 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

4599 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

4600 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4601 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)), \

4602 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4603 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

4604 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

4609 
	#HI
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

4610 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

4611 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

4612 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4613 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

4614 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0),\

4615 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

4616 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

4617 
	#LO
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

4618 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

4619 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

4620 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4621 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

4622 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1),\

4623 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

4624 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

4625 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

4626 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4627 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4628 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4629 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4630 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 2),\

4631 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4632 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4634 #–ià
defšed
(
TARGET_ALPHA
)

4639 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

4640 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

4641 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

4642 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4643 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

4644 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

4645 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

4646 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

4647 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

4648 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

4649 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

4650 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4651 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

4652 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

4653 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

4654 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

4659 
	#FPCR
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

4660 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

4661 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

4662 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4663 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

4664 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 0),\

4665 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

4666 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

4667 
	#UNIQ
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

4668 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

4669 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

4670 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4671 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

4672 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

4673 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

4674 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

4675 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

4676 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4677 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4678 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4679 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4680 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

4681 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4682 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4685 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4694 
	#__READ_SPECMEM
(
SRC
, 
SRC_V
, 
FAULT
è\

	)

4695 (
	gaddr
 = (
SRC
), \

4696 (
	gcu¼’t
->
	g¥ec_mode
 \

4697 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V)))\

4698 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V), cu¼’t->
id
, 
š¡
))), \

4699 
	gSRC_V
)

4701 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

4702 
__READ_SPECMEM
((
SRC
), 
‹mp_by‹
, (
FAULT
))

4703 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

4704 
MD_SWAPH
(
__READ_SPECMEM
((
SRC
), 
‹mp_h®f
, (
FAULT
)))

4705 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

4706 
MD_SWAPW
(
__READ_SPECMEM
((
SRC
), 
‹mp_wÜd
, (
FAULT
)))

4707 #ifdeà
HOST_HAS_QWORD


4708 
	#READ_QWORD
(
SRC
, 
FAULT
è\

	)

4709 
MD_SWAPQ
(
__READ_SPECMEM
((
SRC
), 
‹mp_qwÜd
, (
FAULT
)))

4712 
	#__WRITE_SPECMEM
(
SRC
, 
DST
, 
DST_V
, 
FAULT
è\

	)

4713 (
	gDST_V
 = (
SRC
), 
	gaddr
 = (
DST
), \

4714 (
	gcu¼’t
->
	g¥ec_mode
 \

4715 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V)))\

4716 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V), cu¼’t->
id
, 
š¡
))))

4718 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

4719 
__WRITE_SPECMEM
((
SRC
), (
DST
), 
‹mp_by‹
, (
FAULT
))

4720 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

4721 
__WRITE_SPECMEM
(
MD_SWAPH
(
SRC
), (
DST
), 
‹mp_h®f
, (
FAULT
))

4722 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

4723 
__WRITE_SPECMEM
(
MD_SWAPW
(
SRC
), (
DST
), 
‹mp_wÜd
, (
FAULT
))

4725 #ifdeà
HOST_HAS_QWORD


4726 
	#WRITE_QWORD
(
SRC
, 
DST
, 
FAULT
è\

	)

4727 
__WRITE_SPECMEM
(
MD_SWAPQ
(
SRC
), (
DST
), 
‹mp_qwÜd
, (
FAULT
))

4731 
	#SYSCALL
(
INST
è\

	)

4733 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative syscall") : () 0), \

4734 
sys_sysÿÎ
(&(
cu¼’t
->
»gs
), 
mem_acûss
, cu¼’t->
mem
, 
INST
, 
TRUE
))

4736 
	#QUIESCE
(
INST
è\

	)

4738 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative quiescent instruction") : () 0), \

4739 
ÿÎ_qu›sû
(
cu¼’t
->
id
))

4744 
	$cv_š™
 (
th»adid
)

4746 
i
;

4747 
cÚ‹xt
 *
cu¼’t
;

4749 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4753 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

4755 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

4756 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 0;

4757 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

4758 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
i
] = 0;

4762 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

4764 
	}
}

4769 
	$cv_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4771 
i
;

4772 
CV_lšk
 
’t
;

4774 
cÚ‹xt
 *
cu¼’t
;

4776 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4778 ià(!
¡»am
)

4779 
¡»am
 = 
¡d”r
;

4781 
	`årštf
 (
¡»am
, "** create vector state **\n");

4783 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

4785 
’t
 = 
	`CREATE_VECTOR
 (
i
);

4786 ià(!
’t
.
rs
)

4787 
	`årštf
 (
¡»am
, "[cv%02d]: from‡rch™eùed„eg fe\n", 
i
);

4789 
	`årštf
 (
¡»am
, "[cv%02d]: from %s, idx: %d\n", 
i
, (
’t
.
rs
->
š_LSQ
 ? "LSQ" : "RUU"),ƒÁ.rs->
šdex
);

4791 
	}
}

4793 
ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
);

4796 
Œaûr_»cov”
 (
th»adid
);

4797 
»cF»eRegLi¡
 (
th»adid
);

4800 #ifdeà
DIRECTORY


4801 
	$RS_block_li¡
(
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’
, 
’Œy
, 
th»adid
)

4803 if(
rs
->
¥ec_mode
) ;

4804 if(
’Œy
 < 1 ||ƒÁry > 
MSHR_SIZE
)

4805 
	`·nic
("L1 MSHR: wrong mshrƒntry");

4807 
’Œy
 =ƒntry - 1;

4809 
RS_li¡
 *
rs_li¡
;

4810 
rs_li¡
 = 
	`ÿÎoc
Ğ1, (
RS_li¡
));

4811 
rs_li¡
->
rs
 =„s;

4812 
rs_li¡
->
Ãxt
 = 
NULL
;

4813 
rs_li¡
->
¥ec_mode
 = 
rs
->spec_mode;

4814 
rs_li¡
->
wh’
 = when;

4815 
rs_li¡
->
Ãxt
 = 
rs_ÿche_li¡
[
th»adid
][
’Œy
];

4816 
rs_ÿche_li¡
[
th»adid
][
’Œy
] = 
rs_li¡
;

4817 
	}
}

4819 
	$RS_block_Ãxt
(
RS_li¡
 *
cur
)

4821 if(!
cur
->
rs
) ;

4823 if(
cur
->
¥ec_mode
 && !cur->
rs
->spec_mode)

4825 
cur
->
rs
->
ÿche_»ady
 = 0;

4826 if(((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
è&& (cur->rs->
issued
 || cur->rs->
queued
 || cur->rs->
com¶‘ed
)) || (!(MD_OP_FLAGS(cur->rs->op) & F_LOAD) && !(cur->rs->issued && !cur->rs->queued)))

4827 
	`·nic
("L1 MSHR: issue, queue, or commit flag is set!!!");

4829 if((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
))

4831 
cur
->
rs
->
issued
 = 1;

4832 
	`ev’tq_queue_ev’t
 (
cur
->
rs
, 
sim_cyşe
 + 1, 0);

4834 
cur
->
rs
->
issue_time
 = 
sim_cyşe
;

4835 
cur
->
rs
->
fšish_time
 = 
sim_cyşe
+1;

4838 
	`±¿û_Ãw¡age
 (
cur
->
rs
->
±¿û_£q
, 
PST_EXECUTE
, 
PEV_CACHEMISS
);

4841 
cur
->
rs
->
wr™ewa™
 = 2;

4842 
	}
}

4849 
	gcomm™_idË
 = 0;

4850 
	gcomm™_æag
[
MAXTHREADS
] = {0};

4855 
	$ruu_comm™
 ()

4858 
i
, 
j
, 
th»adid
, 
Ït
, 
ev’ts
, 
comm™‹d
;

4859 
mm
;

4860 
cÚ‹xt
 *
cu¼’t
;

4861 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
, 
LSQ_šdex
;

4862 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

4863 
¡Üe_İ
 = 0, 
pcbS—rch
;

4864 #ifdeà
DIRECTORY


4865 
»adSh¬eDœ
 = 0;

4868 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

4869 
couÁedThisCyşe
 = 0;

4871 
md_addr_t
 
‹mpAddr
;

4872 
md_İcode
 
‹mpOp
;

4874 
th»ad_comm™
 = 0;

4875 
isSTLC
;

4879 
j
 = 0; j <ğ
numcÚ‹xts
; j++, 
th»ad_comm™
 = (thread_commit + 1) %‚umcontexts)

4881 #ifdef 
EDA


4882 ià(
thecÚ‹xts
[
th»ad_comm™
]->
ma¡”id
 == 2)

4885 ià(
j
 > 0)

4887 
comm™_dÚe
[
j
 - 1] = 
comm™‹d
;

4888 if(!
comm™‹d
)

4889 
m_comm™SÎ
[
j
-1]++;

4891 ià(
j
 =ğ
numcÚ‹xts
)

4894 
th»adid
 = 
th»ad_comm™
;

4895 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4897 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

4898 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

4899 
comm™‹d
 = 0;

4903 
cu¼’t
->
RUU_num
 > 0 && 
comm™‹d
 < 
ruu_comm™_width
)

4905 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

4906 ià(
busSlÙCouÁ
 < 11)

4908 ià(!
couÁedThisCyşe
)

4909 
¡®lNoBusSlÙ
++;

4910 
couÁedThisCyşe
 = 1;

4914 
RUU_¡©iÚ
 *
rs
 = &(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
]);

4917 
‹mpAddr
 = 0;

4918 
¡Üe_İ
 = 0;

4919 
‹mpOp
 = 0;

4920 
isSTLC
 = 0;

4922 #ifdef 
EDA


4923 ià((
cu¼’t
->
ma¡”id
 =ğ1è&& (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& 
	`queueSize
 (cu¼’t->
´edQueue
) == -1)

4926 #ifdeà 
DIRECTORY


4927 if(
rs
->
wr™ewa™
 =ğ1 && !
mshr_³ndšg_ev’t
[
j
])

4932 ià(!
rs
->
com¶‘ed
)

4937 ià(
cu¼’t
->
ma¡”id
 =ğ0 && 
rs
->
PC
 < 0x120000000)

4938 
	`·nic
 ("Illegal instructionryingo commit\n");

4940 #ifdeà
SMD_USE_WRITE_BUF


4942 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
m_L1WBufCÁ
[
th»adid
]))

4945 #ifdeà
SERIALIZATION_ACK


4946 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
numStÜeP’dšg
[
th»adid
]

4947 #ifdeà
READ_PERMIT


4948 || 
numLßdP’dšg
[
th»adid
]

4954 
ev’ts
 = 0;

4957 ià(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
—_comp
)

4960 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[cu¼’t->
RUU_h—d
].threadid)

4962 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

4963 
‹mp_LSQ_num
--;

4964 ià(!
‹mp_LSQ_num
)

4965 
	`·nic
 ("RUU‡nd LSQ out of sync");

4967 ià(
cu¼’t
->
LSQ_num
 <ğ0 || !cu¼’t->
LSQ
[
LSQ_šdex
].
š_LSQ
)

4968 
	`·nic
 ("RUU out of sync with LSQ");

4970 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
com¶‘ed
)

4975 #ifdeà
SEQUENTIAL_CONSISTENCY


4976 ià(
šv®id©iÚSÎ
[
th»adid
])

4980 ià(
comm™SÎ
[
th»adid
])

4984 #ifdeà
INV_ACK_CON


4985 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& (
³ndšg_šv®id©iÚ
[
th»adid
]))

4988 #ifdeà
SERIALIZATION_ACK


4989 if(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
numStÜeP’dšg
[
th»adid
] <ğ0 && 
rs
->
wr™ewa™
 == 0)

4993 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

4995 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
)

4996 
isSTLC
 = 1;

4997 #ifdeà
SMD_USE_WRITE_BUF


4998 ià(
m_L1WBufCÁ
[
th»adid
] >ğ
SMD_L1_WBUF_SIZE
)

5000 if(
isSTLC
 && 
m_L1WBufCÁ
[
th»adid
])

5004 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
PC
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].PC;

5005 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
IR
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].IR;

5006 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
İ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].op;

5007 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
lsqId
 = 
LSQ_šdex
;

5008 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
robId
 = 
rs
->
šdex
;

5009 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eV®ue
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
v®_¿
;

5010 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
addr
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].addr;

5011 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
sim_num_š¢
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].sim_num_insn;

5012 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eS¹ed
 = 0;

5013 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
fšishTime
 = 0;

5014 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
isMiss
 = 0;

5015 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
’ŒyTime
 = 
sim_cyşe
;

5016 ifĞ
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5018 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 
isSTLC
);

5019 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 1;

5020 if(
isSTLC
 && 
¡ÜeCÚdFa
 == 0)

5021 
	`·nic
("Store conditional should fail on‡ L1 miss");

5024 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 0;

5026 
m_L1WBufCÁ
[
th»adid
]++;

5027 
m_L1WBuf_
[
th»adid
] = (m_L1WBuf_[th»adid]+1)%
SMD_L1_WBUF_SIZE
;

5030 #ifdeà
DIRECTORY


5031 if(
rs
->
wr™ewa™
 == 2)

5033 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5034 
ev’ts
 |ğ
PEV_CACHEMISS
;

5039 #ifdeà
DIRECTORY


5040 if(
rs
->
ÿche_»ady
 == 1)

5044 
¡Üe_İ
 = 1;

5045 
boŞ
 = 0;

5046 
»s_‹m¶©e
 *
fu
;

5047 
·»ÁID
;

5049 
·»ÁID
 = 
th»adid
;

5051 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
), 
th»adid
);

5052 #ifdeà 
DCACHE_MSHR


5053 ià(
fu
 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,h»adidè&& !
boŞ
)

5055 #ifdeà
MSHR


5056 ià(
fu
 && !
mshr_fuÎ
 && !
boŞ
)

5058 ià(
fu
 && !
boŞ
)

5062 ià(
fu
->
ma¡”
->
busy
)

5063 
	`·nic
 ("functional unit‡lready in use");

5065 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

5066 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

5067 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

5071 #iâdeà
DIRECTORY


5072 #ifdeà
SEQUENTIAL_CONSISTENCY


5073 #ifdef 
EDA


5074 ià(
cŞËù_¡©s
 && 
cu¼’t
->
ma¡”id
 == 0)

5076 ià(
cŞËù_¡©s
)

5079 
bx
, 
cx
, 
dx
;

5080 
cÚ‹xt
 *
tmpCxt
;

5081 
md_addr_t
 
mask
;

5083 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

5085 
bx
 = 0; bx < 
numcÚ‹xts
; bx++)

5087 
boŞ
 = 0;

5089 
tmpCxt
 = 
thecÚ‹xts
[
bx
];

5090 #ifdef 
EDA


5091 ià(
tmpCxt
->
ma¡”id
 != 0)

5095 ià(
tmpCxt
 !ğ
cu¼’t
)

5097 
cx
 = 
tmpCxt
->
LSQ_h—d
, 
dx
 = 0; dx !ğtmpCxt->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

5099 ià((
	`MD_OP_FLAGS
 (
tmpCxt
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5101 ià((
tmpCxt
->
LSQ
[
cx
].
addr
 & 
mask
è=ğ(
cu¼’t
->LSQ[
LSQ_šdex
].addr & mask))

5103 ià(!
tmpCxt
->
LSQ
[
cx
].
¥ec_mode
 && !tmpCxt->LSQ[cx].
isP»ãtch
)

5106 
	`fixS³cS‹
 (
tmpCxt
->
LSQ
[
cx
].
´od
[1]->
šdex
,mpCxt->
id
);

5107 
tmpCxt
->
»gs
 =mpCxt->
LSQ
[
cx
].
´od
[1]->
backupReg
;

5108 
	`£qCÚsi¡ªcyR•Ïy
 (
tmpCxt
->
LSQ
[
cx
].
´od
[1]->
šdex
,mpCxt->
id
);

5109 
šv®id©iÚ_»¶ay
[
bx
]++;

5120 #ifdeà
RELAXED_CONSISTENCY


5121 #ifdef 
EDA


5122 ià(
cŞËù_¡©s
 && 
cu¼’t
->
ma¡”id
 == 0)

5124 ià(
cŞËù_¡©s
)

5127 
bx
, 
cx
, 
dx
;

5128 
cÚ‹xt
 *
tmpCxt
;

5129 
md_addr_t
 
mask
;

5131 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

5133 
bx
 = 0; bx < 
numcÚ‹xts
; bx++)

5135 
boŞ
 = 0;

5137 
tmpCxt
 = 
thecÚ‹xts
[
bx
];

5138 #ifdef 
EDA


5139 ià(
tmpCxt
->
ma¡”id
 != 0)

5143 ià(
tmpCxt
 !ğ
cu¼’t
)

5145 
cx
 = 
tmpCxt
->
LSQ_h—d
, 
dx
 = 0; dx !ğtmpCxt->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

5147 ià((
	`MD_OP_FLAGS
 (
tmpCxt
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5149 ià((
tmpCxt
->
LSQ
[
cx
].
addr
 & 
mask
è=ğ(
cu¼’t
->LSQ[
LSQ_šdex
].addr & mask))

5151 ià(!
tmpCxt
->
LSQ
[
cx
].
¥ec_mode
 &&mpCxt->LSQ[cx].
issued
)

5153 
tmpCxt
->
LSQ
[
cx
].
šv®id©iÚReûived
 = 1;

5164 
‹mpOp
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
;

5165 ià(
ÿche_dl1
[
th»adid
])

5168 
dÿche_acûss
++;

5169 
cu¼’t
->
dÿche_acûss
++;

5171 
šv®id©eOth”Cache
 = 0;

5173 #ifdeà
DIRECTORY


5174 
m©chnum
;

5175 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

5176 if(
m©chnum
)

5178 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

5179 
rs
->
ÿche_»ady
 = 1;

5180 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

5185 #ifdeà
DIRECTORY


5186 ià(
COHERENT_CACHE
 && 
®lFÜked
)

5188 if(
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5190 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 1);

5191 if(
¡ÜeCÚdFa
 == 0)

5192 
	`·nic
("Store conditional should fail on‡ L1 miss");

5193 
Ït
 = 
ÿche_dl1_Ït
;

5197 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,hreadid);

5198 ià(
Ït
<
WAIT_TIME
)

5200 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5206 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,hreadid);

5208 #ifdef 
DCACHE_MSHR


5209 if(
Ït
 > 
ÿche_dl1_Ït
)

5210 #ifdeà
DIRECTORY


5211 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
Ït
, 0, 
rs
);

5213 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
Ït
, 0, 
NULL
);

5216 ià(
Ït
 >ğ
WAIT_TIME
)

5218 
rs
->
wr™ewa™
 = 1;

5221 ià(
COHERENT_CACHE
 && 
®lFÜked
)

5223 
¡ÜeCÚdFa
 = 0;

5224 
	`com¶‘eStÜe
 (
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
 (cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5226 ià(!
¡ÜeCÚdFa
)

5227 #ifdef 
EDA


5229 
wL
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

5230 
qwÜd_t
 
wD
 = 0;

5231 
	`fÜm©D©aR2M
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
, cu¼’t->LSQ[LSQ_šdex].
v®_¿
, &
wD
);

5233 
rsCacheAcûss
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
];

5234 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~(
wL
 - 1)), &
wD
, wL, 
sim_cyşe
, 
NULL
, NULL,hreadid);

5237 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

5242 
rsCacheAcûss
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5243 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

5247 ià(
Ït
 > 
ÿche_dl1_Ït
)

5248 
ev’ts
 |ğ
PEV_CACHEMISS
;

5253 
¡_bªk_cÚf
++;

5257 #ifdeà
DIRECTORY


5264 #ifdeà
DIRECTORY


5265 
»adSh¬eDœ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
R—dSh¬eDœ
;

5268 #ià
	`defšed
(
SMD_USE_WRITE_BUF
è&& defšed(
SEQUENTIAL_CONSISTENCY
)

5270 ià(
m_L1WBufCÁ
[
th»adid
])

5274 #ifdeà
DIRECTORY


5275 if(
rs
->
wr™ewa™
 != 1)

5278 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
Şd´eg
, 
th»adid
);

5280 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5283 
	`±¿û_Ãw¡age
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5284 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5286 ià(
LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5288 
‹mp_LSQ_rs
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5289 
‹mp_LSQ_šdex
 = 
LSQ_šdex
;

5290 
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5292 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = cu¼’t->LSQ[(è(Ñemp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size)];

5293 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5294 
‹mp_LSQ_šdex
 = (‹mp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size;

5297 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = *
‹mp_LSQ_rs
;

5298 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5300 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5302 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5303 
cu¼’t
->
m_shLQNum
--;

5305 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5307 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5308 
cu¼’t
->
m_shSQNum
--;

5311 
cu¼’t
->
LSQ_h—d
 = (cu¼’t->LSQ_h—d + 1è% 
LSQ_size
;

5312 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5313 
cu¼’t
->
LSQ_num
--;

5314 
‹mp_LSQ_num
--;

5315 #ifdeà
DIRECTORY


5321 #ifdeà
DIRECTORY


5322 if(
rs
->
wr™ewa™
 != 1)

5325 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_CT
 && (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5328 
b´ed_acûss
++;

5329 ià(!(
rs
->
du¶iÿ‹
))

5331 
cu¼’t
->
b´ed_acûss
++;

5334 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5335  
rs
->
PC
,

5336  
rs
->
Ãxt_PC
,

5337  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5338  (
md_š¡_t
)),

5339  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5340  (
md_š¡_t
)),

5341  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5342  
rs
->
İ
,

5343  &
rs
->
dœ_upd©e
,

5344  
rs
->
th»adid
,

5345  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5349 if((
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& (
cu¼’t
->
id
 == 0))

5351 
	`årštf
(
å_Œaû
, "[BR INST] PC: 0x%Îx In¢ Num: %Îd cyşe: %Îd\n", 
rs
->
PC
,„s->
sim_num_š¢
, 
sim_cyşe
);

5352 
	`fæush
(
å_Œaû
);

5355 #ifdef 
EDA


5356 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
)

5358 ià(
cu¼’t
->
ma¡”id
 == 0)

5360 
	`comm™P»diùiÚ
 (
cu¼’t
->
´edQueue
, 
rs
->
boqIndex
);

5362 
	`dynCÚfBOQSize
 (
cu¼’t
->
´edQueue
);

5364 ià(
rs
->
»cov”_š¡
 &&„s->
lockStus
 !ğ
TYPE_LOCK_ACQUIRE
 &&„s->lockStu !ğ
TYPE_INST_BARRIER
)

5365 
	`edaRecov”y
 (
rs
);

5368 ià(
cu¼’t
->
ma¡”id
 =ğ1 && 
rs
->
š¡Ty³
 !ğ
TYPE_INST_BARRIER_END
)

5370 
b¿nchIn¡
 *
b¿nchInfo
 = 
NULL
;

5372 
	`pushB¿nchP»d
 (
cu¼’t
->
´edQueue
, &
b¿nchInfo
, 
rs
->
İ
);

5373 
b¿nchInfo
->
š¡
 = 
rs
->
IR
;

5374 
b¿nchInfo
->
İ
 = 
rs
->op;

5375 
b¿nchInfo
->
PC
 = 
rs
->PC;

5376 
b¿nchInfo
->
NPC
 = 
rs
->
Ãxt_PC
;

5377 
b¿nchInfo
->
time
 = 
sim_cyşe
;

5378 
b¿nchInfo
->
sim_num_š¢
 = 
rs
->sim_num_insn;

5379 
b¿nchInfo
->
š¡Ty³
 = 
rs
->instType;

5385 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
Şd´eg
, 
th»adid
);

5387 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
g
++;

5389 
	`±¿û_Ãw¡age
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5390 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
);

5392 
tÙ®_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
di¥_time
);

5393 
max_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
di¥_time
), max_slip_cycles);

5395 ià(
rs
->
issue_time
)

5397 
tÙ®_issue_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
issue_time
);

5398 
max_issue_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
issue_time
), max_issue_slip_cycles);

5401 
cu¼’t
->
RUU_h—d
 = (cu¼’t->RUU_h—d + 1è% 
RUU_size
;

5402 
cu¼’t
->
RUU_num
--;

5403 
comm™_æag
[
th»adid
] = 0;

5405 ià(
rs
->
du¶iÿ‹
)

5407 
COMPARE_acûss
[
th»adid
]++;

5408 
com·»_acûss
++;

5411 
rob2_acûss
++;

5412 
cu¼’t
->
rob2_acûss
++;

5413 
comm™‹d
++;

5415 
comm™_idË
 = 0;

5416 
i
 = 0; i < 
MAX_ODEPS
; i++)

5418 ià(
rs
->
od•_li¡
[
i
])

5419 
	`·nic
 ("retired instruction has odeps\n");

5421 #ifdeà
DIRECTORY


5425 
	`¡©_add_§m¶e
 (
comm™_width_¡©
, 
comm™‹d
);

5427 
	}
}

5439 
	$ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
)

5442 
mm
;

5443 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5444 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
;

5446 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

5447 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

5450 
shiá_right
 = 0;

5453 
brRecov”y
[
th»adid
]++;

5455 
di¥_d–ay
 = 0;

5458 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

5459 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

5460 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

5461 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

5464 ià(!
cu¼’t
->
RUU_num
)

5465 
	`·nic
 ("empty RUU");

5469 
RUU_šdex
 !ğ
b¿nch_šdex
)

5472 ià(!
‹mp_RUU_num
)

5473 
	`·nic
 ("empty RUU");

5476 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

5478 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

5481 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5482 
‹mp_LSQ_num
--;

5483 ià(!
‹mp_LSQ_num
)

5485 
	`årštf
 (
¡d”r
, "Th»ad %d, cyş%lu\n", 
th»adid
, (è
sim_num_š¢
);

5486 
	`·nic
 ("RUU‡nd LSQ out of sync");

5489 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5490 
‹mp_LSQ_num
--;

5492 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5493 
‹mp_RUU_num
--;

5496 ià(
mode
 == 0)

5499 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5500 
‹mp_RUU_num
--;

5505 
‹mp_RUU_num
 != 0)

5507 
exŒaIn¢
[
th»adid
]++;

5509 ià(!
‹mp_RUU_num
)

5510 
	`·nic
 ("empty RUU");

5512 ià(
mode
 =ğ0 && 
RUU_šdex
 =ğ
cu¼’t
->
RUU_h—d
)

5513 
	`·nic
 ("RUU head‡ndail broken");

5515 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

5517 
cu¼’t
->
iissueq_thrd
--;

5518 
iissueq
--;

5519 
iissueq_ş
[
cu¼’t
->
id
]--;

5520 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

5522 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

5524 
cu¼’t
->
fissueq_thrd
--;

5525 
fissueq
--;

5526 
fissueq_ş
[
cu¼’t
->
id
]--;

5527 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

5530 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

5532 ià(!
‹mp_LSQ_num
)

5533 
	`·nic
 ("RUU‡nd LSQ out of sync");

5534 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

5536 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5537 
‹mp_LSQ_num
--;

5538 ià(!
‹mp_LSQ_num
)

5539 
	`·nic
 ("RUU‡nd LSQ out of sync");

5542 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

5544 
cu¼’t
->
iissueq_thrd
--;

5545 
iissueq
--;

5546 
iissueq_ş
[
cu¼’t
->
id
]--;

5547 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

5549 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

5551 
cu¼’t
->
fissueq_thrd
--;

5552 
fissueq
--;

5553 
fissueq_ş
[
cu¼’t
->
id
]--;

5554 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

5557 
i
 = 0; i < 
MAX_ODEPS
; i++)

5559 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

5561 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

5564 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

5565 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

5568 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5571 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5574 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5576 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5577 
cu¼’t
->
m_shLQNum
--;

5579 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5581 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5582 
cu¼’t
->
m_shSQNum
--;

5585 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

5586 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5587 
cu¼’t
->
LSQ_num
--;

5588 
‹mp_LSQ_num
--;

5592 
i
 = 0; i < 
MAX_ODEPS
; i++)

5594 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

5595 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

5598 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

5599 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

5600 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

5601 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

5603 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5604 
cu¼’t
->
RUU_num
--;

5605 
‹mp_RUU_num
--;

5608 
rob2_acûss
++;

5609 
cu¼’t
->
rob2_acûss
++;

5611 
š¡£qnum
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
š¡num
;

5612 
Ï¡şu¡”
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
şu¡”
;

5613 
num_£Á
 = 1;

5615 ià(
mode
 == 0)

5617 
cu¼’t
->
RUU_
 = (
b¿nch_šdex
 + 1è% 
RUU_size
;

5618 
	`cİy_äom
 (
th»adid
);

5622 ià(
cu¼’t
->
RUU_num
 != 0)

5623 
	`·nic
 ("ROB must be completelyƒmpty");

5624 
cu¼’t
->
RUU_
 = cu¼’t->
RUU_h—d
;

5630 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

5635 
‹mp_LSQ_šdex
 = 0;emp_LSQ_šdex < 
LSQ_size
;emp_LSQ_index++)

5636 ià(
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ
[‹mp_LSQ_šdex].
šdex
)

5637 
	`·nic
 ("LSQ index messed up");

5638 
	}
}

5652 
	$ruu_wr™eback
 ()

5654 
i
;

5655 
sum1
, 
sum2
, 
sum3
;

5656 
RUU_¡©iÚ
 *
rs
;

5657 
d–ay
;

5659 
cÚ‹xt
 *
cu¼’t
;

5663 
‹mp
;

5665 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

5667 
wb_dÚe
[
‹mp
] = 0;

5671 (
rs
 = 
	`ev’tq_Ãxt_ev’t
 ()))

5673 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

5675 ià(!
	`OPERANDS_READY
 (
rs
è||„s->
queued
 || !rs->
issued
 ||„s->
com¶‘ed
)

5676 
	`·nic
 ("inst completed‡nd !ready, !issued, or completed");

5678 
rs
->
com¶‘ed
 = 
TRUE
;

5680 
wb_dÚe
[
rs
->
th»adid
]++;

5683 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

5685 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

5687 
œesuÉbus_acûss
++;

5688 
cu¼’t
->
œesuÉbus_acûss
++;

5689 
rob1_acûss
++;

5690 
cu¼’t
->
rob1_acûss
++;

5691 
iwakeup_acûss
++;

5692 
cu¼’t
->
iwakeup_acûss
++;

5693 
œegfe_acûss
++;

5694 
cu¼’t
->
œegfe_acûss
++;

5696 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

5699 
äesuÉbus_acûss
++;

5700 
cu¼’t
->
äesuÉbus_acûss
++;

5701 
rob1_acûss
++;

5702 
cu¼’t
->
rob1_acûss
++;

5703 
fwakeup_acûss
++;

5704 
cu¼’t
->
fwakeup_acûss
++;

5705 
äegfe_acûss
++;

5706 
cu¼’t
->
äegfe_acûss
++;

5711 ià(
rs
->
»cov”_š¡
)

5713 ià(
rs
->
š_LSQ
)

5714 
	`·nic
 ("mis-predicted†oad or store?!?!?");

5716 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

5717 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

5718 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

5719 #ifdeà
DIRECTORY


5720 
th»adid
 = 
rs
->threadid;

5721 
i
 = 0;

5722 
i
=0;i<
MSHR_SIZE
;i++)

5724 
RS_li¡
 *
´ev
, *
cur
;

5725 
´ev
=
NULL
, 
cur
 = 
rs_ÿche_li¡
[
th»adid
][
i
]; cur; cur=cur->
Ãxt
)

5727 if(
cur
->
rs
 && cur->rs->
¥ec_mode
)

5729 if(
´ev
 =ğ
NULL
)

5731 
rs_ÿche_li¡
[
th»adid
][
i
] = 
cur
->
Ãxt
;

5732 
´ev
 = 
NULL
;

5736 
´ev
->
Ãxt
 = 
cur
->next;

5737 
cur
 = 
´ev
;

5738 
´ev
 = 
cur
;

5742 
´ev
 = 
cur
;

5747 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

5748 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

5751 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_WB
 && !
rs
->
š_LSQ
 && (
	`MD_OP_FLAGS
 (rs->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5754 
b´ed_acûss
++;

5755 ià(!(
rs
->
du¶iÿ‹
))

5757 
cu¼’t
->
b´ed_acûss
++;

5759 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5760  
rs
->
PC
,

5761  
rs
->
Ãxt_PC
,

5762  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5763  (
md_š¡_t
)),

5764  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5765  (
md_š¡_t
)),

5766  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5767  
rs
->
İ
,

5768  &
rs
->
dœ_upd©e
,

5769  
rs
->
th»adid
,

5770  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5774 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
,„s->
»cov”_š¡
 ? 
PEV_MPDETECT
 : 0);

5776 
sum1
 = 
issue_¿‹
;

5777 
sum2
 = 0;

5778 
sum3
 = 0;

5780 
i
 = 0; i < 
MAX_ODEPS
; i++)

5782 ià(
rs
->
Úames
[
i
] !ğ
NA
)

5784 
CV_lšk
 
lšk
;

5785 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

5787 ià(
rs
->
¥ec_mode
)

5789 
lšk
 = 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

5790 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

5792 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

5793 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

5798 
lšk
 = 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

5799 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

5801 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

5802 
cu¼’t
->
ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

5804 ià(
cu¼’t
->
ma¡”id
 =ğ1 && 
rs
->
out1
 > 0 &&„s->out1 < 63 &&„s->
poisÚ
[2].
dœty
 && !rs->
—_comp
)

5806 ià(
rs
->
out1
 < 32)

5807 
cu¼’t
->
»gs
.
»gs_R
[31 - 
rs
->
out1
] =„s->
poisÚ
[2].
d©a
;

5809 
cu¼’t
->
»gs
.
»gs_F
.
q
[
rs
->
out1
 - 32] =„s->
poisÚ
[2].
d©a
;

5815 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5817 ià(
	`RSLINK_VALID
 (
Şšk
))

5819 ià(
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
])

5820 
	`·nic
 ("output dependence‡lready satisfied");

5821 #ifdef 
EDA


5823 ià(
rs
->
poisÚ
[2].
dœty
)

5825 
Şšk
->
rs
->
poisÚ
[Şšk->
x
.
İnum
].
dœty
 = 1;

5826 
Şšk
->
rs
->
poisÚ
[Şšk->
x
.
İnum
].
d©a
 =„s->poison[2].data;

5830 
Şšk
->
rs
->
poisÚ
[Şšk->
x
.
İnum
].
dœty
 = 0;

5831 
Şšk
->
rs
->
poisÚ
[Şšk->
x
.
İnum
].
d©a
 = 0;

5834 
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
] = 
TRUE
;

5836 
Şšk
->
rs
->
wh’_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

5837 
Şšk
->
rs
->
wh’_id•_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

5839 
sum2
++;

5840 ià(
	`OPERANDS_READY
 (
Şšk
->
rs
))

5842 ià(!
Şšk
->
rs
->
š_LSQ
 || ((
	`MD_OP_FLAGS
 (Şšk->rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

5843 
	`»adyq_’queue
 (
Şšk
->
rs
);

5844 
sum3
++;

5847 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5848 
	`RSLINK_FREE
 (
Şšk
);

5850 
rs
->
od•_li¡
[
i
] = 
NULL
;

5854 
	}
}

5864 
	#MAX_STD_UNKNOWNS
 
LSQSIZE


	)

5867 #ifdeà 
LSQ_LOAD_FAST_ISSUE


5869 
	$lsq_»äesh
 ()

5871 
i
, 
j
, 
šdex
, 
idx
, 
num_¡a_unknown_th»ad
 = 0;

5873 
cÚ‹xt
 *
cu¼’t
;

5875 #ifdef 
LSQ_FIX_PARTIAL_BUG


5876 
¡d_width
[
LSQSIZE
];

5879 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

5883 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

5885 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
; (˜< cu¼’t->
LSQ_num
è&& (
num_¡a_unknown_th»ad
 < 
numcÚ‹xts
); i++, index = (šdex + 1è% 
LSQ_size
)

5887 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


5888 && !
cu¼’t
->
LSQ
[
šdex
].
issued


5889 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


5890 && !
cu¼’t
->
LSQ
[
šdex
].
ÿche_»ady
 &&

5891  
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5893 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

5899 
	}
}

5902 
	$lsq_»äesh
 ()

5904 
i
, 
idx
, 
j
, 
šdex
, 
n_¡d_unknowns
;

5905 
md_addr_t
 
¡d_unknowns
[
MAX_STD_UNKNOWNS
];

5906 
cÚ‹xt
 *
cu¼’t
;

5911 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

5916 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

5917 
n_¡d_unknowns
 = 0;

5918 
i
 = 0; i < 
LSQ_size
; i++)

5919 
¡d_unknowns
[
i
] = 0;

5921 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
, 
n_¡d_unknowns
 = 0; i < cu¼’t->
LSQ_num
; i++, index = (šdex + 1è% 
LSQ_size
)

5923 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5925 ià(!
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5931 ià(!
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5938 ià(
n_¡d_unknowns
 =ğ
LSQ_size
)

5939 
	`çl
 ("STD unknown‡rray overflow, increase MAX_STD_UNKNOWNS");

5940 
¡d_unknowns
[
n_¡d_unknowns
++] = 
cu¼’t
->
LSQ
[
šdex
].
addr
;

5945 
j
 = 0; j < 
n_¡d_unknowns
; j++)

5947 ià(
¡d_unknowns
[
j
] =ğ 
cu¼’t
->
LSQ
[
šdex
].
addr
)

5948 
¡d_unknowns
[
j
] = 0;

5954 ((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


5955 && !
cu¼’t
->
LSQ
[
šdex
].
issued


5956 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


5957 && 
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5961 
j
 = 0; j < 
n_¡d_unknowns
; j++)

5964 ià(
¡d_unknowns
[
j
] =ğ
cu¼’t
->
LSQ
[
šdex
].
addr
)

5967 ià(
j
 =ğ
n_¡d_unknowns
)

5970 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

5975 
	}
}

5983 
	$ruu_issue
 ()

5985 
k
, 
i
, 
lßd_Ït
, 
b_Ït
, 
n_issued
;

5986 
RS_lšk
 *
node
, *
Ãxt_node
;

5987 
»s_‹m¶©e
 *
fu
;

5988 
š‹r
 = -1;

5989 
this_cyşe_issued
[
CLUSTERS
];

5990 
mm
;

5991 
d–ay
 = 0;

5992 
boŞ_t
 
bLSQH™
 = 
FALSE
;

5993 
boŞ_t
 
bP¬tŸlH™
 = 
FALSE
;

5994 
nW1
;

5996 #ifdeà 
MSHR


5997 
u£_mshr
 = 0;

6000 
·»ÁID
;

6002 
cÚ‹xt
 *
cu¼’t
;

6003 
th»adid
;

6006 
issueLim™
;

6008 
‹mp
;

6011 #ifdeà 
PULL_BACK


6012 
puÎbackD–ay
[
MAXTHREADS
];

6014 
k
 = 0; k < 
numcÚ‹xts
; k++)

6016 
puÎbackDÚeThisCyşe
[
k
] = 0;

6017 
dl1MissThisCyşe
[
k
] = 
dl1H™ThisCyşe
[k] = 0;

6018 
puÎbackD–ay
[
k
] = 0;

6020 ià(
puÎbackWa™Cyşe
[
k
])

6022 
puÎbackWa™Cyşe
[
k
]--;

6025 ià(
puÎbackBubbË
[
k
] && !
puÎbackWa™Cyşe
[k])

6027 
puÎbackCyşeCouÁ
[
k
]++;

6028 
puÎbackBubbË
[
k
]--;

6029 
puÎbackD–ay
[
k
] = 1;

6035 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

6037 
issue_dÚe
[
‹mp
] = 0;

6038 
this_cyşe_issued
[
‹mp
] = 0;

6039 
lßdRejeùCouÁ
[
‹mp
] = 0;

6040 
»¶ayIndex
[
‹mp
] = 0;

6043 
node
 = 
»ady_queue
;

6044 
»ady_queue
 = 
NULL
;

6048 
issueLim™
 = (
ruu_issue_width
 ) * 
numcÚ‹xts
;

6050 
n_issued
 = 0; 
node
 &&‚_issued < 
issueLim™
;‚odğ
Ãxt_node
)

6052 #ifdeà 
MSHR


6053 
u£_mshr
 = 0;

6056 
Ãxt_node
 = 
node
->
Ãxt
;

6060 ià(
	`RSLINK_VALID
 (
node
))

6062 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

6064 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

6065 
th»adid
 = 
rs
->threadid;

6066 ià(!
	`OPERANDS_READY
 (
rs
è|| !rs->
queued
 ||„s->
issued
 ||„s->
com¶‘ed
)

6067 
	`·nic
 ("issued inst !ready, issued, or completed");

6069 #ifdeà
TG


6070 ià(
rs
->
š_LSQ
)

6071 
	`Œaffic_g’”©e
(
sim_cyşe
, 
rs
->
addr
,„s);

6074 
rs
->
queued
 = 
FALSE
;

6076 #ifdeà 
PULL_BACK


6077 ià(
puÎbackD–ay
[
rs
->
th»adid
])

6079 
	`»adyq_’queue
 (
rs
);

6080 
	`RSLINK_FREE
 (
node
);

6085 ià(
issue_dÚe
[
th»adid
] =ğ(
ruu_issue_width
 ))

6087 
	`»adyq_’queue
 (
rs
);

6088 
	`RSLINK_FREE
 (
node
);

6092 ià(
lßdRejeùCouÁ
[
th»adid
])

6094 
	`»adyq_’queue
 (
rs
);

6095 
	`RSLINK_FREE
 (
node
);

6098 if(
rs
->
ÿche_»ady
 ==1)

6100 
	`»adyq_’queue
 (
rs
);

6101 
	`RSLINK_FREE
 (
node
);

6106 ià(
rs
->
issue_time
 > 
sim_cyşe
)

6108 
	`»adyq_’queue
 (
rs
);

6109 
	`RSLINK_FREE
 (
node
);

6113 ià(((
rs
->
wh’_»ady
[0] <ğ
sim_cyşe
è&& (rs->wh’_»ady[1] <ğsim_cyşeè&& (rs->wh’_»ady[2] <ğsim_cyşeè&& (rs->
wh’_šq
 < sim_cyşeè&& !rs->
š_qwa™
))

6116 #ifdeà 
PWR_WAKEUP_SELECT


6117 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

6119 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

6121 
i£ËùiÚ_acûss
++;

6122 
cu¼’t
->
i£ËùiÚ_acûss
++;

6124 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

6126 
f£ËùiÚ_acûss
++;

6127 
cu¼’t
->
f£ËùiÚ_acûss
++;

6131 
Î_sc
 = 0;

6133 ià(
rs
->
İ
 =ğ
STL_C
 ||„s->İ =ğ
LDL_L
)

6136 
Î_sc
++;

6140 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

6145 
md_addr_t
 
addr
;

6147 #ifdef 
EDA


6148 ià(
rs
->
poisÚ
[1].
dœty
 == 1)

6149 
addr
 = 
rs
->
poisÚ
[1].
d©a
 + 
	`SEXT
 (rs->
IR
 & 0xffff);

6152 
addr
 = 
rs
->addr;

6154 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6155 
i
;

6157 ià(!
v®id_addr
)

6158 
sim_šv®id_addrs
++;

6161 #ifdeà 
MSHR


6162 
u£_mshr
 = 1;

6165 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6167 ià(!
fu
)

6169 
	`»adyq_’queue
 (
rs
);

6170 
	`RSLINK_FREE
 (
node
);

6175 ià(
fu
->
ma¡”
->
busy
)

6176 
	`·nic
 ("functional unit‡lready in use");

6179 ià(
v®id_addr
 && 
db
[
th»adid
])

6181 
b_Ït
 = 0;

6182 
b_Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid);

6183 if(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6185 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6186 
	`»adyq_’queue
 (
rs
);

6187 
	`RSLINK_FREE
 (
node
);

6192 #ifdef 
DCACHE_MSHR


6193 #ifdef 
EDA


6194 
isDL0H™
 = 1;

6195 if(
cu¼’t
->
ma¡”id
 =ğ1 && (
isDL0H™
 = 
	`isCacheH™
(
ÿche_dl0
[cu¼’t->
jobThdId
], 
addr
, 
th»adid
)è=ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[cu¼’t->
h–pThdId
]->
mshr
, 1))

6197 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,h»adidè&& !
mshr_³ndšg_ev’t
[threadid])

6200 
	`»adyq_’queue
 (
rs
);

6201 
	`RSLINK_FREE
 (
node
);

6206 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6207 
rs
->
issued
 = 
TRUE
;

6208 
rs
->
issue_time
 = 
sim_cyşe
;

6209 
rs
->
com¶‘ed
 = 
TRUE
;

6210 
rs
->
fšish_time
 = 
sim_cyşe
;

6213 ià(
v®id_addr
 && (
rs
->
İ
 !ğ
STL_C
))

6215 
Ït
 = 0;

6216 
rsCacheAcûss
 = 
rs
;

6217 
m©chnum
 = 0;

6218 
dÿche_acûss
++;

6219 
cu¼’t
->
dÿche_acûss
++;

6220 #ifdeà
DIRECTORY


6221 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6223 if(!
m©chnum
)

6225 ià(
ÿche_dl1
[
th»adid
])

6226 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,

6227 #ifdeà
DIRECTORY


6228 
rs
,

6230 
rs
->
th»adid
);

6232 #ifdef 
DCACHE_MSHR


6233 if(
Ït
 > 
ÿche_dl1_Ït
)

6234 #ifdeà
DIRECTORY


6235 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
rs
);

6237 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
NULL
);

6242 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6245 
rs
->
issued
 = 
TRUE
;

6246 
rs
->
com¶‘ed
 = 
TRUE
;

6247 
rs
->
issue_time
 = 
sim_cyşe
;

6248 
rs
->
fšish_time
 = 
sim_cyşe
;

6250 ià(
rs
->
couÁed_iissueq
)

6252 
cu¼’t
->
iissueq_thrd
--;

6253 
iissueq
--;

6254 
iissueq_ş
[
rs
->
th»adid
]--;

6255 
rs
->
couÁed_iissueq
 = 0;

6257 ià(
rs
->
couÁed_fissueq
)

6259 
cu¼’t
->
fissueq_thrd
--;

6260 
fissueq
--;

6261 
fissueq_ş
[
rs
->
th»adid
]--;

6262 
rs
->
couÁed_fissueq
 = 0;

6266 ià(
rs
->
Úames
[0] ||„s->onames[1])

6267 
	`·nic
 ("store creates„esult");

6269 ià(
rs
->
»cov”_š¡
)

6270 
	`·nic
 ("mis-predicted store");

6272 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
, 0);

6273 
n_issued
++;

6276 
issue_dÚe
[
rs
->
th»adid
]++;

6279 
cu¼’t
->
iq¿m_acûss
++;

6281 ià(
rs
->
issue_time
 &&„s->issue_tim!ğ
sim_cyşe
)

6282 
	`w¬n
 ("already issueimed on‡nother cycle");

6284 
rs
->
issue_time
 = 
sim_cyşe
;

6286 
k
 = 0; k < 
MAX_IDEPS
; k++)

6288 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6290 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6292 
œegfe_acûss
++;

6293 
cu¼’t
->
œegfe_acûss
++;

6294 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6295 ià(
k
)

6296 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6298 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6299 
œegfe_num_pİ_couÁ_cyşe
++;

6301 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6303 
äegfe_acûss
++;

6304 
cu¼’t
->
äegfe_acûss
++;

6305 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6306 ià(
k
)

6307 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6309 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6310 
œegfe_num_pİ_couÁ_cyşe
++;

6315 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6316 
cu¼’t
->
lsq_acûss
++;

6317 
lsq_¡Üe_d©a_acûss
++;

6318 
cu¼’t
->
lsq_´eg_acûss
++;

6324 
i
 = 
rs
->
šdex
;

6325 
bLSQH™
 = 
FALSE
;

6326 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6330 
bLSQH™
 = 
FALSE
;

6331 ià(
rs
->
isP»ãtch
)

6334 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

6336 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

6339 #ifdef 
LSQ_FIX_PARTIAL_BUG


6340 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6342 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6347 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

6349 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6350 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6352 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6353 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6355 ià(
qwAddr1
 =ğ
qwAddr2
)

6357 
bLSQH™
 = 
TRUE
;

6368 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6370 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
addr
 =ğaddrè&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6374 && 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 < 
rs
->
di¥_time
 && !cu¼’t->LSQ[i].
isP»ãtch
)

6376 
bLSQH™
 = 
TRUE
;

6384 ià(
bLSQH™
)

6386 ià(!
lßdRejeùCouÁ
[
th»adid
])

6388 
m_sqNumLdR•Ïy
[
th»adid
]++;

6389 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

6390 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

6391 
lßdRejeùCouÁ
[
th»adid
]++;

6396 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 = 
rs
->
di¥_time
;

6403 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
NA
)

6406 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

6408 
š‹r
 = (
rs
->
addr
 >> 
ÿche_dl1
[rs->
th»adid
]->
£t_shiá
è& (
»s_membªk
 - 1);

6410 ià(!
DEDICATED_ADDER
 || (
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
IÁALU
))

6413 
š‹r
 = 
MAGICN
 + 
rs
->
şu¡”
;

6417 ià(
rs
->
—_comp
)

6419 
š‹r
 = 
RES_CACHEPORTS
 + 1;

6423 
š‹r
 = 
RES_CACHEPORTS
 + 2;

6427 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6429 ià(
fu
)

6431 
rs
->
issued
 = 
TRUE
;

6432 ià(
rs
->
couÁed_iissueq
)

6434 
cu¼’t
->
iissueq_thrd
--;

6435 
iissueq
--;

6436 
iissueq_ş
[
rs
->
th»adid
]--;

6437 
rs
->
couÁed_iissueq
 = 0;

6439 ià(
rs
->
couÁed_fissueq
)

6441 
cu¼’t
->
fissueq_thrd
--;

6442 
fissueq
--;

6443 
fissueq_ş
[
rs
->
th»adid
]--;

6444 
rs
->
couÁed_fissueq
 = 0;

6447 ià(
fu
->
ma¡”
->
busy
)

6448 
	`·nic
 ("functional unit‡lready in use");

6450 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

6451 
fu
->
ma¡”
->
du¶iÿ‹
 = 
rs
->duplicate;

6452 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6455 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

6457 
ev’ts
 = 0;

6458 
lßd_Ït
 = 0;

6459 
md_addr_t
 
addr
;

6460 #ifdef 
EDA


6461 ià(
rs
->
poisÚ
[1].
dœty
 == 1)

6462 
addr
 = 
rs
->
poisÚ
[1].
d©a
 + 
	`SEXT
 (rs->
IR
 & 0xffff);

6465 
addr
 = 
rs
->addr;

6467 ià(
db
[
th»adid
] && 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
))

6469 
b_Ït
 = 0;

6470 
b_Ït
 = 
	`ÿche_acûss
(
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL, 
rs
->threadid);

6471 ià(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6473 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6474 
fu
->
ma¡”
->
busy
 = 0;

6475 
rs
->
issued
 = 
FALSE
;

6476 
	`»adyq_’queue
 (
rs
);

6477 
	`RSLINK_FREE
 (
node
);

6482 #ifdef 
DCACHE_MSHR


6483 #ifdef 
EDA


6484 
isDL0H™
 = 1;

6485 if((
cu¼’t
->
ma¡”id
 =ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0)) ||

6486 (
cu¼’t
->
ma¡”id
 =ğ1 && (
isDL0H™
 = 
	`isCacheH™
(
ÿche_dl0
[cu¼’t->
jobThdId
], 
addr
, 
th»adid
)è=ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[cu¼’t->
h–pThdId
]->
mshr
, 1)))

6488 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid))

6491 
fu
->
ma¡”
->
busy
 = 0;

6492 
rs
->
issued
 = 
FALSE
;

6493 
	`»adyq_’queue
 (
rs
);

6494 
	`RSLINK_FREE
 (
node
);

6499 
cu¼’t
->
lsq_acûss
++;

6500 
cu¼’t
->
lsq_wakeup_acûss
++;

6503 
ldIssueCouÁ
++;

6504 #ifdeà
RELAXED_CONSISTENCY


6505 
i
 = 
rs
->
šdex
;

6506 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6509 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

6511 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

6514 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6515 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6516 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

6518 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6519 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6521 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6522 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6524 ià((
qwAddr1
 =ğ
qwAddr2
è&& 
cu¼’t
->
LSQ
[
i
].
šv®id©iÚReûived
)

6526 ià(!
lßdRejeùCouÁ
[
th»adid
])

6528 
m_sqNumLdR•Ïy
[
th»adid
]++;

6529 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

6530 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

6531 
lßdRejeùCouÁ
[
th»adid
]++;

6532 
šv®id©iÚ_»¶ay
[
th»adid
]++;

6541 
ld¡R•Ïy
 = 1;

6543 ià(!
rs
->
isP»ãtch
)

6544 
ld¡R•Ïy
 = 
	`checkLSQfÜSt
 (
rs
->
šdex
, 
cu¼’t
);

6546 ià(!
ld¡R•Ïy
)

6549 #ifdeà
REMOVE_COMPUTE_QUEUE


6550 ià(
rs
->
couÁed_iissueq
)

6552 
cu¼’t
->
iissueq_thrd
++;

6553 
iissueq
++;

6554 
rs
->
couÁed_iissueq
 = 1;

6556 ià(
rs
->
couÁed_fissueq
)

6558 
cu¼’t
->
fissueq_thrd
++;

6559 
fissueq
++;

6560 
rs
->
couÁed_fissueq
 = 1;

6563 
rs
->
issued
 = 
FALSE
;

6564 
rs
->
issue_time
 = 
sim_cyşe
 + 
»jeùR‘ryCyşe
;

6565 
	`»adyq_’queue
 (
rs
);

6566 
	`RSLINK_FREE
 (
node
);

6567 
ld¡RejeùiÚCouÁ
[
th»adid
]++;

6572 
bLSQH™
 = 
FALSE
;

6573 
bP¬tŸlH™
 = 
FALSE
;

6575 
i
 = 
rs
->
šdex
;

6576 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6579 
lsq_Ït
 = 0;

6580 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
 && !
rs
->
isP»ãtch
)

6587 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

6590 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
)

6591 #ifdeà
LSQ_LOAD_FAST_ISSUE


6593 && (
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
i
]))

6595 && (
cu¼’t
->
LSQ
[
i
].
th»adid
 =ğ
rs
->th»adidè&& !cu¼’t->LSQ[i].
isP»ãtch
)

6597 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6598 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6599 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6600 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6602 ià(
qwAddr1
 =ğ
qwAddr2
)

6604 
bLSQH™
 = 
TRUE
;

6605 ià(
nW1
 > 
nW2
)

6609 
bP¬tŸlH™
 = 
TRUE
;

6615 ià(
bLSQH™
)

6620 
lsq_Ït
 = 
LSQ_LATENCY
;

6621 
rs
->
sqStÜeFÜw¬dT
 = 
cu¼’t
->
LSQ
[
i
].
di¥_time
;

6625 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

6629 #ifdeà
DIRECTORY


6630 
m©chnum
;

6631 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6632 if(
m©chnum
 && !
rs
->
isP»ãtch
 && !
mshr_³ndšg_ev’t
[
th»adid
] &&„s->
sqStÜeFÜw¬dT
 == -1)

6634 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6635 
rs
->
issued
 = 
FALSE
;

6636 
rs
->
ÿche_»ady
 = 1;

6637 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

6638 
	`RSLINK_FREE
 (
node
);

6644 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6646 ià(!
cu¼’t
->
¥ec_mode
 && !
v®id_addr
)

6647 
sim_šv®id_addrs
++;

6649 ià(
ÿche_dl1
[
th»adid
] && 
v®id_addr
 && !(
m©chnum
))

6652 
dÿche_acûss
++;

6653 
cu¼’t
->
dÿche_acûss
++;

6654 
rsCacheAcûss
 = 
rs
;

6655 #ifdeà
DIRECTORY


6656 
lßd_Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,„s->threadid);

6658 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
->threadid);

6661 #ifdef 
DCACHE_MSHR


6663 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 == -1)

6664 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
rs
);

6665 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 != -1)

6666 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
NULL
);

6668 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
)

6669 
ev’ts
 |ğ
PEV_CACHEMISS
;

6673 
lßd_Ït
 = 
fu
->
İÏt
;

6676 #ifdeà 
PULL_BACK


6677 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
 && !
rs
->
isP»ãtch
)

6679 
dl1MissThisCyşe
[
rs
->
th»adid
] = 1;

6680 ià(
rs
->
İ
 !ğ
LDT
 &&„s->İ !ğ
LDS
)

6682 ià(!
puÎbackDÚeThisCyşe
[
rs
->
th»adid
])

6684 ià(
puÎbackWa™Cyşe
[
rs
->
th»adid
])

6685 
puÎbackBubbË
[
rs
->
th»adid
]++;

6687 
puÎbackBubbË
[
rs
->
th»adid
] = 2;

6688 
puÎbackDÚeThisCyşe
[
rs
->
th»adid
] = 1;

6690 ià(!
puÎbackWa™Cyşe
[
rs
->
th»adid
])

6692 
puÎbackWa™Cyşe
[
rs
->
th»adid
] = 2;

6696 ià(!
rs
->
isP»ãtch
)

6698 
dl1H™ThisCyşe
[
rs
->
th»adid
] = 1;

6699 ià(
rs
->
İ
 =ğ
LDT
 ||„s->İ =ğ
LDS
)

6701 
lßd_Ït
 = 
ÿche_dl1_Ït
 + 1;

6707 ià(
PERFECT
)

6709 
lßd_Ït
 = 
PERFECTLAT
;

6712 ià(
lsq_Ït
)

6714 
lßd_Ït
 = 
lsq_Ït
;

6716 ià(
rs
->
isP»ãtch
)

6718 
lßd_Ït
 = 
ÿche_dl1_Ït
;

6719 ià(!
rs
->
¥ec_mode
)

6720 
m_sqP»ãtchCÁ
++;

6724 ià(
bP¬tŸlH™
)

6726 #ifdeà
DIRECTORY


6727 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5,†oad_lat+5);

6729 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5);

6733 #ifdeà
DIRECTORY


6734 
	`ev’tq_queue_ev’t
(
rs
, 
sim_cyşe
 + 
lßd_Ït
,†oad_lat);

6736 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
);

6740 ià(!
rs
->
—_comp
)

6742 
rs
->
fšish_time
 = (
sim_cyşe
 + 
lßd_Ït
);

6743 
rs
->
issue_time
 = 
sim_cyşe
;

6747 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
, (Ôs->
—_comp
 ? 
PEV_AGEN
 : 0è| 
ev’ts
));

6752 #ifdeà
PWR_ACCESS


6753 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6754 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

6756 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

6759 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁALU
)

6761 
Ÿlu1_acûss
++;

6762 
cu¼’t
->
Ÿlu1_acûss
++;

6764 ià(
rs
->
—_comp
)

6766 
add_®u
++;

6770 
nÚadd_®u
++;

6773 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
IÁDIV
))

6775 
Ÿlu2_acûss
++;

6776 
cu¼’t
->
Ÿlu2_acûss
++;

6778 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
FlßtMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
FlßtDIV
))

6780 
çlu2_acûss
++;

6781 
cu¼’t
->
çlu2_acûss
++;

6785 
çlu1_acûss
++;

6786 
cu¼’t
->
çlu1_acûss
++;

6788 #ifdeà
DIRECTORY


6789 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
, 0);

6791 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
);

6793 
rs
->
fšish_time
 = (
sim_cyşe
 + 
fu
->
İÏt
);

6794 
rs
->
issue_time
 = 
sim_cyşe
;

6795 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

6799 
n_issued
++;

6800 
issue_dÚe
[
rs
->
th»adid
]++;

6802 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6804 
fq¿m_acûss
++;

6805 
cu¼’t
->
fq¿m_acûss
++;

6809 
iq¿m_acûss
++;

6810 
cu¼’t
->
iq¿m_acûss
++;

6813 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6815 
k
 = 0; k < 
MAX_IDEPS
; k++)

6817 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6819 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6821 
œegfe_acûss
++;

6822 
cu¼’t
->
œegfe_acûss
++;

6823 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6824 ià(
k
)

6825 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6827 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6828 
œegfe_num_pİ_couÁ_cyşe
++;

6830 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6832 
äegfe_acûss
++;

6833 
cu¼’t
->
œegfe_acûss
++;

6834 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6835 ià(
k
)

6836 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6838 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6839 
œegfe_num_pİ_couÁ_cyşe
++;

6846 
	`»adyq_’queue
 (
rs
);

6847 ià(!
rs
->
¥ec_mode
)

6848 
iss_¡®l
++;

6849 ià(
š‹r
 < 
RES_CACHEPORTS
)

6851 ià(!
rs
->
¥ec_mode
)

6852 
bªk_cÚf
++;

6858 
rs
->
issued
 = 
TRUE
;

6859 ià(
rs
->
couÁed_iissueq
)

6861 
cu¼’t
->
iissueq_thrd
--;

6862 
iissueq
--;

6863 
iissueq_ş
[
rs
->
th»adid
]--;

6864 
rs
->
couÁed_iissueq
 = 0;

6866 ià(
rs
->
couÁed_fissueq
)

6868 
cu¼’t
->
fissueq_thrd
--;

6869 
fissueq
--;

6870 
fissueq_ş
[
rs
->
th»adid
]--;

6871 
rs
->
couÁed_fissueq
 = 0;

6873 #ifdeà
DIRECTORY


6874 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1, 0);

6876 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1);

6878 ià(!
rs
->
—_comp
 &&„s->
out1
)

6880 
rs
->
fšish_time
 = (
sim_cyşe
 + 1);

6881 
rs
->
issue_time
 = 
sim_cyşe
;

6885 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

6886 
n_issued
++;

6887 
issue_dÚe
[
rs
->
th»adid
]++;

6888 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6890 
fq¿m_acûss
++;

6891 
cu¼’t
->
fq¿m_acûss
++;

6895 
iq¿m_acûss
++;

6896 
cu¼’t
->
iq¿m_acûss
++;

6898 ià((
rs
->
š¡num
 - 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].š¡numè> 
DISTILP
)

6900 
di¡p
++;

6901 ià(!
rs
->
¥ec_mode
)

6902 
di¡p_v®id
++;

6903 
rs
->
di¡issue
 = 1;

6905 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6907 
k
 = 0; k < 
MAX_IDEPS
; k++)

6909 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6911 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6913 
œegfe_acûss
++;

6914 
cu¼’t
->
œegfe_acûss
++;

6915 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6916 ià(
k
)

6917 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6919 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6920 
œegfe_num_pİ_couÁ_cyşe
++;

6922 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6924 
äegfe_acûss
++;

6925 
cu¼’t
->
äegfe_acûss
++;

6927 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6928 ià(
k
)

6929 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6931 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6932 
œegfe_num_pİ_couÁ_cyşe
++;

6938 #ifdef 
EDA


6939 ià(
cu¼’t
->
ma¡”id
 == 1)

6941 ià(
rs
->
poisÚ
[0].
dœty
 ||„s->poison[1].dirty)

6943 ià(
rs
->
—_comp
)

6945 
rs
->
poisÚ
[2].
dœty
 = 1;

6946 
rs
->
poisÚ
[2].
d©a
 =„s->poisÚ[1].d©¨+ 
	`SEXT
 (rs->
IR
 & 0xffff);

6948 ià(!
rs
->
š_LSQ
)

6949 
	`ÿlcuÏ‹WrÚgV®ue
 (
rs
);

6951 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_LOAD
))

6952 
rs
->
poisÚ
[2].
dœty
 = 0;

6958 
	`»adyq_’queue
 (
rs
);

6961 
	`RSLINK_FREE
 (
node
);

6964 ; 
node
;‚odğ
Ãxt_node
)

6966 
Ãxt_node
 = 
node
->
Ãxt
;

6968 ià(
	`RSLINK_VALID
 (
node
))

6970 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

6972 
rs
->
queued
 = 
FALSE
;

6973 
	`»adyq_’queue
 (
rs
);

6975 
	`RSLINK_FREE
 (
node
);

6980 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

6982 ià(
lßdRejeùCouÁ
[
‹mp
] & 
cŞËù_¡©s
 == 1)

6985 
k
 = 
»¶ayIndex
[
‹mp
];

6988 ià(!
thecÚ‹xts
[
‹mp
]->
RUU
[
k
].
¥ec_mode
)

6990 
	`fixS³cS‹
 (
k
, 
‹mp
);

6991 
thecÚ‹xts
[
‹mp
]->
»gs
 =hecÚ‹xts[‹mp]->
RUU
[
k
].
backupReg
;

6992 
	`£qCÚsi¡ªcyR•Ïy
 (
k
, 
‹mp
);

6993 
lßdRejeùSt
[
‹mp
]++;

6998 
num_issued
 = 
n_issued
;

6999 
	}
}

7007 
	#R_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_IREGS
))

	)

7008 
	#F_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_FREGS
))

	)

7009 
	#C_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_CREGS
))

	)

7013 
	$r¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7015 
i
;

7017 
cÚ‹xt
 *
cu¼’t
;

7019 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7021 ià(!
¡»am
)

7022 
¡»am
 = 
¡d”r
;

7024 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtiv»gi¡” cÚ‹Á **\n", 
th»adid
);

7026 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7029 
i
 = 0; i < 
MD_NUM_IREGS
; i++)

7031 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, 
i
))

7033 
	`md_´št_œeg
 (
cu¼’t
->
¥ec_»gs_R
, 
i
, 
¡»am
);

7034 
	`årštf
 (
¡»am
, "\n");

7039 
i
 = 0; i < 
MD_NUM_FREGS
; i++)

7041 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, 
i
))

7043 
	`md_´št_å»g
 (
cu¼’t
->
¥ec_»gs_F
, 
i
, 
¡»am
);

7044 
	`årštf
 (
¡»am
, "\n");

7049 
i
 = 0; i < 
MD_NUM_CREGS
; i++)

7051 #ifdeà
TEST_BUG


7052 ià(
	`BITMAP_SET_P
 (
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7054 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7057 
	`md_´št_üeg
 (
cu¼’t
->
¥ec_»gs_C
, 
i
, 
¡»am
);

7058 
	`årštf
 (
¡»am
, "\n");

7061 
	}
}

7073 
	$Œaûr_»cov”
 (
th»adid
)

7075 
i
;

7076 
¥ec_mem_’t
 *
’t
, *
’t_Ãxt
;

7078 
cÚ‹xt
 *
cu¼’t
;

7080 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7084 ià(!
cu¼’t
->
¥ec_mode
)

7085 
	`·nic
 ("Th»ad %d, cªnÙ„ecov” uÆes š s³cuÏtivmode", 
th»adid
);

7086 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7088 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7089 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7093 #ifdeà
TEST_BUG


7094 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7095 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7096 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7098 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7099 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7100 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7105 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7108 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ = 
’t_Ãxt
)

7110 
’t_Ãxt
 = 
’t
->
Ãxt
;

7111 
’t
->
Ãxt
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7112 
cu¼’t
->
buck‘_ä“_li¡
 = 
’t
;

7114 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7118 ià(
±¿û_aùive
)

7120 
cu¼’t
->
ãtch_num
 != 0)

7122 
	`±¿û_’dš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
);

7123 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

7124 
cu¼’t
->
ãtch_num
--;

7128 
cu¼’t
->
ãtch_num
 = 0;

7129 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

7130 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»cov”_PC
;

7131 
	}
}

7135 
	$Œaûr_š™
 (
th»adid
)

7137 
i
;

7139 
cÚ‹xt
 *
cu¼’t
;

7141 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7143 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7144 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7145 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7148 #ifdeà
TEST_BUG


7149 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7150 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7151 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7153 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7154 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7155 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7157 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7158 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7159 
	}
}

7165 
	#HASH_ADDR
(
ADDR
è((((ADDRè>> 24)^((ADDRè>> 16)^((ADDRè>> 8)^(ADDR)è& (
STORE_HASH_SIZE
-1))

	)

7177 
md_çuÉ_ty³


7178 
	$¥ec_mem_acûss
 (
mem_t
 *
mem
,

7179 
mem_cmd
 
cmd
,

7180 
md_addr_t
 
addr
,

7181 *
p
,

7182 
nby‹s
)

7184 
i
, 
šdex
;

7185 
¥ec_mem_’t
 *
’t
, *
´ev
;

7187 
cÚ‹xt
 *
cu¼’t
;

7188 
th»adid
 = 
mem
->threadid;

7190 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7196 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

7199 
i
 = 0; i < 
nby‹s
; i++)

7200 ((*è
p
)[
i
] = 0;

7202  
md_çuÉ_nÚe
;

7205 ià(!((
addr
 >ğ
cu¼’t
->
ld_‹xt_ba£
 &&‡dd¸< (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& 
cmd
 =ğ
R—d
è|| 
	`md_v®id_addr
 (addr, cu¼’t->
ma¡”id
)))

7208 
i
 = 0; i < 
nby‹s
; i++)

7209 ((*è
p
)[
i
] = 0;

7211  
md_çuÉ_nÚe
;

7215 
šdex
 = 
	`HASH_ADDR
 (
addr
);

7216 
´ev
 = 
NULL
, 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
Ãxt
)

7218 ià(
’t
->
addr
 ==‡ddr)

7221 ià(
´ev
 !ğ
NULL
)

7224 
´ev
->
Ãxt
 = 
’t
->next;

7225 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7226 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7233 ià(!
’t
 && 
cmd
 =ğ
Wr™e
)

7236 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7239 
cu¼’t
->
buck‘_ä“_li¡
 = 
	`ÿÎoc
 (1,  (
¥ec_mem_’t
));

7240 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7241 
	`çl
 ("th»ad %d , ouˆoàvœtu® memÜy", 
th»adid
);

7243 
’t
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7244 
cu¼’t
->
buck‘_ä“_li¡
 = cu¼’t->buck‘_ä“_li¡->
Ãxt
;

7246 ià(!
bugcom·t_mode
)

7249 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7250 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7251 
’t
->
addr
 =‡ddr;

7252 
’t
->
d©a
[0] = 0;

7253 
’t
->
d©a
[1] = 0;

7258 
nby‹s
)

7261 ià(
cmd
 =ğ
R—d
)

7263 ià(
’t
)

7266 *((
by‹_t
 *è
p
èğ*((by‹_ˆ*è(&
’t
->
d©a
[0]));

7272 *((
by‹_t
 *è
p
èğ
	`MEM_READ_BYTE
 (
mem
, 
addr
);

7278 *((
by‹_t
 *è(&
’t
->
d©a
[0])èğ*((by‹_ˆ*è
p
);

7282 ià(
cmd
 =ğ
R—d
)

7284 ià(
’t
)

7287 *((
h®f_t
 *è
p
èğ*((h®f_ˆ*è(&
’t
->
d©a
[0]));

7293 *((
h®f_t
 *è
p
èğ
	`MEM_READ_HALF
 (
mem
, 
addr
);

7299 *((
h®f_t
 *è& 
’t
->
d©a
[0]èğ*((h®f_ˆ*è
p
);

7303 ià(
cmd
 =ğ
R—d
)

7305 ià(
’t
)

7308 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

7314 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

7320 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

7324 ià(
cmd
 =ğ
R—d
)

7326 ià(
’t
)

7329 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

7330 *(((
wÜd_t
 *è
p
è+ 1èğ*((wÜd_ˆ*è& 
’t
->
d©a
[1]);

7336 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

7337 *(((
wÜd_t
 *è
p
è+ 1èğ
	`MEM_READ_WORD
 (
mem
, 
addr
 +  (word_t));

7343 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

7344 *((
wÜd_t
 *è& 
’t
->
d©a
[1]èğ*(((wÜd_ˆ*è
p
) + 1);

7348 
	`·nic
 ("access size‚ot supported in mis-speculative mode");

7351  
md_çuÉ_nÚe
;

7352 
	}
}

7356 
	$m¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7358 
i
, 
j
;

7359 
¥ec_mem_’t
 *
’t
;

7361 
cÚ‹xt
 *
cu¼’t
;

7363 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7365 ià(!
¡»am
)

7366 
¡»am
 = 
¡d”r
;

7368 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtivmemÜy cÚ‹Á **\n", 
th»adid
);

7370 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7372 
j
 = 0; j < 
numcÚ‹xts
; j++)

7374 
	`årštf
 (
¡»am
, "th»ad %d : \n", 
j
);

7375 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7378 
’t
 = 
thecÚ‹xts
[
j
]->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7380 
	`myårštf
 (
¡»am
, "[0x%08p]: %12.0f/0x%08x:%08x\n", 
’t
->
addr
, (è(*((*è’t->
d©a
)), *((*) &ent->data[0]), *(((*) &ent->data[0]) + 1));

7384 
	}
}

7388 
	$simoo_mem_obj
 (
mem_t
 *
mem
,

7389 
is_wr™e
,

7390 
md_addr_t
 
addr
,

7391 *
p
,

7392 
nby‹s
)

7394 
mem_cmd
 
cmd
;

7396 
th»adid
 = 
mem
->threadid;

7397 
cÚ‹xt
 *
cu¼’t
;

7399 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7401 ià(!
is_wr™e
)

7402 
cmd
 = 
R—d
;

7404 
cmd
 = 
Wr™e
;

7407 *
”r¡r
;

7409 
”r¡r
 = 
	`mem_v®id
 (
cmd
, 
addr
, 
nby‹s
, 
FALSE
);

7410 ià(
”r¡r
)

7411  
”r¡r
;

7415 ià(
cu¼’t
->
¥ec_mode
)

7416 
	`¥ec_mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
);

7418 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adid
);

7421  
NULL
;

7422 
	}
}

7428 
	$æushWr™eBufãr
 (
th»adid
)

7430 
šdex
;

7431 
wb_mem_’t
 *
’t
, *
´ev
;

7432 
nby‹s
;

7433 
by‹_t
 *
p
, *
q
;

7434 
md_addr_t
 
addr
;

7435 
ii
;

7437 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7439 
’t
 = 
cu¼’t
->
WBbËTa
;ƒÁ !ğ
NULL
;ƒÁ =ƒÁ->
´ev
)

7441 
p
 = 
’t
->
d©a
;

7442 
nby‹s
 = 
’t
->nbytes;

7443 
addr
 = 
’t
->addr;

7445 #ià!
WATER_NSQUARED


7446 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7448 
nby‹s
-- > 0)

7450 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7451 
p
 +ğ (
by‹_t
);

7452 
addr
 +ğ (
by‹_t
);

7456 
’t
->
wr™eAÌ—dyDÚe
 = 1;

7459 
	}
}

7463 
	$com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
)

7466 
by‹_t
 *
p
, *
q
;

7467 
cÚ‹xt
 *
cu¼’t
;

7468 
wb_mem_’t
 *
’t
, *
´ev
;

7471 
nby‹s
;

7472 
md_İcode
 
İ
;

7473 
md_addr_t
 
š¡
;

7474 
do_wr™e
 = 1;

7475 
jj
;

7476 
acûs£d
;

7478 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7479 
’t
 = 
cu¼’t
->
WBbËTa
;

7481 ià((
width
 & (width - 1)è!ğ0 || (
addr
 & (width - 1)) != 0)

7484 
p
 = 
’t
->
d©a
;

7485 
nby‹s
 = 
’t
->nbytes;

7486 ià(
addr
 !ğ
’t
->addr)

7487 
	`´štf
("’t->add¸%Îd\n", 
’t
->
addr
);

7488 ià(
addr
 !ğ
’t
->addr)

7489 
	`·nic
 ("write buffer miss-alignment\n");

7491 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

7492 
š¡
 = 
’t
->
š¡r
;

7494 
p
 = 
’t
->
d©a
;

7495 
nby‹s
 = 
’t
->nbytes;

7498 ià(
İ
 != 35)

7500 #ià!
WATER_NSQUARED


7501 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7503 
nby‹s
-- > 0)

7505 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7506 
p
 +ğ (
by‹_t
);

7507 
addr
 +ğ (
by‹_t
);

7514 #ià
WATER_NSQUARED


7515 
cu¼’t
->
wa™FÜSTLC
 = 0;

7517 ià(!
isFa
 && (
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 !ğ0è&& (commÚ_»gs_s[cu¼’t->ma¡”id][cu¼’t->aùu®id].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
)))

7519 
do_wr™e
 = 1;

7521 
jj
 = 0; jj < 
THREADS_PER_JOB
; jj++)

7523 ià(
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
))

7525 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
»gs_lock
 = 0;

7526 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 = 0;

7529 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7532 
nby‹s
-- > 0)

7534 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7535 
p
 +ğ (
by‹_t
);

7536 
addr
 +ğ (
by‹_t
);

7539 
¡ÜeCÚdFa
 = 0;

7543 
cu¼’t
->
»gs
.
»gs_R
[((
š¡
 >> 21) & 0x1f)] = 0;

7544 
do_wr™e
 = 0;

7545 
¡ÜeCÚdFa
 = 1;

7547 
cu¼’t
->
wa™FÜSTLC
 = 0;

7550 
acûs£d
 = 
’t
->accessed;

7551 
cu¼’t
->
numOfWBEÁry
--;

7552 ià((
’t
->
´ev
 =ğ
NULL
è&& (’t->
Ãxt
 == NULL))

7554 
cu¼’t
->
WBbËTa
 = 
NULL
;

7555 
cu¼’t
->
WBbËH—d
 = 
NULL
;

7556 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7557 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7559 ià(
’t
->
Ãxt
 =ğ
NULL
)

7561 
cu¼’t
->
WBbËTa
 = 
’t
->
´ev
;

7562 
’t
->
´ev
->
Ãxt
 = 
NULL
;

7563 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7564 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7567 ià(
’t
->
´ev
 =ğ
NULL
)

7569 
cu¼’t
->
WBbËH—d
 = 
’t
->
Ãxt
;

7570 
’t
->
Ãxt
->
´ev
 = 
NULL
;

7571 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7572 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7576 
’t
->
´ev
->
Ãxt
 =ƒnt->next;

7577 
’t
->
Ãxt
->
´ev
 =ƒnt->prev;

7578 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7579 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7581 
	}
}

7586 
	$comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
)

7588 
šdex
;

7589 
wb_mem_’t
 *
’t
;

7590 
cÚ‹xt
 *
cu¼’t
;

7591 
md_İcode
 
İ
;

7592 
Ït
 = 0;

7593 
pÜt_Ït
 = 0, 
now_Ït
 = 0, 
pÜt_now
 = 0;

7596 
cu¼’t
 = 
thecÚ‹xts
[
th»adID
];

7597 ià(!
COHERENT_CACHE
)

7599 
	`´štf
 ("This is‚otrue for‚on-coherent cache\n");

7600 
	`ex™
 (0);

7602 
šdex
 = 0;

7603 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7605 ià(
’t
->
addr
 =ğadd¸&& !’t->
com¶‘eCyşe
)

7607 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

7608 ià(
İ
 == 35)

7610 
’t
->
com¶‘eCyşe
 = 
sim_cyşe
 + 
Ït
;

7611 
’t
->
ÃedBusAcûss
 = 1;

7612 
’t
->
acûs£d
 =‡ccessed;

7616 
’t
->
com¶‘eCyşe
 = completeCycle;

7617 
’t
->
ÃedBusAcûss
 =‚eedBusAccess;

7618 
’t
->
acûs£d
 =‡ccessed;

7623 
	}
}

7627 #ià
PROCESS_MODEL


7629 
	$checkFÜSh¬edAddr
 (
addr
)

7631 
sh¬edAdd»ssLi¡_s
 *
tmpPŒ
;

7633 
šdx
 = (è(((è
addr
 & 1016) >> 3);

7635 
šdx
 = 0;

7636 
tmpPŒ
 = 
sh¬edAdd»ssLi¡
[
šdx
];

7637 ià((
addr
 >ğ
La¡Sh¬edAdd»ss
è&& (add¸< (La¡Sh¬edAdd»s + 
La¡Sh¬edSize
)))

7641 
tmpPŒ
 !ğ
NULL
)

7643 ià((
addr
 >ğ
tmpPŒ
->
add»ss
è&& (add¸< (tmpPŒ->add»s +mpPŒ->
size
)))

7645 
La¡Sh¬edAdd»ss
 = 
tmpPŒ
->
add»ss
;

7646 
La¡Sh¬edSize
 = 
tmpPŒ
->
size
;

7649 
tmpPŒ
 =mpPŒ->
Ãxt
;

7652 
	}
}

7655 
md_çuÉ_ty³


7656 
	$WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
)

7658 
md_İcode
 
İ
;

7659 
md_çuÉ_ty³
 
»tuº_ty³
;

7661 
TempIn¡r
 = 
š¡r
;

7662 
	`MD_SET_OPCODE
 (
İ
, 
TempIn¡r
);

7664 if(!
thecÚ‹xts
[
th»adID
]->
¥ec_mode
 && (
addr
 <ğthecÚ‹xts[0]->
ld_¡ack_ba£
è&& (add¸>hecÚ‹xts[0]->ld_¡ack_ba£-
numcÚ‹xts
*
STACKSIZE
) && !(addr <=hecontexts[threadID]->ld_stack_base &&‡ddr >hecontexts[threadID]->ld_stack_base-STACKSIZE))

7665 
	`·nic
("Stack boundaries breached: May behe STACKSIZE…arameter defined in context.h file is small forhe‡pplication");

7667 #ià
	`defšed
(
DO_COMPLETE_FASTFWD
è|| defšed(
PARALLEL_EMUL
)

7668 #ià
PROCESS_MODEL


7669 ià(
	`checkFÜSh¬edAddr
 ((è
addr
))

7671 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
thecÚ‹xts
[0]->
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7672  
»tuº_ty³
;

7675 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7676  
»tuº_ty³
;

7680 ià(
COHERENT_CACHE
 && 
®lFÜked
)

7682 ià(
İ
 == 35)

7684 
thecÚ‹xts
[
th»adID
]->
wa™FÜSTLC
 = 1;

7686 
»tuº_ty³
 = 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7687 #ià
WATER_NSQUARED


7688 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7691 ià(
acûss_mem
 && 
acûss_mem_id
 =ğ
th»adID
)

7693 
	`æushWr™eBufãr
 (
th»adID
);

7695  
»tuº_ty³
;

7699 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7700  
»tuº_ty³
;

7702 
	}
}

7706 
INLINE
 

7707 
	$ruu_lšk_id•
 (
RUU_¡©iÚ
 *
rs
,

7708 
id•_num
,

7709 
id•_Çme
)

7711 
CV_lšk
 
h—d
;

7712 
RS_lšk
 *
lšk
;

7714 
th»adid
 = 
rs
->threadid;

7715 
cÚ‹xt
 *
cu¼’t
;

7717 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7719 
rs
->
´od
[
id•_num
] = 
NULL
;

7720 
rs
->
id•_Çme
[
id•_num
] = idep_name;

7722 ià(
id•_Çme
 =ğ
NA
)

7725 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

7726 
rs
->
wh’_»ady
[
id•_num
] = 0;

7727 
rs
->
wh’_id•_»ady
[
id•_num
] = 
WAIT_TIME
;

7731 
h—d
 = 
	`CREATE_VECTOR
 (
id•_Çme
);

7734 ià(!
h—d
.
rs
 || h—d.rs->
com¶‘ed
)

7736 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

7737 
rs
->
wh’_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

7738 
rs
->
wh’_id•_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

7741 
rs
->
id•_»ady
[
id•_num
] = 
FALSE
;

7742 
rs
->
´od
[
id•_num
] = 
h—d
.rs;

7744 
	`RSLINK_NEW
 (
lšk
, 
rs
);

7745 
lšk
->
x
.
İnum
 = 
id•_num
;

7746 
lšk
->
Ãxt
 = 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
];

7747 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
] = 
lšk
;

7748 
	}
}

7751 
	$ÃedsWBæush
 (
cÚ‹xt
 * 
cu¼’t
, 
md_İcode
 
İ
, 
md_addr_t
 
addr
)

7753 
nby‹s
 = 
	`G‘MemAccWidth
 (
İ
);

7755 ià(
İ
 =ğ
LDQ_U
)

7756 
addr
 =‡ddr & ~7;

7758 
wb_mem_’t
 *
’t
;

7760 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7762 ià(
nby‹s
 == 1)

7764 ià(!(
’t
->
nby‹s
 ==‚bytes))

7766 ià((
’t
->
addr
 <ğaddrè&& (ÓÁ->add¸+ƒÁ->
nby‹s
) >‡ddr))

7772 ià(
nby‹s
 == 2)

7774 ià(
’t
->
nby‹s
 !=‚bytes)

7776 ià(
’t
->
nby‹s
 <‚bytes)

7778 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

7785 ià((
addr
 >ğ
’t
->addrè&& (add¸< (’t->add¸+ƒÁ->
nby‹s
)))

7792 ià(
nby‹s
 == 4)

7794 ià(
nby‹s
 !ğ
’t
->nbytes)

7796 ià(
’t
->
nby‹s
 <‚bytes)

7798 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

7805 ià(
nby‹s
 == 8)

7807 ià(
nby‹s
 !ğ
’t
->nbytes)

7809 ià((
’t
->
nby‹s
 == 1) || (ent->nbytes == 2) || (ent->nbytes == 4))

7811 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

7820 
	}
}

7825 
INLINE
 

7826 
	$ruu_š¡®l_od•
 (
RUU_¡©iÚ
 *
rs
,

7827 
od•_num
,

7828 
od•_Çme
)

7830 
CV_lšk
 
cv
;

7832 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

7835 ià(
od•_Çme
 =ğ
NA
)

7838 
rs
->
Úames
[
od•_num
] = 
NA
;

7843 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

7845 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

7848 
	`CVLINK_INIT
 (
cv
, 
rs
, 
od•_num
);

7849 
	`SET_CREATE_VECTOR
 (
od•_Çme
, 
cv
);

7850 
	}
}

7854 
INLINE
 

7855 
	$ruu_š¡®l_od•_sk
 (
RUU_¡©iÚ
 *
rs
,

7856 
od•_num
,

7857 
od•_Çme
)

7861 ià(
od•_Çme
 =ğ
NA
)

7864 
rs
->
Úames
[
od•_num
] = 
NA
;

7869 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

7871 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

7873 
	}
}

7879 
	$simoo_»g_obj
 (
»gs_t
 *
x»gs
,

7880 
is_wr™e
,

7881 
md_»g_ty³
 
¹
,

7882 
»g
,

7883 
ev®_v®ue_t
 *
v®
)

7886 
th»adid
 = 0;

7887 
cÚ‹xt
 *
cu¼’t
;

7889 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7891 
¹
)

7893 
¹_g´
:

7894 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_IREGS
)

7897 ià(!
is_wr™e
)

7899 
v®
->
ty³
 = 
‘_ušt
;

7900 
v®
->
v®ue
.
as_ušt
 = 
	`GPR
 (
»g
);

7903 
	`SET_GPR
 (
»g
, 
	`ev®_as_ušt
 (*
v®
));

7906 
¹_Ír
:

7907 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_FREGS
)

7911 
	`abÜt
 ();

7914 
¹_år
:

7916 
	`abÜt
 ();

7919 
¹_d´
:

7921 
	`abÜt
 ();

7926 
¹_PC
:

7927 ià(!
is_wr™e
)

7929 
v®
->
ty³
 = 
‘_addr
;

7930 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_PC
;

7933 
cu¼’t
->
»gs
.
»gs_PC
 = 
	`ev®_as_addr
 (*
v®
);

7936 
¹_NPC
:

7937 ià(!
is_wr™e
)

7939 
v®
->
ty³
 = 
‘_addr
;

7940 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

7943 
cu¼’t
->
»gs
.
»gs_NPC
 = 
	`ev®_as_addr
 (*
v®
);

7947 
	`·nic
 ("bogus„egister bank");

7951  
NULL
;

7952 
	}
}

7955 
ruu_ãtch
 ();

7957 
	g¡®lCau£
[
MAXTHREADS
] = {0};

7958 
couÁ”_t
 
	gmb_couÁ
 = 0;

7967 
	$ruu_di¥©ch
 (
th»adid
)

7969 
i
;

7970 
‹mpş
;

7971 
‹mµc
 = 0;

7972 
mm
, 
k
;

7973 
fÜû_bªk
;

7974 
¦Ù
;

7976 
n_di¥©ched
;

7977 
md_š¡_t
 
š¡
;

7978 
md_İcode
 
İ
;

7979 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

7980 
md_addr_t
 
rg‘_PC
 = 0;

7981 
md_addr_t
 
addr
 = 0;

7982 
RUU_¡©iÚ
 *
rs
;

7983 
RUU_¡©iÚ
 *
lsq
;

7986 
RUU_¡©iÚ
 *
rs_dup
;

7987 
b´ed_upd©e_t
 *
dœ_upd©e_±r
;

7988 
¡ack_»cov”_idx
;

7989 
p£q
;

7990 
is_wr™e
 = 
FALSE
;

7991 
made_check
;

7992 
br_k’
, 
br_´ed_k’
;

7993 
by‹_t
 
‹mp_by‹
;

7994 
h®f_t
 
‹mp_h®f
;

7995 
wÜd_t
 
‹mp_wÜd
;

7997 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

7998 
qwÜd_t
 
‹mp_qwÜd
 = 0;

8000 
qwÜd_t
 
»gV®
;

8001 
h®f_t
 
ushLdFÏg
;

8003 
»gs_t
 
‹mpReg
;

8006 
»gs_t
 
‹mpRegP»v
;

8008 
md_çuÉ_ty³
 
çuÉ
;

8010 
soá_”rÜ
, 
‹mp_ãtch_num
;

8013 
qwÜd_t
 
v®_¿
 = 0, 
v®_rb
 = 0, 
v®_rc
 = 0, 
v®_¿_»suÉ
 = 0;

8014 
	`cİy_to
 ();

8015 
	`bªk_lookup
 (
md_addr_t
, , );

8017 
cÚ‹xt
 *
cu¼’t
;

8018 
ãtch_time
 = 0;

8020 
£cÚd_run
 = 
TRUE
, 
no_d¥_şs
;

8022 
š_LSQ
 = 0;

8023 
lsq_fuÎ
 = 0;

8025 
·»ÁID
;

8027 
»sourû_Ãed
[4];

8029 
»sourû_Ãed
[0] = 1;

8030 
»sourû_Ãed
[1] = 1;

8031 
»sourû_Ãed
[2] = 3;

8032 
»sourû_Ãed
[3] = 3;

8034 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8036 
n_di¥©ched
 = 0;

8037 
‹mp_ãtch_num
 = 
cu¼’t
->
ãtch_num
;

8039 
cu¼’t
->
ãtch_»dœeùed
 = 
FALSE
;

8040 
¡®lCau£
[
th»adid
] = 0;

8042 ià(
‹mp_ãtch_num
 != 0)

8044 
made_check
 = 
FALSE
;

8045 
‹mpş
 = 
aùu®_şu¡”s
;

8049 
n_di¥©ched
 < (
ruu_decode_width
 * 
ãtch_¥“d
)

8050 && 
cu¼’t
->
LSQ_num
 < 
LSQ_size
 && cu¼’t->
m_shLQNum
 < 
m_shLQSize


8051 #ifdef 
SMD_USE_WRITE_BUF


8052 && (
cu¼’t
->
m_shSQNum
 + 
m_L1WBufCÁ
[
th»adid
]è< 
m_shSQSize


8054 && (
cu¼’t
->
m_shSQNum
è< 
m_shSQSize


8056 && (
cu¼’t
->
RUU_num
 < 
RUU_size
)

8057 && 
‹mp_ãtch_num
 !ğ0 && (
ruu_šşude_¥ec
 || !
cu¼’t
->
¥ec_mode
))

8060 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8061 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

8063 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

8064 
š_LSQ
 = 1;

8066 
š_LSQ
 = 0;

8068 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8070 
»sourû_Ãed
[0] = 0;

8071 
»sourû_Ãed
[1] = 1;

8072 
»sourû_Ãed
[2] = 0;

8073 
»sourû_Ãed
[3] = 3;

8077 
»sourû_Ãed
[0] = 1;

8078 
»sourû_Ãed
[1] = 0;

8079 
»sourû_Ãed
[2] = 3;

8080 
»sourû_Ãed
[3] = 1;

8083 ià(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esourû_Ãed[1])è&& (
œegfe_ş
[th»adid] <ğ((
IPREG_size
è-„esourû_Ãed[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8085 if(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esource_need[1]))))

8086 
¡®lCau£
[
th»adid
] = 
SÎIssueFuÎ
;

8087 if(!((
œegfe_ş
[
th»adid
] <ğ((
IPREG_size
è- 
»sourû_Ãed
[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8088 
¡®lCau£
[
th»adid
] = 
SÎRegFuÎ
;

8092 ià((
thecÚ‹xts
[
th»adid
]->
wa™FÜB¿nchResŞve
 =ğ1è|| (thecÚ‹xts[th»adid]->
wa™FÜSTLC
))

8094 
¡®lCau£
[
th»adid
] = 
SÎSTLC
;

8098 ià(
ruu_šÜd”_issue
 && (
cu¼’t
->
Ï¡_İ
.
rs
 && 
	`RSLINK_VALID
 (&cu¼’t->Ï¡_İè&& !
	`OPERANDS_READY
 (current->last_op.rs)))

8103 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

8104 ià(
busSlÙCouÁ
 < 11)

8106 
¡®lNoBusSlÙ
++;

8111 ià(
cŞËùStStİ
[
cu¼’t
->
id
])

8116 
j
, 
boŞ
 = 0, 
tmp
, 
Î_sc
 = 0;

8117 
cÚ‹xt
 *
tmpCxt
;

8118 
md_addr_t
 
mask
;

8120 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

8123 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8124 
dœ_upd©e_±r
 = &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
dœ_upd©e
);

8125 
¡ack_»cov”_idx
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->stack_recover_idx;

8126 
p£q
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
;

8127 
ãtch_time
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->fetch_time;

8129 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
is_dup
 = 
TRUE
;

8132 ià(
İ
 =ğ
STL_C
)

8135 
Î_sc
++;

8139 ià(
İ
 =ğ
LDL_L
)

8141 
Î_sc
++;

8143 if(
	`MD_OP_FLAGS
(
İ
è& 
F_FENCE
)

8144 
mb_couÁ
++;

8147 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_TRAP
)

8149 
	#OSF_SYS_g‘th»adid
 500

	)

8150 
	#OSF_SYS_STATS
 530

	)

8151 
	#OSF_SYS_BARRIER_STATS
 531

	)

8152 
	#OSF_SYS_LOCK_STATS
 532

	)

8153 
	#OSF_SYS_BARRIER_INSTR
 533

	)

8154 
qwÜd_t
 
syscode
 = 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_V0
];

8155 if(
cu¼’t
->
¥ec_mode
 || !(
syscode
 =ğ
OSF_SYS_g‘th»adid
 || syscod=ğ
OSF_SYS_STATS
 || syscod=ğ
OSF_SYS_BARRIER_STATS
 || syscod=ğ
OSF_SYS_BARRIER_INSTR
 || syscod=ğ
OSF_SYS_LOCK_STATS
))

8157 ià(
cu¼’t
->
RUU_num
 != 0)

8159 
¡®lCau£
[
th»adid
] = 
SÎT¿p
;

8164 ià(
cu¼’t
->
¥ec_mode
)

8165 
	`·nic
 ("drained‡nd speculative");

8168 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->regs_PC;

8169 
cu¼’t
->
´ed_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->pred_PC;

8170 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8173 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

8174 
cu¼’t
->
¥ec_»gs_R
[
MD_REG_ZERO
] = 0;

8175 #ifdeà
TARGET_ALPHA


8176 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8177 
cu¼’t
->
¥ec_»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8180 #ifdef 
EDA


8181 #ifdef 
RUN_ORACLE


8183 ià(
cu¼’t
->
lockStus
 =ğ0 && cu¼’t->
ma¡”id
 =ğ1 && (cu¼’t->
¥ec_mode
 =ğ0è&& (
thecÚ‹xts
[cu¼’t->
ÜaşeId
]->spec_mode == 0))

8185 ià(
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
lockStus
 =ğ
TYPE_LOCK_ACQUIRE
 ||hecÚ‹xts[cu¼’t->ÜaşeId]->lockStu =ğ
TYPE_INST_BARRIER
)

8187 
	`execO¿şeEmul
 (
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]);

8188 ià(
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
»gs
.
»gs_PC
 != current->regs.regs_PC)

8190 ià(
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
lockStus
 != 0)

8191 
	`·nic
 ("Lock status must have been„eset forhe†eadhread");

8193 ià(
cu¼’t
->
»gs
.
»gs_PC
 !ğ
thecÚ‹xts
[cu¼’t->
ÜaşeId
]->»gs.
»gs_NPC
)

8194 
	`·nic
 ("Opportunistic‡nd Oracle must be in†ock step\n");

8196 
	`execO¿şeEmul
 (
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]);

8199 
š¡Ty³
 = 
TYPE_INST_INCLUDED
;

8201 ià(
cu¼’t
->
ma¡”id
 == 1)

8202 
š¡Ty³
 = 
	`G‘ExecStus
 (
cu¼’t
->
»gs
.
»gs_PC
, 
NULL
);

8204 if(
cu¼’t
->
ma¡”id
 =ğ0 && (
	`MD_OP_FLAGS
(
İ
è& 
F_LOAD
è&& (
RA
 == 31))

8206 
š¡Ty³
 = 
TYPE_INST_REMOVED
;

8207 ià(!
cu¼’t
->
¥ec_mode
)

8209 
pu»_num_š¢
++;

8210 
sim_num_š¢
++;

8211 
cu¼’t
->
sim_num_š¢
++;

8215 ià(
š¡Ty³
 !ğ
TYPE_INST_REMOVED
)

8219 
addr
 = 0;

8220 
is_wr™e
 = 
FALSE
;

8223 #ià
	`defšed
(
TARGET_PISA
)

8224 
v®_¿
 = 
	`GPR
 (
RS
);

8225 
v®_rb
 = 
	`GPR
 (
RT
);

8226 #–ià
	`defšed
(
TARGET_ALPHA
)

8230 
çuÉ
 = 
md_çuÉ_nÚe
;

8231 
soá_”rÜ
 = 
FALSE
;

8234 
‹mpRegP»v
 = 
cu¼’t
->
»gs
;

8237 
ushLdFÏg
 = 0;

8239 #ifdef 
EDA


8240 ià(
cu¼’t
->
ma¡”id
 =ğ1 && 
	`MD_OP_FLAGS
 (
İ
è& 
F_LOAD
)

8242 
lßdLoÿtiÚ
 = 0;

8244 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

8245 
md_addr_t
 
memAddr
 = (
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
)è& (~(
memWidth
 - 1));

8246 
by‹_t
 *
memD©a
 = 
	`ÿÎoc
 (
memWidth
,  (byte_t));

8248 ià(
	`ÿcheBlockS—rch
 (
ÿche_dl0
[
cu¼’t
->
jobThdId
], 
R—d
, 
memAddr
, 
memD©a
, 
memWidth
) == 0)

8250 ià(
	`ÿcheBlockS—rch
 (
ÿche_dl1
[
cu¼’t
->
h–pThdId
], 
R—d
, 
memAddr
, 
memD©a
, 
memWidth
) == 0)

8254 
tmpId
, 
found
 = 0;

8256 
tmpId
 = 0;mpId < 
numcÚ‹xts
;mpId++)

8258 ià(
thecÚ‹xts
[
tmpId
]->
ma¡”id
 != 0)

8260 ià(
tmpId
 =ğ
cu¼’t
->
h–pThdId
)

8263 ià(
	`ÿcheBlockS—rch
 (
ÿche_dl1
[
tmpId
], 
R—d
, 
memAddr
, 
memD©a
, 
memWidth
) == 1)

8265 
found
 = 1;

8270 ià(
found
 =ğ0 && 
	`ÿcheBlockS—rch
 (
ÿche_dl2
, 
R—d
, 
memAddr
, 
memD©a
, 
memWidth
) == 0)

8272 
	`mem_acûss_drù
 (
thecÚ‹xts
[
cu¼’t
->
h–pThdId
]->
mem
, 
R—d
, 
memAddr
, 
memD©a
, 
memWidth
, current->helpThdId);

8273 
lßdLoÿtiÚ
 = 4;

8276 
lßdLoÿtiÚ
 = 3;

8279 
lßdLoÿtiÚ
 = 2;

8282 
lßdLoÿtiÚ
 = 1;

8284 
	`mem_acûss_drù
 (
cu¼’t
->
mem
, 
Wr™e
, 
memAddr
, 
memD©a
, 
memWidth
, cu¼’t->
id
);

8285 
	`ä“
 (
memD©a
);

8288 ià(
cu¼’t
->
ma¡”id
 =ğ0 || (cu¼’t->ma¡”id =ğ1 && 
š¡Ty³
 !ğ
TYPE_INST_PREFETCH
 && 
İ
 !ğ
PAL_CALLSYS
))

8291 
İ
)

8293 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

8294 
OP
: \

8296 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

8297 
out1
 = 
O1
; 
out2
 = 
O2
; \

8298 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

8299 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

8300 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

8301 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

8302 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

8303 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

8305 if(
£cÚd_run
è
	`SYMCAT
(
OP
,
_IMPL
); \

8307 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

8308 
OP
: \

8310 
İ
 = 
MD_NOP_OP
; \

8312 
out1
 = 
NA
; 
out2
 = NA; \

8313 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

8316 
	#CONNECT
(
OP
è

	)

8322 
	#DECLARE_FAULT
(
FAULT
è\

	)

8324 ià(!
cu¼’t
->
¥ec_mode
) \

8325 
çuÉ
 = (
FAULT
); \

8329 
	#THREADID
 (
cu¼’t
->
id
)

	)

8330 
	~"machše.def
"

8333 
İ
 = 
MD_NOP_OP
;

8335 
out1
 = 
NA
;

8336 
out2
 = 
NA
;

8337 
š1
 = 
NA
;

8338 
š2
 = 
NA
;

8339 
š3
 = 
NA
;

8342 #ifdef 
EDA


8346 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8347 
š1
 = 
š2
 = 
š3
 = 
NA
;

8348 
out1
 = 
out2
 = 
NA
;

8350 if(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

8352 
addr
 = 
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
);

8353 
š2
 = 31 - 
RB
;

8354 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
š2
];

8358 ià(!
cu¼’t
->
¥ec_mode
)

8360 if(!(
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]))

8361 
pu»_num_š¢
++;

8362 
tÙ®_num_š¢
++;

8363 
sim_num_š¢
++;

8364 
cu¼’t
->
sim_num_š¢
++;

8367 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

8369 
	`årštf
 (
¡d”r
, "sim_cyş%ld\Àsim_š¢ %ld,hrdid %d,…ø%lx, Next_pø%lx\n", (è
sim_cyşe
, (è
cu¼’t
->
sim_num_š¢
, cu¼’t->
id
, (ècu¼’t->
»gs
.
»gs_PC
,

8370 (è
cu¼’t
->
»gs
.
»gs_PC
);

8371 
	`årštf
 (
¡d”r
, "ãtch…ø %lx,ãtch Next_pø %lx\n", (è
cu¼’t
->
ãtch_»gs_PC
, (ècu¼’t->
ãtch_´ed_PC
);

8372 
	`çl
 ("Th»ad %d,‚Ú-¥ecuÏtivçuÉ (%dèd‘eùed @ %lx", 
th»adid
, 
çuÉ
, (è
cu¼’t
->
»gs
.
»gs_PC
);

8375 #ifdef 
EDA


8376 ià(
š¡Ty³
 =ğ
TYPE_LOCK_ACQUIRE
)

8378 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8379 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_RA
] = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8382 ià(
š¡Ty³
 =ğ
TYPE_INST_BARRIER
 && (
	`MD_OP_FLAGS
(
İ
è& 
F_CTRL
))

8387 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
); 
	`G‘ExecStus
 (cu¼’t->»gs.»gs_NPC, 
NULL
è=ğ
TYPE_INST_BARRIER
; current->regs.regs_NPC = current->regs.regs_NPC +  (md_inst_t));

8389 
md_š¡_t
 
š¡_‹mp
;

8390 
md_İcode
 
İ_‹mp
;

8392 
	`MD_FETCH_INST
 (
š¡_‹mp
, 
thecÚ‹xts
[
cu¼’t
->
h–pThdId
]->
mem
, cu¼’t->
»gs
.
»gs_NPC
 -  (
md_š¡_t
));

8393 
	`MD_SET_OPCODE
 (
İ_‹mp
, 
š¡_‹mp
);

8395 ià(
İ_‹mp
 =ğ
BSR
)

8396 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_RA
] = cu¼’t->»gs.
»gs_NPC
;

8400 #ià
	`defšed
(
TARGET_PISA
)

8401 
v®_rc
 = 
	`GPR
 (
RD
);

8402 
v®_¿_»suÉ
 = 
	`GPR
 (
RS
);

8403 #–ià
	`defšed
(
TARGET_ALPHA
)

8404 ià(
out1
 < 32)

8405 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

8407 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

8408 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

8409 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

8411 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

8414 
‹mpReg
 = 
cu¼’t
->
»gs
;

8417 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
))

8419 
sim_tÙ®_»fs
++;

8420 ià(!
cu¼’t
->
¥ec_mode
)

8421 
sim_num_»fs
++;

8423 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

8424 
is_wr™e
 = 
TRUE
;

8427 
sim_tÙ®_lßds
++;

8428 ià(!
cu¼’t
->
¥ec_mode
)

8429 
sim_num_lßds
++;

8433 #ifdef 
EDA


8434 ià(!
cu¼’t
->
¥ec_mode
 && cu¼’t->
ma¡”id
 =ğ0 && (cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
lockStus
 =ğ
TYPE_LOCK_ACQUIRE
 || cu¼’t->ãtch_d©a[cu¼’t->ãtch_h—d]->lockStu =ğ
TYPE_INST_BARRIER
))

8436 
numSyncIn¡
[
cu¼’t
->
jobThdId
]++;

8437 
pu»_sync_š¢
++;

8440 ià(
cu¼’t
->
ma¡”id
 =ğ0 && (cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
lockStus
 =ğ
TYPE_LOCK_ACQUIRE
 || cu¼’t->ãtch_d©a[cu¼’t->ãtch_h—d]->lockStu =ğ
TYPE_INST_BARRIER
)

8441 && (((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)è=ğ(F_CTRL | F_UNCOND | F_INDIRJMP)è|| 
cu¼’t
->
»gs
.
»gs_PC
 =ğcu¼’t->
lockEx™PC
))

8443 
cu¼’t
->
´ed_PC
 = cu¼’t->
»gs
.
»gs_NPC
;

8446 ià(!
cu¼’t
->
¥ec_mode
 && cu¼’t->
ma¡”id
 == 0)

8448 ià(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
lockStus
 !ğ
TYPE_LOCK_ACQUIRE
 && cu¼’t->ãtch_d©a[cu¼’t->ãtch_h—d]->lockStu !ğ
TYPE_INST_BARRIER


8449 && 
	`G‘ExecStus
 (
cu¼’t
->
»gs
.
»gs_PC
, 
NULL
è=ğ
TYPE_INST_INCLUDED
)

8451 
nÚSktIn¢
[
cu¼’t
->
jobThdId
]++;

8452 
pu»_skt_š¢
++;

8456 #ifdef 
RUN_ORACLE


8457 ià(
cu¼’t
->
ma¡”id
 =ğ1 && cu¼’t->
¥ec_mode
 =ğ0 && 
thecÚ‹xts
[cu¼’t->
ÜaşeId
]->¥ec_mod=ğ0 &&hecÚ‹xts[cu¼’t->ÜaşeId]->
lockStus
 == 0

8458 && (
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
thecÚ‹xts
[cu¼’t->
ÜaşeId
]->regs.regs_NPC))

8460 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
¥ec_mode
 = 1;

8465 
br_k’
 = (
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)));

8466 
br_´ed_k’
 = (
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)));

8469 ià(
İ
 !ğ
MD_NOP_OP
)

8490 
DUPLICATION_acûss
[
th»adid
]++;

8491 
du¶iÿtiÚ_acûss
++;

8493 
rs
 = &
cu¼’t
->
RUU
[cu¼’t->
RUU_
];

8495 #ifdeà
HOTLEAKAGE


8496 
rs
->
¦
 = 
sim_cyşe
 - 1;

8498 
»Çme_acûss
++;

8499 
cu¼’t
->
»Çme_acûss
++;

8501 
rs
->
th»adid
 =hreadid;

8502 
rs
->
IR
 = 
š¡
;

8503 
rs
->
İ
 = op;

8504 
rs
->
š¡num
 = ++
š¡£qnum
;

8505 
rs
->
isSyncIn¡
 = (
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]);

8507 
rs
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8508 
rs
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8509 
rs
->
´ed_PC
 = 
cu¼’t
->pred_PC;

8510 
rs
->
š_LSQ
 = 
FALSE
;

8511 
rs
->
—_comp
 = 
FALSE
;

8512 
rs
->
abªk
 = -1;

8513 
rs
->
pbªk
 = -1;

8514 
rs
->
»cov”_š¡
 = 
FALSE
;

8515 
rs
->
dœ_upd©e
 = *
dœ_upd©e_±r
;

8516 
rs
->
¡ack_»cov”_idx
 = stack_recover_idx;

8517 
rs
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

8518 
rs
->
ãtch_time
 = fetch_time;

8519 
rs
->
di¥_time
 = 
sim_cyşe
;

8520 
rs
->
fšish_time
 = 0;

8521 
rs
->
ÿche_»ady
 = 0;

8522 
rs
->
š_qwa™
 = 0;

8523 
rs
->
issue_time
 = 0;

8524 
rs
->
addr
 = 0;

8525 
rs
->
di¡issue
 = 0;

8526 
rs
->
lsqEÁry
 = 0;

8528 
rs
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

8529 
rs
->
queued
 =„s->
issued
 =„s->
com¶‘ed
 = 
FALSE
;

8530 
rs
->
±¿û_£q
 = 
p£q
;

8531 
rs
->
couÁed_iissueq
 = 0;

8532 
rs
->
couÁed_fissueq
 = 0;

8533 
rs
->
šv®id©iÚReûived
 = 0;

8534 
rs
->
du¶iÿ‹
 = (1 - 
£cÚd_run
);

8536 
rs
->
´evRegV®
 = 
»gV®
;

8538 
rs
->
backupReg
 = 
‹mpRegP»v
;

8539 #ifdeà
DIRECTORY


8540 
rs
->
wr™ewa™
 = 0;

8541 
rs
->
R—dSh¬eDœ
 = 0;

8542 
rs
->
wr™emiss
 = 0;

8544 ià(!
£cÚd_run
)

8545 
rs
->
¥ec_mode
 = 0;

8546 
rs
->
çuÉšg_š¡r
 = 
FALSE
;

8548 #ifdeà
PWR_WAKE


8549 
rs
->
couÁed_œ—dy
 = 0;

8550 
rs
->
couÁed_ä—dy
 = 0;

8551 
rs
->
couÁed_lsq»ady
 = 0;

8554 
rs
->
ä“d
 = 0;

8555 
rs
->
v®_¿
 = val_ra;

8556 
rs
->
v®_rb
 = val_rb;

8557 
rs
->
v®_rc
 = val_rc;

8558 
rs
->
v®_¿_»suÉ
 = val_ra_result;

8559 
rs
->
wh’_»ady
[0] = 
WAIT_TIME
;

8560 
rs
->
wh’_»ady
[1] = 
WAIT_TIME
;

8561 
rs
->
wh’_»ady
[2] = 
WAIT_TIME
;

8562 
rs
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

8563 
rs
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

8564 
rs
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

8565 
rs
->
id•_Çme
[0] = 0;

8566 
rs
->
id•_Çme
[1] = 0;

8567 
rs
->
id•_Çme
[2] = 0;

8568 
rs
->
isL1Miss
 = 0;

8570 #if 
	`defšed
(
EDA
è& defšed(
RUN_ORACLE
)

8571 ià(
cu¼’t
->
ma¡”id
 == 1)

8572 
rs
->
sim_num_š¢
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->sim_num_insn;

8575 
rs
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

8576 
rs
->
outReg
 = 
out1
;

8578 
rs
->
´evReg
 = 
‹mpReg
;

8579 #ifdef 
EDA


8580 
rs
->
boqIndex
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->boqIndex;

8582 
rs
->
š¡Ty³
 = instType;

8583 
rs
->
lockStus
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->lockStatus;

8585 
rs
->
poisÚ
[0].
dœty
 =„s->poisÚ[0].
d©a
 = 0;

8586 
rs
->
poisÚ
[1] =„s->poison[2] =„s->poison[0];

8587 
rs
->
chªgeS³cMode
 = 0;

8588 ià(
cu¼’t
->
ma¡”id
 == 0)

8590 
rs
->
isWrÚgP©h
 = 0;

8591 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8593 ià(
cu¼’t
->
ma¡”id
 == 1)

8595 
rs
->
isWrÚgP©h
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
¥ec_mode
;

8596 
rs
->
®tPC
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
»gs
.
»gs_NPC
;

8599 
	`·nic
 ("No oracle instruction can go intoiming simulation.");

8601 
rs
->
o_v®_¿
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->o_val_ra;

8602 
rs
->
o_v®_rb
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->o_val_rb;

8603 
rs
->
o_v®_rc
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->o_val_rc;

8610 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& !
£cÚd_run
)

8611 
rs
->
İ
 = 
MD_AGEN_OP
;

8614 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& 
£cÚd_run
)

8616 
lsq
 = &
cu¼’t
->
LSQ
[cu¼’t->
LSQ_
];

8617 #ifdeà
HOTLEAKAGE


8618 
lsq
->
¦
 = 
sim_cyşe
 - 1;

8620 
rs
->
İ
 = 
MD_AGEN_OP
;

8621 
rs
->
—_comp
 = 
TRUE
;

8626 
lsq
->
sqStÜeFÜw¬dT
 = -1;

8630 
lsq
->
ushFÏg
 = 
ushLdFÏg
;

8633 
lsq
->
th»adid
 =hreadid;

8634 
lsq
->
IR
 = 
š¡
;

8635 
lsq
->
İ
 = op;

8636 
lsq
->
š¡num
 = 
š¡£qnum
;

8637 
lsq
->
isSyncIn¡
 = (
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]);

8638 
lsq
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8639 
lsq
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8640 
lsq
->
´ed_PC
 = 
cu¼’t
->pred_PC;

8641 
lsq
->
š_LSQ
 = 
TRUE
;

8642 
lsq
->
—_comp
 = 
FALSE
;

8643 
lsq
->
š_qwa™
 = 0;

8644 
lsq
->
di¡issue
 = 0;

8645 
lsq
->
ä“d
 = 0;

8646 
lsq
->
abªk
 = -1;

8647 
lsq
->
pbªk
 = -1;

8649 
lsq
->
»cov”_š¡
 = 
FALSE
;

8650 
lsq
->
dœ_upd©e
.
pdœ1
 =†sq->dœ_upd©e.
pdœ2
 = 
NULL
;

8651 
lsq
->
dœ_upd©e
.
pm‘a
 = 
NULL
;

8652 
lsq
->
¡ack_»cov”_idx
 = 0;

8653 
lsq
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

8654 
lsq
->
ãtch_time
 = fetch_time;

8655 
lsq
->
di¥_time
 = 
sim_cyşe
;

8656 
lsq
->
fšish_time
 = 0;

8657 
lsq
->
ÿche_»ady
 = 0;

8658 
lsq
->
issue_time
 = 0;

8659 
lsq
->
couÁed_iissueq
 = 0;

8660 
lsq
->
couÁed_fissueq
 = 0;

8662 
lsq
->
šv®id©iÚReûived
 = 0;

8663 #ifdeà
PWR_WAKE


8664 
lsq
->
couÁed_œ—dy
 = 0;

8665 
lsq
->
couÁed_ä—dy
 = 0;

8666 
lsq
->
couÁed_lsq»ady
 = 0;

8668 
mm
 = 0; mm < 
CLUSTERS
; mm++)

8670 
lsq
->
¡_»ach
[
mm
] = 0;

8673 
lsq
->
backupReg
 = 
‹mpRegP»v
;

8674 
lsq
->
addr
 =‡ddr;

8675 
rs
->
addr
 =‡ddr;

8677 
rs
->
abªk
 = 
lsq
->abank;

8678 ià(!
BANKPRED
)

8680 
rs
->
pbªk
 =„s->
abªk
;

8681 
lsq
->
pbªk
 =†sq->
abªk
;

8683 
rs
->
abªk
 =„s->abªk % 
CLUSTERS
;

8684 
lsq
->
abªk
 = 
rs
->abank;

8685 
rs
->
pbªk
 =„s->pbªk % 
CLUSTERS
;

8686 
lsq
->
pbªk
 = 
rs
->pbank;

8687 ià(!
lsq
->
¥ec_mode
)

8689 ià(
lsq
->
abªk
 =ğlsq->
pbªk
)

8690 
ac_bªk_´ed_cÜr
++;

8692 
ac_bªk_´ed_wrÚg
++;

8694 
lsq
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

8695 
lsq
->
±¿û_£q
 =…trace_seq++;

8696 
lsq
->
v®_¿
 = val_ra;

8697 
lsq
->
v®_rb
 = val_rb;

8698 
lsq
->
v®_rc
 = val_rc;

8699 
lsq
->
v®_¿_»suÉ
 = val_ra_result;

8700 
	`±¿û_Ãwuİ
 (
lsq
->
±¿û_£q
, "š‹º®†d/¡",†sq->
PC
, 0);

8701 
	`±¿û_Ãw¡age
 (
lsq
->
±¿û_£q
, 
PST_DISPATCH
, 0);

8702 
lsq
->
queued
 =†sq->
issued
 =†sq->
com¶‘ed
 = 
FALSE
;

8704 
lsq
->
wh’_»ady
[0] = 
WAIT_TIME
;

8705 
lsq
->
wh’_»ady
[1] = 
WAIT_TIME
;

8706 
lsq
->
wh’_»ady
[2] = 
WAIT_TIME
;

8707 
lsq
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

8708 
lsq
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

8709 
lsq
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

8710 
lsq
->
id•_Çme
[0] = 0;

8711 
lsq
->
id•_Çme
[1] = 0;

8712 
lsq
->
id•_Çme
[2] = 0;

8715 #if 
	`defšed
(
EDA
è& defšed(
RUN_ORACLE
)

8716 ià(
cu¼’t
->
ma¡”id
 == 1)

8717 
lsq
->
sim_num_š¢
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->sim_num_insn;

8720 
lsq
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

8721 
lsq
->
outReg
 = 
out1
;

8724 
lsq
->
robEÁry
 = 
rs
->
šdex
;

8725 
rs
->
lsqEÁry
 = 
lsq
->
šdex
;

8726 #ifdef 
EDA


8727 
lsq
->
boqIndex
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->boqIndex;

8728 
lsq
->
lockStus
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->lockStatus;

8729 
lsq
->
poisÚ
[0].
dœty
 =†sq->poisÚ[0].
d©a
 = 0;

8730 
lsq
->
poisÚ
[1] =†sq->poison[2] =†sq->poison[0];

8731 
lsq
->
chªgeS³cMode
 = 0;

8732 ià(
cu¼’t
->
ma¡”id
 == 0)

8734 
lsq
->
isWrÚgP©h
 = 0;

8735 
lsq
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8737 ià(
cu¼’t
->
ma¡”id
 == 1)

8739 
lsq
->
isWrÚgP©h
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
¥ec_mode
;

8740 
lsq
->
®tPC
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->
»gs
.
»gs_NPC
;

8743 
	`·nic
 ("No oracle instruction can go intoiming simulation.");

8745 
lsq
->
o_v®_¿
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->o_val_ra;

8746 
lsq
->
o_v®_rb
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->o_val_rb;

8747 
lsq
->
o_v®_rc
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->o_val_rc;

8748 
lsq
->
š¡Ty³
 = instType;

8750 
lsq
->
isP»ãtch
 = 0;

8751 
lsq
->
isL1Miss
 = 0;

8753 
rs
->
»g
[0] = 0;

8754 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

8755 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

8757 
rs
->
şu¡”
 = 
lsq
->şu¡” = 
th»adid
;

8758 
cu¼’t
->
iissueq_thrd
++;

8759 
iissueq
++;

8760 
iissueq_ş
[
rs
->
th»adid
]++;

8762 #ifdeà 
PWR_CLUSTER


8763 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8766 
lsq
->
couÁed_iissueq
 = 1;

8768 
lsq
->
pbªk
 =†sq->
şu¡”
;

8769 
rs
->
pbªk
 =„s->
şu¡”
;

8771 
rs
->
wh’_šq
 = 
sim_cyşe
;

8772 
lsq
->
wh’_šq
 = 
rs
->when_inq;

8774 
lsq
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

8775 
lsq
->
»g
[1] = 0;

8776 
lsq
->
»g
[2] = 0;

8778 
lsq
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

8779 
lsq
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

8784 
	`ruu_lšk_id•
 (
rs
, 0, 
NA
);

8785 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8786 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8788 
	`ruu_š¡®l_od•
 (
rs
, 0, 
DTMP
);

8789 
	`ruu_š¡®l_od•
 (
rs
, 1, 
NA
);

8791 
rs
->
out1
 = 
DTMP
;

8792 
rs
->
İ»g
 = 0;

8793 
rs
->
Şd´eg
 = 0;

8795 
	`ruu_lšk_id•
 (
lsq
, 
STORE_OP_INDEX
, 
š1
);

8796 
	`ruu_lšk_id•
 (
lsq
, 
STORE_ADDR_INDEX
, 
DTMP
);

8797 
	`ruu_lšk_id•
 (
lsq
, 2, 
NA
);

8799 
	`ruu_š¡®l_od•
 (
lsq
, 0, 
out1
);

8800 
	`ruu_š¡®l_od•
 (
lsq
, 1, 
out2
);

8801 
lsq
->
out1
 = out1;

8803 
n_di¥©ched
++;

8805 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

8806 
cu¼’t
->
RUU_num
++;

8807 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 1è% 
LSQ_size
;

8808 
cu¼’t
->
LSQ_num
++;

8810 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

8812 #ifdef 
EDA


8813 ià(
cu¼’t
->
ma¡”id
 != 0)

8815 ià(
š¡Ty³
 =ğ
TYPE_INST_PREFETCH
)

8816 
lsq
->
isP»ãtch
 = 1;

8818 
cu¼’t
->
m_shLQNum
++;

8823 ià(
out1
 != 0 && out1 != 63)

8824 
cu¼’t
->
m_shLQNum
++;

8826 
lsq
->
isP»ãtch
 = 1;

8829 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

8831 #ifdef 
EDA


8832 ià(
cu¼’t
->
ma¡”id
 =ğ1 && 
š¡Ty³
 =ğ
TYPE_INST_PREFETCH
)

8833 
lsq
->
isP»ãtch
 = 1;

8836 
cu¼’t
->
m_shSQNum
++;

8839 
lsq_acûss
++;

8840 
cu¼’t
->
lsq_acûss
++;

8841 
lsq_´eg_acûss
++;

8842 
cu¼’t
->
lsq_´eg_acûss
++;

8846 
rob2_acûss
++;

8847 
cu¼’t
->
rob2_acûss
++;

8849 ià(
	`OPERANDS_READY
 (
rs
))

8851 
n_»ady
++;

8852 
	`»adyq_’queue
 (
rs
);

8854 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
lsq
);

8856 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
	`OPERANDS_READY
 (
lsq
))

8858 
lsq_¡Üe_d©a_acûss
++;

8859 
	`»adyq_’queue
 (
lsq
);

8862 ià(
İ
 =ğ
STL_C
 || o°=ğ
LDL_L
)

8871 
rs
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

8872 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

8873 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

8875 
rs
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

8876 
rs
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

8877 
rs
->
out1
 = out1;

8879 
rs
->
şu¡”
 =„s->
th»adid
;

8881 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8883 
cu¼’t
->
fissueq_thrd
++;

8884 
fissueq
++;

8885 
fissueq_ş
[
rs
->
th»adid
]++;

8886 #ifdeà 
PWR_CLUSTER


8887 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8889 
rs
->
couÁed_fissueq
 = 1;

8890 
fq¿m_acûss
++;

8891 
cu¼’t
->
fq¿m_acûss
++;

8895 
cu¼’t
->
iissueq_thrd
++;

8896 
iissueq
++;

8897 
iissueq_ş
[
rs
->
th»adid
]++;

8898 #ifdeà 
PWR_CLUSTER


8899 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8901 
rs
->
couÁed_iissueq
 = 1;

8902 
iq¿m_acûss
++;

8903 
cu¼’t
->
iq¿m_acûss
++;

8906 
rs
->
wh’_šq
 = 
sim_cyşe
;

8908 ià(!
£cÚd_run
)

8910 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

8911 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8912 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8913 ià(
out1
)

8915 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
out1
);

8916 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
out2
);

8917 
rs
->
out1
 = out1;

8921 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
DTMP
);

8922 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
NA
);

8923 
rs
->
out1
 = 
DTMP
;

8928 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

8929 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8930 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8932 
	`ruu_š¡®l_od•
 (
rs
, 0, 
out1
);

8933 
	`ruu_š¡®l_od•
 (
rs
, 1, 
out2
);

8934 
rs
->
out1
 = out1;

8938 
n_di¥©ched
++;

8940 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

8941 
cu¼’t
->
RUU_num
++;

8942 
rob2_acûss
++;

8943 
cu¼’t
->
rob2_acûss
++;

8946 ià(
	`OPERANDS_READY
 (
rs
))

8948 
n_»ady
++;

8949 
	`»adyq_’queue
 (
rs
);

8950 
cu¼’t
->
Ï¡_İ
 = 
RSLINK_NULL
;

8954 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
rs
);

8961 
rs
 = 
NULL
;

8965 
sim_tÙ®_š¢
++;

8966 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

8967 
sim_tÙ®_b¿nches
++;

8969 ià(!
cu¼’t
->
¥ec_mode
 && 
£cÚd_run
)

8973 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

8975 
sim_num_b¿nches
++;

8977 ià(!(
rs
->
du¶iÿ‹
))

8979 
cu¼’t
->
b´ed_acûss
++;

8980 
b´ed_acûss
++;

8983 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_ID
)

8985 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

8986  
cu¼’t
->
»gs
.
»gs_PC
,

8987  
cu¼’t
->
»gs
.
»gs_NPC
,

8988  
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +

8989  (
md_š¡_t
)),

8990  
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +

8991  (
md_š¡_t
)),

8992  
cu¼’t
->
´ed_PC
 =ğcu¼’t->
»gs
.
»gs_NPC
,

8993  
İ
,

8994  &
rs
->
dœ_upd©e
,

8995 
rs
->
th»adid
, (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[rs->th»adid]->
ma¡”id
 :„s->threadid));

8998 ià(
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
 && !cu¼’t->
ãtch_»dœeùed
)

9000 
cu¼’t
->
¥ec_mode
 = 
TRUE
;

9001 
rs
->
»cov”_š¡
 = 
TRUE
;

9002 
cu¼’t
->
»cov”_PC
 = cu¼’t->
»gs
.
»gs_NPC
;

9003 
	`cİy_to
 (
th»adid
);

9006 #ifdef 
EDA


9011 
	`±¿û_Ãw¡age
 (
p£q
, 
PST_DISPATCH
, (
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
è? 
PEV_MPOCCURED
 : 0);

9012 ià(
İ
 =ğ
MD_NOP_OP
)

9014 
	`±¿û_’dš¡
 (
p£q
);

9017 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

9019 
couÁ”_t
 
Ãwv®
;

9020 
d–
;

9023 
Ãwv®
 = 
	`STATVAL
 (
pc¡©_¡©s
[
i
]);

9024 
d–
 = 
Ãwv®
 - 
pc¡©_Ï¡v®s
[
i
];

9025 ià(
d–
 != 0)

9027 
	`¡©_add_§m¶es
 (
pc¡©_sdi¡s
[
i
], 
cu¼’t
->
»gs
.
»gs_PC
, 
d–
);

9028 
pc¡©_Ï¡v®s
[
i
] = 
Ãwv®
;

9032 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

9033 
cu¼’t
->
ãtch_num
--;

9034 
‹mp_ãtch_num
--;

9037 ià(!
made_check
)

9039 ià(
	`dl™e_check_b»ak
 (0, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, 
sim_cyşe
))

9040 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9045 
¡®lCau£
[
th»adid
] = 
SÎF‘chEm±y
;

9046 ià(!
n_di¥©ched
)

9048 
m_tÙ®SÎ
[
th»adid
]++;

9049 if(
¡®lCau£
[
th»adid
])

9051 
¡®lCau£
[
th»adid
])

9053 
SÎRegFuÎ
 :

9054 
m_»gFuÎ
[
th»adid
]++;

9056 
SÎIssueFuÎ
 :

9057 
m_issueFuÎ
[
th»adid
]++;

9059 
SÎF‘chEm±y
 :

9060 if(
thecÚ‹xts
[
th»adid
]->
ruu_ãtch_issue_d–ay
)

9061 
m_1Miss
[
th»adid
]++;

9063 
m_ãtchEm±y
[
th»adid
]++;

9065 
SÎSTLC
 :

9066 
m_STLC
[
th»adid
]++;

9068 
SÎT¿p
 :

9069 
m_Œ­
[
th»adid
]++;

9071  : 
	`·nic
("No stall cause found");

9074 ià(
cu¼’t
->
m_shLQNum
 =ğ
m_shLQSize
)

9076 
¡®lCau£
[
th»adid
] = 
SÎLQFuÎ
;

9077 
m_sqLQFuÎ
[
th»adid
]++;

9079 ià(
m_shSQSize
 =ğ(
cu¼’t
->
m_shSQNum


9080 #ifdef 
SMD_USE_WRITE_BUF


9081 +
m_L1WBufCÁ
[
th»adid
]

9085 
¡®lCau£
[
th»adid
] = 
SÎSQFuÎ
;

9086 
m_sqSQFuÎ
[
th»adid
]++;

9088 if(
cu¼’t
->
RUU_num
 =ğ
RUU_size
)

9090 
¡®lCau£
[
th»adid
] = 
SÎRUUFuÎ
;

9091 
m_RUUFuÎ
[
th»adid
]++;

9094 if((
¡®lCau£
[
th»adid
] =ğ
SÎRUUFuÎ
 || sÎCau£[th»adid] =ğ
SÎLQFuÎ
 || sÎCau£[th»adid] =ğ
SÎSQFuÎ
 || sÎCau£[th»adid] =ğ
SÎRegFuÎ
 || sÎCau£[th»adid] =ğ
SÎIssueFuÎ
 || sÎCau£[th»adid] =ğ
SÎSTLC
 || sÎCau£[th»adid] =ğ
SÎT¿p
))

9096 if(
cu¼’t
->
LSQ_num
)

9097 if(
	`MD_OP_FLAGS
(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
İ
è& 
F_LOAD
)

9098 
m_LßdMiss
[
th»adid
]++;

9100 
m_StÜeMiss
[
th»adid
]++;

9101 if(
	`MD_OP_FLAGS
(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
İ
è& 
F_FENCE
)

9102 
m_StÜeMiss
[
th»adid
]++;

9105  
n_di¥©ched
;

9106 
	}
}

9114 
	$ãtch_š™
 (
th»adid
)

9117 
i
 = 0;

9118 
cÚ‹xt
 *
cu¼’t
;

9120 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9122 
i
 = 0; i < 
ruu_ifq_size
; i++)

9124 
cu¼’t
->
ãtch_d©a
[
i
] = (
ãtch_»c
 *è
	`ÿÎoc
 (1,  (fetch_rec));

9125 ià(!
cu¼’t
->
ãtch_d©a
[
i
])

9126 
	`çl
 ("out of virtual memory");

9127 
cu¼’t
->
ãtch_d©a
[
i
]->
šdex
 = i;

9128 
cu¼’t
->
ãtch_d©a
[
i
]->
th»adid
 =hreadid;

9130 
cu¼’t
->
ãtch_num
 = 0;

9131 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

9132 
IFQ_couÁ
 = 0;

9133 
IFQ_fcouÁ
 = 0;

9135 
	}
}

9137 
	gÏ¡_š¡_mis£d
 = 
FALSE
;

9138 
	gÏ¡_š¡_tmis£d
 = 
FALSE
;

9144 
	$ruu_ãtch
 ()

9146 
i
 = 0, 
j
 = 0, 
k
 = 0, 
Ït
, 
b_Ït
, 
dÚe
 = 
FALSE
;

9147 
md_š¡_t
 
š¡
;

9148 
¡ack_»cov”_idx
;

9149 
b¿nch_út
, 
¿y_muÉ
;

9150 
md_addr_t
 
ãtch_£t
 = 0, 
š¡_£t
;

9151 
šdex
;

9152 
md_İcode
 
İ
;

9154 
th»adid
, 
tID
 = 0;

9155 
cÚ‹xt
 *
cu¼’t
 = 0;

9156 
th»adsãtched
 = 0;

9157 
‹mp
;

9159 ià(
di§bË_¿y
)

9160 
¿y_muÉ
 = 1;

9162 
¿y_muÉ
 = 2;

9165 
tID
 < 
numcÚ‹xts
)

9167 #ifdef 
EDA


9168 ià(
thecÚ‹xts
[
tID
]->
ma¡”id
 == 2)

9170 
tID
++;

9174 
cu¼’t
 = 
thecÚ‹xts
[
tID
];

9175 
tID
++;

9177 
th»adid
 = 
cu¼’t
->
id
;

9179 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 2)

9180 
cu¼’t
->
wa™_fÜ_ãtch
 = 1;

9181 
ãtch_dÚe
[
th»adid
] = 0;

9183 
j
 = 0, 
dÚe
 = 
FALSE
, 
b¿nch_út
 = 0;

9184 (
cu¼’t
->
ãtch_num
 < 
ruu_ifq_size
-1)

9185 && !
dÚe
 && !
cu¼’t
->
ruu_ãtch_issue_d–ay
 && cu¼’t->
ruÂšg
 && 
j
 < (
ruu_decode_width
 * 
ãtch_¥“d
è&& cu¼’t->
aùive_this_cyşe
 ; 
i
++, j++)

9187 ià(!
j
)

9189 
iÿche_acûss
++;

9190 
cu¼’t
->
iÿche_acûss
++;

9194 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
ãtch_´ed_PC
;

9197 ià(
cu¼’t
->
ld_‹xt_ba£
 <ğcu¼’t->
ãtch_»gs_PC
 && cu¼’t->ãtch_»gs_PC < (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& !(cu¼’t->ãtch_»gs_PC & ( (
md_š¡_t
) - 1)))

9200 #ifdef 
EDA


9201 if(
cu¼’t
->
ma¡”id
 == 1)

9203 
	`MD_FETCH_INST
 (
š¡
, 
thecÚ‹xts
[
cu¼’t
->
h–pThdId
]->
mem
, cu¼’t->
ãtch_»gs_PC
);

9208 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
ãtch_»gs_PC
);

9210 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9212 
Ït
 = 
ÿche_1_Ït
;

9215 ià(!
j
)

9216 
ãtch_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9217 
š¡_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9218 ià(
ãtch_£t
 !ğ
š¡_£t
)

9221 #ifdeà 
FIX2_BUG


9222 ià(!
cu¼’t
->
wa™_fÜ_ãtch
)

9225 ià(
ÿche_1
[
th»adid
])

9229 
rsCacheAcûss
 = 
NULL
;

9230 #ifdeà
DIRECTORY


9231 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9232 
	`´štf
("debug 1\n");

9233 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9234 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9235 
NULL
, NULL, NULL,
th»adid
);

9237 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
 (
cu¼’t
->
ãtch_»gs_PC
), 
NULL
, 
	`ISCOMPRESS
 ( (
md_š¡_t
)), 
sim_cyşe
, NULL, NULL,hreadid);

9239 ià(
Ït
 > (
ÿche_1_Ït
))

9240 
Ï¡_š¡_mis£d
 = 
TRUE
;

9243 ià(
™lb
[
th»adid
])

9245 #ifdeà
DIRECTORY


9246 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9247 
	`´štf
("debug 2\n");

9248 
b_Ït
 = 
	`ÿche_acûss
(
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9249 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9250 
NULL
, NULL, NULL, 
th»adid
);

9252 
b_Ït
 = 
	`ÿche_acûss
 (
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
 (
cu¼’t
->
ãtch_»gs_PC
), 
NULL
, 
	`ISCOMPRESS
 ( (
md_š¡_t
)), 
sim_cyşe
, NULL, NULL,hreadid);

9255 ià(
b_Ït
 > 1)

9256 
Ï¡_š¡_tmis£d
 = 
TRUE
;

9258 
Ït
 = 
	`max2
 (
b_Ït
,†at);

9261 ià(
Ït
 !ğ(
ÿche_1_Ït
))

9263 
cu¼’t
->
ruu_ãtch_issue_d–ay
 +ğ(
Ït
 - 1);

9264 #ifdeà 
FIX2_BUG


9265 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9270 #ifdeà 
FIX2_BUG


9276 
š¡
 = 
MD_NOP_INST
;

9279 ià(
cu¼’t
->
´ed
)

9281 
b¿nchIn¡
 *
b¿nchInfo
 = 
NULL
;

9282 
md_İcode
 
İ
;

9285 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9290 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9292 
md_addr_t
 
brg‘
;

9294 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)) == (F_CTRL | F_UNCOND | F_INDIRJMP))

9295 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * (
š¡
 & 0x00003fff);

9297 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * 
	`SEXT21
 (
š¡
 & 0x001fffff);

9299 
cu¼’t
->
ãtch_´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
,

9300  
cu¼’t
->
ãtch_»gs_PC
,

9302  
İ
,

9303  
	`MD_IS_CALL
 (
İ
),

9304  
	`MD_IS_RETURN
 (
İ
),

9305  &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
dœ_upd©e
),

9306  &
¡ack_»cov”_idx
,

9307  
cu¼’t
->
id
,

9308  (
b´ed_btb_u£_ma¡”id
 ? 
cu¼’t
->
ma¡”id
 : cu¼’t->
id
));

9311 
cu¼’t
->
ãtch_´ed_PC
 = 0;

9314 ià(!
cu¼’t
->
ãtch_´ed_PC
)

9316 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9318 ià(
cu¼’t
->
ãtch_´ed_PC
 !ğcu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
))

9321 
b¿nch_út
++;

9322 ià(
b¿nch_út
 >ğ
ãtch_¥“d
)

9323 
dÚe
 = 
TRUE
;

9328 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9331 
cu¼’t
->
ãtch_tÙ®_š¢
++;

9332 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
th»adid
 =hreadid;

9333 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
IR
 = 
š¡
;

9334 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
»gs_PC
 = cu¼’t->
ãtch_»gs_PC
;

9335 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
´ed_PC
 = cu¼’t->
ãtch_´ed_PC
;

9336 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
¡ack_»cov”_idx
 = stack_recover_idx;

9337 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
 =…trace_seq++;

9338 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
ãtch_time
 = (è
sim_cyşe
;

9339 #ifdef 
EDA


9340 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
boqIndex
 = current->boqIndex;

9341 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
lockStus
 = current->lockStatus;

9344 
	`±¿û_Ãwš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
š¡
, cu¼’t->ãtch_d©a[cu¼’t->ãtch_]->
»gs_PC
, 0);

9345 
	`±¿û_Ãw¡age
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
PST_IFETCH
, ((
Ï¡_š¡_mis£d
 ? 
PEV_CACHEMISS
 : 0è| (
Ï¡_š¡_tmis£d
 ? 
PEV_TLBMISS
 : 0)));

9347 
cu¼’t
->
ãtch_
 = (cu¼’t->ãtch_ + 1è& (
ruu_ifq_size
 - 1);

9348 
cu¼’t
->
ãtch_num
++;

9349 
ãtch_dÚe
[
th»adid
]++;

9353 #ifdeà 
FIX2_BUG


9355 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 1)

9357 ià(!
j
 && 
cu¼’t
->
ruu_ãtch_issue_d–ay
)

9358 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9360 
cu¼’t
->
wa™_fÜ_ãtch
 = 0;

9364 
	}
}

9370 
	$simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

9371 *
cmd
,

9372 
»gs_t
 *
»gs
,

9373 
mem_t
 *
mem
)

9376 
th»adid
 = 
mem
->threadid;

9377 
cÚ‹xt
 *
cu¼’t
;

9379 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9381 ià(!
cmd
 || !
	`¡rcmp
 (cmd, "help"))

9382 
	`årštf
 (
¡»am
,

9394 ià(!
	`¡rcmp
 (
cmd
, "stats"))

9397 
	`sim_´št_¡©s
 (
¡»am
);

9399 ià(!
	`¡rcmp
 (
cmd
, "res"))

9402 
	`»s_dump
 (
fu_poŞ
, 
¡»am
);

9404 ià(!
	`¡rcmp
 (
cmd
, "ruu"))

9407 
	`ruu_dump
 (
¡»am
, 
th»adid
);

9414 ià(!
	`¡rcmp
 (
cmd
, "eventq"))

9417 
	`ev’tq_dump
 (
¡»am
, 
th»adid
);

9419 ià(!
	`¡rcmp
 (
cmd
, "readyq"))

9422 
	`»adyq_dump
 (
¡»am
, 
th»adid
);

9424 ià(!
	`¡rcmp
 (
cmd
, "cv"))

9427 
	`cv_dump
 (
¡»am
, 
th»adid
);

9429 ià(!
	`¡rcmp
 (
cmd
, "rspec"))

9432 
	`r¥ec_dump
 (
¡»am
, 
th»adid
);

9434 ià(!
	`¡rcmp
 (
cmd
, "mspec"))

9437 
	`m¥ec_dump
 (
¡»am
, 
th»adid
);

9448  
NULL
;

9449 
	}
}

9451 
	#TAKE_STATS_PHASE
 1

	)

9452 
	#DRAIN_PIPELINE_PHASE
 2

	)

9453 
	#RECONFIGURE_PHASE
 3

	)

9454 
	#NORMAL_PHASE
 4

	)

9455 
	#PRIVTOSHARED
 5

	)

9456 
	#SHAREDTOPRIV
 6

	)

9457 
	#EXTRA_PHASE
 7

	)

9458 
	gchªgeCÚfig
 = 0;

9459 
	gcu¼’tPha£
 = 
NORMAL_PHASE
;

9464 
»g’”©e_ãtch_queue
 ();

9465 
cİy_ãtch_queue
 ();

9467 
»g’”©e_f_queue
 ();

9468 
cİy_f_queue
 ();

9469 
b¿nch_add»ss_cİy
 (
ma¡”id
, 
chunkExecu‹d
);

9474 
time_t
 
	g´št_time
, 
	gnow_time
;

9475 
ruu_»Ëa£_wr™ebufãr
 ();

9476 
ruu_wr™e_äom_Wr™ebufãr
 ();

9477 #ifdef 
COLLECT_STAT_STARTUP


9478 
f¡fwd_fšeAdju¡
 ();

9479 
f¡fwd_cŞËùSts
();

9483 
	$sim_maš
 ()

9485 
unPrštLim™
 = 1;

9486 
i
, 
j
, 
k
, 
l
;

9487 
‹mpş
, 
maxguy
, 
maxv®
, 
»f_mis
, 
»f_imis
, 
»f_br
, 
»f_»fs
, 
»f_cyc
, 
mm
, 
Â
;

9488 
gÙ_»f_pošt
 = 0;

9489 
mšguy
, 
mšv®
;

9490 
cyc_couÁ
 = 0;

9491 
num_picks
[
NUMPHASES
 + 1];

9492 
sim_–­£d_£c
;

9493 
di¥©ched
 = 0;

9495 
th»adid
 = 0, 
th»ad_¡İ
 = 0;

9496 
cÚ‹xt
 *
cu¼’t
;

9497 
kÏÎ
 = 0;

9498 
ãtch_blocked
 = 1;

9499 
út
;

9501 
FILE
 *
å
, *
å1
;

9502 
brNum
, 
ldNum
;

9504 #ifdeà
DO_COMPLETE_FASTFWD


9505 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

9506 
x
, 
loİ™”
;

9510 
	`sigÇl
 (
SIGFPE
, 
SIG_IGN
);

9513 
Çck_couÁ”
 = 0;

9514 
æ_couÁ”
 = 0;

9515 
L1_æ_couÁ”
 = 0;

9516 
e_to_m
 = 0;

9517 
f
;

9518 
f
=0;f<8;f++)

9519 
mem_pÜt_Ït
[
f
] = 0;

9520 
tÙ®ev’tcouÁnum
 = 0;

9521 
tÙ®_L1_´eãtch
 = 0;

9522 
tÙ®»qcouÁnum
 = 0;

9523 
tÙ®misscouÁnum
 = 0;

9524 
švŞve_4_hİs
 = 0;

9525 
švŞve_4_hİs_upg¿de
 = 0;

9526 
švŞve_4_hİs_miss
 = 0;

9527 
švŞve_2_hİs
 = 0;

9528 
švŞve_2_hİ_touch
 = 0;

9529 
švŞve_2_hİ_wb
 = 0;

9530 
švŞve_4_hİs_wm
 = 0;

9531 
tÙ®S¶™WM
 = 0;

9532 
tÙ®S¶™No
 = 0;

9533 
švŞve_2_hİs_wm
 = 0;

9534 
švŞve_2_hİs_upg¿de
 = 0;

9535 
švŞve_2_hİs_miss
 = 0;

9536 
d©a_sh¬ed_»ad
 = 0;

9537 
d©a_´iv©e_»ad
 = 0;

9538 
d©a_sh¬ed_wr™e
 = 0;

9539 
d©a_´iv©e_wr™e
 = 0;

9540 
tÙ®_®l_şo£
 = 0;

9541 
tÙ®_®l_®mo¡şo£
 = 0;

9542 
tÙ®_nÙ_®l_şo£
 = 0;

9543 
tÙ®_p_c_ev’ts
 = 0;

9544 
tÙ®_cÚsum”s
 = 0;

9545 
tÙ®_d©a_cÚsum”s
 = 0;

9546 
tÙ®_d©a_çr
 = 0;

9547 
tÙ®_d©a_©_cÜÃr
 = 0;

9548 
tÙ®_d©a_şo£
 = 0;

9549 
tÙ®_·ck‘s_š_ÃighbÜ
 = 0;

9550 
tÙ®_·ck‘s_©_cÜÃrs
 = 0;

9551 
av”age_outside_³rûÁ
 = 0;

9552 
av”age_outside_abs_³rûÁ
 = 0;

9553 
av”age_šside_³rûÁ
 = 0;

9554 
av”age_cÜÃr_³rûÁ
 = 0;

9555 #ifdeà
EUP_NETWORK


9556 
EUP_’Œy_fuÎ
 = 0;

9557 
i
 = 0; i< 
MAXTHREADS
; i++)

9558 
	`EUP_’Œy_š™
(
i
);

9560 
i
 = 0; i< 
MAXTHREADS
; i++)

9561 
sh¬”_num
[
i
] = 0;

9563 #ià
PROCESS_MODEL


9564 
i
 = 0; i < 128; i++)

9566 
sh¬edAdd»ssLi¡
[
i
] = 
NULL
;

9568 
La¡Sh¬edAdd»ss
 = 0;

9569 
La¡Sh¬edSize
 = 0;

9572 
	`š™Clu¡”Info
 ();

9574 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

9575 
	`busIn™
 ();

9578 
âm
[256];

9579 
nm
[256];

9581 
	`¡rıy
 (
nm
, 
thecÚ‹xts
[0]->
âame
);

9583 
l
 = 0;† < 
MAXTHREADS
;†++)

9585 
numTh»ads
[
l
] = 
m_maxth»ads
;

9590 
n_lim™_thrd
[0] =‚_limit_thrd[1] =‚_limit_thrd[2] =‚_limit_thrd[3] = 1;

9594 
	`årštf
 (
¡d”r
, "Issueq siz - iÁ %d f°%d\n", 
IIQ_size
, 
FIQ_size
);

9595 #ifdeà
REG_RENAME_CONFIGUARE


9596 
	`årštf
 (
¡d”r
, "»ÇmP»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

9598 
	`årštf
 (
¡d”r
, "P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

9600 
	`årštf
 (
¡d”r
, "CLUSTERS %d\n", 
CLUSTERS
);

9601 
	`årštf
 (
¡d”r
, "ROWCOUNT %d\n", 
ROWCOUNT
);

9602 
	`årštf
 (
¡d”r
, "CENTRAL_CACHE %d\n", 
CENTRAL_CACHE
);

9603 
	`årštf
 (
¡d”r
, "CENTRALCACHELAT %d\n", 
CENTRALCACHELAT
);

9604 
	`årštf
 (
¡d”r
, "CACHELOC %d\n", 
CACHELOC
);

9605 
	`årštf
 (
¡d”r
, "PRED_BR_CHANGES %d\n", 
PRED_BR_CHANGES
);

9606 
	`årštf
 (
¡d”r
, "PRED_JR_CHANGES %d\n", 
PRED_JR_CHANGES
);

9607 
	`årštf
 (
¡d”r
, "DYNAMIC_CHANGE %d\n", 
DYNAMIC_CHANGE
);

9608 
	`årštf
 (
¡d”r
, "METRIC_CHANGE %d\n", 
METRIC_CHANGE
);

9609 
	`årštf
 (
¡d”r
, "LINEAR_PHASE %d\n", 
LINEAR_PHASE
);

9610 
	`årštf
 (
¡d”r
, "SMALLEST_CONFIG %d\n", 
SMALLEST_CONFIG
);

9611 
	`årštf
 (
¡d”r
, "GRID %d\n", 
GRID
);

9612 
	`årštf
 (
¡d”r
, "CACHEPORTS %d\n", 
CACHEPORTS
);

9613 
	`årštf
 (
¡d”r
, "RES_CACHEPORTS %d\n", 
RES_CACHEPORTS
);

9614 
	`årštf
 (
¡d”r
, "READY_COMM %d\n", 
READY_COMM
);

9615 
	`årštf
 (
¡d”r
, "HOLY_REGS %d\n", 
HOLY_REGS
);

9616 
	`årštf
 (
¡d”r
, "NUM_H_REGS %d\n", 
NUM_H_REGS
);

9617 
	`årštf
 (
¡d”r
, "COPY_THRESH %d\n", 
COPY_THRESH
);

9618 
	`årštf
 (
¡d”r
, "FIRST_FIT %d\n", 
FIRST_FIT
);

9619 
	`årštf
 (
¡d”r
, "FIRST_FIT_ENFORCE %d\n", 
FIRST_FIT_ENFORCE
);

9620 
	`årštf
 (
¡d”r
, "FIRST_VAL %d\n", 
FIRST_VAL
);

9621 
	`årštf
 (
¡d”r
, "STEER_ENFORCE %d\n", 
STEER_ENFORCE
);

9622 
	`årštf
 (
¡d”r
, "MOD_N %d\n", 
MOD_N
);

9623 
	`årštf
 (
¡d”r
, "MOD_N_N %d\n", 
MOD_N_N
);

9624 
	`årštf
 (
¡d”r
, "FIRST_MOD %d\n", 
FIRST_MOD
);

9625 
	`årštf
 (
¡d”r
, "GROUPSIZE %d\n", 
GROUPSIZE
);

9626 
	`årštf
 (
¡d”r
, "MOD_N_T %d\n", 
MOD_N_T
);

9627 
	`årštf
 (
¡d”r
, "ANYWILLDO %d\n", 
ANYWILLDO
);

9628 
	`årštf
 (
¡d”r
, "NEIGHBOR_SEEK %d\n", 
NEIGHBOR_SEEK
);

9629 
	`årštf
 (
¡d”r
, "PICKMIDDLE %d\n", 
PICKMIDDLE
);

9630 
	`årštf
 (
¡d”r
, "MIDTHRESH %d\n", 
MIDTHRESH
);

9631 
	`årštf
 (
¡d”r
, "HOPTIME %d\n", 
HOPTIME
);

9632 
	`årštf
 (
¡d”r
, "COMM_LATENCY %d\n", 
COMM_LATENCY
);

9633 #iâdeà
CONFIG_BASED_ICS


9634 
	`årštf
 (
¡d”r
, "FE_LAT %d\n", 
FE_LAT
);

9636 
	`årštf
 (
¡d”r
, "CACHE_REFILL_LAT %d\n", 
CACHE_REFILL_LAT
);

9637 
	`årštf
 (
¡d”r
, "MPRED_COMM_LAT %d\n", 
MPRED_COMM_LAT
);

9638 
	`årštf
 (
¡d”r
, "LD_PROXIMITY %d\n", 
LD_PROXIMITY
);

9639 
	`årštf
 (
¡d”r
, "LDPROX_FACTOR %d\n", 
LDPROX_FACTOR
);

9640 
	`årštf
 (
¡d”r
, "STEER_2NONREADY %d\n", 
STEER_2NONREADY
);

9641 
	`årštf
 (
¡d”r
, "STEER_CRITICAL %d\n", 
STEER_CRITICAL
);

9642 
	`årštf
 (
¡d”r
, "ILOAD_MIN %d\n", 
ILOAD_MIN
);

9643 
	`årštf
 (
¡d”r
, "IFACTOR %d\n", 
IFACTOR
);

9644 
	`årštf
 (
¡d”r
, "RLOAD_MIN %d\n", 
RLOAD_MIN
);

9645 
	`årštf
 (
¡d”r
, "RFACTOR %d\n", 
RFACTOR
);

9646 
	`årštf
 (
¡d”r
, "DEP_FACTOR %d\n", 
DEP_FACTOR
);

9647 
	`årštf
 (
¡d”r
, "LD_FACTOR %d\n", 
LD_FACTOR
);

9648 
	`årštf
 (
¡d”r
, "IQBUF %d\n", 
IQBUF
);

9649 
	`årštf
 (
¡d”r
, "REGFREE %d\n", 
REGFREE
);

9650 
	`årštf
 (
¡d”r
, "FREE_CURR_REGS %d\n", 
FREE_CURR_REGS
);

9651 
	`årštf
 (
¡d”r
, "FREE_INTERVAL %d\n", 
FREE_INTERVAL
);

9652 
	`årštf
 (
¡d”r
, "DISPDELAY %d\n", 
DISPDELAY
);

9653 
	`årštf
 (
¡d”r
, "RING_BW %d\n", 
RING_BW
);

9654 
	`årštf
 (
¡d”r
, "TIMEWINDOW %d\n", 
TIMEWINDOW
);

9655 
	`årštf
 (
¡d”r
, "ST_ADDR_COMM %d\n", 
ST_ADDR_COMM
);

9656 
	`årštf
 (
¡d”r
, "ST_RING_BW %d\n", 
ST_RING_BW
);

9657 
	`årštf
 (
¡d”r
, "RING_IC %d\n", 
RING_IC
);

9658 
	`årštf
 (
¡d”r
, "IGNORE_COMM_LATENCY %d\n", 
IGNORE_COMM_LATENCY
);

9659 
	`årštf
 (
¡d”r
, "TOL_COUNT %d\n", 
TOL_COUNT
);

9660 
	`årštf
 (
¡d”r
, "STOREDELAY %d\n", 
STOREDELAY
);

9661 
	`årštf
 (
¡d”r
, "BANKPRED %d\n", 
BANKPRED
);

9662 
	`årštf
 (
¡d”r
, "BANKMISPREDLAT %d\n", 
BANKMISPREDLAT
);

9663 
	`årštf
 (
¡d”r
, "BANKP_SPEC %d\n", 
BANKP_SPEC
);

9664 
	`årštf
 (
¡d”r
, "LEV1SIZE %d\n", 
LEV1SIZE
);

9665 
	`årštf
 (
¡d”r
, "LEV2SIZE %d\n", 
LEV2SIZE
);

9666 
	`årštf
 (
¡d”r
, "XORSIZE %d\n", 
XORSIZE
);

9667 
	`årštf
 (
¡d”r
, "WORD_INTERLEAVED %d\n", 
WORD_INTERLEAVED
);

9668 
	`årštf
 (
¡d”r
, "WORDSIZE %d\n", 
WORDSIZE
);

9669 
	`årštf
 (
¡d”r
, "SORT %d\n", 
SORT
);

9670 
	`årštf
 (
¡d”r
, "NUMPHASES %d\n", 
NUMPHASES
);

9671 
	`årštf
 (
¡d”r
, "MIN_INSN_INT %d\n", 
MIN_INSN_INT
);

9672 
	`årštf
 (
¡d”r
, "STOP_EXPL_THRESH %d\n", 
STOP_EXPL_THRESH
);

9673 
	`årštf
 (
¡d”r
, "ILPTAGCHECK %d\n", 
ILPTAGCHECK
);

9674 
	`årštf
 (
¡d”r
, "DISTILP %d\n", 
DISTILP
);

9675 
	`årštf
 (
¡d”r
, "DISTILPTHRESH %d\n", 
DISTILPTHRESH
);

9676 
	`årštf
 (
¡d”r
, "SAMPLETHRESH %d\n", 
SAMPLETHRESH
);

9677 
	`årštf
 (
¡d”r
, "BR_INT %d\n", 
BR_INT
);

9678 
	`årštf
 (
¡d”r
, "ITABLESIZE %d\n", 
ITABLESIZE
);

9679 
	`årštf
 (
¡d”r
, "OWINDOWSIZE %d\n", 
OWINDOWSIZE
);

9680 
	`årštf
 (
¡d”r
, "ILPCLEARINT %d\n", 
ILPCLEARINT
);

9681 
	`årštf
 (
¡d”r
, "STATPRINT %d\n", 
STATPRINT
);

9682 
	`årštf
 (
¡d”r
, "CYCNOISE %d\n", 
CYCNOISE
);

9683 
	`årštf
 (
¡d”r
, "NUMCYCTHRESH %d\n", 
NUMCYCTHRESH
);

9684 
	`årštf
 (
¡d”r
, "STATINT %d\n", 
STATINT
);

9685 
	`årštf
 (
¡d”r
, "FREE_REG_THRESH %d\n", 
FREE_REG_THRESH
);

9686 
	`årštf
 (
¡d”r
, "TABLE2SIZE %d\n", 
TABLE2SIZE
);

9687 
	`årštf
 (
¡d”r
, "TABLESIZE %d\n", 
TABLESIZE
);

9690 #ifdeà
DO_COMPLETE_FASTFWD


9691 
	`S¹Sk–‘ÚR—d
 (0);

9692 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9694 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9695 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9696 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9704 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9706 
loİ™”
 = 0;†oopiter < 20;†oopiter++)

9708 
couÁ”_t
 
icouÁ
;

9709 
md_š¡_t
 
š¡
;

9710 
md_İcode
 
İ
;

9711 
md_addr_t
 
rg‘_PC
;

9712 
md_addr_t
 
addr
;

9713 
is_wr™e
;

9714 
by‹_t
 
‹mp_by‹
;

9715 
h®f_t
 
‹mp_h®f
;

9716 
wÜd_t
 
‹mp_wÜd
;

9718 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

9719 
qwÜd_t
 
‹mp_qwÜd
 = 0;

9722 
md_çuÉ_ty³
 
çuÉ
;

9724 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9726 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

9727 #ifdeà
TARGET_ALPHA


9728 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

9733 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

9736 
addr
 = 0;

9737 
is_wr™e
 = 
FALSE
;

9740 
çuÉ
 = 
md_çuÉ_nÚe
;

9741 
sim_num_š¢
++;

9743 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9745 
İ
)

9747 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

9748 
OP
: \

9750 
out1
 = 
O1
; 
out2
 = 
O2
; \

9751 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

9753 
	`SYMCAT
(
OP
,
_IMPL
); \

9755 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

9756 
OP
: \

9758 
İ
 = 
MD_NOP_OP
; \

9760 
out1
 = 
NA
; 
out2
 = NA; \

9761 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

9764 
	#CONNECT
(
OP
è

	)

9770 
	#DECLARE_FAULT
(
FAULT
è\

	)

9772 ià(!
cu¼’t
->
¥ec_mode
) \

9773 
çuÉ
 = (
FAULT
); \

9777 
	~"machše.def
"

9780 
İ
 = 
MD_NOP_OP
;

9782 
out1
 = 
NA
;

9783 
out2
 = 
NA
;

9784 
š1
 = 
NA
;

9785 
š2
 = 
NA
;

9786 
š3
 = 
NA
;

9791 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

9792 
	`çl
 ("nÚ-¥ecuÏtivçuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

9794 #ifdeà
CACHE_PROFILE


9795 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_LOAD
)

9797 
Ït
;

9798 #ifdeà
DIRECTORY


9799 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 
rs
, 0);

9801 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9803 ià(
db
)

9804 #ifdeà
DIRECTORY


9805 
Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, NULL, 0);

9807 
Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9809 
lßd_Ït
 = 
	`max2
 (lßd_Ït, 
Ït
);

9810 ià(
lßd_Ït
 > 50)

9811 
	`PushMissP»dLßd
 (
cu¼’t
->
»gs
.
»gs_PC
, (è
lßd_Ït
);

9813 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

9815 #ifdeà
DIRECTORY


9816 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 
rs
, 0);

9818 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9820 ià(
db
)

9821 #ifdeà
DIRECTORY


9822 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, NULL, 0);

9824 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9828 #ifdeà 
BRANCH_PROFILE


9829 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9831 
b´ed_upd©e_t
 
dœ_upd©e
;

9832 
¡ack_»cov”_idx
;

9834 
cu¼’t
->
´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
, cu¼’t->
»gs
.
»gs_PC
, 1, 
İ
, 
	`MD_IS_CALL
 (İ), 
	`MD_IS_RETURN
 (İ), &
dœ_upd©e
, &
¡ack_»cov”_idx
, cu¼’t->
id
, (
b´ed_btb_u£_ma¡”id
 ? cu¼’t->
ma¡”id
 : current->id));

9836 ià(!
cu¼’t
->
´ed_PC
)

9837 
cu¼’t
->
´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
);

9839 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

9840 
cu¼’t
->
»gs
.
»gs_PC
,

9841 
cu¼’t
->
»gs
.
»gs_NPC
,

9842 
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)),

9843 
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)), cu¼’t->´ed_PC =ğcu¼’t->»gs.
»gs_NPC
, 
İ
, &
dœ_upd©e
, cu¼’t->
id
, (
b´ed_btb_u£_ma¡”id
 ? cu¼’t->
ma¡”id
 : current->id));

9845 ià(!(
İ
 =ğ
RETN
 || o°=ğ
JMP
 || o°=ğ
JSR
 || o°=ğ
BSR
 || o°=ğ
BR
))

9847 ià(
cu¼’t
->
»gs
.
»gs_NPC
 =ğcu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
))

9848 
	`š£¹_br_dœ
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, (cu¼’t->
´ed_PC
 !ğcu¼’t->»gs.
»gs_NPC
));

9850 
	`š£¹_br_dœ
 (
cu¼’t
->
»gs
.
»gs_PC
, 1, (cu¼’t->
´ed_PC
 !ğcu¼’t->»gs.
»gs_NPC
));

9854 #ifdeà 
STORE_PROFILE


9855 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

9857 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

9859 
	`pushStÜe
 (
cu¼’t
->
»gs
.
»gs_PC
, 
addr
, cu¼’t->
sim_num_š¢
, 
memWidth
);

9862 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

9864 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

9866 ià(
out1
 > 0 && out1 < 63)

9867 
	`v”ifyLßd
 (
cu¼’t
->
»gs
.
»gs_PC
, 
addr
, cu¼’t->
sim_num_š¢
, 
memWidth
);

9870 #ifdeà 
INDIRECTJUMP_PROFILE


9871 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)è=ğ(F_CTRL | F_UNCOND | F_INDIRJMPè&& (İ !ğ
RETN
)))

9872 
	`pushJump
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
);

9874 #ifdeà 
FREQ_PROFILE


9875 
	`š¡Execu‹dF»q
 (
cu¼’t
->
»gs
.
»gs_PC
);

9878 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

9879 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

9881 ià((
sim_num_š¢
 % 500000000) == 0)

9883 
	`´štf
 ("[INFO]: sim_num_š¢=%Îd\n", 
sim_num_š¢
);

9884 
	`årštf
 (
¡d”r
, "[INFO]: sim_num_š¢=%Îd\n", 
sim_num_š¢
);

9885 
	`fæush
 (
¡d”r
);

9886 
	`fæush
 (
¡dout
);

9893 #ifdef 
COLLECT_STAT_STARTUP


9894 #ifdef 
EDA


9895 ià(
numcÚ‹xts
 != 3)

9896 
	`·nic
 ("Forƒxecution in EDA modehere should beƒxactly 3 initialhreads,ƒach for correctness, optimistic‡nd oracle core.");

9900 #ifdef 
EDA


9901 
th»adid
 = 0;hreadid < 3;hreadid++)

9904 
thrdP”JobCÁ
 = 1;

9905 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9906 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9907 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9910 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

9911 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9915 ià(!
cu¼’t
->
ç¡fwd_dÚe
)

9917 
couÁ”_t
 
icouÁ
;

9918 
md_š¡_t
 
š¡
;

9919 
md_İcode
 
İ
;

9920 
md_addr_t
 
rg‘_PC
;

9921 
md_addr_t
 
addr
;

9922 
is_wr™e
;

9923 
by‹_t
 
‹mp_by‹
;

9924 
h®f_t
 
‹mp_h®f
;

9925 
wÜd_t
 
‹mp_wÜd
;

9927 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

9928 
qwÜd_t
 
‹mp_qwÜd
 = 0;

9931 
md_çuÉ_ty³
 
çuÉ
;

9933 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

9935 !
cu¼’t
->
ç¡fwd_dÚe
)

9938 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

9939 #ifdeà
TARGET_ALPHA


9940 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

9944 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

9945 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

9948 
addr
 = 0;

9949 
is_wr™e
 = 
FALSE
;

9952 
çuÉ
 = 
md_çuÉ_nÚe
;

9955 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9958 
İ
)

9960 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

9961 
OP
: \

9962 
	`SYMCAT
(
OP
,
_IMPL
); \

9964 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

9965 
OP
: \

9966 
	`·nic
("attemptedoƒxecute‡†inking opcode");

9967 
	#CONNECT
(
OP
)

	)

9968 #undeà
DECLARE_FAULT


9969 
	#DECLARE_FAULT
(
FAULT
è\

	)

9970 { 
çuÉ
 = (
FAULT
); ; }

9971 
	~"machše.def
"

9973 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

9976 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

9977 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

9980 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

9982 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

9984 
is_wr™e
 = 
TRUE
;

9986 #iâdeà
PARALLEL_EMUL


9987 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

9990 #iâdeà
PARALLEL_EMUL


9992 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

9997 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

9998 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10002 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10003 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10008 #ifdef 
EDA


10009 
i
 = 0, 
j
 = 0; i < 
m_maxth»ads
; i++)

10011 ià(
j
 =ğ
THREADS_PER_JOB
)

10014 ià(
thecÚ‹xts
[
i
]->
ma¡”id
 == 0)

10016 
k
 = 0, 
l
 = 0; k < 
m_maxth»ads
; k++)

10018 ià(
thecÚ‹xts
[
k
]->
ma¡”id
 == 1)

10020 ià(
l
 =ğ
j
)

10022 
m
;

10024 
m
 = 0, 
l
 = 0; m < 
m_maxth»ads
; m++)

10026 ià(
thecÚ‹xts
[
m
]->
ma¡”id
 == 2)

10028 ià(
l
 =ğ
j
)

10030 
thecÚ‹xts
[
i
]->
jobThdId
 = 
j
;

10031 
thecÚ‹xts
[
k
]->
jobThdId
 = 
j
;

10032 
thecÚ‹xts
[
m
]->
jobThdId
 = 
j
;

10033 
thecÚ‹xts
[
i
]->
h–pThdId
 = 
k
;

10034 
thecÚ‹xts
[
k
]->
h–pThdId
 = 
i
;

10035 
thecÚ‹xts
[
m
]->
h–pThdId
 = -1;

10036 
thecÚ‹xts
[
i
]->
ÜaşeId
 = 
m
;

10037 
thecÚ‹xts
[
k
]->
ÜaşeId
 = 
m
;

10038 
thecÚ‹xts
[
m
]->
ÜaşeId
 = -1;

10040 
thecÚ‹xts
[
i
]->
´edQueue
 = (
b¿nchCÜr
 *è
	`ÿÎoc
 (1,  (branchCorr));;

10041 
	`š™B¿nchCÜr
 (
thecÚ‹xts
[
i
]->
´edQueue
);

10042 
thecÚ‹xts
[
k
]->
´edQueue
 =hecÚ‹xts[
i
]->predQueue;

10043 
thecÚ‹xts
[
m
]->
´edQueue
 =hecÚ‹xts[
i
]->predQueue;

10046 
l
++;

10051 
l
++;

10054 
j
++;

10058 
i
 = 0; i < 
numcÚ‹xts
; i++)

10060 
thecÚ‹xts
[
i
]->
jobThdId
 = i;

10061 
thecÚ‹xts
[
i
]->
h–pThdId
 = -1;

10062 
thecÚ‹xts
[
i
]->
ÜaşeId
 = -1;

10066 
	`´štf
 ("ff Stage 0 done\n");

10067 
	`fæush
 (
¡dout
);

10069 
	`f¡fwd_cŞËùSts
();

10072 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10074 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10075 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

10076 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

10079 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

10080 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

10084 ià(
cu¼’t
->
ç¡fwd_couÁ
 > 0)

10086 
couÁ”_t
 
icouÁ
;

10087 
md_š¡_t
 
š¡
;

10088 
md_İcode
 
İ
;

10089 
md_addr_t
 
rg‘_PC
;

10090 
md_addr_t
 
addr
;

10091 
is_wr™e
;

10092 
by‹_t
 
‹mp_by‹
;

10093 
h®f_t
 
‹mp_h®f
;

10094 
wÜd_t
 
‹mp_wÜd
;

10096 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

10097 
qwÜd_t
 
‹mp_qwÜd
 = 0;

10100 
md_çuÉ_ty³
 
çuÉ
;

10102 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

10104 
icouÁ
 = 0; icouÁ < 
cu¼’t
->
ç¡fwd_couÁ
; icount++)

10107 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

10108 #ifdeà
TARGET_ALPHA


10109 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

10113 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

10116 
addr
 = 0;

10117 
is_wr™e
 = 
FALSE
;

10120 
çuÉ
 = 
md_çuÉ_nÚe
;

10123 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

10126 
İ
)

10128 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

10129 
OP
: \

10130 
	`SYMCAT
(
OP
,
_IMPL
); \

10132 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

10133 
OP
: \

10134 
	`·nic
("attemptedoƒxecute‡†inking opcode");

10135 
	#CONNECT
(
OP
)

	)

10136 #undeà
DECLARE_FAULT


10137 
	#DECLARE_FAULT
(
FAULT
è\

	)

10138 { 
çuÉ
 = (
FAULT
); ; }

10139 
	~"machše.def
"

10141 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

10144 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

10145 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

10148 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

10150 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

10152 
is_wr™e
 = 
TRUE
;

10153 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

10156 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

10160 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

10161 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10164 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10165 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10172 
	`´štf
 ("ff stage 1 done\n");

10173 
	`fæush
 (
¡dout
);

10175 
	`årštf
 (
¡d”r
, "sim: ** starting…erformance simulation **\n");

10176 #ifdeà
LOAD_PREDICTOR


10177 
	`årštf
 (
¡d”r
, " LOAD_PREDICTOR\n");

10178 #ifdeà
COUNT_MISS_ONLY


10179 
	`årštf
 (
¡d”r
, "COUNT_MISS_ONLY \n");

10181 #ifdeà
PREDICT_LOAD_COMM


10182 
	`årštf
 (
¡d”r
, "PREDICT_LOAD_COMM \n");

10184 #ifdeà
GATE_L1_MISS


10185 
	`årštf
 (
¡d”r
, "GATE_L1_MISS \n");

10187 #ifdeà
GATE_L2_MISS


10188 
	`årštf
 (
¡d”r
, "GATE_L2_MISS\n");

10190 #ifdeà
PDG


10191 
	`årštf
 (
¡d”r
, "PDG \n");

10194 #ifdeà
ACTIVE_N_WAY


10195 
	`årštf
 (
¡d”r
, " ACTIVE_N_WAY\n");

10196 #ifdeà
FIXED_N_WAY


10197 
	`årštf
 (
¡d”r
, " FIXED_N_WAY\n");

10200 #ifdeà 
SMT_TEST


10201 
	`årštf
 (
¡d”r
, "SMT_TEST\n");

10203 #ifdeà 
THRD_WAY_CACHE


10204 
	`årštf
 (
¡d”r
, " THRD_WAY_CACHE\n");

10206 #ifdeà 
N_WAY_CACHE


10207 
	`årštf
 (
¡d”r
, " N_WAY_CACHE: deçuÉ oÆy, %d\n", 
n_way_ÿche
);

10208 #ifdeà
SET_BASED


10209 
	`årštf
 (
¡d”r
, "SET_BASED\n");

10212 #ifdeà
PARTITIONED_LSQ


10213 
	`årštf
 (
¡d”r
, "PARTITIONED_LSQ\n");

10215 
	`årštf
 (
¡d”r
, "(PARTITIONED_LSQ‚ot defined)\n");

10217 #ifdeà
CENTRALIZED_LSQ


10218 
	`årštf
 (
¡d”r
, "CENTRALIZED_LSQ\n");

10220 #ifdeà
DE_CENTRALIZED_LSQ


10221 
	`årštf
 (
¡d”r
, "DE_CENTRALIZED_LSQ\n");

10222 #ifdeà
DE_CENTRALIZED_POWER_BUG


10223 
	`årštf
 (
¡d”r
, " DE_CENTRALIZED_POWER_BUG\n");

10225 #ifdeà 
SPLIT_LSQ


10226 
	`årštf
 (
¡d”r
, "SPLIT_LSQ\n");

10228 #ifdeà
DISTRIBUTE_STORE


10229 
	`årštf
 (
¡d”r
, "DISTRIBUTE_STORE\n");

10231 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


10232 
	`årštf
 (
¡d”r
, " PWR_DE_CENTRALIZED_LSQ\n");

10235 #ifdeà
ALLOW_ANY_CLUSTER


10236 
	`årštf
 (
¡d”r
, "ALLOW_ANY_CLUSTER\n");

10238 #ifdeà 
CLUSTER_PRIORITY


10239 
	`årštf
 (
¡d”r
, "CLUSTER_PRIORITY\n");

10241 #ifdeà
DISTRIBUTED_STEER


10242 
	`årštf
 (
¡d”r
, "DISTRIBUTED_STEER\n");

10244 #ifdeà
CENTRALIZED_STEER


10245 
	`årštf
 (
¡d”r
, "CENTRALIZED_STEER\n");

10247 #ifdeà
MINIMUM_STEER


10248 
	`årštf
 (
¡d”r
, "MINIMUM_STEER\n");

10250 #ifdeà
INIT_CENTRALIZED_STEER


10251 
	`årštf
 (
¡d”r
, "INIT_CENTRALIZED_STEER\n");

10253 #ifdeà
CMP_STEER


10254 
	`årštf
 (
¡d”r
, "CMP_STEER\n");

10256 #ifdeà
INIT_CMP_STEER


10257 
	`årštf
 (
¡d”r
, "INIT_CMP_STEER\n");

10259 #ifdeà
N_WAY_STEER


10260 
	`årštf
 (
¡d”r
, "N_WAY_STEER ,N_WAY:deçuÉ %d \n", 
n_way
);

10261 #ifdeà
PRIVATE_STEER


10262 
	`årštf
 (
¡d”r
, " PRIVATE_STEER\n");

10264 #ifdeà
N_WAY_ADAPT


10265 
	`årštf
 (
¡d”r
, " N_WAY_ADAPT,ADAPT_RATE %d \n", 
ADAPT_RATE
);

10266 #ifdeà
STABLE_IPC_ADAPT


10267 
	`årštf
 (
¡d”r
, "STABLE_IPC_ADAPT\n");

10269 #ifdeà
PERIODIC_INCREASE_ADAPT


10270 
	`årštf
 (
¡d”r
, "PERIODIC_INCREASE_ADAPT\n");

10272 #ifdeà
DOUBLE_ADAPT


10273 
	`årštf
 (
¡d”r
, "DOUBLE_ADAPT\n");

10275 #ifdeà
OVERALL_LIMIT


10276 
	`årštf
 (
¡d”r
, "OVERALL_LIMIT\n");

10278 #ifdeà 
PRIVATE_STEER


10279 
	`årštf
 (
¡d”r
, "PRIVATE_STEER\n");

10282 #ifdeà
THRD_PRIO_ADAPT


10283 
	`årštf
 (
¡d”r
, " THRD_PRIO_ADAPT\n");

10284 #ifdeà
ADAPT_LIMIT


10285 
	`årštf
 (
¡d”r
, " ADAPT_LIMIT\n");

10288 #ifdeà
PDG_ADAPT


10289 
	`årštf
 (
¡d”r
, " PDG_ADAPT\n");

10291 #ifdeà
PDG_STOP_ADAPT


10292 
	`årštf
 (
¡d”r
, " PDG_STOP_ADAPT\n");

10294 #ifdeà
PDG_THRD_ADAPT


10295 
	`årštf
 (
¡d”r
, " PDG_THRD_ADAPT\n");

10296 #ifdeà
PDG_THRD_AGGRESSIVE


10297 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10299 #ifdeà
PDG_THRD_SOFT


10300 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10303 #ifdeà
PDG_THRD_PRIO_ADAPT


10304 
	`årštf
 (
¡d”r
, "PDG_THRD_PRIO_ADAPT \n");

10305 #ifdeà
COMM_OPER_LIMIT


10306 
	`årštf
 (
¡d”r
, "COMM_OPER_LIMIT COMM_OPER_RATIO %2.2f\n", 
COMM_OPER_RATIO
);

10308 #ifdeà
ADAPT_NO_PRIO


10309 
	`årštf
 (
¡d”r
, " ADAPT_NO_PRIO\n");

10311 #ifdeà
ADAPT_NO_COMM_OPER


10312 
	`årštf
 (
¡d”r
, " ADAPT_NO_COMM_OPER\n");

10314 #ifdeà
AVG_LIMIT


10315 
	`årštf
 (
¡d”r
, " AVG_LIMIT\n");

10317 #ifdeà
PDG_THRD_AGGRESSIVE


10318 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10320 #ifdeà
PDG_THRD_SOFT


10321 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10324 #ifdeà
INIT_N_WAY_CENTRAL


10325 
	`årštf
 (
¡d”r
, " INIT_N_WAY_CENTRAL\n");

10327 #ifdeà
N_WAY_BALANCE


10328 
	`årštf
 (
¡d”r
, "N_WAY_BALANCE \n");

10330 #ifdeà
THRD_PROFILE


10331 
	`årštf
 (
¡d”r
, " THRD_PROFILE\n");

10333 #ifdeà
N_CACHE_FIXED


10334 
	`årštf
 (
¡d”r
, "N_CACHE_FIXED \n");

10336 #ifdeà
PRIVATE_CACHE


10337 
	`årštf
 (
¡d”r
, " PRIVATE_CACHE\n");

10340 #ifdeà
STEER_MEM_LSQ


10341 
	`årštf
 (
¡d”r
, "STEER_MEM_LSQ\n");

10343 #ifdeà
STEER_MEM_NEIGHBOR


10344 
	`årštf
 (
¡d”r
, "STEER_MEM_NEIGHBOR\n");

10346 #ifdeà
STEER_OPRANDS


10347 
	`årštf
 (
¡d”r
, "STEER_OPRANDS\n");

10349 #ifdeà 
STEER_FU


10350 
	`årštf
 (
¡d”r
, "STEER_FU\n");

10352 #ifdeà
SELECTIVE_DISPATCH


10353 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH\n");

10355 #ifdeà
SELECTIVE_FETCH


10356 
	`årštf
 (
¡d”r
, "SELECTIVE_FETCH\n");

10358 #ifdeà
SELECTIVE_DISPATCH_GATE


10359 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH_GATE\n");

10360 #ifdeà
UNREADY_PRIVATE


10361 
	`årštf
 (
¡d”r
, " UNREADY_PRIVATE \n");

10363 #ifdeà
UNREADY_COUNT


10364 
	`årštf
 (
¡d”r
, " UNREADY_COUNT %d\n", 
UNREADY_COUNT_LIMIT
);

10366 #ifdeà
UNREADY_COUNT_ONLY


10367 
	`årštf
 (
¡d”r
, " UNREADY_COUNT_ONLY \n");

10369 #ifdeà
UNREADY_CHAIN_PRIVATE


10370 
	`årštf
 (
¡d”r
, " UNREADY_CHAIN_PRIVATE %d\n", 
UNREADY_CHAIN_LIMIT
);

10373 #ifdeà 
RAW


10374 
	`årštf
 (
¡d”r
, "RAW ,deçuÉ RAWSIZE %d\n", 
RAWSIZE
);

10376 #ifdeà 
RABMAP


10377 
	`årštf
 (
¡d”r
, "RABMAP \n");

10379 #ifdeà 
RABCOMM


10380 
	`årštf
 (
¡d”r
, "RABCOMM \n");

10382 #ifdeà 
ALU_MERGE


10383 
	`årštf
 (
¡d”r
, "ALU_MERGE \n");

10385 #ifdeà
INST_TRANS_RATE


10386 
	`årštf
 (
¡d”r
, "INST_TRANS_RATE\n");

10387 #ifdeà
TRACE_REG


10388 
	`årštf
 (
¡d”r
, " TRACE_REG\n");

10391 #ifdeà
IGNORE_ALL_COMM_LATENCY


10392 
	`årštf
 (
¡d”r
, "IGNORE_ALL_COMM_LATENCY\n");

10394 #ifdeà
IGNORE_MEM_COMM_LATENCY


10395 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10397 #ifdeà
COUNT_COMMIT


10398 
	`årštf
 (
¡d”r
, "COUNT_COMMIT\n");

10400 #ifdeà
CYCLE_JUMP


10401 
	`årštf
 (
¡d”r
, "CYCLE_JUMP \n");

10403 #ifdeà
FETCH_ONE_BLOCK


10404 
	`årštf
 (
¡d”r
, "FETCH_ONE_BLOCK \n");

10406 #ifdeà 
MSHR


10407 
	`årštf
 (
¡d”r
, "MSHR , MSHRSIZE %d\n", 
MSHRSIZE
);

10409 #ifdeà
GENERIC_FU


10410 
	`årštf
 (
¡d”r
, "GENERIC_FU\n");

10412 #ifdeà
NO_EXTRA_REG


10413 
	`årštf
 (
¡d”r
, "NO_EXTRA_REG\n");

10415 #ifdeà
NO_CACHE_BANK


10416 
	`årštf
 (
¡d”r
, "NO_CACHE_BANK\n");

10418 #ifdeà
NO_QFILL_CONTENTION


10419 
	`årštf
 (
¡d”r
, "NO_QFILL_CONTENTION\n");

10421 #ifdeà
NO_BUS_CONTENTION


10422 
	`årštf
 (
¡d”r
, " NO_BUS_CONTENTION \n");

10424 #ifdeà
EVENT_CACHE_UPDATE


10425 
	`årštf
 (
¡d”r
, "EVENT_CACHE_UPDATE\n");

10426 #ifdeà
APPROXIMATE_LAT


10427 
	`årštf
 (
¡d”r
, " APPROXIMATE_LAT \n");

10429 #ifdeà 
ACURATE_LAT


10430 
	`årštf
 (
¡d”r
, " ACURATE_LAT \n");

10432 #ifdeà 
MOST_ACURATE_LAT


10433 
	`årštf
 (
¡d”r
, " MOST_ACURATE_LAT \n");

10436 #ifdeà
PORT_PER_BANK


10437 
	`årštf
 (
¡d”r
, "PORT_PER_BANK\n");

10439 #ifdeà 
LINE_INTERLEAVED


10440 
	`årštf
 (
¡d”r
, "LINE_INTERLEAVED\n");

10442 #ifdeà 
PWR_CLUSTER


10443 
	`årštf
 (
¡d”r
, "PWR_CLUSTER,ISSUE_PER_CLUSTER \n");

10445 #ifdeà 
CHECKS


10446 
	`årštf
 (
¡d”r
, "CHECKS\n");

10448 #ifdeà 
PWR__SMT_RR


10449 
	`årštf
 (
¡d”r
, "PWR__SMT_RR\n");

10451 
	`årštf
 (
¡d”r
, "REMOVE_ILP = %d\n", (è
REMOVE_ILP
);

10452 
	`årštf
 (
¡d”r
, "HOPTIME = %d\n", (è
HOPTIME
);

10453 #ifdeà
CENTRALIZED_CACHE_BANK


10454 
	`årštf
 (
¡d”r
, "CENTRALIZED_CACHE_BANK\n");

10456 #ifdeà
IGNORE_MEM_COMM_LATENCY


10457 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10459 
	`årštf
 (
¡d”r
, "DO_DYNAMIC_ADAPTATION = %d\n", (è
DO_DYNAMIC_ADAPTATION
);

10460 
	`årštf
 (
¡d”r
, "N_WAY = %d\n", 
n_way
);

10461 
	`årštf
 (
¡d”r
, "n_way_ÿchğ%d\n", 
n_way_ÿche
);

10462 #ifdeà
OPTICAL_FE_LINK


10463 
	`årštf
 (
¡d”r
, "OPTICAL_FE_LINK\n");

10465 #ifdeà
MONOLETHIC_MACHINE


10466 
	`årštf
 (
¡d”r
, "MONOLETHIC_MACHINE\n");

10469 #ifdeà
TOKENB


10470 
	`årštf
 (
¡d”r
, "TOKENB\n");

10474 *
sim_¡r_dump
;

10475 *
sim_dump
 = 
sim_¡r_dump
;

10476 
¡rFeName
[256];

10477 ià(!
sim_dump
)

10479 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

10480 
	`ex™
 (1);

10483 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

10484 
	`¡rÿt
 (
¡rFeName
, ".trc");

10485 
å_Œaû
 = 
	`fİ’
 (
¡rFeName
, "w");

10486 if(!
å_Œaû
è
	`·nic
("Could‚ot openrace file");

10489 #ifdef 
EDA


10490 
	`S¹Sk–‘ÚR—d
 (0);

10492 
	`®loÿ‹_ä“_ev’t_li¡
();

10495 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10497 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10498 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
;

10499 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

10501 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_PC
 -  (
md_š¡_t
);

10502 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.»gs_PC -  (
md_š¡_t
);

10503 #ifdeà
PDG


10504 
cu¼’t
->
aùive
 = 1;

10509 
	`bš_š™
 ();

10510 
	`ÿche_š™
 ();

10511 #ifdeà 
STREAM_PREFETCHER


10512 
	`š™_¥
 ();

10515 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

10517 
di¥_time
[
i
] = 0;

10520 
i
 = 0; i < 
numcÚ‹xts
; i++)

10522 
	`»g_š™
 (
i
);

10523 
	`b´ed_š™
 (
i
);

10526 #ifdeà
REG_RENAME_CONFIGUARE


10527 
	`årštf
 (
¡d”r
, "TÙ® P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

10530 
i
 = 0; i < 
CLUSTERS
; i++)

10532 
num_¡Üeq
[
i
] = 0;

10533 
max_¡Üeq
[
i
] = 0;

10536 
mm
 = 0; mm <ğ
NUMPHASES
; mm++)

10538 
num_picks
[
mm
] = 0;

10541 ià(
CENTRAL_CACHE
)

10543 
aùu®_ÿch•Üts
 = 
CACHEPORTS
;

10544 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10548 
	`ÿche_chªge_cÚfig
 (
SMALLEST_CONFIG
);

10549 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10550 
aùu®_ÿch•Üts
 = (
CACHEPORTS
 * 
aùu®_şu¡”s
è/ 
CLUSTERS
;

10553 
¹h»sh
 = 
š¢_š‹rv®
 / 100;

10554 
b¹h»sh
 = 
š¢_š‹rv®
 / 100;

10555 
m¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10556 
im¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10557 
cyùh»sh
 = 
š¢_š‹rv®
 / 100;

10558 
ºoi£
 = 
š¢_š‹rv®
 / 20;

10559 
bºoi£
 = 
š¢_š‹rv®
 / 50;

10560 
m¢oi£
 = 
š¢_š‹rv®
 / 100;

10561 
im¢oi£
 = 
š¢_š‹rv®
 / 200;

10563 #ifdef 
COLLECT_STAT_STARTUP


10564 
aùu®Proûss
 = 1;

10566 
aùu®Proûss
 = 
numcÚ‹xts
;

10568 
execu‹MaxIn¢
 = 
max_š¡s
;

10574 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10576 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10577 
cu¼’t
->
aùive_this_cyşe
 = 1;

10580 #ifdef 
SMD_USE_WRITE_BUF


10582 
th»adid
 = 0;h»adid < 
MAXTHREADS
;hreadid++)

10584 
i
 = 0; i < 
SMD_L1_WBUF_SIZE
; i++)

10586 
m_L1WBuf
[
th»adid
][
i
].
PC
 = 0;

10587 
m_L1WBuf
[
th»adid
][
i
].
lsqId
 = 0;

10588 
m_L1WBuf
[
th»adid
][
i
].
robId
 = 0;

10589 
m_L1WBuf
[
th»adid
][
i
].
robExId
 = 0;

10590 
m_L1WBuf
[
th»adid
][
i
].
addr
 = 0;

10591 
m_L1WBuf
[
th»adid
][
i
].
İ
 = 0;

10592 
m_L1WBuf
[
th»adid
][
i
].
Ït
 = 0;

10593 
m_L1WBuf
[
th»adid
][
i
].
sim_num_š¢
 = 0;

10594 
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
 = 0;

10595 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 0;

10596 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 0;

10597 
m_L1WBuf
[
th»adid
][
i
].
’ŒyTime
 = 0;

10598 
m_L1WBuf
[
th»adid
][
i
].
wr™eV®ue
 = 0;

10599 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 0;

10601 
m_L1WBufCÁ
[
th»adid
] = 0;

10602 
m_L1WBuf_h—d
[
th»adid
] = 0;

10603 
m_L1WBuf_
[
th»adid
] = 0;

10606 #ifdeà
DIRECTORY


10607 #ifdeà
MC


10608 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI"))

10609 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10610 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10611 
	`mašPİÃt
();

10612 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

10614 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10615 
	`mašPİÃt
();

10618 #ifdeà
OPTICAL_INTERCONNECT


10619 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10621 #ifdeà
POPNET


10622 
	`mašPİÃt
();

10630 #ifdef 
DCACHE_MSHR


10631 
i
 = 0; i < 
CLUSTERS
; i++)

10632 
	`ä“MSHR
(
ÿche_dl1
[
i
]->
mshr
);

10633 
	`ä“L2MSHR
(
ÿche_dl2
->
mshr
);

10636 #ifdeà
POWER_ACCESS_STAT


10637 
lsq_´eg_acûss_couÁ
 +ğ
lsq_´eg_acûss
;

10638 
lsq_wakeup_acûss_couÁ
 +ğ
lsq_wakeup_acûss
;

10641 #ifdef 
EDA


10642 
	`dl0_ş—nup
 ();

10647 
	`±¿û_check_aùive
 (
thecÚ‹xts
[0]->
»gs
.
»gs_PC
, 
sim_num_š¢
, 
sim_cyşe
);

10649 
	`±¿û_Ãwcyşe
 (
sim_cyşe
);

10651 
i
 = 0; i<
numcÚ‹xts
; i++)

10655 
comm™_æag
[
i
] ++;

10658 
	`ruu_comm™
 ();

10660 #ifdeà
SMD_USE_WRITE_BUF


10661 
	`ruu_»Ëa£_wr™ebufãr
 ();

10662 
	`ruu_wr™e_äom_Wr™ebufãr
 ();

10666 
	`ruu_»Ëa£_fu
 ();

10668 
	`ruu_wr™eback
 ();

10671 ià(!
bugcom·t_mode
)

10673 
	`lsq_»äesh
 ();

10674 
	`ruu_issue
 ();

10677 
ggg
;

10679 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10681 
di¥©ch_dÚe
[
ggg
] = 0;

10682 ià(
thecÚ‹xts
[
ggg
]->
aùive_this_cyşe
)

10684 
di¥©ch_dÚe
[
ggg
] = 
di¥©ched
 = 
	`ruu_di¥©ch
 (ggg);

10688 ià(!
®lFÜked
)

10690 #ifdef 
COLLECT_STAT_STARTUP


10691 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10693 
cŞËùStStİ
[
ggg
] = 0;

10696 
cŞËùStB¬r›r
 = 0;

10697 
®lFÜked
 = 1;

10699 
	`š™P¬®ËlSimuÏtiÚ
 ();

10700 
cŞËù_¡©s
 = 1;

10705 ià(
æushImpSts
)

10707 
æushImpSts
 = 0;

10708 
cŞËù_¡©s
 = 1;

10709 
sim_num_š¢
 = 0;

10710 
»®SimCyşe
 = 0;

10712 
i
 = 0; i < 
MAXTHREADS
; i++)

10714 
m_sqLQFuÎ
[
i
] = 0;

10715 
m_sqSQFuÎ
[
i
] = 0;

10716 
m_sqNumLdR•Ïy
[
i
] = 0;

10717 
ld¡RejeùiÚCouÁ
[
i
] = 0;

10718 
£qCÚsR•Ïy
[
i
] = 0;

10719 
£qCÚsIn¢R•Ïy
[
i
] = 0;

10722 
šv®id©iÚ_»¶ay
[
i
] = 0;

10724 
tÙ®RUUsize
[
i
] = 
tÙ®LQsize
[i] = 
tÙ®SQsize
[i] = 0;

10726 #ifdeà
RELAXED_CONSISTENCY


10727 
lßdLßdR•ÏyCouÁ
[
i
] = 0;

10730 
m_sqP»ãtchCÁ
 = 0;

10733 ià(
timeToR‘uº
)

10735 
	`fşo£
 (
å_Œaû
);

10737 
i
 = 0; i < 
numcÚ‹xts
; i++)

10738 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10739 
	`årštf
(
¡d”r
,"[INFO 0]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

10743 
i
 = 0; i < 
numcÚ‹xts
; i++)

10745 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10747 
tÙ®RUUsize
[
i
] +ğ
thecÚ‹xts
[i]->
RUU_num
;

10748 
avgRUUsize
[
i
] = (1.0 * 
tÙ®RUUsize
[i]è/ 
»®SimCyşe
;

10750 
tÙ®LQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shLQNum
;

10751 
avgLQsize
[
i
] = (1.0 * 
tÙ®LQsize
[i]è/ 
»®SimCyşe
;

10753 #ifdef 
SMD_USE_WRITE_BUF


10754 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
 + 
m_L1WBufCÁ
[i];

10756 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
;

10758 
avgSQsize
[
i
] = (1.0 * 
tÙ®SQsize
[i]è/ 
»®SimCyşe
;

10763 #ifdeà 
CHECK_FETCH_QUEUE


10764 
	`check_ãtch_queue
 ();

10767 ià(
bugcom·t_mode
)

10771 
	`lsq_»äesh
 ();

10775 
	`ruu_issue
 ();

10778 
	`ruu_ãtch
 ();

10780 #ifdeà
DIRECTORY


10781 
	`dœ_fifo_dequeue
();

10782 
	`dœ_ev’tq_Ãx‹v’t
();

10783 #ifdeà
MC


10784 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI"))

10785 
	`dœeùRunSim
(
sim_cyşe
);

10786 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10787 
	`pİÃtRunSim
(
sim_cyşe
);

10788 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

10790 
	`dœeùRunSim
(
sim_cyşe
);

10791 
	`pİÃtRunSim
(
sim_cyşe
);

10794 #ifdeà
OPTICAL_INTERCONNECT


10795 
	`dœeùRunSim
(
sim_cyşe
);

10797 #ifdeà
POPNET


10798 
	`pİÃtRunSim
(
sim_cyşe
);

10803 #ifdeà
MEM_MOD


10804 
f
;

10805 
f
=0; f<8; f++)

10807 if(
mem_pÜt_Ït
[
f
] != 0)

10808 
mem_pÜt_Ït
[
f
] --;

10812 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10814 
	`upd©e_pow”_¡©s
(
thecÚ‹xts
[0]->
pow”
, 
th»adid
,hecontexts[threadid]);

10816 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10817 ià(
cu¼’t
->
ruu_ãtch_issue_d–ay
)

10818 
cu¼’t
->
ruu_ãtch_issue_d–ay
--;

10820 
	`ş—r_acûss_¡©s
();

10826 #ifdeà 
CHECKS


10827 
	`check_»g
 ();

10830 ià(
hÙ¥Ù_aùive
 && 
sim_cyşe
 >ğ
Ï¡_hÙ¥Ù_cyşe
 + 
hÙ¥Ù_cyşe_§m¶šg_štvl
)

10832 
	`upd©e_hÙ¥Ù_¡©s
 (
sim_cyşe
 - 
Ï¡_hÙ¥Ù_cyşe
);

10833 
Ï¡_hÙ¥Ù_cyşe
 = 
sim_cyşe
;

10836 
	`check_fu_busy
 ();

10837 
‰
;

10839 ià(!
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
)

10841 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10843 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10844 #ifdef 
EDA


10845 ià(
cu¼’t
->
ma¡”id
 =ğ0 && ((è(cu¼’t->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

10847 ià(((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

10850 
	`årštf
 (
¡d”r
, "Th»ad %d ha exûeded max_š¡s; klšg‡Îh»ads.\n", 
th»adid
);

10851 
kÏÎ
 = 1;

10856 
th»adid
 = 0, 
th»ad_¡İ
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10858 
tmp
 = 0, 
tid
;

10860 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10862 #ifdef 
EDA


10863 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && 
cu¼’t
->
ma¡”id
 =ğ0 && ((è(cu¼’t->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

10865 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
 && ((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

10868 
cu¼’t
->
fšish_cyşe
 = (è(
sim_cyşe
 - 
cyşecheck
);

10869 
cu¼’t
->
ruÂšg
 = 0;

10870 
¡İ³d_num_th»ads
++;

10872 
aùivecÚ‹xts
 = 
numcÚ‹xts
 - 
¡İ³d_num_th»ads
;

10874 
th»ad_¡İ
 = 1;

10875 
	`årštf
 (
¡d”r
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

10876 
	`årštf
 (
¡d”r
, "IPC_·tŸl%d,³¸th»ad %4.3f, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

10878 ià(
hÙ¥Ù_aùive
 && 
sim_hÙ¥Ùout_fd
 !ğ
¡d”r
)

10880 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

10883 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10885 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10886 ià(
cu¼’t
->
fšish_cyşe
)

10887 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(cu¼’t->
fšish_cyşe
 - 
cyşecheck
));

10889 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

10891 
	`årštf
 (
¡d”r
, "\n");

10892 
	`årštf
 (
¡d”r
, "num_š¢_·tŸl%d,³¸th»ad %lu, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
));

10894 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10896 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10897 ià(
cu¼’t
->
fšish_cyşe
)

10898 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

10900 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

10902 
	`årštf
 (
¡d”r
, "\n");

10903 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

10905 
	`årštf
 (
¡d”r
, "********All finish simulation done**********\n");

10906 
	`årštf
 (
¡d”r
, "fšish_cyş%lu,…”h»ad , ", (è
sim_cyşe
);

10907 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10909 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10910 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
fšish_cyşe
 - 
WARMUP
));

10912 
	`årštf
 (
¡d”r
, "\n");

10916 
now_time
 = 
	`time
 ((
time_t
 *è
NULL
);

10918 ià(!
sim_cyşe
)

10919 
´št_time
 = 
now_time
;

10920 
sim_–­£d_£c
 = 0;

10922 ià((è
sim_num_š¢
 && ((
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
è|| 
th»ad_¡İ
))

10924 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

10926 
sim_cyşe
 -ğ
w¬mupEndCyşe
;

10927 
	`årštf
(
¡d”r
,"[INFO 1]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

10932 
	#PERIOD
 100000

	)

10933 
	#INTERVAL
 10000

	)

10934 
	#NUM_CONFIG
 3

	)

10935 #ià
DO_DYNAMIC_ADAPTATION


10937 ià(
m_maxth»ads
 == 1)

10939 ià(((
sim_num_š¢
 % 
PERIOD
è>ğ0è&& ((sim_num_š¢ % PERIODè< 
NUM_CONFIG
 * 
INTERVAL
))

10940 
	`³riodic_ad­tiÚ
 ();

10944 
	#PRINT_STATISTICS
 0

	)

10945 #ià
PRINT_STATISTICS


10946 
	`chªgeCacheCÚfig
 ();

10949 #ifdeà
INTERVAL_BASED


10950 ià(!((è
sim_cyşe
 % 
ADAPT_INTERVAL
) && (() sim_cycle))

10953 #ifdeà 
EXAMIN_N_WAY_ADAPT


10954 
	`upd©e_examš_n_lim™
 ();

10956 #ifdeà 
N_WAY_ADAPT


10957 
	`upd©e_n_lim™
 ();

10959 #ifdeà
THRD_PRIO_ADAPT


10960 
	`´iÜ™y_n_way
 ();

10962 #ifdeà
PDG_THRD_ADAPT


10963 
	`pdg_thrd_n_way
 ();

10965 #ifdeà
PDG_THRD_PRIO_ADAPT


10966 
	`pdg_´iÜ™y_n_way
 ();

10968 #ifdeà
PDG_ADAPT


10969 
	`pdg_n_way
 ();

10971 #ifdeà
N_WAY_CACHE_ADAPT


10972 
	`n_way_ÿche_ad­t
 ();

10974 #ifdeà
INTERVAL_BASED


10978 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

10979 
	`busF»e
 ();

10981 
sim_cyşe
++;

10983 #ifdeà
DIRECTORY


10984 
	`»£t_pÜts
();

10988 #ifdeà
SEQUENTIAL_CONSISTENCY


10989 
i
 = 0; i < 
numcÚ‹xts
; i++)

10991 ià(
šv®id©iÚSÎ
[
i
])

10992 
šv®id©iÚSÎ
[
i
]--;

10993 ià(
comm™SÎ
[
i
])

10994 
comm™SÎ
[
i
]--;

10997 
»®SimCyşe
++;

10998 
i
 = 0; i < 
numcÚ‹xts
; i++)

11000 ià(!
®lFÜked
)

11002 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (ÑhecÚ‹xts[i]->
¦•tAt
 + 1000è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
))

11004 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

11005 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

11010 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (thecÚ‹xts[i]->
¦•tAt
 + 100 + (
	`¿ndom
 (è% 20è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
))

11012 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

11013 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

11014 ià(
cŞËù_¡©s
)

11015 
qu›n£Wakeup
[
i
]++;

11020 ià(((!
max_b¬r›r
 && (
pu»_num_š¢
 > 
execu‹MaxIn¢
)è|| (max_b¬r›¸&& 
TÙ®B¬r›rs
 >ğmax_b¬r›r)è&& 
cŞËù_¡©s
)

11022 
i
 = 0; i < 
numcÚ‹xts
; i++)

11023 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

11025 
	`årštf
(
¡d”r
,"[INFO 2]: sim_num_š¢=%Îu, b¬r›rs=%d", 
pu»_num_š¢
, 
TÙ®B¬r›rs
);

11028 ià(
unPrštLim™
 < 
STATUS_NUM
 && (
pu»_num_š¢
 >ğ(unPrštLim™ * (
max_š¡s
 / STATUS_NUM))))

11030 #ifdeà
MC


11031 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI"))

11033 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11034 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11036 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

11038 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
);

11039 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\tm‘a_·ck‘s%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
, 
M‘aPack‘s_1
);

11041 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB"))

11043 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11044 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11047 #ifdeà
POPNET


11048 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
);

11049 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\tm‘a_·ck‘s%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
, 
M‘aPack‘s_1
);

11051 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11052 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11055 
	`fæush
 (
¡d”r
);

11056 
	`fæush
 (
¡dout
);

11057 
	`´štf
("b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

11058 
	`årštf
(
¡d”r
, "b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

11059 
	`fæush
 (
¡d”r
);

11060 
	`fæush
 (
¡dout
);

11061 
unPrštLim™
++;

11062 
glob®_d©a_·ck‘s_g’”©iÚ
 = 0;

11063 
D©aPack‘s_1
 = 0;

11064 
M‘aPack‘s_1
 = 0;

11071 
	`g‘_ä“_»g
 (
Ìegnum
, 
th»adid
)

11073 
‹mpv®
;

11074 
li¡–t
 *
‹mp
;

11076 
cÚ‹xt
 *
cu¼’t
;

11078 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11080 ià((
Ìegnum
 < 1) || (lregnum > 62))

11082 ià(
Ìegnum
 < 32)

11084 ià(!
iä“li¡_h—d
[
th»adid
])

11086 
	`´štf
 ("Num oàIREG=%d\n", 
œegfe
);

11087 
	`årštf
 (
¡d”r
, "Num oàIREG=%d\n", 
œegfe
);

11088 
	`·nic
 ("Out of„egisters?!");

11091 
‹mp
 = 
iä“li¡_h—d
[
th»adid
];

11092 
‹mpv®
 = 
‹mp
->
´eg
;

11093 
iä“li¡_h—d
[
th»adid
] = iä“li¡_h—d[th»adid]->
Ãxt
;

11094 ià(!
iä“li¡_h—d
[
th»adid
])

11095 
iä“li¡_
[
th»adid
] = 
NULL
;

11096 ià(
iä“li¡_h—d
[
th»adid
])

11097 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11098 
	`ä“
 (
‹mp
);

11099 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11100 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11101 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11102 #ifdeà 
REMOVE_REG_COUNT


11103 
œegfe
++;

11105 
œegfe_ş
[
th»adid
]++;

11106  
‹mpv®
;

11110 ià(!
fä“li¡_h—d
[
th»adid
])

11112 
	`´štf
 ("Num oàFREG=%d\n", 
äegfe
);

11113 
	`årštf
 (
¡d”r
, "Num oàFREG=%d\n", 
äegfe
);

11114 
	`·nic
 ("Out of„egisters?!");

11117 
‹mp
 = 
fä“li¡_h—d
[
th»adid
];

11118 
‹mpv®
 = 
‹mp
->
´eg
;

11119 
fä“li¡_h—d
[
th»adid
] = fä“li¡_h—d[th»adid]->
Ãxt
;

11120 ià(!
fä“li¡_h—d
[
th»adid
])

11121 
fä“li¡_
[
th»adid
] = 
NULL
;

11122 ià(
fä“li¡_h—d
[
th»adid
])

11123 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11124 
	`ä“
 (
‹mp
);

11125 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11126 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11127 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11128 #ifdeà 
REMOVE_REG_COUNT


11129 
äegfe
++;

11131 
äegfe_ş
[
th»adid
]++;

11132  
‹mpv®
;

11138 
	`ä“li¡_š£¹
 (
´egnum
, 
th»adid
)

11140 
li¡–t
 *
–t
;

11141 
li¡–t
 *
p
;

11142 
li¡–t
 *
q
;

11144 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11147 ià(
th»adid
 == 0)

11149 
p
 = 
iä“li¡_h—d
[
th»adid
];

11150 
p
)

11152 
q
 = 
p
;

11153 
p
 =…->
Ãxt
;

11158 ià(!
´egnum
)

11160 ià(
´egnum
 <ğ
IPREG_size
)

11162 #ifdeà 
REMOVE_REG_COUNT


11163 
œegfe
--;

11165 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11166 
–t
->
´eg
 = 
´egnum
;

11167 ià(
iä“li¡_
[
th»adid
])

11169 
p
 = 
iä“li¡_h—d
[
th»adid
];

11170 
q
 = 
NULL
;

11171 
p
 && (p->
´eg
 < 
´egnum
))

11173 
q
 = 
p
;

11174 
p
 =…->
Ãxt
;

11176 ià(!
p
 || !
SORT
)

11178 
iä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11179 
–t
->
´ev
 = 
iä“li¡_
[
th»adid
];

11180 
–t
->
Ãxt
 = 
NULL
;

11181 
iä“li¡_
[
th»adid
] = 
–t
;

11183 ià(
q
)

11185 
q
->
Ãxt
 = 
–t
;

11186 
–t
->
´ev
 = 
q
;

11187 
–t
->
Ãxt
 = 
p
;

11188 
p
->
´ev
 = 
–t
;

11192 
–t
->
Ãxt
 = 
iä“li¡_h—d
[
th»adid
];

11193 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11194 
–t
->
´ev
 = 
NULL
;

11195 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11200 
–t
->
Ãxt
 = 
NULL
;

11201 
–t
->
´ev
 = 
NULL
;

11202 
iä“li¡_
[
th»adid
] = 
–t
;

11203 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11205 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11206 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11207 
œegfe_ş
[
th»adid
]--;

11211 #ifdeà 
REMOVE_REG_COUNT


11212 
äegfe
--;

11214 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11215 
–t
->
´eg
 = 
´egnum
;

11216 ià(
fä“li¡_
[
th»adid
])

11218 
p
 = 
fä“li¡_h—d
[
th»adid
];

11219 
q
 = 
NULL
;

11220 
p
 && (p->
´eg
 < 
´egnum
))

11222 
q
 = 
p
;

11223 
p
 =…->
Ãxt
;

11225 ià(!
p
 || !
SORT
)

11227 
fä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11228 
–t
->
´ev
 = 
fä“li¡_
[
th»adid
];

11229 
–t
->
Ãxt
 = 
NULL
;

11230 
fä“li¡_
[
th»adid
] = 
–t
;

11232 ià(
q
)

11234 
q
->
Ãxt
 = 
–t
;

11235 
–t
->
´ev
 = 
q
;

11236 
–t
->
Ãxt
 = 
p
;

11237 
p
->
´ev
 = 
–t
;

11241 
–t
->
Ãxt
 = 
fä“li¡_h—d
[
th»adid
];

11242 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11243 
–t
->
´ev
 = 
NULL
;

11244 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11249 
–t
->
Ãxt
 = 
NULL
;

11250 
–t
->
´ev
 = 
NULL
;

11251 
fä“li¡_
[
th»adid
] = 
–t
;

11252 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11254 
äegfe_ş
[
th»adid
]--;

11255 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11256 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11261 
	`»cF»eRegLi¡
 (
th»adid
)

11263 
li¡–t
 *
p
;

11264 
li¡–t
 *
‹mp
;

11265 
couÁ
 = 0;

11266 
i
;

11268 
p
 = 
iä“li¡_h—d
[
th»adid
];

11269 ià(
p
)

11271 
couÁ
++;

11272 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11274 
couÁ
++;

11275 
‹mp
 = 
p
;

11276 
p
 =…->
Ãxt
;

11277 
	`ä“
 (
‹mp
);

11281 
p
 = 
fä“li¡_h—d
[
th»adid
];

11282 ià(
p
)

11284 
couÁ
++;

11285 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11287 
couÁ
++;

11288 
‹mp
 = 
p
;

11289 
p
 =…->
Ãxt
;

11290 
	`ä“
 (
‹mp
);

11294 
	`»g_š™
 (
th»adid
);

11298 
	`numF»eReg
 (
th»adid
)

11300 
li¡–t
 *
p
;

11301 
couÁ
 = 0;

11303 
p
 = 
iä“li¡_h—d
[
th»adid
];

11304 ià(
p
)

11306 
couÁ
++;

11307 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11309 
couÁ
++;

11310 
p
 =…->
Ãxt
;

11314 
p
 = 
fä“li¡_h—d
[
th»adid
];

11315 ià(
p
)

11317 
couÁ
++;

11318 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11320 
couÁ
++;

11321 
p
 =…->
Ãxt
;

11324  
couÁ
;

11329 
	`cİy_to
 (
th»adid
)

11331 
i
;

11333 
cÚ‹xt
 *
cu¼’t
;

11335 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11337 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11339 
cu¼’t
->
Éİm­_chk
[
i
] = cu¼’t->
Éİm­
[i];

11341 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11343 ià(
cu¼’t
->
±Şm­
[
i
].
th»adid
 ==hreadid)

11345 
cu¼’t
->
±Şm­_chk
[
i
].
Ìeg
 = cu¼’t->
±Şm­
[i].lreg;

11346 
cu¼’t
->
±Şm­_chk
[
i
].
th»adid
 = cu¼’t->
±Şm­
[i].threadid;

11353 
	`cİy_äom
 (
th»adid
)

11355 
i
;

11357 
cÚ‹xt
 *
cu¼’t
;

11359 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11361 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11363 
cu¼’t
->
Éİm­
[
i
] = cu¼’t->
Éİm­_chk
[i];

11369 
	`b´ed_š™
 (
i
)

11372 ià(
ruu_b¿nch_³ÇÉy
 < 1)

11373 
	`çl
 ("mis-prediction…enalty must be‡t†east 1 cycle");

11375 ià(
ãtch_¥“d
 != 1)

11376 
	`çl
 ("front-end speed must be 1 for SMT version of simulator");

11378 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

11380 ià(
bimod_ÃÉ
 != 1)

11381 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11382 ià(
btb_ÃÉ
 != 2)

11383 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11384 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

11385  
bimod_cÚfig
[0],

11391  
btb_cÚfig
[0],

11392  
btb_cÚfig
[1],

11393  
¿s_size
);

11395 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

11398 ià(
twŞev_ÃÉ
 != 4)

11399 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11400 ià(
btb_ÃÉ
 != 2)

11401 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11403 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

11405  
twŞev_cÚfig
[0],

11406  
twŞev_cÚfig
[1],

11408  
twŞev_cÚfig
[2],

11409  
twŞev_cÚfig
[3],

11410  
btb_cÚfig
[0],

11411  
btb_cÚfig
[1],

11412  
¿s_size
);

11414 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

11417 ià(
twŞev_ÃÉ
 != 4)

11418 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11419 ià(
bimod_ÃÉ
 != 1)

11420 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11421 ià(
comb_ÃÉ
 != 1)

11422 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

11423 ià(
btb_ÃÉ
 != 2)

11424 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11426 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

11427  
bimod_cÚfig
[0],

11428  
twŞev_cÚfig
[0],

11429  
twŞev_cÚfig
[1],

11430  
comb_cÚfig
[0],

11431  
twŞev_cÚfig
[2],

11432  
twŞev_cÚfig
[3],

11433  
btb_cÚfig
[0],

11434  
btb_cÚfig
[1],

11435  
¿s_size
);

11438 ià(!
b´ed_¥ec_İt
)

11439 
b´ed_¥ec_upd©e
 = 
¥ec_CT
;

11440 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "ID"))

11441 
b´ed_¥ec_upd©e
 = 
¥ec_ID
;

11442 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "WB"))

11443 
b´ed_¥ec_upd©e
 = 
¥ec_WB
;

11445 
	`çl
 ("bad speculative update stage specifier, use {ID|WB}");

11447 
	`b´ed_»g_¡©s
 (
thecÚ‹xts
[
i
]->
´ed
, 
sim_sdb
, i);

11452 
	`»g_š™
 (
th»adid
)

11454 
i
;

11456 
cÚ‹xt
 *
cu¼’t
;

11458 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11460 
iä“li¡_h—d
[
th»adid
] = 
NULL
;

11461 
iä“li¡_
[
th»adid
] = 
NULL
;

11462 
fä“li¡_h—d
[
th»adid
] = 
NULL
;

11463 
fä“li¡_
[
th»adid
] = 
NULL
;

11465 #ifdeà 
REMOVE_REG_COUNT


11468 
œegfe
 = 
IPREG_size
;

11469 
äegfe
 = 
FPREG_size
;

11471 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11473 
	`ä“li¡_š£¹
 (
i
, 
th»adid
);

11474 
cu¼’t
->
±Şm­
[
i
].
Ìeg
 = 0;

11475 
cu¼’t
->
±Şm­
[
i
].
th»adid
 = -1;

11477 
œegfe_ş
[
th»adid
] = 0;

11478 
äegfe_ş
[
th»adid
] = 0;

11479 #iâdeà 
NO_REG_INIT


11481 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11482 
i
 = 0; i < 63; i++)

11484 
cu¼’t
->
Éİm­
[
i
] = 
	`g‘_ä“_»g
 (i, 
th»adid
);

11486 
i
 = 63; i < 
MD_TOTAL_REGS
; i++)

11487 
cu¼’t
->
Éİm­
[
i
] = 0;

11494 
	`»g_couÁ
 ()

11497 
œegfe
 = 0;

11498 
äegfe
 = 0;

11499 
i
, 
j
;

11500 
cÚ‹xt
 *
cu¼’t
;

11502 
j
 = 0; j < 
numcÚ‹xts
; j++)

11504 
cu¼’t
 = 
thecÚ‹xts
[
j
];

11505 
i
 = 1; i < 
p_tÙ®_»gs
; i++)

11507 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 0è&& (cu¼’t->±Şm­[i].Ìeg < 32è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11509 
œegfe
++;

11511 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 31è&& (cu¼’t->±Şm­[i].Ìeg < 63è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11513 
äegfe
++;

11517 ià(
œegfe
 < 31)

11518 
	`·nic
 ("phys iregfile†esshan 31");

11519 ià(
äegfe
 < 31)

11520 
	`·nic
 ("phys fregfile†esshan 31");

11525 
	`š™P¬®ËlSimuÏtiÚ
 ()

11527 
út
, 
cx
, 
j
;

11528 
x
, 
y
, 
z
, 
max
;

11530 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

11531 
thecÚ‹xts
[
út
]->
¡¬t_cyşe
 = 
sim_cyşe
;

11533 
cx
 = 0; cx < 
numcÚ‹xts
; cx++)

11535 
thecÚ‹xts
[
cx
]->
ãtch_num
 = 0;

11536 
thecÚ‹xts
[
cx
]->
ãtch_
 =hecÚ‹xts[cx]->
ãtch_h—d
 = 0;

11537 
thecÚ‹xts
[
cx
]->
ãtch_´ed_PC
 =hecÚ‹xts[cx]->
ãtch_»gs_PC
 =hecÚ‹xts[cx]->
»gs
.
»gs_NPC
;

11538 
cŞËùStStİ
[
cx
] = 0;

11539 
thecÚ‹xts
[
cx
]->
sim_num_š¢
 = 0;

11541 
cŞËùStB¬r›r
 = 0;

11542 
®lFÜked
 = 1;

11589 
	`checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
)

11592 
RUU_¡©iÚ
 *
rs
 = &
cu¼’t
->
LSQ
[
i
];

11593 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

11595 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
)

11599 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

11601 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
è&& (
	`STORE_ADDR_READY
 (&cu¼’t->LSQ[i])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->threadid))

11603 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

11604 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

11605 
md_addr_t
 
qwAddr1
 = 
rs
->
addr
 & ~(
nW
 - 1);

11606 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

11608 ià(
qwAddr1
 =ğ
qwAddr2
)

11610 ià(
cu¼’t
->
LSQ
[
i
].
issued
)

11616 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

11626 
	`£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
)

11628 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11629 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
, 
j
, 
¡ÜeCouÁ
 = 
m_L1WBufCÁ
[
th»adid
];

11630 
wb_mem_’t
 *
lšk
;

11632 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

11633 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

11634 
shiá_right
 = 0;

11637 
£qCÚsR•Ïy
[
cu¼’t
->
aùu®id
]++;

11639 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

11640 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

11641 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

11642 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

11644 ià(!
cu¼’t
->
RUU_num
)

11645 
	`·nic
 ("empty RUU");

11647 
RUU_šdex
 !ğ
»¶ay_šdex
)

11650 ià(!
‹mp_RUU_num
)

11651 
	`·nic
 ("empty RUU");

11654 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

11656 ià(
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& 
F_STORE
)

11658 
width
 = 
	`G‘MemAccWidth
(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

11660 ià((
width
 & (width - 1)è=ğ0 && (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & (width - 1)è=ğ0 && !cu¼’t->LSQ[LSQ_šdex].
isP»ãtch
)

11661 
¡ÜeCouÁ
++;

11663 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

11664 
‹mp_LSQ_num
--;

11666 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11667 
‹mp_RUU_num
--;

11670 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

11673 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

11675 
cu¼’t
->
iissueq_thrd
--;

11676 
iissueq
--;

11677 
iissueq_ş
[
cu¼’t
->
id
]--;

11678 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

11680 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

11682 
cu¼’t
->
fissueq_thrd
--;

11683 
fissueq
--;

11684 
fissueq_ş
[
cu¼’t
->
id
]--;

11685 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

11688 
cu¼’t
->
sim_num_š¢
--;

11689 
sim_num_š¢
--;

11690 
£qCÚsIn¢R•Ïy
[
cu¼’t
->
aùu®id
]++;

11692 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

11694 ià(!
‹mp_LSQ_num
)

11695 
	`·nic
 ("RUU‡nd LSQ out of sync");

11697 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

11699 
cu¼’t
->
iissueq_thrd
--;

11700 
iissueq
--;

11701 
iissueq_ş
[
cu¼’t
->
id
]--;

11702 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

11704 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

11706 
cu¼’t
->
fissueq_thrd
--;

11707 
fissueq
--;

11708 
fissueq_ş
[
cu¼’t
->
id
]--;

11709 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

11712 
i
 = 0; i < 
MAX_ODEPS
; i++)

11714 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

11715 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

11718 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
 || cu¼’t->LSQ[LSQ_šdex].İ =ğ
STQ_C
)

11720 
cu¼’t
->
wa™FÜSTLC
 = 0;

11722 #ifdeà
DIRECTORY


11723 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

11724 if(
m©chnum
)

11726 
m©chnum
 = matchnum-1;

11727 
RUU_¡©iÚ
 *
rs_rob
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

11728 
RUU_¡©iÚ
 *
rs_lsq
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

11730 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
rs
 =ğ
rs_rob
 || cache_dl1[th»adid]->mshr->mshrEÁry[m©chnum].r =ğ
rs_lsq
)

11731 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
ev’t
->
rs
 = 
NULL
;

11733 
RS_li¡
 *
cur
 = 
rs_ÿche_li¡
[
th»adid
][
m©chnum
];

11735 
cur
)

11737 if(
cur
->
rs
 =ğ
rs_rob
 || cur->r =ğ
rs_lsq
)

11738 
cur
->
rs
 = 
NULL
;

11739 
cur
 = cur->
Ãxt
;

11743 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

11744 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

11745 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

11746 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

11747 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

11749 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

11750 
cu¼’t
->
m_shLQNum
--;

11752 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

11754 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

11755 
cu¼’t
->
m_shSQNum
--;

11758 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

11759 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

11760 
cu¼’t
->
LSQ_num
--;

11761 
‹mp_LSQ_num
--;

11766 
i
 = 0; i < 
MAX_ODEPS
; i++)

11768 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

11769 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

11771 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

11772 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

11773 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

11774 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

11775 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11776 
cu¼’t
->
RUU_num
--;

11778 
cu¼’t
->
RUU_
 = 
»¶ay_šdex
;

11781 
lšk
 = 
cu¼’t
->
WBbËTa
;

11783 ià(
lšk
 =ğ
NULL
 || 
¡ÜeCouÁ
 == 0)

11785 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
 = 
NULL
;

11786 ià(
lšk
 !ğ
NULL
)

11788 
lšk
 !ğ
NULL
)

11790 
cu¼’t
->
numOfWBEÁry
--;

11791 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

11792 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

11793 
lšk
 =†šk->
´ev
;

11794 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

11800 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
;

11801 
¡ÜeCouÁ
--;

11802 
¡ÜeCouÁ
)

11804 
cu¼’t
->
WBbËH—d
 = cu¼’t->WBbËH—d->
´ev
;

11805 
¡ÜeCouÁ
--;

11807 
lšk
 = 
cu¼’t
->
WBbËH—d
->
´ev
;

11808 
cu¼’t
->
WBbËH—d
->
´ev
 = 
NULL
;

11810 
lšk
 !ğ
NULL
)

11812 
cu¼’t
->
numOfWBEÁry
--;

11813 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

11814 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

11815 
lšk
 =†šk->
´ev
;

11816 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

11820 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11822 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

11823 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 
sim_cyşe
;

11826 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

11827 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

11830 
md_İcode
 
İ
;

11832 
j
 = 
cu¼’t
->
ãtch_num
;

11833 
i
 = 
cu¼’t
->
ãtch_h—d
; 
j
 > 0;)

11835 
	`MD_SET_OPCODE
 (
İ
, 
cu¼’t
->
ãtch_d©a
[
i
]->
IR
);

11836 
i
 = (˜+ 1è& (
ruu_ifq_size
 - 1);

11837 
j
--;

11839 
cu¼’t
->
ãtch_num
 = 0;

11840 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

11841 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

11849 
	`fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
)

11852 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11853 
RUU_¡©iÚ
 *
rs
;

11854 
i
, 
RUU_šdex
;

11856 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

11858 
RUU_šdex
 !ğ
»¶ay_šdex
)

11860 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11863 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

11865 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
»cov”_š¡
 && !cu¼’t->RUU[RUU_šdex].
com¶‘ed
)

11867 
rs
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

11868 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

11869 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

11870 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

11873 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11877 #ifdeà
SMD_USE_WRITE_BUF


11880 
	`ruu_»Ëa£_wr™ebufãr
 ()

11882 
th»adid
, 
i
, 
út
, 
j
;

11884 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11886 
j
 = 
m_L1WBufCÁ
[
th»adid
];

11887 
út
 = 0;

11888 
i
 = 
m_L1WBuf_h—d
[
th»adid
];

11890 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11891 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11893 
út
 !ğ
j
)

11895 ià(
sim_cyşe
 >ğ
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 && m_L1WBuf[th»adid][i].
wr™eS¹ed
)

11897 if(
m_L1WBuf
[
th»adid
][
i
].
isMiss
 && 
	`MSHR_block_check
(
ÿche_dl1
[th»adid]->
mshr
, m_L1WBuf[th»adid][i].
addr
, cache_dl1[th»adid]->
£t_shiá
))

11899 if(!
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
)

11900 
	`com¶‘eStÜe
(
th»adid
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
	`G‘MemAccWidth
(m_L1WBuf[th»adid][i].
İ
), 0);

11902 
m_L1WBufCÁ
[
th»adid
]--;

11903 
m_L1WBuf_h—d
[
th»adid
] = (m_L1WBuf_h—d[th»adid] + 1è% 
SMD_L1_WBUF_SIZE
;

11904 
i
 = (˜+ 1è% 
SMD_L1_WBUF_SIZE
;

11905 
út
++;

11911 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11912 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11917 
	`ruu_wr™e_äom_Wr™ebufãr
 ()

11919 
th»adid
, 
i
, 
út
;

11920 
»s_‹m¶©e
 *
fu
;

11921 
Ït
 = 0;

11922 
cÚ‹xt
 *
cu¼’t
;

11924 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11926 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11928 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11929 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11931 
út
 = 0, 
i
 = 
m_L1WBuf_h—d
[
th»adid
]; cÁ < 
m_L1WBufCÁ
[th»adid]; cÁ++, i = (˜+ 1è% 
SMD_L1_WBUF_SIZE
)

11933 
Ït
 = 0;

11935 ià(!
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
)

11937 #ifdef 
DCACHE_MSHR


11938 
m©chnum
;

11939 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

11940 if(
m©chnum
)

11942 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

11946 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
m_L1WBuf
[
th»adid
][
i
].
İ
),hreadid);

11948 ià(
fu


11949 #ifdef 
DCACHE_MSHR


11950 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid)

11954 ià(
fu
->
ma¡”
->
busy
)

11955 
	`·nic
 ("functional unit‡lready in use");

11957 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

11958 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

11959 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

11961 ià(
ÿche_dl1
[
th»adid
])

11963 
dÿche_acûss
++;

11964 
cu¼’t
->
dÿche_acûss
++;

11966 
šv®id©eOth”Cache
 = 0;

11968 ià(
COHERENT_CACHE
 && 
®lFÜked
)

11970 if(
m_L1WBuf
[
th»adid
][
i
].
İ
 =ğ
STL_C
 && m_L1WBuf[th»adid][i].
comm™DÚe
)

11972 
Ït
 = 
ÿche_dl1_Ït
;

11976 if(
	`md_v®id_addr
 (
m_L1WBuf
[
th»adid
][
i
].
addr
, 
cu¼’t
->
ma¡”id
))

11977 #ifdeà
DIRECTORY


11978 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid);

11980 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

11984 #ifdef 
DCACHE_MSHR


11985 if(
Ït
 > 
ÿche_dl1_Ït
)

11987 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
Ït
, 0, 
NULL
);

11988 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 1;

11990 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 
sim_cyşe
;

11993 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 1;

12004 #ifdef 
EDA


12006 
	`assignFlßtRegs
 (
cÚ‹xt
 * 
cu¼’t
, 
RUU_¡©iÚ
 *
rs
, 
AÜB
, 
dœty
)

12008 
md_İcode
 
İ
;

12009 
x
;

12010 
md_š¡_t
 
š¡
;

12012 
İ
 = 
rs
->op;

12013 
š¡
 = 
rs
->
IR
;

12015 ià(
AÜB
 == 2)

12017 
İ
)

12019 
ITOFS
:

12020 
ITOFT
:

12021 
CVTTQ
:

12022 
CVTLQ
:

12023 
CPYS
:

12024 
CPYSN
:

12025 
CPYSE
:

12026 
CVTQL
:

12027 ià(
dœty
)

12028 
	`SET_FPR_Q
 (
RC
, 
rs
->
poisÚ
[2].
d©a
);

12030 
	`SET_FPR_Q
 (
RC
, 
rs
->
v®_rc
);

12033 ià(
dœty
)

12034 
	`SET_FPR
 (
RC
, 
rs
->
poisÚ
[2].
d©a
);

12036 
	`SET_FPR
 (
RC
, 
rs
->
v®_rc
);

12042 ià(
AÜB
)

12044 
x
 = 
RB
;

12048 
x
 = 
RA
;

12051 
İ
)

12053 
LDS
:

12054 
LDT
:

12055 
MF_FPCR
:

12057 
STS
:

12058 
STT
:

12059 
ITOFS
:

12060 
ITOFT
:

12061 
CMPTUN
:

12062 
CMPTEQ
:

12063 
CVTQS
:

12064 
CVTQT
:

12065 
CVTLQ
:

12066 
CVTQL
:

12067 
CPYS
:

12068 
CPYSN
:

12069 
CPYSE
:

12070 
MT_FPCR
:

12071 
FTOIT
:

12072 
FTOIS
:

12073 ià(
dœty
)

12075 ià(
AÜB
)

12076 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12078 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12082 ià(
AÜB
)

12083 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_rb
);

12085 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_¿
);

12088 
FCMOVEQ
:

12089 
FCMOVGE
:

12090 
FCMOVGT
:

12091 
FCMOVLE
:

12092 
FCMOVLT
:

12093 
FCMOVNE
:

12094 ià(
dœty
)

12096 ià(
AÜB
)

12097 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12099 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12103 ià(
AÜB
)

12104 
	`SET_FPR
 (
x
, 
rs
->
v®_rb
);

12106 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_¿
);

12110 ià(
dœty
)

12112 ià(
AÜB
)

12113 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12115 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12119 ià(
AÜB
)

12120 
	`SET_FPR
 (
x
, 
rs
->
v®_rb
);

12122 
	`SET_FPR
 (
x
, 
rs
->
v®_¿
);

12130 
	`ÿlcuÏ‹WrÚgV®ue
 (
RUU_¡©iÚ
 *
rs
)

12132 
i
, 
j
, 
k
, 
x
, 
y
, 
z
;

12133 
n_di¥©ched
;

12134 
md_š¡_t
 
š¡
;

12135 
md_İcode
 
İ
;

12136 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

12137 
md_addr_t
 
rg‘_PC
;

12138 
md_addr_t
 
addr
;

12140 
by‹_t
 
‹mp_by‹
;

12141 
h®f_t
 
‹mp_h®f
;

12142 
wÜd_t
 
‹mp_wÜd
;

12144 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12145 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12147 
md_çuÉ_ty³
 
çuÉ
;

12149 
pŞlu‹d
[66];

12151 
qwÜd_t
 
v®_¿
, 
v®_rb
, 
v®_rc
, 
v®_¿_»suÉ
;

12152 
qwÜd_t
 
»gV®
;

12153 
cÚ‹xt
 *
cu¼’t
, 
ùx
;

12154 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

12156 
ùx
 = *
thecÚ‹xts
[
rs
->
th»adid
];

12157 
cu¼’t
 = &
ùx
;

12158 
	`mem£t
 (&
cu¼’t
->
»gs
, 0,  (current->regs));

12161 
š¡
 = 
rs
->
IR
;

12162 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12163 
cu¼’t
->
»gs
.
»gs_PC
 = 
rs
->
PC
;

12164 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

12166 ià(!
rs
->
poisÚ
[0].
dœty
)

12168 ià(
rs
->
š1
 < 32)

12169 
	`SET_GPR
 (31 - 
rs
->
š1
,„s->
v®_¿
);

12171 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 0, 0);

12175 ià(
rs
->
š1
 < 32)

12176 
	`SET_GPR
 (31 - 
rs
->
š1
,„s->
poisÚ
[0].
d©a
);

12178 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 0, 1);

12180 ià(!
rs
->
poisÚ
[1].
dœty
)

12182 ià(
rs
->
š2
 < 32)

12183 
	`SET_GPR
 (31 - 
rs
->
š2
,„s->
v®_rb
);

12185 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 1, 0);

12189 ià(
rs
->
š2
 < 32)

12190 
	`SET_GPR
 (31 - 
rs
->
š2
,„s->
poisÚ
[1].
d©a
);

12192 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 1, 1);

12196 
İ
)

12198 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12199 
OP
: \

12201 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

12202 
out1
 = 
O1
; 
out2
 = 
O2
; \

12203 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

12204 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

12205 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

12206 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

12207 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

12208 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

12210 
	`SYMCAT
(
OP
,
_IMPL
); \

12212 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12213 
OP
: \

12215 
İ
 = 
MD_NOP_OP
; \

12217 
out1
 = 
NA
; 
out2
 = NA; \

12218 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

12221 
	#CONNECT
(
OP
è

	)

12227 
	#DECLARE_FAULT
(
FAULT
è\

	)

12229 ià(!
cu¼’t
->
¥ec_mode
) \

12230 
çuÉ
 = (
FAULT
); \

12234 
	#THREADID
 (
cu¼’t
->
id
)

	)

12235 
	~"machše.def
"

12238 
İ
 = 
MD_NOP_OP
;

12240 
out1
 = 
NA
;

12241 
out2
 = 
NA
;

12242 
š1
 = 
NA
;

12243 
š2
 = 
NA
;

12244 
š3
 = 
NA
;

12248 ià(
out1
 < 32)

12249 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

12251 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

12253 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

12254 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

12256 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

12258 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
 && !rs->
¥ec_mode
 && !rs->
isWrÚgP©h
)

12260 
rs
->
chªgeS³cMode
 = 0;

12261 ià(
rs
->
®tPC
 !ğrs->
Ãxt_PC
)

12263 ià((
cu¼’t
->
»gs
.
»gs_NPC
 =ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 =ğrs->
Ãxt_PC
))

12265 
rs
->
chªgeS³cMode
 = 1;

12268 ià((
cu¼’t
->
»gs
.
»gs_NPC
 =ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 !ğrs->
Ãxt_PC
))

12270 
rs
->
chªgeS³cMode
 = 2;

12276 ià((
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 =ğrs->
Ãxt_PC
))

12278 
rs
->
chªgeS³cMode
 = 3;

12279 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

12282 ià((
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 !ğrs->
Ãxt_PC
))

12284 
rs
->
chªgeS³cMode
 = 4;

12285 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

12292 ià(
rs
->
—_comp
)

12294 
rs
->
poisÚ
[2].
dœty
 = 1;

12295 
rs
->
poisÚ
[2].
d©a
 = 
addr
;

12297 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_STORE
)

12300 ià(
v®_rc
 !ğ
rs
->val_rc)

12302 
rs
->
poisÚ
[2].
dœty
 = 1;

12303 
rs
->
poisÚ
[2].
d©a
 = 
v®_rc
;

12307 
rs
->
poisÚ
[2].
dœty
 = 0;

12308 
rs
->
poisÚ
[2].
d©a
 = 0;

12310 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

12316 #ifdef 
COLLECT_STAT_STARTUP


12318 
	`f¡fwd_cŞËùSts
()

12320 
b¬r›rCouÁ
 = 0;

12321 
th»adid
;

12323 
	`´štf
("Fast-forwardingillhe collect stats system call\n");

12324 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12327 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12329 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12330 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12333 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12334 
	`·nic
 ("Fast forwardƒrror\n");

12336 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12337 
	`·nic
 ("Fast forwardƒrror\n");

12343 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12345 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12348 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12349 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12351 
md_š¡_t
 
š¡
;

12352 
md_İcode
 
İ
;

12353 
md_addr_t
 
rg‘_PC
;

12354 
md_addr_t
 
addr
;

12355 
is_wr™e
;

12356 
by‹_t
 
‹mp_by‹
;

12357 
h®f_t
 
‹mp_h®f
;

12358 
wÜd_t
 
‹mp_wÜd
;

12360 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12361 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12364 
md_çuÉ_ty³
 
çuÉ
;

12367 #iâdeà
PARALLEL_EMUL


12371 #ifdeà
PARALLEL_EMUL


12372 
sim_num_š¢
++;

12375 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12376 #ifdeà
TARGET_ALPHA


12377 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12381 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12382 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12385 
addr
 = 0;

12386 
is_wr™e
 = 
FALSE
;

12389 
çuÉ
 = 
md_çuÉ_nÚe
;

12392 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12395 
İ
)

12397 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12398 
OP
: \

12399 
	`SYMCAT
(
OP
,
_IMPL
); \

12401 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12402 
OP
: \

12403 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12404 
	#CONNECT
(
OP
)

	)

12405 #undeà
DECLARE_FAULT


12406 
	#DECLARE_FAULT
(
FAULT
è\

	)

12407 { 
çuÉ
 = (
FAULT
); ; }

12408 
	~"machše.def
"

12410 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12413 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12414 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12417 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12419 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12421 
is_wr™e
 = 
TRUE
;

12422 #iâdeà
PARALLEL_EMUL


12423 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12426 #iâdeà
PARALLEL_EMUL


12428 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12433 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12434 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12437 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12438 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12440 #iâdeà
PARALLEL_EMUL


12441 ià((
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12443 if(
cu¼’t
->
b¬r›rR—ched
 == 2)

12445 
b¬r›rCouÁ
++;

12446 
	`´štf
("Cros£dhb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12448 
cu¼’t
->
b¬r›rR—ched
 = 0;

12452 if(
cŞËù_¡©s
)

12454 
	`´štf
("Fšished fa¡-fÜw¬dšg‡ˆb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12464 
	`f¡fwd_fšeAdju¡
 ()

12466 
th»adid
;

12467 
couÁ
 = 0;

12468 
tÙ®IŒ
 = 2;

12469 
´Id
 = 0;

12470 
md_addr_t
 
‹mpPC
[3] = { 0, 0, 0 };

12472 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12475 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12477 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12478 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12481 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12482 
	`·nic
 ("Fast forwardƒrror\n");

12484 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12485 
	`·nic
 ("Fast forwardƒrror\n");

12487 if(
šk_run
)

12489 
cŞËù_¡©s
 = 1;

12494 #ifdef 
EDA


12495 
´Id
 = 0;…rId < 3;…rId++)

12498 
couÁ
 = 0;

12501 
th»adid
 = 0;th»adid < 
numcÚ‹xts
;hreadid = (threadid +‚umcontexts + 1) %‚umcontexts)

12503 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12505 ià(
cu¼’t
->
ma¡”id
 !ğ
´Id
)

12509 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12510 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12512 
couÁ”_t
 
icouÁ
 = 0;

12513 
md_š¡_t
 
š¡
;

12514 
md_İcode
 
İ
;

12515 
md_addr_t
 
rg‘_PC
;

12516 
md_addr_t
 
addr
;

12517 
is_wr™e
;

12518 
by‹_t
 
‹mp_by‹
;

12519 
h®f_t
 
‹mp_h®f
;

12520 
wÜd_t
 
‹mp_wÜd
;

12522 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12523 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12526 
md_çuÉ_ty³
 
çuÉ
;

12530 
icouÁ
++;

12532 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12533 #ifdeà
TARGET_ALPHA


12534 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12538 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12539 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12542 
addr
 = 0;

12543 
is_wr™e
 = 
FALSE
;

12546 
çuÉ
 = 
md_çuÉ_nÚe
;

12549 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12552 
İ
)

12554 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12555 
OP
: \

12556 
	`SYMCAT
(
OP
,
_IMPL
); \

12558 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12559 
OP
: \

12560 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12561 
	#CONNECT
(
OP
)

	)

12562 #undeà
DECLARE_FAULT


12563 
	#DECLARE_FAULT
(
FAULT
è\

	)

12564 { 
çuÉ
 = (
FAULT
); ; }

12565 
	~"machše.def
"

12567 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12570 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12571 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12574 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12576 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12578 
is_wr™e
 = 
TRUE
;

12579 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12582 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12586 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12587 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12590 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12591 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12593 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12596 ià(
couÁ
 =ğ0 && 
cu¼’t
->
¡¬tR—ched
)

12598 
cu¼’t
->
¡¬tR—ched
 = 0;

12600 if(
cu¼’t
->
jobThdId
 != 0)

12601 
	`·nic
 ("Can‚ot be„eached by otherhreads");

12603 
couÁ
++;

12607 if(
couÁ
 == 5)

12610 if(
couÁ
 > 0 && count < 6)

12611 
couÁ
++;

12613 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12617 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12619 if(
cu¼’t
->
b¬r›rR—ched
 =ğ2 && cu¼’t->
jobThdId
 !ğ(
THREADS_PER_JOB
-1))

12620 
	`·nic
("End of barrier„eached with wrong id");

12622 
cu¼’t
->
b¬r›rR—ched
 = 0;

12626 ià(
couÁ
 == 5)

12628 
couÁ
++;

12629 
‹mpPC
[
cu¼’t
->
ma¡”id
] = cu¼’t->
»gs
.
»gs_PC
;

12633 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12635 ià(
cu¼’t
->
jobThdId
 =ğ(
THREADS_PER_JOB
-1))

12642 
	`´štf
("Job %d synchrÚized\n", 
´Id
);

12643 
	`fæush
(
¡dout
);

	@options.c

91 
	~<¡dio.h
>

92 
	~<¡dlib.h
>

93 #iâdeà
_MSC_VER


94 
	~<uni¡d.h
>

96 
	#chdœ
 
_chdœ


	)

97 
	#g‘cwd
 
_g‘cwd


	)

99 
	~<¡ršg.h
>

100 
	~<ùy³.h
>

101 
	~<æßt.h
>

103 
	~"ho¡.h
"

104 
	~"misc.h
"

105 
	~"İtiÚs.h
"

107 #ifdeà
FIX_8_CLUSTER_BUG


108 
İt_odb_t
 *
	godb
 = 
NULL
;

112 
İt_odb_t
 *

113 
	$İt_Ãw
(
Üphª_â_t
 
Üphª_â
)

115 #iâdeà
FIX_8_CLUSTER_BUG


116 
İt_odb_t
 *
odb
 = 
NULL
;

119 
odb
 = (
İt_odb_t
 *)
	`ÿÎoc
(1, (opt_odb_t));

120 ià(!
odb
)

121 
	`çl
("out of virtual memory");

123 
odb
->
İtiÚs
 = 
NULL
;

124 
odb
->
Üphª_â
 = orphan_fn;

125 
odb
->
h—d”
 = 
NULL
;

126 
odb
->
nÙes
 = 
NULL
;

128  
odb
;

129 
	}
}

133 
	$İt_d–‘e
(
İt_odb_t
 *
odb
)

135 
İt_İt_t
 *
İt
, *
İt_Ãxt
;

136 
İt_nÙe_t
 *
nÙe
, *
nÙe_Ãxt
;

139 
İt
=
odb
->
İtiÚs
; o±; o±=
İt_Ãxt
)

141 
İt_Ãxt
 = 
İt
->
Ãxt
;

142 
İt
->
Ãxt
 = 
NULL
;

143 
	`ä“
(
İt
);

147 
nÙe
 = 
odb
->
nÙes
;‚Ù!ğ
NULL
;‚Ùğ
nÙe_Ãxt
)

149 
nÙe_Ãxt
 = 
nÙe
->
Ãxt
;

150 
nÙe
->
Ãxt
 = 
NULL
;

151 
	`ä“
(
nÙe
);

153 
odb
->
nÙes
 = 
NULL
;

155 
	`ä“
(
odb
);

156 
	}
}

160 
	$add_İtiÚ
(
İt_odb_t
 *
odb
,

161 
İt_İt_t
 *
İt
)

163 
İt_İt_t
 *
–t
, *
´ev
;

166 ià(
İt
->
Çme
[0] != '-')

167 
	`·nic
("İtiÚ `%s' mu¡ s¹ w™h‡ `-'", 
İt
->
Çme
);

170 
´ev
=
NULL
, 
–t
=
odb
->
İtiÚs
;ƒÉ !ğNULL;…»vóÉ,ƒÉóÉ->
Ãxt
)

173 ià(
–t
->
Çme
[0] =ğ
İt
->Çme[0] && !
	`¡rcmp
(elt->name, opt->name))

174 
	`·nic
("İtiÚ `%s' i muÉly defšed", 
İt
->
Çme
);

177 ià(
´ev
 !ğ
NULL
)

178 
´ev
->
Ãxt
 = 
İt
;

180 
odb
->
İtiÚs
 = 
İt
;

181 
İt
->
Ãxt
 = 
NULL
;

182 
	}
}

184 #ifdeà
FIX_8_CLUSTER_BUG


185 
İt_İt_t
 *
	gİt
 = 
NULL
;

189 
	$İt_»g_št
(
İt_odb_t
 *
odb
,

190 *
Çme
,

191 *
desc
,

192 *
v¬
,

193 
def_v®
,

194 
´št
,

195 *
fÜm©
)

197 #iâdeà
FIX_8_CLUSTER_BUG


198 
İt_İt_t
 *
İt
 = 
NULL
;

201 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

202 ià(!
İt
)

203 
	`çl
("out of virtual memory");

205 
İt
->
Çme
 =‚ame;

206 
İt
->
desc
 = desc;

207 
İt
->
nv¬s
 = 1;

208 
İt
->
ÃÉ
 = 
NULL
;

209 
İt
->
fÜm©
 = format ? format : "%12d";

210 
İt
->
oc
 = 
oc_št
;

211 
İt
->
v¬ŸÁ
.
fÜ_št
.
v¬
 = var;

212 
İt
->
´št
 =…rint;

213 
İt
->
acüue
 = 
FALSE
;

216 
İt
->
Ãxt
 = 
NULL
;

217 
	`add_İtiÚ
(
odb
, 
İt
);

220 *
v¬
 = 
def_v®
;

221 
	}
}

225 
	$İt_»g_št_li¡
(
İt_odb_t
 *
odb
,

226 *
Çme
,

227 *
desc
,

228 *
v¬s
,

229 
nv¬s
,

230 *
ÃÉ
,

231 *
def_v®
,

232 
´št
,

233 *
fÜm©
,

234 
acüue
)

236 
i
;

237 #iâdeà
FIX_8_CLUSTER_BUG


238 
İt_İt_t
 *
İt
 = 
NULL
;

241 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

242 ià(!
İt
)

243 
	`çl
("out of virtual memory");

245 
İt
->
Çme
 =‚ame;

246 
İt
->
desc
 = desc;

247 
İt
->
nv¬s
 =‚vars;

248 
İt
->
ÃÉ
 =‚elt;

249 
İt
->
fÜm©
 = format ? format : "%d";

250 
İt
->
oc
 = 
oc_št
;

251 
İt
->
v¬ŸÁ
.
fÜ_št
.
v¬
 = 
v¬s
;

252 
İt
->
´št
 =…rint;

253 
İt
->
acüue
 =‡ccrue;

256 
İt
->
Ãxt
 = 
NULL
;

257 
	`add_İtiÚ
(
odb
, 
İt
);

260 
i
=0; i < *
ÃÉ
; i++)

261 
v¬s
[
i
] = 
def_v®
[i];

262 
	}
}

266 
	$İt_»g_ušt
(
İt_odb_t
 *
odb
,

267 *
Çme
,

268 *
desc
,

269 *
v¬
,

270 
def_v®
,

271 
´št
,

272 *
fÜm©
)

274 #iâdeà
FIX_8_CLUSTER_BUG


275 
İt_İt_t
 *
İt
 = 
NULL
;

278 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

279 ià(!
İt
)

280 
	`çl
("out of virtual memory");

282 
İt
->
Çme
 =‚ame;

283 
İt
->
desc
 = desc;

284 
İt
->
nv¬s
 = 1;

285 
İt
->
ÃÉ
 = 
NULL
;

286 
İt
->
fÜm©
 = format ? format : "%12u";

287 
İt
->
oc
 = 
oc_ušt
;

288 
İt
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
 = var;

289 
İt
->
´št
 =…rint;

290 
İt
->
acüue
 = 
FALSE
;

293 
İt
->
Ãxt
 = 
NULL
;

294 
	`add_İtiÚ
(
odb
, 
İt
);

297 *
v¬
 = 
def_v®
;

298 
	}
}

302 
	$İt_»g_ušt_li¡
(
İt_odb_t
 *
odb
,

303 *
Çme
,

304 *
desc
,

305 *
v¬s
,

306 
nv¬s
,

307 *
ÃÉ
,

308 *
def_v®
,

309 
´št
,

310 *
fÜm©
,

311 
acüue
)

313 
i
;

314 #iâdeà
FIX_8_CLUSTER_BUG


315 
İt_İt_t
 *
İt
 = 
NULL
;

318 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

319 ià(!
İt
)

320 
	`çl
("out of virtual memory");

322 
İt
->
Çme
 =‚ame;

323 
İt
->
desc
 = desc;

324 
İt
->
nv¬s
 =‚vars;

325 
İt
->
ÃÉ
 =‚elt;

326 
İt
->
fÜm©
 = format ? format : "%u";

327 
İt
->
oc
 = 
oc_ušt
;

328 
İt
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
 = 
v¬s
;

329 
İt
->
´št
 =…rint;

330 
İt
->
acüue
 =‡ccrue;

333 
İt
->
Ãxt
 = 
NULL
;

334 
	`add_İtiÚ
(
odb
, 
İt
);

337 
i
=0; i < *
ÃÉ
; i++)

338 
v¬s
[
i
] = 
def_v®
[i];

339 
	}
}

343 
	$İt_»g_æßt
(
İt_odb_t
 *
odb
,

344 *
Çme
,

345 *
desc
,

346 *
v¬
,

347 
def_v®
,

348 
´št
,

349 *
fÜm©
)

351 #iâdeà
FIX_8_CLUSTER_BUG


352 
İt_İt_t
 *
İt
 = 
NULL
;

355 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

356 ià(!
İt
)

357 
	`çl
("out of virtual memory");

359 
İt
->
Çme
 =‚ame;

360 
İt
->
desc
 = desc;

361 
İt
->
nv¬s
 = 1;

362 
İt
->
ÃÉ
 = 
NULL
;

363 
İt
->
fÜm©
 = format ? format : "%12.4f";

364 
İt
->
oc
 = 
oc_æßt
;

365 
İt
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
 = var;

366 
İt
->
´št
 =…rint;

367 
İt
->
acüue
 = 
FALSE
;

370 
İt
->
Ãxt
 = 
NULL
;

371 
	`add_İtiÚ
(
odb
, 
İt
);

374 *
v¬
 = 
def_v®
;

375 
	}
}

379 
	$İt_»g_æßt_li¡
(
İt_odb_t
 *
odb
,

380 *
Çme
,

381 *
desc
,

382 *
v¬s
,

383 
nv¬s
,

384 *
ÃÉ
,

385 *
def_v®
,

386 
´št
,

387 *
fÜm©
,

388 
acüue
)

390 
i
;

391 #iâdeà
FIX_8_CLUSTER_BUG


392 
İt_İt_t
 *
İt
 = 
NULL
;

395 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

396 ià(!
İt
)

397 
	`çl
("out of virtual memory");

399 
İt
->
Çme
 =‚ame;

400 
İt
->
desc
 = desc;

401 
İt
->
nv¬s
 =‚vars;

402 
İt
->
ÃÉ
 =‚elt;

403 
İt
->
fÜm©
 = format ? format : "%.4f";

404 
İt
->
oc
 = 
oc_æßt
;

405 
İt
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
 = 
v¬s
;

406 
İt
->
´št
 =…rint;

407 
İt
->
acüue
 =‡ccrue;

410 
İt
->
Ãxt
 = 
NULL
;

411 
	`add_İtiÚ
(
odb
, 
İt
);

414 
i
=0; i < *
ÃÉ
; i++)

415 
v¬s
[
i
] = 
def_v®
[i];

416 
	}
}

420 
	$İt_»g_doubË
(
İt_odb_t
 *
odb
,

421 *
Çme
,

422 *
desc
,

423 *
v¬
,

424 
def_v®
,

425 
´št
,

426 *
fÜm©
)

428 #iâdeà
FIX_8_CLUSTER_BUG


429 
İt_İt_t
 *
İt
 = 
NULL
;

432 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

433 ià(!
İt
)

434 
	`çl
("out of virtual memory");

436 
İt
->
Çme
 =‚ame;

437 
İt
->
desc
 = desc;

438 
İt
->
nv¬s
 = 1;

439 
İt
->
ÃÉ
 = 
NULL
;

440 
İt
->
fÜm©
 = format ? format : "%12.4f";

441 
İt
->
oc
 = 
oc_doubË
;

442 
İt
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
 = var;

443 
İt
->
´št
 =…rint;

444 
İt
->
acüue
 = 
FALSE
;

447 
İt
->
Ãxt
 = 
NULL
;

448 
	`add_İtiÚ
(
odb
, 
İt
);

451 *
v¬
 = 
def_v®
;

452 
	}
}

456 
	$İt_»g_doubË_li¡
(
İt_odb_t
 *
odb
,

457 *
Çme
,

458 *
desc
,

459 *
v¬s
,

460 
nv¬s
,

461 *
ÃÉ
,

462 *
def_v®
,

463 
´št
,

464 *
fÜm©
,

465 
acüue
)

467 
i
;

468 #iâdeà
FIX_8_CLUSTER_BUG


469 
İt_İt_t
 *
İt
 = 
NULL
;

472 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

473 ià(!
İt
)

474 
	`çl
("out of virtual memory");

476 
İt
->
Çme
 =‚ame;

477 
İt
->
desc
 = desc;

478 
İt
->
nv¬s
 =‚vars;

479 
İt
->
ÃÉ
 =‚elt;

480 
İt
->
fÜm©
 = format ? format : "%.4f";

481 
İt
->
oc
 = 
oc_doubË
;

482 
İt
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
 = 
v¬s
;

483 
İt
->
´št
 =…rint;

484 
İt
->
acüue
 =‡ccrue;

487 
İt
->
Ãxt
 = 
NULL
;

488 
	`add_İtiÚ
(
odb
, 
İt
);

491 
i
=0; i < *
ÃÉ
; i++)

492 
v¬s
[
i
] = 
def_v®
[i];

493 
	}
}

497 
	$bšd_to_’um
(*
¡r
,

498 **
em­
,

499 *
ev®
,

500 
em­_sz
,

501 *
»s
)

503 
i
;

506 
i
=0; i<
em­_sz
; i++)

508 ià(!
	`¡rcmp
(
¡r
, 
em­
[
i
]))

510 ià(
ev®
)

513 *
»s
 = 
ev®
[
i
];

518 *
»s
 = 
i
;

520  
TRUE
;

525 *
»s
 = -1;

526  
FALSE
;

527 
	}
}

531 
	$bšd_to_¡r
(
v®
,

532 **
em­
,

533 *
ev®
,

534 
em­_sz
)

536 
i
;

538 ià(
ev®
)

541 
i
=0; i<
em­_sz
; i++)

543 ià(
ev®
[
i
] =ğ
v®
)

546  
em­
[
i
];

550  
NULL
;

555 ià(
v®
 >ğ
em­_sz
)

558  
NULL
;

561  
em­
[
v®
];

563 
	}
}

569 
	$İt_»g_’um
(
İt_odb_t
 *
odb
,

570 *
Çme
,

571 *
desc
,

572 *
v¬
,

573 *
def_v®
,

574 **
em­
,

575 *
ev®
,

576 
em­_sz
,

577 
´št
,

578 *
fÜm©
)

580 
’um_v®
;

581 #iâdeà
FIX_8_CLUSTER_BUG


582 
İt_İt_t
 *
İt
 = 
NULL
;

585 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

586 ià(!
İt
)

587 
	`çl
("out of virtual memory");

589 
İt
->
Çme
 =‚ame;

590 
İt
->
desc
 = desc;

591 
İt
->
nv¬s
 = 1;

592 
İt
->
ÃÉ
 = 
NULL
;

593 
İt
->
fÜm©
 = format ? format : "%12s";

594 
İt
->
oc
 = 
oc_’um
;

595 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
 = var;

596 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
 =ƒmap;

597 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
 =ƒval;

598 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
 =ƒmap_sz;

599 ià(
def_v®
)

601 ià(!
	`bšd_to_’um
(
def_v®
, 
em­
, 
ev®
, 
em­_sz
, &
’um_v®
))

602 
	`çl
("could‚Ù bšd deçuÉ v®ufÜ o±iÚ `%s'", 
Çme
);

605 
’um_v®
 = 0;

606 
İt
->
´št
 =…rint;

607 
İt
->
acüue
 = 
FALSE
;

610 
İt
->
Ãxt
 = 
NULL
;

611 
	`add_İtiÚ
(
odb
, 
İt
);

614 *
v¬
 = 
’um_v®
;

615 
	}
}

621 
	$İt_»g_’um_li¡
(
İt_odb_t
 *
odb
,

622 *
Çme
,

623 *
desc
,

624 *
v¬s
,

625 
nv¬s
,

626 *
ÃÉ
,

627 *
def_v®
,

628 **
em­
,

629 *
ev®
,

630 
em­_sz
,

631 
´št
,

632 *
fÜm©
,

633 
acüue
)

635 
i
, 
’um_v®
;

636 #iâdeà
FIX_8_CLUSTER_BUG


637 
İt_İt_t
 *
İt
 = 
NULL
;

640 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

641 ià(!
İt
)

642 
	`çl
("out of virtual memory");

644 
İt
->
Çme
 =‚ame;

645 
İt
->
desc
 = desc;

646 
İt
->
nv¬s
 =‚vars;

647 
İt
->
ÃÉ
 =‚elt;

648 
İt
->
fÜm©
 = format ? format : "%s";

649 
İt
->
oc
 = 
oc_’um
;

650 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
 = 
v¬s
;

651 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
 =ƒmap;

652 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
 =ƒval;

653 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
 =ƒmap_sz;

654 ià(
def_v®
)

656 ià(!
	`bšd_to_’um
(
def_v®
, 
em­
, 
ev®
, 
em­_sz
, &
’um_v®
))

657 
	`çl
("could‚Ù bšd deçuÉ v®ufÜ o±iÚ `%s'", 
Çme
);

660 
’um_v®
 = 0;

661 
İt
->
´št
 =…rint;

662 
İt
->
acüue
 =‡ccrue;

665 
İt
->
Ãxt
 = 
NULL
;

666 
	`add_İtiÚ
(
odb
, 
İt
);

669 
i
=0; i < *
ÃÉ
; i++)

670 
v¬s
[
i
] = 
’um_v®
;

671 
	}
}

674 
	#NUM_FLAGS
 28

	)

675 *
	gæag_em­
[
NUM_FLAGS
] = {

681 
	gæag_ev®
[
NUM_FLAGS
] = {

688 
	$İt_»g_æag
(
İt_odb_t
 *
odb
,

689 *
Çme
,

690 *
desc
,

691 *
v¬
,

692 
def_v®
,

693 
´št
,

694 *
fÜm©
)

696 #iâdeà
FIX_8_CLUSTER_BUG


697 
İt_İt_t
 *
İt
 = 
NULL
;

700 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

701 ià(!
İt
)

702 
	`çl
("out of virtual memory");

704 
İt
->
Çme
 =‚ame;

705 
İt
->
desc
 = desc;

706 
İt
->
nv¬s
 = 1;

707 
İt
->
ÃÉ
 = 
NULL
;

708 
İt
->
fÜm©
 = format ? format : "%12s";

709 
İt
->
oc
 = 
oc_æag
;

710 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
 = var;

711 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
 = 
æag_em­
;

712 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
 = 
æag_ev®
;

713 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
 = 
NUM_FLAGS
;

714 
İt
->
´št
 =…rint;

715 
İt
->
acüue
 = 
FALSE
;

718 
İt
->
Ãxt
 = 
NULL
;

719 
	`add_İtiÚ
(
odb
, 
İt
);

722 *
v¬
 = 
def_v®
;

723 
	}
}

727 
	$İt_»g_æag_li¡
(
İt_odb_t
 *
odb
,

728 *
Çme
,

729 *
desc
,

730 *
v¬s
,

731 
nv¬s
,

732 *
ÃÉ
,

733 *
def_v®
,

734 
´št
,

735 *
fÜm©
,

736 
acüue
)

738 
i
;

739 #iâdeà
FIX_8_CLUSTER_BUG


740 
İt_İt_t
 *
İt
 = 
NULL
;

743 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

744 ià(!
İt
)

745 
	`çl
("out of virtual memory");

747 
İt
->
Çme
 =‚ame;

748 
İt
->
desc
 = desc;

749 
İt
->
nv¬s
 =‚vars;

750 
İt
->
ÃÉ
 =‚elt;

751 
İt
->
fÜm©
 = format ? format : "%s";

752 
İt
->
oc
 = 
oc_æag
;

753 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
 = 
v¬s
;

754 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
 = 
æag_em­
;

755 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
 = 
æag_ev®
;

756 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
 = 
NUM_FLAGS
;

757 
İt
->
´št
 =…rint;

758 
İt
->
acüue
 =‡ccrue;

761 
İt
->
Ãxt
 = 
NULL
;

762 
	`add_İtiÚ
(
odb
, 
İt
);

765 
i
=0; i < *
ÃÉ
; i++)

766 
v¬s
[
i
] = 
def_v®
[i];

767 
	}
}

771 
	$İt_»g_¡ršg
(
İt_odb_t
 *
odb
,

772 *
Çme
,

773 *
desc
,

774 **
v¬
,

775 *
def_v®
,

776 
´št
,

777 *
fÜm©
)

779 #iâdeà
FIX_8_CLUSTER_BUG


780 
İt_İt_t
 *
İt
 = 
NULL
;

783 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

784 ià(!
İt
)

785 
	`çl
("out of virtual memory");

787 
İt
->
Çme
 =‚ame;

788 
İt
->
desc
 = desc;

789 
İt
->
nv¬s
 = 1;

790 
İt
->
ÃÉ
 = 
NULL
;

791 
İt
->
fÜm©
 = format ? format : "%12s";

792 
İt
->
oc
 = 
oc_¡ršg
;

793 
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
 = var;

794 
İt
->
´št
 =…rint;

795 
İt
->
acüue
 = 
FALSE
;

798 
İt
->
Ãxt
 = 
NULL
;

799 
	`add_İtiÚ
(
odb
, 
İt
);

802 *
v¬
 = 
def_v®
;

803 
	}
}

807 
	$İt_»g_¡ršg_li¡
(
İt_odb_t
 *
odb
,

808 *
Çme
,

809 *
desc
,

810 **
v¬s
,

811 
nv¬s
,

812 *
ÃÉ
,

813 **
def_v®
,

814 
´št
,

815 *
fÜm©
,

816 
acüue
)

818 
i
;

819 #iâdeà
FIX_8_CLUSTER_BUG


820 
İt_İt_t
 *
İt
 = 
NULL
;

823 
İt
 = (
İt_İt_t
 *)
	`ÿÎoc
(1, (opt_opt_t));

824 ià(!
İt
)

825 
	`çl
("out of virtual memory");

827 
İt
->
Çme
 =‚ame;

828 
İt
->
desc
 = desc;

829 
İt
->
nv¬s
 =‚vars;

830 
İt
->
ÃÉ
 =‚elt;

831 
İt
->
fÜm©
 = format ? format : "%s";

832 
İt
->
oc
 = 
oc_¡ršg
;

833 
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
 = 
v¬s
;

834 
İt
->
´št
 =…rint;

835 
İt
->
acüue
 =‡ccrue;

838 
İt
->
Ãxt
 = 
NULL
;

839 
	`add_İtiÚ
(
odb
, 
İt
);

842 
i
=0; i < *
ÃÉ
; i++)

843 
v¬s
[
i
] = 
def_v®
[i];

844 
	}
}

848 
	$´oûss_İtiÚ
(
İt_odb_t
 *
odb
,

849 
šdex
,

850 
¬gc
,

851 **
¬gv
)

853 
út
, 
’t
, 
nv¬s
;

854 *
’dp
;

855 
tmp
;

856 #iâdeà
FIX_8_CLUSTER_BUG


857 
İt_İt_t
 *
İt
;

861 
İt
=
odb
->
İtiÚs
; o± !ğ
NULL
; o±=İt->
Ãxt
)

863 ià(!
	`¡rcmp
(
İt
->
Çme
, 
¬gv
[
šdex
]))

866 ià(!
İt
)

869 
	`çl
("İtiÚ `%s' i undefšed", 
¬gv
[
šdex
]);

871 
šdex
++;

874 
İt
->
oc
)

876 
oc_št
:

878 ià(
šdex
 >ğ
¬gc


879 || (
¬gv
[
šdex
][0] =ğ'-' && !
	`isdig™
(()argv[index][1])))

882 
	`çl
("İtiÚ `%s'„equœe ª‡rgum’t", 
İt
->
Çme
);

884 
út
 = 0;

885 ià(
İt
->
acüue
)

887 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

888 
nv¬s
 = 1;

889 ià(
’t
 >ğ
İt
->
nv¬s
)

890 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

894 
’t
 = 0;

895 ià(
İt
->
ÃÉ
)

896 *
İt
->
ÃÉ
 = 0;

897 
nv¬s
 = 
İt
->nvars;

900 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 &&

901 (
¬gv
[
šdex
][0] !ğ'-' || 
	`isdig™
(()argv[index][1])))

903 
İt
->
v¬ŸÁ
.
fÜ_št
.
v¬
[
’t
] = 
	`¡¹Ş
(
¬gv
[
šdex
], &
’dp
, 0);

904 ià(*
’dp
)

907 
	`çl
("could‚ot…arse‡rgument `%s' of option `%s'",

908 
¬gv
[
šdex
], 
İt
->
Çme
);

911 ià(
İt
->
ÃÉ
)

912 (*
İt
->
ÃÉ
)++;

913 
út
++; 
šdex
++; 
’t
++;

916 
oc_ušt
:

918 ià(
šdex
 >ğ
¬gc
 || 
¬gv
[index][0] == '-')

921 
	`çl
("İtiÚ `%s'„equœe ª‡rgum’t", 
İt
->
Çme
);

923 
út
 = 0;

924 ià(
İt
->
acüue
)

926 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

927 
nv¬s
 = 1;

928 ià(
’t
 >ğ
İt
->
nv¬s
)

929 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

933 
’t
 = 0;

934 ià(
İt
->
ÃÉ
)

935 *
İt
->
ÃÉ
 = 0;

936 
nv¬s
 = 
İt
->nvars;

939 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 && 
¬gv
[index][0] != '-')

941 
İt
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
[
’t
] = 
	`¡¹oul
(
¬gv
[
šdex
], &
’dp
, 0);

942 ià(*
’dp
)

945 
	`çl
("could‚ot…arse‡rgument `%s' of option `%s'",

946 
¬gv
[
šdex
], 
İt
->
Çme
);

949 ià(
İt
->
ÃÉ
)

950 (*
İt
->
ÃÉ
)++;

951 
út
++; 
šdex
++; 
’t
++;

954 
oc_æßt
:

956 ià(
šdex
 >ğ
¬gc


957 || (
¬gv
[
šdex
][0] =ğ'-' && !
	`isdig™
(()argv[index][1])))

960 
	`çl
("İtiÚ `%s'„equœe ª‡rgum’t", 
İt
->
Çme
);

962 
út
 = 0;

963 ià(
İt
->
acüue
)

965 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

966 
nv¬s
 = 1;

967 ià(
’t
 >ğ
İt
->
nv¬s
)

968 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

972 
’t
 = 0;

973 ià(
İt
->
ÃÉ
)

974 *
İt
->
ÃÉ
 = 0;

975 
nv¬s
 = 
İt
->nvars;

978 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 &&

979 (
¬gv
[
šdex
][0] !ğ'-' || 
	`isdig™
(()argv[index][1])))

981 
tmp
 = 
	`¡¹od
(
¬gv
[
šdex
], &
’dp
);

982 ià(*
’dp
)

985 
	`çl
("could‚ot…arse‡rgument `%s' of option `%s'",

986 
¬gv
[
šdex
], 
İt
->
Çme
);

988 ià(
tmp
 < 
FLT_MIN
 ||m°> 
FLT_MAX
)

991 
	`çl
("FP over/underflow for‡rgument `%s' of option `%s'",

992 
¬gv
[
šdex
], 
İt
->
Çme
);

995 
İt
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
[
’t
] = ()
tmp
;

996 ià(
İt
->
ÃÉ
)

997 (*
İt
->
ÃÉ
)++;

998 
út
++; 
šdex
++; 
’t
++;

1001 
oc_doubË
:

1003 ià(
šdex
 >ğ
¬gc


1004 || (
¬gv
[
šdex
][0] =ğ'-' && !
	`isdig™
(()argv[index][1])))

1007 
	`çl
("İtiÚ `%s'„equœe ª‡rgum’t", 
İt
->
Çme
);

1009 
út
 = 0;

1010 ià(
İt
->
acüue
)

1012 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

1013 
nv¬s
 = 1;

1014 ià(
’t
 >ğ
İt
->
nv¬s
)

1015 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

1019 
’t
 = 0;

1020 ià(
İt
->
ÃÉ
)

1021 *
İt
->
ÃÉ
 = 0;

1022 
nv¬s
 = 
İt
->nvars;

1025 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 &&

1026 (
¬gv
[
šdex
][0] !ğ'-' || 
	`isdig™
(()argv[index][1])))

1028 
İt
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
[
’t
] = 
	`¡¹od
(
¬gv
[
šdex
], &
’dp
);

1029 ià(*
’dp
)

1032 
	`çl
("could‚ot…arse‡rgument `%s' of option `%s'",

1033 
¬gv
[
šdex
], 
İt
->
Çme
);

1036 ià(
İt
->
ÃÉ
)

1037 (*
İt
->
ÃÉ
)++;

1038 
út
++; 
šdex
++; 
’t
++;

1041 
oc_’um
:

1043 ià(
šdex
 >ğ
¬gc
 || 
¬gv
[index][0] == '-')

1046 
	`çl
("İtiÚ `%s'„equœe ª‡rgum’t", 
İt
->
Çme
);

1048 
út
 = 0;

1049 ià(
İt
->
acüue
)

1051 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

1052 
nv¬s
 = 1;

1053 ià(
’t
 >ğ
İt
->
nv¬s
)

1054 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

1058 
’t
 = 0;

1059 ià(
İt
->
ÃÉ
)

1060 *
İt
->
ÃÉ
 = 0;

1061 
nv¬s
 = 
İt
->nvars;

1064 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 && 
¬gv
[index][0] != '-')

1066 ià(!
	`bšd_to_’um
(
¬gv
[
šdex
],

1067 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
,

1068 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
,

1069 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
,

1070 &
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
’t
]))

1073 
	`çl
("could‚ot…arse‡rgument `%s' of option `%s'",

1074 
¬gv
[
šdex
], 
İt
->
Çme
);

1077 ià(
İt
->
ÃÉ
)

1078 (*
İt
->
ÃÉ
)++;

1079 
út
++; 
šdex
++; 
’t
++;

1082 
oc_æag
:

1084 ià(
šdex
 >ğ
¬gc
 || 
¬gv
[index][0] == '-')

1087 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[0] = 
TRUE
;

1091 
út
 = 0;

1092 ià(
İt
->
acüue
)

1094 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

1095 
nv¬s
 = 1;

1096 ià(
’t
 >ğ
İt
->
nv¬s
)

1097 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

1101 
’t
 = 0;

1102 ià(
İt
->
ÃÉ
)

1103 *
İt
->
ÃÉ
 = 0;

1104 
nv¬s
 = 
İt
->nvars;

1106 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 && 
¬gv
[index][0] != '-')

1108 ià(!
	`bšd_to_’um
(
¬gv
[
šdex
],

1109 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
,

1110 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
,

1111 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
,

1112 &
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
’t
]))

1115 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
’t
] = 
TRUE
;

1121 ià(
İt
->
ÃÉ
)

1122 (*
İt
->
ÃÉ
)++;

1123 
út
++; 
šdex
++; 
’t
++;

1127 
oc_¡ršg
:

1129 ià(
šdex
 >ğ
¬gc
 || 
¬gv
[index][0] == '-')

1132 
	`çl
("İtiÚ `%s'„equœe ª‡rgum’t", 
İt
->
Çme
);

1134 
út
 = 0;

1135 ià(
İt
->
acüue
)

1137 
’t
 = 
İt
->
ÃÉ
 ? *opt->nelt : 0;

1138 
nv¬s
 = 1;

1139 ià(
’t
 >ğ
İt
->
nv¬s
)

1140 
	`çl
("toØmªy invoÿtiÚ oàİtiÚ `%s'", 
İt
->
Çme
);

1144 
’t
 = 0;

1145 ià(
İt
->
ÃÉ
)

1146 *
İt
->
ÃÉ
 = 0;

1147 
nv¬s
 = 
İt
->nvars;

1150 
šdex
 < 
¬gc
 && 
út
 < 
nv¬s
 && 
¬gv
[index][0] != '-')

1152 
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
[
’t
] = 
¬gv
[
šdex
];

1153 ià(
İt
->
ÃÉ
)

1154 (*
İt
->
ÃÉ
)++;

1155 
út
++; 
šdex
++; 
’t
++;

1159 
	`·nic
("bogus option class");

1162  
šdex
;

1163 
	}
}

1166 
´oûss_fe
(
İt_odb_t
 *
odb
, *
âame
, 
d•th
);

1167 
dump_cÚfig
(
İt_odb_t
 *
odb
, *
âame
);

1171 
	$__İt_´oûss_İtiÚs
(
İt_odb_t
 *
odb
,

1172 
¬gc
,

1173 **
¬gv
,

1174 
d•th
)

1176 
šdex
, 
do_dumpcÚfig
;

1177 *
dumpcÚfig_Çme
;

1179 
šdex
 = 0;

1180 
do_dumpcÚfig
 = 
FALSE
;

1181 
dumpcÚfig_Çme
 = 
NULL
;

1183 
šdex
 < 
¬gc
)

1186 
šdex
 < 
¬gc
 && 
¬gv
[index][0] != '-')

1188 ià(
d•th
 > 0)

1191 
	`çl
("orphan `%s'ƒncountered during config file…rocessing",

1192 
¬gv
[
šdex
]);

1195 ià(
odb
->
Üphª_â
)

1197 ià(!
odb
->
	`Üphª_â
(
šdex
+1, 
¬gc
, 
¬gv
))

1200 
dÚe_´oûssšg
;

1206 
	`çl
("Üphª‡rgum’ˆ`%s' wa unşaimed", 
¬gv
[
šdex
]);

1212 ià(
šdex
 =ğ
¬gc
)

1215 
dÚe_´oûssšg
;

1220 ià(!
	`¡rcmp
(
¬gv
[
šdex
], "-config"))

1223 
šdex
++;

1224 ià(
šdex
 >ğ
¬gc
 || 
¬gv
[index][0] == '-')

1227 
	`çl
("option `-config'„equires‡n‡rgument");

1229 
	`´oûss_fe
(
odb
, 
¬gv
[
šdex
], 
d•th
);

1230 
šdex
++;

1232 ià(!
	`¡rcmp
(
¬gv
[
šdex
], "-dumpconfig"))

1235 
do_dumpcÚfig
 = 
TRUE
;

1237 
šdex
++;

1238 ià(
šdex
 >ğ
¬gc


1239 || (
¬gv
[
šdex
][0] == '-' &&‡rgv[index][1] != '\0'))

1242 
	`çl
("option `-dumpconfig'„equires‡n‡rgument");

1244 
dumpcÚfig_Çme
 = 
¬gv
[
šdex
];

1245 
šdex
++;

1250 
šdex
 = 
	`´oûss_İtiÚ
(
odb
, index, 
¬gc
, 
¬gv
);

1253 
dÚe_´oûssšg
:

1255 ià(
do_dumpcÚfig
)

1256 
	`dump_cÚfig
(
odb
, 
dumpcÚfig_Çme
);

1257 
	}
}

1261 
	$İt_´oûss_İtiÚs
(
İt_odb_t
 *
odb
,

1262 
¬gc
,

1263 **
¬gv
)

1266 ià(
¬gc
 < 2)

1270 
	`__İt_´oûss_İtiÚs
(
odb
, 
¬gc
-1, 
¬gv
+1, 0);

1271 
	}
}

1274 
	#MAX_LINE_ARGS
 256

	)

1275 
	#MAX_FILENAME_LEN
 1024

	)

1277 
	$´oûss_fe
(
İt_odb_t
 *
odb
, *
âame
, 
d•th
)

1279 
Ïrgc
;

1280 *
Ïrgv
[
MAX_LINE_ARGS
];

1281 
lše
[1024], *
p
, *
q
;

1282 
cwd
[
MAX_FILENAME_LEN
];

1283 *
h—d”
;

1284 
FILE
 *
fd
;

1286 
fd
 = 
	`fİ’
(
âame
, "r");

1287 ià(!
fd
)

1288 
	`çl
("could‚Ù o³ÀcÚfigu¿tiÚ f`%s'", 
âame
);

1290 ià(!
	`g‘cwd
(
cwd
, 
MAX_FILENAME_LEN
))

1291 
	`çl
("can't get cwd");

1293 
h—d”
 = 
	`¡¼chr
(
âame
, '/');

1294 ià(
h—d”
 !ğ
NULL
)

1297 *
h—d”
 = '\0';

1298 ià(
	`chdœ
(
âame
) == -1)

1299 
	`çl
("ÿn'ˆchdœØ%s\n", 
âame
);

1300 *
h—d”
 = '/';

1303 !
	`ãof
(
fd
))

1306 
	`årštf
(
¡d”r
, "!feof(fd): %d, strlen(line): %d,†ine: %s\n",

1307 !
	`ãof
(
fd
), 
	`¡¾’
(
lše
),†ine);

1310 
lše
[0] = '\n';

1312 
	`fg‘s
(
lše
, 1024, 
fd
);

1313 ià(
lše
[0] == '\0' ||†ine[0] == '\n')

1315 ià(
lše
[
	`¡¾’
(line)-1] == '\n')

1316 
lše
[
	`¡¾’
(line)-1] = '\0';

1319 
Ïrgc
 = 0; 
p
 = 
lše
;

1320 *
p
)

1323 *
p
 != '\0' && (*p == ' ' || *p == '\t'))

1324 
p
++;

1327 ià(*
p
 == '\0' || *p == '#')

1331 
q
 = 
p
;

1332 *
q
 != '\0' && *q != ' ' && *q != '\t')

1333 
q
++;

1334 ià(*
q
)

1336 *
q
 = '\0';

1337 
q
++;

1341 
Ïrgv
[
Ïrgc
++] = 
	`my¡rdup
(
p
);

1343 ià(
Ïrgc
 =ğ
MAX_LINE_ARGS
)

1345 ià(
	`chdœ
(
cwd
) == -1)

1346 
	`çl
("ÿn'ˆchdœ backØ%s\n", 
cwd
);

1347 
	`çl
("İtiÚ†štoØcom¶ex iÀf`%s'", 
âame
);

1351 
p
 = 
q
;

1355 ià(
Ïrgc
 > 0)

1356 
	`__İt_´oûss_İtiÚs
(
odb
, 
Ïrgc
, 
Ïrgv
, 
d•th
+1);

1360 
	`fşo£
(
fd
);

1362 ià(
	`chdœ
(
cwd
) == -1)

1363 
	`çl
("ÿn'ˆchdœ backØ%s\n", 
cwd
);

1364 
	}
}

1368 
	$İt_´št_İtiÚ
(
İt_İt_t
 *
İt
,

1369 
FILE
 *
fd
)

1371 
i
, 
ÃÉ
;

1373 
İt
->
oc
)

1375 
oc_št
:

1376 ià(
İt
->
ÃÉ
)

1377 
ÃÉ
 = *(
İt
->nelt);

1379 
ÃÉ
 = 1;

1380 
i
=0; i<
ÃÉ
; i++)

1382 
	`årštf
(
fd
, 
İt
->
fÜm©
, o±->
v¬ŸÁ
.
fÜ_št
.
v¬
[
i
]);

1383 
	`årštf
(
fd
, " ");

1386 
oc_ušt
:

1387 ià(
İt
->
ÃÉ
)

1388 
ÃÉ
 = *(
İt
->nelt);

1390 
ÃÉ
 = 1;

1391 
i
=0; i<
ÃÉ
; i++)

1393 
	`årštf
(
fd
, 
İt
->
fÜm©
, o±->
v¬ŸÁ
.
fÜ_ušt
.
v¬
[
i
]);

1394 
	`årštf
(
fd
, " ");

1397 
oc_æßt
:

1398 ià(
İt
->
ÃÉ
)

1399 
ÃÉ
 = *(
İt
->nelt);

1401 
ÃÉ
 = 1;

1402 
i
=0; i<
ÃÉ
; i++)

1404 
	`årštf
(
fd
, 
İt
->
fÜm©
, ()İt->
v¬ŸÁ
.
fÜ_æßt
.
v¬
[
i
]);

1405 
	`årštf
(
fd
, " ");

1408 
oc_doubË
:

1409 ià(
İt
->
ÃÉ
)

1410 
ÃÉ
 = *(
İt
->nelt);

1412 
ÃÉ
 = 1;

1413 
i
=0; i<
ÃÉ
; i++)

1415 
	`årštf
(
fd
, 
İt
->
fÜm©
, o±->
v¬ŸÁ
.
fÜ_doubË
.
v¬
[
i
]);

1416 
	`årštf
(
fd
, " ");

1419 
oc_’um
:

1420 ià(
İt
->
ÃÉ
)

1421 
ÃÉ
 = *(
İt
->nelt);

1423 
ÃÉ
 = 1;

1424 
i
=0; i<
ÃÉ
; i++)

1426 *
e¡r
 = 
	`bšd_to_¡r
(
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
i
],

1427 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
,

1428 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
,

1429 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
);

1430 ià(!
e¡r
)

1431 
	`·nic
("could‚ot bindƒnum `%d' for option `%s'",

1432 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
i
], o±->
Çme
);

1434 
	`årštf
(
fd
, 
İt
->
fÜm©
, 
e¡r
);

1435 
	`årštf
(
fd
, " ");

1438 
oc_æag
:

1439 ià(
İt
->
ÃÉ
)

1440 
ÃÉ
 = *(
İt
->nelt);

1442 
ÃÉ
 = 1;

1443 
i
=0; i<
ÃÉ
; i++)

1445 *
e¡r
 = 
	`bšd_to_¡r
(
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
i
],

1446 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­
,

1447 
İt
->
v¬ŸÁ
.
fÜ_’um
.
ev®
,

1448 
İt
->
v¬ŸÁ
.
fÜ_’um
.
em­_sz
);

1449 ià(!
e¡r
)

1450 
	`·nic
("could‚ot bind boolean `%d' for option `%s'",

1451 
İt
->
v¬ŸÁ
.
fÜ_’um
.
v¬
[
i
], o±->
Çme
);

1453 
	`årštf
(
fd
, 
İt
->
fÜm©
, 
e¡r
);

1454 
	`årštf
(
fd
, " ");

1457 
oc_¡ršg
:

1458 ià(!
İt
->
nv¬s
)

1460 
	`årštf
(
fd
, "%12s ", "<null>");

1463 ià(
İt
->
ÃÉ
)

1464 
ÃÉ
 = *(
İt
->nelt);

1466 
ÃÉ
 = 1;

1467 ià(
ÃÉ
 == 0)

1469 
	`årštf
(
fd
, "%12s ", "<null>");

1474 
i
=0; i<
ÃÉ
; i++)

1476 
	`årštf
(
fd
, 
İt
->
fÜm©
,

1477 (
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
[
i
]

1478 ? 
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
[
i
]

1480 
	`årštf
(
fd
, " ");

1485 
	`·nic
("bogus option class");

1487 
	}
}

1491 
	$´št_İtiÚ_h—d”
(
İt_odb_t
 *
odb
,

1492 
FILE
 *
fd
)

1494 ià(!
odb
->
h—d”
)

1497 
	`årštf
(
fd
, "\n%s\n", 
odb
->
h—d”
);

1498 
	}
}

1502 
	$´št_İtiÚ_nÙes
(
İt_odb_t
 *
odb
,

1503 
FILE
 *
fd
)

1505 
İt_nÙe_t
 *
nÙe
;

1507 ià(!
odb
->
nÙes
)

1510 
	`årštf
(
fd
, "\n");

1511 
nÙe
=
odb
->
nÙes
;‚Ù!ğ
NULL
;‚ÙeòÙe->
Ãxt
)

1512 
	`årštf
(
fd
, "%s\n", 
nÙe
->note);

1513 
	`årštf
(
fd
, "\n");

1514 
	}
}

1517 
İt_İt_t
 
	gdumpcÚfig_İt
 =

1518 { 
NULL
, "-dumpconfig", "dump configurationo‡ file",

1519 0, 
NULL
, NULL, 
FALSE
, FALSE, 
oc_¡ršg
 };

1520 
İt_İt_t
 
	gcÚfig_İt
 =

1521 { &
dumpcÚfig_İt
, "-config", "load configuration from‡ file",

1522 0, 
NULL
, NULL, 
FALSE
, FALSE, 
oc_¡ršg
 };

1523 
İt_İt_t
 *
	gbutš_İtiÚs
 = &
cÚfig_İt
;

1527 
	$İt_nuÎ_¡ršg
(
İt_İt_t
 *
İt
)

1529  (
İt
 !ğ
NULL


1530 && 
İt
->
oc
 =ğ
oc_¡ršg


1531 && (
İt
->
nv¬s
 == 0

1532 || (
İt
->
ÃÉ
 !ğ
NULL
 && *opt->nelt == 0)

1533 || (
İt
->
ÃÉ
 =ğ
NULL


1534 && (
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
 =ğ
NULL


1535 || 
İt
->
v¬ŸÁ
.
fÜ_¡ršg
.
v¬
[0] =ğ
NULL
))));

1536 
	}
}

1540 
	$İt_´št_İtiÚs
(
İt_odb_t
 *
odb
,

1541 
FILE
 *
fd
,

1542 
‹r£
,

1543 
nÙes
)

1545 
İt_İt_t
 *
İt
;

1547 ià(!
odb
)

1554 ià(
nÙes
)

1555 
	`´št_İtiÚ_h—d”
(
odb
, 
fd
);

1556 
	`fæush
 (
¡d”r
);

1559 
İt
=
butš_İtiÚs
; o± !ğ
NULL
; o±=İt->
Ãxt
)

1561 ià(
‹r£
)

1562 
	`årštf
(
fd
, "%-27 # %s\n", 
İt
->
Çme
, o±->
desc
);

1565 
	`årštf
(
fd
, "# %s\n", 
İt
->
desc
);

1566 
	`årštf
(
fd
, "%-22s\n\n", 
İt
->
Çme
);

1569 
	`fæush
 (
¡d”r
);

1572 
İt
=
odb
->
İtiÚs
; o± !ğ
NULL
; o±=İt->
Ãxt
)

1574 ià(
‹r£
)

1576 ià(!
İt
->
´št
 || 
	`İt_nuÎ_¡ršg
(opt))

1577 
	`årštf
(
fd
, "%-14 ", 
İt
->
Çme
);

1579 
	`årštf
(
fd
, "%-16 ", 
İt
->
Çme
);

1580 
	`İt_´št_İtiÚ
(
İt
, 
fd
);

1581 ià(
İt
->
desc
)

1582 
	`årštf
(
fd
, "# %-22s", 
İt
->
desc
);

1583 
	`årštf
(
fd
, "\n");

1587 ià(
İt
->
desc
)

1588 
	`årštf
(
fd
, "# %s\n", 
İt
->
desc
);

1589 ià(!
İt
->
´št
 || 
	`İt_nuÎ_¡ršg
(opt))

1590 
	`årštf
(
fd
, "%-20 ", 
İt
->
Çme
);

1592 
	`årštf
(
fd
, "%-22 ", 
İt
->
Çme
);

1593 
	`İt_´št_İtiÚ
(
İt
, 
fd
);

1594 
	`årštf
(
fd
, "\n\n");

1597 
	`fæush
 (
¡d”r
);

1600 ià(
nÙes
)

1601 
	`´št_İtiÚ_nÙes
(
odb
, 
fd
);

1602 
	`fæush
 (
¡d”r
);

1603 
	}
}

1607 
	$´št_h–p
(
İt_İt_t
 *
İt
,

1608 
FILE
 *
fd
)

1610 *
s
 = 
NULL
;

1612 
	`årštf
(
fd
, "%-16 ", 
İt
->
Çme
);

1613 
İt
->
oc
)

1615 
oc_št
:

1616 ià(
İt
->
nv¬s
 == 1)

1617 
s
 = "<int>";

1619 
s
 = "<int†ist...>";

1621 
oc_ušt
:

1622 ià(
İt
->
nv¬s
 == 1)

1623 
s
 = "<uint>";

1625 
s
 = "<uint†ist...>";

1627 
oc_æßt
:

1628 ià(
İt
->
nv¬s
 == 1)

1629 
s
 = "<float>";

1631 
s
 = "<float†ist...>";

1633 
oc_doubË
:

1634 ià(
İt
->
nv¬s
 == 1)

1635 
s
 = "<double>";

1637 
s
 = "<double†ist...>";

1639 
oc_’um
:

1640 ià(
İt
->
nv¬s
 == 1)

1641 
s
 = "<enum>";

1643 
s
 = "<enum†ist...>";

1645 
oc_æag
:

1646 ià(
İt
->
nv¬s
 == 1)

1647 
s
 = "<true|false>";

1649 
s
 = "<true|false†ist...>";

1651 
oc_¡ršg
:

1652 ià(
İt
->
nv¬s
 == 0 || opt->nvars == 1)

1653 
s
 = "<string>";

1655 
s
 = "<string†ist...>";

1658 
	`·nic
("bogus option class");

1660 
	`årštf
(
fd
, "%-16 # ", 
s
);

1661 
	`İt_´št_İtiÚ
(
İt
, 
fd
);

1662 
	`årštf
(
fd
, "# %-22s\n", 
İt
->
desc
);

1663 
	}
}

1667 
	$İt_´št_h–p
(
İt_odb_t
 *
odb
,

1668 
FILE
 *
fd
)

1670 
İt_İt_t
 *
İt
;

1673 
	`´št_İtiÚ_h—d”
(
odb
, 
fd
);

1675 
	`årštf
(
fd
, "#\n");

1676 
	`årštf
(
fd
, "%-16s %-16s # %12s # %-22s\n",

1678 
	`årštf
(
fd
, "#\n");

1681 
İt
=
butš_İtiÚs
; o± !ğ
NULL
; o±=İt->
Ãxt
)

1682 
	`´št_h–p
(
İt
, 
fd
);

1685 
İt
=
odb
->
İtiÚs
; o± !ğ
NULL
; o±=İt->
Ãxt
)

1686 
	`´št_h–p
(
İt
, 
fd
);

1689 
	`´št_İtiÚ_nÙes
(
odb
, 
fd
);

1690 
	}
}

1694 
	$dump_cÚfig
(
İt_odb_t
 *
odb
,

1695 *
âame
)

1697 
FILE
 *
fd
;

1700 ià(!
	`¡rcmp
(
âame
, "-"))

1701 
fd
 = 
¡d”r
;

1704 
fd
 = 
	`fİ’
(
âame
, "w");

1705 ià(!
fd
)

1706 
	`çl
("could‚Ù o³Àf`%s'", 
âame
);

1710 
	`İt_´št_İtiÚs
(
odb
, 
fd
, 
FALSE
, FALSE);

1713 ià(
fd
 !ğ
¡dout
 && fd !ğ
¡d”r
)

1714 
	`fşo£
(
fd
);

1715 
	}
}

1718 
İt_İt_t
 *

1719 
	$İt_fšd_İtiÚ
(
İt_odb_t
 *
odb
,

1720 *
İt_Çme
)

1722 
İt_İt_t
 *
İt
;

1725 
İt
 = 
butš_İtiÚs
; o± !ğ
NULL
; o± = o±->
Ãxt
)

1727 ià(!
	`¡rcmp
(
İt
->
Çme
, 
İt_Çme
))

1730  
İt
;

1735 
İt
 = 
odb
->
İtiÚs
; o± !ğ
NULL
; o± = o±->
Ãxt
)

1737 ià(!
	`¡rcmp
(
İt
->
Çme
, 
İt_Çme
))

1740  
İt
;

1744  
NULL
;

1745 
	}
}

1749 
	$İt_»g_h—d”
(
İt_odb_t
 *
odb
,

1750 *
h—d”
)

1752 
odb
->
h—d”
 = header;

1753 
	}
}

1757 
	$İt_»g_nÙe
(
İt_odb_t
 *
odb
,

1758 *
nÙe_¡r
)

1760 
İt_nÙe_t
 *
nÙe
 = 
NULL
, *
–t
, *
´ev
;

1762 
nÙe
 = (
İt_nÙe_t
 *)
	`ÿÎoc
(1, (opt_note_t));

1763 ià(!
nÙe
)

1764 
	`çl
("out of virtual memory");

1767 
nÙe
->
Ãxt
 = 
NULL
;

1768 
nÙe
->nÙğ
nÙe_¡r
;

1771 
´ev
=
NULL
, 
–t
=
odb
->
nÙes
;ƒÉ !ğNULL;…»vóÉ,ƒÉóÉ->
Ãxt
)

1774 ià(
´ev
 !ğ
NULL
)

1775 
´ev
->
Ãxt
 = 
nÙe
;

1777 
odb
->
nÙes
 = 
nÙe
;

1778 
nÙe
->
Ãxt
 = 
NULL
;

1779 
	}
}

1782 #ifdeà
TEST


1785 
	$f_Üphª_â
(
i
, 
¬gc
, **
¬gv
)

1787 
	`årštf
(
¡dout
, "Üphª d‘eùed‡ˆšdex %d,‡rg = `%s'...\n", 
i
, 
¬gv
[i]);

1790  
FALSE
;

1791 
	}
}

1793 
	#MAX_VARS
 4

	)

1795 
	$maš
(
¬gc
, **
¬gv
)

1797 
İt_odb_t
 *
odb
;

1799 
n_št_v¬s
, 
n_ušt_v¬s
, 
n_æßt_v¬s
, 
n_doubË_v¬s
;

1800 
n_’um_v¬s
, 
n_’um_ev®_v¬s
, 
n_æag_v¬s
, 
n_¡ršg_v¬s
;

1801 
št_v¬
, 
št_v¬s
[
MAX_VARS
];

1802 
ušt_v¬
, 
ušt_v¬s
[
MAX_VARS
];

1803 
æßt_v¬
, 
æßt_v¬s
[
MAX_VARS
];

1804 
doubË_v¬
, 
doubË_v¬s
[
MAX_VARS
];

1805 
æag_v¬
, 
æag_v¬s
[
MAX_VARS
];

1806 *
¡ršg_v¬
, *
¡ršg_v¬s
[
MAX_VARS
];

1808 
	e‘e¡_t
 { 
’um_a
, 
’um_b
, 
’um_c
, 
’um_d
, 
’um_NUM
 };

1809 *
’um_em­
[
’um_NUM
] =

1811 
’um_ev®
[
’um_NUM
] =

1812 { 
’um_d
, 
’um_c
, 
’um_b
, 
’um_a
 };

1813 
’um_v¬
, 
’um_v¬s
[
MAX_VARS
];

1814 
’um_ev®_v¬
, 
’um_ev®_v¬s
[
MAX_VARS
];

1817 
odb
 = 
	`İt_Ãw
(
f_Üphª_â
);

1820 
	`İt_»g_št
(
odb
, "-opt:int", "This is‡n integer option.",

1821 &
št_v¬
, 1, 
TRUE
, 
NULL
);

1822 
	`İt_»g_št_li¡
(
odb
, "-opt:int:list", "This is‡n integer†ist option.",

1823 
št_v¬s
, 
MAX_VARS
, &
n_št_v¬s
, 2,

1824  
TRUE
, 
NULL
);

1825 
	`İt_»g_ušt
(
odb
, "-opt:uint", "This is‡n unsigned integer option.",

1826 &
ušt_v¬
, 3, 
TRUE
, 
NULL
);

1827 
	`İt_»g_ušt_li¡
(
odb
, "-opt:uint:list",

1829 
ušt_v¬s
, 
MAX_VARS
, &
n_ušt_v¬s
, 4,

1830  
TRUE
, 
NULL
);

1831 
	`İt_»g_æßt
(
odb
, "-opt:float", "This is‡ float option.",

1832 &
æßt_v¬
, 5.0, 
TRUE
, 
NULL
);

1833 
	`İt_»g_æßt_li¡
(
odb
, "-opt:float:list", "This is‡ float†ist option.",

1834 
æßt_v¬s
, 
MAX_VARS
, &
n_æßt_v¬s
, 6.0,

1835  
TRUE
, 
NULL
);

1836 
	`İt_»g_doubË
(
odb
, "-opt:double", "This is‡ double option.",

1837 &
doubË_v¬
, 7.0, 
TRUE
, 
NULL
);

1838 
	`İt_»g_doubË_li¡
(
odb
, "-opt:double:list", "This is‡ double†ist option.",

1839 
doubË_v¬s
, 
MAX_VARS
, &
n_doubË_v¬s
, 8.0,

1840  
TRUE
, 
NULL
);

1841 
	`İt_»g_’um
(
odb
, "-opt:enum", "This is‡nƒnumeration option.",

1842 &
’um_v¬
, "’um_a", 
’um_em­
, 
NULL
, 
’um_NUM
,

1843  
TRUE
, 
NULL
);

1844 
	`İt_»g_’um_li¡
(
odb
, "-opt:enum:list", "This is‡ƒnum†ist option.",

1845 
’um_v¬s
, 
MAX_VARS
, &
n_’um_v¬s
, "enum_b",

1846 
’um_em­
, 
NULL
, 
’um_NUM
,

1847  
TRUE
, 
NULL
);

1848 
	`İt_»g_’um
(
odb
, "-opt:enum:eval", "This is‡nƒnumeration option w/eval.",

1849 &
’um_ev®_v¬
, "’um_b", 
’um_em­
, 
’um_ev®
, 
’um_NUM
,

1850  
TRUE
, 
NULL
);

1851 
	`İt_»g_’um_li¡
(
odb
, "-opt:enum:eval:list",

1853 
’um_ev®_v¬s
, 
MAX_VARS
, &
n_’um_ev®_v¬s
, "enum_a",

1854 
’um_em­
, 
’um_ev®
, 
’um_NUM
,

1855  
TRUE
, 
NULL
);

1856 
	`İt_»g_æag
(
odb
, "-opt:flag", "This is‡ boolean flag option.",

1857 &
æag_v¬
, 
FALSE
, 
TRUE
, 
NULL
);

1858 
	`İt_»g_æag_li¡
(
odb
, "-opt:flag:list",

1860 
æag_v¬s
, 
MAX_VARS
, &
n_æag_v¬s
, 
TRUE
,

1861  
TRUE
, 
NULL
);

1862 
	`İt_»g_¡ršg
(
odb
, "-opt:string", "This is‡ string option.",

1863 &
¡ršg_v¬
, "a:string",

1864  
TRUE
, 
NULL
);

1865 
	`İt_»g_¡ršg_li¡
(
odb
, "-opt:string:list", "This is‡ string†ist option.",

1866 
¡ršg_v¬s
, 
MAX_VARS
, &
n_¡ršg_v¬s
, "another:string",

1867  
TRUE
, 
NULL
);

1870 
	`İt_´oûss_İtiÚs
(
odb
, 
¬gc
, 
¬gv
);

1873 
	`årštf
(
¡dout
, "## Current Option Values ##\n");

1874 
	`İt_´št_İtiÚs
(
odb
, 
¡dout
, 
FALSE
, 
TRUE
);

1877 
	`İt_d–‘e
(
odb
);

1878 
	`ex™
(0);

1879 
	}
}

	@options.h

82 #iâdeà
OPTIONS_H


83 
	#OPTIONS_H


	)

97 
	eİt_şass_t
 {

98 
	moc_št
 = 0,

99 
	moc_ušt
,

100 
	moc_æßt
,

101 
	moc_doubË
,

102 
	moc_’um
,

103 
	moc_æag
,

104 
	moc_¡ršg
,

105 
	moc_NUM


109 
	sİt_İt_t
 {

110 
İt_İt_t
 *
	mÃxt
;

111 *
	mÇme
;

112 *
	mdesc
;

113 
	mnv¬s
;

114 *
	mÃÉ
;

115 *
	mfÜm©
;

116 
	m´št
;

117 
	macüue
;

118 
İt_şass_t
 
	moc
;

119 
	uİt_v¬ŸÁ_t
 {

121 
	sİt_fÜ_št_t
 {

122 *
	mv¬
;

123 } 
	mfÜ_št
;

125 
	sİt_fÜ_ušt_t
 {

126 *
	mv¬
;

127 } 
	mfÜ_ušt
;

129 
	sİt_fÜ_æßt_t
 {

130 *
	mv¬
;

131 } 
	mfÜ_æßt
;

133 
	sİt_fÜ_doubË_t
 {

134 *
	mv¬
;

135 } 
	mfÜ_doubË
;

137 
	sİt_fÜ_’um_t
 {

138 *
	mv¬
;

139 **
	mem­
;

140 *
	mev®
;

141 
	mem­_sz
;

142 } 
	mfÜ_’um
;

144 
	sİt_fÜ_¡ršg_t
 {

145 **
	mv¬
;

146 } 
	mfÜ_¡ršg
;

147 } 
	mv¬ŸÁ
;

153 (*
	tÜphª_â_t
)(
	ti
,

154 
	t¬gc
,

155 **
	t¬gv
);

159 
	sİt_nÙe_t
 {

160 
İt_nÙe_t
 *
	mÃxt
;

161 *
	mnÙe
;

165 
	sİt_odb_t
 {

166 
İt_İt_t
 *
	mİtiÚs
;

167 
Üphª_â_t
 
	mÜphª_â
;

168 *
	mh—d”
;

169 
İt_nÙe_t
 *
	mnÙes
;

173 
İt_odb_t
 *

174 
İt_Ãw
(
Üphª_â_t
 
Üphª_â
);

178 
İt_d–‘e
(
İt_odb_t
 *
odb
);

182 
İt_»g_št
(
İt_odb_t
 *
odb
,

183 *
Çme
,

184 *
desc
,

185 *
v¬
,

186 
def_v®
,

187 
´št
,

188 *
fÜm©
);

192 
İt_»g_št_li¡
(
İt_odb_t
 *
odb
,

193 *
Çme
,

194 *
desc
,

195 *
v¬s
,

196 
nv¬s
,

197 *
ÃÉ
,

198 *
def_v®
,

199 
´št
,

200 *
fÜm©
,

201 
acüue
);

205 
İt_»g_ušt
(
İt_odb_t
 *
odb
,

206 *
Çme
,

207 *
desc
,

208 *
v¬
,

209 
def_v®
,

210 
´št
,

211 *
fÜm©
);

215 
İt_»g_ušt_li¡
(
İt_odb_t
 *
odb
,

216 *
Çme
,

217 *
desc
,

218 *
v¬s
,

219 
nv¬s
,

220 *
ÃÉ
,

221 *
def_v®
,

222 
´št
,

223 *
fÜm©
,

224 
acüue
);

228 
İt_»g_æßt
(
İt_odb_t
 *
odb
,

229 *
Çme
,

230 *
desc
,

231 *
v¬
,

232 
def_v®
,

233 
´št
,

234 *
fÜm©
);

238 
İt_»g_æßt_li¡
(
İt_odb_t
 *
odb
,

239 *
Çme
,

240 *
desc
,

241 *
v¬s
,

242 
nv¬s
,

243 *
ÃÉ
,

244 *
def_v®
,

245 
´št
,

246 *
fÜm©
,

247 
acüue
);

251 
İt_»g_doubË
(
İt_odb_t
 *
odb
,

252 *
Çme
,

253 *
desc
,

254 *
v¬
,

255 
def_v®
,

256 
´št
,

257 *
fÜm©
);

261 
İt_»g_doubË_li¡
(
İt_odb_t
 *
odb
,

262 *
Çme
,

263 *
desc
,

264 *
v¬s
,

265 
nv¬s
,

266 *
ÃÉ
,

267 *
def_v®
,

268 
´št
,

269 *
fÜm©
,

270 
acüue
);

276 
İt_»g_’um
(
İt_odb_t
 *
odb
,

277 *
Çme
,

278 *
desc
,

279 *
v¬
,

280 *
def_v®
,

281 **
em­
,

282 *
ev®
,

283 
em­_sz
,

284 
´št
,

285 *
fÜm©
);

291 
İt_»g_’um_li¡
(
İt_odb_t
 *
odb
,

292 *
Çme
,

293 *
desc
,

294 *
v¬s
,

295 
nv¬s
,

296 *
ÃÉ
,

297 *
def_v®
,

298 **
em­
,

299 *
ev®
,

300 
em­_sz
,

301 
´št
,

302 *
fÜm©
,

303 
acüue
);

307 
İt_»g_æag
(
İt_odb_t
 *
odb
,

308 *
Çme
,

309 *
desc
,

310 *
v¬
,

311 
def_v®
,

312 
´št
,

313 *
fÜm©
);

317 
İt_»g_æag_li¡
(
İt_odb_t
 *
odb
,

318 *
Çme
,

319 *
desc
,

320 *
v¬s
,

321 
nv¬s
,

322 *
ÃÉ
,

323 *
def_v®
,

324 
´št
,

325 *
fÜm©
,

326 
acüue
);

330 
İt_»g_¡ršg
(
İt_odb_t
 *
odb
,

331 *
Çme
,

332 *
desc
,

333 **
v¬
,

334 *
def_v®
,

335 
´št
,

336 *
fÜm©
);

340 
İt_»g_¡ršg_li¡
(
İt_odb_t
 *
odb
,

341 *
Çme
,

342 *
desc
,

343 **
v¬s
,

344 
nv¬s
,

345 *
ÃÉ
,

346 **
def_v®
,

347 
´št
,

348 *
fÜm©
,

349 
acüue
);

353 
İt_´oûss_İtiÚs
(
İt_odb_t
 *
odb
,

354 
¬gc
,

355 **
¬gv
);

359 
İt_´št_İtiÚ
(
İt_İt_t
 *
İt
,

360 
FILE
 *
fd
);

364 
İt_´št_İtiÚs
(
İt_odb_t
 *
odb
,

365 
FILE
 *
fd
,

366 
‹r£
,

367 
nÙes
);

371 
İt_´št_h–p
(
İt_odb_t
 *
odb
,

372 
FILE
 *
fd
);

375 
İt_İt_t
 *

376 
İt_fšd_İtiÚ
(
İt_odb_t
 *
odb
,

377 *
İt_Çme
);

381 
İt_»g_h—d”
(
İt_odb_t
 *
odb
,

382 *
h—d”
);

386 
İt_»g_nÙe
(
İt_odb_t
 *
odb
,

387 *
nÙe
);

	@power.c

103 
	~"h—d”s.h
"

114 
	#¡r
(
s
è#s

	)

115 
	#x¡r
(
s
è
	`¡r
(s)

	)

118 
	#S’£2Pow”çùÜ
 (
Mhz
)*(2*.3+.1*
Vdd
)

	)

122 
	#LowSwšgPow”çùÜ
 (
Mhz
)*.2*.2

	)

128 
	#MSCALE
 (
LSCALE
 * .624 / .2250)

	)

133 
	#CC3


	)

135 #ifdeà
CC1


136 
	#IFCC1
(
x
è
	)
x

138 
	#IFCC1
(
x
)

	)

140 #ifdeà
CC2


141 
	#IFCC2
(
x
è
	)
x

143 
	#IFCC2
(
x
)

	)

145 #ifdeà
CC3


146 
	#IFCC3
(
x
è
	)
x

148 
	#IFCC3
(
x
)

	)

151 
ruu_šÜd”_issue
;

153 
	gvdd_»duùiÚ
;

154 
	gPow”çùÜ
;

155 
	gS’£Pow”çùÜ
;

157 
	ggc
[50];

158 
	ggúame
[50][30];

159 
	ggcc
;

161 
	gcÚ¡ªt_çùÜ
;

163 
	gÏ¡_ifq_³riod
=1.0;

164 
	gÏ¡_iiq_³riod
=1.0;

165 
	gÏ¡_fiq_³riod
=1.0;

167 
	gp”egg
, 
	gşšeg
, 
	gglobbufg
, 
	gşockp
;

170 
	gPOWER_SCALE
;

171 
	gI_ADD
;

172 
	gI_ADD32
;

173 
	gI_MULT16
;

174 
	gI_SHIFT
;

175 
	gI_LOGIC
;

176 
	gF_ADD
;

177 
	gF_MULT
;

179 
	gI_ADD_CLOCK
;

180 
	gI_MULT_CLOCK
;

181 
	gI_SHIFT_CLOCK
;

182 
	gI_LOGIC_CLOCK
;

183 
	gF_ADD_CLOCK
;

184 
	gF_MULT_CLOCK
;

185 
	gP”iod
;

193 #ifdeà
INPUT_OUTPUT_BUFFER


194 
	#TOTAL_CYCLE_POWER
 (
»Çme_pow”
 + 
iq¿m_pow”
 + 
fq¿m_pow”
 + 
şock1_pow”
 + 
şock2_pow”
 + 
şock3_pow”
 + 
rob1_pow”
 + 
rob2_pow”
 + 
b´ed_pow”
 + 
iwakeup_pow”
 + 
fwakeup_pow”
 + 
i£ËùiÚ_pow”
 + 
f£ËùiÚ_pow”
 + 
lsq_pow”
 + 
œegfe_pow”
 + 
äegfe_pow”
 + 
iÿche_pow”
 + 
œesuÉbus_pow”
 + 
äesuÉbus_pow”
 + 
®u1_pow”
 + 
®u2_pow”
 + 
çlu1_pow”
 + 
çlu2_pow”
 + 
dÿche_pow”
 + 
dÿche2_pow”
 + 
du¶iÿtiÚ_pow”
 + 
com·»_pow”
 + 
šput_buf_pow”
 + 
ouut_buf_pow”
)

	)

196 
	#TOTAL_CYCLE_POWER
 (
»Çme_pow”
 + 
iq¿m_pow”
 + 
fq¿m_pow”
 + 
şock1_pow”
 + 
şock2_pow”
 + 
şock3_pow”
 + 
rob1_pow”
 + 
rob2_pow”
 + 
b´ed_pow”
 + 
iwakeup_pow”
 + 
fwakeup_pow”
 + 
i£ËùiÚ_pow”
 + 
f£ËùiÚ_pow”
 + 
lsq_pow”
 + 
œegfe_pow”
 + 
äegfe_pow”
 + 
iÿche_pow”
 + 
œesuÉbus_pow”
 + 
äesuÉbus_pow”
 + 
®u1_pow”
 + 
®u2_pow”
 + 
çlu1_pow”
 + 
çlu2_pow”
 + 
dÿche_pow”
 + 
dÿche2_pow”
 + 
du¶iÿtiÚ_pow”
 + 
com·»_pow”
)

	)

199 #ifdeà
INPUT_OUTPUT_BUFFER


200 
	#TOTAL_CYCLE_POWER_CC3
 (
iq¿m_pow”_cc3
 + 
fq¿m_pow”_cc3
 + 
şock1_pow”_cc3
 + 
şock2_pow”_cc3
 + 
şock3_pow”_cc3
 + 
rob1_pow”_cc3
 + 
rob2_pow”_cc3
 + 
»Çme_pow”_cc3
 + 
b´ed_pow”_cc3
 + 
lsq_pow”_cc3
 + 
iwakeup_pow”_cc3
 + 
fwakeup_pow”_cc3
 + 
i£ËùiÚ_pow”_cc3
 + 
f£ËùiÚ_pow”_cc3
 + 
œegfe_pow”_cc3
 + 
äegfe_pow”_cc3
 + 
iÿche_pow”_cc3
 + 
œesuÉbus_pow”_cc3
 + 
äesuÉbus_pow”_cc3
 + 
®u1_pow”_cc3
 + 
®u2_pow”_cc3
 + 
çlu1_pow”_cc3
 + 
çlu2_pow”_cc3
 + 
dÿche_pow”_cc3
 + 
dÿche2_pow”_cc3
 + 
du¶iÿtiÚ_pow”_cc3
 + 
com·»_pow”_cc3
 + 
šput_buf_pow”_cc3
 + 
ouut_buf_pow”_cc3
)

	)

202 
	#TOTAL_CYCLE_POWER_CC3
 (
iq¿m_pow”_cc3
 + 
fq¿m_pow”_cc3
 + 
şock1_pow”_cc3
 + 
şock2_pow”_cc3
 + 
şock3_pow”_cc3
 + 
rob1_pow”_cc3
 + 
rob2_pow”_cc3
 + 
»Çme_pow”_cc3
 + 
b´ed_pow”_cc3
 + 
lsq_pow”_cc3
 + 
iwakeup_pow”_cc3
 + 
fwakeup_pow”_cc3
 + 
i£ËùiÚ_pow”_cc3
 + 
f£ËùiÚ_pow”_cc3
 + 
œegfe_pow”_cc3
 + 
äegfe_pow”_cc3
 + 
iÿche_pow”_cc3
 + 
œesuÉbus_pow”_cc3
 + 
äesuÉbus_pow”_cc3
 + 
®u1_pow”_cc3
 + 
®u2_pow”_cc3
 + 
çlu1_pow”_cc3
 + 
çlu2_pow”_cc3
 + 
dÿche_pow”_cc3
 + 
dÿche2_pow”_cc3
 + 
du¶iÿtiÚ_pow”_cc3
 + 
com·»_pow”_cc3
)

	)

208 
	gbufãr1
[1024];

209 
	gbufãr2
[4096];

214 
	gsim_cyşeg
;

216 
	$sim_cyc
(
simc
)

218 
sim_cyşeg
 = ()
simc
;

219 
	}
}

221 
	$pow2
(
x
) {

222 (()
	`pow
(2.0,()
x
));

223 
	}
}

225 
	$logfour
(
x
)

226 
x
;

228 ià(
x
<=0è
	`årštf
(
¡d”r
,"%e\n",x);

229 Ğ(è(
	`log
(
x
)/log(4.0)) );

230 
	}
}

233 
	$pİ_couÁ_¦ow
(
quad_t
 
b™s
)

235 
couÁ
 = 0;

236 
quad_t
 
tmpb™s
 = 
b™s
;

237 
tmpb™s
) {

238 ià(
tmpb™s
 & 1è++
couÁ
;

239 
tmpb™s
 >>= 1;

241  
couÁ
;

242 
	}
}

245 
	$pİ_couÁ
(
quad_t
 
b™s
)

247 
	#T
 

	)

248 
	#ONES
 ((
T
)(-1))

	)

249 
	#TWO
(
k
è((
T
)1 << (k))

	)

250 
	#CYCL
(
k
è(
ONES
/(1 + (
	`TWO
(TWO(k)))))

	)

251 
	#BSUM
(
x
,
k
è((x)+=(xè>> 
	`TWO
(k), (xè&ğ
	`CYCL
(k))

	)

252 
quad_t
 
x
 = 
b™s
;

253 
x
 = (x & 
	`CYCL
(0)è+ ((x>>
	`TWO
(0)) & CYCL(0));

254 
x
 = (x & 
	`CYCL
(1)è+ ((x>>
	`TWO
(1)) & CYCL(1));

255 
	`BSUM
(
x
,2);

256 
	`BSUM
(
x
,3);

257 
	`BSUM
(
x
,4);

258 
	`BSUM
(
x
,5);

259  
x
;

260 
	}
}

263 
	gİcode_Ëngth
 = 8;

264 
	gš¡_Ëngth
 = 32;

267 
OUTSTANDING_STORE_NUM
;

268 
PCB_BLK_SIZE
;

269 
BRANCH_Q_NUM
, 
INORDER_CHECKER
;

270 
CHECKER_NUMBER
;

272 
di§bË_¿y
;

275 
ruu_decode_width
;

276 
ruu_issue_width
;

277 
ruu_comm™_width
;

278 
RUU_size
;

279 
LSQ_size
;

280 
d©a_width
;

281 
»s_Ÿlu
;

282 
»s_imuÉ
;

283 
»s_å®u
;

284 
»s_åmuÉ
;

285 
»s_mempÜt
;

287 
IPREG_size
;

288 
FPREG_size
;

289 
IIQ_size
;

290 
FIQ_size
;

292 
	gnv»g_width
;

293 
	gÅ»g_width
;

295 
bimod_cÚfig
[];

297 
ÿche_t
 *
ÿche_dl1
[
CLUSTERS
];

298 
ÿche_t
 *
ÿche_1
[
CLUSTERS
];

299 
ÿche_t
 *
ÿche_dl2
;

301 
ÿche_t
 *
db
;

302 
ÿche_t
 *
™lb
;

305 
twŞev_cÚfig
[];

308 
comb_cÚfig
[];

311 
¿s_size
;

314 
btb_cÚfig
[];

316 
	gglob®_şockÿp
;

318 
	g»Çme_pow”
=0;

319 
	giq¿m_pow”
=0;

320 
	gfq¿m_pow”
=0;

321 
	grob1_pow”
=0;

322 
	grob2_pow”
=0;

323 
	gşock1_pow”
=0;

324 
	gşock2_pow”
=0;

325 
	gşock3_pow”
=0;

326 
	gb´ed_pow”
=0;

327 
	giwakeup_pow”
=0;

328 
	gfwakeup_pow”
=0;

329 
	gi£ËùiÚ_pow”
=0;

330 
	gf£ËùiÚ_pow”
=0;

331 
	glsq_pow”
=0;

332 
	gœegfe_pow”
=0;

333 
	gäegfe_pow”
=0;

334 
	giÿche_pow”
=0;

335 
	gdÿche_pow”
=0;

336 #ifdeà
INPUT_OUTPUT_BUFFER


337 
	gšput_buf_pow”
=0;

338 
	gouut_buf_pow”
=0;

340 
	gdÿche2_pow”
=0;

341 
	g®u1_pow”
=0;

342 
	g®u2_pow”
=0;

343 
	gçlu1_pow”
=0;

344 
	gçlu2_pow”
=0;

345 
	gœesuÉbus_pow”
=0;

346 
	gäesuÉbus_pow”
=0;

347 
	gşock_pow”
=0;

349 
	gdu¶iÿtiÚ_pow”
=0;

350 
	gcom·»_pow”
=0;

353 
	gRENAME_pow”_cc3
[
CLUSTERS
];

354 
	gIQRAM_pow”_cc3
[
CLUSTERS
];

355 
	gFQRAM_pow”_cc3
[
CLUSTERS
];

356 
	gROB1_pow”_cc3
[
CLUSTERS
];

357 
	gROB2_pow”_cc3
[
CLUSTERS
];

358 
	gCLOCK1_pow”_cc3
[
CLUSTERS
];

359 
	gCLOCK2_pow”_cc3
[
CLUSTERS
];

360 
	gCLOCK3_pow”_cc3
[
CLUSTERS
];

361 
	gBPRED_pow”_cc3
[
CLUSTERS
];

362 
	gIWAKEUP_pow”_cc3
[
CLUSTERS
];

363 
	gFWAKEUP_pow”_cc3
[
CLUSTERS
];

364 
	gISELECTION_pow”_cc3
[
CLUSTERS
];

365 
	gFSELECTION_pow”_cc3
[
CLUSTERS
];

366 
	gLSQ_pow”_cc3
[
CLUSTERS
];

367 
	gIREGFILE_pow”_cc3
[
CLUSTERS
];

368 
	gFREGFILE_pow”_cc3
[
CLUSTERS
];

369 
	gICACHE_pow”_cc3
[
CLUSTERS
];

370 
	gDCACHE_pow”_cc3
[
CLUSTERS
];

371 #ifdeà
INPUT_OUTPUT_BUFFER


372 
	gšput_buf_pow”_cc3
[
CLUSTERS
];

373 
	gouut_buf_pow”_cc3
[
CLUSTERS
];

375 
	gDCACHE2_pow”_cc3
[
CLUSTERS
];

376 
	gALU1_pow”_cc3
[
CLUSTERS
];

377 
	gALU2_pow”_cc3
[
CLUSTERS
];

378 
	gFALU1_pow”_cc3
[
CLUSTERS
];

379 
	gFALU2_pow”_cc3
[
CLUSTERS
];

380 
	gIRESULTBUS_pow”_cc3
[
CLUSTERS
];

381 
	gFRESULTBUS_pow”_cc3
[
CLUSTERS
];

384 
	gdu¶iÿtiÚ_pow”_cc3
=0;

385 
	gcom·»_pow”_cc3
=0;

387 
	gTOTAL_pow”_cc3
[
CLUSTERS
];

389 
	gtÙ®_cyşe_pow”
;

390 
	gtÙ®_cyşe_pow”_cc3
;

391 
	gmax_cyşe_pow”_cc3
 = 0.0;

393 
couÁ”_t
 
»Çme_acûss
;

394 
couÁ”_t
 
iq¿m_acûss
;

395 
couÁ”_t
 
fq¿m_acûss
;

396 
couÁ”_t
 
rob1_acûss
;

397 
couÁ”_t
 
rob2_acûss
;

398 
couÁ”_t
 
b´ed_acûss
;

399 
couÁ”_t
 
iwakeup_acûss
;

400 
couÁ”_t
 
fwakeup_acûss
;

401 
couÁ”_t
 
i£ËùiÚ_acûss
;

402 
couÁ”_t
 
f£ËùiÚ_acûss
;

403 
couÁ”_t
 
lsq_acûss
;

404 
couÁ”_t
 
œegfe_acûss
;

405 
couÁ”_t
 
äegfe_acûss
;

406 
couÁ”_t
 
iÿche_acûss
;

407 
couÁ”_t
 
dÿche_acûss
;

410 
couÁ”_t
 
dÿche2_acûss
;

411 
couÁ”_t
 
Ÿlu1_acûss
;

412 
couÁ”_t
 
Ÿlu2_acûss
;

413 
couÁ”_t
 
çlu1_acûss
;

414 
couÁ”_t
 
çlu2_acûss
;

415 
couÁ”_t
 
œesuÉbus_acûss
;

416 
couÁ”_t
 
äesuÉbus_acûss
;

417 
couÁ”_t
 
lsq_´eg_acûss
;

418 
couÁ”_t
 
lsq_wakeup_acûss
;

419 
couÁ”_t
 
lsq_¡Üe_d©a_acûss
;

421 
couÁ”_t
 
du¶iÿtiÚ_acûss
;

422 
couÁ”_t
 
com·»_acûss
;

424 
couÁ”_t
 
lsq_tÙ®_pİ_couÁ_cyşe
;

425 
couÁ”_t
 
lsq_num_pİ_couÁ_cyşe
;

426 
couÁ”_t
 
œegfe_tÙ®_pİ_couÁ_cyşe
;

427 
couÁ”_t
 
œegfe_num_pİ_couÁ_cyşe
;

428 
couÁ”_t
 
äegfe_tÙ®_pİ_couÁ_cyşe
;

429 
couÁ”_t
 
äegfe_num_pİ_couÁ_cyşe
;

430 
couÁ”_t
 
œesuÉbus_tÙ®_pİ_couÁ_cyşe
;

431 
couÁ”_t
 
œesuÉbus_num_pİ_couÁ_cyşe
;

432 
couÁ”_t
 
äesuÉbus_tÙ®_pİ_couÁ_cyşe
;

433 
couÁ”_t
 
äesuÉbus_num_pİ_couÁ_cyşe
;

435 
couÁ”_t
 
	gtÙ®_»Çme_acûss
=0;

436 
couÁ”_t
 
	gtÙ®_iq¿m_acûss
=0;

437 
couÁ”_t
 
	gtÙ®_fq¿m_acûss
=0;

438 
couÁ”_t
 
	gtÙ®_rob1_acûss
=0;

439 
couÁ”_t
 
	gtÙ®_rob2_acûss
=0;

440 
couÁ”_t
 
	gtÙ®_b´ed_acûss
=0;

441 
couÁ”_t
 
	gtÙ®_iwakeup_acûss
=0;

442 
couÁ”_t
 
	gtÙ®_fwakeup_acûss
=0;

443 
couÁ”_t
 
	gtÙ®_i£ËùiÚ_acûss
=0;

444 
couÁ”_t
 
	gtÙ®_f£ËùiÚ_acûss
=0;

445 
couÁ”_t
 
	gtÙ®_lsq_acûss
=0;

446 
couÁ”_t
 
	gtÙ®_œegfe_acûss
=0;

447 
couÁ”_t
 
	gtÙ®_äegfe_acûss
=0;

448 
couÁ”_t
 
	gtÙ®_iÿche_acûss
=0;

449 
couÁ”_t
 
	gtÙ®_dÿche_acûss
=0;

450 #ifdeà
INPUT_OUTPUT_BUFFER


451 
couÁ”_t
 
	gtÙ®_šput_buf_acûss
=0;

452 
couÁ”_t
 
	gtÙ®_ouut_buf_acûss
=0;

454 
couÁ”_t
 
	gtÙ®_dÿche2_acûss
=0;

455 
couÁ”_t
 
	gtÙ®_®u1_acûss
=0;

456 
couÁ”_t
 
	gtÙ®_®u2_acûss
=0;

457 
couÁ”_t
 
	gtÙ®_çlu1_acûss
=0;

458 
couÁ”_t
 
	gtÙ®_çlu2_acûss
=0;

459 
couÁ”_t
 
	gtÙ®_œesuÉbus_acûss
=0;

460 
couÁ”_t
 
	gtÙ®_äesuÉbus_acûss
=0;

462 
couÁ”_t
 
	gtÙ®_du¶iÿtiÚ_acûss
;

463 
couÁ”_t
 
	gtÙ®_com·»_acûss
=0;

465 
couÁ”_t
 
	gmax_»Çme_acûss
;

466 
couÁ”_t
 
	gmax_iq¿m_acûss
;

467 
couÁ”_t
 
	gmax_fq¿m_acûss
;

468 
couÁ”_t
 
	gmax_rob1_acûss
;

469 
couÁ”_t
 
	gmax_rob2_acûss
;

470 
couÁ”_t
 
	gmax_b´ed_acûss
;

471 
couÁ”_t
 
	gmax_iwakeup_acûss
;

472 
couÁ”_t
 
	gmax_fwakeup_acûss
;

473 
couÁ”_t
 
	gmax_i£ËùiÚ_acûss
;

474 
couÁ”_t
 
	gmax_f£ËùiÚ_acûss
;

475 
couÁ”_t
 
	gmax_lsq_acûss
;

476 
couÁ”_t
 
	gmax_œegfe_acûss
;

477 
couÁ”_t
 
	gmax_äegfe_acûss
;

478 
couÁ”_t
 
	gmax_iÿche_acûss
;

479 
couÁ”_t
 
	gmax_dÿche_acûss
;

480 #ifdeà
INPUT_OUTPUT_BUFFER


481 
couÁ”_t
 
	gmax_šput_buf_acûss
;

482 
couÁ”_t
 
	gmax_ouut_buf_acûss
;

484 
couÁ”_t
 
	gmax_dÿche2_acûss
;

485 
couÁ”_t
 
	gmax_®u1_acûss
;

486 
couÁ”_t
 
	gmax_®u2_acûss
;

487 
couÁ”_t
 
	gmax_çlu1_acûss
;

488 
couÁ”_t
 
	gmax_çlu2_acûss
;

489 
couÁ”_t
 
	gmax_œesuÉbus_acûss
;

490 
couÁ”_t
 
	gmax_äesuÉbus_acûss
;

492 
couÁ”_t
 
	gmax_du¶iÿtiÚ_acûss
;

493 
couÁ”_t
 
	gmax_com·»_acûss
=0;

495 
	$pow”_ş—r
()

497 
lcouÁ
;

501 
»Çme_pow”
=0;

502 
iq¿m_pow”
=0;

503 
fq¿m_pow”
=0;

504 
rob1_pow”
=0;

505 
rob2_pow”
=0;

506 
şock1_pow”
=0;

507 
şock2_pow”
=0;

508 
şock3_pow”
=0;

509 
b´ed_pow”
=0;

510 
iwakeup_pow”
=0;

511 
fwakeup_pow”
=0;

512 
i£ËùiÚ_pow”
=0;

513 
f£ËùiÚ_pow”
=0;

514 
lsq_pow”
=0;

515 
œegfe_pow”
=0;

516 
äegfe_pow”
=0;

517 
iÿche_pow”
=0;

518 
dÿche_pow”
=0;

519 #ifdeà
INPUT_OUTPUT_BUFFER


520 
šput_buf_pow”
=0;

521 
ouut_buf_pow”
=0;

523 
dÿche2_pow”
=0;

524 
®u1_pow”
=0;

525 
®u2_pow”
=0;

526 
çlu1_pow”
=0;

527 
çlu2_pow”
=0;

528 
œesuÉbus_pow”
=0;

529 
äesuÉbus_pow”
=0;

530 
şock_pow”
=0;

532 
du¶iÿtiÚ_pow”
=0;

533 
com·»_pow”
=0;

536 
du¶iÿtiÚ_pow”_cc3
=0;

537 
com·»_pow”_cc3
=0;

539 
max_cyşe_pow”_cc3
 = 0.0;

541 
tÙ®_»Çme_acûss
=0;

542 
tÙ®_iq¿m_acûss
=0;

543 
tÙ®_fq¿m_acûss
=0;

544 
tÙ®_rob1_acûss
=0;

545 
tÙ®_rob2_acûss
=0;

546 
tÙ®_b´ed_acûss
=0;

547 
tÙ®_iwakeup_acûss
=0;

548 
tÙ®_fwakeup_acûss
=0;

549 
tÙ®_i£ËùiÚ_acûss
=0;

550 
tÙ®_f£ËùiÚ_acûss
=0;

551 
tÙ®_lsq_acûss
=0;

552 
tÙ®_œegfe_acûss
=0;

553 
tÙ®_äegfe_acûss
=0;

554 
tÙ®_iÿche_acûss
=0;

555 
tÙ®_dÿche_acûss
=0;

556 #ifdeà
INPUT_OUTPUT_BUFFER


557 
tÙ®_šput_buf_acûss
=0;

558 
tÙ®_ouut_buf_acûss
=0;

560 
tÙ®_dÿche2_acûss
=0;

561 
tÙ®_®u1_acûss
=0;

562 
tÙ®_®u2_acûss
=0;

563 
tÙ®_çlu1_acûss
=0;

564 
tÙ®_çlu2_acûss
=0;

565 
tÙ®_œesuÉbus_acûss
=0;

566 
tÙ®_äesuÉbus_acûss
=0;

568 
tÙ®_du¶iÿtiÚ_acûss
=0;

569 
tÙ®_com·»_acûss
=0;

571 
max_»Çme_acûss
=0;

572 
max_iq¿m_acûss
=0;

573 
max_fq¿m_acûss
=0;

574 
max_rob1_acûss
=0;

575 
max_rob2_acûss
=0;

576 
max_b´ed_acûss
=0;

577 
max_iwakeup_acûss
=0;

578 
max_fwakeup_acûss
=0;

579 
max_i£ËùiÚ_acûss
=0;

580 
max_f£ËùiÚ_acûss
=0;

581 
max_lsq_acûss
=0;

582 
max_œegfe_acûss
=0;

583 
max_äegfe_acûss
=0;

584 
max_iÿche_acûss
=0;

585 
max_dÿche_acûss
=0;

586 #ifdeà
INPUT_OUTPUT_BUFFER


587 
max_šput_buf_acûss
=0;

588 
max_ouut_buf_acûss
=0;

590 
max_dÿche2_acûss
=0;

591 
max_®u1_acûss
=0;

592 
max_®u2_acûss
=0;

593 
max_çlu1_acûss
=0;

594 
max_çlu2_acûss
=0;

595 
max_œesuÉbus_acûss
=0;

596 
max_äesuÉbus_acûss
=0;

598 
max_du¶iÿtiÚ_acûss
=0;

599 
max_com·»_acûss
=0;

600 
lcouÁ
 =0;†couÁ<
numcÚ‹xts
;lcount++)

602 
RENAME_pow”_cc3
[
lcouÁ
] = 0;

603 
IQRAM_pow”_cc3
[
lcouÁ
] = 0;

604 
FQRAM_pow”_cc3
[
lcouÁ
] = 0;

605 
ROB1_pow”_cc3
[
lcouÁ
] = 0;

606 
ROB2_pow”_cc3
[
lcouÁ
] = 0;

607 
CLOCK1_pow”_cc3
[
lcouÁ
] = 0;

608 
CLOCK2_pow”_cc3
[
lcouÁ
] = 0;

609 
CLOCK3_pow”_cc3
[
lcouÁ
] = 0;

610 
BPRED_pow”_cc3
[
lcouÁ
] = 0;

611 
IWAKEUP_pow”_cc3
[
lcouÁ
] = 0;

612 
FWAKEUP_pow”_cc3
[
lcouÁ
] = 0;

613 
ISELECTION_pow”_cc3
[
lcouÁ
] = 0;

614 
FSELECTION_pow”_cc3
[
lcouÁ
] = 0;

615 
LSQ_pow”_cc3
[
lcouÁ
] = 0;

616 
IREGFILE_pow”_cc3
[
lcouÁ
] = 0;

617 
FREGFILE_pow”_cc3
[
lcouÁ
] = 0;

618 
ICACHE_pow”_cc3
[
lcouÁ
] = 0;

619 
DCACHE_pow”_cc3
[
lcouÁ
] = 0;

620 #ifdeà
INPUT_OUTPUT_BUFFER


621 
šput_buf_pow”_cc3
[
lcouÁ
]=0;

622 
ouut_buf_pow”_cc3
[
lcouÁ
]=0;

624 
DCACHE2_pow”_cc3
[
lcouÁ
] = 0;

625 
ALU1_pow”_cc3
[
lcouÁ
] = 0;

626 
ALU2_pow”_cc3
[
lcouÁ
] = 0;

627 
FALU1_pow”_cc3
[
lcouÁ
] = 0;

628 
FALU2_pow”_cc3
[
lcouÁ
] = 0;

629 
IRESULTBUS_pow”_cc3
[
lcouÁ
] = 0;

630 
FRESULTBUS_pow”_cc3
[
lcouÁ
] = 0;

632 
	}
}

634 
	$ş—r_acûss_¡©s
()

636 
lcouÁ
;

638 
»Çme_acûss
=0;

639 
iq¿m_acûss
=0;

640 
fq¿m_acûss
=0;

641 
rob1_acûss
=0;

642 
rob2_acûss
=0;

643 
b´ed_acûss
=0;

644 
iwakeup_acûss
=0;

645 
fwakeup_acûss
=0;

646 
i£ËùiÚ_acûss
=0;

647 
f£ËùiÚ_acûss
=0;

648 
lsq_acûss
=0;

649 
œegfe_acûss
=0;

650 
äegfe_acûss
=0;

651 
iÿche_acûss
=0;

652 
dÿche_acûss
=0;

653 #ifdeà
INPUT_OUTPUT_BUFFER


654 
šput_buf_acûss
=0;

655 
ouut_buf_acûss
=0;

657 
dÿche2_acûss
=0;

658 
Ÿlu1_acûss
=0;

659 
Ÿlu2_acûss
=0;

660 
çlu1_acûss
=0;

661 
çlu2_acûss
=0;

662 
œesuÉbus_acûss
=0;

663 
äesuÉbus_acûss
=0;

664 
lsq_¡Üe_d©a_acûss
=0;

665 
lsq_wakeup_acûss
=0;

666 
lsq_´eg_acûss
=0;

668 
lsq_tÙ®_pİ_couÁ_cyşe
=0;

669 
lsq_num_pİ_couÁ_cyşe
=0;

670 
œegfe_tÙ®_pİ_couÁ_cyşe
=0;

671 
œegfe_num_pİ_couÁ_cyşe
=0;

672 
äegfe_tÙ®_pİ_couÁ_cyşe
=0;

673 
äegfe_num_pİ_couÁ_cyşe
=0;

674 
œesuÉbus_tÙ®_pİ_couÁ_cyşe
=0;

675 
œesuÉbus_num_pİ_couÁ_cyşe
=0;

676 
äesuÉbus_tÙ®_pİ_couÁ_cyşe
=0;

677 
äesuÉbus_num_pİ_couÁ_cyşe
=0;

680 
du¶iÿtiÚ_acûss
=0;

681 
com·»_acûss
=0;

683 
lcouÁ
 =0;†couÁ<
numcÚ‹xts
;†count++)

685 
thecÚ‹xts
[
lcouÁ
]->
»Çme_acûss
=0;

686 
thecÚ‹xts
[
lcouÁ
]->
iq¿m_acûss
=0;

687 
thecÚ‹xts
[
lcouÁ
]->
fq¿m_acûss
=0;

688 
thecÚ‹xts
[
lcouÁ
]->
rob1_acûss
=0;

689 
thecÚ‹xts
[
lcouÁ
]->
rob2_acûss
=0;

690 
thecÚ‹xts
[
lcouÁ
]->
b´ed_acûss
=0;

691 
thecÚ‹xts
[
lcouÁ
]->
iwakeup_acûss
=0;

692 
thecÚ‹xts
[
lcouÁ
]->
fwakeup_acûss
=0;

693 
thecÚ‹xts
[
lcouÁ
]->
i£ËùiÚ_acûss
=0;

694 
thecÚ‹xts
[
lcouÁ
]->
f£ËùiÚ_acûss
=0;

695 
thecÚ‹xts
[
lcouÁ
]->
lsq_acûss
=0;

696 
thecÚ‹xts
[
lcouÁ
]->
œegfe_acûss
=0;

697 
thecÚ‹xts
[
lcouÁ
]->
äegfe_acûss
=0;

698 
thecÚ‹xts
[
lcouÁ
]->
iÿche_acûss
=0;

699 
thecÚ‹xts
[
lcouÁ
]->
dÿche_acûss
=0;

700 #ifdeà
INPUT_OUTPUT_BUFFER


701 
thecÚ‹xts
[
lcouÁ
]->
šput_buf_acûss
=0;

702 
thecÚ‹xts
[
lcouÁ
]->
ouut_buf_acûss
=0;

704 
thecÚ‹xts
[
lcouÁ
]->
dÿche2_acûss
=0;

705 
thecÚ‹xts
[
lcouÁ
]->
Ÿlu1_acûss
=0;

706 
thecÚ‹xts
[
lcouÁ
]->
Ÿlu2_acûss
=0;

707 
thecÚ‹xts
[
lcouÁ
]->
çlu1_acûss
=0;

708 
thecÚ‹xts
[
lcouÁ
]->
çlu2_acûss
=0;

709 
thecÚ‹xts
[
lcouÁ
]->
œesuÉbus_acûss
=0;

710 
thecÚ‹xts
[
lcouÁ
]->
äesuÉbus_acûss
=0;

711 
thecÚ‹xts
[
lcouÁ
]->
lsq_wakeup_acûss
=0;

712 
thecÚ‹xts
[
lcouÁ
]->
lsq_´eg_acûss
=0;

714 
	}
}

722 
	$compu‹_af
(
couÁ”_t
 
num_pİ_couÁ_cyşe
,couÁ”_ˆ
tÙ®_pİ_couÁ_cyşe
,
pİ_width
) {

723 
avg_pİ_couÁ
;

724 
af
,
af_b
;

726 if(
num_pİ_couÁ_cyşe
)

727 
avg_pİ_couÁ
 = ()
tÙ®_pİ_couÁ_cyşe
 / ()
num_pİ_couÁ_cyşe
;

729 
avg_pİ_couÁ
 = 0;

731 
af
 = 
avg_pİ_couÁ
 / ()
pİ_width
;

733 
af_b
 = 1.0 - 
af
;

737 (
af_b
);

738 
	}
}

740 
	$chªge_pow”_v®s
(
pow”_»suÉ_ty³
 
pow”
, 
ifq_³riod
, 
iiq_³riod
, 
fiq_³riod
)

742 
pow”
.
»Çme_pow”
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

743 
pow”
.
iq¿m_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

744 
pow”
.
fq¿m_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

745 
pow”
.
rob1_pow”
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

746 
pow”
.
rob2_pow”
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

747 
pow”
.
şock1_pow”
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

748 
pow”
.
şock2_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

749 
pow”
.
şock3_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

750 
pow”
.
b´ed_pow”
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

751 
pow”
.
iwakeup_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

752 
pow”
.
fwakeup_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

753 
pow”
.
i£ËùiÚ
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

754 
pow”
.
f£ËùiÚ
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

755 
pow”
.
lsq_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

756 
pow”
.
lsq_wakeup_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

757 
pow”
.
lsq_rs_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

758 
pow”
.
lsq_rs_pow”_nob™
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

759 
pow”
.
lsq_rs_b™lše
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

760 
pow”
.
œegfe_b™lše
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

761 
pow”
.
œegfe_pow”_nob™
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

762 
pow”
.
œegfe_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

763 
pow”
.
äegfe_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

764 
pow”
.
äegfe_pow”_nob™
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

765 
pow”
.
äegfe_b™lše
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

766 
pow”
.
iÿche_pow”
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

767 
pow”
.
™lb
 *ğ(
Ï¡_ifq_³riod
/
ifq_³riod
)*(last_ifq_period/ifq_period);

768 
pow”
.
dÿche_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

769 
pow”
.
db
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

770 
pow”
.
dÿche2_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

771 
pow”
.
Ÿlu1_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

772 
pow”
.
Ÿlu2_pow”
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

773 
pow”
.
çlu1_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

774 
pow”
.
çlu2_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

775 
pow”
.
œesuÉbus
 *ğ(
Ï¡_iiq_³riod
/
iiq_³riod
)*(last_iiq_period/iiq_period);

776 
pow”
.
äesuÉbus
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

778 
pow”
.
du¶iÿtiÚ_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

779 
pow”
.
com·»_pow”
 *ğ(
Ï¡_fiq_³riod
/
fiq_³riod
)*(last_fiq_period/fiq_period);

781 
Ï¡_ifq_³riod
 = 
ifq_³riod
;

782 
Ï¡_iiq_³riod
 = 
iiq_³riod
;

783 
Ï¡_fiq_³riod
 = 
fiq_³riod
;

784 
	}
}

793 
	$upd©e_pow”_¡©s
(
pow”_»suÉ_ty³
 
pow”
, 
th»adid
, 
cÚ‹xt
 *
cu¼’t
)

795 
lsq_af_b
, 
œegfe_af_b
, 
äegfe_af_b
, 
œesuÉbus_af_b
, 
äesuÉbus_af_b
, 
hÙ¥Ù_‹mp
, 
hÙ¥Ù_‹mp2
;

797 #ifdeà
DYNAMIC_AF


798 
lsq_af_b
 = 
	`compu‹_af
(
lsq_num_pİ_couÁ_cyşe
,
lsq_tÙ®_pİ_couÁ_cyşe
,
d©a_width
);

799 
œegfe_af_b
 = 
	`compu‹_af
(
œegfe_num_pİ_couÁ_cyşe
,
œegfe_tÙ®_pİ_couÁ_cyşe
,
d©a_width
);

800 
äegfe_af_b
 = 
	`compu‹_af
(
äegfe_num_pİ_couÁ_cyşe
,
äegfe_tÙ®_pİ_couÁ_cyşe
,
d©a_width
);

801 
œesuÉbus_af_b
 = 
	`compu‹_af
(
œesuÉbus_num_pİ_couÁ_cyşe
,
œesuÉbus_tÙ®_pİ_couÁ_cyşe
,
d©a_width
);

802 
äesuÉbus_af_b
 = 
	`compu‹_af
(
äesuÉbus_num_pİ_couÁ_cyşe
,
äesuÉbus_tÙ®_pİ_couÁ_cyşe
,
d©a_width
);

805 
»Çme_pow”
+=
pow”
.rename_power;

806 
iq¿m_pow”
+=
pow”
.iqram_power;

807 
fq¿m_pow”
+=
pow”
.fqram_power;

808 
rob1_pow”
+=
pow”
.rob1_power;

809 
rob2_pow”
+=
pow”
.rob2_power;

810 
şock1_pow”
 +ğ
pow”
.clock1_power;

811 
şock2_pow”
 +ğ
pow”
.clock2_power;

812 
şock3_pow”
 +ğ
pow”
.clock3_power;

813 
b´ed_pow”
+=
pow”
.bpred_power;

814 
iwakeup_pow”
+=
pow”
.iwakeup_power;

815 
fwakeup_pow”
+=
pow”
.fwakeup_power;

816 
i£ËùiÚ_pow”
+=
pow”
.
i£ËùiÚ
;

817 
f£ËùiÚ_pow”
+=
pow”
.
f£ËùiÚ
;

818 
lsq_pow”
+=
pow”
.lsq_power;

819 
œegfe_pow”
+=
pow”
.iregfile_power;

820 
äegfe_pow”
+=
pow”
.fregfile_power;

821 
iÿche_pow”
+=
pow”
.iÿche_pow”+pow”.
™lb
;

822 
dÿche_pow”
+=
pow”
.dÿche_pow”+pow”.
db
;

823 #ifdeà
INPUT_OUTPUT_BUFFER


824 
šput_buf_pow”
 +ğ
pow”
.input_buf_power;

825 
ouut_buf_pow”
 +ğ
pow”
.output_buf_power;

827 
dÿche2_pow”
+=
pow”
.dcache2_power;

828 
®u1_pow”
+=
pow”
.
Ÿlu1_pow”
;

829 
®u2_pow”
+=
pow”
.
Ÿlu2_pow”
;

830 
çlu1_pow”
+=
pow”
.falu1_power;

831 
çlu2_pow”
+=
pow”
.falu2_power;

832 
œesuÉbus_pow”
+=
pow”
.
œesuÉbus
;

833 
äesuÉbus_pow”
+=
pow”
.
äesuÉbus
;

834 
şock_pow”
+=
pow”
.clock_power;

836 
du¶iÿtiÚ_pow”
+=
pow”
.duplication_power;

837 
com·»_pow”
+=
pow”
.compare_power;

839 
tÙ®_»Çme_acûss
+=
»Çme_acûss
;

840 
tÙ®_iq¿m_acûss
+=
iq¿m_acûss
;

841 
tÙ®_fq¿m_acûss
+=
fq¿m_acûss
;

842 
tÙ®_rob1_acûss
+=
rob1_acûss
;

843 
tÙ®_rob2_acûss
+=
rob2_acûss
;

844 
tÙ®_b´ed_acûss
+=
b´ed_acûss
;

845 
tÙ®_iwakeup_acûss
+=
iwakeup_acûss
;

846 
tÙ®_fwakeup_acûss
+=
fwakeup_acûss
;

847 
tÙ®_i£ËùiÚ_acûss
+=
i£ËùiÚ_acûss
;

848 
tÙ®_f£ËùiÚ_acûss
+=
f£ËùiÚ_acûss
;

849 
tÙ®_lsq_acûss
+=
lsq_acûss
;

850 
tÙ®_œegfe_acûss
+=
œegfe_acûss
;

851 
tÙ®_äegfe_acûss
+=
äegfe_acûss
;

852 
tÙ®_iÿche_acûss
+=
iÿche_acûss
;

853 
tÙ®_dÿche_acûss
+=
dÿche_acûss
;

854 #ifdeà
INPUT_OUTPUT_BUFFER


855 
tÙ®_šput_buf_acûss
 +ğ
šput_buf_acûss
;

856 
tÙ®_ouut_buf_acûss
 +ğ
ouut_buf_acûss
;

858 
tÙ®_dÿche2_acûss
+=
dÿche2_acûss
;

859 
tÙ®_®u1_acûss
+=
Ÿlu1_acûss
;

860 
tÙ®_®u2_acûss
+=
Ÿlu2_acûss
;

861 
tÙ®_çlu1_acûss
+=
çlu1_acûss
;

862 
tÙ®_çlu2_acûss
+=
çlu2_acûss
;

863 
tÙ®_œesuÉbus_acûss
+=
œesuÉbus_acûss
;

864 
tÙ®_äesuÉbus_acûss
+=
äesuÉbus_acûss
;

866 
tÙ®_du¶iÿtiÚ_acûss
+=
du¶iÿtiÚ_acûss
;

867 
tÙ®_com·»_acûss
+=
com·»_acûss
;

869 
max_»Çme_acûss
=
	`MAX
(
»Çme_acûss
,max_rename_access);

870 
max_iq¿m_acûss
=
	`MAX
(
iq¿m_acûss
,max_iqram_access);

871 
max_fq¿m_acûss
=
	`MAX
(
fq¿m_acûss
,max_fqram_access);

872 
max_rob1_acûss
=
	`MAX
(
rob1_acûss
, max_rob1_access);

873 
max_rob2_acûss
=
	`MAX
(
rob2_acûss
, max_rob2_access);

874 
max_b´ed_acûss
=
	`MAX
(
b´ed_acûss
,max_bpred_access);

875 
max_iwakeup_acûss
=
	`MAX
(
iwakeup_acûss
,max_iwakeup_access);

876 
max_fwakeup_acûss
=
	`MAX
(
fwakeup_acûss
,max_fwakeup_access);

877 
max_i£ËùiÚ_acûss
=
	`MAX
(
i£ËùiÚ_acûss
,max_iselection_access);

878 
max_f£ËùiÚ_acûss
=
	`MAX
(
f£ËùiÚ_acûss
,max_fselection_access);

879 
max_lsq_acûss
=
	`MAX
(
lsq_acûss
,max_lsq_access);

880 
max_œegfe_acûss
=
	`MAX
(
œegfe_acûss
,max_iregfile_access);

881 
max_äegfe_acûss
=
	`MAX
(
äegfe_acûss
,max_fregfile_access);

882 
max_iÿche_acûss
=
	`MAX
(
iÿche_acûss
,max_icache_access);

883 
max_dÿche_acûss
=
	`MAX
(
dÿche_acûss
,max_dcache_access);

884 #ifdeà
INPUT_OUTPUT_BUFFER


885 
max_šput_buf_acûss
 = 
	`MAX
(
šput_buf_acûss
, max_input_buf_access);

886 
max_ouut_buf_acûss
 = 
	`MAX
(
ouut_buf_acûss
, max_output_buf_access);

888 
max_dÿche2_acûss
=
	`MAX
(
dÿche2_acûss
,max_dcache2_access);

889 
max_®u1_acûss
=
	`MAX
(
Ÿlu1_acûss
,max_alu1_access);

890 
max_®u2_acûss
=
	`MAX
(
Ÿlu2_acûss
,max_alu2_access);

891 
max_çlu1_acûss
=
	`MAX
(
çlu1_acûss
,max_falu1_access);

892 
max_çlu2_acûss
=
	`MAX
(
çlu2_acûss
,max_falu2_access);

893 
max_œesuÉbus_acûss
=
	`MAX
(
œesuÉbus_acûss
,max_iresultbus_access);

894 
max_äesuÉbus_acûss
=
	`MAX
(
äesuÉbus_acûss
,max_fresultbus_access);

896 
max_du¶iÿtiÚ_acûss
=
	`MAX
(
du¶iÿtiÚ_acûss
,max_duplication_access);

897 
max_com·»_acûss
=
	`MAX
(
com·»_acûss
,max_compare_access);

899 if(
cu¼’t
->
»Çme_acûss
) {

900 
RENAME_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
»Çme_acûss
 + ((()
	`MAX
(0,(
ruu_decode_width
)-cu¼’t->»Çme_acûss))*
tuºoff_çùÜ
))/()Ôuu_decode_width))*
pow”
.
»Çme_pow”
;

901 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
»Çme_acûss
 + ((()
	`MAX
(0,(
ruu_decode_width
)-cu¼’t->»Çme_acûss))*
tuºoff_çùÜ
))/()Ôuu_decode_width))*
pow”
.
»Çme_pow”
;)

903 
	`IFCC3
({

904 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
»Çme_pow”
;

905 
RENAME_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
»Çme_pow”
;

908 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
œ’ame
+=
hÙ¥Ù_‹mp
/2;

909 
hÙ¥Ù_³½”iod
[
th»adid
].
ä’ame
+=
hÙ¥Ù_‹mp
/2;)

912 ià(
cu¼’t
->
fq¿m_acûss
) {

913 
FQRAM_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
fq¿m_acûss
 + ((()
	`MAX
(0,(
ruu_decode_width
)+
ruu_issue_width
-cu¼’t->fq¿m_acûss))*
tuºoff_çùÜ
))/()Ôuu_issue_width+Ôuu_decode_width)))*
pow”
.
fq¿m_pow”
;

914 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
fq¿m_acûss
 + ((()
	`MAX
(0,(
ruu_decode_width
)+
ruu_issue_width
-cu¼’t->fq¿m_acûss))*
tuºoff_çùÜ
))/()Ôuu_issue_width+Ôuu_decode_width)))*
pow”
.
fq¿m_pow”
;)

916 
	`IFCC3
({

917 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
fq¿m_pow”
;

918 
FQRAM_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
fq¿m_pow”
;

920 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
fqueue
+=
hÙ¥Ù_‹mp
;)

923 ià(
cu¼’t
->
iq¿m_acûss
) {

924 
IQRAM_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
iq¿m_acûss
 + ((()
	`MAX
(0,(
ruu_decode_width
)+
ruu_issue_width
-cu¼’t->iq¿m_acûss))*
tuºoff_çùÜ
))/()Ôuu_issue_width+Ôuu_decode_width)))*
pow”
.
iq¿m_pow”
;

925 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
iq¿m_acûss
 + ((()
	`MAX
(0,(
ruu_decode_width
)+
ruu_issue_width
-cu¼’t->iq¿m_acûss))*
tuºoff_çùÜ
))/()Ôuu_issue_width+Ôuu_decode_width)))*
pow”
.
iq¿m_pow”
;)

927 
	`IFCC3
({

928 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
fq¿m_pow”
;

929 
IQRAM_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
iq¿m_pow”
;

931 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
iqueue
+=
hÙ¥Ù_‹mp
;)

935 ià(
cu¼’t
->
rob1_acûss
) {

936 
ROB1_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
rob1_acûss
 + ((()
	`MAX
(0,
ruu_comm™_width
-cu¼’t->rob1_acûss))*
tuºoff_çùÜ
))/(ìuu_comm™_width)*
pow”
.
rob1_pow”
;

937 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
rob1_acûss
 + ((()
	`MAX
(0,
ruu_comm™_width
-cu¼’t->rob1_acûss))*
tuºoff_çùÜ
))/(ìuu_comm™_width)*
pow”
.
rob1_pow”
;)

939 
	`IFCC3
({

940 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
rob1_pow”
;

941 
ROB1_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
rob1_pow”
;

943 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
rob
+=
hÙ¥Ù_‹mp
;)

946 ià(
cu¼’t
->
rob2_acûss
) {

947 
ROB2_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
rob2_acûss
+ ((()
	`MAX
(0,(
ruu_decode_width
)+
ruu_comm™_width
-cu¼’t->rob2_acûss))*
tuºoff_çùÜ
))/()Ôuu_comm™_width+Ôuu_decode_width)))*
pow”
.
rob2_pow”
;

948 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
rob2_acûss
+ ((()
	`MAX
(0,(
ruu_decode_width
)+
ruu_comm™_width
-cu¼’t->rob2_acûss))*
tuºoff_çùÜ
))/()Ôuu_comm™_width+Ôuu_decode_width)))*
pow”
.
rob2_pow”
;)

950 
	`IFCC3
({

951 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
rob2_pow”
;

952 
ROB2_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
rob2_pow”
;

954 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
rob
+=
hÙ¥Ù_‹mp
;)

956 
CLOCK1_pow”_cc3
[
th»adid
] +ğ
pow”
.
şock1_pow”
;

957 
	`IFCC3
(
hÙ¥Ù_³½”iod
[0].
şock1
+=
pow”
.
şock1_pow”
;)

959 
CLOCK2_pow”_cc3
[
th»adid
] +ğ
pow”
.
şock2_pow”
;

960 
	`IFCC3
(
hÙ¥Ù_³½”iod
[0].
şock2
+=
pow”
.
şock2_pow”
;)

962 
CLOCK3_pow”_cc3
[
th»adid
] +ğ
pow”
.
şock3_pow”
;

963 
	`IFCC3
(
hÙ¥Ù_³½”iod
[0].
şock3
+=
pow”
.
şock3_pow”
;)

965 if(
cu¼’t
->
b´ed_acûss
) {

966 ià(
cu¼’t
->
b´ed_acûss
 < 2){

967 
BPRED_pow”_cc3
[
th»adid
]+=0.6*
pow”
.
b´ed_pow”
;

968 
hÙ¥Ù_‹mp
=0.6*
pow”
.
b´ed_pow”
;

971 
BPRED_pow”_cc3
[
th»adid
]+=(()
cu¼’t
->
b´ed_acûss
/2.0è* 
pow”
.
b´ed_pow”
;

972 
	`IFCC3
(
hÙ¥Ù_‹mp
=(()
cu¼’t
->
b´ed_acûss
/2.0è* 
pow”
.
b´ed_pow”
;)

975 
	`IFCC3
({

976 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
b´ed_pow”
;

977 
BPRED_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
b´ed_pow”
;

979 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
b´ed
+=
hÙ¥Ù_‹mp
;)

982 if(
cu¼’t
->
i£ËùiÚ_acûss
) {

983 
ISELECTION_pow”_cc3
[
th»adid
]+=
pow”
.
i£ËùiÚ
;

984 
	`IFCC3
(
hÙ¥Ù_‹mp
=
pow”
.
i£ËùiÚ
;)

986 
	`IFCC3
({

987 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
i£ËùiÚ
;

988 
ISELECTION_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
i£ËùiÚ
;

990 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
iqueue
+=
hÙ¥Ù_‹mp
;)

993 if(
cu¼’t
->
f£ËùiÚ_acûss
) {

994 
FSELECTION_pow”_cc3
[
th»adid
]+=
pow”
.
f£ËùiÚ
;

995 
	`IFCC3
(
hÙ¥Ù_‹mp
=
pow”
.
f£ËùiÚ
;)

997 
	`IFCC3
({

998 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
f£ËùiÚ
;

999 
FSELECTION_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
f£ËùiÚ
;

1001 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
fqueue
+=
hÙ¥Ù_‹mp
;)

1004 if(
cu¼’t
->
iwakeup_acûss
) {

1005 
IWAKEUP_pow”_cc3
[
th»adid
]+=
pow”
.
iwakeup_pow”
;

1006 
	`IFCC3
(
hÙ¥Ù_‹mp
=
pow”
.
iwakeup_pow”
;)

1008 
	`IFCC3
({

1009 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
iwakeup_pow”
;

1010 
FWAKEUP_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
iwakeup_pow”
;

1012 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
iqueue
+=
hÙ¥Ù_‹mp
;)

1015 if(
cu¼’t
->
fwakeup_acûss
) {

1016 
FWAKEUP_pow”_cc3
[
th»adid
]+=
pow”
.
fwakeup_pow”
;

1017 
	`IFCC3
(
hÙ¥Ù_‹mp
=
pow”
.
fwakeup_pow”
;)

1019 
	`IFCC3
({

1020 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
fwakeup_pow”
;

1021 
FWAKEUP_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
fwakeup_pow”
;

1023 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
fqueue
+=
hÙ¥Ù_‹mp
;)

1025 if(
cu¼’t
->
lsq_wakeup_acûss
) {

1026 
LSQ_pow”_cc3
[
th»adid
]+=
pow”
.
lsq_wakeup_pow”
;

1027 
	`IFCC3
(
hÙ¥Ù_‹mp
=
pow”
.
lsq_wakeup_pow”
;)

1029 
	`IFCC3
({

1030 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
lsq_wakeup_pow”
;

1031 
LSQ_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
lsq_wakeup_pow”
;

1033 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
lsq
+=
hÙ¥Ù_‹mp
;)

1035 #ifdeà
INPUT_OUTPUT_BUFFER


1036 if(
cu¼’t
->
šput_buf_acûss
) {

1037 
šput_buf_pow”_cc3
[
th»adid
]+ğ
cu¼’t
->
šput_buf_acûss
*
pow”
.
šput_buf_pow”
;

1039 
	`IFCC3
({

1040 
šput_buf_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
šput_buf_pow”
;

1043 if(
cu¼’t
->
ouut_buf_acûss
) {

1044 
ouut_buf_pow”_cc3
[
th»adid
]+=
cu¼’t
->
ouut_buf_acûss
*
pow”
.
ouut_buf_pow”
;

1046 
	`IFCC3
({

1047 
ouut_buf_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
ouut_buf_pow”
;

1051 #ifdeà
STATIC_AF


1052 if(
cu¼’t
->
lsq_´eg_acûss
) {

1053 
LSQ_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
lsq_´eg_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
)-cu¼’t->lsq_´eg_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS))*
pow”
.
lsq_rs_pow”
;

1054 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
lsq_´eg_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
)-cu¼’t->lsq_´eg_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS))*
pow”
.
lsq_rs_pow”
;)

1056 
	`IFCC3
({

1057 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
lsq_rs_pow”
;

1058 
LSQ_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
lsq_rs_pow”
;

1060 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
lsq
+=
hÙ¥Ù_‹mp
;)

1063 if(
cu¼’t
->
lsq_´eg_acûss
) {

1064 
LSQ_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
lsq_´eg_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
)-cu¼’t->lsq_´eg_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS))*(
pow”
.
lsq_rs_pow”_nob™
 + 
lsq_af_b
*pow”.
lsq_rs_b™lše
);

1065 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
lsq_´eg_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
)-cu¼’t->lsq_´eg_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS))*(
pow”
.
lsq_rs_pow”_nob™
 + 
lsq_af_b
*pow”.
lsq_rs_b™lše
);)

1067 
	`IFCC3
({

1068 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
lsq_rs_pow”
;

1069 
LSQ_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
lsq_rs_pow”
;

1071 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
lsq
+=
hÙ¥Ù_‹mp
;)

1074 if(
cu¼’t
->
œegfe_acûss
) {

1075 
IREGFILE_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
œegfe_acûss
 + ((()
	`MAX
(0,3*
ruu_comm™_width
 -cu¼’t->œegfe_acûss))*
tuºoff_çùÜ
))/(3.0*(ìuu_comm™_width))*(
pow”
.
œegfe_pow”_nob™
 + 
œegfe_af_b
*pow”.
œegfe_b™lše
);

1076 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
œegfe_acûss
 + ((()
	`MAX
(0,3*
ruu_comm™_width
 -cu¼’t->œegfe_acûss))*
tuºoff_çùÜ
))/(3.0*(ìuu_comm™_width))*(
pow”
.
œegfe_pow”_nob™
 + 
œegfe_af_b
*pow”.
œegfe_b™lše
);)

1078 
	`IFCC3
({

1079 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
œegfe_pow”
;

1080 
IREGFILE_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
œegfe_pow”
;

1083 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
œeg0
+=
hÙ¥Ù_‹mp
/2;

1084 
hÙ¥Ù_³½”iod
[
th»adid
].
œeg1
+=
hÙ¥Ù_‹mp
/2;)

1086 if(
cu¼’t
->
äegfe_acûss
) {

1087 
FREGFILE_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
äegfe_acûss
 + ((()
	`MAX
(0,3*
ruu_comm™_width
 - cu¼’t->
œegfe_acûss
))*
tuºoff_çùÜ
))/(3.0*(ìuu_comm™_width))*(
pow”
.
äegfe_pow”_nob™
 + 
äegfe_af_b
*pow”.
äegfe_b™lše
);

1088 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
äegfe_acûss
 + ((()
	`MAX
(0,3*
ruu_comm™_width
 - cu¼’t->
œegfe_acûss
))*
tuºoff_çùÜ
))/(3.0*(ìuu_comm™_width))*(
pow”
.
äegfe_pow”_nob™
 + 
äegfe_af_b
*pow”.
äegfe_b™lše
);)

1090 
	`IFCC3
({

1091 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
äegfe_pow”
;

1092 
FREGFILE_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
äegfe_pow”
;

1094 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
äeg
+=
hÙ¥Ù_‹mp
;)

1098 if(
cu¼’t
->
iÿche_acûss
) {

1099 
ICACHE_pow”_cc3
[
th»adid
]+=
pow”
.
iÿche_pow”
+pow”.
™lb
;

1100 
	`IFCC3
(
hÙ¥Ù_‹mp
=
pow”
.
iÿche_pow”
;)

1101 
	`IFCC3
(
hÙ¥Ù_‹mp2
=
pow”
.
™lb
;)

1103 
	`IFCC3
({

1104 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*(
pow”
.
iÿche_pow”
);

1105 
hÙ¥Ù_‹mp2
=
tuºoff_çùÜ
*(
pow”
.
™lb
);

1106 
ICACHE_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*(
pow”
.
iÿche_pow”
+pow”.
™lb
);

1108 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
iÿche
+=
hÙ¥Ù_‹mp
;)

1109 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
™lb
+=
hÙ¥Ù_‹mp2
;)

1111 if(
cu¼’t
->
dÿche_acûss
) {

1112 
DCACHE_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
dÿche_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)-cu¼’t->dÿche_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS+DIR_FIFO_PORTS))*(
pow”
.
dÿche_pow”
 +…ow”.
db
);

1113 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
dÿche_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)-cu¼’t->dÿche_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS+DIR_FIFO_PORTS))*(
pow”
.
dÿche_pow”
);)

1114 
	`IFCC3
(
hÙ¥Ù_‹mp2
=((()
cu¼’t
->
dÿche_acûss
 + ((()
	`MAX
(0,(
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)-cu¼’t->dÿche_acûss))*
tuºoff_çùÜ
))/((ìes_mempÜt/CLUSTERS+DIR_FIFO_PORTS))*(
pow”
.
db
);)

1116 
	`IFCC3
({

1117 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*(
pow”
.
dÿche_pow”
);

1118 
hÙ¥Ù_‹mp2
=
tuºoff_çùÜ
*(
pow”
.
db
);

1119 
DCACHE_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*(
pow”
.
dÿche_pow”
+pow”.
db
);

1121 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
dl1ÿche
+=
hÙ¥Ù_‹mp
;)

1123 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
dtb0
+=
hÙ¥Ù_‹mp2
/2;

1124 
hÙ¥Ù_³½”iod
[
th»adid
].
dtb1
+=
hÙ¥Ù_‹mp2
/2;)

1126 if(
cu¼’t
->
dÿche2_acûss
) {

1127 
DCACHE2_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
dÿche2_acûss
 + ((()
	`MAX
(0,(
DIR_FIFO_PORTS
)-cu¼’t->dÿche2_acûss))*
tuºoff_çùÜ
))/(()DIR_FIFO_PORTS))*
pow”
.
dÿche2_pow”
;

1128 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
dÿche2_acûss
 + ((()
	`MAX
(0,(
DIR_FIFO_PORTS
)-cu¼’t->dÿche2_acûss))*
tuºoff_çùÜ
))/(()DIR_FIFO_PORTS))*
pow”
.
dÿche2_pow”
;)

1130 
	`IFCC3
({

1131 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
dÿche2_pow”
;

1132 
DCACHE2_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
dÿche2_pow”
;

1137 
	`IFCC3
(
hÙ¥Ù_³½”iod
[0].
ul2ÿche
+=
hÙ¥Ù_‹mp
;)

1138 
	`IFCC3
(
hÙ¥Ù_³½”iod
[0].
sysštf
+=
hÙ¥Ù_‹mp
;)

1140 if(
cu¼’t
->
Ÿlu1_acûss
) {

1141 
ALU1_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
Ÿlu1_acûss
 + ((()
	`MAX
(0,(
»s_Ÿlu
/
CLUSTERS
)-cu¼’t->Ÿlu1_acûss))*
tuºoff_çùÜ
))/((ìes_Ÿlu/CLUSTERS))*
pow”
.
Ÿlu1_pow”
;

1142 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
Ÿlu1_acûss
 + ((()
	`MAX
(0,(
»s_Ÿlu
/
CLUSTERS
)-cu¼’t->Ÿlu1_acûss))*
tuºoff_çùÜ
))/((ìes_Ÿlu/CLUSTERS))*
pow”
.
Ÿlu1_pow”
;)

1144 
	`IFCC3
({

1145 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
Ÿlu1_pow”
;

1146 
ALU1_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
Ÿlu1_pow”
;

1151 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
Ÿlu0
+=
hÙ¥Ù_‹mp
/3;

1152 
hÙ¥Ù_³½”iod
[
th»adid
].
Ÿlu1
+=
hÙ¥Ù_‹mp
/3;

1154 
hÙ¥Ù_³½”iod
[
th»adid
].
Ÿlu3
+=
hÙ¥Ù_‹mp
/3;)

1159 if(
cu¼’t
->
Ÿlu2_acûss
) {

1160 
ALU2_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
Ÿlu2_acûss
 + ((()
	`MAX
(0,(
»s_imuÉ
/
CLUSTERS
)-cu¼’t->Ÿlu2_acûss))*
tuºoff_çùÜ
))/((ìes_imuÉ/CLUSTERS))*
pow”
.
Ÿlu2_pow”
;

1161 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
Ÿlu2_acûss
 + ((()
	`MAX
(0,(
»s_imuÉ
/
CLUSTERS
)-cu¼’t->Ÿlu2_acûss))*
tuºoff_çùÜ
))/((ìes_imuÉ/CLUSTERS))*
pow”
.
Ÿlu2_pow”
;)

1163 
	`IFCC3
({

1164 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
Ÿlu2_pow”
;

1165 
ALU2_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
Ÿlu2_pow”
;

1167 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
Ÿlu2
+=
hÙ¥Ù_‹mp
;)

1170 if(
cu¼’t
->
çlu1_acûss
) {

1171 
FALU1_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
çlu1_acûss
 + ((()
	`MAX
(0,(
»s_å®u
/
CLUSTERS
)-cu¼’t->çlu1_acûss))*
tuºoff_çùÜ
))/((ìes_å®u/CLUSTERS))*
pow”
.
çlu1_pow”
;

1172 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
çlu1_acûss
 + ((()
	`MAX
(0,(
»s_å®u
/
CLUSTERS
)-cu¼’t->çlu1_acûss))*
tuºoff_çùÜ
))/((ìes_å®u/CLUSTERS))*
pow”
.
çlu1_pow”
;)

1174 
	`IFCC3
({

1175 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
çlu1_pow”
;

1176 
FALU1_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
çlu1_pow”
;

1178 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
çdd
+=
hÙ¥Ù_‹mp
;)

1181 if(
cu¼’t
->
çlu2_acûss
) {

1182 
FALU2_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
çlu2_acûss
 + ((()
	`MAX
(0,(
»s_åmuÉ
/
CLUSTERS
)-cu¼’t->çlu2_acûss))*
tuºoff_çùÜ
))/((ìes_åmuÉ/CLUSTERS))*
pow”
.
çlu2_pow”
;

1183 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
çlu2_acûss
 + ((()
	`MAX
(0,(
»s_åmuÉ
/
CLUSTERS
)-cu¼’t->çlu2_acûss))*
tuºoff_çùÜ
))/((ìes_åmuÉ/CLUSTERS))*
pow”
.
çlu2_pow”
;)

1185 
	`IFCC3
({

1186 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
çlu2_pow”
;

1187 
FALU2_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
çlu2_pow”
;

1189 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
fmul
+=
hÙ¥Ù_‹mp
;)

1192 #ifdeà
STATIC_AF


1193 if(
cu¼’t
->
œesuÉbus_acûss
) {

1194 
IRESULTBUS_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
œesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->œesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
pow”
.
œesuÉbus
;

1195 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
œesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->œesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
pow”
.
œesuÉbus
;)

1197 
	`IFCC3
({

1198 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
œesuÉbus
;

1199 
IRESULTBUS_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
œesuÉbus
;

1201 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
œesuÉbus
+=
hÙ¥Ù_‹mp
;)

1204 if(
cu¼’t
->
œesuÉbus_acûss
) {

1205 
IRESULTBUS_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
œesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->œesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
œesuÉbus_af_b
*
pow”
.
œesuÉbus
;

1206 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
œesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->œesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
œesuÉbus_af_b
*
pow”
.
œesuÉbus
;)

1208 
	`IFCC3
({

1209 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
œesuÉbus
;

1210 
IRESULTBUS_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
œesuÉbus
;

1212 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
œesuÉbus
+=
hÙ¥Ù_‹mp
;)

1216 #ifdeà
STATIC_AF


1217 if(
cu¼’t
->
äesuÉbus_acûss
) {

1218 
FRESULTBUS_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
äesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->äesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
pow”
.
äesuÉbus
;

1219 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
äesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->äesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
pow”
.
äesuÉbus
;)

1221 
	`IFCC3
({

1222 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
äesuÉbus
;

1223 
FRESULTBUS_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
äesuÉbus
;

1225 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
äesuÉbus
+=
hÙ¥Ù_‹mp
;)

1227 if(
cu¼’t
->
äesuÉbus_acûss
) {

1228 
FRESULTBUS_pow”_cc3
[
th»adid
]+=((()
cu¼’t
->
äesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->äesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
äesuÉbus_af_b
*
pow”
.
äesuÉbus
;

1229 
	`IFCC3
(
hÙ¥Ù_‹mp
=((()
cu¼’t
->
äesuÉbus_acûss
 + ((()
	`MAX
(0,
ruu_issue_width
-cu¼’t->äesuÉbus_acûss))*
tuºoff_çùÜ
))/(ìuu_issue_width)*
äesuÉbus_af_b
*
pow”
.
äesuÉbus
;)

1231 
	`IFCC3
({

1232 
hÙ¥Ù_‹mp
=
tuºoff_çùÜ
*
pow”
.
äesuÉbus
;

1233 
FRESULTBUS_pow”_cc3
[
th»adid
]+=
tuºoff_çùÜ
*
pow”
.
äesuÉbus
;

1235 
	`IFCC3
(
hÙ¥Ù_³½”iod
[
th»adid
].
äesuÉbus
+=
hÙ¥Ù_‹mp
;)

1243 if(!
di§bË_¿y
){

1244 ià(
du¶iÿtiÚ_acûss
)

1245 
du¶iÿtiÚ_pow”_cc3
 +ğ
pow”
.
du¶iÿtiÚ_pow”
;

1247 
du¶iÿtiÚ_pow”_cc3
 +ğ
tuºoff_çùÜ
*
pow”
.
du¶iÿtiÚ_pow”
;

1252 ià(
com·»_acûss
)

1253 
com·»_pow”_cc3
 +ğ
pow”
.
com·»_pow”
;

1255 
com·»_pow”_cc3
 +ğ
tuºoff_çùÜ
*
pow”
.
com·»_pow”
;

1258 
tÙ®_cyşe_pow”
 = 
»Çme_pow”
 + 
iq¿m_pow”
 + 
fq¿m_pow”
 + 
şock1_pow”
 + 
şock2_pow”
 + 
şock3_pow”
 + 
rob1_pow”
 + 
rob2_pow”
 + 
b´ed_pow”
 + 
iwakeup_pow”
 +

1259 
fwakeup_pow”
 + 
i£ËùiÚ_pow”
 + 
f£ËùiÚ_pow”
 +

1260 
lsq_pow”
 + 
œegfe_pow”
 + 
äegfe_pow”
 + 
iÿche_pow”
 + 
dÿche_pow”
 +

1261 #ifdeà
INPUT_OUTPUT_BUFFER


1262 
šput_buf_pow”
 + 
ouut_buf_pow”
 +

1264 
®u1_pow”
 + 
®u2_pow”
 + 
çlu1_pow”
 + 
çlu2_pow”
 + 
œesuÉbus_pow”
 + 
äesuÉbus_pow”
 + 
du¶iÿtiÚ_pow”
 + 
com·»_pow”
;

1266 
TOTAL_pow”_cc3
[
th»adid
] = 
RENAME_pow”_cc3
 [th»adid]+ 
IQRAM_pow”_cc3
[th»adid] + 
FQRAM_pow”_cc3
[threadid] +

1267 
CLOCK1_pow”_cc3
[
th»adid
] + 
CLOCK2_pow”_cc3
[th»adid] + 
CLOCK3_pow”_cc3
[threadid] +

1268 
ROB1_pow”_cc3
[
th»adid
] + 
ROB2_pow”_cc3
[th»adid] + 
BPRED_pow”_cc3
[threadid] +

1269 
IWAKEUP_pow”_cc3
 [
th»adid
]+ 
FWAKEUP_pow”_cc3
[th»adid] + 
ISELECTION_pow”_cc3
[threadid] +

1270 
FSELECTION_pow”_cc3
[
th»adid
] +

1271 
LSQ_pow”_cc3
[
th»adid
] + 
IREGFILE_pow”_cc3
[th»adid] + 
FREGFILE_pow”_cc3
 [threadid]+

1272 
ICACHE_pow”_cc3
[
th»adid
] + 
DCACHE_pow”_cc3
[th»adid] + 
ALU1_pow”_cc3
[threadid] +

1273 
ALU2_pow”_cc3
 [
th»adid
]+ 
FALU1_pow”_cc3
 [th»adid]+ 
FALU2_pow”_cc3
[threadid] +

1274 
IRESULTBUS_pow”_cc3
[
th»adid
] + 
FRESULTBUS_pow”_cc3
 [threadid] +

1275 #ifdeà
INPUT_OUTPUT_BUFFER


1276 
šput_buf_pow”_cc3
[
th»adid
] + 
ouut_buf_pow”_cc3
[threadid] +

1278 
DCACHE2_pow”_cc3
[
th»adid
]+ 
du¶iÿtiÚ_pow”_cc3
 + 
com·»_pow”_cc3
;

1280 
max_cyşe_pow”_cc3
 = 
	`MAX
(max_cyşe_pow”_cc3,
TOTAL_pow”_cc3
[
th»adid
]);

1281 
	}
}

1283 *
	$g’Bufãr
(*
buf
)

1285 
i
;

1286 
	`¡rıy
(
bufãr2
, 
buf
);

1287 
i
 = 0; i < 
CLUSTERS
; i++)

1289 if(
i
 !ğ
CLUSTERS
-1)

1290 
	`¥rštf
(
bufãr1
,"_%d + ", 
i
);

1292 
	`¥rštf
(
bufãr1
,"_%d", 
i
);

1293 
	`¡rÿt
(
bufãr2
, 
bufãr1
);

1294 if(
i
 !ğ
CLUSTERS
-1)

1295 
	`¡rÿt
(
bufãr2
, 
buf
);

1297  
bufãr2
;

1298 
	}
}

1301 
	$pow”_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

1303 
lcouÁ
;

1305 
	`¡©_»g_doubË
(
sdb
, "»Çme_pow”", "tÙ®…ow” u§goà»Çmun™", &
»Çme_pow”
, 0, 
NULL
);

1306 
	`¡©_»g_doubË
(
sdb
, "iq¿m_pow”", "tÙ®…ow” u§goàš‹g” queu¿m", &
iq¿m_pow”
, 0, 
NULL
);

1307 
	`¡©_»g_doubË
(
sdb
, "fq¿m_pow”", "tÙ®…ow” u§goàå queu¿m", &
fq¿m_pow”
, 0, 
NULL
);

1310 
	`¡©_»g_doubË
(
sdb
, "şock1_pow”", "tÙ®…ow” u§goàşock fr-’d", &
şock1_pow”
, 0, 
NULL
);

1311 
	`¡©_»g_doubË
(
sdb
, "şock2_pow”", "tÙ®…ow” u§goàşock iÁ", &
şock2_pow”
, 0, 
NULL
);

1312 
	`¡©_»g_doubË
(
sdb
, "şock3_pow”", "tÙ®…ow” u§goàşock fp", &
şock3_pow”
, 0, 
NULL
);

1314 
	`¡©_»g_doubË
(
sdb
, "rob1_pow”", "tÙ®…ow” u§goàrob wakeup", &
rob1_pow”
, 0, 
NULL
);

1315 
	`¡©_»g_doubË
(
sdb
, "rob2_pow”", "tÙ®…ow” u§goàrob„am", &
rob2_pow”
, 0, 
NULL
);

1316 
	`¡©_»g_doubË
(
sdb
, "b´ed_pow”", "tÙ®…ow” u§goàb´ed un™", &
b´ed_pow”
, 0, 
NULL
);

1317 
	`¡©_»g_doubË
(
sdb
, "iwakeup_pow”", "tÙ®…ow” u§goàšˆwakeup", &
iwakeup_pow”
, 0, 
NULL
);

1318 
	`¡©_»g_doubË
(
sdb
, "fwakeup_pow”", "tÙ®…ow” u§goàå wakeup", &
fwakeup_pow”
, 0, 
NULL
);

1319 
	`¡©_»g_doubË
(
sdb
, "i£ËùiÚ_pow”", "tÙ®…ow” u§goàšˆ£ËùiÚ", &
i£ËùiÚ_pow”
, 0, 
NULL
);

1320 
	`¡©_»g_doubË
(
sdb
, "f£ËùiÚ_pow”", "tÙ®…ow” u§goàå s–eùiÚ", &
f£ËùiÚ_pow”
, 0, 
NULL
);

1321 
	`¡©_»g_doubË
(
sdb
, "lsq_pow”", "tÙ®…ow” u§goàlßd/¡Üqueue", &
lsq_pow”
, 0, 
NULL
);

1322 
	`¡©_»g_doubË
(
sdb
, "œegfe_pow”", "tÙ®…ow” u§goàšˆ»gfe", &
œegfe_pow”
, 0, 
NULL
);

1323 
	`¡©_»g_doubË
(
sdb
, "äegfe_pow”", "tÙ®…ow” u§goàå„egfe", &
äegfe_pow”
, 0, 
NULL
);

1324 
	`¡©_»g_doubË
(
sdb
, "iÿche_pow”", "tÙ®…ow” u§goàiÿche", &
iÿche_pow”
, 0, 
NULL
);

1325 
	`¡©_»g_doubË
(
sdb
, "dÿche_pow”", "tÙ®…ow” u§goàdÿche", &
dÿche_pow”
, 0, 
NULL
);

1326 
	`¡©_»g_doubË
(
sdb
, "dÿche2_pow”", "tÙ®…ow” u§goàdÿche2", &
dÿche2_pow”
, 0, 
NULL
);

1327 #ifdeà
INPUT_OUTPUT_BUFFER


1328 
	`¡©_»g_doubË
(
sdb
, "šput_buf_pow”", "tÙ®…ow” u§goàšpuˆbufãr's", &
šput_buf_pow”
, 0, 
NULL
);

1329 
	`¡©_»g_doubË
(
sdb
, "ouut_buf_pow”", "tÙ®…ow” u§goàouuˆbufãr's", &
ouut_buf_pow”
, 0, 
NULL
);

1331 
	`¡©_»g_doubË
(
sdb
, "®u1_pow”", "tÙ®…ow” u§goà®u1", &
®u1_pow”
, 0, 
NULL
);

1332 
	`¡©_»g_doubË
(
sdb
, "®u2_pow”", "tÙ®…ow” u§goà®u2", &
®u2_pow”
, 0, 
NULL
);

1333 
	`¡©_»g_doubË
(
sdb
, "çlu1_pow”", "tÙ®…ow” u§goàçlu1", &
çlu1_pow”
, 0, 
NULL
);

1334 
	`¡©_»g_doubË
(
sdb
, "çlu2_pow”", "tÙ®…ow” u§goàçlu2", &
çlu2_pow”
, 0, 
NULL
);

1335 
	`¡©_»g_doubË
(
sdb
, "œesuÉbus_pow”", "tÙ®…ow” u§goàœesuÉbus", &
œesuÉbus_pow”
, 0, 
NULL
);

1336 
	`¡©_»g_doubË
(
sdb
, "äesuÉbus_pow”", "tÙ®…ow” u§goàäesuÉbus", &
äesuÉbus_pow”
, 0, 
NULL
);

1338 
	`¡©_»g_doubË
(
sdb
, "du¶iÿtiÚ_pow”", "tÙ®…ow” u§goàdu¶iÿtÜ", &
du¶iÿtiÚ_pow”
, 0, 
NULL
);

1339 
	`¡©_»g_doubË
(
sdb
, "com·»_pow”", "tÙ®…ow” u§goàcom·¿tÜ", &
com·»_pow”
, 0, 
NULL
);

1340 
	`¡©_»g_doubË
(
sdb
, "şock_pow”", "tÙ®…ow” u§goàşock", &
şock_pow”
, 0, 
NULL
);

1342 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_»Çme_pow”", "avg…ow” u§goà»Çmun™", "»Çme_pow”/sim_cyşe", 
NULL
);

1343 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iq¿m_pow”", "avg…ow” u§goàšˆissueq„am", "iq¿m_pow”/sim_cyşe", 
NULL
);

1344 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_fq¿m_pow”", "avg…ow” u§goàå issueq„am", "fq¿m_pow”/sim_cyşe", 
NULL
);

1345 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock1_pow”", "avg…ow” u§goàşock1", "şock1_pow”/sim_cyşe", 
NULL
);

1346 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock2_pow”", "avg…ow” u§goàşock2", "şock2_pow”/sim_cyşe", 
NULL
);

1347 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock3_pow”", "avg…ow” u§goàşock3", "şock3_pow”/sim_cyşe", 
NULL
);

1348 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_rob1_pow”", "avg…ow” u§goàrob wakeup", "rob1_pow”/sim_cyşe", 
NULL
);

1349 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_rob2_pow”", "avg…ow” u§goàrob„am", "rob2_pow”/sim_cyşe", 
NULL
);

1350 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_b´ed_pow”", "avg…ow” u§goàb´ed un™", "b´ed_pow”/sim_cyşe", 
NULL
);

1351 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iwakeup_pow”", "avg…ow” u§goàšˆwakeup", "iwakeup_pow”/sim_cyşe", 
NULL
);

1352 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_fwakeup_pow”", "avg…ow” u§goàå wakeup", "fwakeup_pow”/sim_cyşe", 
NULL
);

1353 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_i£ËùiÚ_pow”", "avg…ow” u§goàšˆ£ËùiÚ", "i£ËùiÚ_pow”/sim_cyşe", 
NULL
);

1354 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_f£ËùiÚ_pow”", "avg…ow” u§goàå s–eùiÚ", "f£ËùiÚ_pow”/sim_cyşe", 
NULL
);

1355 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_lsq_pow”", "avg…ow” u§goàlsq", "lsq_pow”/sim_cyşe", 
NULL
);

1356 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_œegfe_pow”", "avg…ow” u§goàšˆ»gfe", "œegfe_pow”/sim_cyşe", 
NULL
);

1357 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_äegfe_pow”", "avg…ow” u§goàå„egfe", "äegfe_pow”/sim_cyşe", 
NULL
);

1358 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iÿche_pow”", "avg…ow” u§goàiÿche", "iÿche_pow”/sim_cyşe", 
NULL
);

1359 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_dÿche_pow”", "avg…ow” u§goàdÿche", "dÿche_pow”/sim_cyşe", 
NULL
);

1360 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_dÿche2_pow”", "avg…ow” u§goàdÿche2", "dÿche2_pow”/sim_cyşe", 
NULL
);

1361 #ifdeà
INPUT_OUTPUT_BUFFER


1362 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_šput_buf_pow”", "avg…ow” u§goàšpuˆbufãr's", "šput_buf_pow”/sim_cyşe", 
NULL
);

1363 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_ouut_buf_pow”", "avg…ow” u§goàouuˆbufãr's", "ouut_buf_pow”/sim_cyşe", 
NULL
);

1365 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_®u1_pow”", "avg…ow” u§goà®u1", "®u1_pow”/sim_cyşe", 
NULL
);

1366 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_®u2_pow”", "avg…ow” u§goà®u2", "®u2_pow”/sim_cyşe", 
NULL
);

1367 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_çlu1_pow”", "avg…ow” u§goàçlu1", "çlu1_pow”/sim_cyşe", 
NULL
);

1368 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_çlu2_pow”", "avg…ow” u§goàçlu2", "çlu2_pow”/sim_cyşe", 
NULL
);

1369 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_œesuÉbus_pow”", "avg…ow” u§goàœesuÉbus", "œesuÉbus_pow”/sim_cyşe", 
NULL
);

1370 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_äesuÉbus_pow”", "avg…ow” u§goàäesuÉbus", "äesuÉbus_pow”/sim_cyşe", 
NULL
);

1372 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_du¶iÿtiÚ_pow”", "avg…ow” u§goàdu¶iÿtÜ", "du¶iÿtiÚ_pow”/sim_cyşe", 
NULL
);

1373 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_com·»_pow”", "avg…ow” u§goàcom·¿tÜ", "com·»_pow”/sim_cyşe", 
NULL
);

1374 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock_pow”", "avg…ow” u§goàşock", "şock_pow”/sim_cyşe", 
NULL
);

1376 
	`¡©_»g_fÜmuÏ
(
sdb
, "tÙ®_pow”", "tÙ®…ow”…” cyş(Wè(cumuÏtive)",
	`x¡r
(
TOTAL_CYCLE_POWER
), 
NULL
);

1377 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_tÙ®_pow”_cyşe", "av”agtÙ®…ow”…” cyş(W)",
	`x¡r
(
TOTAL_CYCLE_POWER
/
sim_cyşe
), 
NULL
);

1378 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_tÙ®_pow”_š¢", "av”agtÙ®…ow”…” in¢ (nÙ‡ccu¿‹)",
	`x¡r
(
TOTAL_CYCLE_POWER
/
sim_tÙ®_š¢
), 
NULL
);

1380 
lcouÁ
 =0;†couÁ<
CLUSTERS
;lcount++)

1382 
	`¥rštf
(
bufãr1
,"CLOCK1_pow”_cc3_%d",
lcouÁ
);

1383 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàCLOCK1", &
CLOCK1_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1384 
	`¥rštf
(
bufãr1
,"CLOCK2_pow”_cc3_%d",
lcouÁ
);

1385 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàCLOCK2", &
CLOCK2_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1386 
	`¥rštf
(
bufãr1
,"CLOCK3_pow”_cc3_%d",
lcouÁ
);

1387 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàCLOCK3", &
CLOCK3_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1388 
	`¥rštf
(
bufãr1
,"RENAME_pow”_cc3_%d",
lcouÁ
);

1389 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàRENAME", &
RENAME_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1390 
	`¥rštf
(
bufãr1
,"IQRAM_pow”_cc3_%d",
lcouÁ
);

1391 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàIQRAM ", &
IQRAM_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1392 
	`¥rštf
(
bufãr1
,"FQRAM_pow”_cc3_%d",
lcouÁ
);

1393 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goà FQRAM", &
FQRAM_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1394 
	`¥rštf
(
bufãr1
,"ROB1_pow”_cc3_%d",
lcouÁ
);

1395 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goà ROB1", &
ROB1_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1396 
	`¥rštf
(
bufãr1
,"ROB2_pow”_cc3_%d",
lcouÁ
);

1397 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàROB2 ", &
ROB2_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1398 
	`¥rštf
(
bufãr1
,"BPRED_pow”_cc3_%d",
lcouÁ
);

1399 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goà BPRED", &
BPRED_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1400 
	`¥rštf
(
bufãr1
,"IWAKEUP_pow”_cc3_%d",
lcouÁ
);

1401 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàIWAKEUP ", &
IWAKEUP_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1402 
	`¥rštf
(
bufãr1
,"FWAKEUP_pow”_cc3_%d",
lcouÁ
);

1403 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàFWAKEUP", &
FWAKEUP_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1404 
	`¥rštf
(
bufãr1
,"ISELECTION_pow”_cc3_%d",
lcouÁ
);

1405 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàISELECTION", &
ISELECTION_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1406 
	`¥rštf
(
bufãr1
,"FSELECTION_pow”_cc3_%d",
lcouÁ
);

1407 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàFSELECTION", &
FSELECTION_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1408 
	`¥rštf
(
bufãr1
,"LSQ_pow”_cc3_%d",
lcouÁ
);

1409 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàLSQ", &
LSQ_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1410 
	`¥rštf
(
bufãr1
,"IREGFILE_pow”_cc3_%d",
lcouÁ
);

1411 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàIREGFILE", &
IREGFILE_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1412 
	`¥rštf
(
bufãr1
,"FREGFILE_pow”_cc3_%d",
lcouÁ
);

1413 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàFREGFILE", &
FREGFILE_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1414 
	`¥rštf
(
bufãr1
,"ALU1_pow”_cc3_%d",
lcouÁ
);

1415 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàALU1", &
ALU1_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1416 
	`¥rštf
(
bufãr1
,"ALU2_pow”_cc3_%d",
lcouÁ
);

1417 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàALU2", &
ALU2_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1418 
	`¥rštf
(
bufãr1
,"FALU1_pow”_cc3_%d",
lcouÁ
);

1419 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàFALU1", &
FALU1_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1420 
	`¥rštf
(
bufãr1
,"FALU2_pow”_cc3_%d",
lcouÁ
);

1421 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàFALU2", &
FALU2_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1422 
	`¥rštf
(
bufãr1
,"IRESULTBUS_pow”_cc3_%d",
lcouÁ
);

1423 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàIRESULTBUS", &
IRESULTBUS_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1424 
	`¥rštf
(
bufãr1
,"FRESULTBUS_pow”_cc3_%d",
lcouÁ
);

1425 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàFRESULTBUS", &
FRESULTBUS_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1426 
	`¥rštf
(
bufãr1
,"ICACHE_pow”_cc3_%d",
lcouÁ
);

1427 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàICACHE", &
ICACHE_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1428 
	`¥rštf
(
bufãr1
,"DCACHE_pow”_cc3_%d",
lcouÁ
);

1429 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàDCACHE", &
DCACHE_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1430 
	`¥rštf
(
bufãr1
,"DCACHE2_pow”_cc3_%d",
lcouÁ
);

1431 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàDCACHE2", &
DCACHE2_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1432 #ifdeà
INPUT_OUTPUT_BUFFER


1433 
	`¥rštf
(
bufãr1
,"šput_buf_pow”_cc3_%d",
lcouÁ
);

1434 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàšpuˆbufãr", &
šput_buf_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1435 
	`¥rštf
(
bufãr1
,"ouut_buf_pow”_cc3_%d",
lcouÁ
);

1436 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàouuˆbufãr", &
ouut_buf_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1438 
	`¥rštf
(
bufãr1
,"DUPLICATION_pow”_cc3_%d",
lcouÁ
);

1439 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàdu¶iÿtÜ_cc3", &
du¶iÿtiÚ_pow”_cc3
, 0, 
NULL
);

1440 
	`¥rštf
(
bufãr1
,"COMPARE_pow”_cc3_%d",
lcouÁ
);

1441 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§goàcom·¿tÜ_cc3", &
com·»_pow”_cc3
, 0, 
NULL
);

1442 
	`¥rštf
(
bufãr1
,"TOTAL_pow”_cc3_%d",
lcouÁ
);

1443 
	`¡©_»g_doubË
(
sdb
, 
bufãr1
, "tÙ®…ow” u§g", &
TOTAL_pow”_cc3
[
lcouÁ
], 0, 
NULL
);

1444 
	`¥rštf
(
bufãr1
,"AVG_TOTAL_pow”_cc3_%d",
lcouÁ
);

1445 
	`¥rštf
(
bufãr2
,"TOTAL_pow”_cc3_%d/sim_cyşe", 
lcouÁ
);

1446 
	`¡©_»g_fÜmuÏ
(
sdb
, 
bufãr1
, "av”agtÙ®…ow”…” cyşe_cc3", 
bufãr2
, 
NULL
);

1447 
	`¥rštf
(
bufãr1
,"AVG_TOTAL_pow”_š¢_cc3_%d",
lcouÁ
);

1448 
	`¥rštf
(
bufãr2
,"TOTAL_pow”_cc3_%d/sim_tÙ®_š¢", 
lcouÁ
);

1449 
	`¡©_»g_fÜmuÏ
(
sdb
, 
bufãr1
, "av”agtÙ®…ow”…” in¢_cc3ÒÙ‡ccu¿‹)",
bufãr2
, 
NULL
);

1452 
	`¡©_»g_fÜmuÏ
(
sdb
, "şock1_pow”_cc3", "tÙ®…ow” u§goàşock1_cc3", 
	`g’Bufãr
("CLOCK1_pow”_cc3"), 
NULL
);

1453 
	`¡©_»g_fÜmuÏ
(
sdb
, "şock2_pow”_cc3", "tÙ®…ow” u§goàşock2_cc3", 
	`g’Bufãr
("CLOCK2_pow”_cc3"), 
NULL
);

1454 
	`¡©_»g_fÜmuÏ
(
sdb
, "şock3_pow”_cc3", "tÙ®…ow” u§goàşock3_cc3", 
	`g’Bufãr
("CLOCK3_pow”_cc3"), 
NULL
);

1455 
	`¡©_»g_fÜmuÏ
(
sdb
, "»Çme_pow”_cc3", "tÙ®…ow” u§goà»Çmun™_cc3", 
	`g’Bufãr
("RENAME_pow”_cc3"), 
NULL
);

1456 
	`¡©_»g_fÜmuÏ
(
sdb
, "iq¿m_pow”_cc3", "tÙ®…ow” u§goàšˆissueq„am_cc3", 
	`g’Bufãr
("IQRAM_pow”_cc3"), 
NULL
);

1457 
	`¡©_»g_fÜmuÏ
(
sdb
, "fq¿m_pow”_cc3", "tÙ®…ow” u§goàå issueq„am_cc3", 
	`g’Bufãr
("FQRAM_pow”_cc3"), 
NULL
);

1458 
	`¡©_»g_fÜmuÏ
(
sdb
, "rob1_pow”_cc3", "tÙ®…ow” u§goàrob wakeup_cc3", 
	`g’Bufãr
("ROB1_pow”_cc3"), 
NULL
);

1459 
	`¡©_»g_fÜmuÏ
(
sdb
, "rob2_pow”_cc3", "tÙ®…ow” u§goàrob„am_cc3", 
	`g’Bufãr
("ROB2_pow”_cc3"), 
NULL
);

1460 
	`¡©_»g_fÜmuÏ
(
sdb
, "b´ed_pow”_cc3", "tÙ®…ow” u§goàb´ed un™_cc3", 
	`g’Bufãr
("BPRED_pow”_cc3"), 
NULL
);

1461 
	`¡©_»g_fÜmuÏ
(
sdb
, "iwakeup_pow”_cc3", "tÙ®…ow” u§goàšˆwakeup_cc3", 
	`g’Bufãr
("IWAKEUP_pow”_cc3"), 
NULL
);

1462 
	`¡©_»g_fÜmuÏ
(
sdb
, "fwakeup_pow”_cc3", "tÙ®…ow” u§goàå wakeup_cc3", 
	`g’Bufãr
("FWAKEUP_pow”_cc3"), 
NULL
);

1463 
	`¡©_»g_fÜmuÏ
(
sdb
, "i£ËùiÚ_pow”_cc3", "tÙ®…ow” u§goàšˆ£ËùiÚ_cc3", 
	`g’Bufãr
("ISELECTION_pow”_cc3"), 
NULL
);

1464 
	`¡©_»g_fÜmuÏ
(
sdb
, "f£ËùiÚ_pow”_cc3", "tÙ®…ow” u§goàå s–eùiÚ_cc3", 
	`g’Bufãr
("FSELECTION_pow”_cc3"), 
NULL
);

1465 
	`¡©_»g_fÜmuÏ
(
sdb
, "lsq_pow”_cc3", "tÙ®…ow” u§goàlsq_cc3", 
	`g’Bufãr
("LSQ_pow”_cc3"), 
NULL
);

1466 
	`¡©_»g_fÜmuÏ
(
sdb
, "œegfe_pow”_cc3", "tÙ®…ow” u§goàšˆ»gfe_cc3", 
	`g’Bufãr
("IREGFILE_pow”_cc3"), 
NULL
);

1467 
	`¡©_»g_fÜmuÏ
(
sdb
, "äegfe_pow”_cc3", "tÙ®…ow” u§goàå„egfe_cc3", 
	`g’Bufãr
("FREGFILE_pow”_cc3"), 
NULL
);

1468 
	`¡©_»g_fÜmuÏ
(
sdb
, "®u1_pow”_cc3", "tÙ®…ow” u§goà®u1_cc3", 
	`g’Bufãr
("ALU1_pow”_cc3"), 
NULL
);

1469 
	`¡©_»g_fÜmuÏ
(
sdb
, "®u2_pow”_cc3", "tÙ®…ow” u§goà®u2_cc3", 
	`g’Bufãr
("ALU2_pow”_cc3"), 
NULL
);

1470 
	`¡©_»g_fÜmuÏ
(
sdb
, "çlu1_pow”_cc3", "tÙ®…ow” u§goàçlu1_cc3", 
	`g’Bufãr
("FALU1_pow”_cc3"), 
NULL
);

1471 
	`¡©_»g_fÜmuÏ
(
sdb
, "çlu2_pow”_cc3", "tÙ®…ow” u§goàçlu2_cc3", 
	`g’Bufãr
("FALU2_pow”_cc3"), 
NULL
);

1472 
	`¡©_»g_fÜmuÏ
(
sdb
, "œesuÉbus_pow”_cc3", "tÙ®…ow” u§goàœesuÉbus_cc3", 
	`g’Bufãr
("IRESULTBUS_pow”_cc3"), 
NULL
);

1473 
	`¡©_»g_fÜmuÏ
(
sdb
, "äesuÉbus_pow”_cc3", "tÙ®…ow” u§goàäesuÉbus_cc3", 
	`g’Bufãr
("FRESULTBUS_pow”_cc3"), 
NULL
);

1474 
	`¡©_»g_fÜmuÏ
(
sdb
, "iÿche_pow”_cc3", "tÙ®…ow” u§goàiÿche_cc3", 
	`g’Bufãr
("ICACHE_pow”_cc3"), 
NULL
);

1475 
	`¡©_»g_fÜmuÏ
(
sdb
, "dÿche_pow”_cc3", "tÙ®…ow” u§goàdÿche_cc3", 
	`g’Bufãr
("DCACHE_pow”_cc3"), 
NULL
);

1476 
	`¡©_»g_fÜmuÏ
(
sdb
, "dÿche2_pow”_cc3", "tÙ®…ow” u§goàdÿche2_cc3", 
	`g’Bufãr
("DCACHE2_pow”_cc3"), 
NULL
);

1477 #ifdeà
INPUT_OUTPUT_BUFFER


1478 
	`¡©_»g_fÜmuÏ
(
sdb
, "šput_buf_pow”_cc3", "tÙ®…ow” u§goàšpuˆbufãr_cc3", 
	`g’Bufãr
("šput_buf_pow”_cc3"), 
NULL
);

1479 
	`¡©_»g_fÜmuÏ
(
sdb
, "ouut_buf_pow”_cc3", "tÙ®…ow” u§goàouuˆbufãr_cc3", 
	`g’Bufãr
("ouut_buf_pow”_cc3"), 
NULL
);

1481 
	`¡©_»g_fÜmuÏ
(
sdb
, "du¶iÿtiÚ_pow”_cc3", "tÙ®…ow” u§goàdu¶iÿtÜ_cc3", 
	`g’Bufãr
("DUPLICATION_pow”_cc3"), 
NULL
);

1482 
	`¡©_»g_fÜmuÏ
(
sdb
, "com·»_pow”_cc3", "tÙ®…ow” u§goàcom·¿tÜ_cc3", 
	`g’Bufãr
("COMPARE_pow”_cc3"), 
NULL
);

1484 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_»Çme_pow”_cc3", "avg…ow” u§goà»Çmun™_cc3", "»Çme_pow”_cc3/sim_cyşe", 
NULL
);

1485 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iq¿m_pow”_cc3", "avg…ow” u§goàšˆissueq„am_cc3", "iq¿m_pow”_cc3/sim_cyşe", 
NULL
);

1486 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_fq¿m_pow”_cc3", "avg…ow” u§goàå issueq„am_cc3", "fq¿m_pow”_cc3/sim_cyşe", 
NULL
);

1487 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock1_pow”_cc3", "avg…ow” u§goàşock1_cc3", "şock1_pow”_cc3/sim_cyşe", 
NULL
);

1488 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock2_pow”_cc3", "avg…ow” u§goàşock2_cc3", "şock2_pow”_cc3/sim_cyşe", 
NULL
);

1489 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_şock3_pow”_cc3", "avg…ow” u§goàşock3_cc3", "şock3_pow”_cc3/sim_cyşe", 
NULL
);

1490 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_rob1_pow”_cc3", "avg…ow” u§goàrob wakeup_cc3", "rob1_pow”_cc3/sim_cyşe", 
NULL
);

1491 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_rob2_pow”_cc3", "avg…ow” u§goàrob„am_cc3", "rob2_pow”_cc3/sim_cyşe", 
NULL
);

1492 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_b´ed_pow”_cc3", "avg…ow” u§goàb´ed un™_cc3", "b´ed_pow”_cc3/sim_cyşe", 
NULL
);

1493 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iwakeup_pow”_cc3", "avg…ow” u§goàšˆwakeup_cc3", "iwakeup_pow”_cc3/sim_cyşe", 
NULL
);

1494 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_fwakeup_pow”_cc3", "avg…ow” u§goàå wakeup_cc3", "fwakeup_pow”_cc3/sim_cyşe", 
NULL
);

1495 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_i£ËùiÚ_pow”_cc3", "avg…ow” u§goàšˆ£ËùiÚ_cc3", "i£ËùiÚ_pow”_cc3/sim_cyşe", 
NULL
);

1496 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_f£ËùiÚ_pow”_cc3", "avg…ow” u§goàå s–eùiÚ_cc3", "f£ËùiÚ_pow”_cc3/sim_cyşe", 
NULL
);

1497 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_lsq_pow”_cc3", "avg…ow” u§goàš¡ruùiÚ†sq_cc3", "lsq_pow”_cc3/sim_cyşe", 
NULL
);

1498 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_œegfe_pow”_cc3", "avg…ow” u§goàšˆ»gfe_cc3", "œegfe_pow”_cc3/sim_cyşe", 
NULL
);

1499 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_äegfe_pow”_cc3", "avg…ow” u§goàå„egfe_cc3", "äegfe_pow”_cc3/sim_cyşe", 
NULL
);

1500 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iÿche_pow”_cc3", "avg…ow” u§goàiÿche_cc3", "iÿche_pow”_cc3/sim_cyşe", 
NULL
);

1501 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_dÿche_pow”_cc3", "avg…ow” u§goàdÿche_cc3", "dÿche_pow”_cc3/sim_cyşe", 
NULL
);

1502 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_dÿche2_pow”_cc3", "avg…ow” u§goàdÿche2_cc3", "dÿche2_pow”_cc3/sim_cyşe", 
NULL
);

1503 #ifdeà
INPUT_OUTPUT_BUFFER


1504 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_šput_buf_pow”_cc3", "avg…ow” u§goàšput_buf_cc3", "šput_buf_pow”_cc3/sim_cyşe", 
NULL
);

1505 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_ouut_buf_pow”_cc3", "avg…ow” u§goàouut_buf_cc3", "ouut_buf_pow”_cc3/sim_cyşe", 
NULL
);

1507 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_®u1_pow”_cc3", "avg…ow” u§goà®u1_cc3", "®u1_pow”_cc3/sim_cyşe", 
NULL
);

1508 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_®u2_pow”_cc3", "avg…ow” u§goà®u2_cc3", "®u2_pow”_cc3/sim_cyşe", 
NULL
);

1509 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_çlu1_pow”_cc3", "avg…ow” u§goàçlu1_cc3", "çlu1_pow”_cc3/sim_cyşe", 
NULL
);

1510 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_çlu2_pow”_cc3", "avg…ow” u§goàçlu2_cc3", "çlu2_pow”_cc3/sim_cyşe", 
NULL
);

1511 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_œesuÉbus_pow”_cc3", "avg…ow” u§goàœesuÉbus_cc3", "œesuÉbus_pow”_cc3/sim_cyşe", 
NULL
);

1512 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_äesuÉbus_pow”_cc3", "avg…ow” u§goàäesuÉbus_cc3", "äesuÉbus_pow”_cc3/sim_cyşe", 
NULL
);

1513 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_du¶iÿtiÚ_pow”_cc3", "avg…ow” u§goàdu¶iÿtÜ_cc3", "du¶iÿtiÚ_pow”_cc3/sim_cyşe", 
NULL
);

1514 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_com·»_pow”_cc3", "avg…ow” u§goàcom·¿tÜ_cc3", "com·»_pow”_cc3/sim_cyşe", 
NULL
);

1515 
	`¡©_»g_fÜmuÏ
(
sdb
, "tÙ®_pow”_cyşe_cc3", "tÙ®…ow”…” cyşe_cc3",
	`x¡r
(
TOTAL_CYCLE_POWER_CC3
), 
NULL
);

1516 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_tÙ®_pow”_cyşe_cc3", "av”agtÙ®…ow”…” cyşe_cc3",
	`x¡r
(
TOTAL_CYCLE_POWER_CC3
/
sim_cyşe
), 
NULL
);

1517 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_tÙ®_pow”_š¢_cc3", "av”agtÙ®…ow”…” in¢_cc3ÒÙ‡ccu¿‹)",
	`x¡r
(
TOTAL_CYCLE_POWER_CC3
/
sim_tÙ®_š¢
), 
NULL
);

1519 
	`¡©_»g_fÜmuÏ
(
sdb
, "»Çme_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀ»Çme",
	`x¡r
((
»Çme_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1520 
	`¡©_»g_fÜmuÏ
(
sdb
, "iq¿m_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀšˆissueq„am",
	`x¡r
((
iq¿m_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1521 
	`¡©_»g_fÜmuÏ
(
sdb
, "fq¿m_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀå issueq„am",
	`x¡r
((
fq¿m_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1522 
	`¡©_»g_fÜmuÏ
(
sdb
, "rob1_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀrob wakeup",
	`x¡r
((
rob1_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1523 
	`¡©_»g_fÜmuÏ
(
sdb
, "rob2_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀrob„am",
	`x¡r
((
rob2_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1524 
	`¡©_»g_fÜmuÏ
(
sdb
, "b´ed_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀb´ed",
	`x¡r
((
b´ed_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1525 
	`¡©_»g_fÜmuÏ
(
sdb
, "lsq_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀlsq",
	`x¡r
((
lsq_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1526 
	`¡©_»g_fÜmuÏ
(
sdb
, "iwakeup_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀšˆwakeup",
	`x¡r
((
iwakeup_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1527 
	`¡©_»g_fÜmuÏ
(
sdb
, "fwakeup_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀå wakeup",
	`x¡r
((
fwakeup_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1528 
	`¡©_»g_fÜmuÏ
(
sdb
, "i£ËùiÚ_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀšˆ£ËùiÚ",
	`x¡r
((
i£ËùiÚ_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1529 
	`¡©_»g_fÜmuÏ
(
sdb
, "f£ËùiÚ_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀå s–eùiÚ",
	`x¡r
((
f£ËùiÚ_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1530 
	`¡©_»g_fÜmuÏ
(
sdb
, "œegfe_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀšˆ»gfe",
	`x¡r
((
œegfe_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1531 
	`¡©_»g_fÜmuÏ
(
sdb
, "äegfe_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀå„egfe",
	`x¡r
((
äegfe_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1532 
	`¡©_»g_fÜmuÏ
(
sdb
, "iÿche_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀiÿche",
	`x¡r
((
iÿche_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1533 
	`¡©_»g_fÜmuÏ
(
sdb
, "œesuÉbus_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀœesuÉbus",
	`x¡r
((
œesuÉbus_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1534 
	`¡©_»g_fÜmuÏ
(
sdb
, "äesuÉbus_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀäesuÉbus",
	`x¡r
((
äesuÉbus_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1535 
	`¡©_»g_fÜmuÏ
(
sdb
, "®u1_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀ®u1",
	`x¡r
((
®u1_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1536 
	`¡©_»g_fÜmuÏ
(
sdb
, "®u2_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀ®u2",
	`x¡r
((
®u2_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1537 
	`¡©_»g_fÜmuÏ
(
sdb
, "çlu1_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀçlu1",
	`x¡r
((
çlu1_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1538 
	`¡©_»g_fÜmuÏ
(
sdb
, "çlu2_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀçlu2",
	`x¡r
((
çlu2_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1539 
	`¡©_»g_fÜmuÏ
(
sdb
, "dÿche_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀdÿche",
	`x¡r
((
dÿche_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1540 
	`¡©_»g_fÜmuÏ
(
sdb
, "dÿche2_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀdÿche2",
	`x¡r
((
dÿche2_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1541 #ifdeà
INPUT_OUTPUT_BUFFER


1542 
	`¡©_»g_fÜmuÏ
(
sdb
, "šput_buf_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀšput_buf",
	`x¡r
((
šput_buf_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1543 
	`¡©_»g_fÜmuÏ
(
sdb
, "ouut_buf_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀouut_buf",
	`x¡r
((
ouut_buf_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1545 
	`¡©_»g_fÜmuÏ
(
sdb
, "şock1_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀşock1",
	`x¡r
((
şock1_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1546 
	`¡©_»g_fÜmuÏ
(
sdb
, "şock2_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀşock2",
	`x¡r
((
şock2_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1547 
	`¡©_»g_fÜmuÏ
(
sdb
, "şock3_äaùiÚ", "cc3 P”ûÁagoàpow” diss©ed iÀşock3",
	`x¡r
((
şock3_pow”_cc3
*100)/
TOTAL_CYCLE_POWER_CC3
),
NULL
);

1549 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_»Çme_acûss", "tÙ®‚umb”‡cûs£ oà»Çmun™", &
tÙ®_»Çme_acûss
, 0, 
NULL
);

1550 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_iq¿m_acûss", "tÙ®‚umb”‡cûs£ oàšˆissueq„am", &
tÙ®_iq¿m_acûss
, 0, 
NULL
);

1551 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_fq¿m_acûss", "tÙ®‚umb”‡cûs£ oàå issueq„am", &
tÙ®_fq¿m_acûss
, 0, 
NULL
);

1552 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_rob1_acûss", "tÙ®‚umb”‡cûs£ oàrob wakeup", &
tÙ®_rob1_acûss
, 0, 
NULL
);

1553 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_rob2_acûss", "tÙ®‚umb”‡cûs£ oàrob wakeup", &
tÙ®_rob2_acûss
, 0, 
NULL
);

1554 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_b´ed_acûss", "tÙ®‚umb”‡cûs£ oàb´ed un™", &
tÙ®_b´ed_acûss
, 0, 
NULL
);

1555 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_iwakeup_acûss", "tÙ®‚umb”‡cûs£ oàšˆwakeup", &
tÙ®_iwakeup_acûss
, 0, 
NULL
);

1556 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_fwakeup_acûss", "tÙ®‚umb”‡cûs£ oàå wakeup", &
tÙ®_fwakeup_acûss
, 0, 
NULL
);

1557 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_i£ËùiÚ_acûss", "tÙ®‚umb”‡cûs£ oàšˆ£ËùiÚ", &
tÙ®_i£ËùiÚ_acûss
, 0, 
NULL
);

1558 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_f£ËùiÚ_acûss", "tÙ®‚umb”‡cûs£ oàå s–eùiÚ", &
tÙ®_f£ËùiÚ_acûss
, 0, 
NULL
);

1559 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_lsq_acûss", "tÙ®‚umb”‡cûs£ oàlßd/¡Üqueue", &
tÙ®_lsq_acûss
, 0, 
NULL
);

1560 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_œegfe_acûss", "tÙ®‚umb”‡cûs£ oàšˆ»gfe", &
tÙ®_œegfe_acûss
, 0, 
NULL
);

1561 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_äegfe_acûss", "tÙ®‚umb”‡cûs£ oàå„egfe", &
tÙ®_äegfe_acûss
, 0, 
NULL
);

1562 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_iÿche_acûss", "tÙ®‚umb”‡cûs£ oàiÿche", &
tÙ®_iÿche_acûss
, 0, 
NULL
);

1563 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_dÿche_acûss", "tÙ®‚umb”‡cûs£ oàdÿche", &
tÙ®_dÿche_acûss
, 0, 
NULL
);

1564 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_dÿche2_acûss", "tÙ®‚umb”‡cûs£ oàdÿche2", &
tÙ®_dÿche2_acûss
, 0, 
NULL
);

1565 #ifdeà
INPUT_OUTPUT_BUFFER


1566 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_šput_buf_acûss", "tÙ®‚umb”‡cûs£ oàšput_buf", &
tÙ®_šput_buf_acûss
, 0, 
NULL
);

1567 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_ouut_buf_acûss", "tÙ®‚umb”‡cûs£ oàouut_buf", &
tÙ®_ouut_buf_acûss
, 0, 
NULL
);

1569 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_®u1_acûss", "tÙ®‚umb”‡cûs£ oà®u1", &
tÙ®_®u1_acûss
, 0, 
NULL
);

1570 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_®u2_acûss", "tÙ®‚umb”‡cûs£ oà®u2", &
tÙ®_®u2_acûss
, 0, 
NULL
);

1571 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_çlu1_acûss", "tÙ®‚umb”‡cûs£ oàçlu1", &
tÙ®_çlu1_acûss
, 0, 
NULL
);

1572 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_çlu2_acûss", "tÙ®‚umb”‡cûs£ oàçlu2", &
tÙ®_çlu2_acûss
, 0, 
NULL
);

1573 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_œesuÉbus_acûss", "tÙ®‚umb”‡cûs£ oàœesuÉbus", &
tÙ®_œesuÉbus_acûss
, 0, 
NULL
);

1574 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_äesuÉbus_acûss", "tÙ®‚umb”‡cûs£ oàäesuÉbus", &
tÙ®_äesuÉbus_acûss
, 0, 
NULL
);

1575 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_du¶iÿtiÚ_acûss", "tÙ®‚umb”‡cûs£ oàš¡ruùiÚ du¶iÿtiÚ", &
tÙ®_du¶iÿtiÚ_acûss
, 0, 
NULL
);

1576 
	`¡©_»g_couÁ”
(
sdb
, "tÙ®_com·»_acûss", "tÙ®‚umb”‡cûs£ oàš¡ruùiÚ com·»", &
tÙ®_com·»_acûss
, 0, 
NULL
);

1578 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_»Çme_acûss", "avg‚umb”‡cûs£ oà»Çmun™", "tÙ®_»Çme_acûss/sim_cyşe", 
NULL
);

1579 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iq¿m_acûss", "avg‚umb”‡cûs£ oàšˆissueq„am", "tÙ®_iq¿m_acûss/sim_cyşe", 
NULL
);

1580 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_fq¿m_acûss", "avg‚umb”‡cûs£ oàå issueq„am", "tÙ®_fq¿m_acûss/sim_cyşe", 
NULL
);

1581 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_rob1_acûss", "avg‚umb”‡cûs£ oàrob wakeup", "tÙ®_rob1_acûss/sim_cyşe", 
NULL
);

1582 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_rob2_acûss", "avg‚umb”‡cûs£ oàrob„am", "tÙ®_rob2_acûss/sim_cyşe", 
NULL
);

1583 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_b´ed_acûss", "avg‚umb”‡cûs£ oàb´ed un™", "tÙ®_b´ed_acûss/sim_cyşe", 
NULL
);

1584 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iwakeup_acûss", "avg‚umb”‡cûs£ oàšˆwakeup", "tÙ®_iwakeup_acûss/sim_cyşe", 
NULL
);

1585 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_fwakeup_acûss", "avg‚umb”‡cûs£ oàå wakeup", "tÙ®_fwakeup_acûss/sim_cyşe", 
NULL
);

1586 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_i£ËùiÚ_acûss", "avg‚umb”‡cûs£ oàšˆ£ËùiÚ", "tÙ®_i£ËùiÚ_acûss/sim_cyşe", 
NULL
);

1587 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_f£ËùiÚ_acûss", "avg‚umb”‡cûs£ oàå s–eùiÚ", "tÙ®_f£ËùiÚ_acûss/sim_cyşe", 
NULL
);

1588 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_lsq_acûss", "avg‚umb”‡cûs£ oàlsq", "tÙ®_lsq_acûss/sim_cyşe", 
NULL
);

1589 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_œegfe_acûss", "avg‚umb”‡cûs£ oàšˆ»gfe", "tÙ®_œegfe_acûss/sim_cyşe", 
NULL
);

1590 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_äegfe_acûss", "avg‚umb”‡cûs£ oàå„egfe", "tÙ®_äegfe_acûss/sim_cyşe", 
NULL
);

1591 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_iÿche_acûss", "avg‚umb”‡cûs£ oàiÿche", "tÙ®_iÿche_acûss/sim_cyşe", 
NULL
);

1592 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_dÿche_acûss", "avg‚umb”‡cûs£ oàdÿche", "tÙ®_dÿche_acûss/sim_cyşe", 
NULL
);

1593 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_dÿche2_acûss", "avg‚umb”‡cûs£ oàdÿche2", "tÙ®_dÿche2_acûss/sim_cyşe", 
NULL
);

1594 #ifdeà
INPUT_OUTPUT_BUFFER


1595 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_šput_buf_acûss", "avg‚umb”‡cûs£ oàšput_buf", "tÙ®_šput_buf_acûss/sim_cyşe", 
NULL
);

1596 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_ouut_buf_acûss", "avg‚umb”‡cûs£ oàouut_buf", "tÙ®_ouut_buf_acûss/sim_cyşe", 
NULL
);

1598 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_®u1_acûss", "avg‚umb”‡cûs£ oà®u1", "tÙ®_®u1_acûss/sim_cyşe", 
NULL
);

1599 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_®u2_acûss", "avg‚umb”‡cûs£ oà®u2", "tÙ®_®u2_acûss/sim_cyşe", 
NULL
);

1600 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_çlu1_acûss", "avg‚umb”‡cûs£ oàçlu1", "tÙ®_çlu1_acûss/sim_cyşe", 
NULL
);

1601 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_çlu2_acûss", "avg‚umb”‡cûs£ oàçlu2", "tÙ®_çlu2_acûss/sim_cyşe", 
NULL
);

1602 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_œesuÉbus_acûss", "avg‚umb”‡cûs£ oàœesuÉbus", "tÙ®_œesuÉbus_acûss/sim_cyşe", 
NULL
);

1603 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_äesuÉbus_acûss", "avg‚umb”‡cûs£ oàäesuÉbus", "tÙ®_äesuÉbus_acûss/sim_cyşe", 
NULL
);

1605 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_du¶iÿtiÚ_acûss", "avg‚umb”‡cûs£ oàš¡ruùiÚ du¶iÿtiÚ", "tÙ®_du¶iÿtiÚ_acûss/sim_cyşe", 
NULL
);

1606 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_com·»_acûss", "avg‚umb”‡cûs£ oàš¡ruùiÚ com·»", "tÙ®_com·»_acûss/sim_cyşe", 
NULL
);

1608 
	`¡©_»g_couÁ”
(
sdb
, "max_»Çme_acûss", "max‚umb”‡cûs£ oà»Çmun™", &
max_»Çme_acûss
, 0, 
NULL
);

1609 
	`¡©_»g_couÁ”
(
sdb
, "max_iq¿m_acûss", "max‚umb”‡cûs£ oàšˆissueq„am", &
max_iq¿m_acûss
, 0, 
NULL
);

1610 
	`¡©_»g_couÁ”
(
sdb
, "max_fq¿m_acûss", "max‚umb”‡cûs£ oàå issueq„am", &
max_fq¿m_acûss
, 0, 
NULL
);

1611 
	`¡©_»g_couÁ”
(
sdb
, "max_rob1_acûss", "max‚umb”‡cûs£ oàrob wakeup", &
max_rob1_acûss
, 0, 
NULL
);

1612 
	`¡©_»g_couÁ”
(
sdb
, "max_rob2_acûss", "max‚umb”‡cûs£ oàrob„am", &
max_rob2_acûss
, 0, 
NULL
);

1613 
	`¡©_»g_couÁ”
(
sdb
, "max_b´ed_acûss", "max‚umb”‡cûs£ oàb´ed un™", &
max_b´ed_acûss
, 0, 
NULL
);

1614 
	`¡©_»g_couÁ”
(
sdb
, "max_iwakeup_acûss", "max‚umb”‡cûs£ oàšˆwakeup", &
max_iwakeup_acûss
, 0, 
NULL
);

1615 
	`¡©_»g_couÁ”
(
sdb
, "max_fwakeup_acûss", "max‚umb”‡cûs£ oàå wakeup", &
max_fwakeup_acûss
, 0, 
NULL
);

1616 
	`¡©_»g_couÁ”
(
sdb
, "max_i£ËùiÚ_acûss", "max‚umb”‡cûs£ oàšˆ£ËùiÚ", &
max_i£ËùiÚ_acûss
, 0, 
NULL
);

1617 
	`¡©_»g_couÁ”
(
sdb
, "max_f£ËùiÚ_acûss", "max‚umb”‡cûs£ oàå s–eùiÚ", &
max_f£ËùiÚ_acûss
, 0, 
NULL
);

1618 
	`¡©_»g_couÁ”
(
sdb
, "max_lsq_acûss", "max‚umb”‡cûs£ oàlßd/¡Üqueue", &
max_lsq_acûss
, 0, 
NULL
);

1619 
	`¡©_»g_couÁ”
(
sdb
, "max_œegfe_acûss", "max‚umb”‡cûs£ oàšˆ»gfe", &
max_œegfe_acûss
, 0, 
NULL
);

1620 
	`¡©_»g_couÁ”
(
sdb
, "max_äegfe_acûss", "max‚umb”‡cûs£ oàå„egfe", &
max_äegfe_acûss
, 0, 
NULL
);

1621 
	`¡©_»g_couÁ”
(
sdb
, "max_iÿche_acûss", "max‚umb”‡cûs£ oàiÿche", &
max_iÿche_acûss
, 0, 
NULL
);

1622 
	`¡©_»g_couÁ”
(
sdb
, "max_dÿche_acûss", "max‚umb”‡cûs£ oàdÿche", &
max_dÿche_acûss
, 0, 
NULL
);

1623 
	`¡©_»g_couÁ”
(
sdb
, "max_dÿche2_acûss", "max‚umb”‡cûs£ oàdÿche2", &
max_dÿche2_acûss
, 0, 
NULL
);

1624 #ifdeà
INPUT_OUTPUT_BUFFER


1625 
	`¡©_»g_couÁ”
(
sdb
, "max_šput_buf_acûss", "max‚umb”‡cûs£ oàšput_buf", 
max_šput_buf_acûss
, 0,
NULL
);

1626 
	`¡©_»g_couÁ”
(
sdb
, "max_ouut_buf_acûss", "max‚umb”‡cûs£ oàouut_buf", 
max_ouut_buf_acûss
, 0, 
NULL
);

1628 
	`¡©_»g_couÁ”
(
sdb
, "max_®u1_acûss", "max‚umb”‡cûs£ oà®u1", &
max_®u1_acûss
, 0, 
NULL
);

1629 
	`¡©_»g_couÁ”
(
sdb
, "max_®u2_acûss", "max‚umb”‡cûs£ oà®u2", &
max_®u2_acûss
, 0, 
NULL
);

1630 
	`¡©_»g_couÁ”
(
sdb
, "max_çlu1_acûss", "max‚umb”‡cûs£ oàçlu1", &
max_çlu1_acûss
, 0, 
NULL
);

1631 
	`¡©_»g_couÁ”
(
sdb
, "max_çlu2_acûss", "max‚umb”‡cûs£ oàçlu2", &
max_çlu2_acûss
, 0, 
NULL
);

1632 
	`¡©_»g_couÁ”
(
sdb
, "max_œesuÉbus_acûss", "max‚umb”‡cûs£ oàœesuÉbus", &
max_œesuÉbus_acûss
, 0, 
NULL
);

1633 
	`¡©_»g_couÁ”
(
sdb
, "max_äesuÉbus_acûss", "max‚umb”‡cûs£ oàäesuÉbus", &
max_äesuÉbus_acûss
, 0, 
NULL
);

1635 
	`¡©_»g_couÁ”
(
sdb
, "max_du¶iÿtiÚ_acûss", "max‚umb”‡cûs£ oàš¡ruùiÚ du¶iÿtiÚ", &
max_du¶iÿtiÚ_acûss
, 0, 
NULL
);

1636 
	`¡©_»g_couÁ”
(
sdb
, "max_com·»_acûss", "max‚umb”‡cûs£ oàš¡ruùiÚ com·»", &
max_com·»_acûss
, 0, 
NULL
);

1638 
	`¡©_»g_doubË
(
sdb
, "max_cyşe_pow”_cc3", "maximum cyşpow” u§goàcc3", &
max_cyşe_pow”_cc3
, 0, 
NULL
);

1639 
	}
}

1648 
	$squ¬ify
(
rows
, 
cŞs
)

1650 
sÿË_çùÜ
 = 1;

1652 if(
rows
 =ğ
cŞs
)

1660 
rows
 > 
cŞs
) {

1661 
rows
 =„ows/2;

1662 
cŞs
 = cols*2;

1670 ià(
rows
/2 <ğ
cŞs
)

1671 (()
	`pow
(2.0,()
sÿË_çùÜ
));

1672 
sÿË_çùÜ
++;

1676 
	}
}

1680 
	$squ¬ify_Ãw
(
rows
, 
cŞs
)

1682 
sÿË_çùÜ
 = 0.0;

1684 if(
rows
==
cŞs
)

1685 (
	`pow
(2.0,
sÿË_çùÜ
));

1687 
rows
 > 
cŞs
) {

1688 
rows
 =„ows/2;

1689 
cŞs
 = cols*2;

1690 ià(
rows
 <ğ
cŞs
)

1691 (
	`pow
(2.0,
sÿË_çùÜ
));

1692 
sÿË_çùÜ
++;

1695 
cŞs
 > 
rows
) {

1696 
rows
 =„ows*2;

1697 
cŞs
 = cols/2;

1698 ià(
cŞs
 <ğ
rows
)

1699 (
	`pow
(2.0,
sÿË_çùÜ
));

1700 
sÿË_çùÜ
--;

1705 
	}
}

1707 
	$dump_pow”_¡©s
(
pow”
)

1708 
pow”_»suÉ_ty³
 *
pow”
;

1710 
tÙ®_pow”
;

1711 
b´ed_pow”
;

1712 
»Çme_pow”
;

1713 
iq¿m_pow”
;

1714 
fq¿m_pow”
;

1715 
şock1_pow”
;

1716 
şock2_pow”
;

1717 
şock3_pow”
;

1718 
rob1_pow”
;

1719 
rob2_pow”
;

1720 
¿t_pow”
;

1721 
dş_pow”
;

1722 
lsq_pow”
;

1723 
iwakeup_pow”
;

1724 
fwakeup_pow”
;

1725 
i£ËùiÚ_pow”
;

1726 
f£ËùiÚ_pow”
;

1727 
lsq_wakeup_pow”
;

1728 
lsq_rs_pow”
;

1729 
œegfe_pow”
;

1730 
äegfe_pow”
;

1733 
iÿche_pow”
;

1734 
dÿche_pow”
;

1735 
dÿche2_pow”
;

1736 
db_pow”
;

1737 
™lb_pow”
;

1738 
amb›Á_pow”
 = 2.0;

1741 
du¶iÿtiÚ_pow”
;

1742 
com·»_pow”
;

1743 #ifdeà
INPUT_OUTPUT_BUFFER


1744 
šput_buf_pow”
 = 
pow”
.input_buf_power;

1745 
ouut_buf_pow”
 = 
pow”
.output_buf_power;

1748 
iÿche_pow”
 = 
pow”
->icache_power;

1750 
dÿche_pow”
 = 
pow”
->dcache_power;

1752 
dÿche2_pow”
 = 
pow”
->dcache2_power;

1754 
™lb_pow”
 = 
pow”
->
™lb
;

1755 
db_pow”
 = 
pow”
->
db
;

1757 
b´ed_pow”
 = 
pow”
->
btb
 +…ow”->
loÿl_´ediù
 +…ow”->
glob®_´ediù
 +

1758 
pow”
->
choo£r
 +…ow”->
¿s
 +…ow”->
btb_gc
 +…ow”->
loÿl_´ediù_gc
 +

1759 
pow”
->
glob®_´ediù_gc
 +…ow”->
choo£r_gc
 +…ow”->
¿s_gc
;

1761 
¿t_pow”
 = 
pow”
->
¿t_decod”
 +

1762 
pow”
->
¿t_wÜdlše
 +…ow”->
¿t_b™lše
 +…ow”->
¿t_£n£amp
 +…ow”->
¿t_gc
;

1764 
dş_pow”
 = 
pow”
->
dş_com·»
 +…ow”->
dş_³ncode
;

1766 
»Çme_pow”
 = 
pow”
->
¿t_pow”
 +…ow”->
dş_pow”
 +…ow”->
š¡_decod”_pow”
;

1767 
rob1_pow”
 = 
pow”
->rob1_power;

1768 
rob2_pow”
 = 
pow”
->rob2_power;

1769 
şock1_pow”
 = 
pow”
->clock1_power;

1770 
şock2_pow”
 = 
pow”
->clock2_power;

1771 
şock3_pow”
 = 
pow”
->clock3_power;

1772 
iq¿m_pow”
 = 
pow”
->iqram_power;

1773 
fq¿m_pow”
 = 
pow”
->fqram_power;

1775 
iwakeup_pow”
 = 
pow”
->
iwakeup_gdrive
 +…ow”->
iwakeup_gm©ch
 +

1776 
pow”
->
iwakeup_Üm©ch
;

1777 
fwakeup_pow”
 = 
pow”
->
fwakeup_gdrive
 +…ow”->
fwakeup_gm©ch
 +

1778 
pow”
->
fwakeup_Üm©ch
;

1780 
i£ËùiÚ_pow”
 = 
pow”
->
i£ËùiÚ
;

1781 
f£ËùiÚ_pow”
 = 
pow”
->
f£ËùiÚ
;

1783 
lsq_rs_pow”
 = 
pow”
->
lsq_rs_decod”
 +

1784 
pow”
->
lsq_rs_wÜdlše
 +…ow”->
lsq_rs_b™lše
 +…ow”->
lsq_rs_£n£amp


1785 + 
pow”
->
lsq_rs_gc
;

1787 
lsq_wakeup_pow”
 = 
pow”
->
lsq_wakeup_gdrive
 +…ow”->
lsq_wakeup_gc
 +

1788 
pow”
->
lsq_wakeup_gm©ch
 +…ow”->
lsq_wakeup_Üm©ch
;

1790 
lsq_pow”
 = 
lsq_wakeup_pow”
 + 
lsq_rs_pow”
;

1799 
œegfe_pow”
 = 
pow”
->
œegfe_decod”
 +

1800 
pow”
->
œegfe_wÜdlše
 +…ow”->
œegfe_b™lše
 +

1801 
pow”
->
œegfe_£n£amp
 +…ow”->
œegfe_gc
;

1802 
äegfe_pow”
 = 
pow”
->
äegfe_decod”
 +

1803 
pow”
->
äegfe_wÜdlše
 +…ow”->
äegfe_b™lše
 +

1804 
pow”
->
äegfe_£n£amp
 +…ow”->
äegfe_gc
;

1807 
du¶iÿtiÚ_pow”
 = 
pow”
->
d_æ_æİ_pow”
 +…ow”->
two_to_1_mux_pow”
;

1808 
com·»_pow”
 = 
pow”
->compare_power;

1810 
tÙ®_pow”
 = 
b´ed_pow”
 + 
iq¿m_pow”
 + 
fq¿m_pow”
 + 
şock1_pow”
 + 
şock2_pow”
 + 
şock3_pow”
 + 
rob1_pow”
 + 
rob2_pow”
 + 
»Çme_pow”
 + 
iwakeup_pow”
 + 
fwakeup_pow”
 + 
œegfe_pow”
 + 
äegfe_pow”
 +

1811 
pow”
->
œesuÉbus
 +…ow”->
äesuÉbus
 + 
lsq_pow”
 +

1812 
iÿche_pow”
 + 
dÿche_pow”
 + 
dÿche2_pow”
 +

1813 
db_pow”
 + 
™lb_pow”
 + 
pow”
->
Ÿlu1_pow”
 +

1814 
pow”
->
Ÿlu2_pow”
 +…ow”->
çlu1_pow”
 +…ow”->
çlu2_pow”
 +

1815 #ifdeà
INPUT_OUTPUT_BUFFER


1816 
šput_buf_pow”
 + 
ouut_buf_pow”
 +

1818 
du¶iÿtiÚ_pow”
 + 
com·»_pow”
;

1820 
	`årštf
(
¡d”r
,"\nProcessor Parameters:\n");

1821 
	`årštf
(
¡d”r
,"IssuWidth: %d\n",
ruu_issue_width
);

1822 
	`årštf
(
¡d”r
,"Wšdow Size: %d\n",
RUU_size
);

1823 
	`årštf
(
¡d”r
,"Numb” oàVœtu® Regi¡”s: %d\n",
MD_NUM_IREGS
);

1824 
	`årštf
(
¡d”r
,"Numb” oàPhysiÿÈRegi¡”s: %d\n",
RUU_size
);

1825 
	`årštf
(
¡d”r
,"D©­©h Width: %d\n",
d©a_width
);

1827 
	`årštf
(
¡d”r
,"TÙ® Pow” CÚsum±iÚ: %g\n",
tÙ®_pow”
+
amb›Á_pow”
);

1828 
	`årštf
(
¡d”r
,"B¿nch P»diùÜ Pow” CÚsum±iÚ: %g (%.3g%%)\n",
b´ed_pow”
,100*b´ed_pow”/
tÙ®_pow”
);

1829 
	`årštf
(
¡d”r
," b¿nch¬g‘ bufã¸pow” (W): %g\n",
pow”
->
btb
+pow”->
btb_gc
);

1830 
	`årštf
(
¡d”r
,"†oÿÈ´ediù…ow” (W): %g\n",
pow”
->
loÿl_´ediù
+pow”->
loÿl_´ediù_gc
);

1831 
	`årštf
(
¡d”r
," glob®…»diù…ow” (W): %g\n",
pow”
->
glob®_´ediù
+pow”->
glob®_´ediù_gc
);

1832 
	`årštf
(
¡d”r
," choo£¸pow” (W): %g\n",
pow”
->
choo£r
+pow”->
choo£r_gc
);

1833 
	`årštf
(
¡d”r
," RAS…ow” (W): %g\n",
pow”
->
¿s
+pow”->
¿s_gc
);

1834 
	`årštf
(
¡d”r
,"R’amLogiøPow” CÚsum±iÚ: %g (%.3g%%)\n",
»Çme_pow”
,100*»Çme_pow”/
tÙ®_pow”
);

1835 
	`årštf
(
¡d”r
,"ROB Wakeu°Pow” CÚsum±iÚ: %g (%.3g%%)\n",
rob1_pow”
,100*rob1_pow”/
tÙ®_pow”
);

1836 
	`årštf
(
¡d”r
,"ROB RAM Pow” CÚsum±iÚ: %g (%.3g%%)\n",
rob2_pow”
,100*rob2_pow”/
tÙ®_pow”
);

1837 
	`årštf
(
¡d”r
,"Clock1 Pow” CÚsum±iÚ: %g (%.3g%%)\n",
şock1_pow”
,100*şock1_pow”/
tÙ®_pow”
);

1838 
	`årštf
(
¡d”r
,"Clock2 Pow” CÚsum±iÚ: %g (%.3g%%)\n",
şock2_pow”
,100*şock2_pow”/
tÙ®_pow”
);

1839 
	`årštf
(
¡d”r
,"Clock3 Pow” CÚsum±iÚ: %g (%.3g%%)\n",
şock3_pow”
,100*şock3_pow”/
tÙ®_pow”
);

1840 
	`årštf
(
¡d”r
," In¡ruùiÚ DecodPow” (W): %g\n",
pow”
->
š¡_decod”_pow”
);

1841 
	`årštf
(
¡d”r
," RAT decode_pow” (W): %g\n",
pow”
->
¿t_decod”
);

1842 
	`årštf
(
¡d”r
," RAT wÜdlše_pow” (W): %g\n",
pow”
->
¿t_wÜdlše
);

1843 
	`årštf
(
¡d”r
," RAT b™lše_pow” (W): %g\n",
pow”
->
¿t_b™lše
);

1844 
	`årštf
(
¡d”r
," RAT gc_pow” (W): %g\n",
pow”
->
¿t_gc
);

1845 
	`årštf
(
¡d”r
," DCL Com·¿tÜ (W): %g\n",
pow”
->
dş_com·»
);

1846 
	`årštf
(
¡d”r
,"IÁ wakeu°Pow” CÚsum±iÚ: %g (%.3g%%)\n", 
iwakeup_pow”
, 100*iwakeup_pow”/
tÙ®_pow”
);

1847 
	`årštf
(
¡d”r
,"F°wakeu°Pow” CÚsum±iÚ: %g (%.3g%%)\n", 
fwakeup_pow”
, 100*fwakeup_pow”/
tÙ®_pow”
);

1848 
	`årštf
(
¡d”r
,"IÁ s–eùiÚ Pow” CÚsum±iÚ: %g (%.3g%%)\n", 
i£ËùiÚ_pow”
, 100*i£ËùiÚ_pow”/
tÙ®_pow”
);

1849 
	`årštf
(
¡d”r
,"F°£ËùiÚ Pow” CÚsum±iÚ: %g (%.3g%%)\n", 
f£ËùiÚ_pow”
, 100*f£ËùiÚ_pow”/
tÙ®_pow”
);

1850 
	`årštf
(
¡d”r
,"IÁ issueq„am Pow” CÚsum±iÚ: %g (%.3g%%)\n", 
iq¿m_pow”
, 100*iq¿m_pow”/
tÙ®_pow”
);

1851 
	`årštf
(
¡d”r
,"F°issueq„am Pow” CÚsum±iÚ: %g (%.3g%%)\n", 
fq¿m_pow”
, 100*fq¿m_pow”/
tÙ®_pow”
);

1852 
	`årštf
(
¡d”r
,"Lßd/StÜQueuPow” CÚsum±iÚ: %g (%.3g%%)\n",
lsq_pow”
,100*lsq_pow”/
tÙ®_pow”
);

1853 
	`årštf
(
¡d”r
,"agdriv(W): %g\n",
pow”
->
lsq_wakeup_gdrive
);

1854 
	`årštf
(
¡d”r
,"agm©ch (W): %g\n",
pow”
->
lsq_wakeup_gm©ch
);

1855 
	`årštf
(
¡d”r
," wakeup_gø(W): %g\n",
pow”
->
lsq_wakeup_gc
);

1856 
	`årštf
(
¡d”r
," decode_pow” (W): %g\n",
pow”
->
lsq_rs_decod”
);

1857 
	`årštf
(
¡d”r
," wÜdlše_pow” (W): %g\n",
pow”
->
lsq_rs_wÜdlše
);

1858 
	`årštf
(
¡d”r
," b™lše_pow” (W): %g\n",
pow”
->
lsq_rs_b™lše
);

1859 
	`årštf
(
¡d”r
,"„s_gø(W): %g\n",
pow”
->
lsq_rs_gc
);

1860 
	`årštf
(
¡d”r
,"IÁ Regi¡” FPow” CÚsum±iÚ: %g (%.3g%%)\n",
œegfe_pow”
,100*œegfe_pow”/
tÙ®_pow”
);

1861 
	`årštf
(
¡d”r
," decode_pow” (W): %g\n",
pow”
->
œegfe_decod”
);

1862 
	`årštf
(
¡d”r
," wÜdlše_pow” (W): %g\n",
pow”
->
œegfe_wÜdlše
);

1863 
	`årštf
(
¡d”r
," b™lše_pow” (W): %g\n",
pow”
->
œegfe_b™lše
);

1864 
	`årštf
(
¡d”r
,"„egfe_gø(W): %g\n",
pow”
->
œegfe_gc
);

1865 
	`årštf
(
¡d”r
,"F°Regi¡” FPow” CÚsum±iÚ: %g (%.3g%%)\n",
äegfe_pow”
,100*äegfe_pow”/
tÙ®_pow”
);

1866 
	`årštf
(
¡d”r
," decode_pow” (W): %g\n",
pow”
->
äegfe_decod”
);

1867 
	`årštf
(
¡d”r
," wÜdlše_pow” (W): %g\n",
pow”
->
äegfe_wÜdlše
);

1868 
	`årštf
(
¡d”r
," b™lše_pow” (W): %g\n",
pow”
->
äegfe_b™lše
);

1869 
	`årštf
(
¡d”r
,"„egfe_gø(W): %g\n",
pow”
->
äegfe_gc
);

1870 
	`årštf
(
¡d”r
,"iResuÉ Bu Pow” CÚsum±iÚ: %g (%.3g%%)\n",
pow”
->
œesuÉbus
,100*pow”->œesuÉbus/
tÙ®_pow”
);

1871 
	`årštf
(
¡d”r
,"fResuÉ Bu Pow” CÚsum±iÚ: %g (%.3g%%)\n",
pow”
->
äesuÉbus
,100*pow”->äesuÉbus/
tÙ®_pow”
);

1872 
	`årštf
(
¡d”r
,"TÙ® Clock Pow”: %g (%.3g%%)\n",
pow”
->
şock_pow”
,100*pow”->şock_pow”/
tÙ®_pow”
);

1873 
	`årštf
(
¡d”r
,"IÁ ALU1 Pow”: %g (%.3g%%)\n",
pow”
->
Ÿlu1_pow”
,100*pow”->Ÿlu1_pow”/
tÙ®_pow”
);

1874 
	`årštf
(
¡d”r
,"IÁ ALU2 Pow”: %g (%.3g%%)\n",
pow”
->
Ÿlu2_pow”
,100*pow”->Ÿlu2_pow”/
tÙ®_pow”
);

1875 
	`årštf
(
¡d”r
,"FP ALU1 Pow”: %g (%.3g%%)\n",
pow”
->
çlu1_pow”
,100*pow”->çlu1_pow”/
tÙ®_pow”
);

1876 
	`årštf
(
¡d”r
,"FP ALU2 Pow”: %g (%.3g%%)\n",
pow”
->
çlu2_pow”
,100*pow”->çlu2_pow”/
tÙ®_pow”
);

1877 
	`årštf
(
¡d”r
,"In¡ruùiÚ CachPow” CÚsum±iÚ: %g (%.3g%%)\n",
iÿche_pow”
,100*iÿche_pow”/
tÙ®_pow”
);

1878 
	`årštf
(
¡d”r
," decode_pow” (W): %g\n",
pow”
->
iÿche_decod”
);

1879 
	`årštf
(
¡d”r
," wÜdlše_pow” (W): %g\n",
pow”
->
iÿche_wÜdlše
);

1880 
	`årštf
(
¡d”r
," b™lše_pow” (W): %g\n",
pow”
->
iÿche_b™lše
);

1881 
	`årštf
(
¡d”r
," s’£amp_pow” (W): %g\n",
pow”
->
iÿche_£n£amp
);

1882 
	`årštf
(
¡d”r
,"ag¬¿y_pow” (W): %g\n",
pow”
->
iÿche_g¬¿y
);

1883 
	`årštf
(
¡d”r
," iÿche_gø(W): %g\n",
pow”
->
iÿche_gc
);

1884 
	`årštf
(
¡d”r
,"Ib_pow” (W): %g (%.3g%%)\n",
pow”
->
™lb
,100*pow”->™lb/
tÙ®_pow”
);

1885 
	`årštf
(
¡d”r
,"D©¨CachPow” CÚsum±iÚ: %g (%.3g%%)\n",
dÿche_pow”
,100*dÿche_pow”/
tÙ®_pow”
);

1886 
	`årštf
(
¡d”r
," decode_pow” (W): %g\n",
pow”
->
dÿche_decod”
);

1887 
	`årštf
(
¡d”r
," wÜdlše_pow” (W): %g\n",
pow”
->
dÿche_wÜdlše
);

1888 
	`årštf
(
¡d”r
," b™lše_pow” (W): %g\n",
pow”
->
dÿche_b™lše
);

1889 
	`årštf
(
¡d”r
," s’£amp_pow” (W): %g\n",
pow”
->
dÿche_£n£amp
);

1890 
	`årštf
(
¡d”r
,"ag¬¿y_pow” (W): %g\n",
pow”
->
dÿche_g¬¿y
);

1891 
	`årštf
(
¡d”r
," dÿche_gø(W): %g\n",
pow”
->
dÿche_gc
);

1892 
	`årštf
(
¡d”r
,"Db_pow” (W): %g (%.3g%%)\n",
pow”
->
db
,100*pow”->db/
tÙ®_pow”
);

1893 
	`årštf
(
¡d”r
,"Lev– 2 CachPow” CÚsum±iÚ: %g (%.3g%%)\n",
dÿche2_pow”
,100*dÿche2_pow”/
tÙ®_pow”
);

1894 
	`årštf
(
¡d”r
," decode_pow” (W): %g\n",
pow”
->
dÿche2_decod”
);

1895 
	`årštf
(
¡d”r
," wÜdlše_pow” (W): %g\n",
pow”
->
dÿche2_wÜdlše
);

1896 
	`årštf
(
¡d”r
," b™lše_pow” (W): %g\n",
pow”
->
dÿche2_b™lše
);

1897 
	`årštf
(
¡d”r
," s’£amp_pow” (W): %g\n",
pow”
->
dÿche2_£n£amp
);

1898 
	`årštf
(
¡d”r
,"ag¬¿y_pow” (W): %g\n",
pow”
->
dÿche2_g¬¿y
);

1899 
	`årštf
(
¡d”r
," dÿche2_gø(W): %g\n",
pow”
->
dÿche2_gc
);

1900 #ifdeà
INPUT_OUTPUT_BUFFER


1901 
	`årštf
(
¡d”r
,"špuˆbufã¸pow” (W): %g (%.3g%%)\n", 
pow”
->
šput_buf_pow”
, 100*pow”->šput_buf_pow”/
tÙ®_pow”
);

1902 
	`årštf
(
¡d”r
,"ouuˆbufã¸pow” (W): %g (%.3g%%)\n", 
pow”
->
ouut_buf_pow”
, 100*pow”->ouut_buf_pow”/
tÙ®_pow”
);

1908 
	`årštf
(
¡d”r
,"In¡ruùiÚ Du¶iÿtiÚ Pow” CÚsum±iÚ: %g (%.3g%%)\n",
du¶iÿtiÚ_pow”
,100*du¶iÿtiÚ_pow”/
tÙ®_pow”
);

1909 
	`årštf
(
¡d”r
," d_æ_æİ_pow” (W): %g\n",
pow”
->
d_æ_æİ_pow”
);

1910 
	`årštf
(
¡d”r
,"wo_to_1_mux_pow” (W): %g\n",
pow”
->
two_to_1_mux_pow”
);

1913 
	`årštf
(
¡d”r
,"In¡ruùiÚ Com·¿tÜ Pow” CÚsum±iÚ: %g (%.3g%%)\n",
com·»_pow”
,100*com·»_pow”/
tÙ®_pow”
);

1915 
	}
}

1928 
	$driv”_size
(
drivšg_ÿp
, 
desœedri£time
) {

1929 
nsize
, 
psize
;

1930 
Rpdrive
;

1932 
Rpdrive
 = 
desœedri£time
/(
drivšg_ÿp
*
	`log
(
VSINV
)*-1.0);

1933 
psize
 = 
	`»¡owidth
(
Rpdrive
,
PCH
);

1934 
nsize
 = 
	`»¡owidth
(
Rpdrive
,
NCH
);

1935 ià(
psize
 > 
WwÜddrivemax
) {

1936 
psize
 = 
WwÜddrivemax
;

1938 ià(
psize
 < 4.0 * 
LSCALE
)

1939 
psize
 = 4.0 * 
LSCALE
;

1941  (
psize
);

1943 
	}
}

1947 
	$¬¿y_decod”_pow”
(
rows
,
cŞs
,
´edeş’gth
,
½Üts
,
wpÜts
,
ÿche
)

1948 
rows
,
cŞs
;

1949 
´edeş’gth
;

1950 
½Üts
,
wpÜts
;

1951 
ÿche
;

1953 
CtÙ®
=0;

1954 
Ceq
=0;

1955 
num¡ack
;

1956 
decode_b™s
=0;

1957 
pÜts
;

1958 
rowsb
;

1961 
pÜts
 = 
½Üts
 + 
wpÜts
;

1963 
rowsb
 = ()
rows
;

1966 
decode_b™s
=
	`û
((
	`logtwo
(
rowsb
)));

1974 
Ceq
 = 2.0*(
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1)) +

1975 
	`g©eÿp
(
Wdec3to8n
+
Wdec3to8p
,10.0)*
rowsb
;

1978 
CtÙ®
+=
pÜts
*
decode_b™s
*
Ceq
;

1980 if(
v”bo£
)

1981 
	`årštf
(
¡d”r
,"Decod” -- Drivšg decod”  =ğ%g\n",.3*
CtÙ®
*
Pow”çùÜ
);

1987 
num¡ack
 = 
	`û
((1.0/3.0)*
	`logtwo
(
rows
));

1989 ià(
num¡ack
<=0)‚umstack = 1;

1990 ià(
num¡ack
>5)‚umstack = 5;

1993 
Ceq
 = (3.0*
	`d¿šÿp
(
Wdec3to8p
,
PCH
,1è+d¿šÿp(
Wdec3to8n
,
NCH
,3) +

1994 
	`g©eÿp
(
WdecNORn
+
WdecNORp
,((
num¡ack
*40)+20.0)))*
rowsb
;

1996 
CtÙ®
+=
pÜts
*
Ceq
;

1998 if(
v”bo£
)

1999 
	`årštf
(
¡d”r
,"Decod” -- Drivšg‚Ü w/‚ªd =ğ%g\n",.3*
pÜts
*
Ceq
*
Pow”çùÜ
);

2004 
Ceq
 = (
	`g©eÿp
(
Wdecšvn
+
Wdecšvp
,20.0)+

2005 
num¡ack
*
	`d¿šÿp
(
WdecNORn
,
NCH
,1)+

2006 
	`d¿šÿp
(
WdecNORp
,
PCH
,
num¡ack
));

2008 if(
v”bo£
)

2009 
	`årštf
(
¡d”r
,"Decod” -- Drivšg inv”‹¸w/‚Ü =ğ%g\n",.3*
pÜts
*
Ceq
*
Pow”çùÜ
);

2011 
CtÙ®
+=
pÜts
*
Ceq
;

2015 (.3*
CtÙ®
*
Pow”çùÜ
);

2016 
	}
}

2018 
	$sim¶e_¬¿y_decod”_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)

2019 
rows
,
cŞs
;

2020 
½Üts
,
wpÜts
;

2021 
ÿche
;

2023 
´edeş’gth
=0.0;

2024 (
	`¬¿y_decod”_pow”
(
rows
,
cŞs
,
´edeş’gth
,
½Üts
,
wpÜts
,
ÿche
));

2025 
	}
}

2028 
	$¬¿y_wÜdlše_pow”
(
rows
,
cŞs
,
wÜdlš–’gth
,
½Üts
,
wpÜts
,
ÿche
)

2029 
rows
,
cŞs
;

2030 
wÜdlš–’gth
;

2031 
½Üts
,
wpÜts
;

2032 
ÿche
;

2034 
CtÙ®
=0;

2035 
Ceq
=0;

2036 
Clše
=0;

2037 
Clš”
, 
Clšew
=0;

2038 
desœedri£time
,
psize
,
nsize
;

2039 
pÜts
;

2040 
cŞsb
;

2042 
pÜts
 = 
½Üts
+
wpÜts
;

2044 
cŞsb
 = ()
cŞs
;

2051 
desœedri£time
 = 
P”iod
/16;

2052 
Clše
 = (
	`g©eÿµass
(
WmemûÎr
,1.0))*
cŞsb
 + 
wÜdlš–’gth
*
CM3m‘®
;

2053 
psize
 = 
	`driv”_size
(
Clše
,
desœedri£time
);

2057 
nsize
 = 
psize
 * 
Wdecšvn
/
Wdecšvp
;

2059 if(
v”bo£
)

2060 
	`årštf
(
¡d”r
,"WÜdlšDriv” Size --‚siz=ğ%f,…siz=ğ%f\n",
nsize
,
psize
);

2062 
Ceq
 = 
	`d¿šÿp
(
Wdecšvn
,
NCH
,1è+ d¿šÿp(
Wdecšvp
,
PCH
,1) +

2063 
	`g©eÿp
(
nsize
+
psize
,20.0);

2065 
CtÙ®
+=
pÜts
*
Ceq
;

2067 if(
v”bo£
)

2068 
	`årštf
(
¡d”r
,"WÜdlš-- Inv”‹¸-> Driv” =ğ%g\n",
pÜts
*
Ceq
*
Pow”çùÜ
);

2077 
Clš”
 = (
	`g©eÿµass
(
WmemûÎr
,(
B™Width
-2*WmemûÎr)/2.0))*
cŞsb
+

2078 
wÜdlš–’gth
*
CM3m‘®
+

2079 2.0*(
	`d¿šÿp
(
nsize
,
NCH
,1è+ d¿šÿp(
psize
,
PCH
,1));

2080 
Clšew
 = (2.0*
	`g©eÿµass
(
WmemûÎw
,(
B™Width
-2*WmemûÎw)/2.0))*
cŞsb
+

2081 
wÜdlš–’gth
*
CM3m‘®
+

2082 2.0*(
	`d¿šÿp
(
nsize
,
NCH
,1è+ d¿šÿp(
psize
,
PCH
,1));

2084 if(
v”bo£
) {

2085 
	`årštf
(
¡d”r
,"WÜdlš-- Lš =ğ%g\n",1e12*
Clše
);

2086 
	`årštf
(
¡d”r
,"WÜdlš-- Lš--‡cûs -- g©eÿ° =ğ%g\n",1e12*
cŞsb
*2*
	`g©eÿµass
(
WmemûÎa
,(
B™Width
-2*Wmemcella)/2.0));

2087 
	`årštf
(
¡d”r
,"WÜdlš-- Lš-- driv” -- d¿šÿ°=ğ%g\n",1e12*
	`d¿šÿp
(
nsize
,
NCH
,1è+ d¿šÿp(
psize
,
PCH
,1));

2088 
	`årštf
(
¡d”r
,"WÜdlš-- Lš-- m‘® =ğ%g\n",1e12*
wÜdlš–’gth
*
CM3m‘®
);

2090 
CtÙ®
+=
½Üts
*
Clš”
+
wpÜts
*
Clšew
;

2095 (
CtÙ®
*
Pow”çùÜ
);

2096 
	}
}

2098 
	$sim¶e_¬¿y_wÜdlše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)

2099 
rows
,
cŞs
;

2100 
½Üts
,
wpÜts
;

2101 
ÿche
;

2103 
wÜdlš–’gth
;

2104 
pÜts
 = 
½Üts
 + 
wpÜts
;

2105 
wÜdlš–’gth
 = 
cŞs
 * (
RegC–lWidth
 + 2 * 
pÜts
 * 
B™lšeS·cšg
);

2106 (
	`¬¿y_wÜdlše_pow”
(
rows
,
cŞs
,
wÜdlš–’gth
,
½Üts
,
wpÜts
,
ÿche
));

2107 
	}
}

2110 
	$¬¿y_b™lše_pow”
(
rows
,
cŞs
,
b™lš–’gth
,
½Üts
,
wpÜts
,
ÿche
)

2111 
rows
,
cŞs
;

2112 
b™lš–’gth
;

2113 
½Üts
,
wpÜts
;

2114 
ÿche
;

2116 
CtÙ®
=0;

2117 
CcŞmux
=0;

2118 
Cb™rowr
=0;

2119 
Cb™roww
=0;

2120 
C´”ow
=0;

2121 
Cwr™eb™drive
=0;

2122 
C´eg©e
=0;

2123 
Clš”
=0;

2124 
Clšew
=0;

2125 
pÜts
;

2126 
rowsb
;

2127 
cŞsb
;

2129 
desœedri£time
, 
Clše
, 
psize
, 
nsize
;

2131 
pÜts
 = 
½Üts
 + 
wpÜts
;

2133 
rowsb
 = ()
rows
;

2134 
cŞsb
 = ()
cŞs
;

2138 
Cb™rowr
 = 
	`d¿šÿp
(
WmemûÎr
,
NCH
,1);

2139 
Cb™roww
 = 
	`d¿šÿp
(
WmemûÎw
,
NCH
,1);

2148 
desœedri£time
 = 
P”iod
/8;

2150 
Clše
 = 
rowsb
*
Cb™rowr
+
CM2m‘®
*
b™lš–’gth
;

2151 
psize
 = 
	`driv”_size
(
Clše
,
desœedri£time
);

2154 
psize
 =…siz+…siz* 
Wdecšvn
/
Wdecšvp
;

2156 if(
v”bo£
)

2157 
	`´štf
("C´”ow‡utØ =ğ%g (psiz=ğ%g)\n",
	`d¿šÿp
(
psize
,
PCH
,1),psize);

2159 
C´”ow
 = 
	`d¿šÿp
(
psize
,
PCH
,1);

2163 
C´eg©e
 = 4.0*
	`g©eÿp
(
psize
,10.0);

2164 
glob®_şockÿp
+=
½Üts
*
cŞs
*2.0*
C´eg©e
;

2165 
gc
[
gcc
++] = 
½Üts
*
cŞs
*2.0*
C´eg©e
;

2171 
Clše
 = 
rowsb
*
Cb™roww
+
CM2m‘®
*
b™lš–’gth
;

2173 
psize
 = 
	`driv”_size
(
Clše
,
desœedri£time
);

2174 
nsize
 = 
psize
 * 
Wdecšvn
/
Wdecšvp
;

2176 
Cwr™eb™drive
 = 2.0*(
	`d¿šÿp
(
psize
,
PCH
,1)+d¿šÿp(
nsize
,
NCH
,1));

2187 #ifdeà
STATIC_AF


2188 ià(
ÿche
 == 0) {

2190 
Clš”
 = 
rowsb
*
Cb™rowr
+
CM2m‘®
*
b™lš–’gth
+
C´”ow
;

2191 
Clšew
 = 
rowsb
*
Cb™roww
+
CM2m‘®
*
b™lš–’gth
+
Cwr™eb™drive
;

2195 
CcŞmux
 = 
	`g©eÿp
(
MSCALE
*(29.9+7.8),0.0)+gatecap(MSCALE*(47.0+12.0),0.0);

2196 
CtÙ®
+=(1.0-
POPCOUNT_AF
)*
½Üts
*
cŞs
*(
Clš”
+
CcŞmux
+2.0*
C´eg©e
);

2197 
CtÙ®
+=.3*
wpÜts
*
cŞs
*(
Clšew
+
Cwr™eb™drive
);

2200 
Clš”
 = 
rowsb
*
Cb™rowr
+
CM2m‘®
*
b™lš–’gth
+
C´”ow
 + 
	`d¿šÿp
(
Wb™muxn
,
NCH
,1);

2201 
Clšew
 = 
rowsb
*
Cb™roww
+
CM2m‘®
*
b™lš–’gth
+
Cwr™eb™drive
;

2202 
CcŞmux
 = (
	`d¿šÿp
(
Wb™muxn
,
NCH
,1))+2.0*
	`g©eÿp
(
W£n£Q1to4
,10.0);

2203 
CtÙ®
+=.5*
½Üts
*2.0*
cŞs
*(
Clš”
+
CcŞmux
+2.0*
C´eg©e
);

2204 
CtÙ®
+=.5*
wpÜts
*2.0*
cŞs
*(
Clšew
+
Cwr™eb™drive
);

2207 ià(
ÿche
 == 0) {

2209 
Clš”
 = 
rowsb
*
Cb™rowr
+
CM2m‘®
*
b™lš–’gth
+
C´”ow
;

2210 
Clšew
 = 
rowsb
*
Cb™roww
+
CM2m‘®
*
b™lš–’gth
+
Cwr™eb™drive
;

2214 
CcŞmux
 = 
	`g©eÿp
(
MSCALE
*(29.9+7.8),0.0)+gatecap(MSCALE*(47.0+12.0),0.0);

2215 
CtÙ®
 +ğ
½Üts
*
cŞs
*(
Clš”
+
CcŞmux
+2.0*
C´eg©e
);

2216 
CtÙ®
 +ğ.3*
wpÜts
*
cŞs
*(
Clšew
+
Cwr™eb™drive
);

2219 
Clš”
 = 
rowsb
*
Cb™rowr
+
CM2m‘®
*
b™lš–’gth
+
C´”ow
 + 
	`d¿šÿp
(
Wb™muxn
,
NCH
,1);

2220 
Clšew
 = 
rowsb
*
Cb™roww
+
CM2m‘®
*
b™lš–’gth
+
Cwr™eb™drive
;

2221 
CcŞmux
 = (
	`d¿šÿp
(
Wb™muxn
,
NCH
,1))+2.0*
	`g©eÿp
(
W£n£Q1to4
,10.0);

2222 
CtÙ®
+=.5*
½Üts
*2.0*
cŞs
*(
Clš”
+
CcŞmux
+2.0*
C´eg©e
);

2223 
CtÙ®
+=.5*
wpÜts
*2.0*
cŞs
*(
Clšew
+
Cwr™eb™drive
);

2227 if(
v”bo£
) {

2228 
	`årštf
(
¡d”r
,"B™lš-- P»ch¬g =ğ%g\n",1e12*
C´eg©e
);

2229 
	`årštf
(
¡d”r
,"B™lš-- Lš =ğ%g\n",1e12*(
Clš”
+
Clšew
));

2230 
	`årštf
(
¡d”r
,"B™lš-- Lš--‡cûs d¿šÿ° =ğ%g\n",1e12*
rowsb
*
Cb™rowr
);

2231 
	`årštf
(
¡d”r
,"B™lš-- Lš--…»ch¬gd¿šÿ° =ğ%g\n",1e12*
C´”ow
);

2232 
	`årštf
(
¡d”r
,"B™lš-- Lš-- m‘® =ğ%g\n",1e12*
b™lš–’gth
*
CM2m‘®
);

2233 
	`årštf
(
¡d”r
,"B™lš-- CŞmux =ğ%g\n",1e12*
CcŞmux
);

2235 
	`årštf
(
¡d”r
,"\n");

2239 if(
ÿche
==0)

2240 (
CtÙ®
*
Pow”çùÜ
);

2242 (
CtÙ®
*
S’£Pow”çùÜ
*.4);

2244 
	}
}

2247 
	$sim¶e_¬¿y_b™lše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)

2248 
rows
,
cŞs
;

2249 
½Üts
,
wpÜts
;

2250 
ÿche
;

2252 
b™lš–’gth
;

2254 
pÜts
 = 
½Üts
 + 
wpÜts
;

2256 
b™lš–’gth
 = 
rows
 * (
RegC–lHeight
 + 
pÜts
 * 
WÜdlšeS·cšg
);

2258  (
	`¬¿y_b™lše_pow”
(
rows
,
cŞs
,
b™lš–’gth
,
½Üts
,
wpÜts
,
ÿche
));

2260 
	}
}

2263 
	$£n£amp_pow”
(
cŞs
)

2265 (()
cŞs
 * (
Vdd
*
vdd_»duùiÚ
)/8 * .5e-3);

2266 
	}
}

2270 
	$com·»_ÿp
(
com·»_b™s
)

2272 
c1
, 
c2
;

2274 
c2
 = (
com·»_b™s
)*(
	`d¿šÿp
(
Wcom²
,
NCH
,1)+draincap(Wcompn,NCH,2))+

2275 
	`d¿šÿp
(
Wev®švp
,
PCH
,1è+ d¿šÿp(
Wev®švn
,
NCH
,1);

2278 
c1
 = (
com·»_b™s
)*(
	`d¿šÿp
(
Wcom²
,
NCH
,1)+draincap(Wcompn,NCH,2)+

2279 
	`d¿šÿp
(
Wcomµ»equ
,
NCH
,1)) +

2280 
	`g©eÿp
(
WdecNORn
,1.0)+

2281 
	`g©eÿp
(
WdecNORp
,3.0);

2283 (
c1
 + 
c2
);

2284 
	}
}

2287 
	$dş_com·»_pow”
(
com·»_b™s
)

2289 
CtÙ®
;

2290 
num_com·¿tÜs
;

2292 
num_com·¿tÜs
 = ((
ruu_decode_width
) - 1) * ((ruu_decode_width));

2294 
CtÙ®
 = 
num_com·¿tÜs
 * 
	`com·»_ÿp
(
com·»_b™s
);

2296 (
CtÙ®
*
Pow”çùÜ
*
AF
);

2297 
	}
}

2299 
	$sim¶e_¬¿y_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)

2300 
rows
,
cŞs
;

2301 
½Üts
,
wpÜts
;

2302 
ÿche
;

2304 if(
ÿche
==0)

2305 Ğ
	`sim¶e_¬¿y_decod”_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)+

2306 
	`sim¶e_¬¿y_wÜdlše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)+

2307 
	`sim¶e_¬¿y_b™lše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
));

2309 Ğ
	`sim¶e_¬¿y_decod”_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)+

2310 
	`sim¶e_¬¿y_wÜdlše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)+

2311 
	`sim¶e_¬¿y_b™lše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
)+

2312 
	`£n£amp_pow”
(
cŞs
));

2313 
	}
}

2316 
	$ÿm_gdrive
(
rows
,
cŞs
,
½Üts
,
wpÜts
)

2317 
rows
,
cŞs
,
½Üts
,
wpÜts
;

2319 
CtÙ®
, 
Cÿp
, 
Cblÿp
, 
Cwlÿp
;

2320 
glš–’gth
;

2321 
wÜdlš–’gth
;

2322 
nsize
, 
psize
;

2323 
pÜts
;

2324 
CtÙ®
=0;

2326 
pÜts
 = 
½Üts
 + 
wpÜts
;

2328 
glš–’gth
 = 
rows
 *

2329 (
CamC–lHeight
 + 
pÜts
 * 
M©chlšeS·cšg
);

2331 
wÜdlš–’gth
 = 
cŞs
 *

2332 (
CamC–lWidth
 + 
pÜts
 * 
TaglšeS·cšg
);

2335 
Cÿp
 = 
Cm‘®
 * 
glš–’gth
 +

2336 
rows
 * 
	`g©eÿµass
(
Wcom·»n2
,2.0) +

2337 
	`d¿šÿp
(
Wcompdriv”n
,
NCH
,1)+d¿šÿp(
Wcompdriv”p
,
PCH
,1);

2340 
Cblÿp
 = 
Cm‘®
 * 
glš–’gth
 +

2341 
rows
 * 
	`d¿šÿp
(
WmemûÎr
,
NCH
,2);

2344 
psize
 = 
	`driv”_size
(
Cm‘®
 * 
wÜdlš–’gth
 + 2 * 
cŞs
 * 
	`g©eÿp
(
WmemûÎr
,2.0),
P”iod
/8);

2345 
nsize
 = 
psize
 * 
Wdecšvn
/
Wdecšvp
;

2348 
Cwlÿp
 = 
Cm‘®
 * 
wÜdlš–’gth
 +

2349 
	`d¿šÿp
(
nsize
,
NCH
,1)+d¿šÿp(
psize
,
PCH
,1) +

2350 2 * 
cŞs
 * 
	`g©eÿp
(
WmemûÎr
,2.0);

2352 
CtÙ®
 +ğ(
½Üts
 * 
cŞs
 * 2 * 
Cÿp
) +

2353 (
wpÜts
 * ((
cŞs
 * 2 * 
Cblÿp
è+ (
rows
 * 
Cwlÿp
)));

2355 (
CtÙ®
*
Pow”çùÜ
*
AF
);

2356 
	}
}

2358 
	$ÿm_gm©ch
(
rows
,
cŞs
,
½Üts
,
wpÜts
)

2359 
rows
,
cŞs
,
½Üts
,
wpÜts
;

2361 
CtÙ®
, 
Cmlÿp
;

2362 
m©chlš–’gth
;

2363 
pÜts
;

2364 
CtÙ®
=0;

2366 
pÜts
 = 
½Üts
 + 
wpÜts
;

2368 
m©chlš–’gth
 = 
cŞs
 *

2369 (
CamC–lWidth
 + 
pÜts
 * 
TaglšeS·cšg
);

2371 
Cmlÿp
 = 2 * 
cŞs
 * 
	`d¿šÿp
(
Wcom·»n1
,
NCH
,2) +

2372 
Cm‘®
 * 
m©chlš–’gth
 + 
	`d¿šÿp
(
Wm©chpchg
,
NCH
,1) +

2373 
	`g©eÿp
(
Wm©chšvn
+
Wm©chšvp
,10.0) +

2374 
	`g©eÿp
(
Wm©chÇndn
+
Wm©chÇndp
,10.0);

2376 
CtÙ®
 +ğ
½Üts
 * 
rows
 * 
Cmlÿp
;

2378 
glob®_şockÿp
 +ğ
½Üts
 * 
rows
 * 
	`g©eÿp
(
Wm©chpchg
,5.0);

2379 
gc
[
gcc
++] = 
½Üts
 * 
rows
 * 
	`g©eÿp
(
Wm©chpchg
,5.0);

2382 if(
ruu_issue_width
 >= 8)

2383 
CtÙ®
 +ğ2 * 
	`g©eÿp
(
Wm©chnÜn
+
Wm©chnÜp
,10.0);

2385 (
CtÙ®
*
Pow”çùÜ
*
AF
);

2386 
	}
}

2388 
	$ÿm_¬¿y
(
rows
,
cŞs
,
½Üts
,
wpÜts
)

2389 
rows
,
cŞs
,
½Üts
,
wpÜts
;

2391 (
	`ÿm_gdrive
(
rows
,
cŞs
,
½Üts
,
wpÜts
) +

2392 
	`ÿm_gm©ch
(
rows
,
cŞs
,
½Üts
,
wpÜts
));

2393 
	}
}

2396 
	$£ËùiÚ_pow”
(
wš_’Œ›s
)

2398 
CtÙ®
, 
CÜ
, 
C³ncode
;

2399 
num_¬b™”
=1;

2401 
CtÙ®
=0;

2403 
wš_’Œ›s
 > 4)

2405 
wš_’Œ›s
 = ()
	`û
(()win_entries / 4.0);

2406 
num_¬b™”
 +ğ
wš_’Œ›s
;

2409 
CÜ
 = 4 * 
	`d¿šÿp
(
WS–ORn
,
NCH
,1è+ d¿šÿp(
WS–OR´equ
,
PCH
,1);

2411 
C³ncode
 = 
	`d¿šÿp
(
WS–Pn
,
NCH
,1è+ d¿šÿp(
WS–Pp
,
PCH
,1) +

2412 2*
	`d¿šÿp
(
WS–Pn
,
NCH
,1è+ d¿šÿp(
WS–Pp
,
PCH
,2) +

2413 3*
	`d¿šÿp
(
WS–Pn
,
NCH
,1è+ d¿šÿp(
WS–Pp
,
PCH
,3) +

2414 4*
	`d¿šÿp
(
WS–Pn
,
NCH
,1è+ d¿šÿp(
WS–Pp
,
PCH
,4) +

2415 4*
	`g©eÿp
(
WS–EÂ
+
WS–EÅ
,20.0) +

2416 4*
	`d¿šÿp
(
WS–EÂ
,
NCH
,1è+ 4*d¿šÿp(
WS–EÅ
,
PCH
,1);

2418 
CtÙ®
 +ğ
ruu_issue_width
 * 
num_¬b™”
*(
CÜ
+
C³ncode
);

2420 (
CtÙ®
*
Pow”çùÜ
*
AF
);

2421 
	}
}

2424 
	$tÙ®_şockpow”
(
d›_Ëngth
)

2427 
şocklš–’gth
;

2428 
Clše
,
Clše2
,
CtÙ®
;

2429 
p”eg_şockÿp
=0;

2430 
glob®_bufãrÿp
 = 0;

2431 
Clockpow”
;

2432 
k
;

2434 
num_p”egs
;

2436 
Å»g_width
 = ()
	`û
(
	`logtwo
(()((
IPREG_size
+
FPREG_size
))));

2444 
num_p”egs
 = 
ruu_issue_width
*
š¡_Ëngth
 + 
d©a_width
;

2446 
num_p”egs
 +ğ
ruu_issue_width
*(
š¡_Ëngth
 + 3 * 
RUU_size
);

2448 
num_p”egs
 +ğ
ruu_issue_width
*(
š¡_Ëngth
 + 3 * 
RUU_size
);

2450 
num_p”egs
 +ğ
ruu_issue_width
*(3 * 
Å»g_width
 + 
	`pow2
(
İcode_Ëngth
));

2452 
num_p”egs
 +ğ
ruu_issue_width
*(2*
d©a_width
 + 
	`pow2
(
İcode_Ëngth
));

2454 
num_p”egs
 +ğ
ruu_issue_width
*(
d©a_width
 + 
	`pow2
(
İcode_Ëngth
));

2456 
num_p”egs
 +ğ
ruu_issue_width
*(
d©a_width
 + 
	`pow2
(
İcode_Ëngth
));

2458 
num_p”egs
 +ğ
ruu_issue_width
*(
d©a_width
 + 
	`pow2
(
İcode_Ëngth
));

2461 
num_p”egs
 =‚um_piperegs * 1.5;

2463 
p”eg_şockÿp
 = 
num_p”egs
 * 4*
	`g©eÿp
(10.0,0);

2466 
Clše2
 = 
Cm‘®
 * (.03 * 
d›_Ëngth
 * d›_Ëngth/
B™lšeS·cšg
) * 1e6 * 1e6;

2469 
şocklš–’gth
 = 
d›_Ëngth
*(.5 + 4 * (.25 + 2*(.25) + 4 * (.125)));

2470 
Clše
 = 20 * 
Cm‘®
 * (
şocklš–’gth
) * 1e6;

2471 
glob®_bufãrÿp
 = 12*
	`g©eÿp
(1000.0,10.0)+16*gatecap(200,10.0)+16*8*2*gatecap(100.0,10.00) + 2*gatecap(.29*1e6,10.0);

2473 
CtÙ®
 = 
Clše
+ 
p”eg_şockÿp
+
glob®_bufãrÿp
;

2475 
cÚ¡ªt_çùÜ
 = (
Clše
+
glob®_bufãrÿp
)/(Clše+glob®_bufãrÿp+
p”eg_şockÿp
);

2477 if(
v”bo£
)

2478 
	`årštf
(
¡d”r
,"num_p”eg =ğ%f\n",
num_p”egs
);

2481 
Clockpow”
 = 
CtÙ®
*
Pow”çùÜ
 ;

2482 
şockp
 = 
Clockpow”
;

2483 
p”egg
 = 
p”eg_şockÿp
*
Pow”çùÜ
;

2484 
globbufg
 = 
glob®_bufãrÿp
*
Pow”çùÜ
;

2485 
şšeg
 = 
Clše
*
Pow”çùÜ
;

2487 if(
v”bo£
) {

2488 
	`årštf
(
¡d”r
,"Glob® Clock Pow”: %g\n",
Clockpow”
);

2489 
	`årštf
(
¡d”r
," Glob® M‘® Lše  (W): %g\n",
Clše
*
Pow”çùÜ
);

2490 
	`årštf
(
¡d”r
," Glob® M‘® Lše (3%%è(W): %g\n",
Clše2
*
Pow”çùÜ
);

2491 
	`årštf
(
¡d”r
," Glob® Clock Bufãr (W): %g\n",
glob®_bufãrÿp
*
Pow”çùÜ
);

2492 
	`årštf
(
¡d”r
," Glob® Clock C­ (Im¶ic™è(W): %g\n",
p”eg_şockÿp
*
Pow”çùÜ
);

2493 
	`årštf
(
¡d”r
," Glob® Clock C­ (Ex¶ic™è(W): %g\n",
glob®_şockÿp
*
Pow”çùÜ
+ 
»s_Ÿlu
*
I_ADD_CLOCK
+ 
»s_imuÉ
*
I_MULT_CLOCK
 + 
»s_å®u
*
F_ADD_CLOCK
 + 
»s_åmuÉ
*
F_MULT_CLOCK
);

2494 
	`årštf
(
¡d”r
,"B»aku°-\À IALU1 : %g\À IALU2 : %g\À FALU1 : %g\À FALU2 : %g\n",
»s_Ÿlu
*
I_ADD_CLOCK
, 
»s_imuÉ
*
I_MULT_CLOCK
, 
»s_å®u
*
F_ADD_CLOCK
, 
»s_åmuÉ
*
F_MULT_CLOCK
);

2495 
k
=0;k<
gcc
;k++) {

2496 
	`årštf
(
¡d”r
," % : %g\n",
gúame
[
k
],
gc
[k]*
Pow”çùÜ
);

2499 (
Clockpow”
);

2501 
	}
}

2504 
	$glob®_şockpow”
(
d›_Ëngth
)

2507 
şocklš–’gth
;

2508 
Clše
,
Clše2
,
CtÙ®
;

2509 
glob®_bufãrÿp
 = 0;

2511 
Clše2
 = 
Cm‘®
 * (.03 * 
d›_Ëngth
 * d›_Ëngth/
B™lšeS·cšg
) * 1e6 * 1e6;

2513 
şocklš–’gth
 = 
d›_Ëngth
*(.5 + 4 * (.25 + 2*(.25) + 4 * (.125)));

2514 
Clše
 = 20 * 
Cm‘®
 * (
şocklš–’gth
) * 1e6;

2515 
glob®_bufãrÿp
 = 12*
	`g©eÿp
(1000.0,10.0)+16*gatecap(200,10.0)+16*8*2*gatecap(100.0,10.00) + 2*gatecap(.29*1e6,10.0);

2516 
CtÙ®
 = 
Clše
+
glob®_bufãrÿp
;

2518 if(
v”bo£
) {

2519 
	`årštf
(
¡d”r
,"Glob® Clock Pow”: %g\n",
CtÙ®
*
Pow”çùÜ
);

2520 
	`årštf
(
¡d”r
," Glob® M‘® Lše  (W): %g\n",
Clše
*
Pow”çùÜ
);

2521 
	`årštf
(
¡d”r
," Glob® M‘® Lše (3%%è(W): %g\n",
Clše2
*
Pow”çùÜ
);

2522 
	`årštf
(
¡d”r
," Glob® Clock Bufãr (W): %g\n",
glob®_bufãrÿp
*
Pow”çùÜ
);

2525 (
CtÙ®
*
Pow”çùÜ
);

2527 
	}
}

2530 
	$compu‹_»suÉbus_pow”
()

2532 
CtÙ®
, 
Clše
;

2534 
»gfe_height
;

2537 
Å»g_width
 = ()
	`û
(
	`logtwo
(()((
IPREG_size
+
FPREG_size
))));

2539 
CtÙ®
=0;

2541 
»gfe_height
 = (
IPREG_size
è* (
RegC–lHeight
 +

2542 
WÜdlšeS·cšg
 * 3 * 
ruu_issue_width
);

2545 
Clše
 = 
Cm‘®
 * (
»gfe_height
 + .5 * (
»s_Ÿlu
/
CLUSTERS
è* 3200.0 * 
LSCALE
);

2552 
CtÙ®
 +ğ2.0 * (
d©a_width
 + 
Å»g_width
è* (
ruu_issue_width
)* 
Clše
;

2554 #ifdeà
STATIC_AF


2555 (
CtÙ®
*
Pow”çùÜ
*
AF
);

2557 (
CtÙ®
*
Pow”çùÜ
);

2560 
	}
}

2569 
	$d_æ_æİ_ÿp
 (
di¥©ch_du³d_b™s
)

2571 
c_dff
;

2575 
c_dff
 = (
di¥©ch_du³d_b™s
) *

2577 (
	`d¿šÿp
(
WDFFn
,
NCH
,1è+ d¿šÿp(
WDFFp
,
PCH
,2) +

2578 
	`d¿šÿp
(
WDFFp
,
PCH
,1è+ 
	`g©eÿp
(
WDFFn
,10) +

2581 
	`d¿šÿp
(
WDFFn
,
NCH
,1) + draincap(WDFFn,NCH,2) +

2582 
	`d¿šÿp
(
WDFFp
,
PCH
,1è+ 
	`g©eÿp
(
WDFFn
 + WDFFp,20) +

2585 
	`d¿šÿp
(
WDFFn
,
NCH
,1) + draincap(WDFFn,NCH,2) +

2586 
	`d¿šÿp
(
WDFFp
,
PCH
,1è+ 
	`g©eÿp
(
WDFFn
 + WDFFp,20) +

2589 
	`d¿šÿp
(
WDFFn
,
NCH
,1è+ d¿šÿp(
WDFFp
,
PCH
,1) +

2590 
	`g©eÿp
(
WDFFn
 + 
WDFFp
,0.0)

2593 (
c_dff
);

2594 
	}
}

2597 
	$two_to_1_mux_ÿp
 (
di¥©ch_du³d_b™s
)

2599 
c_21mux
;

2601 
c_21mux
 = (
di¥©ch_du³d_b™s
) *

2603 (
	`d¿šÿp
(
W2to1muxn
,
NCH
,1è+ d¿šÿp(
W2to1muxp
,
PCH
,1) +

2604 
	`g©eÿp
(
W2to1muxn
 + 
W2to1muxp
,20) +

2607 
	`d¿šÿp
(
W2to1muxn
,
PCH
,1è+ d¿šÿp(
W2to1muxp
,
NCH
,1) +

2608 
	`g©eÿp
(
W2to1muxn
 + 
W2to1muxp
,0.0) +

2611 
	`d¿šÿp
(
W2to1muxn
,
PCH
,1è+ d¿šÿp(
W2to1muxp
,
NCH
,1) +

2612 
	`g©eÿp
(
W2to1muxn
 + 
W2to1muxp
,0.0)

2615 (
c_21mux
);

2616 
	}
}

2620 
	$d_æ_æİ_pow”
 ()

2622 
C_dff_tÙ®
;

2623 
d_æ_æİ_pwr
;

2625 
C_dff_tÙ®
 = 
	`d_æ_æİ_ÿp
(
DISPATCH_DUPED_BITS
);

2627 #ifdeà
STATIC_AF


2628 
d_æ_æİ_pwr
 = 
C_dff_tÙ®
 * 
Pow”çùÜ
 * 
AF
;

2630 
d_æ_æİ_pwr
 = 
C_dff_tÙ®
 * 
Pow”çùÜ
;

2633 (
d_æ_æİ_pwr
);

2635 
	}
}

2639 
	$two_to_1_mux_pow”
 ()

2641 
C_21mux_tÙ®
;

2642 
two_to_1_mux_pwr
;

2644 
C_21mux_tÙ®
 = 
	`two_to_1_mux_ÿp
(
DISPATCH_DUPED_BITS
);

2646 #ifdeà
STATIC_AF


2647 
two_to_1_mux_pwr
 = 
C_21mux_tÙ®
 * 
Pow”çùÜ
 * 
AF
;

2649 
two_to_1_mux_pwr
 = 
C_21mux_tÙ®
 * 
Pow”çùÜ
;

2652 (
two_to_1_mux_pwr
);

2654 
	}
}

2661 
	$comm™_com·»_ÿp
 (
comm™_com·»_b™s
)

2663 
c1
, 
c2
, 
c3
;

2665 
c2
 = (
comm™_com·»_b™s
)*(
	`d¿šÿp
(
Wcom²
,
NCH
,1)+draincap(Wcompn,NCH,2))+

2666 
	`d¿šÿp
(
Wev®švp
,
PCH
,1è+ d¿šÿp(
Wev®švn
,
NCH
,1);

2669 
c1
 = (
comm™_com·»_b™s
)*(
	`d¿šÿp
(
Wcom²
,
NCH
,1)+draincap(Wcompn,NCH,2)+

2670 
	`d¿šÿp
(
Wcomµ»equ
,
NCH
,1)) +

2671 
	`g©eÿp
(
WdecNORn
,1.0)+

2672 
	`g©eÿp
(
WdecNORp
,3.0);

2676 
c3
 = (
comm™_com·»_b™s
)*

2677 2 * (
	`d¿šÿp
(
Wcompšvp1
,
PCH
,1è+ d¿šÿp(
Wcompšvn1
,
NCH
,1) +

2678 
	`g©eÿp
(
Wcompšvp1
 + 
Wcompšvn1
,0.0));

2680 (
c1
 + 
c2
 + 
c3
);

2681 
	}
}

2685 
	$comm™_com·»_pow”
 ()

2687 
C_com·»_tÙ®
;

2688 
com·»_pwr
;

2690 
C_com·»_tÙ®
 = 
	`comm™_com·»_ÿp
(
COMMIT_COMPARE_BITS
);

2692 #ifdeà
STATIC_AF


2693 
com·»_pwr
 = 
C_com·»_tÙ®
 * 
Pow”çùÜ
 * 
AF
;

2695 
com·»_pwr
 = 
C_com·»_tÙ®
 * 
Pow”çùÜ
;

2698 (
com·»_pwr
);

2700 
	}
}

2703 
	$ÿlcuÏ‹_pow”
(
pow”_»suÉ_ty³
 *
pow”
)

2705 
şockpow”
;

2706 
´edeş’gth
, 
wÜdlš–’gth
, 
b™lš–’gth
;

2707 
ndwl
, 
ndbl
, 
n¥d
, 
Áwl
, 
Ábl
, 
Á¥d
, 
c
,
b
,
a
,
ÿche
, 
rowsb
, 
cŞsb
;

2708 
Œowsb
, 
tcŞsb
, 
gsize
;

2709 
va_size
 = 48;

2711 
gcc
 = 0;

2713 
Pow”çùÜ
 = 
pow”
->Powerfactor;

2714 
S’£Pow”çùÜ
 = 
pow”
->SensePowerfactor;

2715 
vdd_»duùiÚ
 = 
pow”
->vdd_reduction;

2717 
POWER_SCALE
 = (
GEN_POWER_SCALE
 * 
NORMALIZE_SCALE
 * 
Pow”çùÜ
);

2718 
I_ADD
 = ((.37 - .091è* 
POWER_SCALE
);

2719 
I_ADD32
 = (((.37 - .091)/2)*
POWER_SCALE
);

2720 
I_MULT16
 = ((.31-.095)*
POWER_SCALE
);

2721 
I_SHIFT
 = ((.21-.089)*
POWER_SCALE
);

2722 
I_LOGIC
 = ((.04-.015)*
POWER_SCALE
);

2723 
F_ADD
 = ((1.307-.452)*
POWER_SCALE
);

2724 
F_MULT
 = ((1.307-.452)*
POWER_SCALE
);

2726 
I_ADD_CLOCK
 = (.091*
POWER_SCALE
);

2727 
I_MULT_CLOCK
 = (.095*
POWER_SCALE
);

2728 
I_SHIFT_CLOCK
ğ(.089*
POWER_SCALE
);

2729 
I_LOGIC_CLOCK
ğ(.015*
POWER_SCALE
);

2730 
F_ADD_CLOCK
 = (.452*
POWER_SCALE
);

2731 
F_MULT_CLOCK
 = (.452*
POWER_SCALE
);

2733 if(
vdd_»duùiÚ
 == 1)

2734 
P”iod
 = (1/
Mhz
);

2736 
P”iod
 = (2/
Mhz
);

2738 
Å»g_width
 = ()
	`û
(
	`logtwo
(()((
IPREG_size
)+(
FPREG_size
))));

2742 
time_»suÉ_ty³
 
time_»suÉ
;

2743 
time_·¿m‘”_ty³
 
time_·¿m‘”s
;

2746 
sÿË_çùÜ
;

2748 
glob®_şockÿp
 = 0;

2750 
ÿche
=0;

2755 
pow”
->
com·»_pow”
 = 
	`comm™_com·»_pow”
 ();

2760 
pow”
->
d_æ_æİ_pow”
 = 
	`d_æ_æİ_pow”
 ();

2761 
pow”
->
two_to_1_mux_pow”
 = 
	`two_to_1_mux_pow”
 ();

2762 
pow”
->
du¶iÿtiÚ_pow”
 =…ow”->
d_æ_æİ_pow”
 +…ow”->
two_to_1_mux_pow”
;

2767 
pow”
->
Ÿlu1_pow”
 = (
»s_Ÿlu
 /
CLUSTERS
)* (
I_ADD
+
I_ADD_CLOCK
);

2768 
pow”
->
Ÿlu2_pow”
 = (
»s_imuÉ
 /
CLUSTERS
)* (
I_MULT16
+
I_MULT_CLOCK
);

2769 
pow”
->
çlu1_pow”
 = (
»s_å®u
 /
CLUSTERS
)* (
F_ADD
+
F_ADD_CLOCK
);

2770 
pow”
->
çlu2_pow”
 = (
»s_åmuÉ
 /
CLUSTERS
)* (
F_MULT
+
F_MULT_CLOCK
);

2773 
nv»g_width
 = ()
	`û
(
	`logtwo
(()(
MD_NUM_IREGS
*2.0)));

2774 
Å»g_width
 = ()
	`û
(
	`logtwo
(()((
IPREG_size
+
FPREG_size
))));

2781 
´edeş’gth
 = 2*
MD_NUM_IREGS
 *

2782 (
R©C–lHeight
 + 3 * (
ruu_decode_width
è* 
WÜdlšeS·cšg
);

2784 
wÜdlš–’gth
 = 
Å»g_width
 *

2785 (
R©C–lWidth
 +

2786 6 * (
ruu_decode_width
è* 
B™lšeS·cšg
 +

2787 
R©ShiáRegWidth
*
R©NumShiá
);

2789 
b™lš–’gth
 = 2*
MD_NUM_IREGS
 * (
R©C–lHeight
 + 3 * (
ruu_decode_width
è* 
WÜdlšeS·cšg
);

2791 if(
v”bo£
)

2792 
	`årštf
(
¡d”r
,"rat…ower stats\n");

2793 
pow”
->
¿t_decod”
 = 
	`¬¿y_decod”_pow”
(2*
MD_NUM_IREGS
,
Å»g_width
,
´edeş’gth
,2*(
ruu_decode_width
),Ôuu_decode_width),
ÿche
);

2794 
pow”
->
¿t_wÜdlše
 = 
	`¬¿y_wÜdlše_pow”
(2*
MD_NUM_IREGS
,
Å»g_width
,
wÜdlš–’gth
,2*(
ruu_decode_width
),Ôuu_decode_width),
ÿche
);

2795 
pow”
->
¿t_b™lše
 = 
	`¬¿y_b™lše_pow”
(2*
MD_NUM_IREGS
,
Å»g_width
,
b™lš–’gth
,2*(
ruu_decode_width
),Ôuu_decode_width),
ÿche
);

2799 
	`¡rıy
(
gúame
[
gcc
-1],"rat");

2800 
pow”
->
¿t_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2801 
pow”
->
¿t_£n£amp
 = 0;

2803 
pow”
->
dş_com·»
 = 
	`dş_com·»_pow”
(
nv»g_width
);

2804 
pow”
->
dş_³ncode
 = 0;

2805 
pow”
->
š¡_decod”_pow”
 = (
ruu_decode_width
è* 
	`sim¶e_¬¿y_decod”_pow”
(
İcode_Ëngth
,1,1,1,
ÿche
);

2807 
pow”
->
iwakeup_gdrive
 =
	`ÿm_gdrive
((
IIQ_size
),
Å»g_width
,
ruu_issue_width
,ruu_issue_width);

2808 
pow”
->
iwakeup_gm©ch
 =
	`ÿm_gm©ch
((
IIQ_size
),
Å»g_width
,
ruu_issue_width
,ruu_issue_width);

2809 
	`¡rıy
(
gúame
[
gcc
-1],"IIQ");

2810 
pow”
->
iwakeup_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2811 
pow”
->
iwakeup_Üm©ch
 =0;

2813 
pow”
->
fwakeup_gdrive
 =
	`ÿm_gdrive
((
FIQ_size
),
Å»g_width
,
ruu_issue_width
,ruu_issue_width);

2814 
pow”
->
fwakeup_gm©ch
 =
	`ÿm_gm©ch
((
FIQ_size
),
Å»g_width
,
ruu_issue_width
,ruu_issue_width);

2815 
	`¡rıy
(
gúame
[
gcc
-1],"FIQ");

2816 
pow”
->
fwakeup_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2817 
pow”
->
fwakeup_Üm©ch
 =0;

2819 
pow”
->
i£ËùiÚ
 = 
	`£ËùiÚ_pow”
(
IIQ_size
);

2820 
pow”
->
f£ËùiÚ
 = 
	`£ËùiÚ_pow”
(
FIQ_size
);

2823 
´edeş’gth
 = (
IPREG_size
è* (
RegC–lHeight
 + 3 * 
ruu_issue_width
 * 
WÜdlšeS·cšg
);

2825 
wÜdlš–’gth
 = 
d©a_width
 *

2826 (
RegC–lWidth
 +

2827 6 * 
ruu_issue_width
 * 
B™lšeS·cšg
);

2829 
b™lš–’gth
 = (
IPREG_size
 )* (
RegC–lHeight
 + 3 * 
ruu_issue_width
 * 
WÜdlšeS·cšg
);

2831 if(
v”bo£
)

2832 
	`årštf
(
¡d”r
,"iregfile…ower stats\n");

2834 
pow”
->
œegfe_decod”
 = 
	`¬¿y_decod”_pow”
((
IPREG_size
),
d©a_width
,
´edeş’gth
,2*
ruu_issue_width
,ruu_issue_width,
ÿche
);

2835 
pow”
->
œegfe_wÜdlše
 = 
	`¬¿y_wÜdlše_pow”
((
IPREG_size
),
d©a_width
,
wÜdlš–’gth
,2*
ruu_issue_width
,ruu_issue_width,
ÿche
);

2836 
pow”
->
œegfe_b™lše
 = 
	`¬¿y_b™lše_pow”
((
IPREG_size
),
d©a_width
,
b™lš–’gth
,2*
ruu_issue_width
,ruu_issue_width,
ÿche
);

2837 
	`¡rıy
(
gúame
[
gcc
-1],"iregfile");

2838 
pow”
->
œegfe_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2839 
pow”
->
œegfe_£n£amp
 =0;

2841 
´edeş’gth
 = (
FPREG_size
è* (
RegC–lHeight
 + 3 * 
ruu_issue_width
 * 
WÜdlšeS·cšg
);

2843 
wÜdlš–’gth
 = 
d©a_width
 *

2844 (
RegC–lWidth
 +

2845 6 * 
ruu_issue_width
 * 
B™lšeS·cšg
);

2847 
b™lš–’gth
 = (
FPREG_size
è* (
RegC–lHeight
 + 3 * 
ruu_issue_width
 * 
WÜdlšeS·cšg
);

2849 if(
v”bo£
)

2850 
	`årštf
(
¡d”r
,"fregfile…ower stats\n");

2852 
pow”
->
äegfe_decod”
 = 
	`¬¿y_decod”_pow”
((
FPREG_size
),
d©a_width
,
´edeş’gth
,2*
ruu_issue_width
,ruu_issue_width,
ÿche
);

2853 
pow”
->
äegfe_wÜdlše
 = 
	`¬¿y_wÜdlše_pow”
((
FPREG_size
),
d©a_width
,
wÜdlš–’gth
,2*
ruu_issue_width
,ruu_issue_width,
ÿche
);

2854 
pow”
->
äegfe_b™lše
 = 
	`¬¿y_b™lše_pow”
((
FPREG_size
),
d©a_width
,
b™lš–’gth
,2*
ruu_issue_width
,ruu_issue_width,
ÿche
);

2855 
	`¡rıy
(
gúame
[
gcc
-1],"fregfile");

2856 
pow”
->
äegfe_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2857 
pow”
->
äegfe_£n£amp
 =0;

2860 
pow”
->
lsq_wakeup_gdrive
 =
	`ÿm_gdrive
((
LSQ_size
),
d©a_width
,(
»s_mempÜt
/
CLUSTERS
),(res_memport/CLUSTERS));

2861 
pow”
->
lsq_wakeup_gm©ch
 =
	`ÿm_gm©ch
((
LSQ_size
),
d©a_width
,(
»s_mempÜt
/
CLUSTERS
),(res_memport/CLUSTERS));

2862 
	`¡rıy
(
gúame
[
gcc
-1],"LSQ");

2863 
pow”
->
lsq_wakeup_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2864 
pow”
->
lsq_wakeup_Üm©ch
 =0;

2866 
wÜdlš–’gth
 = 
d©a_width
 *

2867 (
RegC–lWidth
 +

2868 4 *Ğ
»s_mempÜt
/
CLUSTERS
è* 
B™lšeS·cšg
);

2870 
b™lš–’gth
 = (
IIQ_size
è* (
RegC–lHeight
 + 4 *Ğ
»s_mempÜt
/
CLUSTERS
è* 
WÜdlšeS·cšg
);

2873 if(
v”bo£
)

2874 
	`årštf
(
¡d”r
,"lsq station…ower stats\n");

2875 
pow”
->
lsq_rs_decod”
 = 
	`¬¿y_decod”_pow”
((
LSQ_size
),
d©a_width
,
´edeş’gth
,(
»s_mempÜt
/
CLUSTERS
),Ôes_mempÜt/CLUSTERS),
ÿche
);

2876 
pow”
->
lsq_rs_wÜdlše
 = 
	`¬¿y_wÜdlše_pow”
((
LSQ_size
),
d©a_width
,
wÜdlš–’gth
,(
»s_mempÜt
/
CLUSTERS
),Ôes_mempÜt/CLUSTERS),
ÿche
);

2877 
pow”
->
lsq_rs_b™lše
 = 
	`¬¿y_b™lše_pow”
((
LSQ_size
),
d©a_width
,
b™lš–’gth
,(
»s_mempÜt
/
CLUSTERS
),Ôes_mempÜt/CLUSTERS),
ÿche
);

2878 
	`¡rıy
(
gúame
[
gcc
-1],"lsq");

2879 
pow”
->
lsq_rs_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2880 
pow”
->
lsq_rs_£n£amp
 =0;

2882 
pow”
->
œesuÉbus
 = 
	`compu‹_»suÉbus_pow”
();

2883 
pow”
->
äesuÉbus
 = 
	`compu‹_»suÉbus_pow”
();

2886 
time_·¿m‘”s
.
ÿche_size
 = 
btb_cÚfig
[0] * (
d©a_width
/8) * btb_config[1];

2887 
time_·¿m‘”s
.
block_size
 = (
d©a_width
/8);

2888 
time_·¿m‘”s
.
assocŸtiv™y
 = 
btb_cÚfig
[1];

2889 
time_·¿m‘”s
.
numb”_of_£ts
 = 
btb_cÚfig
[0];

2892 
	`ÿlcuÏ‹_time
(&
time_»suÉ
,&
time_·¿m‘”s
);

2893 
	`ouut_d©a
(&
time_»suÉ
,&
time_·¿m‘”s
);

2896 
ndwl
=
time_»suÉ
.
be¡_Ndwl
;

2897 
ndbl
=
time_»suÉ
.
be¡_Ndbl
;

2898 
n¥d
=
time_»suÉ
.
be¡_N¥d
;

2899 
Áwl
=
time_»suÉ
.
be¡_Ntwl
;

2900 
Ábl
=
time_»suÉ
.
be¡_Ntbl
;

2901 
Á¥d
=
time_»suÉ
.
be¡_Nt¥d
;

2902 
c
 = 
time_·¿m‘”s
.
ÿche_size
;

2903 
b
 = 
time_·¿m‘”s
.
block_size
;

2904 
a
 = 
time_·¿m‘”s
.
assocŸtiv™y
;

2906 
ÿche
=1;

2909 
rowsb
 = 
c
/(8*
b
*
a
*
ndbl
*
n¥d
);

2910 
cŞsb
 = 8*
b
*
a
*
n¥d
/
ndwl
;

2912 if(
v”bo£
) {

2913 
	`årštf
(
¡d”r
,"%d KB %d-way btb (%d-by‹ block size):\n",
c
,
a
,
b
);

2914 
	`årštf
(
¡d”r
,"ndwÈ=ğ%d,‚dbÈ=ğ%d,‚¥d =ğ%d\n",
ndwl
,
ndbl
,
n¥d
);

2915 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
ndwl
*
ndbl
,
rowsb
,
cŞsb
);

2918 
´edeş’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2919 
wÜdlš–’gth
 = 
cŞsb
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

2920 
b™lš–’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2922 if(
v”bo£
)

2923 
	`årštf
(
¡d”r
,"btb…ower stats\n");

2924 
pow”
->
btb
 = 
ndwl
*
ndbl
*(
	`¬¿y_decod”_pow”
(
rowsb
,
cŞsb
,
´edeş’gth
,1,1,
ÿche
è+ 
	`¬¿y_wÜdlše_pow”
Ôowsb,cŞsb,
wÜdlš–’gth
,1,1,ÿcheè+ 
	`¬¿y_b™lše_pow”
Ôowsb,cŞsb,
b™lš–’gth
,1,1,ÿcheè+ 
	`£n£amp_pow”
(colsb));

2925 
	`¡rıy
(
gúame
[
gcc
-1],"btb");

2926 
pow”
->
btb_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2928 
ÿche
=1;

2930 
sÿË_çùÜ
 = 
	`squ¬ify
(
twŞev_cÚfig
[0],twolev_config[2]);

2931 
´edeş’gth
 = (
twŞev_cÚfig
[0] / 
sÿË_çùÜ
)* (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2932 
wÜdlš–’gth
 = 
twŞev_cÚfig
[2] * 
sÿË_çùÜ
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

2933 
b™lš–’gth
 = (
twŞev_cÚfig
[0] / 
sÿË_çùÜ
è* (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2935 if(
v”bo£
)

2936 
	`årštf
(
¡d”r
,"local…redict…ower stats\n");

2938 
pow”
->
loÿl_´ediù
 = 
	`¬¿y_decod”_pow”
(
twŞev_cÚfig
[0]/
sÿË_çùÜ
,twŞev_cÚfig[2]*sÿË_çùÜ,
´edeş’gth
,1,1,
ÿche
è+ 
	`¬¿y_wÜdlše_pow”
ÑwŞev_cÚfig[0]/sÿË_çùÜ,twŞev_cÚfig[2]*sÿË_çùÜ,
wÜdlš–’gth
,1,1,ÿcheè+ 
	`¬¿y_b™lše_pow”
ÑwŞev_cÚfig[0]/sÿË_çùÜ,twŞev_cÚfig[2]*sÿË_çùÜ,
b™lš–’gth
,1,1,ÿcheè+ 
	`£n£amp_pow”
(twolev_config[2]*scale_factor);

2939 
	`¡rıy
(
gúame
[
gcc
-1],"locpred");

2940 
pow”
->
loÿl_´ediù_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2942 
sÿË_çùÜ
 = 
	`squ¬ify
(
twŞev_cÚfig
[1],3);

2944 
´edeş’gth
 = (
twŞev_cÚfig
[1] / 
sÿË_çùÜ
)* (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2945 
wÜdlš–’gth
 = 3 * 
sÿË_çùÜ
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

2946 
b™lš–’gth
 = (
twŞev_cÚfig
[1] / 
sÿË_çùÜ
è* (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2949 if(
v”bo£
)

2950 
	`årštf
(
¡d”r
,"local…redict…ower stats\n");

2951 
pow”
->
loÿl_´ediù
 +ğ
	`¬¿y_decod”_pow”
(
twŞev_cÚfig
[1]/
sÿË_çùÜ
,3*sÿË_çùÜ,
´edeş’gth
,1,1,
ÿche
è+ 
	`¬¿y_wÜdlše_pow”
ÑwŞev_cÚfig[1]/sÿË_çùÜ,3*sÿË_çùÜ,
wÜdlš–’gth
,1,1,ÿcheè+ 
	`¬¿y_b™lše_pow”
ÑwŞev_cÚfig[1]/sÿË_çùÜ,3*sÿË_çùÜ,
b™lš–’gth
,1,1,ÿcheè+ 
	`£n£amp_pow”
(3*scale_factor);

2952 
	`¡rıy
(
gúame
[
gcc
-1],"locpred");

2953 
pow”
->
loÿl_´ediù_gc
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

2956 if(
v”bo£
)

2957 
	`årštf
(
¡d”r
,"bimod_cÚfig[0] =ğ%d\n",
bimod_cÚfig
[0]);

2959 
sÿË_çùÜ
 = 
	`squ¬ify
(
bimod_cÚfig
[0],2);

2961 
´edeş’gth
 = 
bimod_cÚfig
[0]/
sÿË_çùÜ
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2962 
wÜdlš–’gth
 = 2*
sÿË_çùÜ
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

2963 
b™lš–’gth
 = 
bimod_cÚfig
[0]/
sÿË_çùÜ
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2966 if(
v”bo£
)

2967 
	`årštf
(
¡d”r
,"global…redict…ower stats\n");

2968 
pow”
->
glob®_´ediù
 = 
	`¬¿y_decod”_pow”
(
bimod_cÚfig
[0]/
sÿË_çùÜ
,2*sÿË_çùÜ,
´edeş’gth
,1,1,
ÿche
è+ 
	`¬¿y_wÜdlše_pow”
(bimod_cÚfig[0]/sÿË_çùÜ,2*sÿË_çùÜ,
wÜdlš–’gth
,1,1,ÿcheè+ 
	`¬¿y_b™lše_pow”
(bimod_cÚfig[0]/sÿË_çùÜ,2*sÿË_çùÜ,
b™lš–’gth
,1,1,ÿcheè+ 
	`£n£amp_pow”
(2*scale_factor);

2969 
	`¡rıy
(
gúame
[
gcc
-1],"glopred");

2970 
pow”
->
glob®_´ediù_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2972 
sÿË_çùÜ
 = 
	`squ¬ify
(
comb_cÚfig
[0],2);

2974 
´edeş’gth
 = 
comb_cÚfig
[0]/
sÿË_çùÜ
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2975 
wÜdlš–’gth
 = 2*
sÿË_çùÜ
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

2976 
b™lš–’gth
 = 
comb_cÚfig
[0]/
sÿË_çùÜ
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

2978 if(
v”bo£
)

2979 
	`årštf
(
¡d”r
,"chooser…redict…ower stats\n");

2980 
pow”
->
choo£r
 = 
	`¬¿y_decod”_pow”
(
comb_cÚfig
[0]/
sÿË_çùÜ
,2*sÿË_çùÜ,
´edeş’gth
,1,1,
ÿche
è+ 
	`¬¿y_wÜdlše_pow”
(comb_cÚfig[0]/sÿË_çùÜ,2*sÿË_çùÜ,
wÜdlš–’gth
,1,1,ÿcheè+ 
	`¬¿y_b™lše_pow”
(comb_cÚfig[0]/sÿË_çùÜ,2*sÿË_çùÜ,
b™lš–’gth
,1,1,ÿcheè+ 
	`£n£amp_pow”
(2*scale_factor);

2981 
	`¡rıy
(
gúame
[
gcc
-1],"choopred");

2982 
pow”
->
choo£r_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2984 if(
v”bo£
)

2985 
	`årštf
(
¡d”r
,"RAS…redict…ower stats\n");

2986 
pow”
->
¿s
 = 
	`sim¶e_¬¿y_pow”
(
¿s_size
,
d©a_width
,1,1,0);

2987 
	`¡rıy
(
gúame
[
gcc
-1],"ras");

2988 
pow”
->
¿s_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
;

2991 
gsize
 = 
va_size
 - (()
	`logtwo
(
ÿche_dl1
[0]->
n£ts
è+ (îogtwo(ÿche_dl1[0]->
bsize
));

2994 if(
v”bo£
)

2995 
	`årštf
(
¡d”r
,"dtlb…redict…ower stats\n");

2996 
pow”
->
db
 = (
»s_mempÜt
/
CLUSTERS
)*(
	`ÿm_¬¿y
(db->
n£ts
, 
va_size
 - ()
	`logtwo
(()db->
bsize
),1,1è+ 
	`sim¶e_¬¿y_pow”
(db->n£ts,
gsize
,1,1,
ÿche
));

2997 
	`¡rıy
(
gúame
[
gcc
-1],"dtlb");

2998 
	`¡rıy
(
gúame
[
gcc
-2],"dtlb");

2999 
pow”
->
db_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
+gc[gcc-2]*Powerfactor;

3000 
pow”
->
db
 +ğpow”->
db_gc
;

3002 ià(
v”bo£
)

3003 
	`årštf
(
¡d”r
,"ROB…ower stats\n");

3005 
pow”
->
rob1_pow”
 = 
	`ÿm_¬¿y
(
RUU_size
, ()
	`logtwo
(()((
IPREG_size
+
FPREG_size
))), 0, 
ruu_comm™_width
);

3006 
	`¡rıy
(
gúame
[
gcc
-1],"rob1");

3007 
pow”
->
rob1_pow”
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

3009 
pow”
->
rob2_pow”
 = 
	`sim¶e_¬¿y_pow”
(
RUU_size
, 20 , 
ruu_comm™_width
, (
ruu_decode_width
), 
ÿche
);

3010 
	`¡rıy
(
gúame
[
gcc
-1],"rob2");

3011 
pow”
->
rob2_pow”
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

3013 ià(
v”bo£
)

3014 
	`årštf
(
¡d”r
,"Issueq„am…ower stats\n");

3017 if(
INORDER_CHECKER
 && 
CHECKER_NUMBER
 && 
vdd_»duùiÚ
 != 1){

3019 
pow”
->
iq¿m_pow”
 = 
	`sim¶e_¬¿y_pow”
(1, 100 , 
ruu_issue_width
, (
ruu_decode_width
), 
ÿche
);

3020 
	`¡rıy
(
gúame
[
gcc
-1],"iqram");

3021 
pow”
->
iq¿m_pow”
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

3025 
pow”
->
fq¿m_pow”
 = 
	`sim¶e_¬¿y_pow”
(1, 100 , 
ruu_issue_width
, (
ruu_decode_width
), 
ÿche
);

3026 
	`¡rıy
(
gúame
[
gcc
-1],"fqram");

3027 
pow”
->
fq¿m_pow”
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

3029 
pow”
->
iq¿m_pow”
 -ğ
	`sim¶e_¬¿y_decod”_pow”
((
IIQ_size
), 100 , 
ruu_issue_width
, (
ruu_decode_width
), 
ÿche
);

3030 
pow”
->
fq¿m_pow”
 -ğ
	`sim¶e_¬¿y_decod”_pow”
((
FIQ_size
), 100 , 
ruu_issue_width
, (
ruu_decode_width
), 
ÿche
);

3035 
pow”
->
iq¿m_pow”
 = 
	`sim¶e_¬¿y_pow”
((
IIQ_size
), 100 , 
ruu_issue_width
, (
ruu_decode_width
), 
ÿche
);

3036 
	`¡rıy
(
gúame
[
gcc
-1],"iqram");

3037 
pow”
->
iq¿m_pow”
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

3041 
pow”
->
fq¿m_pow”
 = 
	`sim¶e_¬¿y_pow”
((
FIQ_size
), 100 , 
ruu_issue_width
, (
ruu_decode_width
), 
ÿche
);

3042 
	`¡rıy
(
gúame
[
gcc
-1],"fqram");

3043 
pow”
->
fq¿m_pow”
 +ğ
gc
[
gcc
-1]*
Pow”çùÜ
;

3050 
gsize
 = 
va_size
 - (()
	`logtwo
(
ÿche_1
[0]->
n£ts
è+ (îogtwo(ÿche_1[0]->
bsize
));

3052 
´edeş’gth
 = 
™lb
->
n£ts
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3053 
wÜdlš–’gth
 = 
	`logtwo
(()
™lb
->
bsize
è* (
RegC–lWidth
 + 
B™lšeS·cšg
);

3054 
b™lš–’gth
 = 
™lb
->
n£ts
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3056 if(
v”bo£
)

3057 
	`årštf
(
¡d”r
,"itlb…redict…ower stats\n");

3058 
pow”
->
™lb
 = 
	`ÿm_¬¿y
(™lb->
n£ts
, 
va_size
 - ()
	`logtwo
(()™lb->
bsize
),1,1è+ 
	`sim¶e_¬¿y_pow”
(™lb->n£ts,
gsize
,1,1,
ÿche
);

3059 
	`¡rıy
(
gúame
[
gcc
-1],"itlb");

3060 
	`¡rıy
(
gúame
[
gcc
-2],"itlb");

3061 
pow”
->
™lb_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
+gc[gcc-2]*Powerfactor;

3062 
pow”
->
™lb
 +ğpow”->
™lb_gc
;

3065 
ÿche
=1;

3068 
time_·¿m‘”s
.
ÿche_size
 = 
ÿche_1
[0]->
n£ts
 * cache_1[0]->
bsize
 * cache_1[0]->
assoc
;

3069 
time_·¿m‘”s
.
block_size
 = 
ÿche_1
[0]->
bsize
;

3070 
time_·¿m‘”s
.
assocŸtiv™y
 = 
ÿche_1
[0]->
assoc
;

3071 
time_·¿m‘”s
.
numb”_of_£ts
 = 
ÿche_1
[0]->
n£ts
;

3078 
	`ÿlcuÏ‹_time
(&
time_»suÉ
,&
time_·¿m‘”s
);

3079 
	`ouut_d©a
(&
time_»suÉ
,&
time_·¿m‘”s
);

3081 
ndwl
=
time_»suÉ
.
be¡_Ndwl
;

3082 
ndbl
=
time_»suÉ
.
be¡_Ndbl
;

3083 
n¥d
=
time_»suÉ
.
be¡_N¥d
;

3084 
Áwl
=
time_»suÉ
.
be¡_Ntwl
;

3085 
Ábl
=
time_»suÉ
.
be¡_Ntbl
;

3086 
Á¥d
=
time_»suÉ
.
be¡_Nt¥d
;

3088 
c
 = 
time_·¿m‘”s
.
ÿche_size
;

3089 
b
 = 
time_·¿m‘”s
.
block_size
;

3090 
a
 = 
time_·¿m‘”s
.
assocŸtiv™y
;

3092 
rowsb
 = 
c
/(8*
b
*
a
*
ndbl
*
n¥d
);

3093 
cŞsb
 = 8*
b
*
a
*
n¥d
/
ndwl
;

3097 
gsize
 = 
va_size
 - (()
	`logtwo
(
ÿche_1
[0]->
n£ts
è+ (îogtwo(ÿche_1[0]->
bsize
));

3098 
Œowsb
 = 
c
/(8*
b
*
a
*
Ábl
*
Á¥d
);

3099 
tcŞsb
 = 
a
 * (
gsize
 + 1 + 6è* 
Á¥d
/
Áwl
;

3101 if(
v”bo£
) {

3102 
	`årštf
(
¡d”r
,"%d KB %d-way cach(%d-by‹ block size):\n",
c
,
a
,
b
);

3103 
	`årštf
(
¡d”r
,"ndwÈ=ğ%d,‚dbÈ=ğ%d,‚¥d =ğ%d\n",
ndwl
,
ndbl
,
n¥d
);

3104 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
ndwl
*
ndbl
,
rowsb
,
cŞsb
);

3105 
	`årštf
(
¡d”r
,"gsiz=ğ%d\n",
gsize
);

3108 
´edeş’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3109 
wÜdlš–’gth
 = 
cŞsb
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

3110 
b™lš–’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3112 if(
v”bo£
)

3113 
	`årštf
(
¡d”r
,"icache…ower stats\n");

3114 
pow”
->
iÿche_decod”
 = 
ndwl
*
ndbl
*
	`¬¿y_decod”_pow”
(
rowsb
,
cŞsb
,
´edeş’gth
,1,1,
ÿche
);

3115 
pow”
->
iÿche_wÜdlše
 = 
ndwl
*
ndbl
*
	`¬¿y_wÜdlše_pow”
(
rowsb
,
cŞsb
,
wÜdlš–’gth
,1,1,
ÿche
);

3116 
pow”
->
iÿche_b™lše
 = 
ndwl
*
ndbl
*
	`¬¿y_b™lše_pow”
(
rowsb
,
cŞsb
,
b™lš–’gth
,1,1,
ÿche
);

3117 
	`¡rıy
(
gúame
[
gcc
-1],"icache");

3118 
pow”
->
iÿche_£n£amp
 = 
ndwl
*
ndbl
*
	`£n£amp_pow”
(
cŞsb
);

3119 
pow”
->
iÿche_g¬¿y
 = 
Áwl
*
Ábl
*(
	`sim¶e_¬¿y_pow”
(
Œowsb
,
tcŞsb
,1,1,
ÿche
));

3120 
	`¡rıy
(
gúame
[
gcc
-1],"il1_tag");

3121 
pow”
->
iÿche_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
+gc[gcc-2]*Powerfactor;

3123 
pow”
->
iÿche_pow”
 =…ow”->
iÿche_decod”
 +…ow”->
iÿche_wÜdlše
 +…ow”->
iÿche_b™lše
 +…ow”->
iÿche_£n£amp
 +…ow”->
iÿche_g¬¿y
 +…ow”->
iÿche_gc
;

3127 
time_·¿m‘”s
.
ÿche_size
 = 
ÿche_dl1
[0]->
n£ts
 * cache_dl1[0]->
bsize
 * cache_dl1[0]->
assoc
;

3128 
time_·¿m‘”s
.
block_size
 = 
ÿche_dl1
[0]->
bsize
;

3129 
time_·¿m‘”s
.
assocŸtiv™y
 = 
ÿche_dl1
[0]->
assoc
;

3130 
time_·¿m‘”s
.
numb”_of_£ts
 = 
ÿche_dl1
[0]->
n£ts
;

3138 
	`ÿlcuÏ‹_time
(&
time_»suÉ
,&
time_·¿m‘”s
);

3139 
	`ouut_d©a
(&
time_»suÉ
,&
time_·¿m‘”s
);

3141 
ndwl
=
time_»suÉ
.
be¡_Ndwl
;

3142 
ndbl
=
time_»suÉ
.
be¡_Ndbl
;

3143 
n¥d
=
time_»suÉ
.
be¡_N¥d
;

3144 
Áwl
=
time_»suÉ
.
be¡_Ntwl
;

3145 
Ábl
=
time_»suÉ
.
be¡_Ntbl
;

3146 
Á¥d
=
time_»suÉ
.
be¡_Nt¥d
;

3147 
c
 = 
time_·¿m‘”s
.
ÿche_size
;

3148 
b
 = 
time_·¿m‘”s
.
block_size
;

3149 
a
 = 
time_·¿m‘”s
.
assocŸtiv™y
;

3151 
ÿche
=1;

3153 
rowsb
 = 
c
/(8*
b
*
a
*
ndbl
*
n¥d
);

3154 
cŞsb
 = 8*
b
*
a
*
n¥d
/
ndwl
;

3157 
gsize
 = 
va_size
 - (()
	`logtwo
(
ÿche_dl1
[0]->
n£ts
è+ (îogtwo(ÿche_dl1[0]->
bsize
));

3160 
Œowsb
 = 
c
/(8*
b
*
a
*
Ábl
*
Á¥d
);

3161 
tcŞsb
 = 
a
 * (
gsize
 + 1 + 6è* 
Á¥d
/
Áwl
;

3163 if(
v”bo£
) {

3164 
	`årštf
(
¡d”r
,"%d KB %d-way cach(%d-by‹ block size):\n",
c
,
a
,
b
);

3165 
	`årštf
(
¡d”r
,"ndwÈ=ğ%d,‚dbÈ=ğ%d,‚¥d =ğ%d\n",
ndwl
,
ndbl
,
n¥d
);

3166 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
ndwl
*
ndbl
,
rowsb
,
cŞsb
);

3167 
	`årštf
(
¡d”r
,"gsiz=ğ%d\n",
gsize
);

3169 
	`årštf
(
¡d”r
,"\ÂtwÈ=ğ%d,‚tbÈ=ğ%d,‚t¥d =ğ%d\n",
Áwl
,
Ábl
,
Á¥d
);

3170 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
Áwl
*
Ábl
,
Œowsb
,
tcŞsb
);

3173 
´edeş’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3174 
wÜdlš–’gth
 = 
cŞsb
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

3175 
b™lš–’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3177 if(
v”bo£
)

3178 
	`årštf
(
¡d”r
,"dcache…ower stats\n");

3179 
pow”
->
dÿche_decod”
 = (
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)*
ndwl
*
ndbl
*
	`¬¿y_decod”_pow”
(
rowsb
,
cŞsb
,
´edeş’gth
,1,1,
ÿche
);

3180 
pow”
->
dÿche_wÜdlše
 = (
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)*
ndwl
*
ndbl
*
	`¬¿y_wÜdlše_pow”
(
rowsb
,
cŞsb
,
wÜdlš–’gth
,1,1,
ÿche
);

3181 
pow”
->
dÿche_b™lše
 = (
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)*
ndwl
*
ndbl
*
	`¬¿y_b™lše_pow”
(
rowsb
,
cŞsb
,
b™lš–’gth
,1,1,
ÿche
);

3182 
	`¡rıy
(
gúame
[
gcc
-1],"dcache");

3183 
pow”
->
dÿche_£n£amp
 = (
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)*
ndwl
*
ndbl
*
	`£n£amp_pow”
(
cŞsb
);

3184 
pow”
->
dÿche_g¬¿y
 = (
»s_mempÜt
/
CLUSTERS
+
DIR_FIFO_PORTS
)*
Áwl
*
Ábl
*(
	`sim¶e_¬¿y_pow”
(
Œowsb
,
tcŞsb
,1,1,
ÿche
));

3185 
	`¡rıy
(
gúame
[
gcc
-1],"dl1_tag");

3186 
pow”
->
dÿche_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
+gc[gcc-2]*Powerfactor;

3188 
pow”
->
dÿche_pow”
 =…ow”->
dÿche_decod”
 +…ow”->
dÿche_wÜdlše
 +…ow”->
dÿche_b™lše
 +…ow”->
dÿche_£n£amp
 +…ow”->
dÿche_g¬¿y
 +…ow”->
dÿche_gc
;

3190 
şockpow”
 = 
	`tÙ®_şockpow”
(0.0030);

3191 
pow”
->
şock_pow”
 = 
şockpow”
;

3192 if(
v”bo£
) {

3193 
	`årštf
(
¡d”r
,"œesuÉ bu pow” =ğ%f\n",
pow”
->
œesuÉbus
);

3194 
	`årštf
(
¡d”r
,"äesuÉ bu pow” =ğ%f\n",
pow”
->
äesuÉbus
);

3195 
	`årštf
(
¡d”r
,"glob® clock…ow” =ğ%f\n",
şockpow”
);

3198 
time_·¿m‘”s
.
ÿche_size
 = 
ÿche_dl2
->
n£ts
/
CLUSTERS
 * cache_dl2->
bsize
 * cache_dl2->
assoc
;

3199 
time_·¿m‘”s
.
block_size
 = 
ÿche_dl2
->
bsize
;

3200 
time_·¿m‘”s
.
assocŸtiv™y
 = 
ÿche_dl2
->
assoc
;

3201 
time_·¿m‘”s
.
numb”_of_£ts
 = 
ÿche_dl2
->
n£ts
/
CLUSTERS
;

3203 
	`ÿlcuÏ‹_time
(&
time_»suÉ
,&
time_·¿m‘”s
);

3204 
	`ouut_d©a
(&
time_»suÉ
,&
time_·¿m‘”s
);

3206 
ndwl
=
time_»suÉ
.
be¡_Ndwl
;

3207 
ndbl
=
time_»suÉ
.
be¡_Ndbl
;

3208 
n¥d
=
time_»suÉ
.
be¡_N¥d
;

3209 
Áwl
=
time_»suÉ
.
be¡_Ntwl
;

3210 
Ábl
=
time_»suÉ
.
be¡_Ntbl
;

3211 
Á¥d
=
time_»suÉ
.
be¡_Nt¥d
;

3212 
c
 = 
time_·¿m‘”s
.
ÿche_size
;

3213 
b
 = 
time_·¿m‘”s
.
block_size
;

3214 
a
 = 
time_·¿m‘”s
.
assocŸtiv™y
;

3216 
rowsb
 = 
c
/(8*
b
*
a
*
ndbl
*
n¥d
);

3217 
cŞsb
 = 8*
b
*
a
*
n¥d
/
ndwl
;

3219 
gsize
 = 
va_size
 - (()
	`logtwo
(
ÿche_dl2
->
n£ts
/
CLUSTERS
è+ (îogtwo(ÿche_dl2->
bsize
));

3220 
Œowsb
 = 
c
/(8*
b
*
a
*
Ábl
*
Á¥d
);

3221 
tcŞsb
 = 
a
 * (
gsize
 + 1 + 6è* 
Á¥d
/
Áwl
;

3223 if(
v”bo£
) {

3224 
	`årštf
(
¡d”r
,"%d KB %d-way cach(%d-by‹ block size):\n",
c
,
a
,
b
);

3225 
	`årštf
(
¡d”r
,"ndwÈ=ğ%d,‚dbÈ=ğ%d,‚¥d =ğ%d\n",
ndwl
,
ndbl
,
n¥d
);

3226 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
ndwl
*
ndbl
,
rowsb
,
cŞsb
);

3227 
	`årštf
(
¡d”r
,"gsiz=ğ%d\n",
gsize
);

3230 
´edeş’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3231 
wÜdlš–’gth
 = 
cŞsb
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

3232 
b™lš–’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

3234 if(
v”bo£
)

3235 
	`årštf
(
¡d”r
,"dcache2…ower stats\n");

3236 
pow”
->
dÿche2_decod”
 = 
	`¬¿y_decod”_pow”
(
rowsb
,
cŞsb
,
´edeş’gth
,1,1,
ÿche
);

3237 
pow”
->
dÿche2_wÜdlše
 = 
	`¬¿y_wÜdlše_pow”
(
rowsb
,
cŞsb
,
wÜdlš–’gth
,1,1,
ÿche
);

3238 
pow”
->
dÿche2_b™lše
 = 
	`¬¿y_b™lše_pow”
(
rowsb
,
cŞsb
,
b™lš–’gth
,1,1,
ÿche
);

3239 
	`¡rıy
(
gúame
[
gcc
-1],"dcache2");

3240 
pow”
->
dÿche2_£n£amp
 = 
	`£n£amp_pow”
(
cŞsb
);

3241 
pow”
->
dÿche2_g¬¿y
 = 
	`sim¶e_¬¿y_pow”
(
Œowsb
,
tcŞsb
,1,1,
ÿche
);

3242 
	`¡rıy
(
gúame
[
gcc
-1],"dl2_tag");

3243 
pow”
->
dÿche2_gc
 = 
gc
[
gcc
-1]*
Pow”çùÜ
+gc[gcc-2]*Powerfactor;

3245 
	`årštf
(
¡d”r
,"Dÿche2_gøpow” %f\n",
pow”
->
dÿche2_gc
);

3246 
pow”
->
dÿche2_pow”
 =…ow”->
dÿche2_decod”
 +…ow”->
dÿche2_wÜdlše
 +…ow”->
dÿche2_b™lše
 +…ow”->
dÿche2_£n£amp
 +…ow”->
dÿche2_g¬¿y
 +…ow”->
dÿche2_gc
;

3247 #ifdeà
INPUT_OUTPUT_BUFFER


3248 
pow”
->
šput_buf_pow”
 = 
	`¬¿y_wÜdlše_pow”
(
šput_bufãr_size
, 1, 64, 1, 1, 
ÿche
) +

3249 
	`¬¿y_b™lše_pow”
(
šput_bufãr_size
, 1, 64, 1, 1, 
ÿche
è+ 
gc
[
gcc
-1]*
Pow”çùÜ
;

3250 
	`¡rıy
(
gúame
[
gcc
-1],"input_buf");

3252 
pow”
->
ouut_buf_pow”
 = 
	`¬¿y_wÜdlše_pow”
(
ouut_bufãr_size
, 1, 64, 1, 1, 
ÿche
) +

3253 
	`¬¿y_b™lše_pow”
(
ouut_bufãr_size
, 1, 64, 1, 1, 
ÿche
è+ 
gc
[
gcc
-1]*
Pow”çùÜ
;

3254 
	`¡rıy
(
gúame
[
gcc
-1],"output_buf");

3257 
pow”
->
¿t_decod”
 *ğ
üossov”_sÿlšg
;

3258 
pow”
->
¿t_wÜdlše
 *ğ
üossov”_sÿlšg
;

3259 
pow”
->
¿t_b™lše
 *ğ
üossov”_sÿlšg
;

3260 
pow”
->
¿t_gc
 *ğ
üossov”_sÿlšg
;

3262 
pow”
->
dş_com·»
 *ğ
üossov”_sÿlšg
;

3263 
pow”
->
dş_³ncode
 *ğ
üossov”_sÿlšg
;

3264 
pow”
->
š¡_decod”_pow”
 *ğ
üossov”_sÿlšg
;

3266 
pow”
->
iq¿m_pow”
 *ğ
üossov”_sÿlšg
;

3267 
pow”
->
fq¿m_pow”
 *ğ
üossov”_sÿlšg
;

3268 
pow”
->
rob1_pow”
 *ğ
üossov”_sÿlšg
;

3269 
pow”
->
rob2_pow”
 *ğ
üossov”_sÿlšg
;

3271 
pow”
->
iwakeup_gdrive
 *ğ
üossov”_sÿlšg
;

3272 
pow”
->
iwakeup_gm©ch
 *ğ
üossov”_sÿlšg
;

3273 
pow”
->
iwakeup_Üm©ch
 *ğ
üossov”_sÿlšg
;

3274 
pow”
->
iwakeup_gc
 *ğ
üossov”_sÿlšg
;

3275 
pow”
->
fwakeup_gdrive
 *ğ
üossov”_sÿlšg
;

3276 
pow”
->
fwakeup_gm©ch
 *ğ
üossov”_sÿlšg
;

3277 
pow”
->
fwakeup_Üm©ch
 *ğ
üossov”_sÿlšg
;

3278 
pow”
->
fwakeup_gc
 *ğ
üossov”_sÿlšg
;

3280 
pow”
->
i£ËùiÚ
 *ğ
üossov”_sÿlšg
;

3281 
pow”
->
f£ËùiÚ
 *ğ
üossov”_sÿlšg
;

3283 
pow”
->
œegfe_decod”
 *ğ
üossov”_sÿlšg
;

3284 
pow”
->
œegfe_wÜdlše
 *ğ
üossov”_sÿlšg
;

3285 
pow”
->
œegfe_b™lše
 *ğ
üossov”_sÿlšg
;

3286 
pow”
->
œegfe_£n£amp
 *ğ
üossov”_sÿlšg
;

3287 
pow”
->
œegfe_gc
 *ğ
üossov”_sÿlšg
;

3288 
pow”
->
äegfe_decod”
 *ğ
üossov”_sÿlšg
;

3289 
pow”
->
äegfe_wÜdlše
 *ğ
üossov”_sÿlšg
;

3290 
pow”
->
äegfe_b™lše
 *ğ
üossov”_sÿlšg
;

3291 
pow”
->
äegfe_£n£amp
 *ğ
üossov”_sÿlšg
;

3292 
pow”
->
äegfe_gc
 *ğ
üossov”_sÿlšg
;

3302 
pow”
->
lsq_wakeup_gdrive
 *ğ
üossov”_sÿlšg
;

3303 
pow”
->
lsq_wakeup_gm©ch
 *ğ
üossov”_sÿlšg
;

3304 
pow”
->
lsq_wakeup_gc
 *ğ
üossov”_sÿlšg
;

3306 
pow”
->
lsq_rs_decod”
 *ğ
üossov”_sÿlšg
;

3307 
pow”
->
lsq_rs_wÜdlše
 *ğ
üossov”_sÿlšg
;

3308 
pow”
->
lsq_rs_b™lše
 *ğ
üossov”_sÿlšg
;

3309 
pow”
->
lsq_rs_£n£amp
 *ğ
üossov”_sÿlšg
;

3310 
pow”
->
lsq_rs_gc
 *ğ
üossov”_sÿlšg
;

3312 
pow”
->
äesuÉbus
 *ğ
üossov”_sÿlšg
;

3314 
pow”
->
btb
 *ğ
üossov”_sÿlšg
;

3315 
pow”
->
btb_gc
 *ğ
üossov”_sÿlšg
;

3316 
pow”
->
loÿl_´ediù
 *ğ
üossov”_sÿlšg
;

3317 
pow”
->
loÿl_´ediù_gc
 *ğ
üossov”_sÿlšg
;

3318 
pow”
->
glob®_´ediù
 *ğ
üossov”_sÿlšg
;

3319 
pow”
->
glob®_´ediù_gc
 *ğ
üossov”_sÿlšg
;

3320 
pow”
->
choo£r
 *ğ
üossov”_sÿlšg
;

3321 
pow”
->
choo£r_gc
 *ğ
üossov”_sÿlšg
;

3322 
pow”
->
¿s
 *ğ
üossov”_sÿlšg
;

3323 
pow”
->
¿s_gc
 *ğ
üossov”_sÿlšg
;

3325 
pow”
->
db
 *ğ
üossov”_sÿlšg
;

3326 
pow”
->
db_gc
 *ğ
üossov”_sÿlšg
;

3328 
pow”
->
™lb
 *ğ
üossov”_sÿlšg
;

3329 
pow”
->
™lb_gc
 *ğ
üossov”_sÿlšg
;

3332 
pow”
->
iÿche_decod”
 *ğ
üossov”_sÿlšg
;

3333 
pow”
->
iÿche_wÜdlše
*ğ
üossov”_sÿlšg
;

3334 
pow”
->
iÿche_b™lše
 *ğ
üossov”_sÿlšg
;

3335 
pow”
->
iÿche_£n£amp
*ğ
üossov”_sÿlšg
;

3336 
pow”
->
iÿche_g¬¿y
*ğ
üossov”_sÿlšg
;

3337 
pow”
->
iÿche_gc
 *ğ
üossov”_sÿlšg
;

3339 
pow”
->
iÿche_pow”
 *ğ
üossov”_sÿlšg
;

3341 
pow”
->
dÿche_decod”
 *ğ
üossov”_sÿlšg
;

3342 
pow”
->
dÿche_wÜdlše
 *ğ
üossov”_sÿlšg
;

3343 
pow”
->
dÿche_b™lše
 *ğ
üossov”_sÿlšg
;

3344 
pow”
->
dÿche_£n£amp
 *ğ
üossov”_sÿlšg
;

3345 
pow”
->
dÿche_g¬¿y
 *ğ
üossov”_sÿlšg
;

3346 
pow”
->
dÿche_gc
 *ğ
üossov”_sÿlšg
;

3348 
pow”
->
dÿche_pow”
 *ğ
üossov”_sÿlšg
;

3350 
pow”
->
şock_pow”
 *ğ
üossov”_sÿlšg
;

3352 
pow”
->
dÿche2_decod”
 *ğ
üossov”_sÿlšg
;

3353 
pow”
->
dÿche2_wÜdlše
 *ğ
üossov”_sÿlšg
;

3354 
pow”
->
dÿche2_b™lše
 *ğ
üossov”_sÿlšg
;

3355 
pow”
->
dÿche2_£n£amp
 *ğ
üossov”_sÿlšg
;

3356 
pow”
->
dÿche2_g¬¿y
 *ğ
üossov”_sÿlšg
;

3357 
pow”
->
dÿche2_gc
 *ğ
üossov”_sÿlšg
;

3359 
pow”
->
dÿche2_pow”
 *ğ
üossov”_sÿlšg
;

3360 #ifdeà
INPUT_OUTPUT_BUFFER


3361 
pow”
->
šput_buf_pow”
 *ğ
üossov”_sÿlšg
;

3362 
pow”
->
ouut_buf_pow”
 *ğ
üossov”_sÿlšg
;

3365 
pow”
->
tÙ®_pow”
 =…ow”->
loÿl_´ediù
 +…ow”->
glob®_´ediù
 +

3366 
pow”
->
choo£r
 +…ow”->
btb
 +…ow”->
¿s
 +

3367 
pow”
->
¿t_decod”
 +…ow”->
¿t_wÜdlše
 +

3368 
pow”
->
¿t_b™lše
 +…ow”->
¿t_£n£amp
 +

3369 
pow”
->
dş_com·»
 +…ow”->
dş_³ncode
 +

3370 
pow”
->
š¡_decod”_pow”
 +

3371 
pow”
->
iq¿m_pow”
 +…ow”->
fq¿m_pow”
 +

3372 
pow”
->
rob1_pow”
 +…ow”->
rob2_pow”
 +

3373 
pow”
->
iwakeup_gdrive
 +…ow”->
iwakeup_gm©ch
 +

3374 
pow”
->
fwakeup_gdrive
 +…ow”->
fwakeup_gm©ch
 +

3375 
pow”
->
i£ËùiÚ
 +…ow”->
f£ËùiÚ
 +

3376 
pow”
->
œegfe_decod”
 +…ow”->
œegfe_wÜdlše
 +

3377 
pow”
->
œegfe_b™lše
 +…ow”->
œegfe_£n£amp
 +

3378 
pow”
->
äegfe_decod”
 +…ow”->
äegfe_wÜdlše
 +

3379 
pow”
->
äegfe_b™lše
 +…ow”->
äegfe_£n£amp
 +

3380 
pow”
->
lsq_wakeup_gdrive
 +…ow”->
lsq_wakeup_gm©ch
 +

3381 
pow”
->
lsq_rs_decod”
 +…ow”->
lsq_rs_wÜdlše
 +

3382 
pow”
->
lsq_rs_b™lše
 +…ow”->
lsq_rs_£n£amp
 +

3383 
pow”
->
œesuÉbus
 +…ow”->
äesuÉbus
 +

3384 
pow”
->
Ÿlu1_pow”
 +…ow”->
Ÿlu2_pow”
 +…ow”->
çlu1_pow”
 +…ow”->
çlu2_pow”
 +

3386 
pow”
->
iÿche_pow”
 +

3387 
pow”
->
™lb
 +

3388 
pow”
->
dÿche_pow”
 +

3389 
pow”
->
db
 +

3390 
pow”
->
dÿche2_pow”
 +

3391 
pow”
->
loÿl_´ediù_gc
 +…ow”->
glob®_´ediù_gc
 +…ow”->
choo£r_gc
 +

3392 
pow”
->
btb_gc
 +…ow”->
¿s_gc
 +

3393 
pow”
->
¿t_gc
 +…ow”->
iwakeup_gc
 +…ow”->
fwakeup_gc
 +

3394 
pow”
->
œegfe_gc
 +…ow”->
äegfe_gc
 +…ow”->
lsq_wakeup_gc
 +

3395 #ifdeà
INPUT_OUTPUT_BUFFER


3396 
pow”
->
šput_buf_pow”
 +…ow”->
ouut_buf_pow”
 +

3398 
pow”
->
lsq_rs_gc
 +…ow”->
du¶iÿtiÚ_pow”
 +…ow”->
com·»_pow”
;

3400 
pow”
->
şock_pow”
 *ğ(1-
cÚ¡ªt_çùÜ
);

3403 
pow”
->
loÿl_´ediù
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3404 
pow”
->
glob®_´ediù
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3406 
pow”
->
choo£r
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3407 
pow”
->
btb
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3408 
pow”
->
¿s
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3410 
pow”
->
¿t_decod”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3411 
pow”
->
¿t_wÜdlše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3413 
pow”
->
¿t_b™lše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3414 
pow”
->
¿t_£n£amp
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3416 
pow”
->
dş_com·»
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3417 
pow”
->
dş_³ncode
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3419 
pow”
->
š¡_decod”_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3421 
pow”
->
iq¿m_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3422 
pow”
->
fq¿m_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3424 
pow”
->
rob1_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3425 
pow”
->
rob2_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3427 
pow”
->
iwakeup_gdrive
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3428 
pow”
->
iwakeup_gm©ch
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3430 
pow”
->
fwakeup_gdrive
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3431 
pow”
->
fwakeup_gm©ch
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3433 
pow”
->
i£ËùiÚ
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3434 
pow”
->
f£ËùiÚ
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3436 
pow”
->
œegfe_decod”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3437 
pow”
->
œegfe_wÜdlše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3439 
pow”
->
œegfe_b™lše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3440 
pow”
->
œegfe_£n£amp
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3442 
pow”
->
äegfe_decod”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3443 
pow”
->
äegfe_wÜdlše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3445 
pow”
->
äegfe_b™lše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3446 
pow”
->
äegfe_£n£amp
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3448 
pow”
->
lsq_wakeup_gdrive
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3449 
pow”
->
lsq_wakeup_gm©ch
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3451 
pow”
->
lsq_rs_decod”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3452 
pow”
->
lsq_rs_wÜdlše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3454 
pow”
->
lsq_rs_b™lše
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3455 
pow”
->
lsq_rs_£n£amp
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3457 
pow”
->
œesuÉbus
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3458 
pow”
->
äesuÉbus
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3460 
pow”
->
Ÿlu1_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3461 
pow”
->
Ÿlu2_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3462 
pow”
->
çlu1_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3463 
pow”
->
çlu2_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3465 
pow”
->
iÿche_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3467 
pow”
->
™lb
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3469 
pow”
->
dÿche_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3471 
pow”
->
db
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3473 
pow”
->
dÿche2_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3475 
pow”
->
loÿl_´ediù_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3476 
pow”
->
glob®_´ediù_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3477 
pow”
->
choo£r_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3479 
pow”
->
btb_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3480 
pow”
->
¿s_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3482 
pow”
->
¿t_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3483 
pow”
->
iwakeup_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3484 
pow”
->
fwakeup_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3486 
pow”
->
œegfe_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3487 
pow”
->
äegfe_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3488 
pow”
->
lsq_wakeup_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3490 
pow”
->
lsq_rs_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3491 
pow”
->
™lb_gc
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3492 
pow”
->
db_gc
*ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3493 #ifdeà
INPUT_OUTPUT_BUFFER


3494 
pow”
->
šput_buf_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3495 
pow”
->
ouut_buf_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3499 
pow”
->
du¶iÿtiÚ_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3500 
pow”
->
com·»_pow”
 *ğ(1 + (pow”->
şock_pow”
/pow”->
tÙ®_pow”
));

3502 
pow”
->
şock_pow”
 =…ow”->şock_pow”*
cÚ¡ªt_çùÜ
/(1-constant_factor);

3503 
pow”
->
şock1_pow”
 =…ow”->
şock_pow”
*0.2;

3504 
pow”
->
şock2_pow”
 =…ow”->
şock_pow”
*0.5;

3505 
pow”
->
şock3_pow”
 =…ow”->
şock_pow”
*0.3;

3508 
pow”
->
tÙ®_pow”
 =…ow”->
loÿl_´ediù
 +…ow”->
glob®_´ediù
 +

3509 
pow”
->
choo£r
 +…ow”->
btb
 +…ow”->
¿s
 +

3510 
pow”
->
¿t_decod”
 +…ow”->
¿t_wÜdlše
 +

3511 
pow”
->
¿t_b™lše
 +…ow”->
¿t_£n£amp
 +

3512 
pow”
->
dş_com·»
 +…ow”->
dş_³ncode
 +

3513 
pow”
->
š¡_decod”_pow”
 +

3514 
pow”
->
iq¿m_pow”
 +…ow”->
fq¿m_pow”
 +

3515 
pow”
->
rob1_pow”
 +…ow”->
rob2_pow”
 +

3516 
pow”
->
iwakeup_gdrive
 +…ow”->
iwakeup_gm©ch
 +…ow”->
iwakeup_Üm©ch
 +

3517 
pow”
->
fwakeup_gdrive
 +…ow”->
fwakeup_gm©ch
 +…ow”->
fwakeup_Üm©ch
 +

3518 
pow”
->
i£ËùiÚ
 +…ow”->
f£ËùiÚ
 +

3519 
pow”
->
œegfe_decod”
 +…ow”->
œegfe_wÜdlše
 +

3520 
pow”
->
œegfe_b™lše
 +…ow”->
œegfe_£n£amp
 +

3521 
pow”
->
äegfe_decod”
 +…ow”->
äegfe_wÜdlše
 +

3522 
pow”
->
äegfe_b™lše
 +…ow”->
äegfe_£n£amp
 +

3523 
pow”
->
lsq_wakeup_gdrive
 +…ow”->
lsq_wakeup_gm©ch
 +

3524 
pow”
->
lsq_rs_decod”
 +…ow”->
lsq_rs_wÜdlše
 +

3525 
pow”
->
lsq_rs_b™lše
 +…ow”->
lsq_rs_£n£amp
 +

3526 
pow”
->
œesuÉbus
 +…ow”->
äesuÉbus
 +

3527 
pow”
->
Ÿlu1_pow”
 +…ow”->
Ÿlu2_pow”
 +…ow”->
çlu1_pow”
 +…ow”->
çlu2_pow”
 +

3529 
pow”
->
şock1_pow”
 +…ow”->
şock2_pow”
 +…ow”->
şock3_pow”
 +

3530 
pow”
->
iÿche_pow”
 +

3531 
pow”
->
™lb
 +

3532 
pow”
->
dÿche_pow”
 +

3533 
pow”
->
db
 +

3534 
pow”
->
dÿche2_pow”
 +

3535 
pow”
->
loÿl_´ediù_gc
 +…ow”->
glob®_´ediù_gc
 +…ow”->
choo£r_gc
 +

3536 
pow”
->
btb_gc
 +…ow”->
¿s_gc
 +

3537 
pow”
->
¿t_gc
 +…ow”->
iwakeup_gc
 +…ow”->
fwakeup_gc
 +

3538 
pow”
->
œegfe_gc
 +…ow”->
äegfe_gc
 +…ow”->
lsq_wakeup_gc
 +

3539 #ifdeà
INPUT_OUTPUT_BUFFER


3540 
pow”
->
šput_buf_pow”
 +…ow”->
ouut_buf_pow”
 +

3542 
pow”
->
lsq_rs_gc
 +…ow”->
du¶iÿtiÚ_pow”
 +…ow”->
com·»_pow”
;

3544 
pow”
->
b´ed_pow”
 =…ow”->
btb
 +…ow”->
loÿl_´ediù
 +…ow”->
glob®_´ediù
 +…ow”->
choo£r
 +…ow”->
¿s
 +

3545 
pow”
->
btb_gc
 +…ow”->
loÿl_´ediù_gc
 +…ow”->
glob®_´ediù_gc
 +…ow”->
choo£r_gc
 +…ow”->
¿s_gc
;

3547 
	`årštf
(
¡d”r
,"xyz B´ed\t%f\n",
pow”
->
b´ed_pow”
);

3549 
pow”
->
¿t_pow”
 =…ow”->
¿t_decod”
 +

3550 
pow”
->
¿t_wÜdlše
 +…ow”->
¿t_b™lše
 +…ow”->
¿t_£n£amp
 +…ow”->
¿t_gc
;

3552 
pow”
->
dş_pow”
 =…ow”->
dş_com·»
 +…ow”->
dş_³ncode
;

3554 
pow”
->
»Çme_pow”
 =…ow”->
¿t_pow”
 +

3555 
pow”
->
dş_pow”
 +

3556 
pow”
->
š¡_decod”_pow”
;

3558 if(
ruu_šÜd”_issue
)

3560 
pow”
->
¿t_pow”
 = 0;

3561 
pow”
->
dş_pow”
 = 0;

3562 
pow”
->
š¡_decod”_pow”
 = 0;

3563 
pow”
->
rob2_pow”
 = 0;

3564 
pow”
->
rob1_pow”
 = 0;

3567 
	`årštf
(
¡d”r
,"xyz R’ame\t%f\n",
pow”
->
»Çme_pow”
);

3568 
	`årštf
(
¡d”r
,"xyz ROB wakeup\t%f\n",
pow”
->
rob1_pow”
);

3569 
	`årštf
(
¡d”r
,"xyz ROB„am\t%f\n",
pow”
->
rob2_pow”
);

3570 
	`årštf
(
¡d”r
,"xyz IQ„am\t%f\n",
pow”
->
iq¿m_pow”
);

3571 
	`årštf
(
¡d”r
,"xyz FQ„am\t%f\n",
pow”
->
fq¿m_pow”
);

3573 
pow”
->
iwakeup_pow”
 =…ow”->
iwakeup_gdrive
 +…ow”->
iwakeup_gm©ch
 +

3574 
pow”
->
iwakeup_Üm©ch
 +…ow”->
iwakeup_gc
;

3575 
pow”
->
fwakeup_pow”
 =…ow”->
fwakeup_gdrive
 +…ow”->
fwakeup_gm©ch
 +

3576 
pow”
->
fwakeup_Üm©ch
 +…ow”->
fwakeup_gc
;

3577 if(
ruu_šÜd”_issue
)

3579 
pow”
->
iwakeup_gdrive
 = 0;

3580 
pow”
->
iwakeup_gm©ch
 = 0;

3581 
pow”
->
iwakeup_Üm©ch
 = 0;

3582 
pow”
->
iwakeup_gc
 = 0;

3583 
pow”
->
fwakeup_gdrive
 = 0;

3584 
pow”
->
fwakeup_gm©ch
 = 0;

3585 
pow”
->
fwakeup_Üm©ch
 = 0;

3586 
pow”
->
fwakeup_gc
 = 0;

3587 
pow”
->
i£ËùiÚ
 = 0;

3588 
pow”
->
f£ËùiÚ
 = 0;

3591 
	`årštf
(
¡d”r
,"xyz iwakeup\t%f\n",
pow”
->
iwakeup_pow”
);

3592 
	`årštf
(
¡d”r
,"xyz fwakeup\t%f\n",
pow”
->
fwakeup_pow”
);

3593 
	`årštf
(
¡d”r
,"xyz i£Ëù\t%f\n",
pow”
->
i£ËùiÚ
);

3594 
	`årštf
(
¡d”r
,"xyz f£Ëù\t%f\n",
pow”
->
f£ËùiÚ
);

3596 
pow”
->
lsq_rs_pow”
 =…ow”->
lsq_rs_decod”
 +

3597 
pow”
->
lsq_rs_wÜdlše
 +…ow”->
lsq_rs_b™lše
 +

3598 
pow”
->
lsq_rs_£n£amp
 +…ow”->
lsq_rs_gc
;

3600 
pow”
->
lsq_rs_pow”_nob™
 =…ow”->
lsq_rs_decod”
 +

3601 
pow”
->
lsq_rs_wÜdlše
 +…ow”->
lsq_rs_£n£amp
 +…ow”->
lsq_rs_gc
;

3603 
pow”
->
lsq_wakeup_pow”
 =…ow”->
lsq_wakeup_gdrive
 +…ow”->
lsq_wakeup_gm©ch
 +…ow”->
lsq_wakeup_gc
;

3605 
pow”
->
lsq_pow”
 =…ow”->
lsq_wakeup_pow”
 +…ow”->
lsq_rs_pow”
;

3607 
	`årštf
(
¡d”r
,"xyz†sq \t%f\n",
pow”
->
lsq_pow”
);

3610 
pow”
->
œegfe_pow”
 =…ow”->
œegfe_decod”
 +

3611 
pow”
->
œegfe_wÜdlše
 +…ow”->
œegfe_b™lše
 +

3612 
pow”
->
œegfe_£n£amp
 +…ow”->
œegfe_gc
;

3614 
pow”
->
œegfe_pow”_nob™
 =…ow”->
œegfe_decod”
 +

3615 
pow”
->
œegfe_wÜdlše
 +…ow”->
œegfe_£n£amp
 +…ow”->
œegfe_gc
;

3617 
pow”
->
äegfe_pow”
 =…ow”->
äegfe_decod”
 +

3618 
pow”
->
äegfe_wÜdlše
 +…ow”->
äegfe_b™lše
 +

3619 
pow”
->
äegfe_£n£amp
 +…ow”->
äegfe_gc
;

3621 
pow”
->
äegfe_pow”_nob™
 =…ow”->
äegfe_decod”
 +

3622 
pow”
->
äegfe_wÜdlše
 +…ow”->
äegfe_£n£amp
 +…ow”->
äegfe_gc
;

3624 
	`årštf
(
¡d”r
,"xyz i»gf\t%f\n",
pow”
->
œegfe_pow”
);

3625 
	`årštf
(
¡d”r
,"xyz f»gf\t%f\n",
pow”
->
äegfe_pow”
);

3626 
	`årštf
(
¡d”r
,"xyz i®u1\t%f\nxyz i®u2\t%f\nxyz f®u1\t%f\nxyz f®u2\t%f\n",
pow”
->
Ÿlu1_pow”
,…ow”->
Ÿlu2_pow”
,…ow”->
çlu1_pow”
,…ow”->
çlu2_pow”
);

3627 
	`årštf
(
¡d”r
,"xyz i»suÉb\t%f\n",
pow”
->
œesuÉbus
);

3628 
	`årštf
(
¡d”r
,"xyz f»suÉb\t%f\n",
pow”
->
äesuÉbus
);

3629 
	`årštf
(
¡d”r
,"xyz ib\t%f\n",
pow”
->
™lb
);

3630 
	`årštf
(
¡d”r
,"xyz db\t%f\n",
pow”
->
db
);

3631 
	`årštf
(
¡d”r
,"xyz iÿche\t%f\n",
pow”
->
iÿche_pow”
);

3632 
	`årštf
(
¡d”r
,"xyz dÿche\t%f\n",
pow”
->
dÿche_pow”
);

3633 
	`årštf
(
¡d”r
,"xyz clock\t%f\n",
pow”
->
şock_pow”
);

3634 
	`årštf
(
¡d”r
,"xyz dÿche2\t%f\n",
pow”
->
dÿche2_pow”
);

3635 
	`årštf
(
¡d”r
,"xyz clock-ä\t%f\n",
pow”
->
şock1_pow”
);

3636 
	`årštf
(
¡d”r
,"xyz clock-št\t%f\n",
pow”
->
şock2_pow”
);

3637 
	`årštf
(
¡d”r
,"xyz clock-å\t%f\n",
pow”
->
şock3_pow”
);

3639 
	`årštf
(
¡d”r
,"xyz du¶iÿtiÚ\t%f\n",
pow”
->
du¶iÿtiÚ_pow”
);

3640 
	`årštf
(
¡d”r
,"xyz com·»\t%f\n",
pow”
->
com·»_pow”
);

3641 #ifdeà
INPUT_OUTPUT_BUFFER


3642 
	`årštf
(
¡d”r
,"xyz iÅuˆbufã¸pow”\t%f\n", 
pow”
->
šput_buf_pow”
);

3643 
	`årštf
(
¡d”r
,"xyz ouuˆbufã¸pow”\t%f\n", 
pow”
->
ouut_buf_pow”
);

3646 
	`årštf
(
¡d”r
,"xyzÙ®\t%f\n",
pow”
->
tÙ®_pow”
);

3648 
	`dump_pow”_¡©s
(
pow”
);

3650 
	}
}

3652 
	$pow”_v®ue
(
FILE
 *
å
){

3654 
	`årštf
(
å
, "%.2f\t%.2f\t%.2f\t%.2f\t%.2f\t", 
TOTAL_pow”_cc3
[0],TOTAL_pow”_cc3[1],TOTAL_pow”_cc3[2],TOTAL_pow”_cc3[3], (
DCACHE2_pow”_cc3
[0]+DCACHE2_power_cc3[1]+DCACHE2_power_cc3[2]+DCACHE2_power_cc3[3]));

3655 
	}
}

	@power.h

54 
	~"æp.h
"

55 
	~"¡©s.h
"

58 
	~"smt.h
"

60 #ifdeà
OPTICAL_INTERCONNECT


73 
	#LONG
 1

	)

74 
	#SHORT
 2

	)

76 
	#OUTPUTTYPE
 
LONG


	)

80 
	#DYNAMIC_AF


	)

86 
	#ADDRESS_BITS
 64

	)

87 
	#BITOUT
 64

	)

91 
	#MAXN
 8

	)

92 
	#MAXSUBARRAYS
 8

	)

93 
	#MAXSPD
 8

	)

96 
	#COMMIT_COMPARE_BITS
 64

	)

99 
	#DISPATCH_DUPED_BITS
 64

	)

102 
	#exp10_nick
(
__x
è(
	`exp
(__x*
	`log
(10)))

	)

111 
	#TRUE
 1

	)

112 
	#FALSE
 0

	)

113 
	#OK
 1

	)

114 
	#ERROR
 0

	)

115 
	#BIGNUM
 1e30

	)

116 
	#DIVIDE
(
a
,
b
è((b)==0)? 0:×)/(b)

	)

117 #iâdeà
MAX


118 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

120 #iâdeà
MIN


121 
	#MIN
(
a
,
b
è((×)<(b))?×):(b))

	)

126 
	#RISE
 1

	)

127 
	#FALL
 0

	)

128 
	#NCH
 1

	)

129 
	#PCH
 0

	)

133 
	#Vdd_nosÿË
 1.0

	)

134 
	#Vdd_CHK_nosÿË
 0.6

	)

135 
	#Vt_LEAD_nosÿË
 0.1453841578

	)

136 
	#Vt_CHK_nosÿË
 0.1453841578

	)

145 
	#FUDGEFACTOR
 1

	)

154 
	#GEN_POWER_FACTOR
 1.31

	)

156 
	#TECH_POINT045


	)

158 #ià
defšed
(
TECH_POINT045
)

159 
	#CSCALE
 (470.7è

	)

160 
	#RSCALE
 (437.0è

	)

161 
	#LSCALE
 0.05625

	)

162 
	#Leff
 0.018

	)

163 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

164 
	#VSCALE
 0.2

	)

165 
	#VTSCALE
 0.13761

	)

166 
	#SSCALE
 0.764

	)

167 
	#GEN_POWER_SCALE
 (1/(
GEN_POWER_FACTOR
*GEN_POWER_FACTOR*GEN_POWER_FACTOR))

	)

169 
	#VTSCALE_LEAD
 0.13761

	)

170 
	#VTSCALE_CHK
 0.13761

	)

172 
	#L28
 10

	)

173 
	#L33
 0.1

	)

174 
	#L35
 58

	)

175 
	#L36
 0.6

	)

176 
	#L37
 1900

	)

180 
	#L33_LEAD
 
L37
*
	`exp10_nick
(-1*(
Vt_LEAD_nosÿË
*
VTSCALE_LEAD
*1000/(
L35
*
L36
))è

	)

181 
	#L33_CHK
 
L37
*
	`exp10_nick
(-1*(
Vt_CHK_nosÿË
*
VTSCALE_CHK
*1000/(
L35
*
L36
)))

	)

188 
	#NMOSSTATICPOWER_LEAD
 
Vdd_nosÿË
*
VSCALE
*0.0736*1e-6

	)

189 
	#NMOSSTATICPOWER_CHK
 
Vdd_CHK_nosÿË
*
VSCALE
*0.0736*1e-6

	)

190 
	#SRAMDENSITY
 (1718*1e6/1e8è

	)

191 
	#LOGICDENSITY
 (309*1e6/1e8è

	)

192 
	#ITRS_VT
 0.0257

	)

193 #–ià
defšed
(
TECH_POINT10
)

194 
	#CSCALE
 (84.2172è

	)

196 
	#RSCALE
 (80.0000è

	)

197 
	#LSCALE
 0.1250

	)

198 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

199 
	#VSCALE
 0.38

	)

200 
	#VTSCALE_LEAD
 0.49

	)

201 
	#VTSCALE_CHK
 0.49

	)

202 
	#SSCALE
 0.80

	)

203 
	#GEN_POWER_SCALE
 (1/
GEN_POWER_FACTOR
)

	)

204 #–ià
defšed
(
TECH_POINT18
)

205 
	#CSCALE
 (19.7172è

	)

206 
	#RSCALE
 (20.0000è

	)

207 
	#LSCALE
 0.2250

	)

208 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

209 
	#VSCALE
 0.4

	)

210 
	#VTSCALE_LEAD
 0.5046

	)

211 
	#VTSCALE_CHK
 0.5046

	)

212 
	#SSCALE
 0.85

	)

213 
	#GEN_POWER_SCALE
 1

	)

214 #–ià
defšed
(
TECH_POINT25
)

215 
	#CSCALE
 (10.2197è

	)

216 
	#RSCALE
 (10.2571è

	)

217 
	#LSCALE
 0.3571

	)

218 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

219 
	#VSCALE
 0.45

	)

220 
	#VTSCALE_LEAD
 0.5596

	)

221 
	#VTSCALE_CHK
 0.5596

	)

222 
	#SSCALE
 0.90

	)

223 
	#GEN_POWER_SCALE
 
GEN_POWER_FACTOR


	)

224 #–ià
defšed
(
TECH_POINT35a
)

225 
	#CSCALE
 (5.2197è

	)

226 
	#RSCALE
 (5.2571è

	)

227 
	#LSCALE
 0.4375

	)

228 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

229 
	#VSCALE
 0.5

	)

230 
	#VTSCALE_LEAD
 0.6147

	)

231 
	#VTSCALE_CHK
 0.6147

	)

232 
	#SSCALE
 0.95

	)

233 
	#GEN_POWER_SCALE
 (
GEN_POWER_FACTOR
*GEN_POWER_FACTOR)

	)

234 #–ià
defšed
(
TECH_POINT35
)

235 
	#CSCALE
 (5.2197è

	)

236 
	#RSCALE
 (5.2571è

	)

237 
	#LSCALE
 0.4375

	)

238 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

239 
	#VSCALE
 0.5

	)

240 
	#VTSCALE_LEAD
 0.6147

	)

241 
	#VTSCALE_CHK
 0.6147

	)

242 
	#SSCALE
 0.95

	)

243 
	#GEN_POWER_SCALE
 (
GEN_POWER_FACTOR
*GEN_POWER_FACTOR)

	)

244 #–ià
defšed
(
TECH_POINT40
)

245 
	#CSCALE
 1.0

	)

246 
	#RSCALE
 1.0

	)

247 
	#LSCALE
 0.5

	)

248 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

249 
	#VSCALE
 1.0

	)

250 
	#VTSCALE_LEAD
 1.0

	)

251 
	#VTSCALE_CHK
 1.0

	)

252 
	#SSCALE
 1.0

	)

253 
	#GEN_POWER_SCALE
 (
GEN_POWER_FACTOR
*GEN_POWER_FACTOR*GEN_POWER_FACTOR)

	)

256 
	#CSCALE
 1.0

	)

257 
	#RSCALE
 1.0

	)

258 
	#LSCALE
 1.0

	)

259 
	#ASCALE
 (
LSCALE
*LSCALEè

	)

260 
	#VSCALE
 1.0

	)

261 
	#VTSCALE_LEAD
 1.0

	)

262 
	#VTSCALE_CHK
 1.0

	)

263 
	#SSCALE
 1.0

	)

264 
	#GEN_POWER_SCALE
 (
GEN_POWER_FACTOR
*GEN_POWER_FACTOR*GEN_POWER_FACTOR*GEN_POWER_FACTOR)

	)

270 
	#üossov”_sÿlšg
 1.2;

	)

276 
	#tuºoff_çùÜ
 0.1

	)

294 #iâdeà
NMOSSTATICPOWER_LEAD


295 
	#NMOSSTATICPOWER_LEAD
 0

	)

298 
	#KBOLTZMANN
 1.381E-023

	)

299 
	#ELEMENTARY_CHARGE_Q
 1.602E-019

	)

300 
	#ITRS_TEMP
 (
ITRS_VT
*
ELEMENTARY_CHARGE_Q
/
KBOLTZMANN
è

	)

302 
	#PMOSSTATICPOWER_LEAD
 (2*(
NMOSSTATICPOWER_LEAD
)è

	)

303 
	#TIMEPMOSLEAK
 0.5

	)

304 
	#TIMENMOSLEAK
 0.5

	)

305 
	#CMOSSTATICPOWER_LEAD
 ((
TIMENMOSLEAK
*(
NMOSSTATICPOWER_LEAD
)+
TIMEPMOSLEAK
*(
PMOSSTATICPOWER_LEAD
))/2)

	)

308 
	#SRAMGATEWL
 3*1

	)

309 
	#LOGICGATEWL
 3*1.2

	)

312 
	#SRAMPOWERPERUM2_LEAD
 ( (
CMOSSTATICPOWER_LEAD
è* (
SRAMGATEWL
è*(0.8*
LSCALE
è* (
SRAMDENSITY
è)

	)

313 
	#SRAMPOWERPERUM2PERTEMP_LEAD
 (
SRAMPOWERPERUM2_LEAD
/(
ITRS_TEMP
*ITRS_TEMP))

	)

316 
	#LOGICPOWERPERUM2_LEAD
 ( (
CMOSSTATICPOWER_LEAD
è* (
LOGICGATEWL
)*(0.8*
LSCALE
è* (
LOGICDENSITY
è)

	)

317 
	#LOGICPOWERPERUM2PERTEMP_LEAD
 (
LOGICPOWERPERUM2_LEAD
/(
ITRS_TEMP
*ITRS_TEMP))

	)

319 
	#LEAKAGEPOWERFROMTEMP
(
çùÜ
,
t
è(çùÜ*Ñ)*Ñ))

	)

324 #iâdeà
NMOSSTATICPOWER_CHK


325 
	#NMOSSTATICPOWER_CHK
 0

	)

328 
	#PMOSSTATICPOWER_CHK
 (2*(
NMOSSTATICPOWER_CHK
))

	)

329 
	#CMOSSTATICPOWER_CHK
 ((
TIMENMOSLEAK
*(
NMOSSTATICPOWER_CHK
)+
TIMEPMOSLEAK
*(
PMOSSTATICPOWER_CHK
))/2)

	)

331 
	#SRAMPOWERPERUM2_CHK
 ( (
CMOSSTATICPOWER_CHK
è* (
SRAMGATEWL
è*(0.8*
LSCALE
è* (
SRAMDENSITY
è)

	)

332 
	#SRAMPOWERPERUM2PERTEMP_CHK
 (
SRAMPOWERPERUM2_CHK
/(
ITRS_TEMP
*ITRS_TEMP))

	)

334 
	#LOGICPOWERPERUM2_CHK
 ( (
CMOSSTATICPOWER_CHK
è* (
LOGICGATEWL
)*(0.8*
LSCALE
è* (
LOGICDENSITY
è)

	)

335 
	#LOGICPOWERPERUM2PERTEMP_CHK
 (
LOGICPOWERPERUM2_CHK
/(
ITRS_TEMP
*ITRS_TEMP))

	)

348 
	#CwÜdm‘®
 (1.8e-15 * (
CSCALE
 * 
ASCALE
))

	)

351 
	#Cb™m‘®
 (4.4e-15 * (
CSCALE
 * 
ASCALE
))

	)

354 
	#Cm‘®
 
Cb™m‘®
/16

	)

356 
	#CM3m‘®
 
Cb™m‘®
/16

	)

357 
	#CM2m‘®
 
Cb™m‘®
/16

	)

364 
	#Cndifç»a
 0.137e-15

	)

367 
	#Cpdifç»a
 0.343e-15

	)

370 
	#Cndiffside
 0.275e-15

	)

373 
	#Cpdiffside
 0.275e-15

	)

376 
	#CndiffovÍ
 0.138e-15

	)

379 
	#CpdiffovÍ
 0.138e-15

	)

382 
	#CnoxideovÍ
 0.263e-15

	)

385 
	#CpoxideovÍ
 0.338e-15

	)

388 #iâdeà
Leff


389 
	#Leff
 (0.8 * 
LSCALE
)

	)

393 
	#Cg©e
 1.95e-15

	)

396 
	#Cg©•ass
 1.45e-15

	)

403 
	#CpŞywœe
 (0.25e-15 * 
CSCALE
 * 
LSCALE
)

	)

406 
	#RnchªÃl¡©ic
 (25800 * 
LSCALE
)

	)

409 
	#RpchªÃl¡©ic
 (61200 * 
LSCALE
)

	)

411 
	#RnchªÃlÚ
 (9723 * 
LSCALE
)

	)

413 
	#RpchªÃlÚ
 (22400 * 
LSCALE
)

	)

416 
	#Rb™m‘®
 (0.320 * (
RSCALE
 * 
ASCALE
))

	)

419 
	#RwÜdm‘®
 (0.080 * (
RSCALE
 * 
ASCALE
))

	)

421 
	#Vdd
 (5 * 
VSCALE
è

	)

422 
	#Vdd_CHK
 (5 * 
VSCALE
è

	)

426 
	#Mhz
 
ba£_´oc_äeq


	)

430 
	#kri£
 (0.4e-9 * 
LSCALE
)

	)

431 
	#t£n£d©a
 (5.8e-10 * 
LSCALE
)

	)

432 
	#t£n£g
 (2.6e-10 * 
LSCALE
)

	)

433 
	#tçÎd©a
 (7e-10 * 
LSCALE
)

	)

434 
	#tçÎg
 (7e-10 * 
LSCALE
)

	)

435 
	#Vb™´e
 (3.3 * 
SSCALE
)

	)

436 
	#Vt_Ëad
 (1.09 * 
VTSCALE_LEAD
)

	)

437 
	#Vt_chk
 (1.09 * 
VTSCALE_CHK
)

	)

438 
	#Vb™£n£
 (0.10 * 
SSCALE
)

	)

442 
	#S’£Pow”çùÜ3
 (
Mhz
)*(
Vb™£n£
)*(Vb™£n£)

	)

443 
	#S’£Pow”çùÜ2
 (
Mhz
)*(
Vb™´e
-
Vb™£n£
)*(Vb™´e-Vb™£n£)

	)

446 
	#AF
 .5

	)

447 
	#POPCOUNT_AF
 (23.9/64.0)

	)

452 
	#VSINV
 0.456

	)

453 
	#VTHINV100x60
 0.438

	)

454 
	#VTHNAND60x90
 0.561

	)

455 
	#VTHNOR12x4x1
 0.503

	)

456 
	#VTHNOR12x4x2
 0.452

	)

457 
	#VTHNOR12x4x3
 0.417

	)

458 
	#VTHNOR12x4x4
 0.390

	)

459 
	#VTHOUTDRINV
 0.437

	)

460 
	#VTHOUTDRNOR
 0.431

	)

461 
	#VTHOUTDRNAND
 0.441

	)

462 
	#VTHOUTDRIVE
 0.425

	)

463 
	#VTHCOMPINV
 0.437

	)

464 
	#VTHMUXDRV1
 0.437

	)

465 
	#VTHMUXDRV2
 0.486

	)

466 
	#VTHMUXDRV3
 0.437

	)

467 
	#VTHEVALINV
 0.267

	)

468 
	#VTHSENSEEXTDRV
 0.437

	)

471 
	#Wdecdriv•
 (57.0 * 
LSCALE
)

	)

472 
	#Wdecdriv’
 (40.0 * 
LSCALE
)

	)

473 
	#Wdec3to8n
 (14.4 * 
LSCALE
)

	)

474 
	#Wdec3to8p
 (14.4 * 
LSCALE
)

	)

475 
	#WdecNORn
 (5.4 * 
LSCALE
)

	)

476 
	#WdecNORp
 (30.5 * 
LSCALE
)

	)

477 
	#Wdecšvn
 (5.0 * 
LSCALE
)

	)

478 
	#Wdecšvp
 (10.0 * 
LSCALE
)

	)

480 
	#WwÜddrivemax
 (100.0 * 
LSCALE
)

	)

481 
	#WmemûÎa
 (2.4 * 
LSCALE
)

	)

482 
	#WmemûÎr
 (4.0 * 
LSCALE
)

	)

483 
	#WmemûÎw
 (2.1 * 
LSCALE
)

	)

484 
	#WmemûÎbsÿË
 2

	)

485 
	#Wb™´“qu
 (10.0 * 
LSCALE
)

	)

487 
	#Wb™muxn
 (10.0 * 
LSCALE
)

	)

488 
	#W£n£Q1to4
 (4.0 * 
LSCALE
)

	)

489 
	#Wcompšvp1
 (10.0 * 
LSCALE
)

	)

490 
	#Wcompšvn1
 (6.0 * 
LSCALE
)

	)

491 
	#Wcompšvp2
 (20.0 * 
LSCALE
)

	)

492 
	#Wcompšvn2
 (12.0 * 
LSCALE
)

	)

493 
	#Wcompšvp3
 (40.0 * 
LSCALE
)

	)

494 
	#Wcompšvn3
 (24.0 * 
LSCALE
)

	)

495 
	#Wev®švp
 (20.0 * 
LSCALE
)

	)

496 
	#Wev®švn
 (80.0 * 
LSCALE
)

	)

498 
	#Wcom²
 (20.0 * 
LSCALE
)

	)

499 
	#Wcomµ
 (30.0 * 
LSCALE
)

	)

500 
	#Wcomµ»equ
 (40.0 * 
LSCALE
)

	)

501 
	#Wmuxdrv12n
 (30.0 * 
LSCALE
)

	)

502 
	#Wmuxdrv12p
 (50.0 * 
LSCALE
)

	)

503 
	#WmuxdrvNANDn
 (20.0 * 
LSCALE
)

	)

504 
	#WmuxdrvNANDp
 (80.0 * 
LSCALE
)

	)

505 
	#WmuxdrvNORn
 (60.0 * 
LSCALE
)

	)

506 
	#WmuxdrvNORp
 (80.0 * 
LSCALE
)

	)

507 
	#Wmuxdrv3n
 (200.0 * 
LSCALE
)

	)

508 
	#Wmuxdrv3p
 (480.0 * 
LSCALE
)

	)

509 
	#Woutdrv£Ê
 (12.0 * 
LSCALE
)

	)

510 
	#Woutdrv£Í
 (20.0 * 
LSCALE
)

	)

511 
	#WoutdrvÇndn
 (24.0 * 
LSCALE
)

	)

512 
	#WoutdrvÇndp
 (10.0 * 
LSCALE
)

	)

513 
	#WoutdrvnÜn
 (6.0 * 
LSCALE
)

	)

514 
	#WoutdrvnÜp
 (40.0 * 
LSCALE
)

	)

515 
	#Woutdriv”n
 (48.0 * 
LSCALE
)

	)

516 
	#Woutdriv”p
 (80.0 * 
LSCALE
)

	)

518 
	#WcompûÎpd2
 (2.4 * 
LSCALE
)

	)

519 
	#Wcompdriv”n
 (400.0 * 
LSCALE
)

	)

520 
	#Wcompdriv”p
 (800.0 * 
LSCALE
)

	)

521 
	#Wcom·»n2
 (40.0 * 
LSCALE
)

	)

522 
	#Wcom·»n1
 (20.0 * 
LSCALE
)

	)

523 
	#Wm©chpchg
 (10.0 * 
LSCALE
)

	)

524 
	#Wm©chšvn
 (10.0 * 
LSCALE
)

	)

525 
	#Wm©chšvp
 (20.0 * 
LSCALE
)

	)

526 
	#Wm©chÇndn
 (20.0 * 
LSCALE
)

	)

527 
	#Wm©chÇndp
 (10.0 * 
LSCALE
)

	)

528 
	#Wm©chnÜn
 (20.0 * 
LSCALE
)

	)

529 
	#Wm©chnÜp
 (10.0 * 
LSCALE
)

	)

531 
	#WS–ORn
 (10.0 * 
LSCALE
)

	)

532 
	#WS–OR´equ
 (40.0 * 
LSCALE
)

	)

533 
	#WS–Pn
 (10.0 * 
LSCALE
)

	)

534 
	#WS–Pp
 (15.0 * 
LSCALE
)

	)

535 
	#WS–EÂ
 (5.0 * 
LSCALE
)

	)

536 
	#WS–EÅ
 (10.0 * 
LSCALE
)

	)

538 
	#W£n£extdrv1p
 (40.0*
LSCALE
)

	)

539 
	#W£n£extdrv1n
 (24.0*
LSCALE
)

	)

540 
	#W£n£extdrv2p
 (200.0*
LSCALE
)

	)

541 
	#W£n£extdrv2n
 (120.0*
LSCALE
)

	)

544 
	#Wmšsiz’
 (2.4*
LSCALE
è

	)

545 
	#Wmšsiz•
 (4.8*
LSCALE
è

	)

546 
	#W2to1muxn
 (10.0*
LSCALE
è

	)

547 
	#W2to1muxp
 (20.0*
LSCALE
è

	)

548 
	#WDFFn
 (2.0*
LSCALE
è

	)

549 
	#WDFFp
 (5.6*
LSCALE
)

	)

552 
	#B™Width
 (16.0 * 
LSCALE
)

	)

555 
	#B™Height
 (16.0 * 
LSCALE
)

	)

557 
	#Cout
 (0.5e-12 * 
LSCALE
)

	)

560 
	#R©C–lHeight
 (40.0 * 
LSCALE
)

	)

561 
	#R©C–lWidth
 (70.0 * 
LSCALE
)

	)

562 
	#R©ShiáRegWidth
 (120.0 * 
LSCALE
)

	)

563 
	#R©NumShiá
 4

	)

564 
	#B™lšeS·cšg
 (6.0 * 
LSCALE
)

	)

565 
	#WÜdlšeS·cšg
 (6.0 * 
LSCALE
)

	)

567 
	#RegC–lHeight
 (16.0 * 
LSCALE
)

	)

568 
	#RegC–lWidth
 (8.0 * 
LSCALE
)

	)

570 
	#CamC–lHeight
 (40.0 * 
LSCALE
)

	)

571 
	#CamC–lWidth
 (25.0 * 
LSCALE
)

	)

572 
	#M©chlšeS·cšg
 (6.0 * 
LSCALE
)

	)

573 
	#TaglšeS·cšg
 (6.0 * 
LSCALE
)

	)

579 
	#NORMALIZE_SCALE
 (1.0/(733.0e6*1.45*1.45))

	)

604 
	m‹ch
;

605 
	miw
;

606 
	mwšsize
;

607 
	mnv»g
;

608 
	mÅ»g
;

609 
	mnv»g_width
;

610 
	mÅ»g_width
;

611 
	md©a_width
;

612 } 
	t·¿m‘”_ty³
;

615 
	mbtb
;

616 
	mbtb_gc
;

617 
	mloÿl_´ediù
;

618 
	mloÿl_´ediù_gc
;

619 
	mglob®_´ediù
;

620 
	mglob®_´ediù_gc
;

621 
	mchoo£r
;

622 
	mchoo£r_gc
;

623 
	m¿s
;

624 
	m¿s_gc
;

625 
	m¿t_driv”
;

626 
	m¿t_decod”
;

627 
	m¿t_wÜdlše
;

628 
	m¿t_b™lše
;

629 
	m¿t_£n£amp
;

630 
	m¿t_gc
;

631 
	mdş_com·»
;

632 
	mdş_³ncode
;

633 
	mš¡_decod”_pow”
;

634 
	miwakeup_gdrive
;

635 
	miwakeup_gm©ch
;

636 
	miwakeup_Üm©ch
;

637 
	miwakeup_gc
;

638 
	mfwakeup_gdrive
;

639 
	mfwakeup_gm©ch
;

640 
	mfwakeup_Üm©ch
;

641 
	mfwakeup_gc
;

642 
	mlsq_wakeup_gdrive
;

643 
	mlsq_wakeup_gm©ch
;

644 
	mlsq_wakeup_Üm©ch
;

645 
	mlsq_wakeup_gc
;

646 
	mi£ËùiÚ
;

647 
	mf£ËùiÚ
;

648 
	mœegfe_driv”
;

649 
	mœegfe_decod”
;

650 
	mœegfe_wÜdlše
;

651 
	mœegfe_b™lše
;

652 
	mœegfe_£n£amp
;

653 
	mœegfe_gc
;

654 
	mäegfe_driv”
;

655 
	mäegfe_decod”
;

656 
	mäegfe_wÜdlše
;

657 
	mäegfe_b™lše
;

658 
	mäegfe_£n£amp
;

659 
	mäegfe_gc
;

672 
	mlsq_rs_driv”
;

673 
	mlsq_rs_decod”
;

674 
	mlsq_rs_wÜdlše
;

675 
	mlsq_rs_b™lše
;

676 
	mlsq_rs_£n£amp
;

677 
	mlsq_rs_gc
;

679 
	mœesuÉbus
;

680 
	mäesuÉbus
;

682 
	miÿche_decod”
;

683 
	miÿche_wÜdlše
;

684 
	miÿche_b™lše
;

685 
	miÿche_£n£amp
;

686 
	miÿche_g¬¿y
;

687 
	miÿche_gc
;

689 
	miÿche
;

691 
	mdÿche_decod”
;

692 
	mdÿche_wÜdlše
;

693 
	mdÿche_b™lše
;

694 
	mdÿche_£n£amp
;

695 
	mdÿche_g¬¿y
;

696 
	mdÿche_gc
;

698 
	mdb
;

699 
	m™lb
;

700 
	mdb_gc
;

701 
	m™lb_gc
;

703 
	mdÿche2_decod”
;

704 
	mdÿche2_wÜdlše
;

705 
	mdÿche2_b™lše
;

706 
	mdÿche2_£n£amp
;

707 
	mdÿche2_g¬¿y
;

708 
	mdÿche2_gc
;

710 
	mtÙ®_pow”
;

711 
	mtÙ®_pow”_nodÿche2
;

712 
	mŸlu1_pow”
;

713 
	mŸlu2_pow”
;

714 
	mçlu1_pow”
;

715 
	mçlu2_pow”
;

716 
	mb´ed_pow”
;

717 
	m»Çme_pow”
;

718 
	miq¿m_pow”
;

719 
	mfq¿m_pow”
;

720 
	mşock1_pow”
;

721 
	mşock2_pow”
;

722 
	mşock3_pow”
;

723 
	mrob1_pow”
;

724 
	mrob2_pow”
;

725 
	m¿t_pow”
;

726 
	mdş_pow”
;

727 
	mlsq_pow”
;

728 
	miwakeup_pow”
;

729 
	mfwakeup_pow”
;

730 
	mlsq_wakeup_pow”
;

735 
	mlsq_rs_pow”
;

736 
	mlsq_rs_pow”_nob™
;

737 
	mi£ËùiÚ_pow”
;

738 
	mf£ËùiÚ_pow”
;

739 
	mœegfe_pow”
;

740 
	mäegfe_pow”
;

741 
	mœegfe_pow”_nob™
;

742 
	mäegfe_pow”_nob™
;

743 
	m»suÉ_pow”
;

744 
	miÿche_pow”
;

745 
	mdÿche_pow”
;

746 
	mdÿche2_pow”
;

747 #ifdeà
INPUT_OUTPUT_BUFFER


748 
	mšput_buf_pow”
;

749 
	mouut_buf_pow”
;

752 
	mşock_pow”
;

754 #iâdeà
MAX_IC_INDEX


755 
	#MAX_IC_INDEX
 8

	)

758 
	mlšk_rx_pow”
[
MAX_IC_INDEX
];

759 
	mlšk_rx_pow”_ş
[
MAX_IC_INDEX
];

760 
	mlšk_tx_pow”
[
MAX_IC_INDEX
];

761 
	mlšk_tx_pow”_ş
[
MAX_IC_INDEX
];

762 
	mq¿m_pow”
[
MAX_IC_INDEX
];

763 
	mq¿m_pow”_ş
[
MAX_IC_INDEX
];

766 
	mcom·»_pow”
;

767 
	md_æ_æİ_pow”
;

768 
	mtwo_to_1_mux_pow”
;

769 
	mdu¶iÿtiÚ_pow”
;

770 
	mPow”çùÜ
;

771 
	mS’£Pow”çùÜ
;

773 
	mvdd_»duùiÚ
;

775 } 
	tpow”_»suÉ_ty³
;

780 
	mÿche_size
;

781 
	mnumb”_of_£ts
;

782 
	massocŸtiv™y
;

783 
	mblock_size
;

784 } 
	ttime_·¿m‘”_ty³
;

787 
	macûss_time
,
	mcyşe_time
;

788 
	mbe¡_Ndwl
,
	mbe¡_Ndbl
;

789 
	mbe¡_N¥d
;

790 
	mbe¡_Ntwl
,
	mbe¡_Ntbl
;

791 
	mbe¡_Nt¥d
;

792 
	mdecod”_d–ay_d©a
,
	mdecod”_d–ay_g
;

793 
	mdec_d©a_driv”
,
	mdec_d©a_3to8
,
	mdec_d©a_šv
;

794 
	mdec_g_driv”
,
	mdec_g_3to8
,
	mdec_g_šv
;

795 
	mwÜdlše_d–ay_d©a
,
	mwÜdlše_d–ay_g
;

796 
	mb™lše_d–ay_d©a
,
	mb™lše_d–ay_g
;

797 
	m£n£_amp_d–ay_d©a
,
	m£n£_amp_d–ay_g
;

798 
	m£n£ext_driv”_d–ay_d©a
;

799 
	mcom·»_·¹_d–ay
;

800 
	mdrive_mux_d–ay
;

801 
	m£lb_d–ay
;

802 
	md©a_ouut_d–ay
;

803 
	mdrive_v®id_d–ay
;

804 
	m´ech¬ge_d–ay
;

806 } 
	ttime_»suÉ_ty³
;

809 
logtwo
(
x
);

810 
g©eÿp
(
width
,
wœ–’gth
);

811 
g©eÿµass
(
width
,
wœ–’gth
);

812 
d¿šÿp
(
width
,
nchªÃl
,
¡ack
);

813 
»¡owidth
(
»s
,
nchªÃl
);

814 
sim¶e_¬¿y_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
);

815 
sim¶e_¬¿y_decod”_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
);

816 
sim¶e_¬¿y_b™lše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
);

817 
sim¶e_¬¿y_wÜdlše_pow”
(
rows
,
cŞs
,
½Üts
,
wpÜts
,
ÿche
);

818 
squ¬ify_Ãw
(
rows
,
cŞs
);

819 
ş—r_acûss_¡©s
();

824 
pow”_»g_¡©s
(
¡©_sdb_t
 *
sdb
);

825 
ÿlcuÏ‹_time
(
time_»suÉ_ty³
*, 
time_·¿m‘”_ty³
*);

826 
ouut_d©a
(
time_»suÉ_ty³
*, 
time_·¿m‘”_ty³
*);

827 
ÿlcuÏ‹_pow”
(
pow”_»suÉ_ty³
*);

828 
pİ_couÁ
(
quad_t
 
b™s
);

829 
pİ_couÁ_¦ow
(
quad_t
 
b™s
);

832 
pow”_ş—r
();

833 
sim_cyc
();

834 
pow”_v®ue
(
FILE
 *
å
);

	@ptrace.c

84 
	~<¡dio.h
>

85 
	~<¡dlib.h
>

87 
	~"ho¡.h
"

88 
	~"misc.h
"

89 
	~"machše.h
"

90 
	~"¿nge.h
"

91 
	~"±¿û.h
"

94 
FILE
 *
	g±¿û_outfd
 = 
NULL
;

97 
	g±¿û_aùive
 = 
TRUE
;

100 
¿nge_¿nge_t
 
	g±¿û_¿nge
;

103 
	g±¿û_ÚeshÙ
 = 
FALSE
;

107 
	$±¿û_İ’
(*
âame
,

108 *
¿nge
)

110 *
”r¡r
;

113 ià(!
¿nge
)

116 
”r¡r
 = 
	`¿nge_·r£_¿nge
(":", &
±¿û_¿nge
);

117 ià(
”r¡r
)

118 
	`·nic
("cannot…arse…ipetrace„ange, use: {<start>}:{<end>}");

119 
±¿û_aùive
 = 
TRUE
;

123 
”r¡r
 = 
	`¿nge_·r£_¿nge
(
¿nge
, &
±¿û_¿nge
);

124 ià(
”r¡r
)

125 
	`çl
("cannot…arse…ipetrace„ange, use: {<start>}:{<end>}");

126 
±¿û_aùive
 = 
FALSE
;

129 ià(
±¿û_¿nge
.
¡¬t
.
±y³
 !ğ±¿û_¿nge.
’d
.ptype)

130 
	`çl
("rangeƒndpoints‡re‚ot ofhe sameype");

133 ià(!
âame
 || !
	`¡rcmp
(fname, "-") || !strcmp(fname, "stderr"))

134 
±¿û_outfd
 = 
¡d”r
;

135 ià(!
	`¡rcmp
(
âame
, "stdout"))

136 
±¿û_outfd
 = 
¡dout
;

139 
±¿û_outfd
 = 
	`fİ’
(
âame
, "w");

140 ià(!
±¿û_outfd
)

141 
	`çl
("ÿÂÙ o³Àp‘¿û ouuˆf`%s'", 
âame
);

143 
	}
}

147 
	$±¿û_şo£
()

149 ià(
±¿û_outfd
 !ğ
NULL
 &&…Œaû_outfd !ğ
¡d”r
 &&…Œaû_outfd !ğ
¡dout
)

150 
	`fşo£
(
±¿û_outfd
);

151 
	}
}

155 
	$__±¿û_Ãwš¡
(
i£q
,

156 
md_š¡_t
 
š¡
,

157 
md_addr_t
 
pc
,

158 
md_addr_t
 
addr
)

160 
	`myårštf
(
±¿û_outfd
, "+ %u 0x%08°0x%08°", 
i£q
, 
pc
, 
addr
);

161 
	`md_´št_š¢
(
š¡
, 
addr
, 
±¿û_outfd
);

162 
	`årštf
(
±¿û_outfd
, "\n");

164 ià(
±¿û_outfd
 =ğ
¡d”r
 ||…Œaû_outfd =ğ
¡dout
)

165 
	`fæush
(
±¿û_outfd
);

166 
	}
}

170 
	$__±¿û_Ãwuİ
(
i£q
,

171 *
uİ_desc
,

172 
md_addr_t
 
pc
,

173 
md_addr_t
 
addr
)

175 
	`myårštf
(
±¿û_outfd
,

176 "+ %u 0x%08°0x%08°[%s]\n", 
i£q
, 
pc
, 
addr
, 
uİ_desc
);

178 ià(
±¿û_outfd
 =ğ
¡d”r
 ||…Œaû_outfd =ğ
¡dout
)

179 
	`fæush
(
±¿û_outfd
);

180 
	}
}

184 
	$__±¿û_’dš¡
(
i£q
)

186 
	`årštf
(
±¿û_outfd
, "- %u\n", 
i£q
);

188 ià(
±¿û_outfd
 =ğ
¡d”r
 ||…Œaû_outfd =ğ
¡dout
)

189 
	`fæush
(
±¿û_outfd
);

190 
	}
}

194 
	$__±¿û_Ãwcyşe
(
tick_t
 
cyşe
)

196 
	`årštf
(
±¿û_outfd
, "@ %.0f\n", ()
cyşe
);

198 ià(
±¿û_outfd
 =ğ
¡d”r
 ||…Œaû_outfd =ğ
¡dout
)

199 
	`fæush
(
±¿û_outfd
);

200 
	}
}

204 
	$__±¿û_Ãw¡age
(
i£q
,

205 *
p¡age
,

206 
³v’ts
)

208 
	`årštf
(
±¿û_outfd
, "* %u % 0x%08x\n", 
i£q
, 
p¡age
, 
³v’ts
);

210 ià(
±¿û_outfd
 =ğ
¡d”r
 ||…Œaû_outfd =ğ
¡dout
)

211 
	`fæush
(
±¿û_outfd
);

212 
	}
}

	@ptrace.h

83 #iâdeà
PTRACE_H


84 
	#PTRACE_H


	)

86 
	~"ho¡.h
"

87 
	~"misc.h
"

88 
	~"machše.h
"

89 
	~"¿nge.h
"

109 
	#PST_IFETCH
 "IF"

	)

110 
	#PST_DISPATCH
 "DA"

	)

111 
	#PST_EXECUTE
 "EX"

	)

112 
	#PST_WRITEBACK
 "WB"

	)

113 
	#PST_COMMIT
 "CT"

	)

116 
	#PEV_CACHEMISS
 0x00000001

	)

117 
	#PEV_TLBMISS
 0x00000002

	)

118 
	#PEV_MPOCCURED
 0x00000004

	)

119 
	#PEV_MPDETECT
 0x00000008

	)

120 
	#PEV_AGEN
 0x00000010

	)

123 
FILE
 *
±¿û_outfd
;

126 
±¿û_aùive
;

129 
¿nge_¿nge_t
 
±¿û_¿nge
;

132 
±¿û_ÚeshÙ
;

136 
±¿û_İ’
(*
¿nge
,

137 *
âame
);

141 
±¿û_şo£
();

145 
	#±¿û_check_aùive
(
PC
, 
ICNT
, 
CYCLE
è\

	)

146 ((
	g±¿û_outfd
 !ğ
NULL
 \

147 && !
¿nge_cmp_¿nge1
(&
±¿û_¿nge
, (
PC
), (
ICNT
), (
CYCLE
))) \

148 ? (!
	g±¿û_ÚeshÙ
 ? (
	g±¿û_aùive
 = 
±¿û_ÚeshÙ
 = 
TRUE
è: 
FALSE
)\

149 : (
±¿û_aùive
 = 
FALSE
))

152 
	#±¿û_Ãwš¡
(
A
,
B
,
C
,
D
è\

	)

153 ià(
	g±¿û_aùive
è
__±¿û_Ãwš¡
((
A
),(
B
),(
C
),(
D
))

154 
	#±¿û_Ãwuİ
(
A
,
B
,
C
,
D
è\

	)

155 ià(
	g±¿û_aùive
è
__±¿û_Ãwuİ
((
A
),(
B
),(
C
),(
D
))

156 
	#±¿û_’dš¡
(
A
è\

	)

157 ià(
	g±¿û_aùive
è
__±¿û_’dš¡
((
A
))

158 
	#±¿û_Ãwcyşe
(
A
è\

	)

159 ià(
	g±¿û_aùive
è
__±¿û_Ãwcyşe
((
A
))

160 
	#±¿û_Ãw¡age
(
A
,
B
,
C
è\

	)

161 ià(
	g±¿û_aùive
è
__±¿û_Ãw¡age
((
A
),(
B
),(
C
))

163 
	#±¿û_aùive
(
A
,
I
,
C
è\

	)

164 (
	g±¿û_outfd
 !ğ
NULL
 && !
¿nge_cmp_¿nge
(&
±¿û_¿nge
, (
A
), (
I
), (
C
)))

168 
__±¿û_Ãwš¡
(
i£q
,

169 
md_š¡_t
 
š¡
,

170 
md_addr_t
 
pc
,

171 
md_addr_t
 
addr
);

175 
__±¿û_Ãwuİ
(
i£q
,

176 *
uİ_desc
,

177 
md_addr_t
 
pc
,

178 
md_addr_t
 
addr
);

182 
__±¿û_’dš¡
(
i£q
);

186 
__±¿û_Ãwcyşe
(
tick_t
 
cyşe
);

190 
__±¿û_Ãw¡age
(
i£q
,

191 *
p¡age
,

192 
³v’ts
);

	@range.c

95 
	~<¡dio.h
>

96 
	~<¡dlib.h
>

97 
	~<¡ršg.h
>

98 
	~<”ºo.h
>

100 
	~"ho¡.h
"

101 
	~"misc.h
"

102 
	~"machše.h
"

103 
	~"symbŞ.h
"

104 
	~"lßd”.h
"

105 
	~"¿nge.h
"

108 
	~"smt.h
"

110 #ifdeà
SMT_SS


111 
	~"cÚ‹xt.h
"

118 
	$¿nge_·r£_pos
(*
p¡r
,

119 
¿nge_pos_t
 *
pos
)

121 *
s
, *
’dp
;

122 
sym_sym_t
 *
sym
;

124 #ifdeà
SMT_SS


125 
th»adid
 = 0;

126 
cÚ‹xt
 *
cu¼’t
;

127 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

132 ià(
p¡r
[0] == '@')

135 
pos
->
±y³
 = 
±_addr
;

136 
s
 = 
p¡r
 + 1;

138 ià(
p¡r
[0] == '#')

141 
pos
->
±y³
 = 
±_cyşe
;

142 
s
 = 
p¡r
 + 1;

147 
pos
->
±y³
 = 
±_š¡
;

148 
s
 = 
p¡r
;

152 
”ºo
 = 0;

153 
pos
->po ğ(
couÁ”_t
)
	`¡¹oul
(
s
, &
’dp
, 0);

154 ià(!
”ºo
 && !*
’dp
)

157  
NULL
;

161 
”ºo
 = 0;

162 
pos
->po ğ(
couÁ”_t
)
	`¡¹od
(
s
, &
’dp
);

163 ià(!
”ºo
 && !*
’dp
)

167  
NULL
;

171 #ifdeà
SMT_SS


172 
	`sym_lßdsyms
(
cu¼’t
->
ld_´og_âame
, 
FALSE
,cu¼’t->
id
);

174 
	`sym_lßdsyms
(
ld_´og_âame
, 
FALSE
);

176 
sym
 = 
	`sym_bšd_Çme
(
s
, 
NULL
, 
sdb_ªy
);

177 ià(
sym
 !ğ
NULL
)

179 
pos
->po ğ(
couÁ”_t
)
sym
->
addr
;

180  
NULL
;

185 
	}
}

189 
	$¿nge_´št_pos
(
¿nge_pos_t
 *
pos
,

190 
FILE
 *
¡»am
)

192 
pos
->
±y³
)

194 
±_addr
:

195 
	`myårštf
(
¡»am
, "@0x%08p", (
md_addr_t
)
pos
->pos);

197 
±_š¡
:

198 
	`årštf
(
¡»am
, "%.0f", ()
pos
->pos);

200 
±_cyşe
:

201 
	`årštf
(
¡»am
, "#%.0f", ()
pos
->pos);

204 
	`·nic
("bogusƒxecution…ositionype");

206 
	}
}

210 
	$¿nge_·r£_¿nge
(*
r¡r
,

211 
¿nge_¿nge_t
 *
¿nge
)

213 *
pos1
, *
pos2
, *
p
, 
buf
[512], *
”r¡r
;

216 
	`¡rıy
(
buf
, 
r¡r
);

217 
pos1
 = 
buf
;

220 
p
 = 
buf
;

221 *
p
 != ':' && *p != '\0')

223 
p
++;

225 ià(*
p
 != ':')

227 *
p
 = '\0';

230 
pos2
 = 
p
 + 1;

233 ià(*
pos1
 && *pos1 != ':')

235 
”r¡r
 = 
	`¿nge_·r£_pos
(
pos1
, &
¿nge
->
¡¬t
);

236 ià(
”r¡r
)

237  
”r¡r
;

242 
¿nge
->
¡¬t
.
±y³
 = 
±_š¡
;

243 
¿nge
->
¡¬t
.
pos
 = 0;

247 ià(*
pos2
)

249 ià(*
pos2
 == '+')

251 
d–
;

252 *
’dp
;

255 
”ºo
 = 0;

256 
d–
 = 
	`¡¹Ş
(
pos2
 + 1, &
’dp
, 0);

257 ià(!
”ºo
 && !*
’dp
)

260 
¿nge
->
’d
.
±y³
 =„ªge->
¡¬t
.ptype;

261 
¿nge
->
’d
.
pos
 =„ªge->
¡¬t
.po + 
d–
;

271 
”r¡r
 = 
	`¿nge_·r£_pos
(
pos2
, &
¿nge
->
’d
);

272 ià(
”r¡r
)

273  
”r¡r
;

279 
¿nge
->
’d
.
±y³
 =„ªge->
¡¬t
.ptype;

280 #ifdeà
HOST_HAS_QWORD


281 
¿nge
->
’d
.
pos
 = 
	`ULL
(0x7fffffffffffffff);

283 
¿nge
->
’d
.
pos
 = 281474976645120.0;

288  
NULL
;

289 
	}
}

293 
	$¿nge_´št_¿nge
(
¿nge_¿nge_t
 *
¿nge
,

294 
FILE
 *
¡»am
)

296 
	`¿nge_´št_pos
(&
¿nge
->
¡¬t
, 
¡»am
);

297 
	`årštf
(
¡»am
, ":");

298 
	`¿nge_´št_pos
(&
¿nge
->
’d
, 
¡»am
);

299 
	}
}

303 
	$¿nge_cmp_pos
(
¿nge_pos_t
 *
pos
,

304 
couÁ”_t
 
v®
)

306 ià(
v®
 < 
pos
->pos)

308 ià(
v®
 =ğ
pos
->pos)

312 
	}
}

316 
	$¿nge_cmp_¿nge
(
¿nge_¿nge_t
 *
¿nge
,

317 
couÁ”_t
 
v®
)

319 ià(
¿nge
->
¡¬t
.
±y³
 !ğ¿nge->
’d
.ptype)

320 
	`·nic
("invalid„ange");

322 ià(
v®
 < 
¿nge
->
¡¬t
.
pos
)

324 ià(
¿nge
->
¡¬t
.
pos
 <ğ
v®
 && v® <ğ¿nge->
’d
.pos)

328 
	}
}

332 
	$¿nge_cmp_¿nge1
(
¿nge_¿nge_t
 *
¿nge
,

333 
md_addr_t
 
addr
,

334 
couÁ”_t
 
icouÁ
,

335 
couÁ”_t
 
cyşe
)

337 ià(
¿nge
->
¡¬t
.
±y³
 !ğ¿nge->
’d
.ptype)

338 
	`·nic
("invalid„ange");

340 
¿nge
->
¡¬t
.
±y³
)

342 
±_addr
:

343 ià(
addr
 < (
md_addr_t
)
¿nge
->
¡¬t
.
pos
)

345 ià((
md_addr_t
)
¿nge
->
¡¬t
.
pos
 <ğ
addr
 &&‡dd¸<ğ(md_addr_tìªge->
’d
.pos)

350 
±_š¡
:

351 ià(
icouÁ
 < 
¿nge
->
¡¬t
.
pos
)

353 ià(
¿nge
->
¡¬t
.
pos
 <ğ
icouÁ
 && icouÁ <ğ¿nge->
’d
.pos)

358 
±_cyşe
:

359 ià(
cyşe
 < 
¿nge
->
¡¬t
.
pos
)

361 ià(
¿nge
->
¡¬t
.
pos
 <ğ
cyşe
 && cyş<ğ¿nge->
’d
.pos)

367 
	`·nic
("bogus„angeype");

369 
	}
}

	@range.h

83 #iâdeà
RANGE_H


84 
	#RANGE_H


	)

86 
	~<¡dio.h
>

88 
	~"ho¡.h
"

89 
	~"misc.h
"

90 
	~"machše.h
"

92 
	e¿nge_±y³_t
 {

93 
	m±_addr
 = 0,

94 
	m±_š¡
,

95 
	m±_cyşe
,

96 
	m±_NUM


107 
	s¿nge_pos_t
 {

108 
¿nge_±y³_t
 
	m±y³
;

109 
couÁ”_t
 
	mpos
;

113 
	s¿nge_¿nge_t
 {

114 
¿nge_pos_t
 
	m¡¬t
;

115 
¿nge_pos_t
 
	m’d
;

120 
¿nge_·r£_pos
(*
p¡r
,

121 
¿nge_pos_t
 *
pos
);

125 
¿nge_´št_pos
(
¿nge_pos_t
 *
pos
,

126 
FILE
 *
¡»am
);

130 
¿nge_·r£_¿nge
(*
r¡r
,

131 
¿nge_¿nge_t
 *
¿nge
);

135 
¿nge_´št_¿nge
(
¿nge_¿nge_t
 *
¿nge
,

136 
FILE
 *
¡»am
);

140 
¿nge_cmp_pos
(
¿nge_pos_t
 *
pos
,

141 
couÁ”_t
 
v®
);

145 
¿nge_cmp_¿nge
(
¿nge_¿nge_t
 *
¿nge
,

146 
couÁ”_t
 
v®
);

151 
¿nge_cmp_¿nge1
(
¿nge_¿nge_t
 *
¿nge
,

152 
md_addr_t
 
addr
,

153 
couÁ”_t
 
icouÁ
,

154 
couÁ”_t
 
cyşe
);

	@regs.c

91 
	~<¡dio.h
>

92 
	~<¡dlib.h
>

93 
	~<¡ršg.h
>

95 
	~"ho¡.h
"

96 
	~"misc.h
"

97 
	~"machše.h
"

98 
	~"lßd”.h
"

99 
	~"»gs.h
"

103 
»gs_t
 *

104 
	$»gs_ü—‹
()

106 
»gs_t
 *
»gs
;

108 
»gs
 = 
	`ÿÎoc
(1, (
»gs_t
));

109 ià(!
»gs
)

110 
	`çl
("out of virtual memory");

112  
»gs
;

113 
	}
}

117 
	$»gs_š™
(
»gs_t
 *
»gs
)

120 
	`mem£t
(
»gs
, 0, (*regs));

123 
	}
}

131 
	u»gs_FP_t
 {

132 
md_g´_t
 
	ml
[
MD_NUM_FREGS
];

133 
md_SS_FLOAT_TYPE
 
	mf
[
SS_NUM_REGS
];

134 
SS_DOUBLE_TYPE
 
	md
[
SS_NUM_REGS
/2];

138 
md_»gs_FP_t
 
»gs_F
;

141 
SS_WORD_TYPE
 
»gs_HI
;

144 
SS_WORD_TYPE
 
»gs_LO
;

147 
»gs_FCC
;

150 
SS_ADDR_TYPE
 
»gs_PC
;

154 
	$»gs_dump
(
FILE
 *
¡»am
)

156 
i
;

159 ià(!
¡»am
)

160 
¡»am
 = 
¡d”r
;

163 
	`årštf
(
¡»am
, "Processor state:\n");

164 
	`årštf
(
¡»am
, " PC: 0x%08x\n", 
»gs_PC
);

165 
i
=0; i<
SS_NUM_REGS
; i += 2)

167 
	`årštf
(
¡»am
, " R[%2d]: %12d/0x%08x",

168 
i
, 
»gs_R
[i],„egs_R[i]);

169 
	`årštf
(
¡»am
, " R[%2d]: %12d/0x%08x\n",

170 
i
+1, 
»gs_R
[i+1],„egs_R[i+1]);

172 
	`årštf
(
¡»am
, " HI: %10d/0x%08x LO: %10d/0x%08x\n",

173 
»gs_HI
,„egs_HI, 
»gs_LO
,„egs_LO);

174 
i
=0; i<
SS_NUM_REGS
; i += 2)

176 
	`årštf
(
¡»am
, " F[%2d]: %12d/0x%08x",

177 
i
, 
»gs_F
.
l
[i],„egs_F.l[i]);

178 
	`årštf
(
¡»am
, " F[%2d]: %12d/0x%08x\n",

179 
i
+1, 
»gs_F
.
l
[i+1],„egs_F.l[i+1]);

181 
	`årštf
(
¡»am
, " FCC: 0x%08x\n", 
»gs_FCC
);

182 
	}
}

185 
SS_WORD_TYPE
 
	g»gs_R
[
SS_NUM_REGS
];

188 
»gs_FP
 
	g»gs_F
;

191 
SS_WORD_TYPE
 
	g»gs_HI
;

193 
SS_WORD_TYPE
 
	g»gs_LO
;

196 
	g»gs_FCC
;

199 
SS_ADDR_TYPE
 
	g»gs_PC
;

	@regs.h

97 #iâdeà
REGS_H


98 
	#REGS_H


	)

100 
	~"ho¡.h
"

101 
	~"misc.h
"

102 
	~"machše.h
"

144 
	scommÚ_»gs_t
 {

145 
	m»gs_lock
;

146 
md_addr_t
 
	madd»ss
;

147 
	msubsüibe_v®ue
;

148 
	msubsüibed
;

151 
commÚ_»gs_t
 
	gcommÚ_»gs_s
[4][
NUM_COM_REGS
];

153 
	s»gs_t
 {

154 #ifdeà
SMT_SS


155 
	mth»adid
;

157 
md_g´_t
 
	m»gs_R
;

158 
md_år_t
 
	m»gs_F
;

159 
md_ù¾_t
 
	m»gs_C
;

160 
md_addr_t
 
	m»gs_PC
;

161 
md_addr_t
 
	m»gs_NPC
;

165 
»gs_t
 *
»gs_ü—‹
();

169 
»gs_š™
(
»gs_t
 *
»gs
);

173 
»gs_dump
(
»gs_t
 *
»gs
,

174 
FILE
 *
¡»am
);

178 
»gs_de¡roy
(
»gs_t
 *
»gs
);

	@resource.c

93 
	~<¡dio.h
>

94 
	~<¡dlib.h
>

95 
	~<as£¹.h
>

97 
	~"ho¡.h
"

98 
	~"misc.h
"

99 
	~"»sourû.h
"

101 
	~"smt.h
"

103 
	~"cÚ‹xt.h
"

107 #ifdeà
PORT_PER_BANK


108 
	gRES_CACHE_PORTS
;

109 
»s_mem_pÜt_bªk
;

111 
	#RES_CACHE_PORTS
 16

	)

113 
	gpÜt_bªk
[
RES_CACHE_PORTS
]={1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16};

122 
	#MAGIC_N
 2000

	)

123 #ifdeà
GENERIC_FU


124 
	#IGNORE_ISS_RESTR
 1

	)

126 
	#IGNORE_ISS_RESTR
 0

	)

130 
	#LDSTADDERS
 
RES_CACHE_PORTS


	)

133 #ifdeà 
ISSUE_STAT


134 
	gä“_Ùh”_ş
;

137 
	g»sCÏssS¹
[10], 
	g»sCÏssIndex
;

140 
»s_poŞ
 *

141 
	$»s_ü—‹_poŞ
(*
Çme
, 
»s_desc
 *
poŞ
, 
ndesc
)

143 
i
, 
j
, 
k
, 
šdex
, 
nš¡s
;

144 
»s_desc
 *
š¡_poŞ
;

145 
»s_poŞ
 *
»s
;

147 
»sCÏssIndex
++;

149 
nš¡s
=0,
i
=0; i<
ndesc
; i++)

151 ià(
poŞ
[
i
].
quªt™y
 > 
MAX_INSTS_PER_CLASS
)

152 
	`çl
("too many functional units, increase MAX_INSTS_PER_CLASS");

153 
»sCÏssS¹
[
»sCÏssIndex
++] = 
nš¡s
;

154 
nš¡s
 +ğ
poŞ
[
i
].
quªt™y
;

156 
»sCÏssS¹
[
»sCÏssIndex
] = 
nš¡s
;

158 
š¡_poŞ
 = (
»s_desc
 *)
	`ÿÎoc
(
nš¡s
, (res_desc));

159 ià(!
š¡_poŞ
)

160 
	`çl
("out of virtual memory");

162 
šdex
=0,
i
=0; i<
ndesc
; i++)

164 
j
=0; j<
poŞ
[
i
].
quªt™y
; j++)

166 
š¡_poŞ
[
šdex
] = 
poŞ
[
i
];

167 
š¡_poŞ
[
šdex
].
quªt™y
 = 1;

168 
š¡_poŞ
[
šdex
].
busy
 = 0;

169 
k
=0; k<
MAX_RES_CLASSES
 && 
š¡_poŞ
[
šdex
].
x
[k].
şass
; k++)

170 
š¡_poŞ
[
šdex
].
x
[
k
].
ma¡”
 = &inst_pool[index];

171 
šdex
++;

174 
	`as£¹
(
šdex
 =ğ
nš¡s
);

176 
»s
 = (
»s_poŞ
 *)
	`ÿÎoc
(1, (res_pool));

177 ià(!
»s
)

178 
	`çl
("out of virtual memory");

179 
»s
->
Çme
 =‚ame;

180 
»s
->
num_»sourûs
 = 
nš¡s
;

181 
»s
->
»sourûs
 = 
š¡_poŞ
;

183 
i
=0; i<
nš¡s
; i++)

185 
»s_‹m¶©e
 *
¶©e
;

186 
j
=0; j<
MAX_RES_CLASSES
; j++)

188 
¶©e
 = &
»s
->
»sourûs
[
i
].
x
[
j
];

189 ià(
¶©e
->
şass
)

191 
	`as£¹
(
¶©e
->
şass
 < 
MAX_RES_CLASSES
);

192 
»s
->
bË
[
¶©e
->
şass
][»s->
ÃÁs
[plate->class]++] =…late;

198  
»s
;

199 
	}
}

207 
»s_‹m¶©e
 *

208 
	$»s_g‘
(
»s_poŞ
 *
poŞ
, 
şass
, 
th»adid
)

212 
i
;

213 
lo
, 
hi
;

214 
³r
;

218 
³r
 = 
poŞ
->
ÃÁs
[
şass
]/
CLUSTERS
;

219 
lo
 = 
th»adid
*
³r
;

220 
hi
 = (
th»adid
+1)*
³r
;

222 
	`as£¹
(
şass
 < 
MAX_RES_CLASSES
);

224 
	`as£¹
(
poŞ
->
bË
[
şass
][0]);

226 
i
ğ
lo
; i< 
hi
; i++)

228 ià(
poŞ
->
bË
[
şass
][
i
] && !poŞ->bË[şass][i]->
ma¡”
->
busy
)

230  
poŞ
->
bË
[
şass
][
i
];

235  
NULL
;

236 
	}
}

240 
	$»s_dump
(
»s_poŞ
 *
poŞ
, 
FILE
 *
¡»am
)

242 
i
, 
j
;

244 ià(!
¡»am
)

245 
¡»am
 = 
¡d”r
;

247 
	`årštf
(
¡»am
, "Resourû…oŞ: %s:\n", 
poŞ
->
Çme
);

248 
	`årštf
(
¡»am
, "\tcÚš %d„esourû in¡ªûs\n", 
poŞ
->
num_»sourûs
);

249 
i
=0; i<
MAX_RES_CLASSES
; i++)

251 
	`årštf
(
¡»am
, "\tclass: %d: %d matching instances\n",

252 
i
, 
poŞ
->
ÃÁs
[i]);

253 
	`årštf
(
¡»am
, "\tmatching: ");

254 
j
=0; j<
MAX_INSTS_PER_CLASS
; j++)

256 ià(!
poŞ
->
bË
[
i
][
j
])

258 
	`årštf
(
¡»am
, "\t%s (busy for %d cycles) ",

259 
poŞ
->
bË
[
i
][
j
]->
ma¡”
->
Çme
,

260 
poŞ
->
bË
[
i
][
j
]->
ma¡”
->
busy
);

262 
	`as£¹
(
j
 =ğ
poŞ
->
ÃÁs
[
i
]);

263 
	`årštf
(
¡»am
, "\n");

265 
	}
}

	@resource.h

98 #iâdeà
RESOURCE_H


99 
	#RESOURCE_H


	)

101 
	~<¡dio.h
>

104 
	#MAX_RES_CLASSES
 32

	)

107 
	#MAX_INSTS_PER_CLASS
 1024

	)

110 
	s»s_desc
 {

111 *
	mÇme
;

112 
	mquªt™y
;

113 
	mbusy
;

114 
	mu¤_id
;

115 
	mdu¶iÿ‹
;

116 
	s»s_‹m¶©e
 {

117 
	mşass
;

120 
	mİÏt
;

122 
	missu–©
;

125 
»s_desc
 *
	mma¡”
;

126 } 
	mx
[
MAX_RES_CLASSES
];

130 
	s»s_poŞ
 {

131 *
	mÇme
;

132 
	mnum_»sourûs
;

133 
»s_desc
 *
	m»sourûs
;

135 
	mÃÁs
[
MAX_RES_CLASSES
];

136 
»s_‹m¶©e
 *
	mbË
[
MAX_RES_CLASSES
][
MAX_INSTS_PER_CLASS
];

140 
»s_poŞ
 *
»s_ü—‹_poŞ
(*
Çme
, 
»s_desc
 *
poŞ
, 
ndesc
);

148 
»s_‹m¶©e
 *
»s_g‘
(
»s_poŞ
 *
poŞ
, 
şass
, 
š‹¾—f
);

151 
»s_dump
(
»s_poŞ
 *
poŞ
, 
FILE
 *
¡»am
);

	@sim-bpred.c

79 
	~<¡dio.h
>

80 
	~<¡dlib.h
>

81 
	~<m©h.h
>

83 
	~"ho¡.h
"

84 
	~"misc.h
"

85 
	~"machše.h
"

86 
	~"»gs.h
"

87 
	~"memÜy.h
"

88 
	~"lßd”.h
"

89 
	~"sysÿÎ.h
"

90 
	~"dl™e.h
"

91 
	~"İtiÚs.h
"

92 
	~"¡©s.h
"

93 
	~"b´ed.h
"

94 
	~"sim.h
"

101 
»gs_t
 
	g»gs
;

104 
mem_t
 *
	gmem
 = 
NULL
;

107 
	gmax_š¡s
;

110 *
	g´ed_ty³
;

113 
	gbimod_ÃÉ
 = 1;

114 
	gbimod_cÚfig
[1] =

118 
	gtwŞev_ÃÉ
 = 4;

119 
	gtwŞev_cÚfig
[4] =

120 { 1, 1024, 8, 
FALSE
};

123 
	gcomb_ÃÉ
 = 1;

124 
	gcomb_cÚfig
[1] =

128 
	g¿s_size
 = 8;

131 
	gbtb_ÃÉ
 = 2;

132 
	gbtb_cÚfig
[2] =

136 
b´ed_t
 *
	g´ed
;

139 
couÁ”_t
 
	gsim_num_»fs
 = 0;

142 
couÁ”_t
 
	gsim_num_b¿nches
 = 0;

147 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

149 
	`İt_»g_h—d”
(
odb
,

154 
	`İt_»g_nÙe
(
odb
,

171 
	`İt_»g_ušt
(
odb
, "-max:inst", "maximum‚umber of inst'soƒxecute",

172 &
max_š¡s
, 0,

173  
TRUE
, 
NULL
);

175 
	`İt_»g_¡ršg
(
odb
, "-bpred",

177 &
´ed_ty³
, "bimod",

178  
TRUE
, 
NULL
);

180 
	`İt_»g_št_li¡
(
odb
, "-bpred:bimod",

182 
bimod_cÚfig
, 
bimod_ÃÉ
, &bimod_nelt,

183  
bimod_cÚfig
,

184  
TRUE
, 
NULL
, 
FALSE
);

186 
	`İt_»g_št_li¡
(
odb
, "-bpred:2lev",

189 
twŞev_cÚfig
, 
twŞev_ÃÉ
, &twolev_nelt,

190  
twŞev_cÚfig
,

191  
TRUE
, 
NULL
, 
FALSE
);

193 
	`İt_»g_št_li¡
(
odb
, "-bpred:comb",

195 
comb_cÚfig
, 
comb_ÃÉ
, &comb_nelt,

196  
comb_cÚfig
,

197  
TRUE
, 
NULL
, 
FALSE
);

199 
	`İt_»g_št
(
odb
, "-bpred:ras",

201 &
¿s_size
,„as_size,

202  
TRUE
, 
NULL
);

204 
	`İt_»g_št_li¡
(
odb
, "-bpred:btb",

206 
btb_cÚfig
, 
btb_ÃÉ
, &btb_nelt,

207  
btb_cÚfig
,

208  
TRUE
, 
NULL
, 
FALSE
);

209 
	}
}

213 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
)

215 ià(!
	`my¡ricmp
(
´ed_ty³
, "taken"))

218 
´ed
 = 
	`b´ed_ü—‹
(
BP»dTak’
, 0, 0, 0, 0, 0, 0, 0, 0, 0);

220 ià(!
	`my¡ricmp
(
´ed_ty³
, "nottaken"))

223 
´ed
 = 
	`b´ed_ü—‹
(
BP»dNÙTak’
, 0, 0, 0, 0, 0, 0, 0, 0, 0);

225 ià(!
	`my¡ricmp
(
´ed_ty³
, "bimod"))

227 ià(
bimod_ÃÉ
 != 1)

228 
	`çl
("bad bimod…redictor config (<table_size>)");

229 ià(
btb_ÃÉ
 != 2)

230 
	`çl
("bad btb config (<num_sets> <associativity>)");

233 
´ed
 = 
	`b´ed_ü—‹
(
BP»d2b™
,

234  
bimod_cÚfig
[0],

240  
btb_cÚfig
[0],

241  
btb_cÚfig
[1],

242  
¿s_size
);

244 ià(!
	`my¡ricmp
(
´ed_ty³
, "2lev"))

247 ià(
twŞev_ÃÉ
 != 4)

248 
	`çl
("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

249 ià(
btb_ÃÉ
 != 2)

250 
	`çl
("bad btb config (<num_sets> <associativity>)");

252 
´ed
 = 
	`b´ed_ü—‹
(
BP»d2Lev–
,

254  
twŞev_cÚfig
[0],

255  
twŞev_cÚfig
[1],

257  
twŞev_cÚfig
[2],

258  
twŞev_cÚfig
[3],

259  
btb_cÚfig
[0],

260  
btb_cÚfig
[1],

261  
¿s_size
);

263 ià(!
	`my¡ricmp
(
´ed_ty³
, "comb"))

266 ià(
twŞev_ÃÉ
 != 4)

267 
	`çl
("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

268 ià(
bimod_ÃÉ
 != 1)

269 
	`çl
("bad bimod…redictor config (<table_size>)");

270 ià(
comb_ÃÉ
 != 1)

271 
	`çl
("bad combining…redictor config (<meta_table_size>)");

272 ià(
btb_ÃÉ
 != 2)

273 
	`çl
("bad btb config (<num_sets> <associativity>)");

275 
´ed
 = 
	`b´ed_ü—‹
(
BP»dComb
,

276  
bimod_cÚfig
[0],

277  
twŞev_cÚfig
[0],

278  
twŞev_cÚfig
[1],

279  
comb_cÚfig
[0],

280  
twŞev_cÚfig
[2],

281  
twŞev_cÚfig
[3],

282  
btb_cÚfig
[0],

283  
btb_cÚfig
[1],

284  
¿s_size
);

287 
	`çl
("ÿÂÙ…¬£…»diùÜy³ `%s'", 
´ed_ty³
);

288 
	}
}

292 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

294 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

296 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

297 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_refs",

299 &
sim_num_»fs
, 0, 
NULL
);

300 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

302 &
sim_–­£d_time
, 0, 
NULL
);

303 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

305 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

307 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_branches",

309 &
sim_num_b¿nches
, 0, 
NULL
);

310 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_IPB",

312 "sim_num_š¢ / sim_num_b¿nches", 
NULL
);

315 ià(
´ed
)

316 
	`b´ed_»g_¡©s
(
´ed
, 
sdb
);

317 
	}
}

321 
	$sim_š™
()

323 
sim_num_»fs
 = 0;

326 
	`»gs_š™
(&
»gs
);

329 
mem
 = 
	`mem_ü—‹
("mem");

330 
	`mem_š™
(
mem
);

331 
	}
}

335 
	$b´ed_m¡©e_obj
(
FILE
 *
¡»am
,

336 *
cmd
,

337 
»gs_t
 *
»gs
,

338 
mem_t
 *
mem
)

341 
	`sim_´št_¡©s
(
¡»am
);

344  
NULL
;

345 
	}
}

349 
	$sim_lßd_´og
(*
âame
,

350 
¬gc
, **
¬gv
,

351 **
’vp
)

354 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

357 
	`dl™e_š™
(
md_»g_obj
, 
dl™e_mem_obj
, 
b´ed_m¡©e_obj
);

358 
	}
}

362 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

365 
	}
}

369 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

372 
	}
}

376 
	$sim_unš™
()

379 
	}
}

391 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

394 #undeà
SET_TPC


395 
	#SET_TPC
(
EXPR
è(
rg‘_PC
 = (EXPR))

	)

398 
	#CPC
 (
»gs
.
»gs_PC
)

	)

401 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

402 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

404 #ià
defšed
(
TARGET_PISA
)

407 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

408 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

409 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

410 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

411 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

412 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

415 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

416 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

417 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

418 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

419 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

420 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

422 #–ià
defšed
(
TARGET_ALPHA
)

425 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

426 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

427 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

428 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

431 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

432 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

433 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

434 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

437 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

441 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

442 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_BYTE
(
mem
, 
addr
 = (
SRC
)))

443 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

444 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_HALF
(
mem
, 
addr
 = (
SRC
)))

445 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

446 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_WORD
(
mem
, 
addr
 = (
SRC
)))

447 #ifdeà
HOST_HAS_QUAD


448 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

449 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_QUAD
(
mem
, 
addr
 = (
SRC
)))

452 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

453 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_BYTE
(
mem
, 
addr
 = (
DST
), (
SRC
)))

454 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

455 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_HALF
(
mem
, 
addr
 = (
DST
), (
SRC
)))

456 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

457 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_WORD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

458 #ifdeà
HOST_HAS_QUAD


459 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

460 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_QUAD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

464 
	#SYSCALL
(
INST
è
	`sys_sysÿÎ
(&
»gs
, 
mem_acûss
, 
mem
, INST, 
TRUE
)

	)

468 
	$sim_maš
()

470 
md_š¡_t
 
š¡
;

471 
md_addr_t
 
addr
, 
rg‘_PC
;

472 
md_İcode
 
İ
;

473 
is_wr™e
;

474 
¡ack_idx
;

475 
md_çuÉ_ty³
 
çuÉ
;

477 
	`årštf
(
¡d”r
, "sim: ** starting functional simulation w/…redictors **\n");

480 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

483 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_PC
, 0, 0, 0, 0))

484 
	`dl™e_maš
(
»gs
.
»gs_PC
 - (
md_š¡_t
),„egs.regs_PC,

485 
sim_num_š¢
, &
»gs
, 
mem
);

487 
TRUE
)

490 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

491 #ifdeà
TARGET_ALPHA


492 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

496 
	`mem_acûss
(
mem
, 
R—d
, 
»gs
.
»gs_PC
, &
š¡
, (
md_š¡_t
));

499 
sim_num_š¢
++;

502 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

505 
çuÉ
 = 
md_çuÉ_nÚe
;

508 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

511 
İ
)

513 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

514 
OP
: \

515 
	`SYMCAT
(
OP
,
_IMPL
); \

517 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

518 
OP
: \

519 
	`·nic
("attemptedoƒxecute‡†inking opcode");

520 
	#CONNECT
(
OP
)

	)

521 
	#DECLARE_FAULT
(
FAULT
è\

	)

522 { 
çuÉ
 = (
FAULT
); ; }

523 
	~"machše.def
"

525 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

528 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

529 
	`çl
("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
»gs
.
»gs_PC
);

531 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

533 
sim_num_»fs
++;

534 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

535 
is_wr™e
 = 
TRUE
;

538 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_CTRL
)

540 
md_addr_t
 
´ed_PC
;

541 
b´ed_upd©e_t
 
upd©e_»c
;

543 
sim_num_b¿nches
++;

545 ià(
´ed
)

548 
´ed_PC
 = 
	`b´ed_lookup
(
´ed
,

549  
»gs
.
»gs_PC
,

550  
rg‘_PC
,

551  
İ
,

552  
	`MD_IS_CALL
(
İ
),

553  
	`MD_IS_RETURN
(
İ
),

554  &
upd©e_»c
,

555  &
¡ack_idx
);

558 ià(!
´ed_PC
)

561 
´ed_PC
 = 
»gs
.
»gs_PC
 + (
md_š¡_t
);

564 
	`b´ed_upd©e
(
´ed
,

565  
»gs
.
»gs_PC
,

566  
»gs
.
»gs_NPC
,

567  
»gs
.
»gs_NPC
 !ğÔegs.
»gs_PC
 +

568 (
md_š¡_t
)),

569  
´ed_PC
 !ğ(
»gs
.
»gs_PC
 +

570 (
md_š¡_t
)),

571  
´ed_PC
 =ğ
»gs
.
»gs_NPC
,

572  
İ
,

573  &
upd©e_»c
);

578 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

579 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

580 
addr
, 
sim_num_š¢
, sim_num_insn))

581 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

584 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

585 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

588 ià(
max_š¡s
 && 
sim_num_š¢
 >= max_insts)

591 
	}
}

	@sim-cache.c

109 
	~<¡dio.h
>

110 
	~<¡dlib.h
>

111 
	~<¡ršg.h
>

112 
	~<m©h.h
>

113 
	~<as£¹.h
>

115 
	~"ho¡.h
"

116 
	~"misc.h
"

117 
	~"machše.h
"

118 
	~"»gs.h
"

119 
	~"memÜy.h
"

120 
	~"ÿche.h
"

121 
	~"lßd”.h
"

122 
	~"sysÿÎ.h
"

123 
	~"dl™e.h
"

124 
	~"sim.h
"

135 
»gs_t
 
	g»gs
;

138 
mem_t
 *
	gmem
 = 
NULL
;

141 
couÁ”_t
 
	gsim_num_»fs
 = 0;

144 
	gmax_š¡s
;

147 
ÿche_t
 *
	gÿche_1
 = 
NULL
;

150 
ÿche_t
 *
	gÿche_2
 = 
NULL
;

153 
ÿche_t
 *
	gÿche_dl1
 = 
NULL
;

156 
ÿche_t
 *
	gÿche_dl2
 = 
NULL
;

159 
ÿche_t
 *
	g™lb
 = 
NULL
;

162 
ÿche_t
 *
	gdb
 = 
NULL
;

165 
	#MAX_PCSTAT_VARS
 8

	)

166 
¡©_¡©_t
 *
	gpc¡©_¡©s
[
MAX_PCSTAT_VARS
];

167 
couÁ”_t
 
	gpc¡©_Ï¡v®s
[
MAX_PCSTAT_VARS
];

168 
¡©_¡©_t
 *
	gpc¡©_sdi¡s
[
MAX_PCSTAT_VARS
];

171 
	#STATVAL
(
STAT
è\

	)

172 ((
	gSTAT
)->
	gsc
 =ğ
sc_št
 \

173 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_št
.
v¬
) \

174 : ((
STAT
)->
sc
 =ğ
sc_ušt
 \

175 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_ušt
.
v¬
) \

176 : ((
STAT
)->
sc
 =ğ
sc_couÁ”
 \

177 ? *((
STAT
)->
v¬ŸÁ
.
fÜ_couÁ”
.
v¬
) \

178 : (
·nic
("bad stat class"), 0))))

182 
	$dl1_acûss_â
(
mem_cmd
 
cmd
,

183 
md_addr_t
 
baddr
,

184 
bsize
,

185 
ÿche_blk_t
 *
blk
,

186 
tick_t
 
now
)

188 ià(
ÿche_dl2
)

191  
	`ÿche_acûss
(
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
,

192  
now
, 
NULL
, NULL);

199 
	}
}

203 
	$dl2_acûss_â
(
mem_cmd
 
cmd
,

204 
md_addr_t
 
baddr
,

205 
bsize
,

206 
ÿche_blk_t
 *
blk
,

207 
tick_t
 
now
)

212 
	}
}

216 
	$1_acûss_â
(
mem_cmd
 
cmd
,

217 
md_addr_t
 
baddr
,

218 
bsize
,

219 
ÿche_blk_t
 *
blk
,

220 
tick_t
 
now
)

222 ià(
ÿche_2
)

225  
	`ÿche_acûss
(
ÿche_2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
,

226  
now
, 
NULL
, NULL);

233 
	}
}

237 
	$2_acûss_â
(
mem_cmd
 
cmd
,

238 
md_addr_t
 
baddr
,

239 
bsize
,

240 
ÿche_blk_t
 *
blk
,

241 
tick_t
 
now
)

246 
	}
}

250 
	$™lb_acûss_â
(
mem_cmd
 
cmd
,

251 
md_addr_t
 
baddr
,

252 
bsize
,

253 
ÿche_blk_t
 *
blk
,

254 
tick_t
 
now
)

256 
md_addr_t
 *
phy_·ge_±r
 = (md_addr_ˆ*)
blk
->
u£r_d©a
;

259 
	`as£¹
(
phy_·ge_±r
);

262 *
phy_·ge_±r
 = 0;

265 
	}
}

269 
	$db_acûss_â
(
mem_cmd
 
cmd
,

270 
md_addr_t
 
baddr
,

271 
bsize
,

272 
ÿche_blk_t
 *
blk
,

273 
tick_t
 
now
)

275 
md_addr_t
 *
phy_·ge_±r
 = (md_addr_ˆ*)
blk
->
u£r_d©a
;

278 
	`as£¹
(
phy_·ge_±r
);

281 *
phy_·ge_±r
 = 0;

284 
	}
}

287 *
	gÿche_dl1_İt
 ;

288 *
	gÿche_dl2_İt
 ;

289 *
	gÿche_1_İt
 ;

290 *
	gÿche_2_İt
 ;

291 *
	g™lb_İt
 ;

292 *
	gdb_İt
 ;

293 
	gæush_Ú_sysÿÎs
 ;

294 
	gcom´ess_iÿche_addrs
 ;

297 
	gpc¡©_ÃÉ
 = 0;

298 *
	gpc¡©_v¬s
[
MAX_PCSTAT_VARS
];

301 #ifdeà
TARGET_PISA


302 
	#IACOMPRESS
(
A
è\

	)

303 (
	gcom´ess_iÿche_addrs
 ? ((((
	gA
è- 
	gld_‹xt_ba£
è>> 1è+†d_‹xt_ba£è: (
A
))

304 
	#ISCOMPRESS
(
SZ
è\

	)

305 (
com´ess_iÿche_addrs
 ? ((
SZ
) >> 1) : (SZ))

307 
	#IACOMPRESS
(
A
è(A)

	)

308 
	#ISCOMPRESS
(
SZ
è(SZ)

	)

313 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

315 
	`İt_»g_h—d”
(
odb
,

324 
	`İt_»g_ušt
(
odb
, "-max:inst", "maximum‚umber of inst'soƒxecute",

325 &
max_š¡s
, 0,

326  
TRUE
, 
NULL
);

328 
	`İt_»g_¡ršg
(
odb
, "-cache:dl1",

330 &
ÿche_dl1_İt
, "dl1:256:32:1:l", 
TRUE
, 
NULL
);

331 
	`İt_»g_nÙe
(
odb
,

345 
	`İt_»g_¡ršg
(
odb
, "-cache:dl2",

347 &
ÿche_dl2_İt
, "ul2:1024:64:4:l", 
TRUE
, 
NULL
);

348 
	`İt_»g_¡ršg
(
odb
, "-cache:il1",

350 &
ÿche_1_İt
, "1:256:32:1:l", 
TRUE
, 
NULL
);

351 
	`İt_»g_nÙe
(
odb
,

364 
	`İt_»g_¡ršg
(
odb
, "-cache:il2",

366 &
ÿche_2_İt
, "dl2", 
TRUE
, 
NULL
);

367 
	`İt_»g_¡ršg
(
odb
, "-tlb:itlb",

369 &
™lb_İt
, "™lb:16:4096:4:l", 
TRUE
, 
NULL
);

370 
	`İt_»g_¡ršg
(
odb
, "-tlb:dtlb",

372 &
db_İt
, "db:32:4096:4:l", 
TRUE
, 
NULL
);

373 
	`İt_»g_æag
(
odb
, "-flush", "flush caches on system calls",

374 &
æush_Ú_sysÿÎs
, 
FALSE
, 
TRUE
, 
NULL
);

375 
	`İt_»g_æag
(
odb
, "-icompress",

377 &
com´ess_iÿche_addrs
, 
FALSE
,

378  
TRUE
, 
NULL
);

380 
	`İt_»g_¡ršg_li¡
(
odb
, "-pcstat",

382 
pc¡©_v¬s
, 
MAX_PCSTAT_VARS
, &
pc¡©_ÃÉ
, 
NULL
,

383  
FALSE
, 
NULL
, 
TRUE
);

385 
	}
}

389 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
,

390 
¬gc
, **
¬gv
)

392 
Çme
[128], 
c
;

393 
n£ts
, 
bsize
, 
assoc
;

396 ià(!
	`my¡ricmp
(
ÿche_dl1_İt
, "none"))

398 
ÿche_dl1
 = 
NULL
;

401 ià(
	`¡rcmp
(
ÿche_dl2_İt
, "none"))

402 
	`çl
("the†1 data cache must defined ifhe†2 cache is defined");

403 
ÿche_dl2
 = 
NULL
;

407 ià(
	`ssÿnf
(
ÿche_dl1_İt
, "%[^:]:%d:%d:%d:%c",

408 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

409 
	`çl
("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

410 
ÿche_dl1
 = 
	`ÿche_ü—‹
(
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

411  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
(
c
),

412 
dl1_acûss_â
, 1);

415 ià(!
	`my¡ricmp
(
ÿche_dl2_İt
, "none"))

416 
ÿche_dl2
 = 
NULL
;

419 ià(
	`ssÿnf
(
ÿche_dl2_İt
, "%[^:]:%d:%d:%d:%c",

420 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

421 
	`çl
("bad†2 D-cache…arms: "

423 
ÿche_dl2
 = 
	`ÿche_ü—‹
(
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

424  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
(
c
),

425 
dl2_acûss_â
, 1);

430 ià(!
	`my¡ricmp
(
ÿche_1_İt
, "none"))

432 
ÿche_1
 = 
NULL
;

435 ià(
	`¡rcmp
(
ÿche_2_İt
, "none"))

436 
	`çl
("the†1 inst cache must defined ifhe†2 cache is defined");

437 
ÿche_2
 = 
NULL
;

439 ià(!
	`my¡ricmp
(
ÿche_1_İt
, "dl1"))

441 ià(!
ÿche_dl1
)

442 
	`çl
("I-cache†1 cannot‡ccess D-cache†1‡s it's undefined");

443 
ÿche_1
 = 
ÿche_dl1
;

446 ià(
	`¡rcmp
(
ÿche_2_İt
, "none"))

447 
	`çl
("the†1 inst cache must defined ifhe†2 cache is defined");

448 
ÿche_2
 = 
NULL
;

450 ià(!
	`my¡ricmp
(
ÿche_1_İt
, "dl2"))

452 ià(!
ÿche_dl2
)

453 
	`çl
("I-cache†1 cannot‡ccess D-cache†2‡s it's undefined");

454 
ÿche_1
 = 
ÿche_dl2
;

457 ià(
	`¡rcmp
(
ÿche_2_İt
, "none"))

458 
	`çl
("the†1 inst cache must defined ifhe†2 cache is defined");

459 
ÿche_2
 = 
NULL
;

463 ià(
	`ssÿnf
(
ÿche_1_İt
, "%[^:]:%d:%d:%d:%c",

464 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

465 
	`çl
("bad†1 I-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

466 
ÿche_1
 = 
	`ÿche_ü—‹
(
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

467  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
(
c
),

468 
1_acûss_â
, 1);

471 ià(!
	`my¡ricmp
(
ÿche_2_İt
, "none"))

472 
ÿche_2
 = 
NULL
;

473 ià(!
	`my¡ricmp
(
ÿche_2_İt
, "dl2"))

475 ià(!
ÿche_dl2
)

476 
	`çl
("I-cache†2 cannot‡ccess D-cache†2‡s it's undefined");

477 
ÿche_2
 = 
ÿche_dl2
;

481 ià(
	`ssÿnf
(
ÿche_2_İt
, "%[^:]:%d:%d:%d:%c",

482 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

483 
	`çl
("bad†2 I-cache…arms: "

485 
ÿche_2
 = 
	`ÿche_ü—‹
(
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

486  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
(
c
),

487 
2_acûss_â
, 1);

492 ià(!
	`my¡ricmp
(
™lb_İt
, "none"))

493 
™lb
 = 
NULL
;

496 ià(
	`ssÿnf
(
™lb_İt
, "%[^:]:%d:%d:%d:%c",

497 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

498 
	`çl
("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

499 
™lb
 = 
	`ÿche_ü—‹
(
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

500  (
md_addr_t
), 
assoc
,

501 
	`ÿche_ch¬2pŞicy
(
c
), 
™lb_acûss_â
,

506 ià(!
	`my¡ricmp
(
db_İt
, "none"))

507 
db
 = 
NULL
;

510 ià(
	`ssÿnf
(
db_İt
, "%[^:]:%d:%d:%d:%c",

511 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

512 
	`çl
("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

513 
db
 = 
	`ÿche_ü—‹
(
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

514  (
md_addr_t
), 
assoc
,

515 
	`ÿche_ch¬2pŞicy
(
c
), 
db_acûss_â
,

518 
	}
}

522 
	$sim_š™
()

524 
sim_num_»fs
 = 0;

527 
	`»gs_š™
(&
»gs
);

530 
mem
 = 
	`mem_ü—‹
("mem");

531 
	`mem_š™
(
mem
);

532 
	}
}

536 
	$ÿche_m¡©e_obj
(
FILE
 *
¡»am
,

537 *
cmd
,

538 
»gs_t
 *
»gs
,

539 
mem_t
 *
mem
)

542 
	`sim_´št_¡©s
(
¡»am
);

545  
NULL
;

546 
	}
}

550 
	$sim_lßd_´og
(*
âame
,

551 
¬gc
, **
¬gv
,

552 **
’vp
)

555 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

558 
	`dl™e_š™
(
md_»g_obj
, 
dl™e_mem_obj
, 
ÿche_m¡©e_obj
);

559 
	}
}

563 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

566 
	}
}

570 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

572 
i
;

575 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

577 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

578 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_refs",

580 &
sim_num_»fs
, 0, 
NULL
);

581 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

583 &
sim_–­£d_time
, 0, 
NULL
);

584 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

586 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

589 ià(
ÿche_1


590 && (
ÿche_1
 !ğ
ÿche_dl1
 && cache_1 !ğ
ÿche_dl2
))

591 
	`ÿche_»g_¡©s
(
ÿche_1
, 
sdb
);

592 ià(
ÿche_2


593 && (
ÿche_2
 !ğ
ÿche_dl1
 && cache_2 !ğ
ÿche_dl2
))

594 
	`ÿche_»g_¡©s
(
ÿche_2
, 
sdb
);

595 ià(
ÿche_dl1
)

596 
	`ÿche_»g_¡©s
(
ÿche_dl1
, 
sdb
);

597 ià(
ÿche_dl2
)

598 
	`ÿche_»g_¡©s
(
ÿche_dl2
, 
sdb
);

599 ià(
™lb
)

600 
	`ÿche_»g_¡©s
(
™lb
, 
sdb
);

601 ià(
db
)

602 
	`ÿche_»g_¡©s
(
db
, 
sdb
);

604 
i
=0; i<
pc¡©_ÃÉ
; i++)

606 
buf
[512], 
buf1
[512];

607 
¡©_¡©_t
 *
¡©
;

612 
¡©
 = 
	`¡©_fšd_¡©
(
sdb
, 
pc¡©_v¬s
[
i
]);

613 ià(!
¡©
)

614 
	`çl
("ÿÂÙ†oÿ‹‡ny sti¡iøÇmed `%s'", 
pc¡©_v¬s
[
i
]);

617 ià(
¡©
->
sc
 !ğ
sc_št
 && st->sø!ğ
sc_ušt
 && st->sø!ğ
sc_couÁ”
)

618 
	`çl
("`-pcstat' statistical variable `%s' is‚ot‡n integralype",

619 
¡©
->
Çme
);

622 
pc¡©_¡©s
[
i
] = 
¡©
;

623 
pc¡©_Ï¡v®s
[
i
] = 
	`STATVAL
(
¡©
);

626 
	`¥rštf
(
buf
, "%s_by_pc", 
¡©
->
Çme
);

627 
	`¥rštf
(
buf1
, "% (byexˆadd»ss)", 
¡©
->
desc
);

628 
pc¡©_sdi¡s
[
i
] = 
	`¡©_»g_sdi¡
(
sdb
, 
buf
, 
buf1
,

630  (
PF_COUNT
|
PF_PDF
),

632  
NULL
);

634 
	`ld_»g_¡©s
(
sdb
);

635 
	`mem_»g_¡©s
(
mem
, 
sdb
);

636 
	}
}

640 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

643 
	}
}

647 
	$sim_unš™
()

650 
	}
}

661 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

664 
	#CPC
 (
»gs
.
»gs_PC
)

	)

667 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

668 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

670 #ià
defšed
(
TARGET_PISA
)

673 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

674 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

675 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

676 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

677 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

678 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

681 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

682 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

683 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

684 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

685 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

686 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

688 #–ià
defšed
(
TARGET_ALPHA
)

691 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

692 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

693 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

694 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

697 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

698 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

699 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

700 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

703 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

707 
	#__READ_CACHE
(
addr
, 
SRC_T
è\

	)

708 ((
	gdb
 \

709 ? 
ÿche_acûss
(
db
, 
R—d
, (
addr
), 
NULL
, \

710 (
SRC_T
), 0, 
NULL
, NULL) \

712 (
	gÿche_dl1
 \

713 ? 
ÿche_acûss
(
ÿche_dl1
, 
R—d
, (
addr
), 
NULL
, \

714 (
SRC_T
), 0, 
NULL
, NULL) \

717 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

718 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
	gaddr
 = (
SRC
), \

719 
__READ_CACHE
(
addr
, 
by‹_t
), 
	$MEM_READ_BYTE
(
mem
, 
addr
))

720 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

721 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
SRC
), \

722 
	`__READ_CACHE
(
addr
, 
h®f_t
), 
	$MEM_READ_HALF
(
mem
, 
addr
))

723 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

724 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
SRC
), \

725 
	`__READ_CACHE
(
addr
, 
wÜd_t
), 
	$MEM_READ_WORD
(
mem
, 
addr
))

726 #ifdeà
HOST_HAS_QUAD


727 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

728 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
SRC
), \

729 
	`__READ_CACHE
(
addr
, 
quad_t
), 
	$MEM_READ_QUAD
(
mem
, 
addr
))

732 
	#__WRITE_CACHE
(
addr
, 
DST_T
è\

	)

733 ((
db
 \

734 ? 
	`ÿche_acûss
(
db
, 
Wr™e
, (
addr
), 
NULL
, \

735 (
DST_T
), 0, 
NULL
, NULL) \

737 (
ÿche_dl1
 \

738 ? 
	`ÿche_acûss
(
ÿche_dl1
, 
Wr™e
, (
addr
), 
NULL
, \

739 (
DST_T
), 0, 
NULL
, NULL) \

742 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

743 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
DST
), \

744 
	`__WRITE_CACHE
(
addr
, 
by‹_t
), 
	`MEM_WRITE_BYTE
(
mem
,‡ddr, (
SRC
)))

745 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

746 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
DST
), \

747 
	`__WRITE_CACHE
(
addr
, 
h®f_t
), 
	`MEM_WRITE_HALF
(
mem
,‡ddr, (
SRC
)))

748 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

749 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
DST
), \

750 
	`__WRITE_CACHE
(
addr
, 
wÜd_t
), 
	`MEM_WRITE_WORD
(
mem
,‡ddr, (
SRC
)))

751 #ifdeà
HOST_HAS_QUAD


752 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

753 ((
FAULT
èğ
md_çuÉ_nÚe
, 
addr
 = (
DST
), \

754 
	`__WRITE_CACHE
(
addr
, 
quad_t
), 
	`MEM_WRITE_QUAD
(
mem
,‡ddr, (
SRC
)))

758 
md_çuÉ_ty³


759 
	$dÿche_acûss_â
(
mem_t
 *
mem
,

760 
mem_cmd
 
cmd
,

761 
md_addr_t
 
addr
,

762 *
p
,

763 
nby‹s
)

765 ià(
db
)

766 
	`ÿche_acûss
(
db
, 
cmd
, 
addr
, 
NULL
, 
nby‹s
, 0, NULL, NULL);

767 ià(
ÿche_dl1
)

768 
	`ÿche_acûss
(
ÿche_dl1
, 
cmd
, 
addr
, 
NULL
, 
nby‹s
, 0, NULL, NULL);

769  
	`mem_acûss
(
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
);

770 
	}
}

773 
	#SYSCALL
(
INST
è\

	)

774 (
	gæush_Ú_sysÿÎs
 \

775 ? ((
	gdb
 ? 
	$ÿche_æush
(
db
, 0) : 0), \

776 (
ÿche_dl1
 ? 
	$ÿche_æush
(
ÿche_dl1
, 0) : 0), \

777 (
ÿche_dl2
 ? 
	$ÿche_æush
(
ÿche_dl2
, 0) : 0), \

778 
	`sys_sysÿÎ
(&
»gs
, 
mem_acûss
, 
mem
, 
INST
, 
TRUE
)) \

779 : 
	$sys_sysÿÎ
(&
»gs
, 
dÿche_acûss_â
, 
mem
, 
INST
, 
TRUE
))

783 
	$sim_maš
()

785 
i
;

786 
md_š¡_t
 
š¡
;

787 
md_addr_t
 
addr
;

788 
md_İcode
 
İ
;

789 
is_wr™e
;

790 
md_çuÉ_ty³
 
çuÉ
;

792 
	`årštf
(
¡d”r
, "sim: ** starting functional simulation w/ caches **\n");

795 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

798 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_PC
, 0, 0, 0, 0))

799 
	`dl™e_maš
(
»gs
.
»gs_PC
 - (
md_š¡_t
),„egs.regs_PC,

800 
sim_num_š¢
, &
»gs
, 
mem
);

802 
TRUE
)

805 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

806 #ifdeà
TARGET_ALPHA


807 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

811 ià(
™lb
)

812 
	`ÿche_acûss
(
™lb
, 
R—d
, 
	`IACOMPRESS
(
»gs
.
»gs_PC
),

813 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 0, NULL, NULL);

814 ià(
ÿche_1
)

815 
	`ÿche_acûss
(
ÿche_1
, 
R—d
, 
	`IACOMPRESS
(
»gs
.
»gs_PC
),

816 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 0, NULL, NULL);

817 
	`mem_acûss
(
mem
, 
R—d
, 
»gs
.
»gs_PC
, &
š¡
, (
md_š¡_t
));

820 
sim_num_š¢
++;

823 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

826 
çuÉ
 = 
md_çuÉ_nÚe
;

829 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

832 
İ
)

834 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

835 
OP
: \

836 
	`SYMCAT
(
OP
,
_IMPL
); \

838 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

839 
OP
: \

840 
	`·nic
("attemptedoƒxecute‡†inking opcode");

841 
	#CONNECT
(
OP
)

	)

842 
	#DECLARE_FAULT
(
FAULT
è\

	)

843 { 
çuÉ
 = (
FAULT
); ; }

844 
	~"machše.def
"

846 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

849 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

850 
	`çl
("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
»gs
.
»gs_PC
);

852 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

854 
sim_num_»fs
++;

855 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

856 
is_wr™e
 = 
TRUE
;

860 
i
=0; i < 
pc¡©_ÃÉ
; i++)

862 
couÁ”_t
 
Ãwv®
;

863 
d–
;

866 
Ãwv®
 = 
	`STATVAL
(
pc¡©_¡©s
[
i
]);

867 
d–
 = 
Ãwv®
 - 
pc¡©_Ï¡v®s
[
i
];

868 ià(
d–
 != 0)

870 
	`¡©_add_§m¶es
(
pc¡©_sdi¡s
[
i
], 
»gs
.
»gs_PC
, 
d–
);

871 
pc¡©_Ï¡v®s
[
i
] = 
Ãwv®
;

877 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

878 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

879 
addr
, 
sim_num_š¢
, sim_num_insn))

880 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

883 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

884 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

887 ià(
max_š¡s
 && 
sim_num_š¢
 >= max_insts)

890 
	}
}

	@sim-cheetah.c

100 
	~<¡dio.h
>

101 
	~<¡dlib.h
>

102 
	~<m©h.h
>

104 
	~"ho¡.h
"

105 
	~"misc.h
"

106 
	~"machše.h
"

107 
	~"»gs.h
"

108 
	~"memÜy.h
"

109 
	~"lßd”.h
"

110 
	~"sysÿÎ.h
"

111 
	~"dl™e.h
"

112 
	~"İtiÚs.h
"

113 
	~"¡©s.h
"

114 
	~"libch“h/libch“h.h
"

115 
	~"sim.h
"

127 
	#LIBCHEETAH_MAX_INST
 2147483647

	)

130 
»gs_t
 
	g»gs
;

133 
mem_t
 *
	gmem
 = 
NULL
;

136 
couÁ”_t
 
	gsim_num_»fs
 = 0;

139 
	gmax_š¡s
;

142 *
	g»¶_¡r
;

145 *
	gcÚf_¡r
;

148 
	gmš_£ts
;

151 
	gmax_£ts
;

154 
	glše_size
;

157 
	gmax_assoc
;

160 
	gÿche_š‹rv®
;

163 
	gmax_ÿche
;

166 
	gÿche_size
;

169 *
	g»f_¡»am
;

172 
	#REFS_INST
 0x01

	)

173 
	#REFS_DATA
 0x02

	)

174 
	g»fs
;

178 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

180 
	`İt_»g_h—d”
(
odb
,

190 
	`İt_»g_ušt
(
odb
, "-max:inst", "maximum‚umber of inst'soƒxecute",

191 &
max_š¡s
, 
LIBCHEETAH_MAX_INST
,

192  
TRUE
, 
NULL
);

194 
	`İt_»g_¡ršg
(
odb
, "-refs",

196 &
»f_¡»am
, "d©a", 
TRUE
, 
NULL
);

198 
	`İt_»g_¡ršg
(
odb
, "-R", "replacement…olicy, i.e.,†ru or opt",

199 &
»¶_¡r
, "Ìu", 
TRUE
, 
NULL
);

201 
	`İt_»g_¡ršg
(
odb
, "-C", "cache configuration, i.e., fa, sa, or dm",

202 &
cÚf_¡r
, "§", 
TRUE
, 
NULL
);

204 
	`İt_»g_št
(
odb
, "-a", "min‚umber of sets (log base 2,†ine size for DM)",

205 &
mš_£ts
, 7, 
TRUE
, 
NULL
);

207 
	`İt_»g_št
(
odb
, "-b", "max‚umber of sets (log base 2,†ine size for DM)",

208 &
max_£ts
, 14, 
TRUE
, 
NULL
);

210 
	`İt_»g_št
(
odb
, "-l", "line size ofhe caches (log base 2)",

211 &
lše_size
, 4, 
TRUE
, 
NULL
);

213 
	`İt_»g_št
(
odb
, "-n", "max degree of‡ssociativityo‡nalyze (log base 2)",

214 &
max_assoc
, 1, 
TRUE
, 
NULL
);

216 
	`İt_»g_št
(
odb
, "-in", "cache size intervals‡t which miss„atio is shown",

217 &
ÿche_š‹rv®
, 512, 
TRUE
, 
NULL
);

219 
	`İt_»g_št
(
odb
, "-M", "maximum cache size of interest",

220 &
max_ÿche
, 524288, 
TRUE
, 
NULL
);

222 
	`İt_»g_št
(
odb
, "-c", "size of cache (log base 2) for DM‡nalysis",

223 &
ÿche_size
, 16, 
TRUE
, 
NULL
);

224 
	}
}

227 
	glib_¬gc
 = 0;

228 *
	glib_¬gv
[16];

232 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
)

234 
buf
[512];

236 
	`årštf
(
¡d”r
,

240 ià(
max_š¡s
 =ğ0 || max_š¡ > 
LIBCHEETAH_MAX_INST
)

242 
	`w¬n
("sim-cheetah can only…rocess %d instructions",

243 
LIBCHEETAH_MAX_INST
);

244 
max_š¡s
 = 
LIBCHEETAH_MAX_INST
;

247 ià(!
	`¡rcmp
(
»f_¡»am
, "none"))

248 
»fs
 = 0;

249 ià(!
	`¡rcmp
(
»f_¡»am
, "inst"))

250 
»fs
 = 
REFS_INST
;

251 ià(!
	`¡rcmp
(
»f_¡»am
, "data"))

252 
»fs
 = 
REFS_DATA
;

253 ià(!
	`¡rcmp
(
»f_¡»am
, "unified"))

254 
»fs
 = (
REFS_INST
|
REFS_DATA
);

256 
	`çl
("bad„eference stream specifier, use {inst|data|unified}");

259 
lib_¬gc
 = 0;

261 
	`¥rštf
(
buf
, "-R%s", 
»¶_¡r
);

262 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

264 
	`¥rštf
(
buf
, "-C%s", 
cÚf_¡r
);

265 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

267 
	`¥rštf
(
buf
, "-a%d", 
mš_£ts
);

268 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

270 
	`¥rštf
(
buf
, "-b%d", 
max_£ts
);

271 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

273 
	`¥rštf
(
buf
, "-l%d", 
lše_size
);

274 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

276 
	`¥rštf
(
buf
, "-n%d", 
max_assoc
);

277 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

279 
	`¥rštf
(
buf
, "-i%d", 
ÿche_š‹rv®
);

280 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

282 
	`¥rštf
(
buf
, "-M%d", 
max_ÿche
);

283 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

285 
	`¥rštf
(
buf
, "-c%d", 
ÿche_size
);

286 
lib_¬gv
[
lib_¬gc
++] = 
	`my¡rdup
(
buf
);

287 
	}
}

291 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

293 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

295 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

296 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_refs",

298 &
sim_num_»fs
, 0, 
NULL
);

299 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

301 (*)&
sim_–­£d_time
, 0, 
NULL
);

302 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

304 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

305 
	}
}

309 
	$sim_š™
()

311 
sim_num_»fs
 = 0;

314 
	`»gs_š™
(&
»gs
);

317 
mem
 = 
	`mem_ü—‹
("mem");

318 
	`mem_š™
(
mem
);

319 
	}
}

323 
	$ch“h_m¡©e_obj
(
FILE
 *
¡»am
,

324 *
cmd
,

325 
»gs_t
 *
»gs
,

326 
mem_t
 *
mem
)

328 
sim_’d_time
 = 
	`time
((
time_t
 *)
NULL
);

329 
sim_–­£d_time
 = 
	`MAX
(
sim_’d_time
 - 
sim_¡¬t_time
, 1);

332 
	`årštf
(
¡»am
, "\nsim: ** simulation statistics **\n");

333 
	`¡©_´št_¡©s
(
sim_sdb
, 
¡»am
);

336 
	`ch“h_¡©s
(
¡»am
, 
TRUE
);

339  
NULL
;

340 
	}
}

344 
	$sim_lßd_´og
(*
âame
,

345 
¬gc
, **
¬gv
,

346 **
’vp
)

349 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

352 
	`dl™e_š™
(
md_»g_obj
, 
dl™e_mem_obj
, 
ch“h_m¡©e_obj
);

355 
	`ch“h_š™
(
lib_¬gc
, 
lib_¬gv
);

356 
	}
}

360 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

363 
	`ch“h_cÚfig
(
¡»am
);

364 
	}
}

368 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

371 
	`ch“h_¡©s
(
¡»am
, 
FALSE
);

372 
	}
}

376 
	$sim_unš™
()

379 
	}
}

391 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

394 
	#CPC
 (
»gs
.
»gs_PC
)

	)

397 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

398 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

400 #ià
defšed
(
TARGET_PISA
)

403 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

404 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

405 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

406 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

407 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

408 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

411 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

412 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

413 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

414 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

415 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

416 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

418 #–ià
defšed
(
TARGET_ALPHA
)

421 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

422 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

423 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

424 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

427 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

428 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

429 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

430 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

433 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

437 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

438 (
	gaddr
 = (
SRC
), \

439 ((
	g»fs
 & 
	gREFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

440 (
FAULT
èğ
md_çuÉ_nÚe
, 
	$MEM_READ_BYTE
(
mem
, 
addr
))

441 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

442 (
addr
 = (
SRC
), \

443 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

444 (
FAULT
èğ
md_çuÉ_nÚe
, 
	$MEM_READ_HALF
(
mem
, 
addr
))

445 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

446 (
addr
 = (
SRC
), \

447 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

448 (
FAULT
èğ
md_çuÉ_nÚe
, 
	$MEM_READ_WORD
(
mem
, 
addr
))

449 #ifdeà
HOST_HAS_QUAD


450 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

451 (
addr
 = (
SRC
), \

452 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

453 (
FAULT
èğ
md_çuÉ_nÚe
, 
	$MEM_READ_QUAD
(
mem
, 
addr
))

456 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

457 (
addr
 = (
DST
), \

458 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

459 (
FAULT
èğ
md_çuÉ_nÚe
, 
	`MEM_WRITE_BYTE
(
mem
, 
addr
, (
SRC
)))

460 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

461 (
addr
 = (
DST
), \

462 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

463 (
FAULT
èğ
md_çuÉ_nÚe
, 
	`MEM_WRITE_HALF
(
mem
, 
addr
, (
SRC
)))

464 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

465 (
addr
 = (
DST
), \

466 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

467 (
FAULT
èğ
md_çuÉ_nÚe
, 
	`MEM_WRITE_WORD
(
mem
, 
addr
, (
SRC
)))

468 #ifdeà
HOST_HAS_QUAD


469 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

470 (
addr
 = (
DST
), \

471 ((
»fs
 & 
REFS_DATA
è? 
	$ch“h_acûss
(
addr
) : ()0), \

472 (
FAULT
èğ
md_çuÉ_nÚe
, 
	`MEM_WRITE_QUAD
(
mem
, 
addr
, (
SRC
)))

476 
md_çuÉ_ty³


477 
	$ch“h_acûss_â
(
mem_t
 *
mem
,

478 
mem_cmd
 
cmd
,

479 
md_addr_t
 
addr
,

480 *
p
,

481 
nby‹s
)

483 ià(
»fs
 & 
REFS_DATA
)

484 
	`ch“h_acûss
(
addr
);

485  
	`mem_acûss
(
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
);

486 
	}
}

489 
	#SYSCALL
(
INST
è
	`sys_sysÿÎ
(&
»gs
, 
ch“h_acûss_â
, 
mem
, INST, 
TRUE
)

	)

493 
	$sim_maš
()

495 
md_š¡_t
 
š¡
;

496 
md_addr_t
 
addr
;

497 
md_İcode
 
İ
;

498 
is_wr™e
;

499 
md_çuÉ_ty³
 
çuÉ
;

501 
	`årštf
(
¡d”r
, "sim: ** starting functional simulation **\n");

504 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

507 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_PC
, 0, 0, 0, 0))

508 
	`dl™e_maš
(
»gs
.
»gs_PC
 - (
md_š¡_t
),„egs.regs_PC,

509 
sim_num_š¢
, &
»gs
, 
mem
);

511 
TRUE
)

514 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

515 #ifdeà
TARGET_ALPHA


516 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

520 ià(
»fs
 & 
REFS_INST
)

521 
	`ch“h_acûss
(
»gs
.
»gs_PC
);

522 
	`mem_acûss
(
mem
, 
R—d
, 
»gs
.
»gs_PC
, &
š¡
, (
md_š¡_t
));

525 
sim_num_š¢
++;

528 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

531 
çuÉ
 = 
md_çuÉ_nÚe
;

534 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

537 
İ
)

539 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

540 
OP
: \

541 
	`SYMCAT
(
OP
,
_IMPL
); \

543 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

544 
OP
: \

545 
	`·nic
("attemptedoƒxecute‡†inking opcode");

546 
	#CONNECT
(
OP
)

	)

547 
	#DECLARE_FAULT
(
FAULT
è\

	)

548 { 
çuÉ
 = (
FAULT
); ; }

549 
	~"machše.def
"

551 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

554 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

555 
	`çl
("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
»gs
.
»gs_PC
);

557 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

559 
sim_num_»fs
++;

560 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

561 
is_wr™e
 = 
TRUE
;

565 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

566 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

567 
addr
, 
sim_num_š¢
, sim_num_insn))

568 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

571 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

572 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

575 ià(
max_š¡s
 && 
sim_num_š¢
 >= max_insts)

578 
	}
}

	@sim-eio.c

79 
	~<¡dio.h
>

80 
	~<¡dlib.h
>

81 
	~<m©h.h
>

83 
	~"ho¡.h
"

84 
	~"misc.h
"

85 
	~"machše.h
"

86 
	~"»gs.h
"

87 
	~"memÜy.h
"

88 
	~"lßd”.h
"

89 
	~"sysÿÎ.h
"

90 
	~"dl™e.h
"

91 
	~"İtiÚs.h
"

92 
	~"¡©s.h
"

93 
	~"eio.h
"

94 
	~"¿nge.h
"

95 
	~"sim.h
"

105 
»gs_t
 
	g»gs
;

108 
mem_t
 *
	gmem
 = 
NULL
;

111 
couÁ”_t
 
	gsim_num_»fs
 = 0;

114 
	gmax_š¡s
;

117 
	gç¡fwd_couÁ
;

120 
	gç¡fwdšg
 = 
FALSE
;

123 *
	gŒaû_âame
;

124 
FILE
 *
	gŒaû_fd
 = 
NULL
;

127 
	gchk±_aùive
 = 
FALSE
;

128 *
	gchk±_âame
;

129 
FILE
 *
	gchk±_fd
 = 
NULL
;

130 
¿nge_¿nge_t
 
	gchk±_¿nge
;

133 
	gchk±_ÃÉ
 = 0;

134 *
	gchk±_İts
[2];

138 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

140 
	`İt_»g_h—d”
(
odb
,

153 
	`İt_»g_ušt
(
odb
, "-max:inst", "maximum‚umber of inst'soƒxecute",

154 &
max_š¡s
, 0,

155  
TRUE
, 
NULL
);

157 
	`İt_»g_št
(
odb
, "-fastfwd", "number of insts skipped beforeracing starts",

158 &
ç¡fwd_couÁ
, 0,

159  
TRUE
, 
NULL
);

161 
	`İt_»g_¡ršg
(
odb
, "-trace", "EIOrace file output file‚ame",

162 &
Œaû_âame
, 
NULL
,

163  
TRUE
, 
NULL
);

165 
	`İt_»g_¡ršg_li¡
(
odb
, "-dump",

167 
chk±_İts
, 2, &
chk±_ÃÉ
, 
NULL
,

168  
FALSE
, 
NULL
, FALSE);

170 
	`İt_»g_nÙe
(
odb
,

186 );
	}
}

190 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
)

192 ià(
ç¡fwd_couÁ
 < 0 || fastfwd_count >= 2147483647)

193 
	`çl
("bad fa¡ fÜw¬d couÁ: %d", 
ç¡fwd_couÁ
);

194 
	}
}

198 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

200 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

202 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

203 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_refs",

205 &
sim_num_»fs
, 0, 
NULL
);

206 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

208 &
sim_–­£d_time
, 0, 
NULL
);

209 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

211 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

212 
	`ld_»g_¡©s
(
sdb
);

213 
	`mem_»g_¡©s
(
mem
, 
sdb
);

214 
	}
}

218 
	$sim_š™
()

220 
sim_num_»fs
 = 0;

223 
	`»gs_š™
(&
»gs
);

226 
mem
 = 
	`mem_ü—‹
("mem");

227 
	`mem_š™
(
mem
);

228 
	}
}

232 
	$sim_lßd_´og
(*
âame
,

233 
¬gc
, **
¬gv
,

234 **
’vp
)

237 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

239 ià(
chk±_ÃÉ
 == 2)

241 *
”r¡r
;

244 ià(!
sim_eio_fd
)

245 
	`çl
("checkpoints can only be generated while„unning‡n EIOrace");

248 ià(
Œaû_âame
 !ğ
NULL
)

249 
	`çl
("checkpoints cannot be generated with generating‡n EIOrace");

253 
”r¡r
 = 
	`¿nge_·r£_¿nge
(
chk±_İts
[1], &
chk±_¿nge
);

254 ià(
”r¡r
)

255 
	`çl
("cannot…arse…ipetrace„ange, use: {<start>}:{<end>}");

258 
chk±_âame
 = 
chk±_İts
[0];

259 
chk±_fd
 = 
	`eio_ü—‹
(
chk±_âame
);

262 
chk±_aùive
 = 
TRUE
;

265 ià(
Œaû_âame
 !ğ
NULL
)

267 
	`årštf
(
¡d”r
, "sim:racingƒxecutiono EIO file `%s'...\n",

268 
Œaû_âame
);

271 
Œaû_fd
 = 
	`eio_ü—‹
(
Œaû_âame
);

275 
	`dl™e_š™
(
md_»g_obj
, 
dl™e_mem_obj
, 
dl™e_m¡©e_obj
);

276 
	}
}

281 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

284 
	}
}

288 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

291 
	}
}

295 
	$sim_unš™
()

297 ià(
Œaû_fd
 !ğ
NULL
)

298 
	`eio_şo£
(
Œaû_fd
);

299 
	}
}

311 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

314 
	#CPC
 (
»gs
.
»gs_PC
)

	)

317 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

318 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

320 #ià
defšed
(
TARGET_PISA
)

323 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

324 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

325 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

326 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

327 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

328 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

331 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

332 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

333 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

334 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

335 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

336 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

338 #–ià
defšed
(
TARGET_ALPHA
)

341 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

342 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

343 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

344 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

347 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

348 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

349 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

350 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

353 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

357 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

358 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_BYTE
(
mem
, 
addr
 = (
SRC
)))

359 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

360 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_HALF
(
mem
, 
addr
 = (
SRC
)))

361 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

362 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_WORD
(
mem
, 
addr
 = (
SRC
)))

363 #ifdeà
HOST_HAS_QUAD


364 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

365 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_QUAD
(
mem
, 
addr
 = (
SRC
)))

368 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

369 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_BYTE
(
mem
, 
addr
 = (
DST
), (
SRC
)))

370 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

371 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_HALF
(
mem
, 
addr
 = (
DST
), (
SRC
)))

372 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

373 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_WORD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

374 #ifdeà
HOST_HAS_QUAD


375 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

376 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_QUAD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

380 
	#SYSCALL
(
INST
è\

	)

381 ((
	gŒaû_fd
 !ğ
NULL
 && !
ç¡fwdšg
) \

382 ? 
eio_wr™e_Œaû
(
Œaû_fd
, 
sim_num_š¢
, \

383 &
»gs
, 
mem_acûss
, 
mem
, 
INST
) \

384 : 
	$sys_sysÿÎ
(&
»gs
, 
mem_acûss
, 
mem
, 
INST
, 
TRUE
))

388 
	$sim_maš
()

390 
md_š¡_t
 
š¡
;

391 
md_addr_t
 
addr
;

392 
md_İcode
 
İ
;

393 
boŞ_t
 
is_wr™e
;

394 
md_çuÉ_ty³
 
çuÉ
;

397 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

400 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_PC
, 0, 0, 0, 0))

401 
	`dl™e_maš
(
»gs
.
»gs_PC
 - (
md_š¡_t
),„egs.regs_PC,

402 
sim_num_š¢
, &
»gs
, 
mem
);

406 ià(
ç¡fwd_couÁ
 > 0)

408 
icouÁ
;

410 
	`årštf
(
¡d”r
, "sim: ** fa¡ fÜw¬dšg %d in¡ **\n", 
ç¡fwd_couÁ
);

412 
ç¡fwdšg
 = 
TRUE
;

413 
icouÁ
=0; icouÁ < 
ç¡fwd_couÁ
; icount++)

416 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

417 #ifdeà
TARGET_ALPHA


418 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

422 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
»gs
.
»gs_PC
, 
md_š¡_t
);

425 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

428 
çuÉ
 = 
md_çuÉ_nÚe
;

431 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

434 
İ
)

436 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

437 
OP
: \

438 
	`SYMCAT
(
OP
,
_IMPL
); \

440 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

441 
OP
: \

442 
	`·nic
("attemptedoƒxecute‡†inking opcode");

443 
	#CONNECT
(
OP
)

	)

444 #undeà
DECLARE_FAULT


445 
	#DECLARE_FAULT
(
FAULT
è\

	)

446 { 
çuÉ
 = (
FAULT
); ; }

447 
	~"machše.def
"

449 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

452 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

453 
	`çl
("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
»gs
.
»gs_PC
);

456 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

458 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

459 
is_wr™e
 = 
TRUE
;

463 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

464 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

465 
addr
, 
sim_num_š¢
, sim_num_insn))

466 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

469 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

470 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

473 
ç¡fwdšg
 = 
FALSE
;

475 ià(
Œaû_fd
 !ğ
NULL
)

477 
	`årštf
(
¡d”r
, "sim: writing EIO file initial checkpoint...\n");

478 ià(
	`eio_wr™e_chk±
(&
»gs
, 
mem
, 
Œaû_fd
) != -1)

479 
	`·nic
("checkpoint code is broken");

482 
	`årštf
(
¡d”r
, "sim: ** starting functional simulation **\n");

485 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

487 
TRUE
)

490 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

491 #ifdeà
TARGET_ALPHA


492 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

496 ià(
chk±_aùive


497 && !
	`¿nge_cmp_¿nge1
(&
chk±_¿nge
, 
»gs
.
»gs_NPC
,

498 
sim_num_š¢
, sim_num_insn))

500 
	`årštf
(
¡d”r
, "sim: writing checkpoint file `%s' @ inst %.0f...\n",

501 
chk±_âame
, ()
sim_num_š¢
);

504 
	`eio_wr™e_chk±
(&
»gs
, 
mem
, 
chk±_fd
);

507 
	`eio_şo£
(
chk±_fd
);

510 
	`lÚgjmp
(
sim_ex™_buf
, 0+1);

514 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
»gs
.
»gs_PC
, 
md_š¡_t
);

517 
sim_num_š¢
++;

520 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

523 
çuÉ
 = 
md_çuÉ_nÚe
;

526 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

529 
İ
)

531 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

532 
OP
: \

533 
	`SYMCAT
(
OP
,
_IMPL
); \

535 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

536 
OP
: \

537 
	`·nic
("attemptedoƒxecute‡†inking opcode");

538 
	#CONNECT
(
OP
)

	)

539 
	#DECLARE_FAULT
(
FAULT
è\

	)

540 { 
çuÉ
 = (
FAULT
); ; }

541 
	~"machše.def
"

543 
	`·nic
("bogus opcode");

546 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

547 
	`çl
("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
»gs
.
»gs_PC
);

549 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

551 
sim_num_»fs
++;

552 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

553 
is_wr™e
 = 
TRUE
;

557 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

558 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

559 
addr
, 
sim_num_š¢
, sim_num_insn))

560 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

563 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

564 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

567 ià(
max_š¡s
 && 
sim_num_š¢
 >= max_insts)

570 
	}
}

	@sim-fast.c

102 
	~<¡dio.h
>

103 
	~<¡dlib.h
>

104 
	~<m©h.h
>

120 #undeà
NO_INSN_COUNT


122 #ifdeà
__GNUC__


129 
	~"ho¡.h
"

130 
	~"misc.h
"

131 
	~"machše.h
"

132 
	~"»gs.h
"

133 
	~"memÜy.h
"

134 
	~"lßd”.h
"

135 
	~"sysÿÎ.h
"

136 
	~"dl™e.h
"

137 
	~"sim.h
"

140 
»gs_t
 
	g»gs
;

143 
mem_t
 *
	gmem
 = 
NULL
;

145 #ifdeà
TARGET_ALPHA


147 
mem_t
 *
	gdec
 = 
NULL
;

152 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

154 
	`İt_»g_h—d”
(
odb
,

163 
	}
}

167 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
)

169 ià(
dl™e_aùive
)

170 
	`çl
("sim-fast does‚ot support DLite debugging");

171 
	}
}

175 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

177 #iâdeà
NO_INSN_COUNT


178 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

180 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

182 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

184 &
sim_–­£d_time
, 0, 
NULL
);

185 #iâdeà
NO_INSN_COUNT


186 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

188 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

190 
	`ld_»g_¡©s
(
sdb
);

191 
	`mem_»g_¡©s
(
mem
, 
sdb
);

192 
	}
}

196 
	$sim_š™
()

199 
	`»gs_š™
(&
»gs
);

202 
mem
 = 
	`mem_ü—‹
("mem");

203 
	`mem_š™
(
mem
);

204 
	}
}

208 
	$sim_lßd_´og
(*
âame
,

209 
¬gc
, **
¬gv
,

210 **
’vp
)

213 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

215 #ifdeà
TARGET_ALPHA


218 
i
, 
num_š¢
 = (
ld_‹xt_size
 + 3) / 4;

220 
	`årštf
(
¡d”r
, "**…»-decodšg %u in¡s...", 
num_š¢
);

223 
dec
 = 
	`mem_ü—‹
("dec");

225 
i
=0; i < 
num_š¢
; i++)

227 
md_İcode
 
İ
;

228 
md_š¡_t
 
š¡
;

229 
md_addr_t
 
PC
;

232 
PC
 = 
ld_‹xt_ba£
 + 
i
 * (
md_š¡_t
);

235 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
PC
, 
md_š¡_t
);

238 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

241 
	`MEM_WRITE_WORD
(
dec
, 
PC
 << 1, (
wÜd_t
)
İ
);

242 
	`MEM_WRITE_WORD
(
dec
, (
PC
 << 1)+(
wÜd_t
), 
š¡
);

244 
	`årštf
(
¡d”r
, "done\n");

247 
	}
}

251 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

254 
	}
}

258 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

261 
	}
}

265 
	$sim_unš™
()

268 
	}
}

275 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

278 
	#CPC
 (
»gs
.
»gs_PC
)

	)

281 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

282 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

284 #ià
defšed
(
TARGET_PISA
)

287 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

288 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

289 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

290 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

291 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

292 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

295 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

296 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

297 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

298 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

299 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

300 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

302 #–ià
defšed
(
TARGET_ALPHA
)

305 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

306 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

307 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

308 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

311 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

312 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

313 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

314 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

317 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

321 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

322 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_BYTE
(
mem
, (
SRC
)))

323 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

324 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_HALF
(
mem
, (
SRC
)))

325 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

326 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_WORD
(
mem
, (
SRC
)))

327 #ifdeà
HOST_HAS_QUAD


328 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

329 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_QUAD
(
mem
, (
SRC
)))

332 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

333 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_BYTE
(
mem
, (
DST
), (
SRC
)))

334 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

335 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_HALF
(
mem
, (
DST
), (
SRC
)))

336 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

337 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_WORD
(
mem
, (
DST
), (
SRC
)))

338 #ifdeà
HOST_HAS_QUAD


339 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

340 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_QUAD
(
mem
, (
DST
), (
SRC
)))

344 
	#SYSCALL
(
INST
è
	`sys_sysÿÎ
(&
»gs
, 
mem_acûss
, 
mem
, INST, 
TRUE
)

	)

346 #iâdeà
NO_INSN_COUNT


347 
	#INC_INSN_CTR
(è
sim_num_š¢
++

	)

349 
	#INC_INSN_CTR
(è

	)

352 #ifdeà
TARGET_ALPHA


353 
	#ZERO_FP_REG
(è
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0

	)

355 
	#ZERO_FP_REG
(è

	)

360 
	$sim_maš
()

362 #ifdeà
USE_JUMP_TABLE


372 *
İ_jump
[ ] = {

373 &&
İcode_NA
,

374 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

375 &&
İcode_
##
OP
,

376 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

377 &&
İcode_
##
OP
,

378 
	#CONNECT
(
OP
)

	)

379 
	~"machše.def
"

384 
md_š¡_t
 
š¡
;

387 
md_İcode
 
İ
;

389 
	`årštf
(
¡d”r
, "sim: ** starting *fast* functional simulation **\n");

392 ià(
sim_sw­_by‹s
 || 
sim_sw­_wÜds
)

393 
	`çl
("sim: *fast* functional simulation cannot swap bytes or words");

395 #ifdeà
USE_JUMP_TABLE


397 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
;

400 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
»gs
.
»gs_NPC
, 
md_š¡_t
);

403 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

404 *
İ_jump
[
İ
];

406 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

407 
İcode_
##
OP
: \

409 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0; \

410 
	`ZERO_FP_REG
(); \

413 
	`INC_INSN_CTR
(); \

416 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
; \

419 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
); \

422 
	`SYMCAT
(
OP
,
_IMPL
); \

425 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
»gs
.
»gs_NPC
, 
md_š¡_t
); \

428 
	`MD_SET_OPCODE
(
İ
, 
š¡
); \

429 *
İ_jump
[
İ
];

431 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

432 
İcode_
##
OP
: \

433 
	`·nic
("attemptedoƒxecute‡†inking opcode");

434 
	#CONNECT
(
OP
)

	)

435 
	#DECLARE_FAULT
(
FAULT
è\

	)

437 
	~"machše.def
"

439 
İcode_NA
:

440 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

443 
	`·nic
("exited sim-fast main†oop");

448 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

450 
TRUE
)

453 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

454 #ifdeà
TARGET_ALPHA


455 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

459 #iâdeà
NO_INSN_COUNT


460 
sim_num_š¢
++;

463 #ifdeà
TARGET_ALPHA


465 
İ
 = (
md_İcode
)
	`__UNCHK_MEM_READ
(
dec
, 
»gs
.
»gs_PC
 << 1, 
wÜd_t
);

466 
š¡
 =

467 
	`__UNCHK_MEM_READ
(
dec
, (
»gs
.
»gs_PC
 << 1)+(
wÜd_t
), 
md_š¡_t
);

470 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
»gs
.
»gs_PC
, 
md_š¡_t
);

473 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

477 
İ
)

479 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

480 
OP
: \

481 
	`SYMCAT
(
OP
,
_IMPL
); \

483 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

484 
OP
: \

485 
	`·nic
("attemptedoƒxecute‡†inking opcode");

486 
	#CONNECT
(
OP
)

	)

487 
	#DECLARE_FAULT
(
FAULT
è\

	)

489 
	~"machše.def
"

491 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

495 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

496 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

500 
	}
}

	@sim-ooo.c

113 
	~"h—d”s.h
"

115 
	~"maš.h
"

116 
	~"sim-outÜd”.h
"

117 
	~"š¡Mª.h
"

121 
couÁ”_t
 
	gTÙ®B¬r›rs
 = 0;

122 
couÁ”_t
 
	gTÙ®Locks
 = 0;

123 
couÁ”_t
 
	gpu»_num_š¢
 = 0;

124 
couÁ”_t
 
	gtÙ®_num_š¢
 = 0;

125 
couÁ”_t
 
	g»Çme_acûss
 = 0;

126 
couÁ”_t
 
	giq¿m_acûss
 = 0;

127 
couÁ”_t
 
	gfq¿m_acûss
 = 0;

128 
couÁ”_t
 
	grob1_acûss
 = 0;

129 
couÁ”_t
 
	grob2_acûss
 = 0;

130 
couÁ”_t
 
	gb´ed_acûss
 = 0;

131 
couÁ”_t
 
	giwakeup_acûss
 = 0;

132 
couÁ”_t
 
	gfwakeup_acûss
 = 0;

133 
couÁ”_t
 
	gi£ËùiÚ_acûss
 = 0;

134 
couÁ”_t
 
	gf£ËùiÚ_acûss
 = 0;

135 
couÁ”_t
 
	gœegfe_acûss
 = 0;

136 
couÁ”_t
 
	gäegfe_acûss
 = 0;

138 
couÁ”_t
 
	glsq_acûss
 = 0;

139 
couÁ”_t
 
	giÿche_acûss
 = 0;

140 
couÁ”_t
 
	gdÿche_acûss
 = 0;

141 
couÁ”_t
 
	gdÿche2_acûss
 = 0;

142 
couÁ”_t
 
	giÿche2_acûss
 = 0;

144 
couÁ”_t
 
	gŸlu1_acûss
 = 0;

145 
couÁ”_t
 
	gŸlu2_acûss
 = 0;

146 
couÁ”_t
 
	gçlu1_acûss
 = 0;

147 
couÁ”_t
 
	gçlu2_acûss
 = 0;

148 
couÁ”_t
 
	gœesuÉbus_acûss
 = 0;

149 
couÁ”_t
 
	gäesuÉbus_acûss
 = 0;

150 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

151 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

153 
	gpcb_blk_couÁ
 = 0;

156 
couÁ”_t
 
	g¦“pCouÁ
[
MAXTHREADS
];

160 
couÁ”_t
 
	gdu¶iÿtiÚ_acûss
, 
	gDUPLICATION_acûss
[
CLUSTERS
], 
	gdu¶iÿtiÚ_tÙ®
 = 0;

161 
couÁ”_t
 
	gcom·»_acûss
, 
	gCOMPARE_acûss
[
CLUSTERS
], 
	gcom·»_tÙ®
 = 0;

165 
couÁ”_t
 
´ediù_comm™
 (
RUU_¡©iÚ
 *
rs
);

168 
	gb´ed_btb_u£_ma¡”id
 = 0;

169 
šk_run
;

170 
em3d_run
;

172 #ifdeà
DIRECTORY


173 #ifdeà
POPNET


174 
mašPİÃt
();

175 
pİÃtMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
¡Time
, 
msgNo
);

176 
pİÃtBufãrS·û
(
s1
, 
s2
, 
İt
);

178 
couÁ”_t
 
pİÃtMsgNo
;

179 
	gmshr_³ndšg_ev’t
[
MAXTHREADS
];

181 
couÁ”_t
 
	g§me_L1_L2_fifo_fuÎ
;

182 
couÁ”_t
 
	gL1_mshr_fuÎ
;

183 
couÁ”_t
 
	gÏ¡_L1_mshr_fuÎ
[
MAXTHREADS
];

184 
couÁ”_t
 
	gL2_mshr_fuÎ
;

185 
couÁ”_t
 
	gÏ¡_L2_mshr_fuÎ
;

186 
couÁ”_t
 
	gL2_mshr_fuÎ_´eãtch
;

187 
couÁ”_t
 
	gL1_fifo_fuÎ
;

188 
couÁ”_t
 
	gÏ¡_L1_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

189 
couÁ”_t
 
	gDœ_fifo_fuÎ
;

190 
couÁ”_t
 
	gÏ¡_Dœ_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

191 
couÁ”_t
 
	gIÅut_queue_fuÎ
;

192 
couÁ”_t
 
	gÏ¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

193 
couÁ”_t
 
	gOuut_queue_fuÎ
;

195 
couÁ”_t
 
	gSÎ_L1_mshr
;

196 
couÁ”_t
 
	gSÎ_L2_mshr
;

197 
couÁ”_t
 
	gSÎ_L1_fifo
;

198 
couÁ”_t
 
	gSÎ_dœ_fifo
;

199 
couÁ”_t
 
	gSÎ_šput_queue
;

200 
couÁ”_t
 
	gSÎ_ouut_queue
;

202 
couÁ”_t
 
Çck_couÁ”
, 
L1_æ_couÁ”
, 
æ_couÁ”
, 
e_to_m
;

203 
couÁ”_t
 
	gtÙ®MeshHİCouÁ
, 
	gtÙ®MeshHİD–ay
, 
	gtÙ®Ev’tCouÁ
, 
	gtÙ®Ev’tProûssTime
;

204 
couÁ”_t
 
	gtÙ®O±HİCouÁ
, 
	gtÙ®O±HİD–ay
;

205 
couÁ”_t
 
	glßd_lšk_sh¬ed
, 
	glßd_lšk_exşusive
;

206 
tick_t
 
tÙ®misshªdËtime
;

207 
couÁ”_t
 
L1_´eãtch_u£fuÎ
;

208 
tÙ®ev’tcouÁnum
;

209 
tÙ®_L1_´eãtch
;

210 
couÁ”_t
 
wr™e_back_—¾y
;

211 
tÙ®_L1_fœ¡_´eãtch
;

212 
tÙ®_L1_£c_´eãtch
;

213 
tÙ®»qcouÁnum
;

214 
tÙ®misscouÁnum
;

215 
couÁ”_t
 
loÿl_ÿche_acûss
, 
»mÙe_ÿche_acûss
, 
loÿldœeùÜy
, 
»mÙedœeùÜy
;

216 
couÁ”_t
 
švŞve_2_hİs
, 
švŞve_2_hİ_touch
, 
švŞve_2_hİ_wb
, 
švŞve_2_hİs_wm
, 
švŞve_4_hİs_wm
, 
švŞve_2_hİs_upg¿de
, 
švŞve_4_hİs
, 
švŞve_4_hİs_miss
, 
švŞve_2_hİs_miss
, 
švŞve_4_hİs_upg¿de
;

217 
couÁ”_t
 
	gtÙ®S¶™No
, 
	gtÙ®S¶™WM
;

218 
couÁ”_t
 
d©a_´iv©e_wr™e
, 
d©a_´iv©e_»ad
, 
d©a_sh¬ed_wr™e
, 
d©a_sh¬ed_»ad
;

219 
couÁ”_t
 
tÙ®_®l_şo£
, 
tÙ®_®l_®mo¡şo£
, 
tÙ®_nÙ_®l_şo£
, 
tÙ®_p_c_ev’ts
, 
tÙ®_cÚsum”s
, 
tÙ®_·ck‘s_š_ÃighbÜ
, 
tÙ®_·ck‘s_©_cÜÃrs
;

220 
couÁ”_t
 
tÙ®_d©a_cÚsum”s
, 
tÙ®_d©a_şo£
, 
tÙ®_d©a_çr
, 
tÙ®_d©a_©_cÜÃr
;

221 
couÁ”_t
 
sh¬”_num
[
MAXTHREADS
];

222 
av”age_šside_³rûÁ
;

223 
av”age_outside_³rûÁ
;

224 
av”age_outside_abs_³rûÁ
;

225 
av”age_cÜÃr_³rûÁ
;

227 
	gmem_pÜt_Ït
[8];

230 
	#PULL_BACK


	)

232 
	#WATER_NSQUARED
 0

	)

233 
	#LSQ_LATENCY
 4

	)

234 
	#DUP_NO
 2

	)

236 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

237 
	#LSQSIZE
 1024

	)

238 
	#RUUSIZE
 1024

	)

241 
	#_rÙr
(
x
è(xèğ((xè& 1)?(((x)>>1)|0x80000000):((x)>>1)

	)

243 
qu›sûSŒuù
 
	gqu›sûAddrSŒuù
[
CLUSTERS
];

244 
md_addr_t
 
	gTempIn¡r
 = 0x1A2B3C4D;

245 
	gacûss_mem
 = 0;

246 
	gacûss_mem_id
 = -1;

247 
	g¡İ³d_num_th»ads
 = 0;

248 
	gR—dFromWB
 = 0;

249 
couÁ”_t
 
	gÿcheMiss
[
MAXTHREADS
], 
	gh™InOth”Cache
[MAXTHREADS];

250 
couÁ”_t
 
	gm_sqP»ãtchCÁ
 = 0;

251 
	gexecu‹MaxIn¢
;

252 
	gdl2Aùu®lyAcûs£d
, 
	gm¬kedLšeR•Ïûd
;

253 
	gqu›n£Wakeup
[
MAXTHREADS
];

254 
	gsimIn¢
[
MAXTHREADS
];

255 
	gæushImpSts
 = 0;

258 
	gth»adFÜked
[4], 
	g®lFÜked
, 
	g¡ÜeCÚdFa
, 
	gtimeToR‘uº
 = 0;

259 
couÁ”_t
 
	gStÜeCÚd™iÚFaNum
;

260 
	gcŞËùStB¬r›r
, 
	gcŞËùStStİ
[
MAXTHREADS
];

261 
	g»®SimCyşe
;

262 
	gaùu®Proûss
;

263 
	gdi§bË_¿y
 = 1;

264 
	gfu_busy
[
CLUSTERS
], 
	gwb_dÚe
[CLUSTERS], 
	gissue_dÚe
[CLUSTERS], 
	gãtch_dÚe
[CLUSTERS], 
	gcomm™_dÚe
[CLUSTERS], 
	gdi¥©ch_dÚe
[CLUSTERS];

265 
couÁ”_t
 
	gbrRecov”y
[
CLUSTERS
], 
	gexŒaIn¢
[CLUSTERS];

267 #ià 
defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

268 
	g¡®lNoBusSlÙ
;

269 
busSlÙCouÁ
;

270 
	gbusU£d
;

271 
couÁ”_t
 
	gbusOccu·ncy
 = 0;

275 #ifdeà
PULL_BACK


276 
couÁ”_t
 
	gpuÎbackBubbË
[
MAXTHREADS
], 
	gpuÎbackWa™Cyşe
[MAXTHREADS], 
	gpuÎbackDÚeThisCyşe
[MAXTHREADS], 
	gpuÎbackH™P»d
[MAXTHREADS], 
	gdl1MissThisCyşe
[MAXTHREADS], 
	gdl1H™ThisCyşe
[MAXTHREADS], 
	gpuÎbackCyşeCouÁ
[MAXTHREADS],

277 
	gpuÎbackCouÁ
[
MAXTHREADS
];

278 
couÁ”_t
 
	g´edH™H™
[
MAXTHREADS
], 
	g´edH™Miss
[MAXTHREADS], 
	g´edMissH™
[MAXTHREADS], 
	g´edMissMiss
[MAXTHREADS];

281 #ifdeà 
MSHR


282 
	gmshr_size
 = 0;

283 
	gmshr_fuÎ
 = 0;

284 
	gmshr_couÁ
;

286 #ifdeà 
MSHR_DIST


287 
	gmshr_size_di¡
[
MSHRSIZE
];

289 
	gmshr_fuÎ_couÁ
;

291 #ifdeà
EUP_NETWORK


292 
couÁ”_t
 
	gEUP_’Œy_fuÎ
;

296 
	gm_shLQSize
;

297 
	gm_shSQSize
;

298 
couÁ”_t
 
	gm_tÙ®SÎ
[
MAXTHREADS
];

299 
couÁ”_t
 
	gm_sqLQFuÎ
[
MAXTHREADS
];

300 
couÁ”_t
 
	gm_sqSQFuÎ
[
MAXTHREADS
];

301 
couÁ”_t
 
	gm_RUUFuÎ
[
MAXTHREADS
];

302 
couÁ”_t
 
	gm_»gFuÎ
[
MAXTHREADS
];

303 
couÁ”_t
 
	gm_issueFuÎ
[
MAXTHREADS
];

304 
couÁ”_t
 
	gm_1Miss
[
MAXTHREADS
];

305 
couÁ”_t
 
	gm_ãtchEm±y
[
MAXTHREADS
];

306 
couÁ”_t
 
	gm_STLC
[
MAXTHREADS
];

307 
couÁ”_t
 
	gm_Œ­
[
MAXTHREADS
];

308 
couÁ”_t
 
	gm_LßdSÎMiss
[
MAXTHREADS
];

309 
couÁ”_t
 
	gm_StÜeSÎMiss
[
MAXTHREADS
];

310 
couÁ”_t
 
	gm_LßdSÎH™
[
MAXTHREADS
];

311 
couÁ”_t
 
	gm_StÜeSÎH™
[
MAXTHREADS
];

312 
couÁ”_t
 
	gm_LßdR—lMiss
[
MAXTHREADS
];

313 
couÁ”_t
 
	gm_StÜeR—lMiss
[
MAXTHREADS
];

314 
couÁ”_t
 
	gm_LßdR—lH™
[
MAXTHREADS
];

315 
couÁ”_t
 
	gm_StÜeR—lH™
[
MAXTHREADS
];

316 
couÁ”_t
 
	gm_LßdMiss
[
MAXTHREADS
];

317 
couÁ”_t
 
	gm_StÜeMiss
[
MAXTHREADS
];

318 
couÁ”_t
 
	gm_StÜeUpd©eMiss
[
MAXTHREADS
];

319 
couÁ”_t
 
	gm_upd©e_miss_d•’d_¡¬t
[
MAXTHREADS
];

320 
couÁ”_t
 
	gm_upd©e_miss_æag
[
MAXTHREADS
];

321 
couÁ”_t
 
	gUpd©eD•’dCyşe
;

322 
couÁ”_t
 
m_upd©e_miss
[
MAXTHREADS
];

324 
couÁ”_t
 
	gm_comm™SÎ
[
MAXTHREADS
];

326 
couÁ”_t
 
	gšv®id©iÚ_»¶ay
[
MAXTHREADS
];

327 
couÁ”_t
 
	glßdLßdR•ÏyCouÁ
[
MAXTHREADS
];

328 
	gšv®id©iÚSÎ
[
MAXTHREADS
], 
	gšv®id©eOth”Cache
;

329 
	gcomm™SÎ
[
MAXTHREADS
];

332 
checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
);

333 
couÁ”_t
 
	glßdRejeùR•Ïy
[
MAXTHREADS
], 
	glßdRejeùCouÁ
[MAXTHREADS], 
	glßdRejeùSt
[MAXTHREADS], 
	gm_sqNumLdR•Ïy
[MAXTHREADS], 
	g»¶ayIndex
[MAXTHREADS];

334 
	g»jeùR‘ryCyşe
 = 3;

335 
couÁ”_t
 
	gldIssueCouÁ
, 
	gld¡RejeùiÚCouÁ
[
MAXTHREADS
];

337 
	g£qCÚsR•Ïy
[
MAXTHREADS
], 
	g£qCÚsIn¢R•Ïy
[MAXTHREADS];

338 
couÁ”_t
 
	gtÙ®RUUsize
[
MAXTHREADS
], 
	gtÙ®LQsize
[MAXTHREADS], 
	gtÙ®SQsize
[MAXTHREADS];

339 
	gavgRUUsize
[
MAXTHREADS
], 
	gavgLQsize
[MAXTHREADS], 
	gavgSQsize
[MAXTHREADS];

341 
m_maxth»ads
;

342 
numTh»ads
[
MAXTHREADS
];

343 
	gcŞËù_¡©s
 = 0;

344 
	gCOHERENT_CACHE
;

345 
	gMSI
;

346 
	g¥ec_b’chm¬ks
;

347 
couÁ”_t
 
num_of_šv®id©iÚs
;

349 
	gcŞËù_b¬r›r_¡©s
[
CLUSTERS
];

350 
	gcŞËù_lock_¡©s
[
CLUSTERS
];

351 
	gä“zeCouÁ”
;

352 
	g¡İsim
;

353 
	gç¡fwd
;

356 
	goc_Ü_cc_acûss
 = 2;

357 #ifdef 
EDA


359 
ÿche_t
 *
	gÿche_dl0
[
THREADS_PER_JOB
];

361 
couÁ”_t
 
	g»cov”yCouÁ
[8];

362 
couÁ”_t
 
	gnumBCQEm±y
[8];

365 
couÁ”_t
 
	gš‹rv®CouÁ
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

366 
couÁ”_t
 
	gtÙ®R–CE
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

367 
couÁ”_t
 
	gnÚSktIn¢
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

368 
couÁ”_t
 
	gnumSyncIn¡
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

369 
couÁ”_t
 
	gpu»_sync_š¢
 = 0;

370 
couÁ”_t
 
	gpu»_skt_š¢
 = 0;

373 
	$dl0_ş—nup
 ()

375 
i
;

377 
i
 = 0; i < 
numcÚ‹xts
; i++)

379 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
i
];

380 
jobId
 = 
cu¼’t
->
jobThdId
;

382 ià(
cu¼’t
->
ma¡”id
 != 0)

385 ià(
cu¼’t
->
sim_num_š¢
 > 
š‹rv®CouÁ
[
jobId
])

387 
	`æushS–eùive
 (
ÿche_dl0
[
jobId
], jobId);

388 
š‹rv®CouÁ
[
jobId
] +ğ
DL0_CLEAUP_INTERVAL
;

391 
	}
}

394 
Üaşe_¡Üe_queue
 
	gOSQ
[8][
OSQ_size
];

395 
	gOSQ_num
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

396 
	gOSQ_h—d
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

399 
	$fšdOSQ
 (
md_addr_t
 
addr
, 
width
, 
id
)

401 
i
, 
j
;

403 
i
 = (
OSQ_h—d
[
id
] + 
OSQ_size
 - 1è% OSQ_size, 
j
 = 
OSQ_num
[id]; j > 0; j--, i = (i + OSQ_size - 1) % OSQ_size)

405 
bigWidth
 = 
OSQ
[
id
][
i
].
memWidth
 > 
width
 ? OSQ[id][i].memWidth : width;

406 
md_addr_t
 
lAddr
 = 
addr
 & ~(
bigWidth
 - 1);

407 
md_addr_t
 
osqAddr
 = 
OSQ
[
id
][
i
].
memAddr
 & ~(
bigWidth
 - 1);

409 ià(
osqAddr
 =ğ
lAddr
)

410  
i
;

413 
	}
}

415 #ifdeà 
DECOUPLED_PREFETCH


416 
md_addr_t
 
	g´efQueue
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

417 
md_addr_t
 
	g´efQueue_pc
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

418 
couÁ”_t
 
	g´efQueue_š¡Num
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

419 
	g´efQueue_isWrÚgP©h
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

420 
	g´efQueue_h—d
[
MAXTHREADS
] = 0;

421 
	g´efQueue_
[
MAXTHREADS
] = 0;

422 
	g´efQueue_size
[
MAXTHREADS
] = 0;

423 
	gmemMissC­
 = 0;

424 
couÁ”_t
 
	gtÙ®P»fMissL©’cy
 = 0;

425 
	g´efMissCouÁ
 = 0;

426 
couÁ”_t
 
	gdeıP»fSÎCouÁ
 = 0;

427 
md_addr_t
 
	gÏ¡P»fAddr
 = 0;

433 
	gBRANCH_Q_NUM
;

434 
	gCHECKER_NUMBER
 = 0;

435 
	gPCB_BLK_SIZE
 = 128;

436 
	gINORDER_CHECKER
 = 0;

437 
	gOUTSTANDING_STORE_NUM
 = 128;

438 
	gcheck”VDD
, 
	gcheck”F»q
;

441 
g‘_ä“_»g
 (, );

442 
comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
);

443 
com¶‘eWr™e
 ();

444 
š™P¬®ËlSimuÏtiÚ
 ();

445 
com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
);

446 
com¶‘eStÜe_l
 (
th»adid
, 
md_addr_t
 
addr
, 
width
);

448 
md_çuÉ_ty³
 
WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
);

451 
£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
);

452 
fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
);

456 
li¡–t
 *
	giä“li¡_h—d
[
MAXTHREADS
], *
	giä“li¡_
[MAXTHREADS];

457 
li¡–t
 *
	gfä“li¡_h—d
[
MAXTHREADS
], *
	gfä“li¡_
[MAXTHREADS];

473 
	ghÙ¥Ù_cyşe_§m¶šg_štvl
;

476 
	gmax_š¡s
;

477 
	gmax_b¬r›r
;

480 
	g±¿û_ÃÉ
 = 0;

481 *
	g±¿û_İts
[2];

484 
	gruu_ifq_size
;

487 
	gruu_b¿nch_³ÇÉy
;

490 
	gãtch_¥“d
;

494 *
	g´ed_ty³
;

500 *
	g´ed_ty³2
;

504 cÚ¡ 
	gcombšed2
 = 
FALSE
;

508 cÚ¡ 
	ghi¡_imm
 = 
FALSE
;

516 
	gbimod_ÃÉ
 = 1;

517 
	gbimod_cÚfig
[1] = { 2048 };

520 
	gtwŞev_ÃÉ
 = 4;

521 
	gtwŞev_cÚfig
[4] = { 1, 1024, 8, 
FALSE
 };

524 
	gcomb_ÃÉ
 = 1;

525 
	gcomb_cÚfig
[1] = { 1024 };

528 
	gtwobcgskew_ÃÉ
 = 6;

529 
	gtwobcgskew_cÚfig
[6] = { 32768, 32768, 0, 22,

536 
	gtwobcgskew_ÃÉ2
 = 6;

537 
	gtwobcgskew_cÚfig2
[6] = { 4096, 4096, 0, 12,

543 
	g¿s_size
 = 8;

546 
	gbtb_ÃÉ
 = 2;

547 
	gbtb_cÚfig
[2] = { 512, 4 };

550 
	gruu_decode_width
;

551 
	gruu_issue_width
;

555 
	gruu_šÜd”_issue
;

556 
	gLSQ_NUM_MORE_THAN_TWO
;

559 
	gruu_šşude_¥ec
 = 
TRUE
;

562 
	gruu_comm™_width
;

565 
	gRUU_size
 = 
RUUSIZE
;

568 
	gLSQ_size
 = 
LSQSIZE
;

570 
	gLSQ_size_şu¡”
;

572 #ifdef 
EDA


574 *
	gÿche_dl0_İt
;

577 
	gÿche_dl0_Ït
;

581 *
	gÿche_dl1_İt
;

584 
	gÿche_dl1_Ït
;

587 *
	gÿche_dl2_İt
;

590 
	gÿche_dl2_Ït
;

592 
	gmesh_size
;

594 *
	gÿche_1_İt
;

597 
	gÿche_1_Ït
;

600 *
	gÿche_2_İt
;

603 
	gÿche_2_Ït
;

606 
	gæush_Ú_sysÿÎs
;

609 
	gcom´ess_iÿche_addrs
;

612 
	gmem_ÃÉ
 = 2;

613 
	gmem_Ït
[2] = { 18, 2 };

616 
	gmem_bus_width
;

617 
	gmem_bus_¥“d
;

618 
	gmem_pÜt_num
;

621 *
	g™lb_İt
;

624 *
	gdb_İt
;

627 
	gb_miss_Ït
;

630 
	gÃtwÜk_»ûiv”
;

631 
	gÃtwÜk_cÚæiù
;

634 
	g»s_Ÿlu
 = 0;

637 
	g»s_imuÉ
 = 0;

639 #ifdeà
PORT_PER_BANK


641 
	g»s_membªk
 = 0;

644 
	g»s_mem_pÜt_bªk
 = 0;

646 
	g»s_membªk_şu¡”
;

651 
	g»s_mempÜt
 = 0;

654 
	g»s_å®u
 = 0;

657 
	g»s_åmuÉ
 = 0;

660 
	g»s_Ÿlu_şu¡”
 = 0;

661 
	g»s_imuÉ_şu¡”
 = 0;

662 
	g»s_å®u_şu¡”
 = 0;

663 
	g»s_åmuÉ_şu¡”
 = 0;

666 
	gd©a_width
 = 64;

669 
pow”_»suÉ_ty³
 
pow”
;

673 
	gaùivecÚ‹xts
;

675 
	gth»ad_ãtch
 = 
THREADFETCHLIMIT
;

676 
	gš¡_th»ad_ãtch
 = 
FETCHLIMIT
;

677 
	gth»ad_comm™
 = 0;

679 
	#ICACHEBANKS
 8

	)

681 
	gibªk
 = 0;

684 
	g´iÜ™y¦Ù
 = 0;

685 
	g´iÜ™y
[
MAXTHREADS
];

688 
	gkey
[
MAXTHREADS
];

691 #ifdeà 
PWR_CLUSTER


692 
couÁ”_t
 
	giq¿m_acûss_ş
[
CLUSTERS
];

693 
couÁ”_t
 
	gfq¿m_acûss_ş
[
CLUSTERS
];

694 
couÁ”_t
 
	giwakeup_acûss_ş
[
CLUSTERS
];

695 
couÁ”_t
 
	gfwakeup_acûss_ş
[
CLUSTERS
];

696 
couÁ”_t
 
	gi£ËùiÚ_acûss_ş
[
CLUSTERS
];

697 
couÁ”_t
 
	gf£ËùiÚ_acûss_ş
[
CLUSTERS
];

698 
couÁ”_t
 
	gœegfe_acûss_ş
[
CLUSTERS
];

699 
couÁ”_t
 
	gäegfe_acûss_ş
[
CLUSTERS
];

700 
couÁ”_t
 
	gŸlu1_acûss_ş
[
CLUSTERS
];

701 
couÁ”_t
 
	gŸlu2_acûss_ş
[
CLUSTERS
];

702 
couÁ”_t
 
	gçlu1_acûss_ş
[
CLUSTERS
];

703 
couÁ”_t
 
	gçlu2_acûss_ş
[
CLUSTERS
];

704 
couÁ”_t
 
	gœesuÉbus_acûss_ş
[
CLUSTERS
];

705 
couÁ”_t
 
	gäesuÉbus_acûss_ş
[
CLUSTERS
];

708 
couÁ”_t
 
	glsq_¡Üe_d©a_acûss
 = 0;

710 #ifdeà
DE_CENTRALIZED_POWER_BUG


711 
couÁ”_t
 
	glsq_´eg_acûss_ş
[
LSQ_PARTS
];

712 
couÁ”_t
 
	glsq_wakeup_acûss_ş
[
LSQ_PARTS
];

713 
couÁ”_t
 
	glsq_acûss_ş
[
LSQ_PARTS
];

714 
	gexŒa_lsq
 = 0;

715 
	gexŒa_lsq_couÁ
 = 0;

716 
	gdi¥_¡Üe_¡®l
 = 0;

718 
couÁ”_t
 
	glsq_acûss
 = 0;

719 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

720 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

723 #ifdeà
RES1_FULL_MASK


724 
	giq_ş_fuÎ_mask
;

725 
	gfq_ş_fuÎ_mask
;

726 
	gœeg_ş_fuÎ_mask
;

727 
	gäeg_ş_fuÎ_mask
;

728 
	g»s1_ş_thrd_mask
[
MAXTHREADS
];

731 
couÁ”_t
 
	glsq_tÙ®_pİ_couÁ_cyşe
 = 0;

732 
couÁ”_t
 
	glsq_num_pİ_couÁ_cyşe
 = 0;

733 
couÁ”_t
 
	gœegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

734 
couÁ”_t
 
	gœegfe_num_pİ_couÁ_cyşe
 = 0;

735 
couÁ”_t
 
	gäegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

736 
couÁ”_t
 
	gäegfe_num_pİ_couÁ_cyşe
 = 0;

737 
couÁ”_t
 
	gœesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

738 
couÁ”_t
 
	gœesuÉbus_num_pİ_couÁ_cyşe
 = 0;

739 
couÁ”_t
 
	gäesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

740 
couÁ”_t
 
	gäesuÉbus_num_pİ_couÁ_cyşe
 = 0;

742 #ifdeà
PROCESS_MODEL


743 
	gLa¡Sh¬edAdd»ss
;

744 
	gLa¡Sh¬edSize
;

749 
	#MAX_PCSTAT_VARS
 8

	)

750 
	gpc¡©_ÃÉ
 = 0;

751 *
	gpc¡©_v¬s
[
MAX_PCSTAT_VARS
];

754 #ifdeà
TARGET_PISA


755 
	#IACOMPRESS
(
A
è\

	)

756 (
	gcom´ess_iÿche_addrs
 ? ((((
	gA
è- 
	gcu¼’t
->
	gld_‹xt_ba£
è>> 1è+ cu¼’t->ld_‹xt_ba£è: (
A
))

757 
	#ISCOMPRESS
(
SZ
è\

	)

758 (
com´ess_iÿche_addrs
 ? ((
SZ
) >> 1) : (SZ))

760 
	#IACOMPRESS
(
A
è(A)

	)

761 
	#ISCOMPRESS
(
SZ
è(SZ)

	)

764 
bugcom·t_mode
;

771 
	#FU_IALU_INDEX
 0

	)

772 
	#FU_IMULT_INDEX
 1

	)

773 
	#FU_MEMPORT_INDEX
 2

	)

774 
	#FU_FPALU_INDEX
 3

	)

775 
	#FU_FPMULT_INDEX
 4

	)

778 
»s_desc
 
	gfu_cÚfig
[] = {

786 {
IÁALU
, 1, 1}

796 #ià
defšed
(
MULT_DOES_ADD
)

797 {
IÁALU
, 1, 1},

799 {
IÁMULT
, 3, 1},

800 {
IÁDIV
, 20, 19}

810 {
RdPÜt
, 2, 1},

811 {
WrPÜt
, 2, 1}

821 {
FlßtADD
, 2, 1},

822 {
FlßtCMP
, 2, 1},

823 {
FlßtCVT
, 2, 1}

833 {
FlßtMULT
, 4, 1},

834 {
FlßtDIV
, 12, 12},

835 {
FlßtSQRT
, 24, 24}

843 
	#PRED_BR_CHANGES
 0

	)

844 
	#PRED_JR_CHANGES
 0

	)

845 
	#DYNAMIC_CHANGE
 0

	)

846 
	#METRIC_CHANGE
 0

	)

847 
	#LINEAR_PHASE
 0

	)

849 #ifdeà
ALLOW_ANY_CLUSTER


850 
	#SMALLEST_CONFIG
 
CLUSTERS


	)

852 
	#SMALLEST_CONFIG
 4

	)

854 
	gaùu®_şu¡”s
 = 
CLUSTERS
;

859 #ifdeà
PORT_PER_BANK


860 
	gCACHEPORTS
;

861 
	gRES_CACHEPORTS
;

862 
RES_CACHE_PORTS
;

863 
	gaùu®_ÿch•Üts
;

865 
	gaùu®_ÿch•Üts
;

868 #ifdeà 
CENTRALIZED_STEER


869 
	gdi¥©ch_şu¡”
 = 0;

871 #ifdeà
DISPATCH_CLUSTER


872 
	gdi¥©ch_ş
[
CLUSTERS
];

877 #ifdeà
N_WAY_STEER


878 #iâdeà
FIXED_N_WAY


880 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

884 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

886 
	g¡“r_şu¡”_thrd
[
MAXTHREADS
][
CLUSTERS
];

887 
	gabs_¡“r
 = 0;

888 
¡“r_š™
 ();

890 #ifdeà 
CLUSTER_PRIORITY


891 
	g´iÜ™y_ş_thrd
[
MAXTHREADS
][
CLUSTERS
];

893 #ifdeà 
THRD_PROFILE


894 #ifdeà
mix_8_f


895 
	gn_lim™_thrd
[] = { 8, 8, 8, 8, 8, 4, 2, 2 };

897 #ifdeà
mix_8_i


898 
	gn_lim™_thrd
[] = { 8, 8, 8, 2, 4, 2, 2, 4 };

900 #ifdeà
mix_8_if


901 
	gn_lim™_thrd
[] = { 2, 2, 2, 4, 8, 8, 8, 8 };

903 #ifdeà
mix_8_m


904 
	gn_lim™_thrd
[] = { 2, 2, 2, 2, 8, 8, 8, 8 };

906 #ifdeà
mix_4_i


907 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

909 #ifdeà
mix_4_f


910 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

912 #ifdeà
mix1_4_m


913 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

915 #ifdeà
mix2_4_m


916 
	gn_lim™_thrd
[] = { 2, 2, 8, 8 };

919 
	gn_lim™_thrd
[
MAXTHREADS
];

921 #ifdeà 
CMC_START_N_WAY


922 
	gn_¡¬t_cmc
[
MAXTHREADS
];

923 
	gn_¡¬t_thrd_cmc
[
MAXTHREADS
];

925 
	gn_¡¬t_thrd
[
MAXTHREADS
];

926 
	gÃighbÜ_lim™_thrd
[
MAXTHREADS
];

928 #ifdeà 
N_WAY_ADAPT


929 
	gcŞd_¡¬t
 = 1;

930 
	gc_Şd
[
MAXTHREADS
];

931 
	gn_lim™_thrd_Şd
[
MAXTHREADS
];

932 
	gsim_num_š¢_Şd
[
MAXTHREADS
];

933 
upd©e_n_lim™
 ();

935 #ifdeà
THRD_PRIO_ADAPT


936 
´iÜ™y_n_way
 ();

938 #ifdeà
ADAPT_LIMIT


939 
	gad­t_lim™_thrd
[
MAXTHREADS
];

942 #ifdeà
PDG_THRD_ADAPT


943 
pdg_thrd_n_way
 ();

945 #ifdeà
PDG_THRD_PRIO_ADAPT


946 
pdg_´iÜ™y_n_way
 ();

948 #ifdeà
COMM_OPER_LIMIT


949 #ifdeà
AVG_LIMIT


950 
	gavg_high_lim™
 = 
CLUSTERS
;

951 
	gavg_high_lim™_couÁ
 = 0;

953 
	ghigh_lim™_thrd
[
MAXTHREADS
];

954 
	ghigh_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

955 
	ghigh_lim™_di¡
[
CLUSTERS
 + 1];

958 #ifdeà
PDG_ADAPT


959 
pdg_n_way
 ();

961 
	gn_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

962 
	gn_lim™_di¡
[
CLUSTERS
 + 1];

965 #ifdeà 
CLUSTER_PRIORITY


967 
	g´iÜ™y_ş
[
CLUSTERS
];

970 #ifdeà 
PRIORITY_STEER


972 
	g´iÜ™y_ş
[
CLUSTERS
];

974 #ifdeà 
COMMUNICATION_STEER


975 #ifdeà
OPER_COMM_RATIO


976 
	gş_thrd
[
MAXTHREADS
][
CLUSTERS
];

977 
	gş_num
[
MAXTHREADS
];

981 #ifdeà 
THRD_WAY_CACHE


982 
	gn_ÿche_¡¬t_thrd
[
MAXTHREADS
];

983 
	gn_ÿche_lim™_thrd
[
MAXTHREADS
];

985 #ifdeà
N_WAY_CACHE_ADAPT


986 #ifdeà
PER_THREAD


987 
	gov”®l_n_ÿche_lim™
;

988 
	g¡¬t_up
;

989 
	gÿche_dl1_mis£s_Şd
[
MAXTHREADS
];

990 
	gÿche_dl1_h™s_Şd
[
MAXTHREADS
];

991 
	gÿche_dl1_miss_¿‹_Şd
[
MAXTHREADS
];

992 
	gn_ÿche_lim™_Şd
[
MAXTHREADS
];

993 
	gn_ÿche_lim™_di¡
[
MAXTHREADS
][32];

994 
	gn_ÿche_lim™_couÁ
;

996 #ifdeà 
MEM_REF_PER


997 
	gÿche_miss_¡abË_thrd
[
MAXTHREADS
];

1000 
	gov”®l_n_ÿche_lim™
;

1001 
	g¡¬t_up
 = 1;

1002 
	gÿche_dl1_mis£s_Şd
;

1003 
	gÿche_dl1_h™s_Şd
;

1004 
	gÿche_dl1_miss_¿‹_Şd
;

1005 
	gn_ÿche_lim™_Şd
;

1006 
	gn_ÿche_lim™_di¡
[32];

1007 
	gn_ÿche_lim™_couÁ
;

1009 #ifdeà 
MEM_REF


1010 
	gÿche_miss_¡abË
;

1016 #ifdeà 
MEM_REF_STAT


1017 
	gmem_»f_thrd
[
MAXTHREADS
];

1018 
	gmem_»f
;

1021 #ifdeà
CMP_STEER


1022 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1025 #ifdeà
N_WAY_STEER


1026 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1029 
	gabs_»s_¡“r
 = 0;

1030 
	gnum_¡“r
 = 0;

1032 
	gšt_di¡±h»sh
 = (è(
MIN_INSN_INT
 / 6);

1033 
	gdi¡±abË
[
ITABLESIZE
];

1034 
g_id_t
 
	gdi¡±abËgid
[
ITABLESIZE
];

1035 
	gdi¡pcouÁ”
[
ITABLESIZE
];

1036 
	gdi¡p§m¶es
[
ITABLESIZE
];

1037 
	gdi¡pcouÁ
 = 0;

1038 
	gšt_di¡p
 = 0;

1040 
	gsk³d_br
 = 0;

1041 
	gdi¡p
 = 0;

1042 
	gdi¡p_v®id
 = 0;

1044 
	gš¢16
 = 0;

1045 
	gš¢4
 = 0;

1047 
	gš¢_š‹rv®
 = 
MIN_INSN_INT
;

1048 
	gh_»gs
[
NUM_H_REGS
];

1050 
	gnum_£Á
 = 0;

1051 
	gnum_Œs
 = 1;

1052 
	gÏ¡şu¡”
 = 0;

1053 
	gš¡£qnum
 = 0;

1055 
	g¹h»sh
;

1056 
	gb¹h»sh
;

1057 
	gm¡h»sh
;

1058 
	gim¡h»sh
;

1059 
	gcyùh»sh
;

1060 
	gºoi£
;

1061 
	gbºoi£
;

1062 
	gm¢oi£
;

1063 
	gim¢oi£
;

1065 
	g»gd–ay
 = 0;

1066 
	g»gŒªs
 = 0;

1067 
	gtÙ®Ït
 = 0;

1068 
	gtÙlds
 = 0;

1070 
	gæushes
 = 0;

1071 
	gnum_æushes
 = 0;

1072 
	gä“_şu¡”
 = 0;

1085 
	#CYCNOISE
 10

	)

1086 
	#NUMCYCTHRESH
 5

	)

1088 
	#STATINT
 
MIN_INSN_INT


	)

1090 
	gIIQ_size
 = 
IQSIZE
;

1091 
	gFIQ_size
 = 
FQSIZE
;

1092 
	gIPREG_size
 = 
IPREGSIZE
;

1093 
	gFPREG_size
 = 
FPREGSIZE
;

1095 
	gIIQ_size_şu¡”
;

1096 
	gFIQ_size_şu¡”
;

1097 
	gIPREG_size_şu¡”
;

1098 
	gFPREG_size_şu¡”
;

1101 #ifdeà
RAW


1102 
	g¿wq_size
 = 
RAWSIZE
;

1104 #ifdeà 
COMM_BUFF


1105 
	gtimewšdow
 = 
TIMEWINDOW
;

1108 
	gnÚ_ü™
 = 0;

1109 
	gü™
 = 0;

1110 
	gb2_cÜr
 = 0;

1111 
	gb2_šcÜr
 = 0;

1112 
	gb2_miss
 = 0;

1113 
	gb_cÜr
 = 0;

1114 
	gb_šcÜr
 = 0;

1115 
	gb_miss
 = 0;

1116 
	gbË_gs
[
MAXTHREADS
][
TABLESIZE
];

1117 
	gbË_num
[
MAXTHREADS
][
TABLESIZE
];

1118 
	gbË2_gs
[
MAXTHREADS
][
TABLE2SIZE
];

1119 
	gbË2_num
[
MAXTHREADS
][
TABLE2SIZE
];

1122 
	#DEV_PERIOD
 10

	)

1124 
	#DEDICATED_ADDER
 0

	)

1126 
	#DED_ADDER_LAT_DIFF
 0

	)

1128 
	gadd_®u
 = 0;

1129 
	gnÚadd_®u
 = 0;

1131 
	#PERFECT
 0

	)

1132 
	#PERFECTLAT
 1

	)

1133 
	gnÙw¬m
 = 1;

1134 
	gcyşecheck
;

1138 #ifdeà
RAW


1139 
	g¿wq
;

1140 
	g¿wq_ş
[
CLUSTERS
];

1141 
	g¿wq»ady
 = 0;

1142 
	g¿wq»ady_ş
[
CLUSTERS
];

1143 
	g¿wq_fuÎ
 = 0;

1144 
	g¿wq_¡®l
 = 0;

1146 
	giissueq
;

1147 
	gfissueq
;

1149 #ifdeà
PWR_WAKE


1150 
	gœ—dy
 = 0;

1151 
	gä—dy
 = 0;

1152 
	glsq»ady
 = 0;

1153 
	giuÄ—dy
 = 0;

1154 
	gfuÄ—dy
 = 0;

1155 
	glsquÄ—dy
 = 0;

1156 
	gIREADY_couÁ
 = 0;

1157 
	gFREADY_couÁ
 = 0;

1158 
	gLSQREADY_couÁ
 = 0;

1159 
	gœ—dy_ş
[
CLUSTERS
];

1160 
	gä—dy_ş
[
CLUSTERS
];

1161 
	glsq»ady_ş
[
CLUSTERS
];

1162 
	giuÄ—dy_ş
[
CLUSTERS
];

1163 
	gfuÄ—dy_ş
[
CLUSTERS
];

1166 #ifdeà 
SPLIT_LSQ


1167 
	glsq_ş
[
LSQ_PARTS
];

1168 
	glsquÄ—dy_ş
[
CLUSTERS
];

1173 #ifdeà 
PARTITIONED_LSQ


1174 
	glsq_·¹_bªk
;

1175 
	glsq_·¹_ş
 = 
CLUSTERS
 / 
LSQ_PARTS
;

1176 
	glsq_·¹_thrd
;

1179 
	gœegfe
;

1180 
	gäegfe
;

1181 
	gœegfe_ş
[
CLUSTERS
];

1182 
	g›xŒa_ş
[
CLUSTERS
];

1183 
	gäegfe_ş
[
CLUSTERS
];

1184 
	gãxŒa_ş
[
CLUSTERS
];

1185 
	giissueq_ş
[
CLUSTERS
];

1186 
	gfissueq_ş
[
CLUSTERS
];

1187 
	gnum_¡Üeq
[
CLUSTERS
];

1188 
	gmax_¡Üeq
[
CLUSTERS
];

1189 
	gdi¥_d–ay
 = 0;

1191 
	gšchk
 = 0;

1192 
	gšchk2
 = 0;

1193 
	gšchk3
 = 0;

1194 
couÁ”_t
 
	gšpchk
 = 0;

1195 
	gcycchk
 = 0;

1196 
	gcycchk2
 = 0;

1197 
	gcycchk3
 = 0;

1198 
	gbrchk
 = 0;

1199 
	g»fchk
 = 0;

1200 
	gš¢chk±
 = 0;

1201 
	gcyşechk±
 = 0;

1202 
	gbrchk±
 = 0;

1203 
	g»fchk±
 = 0;

1204 
	gimischk±
 = 0;

1205 
	gmischk±
 = 0;

1206 
	gd–chk±
 = 0;

1207 
	gÜigš®_bsize
 = 0;

1208 
	gÿche_dl1_£t_shiá
 = 0;

1209 
	gpha£
 = 
SMALLEST_CONFIG
;

1210 
	gcyşe_couÁ
[
NUMPHASES
 + 1];

1211 
	g¡abË_couÁ
 = 0;

1212 
	g¡İ_ex¶
 = 0;

1214 
	g›xŒa
;

1215 
	gãxŒa
;

1216 
	giv®id
;

1217 
	gfv®id
;

1219 
	gtÙ_œeg
 = 0;

1220 
	gtÙ_äeg
 = 0;

1221 
	gtÙ_›xt
 = 0;

1222 
	gtÙ_ãxt
 = 0;

1223 
	gtÙ_šÚdup
 = 0;

1224 
	gtÙ_âÚdup
 = 0;

1226 
	gcomm_d–ay
 = 0;

1227 
	gnum_sšgË
 = 0;

1228 
	giss_¡®l
 = 0;

1229 
	gã_¡®l
 = 0;

1230 
	gn_»ady
 = 0;

1231 
	gnum_£mi_f
 = 0;

1232 
	gnum_qw¡®l
 = 0;

1233 
	gš_this
 = 0;

1234 
	gnum_ä“d
 = 0;

1235 
	gtÙ_d–
 = 0;

1236 
	gtÙ_d–_bw
 = 0;

1237 
	gnum_bw_of
 = 0;

1238 
	g¼obš
 = 0;

1240 
	gmš_addr
 = 5600000000ULL;

1241 
	gmax_addr
 = 0;

1243 
	g¡ddev
 = 0;

1244 
	gbª0
 = 0;

1245 
	gbª1
 = 0;

1246 
	gbª2
 = 0;

1247 
	gbª3
 = 0;

1248 
	gbš_acc_tÙ
 = 0;

1249 
	gbš_mis_tÙ
 = 0;

1250 
	gbš_acc
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1251 
	gbš_lds
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1252 
	gbš_tŞ
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1253 
	gbš_mis
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1264 
	gaddr0
, 
	gaddr1
, 
	gaddr2
;

1266 
	#HIST
 4

	)

1267 
	gnum_issued
 = 0;

1268 
	giss_¿‹
[
HIST
];

1269 
	gissue_¿‹
 = 0;

1270 
	gtŞ
[4][3];

1271 
	gtŞ0
 = 0;

1272 
	gtŞ1
 = 0;

1273 
	gtŞ2
 = 0;

1274 
	gtÙ_tŞ
 = 0;

1275 
	gtÙ_tŞ0
 = 0;

1276 
	gtÙ_tŞ1
 = 0;

1277 
	gtÙ_tŞ2
 = 0;

1278 
	gtÙ_tŞ3
 = 0;

1279 
	gbªk_cÚf
 = 0;

1280 
	g¡_bªk_cÚf
 = 0;

1282 #ifdeà
PORT_PER_BANK


1283 
	gmiss_num
[
MAXCACHEPORTS
];

1284 
	g»f_num
[
MAXCACHEPORTS
];

1286 
	gmiss_num
[
CACHEPORTS
];

1287 
	g»f_num
[
CACHEPORTS
];

1289 
	g»f_N
;

1291 
	gdi¥_time
[
MD_TOTAL_REGS
];

1292 
	gliãtime1
 = 0;

1293 
	gliãtime2
 = 0;

1294 
	gwa™time1
 = 0;

1295 
	gwa™time2
 = 0;

1296 
	gcÚswa™time1
 = 0;

1297 
	gcÚswa™time2
 = 0;

1298 
	gnum1
 = 0;

1299 
	gnum2
 = 0;

1300 
	gnum11
 = 0;

1301 
	gnum22
 = 0;

1302 
	ghi¡o
[122];

1304 
	gdi¥_¡®ls
 = 0;

1305 
	gÿu£1
 = 0;

1306 
	gÿu£2
 = 0;

1307 
	gÿu£3
 = 0;

1308 
	gÿu£4
 = 0;

1309 
	gÿu£5
 = 0;

1312 
	gIISSUEQ_couÁ
 = 0;

1313 
	gIISSUEQ_fcouÁ
 = 0;

1314 
	gFISSUEQ_couÁ
 = 0;

1315 
	gFISSUEQ_fcouÁ
 = 0;

1316 
	gIPREG_couÁ
 = 0;

1317 
	gIexŒa_couÁ
 = 0;

1318 
	gIPREG_fcouÁ
 = 0;

1319 
	gFPREG_couÁ
 = 0;

1320 
	gFexŒa_couÁ
 = 0;

1321 
	gFPREG_fcouÁ
 = 0;

1323 
	gœegfe_ş_couÁ
[
CLUSTERS
];

1324 
	g›xŒa_ş_couÁ
[
CLUSTERS
];

1325 
	gäegfe_ş_couÁ
[
CLUSTERS
];

1326 
	gãxŒa_ş_couÁ
[
CLUSTERS
];

1327 
	giissueq_ş_couÁ
[
CLUSTERS
];

1328 
	gfissueq_ş_couÁ
[
CLUSTERS
];

1330 #ifdeà 
SPLIT_LSQ


1331 
	glsq_ş_couÁ
[
LSQ_PARTS
];

1334 
	gno_di¥_şu¡”
 = 0;

1335 
	gdi¥_di¡
[
TOTALFETCHLIMIT
 + 1];

1337 #ifdeà
RAW


1338 
	g¿wq_couÁ
 = 0;

1339 
	g¿wq_fcouÁ
 = 0;

1340 
	g¿wq_ş_couÁ
[
CLUSTERS
];

1341 
	g¿wq_di¡
[
RAWSIZE
 / 
CLUSTERS
];

1344 
	#P_TOTAL_REGS
 
IPREGSIZE
+
FPREGSIZE
+1

	)

1351 
	gp_tÙ®_»gs
 = 
P_TOTAL_REGS
;

1353 #ifdeà
RABMAP


1354 
	gš¡_u£_exŒa
[
P_TOTAL_REGS
];

1355 
	gÉİm­_exŒa
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1356 
	gÉİm­_´eg
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1359 
	gshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1360 
	g¥ecshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1361 
	gshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1362 
	g¥ecshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1363 
	gshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1364 
	g¥ecshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1365 
	gshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1366 
	g¥ecshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1367 
	gshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1368 
	g¥ecshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1369 
	gËv2´ed1
[
LEV2SIZE
];

1370 
	gËv2´ed2
[
LEV2SIZE
];

1371 
	gËv2´ed3
[
LEV2SIZE
];

1372 
	gËv2´ed4
[
LEV2SIZE
];

1373 
	gËv2´ed5
[
LEV2SIZE
];

1375 
	gbªk_´ed_cÜr
 = 0;

1376 
	gbªk_´ed_wrÚg
 = 0;

1377 
	gac_bªk_´ed_cÜr
 = 0;

1378 
	gac_bªk_´ed_wrÚg
 = 0;

1380 #ifdeà
CACHE_MISS_STAT


1381 
	g¥ec_rdb_miss
 = 0;

1382 
	g¥ec_wrb_miss
 = 0;

1383 
	gcouÁ_”rÜ
 = 0;

1387 
pow”_·¿m‘”_cİy
 ();

1389 
bš_š™
 ();

1390 
ÿche_š™
 ();

1391 
p_š™
 ();

1392 
bªk´ed_š™
 ();

1393 
»g_š™
 ();

1394 
ÿche_chªge_cÚfig
 ();

1395 
ršg_ä“
 ();

1396 
ÿche_upd©e
 ();

1397 
compu‹_queue
 ();

1398 
»g_couÁ
 ();

1399 
b´ed_š™
 ();

1402 
sim¶e_ÿche_æush
 (
ÿche_t
 *);

1403 
şu¡”_check
 (
md_addr_t
);

1404 
bªk_upd©e
 (
md_addr_t
, , );

1405 
¡_ršg_Ït
 (
RUU_¡©iÚ
 *);

1406 
ršg_Ït
 (, , , );

1407 
cİy_äom
 ();

1408 
ä“li¡_š£¹
 (, );

1409 
check_RUU_LSQ_m©ch
 ();

1410 
check_»g
 ();

1411 
pow”_ş—r
 ();

1412 
sim_cyc
 ();

1413 
ÿlcuÏ‹_´iÜ™y
 ();

1414 
š£¹_flq
 (, 
md_addr_t
);

1416 #ifdeà
CYCLE_JUMP


1417 
cyşe_jump
 ();

1418 
ršg_ä“_jump
 ();

1420 
g’”®_¡©
 ();

1422 #ifdeà
EVENT_CACHE_UPDATE


1423 
mshr_š™
 ();

1431 
couÁ”_t
 
	gsim_tÙ®_š¢
 = 0;

1434 
couÁ”_t
 
	gsim_num_»fs
 = 0;

1437 
couÁ”_t
 
	gsim_tÙ®_»fs
 = 0;

1440 
couÁ”_t
 
	gsim_num_lßds
 = 0;

1443 
couÁ”_t
 
	gsim_tÙ®_lßds
 = 0;

1446 
couÁ”_t
 
	gsim_num_b¿nches
 = 0;

1449 
couÁ”_t
 
	gsim_tÙ®_b¿nches
 = 0;

1451 #ifdeà
TG


1452 
couÁ”_t
 
	gtg_¿‹
;

1453 
couÁ”_t
 
	gtÙ®_·ck‘s_g’”©iÚ
;

1454 
couÁ”_t
 
	gtÙ®_»ad_·ck‘s_g’”©iÚ
;

1455 
couÁ”_t
 
	gtÙ®_wr™e_·ck‘s_g’”©iÚ
;

1458 
couÁ”_t
 
	gsim_cyşe
 = 0;

1459 
couÁ”_t
 
	gglob®_d©a_·ck‘s_g’”©iÚ
 = 0;

1460 
couÁ”_t
 
	gTÙ®M‘aPack‘sInAÎ
 = 0;

1461 
couÁ”_t
 
	gTÙ®D©aPack‘sInAÎ
 = 0;

1462 
couÁ”_t
 
	gTÙ®SyncD©aPack‘s
 = 0;

1463 
couÁ”_t
 
	gTÙ®SyncM‘aPack‘s
 = 0;

1464 
couÁ”_t
 
	gM‘aPack‘s_1
;

1465 
couÁ”_t
 
	gD©aPack‘s_1
;

1466 
couÁ”_t
 
	gw¬mupEndCyşe
 = 0;

1467 
couÁ”_t
 
	gd©a_·ck‘s_sync
 = 0;

1468 
couÁ”_t
 
	gm‘a_·ck‘s_sync
 = 0;

1469 
couÁ”_t
 
	gd©a_·ck‘s_£ndšg
[100][100];

1470 
couÁ”_t
 
	gm‘a_·ck‘s_£ndšg
[100][100];

1471 
couÁ”_t
 
	glšk_£r_Ït
[100][100];

1472 
couÁ”_t
 
	gm‘a_ev’_»q_şo£
[36];

1473 
couÁ”_t
 
	gm‘a_odd_»q_şo£
[36];

1474 
couÁ”_t
 
	gİtiÿl_d©a_·ck‘s
 = 0;

1475 
couÁ”_t
 
	gİtiÿl_m‘a_·ck‘s
 = 0;

1476 
couÁ”_t
 
	gmesh_d©a_·ck‘s
 = 0;

1477 
couÁ”_t
 
	gmesh_m‘a_·ck‘s
 = 0;

1479 
couÁ”_t
 
	g·¿Î–_sim_cyşe
 = 1;

1480 
	gdi¥2
, 
	gdi¥1
;

1483 
couÁ”_t
 
	gIFQ_couÁ
;

1484 
couÁ”_t
 
	gIFQ_fcouÁ
;

1485 
couÁ”_t
 
	gRUU_couÁ
;

1486 
couÁ”_t
 
	gRUU_fcouÁ
;

1487 
couÁ”_t
 
	gLSQ_couÁ
;

1488 
couÁ”_t
 
	gLSQ_fcouÁ
;

1490 
couÁ”_t
 
	gpæ2H™
 = 0;

1491 
couÁ”_t
 
	gpæ2SecMiss
 = 0;

1492 
couÁ”_t
 
	gpæ2PrimMiss
 = 0;

1494 #ifdeà 
COUNT_LSQ


1495 
	gnÚ_issue_LSQ_couÁ
;

1496 
	gnÚ_issue_LSQ_fcouÁ
;

1500 
couÁ”_t
 
	gsim_šv®id_addrs
;

1507 
	g±¿û_£q
 = 0;

1515 
	g´ed_³rãù
 = 
FALSE
;

1518 *
	gb´ed_¥ec_İt
;

1520 { 
	m¥ec_ID
, 
	m¥ec_WB
, 
	m¥ec_CT
 } 
	gb´ed_¥ec_upd©e
;

1523 
ÿche_t
 *
	gÿche_1
[
CLUSTERS
];

1526 
ÿche_t
 *
	gÿche_2
;

1529 
ÿche_t
 *
	gÿche_dl1
[
CLUSTERS
];

1532 
ÿche_t
 *
	gÿche_dl2
;

1535 
ÿche_t
 *
	g™lb
[
CLUSTERS
];

1538 
ÿche_t
 *
	gdb
[
CLUSTERS
];

1543 #ifdeà
LOAD_PREDICTOR


1545 
b´ed_t
 *
	gld´ed
;

1546 
	gld´ed_¥ec_upd©e
 = 0;

1547 
	gld´ed_couÁ
 = 0, 
	gld´ed_h™
 = 0;

1548 
	gov”_miss
 = 0, 
	gund”_miss
 = 0;

1549 
	gÿche_miss
;

1550 
	gld_miss_thrd
[
MAXTHREADS
];

1552 #ifdeà
PDG


1553 
	gnum_pdg
 = 0;

1554 
	gpdg_di¡
[
MAXTHREADS
 + 1];

1559 
»s_poŞ
 *
	gfu_poŞ
 = 
NULL
;

1562 
¡©_¡©_t
 *
	gpc¡©_¡©s
[
MAX_PCSTAT_VARS
];

1563 
couÁ”_t
 
	gpc¡©_Ï¡v®s
[
MAX_PCSTAT_VARS
];

1564 
¡©_¡©_t
 *
	gpc¡©_sdi¡s
[
MAX_PCSTAT_VARS
];

1568 
	#STATVAL
(
STAT
è\

	)

1569 ((
	gSTAT
)->
	gsc
 =ğ
sc_št
 \

1570 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_št
.
v¬
) \

1571 : ((
STAT
)->
sc
 =ğ
sc_ušt
 \

1572 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_ušt
.
v¬
) \

1573 : ((
STAT
)->
sc
 =ğ
sc_couÁ”
 \

1574 ? *((
STAT
)->
v¬ŸÁ
.
fÜ_couÁ”
.
v¬
) \

1575 : (
·nic
("bad stat class"), 0))))

1577 
	gClu¡”SŒuù
[
CLUSTERS
][CLUSTERS];

1578 
ThrdAcûssP©‹º
[
MAXTHREADS
][
CLUSTERS
];

1579 
FILE
 *
outFe
;

1580 
³riodic_ad­tiÚ
 ();

1582 
	g¡İ_ãtch
 = 0;

1583 
	gÏ¡SimCyşe
 = 0;

1586 
	g¡¬tTakšgSti¡ics
 = 0;

1588 
	#PERFECTBANKPREDICTOR
 1

	)

1591 
	$š™Clu¡”Info
 ()

1593 
i
, 
l
;

1595 
i
 = 0; i < 
CLUSTERS
; i++)

1596 
l
 = 0;† < 
CLUSTERS
;†++)

1597 
Clu¡”SŒuù
[
i
][
l
] = -1;

1599 
	}
}

1601 
	gHavePrš‹d
 = 0;

1604 
	$PrštClu¡”Info
 ()

1606 
gg
, 
¼
;

1608 
¼
 = 0;„¸< 
CLUSTERS
;„r++)

1610 
	`´štf
 ("\n");

1611 
gg
 = 0; gg < 
CLUSTERS
; gg++)

1612 
	`´štf
 ("%d", 
Clu¡”SŒuù
[
¼
][
gg
]);

1614 
	}
}

1619 
	$mem_acûss_Ï‹ncy
 (
blk_sz
)

1621 #ifdeà
MEM_MOD


1622 
chunks
 = (
ÿche_dl1
[0]->
bsize
)*
mem_pÜt_num
/ 
mem_bus_width
;

1624 
chunks
 = (
blk_sz
 + (
mem_bus_width
 - 1)) / mem_bus_width;

1627 
	`as£¹
 (
chunks
 > 0);

1629  ( 
mem_Ït
[0] +

1630 Ğ (()5/
mem_bus_¥“d
è* (
chunks
 - 1)));

1632 
	}
}

1634 #ifdeà
L2_COMM_LAT


1635 
	#L2_COMM_LAT_LOCATION
(
baddr
è(badd¸& (
CLUSTERS
 - 1))

	)

1643 
RUU_¡©iÚ
 *
	grsCacheAcûss
 = 
NULL
;

1644 
FILE
 *
	gå_Œaû
;

1647 
dl1_acûss_â
 (
mem_cmd
 
cmd
,

1648 
md_addr_t
 
baddr
,

1649 
bsize
,

1650 
ÿche_blk_t
 *
blk
,

1651 
tick_t
 
now
,

1652 
th»adid


1653 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1654 , 
şu¡”


1658 
	gÏt
;

1659 
	gwhich_th»ad
, 
	gi
;

1660 
	gæag
 = 0;

1661 
	gwhich_th»ad
 = 
th»adid
;

1663 #ifdeà 
STREAM_PREFETCHER


1665 
Ïunch_¥
 (
baddr
, 
th»adid
);

1668 ià(
	gÿche_dl2
)

1672 #ifdeà
DIRECTORY


1673 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, NULL, 
which_th»ad
);

1675 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, 
which_th»ad
);

1678 
	gdÿche2_acûss
++;

1679 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1680 ià(
	gcmd
 =ğ
R—d
)

1681  
Ït
;

1688 ià(
	gcmd
 =ğ
R—d
)

1689  
mem_acûss_Ï‹ncy
 (
bsize
);

1695 
dl2_´eãtch_aùive
;

1699 
dl2_acûss_â
 (
mem_cmd
 
cmd
,

1700 
md_addr_t
 
baddr
,

1701 
bsize
,

1702 
ÿche_blk_t
 *
blk
,

1703 
tick_t
 
now
,

1704 
th»adid


1705 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1706 , 
şu¡”


1710 #ifdeà 
STREAM_PREFETCHER


1712 ià(!
	gdl2_´eãtch_aùive
)

1714 
š£¹_¥
 (
baddr
, 
th»adid
);

1718 
	gÏt
;

1723 #ifdeà
MEM_MOD


1724 
	g¤c
, 
	gpÜt_num
, 
	gx
, 
	gy
;

1725 
	g¤c
 = (
baddr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

1726 
	gx
 = (
¤c
 /
mesh_size
);

1727 
	gy
 = (
¤c
 %
mesh_size
);

1728 
	gpÜt_num
 = (
x
/(
mesh_size
/2))*2+
y
/(mesh_size/(
mem_pÜt_num
/2));

1729 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

1730 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()5/
mem_bus_¥“d
);

1732 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
);

1734  
	gÏt
;

1742 
1_acûss_â
 (
mem_cmd
 
cmd
,

1743 
md_addr_t
 
baddr
,

1744 
bsize
,

1745 
ÿche_blk_t
 *
blk
,

1746 
tick_t
 
now
,

1747 
th»adid


1748 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1749 , 
şu¡”


1753 
	gÏt
 = 0;

1754 
	gm©chnum
 = 0;

1756 ià(
	gÿche_2
)

1759 
	gÏt
 = 
ÿche_acûss
 (
ÿche_2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL,

1760 #ifdeà
DIRECTORY


1761  
NULL
,

1763 
th»adid
 
IF_L2_COMM_LAT_CL
 (
şu¡”
));

1765 
	gdÿche2_acûss
++;

1766 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1768 ià(
	gcmd
 =ğ
R—d
)

1769  
Ït
;

1771 
·nic
 ("writeso instruction memory‚ot supported");

1776 ià(
	gcmd
 =ğ
R—d
)

1777  
mem_acûss_Ï‹ncy
 (
bsize
);

1779 
·nic
 ("writeso instruction memory‚ot supported");

1781  
	gÏt
;

1786 
2_acûss_â
 (
mem_cmd
 
cmd
,

1787 
md_addr_t
 
baddr
,

1788 
bsize
,

1789 
ÿche_blk_t
 *
blk
,

1790 
tick_t
 
now
,

1791 
th»adid


1792 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1793 , 
şu¡”


1799 
	gÏt
 = 0;

1800 ià(
	gcmd
 =ğ
R—d
)

1802 #ifdeà
MEM_MOD


1803 
¤c
, 
pÜt_num
, 
x
, 
y
;

1804 
	g¤c
 = (
baddr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

1805 
	gx
 = (
¤c
 /
mesh_size
);

1806 
	gy
 = (
¤c
 %
mesh_size
);

1807 
	gpÜt_num
 = (
x
/(
mesh_size
/2))*2+
y
/(mesh_size/(
mem_pÜt_num
/2));

1808 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

1809 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()5/
mem_bus_¥“d
);

1810  
	gÏt
;

1812  
mem_acûss_Ï‹ncy
 (
bsize
);

1816 
·nic
 ("writeso instruction memory‚ot supported");

1827 
™lb_acûss_â
 (
mem_cmd
 
cmd
,

1828 
md_addr_t
 
baddr
,

1829 
bsize
,

1830 
ÿche_blk_t
 *
blk
,

1831 
tick_t
 
now
,

1832 
th»adid


1833 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1834 , 
şu¡”


1838 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

1841 
as£¹
 (
phy_·ge_±r
);

1844 *
	gphy_·ge_±r
 = 0;

1847  
	gb_miss_Ït
;

1852 
db_acûss_â
 (
mem_cmd
 
cmd
,

1853 
md_addr_t
 
baddr
,

1854 
bsize
,

1855 
ÿche_blk_t
 *
blk
,

1856 
tick_t
 
now
,

1857 
th»adid


1858 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1859 , 
şu¡”


1863 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

1866 
as£¹
 (
phy_·ge_±r
);

1869 *
	gphy_·ge_±r
 = 0;

1872  
	gb_miss_Ït
;

1878 
	$sim_»g_İtiÚs
 (
İt_odb_t
 *
odb
)

1880 
	`İt_»g_h—d”
 (
odb
,

1885 
	`İt_»g_ušt
 (
odb
, "-max:š¡", "maximum‚umb” oàš¡' tØexecu‹/th»ad", (*è(&
max_š¡s
), 0,

1886  
TRUE
, 
NULL
);

1889 
	`İt_»g_ušt
 (
odb
, "-max:b¬r›r", "maximum‚umb” oàb¬r›r tØexecu‹", (*è(&
max_b¬r›r
), 0,

1890  
TRUE
, 
NULL
);

1893 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:meshsize", "mesh sizoàthÃtwÜk", &
mesh_size
, 4,

1894  
TRUE
, 
NULL
);

1897 
	`İt_»g_¡ršg_li¡
 (
odb
, "-±¿û", "g’”©p‘¿û, i.e., <âame|¡dout|¡d”r> <¿nge>", 
±¿û_İts
, 2, &
±¿û_ÃÉ
, 
NULL
,

1898  
FALSE
, 
NULL
, FALSE);

1901 
	`İt_»g_nÙe
 (
odb
, "####### Network configuration #######\n");

1902 #ifdeà
OPTICAL_INTERCONNECT


1903 
	`İt_»g_nÙe
 (
odb
, "Optical interconnect\n");

1905 #ifdeà
POPNET


1906 
	`İt_»g_nÙe
 (
odb
, "Popnet interconnect\n");

1908 #ifdeà
CONF_BIT


1909 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation\n");

1911 #ifdeà
INV_ACK_CON


1912 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation for Invalidation\n");

1914 #ifdeà
WB_SPLIT


1915 
	`İt_»g_nÙe
 (
odb
, "Write back split\n");

1917 #ifdeà
WB_SPLIT_NET


1918 
	`İt_»g_nÙe
 (
odb
, "Write back split in‚etwork†evel\n");

1920 #ifdeà
PSEUDO_SCHEDULE


1921 
	`İt_»g_nÙe
 (
odb
, "Inorder…robability-based scheduling (IRD)\n");

1923 #ifdeà
PSEUDO_SCHEDULE_REORDER


1924 
	`İt_»g_nÙe
 (
odb
, "Reorder…robability-based scheduling (RRD)\n");

1926 #ifdeà
PSEUDO_SCHEDULE_DATA


1927 
	`İt_»g_nÙe
 (
odb
, "Intelligent delay (IDD)\n");

1929 #ifdeà
L1_L2_CONF


1930 
	`İt_»g_nÙe
 (
odb
, "L1‡nd L2„eply conflict„esolution\n");

1932 #ifdeà
ORDER_NODE


1933 
	`İt_»g_nÙe
 (
odb
, "Ordering by‚ode\n");

1935 #ifdeà
ORDER_ADDR


1936 
	`İt_»g_nÙe
 (
odb
, "Ordering by‡ddr\n");

1938 
	`İt_»g_nÙe
 (
odb
, "######‚etwork configurationƒnd ######\n");

1940 
	`İt_»g_nÙe
 (
odb
,

1956 
	`İt_»g_št
 (
odb
, "-ãtch:ifqsize", "š¡ruùiÚ f‘ch queusiz(š in¡s)", &
ruu_ifq_size
, 16,

1957  
TRUE
, 
NULL
);

1959 
	`İt_»g_št
 (
odb
, "-ãtch:m¶©", "exŒ¨b¿nch mis-´ediùiÚ†©’cy", &
ruu_b¿nch_³ÇÉy
, 7,

1960  
TRUE
, 
NULL
);

1962 
	`İt_»g_št
 (
odb
, "-ãtch:¥“d", "¥“d oàäÚt-’d oàmachš»ÏtivtØexecutiÚ cÜe", &
ãtch_¥“d
, 1,

1963  
TRUE
, 
NULL
);

1967 
	`İt_»g_nÙe
 (
odb
,

1978 
	`İt_»g_¡ršg
 (
odb
, "-b´ed", "b¿nch…»diùÜy³ {nÙk’|k’|³rãù|bimod|2Ëv|comb|2bcgskew}", &
´ed_ty³
, "comb",

1979  
TRUE
, 
NULL
);

1981 
	`İt_»g_æag
 (
odb
, "-b´ed:btb_u£_ma¡”id", "u£ ma¡”id iÀ¶aû oàth»adid wh’ iÁ”aùšg w™h BTB, givšg you…”-´oûs š¡—d oà³r-th»adƒÁr›s", &
b´ed_btb_u£_ma¡”id
, 
TRUE
,

1982  
TRUE
, 
NULL
);

1984 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:bimod", "bimod®…»diùÜ cÚfig (<bË size>)", 
bimod_cÚfig
, 
bimod_ÃÉ
, &bimod_nelt,

1985  
bimod_cÚfig
,

1986  
TRUE
, 
NULL
, 
FALSE
);

1988 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2Ëv", "2-Ëv–…»diùÜ cÚfig " "(<l1size> <l2size> <hi¡_size> <xÜ>)", 
twŞev_cÚfig
, 
twŞev_ÃÉ
, &twolev_nelt,

1989  
twŞev_cÚfig
,

1990  
TRUE
, 
NULL
, 
FALSE
);

1992 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:comb", "combššg…»diùÜ cÚfig (<m‘a_bË_size>)", 
comb_cÚfig
, 
comb_ÃÉ
, &comb_nelt,

1993  
comb_cÚfig
,

1994  
TRUE
, 
NULL
, 
FALSE
);

1997 
	`İt_»g_št
 (
odb
, "-di¥1", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 1", &
di¥1
, 0,

1998  
TRUE
, 
NULL
);

2001 
	`İt_»g_št
 (
odb
, "-di¥2", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 2", &
di¥2
, 0,

2002  
TRUE
, 
NULL
);

2005 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2bcgskew", "2Bc-gskew…»diùÜ cÚfig (<bim_size> <size> <bim_hi¡_size> <g0_hi¡_size> <g1_hi¡_size> <m‘a_hi¡_size>)", 
twobcgskew_cÚfig
, 
twobcgskew_ÃÉ
, &twobcgskew_nelt,

2006  
twobcgskew_cÚfig
,

2007  
TRUE
, 
NULL
, 
FALSE
);

2010 
	`İt_»g_št
 (
odb
, "-b´ed:¿s", "»tuº‡dd»s ¡ack siz(0 fÜ‚Ø»tuº sck)", &
¿s_size
,„as_size,

2011  
TRUE
, 
NULL
);

2013 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:btb", "BTB cÚfig (<num_£ts> <assocŸtiv™y>)", 
btb_cÚfig
, 
btb_ÃÉ
, &btb_nelt,

2014  
btb_cÚfig
,

2015  
TRUE
, 
NULL
, 
FALSE
);

2017 
	`İt_»g_¡ršg
 (
odb
, "-b´ed:¥ec_upd©e", "¥ecuÏtiv´ediùÜ upd©š {ID|WB} (deçuÉ‚Ú-¥ec)", &
b´ed_¥ec_İt
, 
NULL
,

2018  
TRUE
, 
NULL
);

2022 
	`İt_»g_št
 (
odb
, "-combšed2", "u£ 2 combšed…»diùÜs?", &
combšed2
, 
FALSE
,

2023  
TRUE
, 
NULL
);

2025 
	`İt_»g_št
 (
odb
, "-hi¡_imm", "upd©b¿nch hi¡Üy immedŸ‹ly?", &
hi¡_imm
, 
FALSE
,

2026  
TRUE
, 
NULL
);

2030 
	`İt_»g_št
 (
odb
, "-decode:width", "š¡ruùiÚ decodB/W (š¡s/cyşe)", &
ruu_decode_width
, 5,

2031  
TRUE
, 
NULL
);

2033 #iâdeà
REMOVE_MY_CODE


2035 
	`İt_»g_št
 (
odb
, "-thrdf:lim™", "Numb” oàth»ad f‘ch (thrd/cyşe<=8)", &
th»ad_ãtch
, 
THREADFETCHLIMIT
,

2036  
TRUE
, 
NULL
);

2038 
	`İt_»g_št
 (
odb
, "-š¡thrdf:width", "š¡ruùiÚ f‘ch B/w…”h»ad (š¡s/cyşe<=decode_width)", &
š¡_th»ad_ãtch
, 8,

2039  
TRUE
, 
NULL
);

2042 
	`İt_»g_št
 (
odb
, "-»gf:size", "š‹g”…hysiÿÈ»gi¡” fsizÕ” clu¡”)", &
IPREG_size_şu¡”
, 80,

2043  
TRUE
, 
NULL
);

2045 
	`İt_»g_št
 (
odb
, "-å»gf:size", "æßtšg…ošˆphysiÿÈ»gi¡” fsizÕ” clu¡”)", &
FPREG_size_şu¡”
, 80,

2046  
TRUE
, 
NULL
);

2048 
	`İt_»g_št
 (
odb
, "-iqueue:size", "š‹g” queusiz(š¡sèÕ” clu¡”)", &
IIQ_size_şu¡”
, 32,

2049  
TRUE
, 
NULL
);

2051 
	`İt_»g_št
 (
odb
, "-fqueue:size", "æßtšg…ošˆqueusiz(š¡sèÕ” clu¡”)", &
FIQ_size_şu¡”
, 32,

2052  
TRUE
, 
NULL
);

2054 #ifdeà
RAW


2055 
	`İt_»g_št
 (
odb
, "-¿wqueue:size", "»mÙacûs queusiz(š¡s)", &
¿wq_size
, 
RAWSIZE
,

2056  
TRUE
, 
NULL
);

2059 #ifdeà
ISSUE_PER_CLUSTER


2060 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/şu¡”/cyşe)", &
ruu_issue_width
, 4,

2061  
TRUE
, 
NULL
);

2063 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/cyşe)", &
ruu_issue_width
, 4,

2064  
TRUE
, 
NULL
);

2067 
	`İt_»g_æag
 (
odb
, "-issue:šÜd”", "ruÀp–šw™h in-Üd” issue", &
ruu_šÜd”_issue
, 
FALSE
,

2068  
TRUE
, 
NULL
);

2070 
	`İt_»g_æag
 (
odb
, "-issue:wrÚg·th", "issuš¡ruùiÚ dowÀwrÚgƒxecutiÚ…©hs", &
ruu_šşude_¥ec
, 
TRUE
,

2071  
TRUE
, 
NULL
);

2074 
	`İt_»g_št
 (
odb
, "-comm™:width", "š¡ruùiÚ comm™ B/W (š¡s/th»ad/cyşe)", &
ruu_comm™_width
, 4,

2075  
TRUE
, 
NULL
);

2078 
	`İt_»g_št
 (
odb
, "-ruu:size", "»gi¡” upd©un™ (RUUèsize", &
RUU_size
, 16,

2079  
TRUE
, 
NULL
);

2082 
	`İt_»g_št
 (
odb
, "-lsq:size", "lßd/¡Üqueu(LSQèsizÕ” clu¡”)", &
LSQ_size_şu¡”
, 8,

2083  
TRUE
, 
NULL
);

2085 
	`İt_»g_št
 (
odb
, "-lq:size", "lßd queu(LQèsize", &
m_shLQSize
, 8,

2086  
TRUE
, 
NULL
);

2088 
	`İt_»g_št
 (
odb
, "-sq:size", "¡Üqueu(SQèsize", &
m_shSQSize
, 8,

2089  
TRUE
, 
NULL
);

2091 
	`İt_»g_æßt
 (
odb
, "-check”:vdd", "check” vdd", &
check”VDD
, 0.6,

2092  
TRUE
, 
NULL
);

2094 
	`İt_»g_æßt
 (
odb
, "-check”:äeq", "check”„uÂšg‡ˆwh© f¿ùiÚ oàfuÎ f»q", &
check”F»q
, 0.5,

2095  
TRUE
, 
NULL
);

2098 
	`İt_»g_nÙe
 (
odb
,

2108 #ifdef 
EDA


2109 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl0", "l0 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl0_İt
, "dl0:128:32:4:l",

2110  
TRUE
, 
NULL
);

2112 
	`İt_»g_št
 (
odb
, "-ÿche:dl0Ït", "l0 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl0_Ït
, 1,

2113  
TRUE
, 
NULL
);

2116 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl1", "l1 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl1_İt
, "dl1:128:32:4:l",

2117  
TRUE
, 
NULL
);

2119 
	`İt_»g_št
 (
odb
, "-ÿche:dl1Ït", "l1 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl1_Ït
, 1,

2120  
TRUE
, 
NULL
);

2122 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl2", "l2 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe}", &
ÿche_dl2_İt
, "ul2:1024:64:4:l",

2123  
TRUE
, 
NULL
);

2125 
	`İt_»g_št
 (
odb
, "-ÿche:dl2Ït", "l2 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl2_Ït
, 6,

2126  
TRUE
, 
NULL
);

2128 #ifdeà
TG


2129 
	`İt_»g_št
 (
odb
, "-ÿche:tg¿‹", "Œaffiøg’”©iÚ„©e", &
tg_¿‹
, 100,

2130  
TRUE
, 
NULL
);

2132 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:1", "l1 in¡ cachcÚfig, i.e., {<cÚfig>|dl1|dl2|nÚe}", &
ÿche_1_İt
, "il1:512:32:1:l",

2133  
TRUE
, 
NULL
);

2135 
	`İt_»g_nÙe
 (
odb
,

2145 
	`İt_»g_št
 (
odb
, "-ÿche:1Ït", "l1 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_1_Ït
, 1,

2146  
TRUE
, 
NULL
);

2148 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:2", "l2 in¡ruùiÚ cachcÚfig, i.e., {<cÚfig>|dl2|nÚe}", &
ÿche_2_İt
, "dl2",

2149  
TRUE
, 
NULL
);

2151 
	`İt_»g_št
 (
odb
, "-ÿche:2Ït", "l2 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_2_Ït
, 6,

2152  
TRUE
, 
NULL
);

2154 #ifdeà
L2_COMM_LAT


2155 
	`İt_»g_æag
 (
odb
, "-ÿche:l2commÏt", "wh‘h”Øhav¨di¡ribu‹d L2 w™h communiÿtiÚ†©’c› added", &
l2_comm_Ït_’abËd
, 
FALSE
, 
TRUE
, 
NULL
);

2158 
	`İt_»g_æag
 (
odb
, "-ÿche:æush", "æush cache Ú sy¡em c®ls", &
æush_Ú_sysÿÎs
, 
FALSE
, 
TRUE
, 
NULL
);

2160 
	`İt_»g_æag
 (
odb
, "-ÿche:icom´ess", "cÚv”ˆ64-b™ in¡‡dd»s£ tØ32-b™ in¡ƒquiv®’ts", &
com´ess_iÿche_addrs
, 
FALSE
,

2161  
TRUE
, 
NULL
);

2164 
	`İt_»g_št_li¡
 (
odb
, "-mem:Ït", "memÜy‡cûs Ï‹ncy (<fœ¡_chunk> <š‹r_chunk>)", 
mem_Ït
, 
mem_ÃÉ
, &mem_nelt, mem_lat,

2165  
TRUE
, 
NULL
, 
FALSE
);

2167 
	`İt_»g_št
 (
odb
, "-mem:width", "memÜy‡cûs bu width (š by‹s)", &
mem_bus_width
, 8,

2168  
TRUE
, 
NULL
);

2169 
	`İt_»g_æßt
 (
odb
, "-mem:¥“d", "memÜy‡cûs bu ¥“d (š GHz)", &
mem_bus_¥“d
, 1.25,

2170  
TRUE
, 
NULL
);

2171 
	`İt_»g_št
 (
odb
, "-mem:pÜts", "memÜy‡cûs pÜˆnumb”", &
mem_pÜt_num
, 4,

2172  
TRUE
, 
NULL
);

2175 
	`İt_»g_¡ršg
 (
odb
, "-b:™lb", "š¡ruùiÚ TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
™lb_İt
, "™lb:16:4096:4:l", 
TRUE
, 
NULL
);

2177 
	`İt_»g_¡ršg
 (
odb
, "-b:db", "d©¨TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
db_İt
, "db:32:4096:4:l", 
TRUE
, 
NULL
);

2179 
	`İt_»g_št
 (
odb
, "-b:Ït", "š¡/d©¨TLB mis Ï‹ncy (š cyşes)", &
b_miss_Ït
, 30,

2180  
TRUE
, 
NULL
);

2182 #ifdeà
NET_ALGR


2186 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:»c_®gr", "»ûiv”‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_»ûiv”
, 0,

2187  
TRUE
, 
NULL
);

2188 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:Ãt_®gr", "cÚæiùiÚ‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_cÚæiù
, 0,

2189  
TRUE
, 
NULL
);

2193 
	`İt_»g_št
 (
odb
, "-»s:Ÿlu", "tÙ®‚umb” oàš‹g” ALU' avaabË (³¸şu¡”)", &
»s_Ÿlu_şu¡”
, 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
,

2194  
TRUE
, 
NULL
);

2196 #iâdeà
ALU_MERGE


2197 
	`İt_»g_št
 (
odb
, "-»s:imuÉ", "tÙ®‚umb” oàš‹g” muÉl›r/divid” avaabË (³¸şu¡”)", &
»s_imuÉ_şu¡”
, 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
,

2198  
TRUE
, 
NULL
);

2201 
	`İt_»g_št
 (
odb
, "-maxThrds", "Maximum Numb” oàTh»ad AÎowed", &
m_maxth»ads
, 1, 
TRUE
, 
NULL
);

2203 
	`İt_»g_æag
 (
odb
, "-Coh”’t_Cache", "Coh”’ˆCache", &
COHERENT_CACHE
, 1, 
TRUE
, 
NULL
);

2205 
	`İt_»g_æag
 (
odb
, "-MSI_´Ù", "MSI PrÙocŞ", &
MSI
, 0, 
TRUE
, 
NULL
);

2207 
	`İt_»g_æag
 (
odb
, "-SPEC", "SPEC B’chm¬ks", &
¥ec_b’chm¬ks
, 1, 
TRUE
, 
NULL
);

2209 #ifdeà 
PORT_PER_BANK


2210 
	`İt_»g_št
 (
odb
, "-»s:membªk", "numb” oàd©¨ÿchbªk avaabË (³¸Clu¡”ØCPU)", &
»s_membªk_şu¡”
, 2,

2211  
TRUE
, 
NULL
);

2213 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (³¸bªk)", &
»s_mem_pÜt_bªk
, 1,

2214  
TRUE
, 
NULL
);

2216 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (tØCPU)", &
»s_mempÜt
, 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
,

2217  
TRUE
, 
NULL
);

2220 
	`İt_»g_št
 (
odb
, "-»s:å®u", "tÙ®‚umb” oàæßtšg…ošˆALU' avaabË (³¸şu¡”)", &
»s_å®u_şu¡”
, 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
,

2221  
TRUE
, 
NULL
);

2223 #iâdeà
ALU_MERGE


2224 
	`İt_»g_št
 (
odb
, "-»s:åmuÉ", "tÙ®‚umb” oàæßtšg…ošˆmuÉl›r/divid” avaabË (³¸şu¡”)", &
»s_åmuÉ_şu¡”
, 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
,

2225  
TRUE
, 
NULL
);

2228 
	`İt_»g_¡ršg_li¡
 (
odb
, "-pc¡©", "´of¡©(sèagaš¡exˆaddr' (muÉ u£ ok)", 
pc¡©_v¬s
, 
MAX_PCSTAT_VARS
, &
pc¡©_ÃÉ
, 
NULL
,

2229  
FALSE
, 
NULL
, 
TRUE
);

2231 
	`İt_»g_æag
 (
odb
, "-bugcom·t", "İ”©š backw¬d-com·tibË bug mod(fÜe¡šg oÆy)", &
bugcom·t_mode
, 
FALSE
, 
TRUE
, 
NULL
);

2233 
	`İt_»g_št
 (
sim_odb
, "-hÙ¥Ù:§m¶šg_štvl", "how mªy cyşe b‘w“ÀÿÎ tØupd©e_hÙ¥Ù_¡©s", &
hÙ¥Ù_cyşe_§m¶šg_štvl
,

2234  10000, 
FALSE
, 
NULL
);

2236 
	`İt_»g_št
 (
odb
, "-¿y:di§bËd", "¿y‡ùive", &
di§bË_¿y
, 1,

2237  
TRUE
, 
NULL
);

2239 
	`şu¡”_»g_İtiÚs
 (
odb
);

2240 
	`hÙ¥Ù_»g_İtiÚs
 (
odb
);

2243 #ifdeà
MC


2244 
	`ÃtwÜk_»g_İtiÚs
 (
odb
);

2246 #ifdeà
OPTICAL_INTERCONNECT


2247 
	`İtiÿl_İtiÚs
 (
odb
);

2250 
	}
}

2254 
	$sim_check_İtiÚs
 (
İt_odb_t
 *
odb
,

2255 
¬gc
, **
¬gv
)

2257 
Çme
[128], 
c
;

2258 
n£ts
, 
bsize
, 
assoc
;

2260 
i
;

2261 
cÚ‹xt
 *
cu¼’t
;

2263 #ifdeà
LOAD_PREDICTOR


2265 
ld´ed
 = 
	`b´ed_ü—‹
 (
LDP»d2b™
,

2266  
bimod_cÚfig
[0],

2278 #ifdeà
ISU_N2


2279 ià(
ruu_issue_width
 < 1)

2280 
	`çl
 ("issue width must be…ositive‚on-zero");

2282 ià(
ruu_issue_width
 < 1 || (ruu_issue_width & (ruu_issue_width - 1)) != 0)

2283 
	`çl
 ("issue width must be…ositive‚on-zero‡nd‡…ower ofwo");

2288 
IIQ_size
 = 
IIQ_size_şu¡”
;

2289 
FIQ_size
 = 
FIQ_size_şu¡”
;

2290 
IPREG_size
 = 
IPREG_size_şu¡”
;

2291 
FPREG_size
 = 
FPREG_size_şu¡”
;

2293 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2295 ià(
IIQ_size
 < 1)

2296 
	`çl
 ("integer queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2298 ià(
FIQ_size
 < 1)

2299 
	`çl
 ("floating…oint queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2301 #iâdeà
REG_RENAME_CONFIGUARE


2302 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2305 ià(
IPREG_size
 < 1)

2306 
	`çl
 ("integer…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2308 ià(
FPREG_size
 < 1)

2309 
	`çl
 ("floating…oint…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2311 #ifdeà
RAW


2312 
¿wq_size
 = 
IIQ_size
;

2313 ià(
¿wq_size
 < 1 ||„awq_siz> 
RAWSIZE
)

2314 
	`çl
 ("»mÙacûs queu(%dèmu¡ bpos™ivnÚ-z”Øªd†es thª RAWSIZE (%d)", 
¿wq_size
, 
RAWSIZE
);

2317 ià(
ruu_comm™_width
 < 1)

2318 
	`çl
 ("commit width must be…ositive‚on-zero");

2320 ià(
RUU_size
 < 2 || (RUU_siz> 
RUUSIZE
))

2321 
	`çl
 ("RUU sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
RUUSIZE
);

2323 
LSQ_size
 = 
LSQ_size_şu¡”
;

2325 ià(
LSQ_size
 < 2 || (LSQ_siz> 
LSQSIZE
))

2326 
	`çl
 ("LSQ sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
LSQSIZE
);

2328 #ifdef 
EDA


2330 ià(!
	`my¡ricmp
 (
ÿche_dl0_İt
, "none"))

2332 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2333 
ÿche_dl0
[
i
] = 
NULL
;

2337 ià(
	`ssÿnf
 (
ÿche_dl0_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2338 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2340 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2342 
ÿche_dl0
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2343  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2344 
dl0_acûss_â
, 
ÿche_dl0_Ït
, 
i
);

2345 #ifdeà
CACHE_SET_STAT


2346 ià(
ÿche_dl0
[
i
]->
n£ts
 > 
MAXCACHESET
)

2347 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2354 ià(!
	`my¡ricmp
 (
ÿche_dl1_İt
, "none"))

2357 ià(
	`¡rcmp
 (
ÿche_dl2_İt
, "none"))

2358 
	`çl
 ("the†1 data cache must defined ifhe†2 cache is defined");

2359 
ÿche_dl2
 = 
NULL
;

2363 ià(
	`ssÿnf
 (
ÿche_dl1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2364 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2366 
i
 = 0; i < 
CLUSTERS
; i++)

2368 
ÿche_dl1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2369  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2370 
dl1_acûss_â
, 
ÿche_dl1_Ït
, 
i
);

2372 #ifdeà
CACHE_SET_STAT


2373 ià(
ÿche_dl1
[
i
]->
n£ts
 > 
MAXCACHESET
)

2374 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2377 
ÿche_dl1_£t_shiá
 = 
ÿche_dl1
[0]->
£t_shiá
;

2378 
Üigš®_bsize
 = 
bsize
;

2380 ià(!
	`my¡ricmp
 (
ÿche_dl2_İt
, "none"))

2381 
ÿche_dl2
 = 
NULL
;

2384 ià(
	`ssÿnf
 (
ÿche_dl2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2385 
	`çl
 ("bad†2 D-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2387 
ÿche_dl2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2388  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2389 
dl2_acûss_â
, 
ÿche_dl2_Ït
, -1);

2394 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "none"))

2396 
ÿche_1
[0] = 
NULL
;

2399 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2400 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2401 
ÿche_2
 = 
NULL
;

2403 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl1"))

2406 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2407 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2408 
ÿche_2
 = 
NULL
;

2410 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl2"))

2412 ià(!
ÿche_dl2
)

2413 
	`çl
 ("I-cache†1 cannot‡ccess D-cache†2‡s it's undefined");

2414 
ÿche_1
[0] = 
ÿche_dl2
;

2417 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2418 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2419 
ÿche_2
 = 
NULL
;

2423 ià(
	`ssÿnf
 (
ÿche_1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2424 
	`çl
 ("bad†1 I-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2426 
i
 = 0; i < 
CLUSTERS
; i++)

2428 
ÿche_1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2429  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2430 
1_acûss_â
, 
ÿche_1_Ït
, 
i
);

2433 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "none"))

2434 
ÿche_2
 = 
NULL
;

2435 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "dl2"))

2437 ià(!
ÿche_dl2
)

2438 
	`çl
 ("I-cache†2 cannot‡ccess D-cache†2‡s it's undefined");

2439 
ÿche_2
 = 
ÿche_dl2
;

2443 ià(
	`ssÿnf
 (
ÿche_2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2444 
	`çl
 ("bad†2 I-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2446 
ÿche_2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2447  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2448 
2_acûss_â
, 
ÿche_2_Ït
, -1);

2453 
i
 = 0; i < 
CLUSTERS
; i++)

2455 ià(
	`ssÿnf
 (
™lb_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2456 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2458 
™lb
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2459   (
md_addr_t
), 
assoc
,

2460 
	`ÿche_ch¬2pŞicy
 (
c
), 
™lb_acûss_â
,

2461  1, 
i
);

2464 
i
 = 0; i < 
CLUSTERS
; i++)

2466 ià(
	`ssÿnf
 (
db_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2467 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2468 
db
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2469   (
md_addr_t
), 
assoc
,

2470 
	`ÿche_ch¬2pŞicy
 (
c
), 
db_acûss_â
,

2471  1, 
i
);

2474 ià(
ÿche_dl1_Ït
 < 1)

2475 
	`çl
 ("l1 data cache†atency must be greaterhan zero");

2477 ià(
ÿche_dl2_Ït
 < 1)

2478 
	`çl
 ("l2 data cache†atency must be greaterhan zero");

2480 ià(
ÿche_1_Ït
 < 1)

2481 
	`çl
 ("l1 instruction cache†atency must be greaterhan zero");

2483 ià(
ÿche_2_Ït
 < 1)

2484 
	`çl
 ("l2 instruction cache†atency must be greaterhan zero");

2486 ià(
mem_ÃÉ
 != 2)

2487 
	`çl
 ("bad memory‡ccess†atency (<first_chunk> <inter_chunk>)");

2489 ià(
mem_Ït
[0] < 1 || mem_lat[1] < 1)

2490 
	`çl
 ("all memory‡ccess†atencies must be greaterhan zero");

2492 ià(
mem_bus_width
 < 1 || (mem_bus_width & (mem_bus_width - 1)) != 0)

2493 
	`çl
 ("memory bus width must be…ositive‚on-zero‡nd‡…ower ofwo");

2495 ià(
b_miss_Ït
 < 1)

2496 
	`çl
 ("TLB miss†atency must be greaterhan zero");

2498 
»s_Ÿlu
 = 
»s_Ÿlu_şu¡”
 * 
CLUSTERS
;

2500 ià(
»s_Ÿlu
 < 1)

2501 
	`çl
 ("number of integer ALU's must be greaterhan zero");

2502 ià(
»s_Ÿlu
 > 
MAX_INSTS_PER_CLASS
)

2503 
	`çl
 ("number of integer ALU's must be <= MAX_INSTS_PER_CLASS");

2505 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
 = 
»s_Ÿlu
;

2507 #iâdeà
ALU_MERGE


2508 
»s_imuÉ
 = 
»s_imuÉ_şu¡”
 * 
CLUSTERS
;

2509 ià(
»s_imuÉ
 < 1)

2510 
	`çl
 ("number of integer multiplier/dividers must be greaterhan zero");

2511 ià(
»s_imuÉ
 > 
MAX_INSTS_PER_CLASS
)

2512 
	`çl
 ("number of integer mult/div's must be <= MAX_INSTS_PER_CLASS");

2513 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
 = 
»s_imuÉ
;

2516 #ifdeà
PORT_PER_BANK


2517 
»s_membªk
 = 
»s_membªk_şu¡”
 * 
CLUSTERS
;

2519 ià(
»s_membªk
 < 1)

2520 
	`çl
 ("number of memory system banks must be greaterhan zero");

2523 #ifdeà 
PARTITIONED_LSQ


2524 
lsq_·¹_bªk
 = 
»s_membªk
 / 
LSQ_PARTS
;

2526 ià(
»s_mem_pÜt_bªk
 < 1)

2527 
	`çl
 ("number of memory system…orts/bank must be greaterhan zero");

2528 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAX_INSTS_PER_CLASS
)

2529 
	`çl
 ("number ofotal memory system…orts must be <= MAX_INSTS_PER_CLASS");

2530 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAXCACHEPORTS
)

2531 
	`çl
 ("number ofotal memory system…orts must be <= MAXCACHEPORTS");

2532 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

2534 ià(
»s_mempÜt
 < 1)

2535 
	`çl
 ("number of memory system…orts must be greaterhan zero");

2536 ià(
»s_mempÜt
 > 
MAX_INSTS_PER_CLASS
)

2537 
	`çl
 ("number of memory system…orts must be <= MAX_INSTS_PER_CLASS");

2538 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
;

2541 
»s_å®u
 = 
»s_å®u_şu¡”
 * 
CLUSTERS
;

2542 ià(
»s_å®u
 < 1)

2543 
	`çl
 ("number of floating…oint ALU's must be greaterhan zero");

2544 ià(
»s_å®u
 > 
MAX_INSTS_PER_CLASS
)

2545 
	`çl
 ("number of floating…oint ALU's must be <= MAX_INSTS_PER_CLASS");

2546 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
 = 
»s_å®u
;

2548 #iâdeà
ALU_MERGE


2549 
»s_åmuÉ
 = 
»s_åmuÉ_şu¡”
 * 
CLUSTERS
;

2550 ià(
»s_åmuÉ
 < 1)

2551 
	`çl
 ("number of floating…oint multiplier/dividers must be > zero");

2552 ià(
»s_åmuÉ
 > 
MAX_INSTS_PER_CLASS
)

2553 
	`çl
 ("number of FP mult/div's must be <= MAX_INSTS_PER_CLASS");

2554 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
 = 
»s_åmuÉ
;

2556 #ifdeà
TOKENB


2557 ià(
tok’B
)

2558 
	`tc_š™
 (
MAXTHREADS
, 
ÿche_dl2
->
assoc
 * cache_dl2->
n£ts
, cache_dl2->
bsize
);

2559 ià(
LSQ_PARTS
 !ğ(
n_way_ÿche
 * 
MAXTHREADS
))

2560 
	`çl
 ("This only supports 1 cache…erhread");

2562 #ifdeà
MC


2563 
	`ÃtwÜk_check_İtiÚs
 ();

2565 
	`şu¡”_check_İtiÚs
 ();

2566 
	`š™_lšk_desü_bËs
 ();

2567 
	`š™_routšg_bË
 ();

2568 
	`¬b™¿ry_routšg_bË_š™
 ();

2569 
	}
}

2573 
	$sim_aux_cÚfig
 (
FILE
 * 
¡»am
)

2576 
	}
}

2579 
couÁ”_t
 
	gtÙ®Upg¿des
 = 0;

2580 
couÁ”_t
 
	gtÙ®N‘Upg¿des
 = 0;

2581 
couÁ”_t
 
	gtÙ®Upg¿desU§bË
 = 0;

2582 
couÁ”_t
 
	gtÙ®Upg¿desB’eficŸl
 = 0;

2584 
couÁ”_t
 
	gtÙ®N‘Wr™es
 = 0;

2585 
couÁ”_t
 
	gtÙ®Wr™esU§bË
 = 0;

2586 
couÁ”_t
 
	gtÙ®Wr™esB’eficŸl
 = 0;

2587 
couÁ”_t
 
	gexşusive_somewh”e
 = 0;

2588 
couÁ”_t
 
	gäÚt_wr™e
 = 0;

2589 #ifdeà
EUP_NETWORK


2590 
couÁ”_t
 
	gEUP_’Œy_fuÎ
 = 0;

2593 
couÁ”_t
 
	gtÙ®L2Wr™eReqH™s
 = 0;

2594 
couÁ”_t
 
	gtÙ®L2Wr™eReqNoSh¬”
 = 0;

2595 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœty
 = 0;

2596 
couÁ”_t
 
	gd–ayL2Wr™eReqDœty
 = 0;

2597 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬ed
 = 0;

2598 
couÁ”_t
 
	gd–ayL2Wr™eReqSh¬ed
 = 0;

2600 
couÁ”_t
 
	gtÙ®L2R—dReqH™s
 = 0;

2601 
couÁ”_t
 
	gtÙ®L2R—dReqNoSh¬”
 = 0;

2602 
couÁ”_t
 
	gtÙ®L2R—dReqDœty
 = 0;

2603 
couÁ”_t
 
	gd–ayL2R—dReqDœty
 = 0;

2605 
couÁ”_t
 
	gtÙ®L2R—dReqSh¬ed
 = 0;

2606 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬edWT
 = 0;

2607 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœtyWT
 = 0;

2608 
couÁ”_t
 
	gtÙ®L2R—dReqDœtyWT
 = 0;

2610 
couÁ”_t
 
	gtÙ®L1LšeP»fU£
 = 0;

2611 
couÁ”_t
 
	gtÙ®L1LšeP»fNoU£
 = 0;

2612 
couÁ”_t
 
	gtÙ®L1LšeR—dU£
 = 0;

2613 
couÁ”_t
 
	gtÙ®L1LšeR—dNoU£
 = 0;

2614 
couÁ”_t
 
	gtÙ®L1LšeWr™eU£
 = 0;

2615 
couÁ”_t
 
	gtÙ®L1LšeWr™eNoU£
 = 0;

2617 
couÁ”_t
 
	gtÙ®L1LšeExlU£d
 = 0;

2618 
couÁ”_t
 
	gtÙ®L1LšeExlInv
 = 0;

2619 
couÁ”_t
 
	gtÙ®L1LšeExlDrİ
 = 0;

2621 
couÁ”_t
 
	gtÙ®L2ReqPrimMiss
 = 0;

2622 
couÁ”_t
 
	gtÙ®L2ReqSecMiss
 = 0;

2623 
couÁ”_t
 
	gtÙ®L2ReqH™
 = 0;

2624 
couÁ”_t
 
	gtÙ®L2ReqInT¿ns
 = 0;

2625 
couÁ”_t
 
	gtÙ®L2OwnReqInT¿ns
 = 0;

2626 
couÁ”_t
 
	gtÙ®L2ReqInInv
 = 0;

2628 
couÁ”_t
 
	gd–ayL2ReqPrimMiss
 = 0;

2629 
couÁ”_t
 
	gd–ayL2ReqSecMiss
 = 0;

2630 
couÁ”_t
 
	gd–ayL2ReqH™
 = 0;

2631 
couÁ”_t
 
	gd–ayL2ReqInT¿ns
 = 0;

2632 
couÁ”_t
 
	gd–ayL2OwnReqInT¿ns
 = 0;

2633 
couÁ”_t
 
	gd–ayL2ReqInInv
 = 0;

2635 
couÁ”_t
 
	gtÙ®Wr™eReq
 = 0;

2636 
couÁ”_t
 
	gtÙ®Wr™eReqInv
 = 0;

2637 
couÁ”_t
 
	gtÙ®Wr™eD–ay
 = 0;

2638 
couÁ”_t
 
	gtÙ®Wr™eInvD–ay
 = 0;

2639 
couÁ”_t
 
	gtÙ®Upg¿deReq
 = 0;

2640 
couÁ”_t
 
	gtÙ®Upg¿deReqInv
 = 0;

2641 
couÁ”_t
 
	gtÙ®Upg¿deD–ay
 = 0;

2642 
couÁ”_t
 
	gtÙ®Upg¿deInvD–ay
 = 0;

2644 
couÁ”_t
 
	gcouÁNÚAÎocR—dE¬ly
 = 0;

2648 
	$sim_»g_¡©s
 (
¡©_sdb_t
 *
sdb
)

2650 
i
, 
j
;

2653 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg cÚsi¡’cy„•Ïy in¡ruùiÚs", &
sim_num_š¢
, sim_num_š¢, 
NULL
);

2654 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
pu»_num_š¢
,…u»_num_š¢, 
NULL
);

2655 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
tÙ®_num_š¢
,Ù®_num_š¢, 
NULL
);

2656 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®B¬r›rs", "tÙ®‚umb” oàb¬r›rs", &
TÙ®B¬r›rs
, 0, 
NULL
);

2657 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®Locks", "tÙ®‚umb” oàlocks", &
TÙ®Locks
, 0, 
NULL
);

2658 #ifdef 
EDA


2659 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_sync_š¢", "tÙ®‚umb” oàmašh»ad synøš¡ruùiÚ comm™‹d", &
pu»_sync_š¢
,…u»_sync_š¢, 
NULL
);

2660 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_skt_š¢", "tÙ®‚umb” oàmašh»ad skˆš¡ruùiÚ comm™‹d", &
pu»_skt_š¢
,…u»_skt_š¢, 
NULL
);

2662 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_»fs", "tÙ®‚umb” oàlßd ªd stÜe comm™‹d", &
sim_num_»fs
, 0, 
NULL
);

2663 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_lßds", "tÙ®‚umb” oàlßd comm™‹d", &
sim_num_lßds
, 0, 
NULL
);

2664 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_num_¡Ües", "tÙ®‚umb” oà¡Üe comm™‹d", "sim_num_»f - sim_num_lßds", 
NULL
);

2665 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_b¿nches", "tÙ®‚umb” oàb¿nche comm™‹d", &
sim_num_b¿nches
, 0, 
NULL
);

2666 
	`¡©_»g_št
 (
sdb
, "sim_–­£d_time", "tÙ® simuÏtiÚimš secÚds", &
sim_–­£d_time
, 0, 
NULL
);

2667 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_š¡_¿‹", "simuÏtiÚ s³ed (š in¡s/£c)", "sim_num_š¢ / sim_–­£d_time", 
NULL
);

2668 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_š¢", "tÙ®‚umb” oàš¡ruùiÚ execu‹d", &
sim_tÙ®_š¢
, 0, 
NULL
);

2669 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_»fs", "tÙ®‚umb” oàlßd ªd stÜe execu‹d", &
sim_tÙ®_»fs
, 0, 
NULL
);

2670 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_lßds", "tÙ®‚umb” oàlßd execu‹d", &
sim_tÙ®_lßds
, 0, 
NULL
);

2671 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_tÙ®_¡Ües", "tÙ®‚umb” oà¡Üe execu‹d", "sim_tÙ®_»f - sim_tÙ®_lßds", 
NULL
);

2672 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_b¿nches", "tÙ®‚umb” oàb¿nche execu‹d", &
sim_tÙ®_b¿nches
, 0, 
NULL
);

2674 
	`¡©_»g_couÁ”
 (
sdb
, "sim_cyşe", "tÙ® simuÏtiÚimš cyşes", &
sim_cyşe
, 0, 
NULL
);

2675 
	`¡©_»g_couÁ”
 (
sdb
, "»®SimCyşe", "", &
»®SimCyşe
, 0, 
NULL
);

2676 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_IPC", "š¡ruùiÚ ³¸cyşe", "sim_num_š¢ / sim_cyşe", 
NULL
);

2677 
	`¡©_»g_fÜmuÏ
 (
sdb
, "»®SimIPC", "", "pu»_num_š¢ /„—lSimCyşe", 
NULL
);

2678 
	`¡©_»g_fÜmuÏ
 (
sdb
, "mašEfãùiveIPC", "", "pu»_num_š¢ / (»®SimCyş- maš_th»ad_¡®l_couÁ)", 
NULL
);

2679 
	`¡©_»g_couÁ”
 (
sdb
, "num_of_šv®id©iÚs", "Numb”_Of_V®id©iÚs", &
num_of_šv®id©iÚs
, 0, 
NULL
);

2681 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

2682 
	`¡©_»g_couÁ”
 (
sdb
, "busU£d", "Numb” oàtime bu i u£d", &
busU£d
, 0, 
NULL
);

2683 
	`¡©_»g_couÁ”
 (
sdb
, "busOccu·ncy", "Occu·ncy oàbu š‚umb” oàcyşes", &
busOccu·ncy
, 0, 
NULL
);

2684 
	`¡©_»g_fÜmuÏ
 (
sdb
, "busOccu·ncyP”Cyşe", "Bu occu·ncy…” cyşe", "busOccu·ncy /„—lSimCyşe", 
NULL
);

2685 
	`¡©_»g_couÁ”
 (
sdb
, "¡®lNoBusSlÙ", "¡®lNoBusSlÙ", &
¡®lNoBusSlÙ
, 0, 
NULL
);

2687 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_CPI", "cyşe ³¸š¡ruùiÚ", "sim_cyş/ sim_num_š¢", 
NULL
);

2688 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_exec_BW", "tÙ® in¡ruùiÚ (mis-¥eø+ comm™‹dè³¸cyşe", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2689 
	`¡©_»g_couÁ”
 (
sdb
, "ldIssueCouÁ", "tÙ®†d issu©tm•t", &
ldIssueCouÁ
, 0, 
NULL
);

2690 #ifdeà
PULL_BACK


2691 
ch2
[32];

2693 
i
 = 0; i < 
numcÚ‹xts
; i++)

2695 
	`¥rštf
 (
ch2
, "puÎbackCyşeCÁ_%d", 
i
);

2696 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
puÎbackCyşeCouÁ
[
i
], 0, 
NULL
);

2699 #ifdeà
DIRECTORY


2700 
	`¡©_»g_couÁ”
 (
sdb
, "max_lsq_num", "", &
LSQ_NUM_MORE_THAN_TWO
, 0, 
NULL
);

2701 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š‡Î", &
TÙ®D©aPack‘sInAÎ
, 0, 
NULL
);

2702 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š‡Î", &
TÙ®M‘aPack‘sInAÎ
, 0, 
NULL
);

2703 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_sync_couÁs", "tÙ®‚um oàd©¨synø·ck‘ š‡Î", &
TÙ®SyncD©aPack‘s
, 0, 
NULL
);

2704 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_m‘a_sync_couÁs", "tÙ®‚um oàm‘¨synø·ck‘ š‡Î", &
TÙ®SyncM‘aPack‘s
, 0, 
NULL
);

2705 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İtiÿl_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š o±iÿÈÃtwÜk", &
İtiÿl_d©a_·ck‘s
, 0, 
NULL
);

2706 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İtiÿl_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š o±iÿÈÃtwÜk", &
İtiÿl_m‘a_·ck‘s
, 0, 
NULL
);

2707 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š mesh‚‘wÜk", &
mesh_d©a_·ck‘s
, 0, 
NULL
);

2708 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š mesh‚‘wÜk", &
mesh_m‘a_·ck‘s
, 0, 
NULL
);

2709 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_ev’t_couÁ", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®ev’tcouÁnum
, 0, 
NULL
);

2710 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_wb_—¾y", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
wr™e_back_—¾y
, 0, 
NULL
);

2711 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_´eãtch
, 0, 
NULL
);

2712 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_fœ¡_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_fœ¡_´eãtch
, 0, 
NULL
);

2713 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_£c_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_£c_´eãtch
, 0, 
NULL
);

2714 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_u£fuÎ", "tÙ®‚um oàu£fuÎ L1…»ãtch", &
L1_´eãtch_u£fuÎ
, 0, 
NULL
);

2715 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»q_ev’t_couÁ", "tÙ®‚um oà»que¡ƒv’ˆš™® c»©ed", &
tÙ®»qcouÁnum
, 0, 
NULL
);

2716 
	`¡©_»g_couÁ”
 (
sdb
, "StÜeCÚd™iÚFaNum", "TÙ® stÜcÚd™iÚ® faed‚um", &
StÜeCÚd™iÚFaNum
, 0, 
NULL
);

2717 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®Upg¿des
, 0, 
NULL
);

2718 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_ev’t_couÁ", "tÙ®‚um oàmis ev’ˆštŸÈü—‹d", &
tÙ®misscouÁnum
, 0, 
NULL
);

2719 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®N‘Upg¿des
, 0, 
NULL
);

2720 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU§bË", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desU§bË
, 0, 
NULL
);

2721 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desB’eficŸl", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desB’eficŸl
, 0, 
NULL
);

2722 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU£2", "tÙ®‚umb” oàupg¿de u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™No
, 0, 
NULL
);

2724 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Syncd©a", "tÙ®‚umb” oàd©¨·ck‘ dutØsync", &
d©a_·ck‘s_sync
, 0, 
NULL
);

2725 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Syncm‘a", "tÙ®‚umb” oàm‘¨·ck‘ dutØsync", &
m‘a_·ck‘s_sync
, 0, 
NULL
);

2727 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Wr™es", "tÙ®‚umb” oàWr™e £’", &
tÙ®N‘Wr™es
, 0, 
NULL
);

2728 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU§bË", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esU§bË
, 0, 
NULL
);

2729 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esB’eficŸl", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esB’eficŸl
, 0, 
NULL
);

2730 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU£2", "tÙ®‚umb” oàWr™e u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™WM
, 0, 
NULL
);

2731 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®NoExşusive", "tÙ®‚umb” oàWr™e unu§bË beÿu£ oàexşusivsomewh”–£", &
exşusive_somewh”e
, 0, 
NULL
);

2732 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®FrÚtWr™e", "tÙ®‚umb” oàWr™e unu§vË beÿu£ oàäÚˆwr™e", &
äÚt_wr™e
, 0, 
NULL
);

2734 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqH™s", "tÙ®‚um oàwr™ev’ts", &
tÙ®L2Wr™eReqH™s
, 0, 
NULL
);

2735 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqNoSh¬”", "tÙ®‚um oàwr™»q w™h‚Øsh¬”s", &
tÙ®L2Wr™eReqNoSh¬”
, 0, 
NULL
);

2736 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœty", "tÙ®‚um oàwr™»q w™h ju¡ oÃ sh¬”", &
tÙ®L2Wr™eReqDœty
, 0, 
NULL
);

2737 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqDœty", "ExŒ¨d–ayØcom¶‘wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2Wr™eReqDœty
, 0, 
NULL
);

2738 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœtyWT", "tÙ®ime wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2Wr™eReqDœtyWT
, 0, 
NULL
);

2739 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬ed", "tÙ®‚um oàwr™»q w™h muÉË sh¬”s", &
tÙ®L2Wr™eReqSh¬ed
, 0, 
NULL
);

2740 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqSh¬ed", "ExŒ¨d–ayØcom¶‘wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
d–ayL2Wr™eReqSh¬ed
, 0, 
NULL
);

2741 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬edWT", "tÙ®ime wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
tÙ®L2Wr™eReqSh¬edWT
, 0, 
NULL
);

2743 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqH™s", "tÙ®‚um oàR—dƒv’ts", &
tÙ®L2R—dReqH™s
, 0, 
NULL
);

2744 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqNoSh¬”", "tÙ®‚um oàR—d„eq w™h‚Øsh¬”s", &
tÙ®L2R—dReqNoSh¬”
, 0, 
NULL
);

2745 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœty", "tÙ®‚um oàR—d„eq w™h ju¡ oÃ sh¬”", &
tÙ®L2R—dReqDœty
, 0, 
NULL
);

2746 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2R—dReqDœty", "ExŒ¨d–ayØcom¶‘R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2R—dReqDœty
, 0, 
NULL
);

2747 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœtyWT", "tÙ®ime R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2R—dReqDœtyWT
, 0, 
NULL
);

2748 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqSh¬ed", "tÙ®‚um oà»ad„eq w™h muÉË sh¬”s", &
tÙ®L2R—dReqSh¬ed
, 0, 
NULL
);

2750 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fU£", "tÙ® L1†š´eãtche u£ful", &
tÙ®L1LšeP»fU£
, 0, 
NULL
);

2751 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fNoU£", "tÙ® L1†š´eãtche nÙ u£ful", &
tÙ®L1LšeP»fNoU£
, 0, 
NULL
);

2752 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dU£", "tÙ® L1†š»ad mis£ u£ful", &
tÙ®L1LšeR—dU£
, 0, 
NULL
);

2753 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dNoU£", "tÙ® L1†š»ad mis£ nÙ u£ful", &
tÙ®L1LšeR—dNoU£
, 0, 
NULL
);

2754 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eU£", "tÙ® L1†šwr™mis£ u£ful", &
tÙ®L1LšeWr™eU£
, 0, 
NULL
);

2755 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eNoU£", "tÙ® L1†šwr™mis£ nÙ u£ful", &
tÙ®L1LšeWr™eNoU£
, 0, 
NULL
);

2757 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlU£d", "tÙ® L1†ššƒxşusivmodu£ful", &
tÙ®L1LšeExlU£d
, 0, 
NULL
);

2758 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlInv", "tÙ® L1†ššƒxşusivmodšv®id©ed w™houˆu£", &
tÙ®L1LšeExlInv
, 0, 
NULL
);

2759 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlDrİ", "tÙ® L1†ššƒxşusivmoddrİed w™houˆu£", &
tÙ®L1LšeExlDrİ
, 0, 
NULL
);

2761 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqPrimMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
tÙ®L2ReqPrimMiss
, 0, 
NULL
);

2762 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqSecMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
tÙ®L2ReqSecMiss
, 0, 
NULL
);

2763 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqH™", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
tÙ®L2ReqH™
, 0, 
NULL
);

2764 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInT¿ns", "TÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2ReqInT¿ns
, 0, 
NULL
);

2765 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2OwnReqInT¿ns", "TÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2OwnReqInT¿ns
, 0, 
NULL
);

2766 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInInv", "TÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
tÙ®L2ReqInInv
, 0, 
NULL
);

2768 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqPrimMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
d–ayL2ReqPrimMiss
, 0, 
NULL
);

2769 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqSecMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
d–ayL2ReqSecMiss
, 0, 
NULL
);

2770 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqH™", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
d–ayL2ReqH™
, 0, 
NULL
);

2771 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2ReqInT¿ns
, 0, 
NULL
);

2772 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2OwnReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2OwnReqInT¿ns
, 0, 
NULL
);

2773 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInInv", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
d–ayL2ReqInInv
, 0, 
NULL
);

2775 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Wr™eReq
, 0, 
NULL
);

2776 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Wr™eReqInv
, 0, 
NULL
);

2777 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Wr™eD–ay
, 0, 
NULL
);

2778 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Wr™eInvD–ay
, 0, 
NULL
);

2780 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Upg¿deReq
, 0, 
NULL
);

2781 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Upg¿deReqInv
, 0, 
NULL
);

2782 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Upg¿deD–ay
, 0, 
NULL
);

2783 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Upg¿deInvD–ay
, 0, 
NULL
);

2784 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD•’dD–ay", "Tim¥’ˆš d•’d d–ay fÜ upd©»que¡ tØL2", &
Upd©eD•’dCyşe
, 0, 
NULL
);

2786 
	`¡©_»g_couÁ”
 (
sdb
, "couÁNÚAÎocR—dE¬ly", "Numb” oàtime ¨»ad mis »que¡ from L1 ha b“À£rviûdƒ¬ly w™houˆ®loÿtiÚ", &
couÁNÚAÎocR—dE¬ly
, 0, 
NULL
);

2787 #ifdeà
TG


2788 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2789 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»ad_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_»ad_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2790 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_wr™e_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_wr™e_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2792 
	`¡©_»g_couÁ”
 (
sdb
, "L1_mshr_fuÎ", "tÙ®‚umb” oàL1 msh¸ov”æow", &
L1_mshr_fuÎ
, 0, 
NULL
);

2793 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_mshr", "tÙ® sÎ cyşe fÜ L1 msh¸ov”æow", &
SÎ_L1_mshr
, 0, 
NULL
);

2794 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ", "tÙ®‚umb” oàL2 msh¸ov”æow", &
L2_mshr_fuÎ
, 0, 
NULL
);

2795 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L2_mshr", "tÙ® sÎ cyşe fÜ L2 msh¸ov”æow", &
SÎ_L2_mshr
, 0, 
NULL
);

2796 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ_´eãtch", "tÙ®‚umb” oàL2 msh¸ov”æow wh’…»ãtch", &
L2_mshr_fuÎ_´eãtch
, 0, 
NULL
);

2797 
	`¡©_»g_couÁ”
 (
sdb
, "L1_fifo_fuÎ", "tÙ®‚umb” oàL1 fifØov”æow", &
L1_fifo_fuÎ
, 0, 
NULL
);

2798 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_fifo", "tÙ® sÎ cyşe fÜ L1 fifØov”æow", &
SÎ_L1_fifo
, 0, 
NULL
);

2799 
	`¡©_»g_couÁ”
 (
sdb
, "Dœ_fifo_fuÎ", "tÙ®‚umb” oàdœ fifØov”æow", &
Dœ_fifo_fuÎ
, 0, 
NULL
);

2800 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_dœ_fifo", "tÙ® sÎ cyşe fÜ dœ fifØov”æow", &
SÎ_dœ_fifo
, 0, 
NULL
);

2801 
	`¡©_»g_couÁ”
 (
sdb
, "IÅut_queue_fuÎ", "tÙ®‚umb” oàšpuˆqueuov”æow", &
IÅut_queue_fuÎ
, 0, 
NULL
);

2802 
	`¡©_»g_couÁ”
 (
sdb
, "Ouut_queue_fuÎ", "tÙ®‚umb” oàouuˆqueuov”æow", &
Ouut_queue_fuÎ
, 0, 
NULL
);

2803 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_šput_queue", "tÙ® sÎ cyşe dutØšpuˆqueuov”æow", &
SÎ_šput_queue
, 0, 
NULL
);

2804 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_ouut_queue", "tÙ® sÎ cyşe dutØouuˆqueuov”æow", &
SÎ_ouut_queue
, 0, 
NULL
);

2805 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lßd_lšk_sh¬ed", "tÙ®†ßd†šk sh¬ed", &
lßd_lšk_sh¬ed
, 0, 
NULL
);

2806 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lßd_lšk_exşusive", "tÙ®†ßd†šk sh¬ed", &
lßd_lšk_exşusive
, 0, 
NULL
);

2807 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®misshªdËtime
, 0, 
NULL
);

2808 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
Çck_couÁ”
, 0, 
NULL
);

2809 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
æ_couÁ”
, 0, 
NULL
);

2810 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
L1_æ_couÁ”
, 0, 
NULL
);

2811 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_»¶y_b’ef™", "tÙ®‚um oàd©¨»¶y b’ef™", &
e_to_m
, 0, 
NULL
);

2812 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_miss_hªdË_tim/Ù®_ev’t_couÁ", 
NULL
);

2813 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_acûss", "tÙ® mesh_ÃtwÜk‡cûss", &
tÙ®MeshHİCouÁ
, 0, 
NULL
);

2814 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_d–ay", "tÙ® mesh_ÃtwÜk d–ay", &
tÙ®MeshHİD–ay
, 0, 
NULL
);

2815 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_mesh_ÃtwÜk_time", "cyşe ³¸mesh_ÃtwÜk‡cûss", "tÙ®_mesh_ÃtwÜk_d–ay /Ù®_mesh_ÃtwÜk_acûss", 
NULL
);

2816 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_acûss", "tÙ® o±_ÃtwÜk‡cûss", &
tÙ®O±HİCouÁ
, 0, 
NULL
);

2817 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_d–ay", "tÙ® o±_ÃtwÜk d–ay", &
tÙ®O±HİD–ay
, 0, 
NULL
);

2818 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_İt_ÃtwÜk_time", "cyşe ³¸İt_ÃtwÜk‡cûss", "tÙ®_İt_ÃtwÜk_d–ay /Ù®_İt_ÃtwÜk_acûss", 
NULL
);

2819 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_loÿl_ÿche_acûss", "tÙ®†oÿÈdl2 cachacûs numb”", &
loÿl_ÿche_acûss
, 0, 
NULL
);

2820 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»mÙe_ÿche_acûss", "tÙ®„emÙdl2 cachacûs numb”", &
»mÙe_ÿche_acûss
, 0, 
NULL
);

2821 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_wb", "tÙ®wØhİ švŞve dutØwr™back", &
švŞve_2_hİ_wb
, 0, 
NULL
);

2822 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_touch", "tÙ®wØhİ švŞve dutØtouch", &
švŞve_2_hİ_touch
, 0, 
NULL
);

2823 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves", "tÙ®wØhİ švŞves", &
švŞve_2_hİs
, 0, 
NULL
);

2824 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs
, 0, 
NULL
);

2825 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves_wm", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_wm
, 0, 
NULL
);

2826 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves_wm", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_wm
, 0, 
NULL
);

2827 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_miss", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_miss
, 0, 
NULL
);

2828 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_miss", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_miss
, 0, 
NULL
);

2829 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_upg¿de", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_upg¿de
, 0, 
NULL
);

2830 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_upg¿de", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_upg¿de
, 0, 
NULL
);

2831 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_»ad", "tÙ®…riv©d©¨fÜ„—d miss", &
d©a_´iv©e_»ad
, 0, 
NULL
);

2832 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_wr™e", "tÙ®…riv©d©¨fÜ wr™miss", &
d©a_´iv©e_wr™e
, 0, 
NULL
);

2833 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_»ad", "tÙ® sh¬ed d©¨fÜ„—d miss", &
d©a_sh¬ed_»ad
, 0, 
NULL
);

2834 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_wr™e", "tÙ® sh¬ed d©¨fÜ wr™miss", &
d©a_sh¬ed_wr™e
, 0, 
NULL
);

2835 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_şo£", "tÙ®‚umb” oà®Èşo£d cÚsum”s", &
tÙ®_®l_şo£
, 0, 
NULL
);

2836 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÙ_®l_şo£", "tÙ®‚umb” oànÙ‡Î clo£d cÚsum”s", &
tÙ®_nÙ_®l_şo£
, 0, 
NULL
);

2837 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_p_c_ev’ts", "tÙ®…roduû¸ªd cÚsum” ev’t (shouldƒqu®Ø4 hİs)", &
tÙ®_p_c_ev’ts
, 0, 
NULL
);

2838 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_cÚsum”s", "tÙ®‚umb” oàcÚsum”s", &
tÙ®_cÚsum”s
, 0, 
NULL
);

2839 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_š_ÃighbÜ", "tÙ®…ack‘ ¬š‚eighbÜhood", &
tÙ®_·ck‘s_š_ÃighbÜ
, 0, 
NULL
);

2840 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_©_cÜÃrs", "tÙ®…ack‘ ¬© cÜÃrs", &
tÙ®_·ck‘s_©_cÜÃrs
, 0, 
NULL
);

2841 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_®mo¡şo£", "tÙ®‚umb” oà®Èşo£d‡nd cÜÃ¸cÚsum”s", &
tÙ®_®l_®mo¡şo£
, 0, 
NULL
);

2842 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_cÚsum”s", "tÙ® d©¨·ck‘ oàcÚsum”s", &
tÙ®_d©a_cÚsum”s
, 0, 
NULL
);

2843 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_©_cÜÃr", "tÙ® d©¨·ck‘ suµly from‡ˆcÜÃrs", &
tÙ®_d©a_©_cÜÃr
, 0, 
NULL
);

2844 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_şo£", "tÙ® d©¨·ck‘ ¬suµl›d from clo£by sourûs", &
tÙ®_d©a_şo£
, 0, 
NULL
);

2845 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_çr", "tÙ® d©¨·ck‘ ¬sumµl›d from f¬ sourûs", &
tÙ®_d©a_çr
, 0, 
NULL
);

2846 
	`¡©_»g_doubË
 (
sdb
, "av”age_šside_³rûÁ", "av”agšsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_šside_³rûÁ
, 0, 
NULL
);

2847 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_outside_³rûÁ
, 0, 
NULL
);

2848 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_abs_³rûÁ", "av”agabsŞuy outsid·ck‘ ³rûÁ(ç¸- cÜÃr)", &
av”age_outside_abs_³rûÁ
, 0, 
NULL
);

2849 
	`¡©_»g_doubË
 (
sdb
, "av”age_cÜÃr_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(cÜÃr: should bdivided byÙ®_nÙ_®l_şos)", &
av”age_cÜÃr_³rûÁ
, 0, 
NULL
);

2850 #ifdeà
INV_ACK_CON


2851 
	`¡©_»g_doubË
 (
sdb
, "³ndšg_šv®id_cyşes", "how mªy cyşe tØšv®id©thÿchlše", &
³ndšg_šv®id_cyşes
, 0, 
NULL
);

2853 
i
 = 0; i < 100; i++)

2855 
j
 = 0; j < 100; j++)

2857 
	`¥rštf
 (
ch2
, "d©a_·ck‘s_£ndšg_%d_%d", 
i
, 
j
);

2858 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
d©a_·ck‘s_£ndšg
[
i
][
j
], 0, 
NULL
);

2861 
i
 = 0; i < 100; i++)

2863 
j
 = 0; j < 100; j++)

2865 
	`¥rštf
 (
ch2
, "m‘a_·ck‘s_£ndšg_%d_%d", 
i
, 
j
);

2866 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m‘a_·ck‘s_£ndšg
[
i
][
j
], 0, 
NULL
);

2869 
i
 = 0; i < 36; i++)

2871 
	`¥rštf
 (
ch2
, "m‘a_ev’_şo£_%d", 
i
);

2872 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m‘a_ev’_»q_şo£
[
i
], 0, 
NULL
);

2874 
i
 = 0; i < 36; i++)

2876 
	`¥rštf
 (
ch2
, "m‘a_odd_şo£_%d", 
i
);

2877 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m‘a_odd_»q_şo£
[
i
], 0, 
NULL
);

2879 
i
 = 0; i < 
numcÚ‹xts
; i++)

2881 
	`¥rštf
 (
ch2
, "sh¬”_bšcouÁ_%d", 
i
);

2882 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
sh¬”_num
[
i
], 0, 
NULL
);

2885 #ifdeà
MC


2887 
	`İtiÿl_»g_¡©s
 (
sdb
);

2889 #ifdeà
OPTICAL_INTERCONNECT


2890 
	`İtiÿl_»g_¡©s
 (
sdb
);

2894 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_couÁ", "cumuÏtivIFQ occu·ncy", &
IFQ_couÁ
, 0, 
NULL
);

2895 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_fcouÁ", "cumuÏtivIFQ fuÎ couÁ", &
IFQ_fcouÁ
, 0, 
NULL
);

2896 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_occu·ncy", "avg IFQ occu·ncy (š¢'s)", "IFQ_couÁ / sim_cyşe", 
NULL
);

2897 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_¿‹", "avg IFQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2898 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_Ï‹ncy", "avg IFQ occu·Á†©’cy (cyşe's)", "ifq_occu·ncy / ifq_¿‹", 
NULL
);

2899 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_fuÎ", "äaùiÚ oàtim(cyşe'sèIFQ wa fuÎ", "IFQ_fcouÁ / sim_cyşe", 
NULL
);

2901 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_couÁ", "cumuÏtivRUU occu·ncy", &
RUU_couÁ
, 0, 
NULL
);

2902 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_fcouÁ", "cumuÏtivRUU fuÎ couÁ", &
RUU_fcouÁ
, 0, 
NULL
);

2903 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_occu·ncy", "avg RUU occu·ncy (š¢'s)", "RUU_couÁ / sim_cyşe", 
NULL
);

2904 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_¿‹", "avg RUU di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2905 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_Ï‹ncy", "avg RUU occu·Á†©’cy (cyşe's)", "ruu_occu·ncy /„uu_¿‹", 
NULL
);

2906 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_fuÎ", "äaùiÚ oàtim(cyşe'sèRUU wa fuÎ", "RUU_fcouÁ / sim_cyşe", 
NULL
);

2908 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_couÁ", "cumuÏtivLSQ occu·ncy", &
LSQ_couÁ
, 0, 
NULL
);

2909 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_fcouÁ", "cumuÏtivLSQ fuÎ couÁ", &
LSQ_fcouÁ
, 0, 
NULL
);

2910 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_occu·ncy", "avg LSQ occu·ncy (š¢'s)", "LSQ_couÁ / sim_cyşe", 
NULL
);

2911 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_¿‹", "avg LSQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2912 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_Ï‹ncy", "avg LSQ occu·Á†©’cy (cyşe's)", "lsq_occu·ncy /†sq_¿‹", 
NULL
);

2913 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_fuÎ", "äaùiÚ oàtim(cyşe'sèLSQ wa fuÎ", "LSQ_fcouÁ / sim_cyşe", 
NULL
);

2914 
	`¡©_»g_couÁ”
 (
sdb
, "dl2Aùu®lyAcûs£d", "", &
dl2Aùu®lyAcûs£d
, 0, 
NULL
);

2916 
	`¡©_»g_couÁ”
 (
sdb
, "´eãtchLßd", "", &
m_sqP»ãtchCÁ
, 0, 
NULL
);

2918 
i
 = 0; i < 
numcÚ‹xts
; i++)

2920 
ch
[20], 
fm
[30], 
ch2
[20];

2922 
	`¥rštf
 (
ch2
, "brRecov”y_%d", 
i
);

2923 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® wrÚg b¿nches", &
brRecov”y
[
i
], 0, 
NULL
);

2925 
	`¥rštf
 (
ch2
, "exŒaIn¢_%d", 
i
);

2926 
	`¡©_»g_couÁ”
 (
sdb
, "exŒaIn¢", "tÙ®‚umb” oàwrÚg…©h in¢ƒxecu‹d", &
exŒaIn¢
[
i
], 0, 
NULL
);

2929 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2931 
ch2
[20];

2933 #ifdef 
EDA


2934 
	`¥rštf
 (
ch2
, "nÚSktIn¢_%d", 
i
);

2935 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ® NÚ sk–‘Ú in¡ruùiÚ execu‹d", &
nÚSktIn¢
[
i
], 0, 
NULL
);

2936 
	`¥rštf
 (
ch2
, "»cov”yCouÁ_%d", 
i
);

2937 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "Recov”y couÁ", &
»cov”yCouÁ
[
i
], 0, 
NULL
);

2938 
	`¥rštf
 (
ch2
, "¡®lCC_BOQEm±y_%d", 
i
);

2939 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "CÜ»ùÃs cÜãtch sÎ dutØBOQƒm±y", &
numBCQEm±y
[
i
], 0, 
NULL
);

2940 
	`¥rštf
 (
ch2
, "tÙ®R–CE_%d", 
i
);

2941 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ® Dl0 cacheviùiÚs.", &
tÙ®R–CE
[
i
], 0, 
NULL
);

2942 
	`¥rštf
 (
ch2
, "numSyncIn¡_%d", 
i
);

2943 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ®‚um oàsynchrÚiz©iÚ in¡ruùiÚs", &
numSyncIn¡
[
i
], 0, 
NULL
);

2947 
i
 = 0; i < 
MAXTHREADS
; i++)

2949 
ch2
[20];

2952 
	`¥rštf
 (
ch2
, "th»ad_sim_š¢_%d", 
i
);

2953 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "³¸th»ad sim‚um in¢", &
simIn¢
[
i
], 0, 
NULL
);

2954 
	`¥rštf
 (
ch2
, "SÎCouÁ_%d", 
i
);

2955 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® sÎ couÁ", &
¦“pCouÁ
[
i
], 0, 
NULL
);

2956 
	`¥rštf
 (
ch2
, "qu›n£Wakeup_%d", 
i
);

2957 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
qu›n£Wakeup
[
i
], 0, 
NULL
);

2958 
	`¥rštf
 (
ch2
, "£qCÚsR•Ïy_%d", 
i
);

2959 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsR•Ïy
[
i
], 0, 
NULL
);

2960 
	`¥rštf
 (
ch2
, "£qCÚsIn¢R•Ïy_%d", 
i
);

2961 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsIn¢R•Ïy
[
i
], 0, 
NULL
);

2962 
	`¥rštf
 (
ch2
, "ld¡RejeùiÚCouÁ_%d", 
i
);

2963 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
ld¡RejeùiÚCouÁ
[
i
], 0, 
NULL
);

2964 
	`¥rštf
 (
ch2
, "TrueR•Ïy_%d", 
i
);

2965 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqNumLdR•Ïy
[
i
], 0, 
NULL
);

2967 
	`¥rštf
 (
ch2
, "Inv®id©iÚR•Ïy_%d", 
i
);

2968 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
šv®id©iÚ_»¶ay
[
i
], 0, 
NULL
);

2970 #ifdeà
RELAXED_CONSISTENCY


2971 
	`¥rštf
 (
ch2
, "lßdLßdR•Ïy_%d", 
i
);

2972 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
lßdLßdR•ÏyCouÁ
[
i
], 0, 
NULL
);

2974 
	`¥rštf
 (
ch2
, "avgRUUsize_%d", 
i
);

2975 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgRUUsize
[
i
], 0, 
NULL
);

2976 
	`¥rštf
 (
ch2
, "avgLQsize_%d", 
i
);

2977 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgLQsize
[
i
], 0, 
NULL
);

2978 
	`¥rštf
 (
ch2
, "avgSQsize_%d", 
i
);

2979 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgSQsize
[
i
], 0, 
NULL
);

2980 
	`¥rštf
 (
ch2
, "Comm™SÎ_%d", 
i
);

2981 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_comm™SÎ
[
i
], 0, 
NULL
);

2982 
	`¥rštf
 (
ch2
, "TÙ®SÎ_%d", 
i
);

2983 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_tÙ®SÎ
[
i
], 0, 
NULL
);

2984 
	`¥rštf
 (
ch2
, "RUUSÎ_%d", 
i
);

2985 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_RUUFuÎ
[
i
], 0, 
NULL
);

2986 
	`¥rštf
 (
ch2
, "LQSÎ_%d", 
i
);

2987 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqLQFuÎ
[
i
], 0, 
NULL
);

2988 
	`¥rštf
 (
ch2
, "SQSÎ_%d", 
i
);

2989 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqSQFuÎ
[
i
], 0, 
NULL
);

2990 
	`¥rštf
 (
ch2
, "StÜeMissSÎ_%d", 
i
);

2991 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeMiss
[
i
], 0, 
NULL
);

2992 
	`¥rštf
 (
ch2
, "LQH™SÎ_%d", 
i
);

2993 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdR—lH™
[
i
], 0, 
NULL
);

2994 
	`¥rštf
 (
ch2
, "LQMissSÎ_%d", 
i
);

2995 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdR—lMiss
[
i
], 0, 
NULL
);

2996 
	`¥rštf
 (
ch2
, "SQH™SÎ_%d", 
i
);

2997 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeR—lH™
[
i
], 0, 
NULL
);

2998 
	`¥rštf
 (
ch2
, "SQMissSÎ_%d", 
i
);

2999 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeR—lMiss
[
i
], 0, 
NULL
);

3000 
	`¥rštf
 (
ch2
, "StÜeSÎMiss_%d", 
i
);

3001 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeSÎMiss
[
i
], 0, 
NULL
);

3002 
	`¥rštf
 (
ch2
, "StÜeSÎH™_%d", 
i
);

3003 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeSÎH™
[
i
], 0, 
NULL
);

3004 
	`¥rštf
 (
ch2
, "LßdSÎMiss_%d", 
i
);

3005 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdSÎMiss
[
i
], 0, 
NULL
);

3006 
	`¥rštf
 (
ch2
, "LßdSÎH™_%d", 
i
);

3007 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdSÎH™
[
i
], 0, 
NULL
);

3008 
	`¥rštf
 (
ch2
, "StÜeUpd©eMissSÎ_%d", 
i
);

3009 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeUpd©eMiss
[
i
], 0, 
NULL
);

3010 
	`¥rštf
 (
ch2
, "LßdMissSÎ_%d", 
i
);

3011 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdMiss
[
i
], 0, 
NULL
);

3012 
	`¥rštf
 (
ch2
, "RegSÎ_%d", 
i
);

3013 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_»gFuÎ
[
i
], 0, 
NULL
);

3014 
	`¥rštf
 (
ch2
, "IssueSÎ_%d", 
i
);

3015 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_issueFuÎ
[
i
], 0, 
NULL
);

3016 
	`¥rštf
 (
ch2
, "Il1missSÎ_%d", 
i
);

3017 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_1Miss
[
i
], 0, 
NULL
);

3018 
	`¥rštf
 (
ch2
, "F‘chSÎ_%d", 
i
);

3019 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_ãtchEm±y
[
i
], 0, 
NULL
);

3020 
	`¥rštf
 (
ch2
, "STLCSÎ_%d", 
i
);

3021 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_STLC
[
i
], 0, 
NULL
);

3022 
	`¥rštf
 (
ch2
, "T¿pSÎ_%d", 
i
);

3023 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_Œ­
[
i
], 0, 
NULL
);

3026 #ifdeà
LOAD_PREDICTOR


3028 ià(
ld´ed
)

3029 
	`b´ed_»g_¡©s
 (
ld´ed
, 
sdb
, 0);

3033 
i
 = 0; i < 
numcÚ‹xts
; i++)

3035 
	`ld_»g_¡©s
 (
sdb
, 
i
);

3036 
	`mem_»g_¡©s
 (
thecÚ‹xts
[
i
]->
mem
, 
sdb
);

3039 
i
 = 0; i < 
MAXTHREADS
; i++)

3041 ià(
ÿche_dl1
[
i
])

3042 
	`ÿche_»g_¡©s
 (
ÿche_dl1
[
i
], 
sdb
, i);

3043 ià(
ÿche_1
[
i
])

3044 
	`ÿche_»g_¡©s
 (
ÿche_1
[
i
], 
sdb
, i);

3045 ià(
™lb
[
i
])

3046 
	`ÿche_»g_¡©s
 (
™lb
[
i
], 
sdb
, i);

3047 ià(
db
[
i
])

3048 
	`ÿche_»g_¡©s
 (
db
[
i
], 
sdb
, i);

3052 ià(
ÿche_dl2
)

3053 
	`ÿche_»g_¡©s
 (
ÿche_dl2
, 
sdb
, 0);

3056 
	`pow”_»g_¡©s
 (
sdb
);

3059 
	`¡©_»g_couÁ”
 (
sdb
, "sim_šv®id_addrs", "tÙ®‚Ú-¥ecuÏtivbogu add»s£ £’ (debug v¬)", &
sim_šv®id_addrs
, 0, 
NULL
);

3061 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

3063 
buf
[512], 
buf1
[512];

3064 
¡©_¡©_t
 *
¡©
;

3068 
¡©
 = 
	`¡©_fšd_¡©
 (
sdb
, 
pc¡©_v¬s
[
i
]);

3069 ià(!
¡©
)

3070 
	`çl
 ("ÿÂÙ†oÿ‹‡ny sti¡iøÇmed `%s'", 
pc¡©_v¬s
[
i
]);

3073 ià(
¡©
->
sc
 !ğ
sc_št
 && st->sø!ğ
sc_ušt
 && st->sø!ğ
sc_couÁ”
)

3074 
	`çl
 ("`-pc¡©' sti¡iÿÈv¬ŸbË `%s' i nÙ‡Àš‹g¿Èty³", 
¡©
->
Çme
);

3077 
pc¡©_¡©s
[
i
] = 
¡©
;

3078 
pc¡©_Ï¡v®s
[
i
] = 
	`STATVAL
 (
¡©
);

3081 
	`¥rštf
 (
buf
, "%s_by_pc", 
¡©
->
Çme
);

3082 
	`¥rštf
 (
buf1
, "% (byexˆadd»ss)", 
¡©
->
desc
);

3083 
pc¡©_sdi¡s
[
i
] = 
	`¡©_»g_sdi¡
 (
sdb
, 
buf
, 
buf1
,

3085  (
PF_COUNT
 | 
PF_PDF
),

3087  
NULL
);

3091 #ifdeà
TOKENB


3092 ià(
tok’B
)

3093 
	`tc_»g_¡©s
 (
sdb
);

3095 
	`şu¡”_»g_¡©s
 (
sdb
);

3096 
	}
}

3099 
lsq_š™
 ();

3100 
r¦šk_š™
 (
Æšks
);

3101 
rs_ÿche_š™
 ();

3102 
ev’tq_š™
 ();

3103 
»adyq_š™
 ();

3104 
cv_š™
 (
th»adid
);

3105 
ruu_š™
 (
th»adid
);

3106 
Œaûr_š™
 (
th»adid
);

3107 
ãtch_š™
 (
th»adid
);

3109 #ifdeà
DIRECTORY


3110 
dœ_ev’tq_š™
();

3115 
	$sim_š™
 ()

3117 
i
;

3119 
sim_num_»fs
 = 0;

3121 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

3124 ià(
bimod_ÃÉ
 != 1)

3125 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3126 ià(
btb_ÃÉ
 != 2)

3127 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3130 
i
 = 0; i < 
numcÚ‹xts
; i++)

3132 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

3133  
bimod_cÚfig
[0],

3139  
btb_cÚfig
[0],

3140  
btb_cÚfig
[1],

3141  
¿s_size
);

3144 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

3147 ià(
twŞev_ÃÉ
 != 4)

3148 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3149 ià(
btb_ÃÉ
 != 2)

3150 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3152 
i
 = 0; i < 
numcÚ‹xts
; i++)

3154 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

3156  
twŞev_cÚfig
[0],

3157  
twŞev_cÚfig
[1],

3159  
twŞev_cÚfig
[2],

3160  
twŞev_cÚfig
[3],

3161  
btb_cÚfig
[0],

3162  
btb_cÚfig
[1],

3163  
¿s_size
);

3166 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

3169 ià(
twŞev_ÃÉ
 != 4)

3170 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3171 ià(
bimod_ÃÉ
 != 1)

3172 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3173 ià(
comb_ÃÉ
 != 1)

3174 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

3175 ià(
btb_ÃÉ
 != 2)

3176 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3178 
i
 = 0; i < 
numcÚ‹xts
; i++)

3180 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

3181  
bimod_cÚfig
[0],

3182  
twŞev_cÚfig
[0],

3183  
twŞev_cÚfig
[1],

3184  
comb_cÚfig
[0],

3185  
twŞev_cÚfig
[2],

3186  
twŞev_cÚfig
[3],

3187  
btb_cÚfig
[0],

3188  
btb_cÚfig
[1],

3189  
¿s_size
);

3193 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


3194 #iâdeà
CENTRALIZED_CACHE_BANK


3195 ià(
»s_membªk
 < 
CLUSTERS
)

3197 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3198 
	`årštf
 (
¡d”r
, "„es_membªk %d < CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3199 
	`ex™
 (1);

3202 ià(
»s_membªk
 !ğ
CLUSTERS
)

3204 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3205 
	`årštf
 (
¡d”r
, "„es_membªk %d !ğ CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3206 
	`ex™
 (1);

3211 #ifdeà
PORT_PER_BANK


3212 
CACHEPORTS
 = 
RES_CACHEPORTS
 = 
RES_CACHE_PORTS
 = 
»s_membªk
;

3213 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

3216 #ifdeà
ISSUE_PER_CLUSTER


3222 
i
 = 0; i < 
numcÚ‹xts
; i++)

3224 ià(
i
 == 0)

3226 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
Vdd
 * Vdd;

3227 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* (
Vdd
 / 2) * (Vdd / 2);

3228 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 1;

3232 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * 
Vdd
 * checkerVDD * Vdd;

3233 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * (
Vdd
 / 2) * checkerVDD * (Vdd / 2);

3234 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 
check”VDD
;

3237 
	`ÿlcuÏ‹_pow”
 (&(
thecÚ‹xts
[
i
]->
pow”
));

3239 ià(
i
)

3241 
thecÚ‹xts
[
i
]->
pow”
.
b´ed_pow”
 = 0;

3242 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_pow”
 =hecontexts[0]->power.dcache2_power;

3244 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_decod”
 =hecontexts[0]->power.dcache2_decoder;

3245 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_wÜdlše
 =hecontexts[0]->power.dcache2_wordline;

3246 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_b™lše
 =hecontexts[0]->power.dcache2_bitline;

3247 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_£n£amp
 =hecontexts[0]->power.dcache2_senseamp;

3248 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_g¬¿y
 =hecontexts[0]->power.dcache2_tagarray;

3249 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_gc
 =hecontexts[0]->power.dcache2_gc;

3253 ià(
hÙ¥Ù_aùive
)

3254 
	`hÙ¥Ù_š™
 ();

3255 
	}
}

3259 
simoo_»g_obj
 (
»gs_t
 *
»gs
,

3260 
is_wr™e
,

3261 
md_»g_ty³
 
¹
,

3262 
»g
,

3263 
ev®_v®ue_t
 *
v®
);

3267 
simoo_mem_obj
 (
mem_t
 *
mem
,

3268 
is_wr™e
,

3269 
md_addr_t
 
addr
,

3270 *
p
,

3271 
nby‹s
);

3275 
simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

3276 *
cmd
,

3277 
»gs_t
 *
»gs
,

3278 
mem_t
 *
mem
);

3281 
	#MAX_RS_LINKS
 65536

	)

3282 
couÁ”_t
 
	grs_lšk_num
 = 0;

3284 
	gMAX_BR_NUM
;

3288 
	$sim_lßd_th»ads
 (
¬gc
, **
¬gv
,

3289 **
’vp
)

3291 
j
, 
¬g_¡©us
 = 1;

3292 
cÚ‹xt
 *
cu¼’t
;

3294 
numcÚ‹xts
 = 0;

3295 
j
 = 0; (j < 
¬gc
è&& (
numcÚ‹xts
 < 
MAXTHREADS
è&& 
¬g_¡©us
; j++)

3297 
	`årštf
 (
¡d”r
, "š™Ÿlizšg cÚ‹xˆ%d\n", 
numcÚ‹xts
);

3299 
¬g_¡©us
 = 
	`»ad_th»ad_¬gs
 (
’vp
, 
¬gv
[
j
], &
numcÚ‹xts
);

3301 
cu¼’t
 = 
thecÚ‹xts
[
j
];

3303 
cu¼’t
->
aùu®id
 = 0;

3306 
	`ld_lßd_´og
 (
cu¼’t
->
âame
, cu¼’t->
¬gc
, cu¼’t->
¬gv
, 
’vp
, &(cu¼’t->
»gs
), cu¼’t->
mem
, 
TRUE
, 
j
);

3310 ià(
±¿û_ÃÉ
 == 2)

3313 
	`±¿û_İ’
 ( 
±¿û_İts
[0],…trace_opts[1]);

3315 ià(
±¿û_ÃÉ
 == 0)

3320 
	`çl
 ("bad…ipetrace‡rgs, use: <fname|stdout|stderr> <range>");

3323 
MAX_BR_NUM
 = 
ruu_ifq_size
 + 
RUU_size
;

3328 
fu_poŞ
 = 
	`»s_ü—‹_poŞ
 ("fu-poŞ", 
fu_cÚfig
, 
	`N_ELT
 (fu_config));

3329 
	`r¦šk_š™
 (
MAX_RS_LINKS
);

3330 
	`rs_ÿche_š™
();

3331 
aùivecÚ‹xts
 = 
numcÚ‹xts
;

3332 
j
 = 0; j < 
numcÚ‹xts
; j++)

3333 
	`Œaûr_š™
 (
j
);

3334 
j
 = 0; j < 
numcÚ‹xts
; j++)

3335 
	`ãtch_š™
 (
j
);

3336 
j
 = 0; j < 
numcÚ‹xts
; j++)

3337 
	`cv_š™
 (
j
);

3338 
	`ev’tq_š™
 ();

3339 
	`»adyq_š™
 ();

3341 #ifdeà
DIRECTORY


3342 
	`dœ_ev’tq_š™
();

3343 
j
 = 0; j < 
numcÚ‹xts
+
mesh_size
*2; j++)

3345 
dœ_fifo_h—d
[
j
] = 0;

3346 
dœ_fifo_
[
j
] = 0;

3347 
dœ_fifo_num
[
j
] = 0;

3348 
dœ_fifo_pÜtu£
[
j
] = 0;

3349 
l1_fifo_h—d
[
j
] = 0;

3350 
l1_fifo_
[
j
] = 0;

3351 
l1_fifo_num
[
j
] = 0;

3352 
l1_fifo_pÜtu£
[
j
] = 0;

3353 
mshr_³ndšg_ev’t
[
j
] = 0;

3354 
Ï¡_L1_mshr_fuÎ
[
j
] = 0;

3355 
Ï¡_L1_fifo_fuÎ
[
j
] = 0;

3356 
Ï¡_Dœ_fifo_fuÎ
[
j
] = 0;

3357 
Ï¡_IÅut_queue_fuÎ
[
j
] = 0;

3359 
Ï¡_L2_mshr_fuÎ
 = 0;

3360 
§me_L1_L2_fifo_fuÎ
 = 0;

3361 
L1_mshr_fuÎ
 = 0;

3362 
L2_mshr_fuÎ
 = 0;

3363 
L2_mshr_fuÎ_´eãtch
 = 0;

3364 
L1_fifo_fuÎ
 = 0;

3365 
Dœ_fifo_fuÎ
 = 0;

3366 
IÅut_queue_fuÎ
 = 0;

3367 
Ouut_queue_fuÎ
 = 0;

3369 
SÎ_L1_mshr
 = 0;

3370 
SÎ_L2_mshr
 = 0;

3371 
SÎ_L1_fifo
 = 0;

3372 
SÎ_dœ_fifo
 = 0;

3373 
SÎ_šput_queue
 = 0;

3374 
SÎ_ouut_queue
 = 0;

3377 
j
 = 0; j < 
numcÚ‹xts
; j++)

3379 
	`ruu_š™
 (
j
);

3380 
	`lsq_š™
 (
j
);

3383 
j
 = 0; j < 
numcÚ‹xts
; j++)

3385 
´iÜ™y
[
j
] = j;

3386 
key
[
j
] = 0;

3387 #ifdeà
INTERVAL_BASED


3388 
š‹rv®_´iÜ™y
[
j
] = j;

3389 
š‹rv®_key
[
j
] = 0;

3393 #ifdeà 
CLUSTER_PRIORITY


3394 
j
 = 0; j < 
CLUSTERS
; j++)

3395 
´iÜ™y_ş
[
j
] = j;

3398 #ifdeà 
PRIORITY_STEER


3399 
j
 = 0; j < 
CLUSTERS
; j++)

3400 
´iÜ™y_ş
[
j
] = j;

3403 #ifdeà 
STEER_DISPATCH_STAT


3404 
j
 = 0; j < 
numcÚ‹xts
; j++)

3405 
»ady_¡“r_thrd_max
[
j
] = 
»ady_¡“r_thrd_mš
[j] = 
»ady_¡“r_thrd_v®ue
[j] = 
MAXDEV
 / 2;

3408 #ià
	`defšed
(
DLITE_SUPPORT
)

3410 
	`dl™e_š™
 (
simoo_»g_obj
, 
simoo_mem_obj
, 
simoo_m¡©e_obj
);

3412 
	}
}

3416 
	$sim_aux_¡©s
 (
FILE
 * 
¡»am
)

3419 
	}
}

3423 
	$sim_unš™
 ()

3425 ià(
±¿û_ÃÉ
 > 0)

3426 
	`±¿û_şo£
 ();

3429 
	}
}

3436 #iâdeà 
STEER_DISPATCH_STAT


3438 
	#OPERANDS_READY
(
RS
è\

	)

3439 ((
	gRS
)->
	gid•_»ady
[0] && (RS)->idep_ready[1] && (RS)->idep_ready[2])

3443 
	#ONE_OPERANDS_READY
(
RS
è\

	)

3444 ((
	gRS
)->
	gid•_»ady
[0] || (RS)->idep_ready[1])

3449 
	$ruu_š™
 (
th»adid
)

3451 
i
 = 0;

3452 
cÚ‹xt
 *
cu¼’t
;

3454 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3455 
cu¼’t
->
RUU
 = 
	`ÿÎoc
 (
RUU_size
,  (
RUU_¡©iÚ
));

3456 ià(!
cu¼’t
->
RUU
)

3457 
	`çl
 ("out of virtual memory");

3459 
i
 = 0; i < 
RUU_size
; i++)

3461 
cu¼’t
->
RUU
[
i
].
šdex
 = i;

3462 
cu¼’t
->
RUU
[
i
].
th»adid
 =hreadid;

3464 
cu¼’t
->
RUU_num
 = 0;

3465 
cu¼’t
->
RUU_h—d
 = cu¼’t->
RUU_
 = 0;

3466 
cu¼’t
->
RUU_couÁ_thrd
 = 0;

3467 
cu¼’t
->
RUU_fcouÁ_thrd
 = 0;

3468 
RUU_couÁ
 = 0;

3469 
RUU_fcouÁ
 = 0;

3471 ià(
th»adid
)

3473 
cu¼’t
->
cyşe_mask
 = 0xffffffff;

3474 
cu¼’t
->
Ï‹ncy_çùÜ
 = 1;

3475 
cu¼’t
->
maš_th»ad
 = 1;

3476 
ÿche_dl1
[
th»adid
]->
h™_Ï‹ncy
 *ğ
cu¼’t
->
Ï‹ncy_çùÜ
;

3479 
i
 = 0; i < 
CLUSTERS
; i++)

3481 
œegfe_ş_couÁ
[
i
] = 0;

3482 
›xŒa_ş_couÁ
[
i
] = 0;

3483 
äegfe_ş_couÁ
[
i
] = 0;

3484 
ãxŒa_ş_couÁ
[
i
] = 0;

3485 
iissueq_ş_couÁ
[
i
] = 0;

3486 
fissueq_ş_couÁ
[
i
] = 0;

3487 #ifdeà
RAW


3488 
¿wq_ş_couÁ
[
i
] = 0;

3491 
	}
}

3495 
	$ruu_dum³Á
 (
RUU_¡©iÚ
 *
rs
,

3496 
šdex
,

3497 
FILE
 * 
¡»am
,

3498 
h—d”
)

3500 ià(!
¡»am
)

3501 
¡»am
 = 
¡d”r
;

3503 ià(
h—d”
)

3504 
	`årštf
 (
¡»am
, "idx: %2d: opcode: %s, in¡: `", 
šdex
, 
	`MD_OP_NAME
 (
rs
->
İ
));

3506 
	`årštf
 (
¡»am
, " opcode: %s, in¡: `", 
	`MD_OP_NAME
 (
rs
->
İ
));

3507 
	`md_´št_š¢
 (
rs
->
IR
,„s->
PC
, 
¡»am
);

3508 
	`årštf
 (
¡»am
, "'\n");

3509 
	`myårštf
 (
¡»am
, " PC: 0x%08p, NPC: 0x%08°Õ»d_PC: 0x%08p)\n", 
rs
->
PC
,„s->
Ãxt_PC
,„s->
´ed_PC
);

3510 
	`årštf
 (
¡»am
, " in_LSQ: %s,ƒa_comp: %s,„ecov”_š¡: %s\n", 
rs
->
š_LSQ
 ? "t" : "f",„s->
—_comp
 ? "t" : "f",„s->
»cov”_š¡
 ? "t" : "f");

3511 
	`myårštf
 (
¡»am
, " s³c_mode: %s,‡ddr: 0x%08p,ag: 0x%08x\n", 
rs
->
¥ec_mode
 ? "t" : "f",„s->
addr
,„s->
g
);

3512 
	`årštf
 (
¡»am
, " seq: 0x%08x,…Œaû_£q: 0x%08x\n", 
rs
->
£q
,„s->
±¿û_£q
);

3513 
	`årštf
 (
¡»am
, " queued: %s, issued: %s, com¶‘ed: %s\n", 
rs
->
queued
 ? "t" : "f",„s->
issued
 ? "t" : "f",„s->
com¶‘ed
 ? "t" : "f");

3514 
	`årštf
 (
¡»am
, " o³¿nd »ady: %s\n", 
	`OPERANDS_READY
 (
rs
) ? "t" : "f");

3515 
	}
}

3519 
	$ruu_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

3521 
num
, 
h—d
;

3522 
RUU_¡©iÚ
 *
rs
;

3524 
cÚ‹xt
 *
cu¼’t
;

3526 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3528 ià(!
¡»am
)

3529 
¡»am
 = 
¡d”r
;

3531 
	`årštf
 (
¡»am
, "** Th»ad %d **\n", 
th»adid
);

3532 
	`årštf
 (
¡»am
, "** RUU state **\n");

3533 
	`årštf
 (
¡»am
, "RUU_h—d: %d, RUU_: %d\n", 
cu¼’t
->
RUU_h—d
, cu¼’t->
RUU_
);

3534 
	`årštf
 (
¡»am
, "RUU_num: %d\n", 
cu¼’t
->
RUU_num
);

3536 
num
 = 
cu¼’t
->
RUU_num
;

3537 
h—d
 = 
cu¼’t
->
RUU_h—d
;

3538 
num
)

3540 
rs
 = &(
cu¼’t
->
RUU
[
h—d
]);

3541 
	`ruu_dum³Á
 (
rs
,„ - 
cu¼’t
->
RUU
, 
¡»am
, 
TRUE
);

3542 
h—d
 = (h—d + 1è% 
RUU_size
;

3543 
num
--;

3545 
	}
}

3549 
	$lsq_š™
 (
th»adid
)

3551 
i
 = 0;

3552 
cÚ‹xt
 *
cu¼’t
;

3554 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3556 
cu¼’t
->
LSQ
 = 
	`ÿÎoc
 (
LSQ_size
,  (
RUU_¡©iÚ
));

3557 ià(!
cu¼’t
->
LSQ
)

3558 
	`çl
 ("out of virtual memory");

3559 
i
 = 0; i < 
LSQ_size
; i++)

3561 
cu¼’t
->
LSQ
[
i
].
šdex
 = i;

3562 
cu¼’t
->
LSQ
[
i
].
th»adid
 =hreadid;

3564 
cu¼’t
->
LSQ_num
 = 0;

3565 
cu¼’t
->
LSQ_h—d
 = cu¼’t->
LSQ_
 = 0;

3566 
cu¼’t
->
LSQ_couÁ
 = 0;

3567 
cu¼’t
->
LSQ_fcouÁ
 = 0;

3568 
cu¼’t
->
m_shLQNum
 = 0;

3569 
cu¼’t
->
m_shSQNum
 = 0;

3570 
m_tÙ®SÎ
[
th»adid
] = 0;

3571 
m_sqLQFuÎ
[
th»adid
] = 0;

3572 
m_sqSQFuÎ
[
th»adid
] = 0;

3573 
m_RUUFuÎ
[
th»adid
] = 0;

3574 
m_comm™SÎ
[
th»adid
] = 0;

3576 
	}
}

3581 #ifdeà
COUNT_LSQ


3582 
	gnÚ_issue_LSQ_num
;

3590 
	#STORE_OP_INDEX
 0

	)

3591 
	#STORE_ADDR_INDEX
 1

	)

3593 
	#STORE_OP_READY
(
RS
è((RS)->
id•_»ady
[
STORE_OP_INDEX
])

	)

3594 
	#STORE_ADDR_READY
(
RS
è((RS)->
id•_»ady
[
STORE_ADDR_INDEX
])

	)

3610 
RS_lšk
 *
	gr¦šk_ä“_li¡
;

3611 
RS_lšk
 *
	gr¦šk_li¡
[
MAX_RS_LINKS
];

3614 #ifdeà
DIRECTORY


3615 
RS_li¡
 *
	grs_ÿche_li¡
[
MAXTHREADS
][
MSHR_SIZE
];

3618 
RS_lšk
 
	gRSLINK_NULL
 = 
RSLINK_NULL_DATA
;

3619 
couÁ”_t
 
	grs_lšk_id
 = 0;

3622 
	#RSLINK_INIT
(
RSL
, 
RS
è\

	)

3623 ((
	gRSL
).
	gÃxt
 = 
NULL
, (RSL).
	grs
 = (
RS
), (RSL).
	gg
 = (RS)->
g
)

3626 
	#RSLINK_IS_NULL
(
LINK
è((LINK)->
rs
 =ğ
NULL
)

	)

3629 
	#RSLINK_VALID
(
LINK
è((LINK)->
g
 =ğ(LINK)->
rs
->g)

	)

3632 
	#RSLINK_RS
(
LINK
è((LINK)->
rs
)

	)

3635 
	#RSLINK_NEW
(
DST
, 
RS
è\

	)

3636 { 
RS_lšk
 *
	gn_lšk
; \

3637 ià(!
	gr¦šk_ä“_li¡
) \

3638 
·nic
("out of„s†inks"); \

3639 
	grs_lšk_num
++; \

3640 
	gn_lšk
 = 
r¦šk_ä“_li¡
; \

3641 
	gr¦šk_ä“_li¡
 = 
r¦šk_ä“_li¡
->
Ãxt
; \

3642 
	gn_lšk
->
	gÃxt
 = 
NULL
; \

3643 
	gn_lšk
->
	grs
 = (
RS
);‚_lšk->
	gg
 = 
n_lšk
->
rs
->
g
; \

3644 
	gn_lšk
->
	gÏ¡_u£
 = 
sim_cyşe
; \

3645 (
	gDST
èğ
n_lšk
; \

3649 
	#RSLINK_FREE
(
LINK
è\

	)

3650 { 
RS_lšk
 *
	gf_lšk
 = (
LINK
); \

3651 
	gf_lšk
->
	grs
 = 
NULL
; f_lšk->
	gg
 = 0; \

3652 
	gf_lšk
->
	gÃxt
 = 
r¦šk_ä“_li¡
; \

3653 
	gr¦šk_ä“_li¡
 = 
f_lšk
; \

3654 
	grs_lšk_num
--; \

3659 
	#RSLINK_FREE_LIST
(
LINK
è\

	)

3660 { 
RS_lšk
 *
	gæ_lšk
, *
	gæ_lšk_Ãxt
; \

3661 
	gæ_lšk
=(
LINK
); fl_lšk; fl_lšk=
æ_lšk_Ãxt
) \

3663 
æ_lšk_Ãxt
 = 
æ_lšk
->
Ãxt
; \

3664 
RSLINK_FREE
(
æ_lšk
); \

3670 
	$r¦šk_š™
 (
Æšks
)

3672 
i
;

3673 
RS_lšk
 *
lšk
;

3675 
r¦šk_ä“_li¡
 = 
NULL
;

3676 
i
 = 0; i < 
Æšks
; i++)

3678 
lšk
 = 
	`ÿÎoc
 (1,  (
RS_lšk
));

3679 ià(!
lšk
)

3680 
	`çl
 ("out of virtual memory");

3681 
r¦šk_li¡
[
i
] = 
lšk
;

3682 
lšk
->
Ãxt
 = 
r¦šk_ä“_li¡
;

3683 
r¦šk_ä“_li¡
 = 
lšk
;

3685 
	}
}

3687 
RS_lšk
 * 
	$fšdMax_r¦šk
()

3689 
i
, 
max_id
;

3690 
RS_lšk
 *
lšk
;

3691 
couÁ”_t
 
max
 = 0;

3693 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

3695 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 > 
max
)

3697 
max
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

3698 
max_id
 = 
i
;

3701  
r¦šk_li¡
[
max_id
];

3702 
	}
}

3704 
RS_lšk
 * 
	$fšdMš_r¦šk
()

3706 
i
, 
mš_id
;

3707 
RS_lšk
 *
lšk
;

3708 
couÁ”_t
 
mš
 = 
WAIT_TIME
;

3710 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

3712 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 < 
mš
)

3714 
mš
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

3715 
mš_id
 = 
i
;

3718  
r¦šk_li¡
[
mš_id
];

3719 
	}
}

3721 #ifdeà
DIRECTORY


3723 
	$rs_ÿche_š™
()

3725 
i
, 
n
;

3726 
n
 = 0;‚ < 
MAXTHREADS
;‚++)

3728 
i
=0; i<
MSHR_SIZE
; i++)

3729 
rs_ÿche_li¡
[
n
][
i
] = 
NULL
;

3731 
	}
}

3738 
	$check_fu_busy
 ()

3740 
i
;

3742 
i
 = 0; i < 
numcÚ‹xts
; i++)

3744 
fu_busy
[
i
] = 0;

3748 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

3750 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
)

3751 
fu_busy
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]++;

3753 
	}
}

3763 
	$ruu_»Ëa£_fu
 ()

3765 
i
;

3768 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

3771 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
 > 0)

3773 
fu_poŞ
->
»sourûs
[
i
].
busy
--;

3775 #ifdeà 
PWR_ALU


3776 #ifdeà
ALU_MERGE


3777 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

3779 
Ÿlu1_acûss
++;

3780 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

3782 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

3784 
çlu1_acûss
++;

3785 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

3788 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

3790 
Ÿlu1_acûss
++;

3791 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

3793 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IMULT_INDEX
)

3795 
Ÿlu2_acûss
++;

3796 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu2_acûss
++;

3799 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

3801 
çlu1_acûss
++;

3802 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

3805 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPMULT_INDEX
)

3807 
çlu2_acûss
++;

3808 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu2_acûss
++;

3816 
	}
}

3818 #ifdeà
DIRECTORY


3819 #ifdeà
CONF_RES_RESEND


3820 
QUEUE_EVENT
 *
	g»¶y_queue
[
MAXTHREADS
], *
	g£nd_queue
[MAXTHREADS];

3822 
DIRECTORY_EVENT
 *
	gdœ_ev’t_queue
;

3823 
DIRECTORY_EVENT
 *
	gev’t_li¡
[
L2_MSHR_SIZE
];

3826 
	$dœ_ev’tq_š™
()

3828 
n
 = 0;

3829 #ifdeà
CONF_RES_RESEND


3830 
n
 = 0;‚<
MAXTHREADS
;‚++)

3832 
»¶y_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

3833 
£nd_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

3834 
	`š™Queue
(
»¶y_queue
[
n
]);

3835 
	`š™Queue
(
£nd_queue
[
n
]);

3838 
dœ_ev’t_queue
 = 
NULL
;

3839 
n
 = 0;‚<
L2_MSHR_SIZE
;‚++)

3840 
ev’t_li¡
[
n
] = 
NULL
;

3841 
	}
}

3843 #ifdeà
CONF_RES_RESEND


3845 
	$š™Queue
(
QUEUE_EVENT
 *
queue
)

3847 
i
;

3848 if(!
queue
) ;

3849 
queue
->
ä“_EÁr›s
 = 
QUEUE_SIZE
;

3850 
i
=0; i<
QUEUE_SIZE
; i++)

3852 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 0;

3853 
queue
->
Queue_’Œy
[
i
].
ev’t
 = 
NULL
;

3855 
	}
}

3859 
	$bufãr_fuÎ_check
(
DIRECTORY_EVENT
 *
ev’t
)

3861 
vc
 = 0, 
İtiÚs
 = -1, 
bufãr_fuÎ
 = 0;

3862 if((
ev’t
->
des1
*
mesh_size
+ev’t->
des2
 !ğev’t->
¤c1
*mesh_size+ev’t->
¤c2
è&& (ev’t->
šput_bufãr_fuÎ
è&& (ev’t->
İ”©iÚ
 =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
MISS_IL1
))

3864 #ifdeà
MC


3865 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

3867 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

3868 
bufãr_fuÎ
 = 1;

3870 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

3872 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3873 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

3874 if(
vc
 == -1)

3875 
bufãr_fuÎ
 = 1;

3878 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

3881 
bufãr_fuÎ
 = 
	`CombN‘wÜkBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1),ƒv’t->
İ”©iÚ
, &
vc
);

3883 if(
bufãr_fuÎ
)

3885 #ifdeà
POPNET


3886 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3887 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

3890 #ifdeà
POPNET


3891 
vc
 == -1

3893 #ifdeà
OPTICAL_INTERCONNECT


3894 
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
)

3900 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3902 
IÅut_queue_fuÎ
 ++;

3903 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

3909 
ev’t
->
šput_bufãr_fuÎ
 = 0;

3910 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

3911 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

3912 if(
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3914 
SÎ_šput_queue
 +ğ
sim_cyşe
 - 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
];

3915 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

3922 
	}
}

3923 
	$dœ_ev’tq_Ãx‹v’t
()

3925 
DIRECTORY_EVENT
 *
ev’t
, *
ev
, *
Ãxt
, *
´ev
;

3926 
i
, 
š£¹_æag
 = 0;

3927 
ev’t
 = 
dœ_ev’t_queue
;

3928 
ev
 = 
NULL
;

3929 
ev’t
!=
NULL
)

3931 
Ãxt
 = 
ev’t
->next;

3933 ià(
ev’t
->
wh’
 <ğ
sim_cyşe
)

3935 
š£¹_æag
 = 
	`bufãr_fuÎ_check
(
ev’t
);

3936 if(
š£¹_æag
 == 0)

3938 if(
ev’t
 =ğ
dœ_ev’t_queue
)

3940 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

3941 
ev’t
->
Ãxt
 = 
NULL
;

3942 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

3944 if(
ev’t
->
³ndšg_æag
 == 0)

3946 
ev’t
->
³ndšg_æag
 = 1;

3947 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] ++;

3950 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

3951 
dœ_ev’t_queue
 = 
ev’t
;

3952 
ev
 = 
ev’t
;

3953 
ev’t
 =ƒv’t->
Ãxt
;

3954 
§me_L1_L2_fifo_fuÎ
 ++;

3958 if(
ev’t
->
³ndšg_æag
 == 1)

3959 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] --;

3960 
ev’t
 = 
dœ_ev’t_queue
;

3966 
ev
->
Ãxt
 = 
ev’t
->next;

3967 
ev’t
->
Ãxt
 = 
NULL
;

3968 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

3970 if(
ev’t
->
³ndšg_æag
 == 0)

3972 
ev’t
->
³ndšg_æag
 = 1;

3973 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] ++;

3975 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

3976 
dœ_ev’t_queue
 = 
ev’t
;

3977 
ev
 = 
ev’t
;

3978 
ev’t
 =ƒv’t->
Ãxt
;

3979 
§me_L1_L2_fifo_fuÎ
 ++;

3983 if(
ev’t
->
³ndšg_æag
 == 1)

3984 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] --;

3985 
ev’t
 = 
ev
->
Ãxt
;

3989 if(
š£¹_æag
 == 1)

3991 
ev
 = 
ev’t
;

3992 
ev’t
 =ƒv’t->
Ãxt
;

3994 if(
š£¹_æag
 == 2)

3996 if(
ev’t
 =ğ
dœ_ev’t_queue
)

3998 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

3999 
ev’t
->
Ãxt
 = 
NULL
;

4000 
	`dœ_ev’tq_š£¹
(
ev’t
);

4001 
ev’t
 = 
dœ_ev’t_queue
;

4005 
ev
->
Ãxt
 = 
ev’t
->next;

4006 
ev’t
->
Ãxt
 = 
NULL
;

4007 
	`dœ_ev’tq_š£¹
(
ev’t
);

4008 
ev’t
 = 
ev
->
Ãxt
;

4015 
ev
 = 
ev’t
;

4016 
ev’t
 =ƒv’t->
Ãxt
;

4020 
	}
}

4033 #ifdeà
DIRECTORY


4034 
RS_lšk
 *
	gev’t_queue
;

4036 
RS_lšk
 *
	gev’t_queue
;

4040 
	$ev’tq_š™
 ()

4042 
ev’t_queue
 = 
NULL
;

4043 
	}
}

4048 
	$ev’tq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4050 
RS_lšk
 *
ev
;

4052 
cÚ‹xt
 *
cu¼’t
;

4054 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4056 ià(!
¡»am
)

4057 
¡»am
 = 
¡d”r
;

4059 
	`årštf
 (
¡»am
, "**ƒvent queue state **\n");

4061 
ev
 = 
ev’t_queue
;ƒv !ğ
NULL
;ƒv =ƒv->
Ãxt
)

4064 ià(
	`RSLINK_VALID
 (
ev
))

4066 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4068 
	`årštf
 (
¡»am
, "idx: %2d: @ %.0f\n", 
rs
->
šdex
, (è
ev
->
x
.
wh’
);

4069 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
FALSE
);

4072 
	}
}

4079 
ev’tq_queue_ev’t
 (
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’


4080 #ifdeà
DIRECTORY


4081 , 
Ït
)

4086 
RS_lšk
 *
	g´ev
, *
	gev
, *
	gÃw_ev
;

4088 ià(
	grs
->
	gcom¶‘ed
)

4089 
·nic
 ("event completed");

4091 ià(
	gwh’
 <ğ
sim_cyşe
)

4092 
·nic
 ("event occurred inhe…ast");

4095 
RSLINK_NEW
 (
Ãw_ev
, 
rs
);

4096 
	gÃw_ev
->
	gx
.
	gwh’
 = 
wh’
;

4098 #ifdeà
DIRECTORY


4099 if(
	grs
 =ğ
NULL
)

4100 
´štf
("RS…robËm %Îd\n", 
sim_cyşe
);

4103 
	g´ev
 = 
NULL
, 
	gev
 = 
ev’t_queue
;ƒv &&ƒv->
	gx
.
	gwh’
 < wh’;…»v = 
ev
,ƒv =ƒv->
Ãxt
);

4105 ià(
	g´ev
)

4108 
	gÃw_ev
->
	gÃxt
 = 
´ev
->
Ãxt
;

4109 
	g´ev
->
	gÃxt
 = 
Ãw_ev
;

4114 
	gÃw_ev
->
	gÃxt
 = 
ev’t_queue
;

4115 
	gev’t_queue
 = 
Ãw_ev
;

4124 
RUU_¡©iÚ
 *

4125 
	$ev’tq_Ãxt_ev’t
 ()

4127 
RS_lšk
 *
ev
;

4128 
RS_lšk
 *
‹mp_ev
, *
´ed_ev
 = 
NULL
;

4130 
‹mp_ev
 = 
ev’t_queue
;

4132 
‹mp_ev
 && !
thecÚ‹xts
[‹mp_ev->
rs
->
th»adid
]->
aùive_this_cyşe
)

4134 
´ed_ev
 = 
‹mp_ev
;

4135 
‹mp_ev
 =emp_ev->
Ãxt
;

4138 ià(
‹mp_ev
 &&emp_ev->
x
.
wh’
 <ğ
sim_cyşe
)

4141 
ev
 = 
‹mp_ev
;

4142 ià(
‹mp_ev
 =ğ
ev’t_queue
)

4144 
ev’t_queue
 =ƒv’t_queue->
Ãxt
;

4148 
´ed_ev
->
Ãxt
 = 
‹mp_ev
->next;

4152 ià(
	`RSLINK_VALID
 (
ev
))

4154 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4157 
	`RSLINK_FREE
 (
ev
);

4160  
rs
;

4165 
	`RSLINK_FREE
 (
ev
);

4168  
	`ev’tq_Ãxt_ev’t
 ();

4174  
NULL
;

4176 
	}
}

4178 
	$chªgeInEv’tQueue
 (
RUU_¡©iÚ
 * 
rs
, 
th»adid
)

4182 
RS_lšk
 *
ev
 = 
ev’t_queue
;

4183 
RS_lšk
 *
´ev
 = 
NULL
;

4185 
ev
 !ğ
NULL
)

4187 ià(
ev
->
rs
 ==„s)

4189 
´ev
 = 
ev
;

4190 
ev
 =ƒv->
Ãxt
;

4193 ià(
ev
 =ğ
NULL
)

4195 
ev
->
x
.
wh’
 = 
sim_cyşe
;

4198 ià(
´ev
 =ğ
NULL
)

4199 
ev’t_queue
 = 
ev
->
Ãxt
;

4201 
´ev
->
Ãxt
 = 
ev
->next;

4203 
	`RSLINK_FREE
 (
ev
);

4204 
	}
}

4220 
RS_lšk
 *
	g»ady_queue
;

4224 
	$»adyq_š™
 ()

4226 
»ady_queue
 = 
NULL
;

4227 
	}
}

4232 
	$»adyq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4234 
RS_lšk
 *
lšk
;

4236 
cÚ‹xt
 *
cu¼’t
;

4238 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4240 ià(!
¡»am
)

4241 
¡»am
 = 
¡d”r
;

4243 
	`årštf
 (
¡»am
, "**„eady queue state **\n");

4245 
lšk
 = 
»ady_queue
;†šk !ğ
NULL
;†šk =†šk->
Ãxt
)

4248 ià(
	`RSLINK_VALID
 (
lšk
))

4250 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
lšk
);

4252 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
TRUE
);

4255 
	}
}

4271 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

4273 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

4276 ià(
rs
->
queued
)

4277 
	`·nic
("node is‡lready queued");

4279 
rs
->
queued
 = 
TRUE
;

4281 #ifdeà
REMOVE_COMPUTE_QUEUE


4282 #ifdeà
PWR_WAKE


4283 ià(
rs
->
š_LSQ
)

4285 
lsq»ady
++;

4286 
rs
->
couÁed_lsq»ady
 = 1;

4288 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

4290 
ä—dy
++;

4291 
rs
->
couÁed_ä—dy
 = 1;

4295 
œ—dy
++;

4296 
rs
->
couÁed_œ—dy
 = 1;

4302 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

4303 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

4306 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

4308 ià(
´ev
)

4311 
Ãw_node
->
Ãxt
 = 
´ev
->next;

4312 
´ev
->
Ãxt
 = 
Ãw_node
;

4317 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

4318 
»ady_queue
 = 
Ãw_node
;

4320 
	}
}

4325 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

4327 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

4330 ià(
rs
->
queued
)

4331 
	`·nic
 ("node is‡lready queued");

4332 
rs
->
queued
 = 
TRUE
;

4334 #ifdeà
PWR_WAKE


4335 #ifdeà
READY_ROB_STAT


4336 ià(!
rs
->
š_LSQ
)

4337 
»ady_thrd
[
rs
->
th»adid
]++;

4339 ià(
rs
->
š_LSQ
)

4341 
lsq»ady
++;

4342 
lsq»ady_ş
[
rs
->
şu¡”
]++;

4343 
rs
->
couÁed_lsq»ady
 = 1;

4345 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

4347 
ä—dy
++;

4348 
ä—dy_ş
[
rs
->
şu¡”
]++;

4349 
rs
->
couÁed_ä—dy
 = 1;

4353 
œ—dy
++;

4354 
œ—dy_ş
[
rs
->
şu¡”
]++;

4355 
rs
->
couÁed_œ—dy
 = 1;

4360 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

4361 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

4364 ià(
rs
->
š_LSQ
 || 
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_LONGLAT
 | 
F_CTRL
))

4367 
´ev
 = 
NULL
;

4368 
node
 = 
»ady_queue
;

4373 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

4376 ià(
´ev
)

4379 
Ãw_node
->
Ãxt
 = 
´ev
->next;

4380 
´ev
->
Ãxt
 = 
Ãw_node
;

4385 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

4386 
»ady_queue
 = 
Ãw_node
;

4388 
	}
}

4399 
CV_lšk
 
	gCVLINK_NULL
 = { 
NULL
, 0 };

4402 
	#CVLINK_INIT
(
CV
, 
RS
,
ONUM
è((CV).
rs
 = (RS), (CV).
od•_num
 = (ONUM))

	)

4405 
	#CV_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_TOTAL_REGS
))

	)

4412 
	#CREATE_VECTOR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

4413 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] \

4414 : 
cu¼’t
->
ü—‹_veùÜ
[
N
])

4417 
	#CREATE_VECTOR_RT
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

4418 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ_¹
[
N
] \

4419 : 
cu¼’t
->
ü—‹_veùÜ_¹
[
N
])

4422 
	#SET_CREATE_VECTOR
(
N
, 
L
è(
cu¼’t
->
¥ec_mode
 \

	)

4423 ? (
BITMAP_SET
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (
N
)),\

4424 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] = (
L
)) \

4425 : (
cu¼’t
->
ü—‹_veùÜ
[
N
] = (
L
)))

4432 
	#DNA
 (0)

	)

4434 #ià
defšed
(
TARGET_PISA
)

4437 
	#DGPR
(
N
è(N)

	)

4438 
	#DGPR_D
(
N
è((Nè&~1)

	)

4441 
	#DFPR_L
(
N
è(((N)+32)&~1)

	)

4442 
	#DFPR_F
(
N
è(((N)+32)&~1)

	)

4443 
	#DFPR_D
(
N
è(((N)+32)&~1)

	)

4446 
	#DHI
 (0+32+32)

	)

4447 
	#DLO
 (1+32+32)

	)

4448 
	#DFCC
 (2+32+32)

	)

4449 
	#DTMP
 (3+32+32)

	)

4451 #–ià
defšed
(
TARGET_ALPHA
)

4454 
	#DGPR
(
N
è(31 - (N)è

	)

4457 
	#DFPR
(
N
è(((Nè=ğ31è? 
DNA
 : ((N)+32))

	)

4460 
	#DFPCR
 (0+32+32)

	)

4461 
	#DUNIQ
 (1+32+32)

	)

4462 
	#DTMP
 (2+32+32)

	)

4465 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4473 
	#SET_NPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_NPC
 = (EXPR))

	)

4476 #undeà
SET_TPC


4477 
	#SET_TPC
(
EXPR
è(
rg‘_PC
 = (EXPR))

	)

4480 
	#CPC
 (
cu¼’t
->
»gs
.
»gs_PC
)

	)

4481 
	#SET_CPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_PC
 = (EXPR))

	)

4486 #ifdeà
TEST_BUG


4488 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

4489 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

4490 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

4491 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4492 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

4493 
BITMAP_SET
(
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

4494 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

4495 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

4496 #ià
defšed
(
TARGET_PISA
)

4501 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4502 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

4503 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

4504 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4505 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

4506 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4507 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

4508 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

4509 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4510 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

4511 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

4512 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4513 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

4514 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4515 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

4516 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

4517 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4518 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

4519 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

4520 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4521 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)),\

4522 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4523 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

4524 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

4529 
	#HI
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

4530 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

4531 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

4532 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4533 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

4534 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0), \

4535 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

4536 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

4537 
	#LO
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

4538 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

4539 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

4540 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4541 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

4542 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1), \

4543 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

4544 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

4545 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

4546 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4547 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4548 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4549 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4550 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 2), \

4551 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4552 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4554 #–ià
defšed
(
TARGET_ALPHA
)

4559 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

4560 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

4561 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

4562 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4563 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

4564 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

4565 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

4566 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

4567 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

4568 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

4569 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

4570 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4571 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

4572 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

4573 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

4574 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

4579 
	#FPCR
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

4580 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

4581 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

4582 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4583 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

4584 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 0), \

4585 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

4586 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

4587 
	#UNIQ
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

4588 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

4589 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

4590 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4591 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

4592 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

4593 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

4594 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

4595 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

4596 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4597 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4598 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4599 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4600 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

4601 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4602 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4605 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4609 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

4610 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

4611 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

4612 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4613 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

4614 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

4615 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

4616 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

4617 #ià
defšed
(
TARGET_PISA
)

4622 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4623 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

4624 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

4625 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4626 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

4627 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4628 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

4629 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

4630 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4631 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

4632 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

4633 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4634 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

4635 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4636 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

4637 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

4638 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4639 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

4640 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

4641 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4642 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)), \

4643 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4644 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

4645 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

4650 
	#HI
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

4651 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

4652 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

4653 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4654 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

4655 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0),\

4656 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

4657 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

4658 
	#LO
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

4659 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

4660 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

4661 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4662 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

4663 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1),\

4664 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

4665 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

4666 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

4667 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4668 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4669 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4670 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4671 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 2),\

4672 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4673 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4675 #–ià
defšed
(
TARGET_ALPHA
)

4680 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

4681 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

4682 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

4683 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4684 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

4685 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

4686 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

4687 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

4688 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

4689 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

4690 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

4691 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4692 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

4693 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

4694 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

4695 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

4700 
	#FPCR
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

4701 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

4702 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

4703 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4704 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

4705 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 0),\

4706 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

4707 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

4708 
	#UNIQ
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

4709 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

4710 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

4711 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4712 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

4713 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

4714 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

4715 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

4716 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

4717 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4718 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4719 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4720 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4721 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

4722 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4723 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4726 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4735 
	#__READ_SPECMEM
(
SRC
, 
SRC_V
, 
FAULT
è\

	)

4736 (
	gaddr
 = (
SRC
), \

4737 (
	gcu¼’t
->
	g¥ec_mode
 \

4738 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V)))\

4739 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V), cu¼’t->
id
, 
š¡
))), \

4740 
	gSRC_V
)

4742 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

4743 
__READ_SPECMEM
((
SRC
), 
‹mp_by‹
, (
FAULT
))

4744 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

4745 
MD_SWAPH
(
__READ_SPECMEM
((
SRC
), 
‹mp_h®f
, (
FAULT
)))

4746 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

4747 
MD_SWAPW
(
__READ_SPECMEM
((
SRC
), 
‹mp_wÜd
, (
FAULT
)))

4748 #ifdeà
HOST_HAS_QWORD


4749 
	#READ_QWORD
(
SRC
, 
FAULT
è\

	)

4750 
MD_SWAPQ
(
__READ_SPECMEM
((
SRC
), 
‹mp_qwÜd
, (
FAULT
)))

4753 
	#__WRITE_SPECMEM
(
SRC
, 
DST
, 
DST_V
, 
FAULT
è\

	)

4754 (
	gDST_V
 = (
SRC
), 
	gaddr
 = (
DST
), \

4755 (
	gcu¼’t
->
	g¥ec_mode
 \

4756 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V)))\

4757 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V), cu¼’t->
id
, 
š¡
))))

4759 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

4760 
__WRITE_SPECMEM
((
SRC
), (
DST
), 
‹mp_by‹
, (
FAULT
))

4761 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

4762 
__WRITE_SPECMEM
(
MD_SWAPH
(
SRC
), (
DST
), 
‹mp_h®f
, (
FAULT
))

4763 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

4764 
__WRITE_SPECMEM
(
MD_SWAPW
(
SRC
), (
DST
), 
‹mp_wÜd
, (
FAULT
))

4766 #ifdeà
HOST_HAS_QWORD


4767 
	#WRITE_QWORD
(
SRC
, 
DST
, 
FAULT
è\

	)

4768 
__WRITE_SPECMEM
(
MD_SWAPQ
(
SRC
), (
DST
), 
‹mp_qwÜd
, (
FAULT
))

4772 
	#SYSCALL
(
INST
è\

	)

4774 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative syscall") : () 0), \

4775 
sys_sysÿÎ
(&(
cu¼’t
->
»gs
), 
mem_acûss
, cu¼’t->
mem
, 
INST
, 
TRUE
))

4777 
	#QUIESCE
(
INST
è\

	)

4779 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative quiescent instruction") : () 0), \

4780 
ÿÎ_qu›sû
(
cu¼’t
->
id
))

4785 
	$cv_š™
 (
th»adid
)

4787 
i
;

4788 
cÚ‹xt
 *
cu¼’t
;

4790 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4794 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

4796 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

4797 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 0;

4798 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

4799 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
i
] = 0;

4803 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

4805 
	}
}

4810 
	$cv_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4812 
i
;

4813 
CV_lšk
 
’t
;

4815 
cÚ‹xt
 *
cu¼’t
;

4817 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4819 ià(!
¡»am
)

4820 
¡»am
 = 
¡d”r
;

4822 
	`årštf
 (
¡»am
, "** create vector state **\n");

4824 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

4826 
’t
 = 
	`CREATE_VECTOR
 (
i
);

4827 ià(!
’t
.
rs
)

4828 
	`årštf
 (
¡»am
, "[cv%02d]: from‡rch™eùed„eg fe\n", 
i
);

4830 
	`årštf
 (
¡»am
, "[cv%02d]: from %s, idx: %d\n", 
i
, (
’t
.
rs
->
š_LSQ
 ? "LSQ" : "RUU"),ƒÁ.rs->
šdex
);

4832 
	}
}

4834 
ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
);

4837 
Œaûr_»cov”
 (
th»adid
);

4838 
»cF»eRegLi¡
 (
th»adid
);

4841 #ifdeà
DIRECTORY


4842 
	$RS_block_li¡
(
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’
, 
’Œy
, 
th»adid
)

4844 if(
rs
->
¥ec_mode
) ;

4845 if(
’Œy
 < 1 ||ƒÁry > 
MSHR_SIZE
)

4846 
	`·nic
("L1 MSHR: wrong mshrƒntry");

4848 
’Œy
 =ƒntry - 1;

4850 
RS_li¡
 *
rs_li¡
;

4851 
rs_li¡
 = 
	`ÿÎoc
Ğ1, (
RS_li¡
));

4852 
rs_li¡
->
rs
 =„s;

4853 
rs_li¡
->
Ãxt
 = 
NULL
;

4854 
rs_li¡
->
¥ec_mode
 = 
rs
->spec_mode;

4855 
rs_li¡
->
wh’
 = when;

4856 
rs_li¡
->
Ãxt
 = 
rs_ÿche_li¡
[
th»adid
][
’Œy
];

4857 
rs_ÿche_li¡
[
th»adid
][
’Œy
] = 
rs_li¡
;

4858 
	}
}

4860 
	$RS_block_Ãxt
(
RS_li¡
 *
cur
)

4862 if(!
cur
->
rs
) ;

4864 if(
cur
->
¥ec_mode
 && !cur->
rs
->spec_mode)

4866 
cur
->
rs
->
ÿche_»ady
 = 0;

4867 if(((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
è&& (cur->rs->
issued
 || cur->rs->
queued
 || cur->rs->
com¶‘ed
)) || (!(MD_OP_FLAGS(cur->rs->op) & F_LOAD) && !(cur->rs->issued && !cur->rs->queued)))

4868 
	`·nic
("L1 MSHR: issue, queue, or commit flag is set!!!");

4870 if((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
))

4874 
	`»adyq_’queue
 (
cur
->
rs
);

4883 
cur
->
rs
->
wr™ewa™
 = 2;

4884 
	}
}

4891 
	gcomm™_idË
 = 0;

4892 
	gcomm™_æag
[
MAXTHREADS
] = {0};

4897 
	$ruu_comm™
 ()

4900 
i
, 
j
, 
th»adid
, 
Ït
, 
ev’ts
, 
comm™‹d
;

4901 
mm
;

4902 
cÚ‹xt
 *
cu¼’t
;

4903 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
, 
LSQ_šdex
;

4904 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

4905 
¡Üe_İ
 = 0, 
pcbS—rch
;

4906 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

4907 #ifdeà
DIRECTORY


4908 
»adSh¬eDœ
 = 0;

4911 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

4912 
couÁedThisCyşe
 = 0;

4914 
md_addr_t
 
‹mpAddr
;

4915 
md_İcode
 
‹mpOp
;

4917 
th»ad_comm™
 = 0;

4918 
isSTLC
;

4922 
j
 = 0; j <ğ
numcÚ‹xts
; j++, 
th»ad_comm™
 = (thread_commit + 1) %‚umcontexts)

4924 #ifdef 
EDA


4925 ià(
thecÚ‹xts
[
th»ad_comm™
]->
ma¡”id
 == 2)

4928 ià(
j
 > 0)

4930 
comm™_dÚe
[
j
 - 1] = 
comm™‹d
;

4931 if(!
comm™‹d
)

4932 
m_comm™SÎ
[
j
-1]++;

4934 ià(
j
 =ğ
numcÚ‹xts
)

4937 
th»adid
 = 
th»ad_comm™
;

4938 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4940 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

4941 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

4942 
comm™‹d
 = 0;

4943 
haha
 = 0;

4947 
cu¼’t
->
RUU_num
 > 0 && 
comm™‹d
 < 
ruu_comm™_width
)

4949 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

4950 ià(
busSlÙCouÁ
 < 11)

4952 ià(!
couÁedThisCyşe
)

4953 
¡®lNoBusSlÙ
++;

4954 
couÁedThisCyşe
 = 1;

4958 
RUU_¡©iÚ
 *
rs
 = &(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
]);

4961 
‹mpAddr
 = 0;

4962 
¡Üe_İ
 = 0;

4963 
‹mpOp
 = 0;

4964 
isSTLC
 = 0;

4966 #ifdef 
EDA


4967 ià((
cu¼’t
->
ma¡”id
 =ğ1è&& (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& 
	`queueSize
 (cu¼’t->
´edQueue
) == -1)

4970 #ifdeà 
DIRECTORY


4971 if(
rs
->
wr™ewa™
 =ğ1 && !
mshr_³ndšg_ev’t
[
j
])

4976 ià(!
rs
->
com¶‘ed
)

4981 ià(
cu¼’t
->
ma¡”id
 =ğ0 && 
rs
->
PC
 < 0x120000000)

4982 
	`·nic
 ("Illegal instructionryingo commit\n");

4984 #ifdeà
SMD_USE_WRITE_BUF


4986 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
m_L1WBufCÁ
[
th»adid
]))

4989 #ifdeà
SERIALIZATION_ACK


4990 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
numStÜeP’dšg
[
th»adid
]

4991 #ifdeà
READ_PERMIT


4992 || 
numLßdP’dšg
[
th»adid
]

4998 
ev’ts
 = 0;

5001 ià(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
—_comp
)

5004 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[cu¼’t->
RUU_h—d
].threadid)

5006 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5007 
‹mp_LSQ_num
--;

5008 ià(!
‹mp_LSQ_num
)

5009 
	`·nic
 ("RUU‡nd LSQ out of sync");

5011 ià(
cu¼’t
->
LSQ_num
 <ğ0 || !cu¼’t->
LSQ
[
LSQ_šdex
].
š_LSQ
)

5012 
	`·nic
 ("RUU out of sync with LSQ");

5014 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
com¶‘ed
)

5019 #ifdeà
SEQUENTIAL_CONSISTENCY


5020 ià(
šv®id©iÚSÎ
[
th»adid
])

5024 ià(
comm™SÎ
[
th»adid
])

5028 #ifdeà
INV_ACK_CON


5029 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& (
³ndšg_šv®id©iÚ
[
th»adid
]))

5032 #ifdeà
SERIALIZATION_ACK


5033 if(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
numStÜeP’dšg
[
th»adid
] <ğ0 && 
rs
->
wr™ewa™
 == 0)

5037 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5039 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
)

5040 
isSTLC
 = 1;

5041 #ifdeà
SMD_USE_WRITE_BUF


5042 ià(
m_L1WBufCÁ
[
th»adid
] >ğ
SMD_L1_WBUF_SIZE
)

5044 if(
isSTLC
 && 
m_L1WBufCÁ
[
th»adid
])

5048 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
PC
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].PC;

5049 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
IR
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].IR;

5050 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
İ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].op;

5051 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
lsqId
 = 
LSQ_šdex
;

5052 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
robId
 = 
rs
->
šdex
;

5053 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eV®ue
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
v®_¿
;

5054 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
addr
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].addr;

5055 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
sim_num_š¢
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].sim_num_insn;

5056 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eS¹ed
 = 0;

5057 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
fšishTime
 = 0;

5058 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
isMiss
 = 0;

5059 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
’ŒyTime
 = 
sim_cyşe
;

5060 ifĞ
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5062 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 
isSTLC
);

5063 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 1;

5064 if(
isSTLC
 && 
¡ÜeCÚdFa
 == 0)

5065 
	`·nic
("Store conditional should fail on‡ L1 miss");

5068 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 0;

5070 
m_L1WBufCÁ
[
th»adid
]++;

5071 
m_L1WBuf_
[
th»adid
] = (m_L1WBuf_[th»adid]+1)%
SMD_L1_WBUF_SIZE
;

5074 #ifdeà
DIRECTORY


5075 if(
rs
->
wr™ewa™
 == 2)

5077 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5078 
ev’ts
 |ğ
PEV_CACHEMISS
;

5083 #ifdeà
DIRECTORY


5084 if(
rs
->
ÿche_»ady
 == 1)

5088 
¡Üe_İ
 = 1;

5089 
boŞ
 = 0;

5090 
»s_‹m¶©e
 *
fu
;

5091 
·»ÁID
;

5093 
·»ÁID
 = 
th»adid
;

5095 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
), 
th»adid
);

5096 #ifdeà 
DCACHE_MSHR


5097 ià(
fu
 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,h»adidè&& !
boŞ
)

5099 #ifdeà
MSHR


5100 ià(
fu
 && !
mshr_fuÎ
 && !
boŞ
)

5102 ià(
fu
 && !
boŞ
)

5106 ià(
fu
->
ma¡”
->
busy
)

5107 
	`·nic
 ("functional unit‡lready in use");

5109 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

5110 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

5111 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

5115 #iâdeà
DIRECTORY


5116 #ifdeà
SEQUENTIAL_CONSISTENCY


5117 #ifdef 
EDA


5118 ià(
cŞËù_¡©s
 && 
cu¼’t
->
ma¡”id
 == 0)

5120 ià(
cŞËù_¡©s
)

5123 
bx
, 
cx
, 
dx
;

5124 
cÚ‹xt
 *
tmpCxt
;

5125 
md_addr_t
 
mask
;

5127 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

5129 
bx
 = 0; bx < 
numcÚ‹xts
; bx++)

5131 
boŞ
 = 0;

5133 
tmpCxt
 = 
thecÚ‹xts
[
bx
];

5134 #ifdef 
EDA


5135 ià(
tmpCxt
->
ma¡”id
 != 0)

5139 ià(
tmpCxt
 !ğ
cu¼’t
)

5141 
cx
 = 
tmpCxt
->
LSQ_h—d
, 
dx
 = 0; dx !ğtmpCxt->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

5143 ià((
	`MD_OP_FLAGS
 (
tmpCxt
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5145 ià((
tmpCxt
->
LSQ
[
cx
].
addr
 & 
mask
è=ğ(
cu¼’t
->LSQ[
LSQ_šdex
].addr & mask))

5147 ià(!
tmpCxt
->
LSQ
[
cx
].
¥ec_mode
 && !tmpCxt->LSQ[cx].
isP»ãtch
)

5150 
	`fixS³cS‹
 (
tmpCxt
->
LSQ
[
cx
].
´od
[1]->
šdex
,mpCxt->
id
);

5151 
tmpCxt
->
»gs
 =mpCxt->
LSQ
[
cx
].
´od
[1]->
backupReg
;

5152 
	`£qCÚsi¡ªcyR•Ïy
 (
tmpCxt
->
LSQ
[
cx
].
´od
[1]->
šdex
,mpCxt->
id
);

5153 
šv®id©iÚ_»¶ay
[
bx
]++;

5164 #ifdeà
RELAXED_CONSISTENCY


5165 #ifdef 
EDA


5166 ià(
cŞËù_¡©s
 && 
cu¼’t
->
ma¡”id
 == 0)

5168 ià(
cŞËù_¡©s
)

5171 
bx
, 
cx
, 
dx
;

5172 
cÚ‹xt
 *
tmpCxt
;

5173 
md_addr_t
 
mask
;

5175 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

5177 
bx
 = 0; bx < 
numcÚ‹xts
; bx++)

5179 
boŞ
 = 0;

5181 
tmpCxt
 = 
thecÚ‹xts
[
bx
];

5182 #ifdef 
EDA


5183 ià(
tmpCxt
->
ma¡”id
 != 0)

5187 ià(
tmpCxt
 !ğ
cu¼’t
)

5189 
cx
 = 
tmpCxt
->
LSQ_h—d
, 
dx
 = 0; dx !ğtmpCxt->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

5191 ià((
	`MD_OP_FLAGS
 (
tmpCxt
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5193 ià((
tmpCxt
->
LSQ
[
cx
].
addr
 & 
mask
è=ğ(
cu¼’t
->LSQ[
LSQ_šdex
].addr & mask))

5195 ià(!
tmpCxt
->
LSQ
[
cx
].
¥ec_mode
 &&mpCxt->LSQ[cx].
issued
)

5197 
tmpCxt
->
LSQ
[
cx
].
šv®id©iÚReûived
 = 1;

5208 
‹mpOp
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
;

5209 ià(
ÿche_dl1
[
th»adid
])

5212 
dÿche_acûss
++;

5213 
cu¼’t
->
dÿche_acûss
++;

5215 
šv®id©eOth”Cache
 = 0;

5217 #ifdeà
DIRECTORY


5218 
m©chnum
;

5219 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

5220 if(
m©chnum
)

5222 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

5223 
rs
->
ÿche_»ady
 = 1;

5224 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

5229 #ifdeà
DIRECTORY


5230 ià(
COHERENT_CACHE
 && 
®lFÜked
)

5232 if(
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5234 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 1);

5235 if(
¡ÜeCÚdFa
 == 0)

5236 
	`·nic
("Store conditional should fail on‡ L1 miss");

5237 
Ït
 = 
ÿche_dl1_Ït
;

5241 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,hreadid);

5242 ià(
Ït
<
WAIT_TIME
)

5244 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5250 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,hreadid);

5252 #ifdef 
DCACHE_MSHR


5253 if(
Ït
 > 
ÿche_dl1_Ït
)

5254 #ifdeà
DIRECTORY


5255 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
Ït
, 0, 
rs
);

5257 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
Ït
, 0, 
NULL
);

5260 ià(
Ït
 >ğ
WAIT_TIME
)

5262 
rs
->
wr™ewa™
 = 1;

5265 ià(
COHERENT_CACHE
 && 
®lFÜked
)

5267 
¡ÜeCÚdFa
 = 0;

5268 
	`com¶‘eStÜe
 (
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
 (cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5270 ià(!
¡ÜeCÚdFa
)

5271 #ifdef 
EDA


5273 
wL
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

5274 
qwÜd_t
 
wD
 = 0;

5275 
	`fÜm©D©aR2M
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
, cu¼’t->LSQ[LSQ_šdex].
v®_¿
, &
wD
);

5277 
rsCacheAcûss
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
];

5278 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~(
wL
 - 1)), &
wD
, wL, 
sim_cyşe
, 
NULL
, NULL,hreadid);

5281 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

5286 
rsCacheAcûss
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5287 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

5291 ià(
Ït
 > 
ÿche_dl1_Ït
)

5292 
ev’ts
 |ğ
PEV_CACHEMISS
;

5297 
¡_bªk_cÚf
++;

5301 #ifdeà
DIRECTORY


5308 #ifdeà
DIRECTORY


5309 
»adSh¬eDœ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
R—dSh¬eDœ
;

5312 #ià
	`defšed
(
SMD_USE_WRITE_BUF
è&& defšed(
SEQUENTIAL_CONSISTENCY
)

5314 ià(
m_L1WBufCÁ
[
th»adid
])

5318 #ifdeà
DIRECTORY


5319 if(
rs
->
wr™ewa™
 != 1)

5322 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
Şd´eg
, 
th»adid
);

5324 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5327 
	`±¿û_Ãw¡age
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5328 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5330 ià(
LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5332 
‹mp_LSQ_rs
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5333 
‹mp_LSQ_šdex
 = 
LSQ_šdex
;

5334 
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5336 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = cu¼’t->LSQ[(è(Ñemp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size)];

5337 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5338 
‹mp_LSQ_šdex
 = (‹mp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size;

5341 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = *
‹mp_LSQ_rs
;

5342 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5344 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5346 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5347 
cu¼’t
->
m_shLQNum
--;

5349 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5351 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5352 
cu¼’t
->
m_shSQNum
--;

5354 if(
ruu_šÜd”_issue
)

5356 
i
=0;i<
MAX_ODEPS
;i++)

5358 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
Úames
[
i
] !ğ
NA
)

5360 
Şšk
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5362 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5363 
	`RSLINK_FREE
 (
Şšk
);

5365 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

5370 
cu¼’t
->
LSQ_h—d
 = (cu¼’t->LSQ_h—d + 1è% 
LSQ_size
;

5371 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5372 
cu¼’t
->
LSQ_num
--;

5373 
‹mp_LSQ_num
--;

5374 #ifdeà
DIRECTORY


5380 #ifdeà
DIRECTORY


5381 if(
rs
->
wr™ewa™
 != 1)

5384 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_CT
 && (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5387 
b´ed_acûss
++;

5388 ià(!(
rs
->
du¶iÿ‹
))

5390 
cu¼’t
->
b´ed_acûss
++;

5393 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5394  
rs
->
PC
,

5395  
rs
->
Ãxt_PC
,

5396  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5397  (
md_š¡_t
)),

5398  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5399  (
md_š¡_t
)),

5400  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5401  
rs
->
İ
,

5402  &
rs
->
dœ_upd©e
,

5403  
rs
->
th»adid
,

5404  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5408 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
Şd´eg
, 
th»adid
);

5410 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
g
++;

5412 
	`±¿û_Ãw¡age
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5413 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
);

5415 
tÙ®_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
di¥_time
);

5416 
max_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
di¥_time
), max_slip_cycles);

5418 ià(
rs
->
issue_time
)

5420 
tÙ®_issue_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
issue_time
);

5421 
max_issue_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
issue_time
), max_issue_slip_cycles);

5424 if(
ruu_šÜd”_issue
)

5426 
i
=0;i<
MAX_ODEPS
;i++)

5428 ià(
rs
->
Úames
[
i
] !ğ
NA
)

5430 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5432 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5433 
	`RSLINK_FREE
 (
Şšk
);

5435 
rs
->
od•_li¡
[
i
] = 
NULL
;

5440 
cu¼’t
->
RUU_h—d
 = (cu¼’t->RUU_h—d + 1è% 
RUU_size
;

5441 
cu¼’t
->
RUU_num
--;

5442 
comm™_æag
[
th»adid
] = 0;

5444 ià(
rs
->
du¶iÿ‹
)

5446 
COMPARE_acûss
[
th»adid
]++;

5447 
com·»_acûss
++;

5450 if(!
ruu_šÜd”_issue
)

5452 
rob2_acûss
++;

5453 
cu¼’t
->
rob2_acûss
++;

5455 
comm™‹d
++;

5457 
comm™_idË
 = 0;

5458 
i
 = 0; i < 
MAX_ODEPS
; i++)

5460 ià(
rs
->
od•_li¡
[
i
])

5461 
	`·nic
 ("retired instruction has odeps\n");

5463 #ifdeà
DIRECTORY


5467 
	`¡©_add_§m¶e
 (
comm™_width_¡©
, 
comm™‹d
);

5469 
	}
}

5481 
	$ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
)

5484 
mm
;

5485 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5486 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
;

5488 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

5489 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

5492 
shiá_right
 = 0;

5495 
brRecov”y
[
th»adid
]++;

5497 
di¥_d–ay
 = 0;

5500 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

5501 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

5502 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

5503 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

5506 ià(!
cu¼’t
->
RUU_num
)

5507 
	`·nic
 ("empty RUU");

5511 
RUU_šdex
 !ğ
b¿nch_šdex
)

5514 ià(!
‹mp_RUU_num
)

5515 
	`·nic
 ("empty RUU");

5518 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

5520 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

5523 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5524 
‹mp_LSQ_num
--;

5525 ià(!
‹mp_LSQ_num
)

5527 
	`årštf
 (
¡d”r
, "Th»ad %d, cyş%lu\n", 
th»adid
, (è
sim_num_š¢
);

5528 
	`·nic
 ("RUU‡nd LSQ out of sync");

5531 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5532 
‹mp_LSQ_num
--;

5534 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5535 
‹mp_RUU_num
--;

5538 ià(
mode
 == 0)

5541 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5542 
‹mp_RUU_num
--;

5547 
‹mp_RUU_num
 != 0)

5549 
exŒaIn¢
[
th»adid
]++;

5551 ià(!
‹mp_RUU_num
)

5552 
	`·nic
 ("empty RUU");

5554 ià(
mode
 =ğ0 && 
RUU_šdex
 =ğ
cu¼’t
->
RUU_h—d
)

5555 
	`·nic
 ("RUU head‡ndail broken");

5557 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

5559 
cu¼’t
->
iissueq_thrd
--;

5560 
iissueq
--;

5561 
iissueq_ş
[
cu¼’t
->
id
]--;

5562 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

5564 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

5566 
cu¼’t
->
fissueq_thrd
--;

5567 
fissueq
--;

5568 
fissueq_ş
[
cu¼’t
->
id
]--;

5569 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

5572 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

5574 ià(!
‹mp_LSQ_num
)

5575 
	`·nic
 ("RUU‡nd LSQ out of sync");

5576 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

5578 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5579 
‹mp_LSQ_num
--;

5580 ià(!
‹mp_LSQ_num
)

5581 
	`·nic
 ("RUU‡nd LSQ out of sync");

5584 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

5586 
cu¼’t
->
iissueq_thrd
--;

5587 
iissueq
--;

5588 
iissueq_ş
[
cu¼’t
->
id
]--;

5589 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

5591 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

5593 
cu¼’t
->
fissueq_thrd
--;

5594 
fissueq
--;

5595 
fissueq_ş
[
cu¼’t
->
id
]--;

5596 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

5599 
i
 = 0; i < 
MAX_ODEPS
; i++)

5601 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

5603 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

5606 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

5607 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

5610 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5613 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5616 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5618 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5619 
cu¼’t
->
m_shLQNum
--;

5621 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5623 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5624 
cu¼’t
->
m_shSQNum
--;

5627 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

5628 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5629 
cu¼’t
->
LSQ_num
--;

5630 
‹mp_LSQ_num
--;

5634 
i
 = 0; i < 
MAX_ODEPS
; i++)

5636 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

5637 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

5640 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

5641 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

5642 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

5643 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

5645 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5646 
cu¼’t
->
RUU_num
--;

5647 
‹mp_RUU_num
--;

5650 if(!
ruu_šÜd”_issue
)

5652 
rob2_acûss
++;

5653 
cu¼’t
->
rob2_acûss
++;

5656 
š¡£qnum
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
š¡num
;

5657 
Ï¡şu¡”
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
şu¡”
;

5658 
num_£Á
 = 1;

5660 ià(
mode
 == 0)

5662 
cu¼’t
->
RUU_
 = (
b¿nch_šdex
 + 1è% 
RUU_size
;

5663 
	`cİy_äom
 (
th»adid
);

5667 ià(
cu¼’t
->
RUU_num
 != 0)

5668 
	`·nic
 ("ROB must be completelyƒmpty");

5669 
cu¼’t
->
RUU_
 = cu¼’t->
RUU_h—d
;

5675 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

5680 
‹mp_LSQ_šdex
 = 0;emp_LSQ_šdex < 
LSQ_size
;emp_LSQ_index++)

5681 ià(
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ
[‹mp_LSQ_šdex].
šdex
)

5682 
	`·nic
 ("LSQ index messed up");

5683 
	}
}

5697 
	$ruu_wr™eback
 ()

5699 
i
;

5700 
sum1
, 
sum2
, 
sum3
;

5701 
RUU_¡©iÚ
 *
rs
;

5702 
d–ay
;

5704 
cÚ‹xt
 *
cu¼’t
;

5708 
‹mp
;

5710 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

5712 
wb_dÚe
[
‹mp
] = 0;

5716 (
rs
 = 
	`ev’tq_Ãxt_ev’t
 ()))

5718 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

5720 ià(!
	`OPERANDS_READY
 (
rs
è||„s->
queued
 || !rs->
issued
 ||„s->
com¶‘ed
)

5721 
	`·nic
 ("inst completed‡nd !ready, !issued, or completed");

5723 
rs
->
com¶‘ed
 = 
TRUE
;

5725 
wb_dÚe
[
rs
->
th»adid
]++;

5728 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

5730 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

5732 
œesuÉbus_acûss
++;

5733 
cu¼’t
->
œesuÉbus_acûss
++;

5734 if(!
ruu_šÜd”_issue
)

5736 
rob1_acûss
++;

5737 
cu¼’t
->
rob1_acûss
++;

5738 
iwakeup_acûss
++;

5739 
cu¼’t
->
iwakeup_acûss
++;

5741 
œegfe_acûss
++;

5742 
cu¼’t
->
œegfe_acûss
++;

5744 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

5747 
äesuÉbus_acûss
++;

5748 
cu¼’t
->
äesuÉbus_acûss
++;

5749 if(!
ruu_šÜd”_issue
)

5751 
rob1_acûss
++;

5752 
cu¼’t
->
rob1_acûss
++;

5753 
fwakeup_acûss
++;

5754 
cu¼’t
->
fwakeup_acûss
++;

5756 
äegfe_acûss
++;

5757 
cu¼’t
->
äegfe_acûss
++;

5762 ià(
rs
->
»cov”_š¡
)

5764 ià(
rs
->
š_LSQ
)

5765 
	`·nic
 ("mis-predicted†oad or store?!?!?");

5767 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

5768 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

5769 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

5770 #ifdeà
DIRECTORY


5771 
th»adid
 = 
rs
->threadid;

5772 
i
 = 0;

5773 
i
=0;i<
MSHR_SIZE
;i++)

5775 
RS_li¡
 *
´ev
, *
cur
;

5776 
´ev
=
NULL
, 
cur
 = 
rs_ÿche_li¡
[
th»adid
][
i
]; cur; cur=cur->
Ãxt
)

5778 if(
cur
->
rs
 && cur->rs->
¥ec_mode
)

5780 if(
´ev
 =ğ
NULL
)

5782 
rs_ÿche_li¡
[
th»adid
][
i
] = 
cur
->
Ãxt
;

5783 
´ev
 = 
NULL
;

5787 
´ev
->
Ãxt
 = 
cur
->next;

5788 
cur
 = 
´ev
;

5789 
´ev
 = 
cur
;

5793 
´ev
 = 
cur
;

5798 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

5799 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

5802 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_WB
 && !
rs
->
š_LSQ
 && (
	`MD_OP_FLAGS
 (rs->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5805 
b´ed_acûss
++;

5806 ià(!(
rs
->
du¶iÿ‹
))

5808 
cu¼’t
->
b´ed_acûss
++;

5810 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5811  
rs
->
PC
,

5812  
rs
->
Ãxt_PC
,

5813  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5814  (
md_š¡_t
)),

5815  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5816  (
md_š¡_t
)),

5817  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5818  
rs
->
İ
,

5819  &
rs
->
dœ_upd©e
,

5820  
rs
->
th»adid
,

5821  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5825 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
,„s->
»cov”_š¡
 ? 
PEV_MPDETECT
 : 0);

5827 
sum1
 = 
issue_¿‹
;

5828 
sum2
 = 0;

5829 
sum3
 = 0;

5831 
i
 = 0; i < 
MAX_ODEPS
; i++)

5833 ià(
rs
->
Úames
[
i
] !ğ
NA
)

5835 
CV_lšk
 
lšk
;

5836 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

5838 ià(
rs
->
¥ec_mode
)

5840 
lšk
 = 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

5841 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

5843 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

5844 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

5849 
lšk
 = 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

5850 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

5852 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

5853 
cu¼’t
->
ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

5856 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5858 ià(
	`RSLINK_VALID
 (
Şšk
))

5860 ià(
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
])

5861 
	`·nic
 ("output dependence‡lready satisfied");

5862 
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
] = 
TRUE
;

5864 
Şšk
->
rs
->
wh’_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

5865 
Şšk
->
rs
->
wh’_id•_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

5867 
sum2
++;

5868 ià(
	`OPERANDS_READY
 (
Şšk
->
rs
))

5870 ià(!
Şšk
->
rs
->
š_LSQ
 || ((
	`MD_OP_FLAGS
 (Şšk->rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

5871 
	`»adyq_’queue
 (
Şšk
->
rs
);

5872 
sum3
++;

5875 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5876 if(!
ruu_šÜd”_issue
)

5877 
	`RSLINK_FREE
 (
Şšk
);

5879 if(!
ruu_šÜd”_issue
)

5880 
rs
->
od•_li¡
[
i
] = 
NULL
;

5884 
	}
}

5894 
	#MAX_STD_UNKNOWNS
 
LSQSIZE


	)

5897 #ifdeà 
LSQ_LOAD_FAST_ISSUE


5899 
	$lsq_»äesh
 ()

5901 
i
, 
j
, 
šdex
, 
idx
, 
num_¡a_unknown_th»ad
 = 0;

5903 
cÚ‹xt
 *
cu¼’t
;

5905 #ifdef 
LSQ_FIX_PARTIAL_BUG


5906 
¡d_width
[
LSQSIZE
];

5909 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

5913 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

5915 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
; (˜< cu¼’t->
LSQ_num
è&& (
num_¡a_unknown_th»ad
 < 
numcÚ‹xts
); i++, index = (šdex + 1è% 
LSQ_size
)

5917 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


5918 && !
cu¼’t
->
LSQ
[
šdex
].
issued


5919 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


5920 && !
cu¼’t
->
LSQ
[
šdex
].
ÿche_»ady
 &&

5921  
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5923 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

5929 
	}
}

5932 
	$lsq_»äesh
 ()

5934 
i
, 
idx
, 
j
, 
šdex
, 
n_¡d_unknowns
;

5935 
md_addr_t
 
¡d_unknowns
[
MAX_STD_UNKNOWNS
];

5936 
cÚ‹xt
 *
cu¼’t
;

5941 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

5946 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

5947 
n_¡d_unknowns
 = 0;

5948 
i
 = 0; i < 
LSQ_size
; i++)

5949 
¡d_unknowns
[
i
] = 0;

5951 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
, 
n_¡d_unknowns
 = 0; i < cu¼’t->
LSQ_num
; i++, index = (šdex + 1è% 
LSQ_size
)

5953 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5955 ià(!
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5961 ià(!
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5968 ià(
n_¡d_unknowns
 =ğ
LSQ_size
)

5969 
	`çl
 ("STD unknown‡rray overflow, increase MAX_STD_UNKNOWNS");

5970 
¡d_unknowns
[
n_¡d_unknowns
++] = 
cu¼’t
->
LSQ
[
šdex
].
addr
;

5975 
j
 = 0; j < 
n_¡d_unknowns
; j++)

5977 ià(
¡d_unknowns
[
j
] =ğ 
cu¼’t
->
LSQ
[
šdex
].
addr
)

5978 
¡d_unknowns
[
j
] = 0;

5984 ((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


5985 && !
cu¼’t
->
LSQ
[
šdex
].
issued


5986 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


5987 && 
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

5991 
j
 = 0; j < 
n_¡d_unknowns
; j++)

5994 ià(
¡d_unknowns
[
j
] =ğ
cu¼’t
->
LSQ
[
šdex
].
addr
)

5997 ià(
j
 =ğ
n_¡d_unknowns
)

6000 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

6005 
	}
}

6012 
	$ruu_issue
 ()

6014 
k
, 
i
, 
lßd_Ït
, 
b_Ït
, 
n_issued
;

6015 
RS_lšk
 *
node
, *
Ãxt_node
;

6016 
»s_‹m¶©e
 *
fu
;

6017 
š‹r
 = -1;

6018 
this_cyşe_issued
[
CLUSTERS
];

6019 
mm
;

6020 
d–ay
 = 0;

6021 
boŞ_t
 
bLSQH™
 = 
FALSE
;

6022 
boŞ_t
 
bP¬tŸlH™
 = 
FALSE
;

6023 
nW1
;

6025 #ifdeà 
MSHR


6026 
u£_mshr
 = 0;

6029 
·»ÁID
;

6031 
cÚ‹xt
 *
cu¼’t
;

6032 
th»adid
;

6035 
issueLim™
;

6037 
‹mp
;

6040 #ifdeà 
PULL_BACK


6041 
puÎbackD–ay
[
MAXTHREADS
];

6043 
k
 = 0; k < 
numcÚ‹xts
; k++)

6045 
puÎbackDÚeThisCyşe
[
k
] = 0;

6046 
dl1MissThisCyşe
[
k
] = 
dl1H™ThisCyşe
[k] = 0;

6047 
puÎbackD–ay
[
k
] = 0;

6049 ià(
puÎbackWa™Cyşe
[
k
])

6051 
puÎbackWa™Cyşe
[
k
]--;

6054 ià(
puÎbackBubbË
[
k
] && !
puÎbackWa™Cyşe
[k])

6056 
puÎbackCyşeCouÁ
[
k
]++;

6057 
puÎbackBubbË
[
k
]--;

6058 
puÎbackD–ay
[
k
] = 1;

6064 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

6066 
issue_dÚe
[
‹mp
] = 0;

6067 
this_cyşe_issued
[
‹mp
] = 0;

6068 
lßdRejeùCouÁ
[
‹mp
] = 0;

6069 
»¶ayIndex
[
‹mp
] = 0;

6072 
node
 = 
»ady_queue
;

6073 
»ady_queue
 = 
NULL
;

6077 
issueLim™
 = (
ruu_issue_width
 ) * 
numcÚ‹xts
;

6079 
n_issued
 = 0; 
node
 &&‚_issued < 
issueLim™
;‚odğ
Ãxt_node
)

6081 #ifdeà 
MSHR


6082 
u£_mshr
 = 0;

6085 
Ãxt_node
 = 
node
->
Ãxt
;

6089 ià(
	`RSLINK_VALID
 (
node
))

6091 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

6093 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

6094 
th»adid
 = 
rs
->threadid;

6095 ià(!
	`OPERANDS_READY
 (
rs
è|| !rs->
queued
 ||„s->
issued
 ||„s->
com¶‘ed
)

6096 
	`·nic
 ("issued inst !ready, issued, or completed");

6098 
rs
->
queued
 = 
FALSE
;

6100 if(
ruu_šÜd”_issue
)

6102 
rs_šdex
 = 
rs
->
šdex
;

6103 if(
i
 = 
rs
->
š_LSQ
)

6105 if(
rs
->
´od
[1] =ğ
NULL
)

6106 
	`·nic
("There is‚o‡ddress…roducer of†oad/store\n");

6107 
rs_šdex
 = 
rs
->
´od
[1]->
šdex
;

6110 
i
 = 
thecÚ‹xts
[
th»adid
]->
RUU_h—d
; i < 
rs_šdex
; i = (i+1)%
RUU_size
)

6112 if(!
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
issued
)

6114 if(
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
—_comp
 && !
cu¼’t
->RUU[i].
od•_li¡
[0]->
rs
->
issued
)

6118 if(
i
 !ğ
rs_šdex
)

6120 
	`»adyq_’queue
 (
rs
);

6121 
	`RSLINK_FREE
 (
node
);

6126 #ifdeà
TG


6127 ià(
rs
->
š_LSQ
)

6128 
	`Œaffic_g’”©e
(
sim_cyşe
, 
rs
->
addr
,„s);

6132 #ifdeà 
PULL_BACK


6133 ià(
puÎbackD–ay
[
rs
->
th»adid
])

6135 
	`»adyq_’queue
 (
rs
);

6136 
	`RSLINK_FREE
 (
node
);

6141 ià(
issue_dÚe
[
th»adid
] =ğ(
ruu_issue_width
 ))

6143 
	`»adyq_’queue
 (
rs
);

6144 
	`RSLINK_FREE
 (
node
);

6148 ià(
lßdRejeùCouÁ
[
th»adid
])

6150 
	`»adyq_’queue
 (
rs
);

6151 
	`RSLINK_FREE
 (
node
);

6154 if(
rs
->
ÿche_»ady
 ==1)

6156 
	`»adyq_’queue
 (
rs
);

6157 
	`RSLINK_FREE
 (
node
);

6162 ià(
rs
->
issue_time
 > 
sim_cyşe
)

6164 
	`»adyq_’queue
 (
rs
);

6165 
	`RSLINK_FREE
 (
node
);

6169 ià(((
rs
->
wh’_»ady
[0] <ğ
sim_cyşe
è&& (rs->wh’_»ady[1] <ğsim_cyşeè&& (rs->wh’_»ady[2] <ğsim_cyşeè&& (rs->
wh’_šq
 < sim_cyşeè&& !rs->
š_qwa™
))

6172 #ifdeà 
PWR_WAKEUP_SELECT


6173 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

6175 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

6177 
i£ËùiÚ_acûss
++;

6178 
cu¼’t
->
i£ËùiÚ_acûss
++;

6180 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

6182 
f£ËùiÚ_acûss
++;

6183 
cu¼’t
->
f£ËùiÚ_acûss
++;

6187 
Î_sc
 = 0;

6189 ià(
rs
->
İ
 =ğ
STL_C
 ||„s->İ =ğ
LDL_L
)

6192 
Î_sc
++;

6196 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

6201 
md_addr_t
 
addr
;

6203 #ifdef 
EDA


6204 ià(
rs
->
poisÚ
[1].
dœty
 == 1)

6205 
addr
 = 
rs
->
poisÚ
[1].
d©a
 + 
	`SEXT
 (rs->
IR
 & 0xffff);

6208 
addr
 = 
rs
->addr;

6210 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6211 
i
;

6213 ià(!
v®id_addr
)

6214 
sim_šv®id_addrs
++;

6217 #ifdeà 
MSHR


6218 
u£_mshr
 = 1;

6221 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6223 ià(!
fu
)

6225 
	`»adyq_’queue
 (
rs
);

6226 
	`RSLINK_FREE
 (
node
);

6231 ià(
fu
->
ma¡”
->
busy
)

6232 
	`·nic
 ("functional unit‡lready in use");

6235 ià(
v®id_addr
 && 
db
[
th»adid
])

6237 
b_Ït
 = 0;

6238 
b_Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid);

6239 if(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6241 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6242 
	`»adyq_’queue
 (
rs
);

6243 
	`RSLINK_FREE
 (
node
);

6248 #ifdef 
DCACHE_MSHR


6249 #ifdef 
EDA


6250 
isDL0H™
 = 1;

6251 if(
cu¼’t
->
ma¡”id
 =ğ1 && (
isDL0H™
 = 
	`isCacheH™
(
ÿche_dl0
[cu¼’t->
jobThdId
], 
addr
, 
th»adid
)è=ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[cu¼’t->
h–pThdId
]->
mshr
, 1))

6253 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,h»adidè&& !
mshr_³ndšg_ev’t
[threadid])

6256 
	`»adyq_’queue
 (
rs
);

6257 
	`RSLINK_FREE
 (
node
);

6262 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6263 
rs
->
issued
 = 
TRUE
;

6264 
rs
->
issue_time
 = 
sim_cyşe
;

6265 
rs
->
com¶‘ed
 = 
TRUE
;

6266 
rs
->
fšish_time
 = 
sim_cyşe
;

6269 ià(
v®id_addr
 && (
rs
->
İ
 !ğ
STL_C
))

6271 
Ït
 = 0;

6272 
rsCacheAcûss
 = 
rs
;

6273 
m©chnum
 = 0;

6274 
dÿche_acûss
++;

6275 
cu¼’t
->
dÿche_acûss
++;

6276 #ifdeà
DIRECTORY


6277 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6279 if(!
m©chnum
)

6281 ià(
ÿche_dl1
[
th»adid
])

6282 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,

6283 #ifdeà
DIRECTORY


6284 
rs
,

6286 
rs
->
th»adid
);

6288 #ifdef 
DCACHE_MSHR


6289 if(
Ït
 > 
ÿche_dl1_Ït
)

6290 #ifdeà
DIRECTORY


6291 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
rs
);

6293 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
NULL
);

6298 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6299 if(
Ït
>
ÿche_dl1_Ït
)

6300 
rs
->
miss_æag
 = 1;

6302 
rs
->
miss_æag
 = 0;

6305 
rs
->
issued
 = 
TRUE
;

6306 
rs
->
com¶‘ed
 = 
TRUE
;

6307 
rs
->
issue_time
 = 
sim_cyşe
;

6308 
rs
->
fšish_time
 = 
sim_cyşe
;

6310 ià(
rs
->
couÁed_iissueq
)

6312 
cu¼’t
->
iissueq_thrd
--;

6313 
iissueq
--;

6314 
iissueq_ş
[
rs
->
th»adid
]--;

6315 
rs
->
couÁed_iissueq
 = 0;

6317 ià(
rs
->
couÁed_fissueq
)

6319 
cu¼’t
->
fissueq_thrd
--;

6320 
fissueq
--;

6321 
fissueq_ş
[
rs
->
th»adid
]--;

6322 
rs
->
couÁed_fissueq
 = 0;

6326 ià(
rs
->
Úames
[0] ||„s->onames[1])

6327 
	`·nic
 ("store creates„esult");

6329 ià(
rs
->
»cov”_š¡
)

6330 
	`·nic
 ("mis-predicted store");

6332 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
, 0);

6333 
n_issued
++;

6336 
issue_dÚe
[
rs
->
th»adid
]++;

6339 
cu¼’t
->
iq¿m_acûss
++;

6341 ià(
rs
->
issue_time
 &&„s->issue_tim!ğ
sim_cyşe
)

6342 
	`w¬n
 ("already issueimed on‡nother cycle");

6344 
rs
->
issue_time
 = 
sim_cyşe
;

6346 
k
 = 0; k < 
MAX_IDEPS
; k++)

6348 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6350 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6352 
œegfe_acûss
++;

6353 
cu¼’t
->
œegfe_acûss
++;

6354 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6355 ià(
k
)

6356 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6358 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6359 
œegfe_num_pİ_couÁ_cyşe
++;

6361 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6363 
äegfe_acûss
++;

6364 
cu¼’t
->
äegfe_acûss
++;

6365 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6366 ià(
k
)

6367 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6369 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6370 
œegfe_num_pİ_couÁ_cyşe
++;

6375 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6376 
cu¼’t
->
lsq_acûss
++;

6377 
lsq_¡Üe_d©a_acûss
++;

6378 
cu¼’t
->
lsq_´eg_acûss
++;

6384 
i
 = 
rs
->
šdex
;

6385 
bLSQH™
 = 
FALSE
;

6386 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6390 
bLSQH™
 = 
FALSE
;

6391 ià(
rs
->
isP»ãtch
)

6394 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

6396 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

6399 #ifdef 
LSQ_FIX_PARTIAL_BUG


6400 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6402 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6407 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

6409 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6410 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6412 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6413 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6415 ià(
qwAddr1
 =ğ
qwAddr2
)

6417 
bLSQH™
 = 
TRUE
;

6428 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6430 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
addr
 =ğaddrè&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6434 && 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 < 
rs
->
di¥_time
 && !cu¼’t->LSQ[i].
isP»ãtch
)

6436 
bLSQH™
 = 
TRUE
;

6444 ià(
bLSQH™
)

6446 ià(!
lßdRejeùCouÁ
[
th»adid
])

6448 
m_sqNumLdR•Ïy
[
th»adid
]++;

6449 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

6450 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

6451 
lßdRejeùCouÁ
[
th»adid
]++;

6456 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 = 
rs
->
di¥_time
;

6463 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
NA
)

6466 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

6468 
š‹r
 = (
rs
->
addr
 >> 
ÿche_dl1
[rs->
th»adid
]->
£t_shiá
è& (
»s_membªk
 - 1);

6470 ià(!
DEDICATED_ADDER
 || (
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
IÁALU
))

6473 
š‹r
 = 
MAGICN
 + 
rs
->
şu¡”
;

6477 ià(
rs
->
—_comp
)

6479 
š‹r
 = 
RES_CACHEPORTS
 + 1;

6483 
š‹r
 = 
RES_CACHEPORTS
 + 2;

6487 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6489 ià(
fu
)

6491 
rs
->
issued
 = 
TRUE
;

6492 ià(
rs
->
couÁed_iissueq
)

6494 
cu¼’t
->
iissueq_thrd
--;

6495 
iissueq
--;

6496 
iissueq_ş
[
rs
->
th»adid
]--;

6497 
rs
->
couÁed_iissueq
 = 0;

6499 ià(
rs
->
couÁed_fissueq
)

6501 
cu¼’t
->
fissueq_thrd
--;

6502 
fissueq
--;

6503 
fissueq_ş
[
rs
->
th»adid
]--;

6504 
rs
->
couÁed_fissueq
 = 0;

6507 ià(
fu
->
ma¡”
->
busy
)

6508 
	`·nic
 ("functional unit‡lready in use");

6510 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

6511 
fu
->
ma¡”
->
du¶iÿ‹
 = 
rs
->duplicate;

6512 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6515 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

6517 
ev’ts
 = 0;

6518 
lßd_Ït
 = 0;

6519 
md_addr_t
 
addr
;

6520 #ifdef 
EDA


6521 ià(
rs
->
poisÚ
[1].
dœty
 == 1)

6522 
addr
 = 
rs
->
poisÚ
[1].
d©a
 + 
	`SEXT
 (rs->
IR
 & 0xffff);

6525 
addr
 = 
rs
->addr;

6527 ià(
db
[
th»adid
] && 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
))

6529 
b_Ït
 = 0;

6530 
b_Ït
 = 
	`ÿche_acûss
(
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL, 
rs
->threadid);

6531 ià(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6533 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6534 
fu
->
ma¡”
->
busy
 = 0;

6535 
rs
->
issued
 = 
FALSE
;

6536 
	`»adyq_’queue
 (
rs
);

6537 
	`RSLINK_FREE
 (
node
);

6541 #ifdeà
DIRECTORY


6542 
m©chnum
;

6543 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6544 if(
m©chnum
 && !
rs
->
isP»ãtch
 && !
mshr_³ndšg_ev’t
[
th»adid
])

6546 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6547 
rs
->
ÿche_»ady
 = 1;

6548 
fu
->
ma¡”
->
busy
 = 0;

6549 
rs
->
issued
 = 
FALSE
;

6550 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

6552 
	`RSLINK_FREE
 (
node
);

6557 #ifdef 
DCACHE_MSHR


6558 #ifdef 
EDA


6559 
isDL0H™
 = 1;

6560 if((
cu¼’t
->
ma¡”id
 =ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0)) ||

6561 (
cu¼’t
->
ma¡”id
 =ğ1 && (
isDL0H™
 = 
	`isCacheH™
(
ÿche_dl0
[cu¼’t->
jobThdId
], 
addr
, 
th»adid
)è=ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[cu¼’t->
h–pThdId
]->
mshr
, 1)))

6563 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid))

6566 
fu
->
ma¡”
->
busy
 = 0;

6567 
rs
->
issued
 = 
FALSE
;

6568 
	`»adyq_’queue
 (
rs
);

6569 
	`RSLINK_FREE
 (
node
);

6574 
cu¼’t
->
lsq_acûss
++;

6575 
cu¼’t
->
lsq_wakeup_acûss
++;

6578 
ldIssueCouÁ
++;

6579 #ifdeà
RELAXED_CONSISTENCY


6580 
i
 = 
rs
->
šdex
;

6581 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6584 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

6586 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

6589 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6590 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6591 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

6593 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6594 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6596 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6597 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6599 ià((
qwAddr1
 =ğ
qwAddr2
è&& 
cu¼’t
->
LSQ
[
i
].
šv®id©iÚReûived
)

6601 ià(!
lßdRejeùCouÁ
[
th»adid
])

6603 
m_sqNumLdR•Ïy
[
th»adid
]++;

6604 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

6605 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

6606 
lßdRejeùCouÁ
[
th»adid
]++;

6607 
šv®id©iÚ_»¶ay
[
th»adid
]++;

6616 
ld¡R•Ïy
 = 1;

6618 ià(!
rs
->
isP»ãtch
)

6619 
ld¡R•Ïy
 = 
	`checkLSQfÜSt
 (
rs
->
šdex
, 
cu¼’t
);

6621 ià(!
ld¡R•Ïy
)

6624 #ifdeà
REMOVE_COMPUTE_QUEUE


6625 ià(
rs
->
couÁed_iissueq
)

6627 
cu¼’t
->
iissueq_thrd
++;

6628 
iissueq
++;

6629 
rs
->
couÁed_iissueq
 = 1;

6631 ià(
rs
->
couÁed_fissueq
)

6633 
cu¼’t
->
fissueq_thrd
++;

6634 
fissueq
++;

6635 
rs
->
couÁed_fissueq
 = 1;

6638 
rs
->
issued
 = 
FALSE
;

6639 
rs
->
issue_time
 = 
sim_cyşe
 + 
»jeùR‘ryCyşe
;

6640 
	`»adyq_’queue
 (
rs
);

6641 
	`RSLINK_FREE
 (
node
);

6642 
ld¡RejeùiÚCouÁ
[
th»adid
]++;

6647 
bLSQH™
 = 
FALSE
;

6648 
bP¬tŸlH™
 = 
FALSE
;

6650 
i
 = 
rs
->
šdex
;

6651 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6654 
lsq_Ït
 = 0;

6655 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
 && !
rs
->
isP»ãtch
)

6662 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

6665 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
)

6666 #ifdeà
LSQ_LOAD_FAST_ISSUE


6668 && (
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
i
]))

6670 && (
cu¼’t
->
LSQ
[
i
].
th»adid
 =ğ
rs
->th»adidè&& !cu¼’t->LSQ[i].
isP»ãtch
)

6672 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6673 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6674 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6675 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6677 ià(
qwAddr1
 =ğ
qwAddr2
)

6679 
bLSQH™
 = 
TRUE
;

6680 ià(
nW1
 > 
nW2
)

6684 
bP¬tŸlH™
 = 
TRUE
;

6690 ià(
bLSQH™
)

6695 
lsq_Ït
 = 
LSQ_LATENCY
;

6696 
rs
->
sqStÜeFÜw¬dT
 = 
cu¼’t
->
LSQ
[
i
].
di¥_time
;

6700 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

6706 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6708 ià(!
cu¼’t
->
¥ec_mode
 && !
v®id_addr
)

6709 
sim_šv®id_addrs
++;

6711 ià(
ÿche_dl1
[
th»adid
] && 
v®id_addr
 && !(
m©chnum
))

6714 
dÿche_acûss
++;

6715 
cu¼’t
->
dÿche_acûss
++;

6716 
rsCacheAcûss
 = 
rs
;

6717 #ifdeà
DIRECTORY


6718 
lßd_Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,„s->threadid);

6720 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
->threadid);

6723 #ifdef 
DCACHE_MSHR


6725 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 == -1)

6726 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
rs
);

6727 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 != -1)

6728 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
NULL
);

6730 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
)

6731 
ev’ts
 |ğ
PEV_CACHEMISS
;

6732 if(
lßd_Ït
>
ÿche_dl1_Ït
)

6733 
rs
->
miss_æag
 = 1;

6735 
rs
->
miss_æag
 = 0;

6739 
lßd_Ït
 = 
fu
->
İÏt
;

6742 #ifdeà 
PULL_BACK


6743 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
 && !
rs
->
isP»ãtch
)

6745 
dl1MissThisCyşe
[
rs
->
th»adid
] = 1;

6746 ià(
rs
->
İ
 !ğ
LDT
 &&„s->İ !ğ
LDS
)

6748 ià(!
puÎbackDÚeThisCyşe
[
rs
->
th»adid
])

6750 ià(
puÎbackWa™Cyşe
[
rs
->
th»adid
])

6751 
puÎbackBubbË
[
rs
->
th»adid
]++;

6753 
puÎbackBubbË
[
rs
->
th»adid
] = 2;

6754 
puÎbackDÚeThisCyşe
[
rs
->
th»adid
] = 1;

6756 ià(!
puÎbackWa™Cyşe
[
rs
->
th»adid
])

6758 
puÎbackWa™Cyşe
[
rs
->
th»adid
] = 2;

6763 ià(!
rs
->
isP»ãtch
)

6765 
dl1H™ThisCyşe
[
rs
->
th»adid
] = 1;

6766 ià(
rs
->
İ
 =ğ
LDT
 ||„s->İ =ğ
LDS
)

6768 
lßd_Ït
 = 
ÿche_dl1_Ït
 + 1;

6774 ià(
PERFECT
)

6776 
lßd_Ït
 = 
PERFECTLAT
;

6779 ià(
lsq_Ït
)

6781 
lßd_Ït
 = 
lsq_Ït
;

6783 ià(
rs
->
isP»ãtch
)

6785 
lßd_Ït
 = 
ÿche_dl1_Ït
;

6786 ià(!
rs
->
¥ec_mode
)

6787 
m_sqP»ãtchCÁ
++;

6791 ià(
bP¬tŸlH™
)

6793 #ifdeà
DIRECTORY


6794 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5,†oad_lat+5);

6796 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5);

6800 #ifdeà
DIRECTORY


6801 
	`ev’tq_queue_ev’t
(
rs
, 
sim_cyşe
 + 
lßd_Ït
,†oad_lat);

6803 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
);

6807 ià(!
rs
->
—_comp
)

6809 
rs
->
fšish_time
 = (
sim_cyşe
 + 
lßd_Ït
);

6810 
rs
->
issue_time
 = 
sim_cyşe
;

6814 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
, (Ôs->
—_comp
 ? 
PEV_AGEN
 : 0è| 
ev’ts
));

6819 #ifdeà
PWR_ACCESS


6820 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6821 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

6823 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

6826 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁALU
)

6828 
Ÿlu1_acûss
++;

6829 
cu¼’t
->
Ÿlu1_acûss
++;

6831 ià(
rs
->
—_comp
)

6833 
add_®u
++;

6837 
nÚadd_®u
++;

6840 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
IÁDIV
))

6842 
Ÿlu2_acûss
++;

6843 
cu¼’t
->
Ÿlu2_acûss
++;

6845 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
FlßtMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
FlßtDIV
))

6847 
çlu2_acûss
++;

6848 
cu¼’t
->
çlu2_acûss
++;

6852 
çlu1_acûss
++;

6853 
cu¼’t
->
çlu1_acûss
++;

6855 #ifdeà
DIRECTORY


6856 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
, 0);

6858 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
);

6860 
rs
->
fšish_time
 = (
sim_cyşe
 + 
fu
->
İÏt
);

6861 
rs
->
issue_time
 = 
sim_cyşe
;

6862 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

6866 
n_issued
++;

6867 
issue_dÚe
[
rs
->
th»adid
]++;

6869 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6871 
fq¿m_acûss
++;

6872 
cu¼’t
->
fq¿m_acûss
++;

6876 
iq¿m_acûss
++;

6877 
cu¼’t
->
iq¿m_acûss
++;

6880 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6882 
k
 = 0; k < 
MAX_IDEPS
; k++)

6884 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6886 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6888 
œegfe_acûss
++;

6889 
cu¼’t
->
œegfe_acûss
++;

6890 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6891 ià(
k
)

6892 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6894 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6895 
œegfe_num_pİ_couÁ_cyşe
++;

6897 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6899 
äegfe_acûss
++;

6900 
cu¼’t
->
œegfe_acûss
++;

6901 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6902 ià(
k
)

6903 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6905 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6906 
œegfe_num_pİ_couÁ_cyşe
++;

6913 
	`»adyq_’queue
 (
rs
);

6914 ià(!
rs
->
¥ec_mode
)

6915 
iss_¡®l
++;

6916 ià(
š‹r
 < 
RES_CACHEPORTS
)

6918 ià(!
rs
->
¥ec_mode
)

6919 
bªk_cÚf
++;

6925 
rs
->
issued
 = 
TRUE
;

6926 ià(
rs
->
couÁed_iissueq
)

6928 
cu¼’t
->
iissueq_thrd
--;

6929 
iissueq
--;

6930 
iissueq_ş
[
rs
->
th»adid
]--;

6931 
rs
->
couÁed_iissueq
 = 0;

6933 ià(
rs
->
couÁed_fissueq
)

6935 
cu¼’t
->
fissueq_thrd
--;

6936 
fissueq
--;

6937 
fissueq_ş
[
rs
->
th»adid
]--;

6938 
rs
->
couÁed_fissueq
 = 0;

6940 #ifdeà
DIRECTORY


6941 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1, 0);

6943 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1);

6945 ià(!
rs
->
—_comp
 &&„s->
out1
)

6947 
rs
->
fšish_time
 = (
sim_cyşe
 + 1);

6948 
rs
->
issue_time
 = 
sim_cyşe
;

6952 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

6953 
n_issued
++;

6954 
issue_dÚe
[
rs
->
th»adid
]++;

6955 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6957 
fq¿m_acûss
++;

6958 
cu¼’t
->
fq¿m_acûss
++;

6962 
iq¿m_acûss
++;

6963 
cu¼’t
->
iq¿m_acûss
++;

6965 ià((
rs
->
š¡num
 - 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].š¡numè> 
DISTILP
)

6967 
di¡p
++;

6968 ià(!
rs
->
¥ec_mode
)

6969 
di¡p_v®id
++;

6970 
rs
->
di¡issue
 = 1;

6972 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6974 
k
 = 0; k < 
MAX_IDEPS
; k++)

6976 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6978 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6980 
œegfe_acûss
++;

6981 
cu¼’t
->
œegfe_acûss
++;

6982 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6983 ià(
k
)

6984 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6986 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6987 
œegfe_num_pİ_couÁ_cyşe
++;

6989 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6991 
äegfe_acûss
++;

6992 
cu¼’t
->
äegfe_acûss
++;

6994 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6995 ià(
k
)

6996 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6998 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6999 
œegfe_num_pİ_couÁ_cyşe
++;

7005 #ifdef 
EDA


7006 ià(
cu¼’t
->
ma¡”id
 == 1)

7008 ià(
rs
->
poisÚ
[0].
dœty
 ||„s->poison[1].dirty)

7010 ià(
rs
->
—_comp
)

7012 
rs
->
poisÚ
[2].
dœty
 = 1;

7013 
rs
->
poisÚ
[2].
d©a
 =„s->poisÚ[1].d©¨+ 
	`SEXT
 (rs->
IR
 & 0xffff);

7015 ià(!
rs
->
š_LSQ
)

7016 
	`ÿlcuÏ‹WrÚgV®ue
 (
rs
);

7018 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_LOAD
))

7019 
rs
->
poisÚ
[2].
dœty
 = 0;

7025 
	`»adyq_’queue
 (
rs
);

7028 
	`RSLINK_FREE
 (
node
);

7031 ; 
node
;‚odğ
Ãxt_node
)

7033 
Ãxt_node
 = 
node
->
Ãxt
;

7035 ià(
	`RSLINK_VALID
 (
node
))

7037 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

7039 
rs
->
queued
 = 
FALSE
;

7040 
	`»adyq_’queue
 (
rs
);

7042 
	`RSLINK_FREE
 (
node
);

7047 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

7049 ià(
lßdRejeùCouÁ
[
‹mp
] & 
cŞËù_¡©s
 == 1)

7052 
k
 = 
»¶ayIndex
[
‹mp
];

7055 ià(!
thecÚ‹xts
[
‹mp
]->
RUU
[
k
].
¥ec_mode
)

7057 
	`fixS³cS‹
 (
k
, 
‹mp
);

7058 
thecÚ‹xts
[
‹mp
]->
»gs
 =hecÚ‹xts[‹mp]->
RUU
[
k
].
backupReg
;

7059 
	`£qCÚsi¡ªcyR•Ïy
 (
k
, 
‹mp
);

7060 
lßdRejeùSt
[
‹mp
]++;

7065 
num_issued
 = 
n_issued
;

7066 
	}
}

7074 
	#R_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_IREGS
))

	)

7075 
	#F_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_FREGS
))

	)

7076 
	#C_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_CREGS
))

	)

7080 
	$r¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7082 
i
;

7084 
cÚ‹xt
 *
cu¼’t
;

7086 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7088 ià(!
¡»am
)

7089 
¡»am
 = 
¡d”r
;

7091 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtiv»gi¡” cÚ‹Á **\n", 
th»adid
);

7093 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7096 
i
 = 0; i < 
MD_NUM_IREGS
; i++)

7098 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, 
i
))

7100 
	`md_´št_œeg
 (
cu¼’t
->
¥ec_»gs_R
, 
i
, 
¡»am
);

7101 
	`årštf
 (
¡»am
, "\n");

7106 
i
 = 0; i < 
MD_NUM_FREGS
; i++)

7108 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, 
i
))

7110 
	`md_´št_å»g
 (
cu¼’t
->
¥ec_»gs_F
, 
i
, 
¡»am
);

7111 
	`årštf
 (
¡»am
, "\n");

7116 
i
 = 0; i < 
MD_NUM_CREGS
; i++)

7118 #ifdeà
TEST_BUG


7119 ià(
	`BITMAP_SET_P
 (
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7121 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7124 
	`md_´št_üeg
 (
cu¼’t
->
¥ec_»gs_C
, 
i
, 
¡»am
);

7125 
	`årštf
 (
¡»am
, "\n");

7128 
	}
}

7140 
	$Œaûr_»cov”
 (
th»adid
)

7142 
i
;

7143 
¥ec_mem_’t
 *
’t
, *
’t_Ãxt
;

7145 
cÚ‹xt
 *
cu¼’t
;

7147 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7151 ià(!
cu¼’t
->
¥ec_mode
)

7152 
	`·nic
 ("Th»ad %d, cªnÙ„ecov” uÆes š s³cuÏtivmode", 
th»adid
);

7153 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7155 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7156 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7160 #ifdeà
TEST_BUG


7161 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7162 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7163 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7165 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7166 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7167 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7172 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7175 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ = 
’t_Ãxt
)

7177 
’t_Ãxt
 = 
’t
->
Ãxt
;

7178 
’t
->
Ãxt
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7179 
cu¼’t
->
buck‘_ä“_li¡
 = 
’t
;

7181 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7185 ià(
±¿û_aùive
)

7187 
cu¼’t
->
ãtch_num
 != 0)

7189 
	`±¿û_’dš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
);

7190 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

7191 
cu¼’t
->
ãtch_num
--;

7195 
cu¼’t
->
ãtch_num
 = 0;

7196 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

7197 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»cov”_PC
;

7198 
	}
}

7202 
	$Œaûr_š™
 (
th»adid
)

7204 
i
;

7206 
cÚ‹xt
 *
cu¼’t
;

7208 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7210 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7211 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7212 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7215 #ifdeà
TEST_BUG


7216 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7217 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7218 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7220 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7221 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7222 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7224 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7225 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7226 
	}
}

7232 
	#HASH_ADDR
(
ADDR
è((((ADDRè>> 24)^((ADDRè>> 16)^((ADDRè>> 8)^(ADDR)è& (
STORE_HASH_SIZE
-1))

	)

7244 
md_çuÉ_ty³


7245 
	$¥ec_mem_acûss
 (
mem_t
 *
mem
,

7246 
mem_cmd
 
cmd
,

7247 
md_addr_t
 
addr
,

7248 *
p
,

7249 
nby‹s
)

7251 
i
, 
šdex
;

7252 
¥ec_mem_’t
 *
’t
, *
´ev
;

7254 
cÚ‹xt
 *
cu¼’t
;

7255 
th»adid
 = 
mem
->threadid;

7257 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7263 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

7266 
i
 = 0; i < 
nby‹s
; i++)

7267 ((*è
p
)[
i
] = 0;

7269  
md_çuÉ_nÚe
;

7272 ià(!((
addr
 >ğ
cu¼’t
->
ld_‹xt_ba£
 &&‡dd¸< (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& 
cmd
 =ğ
R—d
è|| 
	`md_v®id_addr
 (addr, cu¼’t->
ma¡”id
)))

7275 
i
 = 0; i < 
nby‹s
; i++)

7276 ((*è
p
)[
i
] = 0;

7278  
md_çuÉ_nÚe
;

7282 
šdex
 = 
	`HASH_ADDR
 (
addr
);

7283 
´ev
 = 
NULL
, 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
Ãxt
)

7285 ià(
’t
->
addr
 ==‡ddr)

7288 ià(
´ev
 !ğ
NULL
)

7291 
´ev
->
Ãxt
 = 
’t
->next;

7292 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7293 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7300 ià(!
’t
 && 
cmd
 =ğ
Wr™e
)

7303 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7306 
cu¼’t
->
buck‘_ä“_li¡
 = 
	`ÿÎoc
 (1,  (
¥ec_mem_’t
));

7307 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7308 
	`çl
 ("th»ad %d , ouˆoàvœtu® memÜy", 
th»adid
);

7310 
’t
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7311 
cu¼’t
->
buck‘_ä“_li¡
 = cu¼’t->buck‘_ä“_li¡->
Ãxt
;

7313 ià(!
bugcom·t_mode
)

7316 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7317 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7318 
’t
->
addr
 =‡ddr;

7319 
’t
->
d©a
[0] = 0;

7320 
’t
->
d©a
[1] = 0;

7325 
nby‹s
)

7328 ià(
cmd
 =ğ
R—d
)

7330 ià(
’t
)

7333 *((
by‹_t
 *è
p
èğ*((by‹_ˆ*è(&
’t
->
d©a
[0]));

7339 *((
by‹_t
 *è
p
èğ
	`MEM_READ_BYTE
 (
mem
, 
addr
);

7345 *((
by‹_t
 *è(&
’t
->
d©a
[0])èğ*((by‹_ˆ*è
p
);

7349 ià(
cmd
 =ğ
R—d
)

7351 ià(
’t
)

7354 *((
h®f_t
 *è
p
èğ*((h®f_ˆ*è(&
’t
->
d©a
[0]));

7360 *((
h®f_t
 *è
p
èğ
	`MEM_READ_HALF
 (
mem
, 
addr
);

7366 *((
h®f_t
 *è& 
’t
->
d©a
[0]èğ*((h®f_ˆ*è
p
);

7370 ià(
cmd
 =ğ
R—d
)

7372 ià(
’t
)

7375 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

7381 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

7387 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

7391 ià(
cmd
 =ğ
R—d
)

7393 ià(
’t
)

7396 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

7397 *(((
wÜd_t
 *è
p
è+ 1èğ*((wÜd_ˆ*è& 
’t
->
d©a
[1]);

7403 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

7404 *(((
wÜd_t
 *è
p
è+ 1èğ
	`MEM_READ_WORD
 (
mem
, 
addr
 +  (word_t));

7410 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

7411 *((
wÜd_t
 *è& 
’t
->
d©a
[1]èğ*(((wÜd_ˆ*è
p
) + 1);

7415 
	`·nic
 ("access size‚ot supported in mis-speculative mode");

7418  
md_çuÉ_nÚe
;

7419 
	}
}

7423 
	$m¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7425 
i
, 
j
;

7426 
¥ec_mem_’t
 *
’t
;

7428 
cÚ‹xt
 *
cu¼’t
;

7430 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7432 ià(!
¡»am
)

7433 
¡»am
 = 
¡d”r
;

7435 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtivmemÜy cÚ‹Á **\n", 
th»adid
);

7437 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7439 
j
 = 0; j < 
numcÚ‹xts
; j++)

7441 
	`årštf
 (
¡»am
, "th»ad %d : \n", 
j
);

7442 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7445 
’t
 = 
thecÚ‹xts
[
j
]->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7447 
	`myårštf
 (
¡»am
, "[0x%08p]: %12.0f/0x%08x:%08x\n", 
’t
->
addr
, (è(*((*è’t->
d©a
)), *((*) &ent->data[0]), *(((*) &ent->data[0]) + 1));

7451 
	}
}

7455 
	$simoo_mem_obj
 (
mem_t
 *
mem
,

7456 
is_wr™e
,

7457 
md_addr_t
 
addr
,

7458 *
p
,

7459 
nby‹s
)

7461 
mem_cmd
 
cmd
;

7463 
th»adid
 = 
mem
->threadid;

7464 
cÚ‹xt
 *
cu¼’t
;

7466 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7468 ià(!
is_wr™e
)

7469 
cmd
 = 
R—d
;

7471 
cmd
 = 
Wr™e
;

7474 *
”r¡r
;

7476 
”r¡r
 = 
	`mem_v®id
 (
cmd
, 
addr
, 
nby‹s
, 
FALSE
);

7477 ià(
”r¡r
)

7478  
”r¡r
;

7482 ià(
cu¼’t
->
¥ec_mode
)

7483 
	`¥ec_mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
);

7485 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adid
);

7488  
NULL
;

7489 
	}
}

7495 
	$æushWr™eBufãr
 (
th»adid
)

7497 
šdex
;

7498 
wb_mem_’t
 *
’t
, *
´ev
;

7499 
nby‹s
;

7500 
by‹_t
 *
p
, *
q
;

7501 
md_addr_t
 
addr
;

7502 
ii
;

7504 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7506 
’t
 = 
cu¼’t
->
WBbËTa
;ƒÁ !ğ
NULL
;ƒÁ =ƒÁ->
´ev
)

7508 
p
 = 
’t
->
d©a
;

7509 
nby‹s
 = 
’t
->nbytes;

7510 
addr
 = 
’t
->addr;

7512 #ià!
WATER_NSQUARED


7513 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7515 
nby‹s
-- > 0)

7517 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7518 
p
 +ğ (
by‹_t
);

7519 
addr
 +ğ (
by‹_t
);

7523 
’t
->
wr™eAÌ—dyDÚe
 = 1;

7526 
	}
}

7530 
	$com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
)

7533 
by‹_t
 *
p
, *
q
;

7534 
cÚ‹xt
 *
cu¼’t
;

7535 
wb_mem_’t
 *
’t
, *
´ev
;

7538 
nby‹s
;

7539 
md_İcode
 
İ
;

7540 
md_addr_t
 
š¡
;

7541 
do_wr™e
 = 1;

7542 
jj
;

7543 
acûs£d
;

7545 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7546 
’t
 = 
cu¼’t
->
WBbËTa
;

7548 ià((
width
 & (width - 1)è!ğ0 || (
addr
 & (width - 1)) != 0)

7551 
p
 = 
’t
->
d©a
;

7552 
nby‹s
 = 
’t
->nbytes;

7553 ià(
addr
 !ğ
’t
->addr)

7554 
	`´štf
("’t->add¸%Îd\n", 
’t
->
addr
);

7555 ià(
addr
 !ğ
’t
->addr)

7556 
	`·nic
 ("write buffer miss-alignment\n");

7558 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

7559 
š¡
 = 
’t
->
š¡r
;

7561 
p
 = 
’t
->
d©a
;

7562 
nby‹s
 = 
’t
->nbytes;

7565 ià(
İ
 != 35)

7567 #ià!
WATER_NSQUARED


7568 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7570 
nby‹s
-- > 0)

7572 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7573 
p
 +ğ (
by‹_t
);

7574 
addr
 +ğ (
by‹_t
);

7581 #ià
WATER_NSQUARED


7582 
cu¼’t
->
wa™FÜSTLC
 = 0;

7584 ià(!
isFa
 && (
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 !ğ0è&& (commÚ_»gs_s[cu¼’t->ma¡”id][cu¼’t->aùu®id].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
)))

7586 
do_wr™e
 = 1;

7588 
jj
 = 0; jj < 
THREADS_PER_JOB
; jj++)

7590 ià(
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
))

7592 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
»gs_lock
 = 0;

7593 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 = 0;

7596 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7599 
nby‹s
-- > 0)

7601 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7602 
p
 +ğ (
by‹_t
);

7603 
addr
 +ğ (
by‹_t
);

7606 
¡ÜeCÚdFa
 = 0;

7610 
cu¼’t
->
»gs
.
»gs_R
[((
š¡
 >> 21) & 0x1f)] = 0;

7611 
do_wr™e
 = 0;

7612 
¡ÜeCÚdFa
 = 1;

7614 
cu¼’t
->
wa™FÜSTLC
 = 0;

7617 
acûs£d
 = 
’t
->accessed;

7618 
cu¼’t
->
numOfWBEÁry
--;

7619 ià((
’t
->
´ev
 =ğ
NULL
è&& (’t->
Ãxt
 == NULL))

7621 
cu¼’t
->
WBbËTa
 = 
NULL
;

7622 
cu¼’t
->
WBbËH—d
 = 
NULL
;

7623 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7624 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7626 ià(
’t
->
Ãxt
 =ğ
NULL
)

7628 
cu¼’t
->
WBbËTa
 = 
’t
->
´ev
;

7629 
’t
->
´ev
->
Ãxt
 = 
NULL
;

7630 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7631 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7634 ià(
’t
->
´ev
 =ğ
NULL
)

7636 
cu¼’t
->
WBbËH—d
 = 
’t
->
Ãxt
;

7637 
’t
->
Ãxt
->
´ev
 = 
NULL
;

7638 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7639 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7643 
’t
->
´ev
->
Ãxt
 =ƒnt->next;

7644 
’t
->
Ãxt
->
´ev
 =ƒnt->prev;

7645 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7646 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7648 
	}
}

7653 
	$comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
)

7655 
šdex
;

7656 
wb_mem_’t
 *
’t
;

7657 
cÚ‹xt
 *
cu¼’t
;

7658 
md_İcode
 
İ
;

7659 
Ït
 = 0;

7660 
pÜt_Ït
 = 0, 
now_Ït
 = 0, 
pÜt_now
 = 0;

7663 
cu¼’t
 = 
thecÚ‹xts
[
th»adID
];

7664 ià(!
COHERENT_CACHE
)

7666 
	`´štf
 ("This is‚ot TRUE for‚on-coherent cache\n");

7667 
	`ex™
 (0);

7669 
šdex
 = 0;

7670 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7672 ià(
’t
->
addr
 =ğadd¸&& !’t->
com¶‘eCyşe
)

7674 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

7675 ià(
İ
 == 35)

7677 
’t
->
com¶‘eCyşe
 = 
sim_cyşe
 + 
Ït
;

7678 
’t
->
ÃedBusAcûss
 = 1;

7679 
’t
->
acûs£d
 =‡ccessed;

7683 
’t
->
com¶‘eCyşe
 = completeCycle;

7684 
’t
->
ÃedBusAcûss
 =‚eedBusAccess;

7685 
’t
->
acûs£d
 =‡ccessed;

7690 
	}
}

7694 #ià
PROCESS_MODEL


7696 
	$checkFÜSh¬edAddr
 (
addr
)

7698 
sh¬edAdd»ssLi¡_s
 *
tmpPŒ
;

7700 
šdx
 = (è(((è
addr
 & 1016) >> 3);

7702 
šdx
 = 0;

7703 
tmpPŒ
 = 
sh¬edAdd»ssLi¡
[
šdx
];

7704 ià((
addr
 >ğ
La¡Sh¬edAdd»ss
è&& (add¸< (La¡Sh¬edAdd»s + 
La¡Sh¬edSize
)))

7708 
tmpPŒ
 !ğ
NULL
)

7710 ià((
addr
 >ğ
tmpPŒ
->
add»ss
è&& (add¸< (tmpPŒ->add»s +mpPŒ->
size
)))

7712 
La¡Sh¬edAdd»ss
 = 
tmpPŒ
->
add»ss
;

7713 
La¡Sh¬edSize
 = 
tmpPŒ
->
size
;

7716 
tmpPŒ
 =mpPŒ->
Ãxt
;

7719 
	}
}

7722 
md_çuÉ_ty³


7723 
	$WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
)

7725 
md_İcode
 
İ
;

7726 
md_çuÉ_ty³
 
»tuº_ty³
;

7728 
TempIn¡r
 = 
š¡r
;

7729 
	`MD_SET_OPCODE
 (
İ
, 
TempIn¡r
);

7731 if(!
thecÚ‹xts
[
th»adID
]->
¥ec_mode
 && (
addr
 <ğthecÚ‹xts[0]->
ld_¡ack_ba£
è&& (add¸>hecÚ‹xts[0]->ld_¡ack_ba£-
numcÚ‹xts
*
STACKSIZE
) && !(addr <=hecontexts[threadID]->ld_stack_base &&‡ddr >hecontexts[threadID]->ld_stack_base-STACKSIZE))

7732 
	`·nic
("Stack boundaries breached: May behe STACKSIZE…arameter defined in context.h file is small forhe‡pplication");

7734 #ià
	`defšed
(
DO_COMPLETE_FASTFWD
è|| defšed(
PARALLEL_EMUL
)

7735 #ià
PROCESS_MODEL


7736 ià(
	`checkFÜSh¬edAddr
 ((è
addr
))

7738 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
thecÚ‹xts
[0]->
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7739  
»tuº_ty³
;

7742 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7743  
»tuº_ty³
;

7747 ià(
COHERENT_CACHE
 && 
®lFÜked
)

7749 ià(
İ
 == 35)

7751 
thecÚ‹xts
[
th»adID
]->
wa™FÜSTLC
 = 1;

7753 
»tuº_ty³
 = 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7754 #ià
WATER_NSQUARED


7755 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7758 ià(
acûss_mem
 && 
acûss_mem_id
 =ğ
th»adID
)

7760 
	`æushWr™eBufãr
 (
th»adID
);

7762  
»tuº_ty³
;

7766 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7767  
»tuº_ty³
;

7769 
	}
}

7773 
INLINE
 

7774 
	$ruu_lšk_id•
 (
RUU_¡©iÚ
 *
rs
,

7775 
id•_num
,

7776 
id•_Çme
)

7778 
CV_lšk
 
h—d
;

7779 
RS_lšk
 *
lšk
;

7781 
th»adid
 = 
rs
->threadid;

7782 
cÚ‹xt
 *
cu¼’t
;

7784 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7786 
rs
->
´od
[
id•_num
] = 
NULL
;

7787 
rs
->
id•_Çme
[
id•_num
] = idep_name;

7789 ià(
id•_Çme
 =ğ
NA
)

7792 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

7793 
rs
->
wh’_»ady
[
id•_num
] = 0;

7794 
rs
->
wh’_id•_»ady
[
id•_num
] = 
WAIT_TIME
;

7798 
h—d
 = 
	`CREATE_VECTOR
 (
id•_Çme
);

7801 ià(!
h—d
.
rs
 || h—d.rs->
com¶‘ed
)

7803 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

7804 
rs
->
wh’_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

7805 
rs
->
wh’_id•_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

7808 
rs
->
id•_»ady
[
id•_num
] = 
FALSE
;

7809 
rs
->
´od
[
id•_num
] = 
h—d
.rs;

7811 
	`RSLINK_NEW
 (
lšk
, 
rs
);

7812 
lšk
->
x
.
İnum
 = 
id•_num
;

7813 
lšk
->
Ãxt
 = 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
];

7814 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
] = 
lšk
;

7815 
	}
}

7818 
	$ÃedsWBæush
 (
cÚ‹xt
 * 
cu¼’t
, 
md_İcode
 
İ
, 
md_addr_t
 
addr
)

7820 
nby‹s
 = 
	`G‘MemAccWidth
 (
İ
);

7822 ià(
İ
 =ğ
LDQ_U
)

7823 
addr
 =‡ddr & ~7;

7825 
wb_mem_’t
 *
’t
;

7827 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7829 ià(
nby‹s
 == 1)

7831 ià(!(
’t
->
nby‹s
 ==‚bytes))

7833 ià((
’t
->
addr
 <ğaddrè&& (ÓÁ->add¸+ƒÁ->
nby‹s
) >‡ddr))

7839 ià(
nby‹s
 == 2)

7841 ià(
’t
->
nby‹s
 !=‚bytes)

7843 ià(
’t
->
nby‹s
 <‚bytes)

7845 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

7852 ià((
addr
 >ğ
’t
->addrè&& (add¸< (’t->add¸+ƒÁ->
nby‹s
)))

7859 ià(
nby‹s
 == 4)

7861 ià(
nby‹s
 !ğ
’t
->nbytes)

7863 ià(
’t
->
nby‹s
 <‚bytes)

7865 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

7872 ià(
nby‹s
 == 8)

7874 ià(
nby‹s
 !ğ
’t
->nbytes)

7876 ià((
’t
->
nby‹s
 == 1) || (ent->nbytes == 2) || (ent->nbytes == 4))

7878 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

7887 
	}
}

7892 
INLINE
 

7893 
	$ruu_š¡®l_od•
 (
RUU_¡©iÚ
 *
rs
,

7894 
od•_num
,

7895 
od•_Çme
)

7897 
CV_lšk
 
cv
;

7899 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

7902 ià(
od•_Çme
 =ğ
NA
)

7905 
rs
->
Úames
[
od•_num
] = 
NA
;

7910 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

7912 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

7915 
	`CVLINK_INIT
 (
cv
, 
rs
, 
od•_num
);

7916 
	`SET_CREATE_VECTOR
 (
od•_Çme
, 
cv
);

7917 
	}
}

7921 
INLINE
 

7922 
	$ruu_š¡®l_od•_sk
 (
RUU_¡©iÚ
 *
rs
,

7923 
od•_num
,

7924 
od•_Çme
)

7928 ià(
od•_Çme
 =ğ
NA
)

7931 
rs
->
Úames
[
od•_num
] = 
NA
;

7936 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

7938 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

7940 
	}
}

7946 
	$simoo_»g_obj
 (
»gs_t
 *
x»gs
,

7947 
is_wr™e
,

7948 
md_»g_ty³
 
¹
,

7949 
»g
,

7950 
ev®_v®ue_t
 *
v®
)

7953 
th»adid
 = 0;

7954 
cÚ‹xt
 *
cu¼’t
;

7956 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7958 
¹
)

7960 
¹_g´
:

7961 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_IREGS
)

7964 ià(!
is_wr™e
)

7966 
v®
->
ty³
 = 
‘_ušt
;

7967 
v®
->
v®ue
.
as_ušt
 = 
	`GPR
 (
»g
);

7970 
	`SET_GPR
 (
»g
, 
	`ev®_as_ušt
 (*
v®
));

7973 
¹_Ír
:

7974 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_FREGS
)

7978 
	`abÜt
 ();

7981 
¹_år
:

7983 
	`abÜt
 ();

7986 
¹_d´
:

7988 
	`abÜt
 ();

7993 
¹_PC
:

7994 ià(!
is_wr™e
)

7996 
v®
->
ty³
 = 
‘_addr
;

7997 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8000 
cu¼’t
->
»gs
.
»gs_PC
 = 
	`ev®_as_addr
 (*
v®
);

8003 
¹_NPC
:

8004 ià(!
is_wr™e
)

8006 
v®
->
ty³
 = 
‘_addr
;

8007 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8010 
cu¼’t
->
»gs
.
»gs_NPC
 = 
	`ev®_as_addr
 (*
v®
);

8014 
	`·nic
 ("bogus„egister bank");

8018  
NULL
;

8019 
	}
}

8022 
ruu_ãtch
 ();

8024 
	g¡®lCau£
[
MAXTHREADS
] = {0};

8025 
couÁ”_t
 
	gmb_couÁ
 = 0;

8034 
	$ruu_di¥©ch
 (
th»adid
)

8036 
i
;

8037 
‹mpş
;

8038 
‹mµc
 = 0;

8039 
mm
, 
k
;

8040 
fÜû_bªk
;

8041 
¦Ù
;

8043 
n_di¥©ched
;

8044 
md_š¡_t
 
š¡
;

8045 
md_İcode
 
İ
;

8046 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

8047 
md_addr_t
 
rg‘_PC
 = 0;

8048 
md_addr_t
 
addr
 = 0;

8049 
RUU_¡©iÚ
 *
rs
;

8050 
RUU_¡©iÚ
 *
lsq
;

8053 
RUU_¡©iÚ
 *
rs_dup
;

8054 
b´ed_upd©e_t
 *
dœ_upd©e_±r
;

8055 
¡ack_»cov”_idx
;

8056 
p£q
;

8057 
is_wr™e
 = 
FALSE
;

8058 
made_check
;

8059 
br_k’
, 
br_´ed_k’
;

8060 
by‹_t
 
‹mp_by‹
;

8061 
h®f_t
 
‹mp_h®f
;

8062 
wÜd_t
 
‹mp_wÜd
;

8064 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

8065 
qwÜd_t
 
‹mp_qwÜd
 = 0;

8067 
qwÜd_t
 
»gV®
;

8068 
h®f_t
 
ushLdFÏg
;

8070 
»gs_t
 
‹mpReg
;

8073 
»gs_t
 
‹mpRegP»v
;

8075 
md_çuÉ_ty³
 
çuÉ
;

8077 
soá_”rÜ
, 
‹mp_ãtch_num
;

8080 
qwÜd_t
 
v®_¿
 = 0, 
v®_rb
 = 0, 
v®_rc
 = 0, 
v®_¿_»suÉ
 = 0;

8081 
	`cİy_to
 ();

8082 
	`bªk_lookup
 (
md_addr_t
, , );

8084 
cÚ‹xt
 *
cu¼’t
;

8085 
ãtch_time
 = 0;

8087 
£cÚd_run
 = 
TRUE
, 
no_d¥_şs
;

8089 
š_LSQ
 = 0;

8090 
lsq_fuÎ
 = 0;

8092 
·»ÁID
;

8094 
»sourû_Ãed
[4];

8096 
»sourû_Ãed
[0] = 1;

8097 
»sourû_Ãed
[1] = 1;

8098 
»sourû_Ãed
[2] = 3;

8099 
»sourû_Ãed
[3] = 3;

8101 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8103 
n_di¥©ched
 = 0;

8104 
‹mp_ãtch_num
 = 
cu¼’t
->
ãtch_num
;

8106 
cu¼’t
->
ãtch_»dœeùed
 = 
FALSE
;

8107 
¡®lCau£
[
th»adid
] = 0;

8109 ià(
‹mp_ãtch_num
 != 0)

8111 
made_check
 = 
FALSE
;

8112 
‹mpş
 = 
aùu®_şu¡”s
;

8116 
n_di¥©ched
 < (
ruu_decode_width
 * 
ãtch_¥“d
)

8117 && 
cu¼’t
->
LSQ_num
 < 
LSQ_size
 && cu¼’t->
m_shLQNum
 < 
m_shLQSize


8118 #ifdef 
SMD_USE_WRITE_BUF


8119 && (
cu¼’t
->
m_shSQNum
 + 
m_L1WBufCÁ
[
th»adid
]è< 
m_shSQSize


8121 && (
cu¼’t
->
m_shSQNum
è< 
m_shSQSize


8123 && (
cu¼’t
->
RUU_num
 < 
RUU_size
)

8124 && 
‹mp_ãtch_num
 !ğ0 && (
ruu_šşude_¥ec
 || !
cu¼’t
->
¥ec_mode
))

8127 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8128 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

8130 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

8131 
š_LSQ
 = 1;

8133 
š_LSQ
 = 0;

8135 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8137 
»sourû_Ãed
[0] = 0;

8138 
»sourû_Ãed
[1] = 1;

8139 
»sourû_Ãed
[2] = 0;

8140 
»sourû_Ãed
[3] = 3;

8144 
»sourû_Ãed
[0] = 1;

8145 
»sourû_Ãed
[1] = 0;

8146 
»sourû_Ãed
[2] = 3;

8147 
»sourû_Ãed
[3] = 1;

8150 ià(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esourû_Ãed[1])è&& (
œegfe_ş
[th»adid] <ğ((
IPREG_size
è-„esourû_Ãed[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8152 if(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esource_need[1]))))

8153 
¡®lCau£
[
th»adid
] = 
SÎIssueFuÎ
;

8154 if(!((
œegfe_ş
[
th»adid
] <ğ((
IPREG_size
è- 
»sourû_Ãed
[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8155 
¡®lCau£
[
th»adid
] = 
SÎRegFuÎ
;

8159 ià((
thecÚ‹xts
[
th»adid
]->
wa™FÜB¿nchResŞve
 =ğ1è|| (thecÚ‹xts[th»adid]->
wa™FÜSTLC
))

8161 
¡®lCau£
[
th»adid
] = 
SÎSTLC
;

8170 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

8171 ià(
busSlÙCouÁ
 < 11)

8173 
¡®lNoBusSlÙ
++;

8178 ià(
cŞËùStStİ
[
cu¼’t
->
id
])

8183 
j
, 
boŞ
 = 0, 
tmp
, 
Î_sc
 = 0;

8184 
cÚ‹xt
 *
tmpCxt
;

8185 
md_addr_t
 
mask
;

8187 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

8190 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8191 
dœ_upd©e_±r
 = &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
dœ_upd©e
);

8192 
¡ack_»cov”_idx
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->stack_recover_idx;

8193 
p£q
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
;

8194 
ãtch_time
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->fetch_time;

8196 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
is_dup
 = 
TRUE
;

8197 if(
m_upd©e_miss_æag
[
th»adid
])

8199 
m_upd©e_miss_æag
[
th»adid
] = 0;

8200 if(
m_upd©e_miss_d•’d_¡¬t
[
th»adid
])

8201 
Upd©eD•’dCyşe
 +ğ(
sim_cyşe
 - 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
]);

8202 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 0;

8206 ià(
İ
 =ğ
STL_C
)

8209 
Î_sc
++;

8213 ià(
İ
 =ğ
LDL_L
)

8215 
Î_sc
++;

8217 if(
	`MD_OP_FLAGS
(
İ
è& 
F_FENCE
)

8218 
mb_couÁ
++;

8221 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_TRAP
)

8223 
	#OSF_SYS_g‘th»adid
 500

	)

8224 
	#OSF_SYS_STATS
 530

	)

8225 
	#OSF_SYS_BARRIER_STATS
 531

	)

8226 
	#OSF_SYS_LOCK_STATS
 532

	)

8227 
	#OSF_SYS_BARRIER_INSTR
 533

	)

8228 
qwÜd_t
 
syscode
 = 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_V0
];

8229 if(
cu¼’t
->
¥ec_mode
 || !(
syscode
 =ğ
OSF_SYS_g‘th»adid
 || syscod=ğ
OSF_SYS_STATS
 || syscod=ğ
OSF_SYS_BARRIER_STATS
 || syscod=ğ
OSF_SYS_BARRIER_INSTR
 || syscod=ğ
OSF_SYS_LOCK_STATS
))

8231 ià(
cu¼’t
->
RUU_num
 != 0)

8233 
¡®lCau£
[
th»adid
] = 
SÎT¿p
;

8238 ià(
cu¼’t
->
¥ec_mode
)

8239 
	`·nic
 ("drained‡nd speculative");

8242 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->regs_PC;

8243 
cu¼’t
->
´ed_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->pred_PC;

8244 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8247 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

8248 
cu¼’t
->
¥ec_»gs_R
[
MD_REG_ZERO
] = 0;

8249 #ifdeà
TARGET_ALPHA


8250 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8251 
cu¼’t
->
¥ec_»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8255 
addr
 = 0;

8256 
is_wr™e
 = 
FALSE
;

8259 #ià
	`defšed
(
TARGET_PISA
)

8260 
v®_¿
 = 
	`GPR
 (
RS
);

8261 
v®_rb
 = 
	`GPR
 (
RT
);

8262 #–ià
	`defšed
(
TARGET_ALPHA
)

8266 
çuÉ
 = 
md_çuÉ_nÚe
;

8267 
soá_”rÜ
 = 
FALSE
;

8270 
‹mpRegP»v
 = 
cu¼’t
->
»gs
;

8273 
ushLdFÏg
 = 0;

8275 
İ
)

8277 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

8278 
OP
: \

8280 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

8281 
out1
 = 
O1
; 
out2
 = 
O2
; \

8282 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

8283 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

8284 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

8285 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

8286 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

8287 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

8289 if(
£cÚd_run
è
	`SYMCAT
(
OP
,
_IMPL
); \

8291 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

8292 
OP
: \

8294 
İ
 = 
MD_NOP_OP
; \

8296 
out1
 = 
NA
; 
out2
 = NA; \

8297 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

8300 
	#CONNECT
(
OP
è

	)

8306 
	#DECLARE_FAULT
(
FAULT
è\

	)

8308 ià(!
cu¼’t
->
¥ec_mode
) \

8309 
çuÉ
 = (
FAULT
); \

8313 
	#THREADID
 (
cu¼’t
->
id
)

	)

8314 
	~"machše.def
"

8317 
İ
 = 
MD_NOP_OP
;

8319 
out1
 = 
NA
;

8320 
out2
 = 
NA
;

8321 
š1
 = 
NA
;

8322 
š2
 = 
NA
;

8323 
š3
 = 
NA
;

8326 ià(!
cu¼’t
->
¥ec_mode
)

8328 if(!(
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]))

8329 
pu»_num_š¢
++;

8330 
tÙ®_num_š¢
++;

8331 
sim_num_š¢
++;

8332 
cu¼’t
->
sim_num_š¢
++;

8335 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

8337 
	`årštf
 (
¡d”r
, "sim_cyş%ld\Àsim_š¢ %ld,hrdid %d,…ø%lx, Next_pø%lx\n", (è
sim_cyşe
, (è
cu¼’t
->
sim_num_š¢
, cu¼’t->
id
, (ècu¼’t->
»gs
.
»gs_PC
,

8338 (è
cu¼’t
->
»gs
.
»gs_PC
);

8339 
	`årštf
 (
¡d”r
, "ãtch…ø %lx,ãtch Next_pø %lx\n", (è
cu¼’t
->
ãtch_»gs_PC
, (ècu¼’t->
ãtch_´ed_PC
);

8340 
	`çl
 ("Th»ad %d,‚Ú-¥ecuÏtivçuÉ (%dèd‘eùed @ %lx", 
th»adid
, 
çuÉ
, (è
cu¼’t
->
»gs
.
»gs_PC
);

8344 #ià
	`defšed
(
TARGET_PISA
)

8345 
v®_rc
 = 
	`GPR
 (
RD
);

8346 
v®_¿_»suÉ
 = 
	`GPR
 (
RS
);

8347 #–ià
	`defšed
(
TARGET_ALPHA
)

8348 ià(
out1
 < 32)

8349 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

8351 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

8352 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

8353 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

8355 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

8358 
‹mpReg
 = 
cu¼’t
->
»gs
;

8361 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
))

8363 
sim_tÙ®_»fs
++;

8364 ià(!
cu¼’t
->
¥ec_mode
)

8365 
sim_num_»fs
++;

8367 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

8368 
is_wr™e
 = 
TRUE
;

8371 
sim_tÙ®_lßds
++;

8372 ià(!
cu¼’t
->
¥ec_mode
)

8373 
sim_num_lßds
++;

8378 
br_k’
 = (
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)));

8379 
br_´ed_k’
 = (
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)));

8382 ià(
İ
 !ğ
MD_NOP_OP
)

8403 
DUPLICATION_acûss
[
th»adid
]++;

8404 
du¶iÿtiÚ_acûss
++;

8406 
rs
 = &
cu¼’t
->
RUU
[cu¼’t->
RUU_
];

8408 #ifdeà
HOTLEAKAGE


8409 
rs
->
¦
 = 
sim_cyşe
 - 1;

8411 if(!
ruu_šÜd”_issue
)

8413 
»Çme_acûss
++;

8414 
cu¼’t
->
»Çme_acûss
++;

8417 
rs
->
th»adid
 =hreadid;

8418 
rs
->
IR
 = 
š¡
;

8419 
rs
->
İ
 = op;

8420 
rs
->
š¡num
 = ++
š¡£qnum
;

8421 
rs
->
isSyncIn¡
 = (
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]);

8423 
rs
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8424 
rs
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8425 
rs
->
´ed_PC
 = 
cu¼’t
->pred_PC;

8426 
rs
->
š_LSQ
 = 
FALSE
;

8427 
rs
->
—_comp
 = 
FALSE
;

8428 
rs
->
abªk
 = -1;

8429 
rs
->
pbªk
 = -1;

8430 
rs
->
»cov”_š¡
 = 
FALSE
;

8431 
rs
->
dœ_upd©e
 = *
dœ_upd©e_±r
;

8432 
rs
->
¡ack_»cov”_idx
 = stack_recover_idx;

8433 
rs
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

8434 
rs
->
ãtch_time
 = fetch_time;

8435 
rs
->
di¥_time
 = 
sim_cyşe
;

8436 
rs
->
fšish_time
 = 0;

8437 
rs
->
ÿche_»ady
 = 0;

8438 
rs
->
š_qwa™
 = 0;

8439 
rs
->
issue_time
 = 0;

8440 
rs
->
addr
 = 0;

8441 
rs
->
di¡issue
 = 0;

8442 
rs
->
lsqEÁry
 = 0;

8443 
rs
->
miss_æag
 = 0;

8445 
rs
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

8446 
rs
->
queued
 =„s->
issued
 =„s->
com¶‘ed
 = 
FALSE
;

8447 
rs
->
±¿û_£q
 = 
p£q
;

8448 
rs
->
couÁed_iissueq
 = 0;

8449 
rs
->
couÁed_fissueq
 = 0;

8450 
rs
->
šv®id©iÚReûived
 = 0;

8451 
rs
->
du¶iÿ‹
 = (1 - 
£cÚd_run
);

8453 
rs
->
´evRegV®
 = 
»gV®
;

8455 
rs
->
backupReg
 = 
‹mpRegP»v
;

8456 #ifdeà
DIRECTORY


8457 
rs
->
wr™ewa™
 = 0;

8458 
rs
->
R—dSh¬eDœ
 = 0;

8459 
rs
->
wr™emiss
 = 0;

8461 ià(!
£cÚd_run
)

8462 
rs
->
¥ec_mode
 = 0;

8463 
rs
->
çuÉšg_š¡r
 = 
FALSE
;

8465 #ifdeà
PWR_WAKE


8466 
rs
->
couÁed_œ—dy
 = 0;

8467 
rs
->
couÁed_ä—dy
 = 0;

8468 
rs
->
couÁed_lsq»ady
 = 0;

8471 
rs
->
ä“d
 = 0;

8472 
rs
->
v®_¿
 = val_ra;

8473 
rs
->
v®_rb
 = val_rb;

8474 
rs
->
v®_rc
 = val_rc;

8475 
rs
->
v®_¿_»suÉ
 = val_ra_result;

8476 
rs
->
wh’_»ady
[0] = 
WAIT_TIME
;

8477 
rs
->
wh’_»ady
[1] = 
WAIT_TIME
;

8478 
rs
->
wh’_»ady
[2] = 
WAIT_TIME
;

8479 
rs
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

8480 
rs
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

8481 
rs
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

8482 
rs
->
id•_Çme
[0] = 0;

8483 
rs
->
id•_Çme
[1] = 0;

8484 
rs
->
id•_Çme
[2] = 0;

8485 
rs
->
isL1Miss
 = 0;

8487 #if 
	`defšed
(
EDA
è& defšed(
RUN_ORACLE
)

8488 ià(
cu¼’t
->
ma¡”id
 == 1)

8489 
rs
->
sim_num_š¢
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->sim_num_insn;

8492 
rs
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

8493 
rs
->
outReg
 = 
out1
;

8495 
rs
->
´evReg
 = 
‹mpReg
;

8497 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& !
£cÚd_run
)

8498 
rs
->
İ
 = 
MD_AGEN_OP
;

8501 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& 
£cÚd_run
)

8503 
lsq
 = &
cu¼’t
->
LSQ
[cu¼’t->
LSQ_
];

8504 #ifdeà
HOTLEAKAGE


8505 
lsq
->
¦
 = 
sim_cyşe
 - 1;

8507 
rs
->
İ
 = 
MD_AGEN_OP
;

8508 
rs
->
—_comp
 = 
TRUE
;

8513 
lsq
->
sqStÜeFÜw¬dT
 = -1;

8517 
lsq
->
ushFÏg
 = 
ushLdFÏg
;

8520 
lsq
->
th»adid
 =hreadid;

8521 
lsq
->
IR
 = 
š¡
;

8522 
lsq
->
İ
 = op;

8523 
lsq
->
š¡num
 = 
š¡£qnum
;

8524 
lsq
->
isSyncIn¡
 = (
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]);

8525 
lsq
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8526 
lsq
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8527 
lsq
->
´ed_PC
 = 
cu¼’t
->pred_PC;

8528 
lsq
->
š_LSQ
 = 
TRUE
;

8529 
lsq
->
—_comp
 = 
FALSE
;

8530 
lsq
->
š_qwa™
 = 0;

8531 
lsq
->
di¡issue
 = 0;

8532 
lsq
->
ä“d
 = 0;

8533 
lsq
->
abªk
 = -1;

8534 
lsq
->
pbªk
 = -1;

8536 
lsq
->
»cov”_š¡
 = 
FALSE
;

8537 
lsq
->
dœ_upd©e
.
pdœ1
 =†sq->dœ_upd©e.
pdœ2
 = 
NULL
;

8538 
lsq
->
dœ_upd©e
.
pm‘a
 = 
NULL
;

8539 
lsq
->
¡ack_»cov”_idx
 = 0;

8540 
lsq
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

8541 
lsq
->
ãtch_time
 = fetch_time;

8542 
lsq
->
di¥_time
 = 
sim_cyşe
;

8543 
lsq
->
fšish_time
 = 0;

8544 
lsq
->
ÿche_»ady
 = 0;

8545 
lsq
->
issue_time
 = 0;

8546 
lsq
->
couÁed_iissueq
 = 0;

8547 
lsq
->
couÁed_fissueq
 = 0;

8549 
lsq
->
šv®id©iÚReûived
 = 0;

8550 #ifdeà
PWR_WAKE


8551 
lsq
->
couÁed_œ—dy
 = 0;

8552 
lsq
->
couÁed_ä—dy
 = 0;

8553 
lsq
->
couÁed_lsq»ady
 = 0;

8555 
mm
 = 0; mm < 
CLUSTERS
; mm++)

8557 
lsq
->
¡_»ach
[
mm
] = 0;

8560 
lsq
->
backupReg
 = 
‹mpRegP»v
;

8561 
lsq
->
addr
 =‡ddr;

8562 
rs
->
addr
 =‡ddr;

8564 
rs
->
abªk
 = 
lsq
->abank;

8565 ià(!
BANKPRED
)

8567 
rs
->
pbªk
 =„s->
abªk
;

8568 
lsq
->
pbªk
 =†sq->
abªk
;

8570 
rs
->
abªk
 =„s->abªk % 
CLUSTERS
;

8571 
lsq
->
abªk
 = 
rs
->abank;

8572 
rs
->
pbªk
 =„s->pbªk % 
CLUSTERS
;

8573 
lsq
->
pbªk
 = 
rs
->pbank;

8574 ià(!
lsq
->
¥ec_mode
)

8576 ià(
lsq
->
abªk
 =ğlsq->
pbªk
)

8577 
ac_bªk_´ed_cÜr
++;

8579 
ac_bªk_´ed_wrÚg
++;

8581 
lsq
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

8582 
lsq
->
±¿û_£q
 =…trace_seq++;

8583 
lsq
->
v®_¿
 = val_ra;

8584 
lsq
->
v®_rb
 = val_rb;

8585 
lsq
->
v®_rc
 = val_rc;

8586 
lsq
->
v®_¿_»suÉ
 = val_ra_result;

8587 
	`±¿û_Ãwuİ
 (
lsq
->
±¿û_£q
, "š‹º®†d/¡",†sq->
PC
, 0);

8588 
	`±¿û_Ãw¡age
 (
lsq
->
±¿û_£q
, 
PST_DISPATCH
, 0);

8589 
lsq
->
queued
 =†sq->
issued
 =†sq->
com¶‘ed
 = 
FALSE
;

8591 
lsq
->
wh’_»ady
[0] = 
WAIT_TIME
;

8592 
lsq
->
wh’_»ady
[1] = 
WAIT_TIME
;

8593 
lsq
->
wh’_»ady
[2] = 
WAIT_TIME
;

8594 
lsq
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

8595 
lsq
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

8596 
lsq
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

8597 
lsq
->
id•_Çme
[0] = 0;

8598 
lsq
->
id•_Çme
[1] = 0;

8599 
lsq
->
id•_Çme
[2] = 0;

8602 #if 
	`defšed
(
EDA
è& defšed(
RUN_ORACLE
)

8603 ià(
cu¼’t
->
ma¡”id
 == 1)

8604 
lsq
->
sim_num_š¢
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->sim_num_insn;

8607 
lsq
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

8608 
lsq
->
outReg
 = 
out1
;

8611 
lsq
->
robEÁry
 = 
rs
->
šdex
;

8612 
rs
->
lsqEÁry
 = 
lsq
->
šdex
;

8613 
lsq
->
isP»ãtch
 = 0;

8614 
lsq
->
isL1Miss
 = 0;

8616 
rs
->
»g
[0] = 0;

8617 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

8618 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

8620 
rs
->
şu¡”
 = 
lsq
->şu¡” = 
th»adid
;

8621 
cu¼’t
->
iissueq_thrd
++;

8622 
iissueq
++;

8623 
iissueq_ş
[
rs
->
th»adid
]++;

8625 #ifdeà 
PWR_CLUSTER


8626 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8629 
lsq
->
couÁed_iissueq
 = 1;

8631 
lsq
->
pbªk
 =†sq->
şu¡”
;

8632 
rs
->
pbªk
 =„s->
şu¡”
;

8634 
rs
->
wh’_šq
 = 
sim_cyşe
;

8635 
lsq
->
wh’_šq
 = 
rs
->when_inq;

8637 
lsq
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

8638 
lsq
->
»g
[1] = 0;

8639 
lsq
->
»g
[2] = 0;

8641 
lsq
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

8642 
lsq
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

8647 
	`ruu_lšk_id•
 (
rs
, 0, 
NA
);

8648 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8649 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8651 
	`ruu_š¡®l_od•
 (
rs
, 0, 
DTMP
);

8652 
	`ruu_š¡®l_od•
 (
rs
, 1, 
NA
);

8654 
rs
->
out1
 = 
DTMP
;

8655 
rs
->
İ»g
 = 0;

8656 
rs
->
Şd´eg
 = 0;

8658 
	`ruu_lšk_id•
 (
lsq
, 
STORE_OP_INDEX
, 
š1
);

8659 
	`ruu_lšk_id•
 (
lsq
, 
STORE_ADDR_INDEX
, 
DTMP
);

8660 
	`ruu_lšk_id•
 (
lsq
, 2, 
NA
);

8662 
	`ruu_š¡®l_od•
 (
lsq
, 0, 
out1
);

8663 
	`ruu_š¡®l_od•
 (
lsq
, 1, 
out2
);

8664 
lsq
->
out1
 = out1;

8666 
n_di¥©ched
++;

8668 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

8669 
cu¼’t
->
RUU_num
++;

8670 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 1è% 
LSQ_size
;

8671 
cu¼’t
->
LSQ_num
++;

8673 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

8676 ià(
out1
 != 0 && out1 != 63)

8677 
cu¼’t
->
m_shLQNum
++;

8679 
lsq
->
isP»ãtch
 = 1;

8682 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

8684 
cu¼’t
->
m_shSQNum
++;

8687 
lsq_acûss
++;

8688 
cu¼’t
->
lsq_acûss
++;

8689 
lsq_´eg_acûss
++;

8690 
cu¼’t
->
lsq_´eg_acûss
++;

8694 if(!
ruu_šÜd”_issue
)

8696 
rob2_acûss
++;

8697 
cu¼’t
->
rob2_acûss
++;

8700 ià(
	`OPERANDS_READY
 (
rs
))

8702 
n_»ady
++;

8703 
	`»adyq_’queue
 (
rs
);

8705 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
lsq
);

8707 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
	`OPERANDS_READY
 (
lsq
))

8709 
lsq_¡Üe_d©a_acûss
++;

8710 
	`»adyq_’queue
 (
lsq
);

8713 ià(
İ
 =ğ
STL_C
 || o°=ğ
LDL_L
)

8722 
rs
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

8723 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

8724 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

8726 
rs
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

8727 
rs
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

8728 
rs
->
out1
 = out1;

8730 
rs
->
şu¡”
 =„s->
th»adid
;

8732 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8734 
cu¼’t
->
fissueq_thrd
++;

8735 
fissueq
++;

8736 
fissueq_ş
[
rs
->
th»adid
]++;

8737 #ifdeà 
PWR_CLUSTER


8738 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8740 
rs
->
couÁed_fissueq
 = 1;

8741 
fq¿m_acûss
++;

8742 
cu¼’t
->
fq¿m_acûss
++;

8746 
cu¼’t
->
iissueq_thrd
++;

8747 
iissueq
++;

8748 
iissueq_ş
[
rs
->
th»adid
]++;

8749 #ifdeà 
PWR_CLUSTER


8750 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8752 
rs
->
couÁed_iissueq
 = 1;

8753 
iq¿m_acûss
++;

8754 
cu¼’t
->
iq¿m_acûss
++;

8757 
rs
->
wh’_šq
 = 
sim_cyşe
;

8759 ià(!
£cÚd_run
)

8761 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

8762 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8763 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8764 ià(
out1
)

8766 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
out1
);

8767 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
out2
);

8768 
rs
->
out1
 = out1;

8772 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
DTMP
);

8773 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
NA
);

8774 
rs
->
out1
 = 
DTMP
;

8779 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

8780 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8781 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8783 
	`ruu_š¡®l_od•
 (
rs
, 0, 
out1
);

8784 
	`ruu_š¡®l_od•
 (
rs
, 1, 
out2
);

8785 
rs
->
out1
 = out1;

8789 
n_di¥©ched
++;

8791 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

8792 
cu¼’t
->
RUU_num
++;

8793 if(!
ruu_šÜd”_issue
)

8795 
rob2_acûss
++;

8796 
cu¼’t
->
rob2_acûss
++;

8800 ià(
	`OPERANDS_READY
 (
rs
))

8802 
n_»ady
++;

8803 
	`»adyq_’queue
 (
rs
);

8804 
cu¼’t
->
Ï¡_İ
 = 
RSLINK_NULL
;

8808 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
rs
);

8815 
rs
 = 
NULL
;

8819 
sim_tÙ®_š¢
++;

8820 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

8821 
sim_tÙ®_b¿nches
++;

8823 ià(!
cu¼’t
->
¥ec_mode
 && 
£cÚd_run
)

8827 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

8829 
sim_num_b¿nches
++;

8831 ià(!(
rs
->
du¶iÿ‹
))

8833 
cu¼’t
->
b´ed_acûss
++;

8834 
b´ed_acûss
++;

8837 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_ID
)

8839 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

8840  
cu¼’t
->
»gs
.
»gs_PC
,

8841  
cu¼’t
->
»gs
.
»gs_NPC
,

8842  
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +

8843  (
md_š¡_t
)),

8844  
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +

8845  (
md_š¡_t
)),

8846  
cu¼’t
->
´ed_PC
 =ğcu¼’t->
»gs
.
»gs_NPC
,

8847  
İ
,

8848  &
rs
->
dœ_upd©e
,

8849 
rs
->
th»adid
, (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[rs->th»adid]->
ma¡”id
 :„s->threadid));

8852 ià(
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
 && !cu¼’t->
ãtch_»dœeùed
)

8854 
cu¼’t
->
¥ec_mode
 = 
TRUE
;

8855 
rs
->
»cov”_š¡
 = 
TRUE
;

8856 
cu¼’t
->
»cov”_PC
 = cu¼’t->
»gs
.
»gs_NPC
;

8857 
	`cİy_to
 (
th»adid
);

8862 
	`±¿û_Ãw¡age
 (
p£q
, 
PST_DISPATCH
, (
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
è? 
PEV_MPOCCURED
 : 0);

8863 ià(
İ
 =ğ
MD_NOP_OP
)

8865 
	`±¿û_’dš¡
 (
p£q
);

8868 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

8870 
couÁ”_t
 
Ãwv®
;

8871 
d–
;

8874 
Ãwv®
 = 
	`STATVAL
 (
pc¡©_¡©s
[
i
]);

8875 
d–
 = 
Ãwv®
 - 
pc¡©_Ï¡v®s
[
i
];

8876 ià(
d–
 != 0)

8878 
	`¡©_add_§m¶es
 (
pc¡©_sdi¡s
[
i
], 
cu¼’t
->
»gs
.
»gs_PC
, 
d–
);

8879 
pc¡©_Ï¡v®s
[
i
] = 
Ãwv®
;

8883 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

8884 
cu¼’t
->
ãtch_num
--;

8885 
‹mp_ãtch_num
--;

8888 ià(!
made_check
)

8890 ià(
	`dl™e_check_b»ak
 (0, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, 
sim_cyşe
))

8891 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

8896 
¡®lCau£
[
th»adid
] = 
SÎF‘chEm±y
;

8897 ià(!
n_di¥©ched
)

8899 
m_tÙ®SÎ
[
th»adid
]++;

8900 if(
¡®lCau£
[
th»adid
])

8902 
¡®lCau£
[
th»adid
])

8904 
SÎRegFuÎ
 :

8905 
m_»gFuÎ
[
th»adid
]++;

8907 
SÎIssueFuÎ
 :

8908 
m_issueFuÎ
[
th»adid
]++;

8910 
SÎF‘chEm±y
 :

8911 if(
thecÚ‹xts
[
th»adid
]->
ruu_ãtch_issue_d–ay
)

8912 
m_1Miss
[
th»adid
]++;

8914 
m_ãtchEm±y
[
th»adid
]++;

8916 
SÎSTLC
 :

8917 
m_STLC
[
th»adid
]++;

8919 
SÎT¿p
 :

8920 
m_Œ­
[
th»adid
]++;

8922  : 
	`·nic
("No stall cause found");

8925 ià(
cu¼’t
->
m_shLQNum
 =ğ
m_shLQSize
)

8927 
¡®lCau£
[
th»adid
] = 
SÎLQFuÎ
;

8928 
m_sqLQFuÎ
[
th»adid
]++;

8929 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

8930 
m_LßdR—lMiss
[
th»adid
]++;

8932 
m_LßdR—lH™
[
th»adid
]++;

8934 ià(
m_shSQSize
 =ğ(
cu¼’t
->
m_shSQNum


8935 #ifdef 
SMD_USE_WRITE_BUF


8936 +
m_L1WBufCÁ
[
th»adid
]

8940 
¡®lCau£
[
th»adid
] = 
SÎSQFuÎ
;

8941 
m_sqSQFuÎ
[
th»adid
]++;

8942 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

8943 
m_StÜeR—lMiss
[
th»adid
]++;

8945 
m_StÜeR—lH™
[
th»adid
]++;

8947 if(
cu¼’t
->
RUU_num
 =ğ
RUU_size
)

8949 
¡®lCau£
[
th»adid
] = 
SÎRUUFuÎ
;

8950 
m_RUUFuÎ
[
th»adid
]++;

8953 if((
¡®lCau£
[
th»adid
] =ğ
SÎRUUFuÎ
 || sÎCau£[th»adid] =ğ
SÎLQFuÎ
 || sÎCau£[th»adid] =ğ
SÎSQFuÎ
 || sÎCau£[th»adid] =ğ
SÎRegFuÎ
 || sÎCau£[th»adid] =ğ
SÎIssueFuÎ
 || sÎCau£[th»adid] =ğ
SÎSTLC
 || sÎCau£[th»adid] =ğ
SÎT¿p
))

8955 if(
cu¼’t
->
LSQ_num
)

8957 if(
	`MD_OP_FLAGS
(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
İ
è& 
F_LOAD
)

8959 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

8960 
m_LßdSÎMiss
[
th»adid
]++;

8962 
m_LßdSÎH™
[
th»adid
]++;

8963 
m_LßdMiss
[
th»adid
]++;

8967 
m_StÜeMiss
[
th»adid
]++;

8968 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

8969 
m_StÜeSÎMiss
[
th»adid
]++;

8971 
m_StÜeSÎH™
[
th»adid
]++;

8972 if(
m_upd©e_miss
[
th»adid
])

8973 
m_StÜeUpd©eMiss
[
th»adid
]++;

8974 if(
m_upd©e_miss
[
th»adid
] && !
m_upd©e_miss_æag
[threadid])

8976 
m_upd©e_miss_æag
[
th»adid
] = 1;

8977 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 
sim_cyşe
;

8981 if(
	`MD_OP_FLAGS
(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
İ
è& 
F_FENCE
)

8983 
m_StÜeMiss
[
th»adid
]++;

8984 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

8985 
m_StÜeSÎMiss
[
th»adid
]++;

8987 
m_StÜeSÎH™
[
th»adid
]++;

8988 if(
m_upd©e_miss
[
th»adid
])

8989 
m_StÜeUpd©eMiss
[
th»adid
]++;

8990 if(
m_upd©e_miss
[
th»adid
] && !
m_upd©e_miss_æag
[threadid])

8992 
m_upd©e_miss_æag
[
th»adid
] = 1;

8993 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 
sim_cyşe
;

8998  
n_di¥©ched
;

8999 
	}
}

9007 
	$ãtch_š™
 (
th»adid
)

9010 
i
 = 0;

9011 
cÚ‹xt
 *
cu¼’t
;

9013 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9015 
i
 = 0; i < 
ruu_ifq_size
; i++)

9017 
cu¼’t
->
ãtch_d©a
[
i
] = (
ãtch_»c
 *è
	`ÿÎoc
 (1,  (fetch_rec));

9018 ià(!
cu¼’t
->
ãtch_d©a
[
i
])

9019 
	`çl
 ("out of virtual memory");

9020 
cu¼’t
->
ãtch_d©a
[
i
]->
šdex
 = i;

9021 
cu¼’t
->
ãtch_d©a
[
i
]->
th»adid
 =hreadid;

9023 
cu¼’t
->
ãtch_num
 = 0;

9024 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

9025 
IFQ_couÁ
 = 0;

9026 
IFQ_fcouÁ
 = 0;

9028 
	}
}

9030 
	gÏ¡_š¡_mis£d
 = 
FALSE
;

9031 
	gÏ¡_š¡_tmis£d
 = 
FALSE
;

9037 
	$ruu_ãtch
 ()

9039 
i
 = 0, 
j
 = 0, 
k
 = 0, 
Ït
, 
b_Ït
, 
dÚe
 = 
FALSE
;

9040 
md_š¡_t
 
š¡
;

9041 
¡ack_»cov”_idx
;

9042 
b¿nch_út
, 
¿y_muÉ
;

9043 
md_addr_t
 
ãtch_£t
 = 0, 
š¡_£t
;

9044 
šdex
;

9045 
md_İcode
 
İ
;

9047 
th»adid
, 
tID
 = 0;

9048 
cÚ‹xt
 *
cu¼’t
 = 0;

9049 
th»adsãtched
 = 0;

9050 
‹mp
;

9052 ià(
di§bË_¿y
)

9053 
¿y_muÉ
 = 1;

9055 
¿y_muÉ
 = 2;

9058 
tID
 < 
numcÚ‹xts
)

9060 
cu¼’t
 = 
thecÚ‹xts
[
tID
];

9061 
tID
++;

9063 
th»adid
 = 
cu¼’t
->
id
;

9065 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 2)

9066 
cu¼’t
->
wa™_fÜ_ãtch
 = 1;

9067 
ãtch_dÚe
[
th»adid
] = 0;

9069 
j
 = 0, 
dÚe
 = 
FALSE
, 
b¿nch_út
 = 0;

9070 (
cu¼’t
->
ãtch_num
 < 
ruu_ifq_size
-1)

9071 && !
dÚe
 && !
cu¼’t
->
ruu_ãtch_issue_d–ay
 && cu¼’t->
ruÂšg
 && 
j
 < (
ruu_decode_width
 * 
ãtch_¥“d
è&& cu¼’t->
aùive_this_cyşe
 ; 
i
++, j++)

9073 ià(!
j
)

9075 
iÿche_acûss
++;

9076 
cu¼’t
->
iÿche_acûss
++;

9080 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
ãtch_´ed_PC
;

9083 ià(
cu¼’t
->
ld_‹xt_ba£
 <ğcu¼’t->
ãtch_»gs_PC
 && cu¼’t->ãtch_»gs_PC < (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& !(cu¼’t->ãtch_»gs_PC & ( (
md_š¡_t
) - 1)))

9086 #ifdef 
EDA


9087 if(
cu¼’t
->
ma¡”id
 == 1)

9089 
	`MD_FETCH_INST
 (
š¡
, 
thecÚ‹xts
[
cu¼’t
->
h–pThdId
]->
mem
, cu¼’t->
ãtch_»gs_PC
);

9094 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
ãtch_»gs_PC
);

9096 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9098 
Ït
 = 
ÿche_1_Ït
;

9101 ià(!
j
)

9102 
ãtch_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9103 
š¡_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9104 ià(
ãtch_£t
 !ğ
š¡_£t
)

9107 #ifdeà 
FIX2_BUG


9108 ià(!
cu¼’t
->
wa™_fÜ_ãtch
)

9111 ià(
ÿche_1
[
th»adid
])

9115 
rsCacheAcûss
 = 
NULL
;

9116 #ifdeà
DIRECTORY


9117 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9118 
	`´štf
("debug 1\n");

9119 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9120 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9121 
NULL
, NULL, NULL,
th»adid
);

9123 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
 (
cu¼’t
->
ãtch_»gs_PC
), 
NULL
, 
	`ISCOMPRESS
 ( (
md_š¡_t
)), 
sim_cyşe
, NULL, NULL,hreadid);

9125 ià(
Ït
 > (
ÿche_1_Ït
))

9126 
Ï¡_š¡_mis£d
 = 
TRUE
;

9129 ià(
™lb
[
th»adid
])

9131 #ifdeà
DIRECTORY


9132 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9133 
	`´štf
("debug 2\n");

9134 
b_Ït
 = 
	`ÿche_acûss
(
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9135 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9136 
NULL
, NULL, NULL, 
th»adid
);

9138 
b_Ït
 = 
	`ÿche_acûss
 (
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
 (
cu¼’t
->
ãtch_»gs_PC
), 
NULL
, 
	`ISCOMPRESS
 ( (
md_š¡_t
)), 
sim_cyşe
, NULL, NULL,hreadid);

9141 ià(
b_Ït
 > 1)

9142 
Ï¡_š¡_tmis£d
 = 
TRUE
;

9144 
Ït
 = 
	`max2
 (
b_Ït
,†at);

9147 ià(
Ït
 !ğ(
ÿche_1_Ït
))

9149 
cu¼’t
->
ruu_ãtch_issue_d–ay
 +ğ(
Ït
 - 1);

9150 #ifdeà 
FIX2_BUG


9151 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9156 #ifdeà 
FIX2_BUG


9162 
š¡
 = 
MD_NOP_INST
;

9165 ià(
cu¼’t
->
´ed
)

9167 
b¿nchIn¡
 *
b¿nchInfo
 = 
NULL
;

9168 
md_İcode
 
İ
;

9171 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9176 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9178 
md_addr_t
 
brg‘
;

9180 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)) == (F_CTRL | F_UNCOND | F_INDIRJMP))

9181 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * (
š¡
 & 0x00003fff);

9183 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * 
	`SEXT21
 (
š¡
 & 0x001fffff);

9185 
cu¼’t
->
ãtch_´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
,

9186  
cu¼’t
->
ãtch_»gs_PC
,

9188  
İ
,

9189  
	`MD_IS_CALL
 (
İ
),

9190  
	`MD_IS_RETURN
 (
İ
),

9191  &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
dœ_upd©e
),

9192  &
¡ack_»cov”_idx
,

9193  
cu¼’t
->
id
,

9194  (
b´ed_btb_u£_ma¡”id
 ? 
cu¼’t
->
ma¡”id
 : cu¼’t->
id
));

9197 
cu¼’t
->
ãtch_´ed_PC
 = 0;

9200 ià(!
cu¼’t
->
ãtch_´ed_PC
)

9202 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9204 ià(
cu¼’t
->
ãtch_´ed_PC
 !ğcu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
))

9207 
b¿nch_út
++;

9208 ià(
b¿nch_út
 >ğ
ãtch_¥“d
)

9209 
dÚe
 = 
TRUE
;

9214 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9217 
cu¼’t
->
ãtch_tÙ®_š¢
++;

9218 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
th»adid
 =hreadid;

9219 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
IR
 = 
š¡
;

9220 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
»gs_PC
 = cu¼’t->
ãtch_»gs_PC
;

9221 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
´ed_PC
 = cu¼’t->
ãtch_´ed_PC
;

9222 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
¡ack_»cov”_idx
 = stack_recover_idx;

9223 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
 =…trace_seq++;

9224 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
ãtch_time
 = (è
sim_cyşe
;

9226 
	`±¿û_Ãwš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
š¡
, cu¼’t->ãtch_d©a[cu¼’t->ãtch_]->
»gs_PC
, 0);

9227 
	`±¿û_Ãw¡age
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
PST_IFETCH
, ((
Ï¡_š¡_mis£d
 ? 
PEV_CACHEMISS
 : 0è| (
Ï¡_š¡_tmis£d
 ? 
PEV_TLBMISS
 : 0)));

9229 
cu¼’t
->
ãtch_
 = (cu¼’t->ãtch_ + 1è& (
ruu_ifq_size
 - 1);

9230 
cu¼’t
->
ãtch_num
++;

9231 
ãtch_dÚe
[
th»adid
]++;

9234 #ifdeà 
FIX2_BUG


9236 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 1)

9238 ià(!
j
 && 
cu¼’t
->
ruu_ãtch_issue_d–ay
)

9239 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9241 
cu¼’t
->
wa™_fÜ_ãtch
 = 0;

9245 
	}
}

9251 
	$simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

9252 *
cmd
,

9253 
»gs_t
 *
»gs
,

9254 
mem_t
 *
mem
)

9257 
th»adid
 = 
mem
->threadid;

9258 
cÚ‹xt
 *
cu¼’t
;

9260 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9262 ià(!
cmd
 || !
	`¡rcmp
 (cmd, "help"))

9263 
	`årštf
 (
¡»am
,

9275 ià(!
	`¡rcmp
 (
cmd
, "stats"))

9278 
	`sim_´št_¡©s
 (
¡»am
);

9280 ià(!
	`¡rcmp
 (
cmd
, "res"))

9283 
	`»s_dump
 (
fu_poŞ
, 
¡»am
);

9285 ià(!
	`¡rcmp
 (
cmd
, "ruu"))

9288 
	`ruu_dump
 (
¡»am
, 
th»adid
);

9295 ià(!
	`¡rcmp
 (
cmd
, "eventq"))

9298 
	`ev’tq_dump
 (
¡»am
, 
th»adid
);

9300 ià(!
	`¡rcmp
 (
cmd
, "readyq"))

9303 
	`»adyq_dump
 (
¡»am
, 
th»adid
);

9305 ià(!
	`¡rcmp
 (
cmd
, "cv"))

9308 
	`cv_dump
 (
¡»am
, 
th»adid
);

9310 ià(!
	`¡rcmp
 (
cmd
, "rspec"))

9313 
	`r¥ec_dump
 (
¡»am
, 
th»adid
);

9315 ià(!
	`¡rcmp
 (
cmd
, "mspec"))

9318 
	`m¥ec_dump
 (
¡»am
, 
th»adid
);

9329  
NULL
;

9330 
	}
}

9332 
	#TAKE_STATS_PHASE
 1

	)

9333 
	#DRAIN_PIPELINE_PHASE
 2

	)

9334 
	#RECONFIGURE_PHASE
 3

	)

9335 
	#NORMAL_PHASE
 4

	)

9336 
	#PRIVTOSHARED
 5

	)

9337 
	#SHAREDTOPRIV
 6

	)

9338 
	#EXTRA_PHASE
 7

	)

9339 
	gchªgeCÚfig
 = 0;

9340 
	gcu¼’tPha£
 = 
NORMAL_PHASE
;

9345 
»g’”©e_ãtch_queue
 ();

9346 
cİy_ãtch_queue
 ();

9348 
»g’”©e_f_queue
 ();

9349 
cİy_f_queue
 ();

9350 
b¿nch_add»ss_cİy
 (
ma¡”id
, 
chunkExecu‹d
);

9355 
time_t
 
	g´št_time
, 
	gnow_time
;

9356 
ruu_»Ëa£_wr™ebufãr
 ();

9357 
ruu_wr™e_äom_Wr™ebufãr
 ();

9358 #ifdef 
COLLECT_STAT_STARTUP


9359 
f¡fwd_fšeAdju¡
 ();

9360 
f¡fwd_cŞËùSts
();

9364 
	$sim_maš
 ()

9366 
unPrštLim™
 = 1;

9367 
i
, 
j
, 
k
, 
l
;

9368 
‹mpş
, 
maxguy
, 
maxv®
, 
»f_mis
, 
»f_imis
, 
»f_br
, 
»f_»fs
, 
»f_cyc
, 
mm
, 
Â
;

9369 
gÙ_»f_pošt
 = 0;

9370 
mšguy
, 
mšv®
;

9371 
cyc_couÁ
 = 0;

9372 
num_picks
[
NUMPHASES
 + 1];

9373 
sim_–­£d_£c
;

9374 
di¥©ched
 = 0;

9376 
th»adid
 = 0, 
th»ad_¡İ
 = 0;

9377 
cÚ‹xt
 *
cu¼’t
;

9378 
kÏÎ
 = 0;

9379 
ãtch_blocked
 = 1;

9380 
út
;

9382 
FILE
 *
å
, *
å1
;

9383 
brNum
, 
ldNum
;

9385 #ifdeà
DO_COMPLETE_FASTFWD


9386 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

9387 
x
, 
loİ™”
;

9391 
	`sigÇl
 (
SIGFPE
, 
SIG_IGN
);

9394 
Çck_couÁ”
 = 0;

9395 
æ_couÁ”
 = 0;

9396 
L1_æ_couÁ”
 = 0;

9397 
e_to_m
 = 0;

9398 
f
;

9399 
f
=0;f<8;f++)

9400 
mem_pÜt_Ït
[
f
] = 0;

9401 
tÙ®ev’tcouÁnum
 = 0;

9402 
tÙ®_L1_´eãtch
 = 0;

9403 
wr™e_back_—¾y
 = 0;

9404 
tÙ®_L1_fœ¡_´eãtch
 = 0;

9405 
tÙ®_L1_£c_´eãtch
 = 0;

9406 
tÙ®»qcouÁnum
 = 0;

9407 
tÙ®misscouÁnum
 = 0;

9408 
švŞve_4_hİs
 = 0;

9409 
švŞve_4_hİs_upg¿de
 = 0;

9410 
švŞve_4_hİs_miss
 = 0;

9411 
švŞve_2_hİs
 = 0;

9412 
švŞve_2_hİ_touch
 = 0;

9413 
švŞve_2_hİ_wb
 = 0;

9414 
švŞve_4_hİs_wm
 = 0;

9415 
tÙ®S¶™WM
 = 0;

9416 
tÙ®S¶™No
 = 0;

9417 
švŞve_2_hİs_wm
 = 0;

9418 
švŞve_2_hİs_upg¿de
 = 0;

9419 
švŞve_2_hİs_miss
 = 0;

9420 
d©a_sh¬ed_»ad
 = 0;

9421 
d©a_´iv©e_»ad
 = 0;

9422 
d©a_sh¬ed_wr™e
 = 0;

9423 
d©a_´iv©e_wr™e
 = 0;

9424 
tÙ®_®l_şo£
 = 0;

9425 
tÙ®_®l_®mo¡şo£
 = 0;

9426 
tÙ®_nÙ_®l_şo£
 = 0;

9427 
tÙ®_p_c_ev’ts
 = 0;

9428 
tÙ®_cÚsum”s
 = 0;

9429 
tÙ®_d©a_cÚsum”s
 = 0;

9430 
tÙ®_d©a_çr
 = 0;

9431 
tÙ®_d©a_©_cÜÃr
 = 0;

9432 
tÙ®_d©a_şo£
 = 0;

9433 
tÙ®_·ck‘s_š_ÃighbÜ
 = 0;

9434 
tÙ®_·ck‘s_©_cÜÃrs
 = 0;

9435 
av”age_outside_³rûÁ
 = 0;

9436 
av”age_outside_abs_³rûÁ
 = 0;

9437 
av”age_šside_³rûÁ
 = 0;

9438 
av”age_cÜÃr_³rûÁ
 = 0;

9439 #ifdeà
EUP_NETWORK


9440 
EUP_’Œy_fuÎ
 = 0;

9441 
i
 = 0; i< 
numcÚ‹xts
; i++)

9442 
	`EUP_’Œy_š™
(
i
);

9444 
i
 = 0; i< 
numcÚ‹xts
; i++)

9445 
sh¬”_num
[
i
] = 0;

9447 #ià
PROCESS_MODEL


9448 
i
 = 0; i < 128; i++)

9450 
sh¬edAdd»ssLi¡
[
i
] = 
NULL
;

9452 
La¡Sh¬edAdd»ss
 = 0;

9453 
La¡Sh¬edSize
 = 0;

9456 
	`š™Clu¡”Info
 ();

9458 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

9459 
	`busIn™
 ();

9462 
âm
[256];

9463 
nm
[256];

9465 
	`¡rıy
 (
nm
, 
thecÚ‹xts
[0]->
âame
);

9467 
l
 = 0;† < 
MAXTHREADS
;†++)

9469 
numTh»ads
[
l
] = 
m_maxth»ads
;

9474 
n_lim™_thrd
[0] =‚_limit_thrd[1] =‚_limit_thrd[2] =‚_limit_thrd[3] = 1;

9478 
	`årštf
 (
¡d”r
, "Issueq siz - iÁ %d f°%d\n", 
IIQ_size
, 
FIQ_size
);

9479 #ifdeà
REG_RENAME_CONFIGUARE


9480 
	`årštf
 (
¡d”r
, "»ÇmP»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

9482 
	`årštf
 (
¡d”r
, "P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

9484 
	`årštf
 (
¡d”r
, "CLUSTERS %d\n", 
CLUSTERS
);

9485 
	`årštf
 (
¡d”r
, "ROWCOUNT %d\n", 
ROWCOUNT
);

9486 
	`årštf
 (
¡d”r
, "CENTRAL_CACHE %d\n", 
CENTRAL_CACHE
);

9487 
	`årštf
 (
¡d”r
, "CENTRALCACHELAT %d\n", 
CENTRALCACHELAT
);

9488 
	`årštf
 (
¡d”r
, "CACHELOC %d\n", 
CACHELOC
);

9489 
	`årštf
 (
¡d”r
, "PRED_BR_CHANGES %d\n", 
PRED_BR_CHANGES
);

9490 
	`årštf
 (
¡d”r
, "PRED_JR_CHANGES %d\n", 
PRED_JR_CHANGES
);

9491 
	`årštf
 (
¡d”r
, "DYNAMIC_CHANGE %d\n", 
DYNAMIC_CHANGE
);

9492 
	`årštf
 (
¡d”r
, "METRIC_CHANGE %d\n", 
METRIC_CHANGE
);

9493 
	`årštf
 (
¡d”r
, "LINEAR_PHASE %d\n", 
LINEAR_PHASE
);

9494 
	`årštf
 (
¡d”r
, "SMALLEST_CONFIG %d\n", 
SMALLEST_CONFIG
);

9495 
	`årštf
 (
¡d”r
, "GRID %d\n", 
GRID
);

9496 
	`årštf
 (
¡d”r
, "CACHEPORTS %d\n", 
CACHEPORTS
);

9497 
	`årštf
 (
¡d”r
, "RES_CACHEPORTS %d\n", 
RES_CACHEPORTS
);

9498 
	`årštf
 (
¡d”r
, "READY_COMM %d\n", 
READY_COMM
);

9499 
	`årštf
 (
¡d”r
, "HOLY_REGS %d\n", 
HOLY_REGS
);

9500 
	`årštf
 (
¡d”r
, "NUM_H_REGS %d\n", 
NUM_H_REGS
);

9501 
	`årštf
 (
¡d”r
, "COPY_THRESH %d\n", 
COPY_THRESH
);

9502 
	`årštf
 (
¡d”r
, "FIRST_FIT %d\n", 
FIRST_FIT
);

9503 
	`årštf
 (
¡d”r
, "FIRST_FIT_ENFORCE %d\n", 
FIRST_FIT_ENFORCE
);

9504 
	`årštf
 (
¡d”r
, "FIRST_VAL %d\n", 
FIRST_VAL
);

9505 
	`årštf
 (
¡d”r
, "STEER_ENFORCE %d\n", 
STEER_ENFORCE
);

9506 
	`årštf
 (
¡d”r
, "MOD_N %d\n", 
MOD_N
);

9507 
	`årštf
 (
¡d”r
, "MOD_N_N %d\n", 
MOD_N_N
);

9508 
	`årštf
 (
¡d”r
, "FIRST_MOD %d\n", 
FIRST_MOD
);

9509 
	`årštf
 (
¡d”r
, "GROUPSIZE %d\n", 
GROUPSIZE
);

9510 
	`årštf
 (
¡d”r
, "MOD_N_T %d\n", 
MOD_N_T
);

9511 
	`årštf
 (
¡d”r
, "ANYWILLDO %d\n", 
ANYWILLDO
);

9512 
	`årštf
 (
¡d”r
, "NEIGHBOR_SEEK %d\n", 
NEIGHBOR_SEEK
);

9513 
	`årštf
 (
¡d”r
, "PICKMIDDLE %d\n", 
PICKMIDDLE
);

9514 
	`årštf
 (
¡d”r
, "MIDTHRESH %d\n", 
MIDTHRESH
);

9515 
	`årštf
 (
¡d”r
, "HOPTIME %d\n", 
HOPTIME
);

9516 
	`årštf
 (
¡d”r
, "COMM_LATENCY %d\n", 
COMM_LATENCY
);

9517 #iâdeà
CONFIG_BASED_ICS


9518 
	`årštf
 (
¡d”r
, "FE_LAT %d\n", 
FE_LAT
);

9520 
	`årštf
 (
¡d”r
, "CACHE_REFILL_LAT %d\n", 
CACHE_REFILL_LAT
);

9521 
	`årštf
 (
¡d”r
, "MPRED_COMM_LAT %d\n", 
MPRED_COMM_LAT
);

9522 
	`årštf
 (
¡d”r
, "LD_PROXIMITY %d\n", 
LD_PROXIMITY
);

9523 
	`årštf
 (
¡d”r
, "LDPROX_FACTOR %d\n", 
LDPROX_FACTOR
);

9524 
	`årštf
 (
¡d”r
, "STEER_2NONREADY %d\n", 
STEER_2NONREADY
);

9525 
	`årštf
 (
¡d”r
, "STEER_CRITICAL %d\n", 
STEER_CRITICAL
);

9526 
	`årštf
 (
¡d”r
, "ILOAD_MIN %d\n", 
ILOAD_MIN
);

9527 
	`årštf
 (
¡d”r
, "IFACTOR %d\n", 
IFACTOR
);

9528 
	`årštf
 (
¡d”r
, "RLOAD_MIN %d\n", 
RLOAD_MIN
);

9529 
	`årštf
 (
¡d”r
, "RFACTOR %d\n", 
RFACTOR
);

9530 
	`årštf
 (
¡d”r
, "DEP_FACTOR %d\n", 
DEP_FACTOR
);

9531 
	`årštf
 (
¡d”r
, "LD_FACTOR %d\n", 
LD_FACTOR
);

9532 
	`årštf
 (
¡d”r
, "IQBUF %d\n", 
IQBUF
);

9533 
	`årštf
 (
¡d”r
, "REGFREE %d\n", 
REGFREE
);

9534 
	`årštf
 (
¡d”r
, "FREE_CURR_REGS %d\n", 
FREE_CURR_REGS
);

9535 
	`årštf
 (
¡d”r
, "FREE_INTERVAL %d\n", 
FREE_INTERVAL
);

9536 
	`årštf
 (
¡d”r
, "DISPDELAY %d\n", 
DISPDELAY
);

9537 
	`årštf
 (
¡d”r
, "RING_BW %d\n", 
RING_BW
);

9538 
	`årštf
 (
¡d”r
, "TIMEWINDOW %d\n", 
TIMEWINDOW
);

9539 
	`årštf
 (
¡d”r
, "ST_ADDR_COMM %d\n", 
ST_ADDR_COMM
);

9540 
	`årštf
 (
¡d”r
, "ST_RING_BW %d\n", 
ST_RING_BW
);

9541 
	`årštf
 (
¡d”r
, "RING_IC %d\n", 
RING_IC
);

9542 
	`årštf
 (
¡d”r
, "IGNORE_COMM_LATENCY %d\n", 
IGNORE_COMM_LATENCY
);

9543 
	`årštf
 (
¡d”r
, "TOL_COUNT %d\n", 
TOL_COUNT
);

9544 
	`årštf
 (
¡d”r
, "STOREDELAY %d\n", 
STOREDELAY
);

9545 
	`årštf
 (
¡d”r
, "BANKPRED %d\n", 
BANKPRED
);

9546 
	`årštf
 (
¡d”r
, "BANKMISPREDLAT %d\n", 
BANKMISPREDLAT
);

9547 
	`årštf
 (
¡d”r
, "BANKP_SPEC %d\n", 
BANKP_SPEC
);

9548 
	`årštf
 (
¡d”r
, "LEV1SIZE %d\n", 
LEV1SIZE
);

9549 
	`årštf
 (
¡d”r
, "LEV2SIZE %d\n", 
LEV2SIZE
);

9550 
	`årštf
 (
¡d”r
, "XORSIZE %d\n", 
XORSIZE
);

9551 
	`årštf
 (
¡d”r
, "WORD_INTERLEAVED %d\n", 
WORD_INTERLEAVED
);

9552 
	`årštf
 (
¡d”r
, "WORDSIZE %d\n", 
WORDSIZE
);

9553 
	`årštf
 (
¡d”r
, "SORT %d\n", 
SORT
);

9554 
	`årštf
 (
¡d”r
, "NUMPHASES %d\n", 
NUMPHASES
);

9555 
	`årštf
 (
¡d”r
, "MIN_INSN_INT %d\n", 
MIN_INSN_INT
);

9556 
	`årštf
 (
¡d”r
, "STOP_EXPL_THRESH %d\n", 
STOP_EXPL_THRESH
);

9557 
	`årštf
 (
¡d”r
, "ILPTAGCHECK %d\n", 
ILPTAGCHECK
);

9558 
	`årštf
 (
¡d”r
, "DISTILP %d\n", 
DISTILP
);

9559 
	`årštf
 (
¡d”r
, "DISTILPTHRESH %d\n", 
DISTILPTHRESH
);

9560 
	`årštf
 (
¡d”r
, "SAMPLETHRESH %d\n", 
SAMPLETHRESH
);

9561 
	`årštf
 (
¡d”r
, "BR_INT %d\n", 
BR_INT
);

9562 
	`årštf
 (
¡d”r
, "ITABLESIZE %d\n", 
ITABLESIZE
);

9563 
	`årštf
 (
¡d”r
, "OWINDOWSIZE %d\n", 
OWINDOWSIZE
);

9564 
	`årštf
 (
¡d”r
, "ILPCLEARINT %d\n", 
ILPCLEARINT
);

9565 
	`årštf
 (
¡d”r
, "STATPRINT %d\n", 
STATPRINT
);

9566 
	`årštf
 (
¡d”r
, "CYCNOISE %d\n", 
CYCNOISE
);

9567 
	`årštf
 (
¡d”r
, "NUMCYCTHRESH %d\n", 
NUMCYCTHRESH
);

9568 
	`årštf
 (
¡d”r
, "STATINT %d\n", 
STATINT
);

9569 
	`årštf
 (
¡d”r
, "FREE_REG_THRESH %d\n", 
FREE_REG_THRESH
);

9570 
	`årštf
 (
¡d”r
, "TABLE2SIZE %d\n", 
TABLE2SIZE
);

9571 
	`årštf
 (
¡d”r
, "TABLESIZE %d\n", 
TABLESIZE
);

9574 #ifdeà
DO_COMPLETE_FASTFWD


9575 
	`S¹Sk–‘ÚR—d
 (0);

9576 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9578 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9579 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9580 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9588 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9590 
loİ™”
 = 0;†oopiter < 20;†oopiter++)

9592 
couÁ”_t
 
icouÁ
;

9593 
md_š¡_t
 
š¡
;

9594 
md_İcode
 
İ
;

9595 
md_addr_t
 
rg‘_PC
;

9596 
md_addr_t
 
addr
;

9597 
is_wr™e
;

9598 
by‹_t
 
‹mp_by‹
;

9599 
h®f_t
 
‹mp_h®f
;

9600 
wÜd_t
 
‹mp_wÜd
;

9602 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

9603 
qwÜd_t
 
‹mp_qwÜd
 = 0;

9606 
md_çuÉ_ty³
 
çuÉ
;

9608 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9610 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

9611 #ifdeà
TARGET_ALPHA


9612 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

9617 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

9620 
addr
 = 0;

9621 
is_wr™e
 = 
FALSE
;

9624 
çuÉ
 = 
md_çuÉ_nÚe
;

9625 
sim_num_š¢
++;

9627 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9629 
İ
)

9631 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

9632 
OP
: \

9634 
out1
 = 
O1
; 
out2
 = 
O2
; \

9635 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

9637 
	`SYMCAT
(
OP
,
_IMPL
); \

9639 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

9640 
OP
: \

9642 
İ
 = 
MD_NOP_OP
; \

9644 
out1
 = 
NA
; 
out2
 = NA; \

9645 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

9648 
	#CONNECT
(
OP
è

	)

9654 
	#DECLARE_FAULT
(
FAULT
è\

	)

9656 ià(!
cu¼’t
->
¥ec_mode
) \

9657 
çuÉ
 = (
FAULT
); \

9661 
	~"machše.def
"

9664 
İ
 = 
MD_NOP_OP
;

9666 
out1
 = 
NA
;

9667 
out2
 = 
NA
;

9668 
š1
 = 
NA
;

9669 
š2
 = 
NA
;

9670 
š3
 = 
NA
;

9675 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

9676 
	`çl
 ("nÚ-¥ecuÏtivçuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

9678 #ifdeà
CACHE_PROFILE


9679 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_LOAD
)

9681 
Ït
;

9682 #ifdeà
DIRECTORY


9683 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 
rs
, 0);

9685 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9687 ià(
db
)

9688 #ifdeà
DIRECTORY


9689 
Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, NULL, 0);

9691 
Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9693 
lßd_Ït
 = 
	`max2
 (lßd_Ït, 
Ït
);

9694 ià(
lßd_Ït
 > 50)

9695 
	`PushMissP»dLßd
 (
cu¼’t
->
»gs
.
»gs_PC
, (è
lßd_Ït
);

9697 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

9699 #ifdeà
DIRECTORY


9700 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 
rs
, 0);

9702 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9704 ià(
db
)

9705 #ifdeà
DIRECTORY


9706 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, NULL, 0);

9708 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9712 #ifdeà 
BRANCH_PROFILE


9713 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9715 
b´ed_upd©e_t
 
dœ_upd©e
;

9716 
¡ack_»cov”_idx
;

9718 
cu¼’t
->
´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
, cu¼’t->
»gs
.
»gs_PC
, 1, 
İ
, 
	`MD_IS_CALL
 (İ), 
	`MD_IS_RETURN
 (İ), &
dœ_upd©e
, &
¡ack_»cov”_idx
, cu¼’t->
id
, (
b´ed_btb_u£_ma¡”id
 ? cu¼’t->
ma¡”id
 : current->id));

9720 ià(!
cu¼’t
->
´ed_PC
)

9721 
cu¼’t
->
´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
);

9723 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

9724 
cu¼’t
->
»gs
.
»gs_PC
,

9725 
cu¼’t
->
»gs
.
»gs_NPC
,

9726 
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)),

9727 
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)), cu¼’t->´ed_PC =ğcu¼’t->»gs.
»gs_NPC
, 
İ
, &
dœ_upd©e
, cu¼’t->
id
, (
b´ed_btb_u£_ma¡”id
 ? cu¼’t->
ma¡”id
 : current->id));

9729 ià(!(
İ
 =ğ
RETN
 || o°=ğ
JMP
 || o°=ğ
JSR
 || o°=ğ
BSR
 || o°=ğ
BR
))

9731 ià(
cu¼’t
->
»gs
.
»gs_NPC
 =ğcu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
))

9732 
	`š£¹_br_dœ
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, (cu¼’t->
´ed_PC
 !ğcu¼’t->»gs.
»gs_NPC
));

9734 
	`š£¹_br_dœ
 (
cu¼’t
->
»gs
.
»gs_PC
, 1, (cu¼’t->
´ed_PC
 !ğcu¼’t->»gs.
»gs_NPC
));

9738 #ifdeà 
STORE_PROFILE


9739 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

9741 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

9743 
	`pushStÜe
 (
cu¼’t
->
»gs
.
»gs_PC
, 
addr
, cu¼’t->
sim_num_š¢
, 
memWidth
);

9746 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

9748 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

9750 ià(
out1
 > 0 && out1 < 63)

9751 
	`v”ifyLßd
 (
cu¼’t
->
»gs
.
»gs_PC
, 
addr
, cu¼’t->
sim_num_š¢
, 
memWidth
);

9754 #ifdeà 
INDIRECTJUMP_PROFILE


9755 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)è=ğ(F_CTRL | F_UNCOND | F_INDIRJMPè&& (İ !ğ
RETN
)))

9756 
	`pushJump
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
);

9758 #ifdeà 
FREQ_PROFILE


9759 
	`š¡Execu‹dF»q
 (
cu¼’t
->
»gs
.
»gs_PC
);

9762 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

9763 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

9765 ià((
sim_num_š¢
 % 500000000) == 0)

9767 
	`´štf
 ("[INFO]: sim_num_š¢=%Îd\n", 
sim_num_š¢
);

9768 
	`årštf
 (
¡d”r
, "[INFO]: sim_num_š¢=%Îd\n", 
sim_num_š¢
);

9769 
	`fæush
 (
¡d”r
);

9770 
	`fæush
 (
¡dout
);

9777 #ifdef 
COLLECT_STAT_STARTUP


9778 #ifdef 
EDA


9779 ià(
numcÚ‹xts
 != 3)

9780 
	`·nic
 ("Forƒxecution in EDA modehere should beƒxactly 3 initialhreads,ƒach for correctness, optimistic‡nd oracle core.");

9784 #ifdef 
EDA


9785 
th»adid
 = 0;hreadid < 3;hreadid++)

9788 
thrdP”JobCÁ
 = 1;

9789 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9790 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9791 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9794 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

9795 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9799 ià(!
cu¼’t
->
ç¡fwd_dÚe
)

9801 
couÁ”_t
 
icouÁ
;

9802 
md_š¡_t
 
š¡
;

9803 
md_İcode
 
İ
;

9804 
md_addr_t
 
rg‘_PC
;

9805 
md_addr_t
 
addr
;

9806 
is_wr™e
;

9807 
by‹_t
 
‹mp_by‹
;

9808 
h®f_t
 
‹mp_h®f
;

9809 
wÜd_t
 
‹mp_wÜd
;

9811 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

9812 
qwÜd_t
 
‹mp_qwÜd
 = 0;

9815 
md_çuÉ_ty³
 
çuÉ
;

9817 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

9819 !
cu¼’t
->
ç¡fwd_dÚe
)

9822 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

9823 #ifdeà
TARGET_ALPHA


9824 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

9828 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

9829 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

9832 
addr
 = 0;

9833 
is_wr™e
 = 
FALSE
;

9836 
çuÉ
 = 
md_çuÉ_nÚe
;

9839 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9842 
İ
)

9844 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

9845 
OP
: \

9846 
	`SYMCAT
(
OP
,
_IMPL
); \

9848 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

9849 
OP
: \

9850 
	`·nic
("attemptedoƒxecute‡†inking opcode");

9851 
	#CONNECT
(
OP
)

	)

9852 #undeà
DECLARE_FAULT


9853 
	#DECLARE_FAULT
(
FAULT
è\

	)

9854 { 
çuÉ
 = (
FAULT
); ; }

9855 
	~"machše.def
"

9857 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

9860 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

9861 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

9864 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

9866 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

9868 
is_wr™e
 = 
TRUE
;

9870 #iâdeà
PARALLEL_EMUL


9871 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

9874 #iâdeà
PARALLEL_EMUL


9876 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

9881 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

9882 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

9886 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

9887 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

9892 #ifdef 
EDA


9893 
i
 = 0, 
j
 = 0; i < 
m_maxth»ads
; i++)

9895 ià(
j
 =ğ
THREADS_PER_JOB
)

9898 ià(
thecÚ‹xts
[
i
]->
ma¡”id
 == 0)

9900 
k
 = 0, 
l
 = 0; k < 
m_maxth»ads
; k++)

9902 ià(
thecÚ‹xts
[
k
]->
ma¡”id
 == 1)

9904 ià(
l
 =ğ
j
)

9906 
m
;

9908 
m
 = 0, 
l
 = 0; m < 
m_maxth»ads
; m++)

9910 ià(
thecÚ‹xts
[
m
]->
ma¡”id
 == 2)

9912 ià(
l
 =ğ
j
)

9914 
thecÚ‹xts
[
i
]->
jobThdId
 = 
j
;

9915 
thecÚ‹xts
[
k
]->
jobThdId
 = 
j
;

9916 
thecÚ‹xts
[
m
]->
jobThdId
 = 
j
;

9917 
thecÚ‹xts
[
i
]->
h–pThdId
 = 
k
;

9918 
thecÚ‹xts
[
k
]->
h–pThdId
 = 
i
;

9919 
thecÚ‹xts
[
m
]->
h–pThdId
 = -1;

9920 
thecÚ‹xts
[
i
]->
ÜaşeId
 = 
m
;

9921 
thecÚ‹xts
[
k
]->
ÜaşeId
 = 
m
;

9922 
thecÚ‹xts
[
m
]->
ÜaşeId
 = -1;

9924 
thecÚ‹xts
[
i
]->
´edQueue
 = (
b¿nchCÜr
 *è
	`ÿÎoc
 (1,  (branchCorr));;

9925 
	`š™B¿nchCÜr
 (
thecÚ‹xts
[
i
]->
´edQueue
);

9926 
thecÚ‹xts
[
k
]->
´edQueue
 =hecÚ‹xts[
i
]->predQueue;

9927 
thecÚ‹xts
[
m
]->
´edQueue
 =hecÚ‹xts[
i
]->predQueue;

9930 
l
++;

9935 
l
++;

9938 
j
++;

9942 
i
 = 0; i < 
numcÚ‹xts
; i++)

9944 
thecÚ‹xts
[
i
]->
jobThdId
 = i;

9945 
thecÚ‹xts
[
i
]->
h–pThdId
 = -1;

9946 
thecÚ‹xts
[
i
]->
ÜaşeId
 = -1;

9950 
	`´štf
 ("ff Stage 0 done\n");

9951 
	`fæush
 (
¡dout
);

9953 
	`f¡fwd_cŞËùSts
();

9956 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9958 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9959 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9960 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9963 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

9964 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9968 ià(
cu¼’t
->
ç¡fwd_couÁ
 > 0)

9970 
couÁ”_t
 
icouÁ
;

9971 
md_š¡_t
 
š¡
;

9972 
md_İcode
 
İ
;

9973 
md_addr_t
 
rg‘_PC
;

9974 
md_addr_t
 
addr
;

9975 
is_wr™e
;

9976 
by‹_t
 
‹mp_by‹
;

9977 
h®f_t
 
‹mp_h®f
;

9978 
wÜd_t
 
‹mp_wÜd
;

9980 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

9981 
qwÜd_t
 
‹mp_qwÜd
 = 0;

9984 
md_çuÉ_ty³
 
çuÉ
;

9986 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

9988 
icouÁ
 = 0; icouÁ < 
cu¼’t
->
ç¡fwd_couÁ
; icount++)

9991 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

9992 #ifdeà
TARGET_ALPHA


9993 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

9997 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

10000 
addr
 = 0;

10001 
is_wr™e
 = 
FALSE
;

10004 
çuÉ
 = 
md_çuÉ_nÚe
;

10007 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

10010 
İ
)

10012 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

10013 
OP
: \

10014 
	`SYMCAT
(
OP
,
_IMPL
); \

10016 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

10017 
OP
: \

10018 
	`·nic
("attemptedoƒxecute‡†inking opcode");

10019 
	#CONNECT
(
OP
)

	)

10020 #undeà
DECLARE_FAULT


10021 
	#DECLARE_FAULT
(
FAULT
è\

	)

10022 { 
çuÉ
 = (
FAULT
); ; }

10023 
	~"machše.def
"

10025 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

10028 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

10029 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

10032 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

10034 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

10036 
is_wr™e
 = 
TRUE
;

10037 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

10040 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

10044 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

10045 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10048 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10049 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10056 
	`´štf
 ("ff stage 1 done\n");

10057 
	`fæush
 (
¡dout
);

10059 
	`årštf
 (
¡d”r
, "sim: ** starting…erformance simulation **\n");

10060 #ifdeà
LOAD_PREDICTOR


10061 
	`årštf
 (
¡d”r
, " LOAD_PREDICTOR\n");

10062 #ifdeà
COUNT_MISS_ONLY


10063 
	`årštf
 (
¡d”r
, "COUNT_MISS_ONLY \n");

10065 #ifdeà
PREDICT_LOAD_COMM


10066 
	`årštf
 (
¡d”r
, "PREDICT_LOAD_COMM \n");

10068 #ifdeà
GATE_L1_MISS


10069 
	`årštf
 (
¡d”r
, "GATE_L1_MISS \n");

10071 #ifdeà
GATE_L2_MISS


10072 
	`årštf
 (
¡d”r
, "GATE_L2_MISS\n");

10074 #ifdeà
PDG


10075 
	`årštf
 (
¡d”r
, "PDG \n");

10078 #ifdeà
ACTIVE_N_WAY


10079 
	`årštf
 (
¡d”r
, " ACTIVE_N_WAY\n");

10080 #ifdeà
FIXED_N_WAY


10081 
	`årštf
 (
¡d”r
, " FIXED_N_WAY\n");

10084 #ifdeà 
SMT_TEST


10085 
	`årštf
 (
¡d”r
, "SMT_TEST\n");

10087 #ifdeà 
THRD_WAY_CACHE


10088 
	`årštf
 (
¡d”r
, " THRD_WAY_CACHE\n");

10090 #ifdeà 
N_WAY_CACHE


10091 
	`årštf
 (
¡d”r
, " N_WAY_CACHE: deçuÉ oÆy, %d\n", 
n_way_ÿche
);

10092 #ifdeà
SET_BASED


10093 
	`årštf
 (
¡d”r
, "SET_BASED\n");

10096 #ifdeà
PARTITIONED_LSQ


10097 
	`årštf
 (
¡d”r
, "PARTITIONED_LSQ\n");

10099 
	`årštf
 (
¡d”r
, "(PARTITIONED_LSQ‚ot defined)\n");

10101 #ifdeà
CENTRALIZED_LSQ


10102 
	`årštf
 (
¡d”r
, "CENTRALIZED_LSQ\n");

10104 #ifdeà
DE_CENTRALIZED_LSQ


10105 
	`årštf
 (
¡d”r
, "DE_CENTRALIZED_LSQ\n");

10106 #ifdeà
DE_CENTRALIZED_POWER_BUG


10107 
	`årštf
 (
¡d”r
, " DE_CENTRALIZED_POWER_BUG\n");

10109 #ifdeà 
SPLIT_LSQ


10110 
	`årštf
 (
¡d”r
, "SPLIT_LSQ\n");

10112 #ifdeà
DISTRIBUTE_STORE


10113 
	`årštf
 (
¡d”r
, "DISTRIBUTE_STORE\n");

10115 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


10116 
	`årštf
 (
¡d”r
, " PWR_DE_CENTRALIZED_LSQ\n");

10119 #ifdeà
ALLOW_ANY_CLUSTER


10120 
	`årštf
 (
¡d”r
, "ALLOW_ANY_CLUSTER\n");

10122 #ifdeà 
CLUSTER_PRIORITY


10123 
	`årštf
 (
¡d”r
, "CLUSTER_PRIORITY\n");

10125 #ifdeà
DISTRIBUTED_STEER


10126 
	`årštf
 (
¡d”r
, "DISTRIBUTED_STEER\n");

10128 #ifdeà
CENTRALIZED_STEER


10129 
	`årštf
 (
¡d”r
, "CENTRALIZED_STEER\n");

10131 #ifdeà
MINIMUM_STEER


10132 
	`årštf
 (
¡d”r
, "MINIMUM_STEER\n");

10134 #ifdeà
INIT_CENTRALIZED_STEER


10135 
	`årštf
 (
¡d”r
, "INIT_CENTRALIZED_STEER\n");

10137 #ifdeà
CMP_STEER


10138 
	`årštf
 (
¡d”r
, "CMP_STEER\n");

10140 #ifdeà
INIT_CMP_STEER


10141 
	`årštf
 (
¡d”r
, "INIT_CMP_STEER\n");

10143 #ifdeà
N_WAY_STEER


10144 
	`årštf
 (
¡d”r
, "N_WAY_STEER ,N_WAY:deçuÉ %d \n", 
n_way
);

10145 #ifdeà
PRIVATE_STEER


10146 
	`årštf
 (
¡d”r
, " PRIVATE_STEER\n");

10148 #ifdeà
N_WAY_ADAPT


10149 
	`årštf
 (
¡d”r
, " N_WAY_ADAPT,ADAPT_RATE %d \n", 
ADAPT_RATE
);

10150 #ifdeà
STABLE_IPC_ADAPT


10151 
	`årštf
 (
¡d”r
, "STABLE_IPC_ADAPT\n");

10153 #ifdeà
PERIODIC_INCREASE_ADAPT


10154 
	`årštf
 (
¡d”r
, "PERIODIC_INCREASE_ADAPT\n");

10156 #ifdeà
DOUBLE_ADAPT


10157 
	`årštf
 (
¡d”r
, "DOUBLE_ADAPT\n");

10159 #ifdeà
OVERALL_LIMIT


10160 
	`årštf
 (
¡d”r
, "OVERALL_LIMIT\n");

10162 #ifdeà 
PRIVATE_STEER


10163 
	`årštf
 (
¡d”r
, "PRIVATE_STEER\n");

10166 #ifdeà
THRD_PRIO_ADAPT


10167 
	`årštf
 (
¡d”r
, " THRD_PRIO_ADAPT\n");

10168 #ifdeà
ADAPT_LIMIT


10169 
	`årštf
 (
¡d”r
, " ADAPT_LIMIT\n");

10172 #ifdeà
PDG_ADAPT


10173 
	`årštf
 (
¡d”r
, " PDG_ADAPT\n");

10175 #ifdeà
PDG_STOP_ADAPT


10176 
	`årštf
 (
¡d”r
, " PDG_STOP_ADAPT\n");

10178 #ifdeà
PDG_THRD_ADAPT


10179 
	`årštf
 (
¡d”r
, " PDG_THRD_ADAPT\n");

10180 #ifdeà
PDG_THRD_AGGRESSIVE


10181 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10183 #ifdeà
PDG_THRD_SOFT


10184 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10187 #ifdeà
PDG_THRD_PRIO_ADAPT


10188 
	`årštf
 (
¡d”r
, "PDG_THRD_PRIO_ADAPT \n");

10189 #ifdeà
COMM_OPER_LIMIT


10190 
	`årštf
 (
¡d”r
, "COMM_OPER_LIMIT COMM_OPER_RATIO %2.2f\n", 
COMM_OPER_RATIO
);

10192 #ifdeà
ADAPT_NO_PRIO


10193 
	`årštf
 (
¡d”r
, " ADAPT_NO_PRIO\n");

10195 #ifdeà
ADAPT_NO_COMM_OPER


10196 
	`årštf
 (
¡d”r
, " ADAPT_NO_COMM_OPER\n");

10198 #ifdeà
AVG_LIMIT


10199 
	`årštf
 (
¡d”r
, " AVG_LIMIT\n");

10201 #ifdeà
PDG_THRD_AGGRESSIVE


10202 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10204 #ifdeà
PDG_THRD_SOFT


10205 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10208 #ifdeà
INIT_N_WAY_CENTRAL


10209 
	`årštf
 (
¡d”r
, " INIT_N_WAY_CENTRAL\n");

10211 #ifdeà
N_WAY_BALANCE


10212 
	`årštf
 (
¡d”r
, "N_WAY_BALANCE \n");

10214 #ifdeà
THRD_PROFILE


10215 
	`årštf
 (
¡d”r
, " THRD_PROFILE\n");

10217 #ifdeà
N_CACHE_FIXED


10218 
	`årštf
 (
¡d”r
, "N_CACHE_FIXED \n");

10220 #ifdeà
PRIVATE_CACHE


10221 
	`årštf
 (
¡d”r
, " PRIVATE_CACHE\n");

10224 #ifdeà
STEER_MEM_LSQ


10225 
	`årštf
 (
¡d”r
, "STEER_MEM_LSQ\n");

10227 #ifdeà
STEER_MEM_NEIGHBOR


10228 
	`årštf
 (
¡d”r
, "STEER_MEM_NEIGHBOR\n");

10230 #ifdeà
STEER_OPRANDS


10231 
	`årštf
 (
¡d”r
, "STEER_OPRANDS\n");

10233 #ifdeà 
STEER_FU


10234 
	`årštf
 (
¡d”r
, "STEER_FU\n");

10236 #ifdeà
SELECTIVE_DISPATCH


10237 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH\n");

10239 #ifdeà
SELECTIVE_FETCH


10240 
	`årštf
 (
¡d”r
, "SELECTIVE_FETCH\n");

10242 #ifdeà
SELECTIVE_DISPATCH_GATE


10243 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH_GATE\n");

10244 #ifdeà
UNREADY_PRIVATE


10245 
	`årštf
 (
¡d”r
, " UNREADY_PRIVATE \n");

10247 #ifdeà
UNREADY_COUNT


10248 
	`årštf
 (
¡d”r
, " UNREADY_COUNT %d\n", 
UNREADY_COUNT_LIMIT
);

10250 #ifdeà
UNREADY_COUNT_ONLY


10251 
	`årštf
 (
¡d”r
, " UNREADY_COUNT_ONLY \n");

10253 #ifdeà
UNREADY_CHAIN_PRIVATE


10254 
	`årštf
 (
¡d”r
, " UNREADY_CHAIN_PRIVATE %d\n", 
UNREADY_CHAIN_LIMIT
);

10257 #ifdeà 
RAW


10258 
	`årštf
 (
¡d”r
, "RAW ,deçuÉ RAWSIZE %d\n", 
RAWSIZE
);

10260 #ifdeà 
RABMAP


10261 
	`årštf
 (
¡d”r
, "RABMAP \n");

10263 #ifdeà 
RABCOMM


10264 
	`årštf
 (
¡d”r
, "RABCOMM \n");

10266 #ifdeà 
ALU_MERGE


10267 
	`årštf
 (
¡d”r
, "ALU_MERGE \n");

10269 #ifdeà
INST_TRANS_RATE


10270 
	`årštf
 (
¡d”r
, "INST_TRANS_RATE\n");

10271 #ifdeà
TRACE_REG


10272 
	`årštf
 (
¡d”r
, " TRACE_REG\n");

10275 #ifdeà
IGNORE_ALL_COMM_LATENCY


10276 
	`årštf
 (
¡d”r
, "IGNORE_ALL_COMM_LATENCY\n");

10278 #ifdeà
IGNORE_MEM_COMM_LATENCY


10279 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10281 #ifdeà
COUNT_COMMIT


10282 
	`årštf
 (
¡d”r
, "COUNT_COMMIT\n");

10284 #ifdeà
CYCLE_JUMP


10285 
	`årštf
 (
¡d”r
, "CYCLE_JUMP \n");

10287 #ifdeà
FETCH_ONE_BLOCK


10288 
	`årštf
 (
¡d”r
, "FETCH_ONE_BLOCK \n");

10290 #ifdeà 
MSHR


10291 
	`årštf
 (
¡d”r
, "MSHR , MSHRSIZE %d\n", 
MSHRSIZE
);

10293 #ifdeà
GENERIC_FU


10294 
	`årštf
 (
¡d”r
, "GENERIC_FU\n");

10296 #ifdeà
NO_EXTRA_REG


10297 
	`årštf
 (
¡d”r
, "NO_EXTRA_REG\n");

10299 #ifdeà
NO_CACHE_BANK


10300 
	`årštf
 (
¡d”r
, "NO_CACHE_BANK\n");

10302 #ifdeà
NO_QFILL_CONTENTION


10303 
	`årštf
 (
¡d”r
, "NO_QFILL_CONTENTION\n");

10305 #ifdeà
NO_BUS_CONTENTION


10306 
	`årštf
 (
¡d”r
, " NO_BUS_CONTENTION \n");

10308 #ifdeà
EVENT_CACHE_UPDATE


10309 
	`årštf
 (
¡d”r
, "EVENT_CACHE_UPDATE\n");

10310 #ifdeà
APPROXIMATE_LAT


10311 
	`årštf
 (
¡d”r
, " APPROXIMATE_LAT \n");

10313 #ifdeà 
ACURATE_LAT


10314 
	`årštf
 (
¡d”r
, " ACURATE_LAT \n");

10316 #ifdeà 
MOST_ACURATE_LAT


10317 
	`årštf
 (
¡d”r
, " MOST_ACURATE_LAT \n");

10320 #ifdeà
PORT_PER_BANK


10321 
	`årštf
 (
¡d”r
, "PORT_PER_BANK\n");

10323 #ifdeà 
LINE_INTERLEAVED


10324 
	`årštf
 (
¡d”r
, "LINE_INTERLEAVED\n");

10326 #ifdeà 
PWR_CLUSTER


10327 
	`årštf
 (
¡d”r
, "PWR_CLUSTER,ISSUE_PER_CLUSTER \n");

10329 #ifdeà 
CHECKS


10330 
	`årštf
 (
¡d”r
, "CHECKS\n");

10332 #ifdeà 
PWR__SMT_RR


10333 
	`årštf
 (
¡d”r
, "PWR__SMT_RR\n");

10335 
	`årštf
 (
¡d”r
, "REMOVE_ILP = %d\n", (è
REMOVE_ILP
);

10336 
	`årštf
 (
¡d”r
, "HOPTIME = %d\n", (è
HOPTIME
);

10337 #ifdeà
CENTRALIZED_CACHE_BANK


10338 
	`årštf
 (
¡d”r
, "CENTRALIZED_CACHE_BANK\n");

10340 #ifdeà
IGNORE_MEM_COMM_LATENCY


10341 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10343 
	`årštf
 (
¡d”r
, "DO_DYNAMIC_ADAPTATION = %d\n", (è
DO_DYNAMIC_ADAPTATION
);

10344 
	`årštf
 (
¡d”r
, "N_WAY = %d\n", 
n_way
);

10345 
	`årštf
 (
¡d”r
, "n_way_ÿchğ%d\n", 
n_way_ÿche
);

10346 #ifdeà
OPTICAL_FE_LINK


10347 
	`årštf
 (
¡d”r
, "OPTICAL_FE_LINK\n");

10349 #ifdeà
MONOLETHIC_MACHINE


10350 
	`årštf
 (
¡d”r
, "MONOLETHIC_MACHINE\n");

10353 #ifdeà
TOKENB


10354 
	`årštf
 (
¡d”r
, "TOKENB\n");

10358 *
sim_¡r_dump
;

10359 *
sim_dump
 = 
sim_¡r_dump
;

10360 
¡rFeName
[256];

10361 ià(!
sim_dump
)

10363 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

10364 
	`ex™
 (1);

10367 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

10368 
	`¡rÿt
 (
¡rFeName
, ".trc");

10369 
å_Œaû
 = 
	`fİ’
 (
¡rFeName
, "w");

10370 if(!
å_Œaû
è
	`·nic
("Could‚ot openrace file");

10373 #ifdef 
EDA


10374 
	`S¹Sk–‘ÚR—d
 (0);

10376 
	`®loÿ‹_ä“_ev’t_li¡
();

10379 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10381 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10382 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
;

10383 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

10385 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_PC
 -  (
md_š¡_t
);

10386 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.»gs_PC -  (
md_š¡_t
);

10387 #ifdeà
PDG


10388 
cu¼’t
->
aùive
 = 1;

10393 
	`bš_š™
 ();

10394 
	`ÿche_š™
 ();

10395 #ifdeà 
STREAM_PREFETCHER


10396 
	`š™_¥
 ();

10398 #ifdeà 
L1_STREAM_PREFETCHER


10399 
	`l1š™_¥
 ();

10402 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

10404 
di¥_time
[
i
] = 0;

10407 
i
 = 0; i < 
numcÚ‹xts
; i++)

10409 
	`»g_š™
 (
i
);

10410 
	`b´ed_š™
 (
i
);

10413 #ifdeà
REG_RENAME_CONFIGUARE


10414 
	`årštf
 (
¡d”r
, "TÙ® P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

10417 
i
 = 0; i < 
CLUSTERS
; i++)

10419 
num_¡Üeq
[
i
] = 0;

10420 
max_¡Üeq
[
i
] = 0;

10423 
mm
 = 0; mm <ğ
NUMPHASES
; mm++)

10425 
num_picks
[
mm
] = 0;

10428 ià(
CENTRAL_CACHE
)

10430 
aùu®_ÿch•Üts
 = 
CACHEPORTS
;

10431 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10435 
	`ÿche_chªge_cÚfig
 (
SMALLEST_CONFIG
);

10436 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10437 
aùu®_ÿch•Üts
 = (
CACHEPORTS
 * 
aùu®_şu¡”s
è/ 
CLUSTERS
;

10440 
¹h»sh
 = 
š¢_š‹rv®
 / 100;

10441 
b¹h»sh
 = 
š¢_š‹rv®
 / 100;

10442 
m¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10443 
im¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10444 
cyùh»sh
 = 
š¢_š‹rv®
 / 100;

10445 
ºoi£
 = 
š¢_š‹rv®
 / 20;

10446 
bºoi£
 = 
š¢_š‹rv®
 / 50;

10447 
m¢oi£
 = 
š¢_š‹rv®
 / 100;

10448 
im¢oi£
 = 
š¢_š‹rv®
 / 200;

10450 #ifdef 
COLLECT_STAT_STARTUP


10451 
aùu®Proûss
 = 1;

10453 
aùu®Proûss
 = 
numcÚ‹xts
;

10455 
execu‹MaxIn¢
 = 
max_š¡s
;

10461 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10463 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10464 
cu¼’t
->
aùive_this_cyşe
 = 1;

10467 #ifdef 
SMD_USE_WRITE_BUF


10469 
th»adid
 = 0;h»adid < 
MAXTHREADS
;hreadid++)

10471 
i
 = 0; i < 
SMD_L1_WBUF_SIZE
; i++)

10473 
m_L1WBuf
[
th»adid
][
i
].
PC
 = 0;

10474 
m_L1WBuf
[
th»adid
][
i
].
lsqId
 = 0;

10475 
m_L1WBuf
[
th»adid
][
i
].
robId
 = 0;

10476 
m_L1WBuf
[
th»adid
][
i
].
robExId
 = 0;

10477 
m_L1WBuf
[
th»adid
][
i
].
addr
 = 0;

10478 
m_L1WBuf
[
th»adid
][
i
].
İ
 = 0;

10479 
m_L1WBuf
[
th»adid
][
i
].
Ït
 = 0;

10480 
m_L1WBuf
[
th»adid
][
i
].
sim_num_š¢
 = 0;

10481 
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
 = 0;

10482 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 0;

10483 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 0;

10484 
m_L1WBuf
[
th»adid
][
i
].
’ŒyTime
 = 0;

10485 
m_L1WBuf
[
th»adid
][
i
].
wr™eV®ue
 = 0;

10486 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 0;

10488 
m_L1WBufCÁ
[
th»adid
] = 0;

10489 
m_L1WBuf_h—d
[
th»adid
] = 0;

10490 
m_L1WBuf_
[
th»adid
] = 0;

10493 #ifdeà
DIRECTORY


10494 #ifdeà
MC


10495 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

10496 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10497 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10498 
	`mašPİÃt
();

10499 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

10501 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10502 
	`mašPİÃt
();

10505 #ifdeà
OPTICAL_INTERCONNECT


10506 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10508 #ifdeà
POPNET


10509 
	`mašPİÃt
();

10517 #ifdef 
DCACHE_MSHR


10518 
i
 = 0; i < 
numcÚ‹xts
; i++)

10519 
	`ä“MSHR
(
ÿche_dl1
[
i
]->
mshr
);

10520 
	`ä“L2MSHR
(
ÿche_dl2
->
mshr
);

10523 #ifdeà
POWER_ACCESS_STAT


10524 
lsq_´eg_acûss_couÁ
 +ğ
lsq_´eg_acûss
;

10525 
lsq_wakeup_acûss_couÁ
 +ğ
lsq_wakeup_acûss
;

10528 #ifdef 
EDA


10529 
	`dl0_ş—nup
 ();

10534 
	`±¿û_check_aùive
 (
thecÚ‹xts
[0]->
»gs
.
»gs_PC
, 
sim_num_š¢
, 
sim_cyşe
);

10536 
	`±¿û_Ãwcyşe
 (
sim_cyşe
);

10538 
i
 = 0; i<
numcÚ‹xts
; i++)

10542 
comm™_æag
[
i
] ++;

10545 
	`ruu_comm™
 ();

10547 #ifdeà
SMD_USE_WRITE_BUF


10548 
	`ruu_»Ëa£_wr™ebufãr
 ();

10549 
	`ruu_wr™e_äom_Wr™ebufãr
 ();

10553 
	`ruu_»Ëa£_fu
 ();

10555 
	`ruu_wr™eback
 ();

10558 ià(!
bugcom·t_mode
)

10560 
	`lsq_»äesh
 ();

10561 
	`ruu_issue
 ();

10564 
ggg
;

10566 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10568 
di¥©ch_dÚe
[
ggg
] = 0;

10569 ià(
thecÚ‹xts
[
ggg
]->
aùive_this_cyşe
)

10571 
di¥©ch_dÚe
[
ggg
] = 
di¥©ched
 = 
	`ruu_di¥©ch
 (ggg);

10575 ià(!
®lFÜked
)

10577 #ifdef 
COLLECT_STAT_STARTUP


10578 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10580 
cŞËùStStİ
[
ggg
] = 0;

10583 
cŞËùStB¬r›r
 = 0;

10584 
®lFÜked
 = 1;

10586 
	`š™P¬®ËlSimuÏtiÚ
 ();

10587 
cŞËù_¡©s
 = 1;

10592 ià(
æushImpSts
)

10594 
æushImpSts
 = 0;

10595 
cŞËù_¡©s
 = 1;

10596 
sim_num_š¢
 = 0;

10597 
»®SimCyşe
 = 0;

10599 
i
 = 0; i < 
MAXTHREADS
; i++)

10601 
m_sqLQFuÎ
[
i
] = 0;

10602 
m_sqSQFuÎ
[
i
] = 0;

10603 
m_sqNumLdR•Ïy
[
i
] = 0;

10604 
ld¡RejeùiÚCouÁ
[
i
] = 0;

10605 
£qCÚsR•Ïy
[
i
] = 0;

10606 
£qCÚsIn¢R•Ïy
[
i
] = 0;

10609 
šv®id©iÚ_»¶ay
[
i
] = 0;

10611 
tÙ®RUUsize
[
i
] = 
tÙ®LQsize
[i] = 
tÙ®SQsize
[i] = 0;

10613 #ifdeà
RELAXED_CONSISTENCY


10614 
lßdLßdR•ÏyCouÁ
[
i
] = 0;

10617 
m_sqP»ãtchCÁ
 = 0;

10620 ià(
timeToR‘uº
)

10622 
	`fşo£
 (
å_Œaû
);

10624 
i
 = 0; i < 
numcÚ‹xts
; i++)

10625 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10626 
	`årštf
(
¡d”r
,"[INFO 0]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

10630 
i
 = 0; i < 
numcÚ‹xts
; i++)

10632 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10634 
tÙ®RUUsize
[
i
] +ğ
thecÚ‹xts
[i]->
RUU_num
;

10635 
avgRUUsize
[
i
] = (1.0 * 
tÙ®RUUsize
[i]è/ 
»®SimCyşe
;

10637 
tÙ®LQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shLQNum
;

10638 
avgLQsize
[
i
] = (1.0 * 
tÙ®LQsize
[i]è/ 
»®SimCyşe
;

10640 #ifdef 
SMD_USE_WRITE_BUF


10641 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
 + 
m_L1WBufCÁ
[i];

10643 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
;

10645 
avgSQsize
[
i
] = (1.0 * 
tÙ®SQsize
[i]è/ 
»®SimCyşe
;

10650 #ifdeà 
CHECK_FETCH_QUEUE


10651 
	`check_ãtch_queue
 ();

10654 ià(
bugcom·t_mode
)

10658 
	`lsq_»äesh
 ();

10662 
	`ruu_issue
 ();

10665 
	`ruu_ãtch
 ();

10667 #ifdeà
DIRECTORY


10668 
	`dœ_fifo_dequeue
();

10669 
	`dœ_ev’tq_Ãx‹v’t
();

10670 #ifdeà
MC


10671 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

10672 
	`dœeùRunSim
(
sim_cyşe
);

10673 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10674 
	`pİÃtRunSim
(
sim_cyşe
);

10675 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

10677 
	`dœeùRunSim
(
sim_cyşe
);

10678 
	`pİÃtRunSim
(
sim_cyşe
);

10681 #ifdeà
OPTICAL_INTERCONNECT


10682 
	`dœeùRunSim
(
sim_cyşe
);

10684 #ifdeà
POPNET


10685 
	`pİÃtRunSim
(
sim_cyşe
);

10690 #ifdeà
MEM_MOD


10691 
f
, 
j
;

10692 
f
=0; f<8; f++)

10694 if(
mem_pÜt_Ït
[
f
] != 0)

10695 
mem_pÜt_Ït
[
f
] --;

10698 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "HYBRID"))

10700 
f
 = 0; f< 100; f++)

10701 
j
 = 0; j< 100; j++)

10702 if(
lšk_£r_Ït
[
f
][
j
] > 0)

10703 
lšk_£r_Ït
[
f
][
j
] --;

10706 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10708 
	`upd©e_pow”_¡©s
(
thecÚ‹xts
[0]->
pow”
, 
th»adid
,hecontexts[threadid]);

10710 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10711 ià(
cu¼’t
->
ruu_ãtch_issue_d–ay
)

10712 
cu¼’t
->
ruu_ãtch_issue_d–ay
--;

10714 
	`ş—r_acûss_¡©s
();

10720 #ifdeà 
CHECKS


10721 
	`check_»g
 ();

10724 ià(
hÙ¥Ù_aùive
 && 
sim_cyşe
 >ğ
Ï¡_hÙ¥Ù_cyşe
 + 
hÙ¥Ù_cyşe_§m¶šg_štvl
)

10726 
	`upd©e_hÙ¥Ù_¡©s
 (
sim_cyşe
 - 
Ï¡_hÙ¥Ù_cyşe
);

10727 
Ï¡_hÙ¥Ù_cyşe
 = 
sim_cyşe
;

10730 
	`check_fu_busy
 ();

10731 
‰
;

10733 ià(!
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
)

10735 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10737 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10738 #ifdef 
EDA


10739 ià(
cu¼’t
->
ma¡”id
 =ğ0 && ((è(cu¼’t->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

10741 ià(((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

10744 
	`årštf
 (
¡d”r
, "Th»ad %d ha exûeded max_š¡s; klšg‡Îh»ads.\n", 
th»adid
);

10745 
kÏÎ
 = 1;

10750 
th»adid
 = 0, 
th»ad_¡İ
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10752 
tmp
 = 0, 
tid
;

10754 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10756 #ifdef 
EDA


10757 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && 
cu¼’t
->
ma¡”id
 =ğ0 && ((è(cu¼’t->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

10759 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
 && ((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

10762 
cu¼’t
->
fšish_cyşe
 = (è(
sim_cyşe
 - 
cyşecheck
);

10763 
cu¼’t
->
ruÂšg
 = 0;

10764 
¡İ³d_num_th»ads
++;

10766 
aùivecÚ‹xts
 = 
numcÚ‹xts
 - 
¡İ³d_num_th»ads
;

10768 
th»ad_¡İ
 = 1;

10769 
	`årštf
 (
¡d”r
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

10770 
	`årštf
 (
¡d”r
, "IPC_·tŸl%d,³¸th»ad %4.3f, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

10772 ià(
hÙ¥Ù_aùive
 && 
sim_hÙ¥Ùout_fd
 !ğ
¡d”r
)

10774 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

10777 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10779 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10780 ià(
cu¼’t
->
fšish_cyşe
)

10781 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(cu¼’t->
fšish_cyşe
 - 
cyşecheck
));

10783 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

10785 
	`årštf
 (
¡d”r
, "\n");

10786 
	`årštf
 (
¡d”r
, "num_š¢_·tŸl%d,³¸th»ad %lu, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
));

10788 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10790 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10791 ià(
cu¼’t
->
fšish_cyşe
)

10792 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

10794 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

10796 
	`årštf
 (
¡d”r
, "\n");

10797 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

10799 
	`årštf
 (
¡d”r
, "********All finish simulation done**********\n");

10800 
	`årštf
 (
¡d”r
, "fšish_cyş%lu,…”h»ad , ", (è
sim_cyşe
);

10801 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10803 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10804 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
fšish_cyşe
 - 
WARMUP
));

10806 
	`årštf
 (
¡d”r
, "\n");

10810 
now_time
 = 
	`time
 ((
time_t
 *è
NULL
);

10812 ià(!
sim_cyşe
)

10813 
´št_time
 = 
now_time
;

10814 
sim_–­£d_£c
 = 0;

10816 ià((è
sim_num_š¢
 && ((
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
è|| 
th»ad_¡İ
))

10818 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

10820 
sim_cyşe
 -ğ
w¬mupEndCyşe
;

10821 
	`årštf
(
¡d”r
,"[INFO 1]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

10826 
	#PERIOD
 100000

	)

10827 
	#INTERVAL
 10000

	)

10828 
	#NUM_CONFIG
 3

	)

10829 #ià
DO_DYNAMIC_ADAPTATION


10831 ià(
m_maxth»ads
 == 1)

10833 ià(((
sim_num_š¢
 % 
PERIOD
è>ğ0è&& ((sim_num_š¢ % PERIODè< 
NUM_CONFIG
 * 
INTERVAL
))

10834 
	`³riodic_ad­tiÚ
 ();

10838 
	#PRINT_STATISTICS
 0

	)

10839 #ià
PRINT_STATISTICS


10840 
	`chªgeCacheCÚfig
 ();

10843 #ifdeà
INTERVAL_BASED


10844 ià(!((è
sim_cyşe
 % 
ADAPT_INTERVAL
) && (() sim_cycle))

10847 #ifdeà 
EXAMIN_N_WAY_ADAPT


10848 
	`upd©e_examš_n_lim™
 ();

10850 #ifdeà 
N_WAY_ADAPT


10851 
	`upd©e_n_lim™
 ();

10853 #ifdeà
THRD_PRIO_ADAPT


10854 
	`´iÜ™y_n_way
 ();

10856 #ifdeà
PDG_THRD_ADAPT


10857 
	`pdg_thrd_n_way
 ();

10859 #ifdeà
PDG_THRD_PRIO_ADAPT


10860 
	`pdg_´iÜ™y_n_way
 ();

10862 #ifdeà
PDG_ADAPT


10863 
	`pdg_n_way
 ();

10865 #ifdeà
N_WAY_CACHE_ADAPT


10866 
	`n_way_ÿche_ad­t
 ();

10868 #ifdeà
INTERVAL_BASED


10872 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

10873 
	`busF»e
 ();

10875 
sim_cyşe
++;

10877 #ifdeà
DIRECTORY


10878 
	`»£t_pÜts
();

10882 #ifdeà
SEQUENTIAL_CONSISTENCY


10883 
i
 = 0; i < 
numcÚ‹xts
; i++)

10885 ià(
šv®id©iÚSÎ
[
i
])

10886 
šv®id©iÚSÎ
[
i
]--;

10887 ià(
comm™SÎ
[
i
])

10888 
comm™SÎ
[
i
]--;

10891 
»®SimCyşe
++;

10892 
i
 = 0; i < 
numcÚ‹xts
; i++)

10894 ià(!
®lFÜked
)

10896 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (ÑhecÚ‹xts[i]->
¦•tAt
 + 1000è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
))

10898 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

10899 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

10904 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (thecÚ‹xts[i]->
¦•tAt
 + 100 + (
	`¿ndom
 (è% 20è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
))

10906 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

10907 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

10908 ià(
cŞËù_¡©s
)

10909 
qu›n£Wakeup
[
i
]++;

10914 ià(((!
max_b¬r›r
 && (
pu»_num_š¢
 > 
execu‹MaxIn¢
)è|| (max_b¬r›¸&& 
TÙ®B¬r›rs
 >ğmax_b¬r›r)è&& 
cŞËù_¡©s
)

10916 
i
 = 0; i < 
numcÚ‹xts
; i++)

10917 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10919 
	`årštf
(
¡d”r
,"[INFO 2]: sim_num_š¢=%Îu, b¬r›rs=%d", 
pu»_num_š¢
, 
TÙ®B¬r›rs
);

10922 ià(
unPrštLim™
 < 
STATUS_NUM
 && (
pu»_num_š¢
 >ğ(unPrštLim™ * (
max_š¡s
 / STATUS_NUM))))

10924 #ifdeà
MC


10925 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

10927 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

10928 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

10930 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10932 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
);

10933 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\tm‘a_·ck‘s%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
, 
M‘aPack‘s_1
);

10935 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

10937 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

10938 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

10941 #ifdeà
POPNET


10942 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
);

10943 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\tm‘a_·ck‘s%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
, 
M‘aPack‘s_1
);

10945 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

10946 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

10949 
	`fæush
 (
¡d”r
);

10950 
	`fæush
 (
¡dout
);

10951 
	`´štf
("b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

10952 
	`årštf
(
¡d”r
, "b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

10953 
	`fæush
 (
¡d”r
);

10954 
	`fæush
 (
¡dout
);

10955 
unPrštLim™
++;

10956 
glob®_d©a_·ck‘s_g’”©iÚ
 = 0;

10957 
D©aPack‘s_1
 = 0;

10958 
M‘aPack‘s_1
 = 0;

10965 
	`g‘_ä“_»g
 (
Ìegnum
, 
th»adid
)

10967 
‹mpv®
;

10968 
li¡–t
 *
‹mp
;

10970 
cÚ‹xt
 *
cu¼’t
;

10972 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10974 ià((
Ìegnum
 < 1) || (lregnum > 62))

10976 ià(
Ìegnum
 < 32)

10978 ià(!
iä“li¡_h—d
[
th»adid
])

10980 
	`´štf
 ("Num oàIREG=%d\n", 
œegfe
);

10981 
	`årštf
 (
¡d”r
, "Num oàIREG=%d\n", 
œegfe
);

10982 
	`·nic
 ("Out of„egisters?!");

10985 
‹mp
 = 
iä“li¡_h—d
[
th»adid
];

10986 
‹mpv®
 = 
‹mp
->
´eg
;

10987 
iä“li¡_h—d
[
th»adid
] = iä“li¡_h—d[th»adid]->
Ãxt
;

10988 ià(!
iä“li¡_h—d
[
th»adid
])

10989 
iä“li¡_
[
th»adid
] = 
NULL
;

10990 ià(
iä“li¡_h—d
[
th»adid
])

10991 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

10992 
	`ä“
 (
‹mp
);

10993 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

10994 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

10995 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

10996 #ifdeà 
REMOVE_REG_COUNT


10997 
œegfe
++;

10999 
œegfe_ş
[
th»adid
]++;

11000  
‹mpv®
;

11004 ià(!
fä“li¡_h—d
[
th»adid
])

11006 
	`´štf
 ("Num oàFREG=%d\n", 
äegfe
);

11007 
	`årštf
 (
¡d”r
, "Num oàFREG=%d\n", 
äegfe
);

11008 
	`·nic
 ("Out of„egisters?!");

11011 
‹mp
 = 
fä“li¡_h—d
[
th»adid
];

11012 
‹mpv®
 = 
‹mp
->
´eg
;

11013 
fä“li¡_h—d
[
th»adid
] = fä“li¡_h—d[th»adid]->
Ãxt
;

11014 ià(!
fä“li¡_h—d
[
th»adid
])

11015 
fä“li¡_
[
th»adid
] = 
NULL
;

11016 ià(
fä“li¡_h—d
[
th»adid
])

11017 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11018 
	`ä“
 (
‹mp
);

11019 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11020 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11021 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11022 #ifdeà 
REMOVE_REG_COUNT


11023 
äegfe
++;

11025 
äegfe_ş
[
th»adid
]++;

11026  
‹mpv®
;

11032 
	`ä“li¡_š£¹
 (
´egnum
, 
th»adid
)

11034 
li¡–t
 *
–t
;

11035 
li¡–t
 *
p
;

11036 
li¡–t
 *
q
;

11038 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11041 ià(
th»adid
 == 0)

11043 
p
 = 
iä“li¡_h—d
[
th»adid
];

11044 
p
)

11046 
q
 = 
p
;

11047 
p
 =…->
Ãxt
;

11052 ià(!
´egnum
)

11054 ià(
´egnum
 <ğ
IPREG_size
)

11056 #ifdeà 
REMOVE_REG_COUNT


11057 
œegfe
--;

11059 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11060 
–t
->
´eg
 = 
´egnum
;

11061 ià(
iä“li¡_
[
th»adid
])

11063 
p
 = 
iä“li¡_h—d
[
th»adid
];

11064 
q
 = 
NULL
;

11065 
p
 && (p->
´eg
 < 
´egnum
))

11067 
q
 = 
p
;

11068 
p
 =…->
Ãxt
;

11070 ià(!
p
 || !
SORT
)

11072 
iä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11073 
–t
->
´ev
 = 
iä“li¡_
[
th»adid
];

11074 
–t
->
Ãxt
 = 
NULL
;

11075 
iä“li¡_
[
th»adid
] = 
–t
;

11077 ià(
q
)

11079 
q
->
Ãxt
 = 
–t
;

11080 
–t
->
´ev
 = 
q
;

11081 
–t
->
Ãxt
 = 
p
;

11082 
p
->
´ev
 = 
–t
;

11086 
–t
->
Ãxt
 = 
iä“li¡_h—d
[
th»adid
];

11087 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11088 
–t
->
´ev
 = 
NULL
;

11089 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11094 
–t
->
Ãxt
 = 
NULL
;

11095 
–t
->
´ev
 = 
NULL
;

11096 
iä“li¡_
[
th»adid
] = 
–t
;

11097 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11099 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11100 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11101 
œegfe_ş
[
th»adid
]--;

11105 #ifdeà 
REMOVE_REG_COUNT


11106 
äegfe
--;

11108 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11109 
–t
->
´eg
 = 
´egnum
;

11110 ià(
fä“li¡_
[
th»adid
])

11112 
p
 = 
fä“li¡_h—d
[
th»adid
];

11113 
q
 = 
NULL
;

11114 
p
 && (p->
´eg
 < 
´egnum
))

11116 
q
 = 
p
;

11117 
p
 =…->
Ãxt
;

11119 ià(!
p
 || !
SORT
)

11121 
fä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11122 
–t
->
´ev
 = 
fä“li¡_
[
th»adid
];

11123 
–t
->
Ãxt
 = 
NULL
;

11124 
fä“li¡_
[
th»adid
] = 
–t
;

11126 ià(
q
)

11128 
q
->
Ãxt
 = 
–t
;

11129 
–t
->
´ev
 = 
q
;

11130 
–t
->
Ãxt
 = 
p
;

11131 
p
->
´ev
 = 
–t
;

11135 
–t
->
Ãxt
 = 
fä“li¡_h—d
[
th»adid
];

11136 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11137 
–t
->
´ev
 = 
NULL
;

11138 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11143 
–t
->
Ãxt
 = 
NULL
;

11144 
–t
->
´ev
 = 
NULL
;

11145 
fä“li¡_
[
th»adid
] = 
–t
;

11146 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11148 
äegfe_ş
[
th»adid
]--;

11149 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11150 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11155 
	`»cF»eRegLi¡
 (
th»adid
)

11157 
li¡–t
 *
p
;

11158 
li¡–t
 *
‹mp
;

11159 
couÁ
 = 0;

11160 
i
;

11162 
p
 = 
iä“li¡_h—d
[
th»adid
];

11163 ià(
p
)

11165 
couÁ
++;

11166 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11168 
couÁ
++;

11169 
‹mp
 = 
p
;

11170 
p
 =…->
Ãxt
;

11171 
	`ä“
 (
‹mp
);

11175 
p
 = 
fä“li¡_h—d
[
th»adid
];

11176 ià(
p
)

11178 
couÁ
++;

11179 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11181 
couÁ
++;

11182 
‹mp
 = 
p
;

11183 
p
 =…->
Ãxt
;

11184 
	`ä“
 (
‹mp
);

11188 
	`»g_š™
 (
th»adid
);

11192 
	`numF»eReg
 (
th»adid
)

11194 
li¡–t
 *
p
;

11195 
couÁ
 = 0;

11197 
p
 = 
iä“li¡_h—d
[
th»adid
];

11198 ià(
p
)

11200 
couÁ
++;

11201 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11203 
couÁ
++;

11204 
p
 =…->
Ãxt
;

11208 
p
 = 
fä“li¡_h—d
[
th»adid
];

11209 ià(
p
)

11211 
couÁ
++;

11212 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11214 
couÁ
++;

11215 
p
 =…->
Ãxt
;

11218  
couÁ
;

11223 
	`cİy_to
 (
th»adid
)

11225 
i
;

11227 
cÚ‹xt
 *
cu¼’t
;

11229 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11231 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11233 
cu¼’t
->
Éİm­_chk
[
i
] = cu¼’t->
Éİm­
[i];

11235 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11237 ià(
cu¼’t
->
±Şm­
[
i
].
th»adid
 ==hreadid)

11239 
cu¼’t
->
±Şm­_chk
[
i
].
Ìeg
 = cu¼’t->
±Şm­
[i].lreg;

11240 
cu¼’t
->
±Şm­_chk
[
i
].
th»adid
 = cu¼’t->
±Şm­
[i].threadid;

11247 
	`cİy_äom
 (
th»adid
)

11249 
i
;

11251 
cÚ‹xt
 *
cu¼’t
;

11253 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11255 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11257 
cu¼’t
->
Éİm­
[
i
] = cu¼’t->
Éİm­_chk
[i];

11263 
	`b´ed_š™
 (
i
)

11266 ià(
ruu_b¿nch_³ÇÉy
 < 1)

11267 
	`çl
 ("mis-prediction…enalty must be‡t†east 1 cycle");

11269 ià(
ãtch_¥“d
 != 1)

11270 
	`çl
 ("front-end speed must be 1 for SMT version of simulator");

11272 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

11274 ià(
bimod_ÃÉ
 != 1)

11275 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11276 ià(
btb_ÃÉ
 != 2)

11277 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11278 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

11279  
bimod_cÚfig
[0],

11285  
btb_cÚfig
[0],

11286  
btb_cÚfig
[1],

11287  
¿s_size
);

11289 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

11292 ià(
twŞev_ÃÉ
 != 4)

11293 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11294 ià(
btb_ÃÉ
 != 2)

11295 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11297 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

11299  
twŞev_cÚfig
[0],

11300  
twŞev_cÚfig
[1],

11302  
twŞev_cÚfig
[2],

11303  
twŞev_cÚfig
[3],

11304  
btb_cÚfig
[0],

11305  
btb_cÚfig
[1],

11306  
¿s_size
);

11308 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

11311 ià(
twŞev_ÃÉ
 != 4)

11312 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11313 ià(
bimod_ÃÉ
 != 1)

11314 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11315 ià(
comb_ÃÉ
 != 1)

11316 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

11317 ià(
btb_ÃÉ
 != 2)

11318 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11320 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

11321  
bimod_cÚfig
[0],

11322  
twŞev_cÚfig
[0],

11323  
twŞev_cÚfig
[1],

11324  
comb_cÚfig
[0],

11325  
twŞev_cÚfig
[2],

11326  
twŞev_cÚfig
[3],

11327  
btb_cÚfig
[0],

11328  
btb_cÚfig
[1],

11329  
¿s_size
);

11332 ià(!
b´ed_¥ec_İt
)

11333 
b´ed_¥ec_upd©e
 = 
¥ec_CT
;

11334 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "ID"))

11335 
b´ed_¥ec_upd©e
 = 
¥ec_ID
;

11336 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "WB"))

11337 
b´ed_¥ec_upd©e
 = 
¥ec_WB
;

11339 
	`çl
 ("bad speculative update stage specifier, use {ID|WB}");

11341 
	`b´ed_»g_¡©s
 (
thecÚ‹xts
[
i
]->
´ed
, 
sim_sdb
, i);

11346 
	`»g_š™
 (
th»adid
)

11348 
i
;

11350 
cÚ‹xt
 *
cu¼’t
;

11352 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11354 
iä“li¡_h—d
[
th»adid
] = 
NULL
;

11355 
iä“li¡_
[
th»adid
] = 
NULL
;

11356 
fä“li¡_h—d
[
th»adid
] = 
NULL
;

11357 
fä“li¡_
[
th»adid
] = 
NULL
;

11359 #ifdeà 
REMOVE_REG_COUNT


11362 
œegfe
 = 
IPREG_size
;

11363 
äegfe
 = 
FPREG_size
;

11365 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11367 
	`ä“li¡_š£¹
 (
i
, 
th»adid
);

11368 
cu¼’t
->
±Şm­
[
i
].
Ìeg
 = 0;

11369 
cu¼’t
->
±Şm­
[
i
].
th»adid
 = -1;

11371 
œegfe_ş
[
th»adid
] = 0;

11372 
äegfe_ş
[
th»adid
] = 0;

11373 #iâdeà 
NO_REG_INIT


11375 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11376 
i
 = 0; i < 63; i++)

11378 
cu¼’t
->
Éİm­
[
i
] = 
	`g‘_ä“_»g
 (i, 
th»adid
);

11380 
i
 = 63; i < 
MD_TOTAL_REGS
; i++)

11381 
cu¼’t
->
Éİm­
[
i
] = 0;

11388 
	`»g_couÁ
 ()

11391 
œegfe
 = 0;

11392 
äegfe
 = 0;

11393 
i
, 
j
;

11394 
cÚ‹xt
 *
cu¼’t
;

11396 
j
 = 0; j < 
numcÚ‹xts
; j++)

11398 
cu¼’t
 = 
thecÚ‹xts
[
j
];

11399 
i
 = 1; i < 
p_tÙ®_»gs
; i++)

11401 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 0è&& (cu¼’t->±Şm­[i].Ìeg < 32è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11403 
œegfe
++;

11405 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 31è&& (cu¼’t->±Şm­[i].Ìeg < 63è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11407 
äegfe
++;

11411 ià(
œegfe
 < 31)

11412 
	`·nic
 ("phys iregfile†esshan 31");

11413 ià(
äegfe
 < 31)

11414 
	`·nic
 ("phys fregfile†esshan 31");

11419 
	`š™P¬®ËlSimuÏtiÚ
 ()

11421 
út
, 
cx
, 
j
;

11422 
x
, 
y
, 
z
, 
max
;

11424 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

11425 
thecÚ‹xts
[
út
]->
¡¬t_cyşe
 = 
sim_cyşe
;

11427 
cx
 = 0; cx < 
numcÚ‹xts
; cx++)

11429 
thecÚ‹xts
[
cx
]->
ãtch_num
 = 0;

11430 
thecÚ‹xts
[
cx
]->
ãtch_
 =hecÚ‹xts[cx]->
ãtch_h—d
 = 0;

11431 
thecÚ‹xts
[
cx
]->
ãtch_´ed_PC
 =hecÚ‹xts[cx]->
ãtch_»gs_PC
 =hecÚ‹xts[cx]->
»gs
.
»gs_NPC
;

11432 
cŞËùStStİ
[
cx
] = 0;

11433 
thecÚ‹xts
[
cx
]->
sim_num_š¢
 = 0;

11435 
cŞËùStB¬r›r
 = 0;

11436 
®lFÜked
 = 1;

11483 
	`checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
)

11486 
RUU_¡©iÚ
 *
rs
 = &
cu¼’t
->
LSQ
[
i
];

11487 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

11489 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
)

11493 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

11495 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
è&& (
	`STORE_ADDR_READY
 (&cu¼’t->LSQ[i])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->threadid))

11497 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

11498 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

11499 
md_addr_t
 
qwAddr1
 = 
rs
->
addr
 & ~(
nW
 - 1);

11500 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

11502 ià(
qwAddr1
 =ğ
qwAddr2
)

11504 ià(
cu¼’t
->
LSQ
[
i
].
issued
)

11510 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

11520 
	`£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
)

11522 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11523 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
, 
j
, 
¡ÜeCouÁ
 = 
m_L1WBufCÁ
[
th»adid
];

11524 
wb_mem_’t
 *
lšk
;

11526 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

11527 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

11528 
shiá_right
 = 0;

11531 
£qCÚsR•Ïy
[
cu¼’t
->
aùu®id
]++;

11533 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

11534 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

11535 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

11536 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

11538 ià(!
cu¼’t
->
RUU_num
)

11539 
	`·nic
 ("empty RUU");

11541 
RUU_šdex
 !ğ
»¶ay_šdex
)

11544 ià(!
‹mp_RUU_num
)

11545 
	`·nic
 ("empty RUU");

11548 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

11550 ià(
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& 
F_STORE
)

11552 
width
 = 
	`G‘MemAccWidth
(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

11554 ià((
width
 & (width - 1)è=ğ0 && (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & (width - 1)è=ğ0 && !cu¼’t->LSQ[LSQ_šdex].
isP»ãtch
)

11555 
¡ÜeCouÁ
++;

11557 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

11558 
‹mp_LSQ_num
--;

11560 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11561 
‹mp_RUU_num
--;

11564 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

11567 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

11569 
cu¼’t
->
iissueq_thrd
--;

11570 
iissueq
--;

11571 
iissueq_ş
[
cu¼’t
->
id
]--;

11572 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

11574 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

11576 
cu¼’t
->
fissueq_thrd
--;

11577 
fissueq
--;

11578 
fissueq_ş
[
cu¼’t
->
id
]--;

11579 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

11582 
cu¼’t
->
sim_num_š¢
--;

11583 
sim_num_š¢
--;

11584 
£qCÚsIn¢R•Ïy
[
cu¼’t
->
aùu®id
]++;

11586 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

11588 ià(!
‹mp_LSQ_num
)

11589 
	`·nic
 ("RUU‡nd LSQ out of sync");

11591 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

11593 
cu¼’t
->
iissueq_thrd
--;

11594 
iissueq
--;

11595 
iissueq_ş
[
cu¼’t
->
id
]--;

11596 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

11598 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

11600 
cu¼’t
->
fissueq_thrd
--;

11601 
fissueq
--;

11602 
fissueq_ş
[
cu¼’t
->
id
]--;

11603 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

11606 
i
 = 0; i < 
MAX_ODEPS
; i++)

11608 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

11609 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

11612 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
 || cu¼’t->LSQ[LSQ_šdex].İ =ğ
STQ_C
)

11614 
cu¼’t
->
wa™FÜSTLC
 = 0;

11616 #ifdeà
DIRECTORY


11617 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

11618 if(
m©chnum
)

11620 
m©chnum
 = matchnum-1;

11621 
RUU_¡©iÚ
 *
rs_rob
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

11622 
RUU_¡©iÚ
 *
rs_lsq
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

11624 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
rs
 =ğ
rs_rob
 || cache_dl1[th»adid]->mshr->mshrEÁry[m©chnum].r =ğ
rs_lsq
)

11625 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
ev’t
->
rs
 = 
NULL
;

11627 
RS_li¡
 *
cur
 = 
rs_ÿche_li¡
[
th»adid
][
m©chnum
];

11629 
cur
)

11631 if(
cur
->
rs
 =ğ
rs_rob
 || cur->r =ğ
rs_lsq
)

11632 
cur
->
rs
 = 
NULL
;

11633 
cur
 = cur->
Ãxt
;

11637 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

11638 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

11639 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

11640 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

11641 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

11643 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

11644 
cu¼’t
->
m_shLQNum
--;

11646 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

11648 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

11649 
cu¼’t
->
m_shSQNum
--;

11652 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

11653 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

11654 
cu¼’t
->
LSQ_num
--;

11655 
‹mp_LSQ_num
--;

11660 
i
 = 0; i < 
MAX_ODEPS
; i++)

11662 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

11663 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

11665 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

11666 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

11667 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

11668 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

11669 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11670 
cu¼’t
->
RUU_num
--;

11672 
cu¼’t
->
RUU_
 = 
»¶ay_šdex
;

11675 
lšk
 = 
cu¼’t
->
WBbËTa
;

11677 ià(
lšk
 =ğ
NULL
 || 
¡ÜeCouÁ
 == 0)

11679 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
 = 
NULL
;

11680 ià(
lšk
 !ğ
NULL
)

11682 
lšk
 !ğ
NULL
)

11684 
cu¼’t
->
numOfWBEÁry
--;

11685 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

11686 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

11687 
lšk
 =†šk->
´ev
;

11688 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

11694 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
;

11695 
¡ÜeCouÁ
--;

11696 
¡ÜeCouÁ
)

11698 
cu¼’t
->
WBbËH—d
 = cu¼’t->WBbËH—d->
´ev
;

11699 
¡ÜeCouÁ
--;

11701 
lšk
 = 
cu¼’t
->
WBbËH—d
->
´ev
;

11702 
cu¼’t
->
WBbËH—d
->
´ev
 = 
NULL
;

11704 
lšk
 !ğ
NULL
)

11706 
cu¼’t
->
numOfWBEÁry
--;

11707 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

11708 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

11709 
lšk
 =†šk->
´ev
;

11710 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

11714 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11716 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

11717 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 
sim_cyşe
;

11720 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

11721 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

11724 
md_İcode
 
İ
;

11726 
j
 = 
cu¼’t
->
ãtch_num
;

11727 
i
 = 
cu¼’t
->
ãtch_h—d
; 
j
 > 0;)

11729 
	`MD_SET_OPCODE
 (
İ
, 
cu¼’t
->
ãtch_d©a
[
i
]->
IR
);

11730 
i
 = (˜+ 1è& (
ruu_ifq_size
 - 1);

11731 
j
--;

11733 
cu¼’t
->
ãtch_num
 = 0;

11734 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

11735 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

11743 
	`fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
)

11746 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11747 
RUU_¡©iÚ
 *
rs
;

11748 
i
, 
RUU_šdex
;

11750 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

11752 
RUU_šdex
 !ğ
»¶ay_šdex
)

11754 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11757 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

11759 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
»cov”_š¡
 && !cu¼’t->RUU[RUU_šdex].
com¶‘ed
)

11761 
rs
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

11762 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

11763 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

11764 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

11767 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11771 #ifdeà
SMD_USE_WRITE_BUF


11774 
	`ruu_»Ëa£_wr™ebufãr
 ()

11776 
th»adid
, 
i
, 
út
, 
j
;

11778 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11780 
j
 = 
m_L1WBufCÁ
[
th»adid
];

11781 
út
 = 0;

11782 
i
 = 
m_L1WBuf_h—d
[
th»adid
];

11784 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11785 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11787 
út
 !ğ
j
)

11789 ià(
sim_cyşe
 >ğ
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 && m_L1WBuf[th»adid][i].
wr™eS¹ed
)

11791 if(
m_L1WBuf
[
th»adid
][
i
].
isMiss
 && 
	`MSHR_block_check
(
ÿche_dl1
[th»adid]->
mshr
, m_L1WBuf[th»adid][i].
addr
, cache_dl1[th»adid]->
£t_shiá
))

11793 if(!
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
)

11794 
	`com¶‘eStÜe
(
th»adid
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
	`G‘MemAccWidth
(m_L1WBuf[th»adid][i].
İ
), 0);

11796 
m_L1WBufCÁ
[
th»adid
]--;

11797 
m_L1WBuf_h—d
[
th»adid
] = (m_L1WBuf_h—d[th»adid] + 1è% 
SMD_L1_WBUF_SIZE
;

11798 
i
 = (˜+ 1è% 
SMD_L1_WBUF_SIZE
;

11799 
út
++;

11805 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11806 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11811 
	`ruu_wr™e_äom_Wr™ebufãr
 ()

11813 
th»adid
, 
i
, 
út
;

11814 
»s_‹m¶©e
 *
fu
;

11815 
Ït
 = 0;

11816 
cÚ‹xt
 *
cu¼’t
;

11818 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11820 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11822 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11823 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11825 
út
 = 0, 
i
 = 
m_L1WBuf_h—d
[
th»adid
]; cÁ < 
m_L1WBufCÁ
[th»adid]; cÁ++, i = (˜+ 1è% 
SMD_L1_WBUF_SIZE
)

11827 
Ït
 = 0;

11829 ià(!
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
)

11831 #ifdef 
DCACHE_MSHR


11832 
m©chnum
;

11833 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

11834 if(
m©chnum
)

11836 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

11840 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
m_L1WBuf
[
th»adid
][
i
].
İ
),hreadid);

11842 ià(
fu


11843 #ifdef 
DCACHE_MSHR


11844 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid)

11848 ià(
fu
->
ma¡”
->
busy
)

11849 
	`·nic
 ("functional unit‡lready in use");

11851 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

11852 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

11853 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

11855 ià(
ÿche_dl1
[
th»adid
])

11857 
dÿche_acûss
++;

11858 
cu¼’t
->
dÿche_acûss
++;

11860 
šv®id©eOth”Cache
 = 0;

11862 ià(
COHERENT_CACHE
 && 
®lFÜked
)

11864 if(
m_L1WBuf
[
th»adid
][
i
].
İ
 =ğ
STL_C
 && m_L1WBuf[th»adid][i].
comm™DÚe
)

11866 
Ït
 = 
ÿche_dl1_Ït
;

11870 if(
	`md_v®id_addr
 (
m_L1WBuf
[
th»adid
][
i
].
addr
, 
cu¼’t
->
ma¡”id
))

11871 #ifdeà
DIRECTORY


11872 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid);

11874 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

11878 #ifdef 
DCACHE_MSHR


11879 if(
Ït
 > 
ÿche_dl1_Ït
)

11881 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
Ït
, 0, 
NULL
);

11882 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 1;

11884 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 
sim_cyşe
;

11887 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 1;

11898 #ifdef 
EDA


11900 
	`assignFlßtRegs
 (
cÚ‹xt
 * 
cu¼’t
, 
RUU_¡©iÚ
 *
rs
, 
AÜB
, 
dœty
)

11902 
md_İcode
 
İ
;

11903 
x
;

11904 
md_š¡_t
 
š¡
;

11906 
İ
 = 
rs
->op;

11907 
š¡
 = 
rs
->
IR
;

11909 ià(
AÜB
 == 2)

11911 
İ
)

11913 
ITOFS
:

11914 
ITOFT
:

11915 
CVTTQ
:

11916 
CVTLQ
:

11917 
CPYS
:

11918 
CPYSN
:

11919 
CPYSE
:

11920 
CVTQL
:

11921 ià(
dœty
)

11922 
	`SET_FPR_Q
 (
RC
, 
rs
->
poisÚ
[2].
d©a
);

11924 
	`SET_FPR_Q
 (
RC
, 
rs
->
v®_rc
);

11927 ià(
dœty
)

11928 
	`SET_FPR
 (
RC
, 
rs
->
poisÚ
[2].
d©a
);

11930 
	`SET_FPR
 (
RC
, 
rs
->
v®_rc
);

11936 ià(
AÜB
)

11938 
x
 = 
RB
;

11942 
x
 = 
RA
;

11945 
İ
)

11947 
LDS
:

11948 
LDT
:

11949 
MF_FPCR
:

11951 
STS
:

11952 
STT
:

11953 
ITOFS
:

11954 
ITOFT
:

11955 
CMPTUN
:

11956 
CMPTEQ
:

11957 
CVTQS
:

11958 
CVTQT
:

11959 
CVTLQ
:

11960 
CVTQL
:

11961 
CPYS
:

11962 
CPYSN
:

11963 
CPYSE
:

11964 
MT_FPCR
:

11965 
FTOIT
:

11966 
FTOIS
:

11967 ià(
dœty
)

11969 ià(
AÜB
)

11970 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

11972 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

11976 ià(
AÜB
)

11977 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_rb
);

11979 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_¿
);

11982 
FCMOVEQ
:

11983 
FCMOVGE
:

11984 
FCMOVGT
:

11985 
FCMOVLE
:

11986 
FCMOVLT
:

11987 
FCMOVNE
:

11988 ià(
dœty
)

11990 ià(
AÜB
)

11991 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

11993 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

11997 ià(
AÜB
)

11998 
	`SET_FPR
 (
x
, 
rs
->
v®_rb
);

12000 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_¿
);

12004 ià(
dœty
)

12006 ià(
AÜB
)

12007 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12009 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12013 ià(
AÜB
)

12014 
	`SET_FPR
 (
x
, 
rs
->
v®_rb
);

12016 
	`SET_FPR
 (
x
, 
rs
->
v®_¿
);

12024 
	`ÿlcuÏ‹WrÚgV®ue
 (
RUU_¡©iÚ
 *
rs
)

12026 
i
, 
j
, 
k
, 
x
, 
y
, 
z
;

12027 
n_di¥©ched
;

12028 
md_š¡_t
 
š¡
;

12029 
md_İcode
 
İ
;

12030 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

12031 
md_addr_t
 
rg‘_PC
;

12032 
md_addr_t
 
addr
;

12034 
by‹_t
 
‹mp_by‹
;

12035 
h®f_t
 
‹mp_h®f
;

12036 
wÜd_t
 
‹mp_wÜd
;

12038 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12039 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12041 
md_çuÉ_ty³
 
çuÉ
;

12043 
pŞlu‹d
[66];

12045 
qwÜd_t
 
v®_¿
, 
v®_rb
, 
v®_rc
, 
v®_¿_»suÉ
;

12046 
qwÜd_t
 
»gV®
;

12047 
cÚ‹xt
 *
cu¼’t
, 
ùx
;

12048 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

12050 
ùx
 = *
thecÚ‹xts
[
rs
->
th»adid
];

12051 
cu¼’t
 = &
ùx
;

12052 
	`mem£t
 (&
cu¼’t
->
»gs
, 0,  (current->regs));

12055 
š¡
 = 
rs
->
IR
;

12056 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12057 
cu¼’t
->
»gs
.
»gs_PC
 = 
rs
->
PC
;

12058 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

12060 ià(!
rs
->
poisÚ
[0].
dœty
)

12062 ià(
rs
->
š1
 < 32)

12063 
	`SET_GPR
 (31 - 
rs
->
š1
,„s->
v®_¿
);

12065 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 0, 0);

12069 ià(
rs
->
š1
 < 32)

12070 
	`SET_GPR
 (31 - 
rs
->
š1
,„s->
poisÚ
[0].
d©a
);

12072 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 0, 1);

12074 ià(!
rs
->
poisÚ
[1].
dœty
)

12076 ià(
rs
->
š2
 < 32)

12077 
	`SET_GPR
 (31 - 
rs
->
š2
,„s->
v®_rb
);

12079 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 1, 0);

12083 ià(
rs
->
š2
 < 32)

12084 
	`SET_GPR
 (31 - 
rs
->
š2
,„s->
poisÚ
[1].
d©a
);

12086 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 1, 1);

12090 
İ
)

12092 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12093 
OP
: \

12095 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

12096 
out1
 = 
O1
; 
out2
 = 
O2
; \

12097 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

12098 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

12099 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

12100 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

12101 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

12102 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

12104 
	`SYMCAT
(
OP
,
_IMPL
); \

12106 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12107 
OP
: \

12109 
İ
 = 
MD_NOP_OP
; \

12111 
out1
 = 
NA
; 
out2
 = NA; \

12112 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

12115 
	#CONNECT
(
OP
è

	)

12121 
	#DECLARE_FAULT
(
FAULT
è\

	)

12123 ià(!
cu¼’t
->
¥ec_mode
) \

12124 
çuÉ
 = (
FAULT
); \

12128 
	#THREADID
 (
cu¼’t
->
id
)

	)

12129 
	~"machše.def
"

12132 
İ
 = 
MD_NOP_OP
;

12134 
out1
 = 
NA
;

12135 
out2
 = 
NA
;

12136 
š1
 = 
NA
;

12137 
š2
 = 
NA
;

12138 
š3
 = 
NA
;

12142 ià(
out1
 < 32)

12143 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

12145 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

12147 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

12148 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

12150 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

12152 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
 && !rs->
¥ec_mode
 && !rs->
isWrÚgP©h
)

12154 
rs
->
chªgeS³cMode
 = 0;

12155 ià(
rs
->
®tPC
 !ğrs->
Ãxt_PC
)

12157 ià((
cu¼’t
->
»gs
.
»gs_NPC
 =ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 =ğrs->
Ãxt_PC
))

12159 
rs
->
chªgeS³cMode
 = 1;

12162 ià((
cu¼’t
->
»gs
.
»gs_NPC
 =ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 !ğrs->
Ãxt_PC
))

12164 
rs
->
chªgeS³cMode
 = 2;

12170 ià((
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 =ğrs->
Ãxt_PC
))

12172 
rs
->
chªgeS³cMode
 = 3;

12173 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

12176 ià((
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 !ğrs->
Ãxt_PC
))

12178 
rs
->
chªgeS³cMode
 = 4;

12179 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

12186 ià(
rs
->
—_comp
)

12188 
rs
->
poisÚ
[2].
dœty
 = 1;

12189 
rs
->
poisÚ
[2].
d©a
 = 
addr
;

12191 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_STORE
)

12194 ià(
v®_rc
 !ğ
rs
->val_rc)

12196 
rs
->
poisÚ
[2].
dœty
 = 1;

12197 
rs
->
poisÚ
[2].
d©a
 = 
v®_rc
;

12201 
rs
->
poisÚ
[2].
dœty
 = 0;

12202 
rs
->
poisÚ
[2].
d©a
 = 0;

12204 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

12210 #ifdef 
COLLECT_STAT_STARTUP


12212 
	`f¡fwd_cŞËùSts
()

12214 
b¬r›rCouÁ
 = 0;

12215 
th»adid
;

12217 
	`´štf
("Fast-forwardingillhe collect stats system call\n");

12218 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12221 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12223 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12224 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12227 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12228 
	`·nic
 ("Fast forwardƒrror\n");

12230 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12231 
	`·nic
 ("Fast forwardƒrror\n");

12237 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12239 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12242 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12243 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12245 
md_š¡_t
 
š¡
;

12246 
md_İcode
 
İ
;

12247 
md_addr_t
 
rg‘_PC
;

12248 
md_addr_t
 
addr
;

12249 
is_wr™e
;

12250 
by‹_t
 
‹mp_by‹
;

12251 
h®f_t
 
‹mp_h®f
;

12252 
wÜd_t
 
‹mp_wÜd
;

12254 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12255 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12258 
md_çuÉ_ty³
 
çuÉ
;

12261 #iâdeà
PARALLEL_EMUL


12265 #ifdeà
PARALLEL_EMUL


12266 
sim_num_š¢
++;

12269 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12270 #ifdeà
TARGET_ALPHA


12271 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12275 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12276 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12279 
addr
 = 0;

12280 
is_wr™e
 = 
FALSE
;

12283 
çuÉ
 = 
md_çuÉ_nÚe
;

12286 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12289 
İ
)

12291 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12292 
OP
: \

12293 
	`SYMCAT
(
OP
,
_IMPL
); \

12295 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12296 
OP
: \

12297 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12298 
	#CONNECT
(
OP
)

	)

12299 #undeà
DECLARE_FAULT


12300 
	#DECLARE_FAULT
(
FAULT
è\

	)

12301 { 
çuÉ
 = (
FAULT
); ; }

12302 
	~"machše.def
"

12304 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12307 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12308 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12311 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12313 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12315 
is_wr™e
 = 
TRUE
;

12316 #iâdeà
PARALLEL_EMUL


12317 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12320 #iâdeà
PARALLEL_EMUL


12322 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12327 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12328 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12331 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12332 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12334 #iâdeà
PARALLEL_EMUL


12335 ià((
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12337 if(
cu¼’t
->
b¬r›rR—ched
 == 2)

12339 
b¬r›rCouÁ
++;

12340 
	`´štf
("Cros£dhb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12342 
cu¼’t
->
b¬r›rR—ched
 = 0;

12346 if(
cŞËù_¡©s
)

12348 
	`´štf
("Fšished fa¡-fÜw¬dšg‡ˆb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12358 
	`f¡fwd_fšeAdju¡
 ()

12360 
th»adid
;

12361 
couÁ
 = 0;

12362 
tÙ®IŒ
 = 2;

12363 
´Id
 = 0;

12364 
md_addr_t
 
‹mpPC
[3] = { 0, 0, 0 };

12366 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12369 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12371 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12372 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12375 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12376 
	`·nic
 ("Fast forwardƒrror\n");

12378 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12379 
	`·nic
 ("Fast forwardƒrror\n");

12381 if(
šk_run
)

12383 
cŞËù_¡©s
 = 1;

12388 #ifdef 
EDA


12389 
´Id
 = 0;…rId < 3;…rId++)

12392 
couÁ
 = 0;

12395 
th»adid
 = 0;th»adid < 
numcÚ‹xts
;hreadid = (threadid +‚umcontexts + 1) %‚umcontexts)

12397 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12399 ià(
cu¼’t
->
ma¡”id
 !ğ
´Id
)

12403 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12404 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12406 
couÁ”_t
 
icouÁ
 = 0;

12407 
md_š¡_t
 
š¡
;

12408 
md_İcode
 
İ
;

12409 
md_addr_t
 
rg‘_PC
;

12410 
md_addr_t
 
addr
;

12411 
is_wr™e
;

12412 
by‹_t
 
‹mp_by‹
;

12413 
h®f_t
 
‹mp_h®f
;

12414 
wÜd_t
 
‹mp_wÜd
;

12416 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12417 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12420 
md_çuÉ_ty³
 
çuÉ
;

12424 
icouÁ
++;

12426 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12427 #ifdeà
TARGET_ALPHA


12428 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12432 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12433 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12436 
addr
 = 0;

12437 
is_wr™e
 = 
FALSE
;

12440 
çuÉ
 = 
md_çuÉ_nÚe
;

12443 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12446 
İ
)

12448 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12449 
OP
: \

12450 
	`SYMCAT
(
OP
,
_IMPL
); \

12452 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12453 
OP
: \

12454 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12455 
	#CONNECT
(
OP
)

	)

12456 #undeà
DECLARE_FAULT


12457 
	#DECLARE_FAULT
(
FAULT
è\

	)

12458 { 
çuÉ
 = (
FAULT
); ; }

12459 
	~"machše.def
"

12461 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12464 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12465 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12468 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12470 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12472 
is_wr™e
 = 
TRUE
;

12473 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12476 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12480 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12481 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12484 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12485 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12487 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12490 ià(
couÁ
 =ğ0 && 
cu¼’t
->
¡¬tR—ched
)

12492 
cu¼’t
->
¡¬tR—ched
 = 0;

12494 if(
cu¼’t
->
jobThdId
 != 0)

12495 
	`·nic
 ("Can‚ot be„eached by otherhreads");

12497 
couÁ
++;

12501 if(
couÁ
 == 5)

12504 if(
couÁ
 > 0 && count < 6)

12505 
couÁ
++;

12507 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12511 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12513 if(
cu¼’t
->
b¬r›rR—ched
 =ğ2 && cu¼’t->
jobThdId
 !ğ(
THREADS_PER_JOB
-1))

12514 
	`·nic
("End of barrier„eached with wrong id");

12516 
cu¼’t
->
b¬r›rR—ched
 = 0;

12520 ià(
couÁ
 == 5)

12522 
couÁ
++;

12523 
‹mpPC
[
cu¼’t
->
ma¡”id
] = cu¼’t->
»gs
.
»gs_PC
;

12527 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12529 ià(
cu¼’t
->
jobThdId
 =ğ(
THREADS_PER_JOB
-1))

12536 
	`´štf
("Job %d synchrÚized\n", 
´Id
);

12537 
	`fæush
(
¡dout
);

	@sim-out_nn.c

113 
	~"h—d”s.h
"

115 
	~"maš.h
"

116 
	~"sim-outÜd”.h
"

117 
	~"š¡Mª.h
"

120 
couÁ”_t
 
	gTÙ®B¬r›rs
 = 0;

121 
couÁ”_t
 
	gTÙ®Locks
 = 0;

122 
couÁ”_t
 
	gpu»_num_š¢
 = 0;

123 
couÁ”_t
 
	gtÙ®_num_š¢
 = 0;

124 
couÁ”_t
 
	g»Çme_acûss
 = 0;

125 
couÁ”_t
 
	giq¿m_acûss
 = 0;

126 
couÁ”_t
 
	gfq¿m_acûss
 = 0;

127 
couÁ”_t
 
	grob1_acûss
 = 0;

128 
couÁ”_t
 
	grob2_acûss
 = 0;

129 
couÁ”_t
 
	gb´ed_acûss
 = 0;

130 
couÁ”_t
 
	giwakeup_acûss
 = 0;

131 
couÁ”_t
 
	gfwakeup_acûss
 = 0;

132 
couÁ”_t
 
	gi£ËùiÚ_acûss
 = 0;

133 
couÁ”_t
 
	gf£ËùiÚ_acûss
 = 0;

134 
couÁ”_t
 
	gœegfe_acûss
 = 0;

135 
couÁ”_t
 
	gäegfe_acûss
 = 0;

137 
couÁ”_t
 
	glsq_acûss
 = 0;

138 
couÁ”_t
 
	giÿche_acûss
 = 0;

139 
couÁ”_t
 
	gdÿche_acûss
 = 0;

140 
couÁ”_t
 
	gdÿche2_acûss
 = 0;

141 
couÁ”_t
 
	giÿche2_acûss
 = 0;

143 
couÁ”_t
 
	gŸlu1_acûss
 = 0;

144 
couÁ”_t
 
	gŸlu2_acûss
 = 0;

145 
couÁ”_t
 
	gçlu1_acûss
 = 0;

146 
couÁ”_t
 
	gçlu2_acûss
 = 0;

147 
couÁ”_t
 
	gœesuÉbus_acûss
 = 0;

148 
couÁ”_t
 
	gäesuÉbus_acûss
 = 0;

149 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

150 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

152 
	gpcb_blk_couÁ
 = 0;

155 
couÁ”_t
 
	g¦“pCouÁ
[
MAXTHREADS
];

159 
couÁ”_t
 
	gdu¶iÿtiÚ_acûss
, 
	gDUPLICATION_acûss
[
CLUSTERS
], 
	gdu¶iÿtiÚ_tÙ®
 = 0;

160 
couÁ”_t
 
	gcom·»_acûss
, 
	gCOMPARE_acûss
[
CLUSTERS
], 
	gcom·»_tÙ®
 = 0;

164 
couÁ”_t
 
´ediù_comm™
 (
RUU_¡©iÚ
 *
rs
);

167 
	gb´ed_btb_u£_ma¡”id
 = 0;

168 
šk_run
;

169 
em3d_run
;

171 #ifdeà
DIRECTORY


172 #ifdeà
POPNET


173 
mašPİÃt
();

174 
pİÃtMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
¡Time
, 
msgNo
);

175 
pİÃtBufãrS·û
(
s1
, 
s2
, 
İt
);

177 
couÁ”_t
 
pİÃtMsgNo
;

178 
	gmshr_³ndšg_ev’t
[
MAXTHREADS
];

180 
couÁ”_t
 
	g§me_L1_L2_fifo_fuÎ
;

181 
couÁ”_t
 
	gL1_mshr_fuÎ
;

182 
couÁ”_t
 
	gÏ¡_L1_mshr_fuÎ
[
MAXTHREADS
];

183 
couÁ”_t
 
	gL2_mshr_fuÎ
;

184 
couÁ”_t
 
	gÏ¡_L2_mshr_fuÎ
;

185 
couÁ”_t
 
	gL2_mshr_fuÎ_´eãtch
;

186 
couÁ”_t
 
	gL1_fifo_fuÎ
;

187 
couÁ”_t
 
	gÏ¡_L1_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

188 
couÁ”_t
 
	gDœ_fifo_fuÎ
;

189 
couÁ”_t
 
	gÏ¡_Dœ_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

190 
couÁ”_t
 
	gIÅut_queue_fuÎ
;

191 
couÁ”_t
 
	gÏ¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

192 
couÁ”_t
 
	gOuut_queue_fuÎ
;

193 
couÁ”_t
 
	glock_fifo_fuÎ
;

194 
couÁ”_t
 
	glock_fifo_wrÚg
;

195 
couÁ”_t
 
	glock_fifo_wr™eback
;

196 
couÁ”_t
 
	glock_fifo_b’ef™
;

198 
couÁ”_t
 
	gSÎ_L1_mshr
;

199 
couÁ”_t
 
	gSÎ_L2_mshr
;

200 
couÁ”_t
 
	gSÎ_L1_fifo
;

201 
couÁ”_t
 
	gSÎ_dœ_fifo
;

202 
couÁ”_t
 
	gSÎ_šput_queue
;

203 
couÁ”_t
 
	gSÎ_ouut_queue
;

205 
couÁ”_t
 
	gWM_Miss
;

206 
couÁ”_t
 
	gWM_CËª
;

207 
couÁ”_t
 
	gWM_S
;

208 
couÁ”_t
 
	gWM_EM
;

209 
couÁ”_t
 
	gwr™e_sh¬ed_u£d_cÚf
;

211 
couÁ”_t
 
	gSyncIn¡CacheAcûss
;

212 
couÁ”_t
 
	gTe¡CacheAcûss
;

213 
couÁ”_t
 
	gTe¡SecCacheAcûss
;

214 
couÁ”_t
 
	gS‘CacheAcûss
;

215 
couÁ”_t
 
	gSyncLßdR—dMiss
;

216 
couÁ”_t
 
	gSyncLßdLR—dMiss
;

217 
couÁ”_t
 
	gSyncLßdH™
;

218 
couÁ”_t
 
	gSyncLßdLH™
;

219 
couÁ”_t
 
	gSyncStÜeCH™
;

220 
couÁ”_t
 
	gSyncStÜeCWr™eMiss
;

221 
couÁ”_t
 
	gSyncStÜeCWr™eUpg¿de
;

222 
couÁ”_t
 
	gSyncStÜeH™
;

223 
couÁ”_t
 
	gSyncStÜeWr™eMiss
;

224 
couÁ”_t
 
	gSyncStÜeWr™eUpg¿de
;

225 
couÁ”_t
 
	gB¬StÜeWr™eMiss
;

226 
couÁ”_t
 
	gB¬StÜeWr™eUpg¿de
;

227 
couÁ”_t
 
	gSync_L2_miss
;

230 
couÁ”_t
 
Çck_couÁ”
, 
L1_æ_couÁ”
, 
æ_couÁ”
, 
e_to_m
;

231 
couÁ”_t
 
	gtÙ®MeshHİCouÁ
, 
	gtÙ®MeshHİD–ay
, 
	gtÙ®Ev’tCouÁ
, 
	gtÙ®Ev’tProûssTime
;

232 
couÁ”_t
 
	gtÙ®O±HİCouÁ
, 
	gtÙ®O±HİD–ay
;

233 
couÁ”_t
 
	glßd_lšk_sh¬ed
, 
	glßd_lšk_exşusive
;

234 
tick_t
 
tÙ®misshªdËtime
;

235 
couÁ”_t
 
L1_´eãtch_u£fuÎ
;

236 
tÙ®ev’tcouÁnum
;

237 
tÙ®_L1_´eãtch
;

238 
couÁ”_t
 
wr™e_back_—¾y
;

239 
tÙ®_L1_fœ¡_´eãtch
;

240 
tÙ®_L1_£c_´eãtch
;

241 
tÙ®»qcouÁnum
;

242 
tÙ®misscouÁnum
;

243 
couÁ”_t
 
loÿl_ÿche_acûss
, 
»mÙe_ÿche_acûss
, 
loÿldœeùÜy
, 
»mÙedœeùÜy
;

244 
couÁ”_t
 
švŞve_2_hİs
, 
švŞve_2_hİ_touch
, 
švŞve_2_hİ_wb
, 
švŞve_2_hİs_wm
, 
švŞve_4_hİs_wm
, 
švŞve_2_hİs_upg¿de
, 
švŞve_4_hİs
, 
švŞve_4_hİs_miss
, 
švŞve_2_hİs_miss
, 
švŞve_4_hİs_upg¿de
;

245 
couÁ”_t
 
	gtÙ®S¶™No
, 
	gtÙ®S¶™WM
;

246 
couÁ”_t
 
d©a_´iv©e_wr™e
, 
d©a_´iv©e_»ad
, 
d©a_sh¬ed_wr™e
, 
d©a_sh¬ed_»ad
;

247 
couÁ”_t
 
tÙ®_®l_şo£
, 
tÙ®_®l_®mo¡şo£
, 
tÙ®_nÙ_®l_şo£
, 
tÙ®_p_c_ev’ts
, 
tÙ®_cÚsum”s
, 
tÙ®_·ck‘s_š_ÃighbÜ
, 
tÙ®_·ck‘s_©_cÜÃrs
;

248 
couÁ”_t
 
tÙ®_d©a_cÚsum”s
, 
tÙ®_d©a_şo£
, 
tÙ®_d©a_çr
, 
tÙ®_d©a_©_cÜÃr
;

249 
couÁ”_t
 
sh¬”_num
[
MAXTHREADS
];

250 
av”age_šside_³rûÁ
;

251 
av”age_outside_³rûÁ
;

252 
av”age_outside_abs_³rûÁ
;

253 
av”age_cÜÃr_³rûÁ
;

255 
	gmem_pÜt_Ït
[8];

258 
	#PULL_BACK


	)

260 
	#WATER_NSQUARED
 0

	)

261 
	#LSQ_LATENCY
 4

	)

262 
	#DUP_NO
 2

	)

264 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

265 
	#LSQSIZE
 1024

	)

266 
	#RUUSIZE
 1024

	)

269 
	#_rÙr
(
x
è(xèğ((xè& 1)?(((x)>>1)|0x80000000):((x)>>1)

	)

271 
qu›sûSŒuù
 
	gqu›sûAddrSŒuù
[
CLUSTERS
];

272 
md_addr_t
 
	gTempIn¡r
 = 0x1A2B3C4D;

273 
	gacûss_mem
 = 0;

274 
	gacûss_mem_id
 = -1;

275 
	g¡İ³d_num_th»ads
 = 0;

276 
	gR—dFromWB
 = 0;

277 
couÁ”_t
 
	gÿcheMiss
[
MAXTHREADS
], 
	gh™InOth”Cache
[MAXTHREADS];

278 
couÁ”_t
 
	gm_sqP»ãtchCÁ
 = 0;

279 
	gexecu‹MaxIn¢
;

280 
	gdl2Aùu®lyAcûs£d
, 
	gm¬kedLšeR•Ïûd
;

281 
	gqu›n£Wakeup
[
MAXTHREADS
];

282 
	gsimIn¢
[
MAXTHREADS
];

283 
	gæushImpSts
 = 0;

286 
	gth»adFÜked
[4], 
	g®lFÜked
, 
	g¡ÜeCÚdFa
, 
	gtimeToR‘uº
 = 0;

287 
couÁ”_t
 
	gStÜeCÚd™iÚFaNum
;

288 
	gcŞËùStB¬r›r
, 
	gcŞËùStStİ
[
MAXTHREADS
];

289 
	g»®SimCyşe
;

290 
	gaùu®Proûss
;

291 
	gdi§bË_¿y
 = 1;

292 
	gfu_busy
[
CLUSTERS
], 
	gwb_dÚe
[CLUSTERS], 
	gissue_dÚe
[CLUSTERS], 
	gãtch_dÚe
[CLUSTERS], 
	gcomm™_dÚe
[CLUSTERS], 
	gdi¥©ch_dÚe
[CLUSTERS];

293 
couÁ”_t
 
	gbrRecov”y
[
CLUSTERS
], 
	gexŒaIn¢
[CLUSTERS];

295 #ià 
defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

296 
	g¡®lNoBusSlÙ
;

297 
busSlÙCouÁ
;

298 
	gbusU£d
;

299 
couÁ”_t
 
	gbusOccu·ncy
 = 0;

303 #ifdeà
PULL_BACK


304 
couÁ”_t
 
	gpuÎbackBubbË
[
MAXTHREADS
], 
	gpuÎbackWa™Cyşe
[MAXTHREADS], 
	gpuÎbackDÚeThisCyşe
[MAXTHREADS], 
	gpuÎbackH™P»d
[MAXTHREADS], 
	gdl1MissThisCyşe
[MAXTHREADS], 
	gdl1H™ThisCyşe
[MAXTHREADS], 
	gpuÎbackCyşeCouÁ
[MAXTHREADS],

305 
	gpuÎbackCouÁ
[
MAXTHREADS
];

306 
couÁ”_t
 
	g´edH™H™
[
MAXTHREADS
], 
	g´edH™Miss
[MAXTHREADS], 
	g´edMissH™
[MAXTHREADS], 
	g´edMissMiss
[MAXTHREADS];

309 #ifdeà 
MSHR


310 
	gmshr_size
 = 0;

311 
	gmshr_fuÎ
 = 0;

312 
	gmshr_couÁ
;

314 #ifdeà 
MSHR_DIST


315 
	gmshr_size_di¡
[
MSHRSIZE
];

317 
	gmshr_fuÎ_couÁ
;

319 #ifdeà
EUP_NETWORK


320 
couÁ”_t
 
	gEUP_’Œy_fuÎ
;

323 
	#SYNC_IDEAL


	)

326 
	gm_shLQSize
;

327 
	gm_shSQSize
;

328 
couÁ”_t
 
	gm_tÙ®SÎ
[
MAXTHREADS
];

329 
couÁ”_t
 
	gm_sqLQFuÎ
[
MAXTHREADS
];

330 
couÁ”_t
 
	gm_sqSQFuÎ
[
MAXTHREADS
];

331 
couÁ”_t
 
	gm_RUUFuÎ
[
MAXTHREADS
];

332 
couÁ”_t
 
	gm_»gFuÎ
[
MAXTHREADS
];

333 
couÁ”_t
 
	gm_issueFuÎ
[
MAXTHREADS
];

334 
couÁ”_t
 
	gm_1Miss
[
MAXTHREADS
];

335 
couÁ”_t
 
	gm_ãtchEm±y
[
MAXTHREADS
];

336 
couÁ”_t
 
	gm_STLC
[
MAXTHREADS
];

337 
couÁ”_t
 
	gm_Œ­
[
MAXTHREADS
];

338 
couÁ”_t
 
	gm_LßdSÎMiss
[
MAXTHREADS
];

339 
couÁ”_t
 
	gm_StÜeSÎMiss
[
MAXTHREADS
];

340 
couÁ”_t
 
	gm_LßdSÎH™
[
MAXTHREADS
];

341 
couÁ”_t
 
	gm_StÜeSÎH™
[
MAXTHREADS
];

342 
couÁ”_t
 
	gm_LßdR—lMiss
[
MAXTHREADS
];

343 
couÁ”_t
 
	gm_StÜeR—lMiss
[
MAXTHREADS
];

344 
couÁ”_t
 
	gm_LßdR—lH™
[
MAXTHREADS
];

345 
couÁ”_t
 
	gm_StÜeR—lH™
[
MAXTHREADS
];

346 
couÁ”_t
 
	gm_LßdMiss
[
MAXTHREADS
];

347 
couÁ”_t
 
	gm_StÜeMiss
[
MAXTHREADS
];

348 
couÁ”_t
 
	gm_StÜeUpd©eMiss
[
MAXTHREADS
];

349 
couÁ”_t
 
	gm_upd©e_miss_d•’d_¡¬t
[
MAXTHREADS
];

350 
couÁ”_t
 
	gm_upd©e_miss_æag
[
MAXTHREADS
];

351 
couÁ”_t
 
	gUpd©eD•’dCyşe
;

352 vŞ©
	g´eãtch_æag
 = 1;

353 
couÁ”_t
 
m_upd©e_miss
[
MAXTHREADS
];

354 
lock_wa™šg
[
MAXTHREADS
];

355 
b¬r›r_wa™šg
[
MAXTHREADS
];

357 
couÁ”_t
 
	gm_comm™SÎ
[
MAXTHREADS
];

359 
couÁ”_t
 
	gšv®id©iÚ_»¶ay
[
MAXTHREADS
];

360 
couÁ”_t
 
	glßdLßdR•ÏyCouÁ
[
MAXTHREADS
];

361 
	gšv®id©iÚSÎ
[
MAXTHREADS
], 
	gšv®id©eOth”Cache
;

362 
	gcomm™SÎ
[
MAXTHREADS
];

365 
checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
);

366 
couÁ”_t
 
	glßdRejeùR•Ïy
[
MAXTHREADS
], 
	glßdRejeùCouÁ
[MAXTHREADS], 
	glßdRejeùSt
[MAXTHREADS], 
	gm_sqNumLdR•Ïy
[MAXTHREADS], 
	g»¶ayIndex
[MAXTHREADS];

367 
	g»jeùR‘ryCyşe
 = 3;

368 
couÁ”_t
 
	gldIssueCouÁ
, 
	gld¡RejeùiÚCouÁ
[
MAXTHREADS
];

370 
	g£qCÚsR•Ïy
[
MAXTHREADS
], 
	g£qCÚsIn¢R•Ïy
[MAXTHREADS];

371 
couÁ”_t
 
	gtÙ®RUUsize
[
MAXTHREADS
], 
	gtÙ®LQsize
[MAXTHREADS], 
	gtÙ®SQsize
[MAXTHREADS];

372 
	gavgRUUsize
[
MAXTHREADS
], 
	gavgLQsize
[MAXTHREADS], 
	gavgSQsize
[MAXTHREADS];

374 
m_maxth»ads
;

375 
numTh»ads
[
MAXTHREADS
];

376 
	gcŞËù_¡©s
 = 0;

377 
	gCOHERENT_CACHE
;

378 
	gMSI
;

379 
	g¥ec_b’chm¬ks
;

380 
couÁ”_t
 
num_of_šv®id©iÚs
;

382 
	gcŞËù_b¬r›r_¡©s
[
CLUSTERS
];

383 
	gcŞËù_b¬r›r_»Ëa£
;

385 
	gcŞËù_lock_¡©s
[
CLUSTERS
];

386 
md_addr_t
 
	gLockIn™PC
;

387 
md_addr_t
 
	gÏ¡_pc
;

388 
md_addr_t
 
	gÏ¡_Ï¡_pc
;

389 
	gä“zeCouÁ”
;

390 
	g¡İsim
;

391 
	gç¡fwd
;

394 
	goc_Ü_cc_acûss
 = 2;

395 #ifdef 
EDA


397 
ÿche_t
 *
	gÿche_dl0
[
THREADS_PER_JOB
];

399 
couÁ”_t
 
	g»cov”yCouÁ
[8];

400 
couÁ”_t
 
	gnumBCQEm±y
[8];

403 
couÁ”_t
 
	gš‹rv®CouÁ
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

404 
couÁ”_t
 
	gtÙ®R–CE
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

405 
couÁ”_t
 
	gnÚSktIn¢
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

406 
couÁ”_t
 
	gnumSyncIn¡
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

407 
couÁ”_t
 
	gpu»_sync_š¢
 = 0;

408 
couÁ”_t
 
	gpu»_skt_š¢
 = 0;

411 
	$dl0_ş—nup
 ()

413 
i
;

415 
i
 = 0; i < 
numcÚ‹xts
; i++)

417 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
i
];

418 
jobId
 = 
cu¼’t
->
jobThdId
;

420 ià(
cu¼’t
->
ma¡”id
 != 0)

423 ià(
cu¼’t
->
sim_num_š¢
 > 
š‹rv®CouÁ
[
jobId
])

425 
	`æushS–eùive
 (
ÿche_dl0
[
jobId
], jobId);

426 
š‹rv®CouÁ
[
jobId
] +ğ
DL0_CLEAUP_INTERVAL
;

429 
	}
}

432 
Üaşe_¡Üe_queue
 
	gOSQ
[8][
OSQ_size
];

433 
	gOSQ_num
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

434 
	gOSQ_h—d
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 };

437 
	$fšdOSQ
 (
md_addr_t
 
addr
, 
width
, 
id
)

439 
i
, 
j
;

441 
i
 = (
OSQ_h—d
[
id
] + 
OSQ_size
 - 1è% OSQ_size, 
j
 = 
OSQ_num
[id]; j > 0; j--, i = (i + OSQ_size - 1) % OSQ_size)

443 
bigWidth
 = 
OSQ
[
id
][
i
].
memWidth
 > 
width
 ? OSQ[id][i].memWidth : width;

444 
md_addr_t
 
lAddr
 = 
addr
 & ~(
bigWidth
 - 1);

445 
md_addr_t
 
osqAddr
 = 
OSQ
[
id
][
i
].
memAddr
 & ~(
bigWidth
 - 1);

447 ià(
osqAddr
 =ğ
lAddr
)

448  
i
;

451 
	}
}

453 #ifdeà 
DECOUPLED_PREFETCH


454 
md_addr_t
 
	g´efQueue
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

455 
md_addr_t
 
	g´efQueue_pc
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

456 
couÁ”_t
 
	g´efQueue_š¡Num
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

457 
	g´efQueue_isWrÚgP©h
[
MAXTHREADS
][
PREFETCH_QUEUE_SIZE
];

458 
	g´efQueue_h—d
[
MAXTHREADS
] = 0;

459 
	g´efQueue_
[
MAXTHREADS
] = 0;

460 
	g´efQueue_size
[
MAXTHREADS
] = 0;

461 
	gmemMissC­
 = 0;

462 
couÁ”_t
 
	gtÙ®P»fMissL©’cy
 = 0;

463 
	g´efMissCouÁ
 = 0;

464 
couÁ”_t
 
	gdeıP»fSÎCouÁ
 = 0;

465 
md_addr_t
 
	gÏ¡P»fAddr
 = 0;

471 
	gBRANCH_Q_NUM
;

472 
	gCHECKER_NUMBER
 = 0;

473 
	gPCB_BLK_SIZE
 = 128;

474 
	gINORDER_CHECKER
 = 0;

475 
	gOUTSTANDING_STORE_NUM
 = 128;

476 
	gcheck”VDD
, 
	gcheck”F»q
;

479 
g‘_ä“_»g
 (, );

480 
comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
);

481 
com¶‘eWr™e
 ();

482 
š™P¬®ËlSimuÏtiÚ
 ();

483 
com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
);

484 
com¶‘eStÜe_l
 (
th»adid
, 
md_addr_t
 
addr
, 
width
);

486 
md_çuÉ_ty³
 
WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
);

489 
£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
);

490 
fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
);

494 
li¡–t
 *
	giä“li¡_h—d
[
MAXTHREADS
], *
	giä“li¡_
[MAXTHREADS];

495 
li¡–t
 *
	gfä“li¡_h—d
[
MAXTHREADS
], *
	gfä“li¡_
[MAXTHREADS];

511 
	ghÙ¥Ù_cyşe_§m¶šg_štvl
;

514 
	gmax_š¡s
;

515 
	gmax_b¬r›r
;

518 
	g±¿û_ÃÉ
 = 0;

519 *
	g±¿û_İts
[2];

522 
	gruu_ifq_size
;

525 
	gruu_b¿nch_³ÇÉy
;

528 
	gãtch_¥“d
;

532 *
	g´ed_ty³
;

538 *
	g´ed_ty³2
;

542 cÚ¡ 
	gcombšed2
 = 
FALSE
;

546 cÚ¡ 
	ghi¡_imm
 = 
FALSE
;

554 
	gbimod_ÃÉ
 = 1;

555 
	gbimod_cÚfig
[1] = { 2048 };

558 
	gtwŞev_ÃÉ
 = 4;

559 
	gtwŞev_cÚfig
[4] = { 1, 1024, 8, 
FALSE
 };

562 
	gcomb_ÃÉ
 = 1;

563 
	gcomb_cÚfig
[1] = { 1024 };

566 
	gtwobcgskew_ÃÉ
 = 6;

567 
	gtwobcgskew_cÚfig
[6] = { 32768, 32768, 0, 22,

574 
	gtwobcgskew_ÃÉ2
 = 6;

575 
	gtwobcgskew_cÚfig2
[6] = { 4096, 4096, 0, 12,

581 
	g¿s_size
 = 8;

584 
	gbtb_ÃÉ
 = 2;

585 
	gbtb_cÚfig
[2] = { 512, 4 };

588 
	gruu_decode_width
;

589 
	gruu_issue_width
;

593 
	gruu_šÜd”_issue
;

594 
	gLSQ_NUM_MORE_THAN_TWO
;

597 
	gruu_šşude_¥ec
 = 
TRUE
;

600 
	gruu_comm™_width
;

603 
	gRUU_size
 = 
RUUSIZE
;

606 
	gLSQ_size
 = 
LSQSIZE
;

608 
	gLSQ_size_şu¡”
;

610 #ifdef 
EDA


612 *
	gÿche_dl0_İt
;

615 
	gÿche_dl0_Ït
;

619 *
	gÿche_dl1_İt
;

622 
	gÿche_dl1_Ït
;

625 *
	gÿche_dl2_İt
;

628 
	gÿche_dl2_Ït
;

630 
	gmesh_size
;

632 *
	gÿche_1_İt
;

635 
	gÿche_1_Ït
;

638 *
	gÿche_2_İt
;

641 
	gÿche_2_Ït
;

644 
	gæush_Ú_sysÿÎs
;

647 
	gcom´ess_iÿche_addrs
;

650 
	gmem_ÃÉ
 = 2;

651 
	gmem_Ït
[2] = { 18, 2 };

654 
	gmem_bus_width
;

655 
	gmem_bus_¥“d
;

656 
	gmem_pÜt_num
;

659 *
	g™lb_İt
;

662 *
	gdb_İt
;

665 
	gb_miss_Ït
;

668 
	gÃtwÜk_»ûiv”
;

669 
	gÃtwÜk_cÚæiù
;

672 
	g»s_Ÿlu
 = 0;

675 
	g»s_imuÉ
 = 0;

677 #ifdeà
PORT_PER_BANK


679 
	g»s_membªk
 = 0;

682 
	g»s_mem_pÜt_bªk
 = 0;

684 
	g»s_membªk_şu¡”
;

689 
	g»s_mempÜt
 = 0;

692 
	g»s_å®u
 = 0;

695 
	g»s_åmuÉ
 = 0;

698 
	g»s_Ÿlu_şu¡”
 = 0;

699 
	g»s_imuÉ_şu¡”
 = 0;

700 
	g»s_å®u_şu¡”
 = 0;

701 
	g»s_åmuÉ_şu¡”
 = 0;

704 
	gd©a_width
 = 64;

707 
pow”_»suÉ_ty³
 
pow”
;

711 
	gaùivecÚ‹xts
;

713 
	gth»ad_ãtch
 = 
THREADFETCHLIMIT
;

714 
	gš¡_th»ad_ãtch
 = 
FETCHLIMIT
;

715 
	gth»ad_comm™
 = 0;

717 
	#ICACHEBANKS
 8

	)

719 
	gibªk
 = 0;

722 
	g´iÜ™y¦Ù
 = 0;

723 
	g´iÜ™y
[
MAXTHREADS
];

726 
	gkey
[
MAXTHREADS
];

729 #ifdeà 
PWR_CLUSTER


730 
couÁ”_t
 
	giq¿m_acûss_ş
[
CLUSTERS
];

731 
couÁ”_t
 
	gfq¿m_acûss_ş
[
CLUSTERS
];

732 
couÁ”_t
 
	giwakeup_acûss_ş
[
CLUSTERS
];

733 
couÁ”_t
 
	gfwakeup_acûss_ş
[
CLUSTERS
];

734 
couÁ”_t
 
	gi£ËùiÚ_acûss_ş
[
CLUSTERS
];

735 
couÁ”_t
 
	gf£ËùiÚ_acûss_ş
[
CLUSTERS
];

736 
couÁ”_t
 
	gœegfe_acûss_ş
[
CLUSTERS
];

737 
couÁ”_t
 
	gäegfe_acûss_ş
[
CLUSTERS
];

738 
couÁ”_t
 
	gŸlu1_acûss_ş
[
CLUSTERS
];

739 
couÁ”_t
 
	gŸlu2_acûss_ş
[
CLUSTERS
];

740 
couÁ”_t
 
	gçlu1_acûss_ş
[
CLUSTERS
];

741 
couÁ”_t
 
	gçlu2_acûss_ş
[
CLUSTERS
];

742 
couÁ”_t
 
	gœesuÉbus_acûss_ş
[
CLUSTERS
];

743 
couÁ”_t
 
	gäesuÉbus_acûss_ş
[
CLUSTERS
];

746 
couÁ”_t
 
	glsq_¡Üe_d©a_acûss
 = 0;

748 #ifdeà
DE_CENTRALIZED_POWER_BUG


749 
couÁ”_t
 
	glsq_´eg_acûss_ş
[
LSQ_PARTS
];

750 
couÁ”_t
 
	glsq_wakeup_acûss_ş
[
LSQ_PARTS
];

751 
couÁ”_t
 
	glsq_acûss_ş
[
LSQ_PARTS
];

752 
	gexŒa_lsq
 = 0;

753 
	gexŒa_lsq_couÁ
 = 0;

754 
	gdi¥_¡Üe_¡®l
 = 0;

756 
couÁ”_t
 
	glsq_acûss
 = 0;

757 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

758 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

761 #ifdeà
RES1_FULL_MASK


762 
	giq_ş_fuÎ_mask
;

763 
	gfq_ş_fuÎ_mask
;

764 
	gœeg_ş_fuÎ_mask
;

765 
	gäeg_ş_fuÎ_mask
;

766 
	g»s1_ş_thrd_mask
[
MAXTHREADS
];

769 
couÁ”_t
 
	glsq_tÙ®_pİ_couÁ_cyşe
 = 0;

770 
couÁ”_t
 
	glsq_num_pİ_couÁ_cyşe
 = 0;

771 
couÁ”_t
 
	gœegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

772 
couÁ”_t
 
	gœegfe_num_pİ_couÁ_cyşe
 = 0;

773 
couÁ”_t
 
	gäegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

774 
couÁ”_t
 
	gäegfe_num_pİ_couÁ_cyşe
 = 0;

775 
couÁ”_t
 
	gœesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

776 
couÁ”_t
 
	gœesuÉbus_num_pİ_couÁ_cyşe
 = 0;

777 
couÁ”_t
 
	gäesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

778 
couÁ”_t
 
	gäesuÉbus_num_pİ_couÁ_cyşe
 = 0;

780 #ifdeà
PROCESS_MODEL


781 
	gLa¡Sh¬edAdd»ss
;

782 
	gLa¡Sh¬edSize
;

787 
	#MAX_PCSTAT_VARS
 8

	)

788 
	gpc¡©_ÃÉ
 = 0;

789 *
	gpc¡©_v¬s
[
MAX_PCSTAT_VARS
];

792 #ifdeà
TARGET_PISA


793 
	#IACOMPRESS
(
A
è\

	)

794 (
	gcom´ess_iÿche_addrs
 ? ((((
	gA
è- 
	gcu¼’t
->
	gld_‹xt_ba£
è>> 1è+ cu¼’t->ld_‹xt_ba£è: (
A
))

795 
	#ISCOMPRESS
(
SZ
è\

	)

796 (
com´ess_iÿche_addrs
 ? ((
SZ
) >> 1) : (SZ))

798 
	#IACOMPRESS
(
A
è(A)

	)

799 
	#ISCOMPRESS
(
SZ
è(SZ)

	)

802 
bugcom·t_mode
;

809 
	#FU_IALU_INDEX
 0

	)

810 
	#FU_IMULT_INDEX
 1

	)

811 
	#FU_MEMPORT_INDEX
 2

	)

812 
	#FU_FPALU_INDEX
 3

	)

813 
	#FU_FPMULT_INDEX
 4

	)

816 
»s_desc
 
	gfu_cÚfig
[] = {

824 {
IÁALU
, 1, 1}

834 #ià
defšed
(
MULT_DOES_ADD
)

835 {
IÁALU
, 1, 1},

837 {
IÁMULT
, 3, 1},

838 {
IÁDIV
, 20, 19}

848 {
RdPÜt
, 2, 1},

849 {
WrPÜt
, 2, 1}

859 {
FlßtADD
, 2, 1},

860 {
FlßtCMP
, 2, 1},

861 {
FlßtCVT
, 2, 1}

871 {
FlßtMULT
, 4, 1},

872 {
FlßtDIV
, 12, 12},

873 {
FlßtSQRT
, 24, 24}

881 
	#PRED_BR_CHANGES
 0

	)

882 
	#PRED_JR_CHANGES
 0

	)

883 
	#DYNAMIC_CHANGE
 0

	)

884 
	#METRIC_CHANGE
 0

	)

885 
	#LINEAR_PHASE
 0

	)

887 #ifdeà
ALLOW_ANY_CLUSTER


888 
	#SMALLEST_CONFIG
 
CLUSTERS


	)

890 
	#SMALLEST_CONFIG
 4

	)

892 
	gaùu®_şu¡”s
 = 
CLUSTERS
;

897 #ifdeà
PORT_PER_BANK


898 
	gCACHEPORTS
;

899 
	gRES_CACHEPORTS
;

900 
RES_CACHE_PORTS
;

901 
	gaùu®_ÿch•Üts
;

903 
	gaùu®_ÿch•Üts
;

906 #ifdeà 
CENTRALIZED_STEER


907 
	gdi¥©ch_şu¡”
 = 0;

909 #ifdeà
DISPATCH_CLUSTER


910 
	gdi¥©ch_ş
[
CLUSTERS
];

915 #ifdeà
N_WAY_STEER


916 #iâdeà
FIXED_N_WAY


918 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

922 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

924 
	g¡“r_şu¡”_thrd
[
MAXTHREADS
][
CLUSTERS
];

925 
	gabs_¡“r
 = 0;

926 
¡“r_š™
 ();

928 #ifdeà 
CLUSTER_PRIORITY


929 
	g´iÜ™y_ş_thrd
[
MAXTHREADS
][
CLUSTERS
];

931 #ifdeà 
THRD_PROFILE


932 #ifdeà
mix_8_f


933 
	gn_lim™_thrd
[] = { 8, 8, 8, 8, 8, 4, 2, 2 };

935 #ifdeà
mix_8_i


936 
	gn_lim™_thrd
[] = { 8, 8, 8, 2, 4, 2, 2, 4 };

938 #ifdeà
mix_8_if


939 
	gn_lim™_thrd
[] = { 2, 2, 2, 4, 8, 8, 8, 8 };

941 #ifdeà
mix_8_m


942 
	gn_lim™_thrd
[] = { 2, 2, 2, 2, 8, 8, 8, 8 };

944 #ifdeà
mix_4_i


945 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

947 #ifdeà
mix_4_f


948 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

950 #ifdeà
mix1_4_m


951 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

953 #ifdeà
mix2_4_m


954 
	gn_lim™_thrd
[] = { 2, 2, 8, 8 };

957 
	gn_lim™_thrd
[
MAXTHREADS
];

959 #ifdeà 
CMC_START_N_WAY


960 
	gn_¡¬t_cmc
[
MAXTHREADS
];

961 
	gn_¡¬t_thrd_cmc
[
MAXTHREADS
];

963 
	gn_¡¬t_thrd
[
MAXTHREADS
];

964 
	gÃighbÜ_lim™_thrd
[
MAXTHREADS
];

966 #ifdeà 
N_WAY_ADAPT


967 
	gcŞd_¡¬t
 = 1;

968 
	gc_Şd
[
MAXTHREADS
];

969 
	gn_lim™_thrd_Şd
[
MAXTHREADS
];

970 
	gsim_num_š¢_Şd
[
MAXTHREADS
];

971 
upd©e_n_lim™
 ();

973 #ifdeà
THRD_PRIO_ADAPT


974 
´iÜ™y_n_way
 ();

976 #ifdeà
ADAPT_LIMIT


977 
	gad­t_lim™_thrd
[
MAXTHREADS
];

980 #ifdeà
PDG_THRD_ADAPT


981 
pdg_thrd_n_way
 ();

983 #ifdeà
PDG_THRD_PRIO_ADAPT


984 
pdg_´iÜ™y_n_way
 ();

986 #ifdeà
COMM_OPER_LIMIT


987 #ifdeà
AVG_LIMIT


988 
	gavg_high_lim™
 = 
CLUSTERS
;

989 
	gavg_high_lim™_couÁ
 = 0;

991 
	ghigh_lim™_thrd
[
MAXTHREADS
];

992 
	ghigh_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

993 
	ghigh_lim™_di¡
[
CLUSTERS
 + 1];

996 #ifdeà
PDG_ADAPT


997 
pdg_n_way
 ();

999 
	gn_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

1000 
	gn_lim™_di¡
[
CLUSTERS
 + 1];

1003 #ifdeà 
CLUSTER_PRIORITY


1005 
	g´iÜ™y_ş
[
CLUSTERS
];

1008 #ifdeà 
PRIORITY_STEER


1010 
	g´iÜ™y_ş
[
CLUSTERS
];

1012 #ifdeà 
COMMUNICATION_STEER


1013 #ifdeà
OPER_COMM_RATIO


1014 
	gş_thrd
[
MAXTHREADS
][
CLUSTERS
];

1015 
	gş_num
[
MAXTHREADS
];

1019 #ifdeà 
THRD_WAY_CACHE


1020 
	gn_ÿche_¡¬t_thrd
[
MAXTHREADS
];

1021 
	gn_ÿche_lim™_thrd
[
MAXTHREADS
];

1023 #ifdeà
N_WAY_CACHE_ADAPT


1024 #ifdeà
PER_THREAD


1025 
	gov”®l_n_ÿche_lim™
;

1026 
	g¡¬t_up
;

1027 
	gÿche_dl1_mis£s_Şd
[
MAXTHREADS
];

1028 
	gÿche_dl1_h™s_Şd
[
MAXTHREADS
];

1029 
	gÿche_dl1_miss_¿‹_Şd
[
MAXTHREADS
];

1030 
	gn_ÿche_lim™_Şd
[
MAXTHREADS
];

1031 
	gn_ÿche_lim™_di¡
[
MAXTHREADS
][32];

1032 
	gn_ÿche_lim™_couÁ
;

1034 #ifdeà 
MEM_REF_PER


1035 
	gÿche_miss_¡abË_thrd
[
MAXTHREADS
];

1038 
	gov”®l_n_ÿche_lim™
;

1039 
	g¡¬t_up
 = 1;

1040 
	gÿche_dl1_mis£s_Şd
;

1041 
	gÿche_dl1_h™s_Şd
;

1042 
	gÿche_dl1_miss_¿‹_Şd
;

1043 
	gn_ÿche_lim™_Şd
;

1044 
	gn_ÿche_lim™_di¡
[32];

1045 
	gn_ÿche_lim™_couÁ
;

1047 #ifdeà 
MEM_REF


1048 
	gÿche_miss_¡abË
;

1054 #ifdeà 
MEM_REF_STAT


1055 
	gmem_»f_thrd
[
MAXTHREADS
];

1056 
	gmem_»f
;

1059 #ifdeà
CMP_STEER


1060 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1063 #ifdeà
N_WAY_STEER


1064 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1067 
	gabs_»s_¡“r
 = 0;

1068 
	gnum_¡“r
 = 0;

1070 
	gšt_di¡±h»sh
 = (è(
MIN_INSN_INT
 / 6);

1071 
	gdi¡±abË
[
ITABLESIZE
];

1072 
g_id_t
 
	gdi¡±abËgid
[
ITABLESIZE
];

1073 
	gdi¡pcouÁ”
[
ITABLESIZE
];

1074 
	gdi¡p§m¶es
[
ITABLESIZE
];

1075 
	gdi¡pcouÁ
 = 0;

1076 
	gšt_di¡p
 = 0;

1078 
	gsk³d_br
 = 0;

1079 
	gdi¡p
 = 0;

1080 
	gdi¡p_v®id
 = 0;

1082 
	gš¢16
 = 0;

1083 
	gš¢4
 = 0;

1085 
	gš¢_š‹rv®
 = 
MIN_INSN_INT
;

1086 
	gh_»gs
[
NUM_H_REGS
];

1088 
	gnum_£Á
 = 0;

1089 
	gnum_Œs
 = 1;

1090 
	gÏ¡şu¡”
 = 0;

1091 
	gš¡£qnum
 = 0;

1093 
	g¹h»sh
;

1094 
	gb¹h»sh
;

1095 
	gm¡h»sh
;

1096 
	gim¡h»sh
;

1097 
	gcyùh»sh
;

1098 
	gºoi£
;

1099 
	gbºoi£
;

1100 
	gm¢oi£
;

1101 
	gim¢oi£
;

1103 
	g»gd–ay
 = 0;

1104 
	g»gŒªs
 = 0;

1105 
	gtÙ®Ït
 = 0;

1106 
	gtÙlds
 = 0;

1108 
	gæushes
 = 0;

1109 
	gnum_æushes
 = 0;

1110 
	gä“_şu¡”
 = 0;

1123 
	#CYCNOISE
 10

	)

1124 
	#NUMCYCTHRESH
 5

	)

1126 
	#STATINT
 
MIN_INSN_INT


	)

1128 
	gIIQ_size
 = 
IQSIZE
;

1129 
	gFIQ_size
 = 
FQSIZE
;

1130 
	gIPREG_size
 = 
IPREGSIZE
;

1131 
	gFPREG_size
 = 
FPREGSIZE
;

1133 
	gIIQ_size_şu¡”
;

1134 
	gFIQ_size_şu¡”
;

1135 
	gIPREG_size_şu¡”
;

1136 
	gFPREG_size_şu¡”
;

1139 #ifdeà
RAW


1140 
	g¿wq_size
 = 
RAWSIZE
;

1142 #ifdeà 
COMM_BUFF


1143 
	gtimewšdow
 = 
TIMEWINDOW
;

1146 
	gnÚ_ü™
 = 0;

1147 
	gü™
 = 0;

1148 
	gb2_cÜr
 = 0;

1149 
	gb2_šcÜr
 = 0;

1150 
	gb2_miss
 = 0;

1151 
	gb_cÜr
 = 0;

1152 
	gb_šcÜr
 = 0;

1153 
	gb_miss
 = 0;

1154 
	gbË_gs
[
MAXTHREADS
][
TABLESIZE
];

1155 
	gbË_num
[
MAXTHREADS
][
TABLESIZE
];

1156 
	gbË2_gs
[
MAXTHREADS
][
TABLE2SIZE
];

1157 
	gbË2_num
[
MAXTHREADS
][
TABLE2SIZE
];

1160 
	#DEV_PERIOD
 10

	)

1162 
	#DEDICATED_ADDER
 0

	)

1164 
	#DED_ADDER_LAT_DIFF
 0

	)

1166 
	gadd_®u
 = 0;

1167 
	gnÚadd_®u
 = 0;

1169 
	#PERFECT
 0

	)

1170 
	#PERFECTLAT
 1

	)

1171 
	gnÙw¬m
 = 1;

1172 
	gcyşecheck
;

1176 #ifdeà
RAW


1177 
	g¿wq
;

1178 
	g¿wq_ş
[
CLUSTERS
];

1179 
	g¿wq»ady
 = 0;

1180 
	g¿wq»ady_ş
[
CLUSTERS
];

1181 
	g¿wq_fuÎ
 = 0;

1182 
	g¿wq_¡®l
 = 0;

1184 
	giissueq
;

1185 
	gfissueq
;

1187 #ifdeà
PWR_WAKE


1188 
	gœ—dy
 = 0;

1189 
	gä—dy
 = 0;

1190 
	glsq»ady
 = 0;

1191 
	giuÄ—dy
 = 0;

1192 
	gfuÄ—dy
 = 0;

1193 
	glsquÄ—dy
 = 0;

1194 
	gIREADY_couÁ
 = 0;

1195 
	gFREADY_couÁ
 = 0;

1196 
	gLSQREADY_couÁ
 = 0;

1197 
	gœ—dy_ş
[
CLUSTERS
];

1198 
	gä—dy_ş
[
CLUSTERS
];

1199 
	glsq»ady_ş
[
CLUSTERS
];

1200 
	giuÄ—dy_ş
[
CLUSTERS
];

1201 
	gfuÄ—dy_ş
[
CLUSTERS
];

1204 #ifdeà 
SPLIT_LSQ


1205 
	glsq_ş
[
LSQ_PARTS
];

1206 
	glsquÄ—dy_ş
[
CLUSTERS
];

1211 #ifdeà 
PARTITIONED_LSQ


1212 
	glsq_·¹_bªk
;

1213 
	glsq_·¹_ş
 = 
CLUSTERS
 / 
LSQ_PARTS
;

1214 
	glsq_·¹_thrd
;

1217 
	gœegfe
;

1218 
	gäegfe
;

1219 
	gœegfe_ş
[
CLUSTERS
];

1220 
	g›xŒa_ş
[
CLUSTERS
];

1221 
	gäegfe_ş
[
CLUSTERS
];

1222 
	gãxŒa_ş
[
CLUSTERS
];

1223 
	giissueq_ş
[
CLUSTERS
];

1224 
	gfissueq_ş
[
CLUSTERS
];

1225 
	gnum_¡Üeq
[
CLUSTERS
];

1226 
	gmax_¡Üeq
[
CLUSTERS
];

1227 
	gdi¥_d–ay
 = 0;

1229 
	gšchk
 = 0;

1230 
	gšchk2
 = 0;

1231 
	gšchk3
 = 0;

1232 
couÁ”_t
 
	gšpchk
 = 0;

1233 
	gcycchk
 = 0;

1234 
	gcycchk2
 = 0;

1235 
	gcycchk3
 = 0;

1236 
	gbrchk
 = 0;

1237 
	g»fchk
 = 0;

1238 
	gš¢chk±
 = 0;

1239 
	gcyşechk±
 = 0;

1240 
	gbrchk±
 = 0;

1241 
	g»fchk±
 = 0;

1242 
	gimischk±
 = 0;

1243 
	gmischk±
 = 0;

1244 
	gd–chk±
 = 0;

1245 
	gÜigš®_bsize
 = 0;

1246 
	gÿche_dl1_£t_shiá
 = 0;

1247 
	gpha£
 = 
SMALLEST_CONFIG
;

1248 
	gcyşe_couÁ
[
NUMPHASES
 + 1];

1249 
	g¡abË_couÁ
 = 0;

1250 
	g¡İ_ex¶
 = 0;

1252 
	g›xŒa
;

1253 
	gãxŒa
;

1254 
	giv®id
;

1255 
	gfv®id
;

1257 
	gtÙ_œeg
 = 0;

1258 
	gtÙ_äeg
 = 0;

1259 
	gtÙ_›xt
 = 0;

1260 
	gtÙ_ãxt
 = 0;

1261 
	gtÙ_šÚdup
 = 0;

1262 
	gtÙ_âÚdup
 = 0;

1264 
	gcomm_d–ay
 = 0;

1265 
	gnum_sšgË
 = 0;

1266 
	giss_¡®l
 = 0;

1267 
	gã_¡®l
 = 0;

1268 
	gn_»ady
 = 0;

1269 
	gnum_£mi_f
 = 0;

1270 
	gnum_qw¡®l
 = 0;

1271 
	gš_this
 = 0;

1272 
	gnum_ä“d
 = 0;

1273 
	gtÙ_d–
 = 0;

1274 
	gtÙ_d–_bw
 = 0;

1275 
	gnum_bw_of
 = 0;

1276 
	g¼obš
 = 0;

1278 
	gmš_addr
 = 5600000000ULL;

1279 
	gmax_addr
 = 0;

1281 
	g¡ddev
 = 0;

1282 
	gbª0
 = 0;

1283 
	gbª1
 = 0;

1284 
	gbª2
 = 0;

1285 
	gbª3
 = 0;

1286 
	gbš_acc_tÙ
 = 0;

1287 
	gbš_mis_tÙ
 = 0;

1288 
	gbš_acc
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1289 
	gbš_lds
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1290 
	gbš_tŞ
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1291 
	gbš_mis
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1302 
	gaddr0
, 
	gaddr1
, 
	gaddr2
;

1304 
	#HIST
 4

	)

1305 
	gnum_issued
 = 0;

1306 
	giss_¿‹
[
HIST
];

1307 
	gissue_¿‹
 = 0;

1308 
	gtŞ
[4][3];

1309 
	gtŞ0
 = 0;

1310 
	gtŞ1
 = 0;

1311 
	gtŞ2
 = 0;

1312 
	gtÙ_tŞ
 = 0;

1313 
	gtÙ_tŞ0
 = 0;

1314 
	gtÙ_tŞ1
 = 0;

1315 
	gtÙ_tŞ2
 = 0;

1316 
	gtÙ_tŞ3
 = 0;

1317 
	gbªk_cÚf
 = 0;

1318 
	g¡_bªk_cÚf
 = 0;

1320 #ifdeà
PORT_PER_BANK


1321 
	gmiss_num
[
MAXCACHEPORTS
];

1322 
	g»f_num
[
MAXCACHEPORTS
];

1324 
	gmiss_num
[
CACHEPORTS
];

1325 
	g»f_num
[
CACHEPORTS
];

1327 
	g»f_N
;

1329 
	gdi¥_time
[
MD_TOTAL_REGS
];

1330 
	gliãtime1
 = 0;

1331 
	gliãtime2
 = 0;

1332 
	gwa™time1
 = 0;

1333 
	gwa™time2
 = 0;

1334 
	gcÚswa™time1
 = 0;

1335 
	gcÚswa™time2
 = 0;

1336 
	gnum1
 = 0;

1337 
	gnum2
 = 0;

1338 
	gnum11
 = 0;

1339 
	gnum22
 = 0;

1340 
	ghi¡o
[122];

1342 
	gdi¥_¡®ls
 = 0;

1343 
	gÿu£1
 = 0;

1344 
	gÿu£2
 = 0;

1345 
	gÿu£3
 = 0;

1346 
	gÿu£4
 = 0;

1347 
	gÿu£5
 = 0;

1350 
	gIISSUEQ_couÁ
 = 0;

1351 
	gIISSUEQ_fcouÁ
 = 0;

1352 
	gFISSUEQ_couÁ
 = 0;

1353 
	gFISSUEQ_fcouÁ
 = 0;

1354 
	gIPREG_couÁ
 = 0;

1355 
	gIexŒa_couÁ
 = 0;

1356 
	gIPREG_fcouÁ
 = 0;

1357 
	gFPREG_couÁ
 = 0;

1358 
	gFexŒa_couÁ
 = 0;

1359 
	gFPREG_fcouÁ
 = 0;

1361 
	gœegfe_ş_couÁ
[
CLUSTERS
];

1362 
	g›xŒa_ş_couÁ
[
CLUSTERS
];

1363 
	gäegfe_ş_couÁ
[
CLUSTERS
];

1364 
	gãxŒa_ş_couÁ
[
CLUSTERS
];

1365 
	giissueq_ş_couÁ
[
CLUSTERS
];

1366 
	gfissueq_ş_couÁ
[
CLUSTERS
];

1368 #ifdeà 
SPLIT_LSQ


1369 
	glsq_ş_couÁ
[
LSQ_PARTS
];

1372 
	gno_di¥_şu¡”
 = 0;

1373 
	gdi¥_di¡
[
TOTALFETCHLIMIT
 + 1];

1375 #ifdeà
RAW


1376 
	g¿wq_couÁ
 = 0;

1377 
	g¿wq_fcouÁ
 = 0;

1378 
	g¿wq_ş_couÁ
[
CLUSTERS
];

1379 
	g¿wq_di¡
[
RAWSIZE
 / 
CLUSTERS
];

1382 
	#P_TOTAL_REGS
 
IPREGSIZE
+
FPREGSIZE
+1

	)

1389 
	gp_tÙ®_»gs
 = 
P_TOTAL_REGS
;

1391 #ifdeà
RABMAP


1392 
	gš¡_u£_exŒa
[
P_TOTAL_REGS
];

1393 
	gÉİm­_exŒa
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1394 
	gÉİm­_´eg
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1397 
	gshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1398 
	g¥ecshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1399 
	gshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1400 
	g¥ecshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1401 
	gshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1402 
	g¥ecshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1403 
	gshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1404 
	g¥ecshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1405 
	gshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1406 
	g¥ecshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1407 
	gËv2´ed1
[
LEV2SIZE
];

1408 
	gËv2´ed2
[
LEV2SIZE
];

1409 
	gËv2´ed3
[
LEV2SIZE
];

1410 
	gËv2´ed4
[
LEV2SIZE
];

1411 
	gËv2´ed5
[
LEV2SIZE
];

1413 
	gbªk_´ed_cÜr
 = 0;

1414 
	gbªk_´ed_wrÚg
 = 0;

1415 
	gac_bªk_´ed_cÜr
 = 0;

1416 
	gac_bªk_´ed_wrÚg
 = 0;

1418 #ifdeà
CACHE_MISS_STAT


1419 
	g¥ec_rdb_miss
 = 0;

1420 
	g¥ec_wrb_miss
 = 0;

1421 
	gcouÁ_”rÜ
 = 0;

1425 
pow”_·¿m‘”_cİy
 ();

1427 
bš_š™
 ();

1428 
ÿche_š™
 ();

1429 
p_š™
 ();

1430 
bªk´ed_š™
 ();

1431 
»g_š™
 ();

1432 
ÿche_chªge_cÚfig
 ();

1433 
ršg_ä“
 ();

1434 
ÿche_upd©e
 ();

1435 
compu‹_queue
 ();

1436 
»g_couÁ
 ();

1437 
b´ed_š™
 ();

1440 
sim¶e_ÿche_æush
 (
ÿche_t
 *);

1441 
şu¡”_check
 (
md_addr_t
);

1442 
bªk_upd©e
 (
md_addr_t
, , );

1443 
¡_ršg_Ït
 (
RUU_¡©iÚ
 *);

1444 
ršg_Ït
 (, , , );

1445 
cİy_äom
 ();

1446 
ä“li¡_š£¹
 (, );

1447 
check_RUU_LSQ_m©ch
 ();

1448 
check_»g
 ();

1449 
pow”_ş—r
 ();

1450 
sim_cyc
 ();

1451 
ÿlcuÏ‹_´iÜ™y
 ();

1452 
š£¹_flq
 (, 
md_addr_t
);

1454 #ifdeà
CYCLE_JUMP


1455 
cyşe_jump
 ();

1456 
ršg_ä“_jump
 ();

1458 
g’”®_¡©
 ();

1460 #ifdeà
EVENT_CACHE_UPDATE


1461 
mshr_š™
 ();

1469 
couÁ”_t
 
	gsim_tÙ®_š¢
 = 0;

1472 
couÁ”_t
 
	gsim_num_»fs
 = 0;

1475 
couÁ”_t
 
	gsim_tÙ®_»fs
 = 0;

1478 
couÁ”_t
 
	gsim_num_lßds
 = 0;

1481 
couÁ”_t
 
	gsim_tÙ®_lßds
 = 0;

1484 
couÁ”_t
 
	gsim_num_b¿nches
 = 0;

1487 
couÁ”_t
 
	gsim_tÙ®_b¿nches
 = 0;

1489 #ifdeà
TG


1490 
couÁ”_t
 
	gtg_¿‹
;

1491 
couÁ”_t
 
	gtÙ®_·ck‘s_g’”©iÚ
;

1492 
couÁ”_t
 
	gtÙ®_»ad_·ck‘s_g’”©iÚ
;

1493 
couÁ”_t
 
	gtÙ®_wr™e_·ck‘s_g’”©iÚ
;

1496 
couÁ”_t
 
	gsim_cyşe
 = 0;

1497 
couÁ”_t
 
	gglob®_d©a_·ck‘s_g’”©iÚ
 = 0;

1498 
couÁ”_t
 
	gTÙ®M‘aPack‘sInAÎ
 = 0;

1499 
couÁ”_t
 
	gTÙ®D©aPack‘sInAÎ
 = 0;

1500 
couÁ”_t
 
	gTÙ®SyncD©aPack‘s
 = 0;

1501 
couÁ”_t
 
	gTÙ®SyncM‘aPack‘s
 = 0;

1502 
couÁ”_t
 
	gM‘aPack‘s_1
;

1503 
couÁ”_t
 
	gD©aPack‘s_1
;

1504 
couÁ”_t
 
	gw¬mupEndCyşe
 = 0;

1505 
couÁ”_t
 
	gd©a_·ck‘s_sync
 = 0;

1506 
couÁ”_t
 
	gm‘a_·ck‘s_sync
 = 0;

1507 
couÁ”_t
 
	gd©a_·ck‘s_£ndšg
[300][300];

1508 
couÁ”_t
 
	gm‘a_·ck‘s_£ndšg
[300][300];

1509 
couÁ”_t
 
	glšk_£r_Ït
[300][300];

1510 
couÁ”_t
 
	gm‘a_ev’_»q_şo£
[300];

1511 
couÁ”_t
 
	gm‘a_odd_»q_şo£
[300];

1512 
couÁ”_t
 
	gİtiÿl_d©a_·ck‘s
 = 0;

1513 
couÁ”_t
 
	gİtiÿl_m‘a_·ck‘s
 = 0;

1514 
couÁ”_t
 
	gmesh_d©a_·ck‘s
 = 0;

1515 
couÁ”_t
 
	gmesh_m‘a_·ck‘s
 = 0;

1517 
couÁ”_t
 
	g·¿Î–_sim_cyşe
 = 1;

1518 
	gdi¥2
, 
	gdi¥1
;

1521 
couÁ”_t
 
	gIFQ_couÁ
;

1522 
couÁ”_t
 
	gIFQ_fcouÁ
;

1523 
couÁ”_t
 
	gRUU_couÁ
;

1524 
couÁ”_t
 
	gRUU_fcouÁ
;

1525 
couÁ”_t
 
	gLSQ_couÁ
;

1526 
couÁ”_t
 
	gLSQ_fcouÁ
;

1528 
couÁ”_t
 
	gpæ2H™
 = 0;

1529 
couÁ”_t
 
	gpæ2SecMiss
 = 0;

1530 
couÁ”_t
 
	gpæ2PrimMiss
 = 0;

1532 #ifdeà 
COUNT_LSQ


1533 
	gnÚ_issue_LSQ_couÁ
;

1534 
	gnÚ_issue_LSQ_fcouÁ
;

1538 
couÁ”_t
 
	gsim_šv®id_addrs
;

1545 
	g±¿û_£q
 = 0;

1553 
	g´ed_³rãù
 = 
FALSE
;

1556 *
	gb´ed_¥ec_İt
;

1558 { 
	m¥ec_ID
, 
	m¥ec_WB
, 
	m¥ec_CT
 } 
	gb´ed_¥ec_upd©e
;

1561 
ÿche_t
 *
	gÿche_1
[
CLUSTERS
];

1564 
ÿche_t
 *
	gÿche_2
;

1567 
ÿche_t
 *
	gÿche_dl1
[
CLUSTERS
];

1570 
ÿche_t
 *
	gÿche_dl2
;

1573 
ÿche_t
 *
	g™lb
[
CLUSTERS
];

1576 
ÿche_t
 *
	gdb
[
CLUSTERS
];

1581 #ifdeà
LOAD_PREDICTOR


1583 
b´ed_t
 *
	gld´ed
;

1584 
	gld´ed_¥ec_upd©e
 = 0;

1585 
	gld´ed_couÁ
 = 0, 
	gld´ed_h™
 = 0;

1586 
	gov”_miss
 = 0, 
	gund”_miss
 = 0;

1587 
	gÿche_miss
;

1588 
	gld_miss_thrd
[
MAXTHREADS
];

1590 #ifdeà
PDG


1591 
	gnum_pdg
 = 0;

1592 
	gpdg_di¡
[
MAXTHREADS
 + 1];

1597 
»s_poŞ
 *
	gfu_poŞ
 = 
NULL
;

1600 
¡©_¡©_t
 *
	gpc¡©_¡©s
[
MAX_PCSTAT_VARS
];

1601 
couÁ”_t
 
	gpc¡©_Ï¡v®s
[
MAX_PCSTAT_VARS
];

1602 
¡©_¡©_t
 *
	gpc¡©_sdi¡s
[
MAX_PCSTAT_VARS
];

1606 
	#STATVAL
(
STAT
è\

	)

1607 ((
	gSTAT
)->
	gsc
 =ğ
sc_št
 \

1608 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_št
.
v¬
) \

1609 : ((
STAT
)->
sc
 =ğ
sc_ušt
 \

1610 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_ušt
.
v¬
) \

1611 : ((
STAT
)->
sc
 =ğ
sc_couÁ”
 \

1612 ? *((
STAT
)->
v¬ŸÁ
.
fÜ_couÁ”
.
v¬
) \

1613 : (
·nic
("bad stat class"), 0))))

1615 
	gClu¡”SŒuù
[
CLUSTERS
][CLUSTERS];

1616 
ThrdAcûssP©‹º
[
MAXTHREADS
][
CLUSTERS
];

1617 
FILE
 *
outFe
;

1618 
³riodic_ad­tiÚ
 ();

1620 
	g¡İ_ãtch
 = 0;

1621 
	gÏ¡SimCyşe
 = 0;

1624 
	g¡¬tTakšgSti¡ics
 = 0;

1626 
	#PERFECTBANKPREDICTOR
 1

	)

1629 
	$š™Clu¡”Info
 ()

1631 
i
, 
l
;

1633 
i
 = 0; i < 
CLUSTERS
; i++)

1634 
l
 = 0;† < 
CLUSTERS
;†++)

1635 
Clu¡”SŒuù
[
i
][
l
] = -1;

1637 
	}
}

1639 
	gHavePrš‹d
 = 0;

1642 
	$PrštClu¡”Info
 ()

1644 
gg
, 
¼
;

1646 
¼
 = 0;„¸< 
CLUSTERS
;„r++)

1648 
	`´štf
 ("\n");

1649 
gg
 = 0; gg < 
CLUSTERS
; gg++)

1650 
	`´štf
 ("%d", 
Clu¡”SŒuù
[
¼
][
gg
]);

1652 
	}
}

1657 
	$mem_acûss_Ï‹ncy
 (
blk_sz
)

1659 #ifdeà
MEM_MOD


1660 
chunks
 = (
ÿche_dl1
[0]->
bsize
)*
mem_pÜt_num
/ 
mem_bus_width
;

1662 
chunks
 = (
blk_sz
 + (
mem_bus_width
 - 1)) / mem_bus_width;

1665 
	`as£¹
 (
chunks
 > 0);

1667  ( 
mem_Ït
[0] +

1668 Ğ (()4/
mem_bus_¥“d
è* (
chunks
 - 1)));

1670 
	}
}

1672 #ifdeà
L2_COMM_LAT


1673 
	#L2_COMM_LAT_LOCATION
(
baddr
è(badd¸& (
CLUSTERS
 - 1))

	)

1681 
RUU_¡©iÚ
 *
	grsCacheAcûss
 = 
NULL
;

1682 
FILE
 *
	gå_Œaû
;

1685 
dl1_acûss_â
 (
mem_cmd
 
cmd
,

1686 
md_addr_t
 
baddr
,

1687 
bsize
,

1688 
ÿche_blk_t
 *
blk
,

1689 
tick_t
 
now
,

1690 
th»adid


1691 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1692 , 
şu¡”


1696 
	gÏt
;

1697 
	gwhich_th»ad
, 
	gi
;

1698 
	gæag
 = 0;

1699 
	gwhich_th»ad
 = 
th»adid
;

1701 #ifdeà 
STREAM_PREFETCHER


1703 
Ïunch_¥
 (
baddr
, 
th»adid
);

1706 ià(
	gÿche_dl2
)

1710 #ifdeà
DIRECTORY


1711 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, NULL, 
which_th»ad
);

1713 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, 
which_th»ad
);

1716 
	gdÿche2_acûss
++;

1717 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1718 ià(
	gcmd
 =ğ
R—d
)

1719  
Ït
;

1726 ià(
	gcmd
 =ğ
R—d
)

1727  
mem_acûss_Ï‹ncy
 (
bsize
);

1733 
dl2_´eãtch_aùive
;

1737 
dl2_acûss_â
 (
mem_cmd
 
cmd
,

1738 
md_addr_t
 
baddr
,

1739 
bsize
,

1740 
ÿche_blk_t
 *
blk
,

1741 
tick_t
 
now
,

1742 
th»adid


1743 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1744 , 
şu¡”


1748 #ifdeà 
STREAM_PREFETCHER


1750 ià(!
	gdl2_´eãtch_aùive
)

1752 
š£¹_¥
 (
baddr
, 
th»adid
);

1756 
	gÏt
;

1761 #ifdeà
MEM_MOD


1762 
	g¤c
, 
	gpÜt_num
, 
	gx
, 
	gy
;

1763 
	g¤c
 = (
baddr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

1764 
	gx
 = (
¤c
 /
mesh_size
);

1765 
	gy
 = (
¤c
 %
mesh_size
);

1766 
	gpÜt_num
 = (
x
/(
mesh_size
/2))*2+
y
/(mesh_size/(
mem_pÜt_num
/2));

1767 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

1768 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()4/
mem_bus_¥“d
);

1770 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
);

1772  
	gÏt
;

1780 
1_acûss_â
 (
mem_cmd
 
cmd
,

1781 
md_addr_t
 
baddr
,

1782 
bsize
,

1783 
ÿche_blk_t
 *
blk
,

1784 
tick_t
 
now
,

1785 
th»adid


1786 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1787 , 
şu¡”


1791 
	gÏt
 = 0;

1792 
	gm©chnum
 = 0;

1794 ià(
	gÿche_2
)

1797 
	gÏt
 = 
ÿche_acûss
 (
ÿche_2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL,

1798 #ifdeà
DIRECTORY


1799  
NULL
,

1801 
th»adid
 
IF_L2_COMM_LAT_CL
 (
şu¡”
));

1803 
	gdÿche2_acûss
++;

1804 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1806 ià(
	gcmd
 =ğ
R—d
)

1807  
Ït
;

1809 
·nic
 ("writeso instruction memory‚ot supported");

1814 ià(
	gcmd
 =ğ
R—d
)

1815  
mem_acûss_Ï‹ncy
 (
bsize
);

1817 
·nic
 ("writeso instruction memory‚ot supported");

1819  
	gÏt
;

1824 
2_acûss_â
 (
mem_cmd
 
cmd
,

1825 
md_addr_t
 
baddr
,

1826 
bsize
,

1827 
ÿche_blk_t
 *
blk
,

1828 
tick_t
 
now
,

1829 
th»adid


1830 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1831 , 
şu¡”


1837 
	gÏt
 = 0;

1838 ià(
	gcmd
 =ğ
R—d
)

1840 #ifdeà
MEM_MOD


1841 
¤c
, 
pÜt_num
, 
x
, 
y
;

1842 
	g¤c
 = (
baddr
 >> 
ÿche_dl2
->
£t_shiá
è% 
numcÚ‹xts
;

1843 
	gx
 = (
¤c
 /
mesh_size
);

1844 
	gy
 = (
¤c
 %
mesh_size
);

1845 
	gpÜt_num
 = (
x
/(
mesh_size
/2))*2+
y
/(mesh_size/(
mem_pÜt_num
/2));

1846 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

1847 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()4/
mem_bus_¥“d
);

1848  
	gÏt
;

1850  
mem_acûss_Ï‹ncy
 (
bsize
);

1854 
·nic
 ("writeso instruction memory‚ot supported");

1865 
™lb_acûss_â
 (
mem_cmd
 
cmd
,

1866 
md_addr_t
 
baddr
,

1867 
bsize
,

1868 
ÿche_blk_t
 *
blk
,

1869 
tick_t
 
now
,

1870 
th»adid


1871 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1872 , 
şu¡”


1876 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

1879 
as£¹
 (
phy_·ge_±r
);

1882 *
	gphy_·ge_±r
 = 0;

1885  
	gb_miss_Ït
;

1890 
db_acûss_â
 (
mem_cmd
 
cmd
,

1891 
md_addr_t
 
baddr
,

1892 
bsize
,

1893 
ÿche_blk_t
 *
blk
,

1894 
tick_t
 
now
,

1895 
th»adid


1896 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1897 , 
şu¡”


1901 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

1904 
as£¹
 (
phy_·ge_±r
);

1907 *
	gphy_·ge_±r
 = 0;

1910  
	gb_miss_Ït
;

1916 
	$sim_»g_İtiÚs
 (
İt_odb_t
 *
odb
)

1918 
	`İt_»g_h—d”
 (
odb
,

1923 
	`İt_»g_ušt
 (
odb
, "-max:š¡", "maximum‚umb” oàš¡' tØexecu‹/th»ad", (*è(&
max_š¡s
), 0,

1924  
TRUE
, 
NULL
);

1927 
	`İt_»g_ušt
 (
odb
, "-max:b¬r›r", "maximum‚umb” oàb¬r›r tØexecu‹", (*è(&
max_b¬r›r
), 0,

1928  
TRUE
, 
NULL
);

1931 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:meshsize", "mesh sizoàthÃtwÜk", &
mesh_size
, 4,

1932  
TRUE
, 
NULL
);

1935 
	`İt_»g_¡ršg_li¡
 (
odb
, "-±¿û", "g’”©p‘¿û, i.e., <âame|¡dout|¡d”r> <¿nge>", 
±¿û_İts
, 2, &
±¿û_ÃÉ
, 
NULL
,

1936  
FALSE
, 
NULL
, FALSE);

1939 
	`İt_»g_nÙe
 (
odb
, "####### Network configuration #######\n");

1940 #ifdeà
OPTICAL_INTERCONNECT


1941 
	`İt_»g_nÙe
 (
odb
, "Optical interconnect\n");

1943 #ifdeà
POPNET


1944 
	`İt_»g_nÙe
 (
odb
, "Popnet interconnect\n");

1946 #ifdeà
CONF_BIT


1947 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation\n");

1949 #ifdeà
INV_ACK_CON


1950 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation for Invalidation\n");

1952 #ifdeà
WB_SPLIT


1953 
	`İt_»g_nÙe
 (
odb
, "Write back split\n");

1955 #ifdeà
WB_SPLIT_NET


1956 
	`İt_»g_nÙe
 (
odb
, "Write back split in‚etwork†evel\n");

1958 #ifdeà
PSEUDO_SCHEDULE


1959 
	`İt_»g_nÙe
 (
odb
, "Inorder…robability-based scheduling (IRD)\n");

1961 #ifdeà
PSEUDO_SCHEDULE_REORDER


1962 
	`İt_»g_nÙe
 (
odb
, "Reorder…robability-based scheduling (RRD)\n");

1964 #ifdeà
PSEUDO_SCHEDULE_DATA


1965 
	`İt_»g_nÙe
 (
odb
, "Intelligent delay (IDD)\n");

1967 #ifdeà
L1_L2_CONF


1968 
	`İt_»g_nÙe
 (
odb
, "L1‡nd L2„eply conflict„esolution\n");

1970 #ifdeà
ORDER_NODE


1971 
	`İt_»g_nÙe
 (
odb
, "Ordering by‚ode\n");

1973 #ifdeà
ORDER_ADDR


1974 
	`İt_»g_nÙe
 (
odb
, "Ordering by‡ddr\n");

1976 
	`İt_»g_nÙe
 (
odb
, "######‚etwork configurationƒnd ######\n");

1978 
	`İt_»g_nÙe
 (
odb
,

1994 
	`İt_»g_št
 (
odb
, "-ãtch:ifqsize", "š¡ruùiÚ f‘ch queusiz(š in¡s)", &
ruu_ifq_size
, 16,

1995  
TRUE
, 
NULL
);

1997 
	`İt_»g_št
 (
odb
, "-ãtch:m¶©", "exŒ¨b¿nch mis-´ediùiÚ†©’cy", &
ruu_b¿nch_³ÇÉy
, 7,

1998  
TRUE
, 
NULL
);

2000 
	`İt_»g_št
 (
odb
, "-ãtch:¥“d", "¥“d oàäÚt-’d oàmachš»ÏtivtØexecutiÚ cÜe", &
ãtch_¥“d
, 1,

2001  
TRUE
, 
NULL
);

2005 
	`İt_»g_nÙe
 (
odb
,

2016 
	`İt_»g_¡ršg
 (
odb
, "-b´ed", "b¿nch…»diùÜy³ {nÙk’|k’|³rãù|bimod|2Ëv|comb|2bcgskew}", &
´ed_ty³
, "comb",

2017  
TRUE
, 
NULL
);

2019 
	`İt_»g_æag
 (
odb
, "-b´ed:btb_u£_ma¡”id", "u£ ma¡”id iÀ¶aû oàth»adid wh’ iÁ”aùšg w™h BTB, givšg you…”-´oûs š¡—d oà³r-th»adƒÁr›s", &
b´ed_btb_u£_ma¡”id
, 
TRUE
,

2020  
TRUE
, 
NULL
);

2022 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:bimod", "bimod®…»diùÜ cÚfig (<bË size>)", 
bimod_cÚfig
, 
bimod_ÃÉ
, &bimod_nelt,

2023  
bimod_cÚfig
,

2024  
TRUE
, 
NULL
, 
FALSE
);

2026 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2Ëv", "2-Ëv–…»diùÜ cÚfig " "(<l1size> <l2size> <hi¡_size> <xÜ>)", 
twŞev_cÚfig
, 
twŞev_ÃÉ
, &twolev_nelt,

2027  
twŞev_cÚfig
,

2028  
TRUE
, 
NULL
, 
FALSE
);

2030 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:comb", "combššg…»diùÜ cÚfig (<m‘a_bË_size>)", 
comb_cÚfig
, 
comb_ÃÉ
, &comb_nelt,

2031  
comb_cÚfig
,

2032  
TRUE
, 
NULL
, 
FALSE
);

2035 
	`İt_»g_št
 (
odb
, "-di¥1", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 1", &
di¥1
, 0,

2036  
TRUE
, 
NULL
);

2039 
	`İt_»g_št
 (
odb
, "-di¥2", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 2", &
di¥2
, 0,

2040  
TRUE
, 
NULL
);

2043 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2bcgskew", "2Bc-gskew…»diùÜ cÚfig (<bim_size> <size> <bim_hi¡_size> <g0_hi¡_size> <g1_hi¡_size> <m‘a_hi¡_size>)", 
twobcgskew_cÚfig
, 
twobcgskew_ÃÉ
, &twobcgskew_nelt,

2044  
twobcgskew_cÚfig
,

2045  
TRUE
, 
NULL
, 
FALSE
);

2048 
	`İt_»g_št
 (
odb
, "-b´ed:¿s", "»tuº‡dd»s ¡ack siz(0 fÜ‚Ø»tuº sck)", &
¿s_size
,„as_size,

2049  
TRUE
, 
NULL
);

2051 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:btb", "BTB cÚfig (<num_£ts> <assocŸtiv™y>)", 
btb_cÚfig
, 
btb_ÃÉ
, &btb_nelt,

2052  
btb_cÚfig
,

2053  
TRUE
, 
NULL
, 
FALSE
);

2055 
	`İt_»g_¡ršg
 (
odb
, "-b´ed:¥ec_upd©e", "¥ecuÏtiv´ediùÜ upd©š {ID|WB} (deçuÉ‚Ú-¥ec)", &
b´ed_¥ec_İt
, 
NULL
,

2056  
TRUE
, 
NULL
);

2060 
	`İt_»g_št
 (
odb
, "-combšed2", "u£ 2 combšed…»diùÜs?", &
combšed2
, 
FALSE
,

2061  
TRUE
, 
NULL
);

2063 
	`İt_»g_št
 (
odb
, "-hi¡_imm", "upd©b¿nch hi¡Üy immedŸ‹ly?", &
hi¡_imm
, 
FALSE
,

2064  
TRUE
, 
NULL
);

2068 
	`İt_»g_št
 (
odb
, "-decode:width", "š¡ruùiÚ decodB/W (š¡s/cyşe)", &
ruu_decode_width
, 5,

2069  
TRUE
, 
NULL
);

2071 #iâdeà
REMOVE_MY_CODE


2073 
	`İt_»g_št
 (
odb
, "-thrdf:lim™", "Numb” oàth»ad f‘ch (thrd/cyşe<=8)", &
th»ad_ãtch
, 
THREADFETCHLIMIT
,

2074  
TRUE
, 
NULL
);

2076 
	`İt_»g_št
 (
odb
, "-š¡thrdf:width", "š¡ruùiÚ f‘ch B/w…”h»ad (š¡s/cyşe<=decode_width)", &
š¡_th»ad_ãtch
, 8,

2077  
TRUE
, 
NULL
);

2080 
	`İt_»g_št
 (
odb
, "-»gf:size", "š‹g”…hysiÿÈ»gi¡” fsizÕ” clu¡”)", &
IPREG_size_şu¡”
, 80,

2081  
TRUE
, 
NULL
);

2083 
	`İt_»g_št
 (
odb
, "-å»gf:size", "æßtšg…ošˆphysiÿÈ»gi¡” fsizÕ” clu¡”)", &
FPREG_size_şu¡”
, 80,

2084  
TRUE
, 
NULL
);

2086 
	`İt_»g_št
 (
odb
, "-iqueue:size", "š‹g” queusiz(š¡sèÕ” clu¡”)", &
IIQ_size_şu¡”
, 32,

2087  
TRUE
, 
NULL
);

2089 
	`İt_»g_št
 (
odb
, "-fqueue:size", "æßtšg…ošˆqueusiz(š¡sèÕ” clu¡”)", &
FIQ_size_şu¡”
, 32,

2090  
TRUE
, 
NULL
);

2092 #ifdeà
RAW


2093 
	`İt_»g_št
 (
odb
, "-¿wqueue:size", "»mÙacûs queusiz(š¡s)", &
¿wq_size
, 
RAWSIZE
,

2094  
TRUE
, 
NULL
);

2097 #ifdeà
ISSUE_PER_CLUSTER


2098 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/şu¡”/cyşe)", &
ruu_issue_width
, 4,

2099  
TRUE
, 
NULL
);

2101 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/cyşe)", &
ruu_issue_width
, 4,

2102  
TRUE
, 
NULL
);

2105 
	`İt_»g_æag
 (
odb
, "-issue:šÜd”", "ruÀp–šw™h in-Üd” issue", &
ruu_šÜd”_issue
, 
FALSE
,

2106  
TRUE
, 
NULL
);

2108 
	`İt_»g_æag
 (
odb
, "-issue:wrÚg·th", "issuš¡ruùiÚ dowÀwrÚgƒxecutiÚ…©hs", &
ruu_šşude_¥ec
, 
TRUE
,

2109  
TRUE
, 
NULL
);

2112 
	`İt_»g_št
 (
odb
, "-comm™:width", "š¡ruùiÚ comm™ B/W (š¡s/th»ad/cyşe)", &
ruu_comm™_width
, 4,

2113  
TRUE
, 
NULL
);

2116 
	`İt_»g_št
 (
odb
, "-ruu:size", "»gi¡” upd©un™ (RUUèsize", &
RUU_size
, 16,

2117  
TRUE
, 
NULL
);

2120 
	`İt_»g_št
 (
odb
, "-lsq:size", "lßd/¡Üqueu(LSQèsizÕ” clu¡”)", &
LSQ_size_şu¡”
, 8,

2121  
TRUE
, 
NULL
);

2123 
	`İt_»g_št
 (
odb
, "-lq:size", "lßd queu(LQèsize", &
m_shLQSize
, 8,

2124  
TRUE
, 
NULL
);

2126 
	`İt_»g_št
 (
odb
, "-sq:size", "¡Üqueu(SQèsize", &
m_shSQSize
, 8,

2127  
TRUE
, 
NULL
);

2129 
	`İt_»g_æßt
 (
odb
, "-check”:vdd", "check” vdd", &
check”VDD
, 0.6,

2130  
TRUE
, 
NULL
);

2132 
	`İt_»g_æßt
 (
odb
, "-check”:äeq", "check”„uÂšg‡ˆwh© f¿ùiÚ oàfuÎ f»q", &
check”F»q
, 0.5,

2133  
TRUE
, 
NULL
);

2136 
	`İt_»g_nÙe
 (
odb
,

2146 #ifdef 
EDA


2147 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl0", "l0 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl0_İt
, "dl0:128:32:4:l",

2148  
TRUE
, 
NULL
);

2150 
	`İt_»g_št
 (
odb
, "-ÿche:dl0Ït", "l0 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl0_Ït
, 1,

2151  
TRUE
, 
NULL
);

2154 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl1", "l1 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl1_İt
, "dl1:128:32:4:l",

2155  
TRUE
, 
NULL
);

2157 
	`İt_»g_št
 (
odb
, "-ÿche:dl1Ït", "l1 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl1_Ït
, 1,

2158  
TRUE
, 
NULL
);

2160 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl2", "l2 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe}", &
ÿche_dl2_İt
, "ul2:1024:64:4:l",

2161  
TRUE
, 
NULL
);

2163 
	`İt_»g_št
 (
odb
, "-ÿche:dl2Ït", "l2 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl2_Ït
, 6,

2164  
TRUE
, 
NULL
);

2166 #ifdeà
TG


2167 
	`İt_»g_št
 (
odb
, "-ÿche:tg¿‹", "Œaffiøg’”©iÚ„©e", &
tg_¿‹
, 100,

2168  
TRUE
, 
NULL
);

2170 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:1", "l1 in¡ cachcÚfig, i.e., {<cÚfig>|dl1|dl2|nÚe}", &
ÿche_1_İt
, "il1:512:32:1:l",

2171  
TRUE
, 
NULL
);

2173 
	`İt_»g_nÙe
 (
odb
,

2183 
	`İt_»g_št
 (
odb
, "-ÿche:1Ït", "l1 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_1_Ït
, 1,

2184  
TRUE
, 
NULL
);

2186 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:2", "l2 in¡ruùiÚ cachcÚfig, i.e., {<cÚfig>|dl2|nÚe}", &
ÿche_2_İt
, "dl2",

2187  
TRUE
, 
NULL
);

2189 
	`İt_»g_št
 (
odb
, "-ÿche:2Ït", "l2 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_2_Ït
, 6,

2190  
TRUE
, 
NULL
);

2192 #ifdeà
L2_COMM_LAT


2193 
	`İt_»g_æag
 (
odb
, "-ÿche:l2commÏt", "wh‘h”Øhav¨di¡ribu‹d L2 w™h communiÿtiÚ†©’c› added", &
l2_comm_Ït_’abËd
, 
FALSE
, 
TRUE
, 
NULL
);

2196 
	`İt_»g_æag
 (
odb
, "-ÿche:æush", "æush cache Ú sy¡em c®ls", &
æush_Ú_sysÿÎs
, 
FALSE
, 
TRUE
, 
NULL
);

2198 
	`İt_»g_æag
 (
odb
, "-ÿche:icom´ess", "cÚv”ˆ64-b™ in¡‡dd»s£ tØ32-b™ in¡ƒquiv®’ts", &
com´ess_iÿche_addrs
, 
FALSE
,

2199  
TRUE
, 
NULL
);

2202 
	`İt_»g_št_li¡
 (
odb
, "-mem:Ït", "memÜy‡cûs Ï‹ncy (<fœ¡_chunk> <š‹r_chunk>)", 
mem_Ït
, 
mem_ÃÉ
, &mem_nelt, mem_lat,

2203  
TRUE
, 
NULL
, 
FALSE
);

2205 
	`İt_»g_št
 (
odb
, "-mem:width", "memÜy‡cûs bu width (š by‹s)", &
mem_bus_width
, 8,

2206  
TRUE
, 
NULL
);

2207 
	`İt_»g_æßt
 (
odb
, "-mem:¥“d", "memÜy‡cûs bu ¥“d (š GHz)", &
mem_bus_¥“d
, 1,

2208  
TRUE
, 
NULL
);

2209 
	`İt_»g_št
 (
odb
, "-mem:pÜts", "memÜy‡cûs pÜˆnumb”", &
mem_pÜt_num
, 4,

2210  
TRUE
, 
NULL
);

2213 
	`İt_»g_¡ršg
 (
odb
, "-b:™lb", "š¡ruùiÚ TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
™lb_İt
, "™lb:16:4096:4:l", 
TRUE
, 
NULL
);

2215 
	`İt_»g_¡ršg
 (
odb
, "-b:db", "d©¨TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
db_İt
, "db:32:4096:4:l", 
TRUE
, 
NULL
);

2217 
	`İt_»g_št
 (
odb
, "-b:Ït", "š¡/d©¨TLB mis Ï‹ncy (š cyşes)", &
b_miss_Ït
, 30,

2218  
TRUE
, 
NULL
);

2220 #ifdeà
NET_ALGR


2224 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:»c_®gr", "»ûiv”‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_»ûiv”
, 0,

2225  
TRUE
, 
NULL
);

2226 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:Ãt_®gr", "cÚæiùiÚ‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_cÚæiù
, 0,

2227  
TRUE
, 
NULL
);

2231 
	`İt_»g_št
 (
odb
, "-»s:Ÿlu", "tÙ®‚umb” oàš‹g” ALU' avaabË (³¸şu¡”)", &
»s_Ÿlu_şu¡”
, 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
,

2232  
TRUE
, 
NULL
);

2234 #iâdeà
ALU_MERGE


2235 
	`İt_»g_št
 (
odb
, "-»s:imuÉ", "tÙ®‚umb” oàš‹g” muÉl›r/divid” avaabË (³¸şu¡”)", &
»s_imuÉ_şu¡”
, 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
,

2236  
TRUE
, 
NULL
);

2239 
	`İt_»g_št
 (
odb
, "-maxThrds", "Maximum Numb” oàTh»ad AÎowed", &
m_maxth»ads
, 1, 
TRUE
, 
NULL
);

2241 
	`İt_»g_æag
 (
odb
, "-Coh”’t_Cache", "Coh”’ˆCache", &
COHERENT_CACHE
, 1, 
TRUE
, 
NULL
);

2243 
	`İt_»g_æag
 (
odb
, "-MSI_´Ù", "MSI PrÙocŞ", &
MSI
, 0, 
TRUE
, 
NULL
);

2245 
	`İt_»g_æag
 (
odb
, "-SPEC", "SPEC B’chm¬ks", &
¥ec_b’chm¬ks
, 1, 
TRUE
, 
NULL
);

2247 #ifdeà 
PORT_PER_BANK


2248 
	`İt_»g_št
 (
odb
, "-»s:membªk", "numb” oàd©¨ÿchbªk avaabË (³¸Clu¡”ØCPU)", &
»s_membªk_şu¡”
, 2,

2249  
TRUE
, 
NULL
);

2251 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (³¸bªk)", &
»s_mem_pÜt_bªk
, 1,

2252  
TRUE
, 
NULL
);

2254 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (tØCPU)", &
»s_mempÜt
, 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
,

2255  
TRUE
, 
NULL
);

2258 
	`İt_»g_št
 (
odb
, "-»s:å®u", "tÙ®‚umb” oàæßtšg…ošˆALU' avaabË (³¸şu¡”)", &
»s_å®u_şu¡”
, 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
,

2259  
TRUE
, 
NULL
);

2261 #iâdeà
ALU_MERGE


2262 
	`İt_»g_št
 (
odb
, "-»s:åmuÉ", "tÙ®‚umb” oàæßtšg…ošˆmuÉl›r/divid” avaabË (³¸şu¡”)", &
»s_åmuÉ_şu¡”
, 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
,

2263  
TRUE
, 
NULL
);

2266 
	`İt_»g_¡ršg_li¡
 (
odb
, "-pc¡©", "´of¡©(sèagaš¡exˆaddr' (muÉ u£ ok)", 
pc¡©_v¬s
, 
MAX_PCSTAT_VARS
, &
pc¡©_ÃÉ
, 
NULL
,

2267  
FALSE
, 
NULL
, 
TRUE
);

2269 
	`İt_»g_æag
 (
odb
, "-bugcom·t", "İ”©š backw¬d-com·tibË bug mod(fÜe¡šg oÆy)", &
bugcom·t_mode
, 
FALSE
, 
TRUE
, 
NULL
);

2271 
	`İt_»g_št
 (
sim_odb
, "-hÙ¥Ù:§m¶šg_štvl", "how mªy cyşe b‘w“ÀÿÎ tØupd©e_hÙ¥Ù_¡©s", &
hÙ¥Ù_cyşe_§m¶šg_štvl
,

2272  10000, 
FALSE
, 
NULL
);

2274 
	`İt_»g_št
 (
odb
, "-¿y:di§bËd", "¿y‡ùive", &
di§bË_¿y
, 1,

2275  
TRUE
, 
NULL
);

2277 
	`şu¡”_»g_İtiÚs
 (
odb
);

2278 
	`hÙ¥Ù_»g_İtiÚs
 (
odb
);

2281 #ifdeà
MC


2282 
	`ÃtwÜk_»g_İtiÚs
 (
odb
);

2284 #ifdeà
OPTICAL_INTERCONNECT


2285 
	`İtiÿl_İtiÚs
 (
odb
);

2288 
	}
}

2292 
	$sim_check_İtiÚs
 (
İt_odb_t
 *
odb
,

2293 
¬gc
, **
¬gv
)

2295 
Çme
[128], 
c
;

2296 
n£ts
, 
bsize
, 
assoc
;

2298 
i
;

2299 
cÚ‹xt
 *
cu¼’t
;

2301 #ifdeà
LOAD_PREDICTOR


2303 
ld´ed
 = 
	`b´ed_ü—‹
 (
LDP»d2b™
,

2304  
bimod_cÚfig
[0],

2316 #ifdeà
ISU_N2


2317 ià(
ruu_issue_width
 < 1)

2318 
	`çl
 ("issue width must be…ositive‚on-zero");

2320 ià(
ruu_issue_width
 < 1 || (ruu_issue_width & (ruu_issue_width - 1)) != 0)

2321 
	`çl
 ("issue width must be…ositive‚on-zero‡nd‡…ower ofwo");

2326 
IIQ_size
 = 
IIQ_size_şu¡”
;

2327 
FIQ_size
 = 
FIQ_size_şu¡”
;

2328 
IPREG_size
 = 
IPREG_size_şu¡”
;

2329 
FPREG_size
 = 
FPREG_size_şu¡”
;

2331 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2333 ià(
IIQ_size
 < 1)

2334 
	`çl
 ("integer queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2336 ià(
FIQ_size
 < 1)

2337 
	`çl
 ("floating…oint queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2339 #iâdeà
REG_RENAME_CONFIGUARE


2340 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2343 ià(
IPREG_size
 < 1)

2344 
	`çl
 ("integer…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2346 ià(
FPREG_size
 < 1)

2347 
	`çl
 ("floating…oint…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2349 #ifdeà
RAW


2350 
¿wq_size
 = 
IIQ_size
;

2351 ià(
¿wq_size
 < 1 ||„awq_siz> 
RAWSIZE
)

2352 
	`çl
 ("»mÙacûs queu(%dèmu¡ bpos™ivnÚ-z”Øªd†es thª RAWSIZE (%d)", 
¿wq_size
, 
RAWSIZE
);

2355 ià(
ruu_comm™_width
 < 1)

2356 
	`çl
 ("commit width must be…ositive‚on-zero");

2358 ià(
RUU_size
 < 2 || (RUU_siz> 
RUUSIZE
))

2359 
	`çl
 ("RUU sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
RUUSIZE
);

2361 
LSQ_size
 = 
LSQ_size_şu¡”
;

2363 ià(
LSQ_size
 < 2 || (LSQ_siz> 
LSQSIZE
))

2364 
	`çl
 ("LSQ sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
LSQSIZE
);

2366 #ifdef 
EDA


2368 ià(!
	`my¡ricmp
 (
ÿche_dl0_İt
, "none"))

2370 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2371 
ÿche_dl0
[
i
] = 
NULL
;

2375 ià(
	`ssÿnf
 (
ÿche_dl0_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2376 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2378 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

2380 
ÿche_dl0
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2381  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2382 
dl0_acûss_â
, 
ÿche_dl0_Ït
, 
i
);

2383 #ifdeà
CACHE_SET_STAT


2384 ià(
ÿche_dl0
[
i
]->
n£ts
 > 
MAXCACHESET
)

2385 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2392 ià(!
	`my¡ricmp
 (
ÿche_dl1_İt
, "none"))

2395 ià(
	`¡rcmp
 (
ÿche_dl2_İt
, "none"))

2396 
	`çl
 ("the†1 data cache must defined ifhe†2 cache is defined");

2397 
ÿche_dl2
 = 
NULL
;

2401 ià(
	`ssÿnf
 (
ÿche_dl1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2402 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2404 
i
 = 0; i < 
CLUSTERS
; i++)

2406 
ÿche_dl1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2407  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2408 
dl1_acûss_â
, 
ÿche_dl1_Ït
, 
i
);

2410 #ifdeà
CACHE_SET_STAT


2411 ià(
ÿche_dl1
[
i
]->
n£ts
 > 
MAXCACHESET
)

2412 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2415 
ÿche_dl1_£t_shiá
 = 
ÿche_dl1
[0]->
£t_shiá
;

2416 
Üigš®_bsize
 = 
bsize
;

2418 ià(!
	`my¡ricmp
 (
ÿche_dl2_İt
, "none"))

2419 
ÿche_dl2
 = 
NULL
;

2422 ià(
	`ssÿnf
 (
ÿche_dl2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2423 
	`çl
 ("bad†2 D-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2425 
ÿche_dl2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2426  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2427 
dl2_acûss_â
, 
ÿche_dl2_Ït
, -1);

2432 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "none"))

2434 
ÿche_1
[0] = 
NULL
;

2437 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2438 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2439 
ÿche_2
 = 
NULL
;

2441 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl1"))

2444 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2445 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2446 
ÿche_2
 = 
NULL
;

2448 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl2"))

2450 ià(!
ÿche_dl2
)

2451 
	`çl
 ("I-cache†1 cannot‡ccess D-cache†2‡s it's undefined");

2452 
ÿche_1
[0] = 
ÿche_dl2
;

2455 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2456 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2457 
ÿche_2
 = 
NULL
;

2461 ià(
	`ssÿnf
 (
ÿche_1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2462 
	`çl
 ("bad†1 I-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2464 
i
 = 0; i < 
CLUSTERS
; i++)

2466 
ÿche_1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2467  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2468 
1_acûss_â
, 
ÿche_1_Ït
, 
i
);

2471 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "none"))

2472 
ÿche_2
 = 
NULL
;

2473 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "dl2"))

2475 ià(!
ÿche_dl2
)

2476 
	`çl
 ("I-cache†2 cannot‡ccess D-cache†2‡s it's undefined");

2477 
ÿche_2
 = 
ÿche_dl2
;

2481 ià(
	`ssÿnf
 (
ÿche_2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2482 
	`çl
 ("bad†2 I-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2484 
ÿche_2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2485  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2486 
2_acûss_â
, 
ÿche_2_Ït
, -1);

2491 
i
 = 0; i < 
CLUSTERS
; i++)

2493 ià(
	`ssÿnf
 (
™lb_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2494 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2496 
™lb
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2497   (
md_addr_t
), 
assoc
,

2498 
	`ÿche_ch¬2pŞicy
 (
c
), 
™lb_acûss_â
,

2499  1, 
i
);

2502 
i
 = 0; i < 
CLUSTERS
; i++)

2504 ià(
	`ssÿnf
 (
db_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2505 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2506 
db
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2507   (
md_addr_t
), 
assoc
,

2508 
	`ÿche_ch¬2pŞicy
 (
c
), 
db_acûss_â
,

2509  1, 
i
);

2512 ià(
ÿche_dl1_Ït
 < 1)

2513 
	`çl
 ("l1 data cache†atency must be greaterhan zero");

2515 ià(
ÿche_dl2_Ït
 < 1)

2516 
	`çl
 ("l2 data cache†atency must be greaterhan zero");

2518 ià(
ÿche_1_Ït
 < 1)

2519 
	`çl
 ("l1 instruction cache†atency must be greaterhan zero");

2521 ià(
ÿche_2_Ït
 < 1)

2522 
	`çl
 ("l2 instruction cache†atency must be greaterhan zero");

2524 ià(
mem_ÃÉ
 != 2)

2525 
	`çl
 ("bad memory‡ccess†atency (<first_chunk> <inter_chunk>)");

2527 ià(
mem_Ït
[0] < 1 || mem_lat[1] < 1)

2528 
	`çl
 ("all memory‡ccess†atencies must be greaterhan zero");

2530 ià(
mem_bus_width
 < 1 || (mem_bus_width & (mem_bus_width - 1)) != 0)

2531 
	`çl
 ("memory bus width must be…ositive‚on-zero‡nd‡…ower ofwo");

2533 ià(
b_miss_Ït
 < 1)

2534 
	`çl
 ("TLB miss†atency must be greaterhan zero");

2536 
»s_Ÿlu
 = 
»s_Ÿlu_şu¡”
 * 
CLUSTERS
;

2538 ià(
»s_Ÿlu
 < 1)

2539 
	`çl
 ("number of integer ALU's must be greaterhan zero");

2540 ià(
»s_Ÿlu
 > 
MAX_INSTS_PER_CLASS
)

2541 
	`çl
 ("number of integer ALU's must be <= MAX_INSTS_PER_CLASS");

2543 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
 = 
»s_Ÿlu
;

2545 #iâdeà
ALU_MERGE


2546 
»s_imuÉ
 = 
»s_imuÉ_şu¡”
 * 
CLUSTERS
;

2547 ià(
»s_imuÉ
 < 1)

2548 
	`çl
 ("number of integer multiplier/dividers must be greaterhan zero");

2549 ià(
»s_imuÉ
 > 
MAX_INSTS_PER_CLASS
)

2550 
	`çl
 ("number of integer mult/div's must be <= MAX_INSTS_PER_CLASS");

2551 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
 = 
»s_imuÉ
;

2554 #ifdeà
PORT_PER_BANK


2555 
»s_membªk
 = 
»s_membªk_şu¡”
 * 
CLUSTERS
;

2557 ià(
»s_membªk
 < 1)

2558 
	`çl
 ("number of memory system banks must be greaterhan zero");

2561 #ifdeà 
PARTITIONED_LSQ


2562 
lsq_·¹_bªk
 = 
»s_membªk
 / 
LSQ_PARTS
;

2564 ià(
»s_mem_pÜt_bªk
 < 1)

2565 
	`çl
 ("number of memory system…orts/bank must be greaterhan zero");

2566 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAX_INSTS_PER_CLASS
)

2567 
	`çl
 ("number ofotal memory system…orts must be <= MAX_INSTS_PER_CLASS");

2568 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAXCACHEPORTS
)

2569 
	`çl
 ("number ofotal memory system…orts must be <= MAXCACHEPORTS");

2570 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

2572 ià(
»s_mempÜt
 < 1)

2573 
	`çl
 ("number of memory system…orts must be greaterhan zero");

2574 ià(
»s_mempÜt
 > 
MAX_INSTS_PER_CLASS
)

2575 
	`çl
 ("number of memory system…orts must be <= MAX_INSTS_PER_CLASS");

2576 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
;

2579 
»s_å®u
 = 
»s_å®u_şu¡”
 * 
CLUSTERS
;

2580 ià(
»s_å®u
 < 1)

2581 
	`çl
 ("number of floating…oint ALU's must be greaterhan zero");

2582 ià(
»s_å®u
 > 
MAX_INSTS_PER_CLASS
)

2583 
	`çl
 ("number of floating…oint ALU's must be <= MAX_INSTS_PER_CLASS");

2584 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
 = 
»s_å®u
;

2586 #iâdeà
ALU_MERGE


2587 
»s_åmuÉ
 = 
»s_åmuÉ_şu¡”
 * 
CLUSTERS
;

2588 ià(
»s_åmuÉ
 < 1)

2589 
	`çl
 ("number of floating…oint multiplier/dividers must be > zero");

2590 ià(
»s_åmuÉ
 > 
MAX_INSTS_PER_CLASS
)

2591 
	`çl
 ("number of FP mult/div's must be <= MAX_INSTS_PER_CLASS");

2592 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
 = 
»s_åmuÉ
;

2594 #ifdeà
TOKENB


2595 ià(
tok’B
)

2596 
	`tc_š™
 (
MAXTHREADS
, 
ÿche_dl2
->
assoc
 * cache_dl2->
n£ts
, cache_dl2->
bsize
);

2597 ià(
LSQ_PARTS
 !ğ(
n_way_ÿche
 * 
MAXTHREADS
))

2598 
	`çl
 ("This only supports 1 cache…erhread");

2600 #ifdeà
MC


2601 
	`ÃtwÜk_check_İtiÚs
 ();

2603 
	`şu¡”_check_İtiÚs
 ();

2604 
	`š™_lšk_desü_bËs
 ();

2605 
	`š™_routšg_bË
 ();

2606 
	`¬b™¿ry_routšg_bË_š™
 ();

2607 
	}
}

2611 
	$sim_aux_cÚfig
 (
FILE
 * 
¡»am
)

2614 
	}
}

2617 
couÁ”_t
 
	gtÙ®Upg¿des
 = 0;

2618 
couÁ”_t
 
	gtÙ®N‘Upg¿des
 = 0;

2619 
couÁ”_t
 
	gtÙ®Upg¿desU§bË
 = 0;

2620 
couÁ”_t
 
	gtÙ®Upg¿desB’eficŸl
 = 0;

2621 
couÁ”_t
 
	glock_ÃtwÜk_acûss
 = 0;

2623 
couÁ”_t
 
	gtÙ®N‘Wr™es
 = 0;

2624 
couÁ”_t
 
	gtÙ®Wr™esU§bË
 = 0;

2625 
couÁ”_t
 
	gtÙ®Wr™esB’eficŸl
 = 0;

2626 
couÁ”_t
 
	gexşusive_somewh”e
 = 0;

2627 
couÁ”_t
 
	gäÚt_wr™e
 = 0;

2628 #ifdeà
EUP_NETWORK


2629 
couÁ”_t
 
	gEUP_’Œy_fuÎ
 = 0;

2632 
couÁ”_t
 
	gtÙ®L2Wr™eReqH™s
 = 0;

2633 
couÁ”_t
 
	gtÙ®L2Wr™eReqNoSh¬”
 = 0;

2634 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœty
 = 0;

2635 
couÁ”_t
 
	gd–ayL2Wr™eReqDœty
 = 0;

2636 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬ed
 = 0;

2637 
couÁ”_t
 
	gd–ayL2Wr™eReqSh¬ed
 = 0;

2639 
couÁ”_t
 
	gtÙ®L2R—dReqH™s
 = 0;

2640 
couÁ”_t
 
	gtÙ®L2R—dReqNoSh¬”
 = 0;

2641 
couÁ”_t
 
	gtÙ®L2R—dReqDœty
 = 0;

2642 
couÁ”_t
 
	gd–ayL2R—dReqDœty
 = 0;

2644 
couÁ”_t
 
	gtÙ®L2R—dReqSh¬ed
 = 0;

2645 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬edWT
 = 0;

2646 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœtyWT
 = 0;

2647 
couÁ”_t
 
	gtÙ®L2R—dReqDœtyWT
 = 0;

2649 
couÁ”_t
 
	gtÙ®L1LšeP»fU£
 = 0;

2650 
couÁ”_t
 
	gtÙ®L1LšeP»fNoU£
 = 0;

2651 
couÁ”_t
 
	gtÙ®L1LšeR—dU£
 = 0;

2652 
couÁ”_t
 
	gtÙ®L1LšeR—dNoU£
 = 0;

2653 
couÁ”_t
 
	gtÙ®L1LšeWr™eU£
 = 0;

2654 
couÁ”_t
 
	gtÙ®L1LšeWr™eNoU£
 = 0;

2656 
couÁ”_t
 
	gtÙ®L1LšeExlU£d
 = 0;

2657 
couÁ”_t
 
	gtÙ®L1LšeExlInv
 = 0;

2658 
couÁ”_t
 
	gtÙ®L1LšeExlDrİ
 = 0;

2660 
couÁ”_t
 
	gtÙ®L2ReqPrimMiss
 = 0;

2661 
couÁ”_t
 
	gtÙ®L2ReqSecMiss
 = 0;

2662 
couÁ”_t
 
	gtÙ®L2ReqH™
 = 0;

2663 
couÁ”_t
 
	gtÙ®L2ReqInT¿ns
 = 0;

2664 
couÁ”_t
 
	gtÙ®L2OwnReqInT¿ns
 = 0;

2665 
couÁ”_t
 
	gtÙ®L2ReqInInv
 = 0;

2667 
couÁ”_t
 
	gd–ayL2ReqPrimMiss
 = 0;

2668 
couÁ”_t
 
	gd–ayL2ReqSecMiss
 = 0;

2669 
couÁ”_t
 
	gd–ayL2ReqH™
 = 0;

2670 
couÁ”_t
 
	gd–ayL2ReqInT¿ns
 = 0;

2671 
couÁ”_t
 
	gd–ayL2OwnReqInT¿ns
 = 0;

2672 
couÁ”_t
 
	gd–ayL2ReqInInv
 = 0;

2674 
couÁ”_t
 
	gtÙ®Wr™eReq
 = 0;

2675 
couÁ”_t
 
	gtÙ®Wr™eReqInv
 = 0;

2676 
couÁ”_t
 
	gtÙ®Wr™eD–ay
 = 0;

2677 
couÁ”_t
 
	gtÙ®Wr™eInvD–ay
 = 0;

2678 
couÁ”_t
 
	gtÙ®Upg¿deReq
 = 0;

2679 
couÁ”_t
 
	gtÙ®Upg¿deReqInv
 = 0;

2680 
couÁ”_t
 
	gtÙ®Upg¿deD–ay
 = 0;

2681 
couÁ”_t
 
	gtÙ®Upg¿deInvD–ay
 = 0;

2683 
couÁ”_t
 
	gcouÁNÚAÎocR—dE¬ly
 = 0;

2687 
	$sim_»g_¡©s
 (
¡©_sdb_t
 *
sdb
)

2689 
i
, 
j
;

2692 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg cÚsi¡’cy„•Ïy in¡ruùiÚs", &
sim_num_š¢
, sim_num_š¢, 
NULL
);

2693 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
pu»_num_š¢
,…u»_num_š¢, 
NULL
);

2694 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
tÙ®_num_š¢
,Ù®_num_š¢, 
NULL
);

2695 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®B¬r›rs", "tÙ®‚umb” oàb¬r›rs", &
TÙ®B¬r›rs
, 0, 
NULL
);

2696 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®Locks", "tÙ®‚umb” oàlocks", &
TÙ®Locks
, 0, 
NULL
);

2697 #ifdef 
EDA


2698 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_sync_š¢", "tÙ®‚umb” oàmašh»ad synøš¡ruùiÚ comm™‹d", &
pu»_sync_š¢
,…u»_sync_š¢, 
NULL
);

2699 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_skt_š¢", "tÙ®‚umb” oàmašh»ad skˆš¡ruùiÚ comm™‹d", &
pu»_skt_š¢
,…u»_skt_š¢, 
NULL
);

2701 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_»fs", "tÙ®‚umb” oàlßd ªd stÜe comm™‹d", &
sim_num_»fs
, 0, 
NULL
);

2702 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_lßds", "tÙ®‚umb” oàlßd comm™‹d", &
sim_num_lßds
, 0, 
NULL
);

2703 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_num_¡Ües", "tÙ®‚umb” oà¡Üe comm™‹d", "sim_num_»f - sim_num_lßds", 
NULL
);

2704 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_b¿nches", "tÙ®‚umb” oàb¿nche comm™‹d", &
sim_num_b¿nches
, 0, 
NULL
);

2705 
	`¡©_»g_št
 (
sdb
, "sim_–­£d_time", "tÙ® simuÏtiÚimš secÚds", &
sim_–­£d_time
, 0, 
NULL
);

2706 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_š¡_¿‹", "simuÏtiÚ s³ed (š in¡s/£c)", "sim_num_š¢ / sim_–­£d_time", 
NULL
);

2707 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_š¢", "tÙ®‚umb” oàš¡ruùiÚ execu‹d", &
sim_tÙ®_š¢
, 0, 
NULL
);

2708 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_»fs", "tÙ®‚umb” oàlßd ªd stÜe execu‹d", &
sim_tÙ®_»fs
, 0, 
NULL
);

2709 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_lßds", "tÙ®‚umb” oàlßd execu‹d", &
sim_tÙ®_lßds
, 0, 
NULL
);

2710 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_tÙ®_¡Ües", "tÙ®‚umb” oà¡Üe execu‹d", "sim_tÙ®_»f - sim_tÙ®_lßds", 
NULL
);

2711 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_b¿nches", "tÙ®‚umb” oàb¿nche execu‹d", &
sim_tÙ®_b¿nches
, 0, 
NULL
);

2713 
	`¡©_»g_couÁ”
 (
sdb
, "sim_cyşe", "tÙ® simuÏtiÚimš cyşes", &
sim_cyşe
, 0, 
NULL
);

2714 
	`¡©_»g_couÁ”
 (
sdb
, "»®SimCyşe", "", &
»®SimCyşe
, 0, 
NULL
);

2715 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_IPC", "š¡ruùiÚ ³¸cyşe", "sim_num_š¢ / sim_cyşe", 
NULL
);

2716 
	`¡©_»g_fÜmuÏ
 (
sdb
, "»®SimIPC", "", "pu»_num_š¢ /„—lSimCyşe", 
NULL
);

2717 
	`¡©_»g_fÜmuÏ
 (
sdb
, "mašEfãùiveIPC", "", "pu»_num_š¢ / (»®SimCyş- maš_th»ad_¡®l_couÁ)", 
NULL
);

2718 
	`¡©_»g_couÁ”
 (
sdb
, "num_of_šv®id©iÚs", "Numb”_Of_V®id©iÚs", &
num_of_šv®id©iÚs
, 0, 
NULL
);

2720 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

2721 
	`¡©_»g_couÁ”
 (
sdb
, "busU£d", "Numb” oàtime bu i u£d", &
busU£d
, 0, 
NULL
);

2722 
	`¡©_»g_couÁ”
 (
sdb
, "busOccu·ncy", "Occu·ncy oàbu š‚umb” oàcyşes", &
busOccu·ncy
, 0, 
NULL
);

2723 
	`¡©_»g_fÜmuÏ
 (
sdb
, "busOccu·ncyP”Cyşe", "Bu occu·ncy…” cyşe", "busOccu·ncy /„—lSimCyşe", 
NULL
);

2724 
	`¡©_»g_couÁ”
 (
sdb
, "¡®lNoBusSlÙ", "¡®lNoBusSlÙ", &
¡®lNoBusSlÙ
, 0, 
NULL
);

2726 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_CPI", "cyşe ³¸š¡ruùiÚ", "sim_cyş/ sim_num_š¢", 
NULL
);

2727 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_exec_BW", "tÙ® in¡ruùiÚ (mis-¥eø+ comm™‹dè³¸cyşe", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2728 
	`¡©_»g_couÁ”
 (
sdb
, "ldIssueCouÁ", "tÙ®†d issu©tm•t", &
ldIssueCouÁ
, 0, 
NULL
);

2729 #ifdeà
PULL_BACK


2730 
ch2
[32];

2732 
i
 = 0; i < 
numcÚ‹xts
; i++)

2734 
	`¥rštf
 (
ch2
, "puÎbackCyşeCÁ_%d", 
i
);

2735 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
puÎbackCyşeCouÁ
[
i
], 0, 
NULL
);

2738 #ifdeà
DIRECTORY


2739 
	`¡©_»g_couÁ”
 (
sdb
, "max_lsq_num", "", &
LSQ_NUM_MORE_THAN_TWO
, 0, 
NULL
);

2740 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š‡Î", &
TÙ®D©aPack‘sInAÎ
, 0, 
NULL
);

2741 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š‡Î", &
TÙ®M‘aPack‘sInAÎ
, 0, 
NULL
);

2742 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_sync_couÁs", "tÙ®‚um oàd©¨synø·ck‘ š‡Î", &
TÙ®SyncD©aPack‘s
, 0, 
NULL
);

2743 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_m‘a_sync_couÁs", "tÙ®‚um oàm‘¨synø·ck‘ š‡Î", &
TÙ®SyncM‘aPack‘s
, 0, 
NULL
);

2744 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İtiÿl_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š o±iÿÈÃtwÜk", &
İtiÿl_d©a_·ck‘s
, 0, 
NULL
);

2745 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İtiÿl_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š o±iÿÈÃtwÜk", &
İtiÿl_m‘a_·ck‘s
, 0, 
NULL
);

2746 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š mesh‚‘wÜk", &
mesh_d©a_·ck‘s
, 0, 
NULL
);

2747 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š mesh‚‘wÜk", &
mesh_m‘a_·ck‘s
, 0, 
NULL
);

2748 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_ev’t_couÁ", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®ev’tcouÁnum
, 0, 
NULL
);

2749 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_wb_—¾y", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
wr™e_back_—¾y
, 0, 
NULL
);

2750 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_´eãtch
, 0, 
NULL
);

2751 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_fœ¡_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_fœ¡_´eãtch
, 0, 
NULL
);

2752 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_£c_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_£c_´eãtch
, 0, 
NULL
);

2753 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_u£fuÎ", "tÙ®‚um oàu£fuÎ L1…»ãtch", &
L1_´eãtch_u£fuÎ
, 0, 
NULL
);

2754 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»q_ev’t_couÁ", "tÙ®‚um oà»que¡ƒv’ˆš™® c»©ed", &
tÙ®»qcouÁnum
, 0, 
NULL
);

2755 
	`¡©_»g_couÁ”
 (
sdb
, "StÜeCÚd™iÚFaNum", "TÙ® stÜcÚd™iÚ® faed‚um", &
StÜeCÚd™iÚFaNum
, 0, 
NULL
);

2756 
	`¡©_»g_couÁ”
 (
sdb
, "lock_ÃtwÜk_acûss", "", &
lock_ÃtwÜk_acûss
, 0, 
NULL
);

2757 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®Upg¿des
, 0, 
NULL
);

2758 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_ev’t_couÁ", "tÙ®‚um oàmis ev’ˆštŸÈü—‹d", &
tÙ®misscouÁnum
, 0, 
NULL
);

2759 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®N‘Upg¿des
, 0, 
NULL
);

2760 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU§bË", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desU§bË
, 0, 
NULL
);

2761 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desB’eficŸl", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desB’eficŸl
, 0, 
NULL
);

2762 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU£2", "tÙ®‚umb” oàupg¿de u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™No
, 0, 
NULL
);

2764 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Syncd©a", "tÙ®‚umb” oàd©¨·ck‘ dutØsync", &
d©a_·ck‘s_sync
, 0, 
NULL
);

2765 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Syncm‘a", "tÙ®‚umb” oàm‘¨·ck‘ dutØsync", &
m‘a_·ck‘s_sync
, 0, 
NULL
);

2767 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Wr™es", "tÙ®‚umb” oàWr™e £’", &
tÙ®N‘Wr™es
, 0, 
NULL
);

2768 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU§bË", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esU§bË
, 0, 
NULL
);

2769 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esB’eficŸl", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esB’eficŸl
, 0, 
NULL
);

2770 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU£2", "tÙ®‚umb” oàWr™e u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™WM
, 0, 
NULL
);

2771 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®NoExşusive", "tÙ®‚umb” oàWr™e unu§bË beÿu£ oàexşusivsomewh”–£", &
exşusive_somewh”e
, 0, 
NULL
);

2772 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®FrÚtWr™e", "tÙ®‚umb” oàWr™e unu§vË beÿu£ oàäÚˆwr™e", &
äÚt_wr™e
, 0, 
NULL
);

2774 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqH™s", "tÙ®‚um oàwr™ev’ts", &
tÙ®L2Wr™eReqH™s
, 0, 
NULL
);

2775 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqNoSh¬”", "tÙ®‚um oàwr™»q w™h‚Øsh¬”s", &
tÙ®L2Wr™eReqNoSh¬”
, 0, 
NULL
);

2776 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœty", "tÙ®‚um oàwr™»q w™h ju¡ oÃ sh¬”", &
tÙ®L2Wr™eReqDœty
, 0, 
NULL
);

2777 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqDœty", "ExŒ¨d–ayØcom¶‘wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2Wr™eReqDœty
, 0, 
NULL
);

2778 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœtyWT", "tÙ®ime wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2Wr™eReqDœtyWT
, 0, 
NULL
);

2779 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬ed", "tÙ®‚um oàwr™»q w™h muÉË sh¬”s", &
tÙ®L2Wr™eReqSh¬ed
, 0, 
NULL
);

2780 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqSh¬ed", "ExŒ¨d–ayØcom¶‘wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
d–ayL2Wr™eReqSh¬ed
, 0, 
NULL
);

2781 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬edWT", "tÙ®ime wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
tÙ®L2Wr™eReqSh¬edWT
, 0, 
NULL
);

2783 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqH™s", "tÙ®‚um oàR—dƒv’ts", &
tÙ®L2R—dReqH™s
, 0, 
NULL
);

2784 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqNoSh¬”", "tÙ®‚um oàR—d„eq w™h‚Øsh¬”s", &
tÙ®L2R—dReqNoSh¬”
, 0, 
NULL
);

2785 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœty", "tÙ®‚um oàR—d„eq w™h ju¡ oÃ sh¬”", &
tÙ®L2R—dReqDœty
, 0, 
NULL
);

2786 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2R—dReqDœty", "ExŒ¨d–ayØcom¶‘R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2R—dReqDœty
, 0, 
NULL
);

2787 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœtyWT", "tÙ®ime R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2R—dReqDœtyWT
, 0, 
NULL
);

2788 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqSh¬ed", "tÙ®‚um oà»ad„eq w™h muÉË sh¬”s", &
tÙ®L2R—dReqSh¬ed
, 0, 
NULL
);

2790 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fU£", "tÙ® L1†š´eãtche u£ful", &
tÙ®L1LšeP»fU£
, 0, 
NULL
);

2791 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fNoU£", "tÙ® L1†š´eãtche nÙ u£ful", &
tÙ®L1LšeP»fNoU£
, 0, 
NULL
);

2792 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dU£", "tÙ® L1†š»ad mis£ u£ful", &
tÙ®L1LšeR—dU£
, 0, 
NULL
);

2793 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dNoU£", "tÙ® L1†š»ad mis£ nÙ u£ful", &
tÙ®L1LšeR—dNoU£
, 0, 
NULL
);

2794 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eU£", "tÙ® L1†šwr™mis£ u£ful", &
tÙ®L1LšeWr™eU£
, 0, 
NULL
);

2795 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eNoU£", "tÙ® L1†šwr™mis£ nÙ u£ful", &
tÙ®L1LšeWr™eNoU£
, 0, 
NULL
);

2797 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlU£d", "tÙ® L1†ššƒxşusivmodu£ful", &
tÙ®L1LšeExlU£d
, 0, 
NULL
);

2798 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlInv", "tÙ® L1†ššƒxşusivmodšv®id©ed w™houˆu£", &
tÙ®L1LšeExlInv
, 0, 
NULL
);

2799 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlDrİ", "tÙ® L1†ššƒxşusivmoddrİed w™houˆu£", &
tÙ®L1LšeExlDrİ
, 0, 
NULL
);

2801 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqPrimMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
tÙ®L2ReqPrimMiss
, 0, 
NULL
);

2802 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqSecMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
tÙ®L2ReqSecMiss
, 0, 
NULL
);

2803 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqH™", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
tÙ®L2ReqH™
, 0, 
NULL
);

2804 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInT¿ns", "TÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2ReqInT¿ns
, 0, 
NULL
);

2805 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2OwnReqInT¿ns", "TÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2OwnReqInT¿ns
, 0, 
NULL
);

2806 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInInv", "TÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
tÙ®L2ReqInInv
, 0, 
NULL
);

2808 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqPrimMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
d–ayL2ReqPrimMiss
, 0, 
NULL
);

2809 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqSecMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
d–ayL2ReqSecMiss
, 0, 
NULL
);

2810 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqH™", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
d–ayL2ReqH™
, 0, 
NULL
);

2811 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2ReqInT¿ns
, 0, 
NULL
);

2812 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2OwnReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2OwnReqInT¿ns
, 0, 
NULL
);

2813 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInInv", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
d–ayL2ReqInInv
, 0, 
NULL
);

2815 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Wr™eReq
, 0, 
NULL
);

2816 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Wr™eReqInv
, 0, 
NULL
);

2817 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Wr™eD–ay
, 0, 
NULL
);

2818 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Wr™eInvD–ay
, 0, 
NULL
);

2820 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Upg¿deReq
, 0, 
NULL
);

2821 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Upg¿deReqInv
, 0, 
NULL
);

2822 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Upg¿deD–ay
, 0, 
NULL
);

2823 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Upg¿deInvD–ay
, 0, 
NULL
);

2824 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD•’dD–ay", "Tim¥’ˆš d•’d d–ay fÜ upd©»que¡ tØL2", &
Upd©eD•’dCyşe
, 0, 
NULL
);

2826 
	`¡©_»g_couÁ”
 (
sdb
, "couÁNÚAÎocR—dE¬ly", "Numb” oàtime ¨»ad mis »que¡ from L1 ha b“À£rviûdƒ¬ly w™houˆ®loÿtiÚ", &
couÁNÚAÎocR—dE¬ly
, 0, 
NULL
);

2827 #ifdeà
TG


2828 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2829 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»ad_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_»ad_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2830 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_wr™e_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_wr™e_·ck‘s_g’”©iÚ
, 0, 
NULL
);

2832 
	`¡©_»g_couÁ”
 (
sdb
, "WM_Miss", "", &
WM_Miss
, 0, 
NULL
);

2833 
	`¡©_»g_couÁ”
 (
sdb
, "WM_CËª", "", &
WM_CËª
, 0, 
NULL
);

2834 
	`¡©_»g_couÁ”
 (
sdb
, "WM_S", "", &
WM_S
, 0, 
NULL
);

2835 
	`¡©_»g_couÁ”
 (
sdb
, "WM_EM", "", &
WM_EM
, 0, 
NULL
);

2836 
	`¡©_»g_couÁ”
 (
sdb
, "WM_Sh¬dU£CÚf", "", &
wr™e_sh¬ed_u£d_cÚf
, 0, 
NULL
);

2838 
	`¡©_»g_couÁ”
 (
sdb
, "Sync_L2_miss", "", &
Sync_L2_miss
, 0, 
NULL
);

2839 
	`¡©_»g_couÁ”
 (
sdb
, "SyncIn¡CacheAcûss", "", &
SyncIn¡CacheAcûss
, 0, 
NULL
);

2840 
	`¡©_»g_couÁ”
 (
sdb
, "Te¡CacheAcûss", "", &
Te¡CacheAcûss
, 0, 
NULL
);

2841 
	`¡©_»g_couÁ”
 (
sdb
, "Te¡SecCacheAcûss", "", &
Te¡SecCacheAcûss
, 0, 
NULL
);

2842 
	`¡©_»g_couÁ”
 (
sdb
, "S‘CacheAcûss", "", &
S‘CacheAcûss
, 0, 
NULL
);

2843 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdR—dMiss", "", &
SyncLßdR—dMiss
, 0, 
NULL
);

2844 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdLR—dMiss", "", &
SyncLßdLR—dMiss
, 0, 
NULL
);

2845 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdH™", "", &
SyncLßdH™
, 0, 
NULL
);

2846 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdLH™", "", &
SyncLßdLH™
, 0, 
NULL
);

2847 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeCH™", "", &
SyncStÜeCH™
, 0, 
NULL
);

2848 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeCWr™eMiss", "", &
SyncStÜeCWr™eMiss
, 0, 
NULL
);

2849 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeCWr™eUpg¿de", "", &
SyncStÜeCWr™eUpg¿de
, 0, 
NULL
);

2850 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeH™", "", &
SyncStÜeH™
, 0, 
NULL
);

2851 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeWr™eMiss", "", &
SyncStÜeWr™eMiss
, 0, 
NULL
);

2852 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeWr™eUpg¿de", "", &
SyncStÜeWr™eUpg¿de
, 0, 
NULL
);

2853 
	`¡©_»g_couÁ”
 (
sdb
, "B¬StÜeWr™eMiss", "", &
B¬StÜeWr™eMiss
, 0, 
NULL
);

2854 
	`¡©_»g_couÁ”
 (
sdb
, "B¬StÜeWr™eUpg¿de", "", &
B¬StÜeWr™eUpg¿de
, 0, 
NULL
);

2855 
	`¡©_»g_fÜmuÏ
 (
sdb
, "‹¡_h™_¿tio", "", "SyncLßdH™ / Te¡CacheAcûss", 
NULL
);

2856 
	`¡©_»g_fÜmuÏ
 (
sdb
, "‹¡_£c_h™_¿tio", "", "SyncLßdLH™ / Te¡SecCacheAcûss", 
NULL
);

2857 
	`¡©_»g_fÜmuÏ
 (
sdb
, "£t_h™_¿tio", "", "SyncStÜeCH™ / S‘CacheAcûss", 
NULL
);

2859 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_fuÎ", "tÙ®‚umb” oàlock fifØov”æow", &
lock_fifo_fuÎ
, 0, 
NULL
);

2860 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_wrÚg", "tÙ®‚umb” oàlock fifØov”æow", &
lock_fifo_wrÚg
, 0, 
NULL
);

2861 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_wr™eback", "tÙ®‚umb” oàlock fifØov”æow", &
lock_fifo_wr™eback
, 0, 
NULL
);

2862 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_b’ef™", "tÙ®‚umb” oàlock fifØb’ef™", &
lock_fifo_b’ef™
, 0, 
NULL
);

2863 
	`¡©_»g_couÁ”
 (
sdb
, "L1_mshr_fuÎ", "tÙ®‚umb” oàL1 msh¸ov”æow", &
L1_mshr_fuÎ
, 0, 
NULL
);

2864 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_mshr", "tÙ® sÎ cyşe fÜ L1 msh¸ov”æow", &
SÎ_L1_mshr
, 0, 
NULL
);

2865 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ", "tÙ®‚umb” oàL2 msh¸ov”æow", &
L2_mshr_fuÎ
, 0, 
NULL
);

2866 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L2_mshr", "tÙ® sÎ cyşe fÜ L2 msh¸ov”æow", &
SÎ_L2_mshr
, 0, 
NULL
);

2867 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ_´eãtch", "tÙ®‚umb” oàL2 msh¸ov”æow wh’…»ãtch", &
L2_mshr_fuÎ_´eãtch
, 0, 
NULL
);

2868 
	`¡©_»g_couÁ”
 (
sdb
, "L1_fifo_fuÎ", "tÙ®‚umb” oàL1 fifØov”æow", &
L1_fifo_fuÎ
, 0, 
NULL
);

2869 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_fifo", "tÙ® sÎ cyşe fÜ L1 fifØov”æow", &
SÎ_L1_fifo
, 0, 
NULL
);

2870 
	`¡©_»g_couÁ”
 (
sdb
, "Dœ_fifo_fuÎ", "tÙ®‚umb” oàdœ fifØov”æow", &
Dœ_fifo_fuÎ
, 0, 
NULL
);

2871 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_dœ_fifo", "tÙ® sÎ cyşe fÜ dœ fifØov”æow", &
SÎ_dœ_fifo
, 0, 
NULL
);

2872 
	`¡©_»g_couÁ”
 (
sdb
, "IÅut_queue_fuÎ", "tÙ®‚umb” oàšpuˆqueuov”æow", &
IÅut_queue_fuÎ
, 0, 
NULL
);

2873 
	`¡©_»g_couÁ”
 (
sdb
, "Ouut_queue_fuÎ", "tÙ®‚umb” oàouuˆqueuov”æow", &
Ouut_queue_fuÎ
, 0, 
NULL
);

2874 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_šput_queue", "tÙ® sÎ cyşe dutØšpuˆqueuov”æow", &
SÎ_šput_queue
, 0, 
NULL
);

2875 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_ouut_queue", "tÙ® sÎ cyşe dutØouuˆqueuov”æow", &
SÎ_ouut_queue
, 0, 
NULL
);

2876 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lßd_lšk_sh¬ed", "tÙ®†ßd†šk sh¬ed", &
lßd_lšk_sh¬ed
, 0, 
NULL
);

2877 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lßd_lšk_exşusive", "tÙ®†ßd†šk sh¬ed", &
lßd_lšk_exşusive
, 0, 
NULL
);

2878 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®misshªdËtime
, 0, 
NULL
);

2879 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
Çck_couÁ”
, 0, 
NULL
);

2880 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
æ_couÁ”
, 0, 
NULL
);

2881 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
L1_æ_couÁ”
, 0, 
NULL
);

2882 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_»¶y_b’ef™", "tÙ®‚um oàd©¨»¶y b’ef™", &
e_to_m
, 0, 
NULL
);

2883 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_miss_hªdË_tim/Ù®_ev’t_couÁ", 
NULL
);

2884 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_acûss", "tÙ® mesh_ÃtwÜk‡cûss", &
tÙ®MeshHİCouÁ
, 0, 
NULL
);

2885 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_d–ay", "tÙ® mesh_ÃtwÜk d–ay", &
tÙ®MeshHİD–ay
, 0, 
NULL
);

2886 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_mesh_ÃtwÜk_time", "cyşe ³¸mesh_ÃtwÜk‡cûss", "tÙ®_mesh_ÃtwÜk_d–ay /Ù®_mesh_ÃtwÜk_acûss", 
NULL
);

2887 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_acûss", "tÙ® o±_ÃtwÜk‡cûss", &
tÙ®O±HİCouÁ
, 0, 
NULL
);

2888 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_d–ay", "tÙ® o±_ÃtwÜk d–ay", &
tÙ®O±HİD–ay
, 0, 
NULL
);

2889 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_İt_ÃtwÜk_time", "cyşe ³¸İt_ÃtwÜk‡cûss", "tÙ®_İt_ÃtwÜk_d–ay /Ù®_İt_ÃtwÜk_acûss", 
NULL
);

2890 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_loÿl_ÿche_acûss", "tÙ®†oÿÈdl2 cachacûs numb”", &
loÿl_ÿche_acûss
, 0, 
NULL
);

2891 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»mÙe_ÿche_acûss", "tÙ®„emÙdl2 cachacûs numb”", &
»mÙe_ÿche_acûss
, 0, 
NULL
);

2892 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_wb", "tÙ®wØhİ švŞve dutØwr™back", &
švŞve_2_hİ_wb
, 0, 
NULL
);

2893 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_touch", "tÙ®wØhİ švŞve dutØtouch", &
švŞve_2_hİ_touch
, 0, 
NULL
);

2894 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves", "tÙ®wØhİ švŞves", &
švŞve_2_hİs
, 0, 
NULL
);

2895 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs
, 0, 
NULL
);

2896 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves_wm", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_wm
, 0, 
NULL
);

2897 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves_wm", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_wm
, 0, 
NULL
);

2898 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_miss", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_miss
, 0, 
NULL
);

2899 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_miss", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_miss
, 0, 
NULL
);

2900 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_upg¿de", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_upg¿de
, 0, 
NULL
);

2901 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_upg¿de", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_upg¿de
, 0, 
NULL
);

2902 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_»ad", "tÙ®…riv©d©¨fÜ„—d miss", &
d©a_´iv©e_»ad
, 0, 
NULL
);

2903 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_wr™e", "tÙ®…riv©d©¨fÜ wr™miss", &
d©a_´iv©e_wr™e
, 0, 
NULL
);

2904 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_»ad", "tÙ® sh¬ed d©¨fÜ„—d miss", &
d©a_sh¬ed_»ad
, 0, 
NULL
);

2905 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_wr™e", "tÙ® sh¬ed d©¨fÜ wr™miss", &
d©a_sh¬ed_wr™e
, 0, 
NULL
);

2906 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_şo£", "tÙ®‚umb” oà®Èşo£d cÚsum”s", &
tÙ®_®l_şo£
, 0, 
NULL
);

2907 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÙ_®l_şo£", "tÙ®‚umb” oànÙ‡Î clo£d cÚsum”s", &
tÙ®_nÙ_®l_şo£
, 0, 
NULL
);

2908 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_p_c_ev’ts", "tÙ®…roduû¸ªd cÚsum” ev’t (shouldƒqu®Ø4 hİs)", &
tÙ®_p_c_ev’ts
, 0, 
NULL
);

2909 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_cÚsum”s", "tÙ®‚umb” oàcÚsum”s", &
tÙ®_cÚsum”s
, 0, 
NULL
);

2910 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_š_ÃighbÜ", "tÙ®…ack‘ ¬š‚eighbÜhood", &
tÙ®_·ck‘s_š_ÃighbÜ
, 0, 
NULL
);

2911 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_©_cÜÃrs", "tÙ®…ack‘ ¬© cÜÃrs", &
tÙ®_·ck‘s_©_cÜÃrs
, 0, 
NULL
);

2912 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_®mo¡şo£", "tÙ®‚umb” oà®Èşo£d‡nd cÜÃ¸cÚsum”s", &
tÙ®_®l_®mo¡şo£
, 0, 
NULL
);

2913 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_cÚsum”s", "tÙ® d©¨·ck‘ oàcÚsum”s", &
tÙ®_d©a_cÚsum”s
, 0, 
NULL
);

2914 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_©_cÜÃr", "tÙ® d©¨·ck‘ suµly from‡ˆcÜÃrs", &
tÙ®_d©a_©_cÜÃr
, 0, 
NULL
);

2915 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_şo£", "tÙ® d©¨·ck‘ ¬suµl›d from clo£by sourûs", &
tÙ®_d©a_şo£
, 0, 
NULL
);

2916 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_çr", "tÙ® d©¨·ck‘ ¬sumµl›d from f¬ sourûs", &
tÙ®_d©a_çr
, 0, 
NULL
);

2917 
	`¡©_»g_doubË
 (
sdb
, "av”age_šside_³rûÁ", "av”agšsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_šside_³rûÁ
, 0, 
NULL
);

2918 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_outside_³rûÁ
, 0, 
NULL
);

2919 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_abs_³rûÁ", "av”agabsŞuy outsid·ck‘ ³rûÁ(ç¸- cÜÃr)", &
av”age_outside_abs_³rûÁ
, 0, 
NULL
);

2920 
	`¡©_»g_doubË
 (
sdb
, "av”age_cÜÃr_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(cÜÃr: should bdivided byÙ®_nÙ_®l_şos)", &
av”age_cÜÃr_³rûÁ
, 0, 
NULL
);

2921 #ifdeà
INV_ACK_CON


2922 
	`¡©_»g_doubË
 (
sdb
, "³ndšg_šv®id_cyşes", "how mªy cyşe tØšv®id©thÿchlše", &
³ndšg_šv®id_cyşes
, 0, 
NULL
);

2956 #ifdeà
MC


2958 
	`İtiÿl_»g_¡©s
 (
sdb
);

2960 #ifdeà
OPTICAL_INTERCONNECT


2961 
	`İtiÿl_»g_¡©s
 (
sdb
);

2965 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_couÁ", "cumuÏtivIFQ occu·ncy", &
IFQ_couÁ
, 0, 
NULL
);

2966 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_fcouÁ", "cumuÏtivIFQ fuÎ couÁ", &
IFQ_fcouÁ
, 0, 
NULL
);

2967 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_occu·ncy", "avg IFQ occu·ncy (š¢'s)", "IFQ_couÁ / sim_cyşe", 
NULL
);

2968 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_¿‹", "avg IFQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2969 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_Ï‹ncy", "avg IFQ occu·Á†©’cy (cyşe's)", "ifq_occu·ncy / ifq_¿‹", 
NULL
);

2970 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_fuÎ", "äaùiÚ oàtim(cyşe'sèIFQ wa fuÎ", "IFQ_fcouÁ / sim_cyşe", 
NULL
);

2972 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_couÁ", "cumuÏtivRUU occu·ncy", &
RUU_couÁ
, 0, 
NULL
);

2973 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_fcouÁ", "cumuÏtivRUU fuÎ couÁ", &
RUU_fcouÁ
, 0, 
NULL
);

2974 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_occu·ncy", "avg RUU occu·ncy (š¢'s)", "RUU_couÁ / sim_cyşe", 
NULL
);

2975 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_¿‹", "avg RUU di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2976 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_Ï‹ncy", "avg RUU occu·Á†©’cy (cyşe's)", "ruu_occu·ncy /„uu_¿‹", 
NULL
);

2977 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_fuÎ", "äaùiÚ oàtim(cyşe'sèRUU wa fuÎ", "RUU_fcouÁ / sim_cyşe", 
NULL
);

2979 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_couÁ", "cumuÏtivLSQ occu·ncy", &
LSQ_couÁ
, 0, 
NULL
);

2980 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_fcouÁ", "cumuÏtivLSQ fuÎ couÁ", &
LSQ_fcouÁ
, 0, 
NULL
);

2981 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_occu·ncy", "avg LSQ occu·ncy (š¢'s)", "LSQ_couÁ / sim_cyşe", 
NULL
);

2982 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_¿‹", "avg LSQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

2983 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_Ï‹ncy", "avg LSQ occu·Á†©’cy (cyşe's)", "lsq_occu·ncy /†sq_¿‹", 
NULL
);

2984 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_fuÎ", "äaùiÚ oàtim(cyşe'sèLSQ wa fuÎ", "LSQ_fcouÁ / sim_cyşe", 
NULL
);

2985 
	`¡©_»g_couÁ”
 (
sdb
, "dl2Aùu®lyAcûs£d", "", &
dl2Aùu®lyAcûs£d
, 0, 
NULL
);

2987 
	`¡©_»g_couÁ”
 (
sdb
, "´eãtchLßd", "", &
m_sqP»ãtchCÁ
, 0, 
NULL
);

2989 
i
 = 0; i < 
numcÚ‹xts
; i++)

2991 
ch
[20], 
fm
[30], 
ch2
[20];

2993 
	`¥rštf
 (
ch2
, "brRecov”y_%d", 
i
);

2994 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® wrÚg b¿nches", &
brRecov”y
[
i
], 0, 
NULL
);

2996 
	`¥rštf
 (
ch2
, "exŒaIn¢_%d", 
i
);

2997 
	`¡©_»g_couÁ”
 (
sdb
, "exŒaIn¢", "tÙ®‚umb” oàwrÚg…©h in¢ƒxecu‹d", &
exŒaIn¢
[
i
], 0, 
NULL
);

3000 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

3002 
ch2
[20];

3004 #ifdef 
EDA


3005 
	`¥rštf
 (
ch2
, "nÚSktIn¢_%d", 
i
);

3006 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ® NÚ sk–‘Ú in¡ruùiÚ execu‹d", &
nÚSktIn¢
[
i
], 0, 
NULL
);

3007 
	`¥rštf
 (
ch2
, "»cov”yCouÁ_%d", 
i
);

3008 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "Recov”y couÁ", &
»cov”yCouÁ
[
i
], 0, 
NULL
);

3009 
	`¥rštf
 (
ch2
, "¡®lCC_BOQEm±y_%d", 
i
);

3010 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "CÜ»ùÃs cÜãtch sÎ dutØBOQƒm±y", &
numBCQEm±y
[
i
], 0, 
NULL
);

3011 
	`¥rštf
 (
ch2
, "tÙ®R–CE_%d", 
i
);

3012 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ® Dl0 cacheviùiÚs.", &
tÙ®R–CE
[
i
], 0, 
NULL
);

3013 
	`¥rštf
 (
ch2
, "numSyncIn¡_%d", 
i
);

3014 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "TÙ®‚um oàsynchrÚiz©iÚ in¡ruùiÚs", &
numSyncIn¡
[
i
], 0, 
NULL
);

3018 
i
 = 0; i < 
MAXTHREADS
; i++)

3020 
ch2
[20];

3023 
	`¥rštf
 (
ch2
, "th»ad_sim_š¢_%d", 
i
);

3024 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "³¸th»ad sim‚um in¢", &
simIn¢
[
i
], 0, 
NULL
);

3025 
	`¥rštf
 (
ch2
, "SÎCouÁ_%d", 
i
);

3026 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® sÎ couÁ", &
¦“pCouÁ
[
i
], 0, 
NULL
);

3027 
	`¥rštf
 (
ch2
, "qu›n£Wakeup_%d", 
i
);

3028 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
qu›n£Wakeup
[
i
], 0, 
NULL
);

3029 
	`¥rštf
 (
ch2
, "£qCÚsR•Ïy_%d", 
i
);

3030 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsR•Ïy
[
i
], 0, 
NULL
);

3031 
	`¥rštf
 (
ch2
, "£qCÚsIn¢R•Ïy_%d", 
i
);

3032 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsIn¢R•Ïy
[
i
], 0, 
NULL
);

3033 
	`¥rštf
 (
ch2
, "ld¡RejeùiÚCouÁ_%d", 
i
);

3034 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
ld¡RejeùiÚCouÁ
[
i
], 0, 
NULL
);

3035 
	`¥rštf
 (
ch2
, "TrueR•Ïy_%d", 
i
);

3036 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqNumLdR•Ïy
[
i
], 0, 
NULL
);

3038 
	`¥rštf
 (
ch2
, "Inv®id©iÚR•Ïy_%d", 
i
);

3039 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
šv®id©iÚ_»¶ay
[
i
], 0, 
NULL
);

3041 #ifdeà
RELAXED_CONSISTENCY


3042 
	`¥rštf
 (
ch2
, "lßdLßdR•Ïy_%d", 
i
);

3043 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
lßdLßdR•ÏyCouÁ
[
i
], 0, 
NULL
);

3045 
	`¥rštf
 (
ch2
, "avgRUUsize_%d", 
i
);

3046 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgRUUsize
[
i
], 0, 
NULL
);

3047 
	`¥rštf
 (
ch2
, "avgLQsize_%d", 
i
);

3048 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgLQsize
[
i
], 0, 
NULL
);

3049 
	`¥rštf
 (
ch2
, "avgSQsize_%d", 
i
);

3050 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgSQsize
[
i
], 0, 
NULL
);

3051 
	`¥rštf
 (
ch2
, "Comm™SÎ_%d", 
i
);

3052 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_comm™SÎ
[
i
], 0, 
NULL
);

3053 
	`¥rštf
 (
ch2
, "TÙ®SÎ_%d", 
i
);

3054 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_tÙ®SÎ
[
i
], 0, 
NULL
);

3055 
	`¥rštf
 (
ch2
, "RUUSÎ_%d", 
i
);

3056 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_RUUFuÎ
[
i
], 0, 
NULL
);

3057 
	`¥rštf
 (
ch2
, "LQSÎ_%d", 
i
);

3058 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqLQFuÎ
[
i
], 0, 
NULL
);

3059 
	`¥rštf
 (
ch2
, "SQSÎ_%d", 
i
);

3060 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqSQFuÎ
[
i
], 0, 
NULL
);

3061 
	`¥rštf
 (
ch2
, "StÜeMissSÎ_%d", 
i
);

3062 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeMiss
[
i
], 0, 
NULL
);

3063 
	`¥rštf
 (
ch2
, "LQH™SÎ_%d", 
i
);

3064 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdR—lH™
[
i
], 0, 
NULL
);

3065 
	`¥rštf
 (
ch2
, "LQMissSÎ_%d", 
i
);

3066 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdR—lMiss
[
i
], 0, 
NULL
);

3067 
	`¥rštf
 (
ch2
, "SQH™SÎ_%d", 
i
);

3068 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeR—lH™
[
i
], 0, 
NULL
);

3069 
	`¥rštf
 (
ch2
, "SQMissSÎ_%d", 
i
);

3070 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeR—lMiss
[
i
], 0, 
NULL
);

3071 
	`¥rštf
 (
ch2
, "StÜeSÎMiss_%d", 
i
);

3072 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeSÎMiss
[
i
], 0, 
NULL
);

3073 
	`¥rštf
 (
ch2
, "StÜeSÎH™_%d", 
i
);

3074 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeSÎH™
[
i
], 0, 
NULL
);

3075 
	`¥rštf
 (
ch2
, "LßdSÎMiss_%d", 
i
);

3076 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdSÎMiss
[
i
], 0, 
NULL
);

3077 
	`¥rštf
 (
ch2
, "LßdSÎH™_%d", 
i
);

3078 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdSÎH™
[
i
], 0, 
NULL
);

3079 
	`¥rštf
 (
ch2
, "StÜeUpd©eMissSÎ_%d", 
i
);

3080 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeUpd©eMiss
[
i
], 0, 
NULL
);

3081 
	`¥rštf
 (
ch2
, "LßdMissSÎ_%d", 
i
);

3082 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdMiss
[
i
], 0, 
NULL
);

3083 
	`¥rštf
 (
ch2
, "RegSÎ_%d", 
i
);

3084 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_»gFuÎ
[
i
], 0, 
NULL
);

3085 
	`¥rštf
 (
ch2
, "IssueSÎ_%d", 
i
);

3086 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_issueFuÎ
[
i
], 0, 
NULL
);

3087 
	`¥rštf
 (
ch2
, "Il1missSÎ_%d", 
i
);

3088 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_1Miss
[
i
], 0, 
NULL
);

3089 
	`¥rštf
 (
ch2
, "F‘chSÎ_%d", 
i
);

3090 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_ãtchEm±y
[
i
], 0, 
NULL
);

3091 
	`¥rštf
 (
ch2
, "STLCSÎ_%d", 
i
);

3092 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_STLC
[
i
], 0, 
NULL
);

3093 
	`¥rštf
 (
ch2
, "T¿pSÎ_%d", 
i
);

3094 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_Œ­
[
i
], 0, 
NULL
);

3097 #ifdeà
LOAD_PREDICTOR


3099 ià(
ld´ed
)

3100 
	`b´ed_»g_¡©s
 (
ld´ed
, 
sdb
, 0);

3104 
i
 = 0; i < 
numcÚ‹xts
; i++)

3106 
	`ld_»g_¡©s
 (
sdb
, 
i
);

3107 
	`mem_»g_¡©s
 (
thecÚ‹xts
[
i
]->
mem
, 
sdb
);

3110 
i
 = 0; i < 
MAXTHREADS
; i++)

3112 ià(
ÿche_dl1
[
i
])

3113 
	`ÿche_»g_¡©s
 (
ÿche_dl1
[
i
], 
sdb
, i);

3114 ià(
ÿche_1
[
i
])

3115 
	`ÿche_»g_¡©s
 (
ÿche_1
[
i
], 
sdb
, i);

3116 ià(
™lb
[
i
])

3117 
	`ÿche_»g_¡©s
 (
™lb
[
i
], 
sdb
, i);

3118 ià(
db
[
i
])

3119 
	`ÿche_»g_¡©s
 (
db
[
i
], 
sdb
, i);

3123 ià(
ÿche_dl2
)

3124 
	`ÿche_»g_¡©s
 (
ÿche_dl2
, 
sdb
, 0);

3127 
	`pow”_»g_¡©s
 (
sdb
);

3130 
	`¡©_»g_couÁ”
 (
sdb
, "sim_šv®id_addrs", "tÙ®‚Ú-¥ecuÏtivbogu add»s£ £’ (debug v¬)", &
sim_šv®id_addrs
, 0, 
NULL
);

3132 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

3134 
buf
[512], 
buf1
[512];

3135 
¡©_¡©_t
 *
¡©
;

3139 
¡©
 = 
	`¡©_fšd_¡©
 (
sdb
, 
pc¡©_v¬s
[
i
]);

3140 ià(!
¡©
)

3141 
	`çl
 ("ÿÂÙ†oÿ‹‡ny sti¡iøÇmed `%s'", 
pc¡©_v¬s
[
i
]);

3144 ià(
¡©
->
sc
 !ğ
sc_št
 && st->sø!ğ
sc_ušt
 && st->sø!ğ
sc_couÁ”
)

3145 
	`çl
 ("`-pc¡©' sti¡iÿÈv¬ŸbË `%s' i nÙ‡Àš‹g¿Èty³", 
¡©
->
Çme
);

3148 
pc¡©_¡©s
[
i
] = 
¡©
;

3149 
pc¡©_Ï¡v®s
[
i
] = 
	`STATVAL
 (
¡©
);

3152 
	`¥rštf
 (
buf
, "%s_by_pc", 
¡©
->
Çme
);

3153 
	`¥rštf
 (
buf1
, "% (byexˆadd»ss)", 
¡©
->
desc
);

3154 
pc¡©_sdi¡s
[
i
] = 
	`¡©_»g_sdi¡
 (
sdb
, 
buf
, 
buf1
,

3156  (
PF_COUNT
 | 
PF_PDF
),

3158  
NULL
);

3162 #ifdeà
TOKENB


3163 ià(
tok’B
)

3164 
	`tc_»g_¡©s
 (
sdb
);

3166 
	`şu¡”_»g_¡©s
 (
sdb
);

3167 
	}
}

3170 
lsq_š™
 ();

3171 
r¦šk_š™
 (
Æšks
);

3172 
rs_ÿche_š™
 ();

3173 
ev’tq_š™
 ();

3174 
»adyq_š™
 ();

3175 
cv_š™
 (
th»adid
);

3176 
ruu_š™
 (
th»adid
);

3177 
Œaûr_š™
 (
th»adid
);

3178 
ãtch_š™
 (
th»adid
);

3180 #ifdeà
DIRECTORY


3181 
dœ_ev’tq_š™
();

3186 
	$sim_š™
 ()

3188 
i
;

3190 
sim_num_»fs
 = 0;

3192 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

3195 ià(
bimod_ÃÉ
 != 1)

3196 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3197 ià(
btb_ÃÉ
 != 2)

3198 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3201 
i
 = 0; i < 
numcÚ‹xts
; i++)

3203 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

3204  
bimod_cÚfig
[0],

3210  
btb_cÚfig
[0],

3211  
btb_cÚfig
[1],

3212  
¿s_size
);

3215 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

3218 ià(
twŞev_ÃÉ
 != 4)

3219 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3220 ià(
btb_ÃÉ
 != 2)

3221 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3223 
i
 = 0; i < 
numcÚ‹xts
; i++)

3225 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

3227  
twŞev_cÚfig
[0],

3228  
twŞev_cÚfig
[1],

3230  
twŞev_cÚfig
[2],

3231  
twŞev_cÚfig
[3],

3232  
btb_cÚfig
[0],

3233  
btb_cÚfig
[1],

3234  
¿s_size
);

3237 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

3240 ià(
twŞev_ÃÉ
 != 4)

3241 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3242 ià(
bimod_ÃÉ
 != 1)

3243 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3244 ià(
comb_ÃÉ
 != 1)

3245 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

3246 ià(
btb_ÃÉ
 != 2)

3247 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3249 
i
 = 0; i < 
numcÚ‹xts
; i++)

3251 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

3252  
bimod_cÚfig
[0],

3253  
twŞev_cÚfig
[0],

3254  
twŞev_cÚfig
[1],

3255  
comb_cÚfig
[0],

3256  
twŞev_cÚfig
[2],

3257  
twŞev_cÚfig
[3],

3258  
btb_cÚfig
[0],

3259  
btb_cÚfig
[1],

3260  
¿s_size
);

3264 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


3265 #iâdeà
CENTRALIZED_CACHE_BANK


3266 ià(
»s_membªk
 < 
CLUSTERS
)

3268 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3269 
	`årštf
 (
¡d”r
, "„es_membªk %d < CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3270 
	`ex™
 (1);

3273 ià(
»s_membªk
 !ğ
CLUSTERS
)

3275 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3276 
	`årštf
 (
¡d”r
, "„es_membªk %d !ğ CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3277 
	`ex™
 (1);

3282 #ifdeà
PORT_PER_BANK


3283 
CACHEPORTS
 = 
RES_CACHEPORTS
 = 
RES_CACHE_PORTS
 = 
»s_membªk
;

3284 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

3287 #ifdeà
ISSUE_PER_CLUSTER


3293 
i
 = 0; i < 
numcÚ‹xts
; i++)

3295 ià(
i
 == 0)

3297 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
Vdd
 * Vdd;

3298 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* (
Vdd
 / 2) * (Vdd / 2);

3299 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 1;

3303 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * 
Vdd
 * checkerVDD * Vdd;

3304 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * (
Vdd
 / 2) * checkerVDD * (Vdd / 2);

3305 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 
check”VDD
;

3308 
	`ÿlcuÏ‹_pow”
 (&(
thecÚ‹xts
[
i
]->
pow”
));

3310 ià(
i
)

3312 
thecÚ‹xts
[
i
]->
pow”
.
b´ed_pow”
 = 0;

3313 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_pow”
 =hecontexts[0]->power.dcache2_power;

3315 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_decod”
 =hecontexts[0]->power.dcache2_decoder;

3316 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_wÜdlše
 =hecontexts[0]->power.dcache2_wordline;

3317 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_b™lše
 =hecontexts[0]->power.dcache2_bitline;

3318 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_£n£amp
 =hecontexts[0]->power.dcache2_senseamp;

3319 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_g¬¿y
 =hecontexts[0]->power.dcache2_tagarray;

3320 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_gc
 =hecontexts[0]->power.dcache2_gc;

3324 ià(
hÙ¥Ù_aùive
)

3325 
	`hÙ¥Ù_š™
 ();

3326 
	}
}

3330 
simoo_»g_obj
 (
»gs_t
 *
»gs
,

3331 
is_wr™e
,

3332 
md_»g_ty³
 
¹
,

3333 
»g
,

3334 
ev®_v®ue_t
 *
v®
);

3338 
simoo_mem_obj
 (
mem_t
 *
mem
,

3339 
is_wr™e
,

3340 
md_addr_t
 
addr
,

3341 *
p
,

3342 
nby‹s
);

3346 
simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

3347 *
cmd
,

3348 
»gs_t
 *
»gs
,

3349 
mem_t
 *
mem
);

3352 
	#MAX_RS_LINKS
 65536

	)

3353 
couÁ”_t
 
	grs_lšk_num
 = 0;

3355 
	gMAX_BR_NUM
;

3359 
	$sim_lßd_th»ads
 (
¬gc
, **
¬gv
,

3360 **
’vp
)

3362 
j
, 
¬g_¡©us
 = 1;

3363 
cÚ‹xt
 *
cu¼’t
;

3365 
numcÚ‹xts
 = 0;

3366 
j
 = 0; (j < 
¬gc
è&& (
numcÚ‹xts
 < 
MAXTHREADS
è&& 
¬g_¡©us
; j++)

3368 
	`årštf
 (
¡d”r
, "š™Ÿlizšg cÚ‹xˆ%d\n", 
numcÚ‹xts
);

3370 
¬g_¡©us
 = 
	`»ad_th»ad_¬gs
 (
’vp
, 
¬gv
[
j
], &
numcÚ‹xts
);

3372 
cu¼’t
 = 
thecÚ‹xts
[
j
];

3374 
cu¼’t
->
aùu®id
 = 0;

3377 
	`ld_lßd_´og
 (
cu¼’t
->
âame
, cu¼’t->
¬gc
, cu¼’t->
¬gv
, 
’vp
, &(cu¼’t->
»gs
), cu¼’t->
mem
, 
TRUE
, 
j
);

3381 ià(
±¿û_ÃÉ
 == 2)

3384 
	`±¿û_İ’
 ( 
±¿û_İts
[0],…trace_opts[1]);

3386 ià(
±¿û_ÃÉ
 == 0)

3391 
	`çl
 ("bad…ipetrace‡rgs, use: <fname|stdout|stderr> <range>");

3394 
MAX_BR_NUM
 = 
ruu_ifq_size
 + 
RUU_size
;

3399 
fu_poŞ
 = 
	`»s_ü—‹_poŞ
 ("fu-poŞ", 
fu_cÚfig
, 
	`N_ELT
 (fu_config));

3400 
	`r¦šk_š™
 (
MAX_RS_LINKS
);

3401 
	`rs_ÿche_š™
();

3402 
aùivecÚ‹xts
 = 
numcÚ‹xts
;

3403 
j
 = 0; j < 
numcÚ‹xts
; j++)

3404 
	`Œaûr_š™
 (
j
);

3405 
j
 = 0; j < 
numcÚ‹xts
; j++)

3406 
	`ãtch_š™
 (
j
);

3407 
j
 = 0; j < 
numcÚ‹xts
; j++)

3408 
	`cv_š™
 (
j
);

3409 
	`ev’tq_š™
 ();

3410 
	`»adyq_š™
 ();

3411 #ifdeà
LOCK_HARD


3412 
	`lock_ev’tq_š™
();

3414 #ifdeà
DIRECTORY


3415 
	`dœ_ev’tq_š™
();

3416 
j
 = 0; j < 
numcÚ‹xts
+
mesh_size
*2; j++)

3418 
dœ_fifo_h—d
[
j
] = 0;

3419 
dœ_fifo_
[
j
] = 0;

3420 
dœ_fifo_num
[
j
] = 0;

3421 
dœ_fifo_pÜtu£
[
j
] = 0;

3422 
l1_fifo_h—d
[
j
] = 0;

3423 
l1_fifo_
[
j
] = 0;

3424 
l1_fifo_num
[
j
] = 0;

3425 
l1_fifo_pÜtu£
[
j
] = 0;

3426 
mshr_³ndšg_ev’t
[
j
] = 0;

3427 
Ï¡_L1_mshr_fuÎ
[
j
] = 0;

3428 
Ï¡_L1_fifo_fuÎ
[
j
] = 0;

3429 
Ï¡_Dœ_fifo_fuÎ
[
j
] = 0;

3430 
Ï¡_IÅut_queue_fuÎ
[
j
] = 0;

3432 
Ï¡_L2_mshr_fuÎ
 = 0;

3433 
§me_L1_L2_fifo_fuÎ
 = 0;

3434 
L1_mshr_fuÎ
 = 0;

3435 
L2_mshr_fuÎ
 = 0;

3436 
L2_mshr_fuÎ_´eãtch
 = 0;

3437 
L1_fifo_fuÎ
 = 0;

3438 
Dœ_fifo_fuÎ
 = 0;

3439 
IÅut_queue_fuÎ
 = 0;

3440 
Ouut_queue_fuÎ
 = 0;

3442 
SÎ_L1_mshr
 = 0;

3443 
SÎ_L2_mshr
 = 0;

3444 
SÎ_L1_fifo
 = 0;

3445 
SÎ_dœ_fifo
 = 0;

3446 
SÎ_šput_queue
 = 0;

3447 
SÎ_ouut_queue
 = 0;

3450 
j
 = 0; j < 
numcÚ‹xts
; j++)

3452 
	`ruu_š™
 (
j
);

3453 
	`lsq_š™
 (
j
);

3456 
j
 = 0; j < 
numcÚ‹xts
; j++)

3458 
´iÜ™y
[
j
] = j;

3459 
key
[
j
] = 0;

3460 #ifdeà
INTERVAL_BASED


3461 
š‹rv®_´iÜ™y
[
j
] = j;

3462 
š‹rv®_key
[
j
] = 0;

3466 #ifdeà 
CLUSTER_PRIORITY


3467 
j
 = 0; j < 
CLUSTERS
; j++)

3468 
´iÜ™y_ş
[
j
] = j;

3471 #ifdeà 
PRIORITY_STEER


3472 
j
 = 0; j < 
CLUSTERS
; j++)

3473 
´iÜ™y_ş
[
j
] = j;

3476 #ifdeà 
STEER_DISPATCH_STAT


3477 
j
 = 0; j < 
numcÚ‹xts
; j++)

3478 
»ady_¡“r_thrd_max
[
j
] = 
»ady_¡“r_thrd_mš
[j] = 
»ady_¡“r_thrd_v®ue
[j] = 
MAXDEV
 / 2;

3481 #ià
	`defšed
(
DLITE_SUPPORT
)

3483 
	`dl™e_š™
 (
simoo_»g_obj
, 
simoo_mem_obj
, 
simoo_m¡©e_obj
);

3485 
	}
}

3489 
	$sim_aux_¡©s
 (
FILE
 * 
¡»am
)

3492 
	}
}

3496 
	$sim_unš™
 ()

3498 ià(
±¿û_ÃÉ
 > 0)

3499 
	`±¿û_şo£
 ();

3502 
	}
}

3509 #iâdeà 
STEER_DISPATCH_STAT


3511 
	#OPERANDS_READY
(
RS
è\

	)

3512 ((
	gRS
)->
	gid•_»ady
[0] && (RS)->idep_ready[1] && (RS)->idep_ready[2])

3516 
	#ONE_OPERANDS_READY
(
RS
è\

	)

3517 ((
	gRS
)->
	gid•_»ady
[0] || (RS)->idep_ready[1])

3522 
	$ruu_š™
 (
th»adid
)

3524 
i
 = 0;

3525 
cÚ‹xt
 *
cu¼’t
;

3527 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3528 
cu¼’t
->
RUU
 = 
	`ÿÎoc
 (
RUU_size
,  (
RUU_¡©iÚ
));

3529 ià(!
cu¼’t
->
RUU
)

3530 
	`çl
 ("out of virtual memory");

3532 
i
 = 0; i < 
RUU_size
; i++)

3534 
cu¼’t
->
RUU
[
i
].
šdex
 = i;

3535 
cu¼’t
->
RUU
[
i
].
th»adid
 =hreadid;

3537 
cu¼’t
->
RUU_num
 = 0;

3538 
cu¼’t
->
RUU_h—d
 = cu¼’t->
RUU_
 = 0;

3539 
cu¼’t
->
RUU_couÁ_thrd
 = 0;

3540 
cu¼’t
->
RUU_fcouÁ_thrd
 = 0;

3541 
RUU_couÁ
 = 0;

3542 
RUU_fcouÁ
 = 0;

3544 ià(
th»adid
)

3546 
cu¼’t
->
cyşe_mask
 = 0xffffffff;

3547 
cu¼’t
->
Ï‹ncy_çùÜ
 = 1;

3548 
cu¼’t
->
maš_th»ad
 = 1;

3549 
ÿche_dl1
[
th»adid
]->
h™_Ï‹ncy
 *ğ
cu¼’t
->
Ï‹ncy_çùÜ
;

3552 
i
 = 0; i < 
CLUSTERS
; i++)

3554 
œegfe_ş_couÁ
[
i
] = 0;

3555 
›xŒa_ş_couÁ
[
i
] = 0;

3556 
äegfe_ş_couÁ
[
i
] = 0;

3557 
ãxŒa_ş_couÁ
[
i
] = 0;

3558 
iissueq_ş_couÁ
[
i
] = 0;

3559 
fissueq_ş_couÁ
[
i
] = 0;

3560 #ifdeà
RAW


3561 
¿wq_ş_couÁ
[
i
] = 0;

3564 
	}
}

3568 
	$ruu_dum³Á
 (
RUU_¡©iÚ
 *
rs
,

3569 
šdex
,

3570 
FILE
 * 
¡»am
,

3571 
h—d”
)

3573 ià(!
¡»am
)

3574 
¡»am
 = 
¡d”r
;

3576 ià(
h—d”
)

3577 
	`årštf
 (
¡»am
, "idx: %2d: opcode: %s, in¡: `", 
šdex
, 
	`MD_OP_NAME
 (
rs
->
İ
));

3579 
	`årštf
 (
¡»am
, " opcode: %s, in¡: `", 
	`MD_OP_NAME
 (
rs
->
İ
));

3580 
	`md_´št_š¢
 (
rs
->
IR
,„s->
PC
, 
¡»am
);

3581 
	`årštf
 (
¡»am
, "'\n");

3582 
	`myårštf
 (
¡»am
, " PC: 0x%08p, NPC: 0x%08°Õ»d_PC: 0x%08p)\n", 
rs
->
PC
,„s->
Ãxt_PC
,„s->
´ed_PC
);

3583 
	`årštf
 (
¡»am
, " in_LSQ: %s,ƒa_comp: %s,„ecov”_š¡: %s\n", 
rs
->
š_LSQ
 ? "t" : "f",„s->
—_comp
 ? "t" : "f",„s->
»cov”_š¡
 ? "t" : "f");

3584 
	`myårštf
 (
¡»am
, " s³c_mode: %s,‡ddr: 0x%08p,ag: 0x%08x\n", 
rs
->
¥ec_mode
 ? "t" : "f",„s->
addr
,„s->
g
);

3585 
	`årštf
 (
¡»am
, " seq: 0x%08x,…Œaû_£q: 0x%08x\n", 
rs
->
£q
,„s->
±¿û_£q
);

3586 
	`årštf
 (
¡»am
, " queued: %s, issued: %s, com¶‘ed: %s\n", 
rs
->
queued
 ? "t" : "f",„s->
issued
 ? "t" : "f",„s->
com¶‘ed
 ? "t" : "f");

3587 
	`årštf
 (
¡»am
, " o³¿nd »ady: %s\n", 
	`OPERANDS_READY
 (
rs
) ? "t" : "f");

3588 
	}
}

3592 
	$ruu_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

3594 
num
, 
h—d
;

3595 
RUU_¡©iÚ
 *
rs
;

3597 
cÚ‹xt
 *
cu¼’t
;

3599 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3601 ià(!
¡»am
)

3602 
¡»am
 = 
¡d”r
;

3604 
	`årštf
 (
¡»am
, "** Th»ad %d **\n", 
th»adid
);

3605 
	`årštf
 (
¡»am
, "** RUU state **\n");

3606 
	`årštf
 (
¡»am
, "RUU_h—d: %d, RUU_: %d\n", 
cu¼’t
->
RUU_h—d
, cu¼’t->
RUU_
);

3607 
	`årštf
 (
¡»am
, "RUU_num: %d\n", 
cu¼’t
->
RUU_num
);

3609 
num
 = 
cu¼’t
->
RUU_num
;

3610 
h—d
 = 
cu¼’t
->
RUU_h—d
;

3611 
num
)

3613 
rs
 = &(
cu¼’t
->
RUU
[
h—d
]);

3614 
	`ruu_dum³Á
 (
rs
,„ - 
cu¼’t
->
RUU
, 
¡»am
, 
TRUE
);

3615 
h—d
 = (h—d + 1è% 
RUU_size
;

3616 
num
--;

3618 
	}
}

3622 
	$lsq_š™
 (
th»adid
)

3624 
i
 = 0;

3625 
cÚ‹xt
 *
cu¼’t
;

3627 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

3629 
cu¼’t
->
LSQ
 = 
	`ÿÎoc
 (
LSQ_size
,  (
RUU_¡©iÚ
));

3630 ià(!
cu¼’t
->
LSQ
)

3631 
	`çl
 ("out of virtual memory");

3632 
i
 = 0; i < 
LSQ_size
; i++)

3634 
cu¼’t
->
LSQ
[
i
].
šdex
 = i;

3635 
cu¼’t
->
LSQ
[
i
].
th»adid
 =hreadid;

3637 
cu¼’t
->
LSQ_num
 = 0;

3638 
cu¼’t
->
LSQ_h—d
 = cu¼’t->
LSQ_
 = 0;

3639 
cu¼’t
->
LSQ_couÁ
 = 0;

3640 
cu¼’t
->
LSQ_fcouÁ
 = 0;

3641 
cu¼’t
->
m_shLQNum
 = 0;

3642 
cu¼’t
->
m_shSQNum
 = 0;

3643 
m_tÙ®SÎ
[
th»adid
] = 0;

3644 
m_sqLQFuÎ
[
th»adid
] = 0;

3645 
m_sqSQFuÎ
[
th»adid
] = 0;

3646 
m_RUUFuÎ
[
th»adid
] = 0;

3647 
m_comm™SÎ
[
th»adid
] = 0;

3649 
	}
}

3654 #ifdeà
COUNT_LSQ


3655 
	gnÚ_issue_LSQ_num
;

3663 
	#STORE_OP_INDEX
 0

	)

3664 
	#STORE_ADDR_INDEX
 1

	)

3666 
	#STORE_OP_READY
(
RS
è((RS)->
id•_»ady
[
STORE_OP_INDEX
])

	)

3667 
	#STORE_ADDR_READY
(
RS
è((RS)->
id•_»ady
[
STORE_ADDR_INDEX
])

	)

3683 
RS_lšk
 *
	gr¦šk_ä“_li¡
;

3684 
RS_lšk
 *
	gr¦šk_li¡
[
MAX_RS_LINKS
];

3687 #ifdeà
DIRECTORY


3688 
RS_li¡
 *
	grs_ÿche_li¡
[
MAXTHREADS
][
MSHR_SIZE
];

3691 
RS_lšk
 
	gRSLINK_NULL
 = 
RSLINK_NULL_DATA
;

3692 
couÁ”_t
 
	grs_lšk_id
 = 0;

3695 
	#RSLINK_INIT
(
RSL
, 
RS
è\

	)

3696 ((
	gRSL
).
	gÃxt
 = 
NULL
, (RSL).
	grs
 = (
RS
), (RSL).
	gg
 = (RS)->
g
)

3699 
	#RSLINK_IS_NULL
(
LINK
è((LINK)->
rs
 =ğ
NULL
)

	)

3702 
	#RSLINK_VALID
(
LINK
è((LINK)->
g
 =ğ(LINK)->
rs
->g)

	)

3705 
	#RSLINK_RS
(
LINK
è((LINK)->
rs
)

	)

3708 
	#RSLINK_NEW
(
DST
, 
RS
è\

	)

3709 { 
RS_lšk
 *
	gn_lšk
; \

3710 ià(!
	gr¦šk_ä“_li¡
) \

3711 
·nic
("out of„s†inks"); \

3712 
	grs_lšk_num
++; \

3713 
	gn_lšk
 = 
r¦šk_ä“_li¡
; \

3714 
	gr¦šk_ä“_li¡
 = 
r¦šk_ä“_li¡
->
Ãxt
; \

3715 
	gn_lšk
->
	gÃxt
 = 
NULL
; \

3716 
	gn_lšk
->
	grs
 = (
RS
);‚_lšk->
	gg
 = 
n_lšk
->
rs
->
g
; \

3717 
	gn_lšk
->
	gÏ¡_u£
 = 
sim_cyşe
; \

3718 (
	gDST
èğ
n_lšk
; \

3722 
	#RSLINK_FREE
(
LINK
è\

	)

3723 { 
RS_lšk
 *
	gf_lšk
 = (
LINK
); \

3724 
	gf_lšk
->
	grs
 = 
NULL
; f_lšk->
	gg
 = 0; \

3725 
	gf_lšk
->
	gÃxt
 = 
r¦šk_ä“_li¡
; \

3726 
	gr¦šk_ä“_li¡
 = 
f_lšk
; \

3727 
	grs_lšk_num
--; \

3732 
	#RSLINK_FREE_LIST
(
LINK
è\

	)

3733 { 
RS_lšk
 *
	gæ_lšk
, *
	gæ_lšk_Ãxt
; \

3734 
	gæ_lšk
=(
LINK
); fl_lšk; fl_lšk=
æ_lšk_Ãxt
) \

3736 
æ_lšk_Ãxt
 = 
æ_lšk
->
Ãxt
; \

3737 
RSLINK_FREE
(
æ_lšk
); \

3743 
	$r¦šk_š™
 (
Æšks
)

3745 
i
;

3746 
RS_lšk
 *
lšk
;

3748 
r¦šk_ä“_li¡
 = 
NULL
;

3749 
i
 = 0; i < 
Æšks
; i++)

3751 
lšk
 = 
	`ÿÎoc
 (1,  (
RS_lšk
));

3752 ià(!
lšk
)

3753 
	`çl
 ("out of virtual memory");

3754 
r¦šk_li¡
[
i
] = 
lšk
;

3755 
lšk
->
Ãxt
 = 
r¦šk_ä“_li¡
;

3756 
r¦šk_ä“_li¡
 = 
lšk
;

3758 
	}
}

3760 
RS_lšk
 * 
	$fšdMax_r¦šk
()

3762 
i
, 
max_id
;

3763 
RS_lšk
 *
lšk
;

3764 
couÁ”_t
 
max
 = 0;

3766 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

3768 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 > 
max
)

3770 
max
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

3771 
max_id
 = 
i
;

3774  
r¦šk_li¡
[
max_id
];

3775 
	}
}

3777 
RS_lšk
 * 
	$fšdMš_r¦šk
()

3779 
i
, 
mš_id
;

3780 
RS_lšk
 *
lšk
;

3781 
couÁ”_t
 
mš
 = 
WAIT_TIME
;

3783 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

3785 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 < 
mš
)

3787 
mš
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

3788 
mš_id
 = 
i
;

3791  
r¦šk_li¡
[
mš_id
];

3792 
	}
}

3794 #ifdeà
DIRECTORY


3796 
	$rs_ÿche_š™
()

3798 
i
, 
n
;

3799 
n
 = 0;‚ < 
MAXTHREADS
;‚++)

3801 
i
=0; i<
MSHR_SIZE
; i++)

3802 
rs_ÿche_li¡
[
n
][
i
] = 
NULL
;

3804 
	}
}

3811 
	$check_fu_busy
 ()

3813 
i
;

3815 
i
 = 0; i < 
numcÚ‹xts
; i++)

3817 
fu_busy
[
i
] = 0;

3821 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

3823 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
)

3824 
fu_busy
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]++;

3826 
	}
}

3836 
	$ruu_»Ëa£_fu
 ()

3838 
i
;

3841 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

3844 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
 > 0)

3846 
fu_poŞ
->
»sourûs
[
i
].
busy
--;

3848 #ifdeà 
PWR_ALU


3849 #ifdeà
ALU_MERGE


3850 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

3852 
Ÿlu1_acûss
++;

3853 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

3855 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

3857 
çlu1_acûss
++;

3858 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

3861 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

3863 
Ÿlu1_acûss
++;

3864 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

3866 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IMULT_INDEX
)

3868 
Ÿlu2_acûss
++;

3869 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu2_acûss
++;

3872 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

3874 
çlu1_acûss
++;

3875 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

3878 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPMULT_INDEX
)

3880 
çlu2_acûss
++;

3881 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu2_acûss
++;

3889 
	}
}

3891 #ifdeà
DIRECTORY


3892 #ifdeà
CONF_RES_RESEND


3893 
QUEUE_EVENT
 *
	g»¶y_queue
[
MAXTHREADS
], *
	g£nd_queue
[MAXTHREADS];

3895 
DIRECTORY_EVENT
 *
	gdœ_ev’t_queue
;

3896 
DIRECTORY_EVENT
 *
	gev’t_li¡
[
L2_MSHR_SIZE
];

3899 
	$dœ_ev’tq_š™
()

3901 
n
 = 0;

3902 #ifdeà
CONF_RES_RESEND


3903 
n
 = 0;‚<
MAXTHREADS
;‚++)

3905 
»¶y_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

3906 
£nd_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

3907 
	`š™Queue
(
»¶y_queue
[
n
]);

3908 
	`š™Queue
(
£nd_queue
[
n
]);

3911 
dœ_ev’t_queue
 = 
NULL
;

3912 
n
 = 0;‚<
L2_MSHR_SIZE
;‚++)

3913 
ev’t_li¡
[
n
] = 
NULL
;

3914 
	}
}

3915 #ifdeà
LOCK_HARD


3917 
	$lock_ev’tq_š™
()

3919 
n
 = 0, 
j
 = 0;

3920 
n
 = 0;‚<
MAXTHREADS
;‚++)

3922 
j
=0;j<
MAXLOCK
;j++)

3924 
LOCK_REG
[
n
][
j
] = (
LOCK_ENTRY
 *è
	`ÿÎoc
 (1,  (LOCK_ENTRY));

3925 
LOCK_REG
[
n
][
j
]->
lock_owÃr
 = 0;

3926 
LOCK_REG
[
n
][
j
]->
wa™šg_num
 = 0;

3927 
LOCK_REG
[
n
][
j
]->
wa™šg_h—d
 = 0;

3928 
LOCK_REG
[
n
][
j
]->
wa™šg_
 = 0;

3930 
j
=0;j<
MAXBARRIER
;j++)

3932 
BAR_REG
[
n
][
j
] = (
BAR_ENTRY
 *è
	`ÿÎoc
 (1,  (BAR_ENTRY));

3933 
BAR_REG
[
n
][
j
]->
b¬r›r_num
 = 0;

3936 
	}
}

3939 #ifdeà
CONF_RES_RESEND


3941 
	$š™Queue
(
QUEUE_EVENT
 *
queue
)

3943 
i
;

3944 if(!
queue
) ;

3945 
queue
->
ä“_EÁr›s
 = 
QUEUE_SIZE
;

3946 
i
=0; i<
QUEUE_SIZE
; i++)

3948 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 0;

3949 
queue
->
Queue_’Œy
[
i
].
ev’t
 = 
NULL
;

3951 
	}
}

3955 
	$bufãr_fuÎ_check
(
DIRECTORY_EVENT
 *
ev’t
)

3957 
vc
 = 0, 
İtiÚs
 = -1, 
bufãr_fuÎ
 = 0;

3958 if((
ev’t
->
des1
*
mesh_size
+ev’t->
des2
 !ğev’t->
¤c1
*mesh_size+ev’t->
¤c2
è&& (ev’t->
šput_bufãr_fuÎ
è&& (ev’t->
İ”©iÚ
 =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
MISS_IL1
))

3960 #ifdeà
MC


3961 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

3963 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

3964 
bufãr_fuÎ
 = 1;

3966 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

3968 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3969 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

3970 if(
vc
 == -1)

3971 
bufãr_fuÎ
 = 1;

3974 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

3977 
bufãr_fuÎ
 = 
	`CombN‘wÜkBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1),ƒv’t->
İ”©iÚ
, &
vc
);

3979 if(
bufãr_fuÎ
)

3981 #ifdeà
POPNET


3982 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

3983 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

3986 #ifdeà
POPNET


3987 
vc
 == -1

3989 #ifdeà
OPTICAL_INTERCONNECT


3990 
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
)

3996 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

3998 
IÅut_queue_fuÎ
 ++;

3999 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

4005 
ev’t
->
šput_bufãr_fuÎ
 = 0;

4006 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4007 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4008 if(
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

4010 
SÎ_šput_queue
 +ğ
sim_cyşe
 - 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
];

4011 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4018 
	}
}

4019 
	$dœ_ev’tq_Ãx‹v’t
()

4021 
DIRECTORY_EVENT
 *
ev’t
, *
ev
, *
Ãxt
, *
´ev
;

4022 
i
, 
š£¹_æag
 = 0;

4023 
ev’t
 = 
dœ_ev’t_queue
;

4024 
ev
 = 
NULL
;

4025 
ev’t
!=
NULL
)

4027 
Ãxt
 = 
ev’t
->next;

4029 ià(
ev’t
->
wh’
 <ğ
sim_cyşe
)

4031 
š£¹_æag
 = 
	`bufãr_fuÎ_check
(
ev’t
);

4032 if(
š£¹_æag
 == 0)

4034 if(
ev’t
 =ğ
dœ_ev’t_queue
)

4036 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

4037 
ev’t
->
Ãxt
 = 
NULL
;

4038 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

4040 if(
ev’t
->
³ndšg_æag
 == 0)

4042 
ev’t
->
³ndšg_æag
 = 1;

4043 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] ++;

4046 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

4047 
dœ_ev’t_queue
 = 
ev’t
;

4048 
ev
 = 
ev’t
;

4049 
ev’t
 =ƒv’t->
Ãxt
;

4050 
§me_L1_L2_fifo_fuÎ
 ++;

4054 if(
ev’t
->
³ndšg_æag
 == 1)

4055 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] --;

4056 
ev’t
 = 
dœ_ev’t_queue
;

4062 
ev
->
Ãxt
 = 
ev’t
->next;

4063 
ev’t
->
Ãxt
 = 
NULL
;

4064 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

4066 if(
ev’t
->
³ndšg_æag
 == 0)

4068 
ev’t
->
³ndšg_æag
 = 1;

4069 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] ++;

4071 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

4072 
dœ_ev’t_queue
 = 
ev’t
;

4073 
ev
 = 
ev’t
;

4074 
ev’t
 =ƒv’t->
Ãxt
;

4075 
§me_L1_L2_fifo_fuÎ
 ++;

4079 if(
ev’t
->
³ndšg_æag
 == 1)

4080 
mshr_³ndšg_ev’t
[(
ev’t
->
¤c1
-
MEM_LOC_SHIFT
)*
mesh_size
 +ƒv’t->
¤c2
] --;

4081 
ev’t
 = 
ev
->
Ãxt
;

4085 if(
š£¹_æag
 == 1)

4087 
ev
 = 
ev’t
;

4088 
ev’t
 =ƒv’t->
Ãxt
;

4090 if(
š£¹_æag
 == 2)

4092 if(
ev’t
 =ğ
dœ_ev’t_queue
)

4094 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

4095 
ev’t
->
Ãxt
 = 
NULL
;

4096 
	`dœ_ev’tq_š£¹
(
ev’t
);

4097 
ev’t
 = 
dœ_ev’t_queue
;

4101 
ev
->
Ãxt
 = 
ev’t
->next;

4102 
ev’t
->
Ãxt
 = 
NULL
;

4103 
	`dœ_ev’tq_š£¹
(
ev’t
);

4104 
ev’t
 = 
ev
->
Ãxt
;

4111 
ev
 = 
ev’t
;

4112 
ev’t
 =ƒv’t->
Ãxt
;

4116 
	}
}

4129 #ifdeà
DIRECTORY


4130 
RS_lšk
 *
	gev’t_queue
;

4132 
RS_lšk
 *
	gev’t_queue
;

4136 
	$ev’tq_š™
 ()

4138 
ev’t_queue
 = 
NULL
;

4139 
	}
}

4145 
	$ev’tq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4147 
RS_lšk
 *
ev
;

4149 
cÚ‹xt
 *
cu¼’t
;

4151 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4153 ià(!
¡»am
)

4154 
¡»am
 = 
¡d”r
;

4156 
	`årštf
 (
¡»am
, "**ƒvent queue state **\n");

4158 
ev
 = 
ev’t_queue
;ƒv !ğ
NULL
;ƒv =ƒv->
Ãxt
)

4161 ià(
	`RSLINK_VALID
 (
ev
))

4163 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4165 
	`årštf
 (
¡»am
, "idx: %2d: @ %.0f\n", 
rs
->
šdex
, (è
ev
->
x
.
wh’
);

4166 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
FALSE
);

4169 
	}
}

4176 
ev’tq_queue_ev’t
 (
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’


4177 #ifdeà
DIRECTORY


4178 , 
Ït
)

4183 
RS_lšk
 *
	g´ev
, *
	gev
, *
	gÃw_ev
;

4185 ià(
	grs
->
	gcom¶‘ed
)

4186 
·nic
 ("event completed");

4188 ià(
	gwh’
 <ğ
sim_cyşe
)

4189 
·nic
 ("event occurred inhe…ast");

4192 
RSLINK_NEW
 (
Ãw_ev
, 
rs
);

4193 
	gÃw_ev
->
	gx
.
	gwh’
 = 
wh’
;

4195 #ifdeà
DIRECTORY


4196 if(
	grs
 =ğ
NULL
)

4197 
´štf
("RS…robËm %Îd\n", 
sim_cyşe
);

4200 
	g´ev
 = 
NULL
, 
	gev
 = 
ev’t_queue
;ƒv &&ƒv->
	gx
.
	gwh’
 < wh’;…»v = 
ev
,ƒv =ƒv->
Ãxt
);

4202 ià(
	g´ev
)

4205 
	gÃw_ev
->
	gÃxt
 = 
´ev
->
Ãxt
;

4206 
	g´ev
->
	gÃxt
 = 
Ãw_ev
;

4211 
	gÃw_ev
->
	gÃxt
 = 
ev’t_queue
;

4212 
	gev’t_queue
 = 
Ãw_ev
;

4221 
RUU_¡©iÚ
 *

4222 
	$ev’tq_Ãxt_ev’t
 ()

4224 
RS_lšk
 *
ev
;

4225 
RS_lšk
 *
‹mp_ev
, *
´ed_ev
 = 
NULL
;

4227 
‹mp_ev
 = 
ev’t_queue
;

4229 
‹mp_ev
 && !
thecÚ‹xts
[‹mp_ev->
rs
->
th»adid
]->
aùive_this_cyşe
)

4231 
´ed_ev
 = 
‹mp_ev
;

4232 
‹mp_ev
 =emp_ev->
Ãxt
;

4235 ià(
‹mp_ev
 &&emp_ev->
x
.
wh’
 <ğ
sim_cyşe
)

4238 
ev
 = 
‹mp_ev
;

4239 ià(
‹mp_ev
 =ğ
ev’t_queue
)

4241 
ev’t_queue
 =ƒv’t_queue->
Ãxt
;

4245 
´ed_ev
->
Ãxt
 = 
‹mp_ev
->next;

4249 ià(
	`RSLINK_VALID
 (
ev
))

4251 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4254 
	`RSLINK_FREE
 (
ev
);

4257  
rs
;

4262 
	`RSLINK_FREE
 (
ev
);

4265  
	`ev’tq_Ãxt_ev’t
 ();

4271  
NULL
;

4273 
	}
}

4275 
	$chªgeInEv’tQueue
 (
RUU_¡©iÚ
 * 
rs
, 
th»adid
)

4279 
RS_lšk
 *
ev
 = 
ev’t_queue
;

4280 
RS_lšk
 *
´ev
 = 
NULL
;

4282 
ev
 !ğ
NULL
)

4284 ià(
ev
->
rs
 ==„s)

4286 
´ev
 = 
ev
;

4287 
ev
 =ƒv->
Ãxt
;

4290 ià(
ev
 =ğ
NULL
)

4292 
ev
->
x
.
wh’
 = 
sim_cyşe
;

4295 ià(
´ev
 =ğ
NULL
)

4296 
ev’t_queue
 = 
ev
->
Ãxt
;

4298 
´ev
->
Ãxt
 = 
ev
->next;

4300 
	`RSLINK_FREE
 (
ev
);

4301 
	}
}

4317 
RS_lšk
 *
	g»ady_queue
;

4321 
	$»adyq_š™
 ()

4323 
»ady_queue
 = 
NULL
;

4324 
	}
}

4329 
	$»adyq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4331 
RS_lšk
 *
lšk
;

4333 
cÚ‹xt
 *
cu¼’t
;

4335 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4337 ià(!
¡»am
)

4338 
¡»am
 = 
¡d”r
;

4340 
	`årštf
 (
¡»am
, "**„eady queue state **\n");

4342 
lšk
 = 
»ady_queue
;†šk !ğ
NULL
;†šk =†šk->
Ãxt
)

4345 ià(
	`RSLINK_VALID
 (
lšk
))

4347 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
lšk
);

4349 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
TRUE
);

4352 
	}
}

4368 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

4370 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

4373 ià(
rs
->
queued
)

4374 
	`·nic
("node is‡lready queued");

4376 
rs
->
queued
 = 
TRUE
;

4378 #ifdeà
REMOVE_COMPUTE_QUEUE


4379 #ifdeà
PWR_WAKE


4380 ià(
rs
->
š_LSQ
)

4382 
lsq»ady
++;

4383 
rs
->
couÁed_lsq»ady
 = 1;

4385 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

4387 
ä—dy
++;

4388 
rs
->
couÁed_ä—dy
 = 1;

4392 
œ—dy
++;

4393 
rs
->
couÁed_œ—dy
 = 1;

4399 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

4400 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

4403 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

4405 ià(
´ev
)

4408 
Ãw_node
->
Ãxt
 = 
´ev
->next;

4409 
´ev
->
Ãxt
 = 
Ãw_node
;

4414 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

4415 
»ady_queue
 = 
Ãw_node
;

4417 
	}
}

4422 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

4424 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

4427 ià(
rs
->
queued
)

4428 
	`·nic
 ("node is‡lready queued");

4429 
rs
->
queued
 = 
TRUE
;

4431 #ifdeà
PWR_WAKE


4432 #ifdeà
READY_ROB_STAT


4433 ià(!
rs
->
š_LSQ
)

4434 
»ady_thrd
[
rs
->
th»adid
]++;

4436 ià(
rs
->
š_LSQ
)

4438 
lsq»ady
++;

4439 
lsq»ady_ş
[
rs
->
şu¡”
]++;

4440 
rs
->
couÁed_lsq»ady
 = 1;

4442 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

4444 
ä—dy
++;

4445 
ä—dy_ş
[
rs
->
şu¡”
]++;

4446 
rs
->
couÁed_ä—dy
 = 1;

4450 
œ—dy
++;

4451 
œ—dy_ş
[
rs
->
şu¡”
]++;

4452 
rs
->
couÁed_œ—dy
 = 1;

4457 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

4458 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

4461 ià(
rs
->
š_LSQ
 || 
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_LONGLAT
 | 
F_CTRL
))

4464 
´ev
 = 
NULL
;

4465 
node
 = 
»ady_queue
;

4470 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

4473 ià(
´ev
)

4476 
Ãw_node
->
Ãxt
 = 
´ev
->next;

4477 
´ev
->
Ãxt
 = 
Ãw_node
;

4482 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

4483 
»ady_queue
 = 
Ãw_node
;

4485 
	}
}

4496 
CV_lšk
 
	gCVLINK_NULL
 = { 
NULL
, 0 };

4499 
	#CVLINK_INIT
(
CV
, 
RS
,
ONUM
è((CV).
rs
 = (RS), (CV).
od•_num
 = (ONUM))

	)

4502 
	#CV_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_TOTAL_REGS
))

	)

4509 
	#CREATE_VECTOR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

4510 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] \

4511 : 
cu¼’t
->
ü—‹_veùÜ
[
N
])

4514 
	#CREATE_VECTOR_RT
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

4515 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ_¹
[
N
] \

4516 : 
cu¼’t
->
ü—‹_veùÜ_¹
[
N
])

4519 
	#SET_CREATE_VECTOR
(
N
, 
L
è(
cu¼’t
->
¥ec_mode
 \

	)

4520 ? (
BITMAP_SET
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (
N
)),\

4521 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] = (
L
)) \

4522 : (
cu¼’t
->
ü—‹_veùÜ
[
N
] = (
L
)))

4529 
	#DNA
 (0)

	)

4531 #ià
defšed
(
TARGET_PISA
)

4534 
	#DGPR
(
N
è(N)

	)

4535 
	#DGPR_D
(
N
è((Nè&~1)

	)

4538 
	#DFPR_L
(
N
è(((N)+32)&~1)

	)

4539 
	#DFPR_F
(
N
è(((N)+32)&~1)

	)

4540 
	#DFPR_D
(
N
è(((N)+32)&~1)

	)

4543 
	#DHI
 (0+32+32)

	)

4544 
	#DLO
 (1+32+32)

	)

4545 
	#DFCC
 (2+32+32)

	)

4546 
	#DTMP
 (3+32+32)

	)

4548 #–ià
defšed
(
TARGET_ALPHA
)

4551 
	#DGPR
(
N
è(31 - (N)è

	)

4554 
	#DFPR
(
N
è(((Nè=ğ31è? 
DNA
 : ((N)+32))

	)

4557 
	#DFPCR
 (0+32+32)

	)

4558 
	#DUNIQ
 (1+32+32)

	)

4559 
	#DTMP
 (2+32+32)

	)

4562 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4570 
	#SET_NPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_NPC
 = (EXPR))

	)

4573 #undeà
SET_TPC


4574 
	#SET_TPC
(
EXPR
è(
rg‘_PC
 = (EXPR))

	)

4577 
	#CPC
 (
cu¼’t
->
»gs
.
»gs_PC
)

	)

4578 
	#SET_CPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_PC
 = (EXPR))

	)

4583 #ifdeà
TEST_BUG


4585 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

4586 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

4587 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

4588 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4589 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

4590 
BITMAP_SET
(
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

4591 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

4592 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

4593 #ià
defšed
(
TARGET_PISA
)

4598 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4599 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

4600 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

4601 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4602 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

4603 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4604 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

4605 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

4606 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4607 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

4608 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

4609 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4610 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

4611 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4612 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

4613 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

4614 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

4615 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

4616 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

4617 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4618 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)),\

4619 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

4620 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

4621 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

4626 
	#HI
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

4627 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

4628 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

4629 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4630 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

4631 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0), \

4632 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

4633 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

4634 
	#LO
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

4635 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

4636 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

4637 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4638 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

4639 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1), \

4640 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

4641 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

4642 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

4643 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4644 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4645 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4646 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4647 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 2), \

4648 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4649 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4651 #–ià
defšed
(
TARGET_ALPHA
)

4656 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

4657 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

4658 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

4659 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4660 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

4661 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

4662 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

4663 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

4664 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

4665 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

4666 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

4667 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4668 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

4669 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

4670 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

4671 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

4676 
	#FPCR
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

4677 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

4678 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

4679 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4680 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

4681 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 0), \

4682 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

4683 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

4684 
	#UNIQ
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

4685 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

4686 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

4687 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4688 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

4689 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

4690 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

4691 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

4692 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

4693 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4694 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4695 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4696 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4697 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

4698 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4699 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4702 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4706 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

4707 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

4708 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

4709 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4710 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

4711 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

4712 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

4713 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

4714 #ià
defšed
(
TARGET_PISA
)

4719 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4720 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

4721 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

4722 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4723 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

4724 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4725 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

4726 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

4727 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4728 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

4729 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

4730 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4731 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

4732 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4733 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

4734 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

4735 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

4736 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

4737 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

4738 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4739 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)), \

4740 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

4741 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

4742 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

4747 
	#HI
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

4748 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

4749 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

4750 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4751 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

4752 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0),\

4753 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

4754 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

4755 
	#LO
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

4756 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

4757 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

4758 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4759 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

4760 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1),\

4761 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

4762 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

4763 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

4764 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4765 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4766 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4767 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4768 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 2),\

4769 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4770 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4772 #–ià
defšed
(
TARGET_ALPHA
)

4777 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

4778 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

4779 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

4780 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4781 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

4782 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

4783 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

4784 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

4785 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

4786 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

4787 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

4788 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4789 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

4790 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

4791 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

4792 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

4797 
	#FPCR
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

4798 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

4799 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

4800 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4801 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

4802 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 0),\

4803 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

4804 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

4805 
	#UNIQ
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

4806 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

4807 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

4808 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4809 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

4810 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

4811 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

4812 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

4813 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

4814 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

4815 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

4816 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

4817 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

4818 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

4819 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

4820 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

4823 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

4832 
	#__READ_SPECMEM
(
SRC
, 
SRC_V
, 
FAULT
è\

	)

4833 (
	gaddr
 = (
SRC
), \

4834 (
	gcu¼’t
->
	g¥ec_mode
 \

4835 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V)))\

4836 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V), cu¼’t->
id
, 
š¡
))), \

4837 
	gSRC_V
)

4839 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

4840 
__READ_SPECMEM
((
SRC
), 
‹mp_by‹
, (
FAULT
))

4841 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

4842 
MD_SWAPH
(
__READ_SPECMEM
((
SRC
), 
‹mp_h®f
, (
FAULT
)))

4843 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

4844 
MD_SWAPW
(
__READ_SPECMEM
((
SRC
), 
‹mp_wÜd
, (
FAULT
)))

4845 #ifdeà
HOST_HAS_QWORD


4846 
	#READ_QWORD
(
SRC
, 
FAULT
è\

	)

4847 
MD_SWAPQ
(
__READ_SPECMEM
((
SRC
), 
‹mp_qwÜd
, (
FAULT
)))

4850 
	#__WRITE_SPECMEM
(
SRC
, 
DST
, 
DST_V
, 
FAULT
è\

	)

4851 (
	gDST_V
 = (
SRC
), 
	gaddr
 = (
DST
), \

4852 (
	gcu¼’t
->
	g¥ec_mode
 \

4853 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V)))\

4854 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V), cu¼’t->
id
, 
š¡
))))

4856 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

4857 
__WRITE_SPECMEM
((
SRC
), (
DST
), 
‹mp_by‹
, (
FAULT
))

4858 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

4859 
__WRITE_SPECMEM
(
MD_SWAPH
(
SRC
), (
DST
), 
‹mp_h®f
, (
FAULT
))

4860 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

4861 
__WRITE_SPECMEM
(
MD_SWAPW
(
SRC
), (
DST
), 
‹mp_wÜd
, (
FAULT
))

4863 #ifdeà
HOST_HAS_QWORD


4864 
	#WRITE_QWORD
(
SRC
, 
DST
, 
FAULT
è\

	)

4865 
__WRITE_SPECMEM
(
MD_SWAPQ
(
SRC
), (
DST
), 
‹mp_qwÜd
, (
FAULT
))

4869 
	#SYSCALL
(
INST
è\

	)

4871 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative syscall") : () 0), \

4872 
sys_sysÿÎ
(&(
cu¼’t
->
»gs
), 
mem_acûss
, cu¼’t->
mem
, 
INST
, 
TRUE
))

4874 
	#QUIESCE
(
INST
è\

	)

4876 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative quiescent instruction") : () 0), \

4877 
ÿÎ_qu›sû
(
cu¼’t
->
id
))

4882 
	$cv_š™
 (
th»adid
)

4884 
i
;

4885 
cÚ‹xt
 *
cu¼’t
;

4887 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4891 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

4893 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

4894 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 0;

4895 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

4896 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
i
] = 0;

4900 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

4902 
	}
}

4907 
	$cv_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4909 
i
;

4910 
CV_lšk
 
’t
;

4912 
cÚ‹xt
 *
cu¼’t
;

4914 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4916 ià(!
¡»am
)

4917 
¡»am
 = 
¡d”r
;

4919 
	`årštf
 (
¡»am
, "** create vector state **\n");

4921 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

4923 
’t
 = 
	`CREATE_VECTOR
 (
i
);

4924 ià(!
’t
.
rs
)

4925 
	`årštf
 (
¡»am
, "[cv%02d]: from‡rch™eùed„eg fe\n", 
i
);

4927 
	`årštf
 (
¡»am
, "[cv%02d]: from %s, idx: %d\n", 
i
, (
’t
.
rs
->
š_LSQ
 ? "LSQ" : "RUU"),ƒÁ.rs->
šdex
);

4929 
	}
}

4931 
ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
);

4934 
Œaûr_»cov”
 (
th»adid
);

4935 
»cF»eRegLi¡
 (
th»adid
);

4938 #ifdeà
DIRECTORY


4939 
	$RS_block_li¡
(
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’
, 
’Œy
, 
th»adid
)

4941 if(
rs
->
¥ec_mode
) ;

4942 if(
’Œy
 < 1 ||ƒÁry > 
MSHR_SIZE
)

4943 
	`·nic
("L1 MSHR: wrong mshrƒntry");

4945 
’Œy
 =ƒntry - 1;

4947 
RS_li¡
 *
rs_li¡
;

4948 
rs_li¡
 = 
	`ÿÎoc
Ğ1, (
RS_li¡
));

4949 
rs_li¡
->
rs
 =„s;

4950 
rs_li¡
->
Ãxt
 = 
NULL
;

4951 
rs_li¡
->
¥ec_mode
 = 
rs
->spec_mode;

4952 
rs_li¡
->
wh’
 = when;

4953 
rs_li¡
->
Ãxt
 = 
rs_ÿche_li¡
[
th»adid
][
’Œy
];

4954 
rs_ÿche_li¡
[
th»adid
][
’Œy
] = 
rs_li¡
;

4955 
	}
}

4957 
	$RS_block_Ãxt
(
RS_li¡
 *
cur
)

4959 if(!
cur
->
rs
) ;

4961 if(
cur
->
¥ec_mode
 && !cur->
rs
->spec_mode)

4963 
cur
->
rs
->
ÿche_»ady
 = 0;

4964 if(((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
è&& (cur->rs->
issued
 || cur->rs->
queued
 || cur->rs->
com¶‘ed
)) || (!(MD_OP_FLAGS(cur->rs->op) & F_LOAD) && !(cur->rs->issued && !cur->rs->queued)))

4965 
	`·nic
("L1 MSHR: issue, queue, or commit flag is set!!!");

4967 if((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
))

4971 
	`»adyq_’queue
 (
cur
->
rs
);

4980 
cur
->
rs
->
wr™ewa™
 = 2;

4981 
	}
}

4988 
	gcomm™_idË
 = 0;

4989 
	gcomm™_æag
[
MAXTHREADS
] = {0};

4994 
	$ruu_comm™
 ()

4997 
i
, 
j
, 
th»adid
, 
Ït
, 
ev’ts
, 
comm™‹d
;

4998 
mm
;

4999 
cÚ‹xt
 *
cu¼’t
;

5000 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
, 
LSQ_šdex
;

5001 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

5002 
¡Üe_İ
 = 0, 
pcbS—rch
;

5003 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

5004 #ifdeà
DIRECTORY


5005 
»adSh¬eDœ
 = 0;

5008 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

5009 
couÁedThisCyşe
 = 0;

5011 
md_addr_t
 
‹mpAddr
;

5012 
md_İcode
 
‹mpOp
;

5014 
th»ad_comm™
 = 0;

5015 
isSTLC
;

5019 
j
 = 0; j <ğ
numcÚ‹xts
; j++, 
th»ad_comm™
 = (thread_commit + 1) %‚umcontexts)

5021 #ifdef 
EDA


5022 ià(
thecÚ‹xts
[
th»ad_comm™
]->
ma¡”id
 == 2)

5026 ià(
j
 > 0)

5028 
comm™_dÚe
[
j
 - 1] = 
comm™‹d
;

5029 if(!
comm™‹d
)

5030 
m_comm™SÎ
[
j
-1]++;

5032 #ifdeà
SYNC_IDEAL


5033 if(
®lFÜked
 && (
lock_wa™šg
[
j
]))

5036 ià(
j
 =ğ
numcÚ‹xts
)

5039 
th»adid
 = 
th»ad_comm™
;

5040 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5042 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

5043 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

5044 
comm™‹d
 = 0;

5045 
haha
 = 0;

5049 
cu¼’t
->
RUU_num
 > 0 && 
comm™‹d
 < 
ruu_comm™_width
)

5051 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

5052 ià(
busSlÙCouÁ
 < 11)

5054 ià(!
couÁedThisCyşe
)

5055 
¡®lNoBusSlÙ
++;

5056 
couÁedThisCyşe
 = 1;

5060 
RUU_¡©iÚ
 *
rs
 = &(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
]);

5063 
‹mpAddr
 = 0;

5064 
¡Üe_İ
 = 0;

5065 
‹mpOp
 = 0;

5066 
isSTLC
 = 0;

5068 #ifdef 
EDA


5069 ià((
cu¼’t
->
ma¡”id
 =ğ1è&& (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& 
	`queueSize
 (cu¼’t->
´edQueue
) == -1)

5072 #ifdeà 
DIRECTORY


5073 if(
rs
->
wr™ewa™
 =ğ1 && !
mshr_³ndšg_ev’t
[
j
])

5078 ià(!
rs
->
com¶‘ed
)

5083 ià(
cu¼’t
->
ma¡”id
 =ğ0 && 
rs
->
PC
 < 0x120000000)

5084 
	`·nic
 ("Illegal instructionryingo commit\n");

5086 #ifdeà
SMD_USE_WRITE_BUF


5088 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
m_L1WBufCÁ
[
th»adid
]))

5091 #ifdeà
SERIALIZATION_ACK


5092 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
numStÜeP’dšg
[
th»adid
]

5093 #ifdeà
READ_PERMIT


5094 || 
numLßdP’dšg
[
th»adid
]

5100 
ev’ts
 = 0;

5103 ià(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
—_comp
)

5106 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[cu¼’t->
RUU_h—d
].threadid)

5108 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5109 
‹mp_LSQ_num
--;

5110 ià(!
‹mp_LSQ_num
)

5111 
	`·nic
 ("RUU‡nd LSQ out of sync");

5113 ià(
cu¼’t
->
LSQ_num
 <ğ0 || !cu¼’t->
LSQ
[
LSQ_šdex
].
š_LSQ
)

5114 
	`·nic
 ("RUU out of sync with LSQ");

5116 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
com¶‘ed
)

5121 #ifdeà
SEQUENTIAL_CONSISTENCY


5122 ià(
šv®id©iÚSÎ
[
th»adid
])

5126 ià(
comm™SÎ
[
th»adid
])

5130 #ifdeà
INV_ACK_CON


5131 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& (
³ndšg_šv®id©iÚ
[
th»adid
]))

5134 #ifdeà
SERIALIZATION_ACK


5135 if(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
numStÜeP’dšg
[
th»adid
] <ğ0 && 
rs
->
wr™ewa™
 == 0)

5139 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5141 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
)

5142 
isSTLC
 = 1;

5143 #ifdeà
SMD_USE_WRITE_BUF


5144 ià(
m_L1WBufCÁ
[
th»adid
] >ğ
SMD_L1_WBUF_SIZE
)

5146 if(
isSTLC
 && 
m_L1WBufCÁ
[
th»adid
])

5150 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
PC
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].PC;

5151 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
IR
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].IR;

5152 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
İ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].op;

5153 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
lsqId
 = 
LSQ_šdex
;

5154 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
robId
 = 
rs
->
šdex
;

5155 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eV®ue
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
v®_¿
;

5156 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
addr
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].addr;

5157 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
sim_num_š¢
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].sim_num_insn;

5158 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eS¹ed
 = 0;

5159 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
fšishTime
 = 0;

5160 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
isMiss
 = 0;

5161 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
’ŒyTime
 = 
sim_cyşe
;

5162 ifĞ
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5164 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 
isSTLC
);

5165 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 1;

5166 if(
isSTLC
 && 
¡ÜeCÚdFa
 == 0)

5167 
	`·nic
("Store conditional should fail on‡ L1 miss");

5170 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 0;

5172 
m_L1WBufCÁ
[
th»adid
]++;

5173 
m_L1WBuf_
[
th»adid
] = (m_L1WBuf_[th»adid]+1)%
SMD_L1_WBUF_SIZE
;

5176 #ifdeà
DIRECTORY


5177 if(
rs
->
wr™ewa™
 == 2)

5179 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5180 
ev’ts
 |ğ
PEV_CACHEMISS
;

5185 #ifdeà
DIRECTORY


5186 if(
rs
->
ÿche_»ady
 == 1)

5190 
¡Üe_İ
 = 1;

5191 
boŞ
 = 0;

5192 
»s_‹m¶©e
 *
fu
;

5193 
·»ÁID
;

5195 
·»ÁID
 = 
th»adid
;

5197 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
), 
th»adid
);

5198 #ifdeà 
DCACHE_MSHR


5199 ià(
fu
 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,h»adidè&& !
boŞ
)

5201 #ifdeà
MSHR


5202 ià(
fu
 && !
mshr_fuÎ
 && !
boŞ
)

5204 ià(
fu
 && !
boŞ
)

5208 ià(
fu
->
ma¡”
->
busy
)

5209 
	`·nic
 ("functional unit‡lready in use");

5211 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

5212 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

5213 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

5217 #iâdeà
DIRECTORY


5218 #ifdeà
SEQUENTIAL_CONSISTENCY


5219 #ifdef 
EDA


5220 ià(
cŞËù_¡©s
 && 
cu¼’t
->
ma¡”id
 == 0)

5222 ià(
cŞËù_¡©s
)

5225 
bx
, 
cx
, 
dx
;

5226 
cÚ‹xt
 *
tmpCxt
;

5227 
md_addr_t
 
mask
;

5229 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

5231 
bx
 = 0; bx < 
numcÚ‹xts
; bx++)

5233 
boŞ
 = 0;

5235 
tmpCxt
 = 
thecÚ‹xts
[
bx
];

5236 #ifdef 
EDA


5237 ià(
tmpCxt
->
ma¡”id
 != 0)

5241 ià(
tmpCxt
 !ğ
cu¼’t
)

5243 
cx
 = 
tmpCxt
->
LSQ_h—d
, 
dx
 = 0; dx !ğtmpCxt->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

5245 ià((
	`MD_OP_FLAGS
 (
tmpCxt
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5247 ià((
tmpCxt
->
LSQ
[
cx
].
addr
 & 
mask
è=ğ(
cu¼’t
->LSQ[
LSQ_šdex
].addr & mask))

5249 ià(!
tmpCxt
->
LSQ
[
cx
].
¥ec_mode
 && !tmpCxt->LSQ[cx].
isP»ãtch
)

5252 
	`fixS³cS‹
 (
tmpCxt
->
LSQ
[
cx
].
´od
[1]->
šdex
,mpCxt->
id
);

5253 
tmpCxt
->
»gs
 =mpCxt->
LSQ
[
cx
].
´od
[1]->
backupReg
;

5254 
	`£qCÚsi¡ªcyR•Ïy
 (
tmpCxt
->
LSQ
[
cx
].
´od
[1]->
šdex
,mpCxt->
id
);

5255 
šv®id©iÚ_»¶ay
[
bx
]++;

5266 #ifdeà
RELAXED_CONSISTENCY


5267 #ifdef 
EDA


5268 ià(
cŞËù_¡©s
 && 
cu¼’t
->
ma¡”id
 == 0)

5270 ià(
cŞËù_¡©s
)

5273 
bx
, 
cx
, 
dx
;

5274 
cÚ‹xt
 *
tmpCxt
;

5275 
md_addr_t
 
mask
;

5277 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

5279 
bx
 = 0; bx < 
numcÚ‹xts
; bx++)

5281 
boŞ
 = 0;

5283 
tmpCxt
 = 
thecÚ‹xts
[
bx
];

5284 #ifdef 
EDA


5285 ià(
tmpCxt
->
ma¡”id
 != 0)

5289 ià(
tmpCxt
 !ğ
cu¼’t
)

5291 
cx
 = 
tmpCxt
->
LSQ_h—d
, 
dx
 = 0; dx !ğtmpCxt->
LSQ_num
; cx = (cx + 1è% 
LSQ_size
, dx++)

5293 ià((
	`MD_OP_FLAGS
 (
tmpCxt
->
LSQ
[
cx
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5295 ià((
tmpCxt
->
LSQ
[
cx
].
addr
 & 
mask
è=ğ(
cu¼’t
->LSQ[
LSQ_šdex
].addr & mask))

5297 ià(!
tmpCxt
->
LSQ
[
cx
].
¥ec_mode
 &&mpCxt->LSQ[cx].
issued
)

5299 
tmpCxt
->
LSQ
[
cx
].
šv®id©iÚReûived
 = 1;

5310 
‹mpOp
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
;

5311 ià(
ÿche_dl1
[
th»adid
])

5314 
dÿche_acûss
++;

5315 
cu¼’t
->
dÿche_acûss
++;

5317 
šv®id©eOth”Cache
 = 0;

5319 #ifdeà
DIRECTORY


5320 
m©chnum
;

5321 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

5322 if(
m©chnum
)

5324 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

5325 
rs
->
ÿche_»ady
 = 1;

5326 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

5331 #ifdeà
DIRECTORY


5332 ià(
COHERENT_CACHE
 && 
®lFÜked
)

5334 if(
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5336 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 1);

5337 if(
¡ÜeCÚdFa
 == 0)

5338 
	`·nic
("Store conditional should fail on‡ L1 miss");

5339 
Ït
 = 
ÿche_dl1_Ït
;

5343 #iâdeà
PERFECT_CACHE


5344 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,hreadid);

5346 
Ït
 = 
ÿche_dl1_Ït
;

5348 ià(
Ït
<
WAIT_TIME
)

5350 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5356 #iâdeà
PERFECT_CACHE


5357 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,hreadid);

5359 
Ït
 = 
ÿche_dl1_Ït
;

5362 #ifdef 
DCACHE_MSHR


5363 if(
Ït
 > 
ÿche_dl1_Ït
)

5364 #ifdeà
DIRECTORY


5365 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
Ït
, 0, 
rs
);

5367 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
Ït
, 0, 
NULL
);

5370 ià(
Ït
 >ğ
WAIT_TIME
)

5372 
rs
->
wr™ewa™
 = 1;

5373 
rs
->
miss_æag
 = 1;

5376 
rs
->
miss_æag
 = 0;

5378 ià(
COHERENT_CACHE
 && 
®lFÜked
)

5380 
¡ÜeCÚdFa
 = 0;

5381 
	`com¶‘eStÜe
 (
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
 (cu¼’t->LSQ[LSQ_šdex].
İ
), 0);

5383 ià(!
¡ÜeCÚdFa
)

5384 #ifdef 
EDA


5386 
wL
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

5387 
qwÜd_t
 
wD
 = 0;

5388 
	`fÜm©D©aR2M
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
, cu¼’t->LSQ[LSQ_šdex].
v®_¿
, &
wD
);

5390 
rsCacheAcûss
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
];

5391 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~(
wL
 - 1)), &
wD
, wL, 
sim_cyşe
, 
NULL
, NULL,hreadid);

5394 #iâdeà
PERFECT_CACHE


5395 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

5397 
Ït
 = 
ÿche_dl1_Ït
;

5403 
rsCacheAcûss
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5404 #iâdeà
PERFECT_CACHE


5405 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

5407 
Ït
 = 
ÿche_dl1_Ït
;

5412 ià(
Ït
 > 
ÿche_dl1_Ït
)

5413 
ev’ts
 |ğ
PEV_CACHEMISS
;

5418 
¡_bªk_cÚf
++;

5422 #ifdeà
DIRECTORY


5429 #ifdeà
DIRECTORY


5430 
»adSh¬eDœ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
R—dSh¬eDœ
;

5433 #ià
	`defšed
(
SMD_USE_WRITE_BUF
è&& defšed(
SEQUENTIAL_CONSISTENCY
)

5435 ià(
m_L1WBufCÁ
[
th»adid
])

5439 #ifdeà
DIRECTORY


5440 if(
rs
->
wr™ewa™
 != 1)

5443 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
Şd´eg
, 
th»adid
);

5445 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5448 
	`±¿û_Ãw¡age
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5449 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5451 ià(
LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5453 
‹mp_LSQ_rs
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5454 
‹mp_LSQ_šdex
 = 
LSQ_šdex
;

5455 
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5457 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = cu¼’t->LSQ[(è(Ñemp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size)];

5458 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5459 
‹mp_LSQ_šdex
 = (‹mp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size;

5462 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = *
‹mp_LSQ_rs
;

5463 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5465 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5467 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5468 
cu¼’t
->
m_shLQNum
--;

5470 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5472 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5473 
cu¼’t
->
m_shSQNum
--;

5475 if(
ruu_šÜd”_issue
)

5477 
i
=0;i<
MAX_ODEPS
;i++)

5479 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
Úames
[
i
] !ğ
NA
)

5481 
Şšk
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5483 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5484 
	`RSLINK_FREE
 (
Şšk
);

5486 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

5491 
cu¼’t
->
LSQ_h—d
 = (cu¼’t->LSQ_h—d + 1è% 
LSQ_size
;

5492 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5493 
cu¼’t
->
LSQ_num
--;

5494 
‹mp_LSQ_num
--;

5495 #ifdeà
DIRECTORY


5501 #ifdeà
DIRECTORY


5502 if(
rs
->
wr™ewa™
 != 1)

5505 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_CT
 && (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5508 
b´ed_acûss
++;

5509 ià(!(
rs
->
du¶iÿ‹
))

5511 
cu¼’t
->
b´ed_acûss
++;

5514 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5515  
rs
->
PC
,

5516  
rs
->
Ãxt_PC
,

5517  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5518  (
md_š¡_t
)),

5519  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5520  (
md_š¡_t
)),

5521  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5522  
rs
->
İ
,

5523  &
rs
->
dœ_upd©e
,

5524  
rs
->
th»adid
,

5525  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5529 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
Şd´eg
, 
th»adid
);

5531 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
g
++;

5533 
	`±¿û_Ãw¡age
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5534 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
);

5536 
tÙ®_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
di¥_time
);

5537 
max_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
di¥_time
), max_slip_cycles);

5539 ià(
rs
->
issue_time
)

5541 
tÙ®_issue_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
issue_time
);

5542 
max_issue_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
issue_time
), max_issue_slip_cycles);

5545 if(
ruu_šÜd”_issue
)

5547 
i
=0;i<
MAX_ODEPS
;i++)

5549 ià(
rs
->
Úames
[
i
] !ğ
NA
)

5551 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5553 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5554 
	`RSLINK_FREE
 (
Şšk
);

5556 
rs
->
od•_li¡
[
i
] = 
NULL
;

5561 
cu¼’t
->
RUU_h—d
 = (cu¼’t->RUU_h—d + 1è% 
RUU_size
;

5562 
cu¼’t
->
RUU_num
--;

5563 
comm™_æag
[
th»adid
] = 0;

5565 ià(
rs
->
du¶iÿ‹
)

5567 
COMPARE_acûss
[
th»adid
]++;

5568 
com·»_acûss
++;

5571 if(!
ruu_šÜd”_issue
)

5573 
rob2_acûss
++;

5574 
cu¼’t
->
rob2_acûss
++;

5576 
comm™‹d
++;

5578 
comm™_idË
 = 0;

5579 
i
 = 0; i < 
MAX_ODEPS
; i++)

5581 ià(
rs
->
od•_li¡
[
i
])

5582 
	`·nic
 ("retired instruction has odeps\n");

5584 #ifdeà
DIRECTORY


5588 
	`¡©_add_§m¶e
 (
comm™_width_¡©
, 
comm™‹d
);

5590 
	}
}

5602 
	$ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
)

5605 
mm
;

5606 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5607 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
;

5609 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

5610 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

5613 
shiá_right
 = 0;

5616 
brRecov”y
[
th»adid
]++;

5618 
di¥_d–ay
 = 0;

5621 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

5622 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

5623 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

5624 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

5627 ià(!
cu¼’t
->
RUU_num
)

5628 
	`·nic
 ("empty RUU");

5632 
RUU_šdex
 !ğ
b¿nch_šdex
)

5635 ià(!
‹mp_RUU_num
)

5636 
	`·nic
 ("empty RUU");

5639 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

5641 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

5644 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5645 
‹mp_LSQ_num
--;

5646 ià(!
‹mp_LSQ_num
)

5648 
	`årštf
 (
¡d”r
, "Th»ad %d, cyş%lu\n", 
th»adid
, (è
sim_num_š¢
);

5649 
	`·nic
 ("RUU‡nd LSQ out of sync");

5652 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5653 
‹mp_LSQ_num
--;

5655 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5656 
‹mp_RUU_num
--;

5659 ià(
mode
 == 0)

5662 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5663 
‹mp_RUU_num
--;

5668 
‹mp_RUU_num
 != 0)

5670 
exŒaIn¢
[
th»adid
]++;

5672 ià(!
‹mp_RUU_num
)

5673 
	`·nic
 ("empty RUU");

5675 ià(
mode
 =ğ0 && 
RUU_šdex
 =ğ
cu¼’t
->
RUU_h—d
)

5676 
	`·nic
 ("RUU head‡ndail broken");

5678 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

5680 
cu¼’t
->
iissueq_thrd
--;

5681 
iissueq
--;

5682 
iissueq_ş
[
cu¼’t
->
id
]--;

5683 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

5685 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

5687 
cu¼’t
->
fissueq_thrd
--;

5688 
fissueq
--;

5689 
fissueq_ş
[
cu¼’t
->
id
]--;

5690 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

5693 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

5695 ià(!
‹mp_LSQ_num
)

5696 
	`·nic
 ("RUU‡nd LSQ out of sync");

5697 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

5699 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5700 
‹mp_LSQ_num
--;

5701 ià(!
‹mp_LSQ_num
)

5702 
	`·nic
 ("RUU‡nd LSQ out of sync");

5705 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

5707 
cu¼’t
->
iissueq_thrd
--;

5708 
iissueq
--;

5709 
iissueq_ş
[
cu¼’t
->
id
]--;

5710 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

5712 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

5714 
cu¼’t
->
fissueq_thrd
--;

5715 
fissueq
--;

5716 
fissueq_ş
[
cu¼’t
->
id
]--;

5717 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

5720 
i
 = 0; i < 
MAX_ODEPS
; i++)

5722 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

5724 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

5727 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

5728 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

5731 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5734 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5737 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5739 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5740 
cu¼’t
->
m_shLQNum
--;

5742 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5744 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5745 
cu¼’t
->
m_shSQNum
--;

5748 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

5749 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5750 
cu¼’t
->
LSQ_num
--;

5751 
‹mp_LSQ_num
--;

5755 
i
 = 0; i < 
MAX_ODEPS
; i++)

5757 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

5758 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

5761 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

5762 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

5763 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

5764 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

5766 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

5767 
cu¼’t
->
RUU_num
--;

5768 
‹mp_RUU_num
--;

5771 if(!
ruu_šÜd”_issue
)

5773 
rob2_acûss
++;

5774 
cu¼’t
->
rob2_acûss
++;

5777 
š¡£qnum
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
š¡num
;

5778 
Ï¡şu¡”
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
şu¡”
;

5779 
num_£Á
 = 1;

5781 ià(
mode
 == 0)

5783 
cu¼’t
->
RUU_
 = (
b¿nch_šdex
 + 1è% 
RUU_size
;

5784 
	`cİy_äom
 (
th»adid
);

5788 ià(
cu¼’t
->
RUU_num
 != 0)

5789 
	`·nic
 ("ROB must be completelyƒmpty");

5790 
cu¼’t
->
RUU_
 = cu¼’t->
RUU_h—d
;

5796 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

5801 
‹mp_LSQ_šdex
 = 0;emp_LSQ_šdex < 
LSQ_size
;emp_LSQ_index++)

5802 ià(
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ
[‹mp_LSQ_šdex].
šdex
)

5803 
	`·nic
 ("LSQ index messed up");

5804 
	}
}

5818 
	$ruu_wr™eback
 ()

5820 
i
;

5821 
sum1
, 
sum2
, 
sum3
;

5822 
RUU_¡©iÚ
 *
rs
;

5823 
d–ay
;

5825 
cÚ‹xt
 *
cu¼’t
;

5829 
‹mp
;

5831 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

5833 
wb_dÚe
[
‹mp
] = 0;

5837 (
rs
 = 
	`ev’tq_Ãxt_ev’t
 ()))

5839 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

5841 ià(!
	`OPERANDS_READY
 (
rs
è||„s->
queued
 || !rs->
issued
 ||„s->
com¶‘ed
)

5842 
	`·nic
 ("inst completed‡nd !ready, !issued, or completed");

5844 
rs
->
com¶‘ed
 = 
TRUE
;

5846 
wb_dÚe
[
rs
->
th»adid
]++;

5849 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

5851 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

5853 
œesuÉbus_acûss
++;

5854 
cu¼’t
->
œesuÉbus_acûss
++;

5855 if(!
ruu_šÜd”_issue
)

5857 
rob1_acûss
++;

5858 
cu¼’t
->
rob1_acûss
++;

5859 
iwakeup_acûss
++;

5860 
cu¼’t
->
iwakeup_acûss
++;

5862 
œegfe_acûss
++;

5863 
cu¼’t
->
œegfe_acûss
++;

5865 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

5868 
äesuÉbus_acûss
++;

5869 
cu¼’t
->
äesuÉbus_acûss
++;

5870 if(!
ruu_šÜd”_issue
)

5872 
rob1_acûss
++;

5873 
cu¼’t
->
rob1_acûss
++;

5874 
fwakeup_acûss
++;

5875 
cu¼’t
->
fwakeup_acûss
++;

5877 
äegfe_acûss
++;

5878 
cu¼’t
->
äegfe_acûss
++;

5883 ià(
rs
->
»cov”_š¡
)

5885 ià(
rs
->
š_LSQ
)

5886 
	`·nic
 ("mis-predicted†oad or store?!?!?");

5888 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

5889 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

5890 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

5891 #ifdeà
DIRECTORY


5892 
th»adid
 = 
rs
->threadid;

5893 
i
 = 0;

5894 
i
=0;i<
MSHR_SIZE
;i++)

5896 
RS_li¡
 *
´ev
, *
cur
;

5897 
´ev
=
NULL
, 
cur
 = 
rs_ÿche_li¡
[
th»adid
][
i
]; cur; cur=cur->
Ãxt
)

5899 if(
cur
->
rs
 && cur->rs->
¥ec_mode
)

5901 if(
´ev
 =ğ
NULL
)

5903 
rs_ÿche_li¡
[
th»adid
][
i
] = 
cur
->
Ãxt
;

5904 
´ev
 = 
NULL
;

5908 
´ev
->
Ãxt
 = 
cur
->next;

5909 
cur
 = 
´ev
;

5910 
´ev
 = 
cur
;

5914 
´ev
 = 
cur
;

5919 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

5920 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

5923 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_WB
 && !
rs
->
š_LSQ
 && (
	`MD_OP_FLAGS
 (rs->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5926 
b´ed_acûss
++;

5927 ià(!(
rs
->
du¶iÿ‹
))

5929 
cu¼’t
->
b´ed_acûss
++;

5931 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5932  
rs
->
PC
,

5933  
rs
->
Ãxt_PC
,

5934  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5935  (
md_š¡_t
)),

5936  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5937  (
md_š¡_t
)),

5938  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5939  
rs
->
İ
,

5940  &
rs
->
dœ_upd©e
,

5941  
rs
->
th»adid
,

5942  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5946 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
,„s->
»cov”_š¡
 ? 
PEV_MPDETECT
 : 0);

5948 
sum1
 = 
issue_¿‹
;

5949 
sum2
 = 0;

5950 
sum3
 = 0;

5952 
i
 = 0; i < 
MAX_ODEPS
; i++)

5954 ià(
rs
->
Úames
[
i
] !ğ
NA
)

5956 
CV_lšk
 
lšk
;

5957 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

5959 ià(
rs
->
¥ec_mode
)

5961 
lšk
 = 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

5962 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

5964 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

5965 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

5970 
lšk
 = 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

5971 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

5973 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

5974 
cu¼’t
->
ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

5977 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5979 ià(
	`RSLINK_VALID
 (
Şšk
))

5981 ià(
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
])

5982 
	`·nic
 ("output dependence‡lready satisfied");

5983 
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
] = 
TRUE
;

5985 
Şšk
->
rs
->
wh’_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

5986 
Şšk
->
rs
->
wh’_id•_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

5988 
sum2
++;

5989 ià(
	`OPERANDS_READY
 (
Şšk
->
rs
))

5991 ià(!
Şšk
->
rs
->
š_LSQ
 || ((
	`MD_OP_FLAGS
 (Şšk->rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

5992 
	`»adyq_’queue
 (
Şšk
->
rs
);

5993 
sum3
++;

5996 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5997 if(!
ruu_šÜd”_issue
)

5998 
	`RSLINK_FREE
 (
Şšk
);

6000 if(!
ruu_šÜd”_issue
)

6001 
rs
->
od•_li¡
[
i
] = 
NULL
;

6005 
	}
}

6015 
	#MAX_STD_UNKNOWNS
 
LSQSIZE


	)

6018 #ifdeà 
LSQ_LOAD_FAST_ISSUE


6020 
	$lsq_»äesh
 ()

6022 
i
, 
j
, 
šdex
, 
idx
, 
num_¡a_unknown_th»ad
 = 0;

6024 
cÚ‹xt
 *
cu¼’t
;

6026 #ifdef 
LSQ_FIX_PARTIAL_BUG


6027 
¡d_width
[
LSQSIZE
];

6030 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

6034 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

6036 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
; (˜< cu¼’t->
LSQ_num
è&& (
num_¡a_unknown_th»ad
 < 
numcÚ‹xts
); i++, index = (šdex + 1è% 
LSQ_size
)

6038 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


6039 && !
cu¼’t
->
LSQ
[
šdex
].
issued


6040 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


6041 && !
cu¼’t
->
LSQ
[
šdex
].
ÿche_»ady
 &&

6042  
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6044 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

6050 
	}
}

6053 
	$lsq_»äesh
 ()

6055 
i
, 
idx
, 
j
, 
šdex
, 
n_¡d_unknowns
;

6056 
md_addr_t
 
¡d_unknowns
[
MAX_STD_UNKNOWNS
];

6057 
cÚ‹xt
 *
cu¼’t
;

6062 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

6067 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

6068 
n_¡d_unknowns
 = 0;

6069 
i
 = 0; i < 
LSQ_size
; i++)

6070 
¡d_unknowns
[
i
] = 0;

6072 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
, 
n_¡d_unknowns
 = 0; i < cu¼’t->
LSQ_num
; i++, index = (šdex + 1è% 
LSQ_size
)

6074 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

6076 ià(!
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6082 ià(!
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6089 ià(
n_¡d_unknowns
 =ğ
LSQ_size
)

6090 
	`çl
 ("STD unknown‡rray overflow, increase MAX_STD_UNKNOWNS");

6091 
¡d_unknowns
[
n_¡d_unknowns
++] = 
cu¼’t
->
LSQ
[
šdex
].
addr
;

6096 
j
 = 0; j < 
n_¡d_unknowns
; j++)

6098 ià(
¡d_unknowns
[
j
] =ğ 
cu¼’t
->
LSQ
[
šdex
].
addr
)

6099 
¡d_unknowns
[
j
] = 0;

6105 ((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


6106 && !
cu¼’t
->
LSQ
[
šdex
].
issued


6107 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


6108 && 
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6112 
j
 = 0; j < 
n_¡d_unknowns
; j++)

6115 ià(
¡d_unknowns
[
j
] =ğ
cu¼’t
->
LSQ
[
šdex
].
addr
)

6118 ià(
j
 =ğ
n_¡d_unknowns
)

6121 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

6126 
	}
}

6133 
	$ruu_issue
 ()

6135 
k
, 
i
, 
lßd_Ït
, 
b_Ït
, 
n_issued
;

6136 
RS_lšk
 *
node
, *
Ãxt_node
;

6137 
»s_‹m¶©e
 *
fu
;

6138 
š‹r
 = -1;

6139 
this_cyşe_issued
[
CLUSTERS
];

6140 
mm
;

6141 
d–ay
 = 0;

6142 
boŞ_t
 
bLSQH™
 = 
FALSE
;

6143 
boŞ_t
 
bP¬tŸlH™
 = 
FALSE
;

6144 
nW1
;

6146 #ifdeà 
MSHR


6147 
u£_mshr
 = 0;

6150 
·»ÁID
;

6152 
cÚ‹xt
 *
cu¼’t
;

6153 
th»adid
;

6156 
issueLim™
;

6158 
‹mp
;

6161 #ifdeà 
PULL_BACK


6162 
puÎbackD–ay
[
MAXTHREADS
];

6164 
k
 = 0; k < 
numcÚ‹xts
; k++)

6166 
puÎbackDÚeThisCyşe
[
k
] = 0;

6167 
dl1MissThisCyşe
[
k
] = 
dl1H™ThisCyşe
[k] = 0;

6168 
puÎbackD–ay
[
k
] = 0;

6170 ià(
puÎbackWa™Cyşe
[
k
])

6172 
puÎbackWa™Cyşe
[
k
]--;

6175 ià(
puÎbackBubbË
[
k
] && !
puÎbackWa™Cyşe
[k])

6177 
puÎbackCyşeCouÁ
[
k
]++;

6178 
puÎbackBubbË
[
k
]--;

6179 
puÎbackD–ay
[
k
] = 1;

6185 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

6187 
issue_dÚe
[
‹mp
] = 0;

6188 
this_cyşe_issued
[
‹mp
] = 0;

6189 
lßdRejeùCouÁ
[
‹mp
] = 0;

6190 
»¶ayIndex
[
‹mp
] = 0;

6193 
node
 = 
»ady_queue
;

6194 
»ady_queue
 = 
NULL
;

6198 
issueLim™
 = (
ruu_issue_width
 ) * 
numcÚ‹xts
;

6199 
šÜd”_¡®l
[
MAXTHREADS
] = {0};

6200 
šÜd”_¡®l_ruunum
[
MAXTHREADS
] = {0};

6202 
n_issued
 = 0; 
node
 &&‚_issued < 
issueLim™
;‚odğ
Ãxt_node
)

6204 #ifdeà 
MSHR


6205 
u£_mshr
 = 0;

6208 
Ãxt_node
 = 
node
->
Ãxt
;

6212 ià(
	`RSLINK_VALID
 (
node
))

6214 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

6216 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

6217 
th»adid
 = 
rs
->threadid;

6218 ià(!
	`OPERANDS_READY
 (
rs
è|| !rs->
queued
 ||„s->
issued
 ||„s->
com¶‘ed
)

6219 
	`·nic
 ("issued inst !ready, issued, or completed");

6221 
rs
->
queued
 = 
FALSE
;

6223 if(
ruu_šÜd”_issue
)

6225 
rs_šdex
 = 
rs
->
šdex
;

6226 if(
i
 = 
rs
->
š_LSQ
)

6228 if(
rs
->
´od
[1] =ğ
NULL
)

6229 
	`·nic
("There is‚o‡ddress…roducer of†oad/store\n");

6230 
rs_šdex
 = 
rs
->
´od
[1]->
šdex
;

6232 if(
šÜd”_¡®l
[
th»adid
] && 
rs_šdex
 > 
šÜd”_¡®l_ruunum
[threadid])

6234 
	`»adyq_’queue
 (
rs
);

6235 
	`RSLINK_FREE
 (
node
);

6238 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6240 
i
 = 
thecÚ‹xts
[
th»adid
]->
RUU_h—d
; i < 
rs_šdex
; i = (i+1)%
RUU_size
)

6242 ià((
	`MD_OP_FUCLASS
 (
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
İ
) > 3) && (MD_OP_FUCLASS (thecontexts[threadid]->RUU[i].op) < 10))

6244 if(!
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
issued
)

6246 if(
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
—_comp
 && !
cu¼’t
->RUU[i].
od•_li¡
[0]->
rs
->
issued
)

6253 
i
 = 
thecÚ‹xts
[
th»adid
]->
RUU_h—d
; i < 
rs_šdex
; i = (i+1)%
RUU_size
)

6255 ià(!((
	`MD_OP_FUCLASS
 (
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
İ
) > 3) && (MD_OP_FUCLASS (thecontexts[threadid]->RUU[i].op) < 10)))

6257 if(!
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
issued
)

6259 if(
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
—_comp
 && !
cu¼’t
->RUU[i].
od•_li¡
[0]->
rs
->
issued
)

6264 if(
i
 !ğ
rs_šdex
)

6266 
	`»adyq_’queue
 (
rs
);

6267 
	`RSLINK_FREE
 (
node
);

6268 
šÜd”_¡®l
[
th»adid
] = 1;

6269 
šÜd”_¡®l_ruunum
[
th»adid
] = 
rs_šdex
;

6272 if(
rs
->
š_LSQ
 && 
thecÚ‹xts
[
th»adid
]->
LSQ_num
)

6274 if(
thecÚ‹xts
[
th»adid
]->
LSQ
[ÑhecÚ‹xts[th»adid]->
LSQ_
+
LSQ_size
-1)%LSQ_size].
miss_æag
)

6276 
	`»adyq_’queue
 (
rs
);

6277 
	`RSLINK_FREE
 (
node
);

6283 
šÜd”_¡®l
[
th»adid
] = 0;

6285 #ifdeà
TG


6286 ià(
rs
->
š_LSQ
)

6287 
	`Œaffic_g’”©e
(
sim_cyşe
, 
rs
->
addr
,„s);

6291 #ifdeà 
PULL_BACK


6292 ià(
puÎbackD–ay
[
rs
->
th»adid
])

6294 
	`»adyq_’queue
 (
rs
);

6295 
	`RSLINK_FREE
 (
node
);

6300 ià(
issue_dÚe
[
th»adid
] =ğ(
ruu_issue_width
 ))

6302 
	`»adyq_’queue
 (
rs
);

6303 
	`RSLINK_FREE
 (
node
);

6307 ià(
lßdRejeùCouÁ
[
th»adid
])

6309 
	`»adyq_’queue
 (
rs
);

6310 
	`RSLINK_FREE
 (
node
);

6313 if(
rs
->
ÿche_»ady
 ==1)

6315 
	`»adyq_’queue
 (
rs
);

6316 
	`RSLINK_FREE
 (
node
);

6321 ià(
rs
->
issue_time
 > 
sim_cyşe
)

6323 
	`»adyq_’queue
 (
rs
);

6324 
	`RSLINK_FREE
 (
node
);

6328 ià(((
rs
->
wh’_»ady
[0] <ğ
sim_cyşe
è&& (rs->wh’_»ady[1] <ğsim_cyşeè&& (rs->wh’_»ady[2] <ğsim_cyşeè&& (rs->
wh’_šq
 < sim_cyşeè&& !rs->
š_qwa™
))

6331 #ifdeà 
PWR_WAKEUP_SELECT


6332 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

6334 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

6336 
i£ËùiÚ_acûss
++;

6337 
cu¼’t
->
i£ËùiÚ_acûss
++;

6339 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

6341 
f£ËùiÚ_acûss
++;

6342 
cu¼’t
->
f£ËùiÚ_acûss
++;

6346 
Î_sc
 = 0;

6348 ià(
rs
->
İ
 =ğ
STL_C
 ||„s->İ =ğ
LDL_L
)

6351 
Î_sc
++;

6355 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

6360 
md_addr_t
 
addr
;

6362 #ifdef 
EDA


6363 ià(
rs
->
poisÚ
[1].
dœty
 == 1)

6364 
addr
 = 
rs
->
poisÚ
[1].
d©a
 + 
	`SEXT
 (rs->
IR
 & 0xffff);

6367 
addr
 = 
rs
->addr;

6369 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6370 
i
;

6372 ià(!
v®id_addr
)

6373 
sim_šv®id_addrs
++;

6376 #ifdeà 
MSHR


6377 
u£_mshr
 = 1;

6380 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6382 ià(!
fu
)

6384 
	`»adyq_’queue
 (
rs
);

6385 
	`RSLINK_FREE
 (
node
);

6390 ià(
fu
->
ma¡”
->
busy
)

6391 
	`·nic
 ("functional unit‡lready in use");

6394 ià(
v®id_addr
 && 
db
[
th»adid
])

6396 
b_Ït
 = 0;

6397 
b_Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid);

6398 if(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6400 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6401 
	`»adyq_’queue
 (
rs
);

6402 
	`RSLINK_FREE
 (
node
);

6407 #ifdef 
DCACHE_MSHR


6408 #ifdef 
EDA


6409 
isDL0H™
 = 1;

6410 if(
cu¼’t
->
ma¡”id
 =ğ1 && (
isDL0H™
 = 
	`isCacheH™
(
ÿche_dl0
[cu¼’t->
jobThdId
], 
addr
, 
th»adid
)è=ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[cu¼’t->
h–pThdId
]->
mshr
, 1))

6412 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,h»adidè&& !
mshr_³ndšg_ev’t
[threadid])

6415 
	`»adyq_’queue
 (
rs
);

6416 
	`RSLINK_FREE
 (
node
);

6421 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6422 
rs
->
issued
 = 
TRUE
;

6423 
rs
->
issue_time
 = 
sim_cyşe
;

6424 
rs
->
com¶‘ed
 = 
TRUE
;

6425 
rs
->
fšish_time
 = 
sim_cyşe
;

6428 ià(
v®id_addr
 && (
rs
->
İ
 !ğ
STL_C
è&& 
´eãtch_æag
)

6430 
Ït
 = 0;

6431 
rsCacheAcûss
 = 
rs
;

6432 
m©chnum
 = 0;

6433 
dÿche_acûss
++;

6434 
cu¼’t
->
dÿche_acûss
++;

6435 #ifdeà
DIRECTORY


6436 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6438 if(!
m©chnum
)

6440 ià(
ÿche_dl1
[
th»adid
])

6441 #iâdeà
PERFECT_CACHE


6442 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,

6443 #ifdeà
DIRECTORY


6444 
rs
,

6446 
rs
->
th»adid
);

6448 
Ït
 = 
ÿche_dl1_Ït
;

6451 #ifdef 
DCACHE_MSHR


6452 if(
Ït
 > 
ÿche_dl1_Ït
)

6453 #ifdeà
DIRECTORY


6454 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
rs
);

6456 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
NULL
);

6461 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6462 if(
Ït
>
ÿche_dl1_Ït
)

6463 
rs
->
miss_æag
 = 1;

6465 
rs
->
miss_æag
 = 0;

6468 
rs
->
issued
 = 
TRUE
;

6469 
rs
->
com¶‘ed
 = 
TRUE
;

6470 
rs
->
issue_time
 = 
sim_cyşe
;

6471 
rs
->
fšish_time
 = 
sim_cyşe
;

6473 ià(
rs
->
couÁed_iissueq
)

6475 
cu¼’t
->
iissueq_thrd
--;

6476 
iissueq
--;

6477 
iissueq_ş
[
rs
->
th»adid
]--;

6478 
rs
->
couÁed_iissueq
 = 0;

6480 ià(
rs
->
couÁed_fissueq
)

6482 
cu¼’t
->
fissueq_thrd
--;

6483 
fissueq
--;

6484 
fissueq_ş
[
rs
->
th»adid
]--;

6485 
rs
->
couÁed_fissueq
 = 0;

6489 ià(
rs
->
Úames
[0] ||„s->onames[1])

6490 
	`·nic
 ("store creates„esult");

6492 ià(
rs
->
»cov”_š¡
)

6493 
	`·nic
 ("mis-predicted store");

6495 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
, 0);

6496 
n_issued
++;

6499 
issue_dÚe
[
rs
->
th»adid
]++;

6502 
cu¼’t
->
iq¿m_acûss
++;

6504 ià(
rs
->
issue_time
 &&„s->issue_tim!ğ
sim_cyşe
)

6505 
	`w¬n
 ("already issueimed on‡nother cycle");

6507 
rs
->
issue_time
 = 
sim_cyşe
;

6509 
k
 = 0; k < 
MAX_IDEPS
; k++)

6511 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

6513 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

6515 
œegfe_acûss
++;

6516 
cu¼’t
->
œegfe_acûss
++;

6517 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

6518 ià(
k
)

6519 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6521 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6522 
œegfe_num_pİ_couÁ_cyşe
++;

6524 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

6526 
äegfe_acûss
++;

6527 
cu¼’t
->
äegfe_acûss
++;

6528 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

6529 ià(
k
)

6530 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

6532 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

6533 
œegfe_num_pİ_couÁ_cyşe
++;

6538 
this_cyşe_issued
[
rs
->
şu¡”
]++;

6539 
cu¼’t
->
lsq_acûss
++;

6540 
lsq_¡Üe_d©a_acûss
++;

6541 
cu¼’t
->
lsq_´eg_acûss
++;

6547 
i
 = 
rs
->
šdex
;

6548 
bLSQH™
 = 
FALSE
;

6549 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6553 
bLSQH™
 = 
FALSE
;

6554 ià(
rs
->
isP»ãtch
)

6557 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

6559 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

6562 #ifdef 
LSQ_FIX_PARTIAL_BUG


6563 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6565 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6570 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

6572 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6573 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6575 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6576 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6578 ià(
qwAddr1
 =ğ
qwAddr2
)

6580 
bLSQH™
 = 
TRUE
;

6591 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6593 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
addr
 =ğaddrè&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6597 && 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 < 
rs
->
di¥_time
 && !cu¼’t->LSQ[i].
isP»ãtch
)

6599 
bLSQH™
 = 
TRUE
;

6607 ià(
bLSQH™
)

6609 ià(!
lßdRejeùCouÁ
[
th»adid
])

6611 
m_sqNumLdR•Ïy
[
th»adid
]++;

6612 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

6613 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

6614 
lßdRejeùCouÁ
[
th»adid
]++;

6619 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 = 
rs
->
di¥_time
;

6626 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
NA
)

6629 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

6631 
š‹r
 = (
rs
->
addr
 >> 
ÿche_dl1
[rs->
th»adid
]->
£t_shiá
è& (
»s_membªk
 - 1);

6633 ià(!
DEDICATED_ADDER
 || (
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
IÁALU
))

6636 
š‹r
 = 
MAGICN
 + 
rs
->
şu¡”
;

6640 ià(
rs
->
—_comp
)

6642 
š‹r
 = 
RES_CACHEPORTS
 + 1;

6646 
š‹r
 = 
RES_CACHEPORTS
 + 2;

6650 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6652 ià(
fu
)

6654 
rs
->
issued
 = 
TRUE
;

6655 ià(
rs
->
couÁed_iissueq
)

6657 
cu¼’t
->
iissueq_thrd
--;

6658 
iissueq
--;

6659 
iissueq_ş
[
rs
->
th»adid
]--;

6660 
rs
->
couÁed_iissueq
 = 0;

6662 ià(
rs
->
couÁed_fissueq
)

6664 
cu¼’t
->
fissueq_thrd
--;

6665 
fissueq
--;

6666 
fissueq_ş
[
rs
->
th»adid
]--;

6667 
rs
->
couÁed_fissueq
 = 0;

6670 ià(
fu
->
ma¡”
->
busy
)

6671 
	`·nic
 ("functional unit‡lready in use");

6673 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

6674 
fu
->
ma¡”
->
du¶iÿ‹
 = 
rs
->duplicate;

6675 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6678 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

6680 
ev’ts
 = 0;

6681 
lßd_Ït
 = 0;

6682 
md_addr_t
 
addr
;

6683 #ifdef 
EDA


6684 ià(
rs
->
poisÚ
[1].
dœty
 == 1)

6685 
addr
 = 
rs
->
poisÚ
[1].
d©a
 + 
	`SEXT
 (rs->
IR
 & 0xffff);

6688 
addr
 = 
rs
->addr;

6690 ià(
db
[
th»adid
] && 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
))

6692 
b_Ït
 = 0;

6693 
b_Ït
 = 
	`ÿche_acûss
(
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL, 
rs
->threadid);

6694 ià(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6696 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6697 
fu
->
ma¡”
->
busy
 = 0;

6698 
rs
->
issued
 = 
FALSE
;

6699 
	`»adyq_’queue
 (
rs
);

6700 
	`RSLINK_FREE
 (
node
);

6704 #ifdeà
DIRECTORY


6705 
m©chnum
;

6706 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6707 if(
m©chnum
 && !
rs
->
isP»ãtch
 && !
mshr_³ndšg_ev’t
[
th»adid
])

6709 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6710 
rs
->
ÿche_»ady
 = 1;

6711 
fu
->
ma¡”
->
busy
 = 0;

6712 
rs
->
issued
 = 
FALSE
;

6713 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

6715 
	`RSLINK_FREE
 (
node
);

6720 #ifdef 
DCACHE_MSHR


6721 #ifdef 
EDA


6722 
isDL0H™
 = 1;

6723 if((
cu¼’t
->
ma¡”id
 =ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0)) ||

6724 (
cu¼’t
->
ma¡”id
 =ğ1 && (
isDL0H™
 = 
	`isCacheH™
(
ÿche_dl0
[cu¼’t->
jobThdId
], 
addr
, 
th»adid
)è=ğ0 && 
	`isMSHRFuÎ
(
ÿche_dl1
[cu¼’t->
h–pThdId
]->
mshr
, 1)))

6726 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid))

6729 
fu
->
ma¡”
->
busy
 = 0;

6730 
rs
->
issued
 = 
FALSE
;

6731 
	`»adyq_’queue
 (
rs
);

6732 
	`RSLINK_FREE
 (
node
);

6737 
cu¼’t
->
lsq_acûss
++;

6738 
cu¼’t
->
lsq_wakeup_acûss
++;

6741 
ldIssueCouÁ
++;

6742 #ifdeà
RELAXED_CONSISTENCY


6743 
i
 = 
rs
->
šdex
;

6744 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6747 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

6749 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

6752 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

6753 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


6754 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

6756 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6757 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6759 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6760 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6762 ià((
qwAddr1
 =ğ
qwAddr2
è&& 
cu¼’t
->
LSQ
[
i
].
šv®id©iÚReûived
)

6764 ià(!
lßdRejeùCouÁ
[
th»adid
])

6766 
m_sqNumLdR•Ïy
[
th»adid
]++;

6767 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

6768 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

6769 
lßdRejeùCouÁ
[
th»adid
]++;

6770 
šv®id©iÚ_»¶ay
[
th»adid
]++;

6779 
ld¡R•Ïy
 = 1;

6781 ià(!
rs
->
isP»ãtch
)

6782 
ld¡R•Ïy
 = 
	`checkLSQfÜSt
 (
rs
->
šdex
, 
cu¼’t
);

6784 ià(!
ld¡R•Ïy
)

6787 #ifdeà
REMOVE_COMPUTE_QUEUE


6788 ià(
rs
->
couÁed_iissueq
)

6790 
cu¼’t
->
iissueq_thrd
++;

6791 
iissueq
++;

6792 
rs
->
couÁed_iissueq
 = 1;

6794 ià(
rs
->
couÁed_fissueq
)

6796 
cu¼’t
->
fissueq_thrd
++;

6797 
fissueq
++;

6798 
rs
->
couÁed_fissueq
 = 1;

6801 
rs
->
issued
 = 
FALSE
;

6802 
rs
->
issue_time
 = 
sim_cyşe
 + 
»jeùR‘ryCyşe
;

6803 
	`»adyq_’queue
 (
rs
);

6804 
	`RSLINK_FREE
 (
node
);

6805 
ld¡RejeùiÚCouÁ
[
th»adid
]++;

6810 
bLSQH™
 = 
FALSE
;

6811 
bP¬tŸlH™
 = 
FALSE
;

6813 
i
 = 
rs
->
šdex
;

6814 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

6817 
lsq_Ït
 = 0;

6818 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
 && !
rs
->
isP»ãtch
)

6825 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

6828 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
)

6829 #ifdeà
LSQ_LOAD_FAST_ISSUE


6831 && (
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
i
]))

6833 && (
cu¼’t
->
LSQ
[
i
].
th»adid
 =ğ
rs
->th»adidè&& !cu¼’t->LSQ[i].
isP»ãtch
)

6835 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

6836 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

6837 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

6838 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

6840 ià(
qwAddr1
 =ğ
qwAddr2
)

6842 
bLSQH™
 = 
TRUE
;

6843 ià(
nW1
 > 
nW2
)

6847 
bP¬tŸlH™
 = 
TRUE
;

6853 ià(
bLSQH™
)

6858 
lsq_Ït
 = 
LSQ_LATENCY
;

6859 
rs
->
sqStÜeFÜw¬dT
 = 
cu¼’t
->
LSQ
[
i
].
di¥_time
;

6863 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

6869 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6871 ià(!
cu¼’t
->
¥ec_mode
 && !
v®id_addr
)

6872 
sim_šv®id_addrs
++;

6874 ià(
ÿche_dl1
[
th»adid
] && 
v®id_addr
 && !(
m©chnum
))

6877 
dÿche_acûss
++;

6878 
cu¼’t
->
dÿche_acûss
++;

6879 
rsCacheAcûss
 = 
rs
;

6880 #ifdeà
DIRECTORY


6881 #iâdeà
PERFECT_CACHE


6882 
lßd_Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,„s->threadid);

6884 
lßd_Ït
 = 
ÿche_dl1_Ït
;

6887 #iâdeà
PERFECT_CACHE


6888 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
->threadid);

6890 
lßd_Ït
 = 
ÿche_dl1_Ït
;

6894 #ifdef 
DCACHE_MSHR


6896 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 == -1)

6897 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
rs
);

6898 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 != -1)

6899 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
NULL
);

6901 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
)

6902 
ev’ts
 |ğ
PEV_CACHEMISS
;

6903 if(
lßd_Ït
>
ÿche_dl1_Ït
)

6904 
rs
->
miss_æag
 = 1;

6906 
rs
->
miss_æag
 = 0;

6910 
lßd_Ït
 = 
fu
->
İÏt
;

6913 #ifdeà 
PULL_BACK


6914 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
 && !
rs
->
isP»ãtch
)

6916 
dl1MissThisCyşe
[
rs
->
th»adid
] = 1;

6917 ià(
rs
->
İ
 !ğ
LDT
 &&„s->İ !ğ
LDS
)

6919 ià(!
puÎbackDÚeThisCyşe
[
rs
->
th»adid
])

6921 ià(
puÎbackWa™Cyşe
[
rs
->
th»adid
])

6922 
puÎbackBubbË
[
rs
->
th»adid
]++;

6924 
puÎbackBubbË
[
rs
->
th»adid
] = 2;

6925 
puÎbackDÚeThisCyşe
[
rs
->
th»adid
] = 1;

6927 ià(!
puÎbackWa™Cyşe
[
rs
->
th»adid
])

6929 
puÎbackWa™Cyşe
[
rs
->
th»adid
] = 2;

6934 ià(!
rs
->
isP»ãtch
)

6936 
dl1H™ThisCyşe
[
rs
->
th»adid
] = 1;

6937 ià(
rs
->
İ
 =ğ
LDT
 ||„s->İ =ğ
LDS
)

6939 
lßd_Ït
 = 
ÿche_dl1_Ït
 + 1;

6945 ià(
PERFECT
)

6947 
lßd_Ït
 = 
PERFECTLAT
;

6950 ià(
lsq_Ït
)

6952 
lßd_Ït
 = 
lsq_Ït
;

6954 ià(
rs
->
isP»ãtch
)

6956 
lßd_Ït
 = 
ÿche_dl1_Ït
;

6957 ià(!
rs
->
¥ec_mode
)

6958 
m_sqP»ãtchCÁ
++;

6962 ià(
bP¬tŸlH™
)

6964 #ifdeà
DIRECTORY


6965 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5,†oad_lat+5);

6967 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5);

6971 #ifdeà
DIRECTORY


6972 
	`ev’tq_queue_ev’t
(
rs
, 
sim_cyşe
 + 
lßd_Ït
,†oad_lat);

6974 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
);

6978 ià(!
rs
->
—_comp
)

6980 
rs
->
fšish_time
 = (
sim_cyşe
 + 
lßd_Ït
);

6981 
rs
->
issue_time
 = 
sim_cyşe
;

6985 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
, (Ôs->
—_comp
 ? 
PEV_AGEN
 : 0è| 
ev’ts
));

6990 #ifdeà
PWR_ACCESS


6991 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6992 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

6994 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

6997 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁALU
)

6999 
Ÿlu1_acûss
++;

7000 
cu¼’t
->
Ÿlu1_acûss
++;

7002 ià(
rs
->
—_comp
)

7004 
add_®u
++;

7008 
nÚadd_®u
++;

7011 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
IÁDIV
))

7013 
Ÿlu2_acûss
++;

7014 
cu¼’t
->
Ÿlu2_acûss
++;

7016 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
FlßtMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
FlßtDIV
))

7018 
çlu2_acûss
++;

7019 
cu¼’t
->
çlu2_acûss
++;

7023 
çlu1_acûss
++;

7024 
cu¼’t
->
çlu1_acûss
++;

7026 #ifdeà
DIRECTORY


7027 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
, 0);

7029 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
);

7031 
rs
->
fšish_time
 = (
sim_cyşe
 + 
fu
->
İÏt
);

7032 
rs
->
issue_time
 = 
sim_cyşe
;

7033 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

7037 
n_issued
++;

7038 
issue_dÚe
[
rs
->
th»adid
]++;

7040 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

7042 
fq¿m_acûss
++;

7043 
cu¼’t
->
fq¿m_acûss
++;

7047 
iq¿m_acûss
++;

7048 
cu¼’t
->
iq¿m_acûss
++;

7051 
this_cyşe_issued
[
rs
->
şu¡”
]++;

7053 
k
 = 0; k < 
MAX_IDEPS
; k++)

7055 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

7057 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

7059 
œegfe_acûss
++;

7060 
cu¼’t
->
œegfe_acûss
++;

7061 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

7062 ià(
k
)

7063 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7065 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7066 
œegfe_num_pİ_couÁ_cyşe
++;

7068 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

7070 
äegfe_acûss
++;

7071 
cu¼’t
->
œegfe_acûss
++;

7072 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

7073 ià(
k
)

7074 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7076 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7077 
œegfe_num_pİ_couÁ_cyşe
++;

7084 
	`»adyq_’queue
 (
rs
);

7085 ià(!
rs
->
¥ec_mode
)

7086 
iss_¡®l
++;

7087 ià(
š‹r
 < 
RES_CACHEPORTS
)

7089 ià(!
rs
->
¥ec_mode
)

7090 
bªk_cÚf
++;

7096 
rs
->
issued
 = 
TRUE
;

7097 ià(
rs
->
couÁed_iissueq
)

7099 
cu¼’t
->
iissueq_thrd
--;

7100 
iissueq
--;

7101 
iissueq_ş
[
rs
->
th»adid
]--;

7102 
rs
->
couÁed_iissueq
 = 0;

7104 ià(
rs
->
couÁed_fissueq
)

7106 
cu¼’t
->
fissueq_thrd
--;

7107 
fissueq
--;

7108 
fissueq_ş
[
rs
->
th»adid
]--;

7109 
rs
->
couÁed_fissueq
 = 0;

7111 #ifdeà
DIRECTORY


7112 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1, 0);

7114 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1);

7116 ià(!
rs
->
—_comp
 &&„s->
out1
)

7118 
rs
->
fšish_time
 = (
sim_cyşe
 + 1);

7119 
rs
->
issue_time
 = 
sim_cyşe
;

7123 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

7124 
n_issued
++;

7125 
issue_dÚe
[
rs
->
th»adid
]++;

7126 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

7128 
fq¿m_acûss
++;

7129 
cu¼’t
->
fq¿m_acûss
++;

7133 
iq¿m_acûss
++;

7134 
cu¼’t
->
iq¿m_acûss
++;

7136 ià((
rs
->
š¡num
 - 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].š¡numè> 
DISTILP
)

7138 
di¡p
++;

7139 ià(!
rs
->
¥ec_mode
)

7140 
di¡p_v®id
++;

7141 
rs
->
di¡issue
 = 1;

7143 
this_cyşe_issued
[
rs
->
şu¡”
]++;

7145 
k
 = 0; k < 
MAX_IDEPS
; k++)

7147 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

7149 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

7151 
œegfe_acûss
++;

7152 
cu¼’t
->
œegfe_acûss
++;

7153 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

7154 ià(
k
)

7155 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7157 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7158 
œegfe_num_pİ_couÁ_cyşe
++;

7160 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

7162 
äegfe_acûss
++;

7163 
cu¼’t
->
äegfe_acûss
++;

7165 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

7166 ià(
k
)

7167 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7169 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7170 
œegfe_num_pİ_couÁ_cyşe
++;

7176 #ifdef 
EDA


7177 ià(
cu¼’t
->
ma¡”id
 == 1)

7179 ià(
rs
->
poisÚ
[0].
dœty
 ||„s->poison[1].dirty)

7181 ià(
rs
->
—_comp
)

7183 
rs
->
poisÚ
[2].
dœty
 = 1;

7184 
rs
->
poisÚ
[2].
d©a
 =„s->poisÚ[1].d©¨+ 
	`SEXT
 (rs->
IR
 & 0xffff);

7186 ià(!
rs
->
š_LSQ
)

7187 
	`ÿlcuÏ‹WrÚgV®ue
 (
rs
);

7189 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_LOAD
))

7190 
rs
->
poisÚ
[2].
dœty
 = 0;

7196 
	`»adyq_’queue
 (
rs
);

7199 
	`RSLINK_FREE
 (
node
);

7202 ; 
node
;‚odğ
Ãxt_node
)

7204 
Ãxt_node
 = 
node
->
Ãxt
;

7206 ià(
	`RSLINK_VALID
 (
node
))

7208 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

7210 
rs
->
queued
 = 
FALSE
;

7211 
	`»adyq_’queue
 (
rs
);

7213 
	`RSLINK_FREE
 (
node
);

7218 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

7220 ià(
lßdRejeùCouÁ
[
‹mp
] & 
cŞËù_¡©s
 == 1)

7223 
k
 = 
»¶ayIndex
[
‹mp
];

7226 ià(!
thecÚ‹xts
[
‹mp
]->
RUU
[
k
].
¥ec_mode
)

7228 
	`fixS³cS‹
 (
k
, 
‹mp
);

7229 
thecÚ‹xts
[
‹mp
]->
»gs
 =hecÚ‹xts[‹mp]->
RUU
[
k
].
backupReg
;

7230 
	`£qCÚsi¡ªcyR•Ïy
 (
k
, 
‹mp
);

7231 
lßdRejeùSt
[
‹mp
]++;

7236 
num_issued
 = 
n_issued
;

7237 
	}
}

7245 
	#R_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_IREGS
))

	)

7246 
	#F_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_FREGS
))

	)

7247 
	#C_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_CREGS
))

	)

7251 
	$r¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7253 
i
;

7255 
cÚ‹xt
 *
cu¼’t
;

7257 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7259 ià(!
¡»am
)

7260 
¡»am
 = 
¡d”r
;

7262 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtiv»gi¡” cÚ‹Á **\n", 
th»adid
);

7264 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7267 
i
 = 0; i < 
MD_NUM_IREGS
; i++)

7269 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, 
i
))

7271 
	`md_´št_œeg
 (
cu¼’t
->
¥ec_»gs_R
, 
i
, 
¡»am
);

7272 
	`årštf
 (
¡»am
, "\n");

7277 
i
 = 0; i < 
MD_NUM_FREGS
; i++)

7279 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, 
i
))

7281 
	`md_´št_å»g
 (
cu¼’t
->
¥ec_»gs_F
, 
i
, 
¡»am
);

7282 
	`årštf
 (
¡»am
, "\n");

7287 
i
 = 0; i < 
MD_NUM_CREGS
; i++)

7289 #ifdeà
TEST_BUG


7290 ià(
	`BITMAP_SET_P
 (
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7292 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7295 
	`md_´št_üeg
 (
cu¼’t
->
¥ec_»gs_C
, 
i
, 
¡»am
);

7296 
	`årštf
 (
¡»am
, "\n");

7299 
	}
}

7311 
	$Œaûr_»cov”
 (
th»adid
)

7313 
i
;

7314 
¥ec_mem_’t
 *
’t
, *
’t_Ãxt
;

7316 
cÚ‹xt
 *
cu¼’t
;

7318 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7322 ià(!
cu¼’t
->
¥ec_mode
)

7323 
	`·nic
 ("Th»ad %d, cªnÙ„ecov” uÆes š s³cuÏtivmode", 
th»adid
);

7324 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7326 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7327 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7331 #ifdeà
TEST_BUG


7332 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7333 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7334 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7336 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7337 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7338 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7343 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7346 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ = 
’t_Ãxt
)

7348 
’t_Ãxt
 = 
’t
->
Ãxt
;

7349 
’t
->
Ãxt
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7350 
cu¼’t
->
buck‘_ä“_li¡
 = 
’t
;

7352 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7356 ià(
±¿û_aùive
)

7358 
cu¼’t
->
ãtch_num
 != 0)

7360 
	`±¿û_’dš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
);

7361 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

7362 
cu¼’t
->
ãtch_num
--;

7366 
cu¼’t
->
ãtch_num
 = 0;

7367 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

7368 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»cov”_PC
;

7369 
	}
}

7373 
	$Œaûr_š™
 (
th»adid
)

7375 
i
;

7377 
cÚ‹xt
 *
cu¼’t
;

7379 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7381 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7382 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7383 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7386 #ifdeà
TEST_BUG


7387 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7388 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7389 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7391 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7392 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7393 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7395 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7396 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7397 
	}
}

7403 
	#HASH_ADDR
(
ADDR
è((((ADDRè>> 24)^((ADDRè>> 16)^((ADDRè>> 8)^(ADDR)è& (
STORE_HASH_SIZE
-1))

	)

7415 
md_çuÉ_ty³


7416 
	$¥ec_mem_acûss
 (
mem_t
 *
mem
,

7417 
mem_cmd
 
cmd
,

7418 
md_addr_t
 
addr
,

7419 *
p
,

7420 
nby‹s
)

7422 
i
, 
šdex
;

7423 
¥ec_mem_’t
 *
’t
, *
´ev
;

7425 
cÚ‹xt
 *
cu¼’t
;

7426 
th»adid
 = 
mem
->threadid;

7428 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7434 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

7437 
i
 = 0; i < 
nby‹s
; i++)

7438 ((*è
p
)[
i
] = 0;

7440  
md_çuÉ_nÚe
;

7443 ià(!((
addr
 >ğ
cu¼’t
->
ld_‹xt_ba£
 &&‡dd¸< (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& 
cmd
 =ğ
R—d
è|| 
	`md_v®id_addr
 (addr, cu¼’t->
ma¡”id
)))

7446 
i
 = 0; i < 
nby‹s
; i++)

7447 ((*è
p
)[
i
] = 0;

7449  
md_çuÉ_nÚe
;

7453 
šdex
 = 
	`HASH_ADDR
 (
addr
);

7454 
´ev
 = 
NULL
, 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
Ãxt
)

7456 ià(
’t
->
addr
 ==‡ddr)

7459 ià(
´ev
 !ğ
NULL
)

7462 
´ev
->
Ãxt
 = 
’t
->next;

7463 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7464 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7471 ià(!
’t
 && 
cmd
 =ğ
Wr™e
)

7474 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7477 
cu¼’t
->
buck‘_ä“_li¡
 = 
	`ÿÎoc
 (1,  (
¥ec_mem_’t
));

7478 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7479 
	`çl
 ("th»ad %d , ouˆoàvœtu® memÜy", 
th»adid
);

7481 
’t
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7482 
cu¼’t
->
buck‘_ä“_li¡
 = cu¼’t->buck‘_ä“_li¡->
Ãxt
;

7484 ià(!
bugcom·t_mode
)

7487 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7488 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7489 
’t
->
addr
 =‡ddr;

7490 
’t
->
d©a
[0] = 0;

7491 
’t
->
d©a
[1] = 0;

7496 
nby‹s
)

7499 ià(
cmd
 =ğ
R—d
)

7501 ià(
’t
)

7504 *((
by‹_t
 *è
p
èğ*((by‹_ˆ*è(&
’t
->
d©a
[0]));

7510 *((
by‹_t
 *è
p
èğ
	`MEM_READ_BYTE
 (
mem
, 
addr
);

7516 *((
by‹_t
 *è(&
’t
->
d©a
[0])èğ*((by‹_ˆ*è
p
);

7520 ià(
cmd
 =ğ
R—d
)

7522 ià(
’t
)

7525 *((
h®f_t
 *è
p
èğ*((h®f_ˆ*è(&
’t
->
d©a
[0]));

7531 *((
h®f_t
 *è
p
èğ
	`MEM_READ_HALF
 (
mem
, 
addr
);

7537 *((
h®f_t
 *è& 
’t
->
d©a
[0]èğ*((h®f_ˆ*è
p
);

7541 ià(
cmd
 =ğ
R—d
)

7543 ià(
’t
)

7546 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

7552 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

7558 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

7562 ià(
cmd
 =ğ
R—d
)

7564 ià(
’t
)

7567 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

7568 *(((
wÜd_t
 *è
p
è+ 1èğ*((wÜd_ˆ*è& 
’t
->
d©a
[1]);

7574 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

7575 *(((
wÜd_t
 *è
p
è+ 1èğ
	`MEM_READ_WORD
 (
mem
, 
addr
 +  (word_t));

7581 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

7582 *((
wÜd_t
 *è& 
’t
->
d©a
[1]èğ*(((wÜd_ˆ*è
p
) + 1);

7586 
	`·nic
 ("access size‚ot supported in mis-speculative mode");

7589  
md_çuÉ_nÚe
;

7590 
	}
}

7594 
	$m¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7596 
i
, 
j
;

7597 
¥ec_mem_’t
 *
’t
;

7599 
cÚ‹xt
 *
cu¼’t
;

7601 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7603 ià(!
¡»am
)

7604 
¡»am
 = 
¡d”r
;

7606 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtivmemÜy cÚ‹Á **\n", 
th»adid
);

7608 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7610 
j
 = 0; j < 
numcÚ‹xts
; j++)

7612 
	`årštf
 (
¡»am
, "th»ad %d : \n", 
j
);

7613 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7616 
’t
 = 
thecÚ‹xts
[
j
]->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7618 
	`myårštf
 (
¡»am
, "[0x%08p]: %12.0f/0x%08x:%08x\n", 
’t
->
addr
, (è(*((*è’t->
d©a
)), *((*) &ent->data[0]), *(((*) &ent->data[0]) + 1));

7622 
	}
}

7626 
	$simoo_mem_obj
 (
mem_t
 *
mem
,

7627 
is_wr™e
,

7628 
md_addr_t
 
addr
,

7629 *
p
,

7630 
nby‹s
)

7632 
mem_cmd
 
cmd
;

7634 
th»adid
 = 
mem
->threadid;

7635 
cÚ‹xt
 *
cu¼’t
;

7637 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7639 ià(!
is_wr™e
)

7640 
cmd
 = 
R—d
;

7642 
cmd
 = 
Wr™e
;

7645 *
”r¡r
;

7647 
”r¡r
 = 
	`mem_v®id
 (
cmd
, 
addr
, 
nby‹s
, 
FALSE
);

7648 ià(
”r¡r
)

7649  
”r¡r
;

7653 ià(
cu¼’t
->
¥ec_mode
)

7654 
	`¥ec_mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
);

7656 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adid
);

7659  
NULL
;

7660 
	}
}

7666 
	$æushWr™eBufãr
 (
th»adid
)

7668 
šdex
;

7669 
wb_mem_’t
 *
’t
, *
´ev
;

7670 
nby‹s
;

7671 
by‹_t
 *
p
, *
q
;

7672 
md_addr_t
 
addr
;

7673 
ii
;

7675 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7677 
’t
 = 
cu¼’t
->
WBbËTa
;ƒÁ !ğ
NULL
;ƒÁ =ƒÁ->
´ev
)

7679 
p
 = 
’t
->
d©a
;

7680 
nby‹s
 = 
’t
->nbytes;

7681 
addr
 = 
’t
->addr;

7683 #ià!
WATER_NSQUARED


7684 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7686 
nby‹s
-- > 0)

7688 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7689 
p
 +ğ (
by‹_t
);

7690 
addr
 +ğ (
by‹_t
);

7694 
’t
->
wr™eAÌ—dyDÚe
 = 1;

7697 
	}
}

7701 
	$com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
)

7704 
by‹_t
 *
p
, *
q
;

7705 
cÚ‹xt
 *
cu¼’t
;

7706 
wb_mem_’t
 *
’t
, *
´ev
;

7709 
nby‹s
;

7710 
md_İcode
 
İ
;

7711 
md_addr_t
 
š¡
;

7712 
do_wr™e
 = 1;

7713 
jj
;

7714 
acûs£d
;

7716 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7717 
’t
 = 
cu¼’t
->
WBbËTa
;

7719 ià((
width
 & (width - 1)è!ğ0 || (
addr
 & (width - 1)) != 0)

7722 
p
 = 
’t
->
d©a
;

7723 
nby‹s
 = 
’t
->nbytes;

7724 ià(
addr
 !ğ
’t
->addr)

7725 
	`´štf
("’t->add¸%Îd\n", 
’t
->
addr
);

7726 ià(
addr
 !ğ
’t
->addr)

7727 
	`·nic
 ("write buffer miss-alignment\n");

7729 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

7730 
š¡
 = 
’t
->
š¡r
;

7732 
p
 = 
’t
->
d©a
;

7733 
nby‹s
 = 
’t
->nbytes;

7736 ià(
İ
 != 35)

7738 #ià!
WATER_NSQUARED


7739 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7741 
nby‹s
-- > 0)

7743 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7744 
p
 +ğ (
by‹_t
);

7745 
addr
 +ğ (
by‹_t
);

7752 #ià
WATER_NSQUARED


7753 
cu¼’t
->
wa™FÜSTLC
 = 0;

7755 ià(!
isFa
 && (
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 !ğ0è&& (commÚ_»gs_s[cu¼’t->ma¡”id][cu¼’t->aùu®id].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
)))

7757 
do_wr™e
 = 1;

7759 
jj
 = 0; jj < 
THREADS_PER_JOB
; jj++)

7761 ià(
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
))

7763 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
»gs_lock
 = 0;

7764 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 = 0;

7767 ià(!
’t
->
wr™eAÌ—dyDÚe
)

7770 
nby‹s
-- > 0)

7772 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

7773 
p
 +ğ (
by‹_t
);

7774 
addr
 +ğ (
by‹_t
);

7777 
¡ÜeCÚdFa
 = 0;

7781 
cu¼’t
->
»gs
.
»gs_R
[((
š¡
 >> 21) & 0x1f)] = 0;

7782 
do_wr™e
 = 0;

7783 
¡ÜeCÚdFa
 = 1;

7785 
cu¼’t
->
wa™FÜSTLC
 = 0;

7788 
acûs£d
 = 
’t
->accessed;

7789 
cu¼’t
->
numOfWBEÁry
--;

7790 ià((
’t
->
´ev
 =ğ
NULL
è&& (’t->
Ãxt
 == NULL))

7792 
cu¼’t
->
WBbËTa
 = 
NULL
;

7793 
cu¼’t
->
WBbËH—d
 = 
NULL
;

7794 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7795 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7797 ià(
’t
->
Ãxt
 =ğ
NULL
)

7799 
cu¼’t
->
WBbËTa
 = 
’t
->
´ev
;

7800 
’t
->
´ev
->
Ãxt
 = 
NULL
;

7801 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7802 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7805 ià(
’t
->
´ev
 =ğ
NULL
)

7807 
cu¼’t
->
WBbËH—d
 = 
’t
->
Ãxt
;

7808 
’t
->
Ãxt
->
´ev
 = 
NULL
;

7809 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7810 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7814 
’t
->
´ev
->
Ãxt
 =ƒnt->next;

7815 
’t
->
Ãxt
->
´ev
 =ƒnt->prev;

7816 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

7817 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

7819 
	}
}

7824 
	$comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
)

7826 
šdex
;

7827 
wb_mem_’t
 *
’t
;

7828 
cÚ‹xt
 *
cu¼’t
;

7829 
md_İcode
 
İ
;

7830 
Ït
 = 0;

7831 
pÜt_Ït
 = 0, 
now_Ït
 = 0, 
pÜt_now
 = 0;

7834 
cu¼’t
 = 
thecÚ‹xts
[
th»adID
];

7835 ià(!
COHERENT_CACHE
)

7837 
	`´štf
 ("This is‚ot TRUE for‚on-coherent cache\n");

7838 
	`ex™
 (0);

7840 
šdex
 = 0;

7841 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

7843 ià(
’t
->
addr
 =ğadd¸&& !’t->
com¶‘eCyşe
)

7845 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

7846 ià(
İ
 == 35)

7848 
’t
->
com¶‘eCyşe
 = 
sim_cyşe
 + 
Ït
;

7849 
’t
->
ÃedBusAcûss
 = 1;

7850 
’t
->
acûs£d
 =‡ccessed;

7854 
’t
->
com¶‘eCyşe
 = completeCycle;

7855 
’t
->
ÃedBusAcûss
 =‚eedBusAccess;

7856 
’t
->
acûs£d
 =‡ccessed;

7861 
	}
}

7865 #ià
PROCESS_MODEL


7867 
	$checkFÜSh¬edAddr
 (
addr
)

7869 
sh¬edAdd»ssLi¡_s
 *
tmpPŒ
;

7871 
šdx
 = (è(((è
addr
 & 1016) >> 3);

7873 
šdx
 = 0;

7874 
tmpPŒ
 = 
sh¬edAdd»ssLi¡
[
šdx
];

7875 ià((
addr
 >ğ
La¡Sh¬edAdd»ss
è&& (add¸< (La¡Sh¬edAdd»s + 
La¡Sh¬edSize
)))

7879 
tmpPŒ
 !ğ
NULL
)

7881 ià((
addr
 >ğ
tmpPŒ
->
add»ss
è&& (add¸< (tmpPŒ->add»s +mpPŒ->
size
)))

7883 
La¡Sh¬edAdd»ss
 = 
tmpPŒ
->
add»ss
;

7884 
La¡Sh¬edSize
 = 
tmpPŒ
->
size
;

7887 
tmpPŒ
 =mpPŒ->
Ãxt
;

7890 
	}
}

7893 
md_çuÉ_ty³


7894 
	$WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
)

7896 
md_İcode
 
İ
;

7897 
md_çuÉ_ty³
 
»tuº_ty³
;

7899 
TempIn¡r
 = 
š¡r
;

7900 
	`MD_SET_OPCODE
 (
İ
, 
TempIn¡r
);

7902 if(!
thecÚ‹xts
[
th»adID
]->
¥ec_mode
 && (
addr
 <ğthecÚ‹xts[0]->
ld_¡ack_ba£
è&& (add¸>hecÚ‹xts[0]->ld_¡ack_ba£-
numcÚ‹xts
*
STACKSIZE
) && !(addr <=hecontexts[threadID]->ld_stack_base &&‡ddr >hecontexts[threadID]->ld_stack_base-STACKSIZE))

7903 
	`·nic
("Stack boundaries breached: May behe STACKSIZE…arameter defined in context.h file is small forhe‡pplication");

7905 #ià
	`defšed
(
DO_COMPLETE_FASTFWD
è|| defšed(
PARALLEL_EMUL
)

7906 #ià
PROCESS_MODEL


7907 ià(
	`checkFÜSh¬edAddr
 ((è
addr
))

7909 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
thecÚ‹xts
[0]->
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7910  
»tuº_ty³
;

7913 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7914  
»tuº_ty³
;

7918 ià(
COHERENT_CACHE
 && 
®lFÜked
)

7920 ià(
İ
 == 35)

7922 
thecÚ‹xts
[
th»adID
]->
wa™FÜSTLC
 = 1;

7924 
»tuº_ty³
 = 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7925 #ià
WATER_NSQUARED


7926 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7929 ià(
acûss_mem
 && 
acûss_mem_id
 =ğ
th»adID
)

7931 
	`æushWr™eBufãr
 (
th»adID
);

7933  
»tuº_ty³
;

7937 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

7938  
»tuº_ty³
;

7940 
	}
}

7944 
INLINE
 

7945 
	$ruu_lšk_id•
 (
RUU_¡©iÚ
 *
rs
,

7946 
id•_num
,

7947 
id•_Çme
)

7949 
CV_lšk
 
h—d
;

7950 
RS_lšk
 *
lšk
;

7952 
th»adid
 = 
rs
->threadid;

7953 
cÚ‹xt
 *
cu¼’t
;

7955 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7957 
rs
->
´od
[
id•_num
] = 
NULL
;

7958 
rs
->
id•_Çme
[
id•_num
] = idep_name;

7960 ià(
id•_Çme
 =ğ
NA
)

7963 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

7964 
rs
->
wh’_»ady
[
id•_num
] = 0;

7965 
rs
->
wh’_id•_»ady
[
id•_num
] = 
WAIT_TIME
;

7969 
h—d
 = 
	`CREATE_VECTOR
 (
id•_Çme
);

7972 ià(!
h—d
.
rs
 || h—d.rs->
com¶‘ed
)

7974 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

7975 
rs
->
wh’_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

7976 
rs
->
wh’_id•_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

7979 
rs
->
id•_»ady
[
id•_num
] = 
FALSE
;

7980 
rs
->
´od
[
id•_num
] = 
h—d
.rs;

7982 
	`RSLINK_NEW
 (
lšk
, 
rs
);

7983 
lšk
->
x
.
İnum
 = 
id•_num
;

7984 
lšk
->
Ãxt
 = 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
];

7985 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
] = 
lšk
;

7986 
	}
}

7989 
	$ÃedsWBæush
 (
cÚ‹xt
 * 
cu¼’t
, 
md_İcode
 
İ
, 
md_addr_t
 
addr
)

7991 
nby‹s
 = 
	`G‘MemAccWidth
 (
İ
);

7993 ià(
İ
 =ğ
LDQ_U
)

7994 
addr
 =‡ddr & ~7;

7996 
wb_mem_’t
 *
’t
;

7998 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

8000 ià(
nby‹s
 == 1)

8002 ià(!(
’t
->
nby‹s
 ==‚bytes))

8004 ià((
’t
->
addr
 <ğaddrè&& (ÓÁ->add¸+ƒÁ->
nby‹s
) >‡ddr))

8010 ià(
nby‹s
 == 2)

8012 ià(
’t
->
nby‹s
 !=‚bytes)

8014 ià(
’t
->
nby‹s
 <‚bytes)

8016 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

8023 ià((
addr
 >ğ
’t
->addrè&& (add¸< (’t->add¸+ƒÁ->
nby‹s
)))

8030 ià(
nby‹s
 == 4)

8032 ià(
nby‹s
 !ğ
’t
->nbytes)

8034 ià(
’t
->
nby‹s
 <‚bytes)

8036 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

8043 ià(
nby‹s
 == 8)

8045 ià(
nby‹s
 !ğ
’t
->nbytes)

8047 ià((
’t
->
nby‹s
 == 1) || (ent->nbytes == 2) || (ent->nbytes == 4))

8049 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

8058 
	}
}

8063 
INLINE
 

8064 
	$ruu_š¡®l_od•
 (
RUU_¡©iÚ
 *
rs
,

8065 
od•_num
,

8066 
od•_Çme
)

8068 
CV_lšk
 
cv
;

8070 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

8073 ià(
od•_Çme
 =ğ
NA
)

8076 
rs
->
Úames
[
od•_num
] = 
NA
;

8081 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

8083 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

8086 
	`CVLINK_INIT
 (
cv
, 
rs
, 
od•_num
);

8087 
	`SET_CREATE_VECTOR
 (
od•_Çme
, 
cv
);

8088 
	}
}

8092 
INLINE
 

8093 
	$ruu_š¡®l_od•_sk
 (
RUU_¡©iÚ
 *
rs
,

8094 
od•_num
,

8095 
od•_Çme
)

8099 ià(
od•_Çme
 =ğ
NA
)

8102 
rs
->
Úames
[
od•_num
] = 
NA
;

8107 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

8109 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

8111 
	}
}

8117 
	$simoo_»g_obj
 (
»gs_t
 *
x»gs
,

8118 
is_wr™e
,

8119 
md_»g_ty³
 
¹
,

8120 
»g
,

8121 
ev®_v®ue_t
 *
v®
)

8124 
th»adid
 = 0;

8125 
cÚ‹xt
 *
cu¼’t
;

8127 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8129 
¹
)

8131 
¹_g´
:

8132 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_IREGS
)

8135 ià(!
is_wr™e
)

8137 
v®
->
ty³
 = 
‘_ušt
;

8138 
v®
->
v®ue
.
as_ušt
 = 
	`GPR
 (
»g
);

8141 
	`SET_GPR
 (
»g
, 
	`ev®_as_ušt
 (*
v®
));

8144 
¹_Ír
:

8145 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_FREGS
)

8149 
	`abÜt
 ();

8152 
¹_år
:

8154 
	`abÜt
 ();

8157 
¹_d´
:

8159 
	`abÜt
 ();

8164 
¹_PC
:

8165 ià(!
is_wr™e
)

8167 
v®
->
ty³
 = 
‘_addr
;

8168 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8171 
cu¼’t
->
»gs
.
»gs_PC
 = 
	`ev®_as_addr
 (*
v®
);

8174 
¹_NPC
:

8175 ià(!
is_wr™e
)

8177 
v®
->
ty³
 = 
‘_addr
;

8178 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8181 
cu¼’t
->
»gs
.
»gs_NPC
 = 
	`ev®_as_addr
 (*
v®
);

8185 
	`·nic
 ("bogus„egister bank");

8189  
NULL
;

8190 
	}
}

8193 
ruu_ãtch
 ();

8195 
	g¡®lCau£
[
MAXTHREADS
] = {0};

8196 
couÁ”_t
 
	gmb_couÁ
 = 0;

8204 
	$isLockIn¡
(
md_addr_t
 
PC
)

8206 if(
PC
 <ğ
LockIn™PC
 && PC >= LockInitPC - 68)

8210 
	}
}

8211 
	$isB¬R–In¡
(
md_addr_t
 
PC
)

8213 if(
PC
 <ğ
Ï¡_Ï¡_pc
 + 112 && PC >=†ast_last_pc - 844)

8217 
	}
}

8220 
	$ruu_di¥©ch
 (
th»adid
)

8222 
i
;

8223 
‹mpş
;

8224 
‹mµc
 = 0;

8225 
mm
, 
k
;

8226 
fÜû_bªk
;

8227 
¦Ù
;

8229 
n_di¥©ched
;

8230 
md_š¡_t
 
š¡
;

8231 
md_İcode
 
İ
;

8232 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

8233 
md_addr_t
 
rg‘_PC
 = 0;

8234 
md_addr_t
 
addr
 = 0;

8235 
RUU_¡©iÚ
 *
rs
;

8236 
RUU_¡©iÚ
 *
lsq
;

8239 
RUU_¡©iÚ
 *
rs_dup
;

8240 
b´ed_upd©e_t
 *
dœ_upd©e_±r
;

8241 
¡ack_»cov”_idx
;

8242 
p£q
;

8243 
is_wr™e
 = 
FALSE
;

8244 
made_check
;

8245 
br_k’
, 
br_´ed_k’
;

8246 
by‹_t
 
‹mp_by‹
;

8247 
h®f_t
 
‹mp_h®f
;

8248 
wÜd_t
 
‹mp_wÜd
;

8250 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

8251 
qwÜd_t
 
‹mp_qwÜd
 = 0;

8253 
qwÜd_t
 
»gV®
;

8254 
h®f_t
 
ushLdFÏg
;

8256 
»gs_t
 
‹mpReg
;

8259 
»gs_t
 
‹mpRegP»v
;

8261 
md_çuÉ_ty³
 
çuÉ
;

8263 
soá_”rÜ
, 
‹mp_ãtch_num
;

8266 
qwÜd_t
 
v®_¿
 = 0, 
v®_rb
 = 0, 
v®_rc
 = 0, 
v®_¿_»suÉ
 = 0;

8267 
	`cİy_to
 ();

8268 
	`bªk_lookup
 (
md_addr_t
, , );

8270 
cÚ‹xt
 *
cu¼’t
;

8271 
ãtch_time
 = 0;

8273 
£cÚd_run
 = 
TRUE
, 
no_d¥_şs
;

8275 
š_LSQ
 = 0;

8276 
lsq_fuÎ
 = 0;

8278 
·»ÁID
;

8280 
»sourû_Ãed
[4];

8282 
»sourû_Ãed
[0] = 1;

8283 
»sourû_Ãed
[1] = 1;

8284 
»sourû_Ãed
[2] = 3;

8285 
»sourû_Ãed
[3] = 3;

8287 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8289 
n_di¥©ched
 = 0;

8290 
‹mp_ãtch_num
 = 
cu¼’t
->
ãtch_num
;

8292 
cu¼’t
->
ãtch_»dœeùed
 = 
FALSE
;

8293 
¡®lCau£
[
th»adid
] = 0;

8294 
lsq_miss_¡®l
 = 0;

8296 ià(
‹mp_ãtch_num
 != 0)

8298 
made_check
 = 
FALSE
;

8299 
‹mpş
 = 
aùu®_şu¡”s
;

8302 
n_di¥©ched
 < (
ruu_decode_width
 * 
ãtch_¥“d
)

8303 && 
cu¼’t
->
LSQ_num
 < 
LSQ_size
 && cu¼’t->
m_shLQNum
 < 
m_shLQSize


8304 #ifdef 
SMD_USE_WRITE_BUF


8305 && (
cu¼’t
->
m_shSQNum
 + 
m_L1WBufCÁ
[
th»adid
]è< 
m_shSQSize


8307 && (
cu¼’t
->
m_shSQNum
è< 
m_shSQSize


8309 && (
cu¼’t
->
RUU_num
 < 
RUU_size
)

8310 && 
‹mp_ãtch_num
 !ğ0 && (
ruu_šşude_¥ec
 || !
cu¼’t
->
¥ec_mode
))

8313 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8314 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

8316 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

8317 
š_LSQ
 = 1;

8319 
š_LSQ
 = 0;

8321 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8323 
»sourû_Ãed
[0] = 0;

8324 
»sourû_Ãed
[1] = 1;

8325 
»sourû_Ãed
[2] = 0;

8326 
»sourû_Ãed
[3] = 3;

8330 
»sourû_Ãed
[0] = 1;

8331 
»sourû_Ãed
[1] = 0;

8332 
»sourû_Ãed
[2] = 3;

8333 
»sourû_Ãed
[3] = 1;

8336 ià(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esourû_Ãed[1])è&& (
œegfe_ş
[th»adid] <ğ((
IPREG_size
è-„esourû_Ãed[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8338 if(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esource_need[1]))))

8339 
¡®lCau£
[
th»adid
] = 
SÎIssueFuÎ
;

8340 if(!((
œegfe_ş
[
th»adid
] <ğ((
IPREG_size
è- 
»sourû_Ãed
[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8341 
¡®lCau£
[
th»adid
] = 
SÎRegFuÎ
;

8345 ià((
thecÚ‹xts
[
th»adid
]->
wa™FÜB¿nchResŞve
 =ğ1è|| (thecÚ‹xts[th»adid]->
wa™FÜSTLC
))

8347 
¡®lCau£
[
th»adid
] = 
SÎSTLC
;

8356 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

8357 ià(
busSlÙCouÁ
 < 11)

8359 
¡®lNoBusSlÙ
++;

8364 ià(
cŞËùStStİ
[
cu¼’t
->
id
])

8369 
j
, 
boŞ
 = 0, 
tmp
, 
Î_sc
 = 0;

8370 
cÚ‹xt
 *
tmpCxt
;

8371 
md_addr_t
 
mask
;

8373 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

8376 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8377 
dœ_upd©e_±r
 = &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
dœ_upd©e
);

8378 
¡ack_»cov”_idx
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->stack_recover_idx;

8379 
p£q
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
;

8380 
ãtch_time
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->fetch_time;

8382 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
is_dup
 = 
TRUE
;

8383 if(
m_upd©e_miss_æag
[
th»adid
])

8385 
m_upd©e_miss_æag
[
th»adid
] = 0;

8386 if(
m_upd©e_miss_d•’d_¡¬t
[
th»adid
])

8387 
Upd©eD•’dCyşe
 +ğ(
sim_cyşe
 - 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
]);

8388 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 0;

8392 ià(
İ
 =ğ
STL_C
)

8395 
Î_sc
++;

8399 ià(
İ
 =ğ
LDL_L
)

8401 
Î_sc
++;

8403 if(
	`MD_OP_FLAGS
(
İ
è& 
F_FENCE
)

8404 
mb_couÁ
++;

8407 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_TRAP
)

8409 
	#OSF_SYS_g‘th»adid
 500

	)

8410 
	#OSF_SYS_STATS
 530

	)

8411 
	#OSF_SYS_BARRIER_STATS
 531

	)

8412 
	#OSF_SYS_LOCK_STATS
 532

	)

8413 
	#OSF_SYS_BARRIER_INSTR
 533

	)

8414 
qwÜd_t
 
syscode
 = 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_V0
];

8415 if(
cu¼’t
->
¥ec_mode
 || !(
syscode
 =ğ
OSF_SYS_g‘th»adid
 || syscod=ğ
OSF_SYS_STATS
 || syscod=ğ
OSF_SYS_BARRIER_INSTR
 ))

8417 ià(
cu¼’t
->
RUU_num
 != 0)

8419 
¡®lCau£
[
th»adid
] = 
SÎT¿p
;

8424 ià(
cu¼’t
->
¥ec_mode
)

8425 
	`·nic
 ("drained‡nd speculative");

8428 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->regs_PC;

8429 
cu¼’t
->
´ed_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->pred_PC;

8430 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8433 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

8434 
cu¼’t
->
¥ec_»gs_R
[
MD_REG_ZERO
] = 0;

8435 #ifdeà
TARGET_ALPHA


8436 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8437 
cu¼’t
->
¥ec_»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8441 
addr
 = 0;

8442 
is_wr™e
 = 
FALSE
;

8445 #ià
	`defšed
(
TARGET_PISA
)

8446 
v®_¿
 = 
	`GPR
 (
RS
);

8447 
v®_rb
 = 
	`GPR
 (
RT
);

8448 #–ià
	`defšed
(
TARGET_ALPHA
)

8452 
çuÉ
 = 
md_çuÉ_nÚe
;

8453 
soá_”rÜ
 = 
FALSE
;

8456 
‹mpRegP»v
 = 
cu¼’t
->
»gs
;

8459 
ushLdFÏg
 = 0;

8461 
İ
)

8463 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

8464 
OP
: \

8466 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

8467 
out1
 = 
O1
; 
out2
 = 
O2
; \

8468 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

8469 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

8470 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

8471 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

8472 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

8473 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

8475 if(
£cÚd_run
è
	`SYMCAT
(
OP
,
_IMPL
); \

8477 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

8478 
OP
: \

8480 
İ
 = 
MD_NOP_OP
; \

8482 
out1
 = 
NA
; 
out2
 = NA; \

8483 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

8486 
	#CONNECT
(
OP
è

	)

8492 
	#DECLARE_FAULT
(
FAULT
è\

	)

8494 ià(!
cu¼’t
->
¥ec_mode
) \

8495 
çuÉ
 = (
FAULT
); \

8499 
	#THREADID
 (
cu¼’t
->
id
)

	)

8500 
	~"machše.def
"

8503 
İ
 = 
MD_NOP_OP
;

8505 
out1
 = 
NA
;

8506 
out2
 = 
NA
;

8507 
š1
 = 
NA
;

8508 
š2
 = 
NA
;

8509 
š3
 = 
NA
;

8512 ià(!
cu¼’t
->
¥ec_mode
)

8514 if(!(
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]))

8515 
pu»_num_š¢
++;

8516 
tÙ®_num_š¢
++;

8517 
sim_num_š¢
++;

8518 
cu¼’t
->
sim_num_š¢
++;

8521 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

8523 
	`årštf
 (
¡d”r
, "sim_cyş%ld\Àsim_š¢ %ld,hrdid %d,…ø%lx, Next_pø%lx\n", (è
sim_cyşe
, (è
cu¼’t
->
sim_num_š¢
, cu¼’t->
id
, (ècu¼’t->
»gs
.
»gs_PC
,

8524 (è
cu¼’t
->
»gs
.
»gs_PC
);

8525 
	`årštf
 (
¡d”r
, "ãtch…ø %lx,ãtch Next_pø %lx\n", (è
cu¼’t
->
ãtch_»gs_PC
, (ècu¼’t->
ãtch_´ed_PC
);

8526 
	`çl
 ("Th»ad %d,‚Ú-¥ecuÏtivçuÉ (%dèd‘eùed @ %lx", 
th»adid
, 
çuÉ
, (è
cu¼’t
->
»gs
.
»gs_PC
);

8530 #ià
	`defšed
(
TARGET_PISA
)

8531 
v®_rc
 = 
	`GPR
 (
RD
);

8532 
v®_¿_»suÉ
 = 
	`GPR
 (
RS
);

8533 #–ià
	`defšed
(
TARGET_ALPHA
)

8534 ià(
out1
 < 32)

8535 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

8537 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

8538 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

8539 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

8541 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

8544 
‹mpReg
 = 
cu¼’t
->
»gs
;

8547 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
))

8549 
sim_tÙ®_»fs
++;

8550 ià(!
cu¼’t
->
¥ec_mode
)

8551 
sim_num_»fs
++;

8553 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

8554 
is_wr™e
 = 
TRUE
;

8557 
sim_tÙ®_lßds
++;

8558 ià(!
cu¼’t
->
¥ec_mode
)

8559 
sim_num_lßds
++;

8563 
br_k’
 = (
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)));

8564 
br_´ed_k’
 = (
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)));

8567 ià(
İ
 !ğ
MD_NOP_OP
)

8588 
DUPLICATION_acûss
[
th»adid
]++;

8589 
du¶iÿtiÚ_acûss
++;

8591 
rs
 = &
cu¼’t
->
RUU
[cu¼’t->
RUU_
];

8593 #ifdeà
HOTLEAKAGE


8594 
rs
->
¦
 = 
sim_cyşe
 - 1;

8596 if(!
ruu_šÜd”_issue
)

8598 
»Çme_acûss
++;

8599 
cu¼’t
->
»Çme_acûss
++;

8602 
rs
->
th»adid
 =hreadid;

8603 
rs
->
IR
 = 
š¡
;

8604 
rs
->
İ
 = op;

8605 
rs
->
š¡num
 = ++
š¡£qnum
;

8606 
rs
->
isSyncIn¡
 = (
cŞËù_lock_¡©s
[
th»adid
] && 
	`isLockIn¡
(
cu¼’t
->
»gs
.
»gs_PC
));

8607 
rs
->
isSyncIn¡B¬
 = (
cŞËù_b¬r›r_¡©s
[
th»adid
]);

8608 
rs
->
isSyncIn¡B¬R–
 = (
cŞËù_b¬r›r_»Ëa£
 && 
	`isB¬R–In¡
(
cu¼’t
->
»gs
.
»gs_PC
));

8609 if(
cu¼’t
->
»gs
.
»gs_PC
 >ğ100000 && 
th»adid
 == 15)

8611 
Ï¡_Ï¡_pc
 = 
Ï¡_pc
;

8612 
Ï¡_pc
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8615 
rs
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8616 
rs
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8617 
rs
->
´ed_PC
 = 
cu¼’t
->pred_PC;

8618 
rs
->
š_LSQ
 = 
FALSE
;

8619 
rs
->
—_comp
 = 
FALSE
;

8620 
rs
->
abªk
 = -1;

8621 
rs
->
pbªk
 = -1;

8622 
rs
->
»cov”_š¡
 = 
FALSE
;

8623 
rs
->
dœ_upd©e
 = *
dœ_upd©e_±r
;

8624 
rs
->
¡ack_»cov”_idx
 = stack_recover_idx;

8625 
rs
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

8626 
rs
->
ãtch_time
 = fetch_time;

8627 
rs
->
di¥_time
 = 
sim_cyşe
;

8628 
rs
->
fšish_time
 = 0;

8629 
rs
->
ÿche_»ady
 = 0;

8630 
rs
->
š_qwa™
 = 0;

8631 
rs
->
issue_time
 = 0;

8632 
rs
->
addr
 = 0;

8633 
rs
->
di¡issue
 = 0;

8634 
rs
->
lsqEÁry
 = 0;

8635 
rs
->
miss_æag
 = 0;

8637 
rs
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

8638 
rs
->
queued
 =„s->
issued
 =„s->
com¶‘ed
 = 
FALSE
;

8639 
rs
->
±¿û_£q
 = 
p£q
;

8640 
rs
->
couÁed_iissueq
 = 0;

8641 
rs
->
couÁed_fissueq
 = 0;

8642 
rs
->
šv®id©iÚReûived
 = 0;

8643 
rs
->
du¶iÿ‹
 = (1 - 
£cÚd_run
);

8645 
rs
->
´evRegV®
 = 
»gV®
;

8647 
rs
->
backupReg
 = 
‹mpRegP»v
;

8648 #ifdeà
DIRECTORY


8649 
rs
->
wr™ewa™
 = 0;

8650 
rs
->
R—dSh¬eDœ
 = 0;

8651 
rs
->
wr™emiss
 = 0;

8653 ià(!
£cÚd_run
)

8654 
rs
->
¥ec_mode
 = 0;

8655 
rs
->
çuÉšg_š¡r
 = 
FALSE
;

8657 #ifdeà
PWR_WAKE


8658 
rs
->
couÁed_œ—dy
 = 0;

8659 
rs
->
couÁed_ä—dy
 = 0;

8660 
rs
->
couÁed_lsq»ady
 = 0;

8663 
rs
->
ä“d
 = 0;

8664 
rs
->
v®_¿
 = val_ra;

8665 
rs
->
v®_rb
 = val_rb;

8666 
rs
->
v®_rc
 = val_rc;

8667 
rs
->
v®_¿_»suÉ
 = val_ra_result;

8668 
rs
->
wh’_»ady
[0] = 
WAIT_TIME
;

8669 
rs
->
wh’_»ady
[1] = 
WAIT_TIME
;

8670 
rs
->
wh’_»ady
[2] = 
WAIT_TIME
;

8671 
rs
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

8672 
rs
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

8673 
rs
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

8674 
rs
->
id•_Çme
[0] = 0;

8675 
rs
->
id•_Çme
[1] = 0;

8676 
rs
->
id•_Çme
[2] = 0;

8677 
rs
->
isL1Miss
 = 0;

8679 #if 
	`defšed
(
EDA
è& defšed(
RUN_ORACLE
)

8680 ià(
cu¼’t
->
ma¡”id
 == 1)

8681 
rs
->
sim_num_š¢
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->sim_num_insn;

8684 
rs
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

8685 
rs
->
outReg
 = 
out1
;

8687 
rs
->
´evReg
 = 
‹mpReg
;

8689 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& !
£cÚd_run
)

8690 
rs
->
İ
 = 
MD_AGEN_OP
;

8693 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& 
£cÚd_run
)

8695 
lsq
 = &
cu¼’t
->
LSQ
[cu¼’t->
LSQ_
];

8696 #ifdeà
HOTLEAKAGE


8697 
lsq
->
¦
 = 
sim_cyşe
 - 1;

8699 
rs
->
İ
 = 
MD_AGEN_OP
;

8700 
rs
->
—_comp
 = 
TRUE
;

8705 
lsq
->
sqStÜeFÜw¬dT
 = -1;

8709 
lsq
->
ushFÏg
 = 
ushLdFÏg
;

8712 
lsq
->
th»adid
 =hreadid;

8713 
lsq
->
IR
 = 
š¡
;

8714 
lsq
->
İ
 = op;

8715 
lsq
->
š¡num
 = 
š¡£qnum
;

8716 
lsq
->
isSyncIn¡
 = (
cŞËù_lock_¡©s
[
th»adid
] && 
	`isLockIn¡
(
cu¼’t
->
»gs
.
»gs_PC
));

8717 
lsq
->
isSyncIn¡B¬
 = (
cŞËù_b¬r›r_¡©s
[
th»adid
]);

8718 
lsq
->
isSyncIn¡B¬R–
 = (
cŞËù_b¬r›r_»Ëa£
 && 
	`isB¬R–In¡
(
cu¼’t
->
»gs
.
»gs_PC
));

8720 
lsq
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8721 
lsq
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8722 
lsq
->
´ed_PC
 = 
cu¼’t
->pred_PC;

8723 
lsq
->
š_LSQ
 = 
TRUE
;

8724 
lsq
->
—_comp
 = 
FALSE
;

8725 
lsq
->
š_qwa™
 = 0;

8726 
lsq
->
di¡issue
 = 0;

8727 
lsq
->
ä“d
 = 0;

8728 
lsq
->
abªk
 = -1;

8729 
lsq
->
pbªk
 = -1;

8731 
lsq
->
»cov”_š¡
 = 
FALSE
;

8732 
lsq
->
dœ_upd©e
.
pdœ1
 =†sq->dœ_upd©e.
pdœ2
 = 
NULL
;

8733 
lsq
->
dœ_upd©e
.
pm‘a
 = 
NULL
;

8734 
lsq
->
¡ack_»cov”_idx
 = 0;

8735 
lsq
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

8736 
lsq
->
ãtch_time
 = fetch_time;

8737 
lsq
->
di¥_time
 = 
sim_cyşe
;

8738 
lsq
->
fšish_time
 = 0;

8739 
lsq
->
ÿche_»ady
 = 0;

8740 
lsq
->
issue_time
 = 0;

8741 
lsq
->
couÁed_iissueq
 = 0;

8742 
lsq
->
couÁed_fissueq
 = 0;

8743 
lsq
->
miss_æag
 = 0;

8745 
lsq
->
šv®id©iÚReûived
 = 0;

8746 #ifdeà
PWR_WAKE


8747 
lsq
->
couÁed_œ—dy
 = 0;

8748 
lsq
->
couÁed_ä—dy
 = 0;

8749 
lsq
->
couÁed_lsq»ady
 = 0;

8751 
mm
 = 0; mm < 
CLUSTERS
; mm++)

8753 
lsq
->
¡_»ach
[
mm
] = 0;

8756 
lsq
->
backupReg
 = 
‹mpRegP»v
;

8757 
lsq
->
addr
 =‡ddr;

8758 
rs
->
addr
 =‡ddr;

8760 
rs
->
abªk
 = 
lsq
->abank;

8761 ià(!
BANKPRED
)

8763 
rs
->
pbªk
 =„s->
abªk
;

8764 
lsq
->
pbªk
 =†sq->
abªk
;

8766 
rs
->
abªk
 =„s->abªk % 
CLUSTERS
;

8767 
lsq
->
abªk
 = 
rs
->abank;

8768 
rs
->
pbªk
 =„s->pbªk % 
CLUSTERS
;

8769 
lsq
->
pbªk
 = 
rs
->pbank;

8770 ià(!
lsq
->
¥ec_mode
)

8772 ià(
lsq
->
abªk
 =ğlsq->
pbªk
)

8773 
ac_bªk_´ed_cÜr
++;

8775 
ac_bªk_´ed_wrÚg
++;

8777 
lsq
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

8778 
lsq
->
±¿û_£q
 =…trace_seq++;

8779 
lsq
->
v®_¿
 = val_ra;

8780 
lsq
->
v®_rb
 = val_rb;

8781 
lsq
->
v®_rc
 = val_rc;

8782 
lsq
->
v®_¿_»suÉ
 = val_ra_result;

8783 
	`±¿û_Ãwuİ
 (
lsq
->
±¿û_£q
, "š‹º®†d/¡",†sq->
PC
, 0);

8784 
	`±¿û_Ãw¡age
 (
lsq
->
±¿û_£q
, 
PST_DISPATCH
, 0);

8785 
lsq
->
queued
 =†sq->
issued
 =†sq->
com¶‘ed
 = 
FALSE
;

8787 
lsq
->
wh’_»ady
[0] = 
WAIT_TIME
;

8788 
lsq
->
wh’_»ady
[1] = 
WAIT_TIME
;

8789 
lsq
->
wh’_»ady
[2] = 
WAIT_TIME
;

8790 
lsq
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

8791 
lsq
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

8792 
lsq
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

8793 
lsq
->
id•_Çme
[0] = 0;

8794 
lsq
->
id•_Çme
[1] = 0;

8795 
lsq
->
id•_Çme
[2] = 0;

8798 #if 
	`defšed
(
EDA
è& defšed(
RUN_ORACLE
)

8799 ià(
cu¼’t
->
ma¡”id
 == 1)

8800 
lsq
->
sim_num_š¢
 = 
thecÚ‹xts
[
cu¼’t
->
ÜaşeId
]->sim_num_insn;

8803 
lsq
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

8804 
lsq
->
outReg
 = 
out1
;

8807 
lsq
->
robEÁry
 = 
rs
->
šdex
;

8808 
rs
->
lsqEÁry
 = 
lsq
->
šdex
;

8809 
lsq
->
isP»ãtch
 = 0;

8810 
lsq
->
isL1Miss
 = 0;

8812 
rs
->
»g
[0] = 0;

8813 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

8814 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

8816 
rs
->
şu¡”
 = 
lsq
->şu¡” = 
th»adid
;

8817 
cu¼’t
->
iissueq_thrd
++;

8818 
iissueq
++;

8819 
iissueq_ş
[
rs
->
th»adid
]++;

8821 #ifdeà 
PWR_CLUSTER


8822 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8825 
lsq
->
couÁed_iissueq
 = 1;

8827 
lsq
->
pbªk
 =†sq->
şu¡”
;

8828 
rs
->
pbªk
 =„s->
şu¡”
;

8830 
rs
->
wh’_šq
 = 
sim_cyşe
;

8831 
lsq
->
wh’_šq
 = 
rs
->when_inq;

8833 
lsq
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

8834 
lsq
->
»g
[1] = 0;

8835 
lsq
->
»g
[2] = 0;

8837 
lsq
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

8838 
lsq
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

8843 
	`ruu_lšk_id•
 (
rs
, 0, 
NA
);

8844 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8845 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8847 
	`ruu_š¡®l_od•
 (
rs
, 0, 
DTMP
);

8848 
	`ruu_š¡®l_od•
 (
rs
, 1, 
NA
);

8850 
rs
->
out1
 = 
DTMP
;

8851 
rs
->
İ»g
 = 0;

8852 
rs
->
Şd´eg
 = 0;

8854 
	`ruu_lšk_id•
 (
lsq
, 
STORE_OP_INDEX
, 
š1
);

8855 
	`ruu_lšk_id•
 (
lsq
, 
STORE_ADDR_INDEX
, 
DTMP
);

8856 
	`ruu_lšk_id•
 (
lsq
, 2, 
NA
);

8858 
	`ruu_š¡®l_od•
 (
lsq
, 0, 
out1
);

8859 
	`ruu_š¡®l_od•
 (
lsq
, 1, 
out2
);

8860 
lsq
->
out1
 = out1;

8862 
n_di¥©ched
++;

8864 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

8865 
cu¼’t
->
RUU_num
++;

8866 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 1è% 
LSQ_size
;

8867 
cu¼’t
->
LSQ_num
++;

8869 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

8872 ià(
out1
 != 0 && out1 != 63)

8873 
cu¼’t
->
m_shLQNum
++;

8875 
lsq
->
isP»ãtch
 = 1;

8878 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

8880 
cu¼’t
->
m_shSQNum
++;

8883 
lsq_acûss
++;

8884 
cu¼’t
->
lsq_acûss
++;

8885 
lsq_´eg_acûss
++;

8886 
cu¼’t
->
lsq_´eg_acûss
++;

8890 if(!
ruu_šÜd”_issue
)

8892 
rob2_acûss
++;

8893 
cu¼’t
->
rob2_acûss
++;

8896 ià(
	`OPERANDS_READY
 (
rs
))

8898 
n_»ady
++;

8899 
	`»adyq_’queue
 (
rs
);

8901 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
lsq
);

8903 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
	`OPERANDS_READY
 (
lsq
))

8905 
lsq_¡Üe_d©a_acûss
++;

8906 
	`»adyq_’queue
 (
lsq
);

8909 ià(
İ
 =ğ
STL_C
 || o°=ğ
LDL_L
)

8918 
rs
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

8919 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

8920 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

8922 
rs
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

8923 
rs
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

8924 
rs
->
out1
 = out1;

8926 
rs
->
şu¡”
 =„s->
th»adid
;

8928 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8930 
cu¼’t
->
fissueq_thrd
++;

8931 
fissueq
++;

8932 
fissueq_ş
[
rs
->
th»adid
]++;

8933 #ifdeà 
PWR_CLUSTER


8934 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8936 
rs
->
couÁed_fissueq
 = 1;

8937 
fq¿m_acûss
++;

8938 
cu¼’t
->
fq¿m_acûss
++;

8942 
cu¼’t
->
iissueq_thrd
++;

8943 
iissueq
++;

8944 
iissueq_ş
[
rs
->
th»adid
]++;

8945 #ifdeà 
PWR_CLUSTER


8946 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

8948 
rs
->
couÁed_iissueq
 = 1;

8949 
iq¿m_acûss
++;

8950 
cu¼’t
->
iq¿m_acûss
++;

8953 
rs
->
wh’_šq
 = 
sim_cyşe
;

8955 ià(!
£cÚd_run
)

8957 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

8958 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8959 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8960 ià(
out1
)

8962 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
out1
);

8963 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
out2
);

8964 
rs
->
out1
 = out1;

8968 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
DTMP
);

8969 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
NA
);

8970 
rs
->
out1
 = 
DTMP
;

8975 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

8976 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

8977 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

8979 
	`ruu_š¡®l_od•
 (
rs
, 0, 
out1
);

8980 
	`ruu_š¡®l_od•
 (
rs
, 1, 
out2
);

8981 
rs
->
out1
 = out1;

8985 
n_di¥©ched
++;

8987 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

8988 
cu¼’t
->
RUU_num
++;

8989 if(!
ruu_šÜd”_issue
)

8991 
rob2_acûss
++;

8992 
cu¼’t
->
rob2_acûss
++;

8996 ià(
	`OPERANDS_READY
 (
rs
))

8998 
n_»ady
++;

8999 
	`»adyq_’queue
 (
rs
);

9000 
cu¼’t
->
Ï¡_İ
 = 
RSLINK_NULL
;

9004 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
rs
);

9011 
rs
 = 
NULL
;

9015 
sim_tÙ®_š¢
++;

9016 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9017 
sim_tÙ®_b¿nches
++;

9019 ià(!
cu¼’t
->
¥ec_mode
 && 
£cÚd_run
)

9023 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9025 
sim_num_b¿nches
++;

9027 ià(!(
rs
->
du¶iÿ‹
))

9029 
cu¼’t
->
b´ed_acûss
++;

9030 
b´ed_acûss
++;

9033 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_ID
)

9035 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

9036  
cu¼’t
->
»gs
.
»gs_PC
,

9037  
cu¼’t
->
»gs
.
»gs_NPC
,

9038  
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +

9039  (
md_š¡_t
)),

9040  
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +

9041  (
md_š¡_t
)),

9042  
cu¼’t
->
´ed_PC
 =ğcu¼’t->
»gs
.
»gs_NPC
,

9043  
İ
,

9044  &
rs
->
dœ_upd©e
,

9045 
rs
->
th»adid
, (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[rs->th»adid]->
ma¡”id
 :„s->threadid));

9048 ià(
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
 && !cu¼’t->
ãtch_»dœeùed
)

9050 
cu¼’t
->
¥ec_mode
 = 
TRUE
;

9051 
rs
->
»cov”_š¡
 = 
TRUE
;

9052 
cu¼’t
->
»cov”_PC
 = cu¼’t->
»gs
.
»gs_NPC
;

9053 
	`cİy_to
 (
th»adid
);

9058 
	`±¿û_Ãw¡age
 (
p£q
, 
PST_DISPATCH
, (
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
è? 
PEV_MPOCCURED
 : 0);

9059 ià(
İ
 =ğ
MD_NOP_OP
)

9061 
	`±¿û_’dš¡
 (
p£q
);

9064 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

9066 
couÁ”_t
 
Ãwv®
;

9067 
d–
;

9070 
Ãwv®
 = 
	`STATVAL
 (
pc¡©_¡©s
[
i
]);

9071 
d–
 = 
Ãwv®
 - 
pc¡©_Ï¡v®s
[
i
];

9072 ià(
d–
 != 0)

9074 
	`¡©_add_§m¶es
 (
pc¡©_sdi¡s
[
i
], 
cu¼’t
->
»gs
.
»gs_PC
, 
d–
);

9075 
pc¡©_Ï¡v®s
[
i
] = 
Ãwv®
;

9079 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

9080 
cu¼’t
->
ãtch_num
--;

9081 
‹mp_ãtch_num
--;

9084 ià(!
made_check
)

9086 ià(
	`dl™e_check_b»ak
 (0, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, 
sim_cyşe
))

9087 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9092 
¡®lCau£
[
th»adid
] = 
SÎF‘chEm±y
;

9093 ià(!
n_di¥©ched
)

9095 
m_tÙ®SÎ
[
th»adid
]++;

9096 if(
¡®lCau£
[
th»adid
])

9098 
¡®lCau£
[
th»adid
])

9100 
SÎRegFuÎ
 :

9101 
m_»gFuÎ
[
th»adid
]++;

9103 
SÎIssueFuÎ
 :

9104 
m_issueFuÎ
[
th»adid
]++;

9106 
SÎF‘chEm±y
 :

9107 if(
thecÚ‹xts
[
th»adid
]->
ruu_ãtch_issue_d–ay
)

9108 
m_1Miss
[
th»adid
]++;

9110 
m_ãtchEm±y
[
th»adid
]++;

9112 
SÎSTLC
 :

9113 
m_STLC
[
th»adid
]++;

9115 
SÎT¿p
 :

9116 
m_Œ­
[
th»adid
]++;

9118  : 
	`·nic
("No stall cause found");

9121 ià(
cu¼’t
->
m_shLQNum
 =ğ
m_shLQSize
)

9123 
¡®lCau£
[
th»adid
] = 
SÎLQFuÎ
;

9124 
m_sqLQFuÎ
[
th»adid
]++;

9125 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9126 
m_LßdR—lMiss
[
th»adid
]++;

9128 
m_LßdR—lH™
[
th»adid
]++;

9130 ià(
m_shSQSize
 =ğ(
cu¼’t
->
m_shSQNum


9131 #ifdef 
SMD_USE_WRITE_BUF


9132 +
m_L1WBufCÁ
[
th»adid
]

9136 
¡®lCau£
[
th»adid
] = 
SÎSQFuÎ
;

9137 
m_sqSQFuÎ
[
th»adid
]++;

9138 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9139 
m_StÜeR—lMiss
[
th»adid
]++;

9141 
m_StÜeR—lH™
[
th»adid
]++;

9143 if(
cu¼’t
->
RUU_num
 =ğ
RUU_size
)

9145 
¡®lCau£
[
th»adid
] = 
SÎRUUFuÎ
;

9146 
m_RUUFuÎ
[
th»adid
]++;

9149 if((
¡®lCau£
[
th»adid
] =ğ
SÎRUUFuÎ
 || sÎCau£[th»adid] =ğ
SÎLQFuÎ
 || sÎCau£[th»adid] =ğ
SÎSQFuÎ
 || sÎCau£[th»adid] =ğ
SÎRegFuÎ
 || sÎCau£[th»adid] =ğ
SÎIssueFuÎ
 || sÎCau£[th»adid] =ğ
SÎSTLC
 || sÎCau£[th»adid] =ğ
SÎT¿p
))

9151 if(
cu¼’t
->
LSQ_num
)

9153 if(
	`MD_OP_FLAGS
(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
İ
è& 
F_LOAD
)

9155 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9156 
m_LßdSÎMiss
[
th»adid
]++;

9158 
m_LßdSÎH™
[
th»adid
]++;

9159 
m_LßdMiss
[
th»adid
]++;

9163 
m_StÜeMiss
[
th»adid
]++;

9164 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9165 
m_StÜeSÎMiss
[
th»adid
]++;

9167 
m_StÜeSÎH™
[
th»adid
]++;

9168 if(
m_upd©e_miss
[
th»adid
])

9169 
m_StÜeUpd©eMiss
[
th»adid
]++;

9170 if(
m_upd©e_miss
[
th»adid
] && !
m_upd©e_miss_æag
[threadid])

9172 
m_upd©e_miss_æag
[
th»adid
] = 1;

9173 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 
sim_cyşe
;

9177 if(
	`MD_OP_FLAGS
(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
İ
è& 
F_FENCE
)

9179 
m_StÜeMiss
[
th»adid
]++;

9180 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9181 
m_StÜeSÎMiss
[
th»adid
]++;

9183 
m_StÜeSÎH™
[
th»adid
]++;

9184 if(
m_upd©e_miss
[
th»adid
])

9185 
m_StÜeUpd©eMiss
[
th»adid
]++;

9186 if(
m_upd©e_miss
[
th»adid
] && !
m_upd©e_miss_æag
[threadid])

9188 
m_upd©e_miss_æag
[
th»adid
] = 1;

9189 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 
sim_cyşe
;

9194  
n_di¥©ched
;

9195 
	}
}

9203 
	$ãtch_š™
 (
th»adid
)

9206 
i
 = 0;

9207 
cÚ‹xt
 *
cu¼’t
;

9209 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9211 
i
 = 0; i < 
ruu_ifq_size
; i++)

9213 
cu¼’t
->
ãtch_d©a
[
i
] = (
ãtch_»c
 *è
	`ÿÎoc
 (1,  (fetch_rec));

9214 ià(!
cu¼’t
->
ãtch_d©a
[
i
])

9215 
	`çl
 ("out of virtual memory");

9216 
cu¼’t
->
ãtch_d©a
[
i
]->
šdex
 = i;

9217 
cu¼’t
->
ãtch_d©a
[
i
]->
th»adid
 =hreadid;

9219 
cu¼’t
->
ãtch_num
 = 0;

9220 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

9221 
IFQ_couÁ
 = 0;

9222 
IFQ_fcouÁ
 = 0;

9224 
	}
}

9226 
	gÏ¡_š¡_mis£d
 = 
FALSE
;

9227 
	gÏ¡_š¡_tmis£d
 = 
FALSE
;

9233 
	$ruu_ãtch
 ()

9235 
i
 = 0, 
j
 = 0, 
k
 = 0, 
Ït
, 
b_Ït
, 
dÚe
 = 
FALSE
;

9236 
md_š¡_t
 
š¡
;

9237 
¡ack_»cov”_idx
;

9238 
b¿nch_út
, 
¿y_muÉ
;

9239 
md_addr_t
 
ãtch_£t
 = 0, 
š¡_£t
;

9240 
šdex
;

9241 
md_İcode
 
İ
;

9243 
th»adid
, 
tID
 = 0;

9244 
cÚ‹xt
 *
cu¼’t
 = 0;

9245 
th»adsãtched
 = 0;

9246 
‹mp
;

9248 ià(
di§bË_¿y
)

9249 
¿y_muÉ
 = 1;

9251 
¿y_muÉ
 = 2;

9254 
tID
 < 
numcÚ‹xts
)

9256 
cu¼’t
 = 
thecÚ‹xts
[
tID
];

9257 
tID
++;

9259 
th»adid
 = 
cu¼’t
->
id
;

9261 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 2)

9262 
cu¼’t
->
wa™_fÜ_ãtch
 = 1;

9263 
ãtch_dÚe
[
th»adid
] = 0;

9265 
j
 = 0, 
dÚe
 = 
FALSE
, 
b¿nch_út
 = 0;

9266 (
cu¼’t
->
ãtch_num
 < 
ruu_ifq_size
-1)

9267 && !
dÚe
 && !
cu¼’t
->
ruu_ãtch_issue_d–ay
 && cu¼’t->
ruÂšg
 && 
j
 < (
ruu_decode_width
 * 
ãtch_¥“d
è&& cu¼’t->
aùive_this_cyşe
 ; 
i
++, j++)

9269 ià(!
j
)

9271 
iÿche_acûss
++;

9272 
cu¼’t
->
iÿche_acûss
++;

9276 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
ãtch_´ed_PC
;

9279 ià(
cu¼’t
->
ld_‹xt_ba£
 <ğcu¼’t->
ãtch_»gs_PC
 && cu¼’t->ãtch_»gs_PC < (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& !(cu¼’t->ãtch_»gs_PC & ( (
md_š¡_t
) - 1)))

9282 #ifdef 
EDA


9283 if(
cu¼’t
->
ma¡”id
 == 1)

9285 
	`MD_FETCH_INST
 (
š¡
, 
thecÚ‹xts
[
cu¼’t
->
h–pThdId
]->
mem
, cu¼’t->
ãtch_»gs_PC
);

9290 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
ãtch_»gs_PC
);

9292 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9294 
Ït
 = 
ÿche_1_Ït
;

9297 ià(!
j
)

9298 
ãtch_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9299 
š¡_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9300 ià(
ãtch_£t
 !ğ
š¡_£t
)

9303 #ifdeà 
FIX2_BUG


9304 ià(!
cu¼’t
->
wa™_fÜ_ãtch
)

9307 ià(
ÿche_1
[
th»adid
])

9311 
rsCacheAcûss
 = 
NULL
;

9312 #ifdeà
DIRECTORY


9313 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9314 
	`´štf
("debug 1\n");

9315 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9316 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9317 
NULL
, NULL, NULL,
th»adid
);

9319 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
 (
cu¼’t
->
ãtch_»gs_PC
), 
NULL
, 
	`ISCOMPRESS
 ( (
md_š¡_t
)), 
sim_cyşe
, NULL, NULL,hreadid);

9321 ià(
Ït
 > (
ÿche_1_Ït
))

9322 
Ï¡_š¡_mis£d
 = 
TRUE
;

9325 ià(
™lb
[
th»adid
])

9327 #ifdeà
DIRECTORY


9328 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9329 
	`´štf
("debug 2\n");

9330 
b_Ït
 = 
	`ÿche_acûss
(
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9331 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9332 
NULL
, NULL, NULL, 
th»adid
);

9334 
b_Ït
 = 
	`ÿche_acûss
 (
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
 (
cu¼’t
->
ãtch_»gs_PC
), 
NULL
, 
	`ISCOMPRESS
 ( (
md_š¡_t
)), 
sim_cyşe
, NULL, NULL,hreadid);

9337 ià(
b_Ït
 > 1)

9338 
Ï¡_š¡_tmis£d
 = 
TRUE
;

9340 
Ït
 = 
	`max2
 (
b_Ït
,†at);

9343 ià(
Ït
 !ğ(
ÿche_1_Ït
))

9345 
cu¼’t
->
ruu_ãtch_issue_d–ay
 +ğ(
Ït
 - 1);

9346 #ifdeà 
FIX2_BUG


9347 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9352 #ifdeà 
FIX2_BUG


9358 
š¡
 = 
MD_NOP_INST
;

9361 ià(
cu¼’t
->
´ed
)

9363 
b¿nchIn¡
 *
b¿nchInfo
 = 
NULL
;

9364 
md_İcode
 
İ
;

9367 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9372 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9374 
md_addr_t
 
brg‘
;

9376 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)) == (F_CTRL | F_UNCOND | F_INDIRJMP))

9377 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * (
š¡
 & 0x00003fff);

9379 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * 
	`SEXT21
 (
š¡
 & 0x001fffff);

9381 
cu¼’t
->
ãtch_´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
,

9382  
cu¼’t
->
ãtch_»gs_PC
,

9384  
İ
,

9385  
	`MD_IS_CALL
 (
İ
),

9386  
	`MD_IS_RETURN
 (
İ
),

9387  &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
dœ_upd©e
),

9388  &
¡ack_»cov”_idx
,

9389  
cu¼’t
->
id
,

9390  (
b´ed_btb_u£_ma¡”id
 ? 
cu¼’t
->
ma¡”id
 : cu¼’t->
id
));

9393 
cu¼’t
->
ãtch_´ed_PC
 = 0;

9396 ià(!
cu¼’t
->
ãtch_´ed_PC
)

9398 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9400 ià(
cu¼’t
->
ãtch_´ed_PC
 !ğcu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
))

9403 
b¿nch_út
++;

9404 ià(
b¿nch_út
 >ğ
ãtch_¥“d
)

9405 
dÚe
 = 
TRUE
;

9410 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9413 
cu¼’t
->
ãtch_tÙ®_š¢
++;

9414 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
th»adid
 =hreadid;

9415 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
IR
 = 
š¡
;

9416 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
»gs_PC
 = cu¼’t->
ãtch_»gs_PC
;

9417 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
´ed_PC
 = cu¼’t->
ãtch_´ed_PC
;

9418 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
¡ack_»cov”_idx
 = stack_recover_idx;

9419 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
 =…trace_seq++;

9420 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
ãtch_time
 = (è
sim_cyşe
;

9422 
	`±¿û_Ãwš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
š¡
, cu¼’t->ãtch_d©a[cu¼’t->ãtch_]->
»gs_PC
, 0);

9423 
	`±¿û_Ãw¡age
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
PST_IFETCH
, ((
Ï¡_š¡_mis£d
 ? 
PEV_CACHEMISS
 : 0è| (
Ï¡_š¡_tmis£d
 ? 
PEV_TLBMISS
 : 0)));

9425 
cu¼’t
->
ãtch_
 = (cu¼’t->ãtch_ + 1è& (
ruu_ifq_size
 - 1);

9426 
cu¼’t
->
ãtch_num
++;

9427 
ãtch_dÚe
[
th»adid
]++;

9430 #ifdeà 
FIX2_BUG


9432 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 1)

9434 ià(!
j
 && 
cu¼’t
->
ruu_ãtch_issue_d–ay
)

9435 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9437 
cu¼’t
->
wa™_fÜ_ãtch
 = 0;

9441 
	}
}

9447 
	$simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

9448 *
cmd
,

9449 
»gs_t
 *
»gs
,

9450 
mem_t
 *
mem
)

9453 
th»adid
 = 
mem
->threadid;

9454 
cÚ‹xt
 *
cu¼’t
;

9456 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9458 ià(!
cmd
 || !
	`¡rcmp
 (cmd, "help"))

9459 
	`årštf
 (
¡»am
,

9471 ià(!
	`¡rcmp
 (
cmd
, "stats"))

9474 
	`sim_´št_¡©s
 (
¡»am
);

9476 ià(!
	`¡rcmp
 (
cmd
, "res"))

9479 
	`»s_dump
 (
fu_poŞ
, 
¡»am
);

9481 ià(!
	`¡rcmp
 (
cmd
, "ruu"))

9484 
	`ruu_dump
 (
¡»am
, 
th»adid
);

9491 ià(!
	`¡rcmp
 (
cmd
, "eventq"))

9494 
	`ev’tq_dump
 (
¡»am
, 
th»adid
);

9496 ià(!
	`¡rcmp
 (
cmd
, "readyq"))

9499 
	`»adyq_dump
 (
¡»am
, 
th»adid
);

9501 ià(!
	`¡rcmp
 (
cmd
, "cv"))

9504 
	`cv_dump
 (
¡»am
, 
th»adid
);

9506 ià(!
	`¡rcmp
 (
cmd
, "rspec"))

9509 
	`r¥ec_dump
 (
¡»am
, 
th»adid
);

9511 ià(!
	`¡rcmp
 (
cmd
, "mspec"))

9514 
	`m¥ec_dump
 (
¡»am
, 
th»adid
);

9525  
NULL
;

9526 
	}
}

9528 
	#TAKE_STATS_PHASE
 1

	)

9529 
	#DRAIN_PIPELINE_PHASE
 2

	)

9530 
	#RECONFIGURE_PHASE
 3

	)

9531 
	#NORMAL_PHASE
 4

	)

9532 
	#PRIVTOSHARED
 5

	)

9533 
	#SHAREDTOPRIV
 6

	)

9534 
	#EXTRA_PHASE
 7

	)

9535 
	gchªgeCÚfig
 = 0;

9536 
	gcu¼’tPha£
 = 
NORMAL_PHASE
;

9541 
»g’”©e_ãtch_queue
 ();

9542 
cİy_ãtch_queue
 ();

9544 
»g’”©e_f_queue
 ();

9545 
cİy_f_queue
 ();

9546 
b¿nch_add»ss_cİy
 (
ma¡”id
, 
chunkExecu‹d
);

9551 
time_t
 
	g´št_time
, 
	gnow_time
;

9552 
ruu_»Ëa£_wr™ebufãr
 ();

9553 
ruu_wr™e_äom_Wr™ebufãr
 ();

9554 #ifdef 
COLLECT_STAT_STARTUP


9555 
f¡fwd_fšeAdju¡
 ();

9556 
f¡fwd_cŞËùSts
();

9559 
	$sim_maš
 ()

9561 
unPrštLim™
 = 1;

9562 
i
, 
j
, 
k
, 
l
;

9563 
‹mpş
, 
maxguy
, 
maxv®
, 
»f_mis
, 
»f_imis
, 
»f_br
, 
»f_»fs
, 
»f_cyc
, 
mm
, 
Â
;

9564 
gÙ_»f_pošt
 = 0;

9565 
mšguy
, 
mšv®
;

9566 
cyc_couÁ
 = 0;

9567 
num_picks
[
NUMPHASES
 + 1];

9568 
sim_–­£d_£c
;

9569 
di¥©ched
 = 0;

9571 
th»adid
 = 0, 
th»ad_¡İ
 = 0;

9572 
cÚ‹xt
 *
cu¼’t
;

9573 
kÏÎ
 = 0;

9574 
ãtch_blocked
 = 1;

9575 
út
;

9577 
FILE
 *
å
, *
å1
;

9578 
brNum
, 
ldNum
;

9580 #ifdeà
DO_COMPLETE_FASTFWD


9581 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

9582 
x
, 
loİ™”
;

9586 
	`sigÇl
 (
SIGFPE
, 
SIG_IGN
);

9589 
Çck_couÁ”
 = 0;

9590 
æ_couÁ”
 = 0;

9591 
L1_æ_couÁ”
 = 0;

9592 
e_to_m
 = 0;

9593 
f
;

9594 
f
=0;f<8;f++)

9595 
mem_pÜt_Ït
[
f
] = 0;

9596 
tÙ®ev’tcouÁnum
 = 0;

9597 
tÙ®_L1_´eãtch
 = 0;

9598 
wr™e_back_—¾y
 = 0;

9599 
tÙ®_L1_fœ¡_´eãtch
 = 0;

9600 
tÙ®_L1_£c_´eãtch
 = 0;

9601 
tÙ®»qcouÁnum
 = 0;

9602 
tÙ®misscouÁnum
 = 0;

9603 
švŞve_4_hİs
 = 0;

9604 
švŞve_4_hİs_upg¿de
 = 0;

9605 
švŞve_4_hİs_miss
 = 0;

9606 
švŞve_2_hİs
 = 0;

9607 
švŞve_2_hİ_touch
 = 0;

9608 
švŞve_2_hİ_wb
 = 0;

9609 
švŞve_4_hİs_wm
 = 0;

9610 
tÙ®S¶™WM
 = 0;

9611 
tÙ®S¶™No
 = 0;

9612 
švŞve_2_hİs_wm
 = 0;

9613 
švŞve_2_hİs_upg¿de
 = 0;

9614 
švŞve_2_hİs_miss
 = 0;

9615 
d©a_sh¬ed_»ad
 = 0;

9616 
d©a_´iv©e_»ad
 = 0;

9617 
d©a_sh¬ed_wr™e
 = 0;

9618 
d©a_´iv©e_wr™e
 = 0;

9619 
tÙ®_®l_şo£
 = 0;

9620 
tÙ®_®l_®mo¡şo£
 = 0;

9621 
tÙ®_nÙ_®l_şo£
 = 0;

9622 
tÙ®_p_c_ev’ts
 = 0;

9623 
tÙ®_cÚsum”s
 = 0;

9624 
tÙ®_d©a_cÚsum”s
 = 0;

9625 
tÙ®_d©a_çr
 = 0;

9626 
tÙ®_d©a_©_cÜÃr
 = 0;

9627 
tÙ®_d©a_şo£
 = 0;

9628 
tÙ®_·ck‘s_š_ÃighbÜ
 = 0;

9629 
tÙ®_·ck‘s_©_cÜÃrs
 = 0;

9630 
av”age_outside_³rûÁ
 = 0;

9631 
av”age_outside_abs_³rûÁ
 = 0;

9632 
av”age_šside_³rûÁ
 = 0;

9633 
av”age_cÜÃr_³rûÁ
 = 0;

9634 #ifdeà
EUP_NETWORK


9635 
EUP_’Œy_fuÎ
 = 0;

9636 
i
 = 0; i< 
numcÚ‹xts
; i++)

9637 
	`EUP_’Œy_š™
(
i
);

9639 
i
 = 0; i< 
numcÚ‹xts
; i++)

9640 
sh¬”_num
[
i
] = 0;

9642 #ià
PROCESS_MODEL


9643 
i
 = 0; i < 128; i++)

9645 
sh¬edAdd»ssLi¡
[
i
] = 
NULL
;

9647 
La¡Sh¬edAdd»ss
 = 0;

9648 
La¡Sh¬edSize
 = 0;

9651 
	`š™Clu¡”Info
 ();

9653 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

9654 
	`busIn™
 ();

9657 
âm
[256];

9658 
nm
[256];

9660 
	`¡rıy
 (
nm
, 
thecÚ‹xts
[0]->
âame
);

9662 
l
 = 0;† < 
MAXTHREADS
;†++)

9664 
numTh»ads
[
l
] = 
m_maxth»ads
;

9669 
n_lim™_thrd
[0] =‚_limit_thrd[1] =‚_limit_thrd[2] =‚_limit_thrd[3] = 1;

9673 
	`årštf
 (
¡d”r
, "Issueq siz - iÁ %d f°%d\n", 
IIQ_size
, 
FIQ_size
);

9674 #ifdeà
REG_RENAME_CONFIGUARE


9675 
	`årštf
 (
¡d”r
, "»ÇmP»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

9677 
	`årštf
 (
¡d”r
, "P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

9679 
	`årštf
 (
¡d”r
, "CLUSTERS %d\n", 
CLUSTERS
);

9680 
	`årštf
 (
¡d”r
, "ROWCOUNT %d\n", 
ROWCOUNT
);

9681 
	`årštf
 (
¡d”r
, "CENTRAL_CACHE %d\n", 
CENTRAL_CACHE
);

9682 
	`årštf
 (
¡d”r
, "CENTRALCACHELAT %d\n", 
CENTRALCACHELAT
);

9683 
	`årštf
 (
¡d”r
, "CACHELOC %d\n", 
CACHELOC
);

9684 
	`årštf
 (
¡d”r
, "PRED_BR_CHANGES %d\n", 
PRED_BR_CHANGES
);

9685 
	`årštf
 (
¡d”r
, "PRED_JR_CHANGES %d\n", 
PRED_JR_CHANGES
);

9686 
	`årštf
 (
¡d”r
, "DYNAMIC_CHANGE %d\n", 
DYNAMIC_CHANGE
);

9687 
	`årštf
 (
¡d”r
, "METRIC_CHANGE %d\n", 
METRIC_CHANGE
);

9688 
	`årštf
 (
¡d”r
, "LINEAR_PHASE %d\n", 
LINEAR_PHASE
);

9689 
	`årštf
 (
¡d”r
, "SMALLEST_CONFIG %d\n", 
SMALLEST_CONFIG
);

9690 
	`årštf
 (
¡d”r
, "GRID %d\n", 
GRID
);

9691 
	`årštf
 (
¡d”r
, "CACHEPORTS %d\n", 
CACHEPORTS
);

9692 
	`årštf
 (
¡d”r
, "RES_CACHEPORTS %d\n", 
RES_CACHEPORTS
);

9693 
	`årštf
 (
¡d”r
, "READY_COMM %d\n", 
READY_COMM
);

9694 
	`årštf
 (
¡d”r
, "HOLY_REGS %d\n", 
HOLY_REGS
);

9695 
	`årštf
 (
¡d”r
, "NUM_H_REGS %d\n", 
NUM_H_REGS
);

9696 
	`årštf
 (
¡d”r
, "COPY_THRESH %d\n", 
COPY_THRESH
);

9697 
	`årštf
 (
¡d”r
, "FIRST_FIT %d\n", 
FIRST_FIT
);

9698 
	`årštf
 (
¡d”r
, "FIRST_FIT_ENFORCE %d\n", 
FIRST_FIT_ENFORCE
);

9699 
	`årštf
 (
¡d”r
, "FIRST_VAL %d\n", 
FIRST_VAL
);

9700 
	`årštf
 (
¡d”r
, "STEER_ENFORCE %d\n", 
STEER_ENFORCE
);

9701 
	`årštf
 (
¡d”r
, "MOD_N %d\n", 
MOD_N
);

9702 
	`årštf
 (
¡d”r
, "MOD_N_N %d\n", 
MOD_N_N
);

9703 
	`årštf
 (
¡d”r
, "FIRST_MOD %d\n", 
FIRST_MOD
);

9704 
	`årštf
 (
¡d”r
, "GROUPSIZE %d\n", 
GROUPSIZE
);

9705 
	`årštf
 (
¡d”r
, "MOD_N_T %d\n", 
MOD_N_T
);

9706 
	`årštf
 (
¡d”r
, "ANYWILLDO %d\n", 
ANYWILLDO
);

9707 
	`årštf
 (
¡d”r
, "NEIGHBOR_SEEK %d\n", 
NEIGHBOR_SEEK
);

9708 
	`årštf
 (
¡d”r
, "PICKMIDDLE %d\n", 
PICKMIDDLE
);

9709 
	`årštf
 (
¡d”r
, "MIDTHRESH %d\n", 
MIDTHRESH
);

9710 
	`årštf
 (
¡d”r
, "HOPTIME %d\n", 
HOPTIME
);

9711 
	`årštf
 (
¡d”r
, "COMM_LATENCY %d\n", 
COMM_LATENCY
);

9712 #iâdeà
CONFIG_BASED_ICS


9713 
	`årštf
 (
¡d”r
, "FE_LAT %d\n", 
FE_LAT
);

9715 
	`årštf
 (
¡d”r
, "CACHE_REFILL_LAT %d\n", 
CACHE_REFILL_LAT
);

9716 
	`årštf
 (
¡d”r
, "MPRED_COMM_LAT %d\n", 
MPRED_COMM_LAT
);

9717 
	`årštf
 (
¡d”r
, "LD_PROXIMITY %d\n", 
LD_PROXIMITY
);

9718 
	`årštf
 (
¡d”r
, "LDPROX_FACTOR %d\n", 
LDPROX_FACTOR
);

9719 
	`årštf
 (
¡d”r
, "STEER_2NONREADY %d\n", 
STEER_2NONREADY
);

9720 
	`årštf
 (
¡d”r
, "STEER_CRITICAL %d\n", 
STEER_CRITICAL
);

9721 
	`årštf
 (
¡d”r
, "ILOAD_MIN %d\n", 
ILOAD_MIN
);

9722 
	`årštf
 (
¡d”r
, "IFACTOR %d\n", 
IFACTOR
);

9723 
	`årštf
 (
¡d”r
, "RLOAD_MIN %d\n", 
RLOAD_MIN
);

9724 
	`årštf
 (
¡d”r
, "RFACTOR %d\n", 
RFACTOR
);

9725 
	`årštf
 (
¡d”r
, "DEP_FACTOR %d\n", 
DEP_FACTOR
);

9726 
	`årštf
 (
¡d”r
, "LD_FACTOR %d\n", 
LD_FACTOR
);

9727 
	`årštf
 (
¡d”r
, "IQBUF %d\n", 
IQBUF
);

9728 
	`årštf
 (
¡d”r
, "REGFREE %d\n", 
REGFREE
);

9729 
	`årštf
 (
¡d”r
, "FREE_CURR_REGS %d\n", 
FREE_CURR_REGS
);

9730 
	`årštf
 (
¡d”r
, "FREE_INTERVAL %d\n", 
FREE_INTERVAL
);

9731 
	`årštf
 (
¡d”r
, "DISPDELAY %d\n", 
DISPDELAY
);

9732 
	`årštf
 (
¡d”r
, "RING_BW %d\n", 
RING_BW
);

9733 
	`årštf
 (
¡d”r
, "TIMEWINDOW %d\n", 
TIMEWINDOW
);

9734 
	`årštf
 (
¡d”r
, "ST_ADDR_COMM %d\n", 
ST_ADDR_COMM
);

9735 
	`årštf
 (
¡d”r
, "ST_RING_BW %d\n", 
ST_RING_BW
);

9736 
	`årštf
 (
¡d”r
, "RING_IC %d\n", 
RING_IC
);

9737 
	`årštf
 (
¡d”r
, "IGNORE_COMM_LATENCY %d\n", 
IGNORE_COMM_LATENCY
);

9738 
	`årštf
 (
¡d”r
, "TOL_COUNT %d\n", 
TOL_COUNT
);

9739 
	`årštf
 (
¡d”r
, "STOREDELAY %d\n", 
STOREDELAY
);

9740 
	`årštf
 (
¡d”r
, "BANKPRED %d\n", 
BANKPRED
);

9741 
	`årštf
 (
¡d”r
, "BANKMISPREDLAT %d\n", 
BANKMISPREDLAT
);

9742 
	`årštf
 (
¡d”r
, "BANKP_SPEC %d\n", 
BANKP_SPEC
);

9743 
	`årštf
 (
¡d”r
, "LEV1SIZE %d\n", 
LEV1SIZE
);

9744 
	`årštf
 (
¡d”r
, "LEV2SIZE %d\n", 
LEV2SIZE
);

9745 
	`årštf
 (
¡d”r
, "XORSIZE %d\n", 
XORSIZE
);

9746 
	`årštf
 (
¡d”r
, "WORD_INTERLEAVED %d\n", 
WORD_INTERLEAVED
);

9747 
	`årštf
 (
¡d”r
, "WORDSIZE %d\n", 
WORDSIZE
);

9748 
	`årštf
 (
¡d”r
, "SORT %d\n", 
SORT
);

9749 
	`årštf
 (
¡d”r
, "NUMPHASES %d\n", 
NUMPHASES
);

9750 
	`årštf
 (
¡d”r
, "MIN_INSN_INT %d\n", 
MIN_INSN_INT
);

9751 
	`årštf
 (
¡d”r
, "STOP_EXPL_THRESH %d\n", 
STOP_EXPL_THRESH
);

9752 
	`årštf
 (
¡d”r
, "ILPTAGCHECK %d\n", 
ILPTAGCHECK
);

9753 
	`årštf
 (
¡d”r
, "DISTILP %d\n", 
DISTILP
);

9754 
	`årštf
 (
¡d”r
, "DISTILPTHRESH %d\n", 
DISTILPTHRESH
);

9755 
	`årštf
 (
¡d”r
, "SAMPLETHRESH %d\n", 
SAMPLETHRESH
);

9756 
	`årštf
 (
¡d”r
, "BR_INT %d\n", 
BR_INT
);

9757 
	`årštf
 (
¡d”r
, "ITABLESIZE %d\n", 
ITABLESIZE
);

9758 
	`årštf
 (
¡d”r
, "OWINDOWSIZE %d\n", 
OWINDOWSIZE
);

9759 
	`årštf
 (
¡d”r
, "ILPCLEARINT %d\n", 
ILPCLEARINT
);

9760 
	`årštf
 (
¡d”r
, "STATPRINT %d\n", 
STATPRINT
);

9761 
	`årštf
 (
¡d”r
, "CYCNOISE %d\n", 
CYCNOISE
);

9762 
	`årštf
 (
¡d”r
, "NUMCYCTHRESH %d\n", 
NUMCYCTHRESH
);

9763 
	`årštf
 (
¡d”r
, "STATINT %d\n", 
STATINT
);

9764 
	`årštf
 (
¡d”r
, "FREE_REG_THRESH %d\n", 
FREE_REG_THRESH
);

9765 
	`årštf
 (
¡d”r
, "TABLE2SIZE %d\n", 
TABLE2SIZE
);

9766 
	`årštf
 (
¡d”r
, "TABLESIZE %d\n", 
TABLESIZE
);

9769 #ifdeà
DO_COMPLETE_FASTFWD


9770 
	`S¹Sk–‘ÚR—d
 (0);

9771 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9773 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9774 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9775 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9783 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

9785 
loİ™”
 = 0;†oopiter < 20;†oopiter++)

9787 
couÁ”_t
 
icouÁ
;

9788 
md_š¡_t
 
š¡
;

9789 
md_İcode
 
İ
;

9790 
md_addr_t
 
rg‘_PC
;

9791 
md_addr_t
 
addr
;

9792 
is_wr™e
;

9793 
by‹_t
 
‹mp_by‹
;

9794 
h®f_t
 
‹mp_h®f
;

9795 
wÜd_t
 
‹mp_wÜd
;

9797 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

9798 
qwÜd_t
 
‹mp_qwÜd
 = 0;

9801 
md_çuÉ_ty³
 
çuÉ
;

9803 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9805 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

9806 #ifdeà
TARGET_ALPHA


9807 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

9812 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

9815 
addr
 = 0;

9816 
is_wr™e
 = 
FALSE
;

9819 
çuÉ
 = 
md_çuÉ_nÚe
;

9820 
sim_num_š¢
++;

9822 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9824 
İ
)

9826 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

9827 
OP
: \

9829 
out1
 = 
O1
; 
out2
 = 
O2
; \

9830 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

9832 
	`SYMCAT
(
OP
,
_IMPL
); \

9834 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

9835 
OP
: \

9837 
İ
 = 
MD_NOP_OP
; \

9839 
out1
 = 
NA
; 
out2
 = NA; \

9840 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

9843 
	#CONNECT
(
OP
è

	)

9849 
	#DECLARE_FAULT
(
FAULT
è\

	)

9851 ià(!
cu¼’t
->
¥ec_mode
) \

9852 
çuÉ
 = (
FAULT
); \

9856 
	~"machše.def
"

9859 
İ
 = 
MD_NOP_OP
;

9861 
out1
 = 
NA
;

9862 
out2
 = 
NA
;

9863 
š1
 = 
NA
;

9864 
š2
 = 
NA
;

9865 
š3
 = 
NA
;

9870 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

9871 
	`çl
 ("nÚ-¥ecuÏtivçuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

9873 #ifdeà
CACHE_PROFILE


9874 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_LOAD
)

9876 
Ït
;

9877 #ifdeà
DIRECTORY


9878 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 
rs
, 0);

9880 
lßd_Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9882 ià(
db
)

9883 #ifdeà
DIRECTORY


9884 
Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, NULL, 0);

9886 
Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9888 
lßd_Ït
 = 
	`max2
 (lßd_Ït, 
Ït
);

9889 ià(
lßd_Ït
 > 50)

9890 
	`PushMissP»dLßd
 (
cu¼’t
->
»gs
.
»gs_PC
, (è
lßd_Ït
);

9892 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

9894 #ifdeà
DIRECTORY


9895 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 
rs
, 0);

9897 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9899 ià(
db
)

9900 #ifdeà
DIRECTORY


9901 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, NULL, 0);

9903 
	`ÿche_acûss
 (
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_num_š¢
, NULL, NULL, 0);

9907 #ifdeà 
BRANCH_PROFILE


9908 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9910 
b´ed_upd©e_t
 
dœ_upd©e
;

9911 
¡ack_»cov”_idx
;

9913 
cu¼’t
->
´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
, cu¼’t->
»gs
.
»gs_PC
, 1, 
İ
, 
	`MD_IS_CALL
 (İ), 
	`MD_IS_RETURN
 (İ), &
dœ_upd©e
, &
¡ack_»cov”_idx
, cu¼’t->
id
, (
b´ed_btb_u£_ma¡”id
 ? cu¼’t->
ma¡”id
 : current->id));

9915 ià(!
cu¼’t
->
´ed_PC
)

9916 
cu¼’t
->
´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
);

9918 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

9919 
cu¼’t
->
»gs
.
»gs_PC
,

9920 
cu¼’t
->
»gs
.
»gs_NPC
,

9921 
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)),

9922 
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)), cu¼’t->´ed_PC =ğcu¼’t->»gs.
»gs_NPC
, 
İ
, &
dœ_upd©e
, cu¼’t->
id
, (
b´ed_btb_u£_ma¡”id
 ? cu¼’t->
ma¡”id
 : current->id));

9924 ià(!(
İ
 =ğ
RETN
 || o°=ğ
JMP
 || o°=ğ
JSR
 || o°=ğ
BSR
 || o°=ğ
BR
))

9926 ià(
cu¼’t
->
»gs
.
»gs_NPC
 =ğcu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
))

9927 
	`š£¹_br_dœ
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, (cu¼’t->
´ed_PC
 !ğcu¼’t->»gs.
»gs_NPC
));

9929 
	`š£¹_br_dœ
 (
cu¼’t
->
»gs
.
»gs_PC
, 1, (cu¼’t->
´ed_PC
 !ğcu¼’t->»gs.
»gs_NPC
));

9933 #ifdeà 
STORE_PROFILE


9934 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

9936 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

9938 
	`pushStÜe
 (
cu¼’t
->
»gs
.
»gs_PC
, 
addr
, cu¼’t->
sim_num_š¢
, 
memWidth
);

9941 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

9943 
memWidth
 = 
	`G‘MemAccWidth
 (
İ
);

9945 ià(
out1
 > 0 && out1 < 63)

9946 
	`v”ifyLßd
 (
cu¼’t
->
»gs
.
»gs_PC
, 
addr
, cu¼’t->
sim_num_š¢
, 
memWidth
);

9949 #ifdeà 
INDIRECTJUMP_PROFILE


9950 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)è=ğ(F_CTRL | F_UNCOND | F_INDIRJMPè&& (İ !ğ
RETN
)))

9951 
	`pushJump
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
);

9953 #ifdeà 
FREQ_PROFILE


9954 
	`š¡Execu‹dF»q
 (
cu¼’t
->
»gs
.
»gs_PC
);

9957 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

9958 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

9960 ià((
sim_num_š¢
 % 500000000) == 0)

9962 
	`´štf
 ("[INFO]: sim_num_š¢=%Îd\n", 
sim_num_š¢
);

9963 
	`årštf
 (
¡d”r
, "[INFO]: sim_num_š¢=%Îd\n", 
sim_num_š¢
);

9964 
	`fæush
 (
¡d”r
);

9965 
	`fæush
 (
¡dout
);

9972 #ifdef 
COLLECT_STAT_STARTUP


9973 #ifdef 
EDA


9974 ià(
numcÚ‹xts
 != 3)

9975 
	`·nic
 ("Forƒxecution in EDA modehere should beƒxactly 3 initialhreads,ƒach for correctness, optimistic‡nd oracle core.");

9979 #ifdef 
EDA


9980 
th»adid
 = 0;hreadid < 3;hreadid++)

9983 
thrdP”JobCÁ
 = 1;

9984 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9985 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

9986 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

9989 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

9990 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9994 ià(!
cu¼’t
->
ç¡fwd_dÚe
)

9996 
couÁ”_t
 
icouÁ
;

9997 
md_š¡_t
 
š¡
;

9998 
md_İcode
 
İ
;

9999 
md_addr_t
 
rg‘_PC
;

10000 
md_addr_t
 
addr
;

10001 
is_wr™e
;

10002 
by‹_t
 
‹mp_by‹
;

10003 
h®f_t
 
‹mp_h®f
;

10004 
wÜd_t
 
‹mp_wÜd
;

10006 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

10007 
qwÜd_t
 
‹mp_qwÜd
 = 0;

10010 
md_çuÉ_ty³
 
çuÉ
;

10012 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

10014 !
cu¼’t
->
ç¡fwd_dÚe
)

10017 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

10018 #ifdeà
TARGET_ALPHA


10019 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

10023 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

10024 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

10027 
addr
 = 0;

10028 
is_wr™e
 = 
FALSE
;

10031 
çuÉ
 = 
md_çuÉ_nÚe
;

10034 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

10037 
İ
)

10039 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

10040 
OP
: \

10041 
	`SYMCAT
(
OP
,
_IMPL
); \

10043 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

10044 
OP
: \

10045 
	`·nic
("attemptedoƒxecute‡†inking opcode");

10046 
	#CONNECT
(
OP
)

	)

10047 #undeà
DECLARE_FAULT


10048 
	#DECLARE_FAULT
(
FAULT
è\

	)

10049 { 
çuÉ
 = (
FAULT
); ; }

10050 
	~"machše.def
"

10052 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

10055 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

10056 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

10059 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

10061 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

10063 
is_wr™e
 = 
TRUE
;

10065 #iâdeà
PARALLEL_EMUL


10066 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

10069 #iâdeà
PARALLEL_EMUL


10071 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

10076 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

10077 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10081 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10082 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10087 #ifdef 
EDA


10088 
i
 = 0, 
j
 = 0; i < 
m_maxth»ads
; i++)

10090 ià(
j
 =ğ
THREADS_PER_JOB
)

10093 ià(
thecÚ‹xts
[
i
]->
ma¡”id
 == 0)

10095 
k
 = 0, 
l
 = 0; k < 
m_maxth»ads
; k++)

10097 ià(
thecÚ‹xts
[
k
]->
ma¡”id
 == 1)

10099 ià(
l
 =ğ
j
)

10101 
m
;

10103 
m
 = 0, 
l
 = 0; m < 
m_maxth»ads
; m++)

10105 ià(
thecÚ‹xts
[
m
]->
ma¡”id
 == 2)

10107 ià(
l
 =ğ
j
)

10109 
thecÚ‹xts
[
i
]->
jobThdId
 = 
j
;

10110 
thecÚ‹xts
[
k
]->
jobThdId
 = 
j
;

10111 
thecÚ‹xts
[
m
]->
jobThdId
 = 
j
;

10112 
thecÚ‹xts
[
i
]->
h–pThdId
 = 
k
;

10113 
thecÚ‹xts
[
k
]->
h–pThdId
 = 
i
;

10114 
thecÚ‹xts
[
m
]->
h–pThdId
 = -1;

10115 
thecÚ‹xts
[
i
]->
ÜaşeId
 = 
m
;

10116 
thecÚ‹xts
[
k
]->
ÜaşeId
 = 
m
;

10117 
thecÚ‹xts
[
m
]->
ÜaşeId
 = -1;

10119 
thecÚ‹xts
[
i
]->
´edQueue
 = (
b¿nchCÜr
 *è
	`ÿÎoc
 (1,  (branchCorr));;

10120 
	`š™B¿nchCÜr
 (
thecÚ‹xts
[
i
]->
´edQueue
);

10121 
thecÚ‹xts
[
k
]->
´edQueue
 =hecÚ‹xts[
i
]->predQueue;

10122 
thecÚ‹xts
[
m
]->
´edQueue
 =hecÚ‹xts[
i
]->predQueue;

10125 
l
++;

10130 
l
++;

10133 
j
++;

10137 
i
 = 0; i < 
numcÚ‹xts
; i++)

10139 
thecÚ‹xts
[
i
]->
jobThdId
 = i;

10140 
thecÚ‹xts
[
i
]->
h–pThdId
 = -1;

10141 
thecÚ‹xts
[
i
]->
ÜaşeId
 = -1;

10145 
	`´štf
 ("ff Stage 0 done\n");

10146 
	`fæush
 (
¡dout
);

10148 
	`f¡fwd_cŞËùSts
();

10151 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10153 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10154 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

10155 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

10158 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

10159 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

10163 ià(
cu¼’t
->
ç¡fwd_couÁ
 > 0)

10165 
couÁ”_t
 
icouÁ
;

10166 
md_š¡_t
 
š¡
;

10167 
md_İcode
 
İ
;

10168 
md_addr_t
 
rg‘_PC
;

10169 
md_addr_t
 
addr
;

10170 
is_wr™e
;

10171 
by‹_t
 
‹mp_by‹
;

10172 
h®f_t
 
‹mp_h®f
;

10173 
wÜd_t
 
‹mp_wÜd
;

10175 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

10176 
qwÜd_t
 
‹mp_qwÜd
 = 0;

10179 
md_çuÉ_ty³
 
çuÉ
;

10181 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

10183 
icouÁ
 = 0; icouÁ < 
cu¼’t
->
ç¡fwd_couÁ
; icount++)

10186 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

10187 #ifdeà
TARGET_ALPHA


10188 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

10192 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

10195 
addr
 = 0;

10196 
is_wr™e
 = 
FALSE
;

10199 
çuÉ
 = 
md_çuÉ_nÚe
;

10202 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

10205 
İ
)

10207 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

10208 
OP
: \

10209 
	`SYMCAT
(
OP
,
_IMPL
); \

10211 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

10212 
OP
: \

10213 
	`·nic
("attemptedoƒxecute‡†inking opcode");

10214 
	#CONNECT
(
OP
)

	)

10215 #undeà
DECLARE_FAULT


10216 
	#DECLARE_FAULT
(
FAULT
è\

	)

10217 { 
çuÉ
 = (
FAULT
); ; }

10218 
	~"machše.def
"

10220 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

10223 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

10224 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

10227 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

10229 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

10231 
is_wr™e
 = 
TRUE
;

10232 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

10235 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

10239 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

10240 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10243 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10244 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10251 
	`´štf
 ("ff stage 1 done\n");

10252 
	`fæush
 (
¡dout
);

10254 
	`årštf
 (
¡d”r
, "sim: ** starting…erformance simulation **\n");

10255 #ifdeà
LOAD_PREDICTOR


10256 
	`årštf
 (
¡d”r
, " LOAD_PREDICTOR\n");

10257 #ifdeà
COUNT_MISS_ONLY


10258 
	`årštf
 (
¡d”r
, "COUNT_MISS_ONLY \n");

10260 #ifdeà
PREDICT_LOAD_COMM


10261 
	`årštf
 (
¡d”r
, "PREDICT_LOAD_COMM \n");

10263 #ifdeà
GATE_L1_MISS


10264 
	`årštf
 (
¡d”r
, "GATE_L1_MISS \n");

10266 #ifdeà
GATE_L2_MISS


10267 
	`årštf
 (
¡d”r
, "GATE_L2_MISS\n");

10269 #ifdeà
PDG


10270 
	`årštf
 (
¡d”r
, "PDG \n");

10273 #ifdeà
ACTIVE_N_WAY


10274 
	`årštf
 (
¡d”r
, " ACTIVE_N_WAY\n");

10275 #ifdeà
FIXED_N_WAY


10276 
	`årštf
 (
¡d”r
, " FIXED_N_WAY\n");

10279 #ifdeà 
SMT_TEST


10280 
	`årštf
 (
¡d”r
, "SMT_TEST\n");

10282 #ifdeà 
THRD_WAY_CACHE


10283 
	`årštf
 (
¡d”r
, " THRD_WAY_CACHE\n");

10285 #ifdeà 
N_WAY_CACHE


10286 
	`årštf
 (
¡d”r
, " N_WAY_CACHE: deçuÉ oÆy, %d\n", 
n_way_ÿche
);

10287 #ifdeà
SET_BASED


10288 
	`årštf
 (
¡d”r
, "SET_BASED\n");

10291 #ifdeà
PARTITIONED_LSQ


10292 
	`årštf
 (
¡d”r
, "PARTITIONED_LSQ\n");

10294 
	`årštf
 (
¡d”r
, "(PARTITIONED_LSQ‚ot defined)\n");

10296 #ifdeà
CENTRALIZED_LSQ


10297 
	`årštf
 (
¡d”r
, "CENTRALIZED_LSQ\n");

10299 #ifdeà
DE_CENTRALIZED_LSQ


10300 
	`årštf
 (
¡d”r
, "DE_CENTRALIZED_LSQ\n");

10301 #ifdeà
DE_CENTRALIZED_POWER_BUG


10302 
	`årštf
 (
¡d”r
, " DE_CENTRALIZED_POWER_BUG\n");

10304 #ifdeà 
SPLIT_LSQ


10305 
	`årštf
 (
¡d”r
, "SPLIT_LSQ\n");

10307 #ifdeà
DISTRIBUTE_STORE


10308 
	`årštf
 (
¡d”r
, "DISTRIBUTE_STORE\n");

10310 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


10311 
	`årštf
 (
¡d”r
, " PWR_DE_CENTRALIZED_LSQ\n");

10314 #ifdeà
ALLOW_ANY_CLUSTER


10315 
	`årštf
 (
¡d”r
, "ALLOW_ANY_CLUSTER\n");

10317 #ifdeà 
CLUSTER_PRIORITY


10318 
	`årštf
 (
¡d”r
, "CLUSTER_PRIORITY\n");

10320 #ifdeà
DISTRIBUTED_STEER


10321 
	`årštf
 (
¡d”r
, "DISTRIBUTED_STEER\n");

10323 #ifdeà
CENTRALIZED_STEER


10324 
	`årštf
 (
¡d”r
, "CENTRALIZED_STEER\n");

10326 #ifdeà
MINIMUM_STEER


10327 
	`årštf
 (
¡d”r
, "MINIMUM_STEER\n");

10329 #ifdeà
INIT_CENTRALIZED_STEER


10330 
	`årštf
 (
¡d”r
, "INIT_CENTRALIZED_STEER\n");

10332 #ifdeà
CMP_STEER


10333 
	`årštf
 (
¡d”r
, "CMP_STEER\n");

10335 #ifdeà
INIT_CMP_STEER


10336 
	`årštf
 (
¡d”r
, "INIT_CMP_STEER\n");

10338 #ifdeà
N_WAY_STEER


10339 
	`årštf
 (
¡d”r
, "N_WAY_STEER ,N_WAY:deçuÉ %d \n", 
n_way
);

10340 #ifdeà
PRIVATE_STEER


10341 
	`årštf
 (
¡d”r
, " PRIVATE_STEER\n");

10343 #ifdeà
N_WAY_ADAPT


10344 
	`årštf
 (
¡d”r
, " N_WAY_ADAPT,ADAPT_RATE %d \n", 
ADAPT_RATE
);

10345 #ifdeà
STABLE_IPC_ADAPT


10346 
	`årštf
 (
¡d”r
, "STABLE_IPC_ADAPT\n");

10348 #ifdeà
PERIODIC_INCREASE_ADAPT


10349 
	`årštf
 (
¡d”r
, "PERIODIC_INCREASE_ADAPT\n");

10351 #ifdeà
DOUBLE_ADAPT


10352 
	`årštf
 (
¡d”r
, "DOUBLE_ADAPT\n");

10354 #ifdeà
OVERALL_LIMIT


10355 
	`årštf
 (
¡d”r
, "OVERALL_LIMIT\n");

10357 #ifdeà 
PRIVATE_STEER


10358 
	`årštf
 (
¡d”r
, "PRIVATE_STEER\n");

10361 #ifdeà
THRD_PRIO_ADAPT


10362 
	`årštf
 (
¡d”r
, " THRD_PRIO_ADAPT\n");

10363 #ifdeà
ADAPT_LIMIT


10364 
	`årštf
 (
¡d”r
, " ADAPT_LIMIT\n");

10367 #ifdeà
PDG_ADAPT


10368 
	`årštf
 (
¡d”r
, " PDG_ADAPT\n");

10370 #ifdeà
PDG_STOP_ADAPT


10371 
	`årštf
 (
¡d”r
, " PDG_STOP_ADAPT\n");

10373 #ifdeà
PDG_THRD_ADAPT


10374 
	`årštf
 (
¡d”r
, " PDG_THRD_ADAPT\n");

10375 #ifdeà
PDG_THRD_AGGRESSIVE


10376 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10378 #ifdeà
PDG_THRD_SOFT


10379 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10382 #ifdeà
PDG_THRD_PRIO_ADAPT


10383 
	`årštf
 (
¡d”r
, "PDG_THRD_PRIO_ADAPT \n");

10384 #ifdeà
COMM_OPER_LIMIT


10385 
	`årštf
 (
¡d”r
, "COMM_OPER_LIMIT COMM_OPER_RATIO %2.2f\n", 
COMM_OPER_RATIO
);

10387 #ifdeà
ADAPT_NO_PRIO


10388 
	`årštf
 (
¡d”r
, " ADAPT_NO_PRIO\n");

10390 #ifdeà
ADAPT_NO_COMM_OPER


10391 
	`årštf
 (
¡d”r
, " ADAPT_NO_COMM_OPER\n");

10393 #ifdeà
AVG_LIMIT


10394 
	`årštf
 (
¡d”r
, " AVG_LIMIT\n");

10396 #ifdeà
PDG_THRD_AGGRESSIVE


10397 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10399 #ifdeà
PDG_THRD_SOFT


10400 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10403 #ifdeà
INIT_N_WAY_CENTRAL


10404 
	`årštf
 (
¡d”r
, " INIT_N_WAY_CENTRAL\n");

10406 #ifdeà
N_WAY_BALANCE


10407 
	`årštf
 (
¡d”r
, "N_WAY_BALANCE \n");

10409 #ifdeà
THRD_PROFILE


10410 
	`årštf
 (
¡d”r
, " THRD_PROFILE\n");

10412 #ifdeà
N_CACHE_FIXED


10413 
	`årštf
 (
¡d”r
, "N_CACHE_FIXED \n");

10415 #ifdeà
PRIVATE_CACHE


10416 
	`årštf
 (
¡d”r
, " PRIVATE_CACHE\n");

10419 #ifdeà
STEER_MEM_LSQ


10420 
	`årštf
 (
¡d”r
, "STEER_MEM_LSQ\n");

10422 #ifdeà
STEER_MEM_NEIGHBOR


10423 
	`årštf
 (
¡d”r
, "STEER_MEM_NEIGHBOR\n");

10425 #ifdeà
STEER_OPRANDS


10426 
	`årštf
 (
¡d”r
, "STEER_OPRANDS\n");

10428 #ifdeà 
STEER_FU


10429 
	`årštf
 (
¡d”r
, "STEER_FU\n");

10431 #ifdeà
SELECTIVE_DISPATCH


10432 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH\n");

10434 #ifdeà
SELECTIVE_FETCH


10435 
	`årštf
 (
¡d”r
, "SELECTIVE_FETCH\n");

10437 #ifdeà
SELECTIVE_DISPATCH_GATE


10438 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH_GATE\n");

10439 #ifdeà
UNREADY_PRIVATE


10440 
	`årštf
 (
¡d”r
, " UNREADY_PRIVATE \n");

10442 #ifdeà
UNREADY_COUNT


10443 
	`årštf
 (
¡d”r
, " UNREADY_COUNT %d\n", 
UNREADY_COUNT_LIMIT
);

10445 #ifdeà
UNREADY_COUNT_ONLY


10446 
	`årštf
 (
¡d”r
, " UNREADY_COUNT_ONLY \n");

10448 #ifdeà
UNREADY_CHAIN_PRIVATE


10449 
	`årštf
 (
¡d”r
, " UNREADY_CHAIN_PRIVATE %d\n", 
UNREADY_CHAIN_LIMIT
);

10452 #ifdeà 
RAW


10453 
	`årštf
 (
¡d”r
, "RAW ,deçuÉ RAWSIZE %d\n", 
RAWSIZE
);

10455 #ifdeà 
RABMAP


10456 
	`årštf
 (
¡d”r
, "RABMAP \n");

10458 #ifdeà 
RABCOMM


10459 
	`årštf
 (
¡d”r
, "RABCOMM \n");

10461 #ifdeà 
ALU_MERGE


10462 
	`årštf
 (
¡d”r
, "ALU_MERGE \n");

10464 #ifdeà
INST_TRANS_RATE


10465 
	`årštf
 (
¡d”r
, "INST_TRANS_RATE\n");

10466 #ifdeà
TRACE_REG


10467 
	`årštf
 (
¡d”r
, " TRACE_REG\n");

10470 #ifdeà
IGNORE_ALL_COMM_LATENCY


10471 
	`årštf
 (
¡d”r
, "IGNORE_ALL_COMM_LATENCY\n");

10473 #ifdeà
IGNORE_MEM_COMM_LATENCY


10474 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10476 #ifdeà
COUNT_COMMIT


10477 
	`årštf
 (
¡d”r
, "COUNT_COMMIT\n");

10479 #ifdeà
CYCLE_JUMP


10480 
	`årštf
 (
¡d”r
, "CYCLE_JUMP \n");

10482 #ifdeà
FETCH_ONE_BLOCK


10483 
	`årštf
 (
¡d”r
, "FETCH_ONE_BLOCK \n");

10485 #ifdeà 
MSHR


10486 
	`årštf
 (
¡d”r
, "MSHR , MSHRSIZE %d\n", 
MSHRSIZE
);

10488 #ifdeà
GENERIC_FU


10489 
	`årštf
 (
¡d”r
, "GENERIC_FU\n");

10491 #ifdeà
NO_EXTRA_REG


10492 
	`årštf
 (
¡d”r
, "NO_EXTRA_REG\n");

10494 #ifdeà
NO_CACHE_BANK


10495 
	`årštf
 (
¡d”r
, "NO_CACHE_BANK\n");

10497 #ifdeà
NO_QFILL_CONTENTION


10498 
	`årštf
 (
¡d”r
, "NO_QFILL_CONTENTION\n");

10500 #ifdeà
NO_BUS_CONTENTION


10501 
	`årštf
 (
¡d”r
, " NO_BUS_CONTENTION \n");

10503 #ifdeà
EVENT_CACHE_UPDATE


10504 
	`årštf
 (
¡d”r
, "EVENT_CACHE_UPDATE\n");

10505 #ifdeà
APPROXIMATE_LAT


10506 
	`årštf
 (
¡d”r
, " APPROXIMATE_LAT \n");

10508 #ifdeà 
ACURATE_LAT


10509 
	`årštf
 (
¡d”r
, " ACURATE_LAT \n");

10511 #ifdeà 
MOST_ACURATE_LAT


10512 
	`årštf
 (
¡d”r
, " MOST_ACURATE_LAT \n");

10515 #ifdeà
PORT_PER_BANK


10516 
	`årštf
 (
¡d”r
, "PORT_PER_BANK\n");

10518 #ifdeà 
LINE_INTERLEAVED


10519 
	`årštf
 (
¡d”r
, "LINE_INTERLEAVED\n");

10521 #ifdeà 
PWR_CLUSTER


10522 
	`årštf
 (
¡d”r
, "PWR_CLUSTER,ISSUE_PER_CLUSTER \n");

10524 #ifdeà 
CHECKS


10525 
	`årštf
 (
¡d”r
, "CHECKS\n");

10527 #ifdeà 
PWR__SMT_RR


10528 
	`årštf
 (
¡d”r
, "PWR__SMT_RR\n");

10530 
	`årštf
 (
¡d”r
, "REMOVE_ILP = %d\n", (è
REMOVE_ILP
);

10531 
	`årštf
 (
¡d”r
, "HOPTIME = %d\n", (è
HOPTIME
);

10532 #ifdeà
CENTRALIZED_CACHE_BANK


10533 
	`årštf
 (
¡d”r
, "CENTRALIZED_CACHE_BANK\n");

10535 #ifdeà
IGNORE_MEM_COMM_LATENCY


10536 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10538 
	`årštf
 (
¡d”r
, "DO_DYNAMIC_ADAPTATION = %d\n", (è
DO_DYNAMIC_ADAPTATION
);

10539 
	`årštf
 (
¡d”r
, "N_WAY = %d\n", 
n_way
);

10540 
	`årštf
 (
¡d”r
, "n_way_ÿchğ%d\n", 
n_way_ÿche
);

10541 #ifdeà
OPTICAL_FE_LINK


10542 
	`årštf
 (
¡d”r
, "OPTICAL_FE_LINK\n");

10544 #ifdeà
MONOLETHIC_MACHINE


10545 
	`årštf
 (
¡d”r
, "MONOLETHIC_MACHINE\n");

10548 #ifdeà
TOKENB


10549 
	`årštf
 (
¡d”r
, "TOKENB\n");

10553 *
sim_¡r_dump
;

10554 *
sim_dump
 = 
sim_¡r_dump
;

10555 
¡rFeName
[256];

10556 ià(!
sim_dump
)

10558 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

10559 
	`ex™
 (1);

10562 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

10563 
	`¡rÿt
 (
¡rFeName
, ".trc");

10564 
å_Œaû
 = 
	`fİ’
 (
¡rFeName
, "w");

10565 if(!
å_Œaû
è
	`·nic
("Could‚ot openrace file");

10568 #ifdef 
EDA


10569 
	`S¹Sk–‘ÚR—d
 (0);

10571 
	`®loÿ‹_ä“_ev’t_li¡
();

10574 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10576 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10577 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
;

10578 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

10580 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_PC
 -  (
md_š¡_t
);

10581 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.»gs_PC -  (
md_š¡_t
);

10582 #ifdeà
PDG


10583 
cu¼’t
->
aùive
 = 1;

10588 
	`bš_š™
 ();

10589 
	`ÿche_š™
 ();

10590 #ifdeà 
STREAM_PREFETCHER


10591 
	`š™_¥
 ();

10593 #ifdeà 
L1_STREAM_PREFETCHER


10594 
	`l1š™_¥
 ();

10597 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

10599 
di¥_time
[
i
] = 0;

10602 
i
 = 0; i < 
numcÚ‹xts
; i++)

10604 
	`»g_š™
 (
i
);

10605 
	`b´ed_š™
 (
i
);

10608 #ifdeà
REG_RENAME_CONFIGUARE


10609 
	`årštf
 (
¡d”r
, "TÙ® P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

10612 
i
 = 0; i < 
CLUSTERS
; i++)

10614 
num_¡Üeq
[
i
] = 0;

10615 
max_¡Üeq
[
i
] = 0;

10618 
mm
 = 0; mm <ğ
NUMPHASES
; mm++)

10620 
num_picks
[
mm
] = 0;

10623 ià(
CENTRAL_CACHE
)

10625 
aùu®_ÿch•Üts
 = 
CACHEPORTS
;

10626 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10630 
	`ÿche_chªge_cÚfig
 (
SMALLEST_CONFIG
);

10631 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10632 
aùu®_ÿch•Üts
 = (
CACHEPORTS
 * 
aùu®_şu¡”s
è/ 
CLUSTERS
;

10635 
¹h»sh
 = 
š¢_š‹rv®
 / 100;

10636 
b¹h»sh
 = 
š¢_š‹rv®
 / 100;

10637 
m¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10638 
im¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10639 
cyùh»sh
 = 
š¢_š‹rv®
 / 100;

10640 
ºoi£
 = 
š¢_š‹rv®
 / 20;

10641 
bºoi£
 = 
š¢_š‹rv®
 / 50;

10642 
m¢oi£
 = 
š¢_š‹rv®
 / 100;

10643 
im¢oi£
 = 
š¢_š‹rv®
 / 200;

10645 #ifdef 
COLLECT_STAT_STARTUP


10646 
aùu®Proûss
 = 1;

10648 
aùu®Proûss
 = 
numcÚ‹xts
;

10650 
execu‹MaxIn¢
 = 
max_š¡s
;

10656 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10658 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10659 
cu¼’t
->
aùive_this_cyşe
 = 1;

10662 #ifdef 
SMD_USE_WRITE_BUF


10664 
th»adid
 = 0;h»adid < 
MAXTHREADS
;hreadid++)

10666 
i
 = 0; i < 
SMD_L1_WBUF_SIZE
; i++)

10668 
m_L1WBuf
[
th»adid
][
i
].
PC
 = 0;

10669 
m_L1WBuf
[
th»adid
][
i
].
lsqId
 = 0;

10670 
m_L1WBuf
[
th»adid
][
i
].
robId
 = 0;

10671 
m_L1WBuf
[
th»adid
][
i
].
robExId
 = 0;

10672 
m_L1WBuf
[
th»adid
][
i
].
addr
 = 0;

10673 
m_L1WBuf
[
th»adid
][
i
].
İ
 = 0;

10674 
m_L1WBuf
[
th»adid
][
i
].
Ït
 = 0;

10675 
m_L1WBuf
[
th»adid
][
i
].
sim_num_š¢
 = 0;

10676 
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
 = 0;

10677 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 0;

10678 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 0;

10679 
m_L1WBuf
[
th»adid
][
i
].
’ŒyTime
 = 0;

10680 
m_L1WBuf
[
th»adid
][
i
].
wr™eV®ue
 = 0;

10681 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 0;

10683 
m_L1WBufCÁ
[
th»adid
] = 0;

10684 
m_L1WBuf_h—d
[
th»adid
] = 0;

10685 
m_L1WBuf_
[
th»adid
] = 0;

10688 #ifdeà
DIRECTORY


10689 #ifdeà
MC


10690 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

10691 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10692 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10693 
	`mašPİÃt
();

10694 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

10696 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10697 
	`mašPİÃt
();

10700 #ifdeà
OPTICAL_INTERCONNECT


10701 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10703 #ifdeà
POPNET


10704 
	`mašPİÃt
();

10712 #ifdef 
DCACHE_MSHR


10713 
i
 = 0; i < 
numcÚ‹xts
; i++)

10714 
	`ä“MSHR
(
ÿche_dl1
[
i
]->
mshr
);

10715 
	`ä“L2MSHR
(
ÿche_dl2
->
mshr
);

10718 #ifdeà
POWER_ACCESS_STAT


10719 
lsq_´eg_acûss_couÁ
 +ğ
lsq_´eg_acûss
;

10720 
lsq_wakeup_acûss_couÁ
 +ğ
lsq_wakeup_acûss
;

10723 #ifdef 
EDA


10724 
	`dl0_ş—nup
 ();

10729 
	`±¿û_check_aùive
 (
thecÚ‹xts
[0]->
»gs
.
»gs_PC
, 
sim_num_š¢
, 
sim_cyşe
);

10731 
	`±¿û_Ãwcyşe
 (
sim_cyşe
);

10733 
i
 = 0; i<
numcÚ‹xts
; i++)

10737 
comm™_æag
[
i
] ++;

10740 
	`ruu_comm™
 ();

10742 #ifdeà
SMD_USE_WRITE_BUF


10743 
	`ruu_»Ëa£_wr™ebufãr
 ();

10744 
	`ruu_wr™e_äom_Wr™ebufãr
 ();

10748 
	`ruu_»Ëa£_fu
 ();

10750 
	`ruu_wr™eback
 ();

10753 ià(!
bugcom·t_mode
)

10755 
	`lsq_»äesh
 ();

10756 
	`ruu_issue
 ();

10759 
ggg
;

10761 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10763 
di¥©ch_dÚe
[
ggg
] = 0;

10764 ià(
thecÚ‹xts
[
ggg
]->
aùive_this_cyşe
)

10766 
di¥©ch_dÚe
[
ggg
] = 
di¥©ched
 = 
	`ruu_di¥©ch
 (ggg);

10770 ià(!
®lFÜked
)

10772 #ifdef 
COLLECT_STAT_STARTUP


10773 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10775 
cŞËùStStİ
[
ggg
] = 0;

10778 
cŞËùStB¬r›r
 = 0;

10779 
®lFÜked
 = 1;

10781 
	`š™P¬®ËlSimuÏtiÚ
 ();

10782 
cŞËù_¡©s
 = 1;

10787 ià(
æushImpSts
)

10789 
æushImpSts
 = 0;

10790 
cŞËù_¡©s
 = 1;

10791 
sim_num_š¢
 = 0;

10792 
»®SimCyşe
 = 0;

10794 
i
 = 0; i < 
MAXTHREADS
; i++)

10796 
m_sqLQFuÎ
[
i
] = 0;

10797 
m_sqSQFuÎ
[
i
] = 0;

10798 
m_sqNumLdR•Ïy
[
i
] = 0;

10799 
ld¡RejeùiÚCouÁ
[
i
] = 0;

10800 
£qCÚsR•Ïy
[
i
] = 0;

10801 
£qCÚsIn¢R•Ïy
[
i
] = 0;

10804 
šv®id©iÚ_»¶ay
[
i
] = 0;

10806 
tÙ®RUUsize
[
i
] = 
tÙ®LQsize
[i] = 
tÙ®SQsize
[i] = 0;

10808 #ifdeà
RELAXED_CONSISTENCY


10809 
lßdLßdR•ÏyCouÁ
[
i
] = 0;

10812 
m_sqP»ãtchCÁ
 = 0;

10815 ià(
timeToR‘uº
)

10817 
	`fşo£
 (
å_Œaû
);

10819 
i
 = 0; i < 
numcÚ‹xts
; i++)

10820 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10821 
	`årštf
(
¡d”r
,"[INFO 0]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

10825 
i
 = 0; i < 
numcÚ‹xts
; i++)

10827 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

10829 
tÙ®RUUsize
[
i
] +ğ
thecÚ‹xts
[i]->
RUU_num
;

10830 
avgRUUsize
[
i
] = (1.0 * 
tÙ®RUUsize
[i]è/ 
»®SimCyşe
;

10832 
tÙ®LQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shLQNum
;

10833 
avgLQsize
[
i
] = (1.0 * 
tÙ®LQsize
[i]è/ 
»®SimCyşe
;

10835 #ifdef 
SMD_USE_WRITE_BUF


10836 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
 + 
m_L1WBufCÁ
[i];

10838 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
;

10840 
avgSQsize
[
i
] = (1.0 * 
tÙ®SQsize
[i]è/ 
»®SimCyşe
;

10845 #ifdeà 
CHECK_FETCH_QUEUE


10846 
	`check_ãtch_queue
 ();

10849 ià(
bugcom·t_mode
)

10853 
	`lsq_»äesh
 ();

10857 
	`ruu_issue
 ();

10860 
	`ruu_ãtch
 ();

10862 #ifdeà
DIRECTORY


10863 
	`dœ_fifo_dequeue
();

10864 
	`dœ_ev’tq_Ãx‹v’t
();

10865 #ifdeà
LOCK_HARD


10866 
	`lock_ev’tq_Ãx‹v’t
();

10868 #ifdeà
MC


10869 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

10870 
	`dœeùRunSim
(
sim_cyşe
);

10871 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10872 
	`pİÃtRunSim
(
sim_cyşe
);

10873 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

10875 
	`dœeùRunSim
(
sim_cyşe
);

10876 
	`pİÃtRunSim
(
sim_cyşe
);

10879 #ifdeà
OPTICAL_INTERCONNECT


10880 
	`dœeùRunSim
(
sim_cyşe
);

10882 #ifdeà
POPNET


10883 
	`pİÃtRunSim
(
sim_cyşe
);

10888 #ifdeà
MEM_MOD


10889 
f
, 
j
;

10890 
f
=0; f<8; f++)

10892 if(
mem_pÜt_Ït
[
f
] != 0)

10893 
mem_pÜt_Ït
[
f
] --;

10896 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "HYBRID"))

10898 
f
 = 0; f< 100; f++)

10899 
j
 = 0; j< 100; j++)

10900 if(
lšk_£r_Ït
[
f
][
j
] > 0)

10901 
lšk_£r_Ït
[
f
][
j
] --;

10904 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10906 
	`upd©e_pow”_¡©s
(
thecÚ‹xts
[0]->
pow”
, 
th»adid
,hecontexts[threadid]);

10908 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10909 ià(
cu¼’t
->
ruu_ãtch_issue_d–ay
)

10910 
cu¼’t
->
ruu_ãtch_issue_d–ay
--;

10912 
	`ş—r_acûss_¡©s
();

10918 #ifdeà 
CHECKS


10919 
	`check_»g
 ();

10922 ià(
hÙ¥Ù_aùive
 && 
sim_cyşe
 >ğ
Ï¡_hÙ¥Ù_cyşe
 + 
hÙ¥Ù_cyşe_§m¶šg_štvl
)

10924 
	`upd©e_hÙ¥Ù_¡©s
 (
sim_cyşe
 - 
Ï¡_hÙ¥Ù_cyşe
);

10925 
Ï¡_hÙ¥Ù_cyşe
 = 
sim_cyşe
;

10928 
	`check_fu_busy
 ();

10929 
‰
;

10931 ià(!
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
)

10933 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10935 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10936 #ifdef 
EDA


10937 ià(
cu¼’t
->
ma¡”id
 =ğ0 && ((è(cu¼’t->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

10939 ià(((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

10942 
	`årštf
 (
¡d”r
, "Th»ad %d ha exûeded max_š¡s; klšg‡Îh»ads.\n", 
th»adid
);

10943 
kÏÎ
 = 1;

10948 
th»adid
 = 0, 
th»ad_¡İ
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10950 
tmp
 = 0, 
tid
;

10952 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10954 #ifdef 
EDA


10955 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && 
cu¼’t
->
ma¡”id
 =ğ0 && ((è(cu¼’t->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

10957 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
 && ((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

10960 
cu¼’t
->
fšish_cyşe
 = (è(
sim_cyşe
 - 
cyşecheck
);

10961 
cu¼’t
->
ruÂšg
 = 0;

10962 
¡İ³d_num_th»ads
++;

10964 
aùivecÚ‹xts
 = 
numcÚ‹xts
 - 
¡İ³d_num_th»ads
;

10966 
th»ad_¡İ
 = 1;

10967 
	`årštf
 (
¡d”r
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

10968 
	`årštf
 (
¡d”r
, "IPC_·tŸl%d,³¸th»ad %4.3f, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

10970 ià(
hÙ¥Ù_aùive
 && 
sim_hÙ¥Ùout_fd
 !ğ
¡d”r
)

10972 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

10975 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10977 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10978 ià(
cu¼’t
->
fšish_cyşe
)

10979 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(cu¼’t->
fšish_cyşe
 - 
cyşecheck
));

10981 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

10983 
	`årštf
 (
¡d”r
, "\n");

10984 
	`årštf
 (
¡d”r
, "num_š¢_·tŸl%d,³¸th»ad %lu, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
));

10986 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10988 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10989 ià(
cu¼’t
->
fšish_cyşe
)

10990 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

10992 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

10994 
	`årštf
 (
¡d”r
, "\n");

10995 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

10997 
	`årštf
 (
¡d”r
, "********All finish simulation done**********\n");

10998 
	`årštf
 (
¡d”r
, "fšish_cyş%lu,…”h»ad , ", (è
sim_cyşe
);

10999 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11001 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11002 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
fšish_cyşe
 - 
WARMUP
));

11004 
	`årštf
 (
¡d”r
, "\n");

11008 
now_time
 = 
	`time
 ((
time_t
 *è
NULL
);

11010 ià(!
sim_cyşe
)

11011 
´št_time
 = 
now_time
;

11012 
sim_–­£d_£c
 = 0;

11014 ià((è
sim_num_š¢
 && ((
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
è|| 
th»ad_¡İ
))

11016 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

11018 
sim_cyşe
 -ğ
w¬mupEndCyşe
;

11019 
	`årštf
(
¡d”r
,"[INFO 1]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

11024 
	#PERIOD
 100000

	)

11025 
	#INTERVAL
 10000

	)

11026 
	#NUM_CONFIG
 3

	)

11027 #ià
DO_DYNAMIC_ADAPTATION


11029 ià(
m_maxth»ads
 == 1)

11031 ià(((
sim_num_š¢
 % 
PERIOD
è>ğ0è&& ((sim_num_š¢ % PERIODè< 
NUM_CONFIG
 * 
INTERVAL
))

11032 
	`³riodic_ad­tiÚ
 ();

11036 
	#PRINT_STATISTICS
 0

	)

11037 #ià
PRINT_STATISTICS


11038 
	`chªgeCacheCÚfig
 ();

11041 #ifdeà
INTERVAL_BASED


11042 ià(!((è
sim_cyşe
 % 
ADAPT_INTERVAL
) && (() sim_cycle))

11045 #ifdeà 
EXAMIN_N_WAY_ADAPT


11046 
	`upd©e_examš_n_lim™
 ();

11048 #ifdeà 
N_WAY_ADAPT


11049 
	`upd©e_n_lim™
 ();

11051 #ifdeà
THRD_PRIO_ADAPT


11052 
	`´iÜ™y_n_way
 ();

11054 #ifdeà
PDG_THRD_ADAPT


11055 
	`pdg_thrd_n_way
 ();

11057 #ifdeà
PDG_THRD_PRIO_ADAPT


11058 
	`pdg_´iÜ™y_n_way
 ();

11060 #ifdeà
PDG_ADAPT


11061 
	`pdg_n_way
 ();

11063 #ifdeà
N_WAY_CACHE_ADAPT


11064 
	`n_way_ÿche_ad­t
 ();

11066 #ifdeà
INTERVAL_BASED


11070 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

11071 
	`busF»e
 ();

11073 
sim_cyşe
++;

11075 #ifdeà
DIRECTORY


11076 
	`»£t_pÜts
();

11080 #ifdeà
SEQUENTIAL_CONSISTENCY


11081 
i
 = 0; i < 
numcÚ‹xts
; i++)

11083 ià(
šv®id©iÚSÎ
[
i
])

11084 
šv®id©iÚSÎ
[
i
]--;

11085 ià(
comm™SÎ
[
i
])

11086 
comm™SÎ
[
i
]--;

11089 
»®SimCyşe
++;

11090 
no_id—l
 = 1;

11091 
i
 = 0; i < 
numcÚ‹xts
; i++)

11093 #ifdeà
SYNC_IDEAL


11094 if(
®lFÜked
 && (
b¬r›r_wa™šg
[
i
]))

11095 
no_id—l
 = 0;

11097 
Ït
 = 100;

11098 ià(!
®lFÜked
)

11100 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (ÑhecÚ‹xts[i]->
¦•tAt
 + 1000è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
))

11102 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

11103 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

11108 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (thecÚ‹xts[i]->
¦•tAt
 + 
Ït
 + (
	`¿ndom
 (è% 20è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
è&& 
no_id—l
)

11110 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

11111 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

11112 ià(
cŞËù_¡©s
)

11113 
qu›n£Wakeup
[
i
]++;

11118 ià(((!
max_b¬r›r
 && (
pu»_num_š¢
 > 
execu‹MaxIn¢
)è|| (max_b¬r›¸&& 
TÙ®B¬r›rs
 >ğmax_b¬r›r)è&& 
cŞËù_¡©s
)

11120 
i
 = 0; i < 
numcÚ‹xts
; i++)

11121 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

11123 
	`årštf
(
¡d”r
,"[INFO 2]: sim_num_š¢=%Îu, b¬r›rs=%d", 
pu»_num_š¢
, 
TÙ®B¬r›rs
);

11126 ià(
unPrštLim™
 < 
STATUS_NUM
 && (
pu»_num_š¢
 >ğ(unPrštLim™ * (
max_š¡s
 / STATUS_NUM))))

11128 #ifdeà
MC


11129 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

11131 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11132 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11134 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

11136 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
);

11137 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\tm‘a_·ck‘s%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
, 
M‘aPack‘s_1
);

11139 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

11141 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11142 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11145 #ifdeà
POPNET


11146 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
);

11147 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\td©a_·ck‘s_g’”©e=%d\tm‘a_·ck‘s%d\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
, 
D©aPack‘s_1
, 
M‘aPack‘s_1
);

11149 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11150 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11153 
	`fæush
 (
¡d”r
);

11154 
	`fæush
 (
¡dout
);

11155 
	`´štf
("b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

11156 
	`årštf
(
¡d”r
, "b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

11157 
	`fæush
 (
¡d”r
);

11158 
	`fæush
 (
¡dout
);

11159 
unPrštLim™
++;

11160 
glob®_d©a_·ck‘s_g’”©iÚ
 = 0;

11161 
D©aPack‘s_1
 = 0;

11162 
M‘aPack‘s_1
 = 0;

11169 
	`g‘_ä“_»g
 (
Ìegnum
, 
th»adid
)

11171 
‹mpv®
;

11172 
li¡–t
 *
‹mp
;

11174 
cÚ‹xt
 *
cu¼’t
;

11176 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11178 ià((
Ìegnum
 < 1) || (lregnum > 62))

11180 ià(
Ìegnum
 < 32)

11182 ià(!
iä“li¡_h—d
[
th»adid
])

11184 
	`´štf
 ("Num oàIREG=%d\n", 
œegfe
);

11185 
	`årštf
 (
¡d”r
, "Num oàIREG=%d\n", 
œegfe
);

11186 
	`·nic
 ("Out of„egisters?!");

11189 
‹mp
 = 
iä“li¡_h—d
[
th»adid
];

11190 
‹mpv®
 = 
‹mp
->
´eg
;

11191 
iä“li¡_h—d
[
th»adid
] = iä“li¡_h—d[th»adid]->
Ãxt
;

11192 ià(!
iä“li¡_h—d
[
th»adid
])

11193 
iä“li¡_
[
th»adid
] = 
NULL
;

11194 ià(
iä“li¡_h—d
[
th»adid
])

11195 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11196 
	`ä“
 (
‹mp
);

11197 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11198 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11199 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11200 #ifdeà 
REMOVE_REG_COUNT


11201 
œegfe
++;

11203 
œegfe_ş
[
th»adid
]++;

11204  
‹mpv®
;

11208 ià(!
fä“li¡_h—d
[
th»adid
])

11210 
	`´štf
 ("Num oàFREG=%d\n", 
äegfe
);

11211 
	`årštf
 (
¡d”r
, "Num oàFREG=%d\n", 
äegfe
);

11212 
	`·nic
 ("Out of„egisters?!");

11215 
‹mp
 = 
fä“li¡_h—d
[
th»adid
];

11216 
‹mpv®
 = 
‹mp
->
´eg
;

11217 
fä“li¡_h—d
[
th»adid
] = fä“li¡_h—d[th»adid]->
Ãxt
;

11218 ià(!
fä“li¡_h—d
[
th»adid
])

11219 
fä“li¡_
[
th»adid
] = 
NULL
;

11220 ià(
fä“li¡_h—d
[
th»adid
])

11221 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11222 
	`ä“
 (
‹mp
);

11223 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11224 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11225 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11226 #ifdeà 
REMOVE_REG_COUNT


11227 
äegfe
++;

11229 
äegfe_ş
[
th»adid
]++;

11230  
‹mpv®
;

11236 
	`ä“li¡_š£¹
 (
´egnum
, 
th»adid
)

11238 
li¡–t
 *
–t
;

11239 
li¡–t
 *
p
;

11240 
li¡–t
 *
q
;

11242 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11245 ià(
th»adid
 == 0)

11247 
p
 = 
iä“li¡_h—d
[
th»adid
];

11248 
p
)

11250 
q
 = 
p
;

11251 
p
 =…->
Ãxt
;

11256 ià(!
´egnum
)

11258 ià(
´egnum
 <ğ
IPREG_size
)

11260 #ifdeà 
REMOVE_REG_COUNT


11261 
œegfe
--;

11263 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11264 
–t
->
´eg
 = 
´egnum
;

11265 ià(
iä“li¡_
[
th»adid
])

11267 
p
 = 
iä“li¡_h—d
[
th»adid
];

11268 
q
 = 
NULL
;

11269 
p
 && (p->
´eg
 < 
´egnum
))

11271 
q
 = 
p
;

11272 
p
 =…->
Ãxt
;

11274 ià(!
p
 || !
SORT
)

11276 
iä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11277 
–t
->
´ev
 = 
iä“li¡_
[
th»adid
];

11278 
–t
->
Ãxt
 = 
NULL
;

11279 
iä“li¡_
[
th»adid
] = 
–t
;

11281 ià(
q
)

11283 
q
->
Ãxt
 = 
–t
;

11284 
–t
->
´ev
 = 
q
;

11285 
–t
->
Ãxt
 = 
p
;

11286 
p
->
´ev
 = 
–t
;

11290 
–t
->
Ãxt
 = 
iä“li¡_h—d
[
th»adid
];

11291 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11292 
–t
->
´ev
 = 
NULL
;

11293 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11298 
–t
->
Ãxt
 = 
NULL
;

11299 
–t
->
´ev
 = 
NULL
;

11300 
iä“li¡_
[
th»adid
] = 
–t
;

11301 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11303 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11304 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11305 
œegfe_ş
[
th»adid
]--;

11309 #ifdeà 
REMOVE_REG_COUNT


11310 
äegfe
--;

11312 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11313 
–t
->
´eg
 = 
´egnum
;

11314 ià(
fä“li¡_
[
th»adid
])

11316 
p
 = 
fä“li¡_h—d
[
th»adid
];

11317 
q
 = 
NULL
;

11318 
p
 && (p->
´eg
 < 
´egnum
))

11320 
q
 = 
p
;

11321 
p
 =…->
Ãxt
;

11323 ià(!
p
 || !
SORT
)

11325 
fä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11326 
–t
->
´ev
 = 
fä“li¡_
[
th»adid
];

11327 
–t
->
Ãxt
 = 
NULL
;

11328 
fä“li¡_
[
th»adid
] = 
–t
;

11330 ià(
q
)

11332 
q
->
Ãxt
 = 
–t
;

11333 
–t
->
´ev
 = 
q
;

11334 
–t
->
Ãxt
 = 
p
;

11335 
p
->
´ev
 = 
–t
;

11339 
–t
->
Ãxt
 = 
fä“li¡_h—d
[
th»adid
];

11340 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11341 
–t
->
´ev
 = 
NULL
;

11342 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11347 
–t
->
Ãxt
 = 
NULL
;

11348 
–t
->
´ev
 = 
NULL
;

11349 
fä“li¡_
[
th»adid
] = 
–t
;

11350 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11352 
äegfe_ş
[
th»adid
]--;

11353 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11354 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11359 
	`»cF»eRegLi¡
 (
th»adid
)

11361 
li¡–t
 *
p
;

11362 
li¡–t
 *
‹mp
;

11363 
couÁ
 = 0;

11364 
i
;

11366 
p
 = 
iä“li¡_h—d
[
th»adid
];

11367 ià(
p
)

11369 
couÁ
++;

11370 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11372 
couÁ
++;

11373 
‹mp
 = 
p
;

11374 
p
 =…->
Ãxt
;

11375 
	`ä“
 (
‹mp
);

11379 
p
 = 
fä“li¡_h—d
[
th»adid
];

11380 ià(
p
)

11382 
couÁ
++;

11383 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11385 
couÁ
++;

11386 
‹mp
 = 
p
;

11387 
p
 =…->
Ãxt
;

11388 
	`ä“
 (
‹mp
);

11392 
	`»g_š™
 (
th»adid
);

11396 
	`numF»eReg
 (
th»adid
)

11398 
li¡–t
 *
p
;

11399 
couÁ
 = 0;

11401 
p
 = 
iä“li¡_h—d
[
th»adid
];

11402 ià(
p
)

11404 
couÁ
++;

11405 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11407 
couÁ
++;

11408 
p
 =…->
Ãxt
;

11412 
p
 = 
fä“li¡_h—d
[
th»adid
];

11413 ià(
p
)

11415 
couÁ
++;

11416 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11418 
couÁ
++;

11419 
p
 =…->
Ãxt
;

11422  
couÁ
;

11427 
	`cİy_to
 (
th»adid
)

11429 
i
;

11431 
cÚ‹xt
 *
cu¼’t
;

11433 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11435 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11437 
cu¼’t
->
Éİm­_chk
[
i
] = cu¼’t->
Éİm­
[i];

11439 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11441 ià(
cu¼’t
->
±Şm­
[
i
].
th»adid
 ==hreadid)

11443 
cu¼’t
->
±Şm­_chk
[
i
].
Ìeg
 = cu¼’t->
±Şm­
[i].lreg;

11444 
cu¼’t
->
±Şm­_chk
[
i
].
th»adid
 = cu¼’t->
±Şm­
[i].threadid;

11451 
	`cİy_äom
 (
th»adid
)

11453 
i
;

11455 
cÚ‹xt
 *
cu¼’t
;

11457 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11459 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11461 
cu¼’t
->
Éİm­
[
i
] = cu¼’t->
Éİm­_chk
[i];

11467 
	`b´ed_š™
 (
i
)

11470 ià(
ruu_b¿nch_³ÇÉy
 < 1)

11471 
	`çl
 ("mis-prediction…enalty must be‡t†east 1 cycle");

11473 ià(
ãtch_¥“d
 != 1)

11474 
	`çl
 ("front-end speed must be 1 for SMT version of simulator");

11476 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

11478 ià(
bimod_ÃÉ
 != 1)

11479 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11480 ià(
btb_ÃÉ
 != 2)

11481 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11482 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

11483  
bimod_cÚfig
[0],

11489  
btb_cÚfig
[0],

11490  
btb_cÚfig
[1],

11491  
¿s_size
);

11493 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

11496 ià(
twŞev_ÃÉ
 != 4)

11497 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11498 ià(
btb_ÃÉ
 != 2)

11499 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11501 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

11503  
twŞev_cÚfig
[0],

11504  
twŞev_cÚfig
[1],

11506  
twŞev_cÚfig
[2],

11507  
twŞev_cÚfig
[3],

11508  
btb_cÚfig
[0],

11509  
btb_cÚfig
[1],

11510  
¿s_size
);

11512 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

11515 ià(
twŞev_ÃÉ
 != 4)

11516 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11517 ià(
bimod_ÃÉ
 != 1)

11518 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11519 ià(
comb_ÃÉ
 != 1)

11520 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

11521 ià(
btb_ÃÉ
 != 2)

11522 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11524 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

11525  
bimod_cÚfig
[0],

11526  
twŞev_cÚfig
[0],

11527  
twŞev_cÚfig
[1],

11528  
comb_cÚfig
[0],

11529  
twŞev_cÚfig
[2],

11530  
twŞev_cÚfig
[3],

11531  
btb_cÚfig
[0],

11532  
btb_cÚfig
[1],

11533  
¿s_size
);

11536 ià(!
b´ed_¥ec_İt
)

11537 
b´ed_¥ec_upd©e
 = 
¥ec_CT
;

11538 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "ID"))

11539 
b´ed_¥ec_upd©e
 = 
¥ec_ID
;

11540 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "WB"))

11541 
b´ed_¥ec_upd©e
 = 
¥ec_WB
;

11543 
	`çl
 ("bad speculative update stage specifier, use {ID|WB}");

11545 
	`b´ed_»g_¡©s
 (
thecÚ‹xts
[
i
]->
´ed
, 
sim_sdb
, i);

11550 
	`»g_š™
 (
th»adid
)

11552 
i
;

11554 
cÚ‹xt
 *
cu¼’t
;

11556 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11558 
iä“li¡_h—d
[
th»adid
] = 
NULL
;

11559 
iä“li¡_
[
th»adid
] = 
NULL
;

11560 
fä“li¡_h—d
[
th»adid
] = 
NULL
;

11561 
fä“li¡_
[
th»adid
] = 
NULL
;

11563 #ifdeà 
REMOVE_REG_COUNT


11566 
œegfe
 = 
IPREG_size
;

11567 
äegfe
 = 
FPREG_size
;

11569 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11571 
	`ä“li¡_š£¹
 (
i
, 
th»adid
);

11572 
cu¼’t
->
±Şm­
[
i
].
Ìeg
 = 0;

11573 
cu¼’t
->
±Şm­
[
i
].
th»adid
 = -1;

11575 
œegfe_ş
[
th»adid
] = 0;

11576 
äegfe_ş
[
th»adid
] = 0;

11577 #iâdeà 
NO_REG_INIT


11579 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11580 
i
 = 0; i < 63; i++)

11582 
cu¼’t
->
Éİm­
[
i
] = 
	`g‘_ä“_»g
 (i, 
th»adid
);

11584 
i
 = 63; i < 
MD_TOTAL_REGS
; i++)

11585 
cu¼’t
->
Éİm­
[
i
] = 0;

11592 
	`»g_couÁ
 ()

11595 
œegfe
 = 0;

11596 
äegfe
 = 0;

11597 
i
, 
j
;

11598 
cÚ‹xt
 *
cu¼’t
;

11600 
j
 = 0; j < 
numcÚ‹xts
; j++)

11602 
cu¼’t
 = 
thecÚ‹xts
[
j
];

11603 
i
 = 1; i < 
p_tÙ®_»gs
; i++)

11605 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 0è&& (cu¼’t->±Şm­[i].Ìeg < 32è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11607 
œegfe
++;

11609 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 31è&& (cu¼’t->±Şm­[i].Ìeg < 63è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11611 
äegfe
++;

11615 ià(
œegfe
 < 31)

11616 
	`·nic
 ("phys iregfile†esshan 31");

11617 ià(
äegfe
 < 31)

11618 
	`·nic
 ("phys fregfile†esshan 31");

11623 
	`š™P¬®ËlSimuÏtiÚ
 ()

11625 
út
, 
cx
, 
j
;

11626 
x
, 
y
, 
z
, 
max
;

11628 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

11629 
thecÚ‹xts
[
út
]->
¡¬t_cyşe
 = 
sim_cyşe
;

11631 
cx
 = 0; cx < 
numcÚ‹xts
; cx++)

11633 
thecÚ‹xts
[
cx
]->
ãtch_num
 = 0;

11634 
thecÚ‹xts
[
cx
]->
ãtch_
 =hecÚ‹xts[cx]->
ãtch_h—d
 = 0;

11635 
thecÚ‹xts
[
cx
]->
ãtch_´ed_PC
 =hecÚ‹xts[cx]->
ãtch_»gs_PC
 =hecÚ‹xts[cx]->
»gs
.
»gs_NPC
;

11636 
cŞËùStStİ
[
cx
] = 0;

11637 
thecÚ‹xts
[
cx
]->
sim_num_š¢
 = 0;

11639 
cŞËùStB¬r›r
 = 0;

11640 
®lFÜked
 = 1;

11687 
	`checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
)

11690 
RUU_¡©iÚ
 *
rs
 = &
cu¼’t
->
LSQ
[
i
];

11691 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

11693 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
)

11697 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

11699 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
è&& (
	`STORE_ADDR_READY
 (&cu¼’t->LSQ[i])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->threadid))

11701 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

11702 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

11703 
md_addr_t
 
qwAddr1
 = 
rs
->
addr
 & ~(
nW
 - 1);

11704 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

11706 ià(
qwAddr1
 =ğ
qwAddr2
)

11708 ià(
cu¼’t
->
LSQ
[
i
].
issued
)

11714 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

11724 
	`£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
)

11726 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11727 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
, 
j
, 
¡ÜeCouÁ
 = 
m_L1WBufCÁ
[
th»adid
];

11728 
wb_mem_’t
 *
lšk
;

11730 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

11731 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

11732 
shiá_right
 = 0;

11735 
£qCÚsR•Ïy
[
cu¼’t
->
aùu®id
]++;

11737 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

11738 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

11739 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

11740 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

11742 ià(!
cu¼’t
->
RUU_num
)

11743 
	`·nic
 ("empty RUU");

11745 
RUU_šdex
 !ğ
»¶ay_šdex
)

11748 ià(!
‹mp_RUU_num
)

11749 
	`·nic
 ("empty RUU");

11752 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

11754 ià(
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& 
F_STORE
)

11756 
width
 = 
	`G‘MemAccWidth
(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

11758 ià((
width
 & (width - 1)è=ğ0 && (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & (width - 1)è=ğ0 && !cu¼’t->LSQ[LSQ_šdex].
isP»ãtch
)

11759 
¡ÜeCouÁ
++;

11761 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

11762 
‹mp_LSQ_num
--;

11764 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11765 
‹mp_RUU_num
--;

11768 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

11771 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

11773 
cu¼’t
->
iissueq_thrd
--;

11774 
iissueq
--;

11775 
iissueq_ş
[
cu¼’t
->
id
]--;

11776 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

11778 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

11780 
cu¼’t
->
fissueq_thrd
--;

11781 
fissueq
--;

11782 
fissueq_ş
[
cu¼’t
->
id
]--;

11783 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

11786 
cu¼’t
->
sim_num_š¢
--;

11787 
sim_num_š¢
--;

11788 
£qCÚsIn¢R•Ïy
[
cu¼’t
->
aùu®id
]++;

11790 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

11792 ià(!
‹mp_LSQ_num
)

11793 
	`·nic
 ("RUU‡nd LSQ out of sync");

11795 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

11797 
cu¼’t
->
iissueq_thrd
--;

11798 
iissueq
--;

11799 
iissueq_ş
[
cu¼’t
->
id
]--;

11800 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

11802 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

11804 
cu¼’t
->
fissueq_thrd
--;

11805 
fissueq
--;

11806 
fissueq_ş
[
cu¼’t
->
id
]--;

11807 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

11810 
i
 = 0; i < 
MAX_ODEPS
; i++)

11812 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

11813 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

11816 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
 || cu¼’t->LSQ[LSQ_šdex].İ =ğ
STQ_C
)

11818 
cu¼’t
->
wa™FÜSTLC
 = 0;

11820 #ifdeà
DIRECTORY


11821 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

11822 if(
m©chnum
)

11824 
m©chnum
 = matchnum-1;

11825 
RUU_¡©iÚ
 *
rs_rob
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

11826 
RUU_¡©iÚ
 *
rs_lsq
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

11828 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
rs
 =ğ
rs_rob
 || cache_dl1[th»adid]->mshr->mshrEÁry[m©chnum].r =ğ
rs_lsq
)

11829 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
ev’t
->
rs
 = 
NULL
;

11831 
RS_li¡
 *
cur
 = 
rs_ÿche_li¡
[
th»adid
][
m©chnum
];

11833 
cur
)

11835 if(
cur
->
rs
 =ğ
rs_rob
 || cur->r =ğ
rs_lsq
)

11836 
cur
->
rs
 = 
NULL
;

11837 
cur
 = cur->
Ãxt
;

11841 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

11842 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

11843 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

11844 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

11845 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

11847 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

11848 
cu¼’t
->
m_shLQNum
--;

11850 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

11852 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

11853 
cu¼’t
->
m_shSQNum
--;

11856 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

11857 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

11858 
cu¼’t
->
LSQ_num
--;

11859 
‹mp_LSQ_num
--;

11864 
i
 = 0; i < 
MAX_ODEPS
; i++)

11866 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

11867 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

11869 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

11870 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

11871 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

11872 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

11873 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11874 
cu¼’t
->
RUU_num
--;

11876 
cu¼’t
->
RUU_
 = 
»¶ay_šdex
;

11879 
lšk
 = 
cu¼’t
->
WBbËTa
;

11881 ià(
lšk
 =ğ
NULL
 || 
¡ÜeCouÁ
 == 0)

11883 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
 = 
NULL
;

11884 ià(
lšk
 !ğ
NULL
)

11886 
lšk
 !ğ
NULL
)

11888 
cu¼’t
->
numOfWBEÁry
--;

11889 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

11890 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

11891 
lšk
 =†šk->
´ev
;

11892 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

11898 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
;

11899 
¡ÜeCouÁ
--;

11900 
¡ÜeCouÁ
)

11902 
cu¼’t
->
WBbËH—d
 = cu¼’t->WBbËH—d->
´ev
;

11903 
¡ÜeCouÁ
--;

11905 
lšk
 = 
cu¼’t
->
WBbËH—d
->
´ev
;

11906 
cu¼’t
->
WBbËH—d
->
´ev
 = 
NULL
;

11908 
lšk
 !ğ
NULL
)

11910 
cu¼’t
->
numOfWBEÁry
--;

11911 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

11912 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

11913 
lšk
 =†šk->
´ev
;

11914 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

11918 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11920 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

11921 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 
sim_cyşe
;

11924 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

11925 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

11928 
md_İcode
 
İ
;

11930 
j
 = 
cu¼’t
->
ãtch_num
;

11931 
i
 = 
cu¼’t
->
ãtch_h—d
; 
j
 > 0;)

11933 
	`MD_SET_OPCODE
 (
İ
, 
cu¼’t
->
ãtch_d©a
[
i
]->
IR
);

11934 
i
 = (˜+ 1è& (
ruu_ifq_size
 - 1);

11935 
j
--;

11937 
cu¼’t
->
ãtch_num
 = 0;

11938 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

11939 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

11947 
	`fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
)

11950 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11951 
RUU_¡©iÚ
 *
rs
;

11952 
i
, 
RUU_šdex
;

11954 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

11956 
RUU_šdex
 !ğ
»¶ay_šdex
)

11958 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11961 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

11963 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
»cov”_š¡
 && !cu¼’t->RUU[RUU_šdex].
com¶‘ed
)

11965 
rs
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

11966 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

11967 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

11968 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

11971 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

11975 #ifdeà
SMD_USE_WRITE_BUF


11978 
	`ruu_»Ëa£_wr™ebufãr
 ()

11980 
th»adid
, 
i
, 
út
, 
j
;

11982 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11984 
j
 = 
m_L1WBufCÁ
[
th»adid
];

11985 
út
 = 0;

11986 
i
 = 
m_L1WBuf_h—d
[
th»adid
];

11988 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

11989 
	`·nic
 ("Head‡ndail…ointer messed up\n");

11991 
út
 !ğ
j
)

11993 ià(
sim_cyşe
 >ğ
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 && m_L1WBuf[th»adid][i].
wr™eS¹ed
)

11995 if(
m_L1WBuf
[
th»adid
][
i
].
isMiss
 && 
	`MSHR_block_check
(
ÿche_dl1
[th»adid]->
mshr
, m_L1WBuf[th»adid][i].
addr
, cache_dl1[th»adid]->
£t_shiá
))

11997 if(!
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
)

11998 
	`com¶‘eStÜe
(
th»adid
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
	`G‘MemAccWidth
(m_L1WBuf[th»adid][i].
İ
), 0);

12000 
m_L1WBufCÁ
[
th»adid
]--;

12001 
m_L1WBuf_h—d
[
th»adid
] = (m_L1WBuf_h—d[th»adid] + 1è% 
SMD_L1_WBUF_SIZE
;

12002 
i
 = (˜+ 1è% 
SMD_L1_WBUF_SIZE
;

12003 
út
++;

12009 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

12010 
	`·nic
 ("Head‡ndail…ointer messed up\n");

12015 
	`ruu_wr™e_äom_Wr™ebufãr
 ()

12017 
th»adid
, 
i
, 
út
;

12018 
»s_‹m¶©e
 *
fu
;

12019 
Ït
 = 0;

12020 
cÚ‹xt
 *
cu¼’t
;

12022 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12024 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12026 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

12027 
	`·nic
 ("Head‡ndail…ointer messed up\n");

12029 
út
 = 0, 
i
 = 
m_L1WBuf_h—d
[
th»adid
]; cÁ < 
m_L1WBufCÁ
[th»adid]; cÁ++, i = (˜+ 1è% 
SMD_L1_WBUF_SIZE
)

12031 
Ït
 = 0;

12033 ià(!
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
)

12035 #ifdef 
DCACHE_MSHR


12036 
m©chnum
;

12037 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

12038 if(
m©chnum
)

12040 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

12044 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
m_L1WBuf
[
th»adid
][
i
].
İ
),hreadid);

12046 ià(
fu


12047 #ifdef 
DCACHE_MSHR


12048 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid)

12052 ià(
fu
->
ma¡”
->
busy
)

12053 
	`·nic
 ("functional unit‡lready in use");

12055 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

12056 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

12057 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

12059 ià(
ÿche_dl1
[
th»adid
])

12061 
dÿche_acûss
++;

12062 
cu¼’t
->
dÿche_acûss
++;

12064 
šv®id©eOth”Cache
 = 0;

12066 ià(
COHERENT_CACHE
 && 
®lFÜked
)

12068 if(
m_L1WBuf
[
th»adid
][
i
].
İ
 =ğ
STL_C
 && m_L1WBuf[th»adid][i].
comm™DÚe
)

12070 
Ït
 = 
ÿche_dl1_Ït
;

12074 if(
	`md_v®id_addr
 (
m_L1WBuf
[
th»adid
][
i
].
addr
, 
cu¼’t
->
ma¡”id
))

12075 #ifdeà
DIRECTORY


12076 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid);

12078 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL,hreadid);

12082 #ifdef 
DCACHE_MSHR


12083 if(
Ït
 > 
ÿche_dl1_Ït
)

12085 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
Ït
, 0, 
NULL
);

12086 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 1;

12088 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 
sim_cyşe
;

12091 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 1;

12102 #ifdef 
EDA


12104 
	`assignFlßtRegs
 (
cÚ‹xt
 * 
cu¼’t
, 
RUU_¡©iÚ
 *
rs
, 
AÜB
, 
dœty
)

12106 
md_İcode
 
İ
;

12107 
x
;

12108 
md_š¡_t
 
š¡
;

12110 
İ
 = 
rs
->op;

12111 
š¡
 = 
rs
->
IR
;

12113 ià(
AÜB
 == 2)

12115 
İ
)

12117 
ITOFS
:

12118 
ITOFT
:

12119 
CVTTQ
:

12120 
CVTLQ
:

12121 
CPYS
:

12122 
CPYSN
:

12123 
CPYSE
:

12124 
CVTQL
:

12125 ià(
dœty
)

12126 
	`SET_FPR_Q
 (
RC
, 
rs
->
poisÚ
[2].
d©a
);

12128 
	`SET_FPR_Q
 (
RC
, 
rs
->
v®_rc
);

12131 ià(
dœty
)

12132 
	`SET_FPR
 (
RC
, 
rs
->
poisÚ
[2].
d©a
);

12134 
	`SET_FPR
 (
RC
, 
rs
->
v®_rc
);

12140 ià(
AÜB
)

12142 
x
 = 
RB
;

12146 
x
 = 
RA
;

12149 
İ
)

12151 
LDS
:

12152 
LDT
:

12153 
MF_FPCR
:

12155 
STS
:

12156 
STT
:

12157 
ITOFS
:

12158 
ITOFT
:

12159 
CMPTUN
:

12160 
CMPTEQ
:

12161 
CVTQS
:

12162 
CVTQT
:

12163 
CVTLQ
:

12164 
CVTQL
:

12165 
CPYS
:

12166 
CPYSN
:

12167 
CPYSE
:

12168 
MT_FPCR
:

12169 
FTOIT
:

12170 
FTOIS
:

12171 ià(
dœty
)

12173 ià(
AÜB
)

12174 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12176 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12180 ià(
AÜB
)

12181 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_rb
);

12183 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_¿
);

12186 
FCMOVEQ
:

12187 
FCMOVGE
:

12188 
FCMOVGT
:

12189 
FCMOVLE
:

12190 
FCMOVLT
:

12191 
FCMOVNE
:

12192 ià(
dœty
)

12194 ià(
AÜB
)

12195 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12197 
	`SET_FPR_Q
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12201 ià(
AÜB
)

12202 
	`SET_FPR
 (
x
, 
rs
->
v®_rb
);

12204 
	`SET_FPR_Q
 (
x
, 
rs
->
v®_¿
);

12208 ià(
dœty
)

12210 ià(
AÜB
)

12211 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[1].
d©a
);

12213 
	`SET_FPR
 (
x
, 
rs
->
poisÚ
[0].
d©a
);

12217 ià(
AÜB
)

12218 
	`SET_FPR
 (
x
, 
rs
->
v®_rb
);

12220 
	`SET_FPR
 (
x
, 
rs
->
v®_¿
);

12228 
	`ÿlcuÏ‹WrÚgV®ue
 (
RUU_¡©iÚ
 *
rs
)

12230 
i
, 
j
, 
k
, 
x
, 
y
, 
z
;

12231 
n_di¥©ched
;

12232 
md_š¡_t
 
š¡
;

12233 
md_İcode
 
İ
;

12234 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

12235 
md_addr_t
 
rg‘_PC
;

12236 
md_addr_t
 
addr
;

12238 
by‹_t
 
‹mp_by‹
;

12239 
h®f_t
 
‹mp_h®f
;

12240 
wÜd_t
 
‹mp_wÜd
;

12242 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12243 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12245 
md_çuÉ_ty³
 
çuÉ
;

12247 
pŞlu‹d
[66];

12249 
qwÜd_t
 
v®_¿
, 
v®_rb
, 
v®_rc
, 
v®_¿_»suÉ
;

12250 
qwÜd_t
 
»gV®
;

12251 
cÚ‹xt
 *
cu¼’t
, 
ùx
;

12252 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

12254 
ùx
 = *
thecÚ‹xts
[
rs
->
th»adid
];

12255 
cu¼’t
 = &
ùx
;

12256 
	`mem£t
 (&
cu¼’t
->
»gs
, 0,  (current->regs));

12259 
š¡
 = 
rs
->
IR
;

12260 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12261 
cu¼’t
->
»gs
.
»gs_PC
 = 
rs
->
PC
;

12262 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

12264 ià(!
rs
->
poisÚ
[0].
dœty
)

12266 ià(
rs
->
š1
 < 32)

12267 
	`SET_GPR
 (31 - 
rs
->
š1
,„s->
v®_¿
);

12269 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 0, 0);

12273 ià(
rs
->
š1
 < 32)

12274 
	`SET_GPR
 (31 - 
rs
->
š1
,„s->
poisÚ
[0].
d©a
);

12276 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 0, 1);

12278 ià(!
rs
->
poisÚ
[1].
dœty
)

12280 ià(
rs
->
š2
 < 32)

12281 
	`SET_GPR
 (31 - 
rs
->
š2
,„s->
v®_rb
);

12283 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 1, 0);

12287 ià(
rs
->
š2
 < 32)

12288 
	`SET_GPR
 (31 - 
rs
->
š2
,„s->
poisÚ
[1].
d©a
);

12290 
	`assignFlßtRegs
 (
cu¼’t
, 
rs
, 1, 1);

12294 
İ
)

12296 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12297 
OP
: \

12299 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

12300 
out1
 = 
O1
; 
out2
 = 
O2
; \

12301 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

12302 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

12303 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

12304 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

12305 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

12306 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

12308 
	`SYMCAT
(
OP
,
_IMPL
); \

12310 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12311 
OP
: \

12313 
İ
 = 
MD_NOP_OP
; \

12315 
out1
 = 
NA
; 
out2
 = NA; \

12316 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

12319 
	#CONNECT
(
OP
è

	)

12325 
	#DECLARE_FAULT
(
FAULT
è\

	)

12327 ià(!
cu¼’t
->
¥ec_mode
) \

12328 
çuÉ
 = (
FAULT
); \

12332 
	#THREADID
 (
cu¼’t
->
id
)

	)

12333 
	~"machše.def
"

12336 
İ
 = 
MD_NOP_OP
;

12338 
out1
 = 
NA
;

12339 
out2
 = 
NA
;

12340 
š1
 = 
NA
;

12341 
š2
 = 
NA
;

12342 
š3
 = 
NA
;

12346 ià(
out1
 < 32)

12347 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

12349 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

12351 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

12352 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

12354 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

12356 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
 && !rs->
¥ec_mode
 && !rs->
isWrÚgP©h
)

12358 
rs
->
chªgeS³cMode
 = 0;

12359 ià(
rs
->
®tPC
 !ğrs->
Ãxt_PC
)

12361 ià((
cu¼’t
->
»gs
.
»gs_NPC
 =ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 =ğrs->
Ãxt_PC
))

12363 
rs
->
chªgeS³cMode
 = 1;

12366 ià((
cu¼’t
->
»gs
.
»gs_NPC
 =ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 !ğrs->
Ãxt_PC
))

12368 
rs
->
chªgeS³cMode
 = 2;

12374 ià((
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 =ğrs->
Ãxt_PC
))

12376 
rs
->
chªgeS³cMode
 = 3;

12377 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

12380 ià((
cu¼’t
->
»gs
.
»gs_NPC
 !ğ
rs
->
®tPC
è&& (rs->
´ed_PC
 !ğrs->
Ãxt_PC
))

12382 
rs
->
chªgeS³cMode
 = 4;

12383 
rs
->
®tPC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

12390 ià(
rs
->
—_comp
)

12392 
rs
->
poisÚ
[2].
dœty
 = 1;

12393 
rs
->
poisÚ
[2].
d©a
 = 
addr
;

12395 ià(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_STORE
)

12398 ià(
v®_rc
 !ğ
rs
->val_rc)

12400 
rs
->
poisÚ
[2].
dœty
 = 1;

12401 
rs
->
poisÚ
[2].
d©a
 = 
v®_rc
;

12405 
rs
->
poisÚ
[2].
dœty
 = 0;

12406 
rs
->
poisÚ
[2].
d©a
 = 0;

12408 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

12414 #ifdef 
COLLECT_STAT_STARTUP


12416 
	`f¡fwd_cŞËùSts
()

12418 
b¬r›rCouÁ
 = 0;

12419 
th»adid
;

12421 
	`´štf
("Fast-forwardingillhe collect stats system call\n");

12422 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12425 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12427 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12428 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12431 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12432 
	`·nic
 ("Fast forwardƒrror\n");

12434 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12435 
	`·nic
 ("Fast forwardƒrror\n");

12441 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12443 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12446 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12447 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12449 
md_š¡_t
 
š¡
;

12450 
md_İcode
 
İ
;

12451 
md_addr_t
 
rg‘_PC
;

12452 
md_addr_t
 
addr
;

12453 
is_wr™e
;

12454 
by‹_t
 
‹mp_by‹
;

12455 
h®f_t
 
‹mp_h®f
;

12456 
wÜd_t
 
‹mp_wÜd
;

12457 if(
cu¼’t
->
ruÂšg
 =ğ0 && 
b¬r›r_wa™šg
[
th»adid
])

12460 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12461 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12464 
md_çuÉ_ty³
 
çuÉ
;

12467 #iâdeà
PARALLEL_EMUL


12471 #ifdeà
PARALLEL_EMUL


12472 
sim_num_š¢
++;

12475 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12476 #ifdeà
TARGET_ALPHA


12477 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12481 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12482 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12483 if(
cu¼’t
->
ruÂšg
 =ğ0 && 
b¬r›r_wa™šg
[
th»adid
])

12486 
addr
 = 0;

12487 
is_wr™e
 = 
FALSE
;

12490 
çuÉ
 = 
md_çuÉ_nÚe
;

12493 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12496 
İ
)

12498 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12499 
OP
: \

12500 
	`SYMCAT
(
OP
,
_IMPL
); \

12502 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12503 
OP
: \

12504 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12505 
	#CONNECT
(
OP
)

	)

12506 #undeà
DECLARE_FAULT


12507 
	#DECLARE_FAULT
(
FAULT
è\

	)

12508 { 
çuÉ
 = (
FAULT
); ; }

12509 
	~"machše.def
"

12511 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12514 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12515 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12518 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12520 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12522 
is_wr™e
 = 
TRUE
;

12523 #iâdeà
PARALLEL_EMUL


12524 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12527 #iâdeà
PARALLEL_EMUL


12529 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12534 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12535 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12538 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12539 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12541 #iâdeà
PARALLEL_EMUL


12542 ià((
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12544 if(
cu¼’t
->
b¬r›rR—ched
 == 2)

12546 
b¬r›rCouÁ
++;

12547 
	`´štf
("Cros£dhb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12549 
cu¼’t
->
b¬r›rR—ched
 = 0;

12553 if(
cŞËù_¡©s
)

12555 
	`´štf
("Fšished fa¡-fÜw¬dšg‡ˆb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12565 
	`f¡fwd_fšeAdju¡
 ()

12567 
th»adid
;

12568 
couÁ
 = 0;

12569 
tÙ®IŒ
 = 2;

12570 
´Id
 = 0;

12571 
md_addr_t
 
‹mpPC
[3] = { 0, 0, 0 };

12573 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12576 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12578 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12579 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12582 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12583 
	`·nic
 ("Fast forwardƒrror\n");

12585 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12586 
	`·nic
 ("Fast forwardƒrror\n");

12588 if(
šk_run
)

12590 
cŞËù_¡©s
 = 1;

12595 #ifdef 
EDA


12596 
´Id
 = 0;…rId < 3;…rId++)

12599 
couÁ
 = 0;

12602 
th»adid
 = 0;th»adid < 
numcÚ‹xts
;hreadid = (threadid +‚umcontexts + 1) %‚umcontexts)

12604 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12606 ià(
cu¼’t
->
ma¡”id
 !ğ
´Id
)

12610 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12611 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12613 
couÁ”_t
 
icouÁ
 = 0;

12614 
md_š¡_t
 
š¡
;

12615 
md_İcode
 
İ
;

12616 
md_addr_t
 
rg‘_PC
;

12617 
md_addr_t
 
addr
;

12618 
is_wr™e
;

12619 
by‹_t
 
‹mp_by‹
;

12620 
h®f_t
 
‹mp_h®f
;

12621 
wÜd_t
 
‹mp_wÜd
;

12623 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12624 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12627 
md_çuÉ_ty³
 
çuÉ
;

12631 
icouÁ
++;

12633 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12634 #ifdeà
TARGET_ALPHA


12635 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12639 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12640 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12643 
addr
 = 0;

12644 
is_wr™e
 = 
FALSE
;

12647 
çuÉ
 = 
md_çuÉ_nÚe
;

12650 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12653 
İ
)

12655 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12656 
OP
: \

12657 
	`SYMCAT
(
OP
,
_IMPL
); \

12659 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12660 
OP
: \

12661 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12662 
	#CONNECT
(
OP
)

	)

12663 #undeà
DECLARE_FAULT


12664 
	#DECLARE_FAULT
(
FAULT
è\

	)

12665 { 
çuÉ
 = (
FAULT
); ; }

12666 
	~"machše.def
"

12668 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12671 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12672 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12675 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12677 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12679 
is_wr™e
 = 
TRUE
;

12680 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12683 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12687 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12688 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12691 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12692 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12694 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12697 ià(
couÁ
 =ğ0 && 
cu¼’t
->
¡¬tR—ched
)

12699 
cu¼’t
->
¡¬tR—ched
 = 0;

12701 if(
cu¼’t
->
jobThdId
 != 0)

12702 
	`·nic
 ("Can‚ot be„eached by otherhreads");

12704 
couÁ
++;

12708 if(
couÁ
 == 5)

12711 if(
couÁ
 > 0 && count < 6)

12712 
couÁ
++;

12714 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12718 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12720 if(
cu¼’t
->
b¬r›rR—ched
 =ğ2 && cu¼’t->
jobThdId
 !ğ(
THREADS_PER_JOB
-1))

12721 
	`·nic
("End of barrier„eached with wrong id");

12723 
cu¼’t
->
b¬r›rR—ched
 = 0;

12727 ià(
couÁ
 == 5)

12729 
couÁ
++;

12730 
‹mpPC
[
cu¼’t
->
ma¡”id
] = cu¼’t->
»gs
.
»gs_PC
;

12734 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12736 ià(
cu¼’t
->
jobThdId
 =ğ(
THREADS_PER_JOB
-1))

12743 
	`´štf
("Job %d synchrÚized\n", 
´Id
);

12744 
	`fæush
(
¡dout
);

	@sim-outorder.c

113 
	~"h—d”s.h
"

115 
	~"maš.h
"

116 
	~"sim-outÜd”.h
"

117 
	~"š¡Mª.h
"

122 
couÁ”_t
 
	gTÙ®B¬r›rs
 = 0;

123 
couÁ”_t
 
	gTÙ®Locks
 = 0;

124 
couÁ”_t
 
	gpu»_num_š¢
 = 0;

125 
couÁ”_t
 
	gtÙ®_num_š¢
 = 0;

126 
couÁ”_t
 
	g»Çme_acûss
 = 0;

127 
couÁ”_t
 
	giq¿m_acûss
 = 0;

128 
couÁ”_t
 
	gfq¿m_acûss
 = 0;

129 
couÁ”_t
 
	grob1_acûss
 = 0;

130 
couÁ”_t
 
	grob2_acûss
 = 0;

131 
couÁ”_t
 
	gb´ed_acûss
 = 0;

132 
couÁ”_t
 
	giwakeup_acûss
 = 0;

133 
couÁ”_t
 
	gfwakeup_acûss
 = 0;

134 
couÁ”_t
 
	gi£ËùiÚ_acûss
 = 0;

135 
couÁ”_t
 
	gf£ËùiÚ_acûss
 = 0;

136 
couÁ”_t
 
	gœegfe_acûss
 = 0;

137 
couÁ”_t
 
	gäegfe_acûss
 = 0;

139 
couÁ”_t
 
	glsq_acûss
 = 0;

140 
couÁ”_t
 
	giÿche_acûss
 = 0;

141 
couÁ”_t
 
	gdÿche_acûss
 = 0;

142 
couÁ”_t
 
	gdÿche2_acûss
 = 0;

143 
couÁ”_t
 
	giÿche2_acûss
 = 0;

145 
couÁ”_t
 
	gŸlu1_acûss
 = 0;

146 
couÁ”_t
 
	gŸlu2_acûss
 = 0;

147 
couÁ”_t
 
	gçlu1_acûss
 = 0;

148 
couÁ”_t
 
	gçlu2_acûss
 = 0;

149 
couÁ”_t
 
	gœesuÉbus_acûss
 = 0;

150 
couÁ”_t
 
	gäesuÉbus_acûss
 = 0;

151 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

152 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

158 
	gpcb_blk_couÁ
 = 0;

160 
	gæ_couÁ
;

161 
	gæ_couÁ
 = 0;

163 
couÁ”_t
 
	g¦“pCouÁ
[
MAXTHREADS
];

167 
couÁ”_t
 
	gdu¶iÿtiÚ_acûss
, 
	gDUPLICATION_acûss
[
CLUSTERS
], 
	gdu¶iÿtiÚ_tÙ®
 = 0;

168 
couÁ”_t
 
	gcom·»_acûss
, 
	gCOMPARE_acûss
[
CLUSTERS
], 
	gcom·»_tÙ®
 = 0;

172 
couÁ”_t
 
´ediù_comm™
 (
RUU_¡©iÚ
 *
rs
);

175 
	gb´ed_btb_u£_ma¡”id
 = 0;

176 
šk_run
;

177 
em3d_run
;

179 #ifdeà
POPNET


180 
mašPİÃt
(
¬¿y_size
);

181 
pİÃtMsgCom¶‘e
(
w
, 
x
, 
y
, 
z
, 
¡Time
, 
msgNo
);

182 
pİÃtBufãrS·û
(
s1
, 
s2
, 
İt
);

183 
pİÃt_İtiÚs
(
İt_odb_t
 *
odb
);

185 
couÁ”_t
 
pİÃtMsgNo
;

186 
	gmshr_³ndšg_ev’t
[
MAXTHREADS
];

188 
couÁ”_t
 
	g§me_L1_L2_fifo_fuÎ
;

189 
couÁ”_t
 
	gL1_mshr_fuÎ
;

190 
couÁ”_t
 
	gÏ¡_L1_mshr_fuÎ
[
MAXTHREADS
];

191 
couÁ”_t
 
	gL2_mshr_fuÎ
;

192 
couÁ”_t
 
	gÏ¡_L2_mshr_fuÎ
;

193 
couÁ”_t
 
	gL2_mshr_fuÎ_´eãtch
;

194 
couÁ”_t
 
	gL1_fifo_fuÎ
;

195 
couÁ”_t
 
	gÏ¡_L1_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

196 
couÁ”_t
 
	gDœ_fifo_fuÎ
;

197 
couÁ”_t
 
	gÏ¡_Dœ_fifo_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

198 
couÁ”_t
 
	gIÅut_queue_fuÎ
;

199 
couÁ”_t
 
	gÏ¡_IÅut_queue_fuÎ
[
MAXTHREADS
+
MESH_SIZE
*2];

200 
couÁ”_t
 
	gOuut_queue_fuÎ
;

201 
couÁ”_t
 
	glock_fifo_fuÎ
;

202 
couÁ”_t
 
	glock_fifo_wrÚg
;

203 
couÁ”_t
 
	glock_fifo_wr™eback
;

204 
couÁ”_t
 
	glock_fifo_b’ef™
;

205 
couÁ”_t
 
	glock_ÿche_h™
;

206 
couÁ”_t
 
	glock_ÿche_miss
;

208 
couÁ”_t
 
	gSÎ_L1_mshr
;

209 
couÁ”_t
 
	gSÎ_L2_mshr
;

210 
couÁ”_t
 
	gSÎ_L1_fifo
;

211 
couÁ”_t
 
	gSÎ_dœ_fifo
;

212 
couÁ”_t
 
	gSÎ_šput_queue
;

213 
couÁ”_t
 
	gSÎ_ouut_queue
;

215 
couÁ”_t
 
	gWM_Miss
;

216 
couÁ”_t
 
	gWM_CËª
;

217 
couÁ”_t
 
	gWM_S
;

218 
couÁ”_t
 
	gWM_EM
;

219 
couÁ”_t
 
	gwr™e_sh¬ed_u£d_cÚf
;

221 
couÁ”_t
 
	gSyncIn¡CacheAcûss
;

222 
couÁ”_t
 
	gTe¡CacheAcûss
;

223 
couÁ”_t
 
	gTe¡SecCacheAcûss
;

224 
couÁ”_t
 
	gS‘CacheAcûss
;

225 
couÁ”_t
 
	gSyncLßdR—dMiss
;

226 
couÁ”_t
 
	gSyncLßdLR—dMiss
;

227 
couÁ”_t
 
	gSyncLßdH™
;

228 
couÁ”_t
 
	gSyncLßdLH™
;

229 
couÁ”_t
 
	gSyncStÜeCH™
;

230 
couÁ”_t
 
	gSyncStÜeCWr™eMiss
;

231 
couÁ”_t
 
	gSyncStÜeCWr™eUpg¿de
;

232 
couÁ”_t
 
	gSyncStÜeH™
;

233 
couÁ”_t
 
	gSyncStÜeWr™eMiss
;

234 
couÁ”_t
 
	gSyncStÜeWr™eUpg¿de
;

235 
couÁ”_t
 
	gB¬StÜeWr™eMiss
;

236 
couÁ”_t
 
	gB¬StÜeWr™eUpg¿de
;

237 
couÁ”_t
 
	gSync_L2_miss
;

240 
couÁ”_t
 
Çck_couÁ”
, 
L1_æ_couÁ”
, 
æ_couÁ”
, 
e_to_m
;

241 
couÁ”_t
 
nÜm®_Çcks
, 
wr™e_Çcks
, 
´eãtch_Çcks
, 
sync_Çcks
;

242 
couÁ”_t
 
¡Üe_cÚd™iÚ®_çed
;

243 
couÁ”_t
 
	gtÙ®MeshHİCouÁ
, 
	gtÙ®MeshHİD–ay
, 
	gtÙ®Ev’tCouÁ
, 
	gtÙ®Ev’tProûssTime
;

244 
couÁ”_t
 
	gtÙ®MeshNÜHİCouÁ
, 
	gtÙ®MeshNÜHİD–ay
, 
	gtÙ®MeshSyncHİCouÁ
, 
	gtÙ®MeshSyncHİD–ay
;

245 
couÁ”_t
 
	gtÙ®O±HİCouÁ
, 
	gtÙ®O±HİD–ay
, 
	gtÙ®O±NÜHİCouÁ
, 
	gtÙ®O±NÜHİD–ay
, 
	gtÙ®O±SyncHİCouÁ
, 
	gtÙ®O±SyncHİD–ay
;

246 
couÁ”_t
 
	glßd_lšk_sh¬ed
, 
	glßd_lšk_exşusive
;

247 
tick_t
 
tÙ®misshªdËtime
;

248 
couÁ”_t
 
L1_´eãtch_u£fuÎ
;

249 
couÁ”_t
 
L1_´eãtch_wr™—á”
;

252 
couÁ”_t
 
	g»¶aû_hi¡Üy_d•th
;

253 
couÁ”_t
 
	gcoh”’û_hi¡Üy_d•th
;

254 
couÁ”_t
 
	g´eãtch_»¶aû_hi¡Üy_d•th
;

256 
couÁ”_t
 
tÙ®_L2_MEM_L2P»ãtch_Req
;

257 
couÁ”_t
 
tÙ®_L2_MEM_D©a_Miss_Req
;

258 
couÁ”_t
 
tÙ®_L2_MEM_In¡_Miss_Req
;

259 
couÁ”_t
 
tÙ®_MEM_L2_D©a_Paylßd
;

260 
couÁ”_t
 
tÙ®_MEM_L2_In¡_Paylßd
;

261 
couÁ”_t
 
tÙ®_L2_MEM_D©a_Paylßd
;

262 
couÁ”_t
 
tÙ®_L1_L2_In¡_Miss_Req
;

263 
couÁ”_t
 
tÙ®_L2_L1_In¡_Paylßd
;

264 
couÁ”_t
 
tÙ®_L1_L2_D©a_R—d_Miss_Req
;

265 
couÁ”_t
 
tÙ®_L2_L1_D©a_R—d_Miss_Paylßd
;

266 
couÁ”_t
 
tÙ®_L2_L1_D©a_R—d_Inv®id
;

267 
couÁ”_t
 
tÙ®_L1_L2_D©a_R—d_Inv®id_Ack
;

268 
couÁ”_t
 
tÙ®_L1_L2_D©a_R—d_Inv®id_Paylßd
;

269 
couÁ”_t
 
tÙ®_L1_L2_D©a_Wr™e_Miss_Req
;

270 
couÁ”_t
 
tÙ®_L2_L1_D©a_Wr™e_Miss_Paylßd
;

271 
couÁ”_t
 
tÙ®_L2_L1_D©a_L2»¶aûd_Inv®id
;

272 
couÁ”_t
 
tÙ®_L2_L1_D©a_Wr™e_Inv®id
;

273 
couÁ”_t
 
tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Ack
;

274 
couÁ”_t
 
tÙ®_L1_L2_D©a_Wr™e_Inv®id_Ack
;

275 
couÁ”_t
 
tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Paylßd
;

276 
couÁ”_t
 
tÙ®_L1_L2_D©a_Wr™e_Inv®id_Paylßd
;

277 
couÁ”_t
 
tÙ®_L1_L2_D©a_Wr™e_Upd©e
;

278 
couÁ”_t
 
tÙ®_L2_L1_D©a_Wr™e_Upd©e_Ack
;

279 
couÁ”_t
 
tÙ®_L1_L2_D©a_Wr™eback_Paylßd
;

280 
couÁ”_t
 
tÙ®_L2_L1_D©a_V”ify_Ack
;

281 
couÁ”_t
 
tÙ®_L2_L1_D©a_V”ify_PÏylßd
;

282 
couÁ”_t
 
tÙ®_L2_L1_D©a_P»ãtch_PÏylßd_PPP
;

283 
couÁ”_t
 
tÙ®_L1_L2_R—d_V”ify_Req
;

284 
couÁ”_t
 
tÙ®_L1_L2_Wr™e_V”ify_Req
;

285 
couÁ”_t
 
tÙ®_L1_L2_shr_b_miss_Req
;

286 
couÁ”_t
 
tÙ®_L1_L2_shr_b_wr™e_back_Req
;

287 
couÁ”_t
 
tÙ®_L1_L2_shr_b_¤_»cov”y_Req
;

288 
couÁ”_t
 
tÙ®_L1_L2_shr_b_upd©e_´_ack_Req
;

289 
couÁ”_t
 
tÙ®_L1_L2_shr_b_upd©e_pw_ack_Req
;

290 
couÁ”_t
 
tÙ®_L1_L2_shr_b_»cov”y_ack_Req
;

291 
couÁ”_t
 
tÙ®_L1_L2_dœ_b_»fl_Req
;

292 
couÁ”_t
 
tÙ®_L1_L2_dœ_b_upd©e_Req
;

293 
couÁ”_t
 
tÙ®_L1_L2_dœ_b_»cov”y_Req
;

294 
couÁ”_t
 
tÙ®_L2_L1_dœ_shr_»ad
;

295 
couÁ”_t
 
tÙ®_L1_L2_ack_shr_»ad
;

296 
couÁ”_t
 
tÙ®_L1_L2_šfÜm_back
;

297 
couÁ”_t
 
tÙ®_TSHR_FuÎ
;

299 
couÁ”_t
 
	gL1_miss_bË_size
;

300 
couÁ”_t
 
	gL1_¡»am_’Œ›s
;

301 
couÁ”_t
 
	gL2_miss_bË_size
;

302 
couÁ”_t
 
	gL2_¡»am_’Œ›s
;

303 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_num
;

304 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_num
;

305 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_num
;

306 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_num
;

307 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_FPP_num
;

308 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_FPP_S_M_num
;

309 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_FPP_G_D_num
;

310 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_FPP_G_T_num
;

311 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_num
;

312 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_S_M_num
;

313 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_G_D_num
;

314 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_G_T_num
;

315 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_num
;

316 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_S_M_num
;

317 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_G_D_num
;

318 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_v”ifiÿtiÚ_G_T_num
;

319 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_num
;

320 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_S_M_num
;

321 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_G_D_num
;

322 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_fŞlow_G_T_num
;

323 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_num
;

324 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_S_M_num
;

325 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_G_D_num
;

326 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_sucûed_G_T_num
;

327 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_num
;

328 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_S_M_num
;

329 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_G_D_num
;

330 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_h™_PPP_ç_G_T_num
;

331 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_miss_num
;

332 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_compulsÜy_miss_num
;

333 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_ÿ·c™y_miss_num
;

334 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_coh”’û_miss_num
;

335 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_»ad_´eãtch_ÿ·c™y_miss_num
;

336 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_num
;

337 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_FPP_num
;

338 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_num
;

339 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_FPP_num
;

340 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_num
;

341 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_S_M_num
;

342 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_G_D_num
;

343 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_PPP_G_T_num
;

344 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_miss_num
;

345 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_compulsÜy_miss_num
;

346 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_ÿ·c™y_miss_num
;

347 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_coh”’û_miss_num
;

348 
couÁ”_t
 
Ëv–1_d©a_ÿche_acûss_wr™e_´eãtch_ÿ·c™y_miss_num
;

350 
couÁ”_t
 
»ad_L1_miss_L2_h™_num
;

351 
couÁ”_t
 
»ad_L1_miss_L2_h™_tÙ®_time
;

352 
couÁ”_t
 
»ad_L2_miss_num
;

353 
couÁ”_t
 
»ad_L2_miss_tÙ®_time
;

354 
couÁ”_t
 
wr™e_L1_miss_L2_h™_num
;

355 
couÁ”_t
 
wr™e_L1_miss_L2_h™_tÙ®_time
;

356 
couÁ”_t
 
wr™e_L2_miss_num
;

357 
couÁ”_t
 
wr™e_L2_miss_tÙ®_time
;

360 
couÁ”_t
 
tÙ®_·ge_num
;

361 
couÁ”_t
 
´_·ge_num
;

362 
couÁ”_t
 
pw_·ge_num
;

363 
couÁ”_t
 
¤_·ge_num
;

364 
couÁ”_t
 
sw_·ge_num
;

366 
couÁ”_t
 
tÙ®_lše_num
;

367 
couÁ”_t
 
´_lše_num
;

368 
couÁ”_t
 
pw_lše_num
;

369 
couÁ”_t
 
¤_lše_num
;

370 
couÁ”_t
 
sw_lše_num
;

372 
couÁ”_t
 
	gSWP_tÙ®_lše
;

373 
couÁ”_t
 
	gSWP_sw_lše
;

374 
couÁ”_t
 
	gSWP_¤_lše
;

375 
couÁ”_t
 
	gSWP_pw_lše
;

376 
couÁ”_t
 
	gSWP_´_lše
;

378 
couÁ”_t
 
»ÿÎ_num
;

379 
couÁ”_t
 
»ÿÎ_šv_num
;

381 
couÁ”_t
 
»ad_šv_S_num
;

382 
couÁ”_t
 
»ad_šv_QH_num
;

383 
couÁ”_t
 
»ad_šv_e_QM_num
;

384 
couÁ”_t
 
»ad_šv_d_QM_num
;

387 
couÁ”_t
 
wr™e_šv_d_S_num
;

388 
couÁ”_t
 
wr™e_šv_e_S_num
;

389 
couÁ”_t
 
wr™e_šv_s_S_num
;

390 
couÁ”_t
 
wr™e_šv_i_S_num
;

392 
couÁ”_t
 
wr™e_šv_d_QM_num
;

393 
couÁ”_t
 
wr™e_šv_e_QM_num
;

394 
couÁ”_t
 
wr™e_šv_s_QM_num
;

395 
couÁ”_t
 
wr™e_šv_i_QM_num
;

397 
couÁ”_t
 
wr™e_šv_d_QH_num
;

398 
couÁ”_t
 
wr™e_šv_e_QH_num
;

399 
couÁ”_t
 
wr™e_šv_s_QH_num
;

400 
couÁ”_t
 
wr™e_šv_i_QH_num
;

402 
couÁ”_t
 
»ÿÎ_šv_d_S_num
;

403 
couÁ”_t
 
»ÿÎ_šv_e_S_num
;

404 
couÁ”_t
 
»ÿÎ_šv_s_S_num
;

405 
couÁ”_t
 
»ÿÎ_šv_i_S_num
;

407 
couÁ”_t
 
»ÿÎ_šv_d_Q_num
;

408 
couÁ”_t
 
»ÿÎ_šv_e_Q_num
;

409 
couÁ”_t
 
»ÿÎ_šv_s_Q_num
;

410 
couÁ”_t
 
»ÿÎ_šv_i_Q_num
;

412 
couÁ”_t
 
SW_»ad_»que¡_num
;

413 
couÁ”_t
 
SW_wr™e_»que¡_num
;

415 
couÁ”_t
 
»ad_S_h™_num
;

416 
couÁ”_t
 
»ad_Q_h™_num
;

417 
couÁ”_t
 
»ad_Q_š™_num
;

418 
couÁ”_t
 
»ad_Q_š™_SR_num
;

419 
couÁ”_t
 
»ad_Q_š™_QR_num
;

421 
couÁ”_t
 
wr™e_S_h™_num
;

422 
couÁ”_t
 
wr™e_Q_h™_num
;

423 
couÁ”_t
 
wr™e_S_š™_ed_num
;

424 
couÁ”_t
 
wr™e_S_š™_ed_SR_num
;

425 
couÁ”_t
 
wr™e_S_š™_ed_QR_num
;

426 
couÁ”_t
 
wr™e_S_š™_s_num
;

427 
couÁ”_t
 
wr™e_S_š™_s_SR_num
;

428 
couÁ”_t
 
wr™e_S_š™_s_QR_num
;

429 
couÁ”_t
 
wr™e_Q_š™_num
;

430 
couÁ”_t
 
wr™e_Q_š™_SR_num
;

431 
couÁ”_t
 
wr™e_Q_š™_QR_num
;

433 
couÁ”_t
 
shr_d©a_»q_š™Ÿl_num
;

434 
couÁ”_t
 
shr_d©a_»q_tÙ®_num
;

435 
couÁ”_t
 
shr_d©a_»q_ç_num
;

437 
couÁ”_t
 
šfÜm_back_num
;

438 
couÁ”_t
 
wr™e_back_num
;

439 
couÁ”_t
 
šfÜm_back_Q
;

440 
couÁ”_t
 
šfÜm_back_S
;

441 
couÁ”_t
 
wr™e_back_Q
;

442 
couÁ”_t
 
wr™e_back_S
;

443 
couÁ”_t
 
mb_·š_d–ay_num
;

444 
couÁ”_t
 
mb_·š_pÜtu£_num
;

446 
couÁ”_t
 
»ad_Q_š™_QR_s_num
;

447 
couÁ”_t
 
»ad_Q_š™_QR_ed_num
;

448 
couÁ”_t
 
wr™e_S_š™_ed_QR_s_num
;

449 
couÁ”_t
 
wr™e_S_š™_ed_QR_ed_num
;

450 
couÁ”_t
 
wr™e_S_š™_s_QR_s_num
;

451 
couÁ”_t
 
wr™e_S_š™_s_QR_ed_num
;

452 
couÁ”_t
 
wr™e_Q_š™_QR_s_num
;

453 
couÁ”_t
 
wr™e_Q_š™_QR_ed_num
;

455 
couÁ”_t
 
»ÿÎ_šv_d_Q_s_num
;

456 
couÁ”_t
 
»ÿÎ_šv_d_Q_ed_num
;

457 
couÁ”_t
 
»ÿÎ_šv_e_Q_s_num
;

458 
couÁ”_t
 
»ÿÎ_šv_e_Q_ed_num
;

459 
couÁ”_t
 
»ÿÎ_šv_s_Q_s_num
;

460 
couÁ”_t
 
»ÿÎ_šv_s_Q_ed_num
;

461 
couÁ”_t
 
»ÿÎ_šv_i_Q_s_num
;

462 
couÁ”_t
 
»ÿÎ_šv_i_Q_ed_num
;

464 
couÁ”_t
 
»ÿÎ_šv_d_Q_s_ad_num
;

465 
couÁ”_t
 
»ÿÎ_šv_e_Q_s_ad_num
;

466 
couÁ”_t
 
»ÿÎ_šv_s_Q_ed_ad_num
;

468 
couÁ”_t
 
lše_acûss_num
;

469 
couÁ”_t
 
SWP_lše_acûss_num
;

470 
couÁ”_t
 
SWP_PR_lše_acûss_num
;

471 
couÁ”_t
 
SWP_PW_lše_acûss_num
;

472 
couÁ”_t
 
SWP_SR_lše_acûss_num
;

473 
couÁ”_t
 
SWP_SW_lše_acûss_num
;

475 
couÁ”_t
 
PVC_veùÜ_di¡r_»cÜd_num
;

476 
couÁ”_t
 
PVC_veùÜ_šc_di¡r_»cÜd_num
;

477 
couÁ”_t
 
PVC_veùÜ_di¡r
[
MAX_DIRECTORY_ASSOC
+1];

478 
couÁ”_t
 
PVC_veùÜ_šc_di¡r
[
MAX_DIRECTORY_ASSOC
+1];

480 
couÁ”_t
 
PVC_exchªge_num
;

481 
couÁ”_t
 
PVC_æ_num
;

482 
couÁ”_t
 
PVC_dowm_no_šv_num
;

483 
couÁ”_t
 
PVC_dowm_šv_num
;

484 
couÁ”_t
 
PVC_dowm_šv_shr_num
;

485 
couÁ”_t
 
PVC_up_no_add_num
;

486 
couÁ”_t
 
PVC_up_add_num
;

487 
couÁ”_t
 
PVC_up_add_shr_num
;

488 
couÁ”_t
 
PVC_exch_vec_shr_di¡r
[
MAXTHREADS
+1];

489 
couÁ”_t
 
PVC_dowm_šv_shr_di¡r
[
MAXTHREADS
+1];

490 
couÁ”_t
 
PVC_up_add_shr_di¡r
[
MAXTHREADS
+1];

491 
couÁ”_t
 
PVC_šfÜm_®l_shr_num
;

492 
couÁ”_t
 
PVC_rfs_®l_shr_num
;

493 
couÁ”_t
 
PVC_»ad_®l_shr_num
;

494 
couÁ”_t
 
PVC_wr™e_®l_shr_num
;

495 
couÁ”_t
 
PVC_»ÿÎ_®l_shr_num
;

496 
couÁ”_t
 
pvc_nv_cÚæiù_num
;

498 
FILE
 *
	glše_şass
;

499 
FILE
 *
	gveùÜ_di¡r_fe
;

500 
FILE
 *
	gveùÜ_šc_di¡r_fe
;

502 
tÙ®ev’tcouÁnum
;

503 
couÁ”_t
 
tÙ®Wr™eIndiÿ‹
;

504 
couÁ”_t
 
tÙ®_exşusive_modif›d
;

505 
couÁ”_t
 
tÙ®_exşusive_cÚf
;

506 
couÁ”_t
 
tÙ®_exşusive_üoss
;

508 
couÁ”_t
 
tÙ®SyncEv’t
;

509 
couÁ”_t
 
tÙ®NÜm®Ev’t
;

510 
couÁ”_t
 
tÙ®SyncWr™eM
;

511 
couÁ”_t
 
tÙ®SyncR—dM
;

512 
couÁ”_t
 
tÙ®SyncWr™eup
;

513 
couÁ”_t
 
tÙ®mis¡imefÜNÜm®
;

514 
couÁ”_t
 
tÙ®mis¡imefÜSync
;

515 
couÁ”_t
 
tÙ®_mem_Ït
;

516 
couÁ”_t
 
tÙ®_mem_acûss
;

517 
couÁ”_t
 
tÙ®L2mis¡ime
;

518 
couÁ”_t
 
tÙ®WrÚgL2mis¡ime
;

519 
couÁ”_t
 
TÙ®L2mis£s
;

520 
tÙ®_L1_´eãtch
;

521 
couÁ”_t
 
l2_´eãtch_num
;

522 
couÁ”_t
 
wr™e_back_—¾y
;

523 
tÙ®_L1_fœ¡_´eãtch
;

524 
tÙ®_L1_£c_´eãtch
;

525 
tÙ®»qcouÁnum
;

526 
tÙ®misscouÁnum
;

527 
couÁ”_t
 
loÿl_ÿche_acûss
, 
»mÙe_ÿche_acûss
, 
loÿldœeùÜy
, 
»mÙedœeùÜy
;

528 
couÁ”_t
 
švŞve_2_hİs
, 
švŞve_2_hİ_touch
, 
švŞve_2_hİ_wb
, 
švŞve_2_hİs_wm
, 
švŞve_4_hİs_wm
, 
švŞve_2_hİs_upg¿de
, 
švŞve_4_hİs
, 
švŞve_4_hİs_miss
, 
švŞve_2_hİs_miss
, 
švŞve_4_hİs_upg¿de
;

529 
couÁ”_t
 
	gtÙ®S¶™No
, 
	gtÙ®S¶™WM
;

530 
couÁ”_t
 
d©a_´iv©e_wr™e
, 
d©a_´iv©e_»ad
, 
d©a_sh¬ed_wr™e
, 
d©a_sh¬ed_»ad
;

531 
couÁ”_t
 
tÙ®_®l_şo£
, 
tÙ®_®l_®mo¡şo£
, 
tÙ®_nÙ_®l_şo£
, 
tÙ®_p_c_ev’ts
, 
tÙ®_cÚsum”s
, 
tÙ®_·ck‘s_š_ÃighbÜ
, 
tÙ®_·ck‘s_©_cÜÃrs
;

532 
couÁ”_t
 
tÙ®_d©a_cÚsum”s
, 
tÙ®_d©a_şo£
, 
tÙ®_d©a_çr
, 
tÙ®_d©a_©_cÜÃr
;

533 
couÁ”_t
 
sh¬”_num
[
MAXTHREADS
];

534 
av”age_šside_³rûÁ
;

535 
av”age_outside_³rûÁ
;

536 
av”age_outside_abs_³rûÁ
;

537 
av”age_cÜÃr_³rûÁ
;

538 
	gmem_pÜt_Ït
[16];

539 
couÁ”_t
 
	gpÜt_accÜd
[16];

542 
	#PULL_BACK


	)

544 
	#WATER_NSQUARED
 0

	)

545 
	#LSQ_LATENCY
 4

	)

546 
	#DUP_NO
 2

	)

548 
	#BOUND_POS
(
N
è(()(
	`mš2
(
	`max2
(0, (N)), 2147483647)))

	)

549 
	#LSQSIZE
 1024

	)

550 
	#RUUSIZE
 1024

	)

553 
	#_rÙr
(
x
è(xèğ((xè& 1)?(((x)>>1)|0x80000000):((x)>>1)

	)

555 
qu›sûSŒuù
 
	gqu›sûAddrSŒuù
[
CLUSTERS
];

556 
md_addr_t
 
	gTempIn¡r
 = 0x1A2B3C4D;

557 
	gacûss_mem
 = 0;

558 
	gacûss_mem_id
 = -1;

559 
	g¡İ³d_num_th»ads
 = 0;

560 
	gR—dFromWB
 = 0;

561 
couÁ”_t
 
	gÿcheMiss
[
MAXTHREADS
], 
	gh™InOth”Cache
[MAXTHREADS];

562 
couÁ”_t
 
	gm_sqP»ãtchCÁ
 = 0;

563 
	gexecu‹MaxIn¢
;

564 
	gdl2Aùu®lyAcûs£d
, 
	gm¬kedLšeR•Ïûd
;

565 
	gqu›n£Wakeup
[
MAXTHREADS
];

566 
	gsimIn¢
[
MAXTHREADS
];

567 
	gæushImpSts
 = 0;

570 
	gth»adFÜked
[4], 
	g®lFÜked
, 
	g¡ÜeCÚdFa
, 
	gtimeToR‘uº
 = 0;

571 
couÁ”_t
 
	gStÜeCÚd™iÚFaNum
;

572 
	gcŞËùStB¬r›r
, 
	gcŞËùStStİ
[
MAXTHREADS
];

573 
	g»®SimCyşe
;

574 
	gaùu®Proûss
;

575 
	gdi§bË_¿y
 = 1;

576 
	gfu_busy
[
CLUSTERS
], 
	gwb_dÚe
[CLUSTERS], 
	gissue_dÚe
[CLUSTERS], 
	gãtch_dÚe
[CLUSTERS], 
	gcomm™_dÚe
[CLUSTERS], 
	gdi¥©ch_dÚe
[CLUSTERS];

577 
couÁ”_t
 
	gbrRecov”y
[
CLUSTERS
], 
	gexŒaIn¢
[CLUSTERS];

581 #ià 
defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

582 
	g¡®lNoBusSlÙ
;

583 
busSlÙCouÁ
;

584 
	gbusU£d
;

585 
couÁ”_t
 
	gbusOccu·ncy
 = 0;

589 #ifdeà
PULL_BACK


590 
couÁ”_t
 
	gpuÎbackBubbË
[
MAXTHREADS
], 
	gpuÎbackWa™Cyşe
[MAXTHREADS], 
	gpuÎbackDÚeThisCyşe
[MAXTHREADS], 
	gpuÎbackH™P»d
[MAXTHREADS], 
	gdl1MissThisCyşe
[MAXTHREADS], 
	gdl1H™ThisCyşe
[MAXTHREADS], 
	gpuÎbackCyşeCouÁ
[MAXTHREADS],

591 
	gpuÎbackCouÁ
[
MAXTHREADS
];

592 
couÁ”_t
 
	g´edH™H™
[
MAXTHREADS
], 
	g´edH™Miss
[MAXTHREADS], 
	g´edMissH™
[MAXTHREADS], 
	g´edMissMiss
[MAXTHREADS];

595 #ifdeà 
MSHR


596 
	gmshr_size
 = 0;

597 
	gmshr_fuÎ
 = 0;

598 
	gmshr_couÁ
;

600 #ifdeà 
MSHR_DIST


601 
	gmshr_size_di¡
[
MSHRSIZE
];

603 
	gmshr_fuÎ_couÁ
;

608 
	gm_shLQSize
;

609 
	gm_shSQSize
;

610 
couÁ”_t
 
	gm_tÙ®SÎ
[
MAXTHREADS
];

611 
couÁ”_t
 
	gm_sqLQFuÎ
[
MAXTHREADS
];

612 
couÁ”_t
 
	gm_sqSQFuÎ
[
MAXTHREADS
];

613 
couÁ”_t
 
	gm_RUUFuÎ
[
MAXTHREADS
];

614 
couÁ”_t
 
	gm_»gFuÎ
[
MAXTHREADS
];

615 
couÁ”_t
 
	gm_issueFuÎ
[
MAXTHREADS
];

616 
couÁ”_t
 
	gm_1Miss
[
MAXTHREADS
];

617 
couÁ”_t
 
	gm_ãtchEm±y
[
MAXTHREADS
];

618 
couÁ”_t
 
	gm_STLC
[
MAXTHREADS
];

619 
couÁ”_t
 
	gm_Œ­
[
MAXTHREADS
];

620 
couÁ”_t
 
	gm_LßdSÎMiss
[
MAXTHREADS
];

621 
couÁ”_t
 
	gm_StÜeSÎMiss
[
MAXTHREADS
];

622 
couÁ”_t
 
	gm_LßdSÎH™
[
MAXTHREADS
];

623 
couÁ”_t
 
	gm_StÜeSÎH™
[
MAXTHREADS
];

624 
couÁ”_t
 
	gm_LßdR—lMiss
[
MAXTHREADS
];

625 
couÁ”_t
 
	gm_StÜeR—lMiss
[
MAXTHREADS
];

626 
couÁ”_t
 
	gm_LßdR—lH™
[
MAXTHREADS
];

627 
couÁ”_t
 
	gm_StÜeR—lH™
[
MAXTHREADS
];

628 
couÁ”_t
 
	gm_LßdMiss
[
MAXTHREADS
];

629 
couÁ”_t
 
	gm_StÜeMiss
[
MAXTHREADS
];

630 
couÁ”_t
 
	gm_StÜeUpd©eMiss
[
MAXTHREADS
];

631 
couÁ”_t
 
	gm_upd©e_miss_d•’d_¡¬t
[
MAXTHREADS
];

632 
couÁ”_t
 
	gm_upd©e_miss_æag
[
MAXTHREADS
];

633 
couÁ”_t
 
	gUpd©eD•’dCyşe
;

634 vŞ©
	g´eãtch_æag
 = 1;

635 
couÁ”_t
 
m_upd©e_miss
[
MAXTHREADS
];

636 
lock_wa™šg
[
MAXTHREADS
];

637 
b¬r›r_wa™šg
[
MAXTHREADS
];

639 
couÁ”_t
 
	gm_comm™SÎ
[
MAXTHREADS
];

641 
couÁ”_t
 
	gšv®id©iÚ_»¶ay
[
MAXTHREADS
];

642 
couÁ”_t
 
	glßdLßdR•ÏyCouÁ
[
MAXTHREADS
];

643 
	gšv®id©iÚSÎ
[
MAXTHREADS
], 
	gšv®id©eOth”Cache
;

644 
	gcomm™SÎ
[
MAXTHREADS
];

646 
checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
);

647 
couÁ”_t
 
	glßdRejeùR•Ïy
[
MAXTHREADS
], 
	glßdRejeùCouÁ
[MAXTHREADS], 
	glßdRejeùSt
[MAXTHREADS], 
	gm_sqNumLdR•Ïy
[MAXTHREADS], 
	g»¶ayIndex
[MAXTHREADS];

648 
	g»jeùR‘ryCyşe
 = 3;

649 
couÁ”_t
 
	gldIssueCouÁ
, 
	gld¡RejeùiÚCouÁ
[
MAXTHREADS
];

651 
	g£qCÚsR•Ïy
[
MAXTHREADS
], 
	g£qCÚsIn¢R•Ïy
[MAXTHREADS];

652 
couÁ”_t
 
	gtÙ®RUUsize
[
MAXTHREADS
], 
	gtÙ®LQsize
[MAXTHREADS], 
	gtÙ®SQsize
[MAXTHREADS];

653 
	gavgRUUsize
[
MAXTHREADS
], 
	gavgLQsize
[MAXTHREADS], 
	gavgSQsize
[MAXTHREADS];

655 
m_maxth»ads
;

656 
numTh»ads
[
MAXTHREADS
];

657 
	gcŞËù_¡©s
 = 0;

658 
	gCOHERENT_CACHE
;

659 
	gMSI
;

660 
	g¥ec_b’chm¬ks
;

661 
couÁ”_t
 
num_of_šv®id©iÚs
;

663 
	gcŞËù_b¬r›r_¡©s
[
CLUSTERS
];

664 
	gcŞËù_b¬r›r_»Ëa£
;

666 
	gcŞËù_lock_¡©s
[
CLUSTERS
];

667 
md_addr_t
 
	gLockIn™PC
;

668 
md_addr_t
 
	gÏ¡_pc
;

669 
md_addr_t
 
	gÏ¡_Ï¡_pc
;

670 
	gä“zeCouÁ”
;

671 
	g¡İsim
;

672 
	gç¡fwd
;

674 
	g¡Üe_cÚd™iÚ®_wa™šg
[
MAXTHREADS
];

676 
	goc_Ü_cc_acûss
 = 2;

679 
	gBRANCH_Q_NUM
;

680 
	gCHECKER_NUMBER
 = 0;

681 
	gPCB_BLK_SIZE
 = 128;

682 
	gINORDER_CHECKER
 = 0;

683 
	gOUTSTANDING_STORE_NUM
 = 128;

684 
	gcheck”VDD
, 
	gcheck”F»q
;

687 
g‘_ä“_»g
 (, );

688 
comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
);

689 
com¶‘eWr™e
 ();

690 
š™P¬®ËlSimuÏtiÚ
 ();

691 
com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
);

692 
com¶‘eStÜe_l
 (
th»adid
, 
md_addr_t
 
addr
, 
width
);

694 
md_çuÉ_ty³
 
WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
);

697 
£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
);

698 
fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
);

702 
li¡–t
 *
	giä“li¡_h—d
[
MAXTHREADS
], *
	giä“li¡_
[MAXTHREADS];

703 
li¡–t
 *
	gfä“li¡_h—d
[
MAXTHREADS
], *
	gfä“li¡_
[MAXTHREADS];

719 
	ghÙ¥Ù_cyşe_§m¶šg_štvl
;

722 
	gmax_š¡s
;

723 
	gmax_b¬r›r
;

726 
	g±¿û_ÃÉ
 = 0;

727 *
	g±¿û_İts
[2];

730 
	gruu_ifq_size
;

733 
	gruu_b¿nch_³ÇÉy
;

738 
	gãtch_¥“d
;

742 *
	g´ed_ty³
;

748 *
	g´ed_ty³2
;

752 cÚ¡ 
	gcombšed2
 = 
FALSE
;

756 cÚ¡ 
	ghi¡_imm
 = 
FALSE
;

764 
	gbimod_ÃÉ
 = 1;

765 
	gbimod_cÚfig
[1] = { 2048 };

768 
	gtwŞev_ÃÉ
 = 4;

769 
	gtwŞev_cÚfig
[4] = { 1, 1024, 8, 
FALSE
 };

772 
	gcomb_ÃÉ
 = 1;

773 
	gcomb_cÚfig
[1] = { 1024 };

776 
	gtwobcgskew_ÃÉ
 = 6;

777 
	gtwobcgskew_cÚfig
[6] = { 32768, 32768, 0, 22,

784 
	gtwobcgskew_ÃÉ2
 = 6;

785 
	gtwobcgskew_cÚfig2
[6] = { 4096, 4096, 0, 12,

791 
	g¿s_size
 = 8;

794 
	gbtb_ÃÉ
 = 2;

795 
	gbtb_cÚfig
[2] = { 512, 4 };

798 
	gruu_decode_width
;

799 
	gruu_issue_width
;

803 
	gruu_šÜd”_issue
;

804 
	gLSQ_NUM_MORE_THAN_TWO
;

807 
	gruu_šşude_¥ec
 = 
TRUE
;

811 
	gruu_comm™_width
;

814 
	gRUU_size
 = 
RUUSIZE
;

817 
	gLSQ_size
 = 
LSQSIZE
;

819 
	gLSQ_size_şu¡”
;

823 *
	gÿche_dl1_İt
;

826 
	gÿche_dl1_Ït
;

829 *
	gÿche_ml2_İt
;

830 *
	gÿche_dl2_İt
;

833 
	gÿche_ml2_Ït
;

834 
	gÿche_dl2_Ït
;

836 
	gmesh_size
;

839 
	gb_c_c
;

840 
	gmuÉi_blk_£t_shiá
;

841 
	gmuÉi_blk_ad­_’
;

842 
	gmuÉi_blk_ad­_šfÜm_’
;

843 
	gmb_·š_’
;

844 
	gshr_»ad_’
;

845 
	gtÙ®_šfÜm_back_’
;

846 
	g»¶_ad_’
;

847 
	g»ÿÎ_ad_’
;

848 
	gveùÜ_num
;

849 
	gsh¬”_th»shŞd
;

850 
	gnv_brßdÿ¡
;

852 
	gL2_´eãtch_En
;

853 
	gL1_´eãtch_En
;

855 
	gSTREAM_mš_En
;

858 
	gSTREAM_L2_di¡ªû
;

859 
	gSTREAM_mš_di¡ªû
;

862 *
	gÿche_1_İt
;

865 
	gÿche_1_Ït
;

868 *
	gÿche_2_İt
;

871 
	gÿche_2_Ït
;

874 
	gæush_Ú_sysÿÎs
;

877 
	gcom´ess_iÿche_addrs
;

880 
	gmem_ÃÉ
 = 2;

881 
	gmem_Ït
[2] = { 18, 2 };

884 
	gmem_bus_width
;

885 
	gmem_bus_¥“d
;

886 
	gmem_pÜt_num
;

889 *
	g™lb_İt
;

892 *
	gdb_İt
;

895 
	gb_miss_Ït
;

898 
	gÃtwÜk_»ûiv”
;

899 
	gÃtwÜk_cÚæiù
;

902 
	g»s_Ÿlu
 = 0;

905 
	g»s_imuÉ
 = 0;

907 #ifdeà
PORT_PER_BANK


909 
	g»s_membªk
 = 0;

912 
	g»s_mem_pÜt_bªk
 = 0;

914 
	g»s_membªk_şu¡”
;

919 
	g»s_mempÜt
 = 0;

922 
	g»s_å®u
 = 0;

925 
	g»s_åmuÉ
 = 0;

928 
	g»s_Ÿlu_şu¡”
 = 0;

929 
	g»s_imuÉ_şu¡”
 = 0;

930 
	g»s_å®u_şu¡”
 = 0;

931 
	g»s_åmuÉ_şu¡”
 = 0;

934 
	gd©a_width
 = 64;

937 
pow”_»suÉ_ty³
 
pow”
;

941 
	gaùivecÚ‹xts
;

943 
	gth»ad_ãtch
 = 
THREADFETCHLIMIT
;

944 
	gš¡_th»ad_ãtch
 = 
FETCHLIMIT
;

945 
	gth»ad_comm™
 = 0;

947 
	#ICACHEBANKS
 8

	)

949 
	gibªk
 = 0;

952 
	g´iÜ™y¦Ù
 = 0;

953 
	g´iÜ™y
[
MAXTHREADS
];

956 
	gkey
[
MAXTHREADS
];

959 #ifdeà 
PWR_CLUSTER


960 
couÁ”_t
 
	giq¿m_acûss_ş
[
CLUSTERS
];

961 
couÁ”_t
 
	gfq¿m_acûss_ş
[
CLUSTERS
];

962 
couÁ”_t
 
	giwakeup_acûss_ş
[
CLUSTERS
];

963 
couÁ”_t
 
	gfwakeup_acûss_ş
[
CLUSTERS
];

964 
couÁ”_t
 
	gi£ËùiÚ_acûss_ş
[
CLUSTERS
];

965 
couÁ”_t
 
	gf£ËùiÚ_acûss_ş
[
CLUSTERS
];

966 
couÁ”_t
 
	gœegfe_acûss_ş
[
CLUSTERS
];

967 
couÁ”_t
 
	gäegfe_acûss_ş
[
CLUSTERS
];

968 
couÁ”_t
 
	gŸlu1_acûss_ş
[
CLUSTERS
];

969 
couÁ”_t
 
	gŸlu2_acûss_ş
[
CLUSTERS
];

970 
couÁ”_t
 
	gçlu1_acûss_ş
[
CLUSTERS
];

971 
couÁ”_t
 
	gçlu2_acûss_ş
[
CLUSTERS
];

972 
couÁ”_t
 
	gœesuÉbus_acûss_ş
[
CLUSTERS
];

973 
couÁ”_t
 
	gäesuÉbus_acûss_ş
[
CLUSTERS
];

976 
couÁ”_t
 
	glsq_¡Üe_d©a_acûss
 = 0;

978 #ifdeà
DE_CENTRALIZED_POWER_BUG


979 
couÁ”_t
 
	glsq_´eg_acûss_ş
[
LSQ_PARTS
];

980 
couÁ”_t
 
	glsq_wakeup_acûss_ş
[
LSQ_PARTS
];

981 
couÁ”_t
 
	glsq_acûss_ş
[
LSQ_PARTS
];

982 
	gexŒa_lsq
 = 0;

983 
	gexŒa_lsq_couÁ
 = 0;

984 
	gdi¥_¡Üe_¡®l
 = 0;

986 
couÁ”_t
 
	glsq_acûss
 = 0;

987 
couÁ”_t
 
	glsq_´eg_acûss
 = 0;

988 
couÁ”_t
 
	glsq_wakeup_acûss
 = 0;

991 #ifdeà
RES1_FULL_MASK


992 
	giq_ş_fuÎ_mask
;

993 
	gfq_ş_fuÎ_mask
;

994 
	gœeg_ş_fuÎ_mask
;

995 
	gäeg_ş_fuÎ_mask
;

996 
	g»s1_ş_thrd_mask
[
MAXTHREADS
];

999 
couÁ”_t
 
	glsq_tÙ®_pİ_couÁ_cyşe
 = 0;

1000 
couÁ”_t
 
	glsq_num_pİ_couÁ_cyşe
 = 0;

1001 
couÁ”_t
 
	gœegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

1002 
couÁ”_t
 
	gœegfe_num_pİ_couÁ_cyşe
 = 0;

1003 
couÁ”_t
 
	gäegfe_tÙ®_pİ_couÁ_cyşe
 = 0;

1004 
couÁ”_t
 
	gäegfe_num_pİ_couÁ_cyşe
 = 0;

1005 
couÁ”_t
 
	gœesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

1006 
couÁ”_t
 
	gœesuÉbus_num_pİ_couÁ_cyşe
 = 0;

1007 
couÁ”_t
 
	gäesuÉbus_tÙ®_pİ_couÁ_cyşe
 = 0;

1008 
couÁ”_t
 
	gäesuÉbus_num_pİ_couÁ_cyşe
 = 0;

1010 #ifdeà
PROCESS_MODEL


1011 
	gLa¡Sh¬edAdd»ss
;

1012 
	gLa¡Sh¬edSize
;

1017 
	#MAX_PCSTAT_VARS
 8

	)

1018 
	gpc¡©_ÃÉ
 = 0;

1019 *
	gpc¡©_v¬s
[
MAX_PCSTAT_VARS
];

1022 #ifdeà
TARGET_PISA


1023 
	#IACOMPRESS
(
A
è\

	)

1024 (
	gcom´ess_iÿche_addrs
 ? ((((
	gA
è- 
	gcu¼’t
->
	gld_‹xt_ba£
è>> 1è+ cu¼’t->ld_‹xt_ba£è: (
A
))

1025 
	#ISCOMPRESS
(
SZ
è\

	)

1026 (
com´ess_iÿche_addrs
 ? ((
SZ
) >> 1) : (SZ))

1028 
	#IACOMPRESS
(
A
è(A)

	)

1029 
	#ISCOMPRESS
(
SZ
è(SZ)

	)

1032 
bugcom·t_mode
;

1039 
	#FU_IALU_INDEX
 0

	)

1040 
	#FU_IMULT_INDEX
 1

	)

1041 
	#FU_MEMPORT_INDEX
 2

	)

1042 
	#FU_FPALU_INDEX
 3

	)

1043 
	#FU_FPMULT_INDEX
 4

	)

1046 
»s_desc
 
	gfu_cÚfig
[] = {

1054 {
IÁALU
, 1, 1}

1064 #ià
defšed
(
MULT_DOES_ADD
)

1065 {
IÁALU
, 1, 1},

1067 {
IÁMULT
, 3, 1},

1068 {
IÁDIV
, 20, 19}

1078 {
RdPÜt
, 2, 1},

1079 {
WrPÜt
, 2, 1}

1089 {
FlßtADD
, 2, 1},

1090 {
FlßtCMP
, 2, 1},

1091 {
FlßtCVT
, 2, 1}

1101 {
FlßtMULT
, 4, 1},

1102 {
FlßtDIV
, 12, 12},

1103 {
FlßtSQRT
, 24, 24}

1111 
	#PRED_BR_CHANGES
 0

	)

1112 
	#PRED_JR_CHANGES
 0

	)

1113 
	#DYNAMIC_CHANGE
 0

	)

1114 
	#METRIC_CHANGE
 0

	)

1115 
	#LINEAR_PHASE
 0

	)

1117 #ifdeà
ALLOW_ANY_CLUSTER


1118 
	#SMALLEST_CONFIG
 
CLUSTERS


	)

1120 
	#SMALLEST_CONFIG
 4

	)

1122 
	gaùu®_şu¡”s
 = 
CLUSTERS
;

1127 #ifdeà
PORT_PER_BANK


1128 
	gCACHEPORTS
;

1129 
	gRES_CACHEPORTS
;

1130 
RES_CACHE_PORTS
;

1131 
	gaùu®_ÿch•Üts
;

1133 
	gaùu®_ÿch•Üts
;

1136 #ifdeà 
CENTRALIZED_STEER


1137 
	gdi¥©ch_şu¡”
 = 0;

1139 #ifdeà
DISPATCH_CLUSTER


1140 
	gdi¥©ch_ş
[
CLUSTERS
];

1145 #ifdeà
N_WAY_STEER


1146 #iâdeà
FIXED_N_WAY


1148 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

1152 
	gNEIGHBOR_SEEK_N_WAY
 = 
CLUSTERS
 / 2;

1154 
	g¡“r_şu¡”_thrd
[
MAXTHREADS
][
CLUSTERS
];

1155 
	gabs_¡“r
 = 0;

1156 
¡“r_š™
 ();

1158 #ifdeà 
CLUSTER_PRIORITY


1159 
	g´iÜ™y_ş_thrd
[
MAXTHREADS
][
CLUSTERS
];

1161 #ifdeà 
THRD_PROFILE


1162 #ifdeà
mix_8_f


1163 
	gn_lim™_thrd
[] = { 8, 8, 8, 8, 8, 4, 2, 2 };

1165 #ifdeà
mix_8_i


1166 
	gn_lim™_thrd
[] = { 8, 8, 8, 2, 4, 2, 2, 4 };

1168 #ifdeà
mix_8_if


1169 
	gn_lim™_thrd
[] = { 2, 2, 2, 4, 8, 8, 8, 8 };

1171 #ifdeà
mix_8_m


1172 
	gn_lim™_thrd
[] = { 2, 2, 2, 2, 8, 8, 8, 8 };

1174 #ifdeà
mix_4_i


1175 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

1177 #ifdeà
mix_4_f


1178 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

1180 #ifdeà
mix1_4_m


1181 
	gn_lim™_thrd
[] = { 8, 8, 2, 2 };

1183 #ifdeà
mix2_4_m


1184 
	gn_lim™_thrd
[] = { 2, 2, 8, 8 };

1187 
	gn_lim™_thrd
[
MAXTHREADS
];

1189 #ifdeà 
CMC_START_N_WAY


1190 
	gn_¡¬t_cmc
[
MAXTHREADS
];

1191 
	gn_¡¬t_thrd_cmc
[
MAXTHREADS
];

1193 
	gn_¡¬t_thrd
[
MAXTHREADS
];

1194 
	gÃighbÜ_lim™_thrd
[
MAXTHREADS
];

1196 #ifdeà 
N_WAY_ADAPT


1197 
	gcŞd_¡¬t
 = 1;

1198 
	gc_Şd
[
MAXTHREADS
];

1199 
	gn_lim™_thrd_Şd
[
MAXTHREADS
];

1200 
	gsim_num_š¢_Şd
[
MAXTHREADS
];

1201 
upd©e_n_lim™
 ();

1203 #ifdeà
THRD_PRIO_ADAPT


1204 
´iÜ™y_n_way
 ();

1206 #ifdeà
ADAPT_LIMIT


1207 
	gad­t_lim™_thrd
[
MAXTHREADS
];

1210 #ifdeà
PDG_THRD_ADAPT


1211 
pdg_thrd_n_way
 ();

1213 #ifdeà
PDG_THRD_PRIO_ADAPT


1214 
pdg_´iÜ™y_n_way
 ();

1216 #ifdeà
COMM_OPER_LIMIT


1217 #ifdeà
AVG_LIMIT


1218 
	gavg_high_lim™
 = 
CLUSTERS
;

1219 
	gavg_high_lim™_couÁ
 = 0;

1221 
	ghigh_lim™_thrd
[
MAXTHREADS
];

1222 
	ghigh_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

1223 
	ghigh_lim™_di¡
[
CLUSTERS
 + 1];

1226 #ifdeà
PDG_ADAPT


1227 
pdg_n_way
 ();

1229 
	gn_lim™_thrd_di¡
[
MAXTHREADS
][
CLUSTERS
 + 1];

1230 
	gn_lim™_di¡
[
CLUSTERS
 + 1];

1233 #ifdeà 
CLUSTER_PRIORITY


1235 
	g´iÜ™y_ş
[
CLUSTERS
];

1238 #ifdeà 
PRIORITY_STEER


1240 
	g´iÜ™y_ş
[
CLUSTERS
];

1242 #ifdeà 
COMMUNICATION_STEER


1243 #ifdeà
OPER_COMM_RATIO


1244 
	gş_thrd
[
MAXTHREADS
][
CLUSTERS
];

1245 
	gş_num
[
MAXTHREADS
];

1249 #ifdeà 
THRD_WAY_CACHE


1250 
	gn_ÿche_¡¬t_thrd
[
MAXTHREADS
];

1251 
	gn_ÿche_lim™_thrd
[
MAXTHREADS
];

1253 #ifdeà
N_WAY_CACHE_ADAPT


1254 #ifdeà
PER_THREAD


1255 
	gov”®l_n_ÿche_lim™
;

1256 
	g¡¬t_up
;

1257 
	gÿche_dl1_mis£s_Şd
[
MAXTHREADS
];

1258 
	gÿche_dl1_h™s_Şd
[
MAXTHREADS
];

1259 
	gÿche_dl1_miss_¿‹_Şd
[
MAXTHREADS
];

1260 
	gn_ÿche_lim™_Şd
[
MAXTHREADS
];

1261 
	gn_ÿche_lim™_di¡
[
MAXTHREADS
][32];

1262 
	gn_ÿche_lim™_couÁ
;

1264 #ifdeà 
MEM_REF_PER


1265 
	gÿche_miss_¡abË_thrd
[
MAXTHREADS
];

1268 
	gov”®l_n_ÿche_lim™
;

1269 
	g¡¬t_up
 = 1;

1270 
	gÿche_dl1_mis£s_Şd
;

1271 
	gÿche_dl1_h™s_Şd
;

1272 
	gÿche_dl1_miss_¿‹_Şd
;

1273 
	gn_ÿche_lim™_Şd
;

1274 
	gn_ÿche_lim™_di¡
[32];

1275 
	gn_ÿche_lim™_couÁ
;

1277 #ifdeà 
MEM_REF


1278 
	gÿche_miss_¡abË
;

1284 #ifdeà 
MEM_REF_STAT


1285 
	gmem_»f_thrd
[
MAXTHREADS
];

1286 
	gmem_»f
;

1289 #ifdeà
CMP_STEER


1290 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1293 #ifdeà
N_WAY_STEER


1294 
	gno_şu¡”_thrd
[
MAXTHREADS
];

1297 
	gabs_»s_¡“r
 = 0;

1298 
	gnum_¡“r
 = 0;

1300 
	gšt_di¡±h»sh
 = (è(
MIN_INSN_INT
 / 6);

1301 
	gdi¡±abË
[
ITABLESIZE
];

1302 
g_id_t
 
	gdi¡±abËgid
[
ITABLESIZE
];

1303 
	gdi¡pcouÁ”
[
ITABLESIZE
];

1304 
	gdi¡p§m¶es
[
ITABLESIZE
];

1305 
	gdi¡pcouÁ
 = 0;

1306 
	gšt_di¡p
 = 0;

1308 
	gsk³d_br
 = 0;

1309 
	gdi¡p
 = 0;

1310 
	gdi¡p_v®id
 = 0;

1312 
	gš¢16
 = 0;

1313 
	gš¢4
 = 0;

1315 
	gš¢_š‹rv®
 = 
MIN_INSN_INT
;

1316 
	gh_»gs
[
NUM_H_REGS
];

1318 
	gnum_£Á
 = 0;

1319 
	gnum_Œs
 = 1;

1320 
	gÏ¡şu¡”
 = 0;

1321 
	gš¡£qnum
 = 0;

1323 
	g¹h»sh
;

1324 
	gb¹h»sh
;

1325 
	gm¡h»sh
;

1326 
	gim¡h»sh
;

1327 
	gcyùh»sh
;

1328 
	gºoi£
;

1329 
	gbºoi£
;

1330 
	gm¢oi£
;

1331 
	gim¢oi£
;

1333 
	g»gd–ay
 = 0;

1334 
	g»gŒªs
 = 0;

1335 
	gtÙ®Ït
 = 0;

1336 
	gtÙlds
 = 0;

1338 
	gæushes
 = 0;

1339 
	gnum_æushes
 = 0;

1340 
	gä“_şu¡”
 = 0;

1353 
	#CYCNOISE
 10

	)

1354 
	#NUMCYCTHRESH
 5

	)

1356 
	#STATINT
 
MIN_INSN_INT


	)

1358 
	gIIQ_size
 = 
IQSIZE
;

1359 
	gFIQ_size
 = 
FQSIZE
;

1360 
	gIPREG_size
 = 
IPREGSIZE
;

1361 
	gFPREG_size
 = 
FPREGSIZE
;

1363 
	gIIQ_size_şu¡”
;

1364 
	gFIQ_size_şu¡”
;

1365 
	gIPREG_size_şu¡”
;

1366 
	gFPREG_size_şu¡”
;

1369 #ifdeà
RAW


1370 
	g¿wq_size
 = 
RAWSIZE
;

1372 #ifdeà 
COMM_BUFF


1373 
	gtimewšdow
 = 
TIMEWINDOW
;

1376 
	gnÚ_ü™
 = 0;

1377 
	gü™
 = 0;

1378 
	gb2_cÜr
 = 0;

1379 
	gb2_šcÜr
 = 0;

1380 
	gb2_miss
 = 0;

1381 
	gb_cÜr
 = 0;

1382 
	gb_šcÜr
 = 0;

1383 
	gb_miss
 = 0;

1384 
	gbË_gs
[
MAXTHREADS
][
TABLESIZE
];

1385 
	gbË_num
[
MAXTHREADS
][
TABLESIZE
];

1386 
	gbË2_gs
[
MAXTHREADS
][
TABLE2SIZE
];

1387 
	gbË2_num
[
MAXTHREADS
][
TABLE2SIZE
];

1390 
	#DEV_PERIOD
 10

	)

1392 
	#DEDICATED_ADDER
 0

	)

1394 
	#DED_ADDER_LAT_DIFF
 0

	)

1396 
	gadd_®u
 = 0;

1397 
	gnÚadd_®u
 = 0;

1399 
	#PERFECT
 0

	)

1400 
	#PERFECTLAT
 1

	)

1401 
	gnÙw¬m
 = 1;

1402 
	gcyşecheck
;

1406 #ifdeà
RAW


1407 
	g¿wq
;

1408 
	g¿wq_ş
[
CLUSTERS
];

1409 
	g¿wq»ady
 = 0;

1410 
	g¿wq»ady_ş
[
CLUSTERS
];

1411 
	g¿wq_fuÎ
 = 0;

1412 
	g¿wq_¡®l
 = 0;

1414 
	giissueq
;

1415 
	gfissueq
;

1417 #ifdeà
PWR_WAKE


1418 
	gœ—dy
 = 0;

1419 
	gä—dy
 = 0;

1420 
	glsq»ady
 = 0;

1421 
	giuÄ—dy
 = 0;

1422 
	gfuÄ—dy
 = 0;

1423 
	glsquÄ—dy
 = 0;

1424 
	gIREADY_couÁ
 = 0;

1425 
	gFREADY_couÁ
 = 0;

1426 
	gLSQREADY_couÁ
 = 0;

1427 
	gœ—dy_ş
[
CLUSTERS
];

1428 
	gä—dy_ş
[
CLUSTERS
];

1429 
	glsq»ady_ş
[
CLUSTERS
];

1430 
	giuÄ—dy_ş
[
CLUSTERS
];

1431 
	gfuÄ—dy_ş
[
CLUSTERS
];

1434 #ifdeà 
SPLIT_LSQ


1435 
	glsq_ş
[
LSQ_PARTS
];

1436 
	glsquÄ—dy_ş
[
CLUSTERS
];

1441 #ifdeà 
PARTITIONED_LSQ


1442 
	glsq_·¹_bªk
;

1443 
	glsq_·¹_ş
 = 
CLUSTERS
 / 
LSQ_PARTS
;

1444 
	glsq_·¹_thrd
;

1447 
	gœegfe
;

1448 
	gäegfe
;

1449 
	gœegfe_ş
[
CLUSTERS
];

1450 
	g›xŒa_ş
[
CLUSTERS
];

1451 
	gäegfe_ş
[
CLUSTERS
];

1452 
	gãxŒa_ş
[
CLUSTERS
];

1453 
	giissueq_ş
[
CLUSTERS
];

1454 
	gfissueq_ş
[
CLUSTERS
];

1455 
	gnum_¡Üeq
[
CLUSTERS
];

1456 
	gmax_¡Üeq
[
CLUSTERS
];

1457 
	gdi¥_d–ay
 = 0;

1459 
	gšchk
 = 0;

1460 
	gšchk2
 = 0;

1461 
	gšchk3
 = 0;

1462 
couÁ”_t
 
	gšpchk
 = 0;

1463 
	gcycchk
 = 0;

1464 
	gcycchk2
 = 0;

1465 
	gcycchk3
 = 0;

1466 
	gbrchk
 = 0;

1467 
	g»fchk
 = 0;

1468 
	gš¢chk±
 = 0;

1469 
	gcyşechk±
 = 0;

1470 
	gbrchk±
 = 0;

1471 
	g»fchk±
 = 0;

1472 
	gimischk±
 = 0;

1473 
	gmischk±
 = 0;

1474 
	gd–chk±
 = 0;

1475 
	gÜigš®_bsize
 = 0;

1476 
	gÿche_dl1_£t_shiá
 = 0;

1477 
	gpha£
 = 
SMALLEST_CONFIG
;

1478 
	gcyşe_couÁ
[
NUMPHASES
 + 1];

1479 
	g¡abË_couÁ
 = 0;

1480 
	g¡İ_ex¶
 = 0;

1482 
	g›xŒa
;

1483 
	gãxŒa
;

1484 
	giv®id
;

1485 
	gfv®id
;

1487 
	gtÙ_œeg
 = 0;

1488 
	gtÙ_äeg
 = 0;

1489 
	gtÙ_›xt
 = 0;

1490 
	gtÙ_ãxt
 = 0;

1491 
	gtÙ_šÚdup
 = 0;

1492 
	gtÙ_âÚdup
 = 0;

1494 
	gcomm_d–ay
 = 0;

1495 
	gnum_sšgË
 = 0;

1496 
	giss_¡®l
 = 0;

1497 
	gã_¡®l
 = 0;

1498 
	gn_»ady
 = 0;

1499 
	gnum_£mi_f
 = 0;

1500 
	gnum_qw¡®l
 = 0;

1501 
	gš_this
 = 0;

1502 
	gnum_ä“d
 = 0;

1503 
	gtÙ_d–
 = 0;

1504 
	gtÙ_d–_bw
 = 0;

1505 
	gnum_bw_of
 = 0;

1506 
	g¼obš
 = 0;

1508 
	gmš_addr
 = 5600000000ULL;

1509 
	gmax_addr
 = 0;

1511 
	g¡ddev
 = 0;

1512 
	gbª0
 = 0;

1513 
	gbª1
 = 0;

1514 
	gbª2
 = 0;

1515 
	gbª3
 = 0;

1516 
	gbš_acc_tÙ
 = 0;

1517 
	gbš_mis_tÙ
 = 0;

1518 
	gbš_acc
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1519 
	gbš_lds
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1520 
	gbš_tŞ
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1521 
	gbš_mis
[(
MAXADDR
 - 
MINADDR
è/ 
BINSIZE
];

1532 
	gaddr0
, 
	gaddr1
, 
	gaddr2
;

1534 
	#HIST
 4

	)

1535 
	gnum_issued
 = 0;

1536 
	giss_¿‹
[
HIST
];

1537 
	gissue_¿‹
 = 0;

1538 
	gtŞ
[4][3];

1539 
	gtŞ0
 = 0;

1540 
	gtŞ1
 = 0;

1541 
	gtŞ2
 = 0;

1542 
	gtÙ_tŞ
 = 0;

1543 
	gtÙ_tŞ0
 = 0;

1544 
	gtÙ_tŞ1
 = 0;

1545 
	gtÙ_tŞ2
 = 0;

1546 
	gtÙ_tŞ3
 = 0;

1547 
	gbªk_cÚf
 = 0;

1548 
	g¡_bªk_cÚf
 = 0;

1550 #ifdeà
PORT_PER_BANK


1551 
	gmiss_num
[
MAXCACHEPORTS
];

1552 
	g»f_num
[
MAXCACHEPORTS
];

1554 
	gmiss_num
[
CACHEPORTS
];

1555 
	g»f_num
[
CACHEPORTS
];

1557 
	g»f_N
;

1559 
	gdi¥_time
[
MD_TOTAL_REGS
];

1560 
	gliãtime1
 = 0;

1561 
	gliãtime2
 = 0;

1562 
	gwa™time1
 = 0;

1563 
	gwa™time2
 = 0;

1564 
	gcÚswa™time1
 = 0;

1565 
	gcÚswa™time2
 = 0;

1566 
	gnum1
 = 0;

1567 
	gnum2
 = 0;

1568 
	gnum11
 = 0;

1569 
	gnum22
 = 0;

1570 
	ghi¡o
[122];

1572 
	gdi¥_¡®ls
 = 0;

1573 
	gÿu£1
 = 0;

1574 
	gÿu£2
 = 0;

1575 
	gÿu£3
 = 0;

1576 
	gÿu£4
 = 0;

1577 
	gÿu£5
 = 0;

1580 
	gIISSUEQ_couÁ
 = 0;

1581 
	gIISSUEQ_fcouÁ
 = 0;

1582 
	gFISSUEQ_couÁ
 = 0;

1583 
	gFISSUEQ_fcouÁ
 = 0;

1584 
	gIPREG_couÁ
 = 0;

1585 
	gIexŒa_couÁ
 = 0;

1586 
	gIPREG_fcouÁ
 = 0;

1587 
	gFPREG_couÁ
 = 0;

1588 
	gFexŒa_couÁ
 = 0;

1589 
	gFPREG_fcouÁ
 = 0;

1591 
	gœegfe_ş_couÁ
[
CLUSTERS
];

1592 
	g›xŒa_ş_couÁ
[
CLUSTERS
];

1593 
	gäegfe_ş_couÁ
[
CLUSTERS
];

1594 
	gãxŒa_ş_couÁ
[
CLUSTERS
];

1595 
	giissueq_ş_couÁ
[
CLUSTERS
];

1596 
	gfissueq_ş_couÁ
[
CLUSTERS
];

1598 #ifdeà 
SPLIT_LSQ


1599 
	glsq_ş_couÁ
[
LSQ_PARTS
];

1602 
	gno_di¥_şu¡”
 = 0;

1603 
	gdi¥_di¡
[
TOTALFETCHLIMIT
 + 1];

1605 #ifdeà
RAW


1606 
	g¿wq_couÁ
 = 0;

1607 
	g¿wq_fcouÁ
 = 0;

1608 
	g¿wq_ş_couÁ
[
CLUSTERS
];

1609 
	g¿wq_di¡
[
RAWSIZE
 / 
CLUSTERS
];

1612 
	#P_TOTAL_REGS
 
IPREGSIZE
+
FPREGSIZE
+1

	)

1619 
	gp_tÙ®_»gs
 = 
P_TOTAL_REGS
;

1621 #ifdeà
RABMAP


1622 
	gš¡_u£_exŒa
[
P_TOTAL_REGS
];

1623 
	gÉİm­_exŒa
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1624 
	gÉİm­_´eg
[
MAXTHREADS
][
MD_TOTAL_REGS
][
CLUSTERS
];

1627 
	gshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1628 
	g¥ecshiá»g1
[
MAXTHREADS
][
LEV1SIZE
];

1629 
	gshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1630 
	g¥ecshiá»g2
[
MAXTHREADS
][
LEV1SIZE
];

1631 
	gshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1632 
	g¥ecshiá»g3
[
MAXTHREADS
][
LEV1SIZE
];

1633 
	gshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1634 
	g¥ecshiá»g4
[
MAXTHREADS
][
LEV1SIZE
];

1635 
	gshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1636 
	g¥ecshiá»g5
[
MAXTHREADS
][
LEV1SIZE
];

1637 
	gËv2´ed1
[
LEV2SIZE
];

1638 
	gËv2´ed2
[
LEV2SIZE
];

1639 
	gËv2´ed3
[
LEV2SIZE
];

1640 
	gËv2´ed4
[
LEV2SIZE
];

1641 
	gËv2´ed5
[
LEV2SIZE
];

1643 
	gbªk_´ed_cÜr
 = 0;

1644 
	gbªk_´ed_wrÚg
 = 0;

1645 
	gac_bªk_´ed_cÜr
 = 0;

1646 
	gac_bªk_´ed_wrÚg
 = 0;

1648 #ifdeà
CACHE_MISS_STAT


1649 
	g¥ec_rdb_miss
 = 0;

1650 
	g¥ec_wrb_miss
 = 0;

1651 
	gcouÁ_”rÜ
 = 0;

1655 
pow”_·¿m‘”_cİy
 ();

1657 
bš_š™
 ();

1658 
ÿche_š™
 ();

1659 
·ge_bË_š™
 ();

1660 
b_mshr_š™
 ();

1661 
b_cu_š™
 ();

1662 
b_cu_check
(
th»adid
, 
md_addr_t
 
addr
, 
cmd
);

1663 
sh¬e_·‰”n
Ğ
th»adid
, 
md_addr_t
 
addr
, 
cmd
);

1664 
p_š™
 ();

1665 
bªk´ed_š™
 ();

1666 
»g_š™
 ();

1667 
ÿche_chªge_cÚfig
 ();

1668 
ršg_ä“
 ();

1669 
ÿche_upd©e
 ();

1670 
compu‹_queue
 ();

1671 
»g_couÁ
 ();

1672 
b´ed_š™
 ();

1675 
sim¶e_ÿche_æush
 (
ÿche_t
 *);

1676 
şu¡”_check
 (
md_addr_t
);

1677 
bªk_upd©e
 (
md_addr_t
, , );

1678 
¡_ršg_Ït
 (
RUU_¡©iÚ
 *);

1679 
ršg_Ït
 (, , , );

1680 
cİy_äom
 ();

1681 
ä“li¡_š£¹
 (, );

1682 
check_RUU_LSQ_m©ch
 ();

1683 
check_»g
 ();

1684 
pow”_ş—r
 ();

1685 
sim_cyc
 ();

1686 
ÿlcuÏ‹_´iÜ™y
 ();

1687 
š£¹_flq
 (, 
md_addr_t
);

1689 #ifdeà
CYCLE_JUMP


1690 
cyşe_jump
 ();

1691 
ršg_ä“_jump
 ();

1693 
g’”®_¡©
 ();

1695 #ifdeà
EVENT_CACHE_UPDATE


1696 
mshr_š™
 ();

1704 
couÁ”_t
 
	gsim_tÙ®_š¢
 = 0;

1707 
couÁ”_t
 
	gsim_num_»fs
 = 0;

1710 
couÁ”_t
 
	gsim_tÙ®_»fs
 = 0;

1713 
couÁ”_t
 
	gsim_num_lßds
 = 0;

1716 
couÁ”_t
 
	gsim_tÙ®_lßds
 = 0;

1719 
couÁ”_t
 
	gsim_num_b¿nches
 = 0;

1722 
couÁ”_t
 
	gsim_tÙ®_b¿nches
 = 0;

1724 #ifdeà
TG


1725 
couÁ”_t
 
	gtg_¿‹
;

1726 
couÁ”_t
 
	gtÙ®_·ck‘s_g’”©iÚ
;

1727 
couÁ”_t
 
	gtÙ®_»ad_·ck‘s_g’”©iÚ
;

1728 
couÁ”_t
 
	gtÙ®_wr™e_·ck‘s_g’”©iÚ
;

1731 
couÁ”_t
 
	gsim_cyşe
 = 0;

1732 
couÁ”_t
 
	gglob®_d©a_·ck‘s_g’”©iÚ
 = 0;

1733 
couÁ”_t
 
	gTÙ®M‘aPack‘sInAÎ
 = 0;

1734 
couÁ”_t
 
	gTÙ®D©aPack‘sInAÎ
 = 0;

1735 
couÁ”_t
 
	gTÙ®SyncD©aPack‘s
 = 0;

1736 
couÁ”_t
 
	gTÙ®SyncM‘aPack‘s
 = 0;

1737 
couÁ”_t
 
	gTÙ®_M‘aPack‘s_1
;

1738 
couÁ”_t
 
	gTÙ®_D©aPack‘s_1
;

1739 
couÁ”_t
 
	gM‘aPack‘s_1
;

1740 
couÁ”_t
 
	gD©aPack‘s_1
;

1741 
couÁ”_t
 
	gw¬mupEndCyşe
 = 0;

1742 
couÁ”_t
 
	gd©a_·ck‘s_sync
 = 0;

1743 
couÁ”_t
 
	gm‘a_·ck‘s_sync
 = 0;

1744 
couÁ”_t
 
	gd©a_·ck‘s_£ndšg
[300][300];

1745 
couÁ”_t
 
	gm‘a_·ck‘s_£ndšg
[300][300];

1746 
couÁ”_t
 
	glšk_£r_Ït
[300][300];

1747 
couÁ”_t
 
	gm‘a_ev’_»q_şo£
[300];

1748 
couÁ”_t
 
	gm‘a_odd_»q_şo£
[300];

1749 
couÁ”_t
 
	gİtiÿl_d©a_·ck‘s
 = 0;

1750 
couÁ”_t
 
	gİtiÿl_m‘a_·ck‘s
 = 0;

1751 
couÁ”_t
 
	gmesh_d©a_·ck‘s
 = 0;

1752 
couÁ”_t
 
	gmesh_m‘a_·ck‘s
 = 0;

1754 
couÁ”_t
 
	g·¿Î–_sim_cyşe
 = 1;

1755 
	gdi¥2
, 
	gdi¥1
;

1758 
couÁ”_t
 
	gIFQ_couÁ
;

1759 
couÁ”_t
 
	gIFQ_fcouÁ
;

1760 
couÁ”_t
 
	gRUU_couÁ
;

1761 
couÁ”_t
 
	gRUU_fcouÁ
;

1762 
couÁ”_t
 
	gLSQ_couÁ
;

1763 
couÁ”_t
 
	gLSQ_fcouÁ
;

1765 
couÁ”_t
 
	gpæ2H™
 = 0;

1766 
couÁ”_t
 
	gpæ2SecMiss
 = 0;

1767 
couÁ”_t
 
	gpæ2PrimMiss
 = 0;

1769 #ifdeà 
COUNT_LSQ


1770 
	gnÚ_issue_LSQ_couÁ
;

1771 
	gnÚ_issue_LSQ_fcouÁ
;

1775 
couÁ”_t
 
	gsim_šv®id_addrs
;

1782 
	g±¿û_£q
 = 0;

1790 
	g´ed_³rãù
 = 
FALSE
;

1793 *
	gb´ed_¥ec_İt
;

1795 { 
	m¥ec_ID
, 
	m¥ec_WB
, 
	m¥ec_CT
 } 
	gb´ed_¥ec_upd©e
;

1798 
ÿche_t
 *
	gÿche_1
[
CLUSTERS
];

1801 
ÿche_t
 *
	gÿche_2
;

1804 
ÿche_t
 *
	gÿche_dl1
[
CLUSTERS
];

1807 
ÿche_t
 *
	gÿche_ml2
;

1808 
ÿche_t
 *
	gÿche_dl2
;

1811 
ÿche_t
 *
	g™lb
[
CLUSTERS
];

1814 
ÿche_t
 *
	gdb
[
CLUSTERS
];

1819 #ifdeà
LOAD_PREDICTOR


1821 
b´ed_t
 *
	gld´ed
;

1822 
	gld´ed_¥ec_upd©e
 = 0;

1823 
	gld´ed_couÁ
 = 0, 
	gld´ed_h™
 = 0;

1824 
	gov”_miss
 = 0, 
	gund”_miss
 = 0;

1825 
	gÿche_miss
;

1826 
	gld_miss_thrd
[
MAXTHREADS
];

1828 #ifdeà
PDG


1829 
	gnum_pdg
 = 0;

1830 
	gpdg_di¡
[
MAXTHREADS
 + 1];

1835 
	#CPU_TRACE


	)

1836 #ifdeà
CPU_TRACE


1837 *
	gıu_Œaû
;

1840 
	#L2_TRACE


	)

1841 #ifdeà
L2_TRACE


1842 * 
	gL2_Œaû
;

1847 
»s_poŞ
 *
	gfu_poŞ
 = 
NULL
;

1850 
¡©_¡©_t
 *
	gpc¡©_¡©s
[
MAX_PCSTAT_VARS
];

1851 
couÁ”_t
 
	gpc¡©_Ï¡v®s
[
MAX_PCSTAT_VARS
];

1852 
¡©_¡©_t
 *
	gpc¡©_sdi¡s
[
MAX_PCSTAT_VARS
];

1856 
	#STATVAL
(
STAT
è\

	)

1857 ((
	gSTAT
)->
	gsc
 =ğ
sc_št
 \

1858 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_št
.
v¬
) \

1859 : ((
STAT
)->
sc
 =ğ
sc_ušt
 \

1860 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_ušt
.
v¬
) \

1861 : ((
STAT
)->
sc
 =ğ
sc_couÁ”
 \

1862 ? *((
STAT
)->
v¬ŸÁ
.
fÜ_couÁ”
.
v¬
) \

1863 : (
·nic
("bad stat class"), 0))))

1865 
	gClu¡”SŒuù
[
CLUSTERS
][CLUSTERS];

1866 
ThrdAcûssP©‹º
[
MAXTHREADS
][
CLUSTERS
];

1883 
³riodic_ad­tiÚ
 ();

1885 
	g¡İ_ãtch
 = 0;

1886 
	gÏ¡SimCyşe
 = 0;

1889 
	g¡¬tTakšgSti¡ics
 = 0;

1891 
	#PERFECTBANKPREDICTOR
 1

	)

1894 
	$š™Clu¡”Info
 ()

1896 
i
, 
l
;

1898 
i
 = 0; i < 
CLUSTERS
; i++)

1899 
l
 = 0;† < 
CLUSTERS
;†++)

1900 
Clu¡”SŒuù
[
i
][
l
] = -1;

1902 
	}
}

1904 
	gHavePrš‹d
 = 0;

1907 
	$PrštClu¡”Info
 ()

1909 
gg
, 
¼
;

1911 
¼
 = 0;„¸< 
CLUSTERS
;„r++)

1913 
	`´štf
 ("\n");

1914 
gg
 = 0; gg < 
CLUSTERS
; gg++)

1915 
	`´štf
 ("%d", 
Clu¡”SŒuù
[
¼
][
gg
]);

1917 
	}
}

1922 
	$mem_acûss_Ï‹ncy
 (
blk_sz
)

1924 
chunks
 = (
ÿche_dl1
[0]->
bsize
)*
mem_pÜt_num
/ 
mem_bus_width
;

1927 
	`as£¹
 (
chunks
 > 0);

1929  ( 
mem_Ït
[0] +

1930 Ğ (()4/
mem_bus_¥“d
è* (
chunks
 - 1)));

1932 
	}
}

1934 #ifdeà
L2_COMM_LAT


1935 
	#L2_COMM_LAT_LOCATION
(
baddr
è(badd¸& (
CLUSTERS
 - 1))

	)

1941 
RUU_¡©iÚ
 *
	grsCacheAcûss
 = 
NULL
;

1942 
FILE
 *
	gå_Œaû
;

1945 
dl1_acûss_â
 (
mem_cmd
 
cmd
,

1946 
md_addr_t
 
baddr
,

1947 
bsize
,

1948 
ÿche_blk_t
 *
blk
,

1949 
tick_t
 
now
,

1950 
th»adid


1951 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1952 , 
şu¡”


1956 
	gÏt
;

1957 
	gwhich_th»ad
, 
	gi
;

1958 
	gæag
 = 0;

1959 
	gwhich_th»ad
 = 
th»adid
;

1960 #ifdeà 
STREAM_PREFETCHER


1965 ià(
	gÿche_dl2
)

1969 
	gÏt
 = 
ÿche_acûss
 (
ÿche_dl2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, NULL, 
which_th»ad
, NULL);

1971 
	gdÿche2_acûss
++;

1972 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

1973 ià(
	gcmd
 =ğ
R—d
)

1974  
Ït
;

1981 ià(
	gcmd
 =ğ
R—d
)

1982  
mem_acûss_Ï‹ncy
 (
bsize
);

1988 
dl2_´eãtch_aùive
;

1992 
dl2_acûss_â
 (
mem_cmd
 
cmd
,

1993 
md_addr_t
 
baddr
,

1994 
bsize
,

1995 
ÿche_blk_t
 *
blk
,

1996 
tick_t
 
now
,

1997 
th»adid


1998 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

1999 , 
şu¡”


2003 #ifdeà 
STREAM_PREFETCHER


2005 ià(!
	gdl2_´eãtch_aùive
)

2007 
š£¹_¥
 (
baddr
, 
th»adid
);

2011 
	gÏt
;

2015 
	g¤c
, 
	gpÜt_num
, 
	gx
, 
	gy
;

2017 
	g¤c
 = (
baddr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

2018 
	gx
 = (
¤c
 /
mesh_size
);

2019 
	gy
 = (
¤c
 %
mesh_size
);

2020 
	gpÜt_num
 = (
x
/(
mesh_size
/2))*2+
y
/(mesh_size/(
mem_pÜt_num
/2));

2021 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

2022 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()4/
mem_bus_¥“d
);

2023  
	gÏt
;

2031 
1_acûss_â
 (
mem_cmd
 
cmd
,

2032 
md_addr_t
 
baddr
,

2033 
bsize
,

2034 
ÿche_blk_t
 *
blk
,

2035 
tick_t
 
now
,

2036 
th»adid


2037 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

2038 , 
şu¡”


2042 
	gÏt
 = 0;

2043 
	gm©chnum
 = 0;

2044 ià(
	gÿche_2
)

2047 
	gÏt
 = 
ÿche_acûss
 (
ÿche_2
, 
cmd
, 
baddr
, 
NULL
, 
bsize
, 
now
, NULL, NULL, NULL, 
th»adid
 
IF_L2_COMM_LAT_CL
 (
şu¡”
), NULL);

2049 
	gdÿche2_acûss
++;

2050 
	gthecÚ‹xts
[
th»adid
]->
	gdÿche2_acûss
++;

2052 ià(
	gcmd
 =ğ
R—d
)

2053  
Ït
;

2055 
·nic
 ("writeso instruction memory‚ot supported");

2060 ià(
	gcmd
 =ğ
R—d
)

2061  
mem_acûss_Ï‹ncy
 (
bsize
);

2063 
·nic
 ("writeso instruction memory‚ot supported");

2065  
	gÏt
;

2070 
2_acûss_â
 (
mem_cmd
 
cmd
,

2071 
md_addr_t
 
baddr
,

2072 
bsize
,

2073 
ÿche_blk_t
 *
blk
,

2074 
tick_t
 
now
,

2075 
th»adid


2076 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

2077 , 
şu¡”


2083 
	gÏt
 = 0;

2084 ià(
	gcmd
 =ğ
R—d
)

2086 
¤c
, 
pÜt_num
, 
x
, 
y
;

2088 
	g¤c
 = (
baddr
 >> 
MD_LOG_PAGE_SIZE
è% 
numcÚ‹xts
;

2089 
	gx
 = (
¤c
 /
mesh_size
);

2090 
	gy
 = (
¤c
 %
mesh_size
);

2091 
	gpÜt_num
 = (
x
/(
mesh_size
/2))*2+
y
/(mesh_size/(
mem_pÜt_num
/2));

2092 
	gÏt
 = 
mem_acûss_Ï‹ncy
 (
bsize
è+ 
mem_pÜt_Ït
[
pÜt_num
];

2093 
	gmem_pÜt_Ït
[
pÜt_num
] +ğ(
bsize
*
mem_pÜt_num
/
mem_bus_width
)*(()4/
mem_bus_¥“d
);

2094 
	gpÜt_accÜd
[
pÜt_num
] ++;

2095  
	gÏt
;

2098 
·nic
 ("writeso instruction memory‚ot supported");

2109 
™lb_acûss_â
 (
mem_cmd
 
cmd
,

2110 
md_addr_t
 
baddr
,

2111 
bsize
,

2112 
ÿche_blk_t
 *
blk
,

2113 
tick_t
 
now
,

2114 
th»adid


2115 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

2116 , 
şu¡”


2120 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

2123 
as£¹
 (
phy_·ge_±r
);

2126 *
	gphy_·ge_±r
 = 0;

2129  
	gb_miss_Ït
;

2134 
db_acûss_â
 (
mem_cmd
 
cmd
,

2135 
md_addr_t
 
v²
,

2136 
bsize
,

2137 
ÿche_blk_t
 *
blk
,

2138 
tick_t
 
now
,

2139 
th»adid


2140 #ià
defšed
 (
L2_COMM_LAT
è|| defšed (
TOKENB
)

2141 , 
şu¡”


2145 
md_addr_t
 *
	gphy_·ge_±r
 = (md_addr_ˆ*è
blk
->
u£r_d©a
;

2148 
as£¹
 (
phy_·ge_±r
);

2151 *
	gphy_·ge_±r
 = 0;

2154  
	gb_miss_Ït
;

2160 
	$sim_»g_İtiÚs
 (
İt_odb_t
 *
odb
)

2162 
	`İt_»g_h—d”
 (
odb
,

2167 
	`İt_»g_ušt
 (
odb
, "-max:š¡", "maximum‚umb” oàš¡' tØexecu‹/th»ad", (*è(&
max_š¡s
), 0,

2168  
TRUE
, 
NULL
);

2171 
	`İt_»g_ušt
 (
odb
, "-max:b¬r›r", "maximum‚umb” oàb¬r›r tØexecu‹", (*è(&
max_b¬r›r
), 0,

2172  
TRUE
, 
NULL
);

2175 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:meshsize", "mesh sizoàthÃtwÜk", &
mesh_size
, 4,

2176  
TRUE
, 
NULL
);

2181 
	`İt_»g_št
 (
odb
, "-sh¬”:»ad_’", "sh¬”„—dƒÇbË", &
shr_»ad_’
, 0,

2182  
TRUE
, 
NULL
);

2185 
	`İt_»g_št
 (
odb
, "-šfÜm_back:tÙ®_’", "šfÜm backƒn", &
tÙ®_šfÜm_back_’
, 0,

2186  
TRUE
, 
NULL
);

2189 
	`İt_»g_št
 (
odb
, "-b:şass_cßr£", "b cÏs cßr£", &
b_c_c
, 1,

2190  
TRUE
, 
NULL
);

2193 
	`İt_»g_št
 (
odb
, "-muÉi_blk:£t_shiá", "muÉ˜blk s‘ shiá", &
muÉi_blk_£t_shiá
, 0,

2194  
TRUE
, 
NULL
);

2197 
	`İt_»g_št
 (
odb
, "-muÉi_blk:ad­_’", "muÉ˜blk‡d­tive", &
muÉi_blk_ad­_’
, 0,

2198  
TRUE
, 
NULL
);

2201 
	`İt_»g_št
 (
odb
, "-muÉi_blk_ad­:·š_’", "muÉ˜blk‡d­…ašƒn", &
mb_·š_’
, 0,

2202  
TRUE
, 
NULL
);

2205 
	`İt_»g_št
 (
odb
, "-muÉi_blk_ad­:šfÜm_’", "muÉ˜blk‡d­ infÜmƒn", &
muÉi_blk_ad­_šfÜm_’
, 0,

2206  
TRUE
, 
NULL
);

2209 
	`İt_»g_št
 (
odb
, "-muÉi_blk_ad­:»¶_ad_’", "muÉ˜blk‡d­„•Èadƒn", &
»¶_ad_’
, 0,

2210  
TRUE
, 
NULL
);

2213 
	`İt_»g_št
 (
odb
, "-muÉi_blk_ad­:»ÿÎ_ad_’", "muÉ˜blk‡d­„eÿÎ‡dƒn", &
»ÿÎ_ad_’
, 0,

2214  
TRUE
, 
NULL
);

2217 
	`İt_»g_št
 (
odb
, "-pvc:veùÜ_num", "pvøveùÜ‚um", &
veùÜ_num
, 1,

2218  
TRUE
, 
NULL
);

2221 
	`İt_»g_št
 (
odb
, "-pvc:sh¬”_th»shŞd", "pvøsh¬”h»shŞd", &
sh¬”_th»shŞd
, 1,

2222  
TRUE
, 
NULL
);

2225 
	`İt_»g_št
 (
odb
, "-pvc:nv_brßdÿ¡", "pvønÚ-veùÜ brßdÿ¡", &
nv_brßdÿ¡
, 1,

2226  
TRUE
, 
NULL
);

2229 
	`İt_»g_št
 (
odb
, "-´eãtch:L2_En", "’abË L2…»ãtch", &
L2_´eãtch_En
, 1,

2230  
TRUE
, 
NULL
);

2233 
	`İt_»g_št
 (
odb
, "-´eãtch:L1_En", "’abË L1…»ãtch", &
L1_´eãtch_En
, 1,

2234  
TRUE
, 
NULL
);

2240 
	`İt_»g_št
 (
odb
, "-STREAM:mš", "STREAM & mš", &
STREAM_mš_En
, 1,

2241  
TRUE
, 
NULL
);

2244 
	`İt_»g_št
 (
odb
, "-STREAM:L2_di¡ªû", "STREAM_L2_di¡ªû", &
STREAM_L2_di¡ªû
, 1,

2245  
TRUE
, 
NULL
);

2248 
	`İt_»g_št
 (
odb
, "-STREAM:mš_di¡ªû", "STREAM_mš_di¡ªû", &
STREAM_mš_di¡ªû
, 1,

2249  
TRUE
, 
NULL
);

2252 
	`İt_»g_¡ršg_li¡
 (
odb
, "-±¿û", "g’”©p‘¿û, i.e., <âame|¡dout|¡d”r> <¿nge>", 
±¿û_İts
, 2, &
±¿û_ÃÉ
, 
NULL
,

2253  
FALSE
, 
NULL
, FALSE);

2256 
	`İt_»g_nÙe
 (
odb
, "####### Network configuration #######\n");

2257 #ifdeà
OPTICAL_INTERCONNECT


2258 
	`İt_»g_nÙe
 (
odb
, "Optical interconnect\n");

2260 #ifdeà
POPNET


2261 
	`İt_»g_nÙe
 (
odb
, "Popnet interconnect\n");

2263 #ifdeà
CONF_BIT


2264 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation\n");

2267 
	`İt_»g_nÙe
 (
odb
, "Confirmation based optimazation for Invalidation\n");

2269 #ifdeà
WB_SPLIT_NET


2270 
	`İt_»g_nÙe
 (
odb
, "Write back split in‚etwork†evel\n");

2272 #ifdeà
PSEUDO_SCHEDULE


2273 
	`İt_»g_nÙe
 (
odb
, "Inorder…robability-based scheduling (IRD)\n");

2275 #ifdeà
PSEUDO_SCHEDULE_REORDER


2276 
	`İt_»g_nÙe
 (
odb
, "Reorder…robability-based scheduling (RRD)\n");

2278 #ifdeà
PSEUDO_SCHEDULE_DATA


2279 
	`İt_»g_nÙe
 (
odb
, "Intelligent delay (IDD)\n");

2281 #ifdeà
L1_L2_CONF


2282 
	`İt_»g_nÙe
 (
odb
, "L1‡nd L2„eply conflict„esolution\n");

2284 #ifdeà
ORDER_NODE


2285 
	`İt_»g_nÙe
 (
odb
, "Ordering by‚ode\n");

2287 #ifdeà
ORDER_ADDR


2288 
	`İt_»g_nÙe
 (
odb
, "Ordering by‡ddr\n");

2290 
	`İt_»g_nÙe
 (
odb
, "######‚etwork configurationƒnd ######\n");

2292 
	`İt_»g_nÙe
 (
odb
,

2308 
	`İt_»g_št
 (
odb
, "-ãtch:ifqsize", "š¡ruùiÚ f‘ch queusiz(š in¡s)", &
ruu_ifq_size
, 16,

2309  
TRUE
, 
NULL
);

2311 
	`İt_»g_št
 (
odb
, "-ãtch:m¶©", "exŒ¨b¿nch mis-´ediùiÚ†©’cy", &
ruu_b¿nch_³ÇÉy
, 7,

2312  
TRUE
, 
NULL
);

2314 
	`İt_»g_št
 (
odb
, "-ãtch:¥“d", "¥“d oàäÚt-’d oàmachš»ÏtivtØexecutiÚ cÜe", &
ãtch_¥“d
, 1,

2315  
TRUE
, 
NULL
);

2319 
	`İt_»g_nÙe
 (
odb
,

2330 
	`İt_»g_¡ršg
 (
odb
, "-b´ed", "b¿nch…»diùÜy³ {nÙk’|k’|³rãù|bimod|2Ëv|comb|2bcgskew}", &
´ed_ty³
, "comb",

2331  
TRUE
, 
NULL
);

2333 
	`İt_»g_æag
 (
odb
, "-b´ed:btb_u£_ma¡”id", "u£ ma¡”id iÀ¶aû oàth»adid wh’ iÁ”aùšg w™h BTB, givšg you…”-´oûs š¡—d oà³r-th»adƒÁr›s", &
b´ed_btb_u£_ma¡”id
, 
TRUE
,

2334  
TRUE
, 
NULL
);

2336 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:bimod", "bimod®…»diùÜ cÚfig (<bË size>)", 
bimod_cÚfig
, 
bimod_ÃÉ
, &bimod_nelt,

2337  
bimod_cÚfig
,

2338  
TRUE
, 
NULL
, 
FALSE
);

2340 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2Ëv", "2-Ëv–…»diùÜ cÚfig " "(<l1size> <l2size> <hi¡_size> <xÜ>)", 
twŞev_cÚfig
, 
twŞev_ÃÉ
, &twolev_nelt,

2341  
twŞev_cÚfig
,

2342  
TRUE
, 
NULL
, 
FALSE
);

2344 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:comb", "combššg…»diùÜ cÚfig (<m‘a_bË_size>)", 
comb_cÚfig
, 
comb_ÃÉ
, &comb_nelt,

2345  
comb_cÚfig
,

2346  
TRUE
, 
NULL
, 
FALSE
);

2349 
	`İt_»g_št
 (
odb
, "-di¥1", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 1", &
di¥1
, 0,

2350  
TRUE
, 
NULL
);

2353 
	`İt_»g_št
 (
odb
, "-di¥2", "2bcgskewabË di¥Ïûm’ˆfÜ†ev 2", &
di¥2
, 0,

2354  
TRUE
, 
NULL
);

2357 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:2bcgskew", "2Bc-gskew…»diùÜ cÚfig (<bim_size> <size> <bim_hi¡_size> <g0_hi¡_size> <g1_hi¡_size> <m‘a_hi¡_size>)", 
twobcgskew_cÚfig
, 
twobcgskew_ÃÉ
, &twobcgskew_nelt,

2358  
twobcgskew_cÚfig
,

2359  
TRUE
, 
NULL
, 
FALSE
);

2362 
	`İt_»g_št
 (
odb
, "-b´ed:¿s", "»tuº‡dd»s ¡ack siz(0 fÜ‚Ø»tuº sck)", &
¿s_size
,„as_size,

2363  
TRUE
, 
NULL
);

2365 
	`İt_»g_št_li¡
 (
odb
, "-b´ed:btb", "BTB cÚfig (<num_£ts> <assocŸtiv™y>)", 
btb_cÚfig
, 
btb_ÃÉ
, &btb_nelt,

2366  
btb_cÚfig
,

2367  
TRUE
, 
NULL
, 
FALSE
);

2369 
	`İt_»g_¡ršg
 (
odb
, "-b´ed:¥ec_upd©e", "¥ecuÏtiv´ediùÜ upd©š {ID|WB} (deçuÉ‚Ú-¥ec)", &
b´ed_¥ec_İt
, 
NULL
,

2370  
TRUE
, 
NULL
);

2374 
	`İt_»g_št
 (
odb
, "-combšed2", "u£ 2 combšed…»diùÜs?", &
combšed2
, 
FALSE
,

2375  
TRUE
, 
NULL
);

2377 
	`İt_»g_št
 (
odb
, "-hi¡_imm", "upd©b¿nch hi¡Üy immedŸ‹ly?", &
hi¡_imm
, 
FALSE
,

2378  
TRUE
, 
NULL
);

2382 
	`İt_»g_št
 (
odb
, "-decode:width", "š¡ruùiÚ decodB/W (š¡s/cyşe)", &
ruu_decode_width
, 5,

2383  
TRUE
, 
NULL
);

2385 #iâdeà
REMOVE_MY_CODE


2387 
	`İt_»g_št
 (
odb
, "-thrdf:lim™", "Numb” oàth»ad f‘ch (thrd/cyşe<=8)", &
th»ad_ãtch
, 
THREADFETCHLIMIT
,

2388  
TRUE
, 
NULL
);

2390 
	`İt_»g_št
 (
odb
, "-š¡thrdf:width", "š¡ruùiÚ f‘ch B/w…”h»ad (š¡s/cyşe<=decode_width)", &
š¡_th»ad_ãtch
, 8,

2391  
TRUE
, 
NULL
);

2394 
	`İt_»g_št
 (
odb
, "-»gf:size", "š‹g”…hysiÿÈ»gi¡” fsizÕ” clu¡”)", &
IPREG_size_şu¡”
, 80,

2395  
TRUE
, 
NULL
);

2397 
	`İt_»g_št
 (
odb
, "-å»gf:size", "æßtšg…ošˆphysiÿÈ»gi¡” fsizÕ” clu¡”)", &
FPREG_size_şu¡”
, 80,

2398  
TRUE
, 
NULL
);

2400 
	`İt_»g_št
 (
odb
, "-iqueue:size", "š‹g” queusiz(š¡sèÕ” clu¡”)", &
IIQ_size_şu¡”
, 32,

2401  
TRUE
, 
NULL
);

2403 
	`İt_»g_št
 (
odb
, "-fqueue:size", "æßtšg…ošˆqueusiz(š¡sèÕ” clu¡”)", &
FIQ_size_şu¡”
, 32,

2404  
TRUE
, 
NULL
);

2406 #ifdeà
RAW


2407 
	`İt_»g_št
 (
odb
, "-¿wqueue:size", "»mÙacûs queusiz(š¡s)", &
¿wq_size
, 
RAWSIZE
,

2408  
TRUE
, 
NULL
);

2411 #ifdeà
ISSUE_PER_CLUSTER


2412 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/şu¡”/cyşe)", &
ruu_issue_width
, 4,

2413  
TRUE
, 
NULL
);

2415 
	`İt_»g_št
 (
odb
, "-issue:width", "š¡ruùiÚ issuB/W (š¡s/cyşe)", &
ruu_issue_width
, 4,

2416  
TRUE
, 
NULL
);

2419 
	`İt_»g_æag
 (
odb
, "-issue:šÜd”", "ruÀp–šw™h in-Üd” issue", &
ruu_šÜd”_issue
, 
FALSE
,

2420  
TRUE
, 
NULL
);

2422 
	`İt_»g_æag
 (
odb
, "-issue:wrÚg·th", "issuš¡ruùiÚ dowÀwrÚgƒxecutiÚ…©hs", &
ruu_šşude_¥ec
, 
TRUE
,

2423  
TRUE
, 
NULL
);

2426 
	`İt_»g_št
 (
odb
, "-comm™:width", "š¡ruùiÚ comm™ B/W (š¡s/th»ad/cyşe)", &
ruu_comm™_width
, 4,

2427  
TRUE
, 
NULL
);

2430 
	`İt_»g_št
 (
odb
, "-ruu:size", "»gi¡” upd©un™ (RUUèsize", &
RUU_size
, 16,

2431  
TRUE
, 
NULL
);

2434 
	`İt_»g_št
 (
odb
, "-lsq:size", "lßd/¡Üqueu(LSQèsizÕ” clu¡”)", &
LSQ_size_şu¡”
, 8,

2435  
TRUE
, 
NULL
);

2437 
	`İt_»g_št
 (
odb
, "-lq:size", "lßd queu(LQèsize", &
m_shLQSize
, 8,

2438  
TRUE
, 
NULL
);

2440 
	`İt_»g_št
 (
odb
, "-sq:size", "¡Üqueu(SQèsize", &
m_shSQSize
, 8,

2441  
TRUE
, 
NULL
);

2443 
	`İt_»g_æßt
 (
odb
, "-check”:vdd", "check” vdd", &
check”VDD
, 0.6,

2444  
TRUE
, 
NULL
);

2446 
	`İt_»g_æßt
 (
odb
, "-check”:äeq", "check”„uÂšg‡ˆwh© f¿ùiÚ oàfuÎ f»q", &
check”F»q
, 0.5,

2447  
TRUE
, 
NULL
);

2450 
	`İt_»g_nÙe
 (
odb
,

2461 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl1", "l1 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe} (—ch clu¡”)", &
ÿche_dl1_İt
, "dl1:128:32:4:l",

2462  
TRUE
, 
NULL
);

2464 
	`İt_»g_št
 (
odb
, "-ÿche:dl1Ït", "l1 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl1_Ït
, 1,

2465  
TRUE
, 
NULL
);

2467 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:ml2", "l2 m‘¨ÿchcÚfig, i.e., {<cÚfig>|nÚe}", &
ÿche_ml2_İt
, "ml2:1024:64:4:l",

2468  
TRUE
, 
NULL
);

2470 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:dl2", "l2 d©¨ÿchcÚfig, i.e., {<cÚfig>|nÚe}", &
ÿche_dl2_İt
, "dl2:1024:64:4:l",

2471  
TRUE
, 
NULL
);

2473 
	`İt_»g_št
 (
odb
, "-ÿche:ml2Ït", "l2 m‘¨ÿchh™†©’cy (š cyşes)", &
ÿche_ml2_Ït
, 6,

2474  
TRUE
, 
NULL
);

2476 
	`İt_»g_št
 (
odb
, "-ÿche:dl2Ït", "l2 d©¨ÿchh™†©’cy (š cyşes)", &
ÿche_dl2_Ït
, 6,

2477  
TRUE
, 
NULL
);

2479 #ifdeà
TG


2480 
	`İt_»g_št
 (
odb
, "-ÿche:tg¿‹", "Œaffiøg’”©iÚ„©e", &
tg_¿‹
, 100,

2481  
TRUE
, 
NULL
);

2483 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:1", "l1 in¡ cachcÚfig, i.e., {<cÚfig>|dl1|dl2|nÚe}", &
ÿche_1_İt
, "il1:512:32:1:l",

2484  
TRUE
, 
NULL
);

2486 
	`İt_»g_nÙe
 (
odb
,

2496 
	`İt_»g_št
 (
odb
, "-ÿche:1Ït", "l1 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_1_Ït
, 1,

2497  
TRUE
, 
NULL
);

2499 
	`İt_»g_¡ršg
 (
odb
, "-ÿche:2", "l2 in¡ruùiÚ cachcÚfig, i.e., {<cÚfig>|dl2|nÚe}", &
ÿche_2_İt
, "dl2",

2500  
TRUE
, 
NULL
);

2502 
	`İt_»g_št
 (
odb
, "-ÿche:2Ït", "l2 in¡ruùiÚ cachh™†©’cy (š cyşes)", &
ÿche_2_Ït
, 6,

2503  
TRUE
, 
NULL
);

2505 #ifdeà
L2_COMM_LAT


2506 
	`İt_»g_æag
 (
odb
, "-ÿche:l2commÏt", "wh‘h”Øhav¨di¡ribu‹d L2 w™h communiÿtiÚ†©’c› added", &
l2_comm_Ït_’abËd
, 
FALSE
, 
TRUE
, 
NULL
);

2509 
	`İt_»g_æag
 (
odb
, "-ÿche:æush", "æush cache Ú sy¡em c®ls", &
æush_Ú_sysÿÎs
, 
FALSE
, 
TRUE
, 
NULL
);

2511 
	`İt_»g_æag
 (
odb
, "-ÿche:icom´ess", "cÚv”ˆ64-b™ in¡‡dd»s£ tØ32-b™ in¡ƒquiv®’ts", &
com´ess_iÿche_addrs
, 
FALSE
,

2512  
TRUE
, 
NULL
);

2515 
	`İt_»g_št_li¡
 (
odb
, "-mem:Ït", "memÜy‡cûs Ï‹ncy (<fœ¡_chunk> <š‹r_chunk>)", 
mem_Ït
, 
mem_ÃÉ
, &mem_nelt, mem_lat,

2516  
TRUE
, 
NULL
, 
FALSE
);

2518 
	`İt_»g_št
 (
odb
, "-mem:width", "memÜy‡cûs bu width (š by‹s)", &
mem_bus_width
, 32,

2519  
TRUE
, 
NULL
);

2520 
	`İt_»g_æßt
 (
odb
, "-mem:¥“d", "memÜy‡cûs bu ¥“d (š GHz)", &
mem_bus_¥“d
, 1,

2521  
TRUE
, 
NULL
);

2522 
	`İt_»g_št
 (
odb
, "-mem:pÜts", "memÜy‡cûs pÜˆnumb”", &
mem_pÜt_num
, 4,

2523  
TRUE
, 
NULL
);

2526 
	`İt_»g_¡ršg
 (
odb
, "-b:™lb", "š¡ruùiÚ TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
™lb_İt
, "™lb:16:4096:4:l", 
TRUE
, 
NULL
);

2528 
	`İt_»g_¡ršg
 (
odb
, "-b:db", "d©¨TLB cÚfig, i.e., {<cÚfig>|nÚe}", &
db_İt
, "db:32:4096:4:l", 
TRUE
, 
NULL
);

2530 
	`İt_»g_št
 (
odb
, "-b:Ït", "š¡/d©¨TLB mis Ï‹ncy (š cyşes)", &
b_miss_Ït
, 30,

2531  
TRUE
, 
NULL
);

2533 #ifdeà
NET_ALGR


2537 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:»c_®gr", "»ûiv”‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_»ûiv”
, 0,

2538  
TRUE
, 
NULL
);

2539 
	`İt_»g_št
 (
odb
, "-ÃtwÜk:Ãt_®gr", "cÚæiùiÚ‡lgÜism fÜ‚‘wÜk", &
ÃtwÜk_cÚæiù
, 0,

2540  
TRUE
, 
NULL
);

2544 
	`İt_»g_št
 (
odb
, "-»s:Ÿlu", "tÙ®‚umb” oàš‹g” ALU' avaabË (³¸şu¡”)", &
»s_Ÿlu_şu¡”
, 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
,

2545  
TRUE
, 
NULL
);

2547 #iâdeà
ALU_MERGE


2548 
	`İt_»g_št
 (
odb
, "-»s:imuÉ", "tÙ®‚umb” oàš‹g” muÉl›r/divid” avaabË (³¸şu¡”)", &
»s_imuÉ_şu¡”
, 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
,

2549  
TRUE
, 
NULL
);

2552 
	`İt_»g_št
 (
odb
, "-maxThrds", "Maximum Numb” oàTh»ad AÎowed", &
m_maxth»ads
, 1, 
TRUE
, 
NULL
);

2554 
	`İt_»g_æag
 (
odb
, "-Coh”’t_Cache", "Coh”’ˆCache", &
COHERENT_CACHE
, 1, 
TRUE
, 
NULL
);

2556 
	`İt_»g_æag
 (
odb
, "-MSI_´Ù", "MSI PrÙocŞ", &
MSI
, 0, 
TRUE
, 
NULL
);

2558 
	`İt_»g_æag
 (
odb
, "-SPEC", "SPEC B’chm¬ks", &
¥ec_b’chm¬ks
, 1, 
TRUE
, 
NULL
);

2560 #ifdeà 
PORT_PER_BANK


2561 
	`İt_»g_št
 (
odb
, "-»s:membªk", "numb” oàd©¨ÿchbªk avaabË (³¸Clu¡”ØCPU)", &
»s_membªk_şu¡”
, 2,

2562  
TRUE
, 
NULL
);

2564 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (³¸bªk)", &
»s_mem_pÜt_bªk
, 1,

2565  
TRUE
, 
NULL
);

2567 
	`İt_»g_št
 (
odb
, "-»s:mempÜt", "tÙ®‚umb” oàmemÜy sy¡em…Üt avaabË (tØCPU)", &
»s_mempÜt
, 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
,

2568  
TRUE
, 
NULL
);

2571 
	`İt_»g_št
 (
odb
, "-»s:å®u", "tÙ®‚umb” oàæßtšg…ošˆALU' avaabË (³¸şu¡”)", &
»s_å®u_şu¡”
, 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
,

2572  
TRUE
, 
NULL
);

2574 #iâdeà
ALU_MERGE


2575 
	`İt_»g_št
 (
odb
, "-»s:åmuÉ", "tÙ®‚umb” oàæßtšg…ošˆmuÉl›r/divid” avaabË (³¸şu¡”)", &
»s_åmuÉ_şu¡”
, 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
,

2576  
TRUE
, 
NULL
);

2579 
	`İt_»g_¡ršg_li¡
 (
odb
, "-pc¡©", "´of¡©(sèagaš¡exˆaddr' (muÉ u£ ok)", 
pc¡©_v¬s
, 
MAX_PCSTAT_VARS
, &
pc¡©_ÃÉ
, 
NULL
,

2580  
FALSE
, 
NULL
, 
TRUE
);

2582 
	`İt_»g_æag
 (
odb
, "-bugcom·t", "İ”©š backw¬d-com·tibË bug mod(fÜe¡šg oÆy)", &
bugcom·t_mode
, 
FALSE
, 
TRUE
, 
NULL
);

2584 
	`İt_»g_št
 (
sim_odb
, "-hÙ¥Ù:§m¶šg_štvl", "how mªy cyşe b‘w“ÀÿÎ tØupd©e_hÙ¥Ù_¡©s", &
hÙ¥Ù_cyşe_§m¶šg_štvl
,

2585  10000, 
FALSE
, 
NULL
);

2587 
	`İt_»g_št
 (
odb
, "-¿y:di§bËd", "¿y‡ùive", &
di§bË_¿y
, 1,

2588  
TRUE
, 
NULL
);

2592 #ifdeà
CPU_TRACE


2593 
	`İt_»g_¡ršg
(
odb
,"-ıu:Œaû","ffÜ cpu…–šŒaû„ecÜd",&
ıu_Œaû
, "", 
TRUE
, 
NULL
);

2595 #ifdeà
L2_TRACE


2596 
	`İt_»g_¡ršg
(
odb
,"-L2:Œaû","ffÜ L2¿û„ecÜd",&
L2_Œaû
, "", 
TRUE
, 
NULL
);

2599 
	`şu¡”_»g_İtiÚs
 (
odb
);

2600 
	`hÙ¥Ù_»g_İtiÚs
 (
odb
);

2603 
	`ÃtwÜk_»g_İtiÚs
 (
odb
);

2604 
	}
}

2608 
	$sim_check_İtiÚs
 (
İt_odb_t
 *
odb
,

2609 
¬gc
, **
¬gv
)

2611 
Çme
[128], 
c
;

2612 
n£ts
, 
bsize
, 
assoc
;

2614 
i
;

2615 
cÚ‹xt
 *
cu¼’t
;

2617 #ifdeà
LOAD_PREDICTOR


2619 
ld´ed
 = 
	`b´ed_ü—‹
 (
LDP»d2b™
,

2620  
bimod_cÚfig
[0],

2632 #ifdeà
ISU_N2


2633 ià(
ruu_issue_width
 < 1)

2634 
	`çl
 ("issue width must be…ositive‚on-zero");

2636 ià(
ruu_issue_width
 < 1 || (ruu_issue_width & (ruu_issue_width - 1)) != 0)

2637 
	`çl
 ("issue width must be…ositive‚on-zero‡nd‡…ower ofwo");

2642 
IIQ_size
 = 
IIQ_size_şu¡”
;

2643 
FIQ_size
 = 
FIQ_size_şu¡”
;

2644 
IPREG_size
 = 
IPREG_size_şu¡”
;

2645 
FPREG_size
 = 
FPREG_size_şu¡”
;

2647 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2649 ià(
IIQ_size
 < 1)

2650 
	`çl
 ("integer queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2652 ià(
FIQ_size
 < 1)

2653 
	`çl
 ("floating…oint queue must be…ositive‚on-zero‡nd‡…ower ofwo");

2655 #iâdeà
REG_RENAME_CONFIGUARE


2656 
p_tÙ®_»gs
 = 
IPREG_size
 + 
FPREG_size
 + 1;

2659 ià(
IPREG_size
 < 1)

2660 
	`çl
 ("integer…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2662 ià(
FPREG_size
 < 1)

2663 
	`çl
 ("floating…oint…hysical„egister file must be…ositive‚on-zero‡nd‡…ower ofwo");

2665 #ifdeà
RAW


2666 
¿wq_size
 = 
IIQ_size
;

2667 ià(
¿wq_size
 < 1 ||„awq_siz> 
RAWSIZE
)

2668 
	`çl
 ("»mÙacûs queu(%dèmu¡ bpos™ivnÚ-z”Øªd†es thª RAWSIZE (%d)", 
¿wq_size
, 
RAWSIZE
);

2671 ià(
ruu_comm™_width
 < 1)

2672 
	`çl
 ("commit width must be…ositive‚on-zero");

2674 ià(
RUU_size
 < 2 || (RUU_siz> 
RUUSIZE
))

2675 
	`çl
 ("RUU sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
RUUSIZE
);

2677 
LSQ_size
 = 
LSQ_size_şu¡”
;

2679 ià(
LSQ_size
 < 2 || (LSQ_siz> 
LSQSIZE
))

2680 
	`çl
 ("LSQ sizmu¡ b¨pos™ivnumb” > 1‡nd < %d", 
LSQSIZE
);

2684 ià(!
	`my¡ricmp
 (
ÿche_dl1_İt
, "none"))

2687 ià(
	`¡rcmp
 (
ÿche_dl2_İt
, "none"))

2688 
	`çl
 ("the†1 data cache must defined ifhe†2 cache is defined");

2689 
ÿche_dl2
 = 
NULL
;

2693 ià(
	`ssÿnf
 (
ÿche_dl1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2694 
	`çl
 ("bad†1 D-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2696 
i
 = 0; i < 
CLUSTERS
; i++)

2698 
ÿche_dl1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
,

2699  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2700 
dl1_acûss_â
, 
ÿche_dl1_Ït
, 
i
);

2702 #ifdeà
CACHE_SET_STAT


2703 ià(
ÿche_dl1
[
i
]->
n£ts
 > 
MAXCACHESET
)

2704 
	`çl
 ("CACHE_SET_STAT‡rray†imit must be > dl1->nsets");

2707 
ÿche_dl1_£t_shiá
 = 
ÿche_dl1
[0]->
£t_shiá
;

2708 
Üigš®_bsize
 = 
bsize
;

2710 ià(!
	`my¡ricmp
 (
ÿche_dl2_İt
, "none"))

2711 
ÿche_dl2
 = 
NULL
;

2714 ià(
	`ssÿnf
 (
ÿche_ml2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2715 
	`çl
 ("bad†2 D-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2716 
ÿche_ml2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
, 0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),
dl2_acûss_â
, 
ÿche_ml2_Ït
, -1);

2717 ià(
	`ssÿnf
 (
ÿche_dl2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2718 
	`çl
 ("bad†2 D-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2719 
ÿche_dl2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
TRUE
, 0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),
dl2_acûss_â
, 
ÿche_dl2_Ït
, -1);

2724 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "none"))

2726 
ÿche_1
[0] = 
NULL
;

2729 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2730 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2731 
ÿche_2
 = 
NULL
;

2733 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl1"))

2736 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2737 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2738 
ÿche_2
 = 
NULL
;

2740 ià(!
	`my¡ricmp
 (
ÿche_1_İt
, "dl2"))

2742 ià(!
ÿche_dl2
)

2743 
	`çl
 ("I-cache†1 cannot‡ccess D-cache†2‡s it's undefined");

2744 
ÿche_1
[0] = 
ÿche_dl2
;

2747 ià(
	`¡rcmp
 (
ÿche_2_İt
, "none"))

2748 
	`çl
 ("the†1 inst cache must defined ifhe†2 cache is defined");

2749 
ÿche_2
 = 
NULL
;

2753 ià(
	`ssÿnf
 (
ÿche_1_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2754 
	`çl
 ("bad†1 I-cache…arms: <name>:<nsets>:<bsize>:<assoc>:<repl>");

2756 
i
 = 0; i < 
CLUSTERS
; i++)

2758 
ÿche_1
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2759  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2760 
1_acûss_â
, 
ÿche_1_Ït
, 
i
);

2763 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "none"))

2764 
ÿche_2
 = 
NULL
;

2765 ià(!
	`my¡ricmp
 (
ÿche_2_İt
, "dl2"))

2767 ià(!
ÿche_dl2
)

2768 
	`çl
 ("I-cache†2 cannot‡ccess D-cache†2‡s it's undefined");

2769 
ÿche_2
 = 
ÿche_dl2
;

2773 ià(
	`ssÿnf
 (
ÿche_2_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2774 
	`çl
 ("bad†2 I-cache…arms: " "<name>:<nsets>:<bsize>:<assoc>:<repl>");

2776 
ÿche_2
 = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2777  0, 
assoc
, 
	`ÿche_ch¬2pŞicy
 (
c
),

2778 
2_acûss_â
, 
ÿche_2_Ït
, -1);

2783 
i
 = 0; i < 
CLUSTERS
; i++)

2785 ià(
	`ssÿnf
 (
™lb_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2786 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2788 
™lb
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,

2789   (
md_addr_t
), 
assoc
,

2790 
	`ÿche_ch¬2pŞicy
 (
c
), 
™lb_acûss_â
,

2791  1, 
i
);

2794 
i
 = 0; i < 
CLUSTERS
; i++)

2796 ià(
	`ssÿnf
 (
db_İt
, "%[^:]:%d:%d:%d:%c", 
Çme
, &
n£ts
, &
bsize
, &
assoc
, &
c
) != 5)

2797 
	`çl
 ("bad TLB…arms: <name>:<nsets>:<page_size>:<assoc>:<repl>");

2798 
db
[
i
] = 
	`ÿche_ü—‹
 (
Çme
, 
n£ts
, 
bsize
, 
FALSE
,  (
md_addr_t
), 
assoc
,
	`ÿche_ch¬2pŞicy
 (
c
), 
db_acûss_â
, 1, i);

2799 iàĞ
db
[
i
]->
g_shiá
 !ğ
MD_LOG_PAGE_SIZE
 )

2800 
	`·nic
(" dtlb createƒrror!\n ");

2803 ià(
ÿche_dl1_Ït
 < 1)

2804 
	`çl
 ("l1 data cache†atency must be greaterhan zero");

2806 ià(
ÿche_dl2_Ït
 < 1)

2807 
	`çl
 ("l2 data cache†atency must be greaterhan zero");

2809 ià(
ÿche_ml2_Ït
 < 1)

2810 
	`çl
 ("l2 meta cache†atency must be greaterhan zero");

2812 ià(
ÿche_1_Ït
 < 1)

2813 
	`çl
 ("l1 instruction cache†atency must be greaterhan zero");

2815 ià(
ÿche_2_Ït
 < 1)

2816 
	`çl
 ("l2 instruction cache†atency must be greaterhan zero");

2818 ià(
mem_ÃÉ
 != 2)

2819 
	`çl
 ("bad memory‡ccess†atency (<first_chunk> <inter_chunk>)");

2821 ià(
mem_Ït
[0] < 1 || mem_lat[1] < 1)

2822 
	`çl
 ("all memory‡ccess†atencies must be greaterhan zero");

2824 ià(
mem_bus_width
 < 1 || (mem_bus_width & (mem_bus_width - 1)) != 0)

2825 
	`çl
 ("memory bus width must be…ositive‚on-zero‡nd‡…ower ofwo");

2827 ià(
b_miss_Ït
 < 1)

2828 
	`çl
 ("TLB miss†atency must be greaterhan zero");

2830 
»s_Ÿlu
 = 
»s_Ÿlu_şu¡”
 * 
CLUSTERS
;

2832 ià(
»s_Ÿlu
 < 1)

2833 
	`çl
 ("number of integer ALU's must be greaterhan zero");

2834 ià(
»s_Ÿlu
 > 
MAX_INSTS_PER_CLASS
)

2835 
	`çl
 ("number of integer ALU's must be <= MAX_INSTS_PER_CLASS");

2837 
fu_cÚfig
[
FU_IALU_INDEX
].
quªt™y
 = 
»s_Ÿlu
;

2839 #iâdeà
ALU_MERGE


2840 
»s_imuÉ
 = 
»s_imuÉ_şu¡”
 * 
CLUSTERS
;

2841 ià(
»s_imuÉ
 < 1)

2842 
	`çl
 ("number of integer multiplier/dividers must be greaterhan zero");

2843 ià(
»s_imuÉ
 > 
MAX_INSTS_PER_CLASS
)

2844 
	`çl
 ("number of integer mult/div's must be <= MAX_INSTS_PER_CLASS");

2845 
fu_cÚfig
[
FU_IMULT_INDEX
].
quªt™y
 = 
»s_imuÉ
;

2848 #ifdeà
PORT_PER_BANK


2849 
»s_membªk
 = 
»s_membªk_şu¡”
 * 
CLUSTERS
;

2851 ià(
»s_membªk
 < 1)

2852 
	`çl
 ("number of memory system banks must be greaterhan zero");

2855 #ifdeà 
PARTITIONED_LSQ


2856 
lsq_·¹_bªk
 = 
»s_membªk
 / 
LSQ_PARTS
;

2858 ià(
»s_mem_pÜt_bªk
 < 1)

2859 
	`çl
 ("number of memory system…orts/bank must be greaterhan zero");

2860 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAX_INSTS_PER_CLASS
)

2861 
	`çl
 ("number ofotal memory system…orts must be <= MAX_INSTS_PER_CLASS");

2862 ià(
»s_mem_pÜt_bªk
 * 
»s_membªk
 > 
MAXCACHEPORTS
)

2863 
	`çl
 ("number ofotal memory system…orts must be <= MAXCACHEPORTS");

2864 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

2866 ià(
»s_mempÜt
 < 1)

2867 
	`çl
 ("number of memory system…orts must be greaterhan zero");

2868 ià(
»s_mempÜt
 > 
MAX_INSTS_PER_CLASS
)

2869 
	`çl
 ("number of memory system…orts must be <= MAX_INSTS_PER_CLASS");

2870 
fu_cÚfig
[
FU_MEMPORT_INDEX
].
quªt™y
 = 
»s_mempÜt
;

2873 
»s_å®u
 = 
»s_å®u_şu¡”
 * 
CLUSTERS
;

2874 ià(
»s_å®u
 < 1)

2875 
	`çl
 ("number of floating…oint ALU's must be greaterhan zero");

2876 ià(
»s_å®u
 > 
MAX_INSTS_PER_CLASS
)

2877 
	`çl
 ("number of floating…oint ALU's must be <= MAX_INSTS_PER_CLASS");

2878 
fu_cÚfig
[
FU_FPALU_INDEX
].
quªt™y
 = 
»s_å®u
;

2880 #iâdeà
ALU_MERGE


2881 
»s_åmuÉ
 = 
»s_åmuÉ_şu¡”
 * 
CLUSTERS
;

2882 ià(
»s_åmuÉ
 < 1)

2883 
	`çl
 ("number of floating…oint multiplier/dividers must be > zero");

2884 ià(
»s_åmuÉ
 > 
MAX_INSTS_PER_CLASS
)

2885 
	`çl
 ("number of FP mult/div's must be <= MAX_INSTS_PER_CLASS");

2886 
fu_cÚfig
[
FU_FPMULT_INDEX
].
quªt™y
 = 
»s_åmuÉ
;

2888 #ifdeà
TOKENB


2889 ià(
tok’B
)

2890 
	`tc_š™
 (
MAXTHREADS
, 
ÿche_dl2
->
assoc
 * cache_dl2->
n£ts
, cache_dl2->
bsize
);

2891 ià(
LSQ_PARTS
 !ğ(
n_way_ÿche
 * 
MAXTHREADS
))

2892 
	`çl
 ("This only supports 1 cache…erhread");

2894 
	`ÃtwÜk_check_İtiÚs
 ();

2895 
	`şu¡”_check_İtiÚs
 ();

2896 
	`š™_lšk_desü_bËs
 ();

2897 
	`š™_routšg_bË
 ();

2898 
	`¬b™¿ry_routšg_bË_š™
 ();

2899 
	}
}

2903 
	$sim_aux_cÚfig
 (
FILE
 * 
¡»am
)

2906 
	}
}

2909 
couÁ”_t
 
	gtÙ®Upg¿des
 = 0;

2910 
couÁ”_t
 
	gtÙ®N‘Upg¿des
 = 0;

2911 
couÁ”_t
 
	gtÙ®Upg¿desU§bË
 = 0;

2912 
couÁ”_t
 
	gtÙ®Upg¿desB’eficŸl
 = 0;

2913 
couÁ”_t
 
	glock_ÃtwÜk_acûss
 = 0;

2916 
couÁ”_t
 
	g»q_¥ªd
[261];

2917 
couÁ”_t
 
	g¥ªd
[5];

2918 
couÁ”_t
 
	gdowng¿de_w
, 
	gdowng¿de_r
;

2920 
couÁ”_t
 
sh¬”_di¡r
[
MAXTHREADS
];

2921 
couÁ”_t
 
tÙ®_cÜÃr_·ck‘s
, 
tÙ®_ÃighbÜ_·ck‘s
, 
tÙ®_çr_·ck‘s
;

2923 
couÁ”_t
 
	gtÙ®N‘Wr™es
 = 0;

2924 
couÁ”_t
 
	gtÙ®Wr™esU§bË
 = 0;

2925 
couÁ”_t
 
	gtÙ®Wr™esB’eficŸl
 = 0;

2926 
couÁ”_t
 
	gexşusive_somewh”e
 = 0;

2927 
couÁ”_t
 
	gäÚt_wr™e
 = 0;

2930 
couÁ”_t
 
	gtÙ®L2Wr™eReqH™s
 = 0;

2931 
couÁ”_t
 
	gtÙ®L2Wr™eReqNoSh¬”
 = 0;

2932 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœty
 = 0;

2933 
couÁ”_t
 
	gd–ayL2Wr™eReqDœty
 = 0;

2934 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬ed
 = 0;

2935 
couÁ”_t
 
	gd–ayL2Wr™eReqSh¬ed
 = 0;

2937 
couÁ”_t
 
	gtÙ®L2R—dReqH™s
 = 0;

2938 
couÁ”_t
 
	gtÙ®L2R—dReqNoSh¬”
 = 0;

2939 
couÁ”_t
 
	gtÙ®L2R—dReqDœty
 = 0;

2940 
couÁ”_t
 
	gd–ayL2R—dReqDœty
 = 0;

2942 
couÁ”_t
 
	gtÙ®L2R—dReqSh¬ed
 = 0;

2943 
couÁ”_t
 
	gtÙ®L2Wr™eReqSh¬edWT
 = 0;

2944 
couÁ”_t
 
	gtÙ®L2Wr™eReqDœtyWT
 = 0;

2945 
couÁ”_t
 
	gtÙ®L2R—dReqDœtyWT
 = 0;

2947 
couÁ”_t
 
	gtÙ®L1LšeP»fU£
 = 0;

2948 
couÁ”_t
 
	gtÙ®L1LšeP»fNoU£
 = 0;

2949 
couÁ”_t
 
	gtÙ®L1LšeR—dU£
 = 0;

2950 
couÁ”_t
 
	gtÙ®L1LšeR—dNoU£
 = 0;

2951 
couÁ”_t
 
	gtÙ®L1LšeWr™eU£
 = 0;

2952 
couÁ”_t
 
	gtÙ®L1LšeWr™eNoU£
 = 0;

2954 
couÁ”_t
 
	gtÙ®L1LšeExlU£d
 = 0;

2955 
couÁ”_t
 
	gtÙ®L1LšeExlInv
 = 0;

2956 
couÁ”_t
 
	gtÙ®L1LšeExlDrİ
 = 0;

2958 
couÁ”_t
 
	gtÙ®L2ReqPrimMiss
 = 0;

2959 
couÁ”_t
 
	gtÙ®L2ReqSecMiss
 = 0;

2960 
couÁ”_t
 
	gtÙ®L2ReqH™
 = 0;

2961 
couÁ”_t
 
	gtÙ®L2ReqInT¿ns
 = 0;

2962 
couÁ”_t
 
	gtÙ®L2OwnReqInT¿ns
 = 0;

2963 
couÁ”_t
 
	gtÙ®L2ReqInInv
 = 0;

2965 
couÁ”_t
 
	gd–ayL2ReqPrimMiss
 = 0;

2966 
couÁ”_t
 
	gd–ayL2ReqSecMiss
 = 0;

2967 
couÁ”_t
 
	gd–ayL2ReqH™
 = 0;

2968 
couÁ”_t
 
	gd–ayL2ReqInT¿ns
 = 0;

2969 
couÁ”_t
 
	gd–ayL2OwnReqInT¿ns
 = 0;

2970 
couÁ”_t
 
	gd–ayL2ReqInInv
 = 0;

2972 
couÁ”_t
 
	gtÙ®Wr™eReq
 = 0;

2973 
couÁ”_t
 
	gtÙ®Wr™eReqInv
 = 0;

2974 
couÁ”_t
 
	gtÙ®Wr™eD–ay
 = 0;

2975 
couÁ”_t
 
	gtÙ®Wr™eInvD–ay
 = 0;

2976 
couÁ”_t
 
	gtÙ®Upg¿deReq
 = 0;

2977 
couÁ”_t
 
	gtÙ®Upg¿deReqInv
 = 0;

2978 
couÁ”_t
 
	gtÙ®Upg¿deD–ay
 = 0;

2979 
couÁ”_t
 
	gtÙ®Upg¿deInvD–ay
 = 0;

2981 
couÁ”_t
 
	gcouÁNÚAÎocR—dE¬ly
 = 0;

2985 
	$sim_»g_¡©s
 (
¡©_sdb_t
 *
sdb
)

2987 
i
, 
j
;

2991 
	`¡©_»g_couÁ”
 (
sdb
, "pu»_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
pu»_num_š¢
,…u»_num_š¢, 
NULL
);

2992 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d inşudšg synchrÚiz©iÚ in¡ruùiÚs", &
tÙ®_num_š¢
,Ù®_num_š¢, 
NULL
);

2993 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®B¬r›rs", "tÙ®‚umb” oàb¬r›rs", &
TÙ®B¬r›rs
, 0, 
NULL
);

2994 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®Locks", "tÙ®‚umb” oàlocks", &
TÙ®Locks
, 0, 
NULL
);

2995 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_»fs", "tÙ®‚umb” oàlßd ªd stÜe comm™‹d", &
sim_num_»fs
, 0, 
NULL
);

2996 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_lßds", "tÙ®‚umb” oàlßd comm™‹d", &
sim_num_lßds
, 0, 
NULL
);

2997 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_num_¡Ües", "tÙ®‚umb” oà¡Üe comm™‹d", "sim_num_»f - sim_num_lßds", 
NULL
);

2998 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_b¿nches", "tÙ®‚umb” oàb¿nche comm™‹d", &
sim_num_b¿nches
, 0, 
NULL
);

2999 
	`¡©_»g_št
 (
sdb
, "sim_–­£d_time", "tÙ® simuÏtiÚimš secÚds", &
sim_–­£d_time
, 0, 
NULL
);

3000 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_š¡_¿‹", "simuÏtiÚ s³ed (š in¡s/£c)", "sim_num_š¢ / sim_–­£d_time", 
NULL
);

3001 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_š¢", "tÙ®‚umb” oàš¡ruùiÚ execu‹d", &
sim_tÙ®_š¢
, 0, 
NULL
);

3002 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_»fs", "tÙ®‚umb” oàlßd ªd stÜe execu‹d", &
sim_tÙ®_»fs
, 0, 
NULL
);

3003 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_lßds", "tÙ®‚umb” oàlßd execu‹d", &
sim_tÙ®_lßds
, 0, 
NULL
);

3004 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_tÙ®_¡Ües", "tÙ®‚umb” oà¡Üe execu‹d", "sim_tÙ®_»f - sim_tÙ®_lßds", 
NULL
);

3005 
	`¡©_»g_couÁ”
 (
sdb
, "sim_tÙ®_b¿nches", "tÙ®‚umb” oàb¿nche execu‹d", &
sim_tÙ®_b¿nches
, 0, 
NULL
);

3008 
	`¡©_»g_couÁ”
 (
sdb
, "»®SimCyşe", "", &
»®SimCyşe
, 0, 
NULL
);

3009 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_IPC", "š¡ruùiÚ ³¸cyşe", "sim_num_š¢ / sim_cyşe", 
NULL
);

3010 
	`¡©_»g_fÜmuÏ
 (
sdb
, "»®SimIPC", "", "pu»_num_š¢ /„—lSimCyşe", 
NULL
);

3011 
	`¡©_»g_fÜmuÏ
 (
sdb
, "mašEfãùiveIPC", "", "pu»_num_š¢ / (»®SimCyş- maš_th»ad_¡®l_couÁ)", 
NULL
);

3012 
	`¡©_»g_couÁ”
 (
sdb
, "num_of_šv®id©iÚs", "Numb”_Of_V®id©iÚs", &
num_of_šv®id©iÚs
, 0, 
NULL
);

3014 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

3015 
	`¡©_»g_couÁ”
 (
sdb
, "busU£d", "Numb” oàtime bu i u£d", &
busU£d
, 0, 
NULL
);

3016 
	`¡©_»g_couÁ”
 (
sdb
, "busOccu·ncy", "Occu·ncy oàbu š‚umb” oàcyşes", &
busOccu·ncy
, 0, 
NULL
);

3017 
	`¡©_»g_fÜmuÏ
 (
sdb
, "busOccu·ncyP”Cyşe", "Bu occu·ncy…” cyşe", "busOccu·ncy /„—lSimCyşe", 
NULL
);

3018 
	`¡©_»g_couÁ”
 (
sdb
, "¡®lNoBusSlÙ", "¡®lNoBusSlÙ", &
¡®lNoBusSlÙ
, 0, 
NULL
);

3020 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_CPI", "cyşe ³¸š¡ruùiÚ", "sim_cyş/ sim_num_š¢", 
NULL
);

3021 
	`¡©_»g_fÜmuÏ
 (
sdb
, "sim_exec_BW", "tÙ® in¡ruùiÚ (mis-¥eø+ comm™‹dè³¸cyşe", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

3022 
	`¡©_»g_couÁ”
 (
sdb
, "ldIssueCouÁ", "tÙ®†d issu©tm•t", &
ldIssueCouÁ
, 0, 
NULL
);

3023 #ifdeà
PULL_BACK


3024 
ch2
[32];

3026 
i
 = 0; i < 
numcÚ‹xts
; i++)

3028 
	`¥rštf
 (
ch2
, "puÎbackCyşeCÁ_%d", 
i
);

3029 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
puÎbackCyşeCouÁ
[
i
], 0, 
NULL
);

3032 
	`¡©_»g_couÁ”
 (
sdb
, "max_lsq_num", "", &
LSQ_NUM_MORE_THAN_TWO
, 0, 
NULL
);

3033 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š‡Î", &
TÙ®D©aPack‘sInAÎ
, 0, 
NULL
);

3034 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š‡Î", &
TÙ®M‘aPack‘sInAÎ
, 0, 
NULL
);

3035 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_sync_couÁs", "tÙ®‚um oàd©¨synø·ck‘ š‡Î", &
TÙ®SyncD©aPack‘s
, 0, 
NULL
);

3036 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_m‘a_sync_couÁs", "tÙ®‚um oàm‘¨synø·ck‘ š‡Î", &
TÙ®SyncM‘aPack‘s
, 0, 
NULL
);

3037 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İtiÿl_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š o±iÿÈÃtwÜk", &
İtiÿl_d©a_·ck‘s
, 0, 
NULL
);

3038 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İtiÿl_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š o±iÿÈÃtwÜk", &
İtiÿl_m‘a_·ck‘s
, 0, 
NULL
);

3039 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_d©a_couÁs", "tÙ®‚um oàd©¨·ck‘ š mesh‚‘wÜk", &
mesh_d©a_·ck‘s
, 0, 
NULL
);

3040 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_m‘a_couÁs", "tÙ®‚um oàm‘¨·ck‘ š mesh‚‘wÜk", &
mesh_m‘a_·ck‘s
, 0, 
NULL
);

3041 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_wr™eup", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®SyncWr™eup
, 0, 
NULL
);

3042 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_wr™emiss", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®SyncWr™eM
, 0, 
NULL
);

3043 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_»admiss", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®SyncR—dM
, 0, 
NULL
);

3044 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_ev’t_couÁ", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®NÜm®Ev’t
, 0, 
NULL
);

3045 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_ev’t_couÁ", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®SyncEv’t
, 0, 
NULL
);

3046 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_ev’t_couÁ", "tÙ®‚um oàev’ˆš™® c»©ed", &
tÙ®ev’tcouÁnum
, 0, 
NULL
);

3047 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_wr™e_šdiÿ‹", "", &
tÙ®Wr™eIndiÿ‹
, 0, 
NULL
);

3048 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_exşusive_modif›d", "", &
tÙ®_exşusive_modif›d
, 0, 
NULL
);

3049 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_exşusive_cÚf", "", &
tÙ®_exşusive_cÚf
, 0, 
NULL
);

3050 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_exşusive_üoss", "", &
tÙ®_exşusive_üoss
, 0, 
NULL
);

3051 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_wb_—¾y", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
wr™e_back_—¾y
, 0, 
NULL
);

3052 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_´eãtch
, 0, 
NULL
);

3053 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l2_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL2…»ãtch", &
l2_´eãtch_num
, 0, 
NULL
);

3054 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_fœ¡_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_fœ¡_´eãtch
, 0, 
NULL
);

3055 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_£c_couÁ", "tÙ®‚um oàev’ˆü—‹d dutØL1…»ãtch", &
tÙ®_L1_£c_´eãtch
, 0, 
NULL
);

3056 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_u£fuÎ", "tÙ®‚um oàu£fuÎ L1…»ãtch", &
L1_´eãtch_u£fuÎ
, 0, 
NULL
);

3057 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_l1_wr™—á”", "tÙ®‚um oàu£fuÎ L1…»ãtch", &
L1_´eãtch_wr™—á”
, 0, 
NULL
);

3059 
	`¡©_»g_couÁ”
 (
sdb
, "sim_num_š¢", "tÙ®‚umb” oàš¡ruùiÚ comm™‹d‚Ù inşudšg cÚsi¡’cy„•Ïy in¡ruùiÚs", &
sim_num_š¢
, sim_num_š¢, 
NULL
);

3060 
	`¡©_»g_couÁ”
 (
sdb
, "sim_cyş ", "tÙ® simuÏtiÚimš cyşes", &
sim_cyşe
, 0, 
NULL
);

3061 
	`¡©_»g_couÁ”
 (
sdb
, "»¶aû_hi¡Üy ", "d•th oà»¶aû hi¡Üy", &
»¶aû_hi¡Üy_d•th
, 
REPLACE_HISTORY
, 
NULL
);

3062 
	`¡©_»g_couÁ”
 (
sdb
, "coh”’û_hi¡Üy ", "d•th oàcoh”’û hi¡Üy", &
coh”’û_hi¡Üy_d•th
, 
COHERENCE_HISTORY
, 
NULL
);

3063 
	`¡©_»g_couÁ”
 (
sdb
, "´eãtch_»¶aû_hi¡Üy ", "d•th oà´eãtch„•Ïû hi¡Üy", &
´eãtch_»¶aû_hi¡Üy_d•th
, 
PREFETCH_REPLACE_HISTORY
, 
NULL
);

3064 
	`¡©_»g_couÁ”
 (
sdb
, "L1_miss_bË_siz ", "L1_miss_bË_size", &
L1_miss_bË_size
, 
L1_MISS_TABLE_SIZE
, 
NULL
);

3065 
	`¡©_»g_couÁ”
 (
sdb
, "L1_¡»am_’Œ›  ", "L1_¡»am_’Œ›s", &
L1_¡»am_’Œ›s
, 
L1_STREAM_ENTRIES
, 
NULL
);

3066 
	`¡©_»g_couÁ”
 (
sdb
, "L2_miss_bË_siz ", "L2_miss_bË_size", &
L2_miss_bË_size
, 
L2_MISS_TABLE_SIZE
, 
NULL
);

3067 
	`¡©_»g_couÁ”
 (
sdb
, "L2_¡»am_’Œ›  ", "L2_¡»am_’Œ›s", &
L2_¡»am_’Œ›s
, 
L2_STREAM_ENTRIES
, 
NULL
);

3069 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®_M‘aPack‘s_Num ", "tÙ®‚umb” oàM‘aPack‘s", &
TÙ®_M‘aPack‘s_1
, 0, 
NULL
);

3070 
	`¡©_»g_couÁ”
 (
sdb
, "TÙ®_D©aPack‘s_Num ", "tÙ®‚umb” oàD©aPack‘s", &
TÙ®_D©aPack‘s_1
, 0, 
NULL
);

3072 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_MEM_L2P»ãtch_Req ", "tÙ®_L2_MEM_L2P»ãtch_Req", &
tÙ®_L2_MEM_L2P»ãtch_Req
, 0, 
NULL
);

3073 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_MEM_D©a_Miss_Req ", "tÙ®_L2_MEM_D©a_Miss_Req", &
tÙ®_L2_MEM_D©a_Miss_Req
, 0, 
NULL
);

3074 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_MEM_In¡_Miss_Req ", "tÙ®_L2_MEM_In¡_Miss_Req", &
tÙ®_L2_MEM_In¡_Miss_Req
, 0, 
NULL
);

3075 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_MEM_L2_D©a_Paylßd ", "tÙ®_MEM_L2_D©a_Paylßd", &
tÙ®_MEM_L2_D©a_Paylßd
, 0, 
NULL
);

3076 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_MEM_L2_In¡_Paylßd ", "tÙ®_MEM_L2_In¡_Paylßd", &
tÙ®_MEM_L2_In¡_Paylßd
, 0, 
NULL
);

3077 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_MEM_D©a_Paylßd ", "tÙ®_L2_MEM_D©a_Paylßd", &
tÙ®_L2_MEM_D©a_Paylßd
, 0, 
NULL
);

3078 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_In¡_Miss_Req ", "tÙ®_L1_L2_In¡_Miss_Req", &
tÙ®_L1_L2_In¡_Miss_Req
, 0, 
NULL
);

3079 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_In¡_Paylßd ", "tÙ®_L2_L1_In¡_Paylßd", &
tÙ®_L2_L1_In¡_Paylßd
, 0, 
NULL
);

3080 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_R—d_Miss_Req ", "tÙ®_L1_L2_D©a_R—d_Miss_Req", &
tÙ®_L1_L2_D©a_R—d_Miss_Req
, 0, 
NULL
);

3081 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_R—d_Miss_Paylßd ", "tÙ®_L2_L1_D©a_R—d_Miss_Paylßd", &
tÙ®_L2_L1_D©a_R—d_Miss_Paylßd
, 0, 
NULL
);

3082 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_R—d_Inv®id ", "tÙ®_L2_L1_D©a_R—d_Inv®id", &
tÙ®_L2_L1_D©a_R—d_Inv®id
, 0, 
NULL
);

3083 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_R—d_Inv®id_Ack ", "tÙ®_L1_L2_D©a_R—d_Inv®id_Ack", &
tÙ®_L1_L2_D©a_R—d_Inv®id_Ack
, 0, 
NULL
);

3084 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_R—d_Inv®id_Paylßd ", "tÙ®_L1_L2_D©a_R—d_Inv®id_Paylßd", &
tÙ®_L1_L2_D©a_R—d_Inv®id_Paylßd
, 0, 
NULL
);

3085 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_Wr™e_Miss_Req ", "tÙ®_L1_L2_D©a_Wr™e_Miss_Req", &
tÙ®_L1_L2_D©a_Wr™e_Miss_Req
, 0, 
NULL
);

3086 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_Wr™e_Miss_Paylßd ", "tÙ®_L2_L1_D©a_Wr™e_Miss_Paylßd", &
tÙ®_L2_L1_D©a_Wr™e_Miss_Paylßd
, 0, 
NULL
);

3087 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_L2»¶aûd_Inv®id ", "tÙ®_L2_L1_D©a_L2»¶aûd_Inv®id", &
tÙ®_L2_L1_D©a_L2»¶aûd_Inv®id
, 0, 
NULL
);

3088 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_Wr™e_Inv®id ", "tÙ®_L2_L1_D©a_Wr™e_Inv®id", &
tÙ®_L2_L1_D©a_Wr™e_Inv®id
, 0, 
NULL
);

3089 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Ack ", "tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Ack", &
tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Ack
, 0, 
NULL
);

3090 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_Wr™e_Inv®id_Ack ", "tÙ®_L1_L2_D©a_Wr™e_Inv®id_Ack", &
tÙ®_L1_L2_D©a_Wr™e_Inv®id_Ack
, 0, 
NULL
);

3091 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Paylßd ", "tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Paylßd", &
tÙ®_L1_L2_D©a_L2»¶aûd_Inv®id_Paylßd
, 0, 
NULL
);

3092 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_Wr™e_Inv®id_Paylßd ", "tÙ®_L1_L2_D©a_Wr™e_Inv®id_Paylßd", &
tÙ®_L1_L2_D©a_Wr™e_Inv®id_Paylßd
, 0, 
NULL
);

3093 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_Wr™e_Upd© ", "tÙ®_L1_L2_D©a_Wr™e_Upd©e", &
tÙ®_L1_L2_D©a_Wr™e_Upd©e
, 0, 
NULL
);

3094 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_Wr™e_Upd©e_Ack ", "tÙ®_L2_L1_D©a_Wr™e_Upd©e_Ack", &
tÙ®_L2_L1_D©a_Wr™e_Upd©e_Ack
, 0, 
NULL
);

3095 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_D©a_Wr™eback_Paylßd ", "tÙ®_L1_L2_D©a_Wr™eback_Paylßd", &
tÙ®_L1_L2_D©a_Wr™eback_Paylßd
, 0, 
NULL
);

3096 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_V”ify_Ack ", "tÙ®_L2_L1_D©a_V”ify_Ack", &
tÙ®_L2_L1_D©a_V”ify_Ack
, 0, 
NULL
);

3097 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_V”ify_PÏylßd ", "tÙ®_L2_L1_D©a_V”ify_PÏylßd", &
tÙ®_L2_L1_D©a_V”ify_PÏylßd
, 0, 
NULL
);

3098 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_D©a_P»ãtch_PÏylßd_PPP ", "tÙ®_L2_L1_D©a_P»ãtch_PÏylßd_PPP", &
tÙ®_L2_L1_D©a_P»ãtch_PÏylßd_PPP
, 0, 
NULL
);

3099 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_R—d_V”ify_Req ", "tÙ®_L1_L2_R—d_V”ify_Req", &
tÙ®_L1_L2_R—d_V”ify_Req
, 0, 
NULL
);

3100 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_Wr™e_V”ify_Req ", "tÙ®_L1_L2_Wr™e_V”ify_Req", &
tÙ®_L1_L2_Wr™e_V”ify_Req
, 0, 
NULL
);

3101 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_shr_b_miss_Req ", "tÙ®_L1_L2_shr_b_miss_Req", &
tÙ®_L1_L2_shr_b_miss_Req
, 0, 
NULL
);

3102 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_shr_b_wr™e_back_Req ", "tÙ®_L1_L2_shr_b_wr™e_back_Req", &
tÙ®_L1_L2_shr_b_wr™e_back_Req
, 0, 
NULL
);

3103 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_shr_b_¤_»cov”y_Req ", "tÙ®_L1_L2_shr_b_¤_»cov”y_Req", &
tÙ®_L1_L2_shr_b_¤_»cov”y_Req
, 0, 
NULL
);

3104 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_shr_b_upd©e_´_ack_Req ", "tÙ®_L1_L2_shr_b_upd©e_´_ack_Req", &
tÙ®_L1_L2_shr_b_upd©e_´_ack_Req
, 0, 
NULL
);

3105 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_shr_b_upd©e_pw_ack_Req ", "tÙ®_L1_L2_shr_b_upd©e_pw_ack_Req", &
tÙ®_L1_L2_shr_b_upd©e_pw_ack_Req
, 0, 
NULL
);

3106 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_shr_b_»cov”y_ack_Req ", "tÙ®_L1_L2_shr_b_»cov”y_ack_Req", &
tÙ®_L1_L2_shr_b_»cov”y_ack_Req
, 0, 
NULL
);

3107 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_dœ_b_»fl_Req ", "tÙ®_L1_L2_dœ_b_»fl_Req", &
tÙ®_L1_L2_dœ_b_»fl_Req
, 0, 
NULL
);

3108 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_dœ_b_upd©e_Req ", "tÙ®_L1_L2_dœ_b_upd©e_Req", &
tÙ®_L1_L2_dœ_b_upd©e_Req
, 0, 
NULL
);

3109 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_dœ_b_»cov”y_Req ", "tÙ®_L1_L2_dœ_b_»cov”y_Req", &
tÙ®_L1_L2_dœ_b_»cov”y_Req
, 0, 
NULL
);

3110 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_L1_dœ_shr_»ad ", "tÙ®_L2_L1_dœ_shr_»ad", &
tÙ®_L2_L1_dœ_shr_»ad
, 0, 
NULL
);

3111 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_ack_shr_»ad ", "tÙ®_L1_L2_ack_shr_»ad", &
tÙ®_L1_L2_ack_shr_»ad
, 0, 
NULL
);

3112 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_L2_šfÜm_back ", "tÙ®_L1_L2_šfÜm_back", &
tÙ®_L1_L2_šfÜm_back
, 0, 
NULL
);

3113 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_TSHR_FuÎ ", "tÙ®_TSHR_FuÎ", &
tÙ®_TSHR_FuÎ
, 0, 
NULL
);

3116 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûs  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss", &
Ëv–1_d©a_ÿche_acûss_num
, 0, 
NULL
);

3117 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad", &
Ëv–1_d©a_ÿche_acûss_»ad_num
, 0, 
NULL
);

3118 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™ ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e", &
Ëv–1_d©a_ÿche_acûss_wr™e_num
, 0, 
NULL
);

3119 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad_h™ ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad_h™", &
Ëv–1_d©a_ÿche_acûss_»ad_h™_num
, 0, 
NULL
);

3120 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad_miss", &
Ëv–1_d©a_ÿche_acûss_»ad_miss_num
, 0, 
NULL
);

3121 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad_compulsÜy_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad_compulsÜy_miss", &
Ëv–1_d©a_ÿche_acûss_»ad_compulsÜy_miss_num
, 0, 
NULL
);

3122 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad_ÿ·c™y_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad_ÿ·c™y_miss", &
Ëv–1_d©a_ÿche_acûss_»ad_ÿ·c™y_miss_num
, 0, 
NULL
);

3123 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad_coh”’û_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad_coh”’û_miss", &
Ëv–1_d©a_ÿche_acûss_»ad_coh”’û_miss_num
, 0, 
NULL
);

3124 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_»ad_´eãtch_ÿ·c™y_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_»ad_´eãtch_ÿ·c™y_miss", &
Ëv–1_d©a_ÿche_acûss_»ad_´eãtch_ÿ·c™y_miss_num
, 0, 
NULL
);

3125 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_miss", &
Ëv–1_d©a_ÿche_acûss_wr™e_miss_num
, 0, 
NULL
);

3126 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_compulsÜy_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_compulsÜy_miss", &
Ëv–1_d©a_ÿche_acûss_wr™e_compulsÜy_miss_num
, 0, 
NULL
);

3127 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_ÿ·c™y_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_ÿ·c™y_miss", &
Ëv–1_d©a_ÿche_acûss_wr™e_ÿ·c™y_miss_num
, 0, 
NULL
);

3128 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_coh”’û_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_coh”’û_miss", &
Ëv–1_d©a_ÿche_acûss_wr™e_coh”’û_miss_num
, 0, 
NULL
);

3129 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_´eãtch_ÿ·c™y_mis  ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_´eãtch_ÿ·c™y_miss", &
Ëv–1_d©a_ÿche_acûss_wr™e_´eãtch_ÿ·c™y_miss_num
, 0, 
NULL
);

3130 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_loÿÈ ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_loÿl", &
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_num
, 0, 
NULL
);

3131 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_FPP ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_loÿl_FPP", &
Ëv–1_d©a_ÿche_acûss_wr™e_loÿl_FPP_num
, 0, 
NULL
);

3132 
	`¡©_»g_couÁ”
 (
sdb
, "Ëv–1_d©a_ÿche_acûss_wr™e_upd© ", "tÙ®‚um oàËv–1 d©¨ÿche_acûss_wr™e_upd©e", &
Ëv–1_d©a_ÿche_acûss_wr™e_upd©e_num
, 0, 
NULL
);

3135 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_L1_miss_L2_h™_num ", "»ad L1 mis L2 h™‚um ", &
»ad_L1_miss_L2_h™_num
, 0, 
NULL
);

3136 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_L1_miss_L2_h™_tÙ®_tim ", "»ad L1 mis L2 h™Ù®ime", &
»ad_L1_miss_L2_h™_tÙ®_time
, 0, 
NULL
);

3137 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_L2_miss_num ", "»ad L2 mis num", &
»ad_L2_miss_num
, 0, 
NULL
);

3138 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_L2_miss_tÙ®_tim ", "»ad L2 mis tÙ®im", &
»ad_L2_miss_tÙ®_time
, 0, 
NULL
);

3139 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_L1_miss_L2_h™_num ", "wr™L1 mis L2 h™‚um", &
wr™e_L1_miss_L2_h™_num
, 0, 
NULL
);

3140 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_L1_miss_L2_h™_tÙ®_tim ", "wr™L1 mis L2 h™Ù®ime", &
wr™e_L1_miss_L2_h™_tÙ®_time
, 0, 
NULL
);

3141 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_L2_miss_num ", "wr™L2 mis num", &
wr™e_L2_miss_num
, 0, 
NULL
);

3142 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_L2_miss_tÙ®_tim ", "wr™L2 mis tÙ®ime", &
wr™e_L2_miss_tÙ®_time
, 0, 
NULL
);

3146 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ge_num ", "tÙ®_·ge_num", &
tÙ®_·ge_num
, 0, 
NULL
);

3147 
	`¡©_»g_couÁ”
 (
sdb
, "´_·ge_num ", "´_·ge_num", &
´_·ge_num
, 0, 
NULL
);

3148 
	`¡©_»g_couÁ”
 (
sdb
, "pw_·ge_num ", "pw_·ge_num", &
pw_·ge_num
, 0, 
NULL
);

3149 
	`¡©_»g_couÁ”
 (
sdb
, "¤_·ge_num ", "¤_·ge_num", &
¤_·ge_num
, 0, 
NULL
);

3150 
	`¡©_»g_couÁ”
 (
sdb
, "sw_·ge_num ", "sw_·ge_num", &
sw_·ge_num
, 0, 
NULL
);

3151 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lše_num ", "tÙ®_lše_num", &
tÙ®_lše_num
, 0, 
NULL
);

3152 
	`¡©_»g_couÁ”
 (
sdb
, "´_lše_num ", "´_lše_num", &
´_lše_num
, 0, 
NULL
);

3153 
	`¡©_»g_couÁ”
 (
sdb
, "pw_lše_num ", "pw_lše_num", &
pw_lše_num
, 0, 
NULL
);

3154 
	`¡©_»g_couÁ”
 (
sdb
, "¤_lše_num ", "¤_lše_num", &
¤_lše_num
, 0, 
NULL
);

3155 
	`¡©_»g_couÁ”
 (
sdb
, "sw_lše_num ", "sw_lše_num", &
sw_lše_num
, 0, 
NULL
);

3156 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_tÙ®_lš ", "SWP_tÙ®_lše", &
SWP_tÙ®_lše
, 0, 
NULL
);

3157 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_sw_lš ", "SWP_sw_lše", &
SWP_sw_lše
, 0, 
NULL
);

3158 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_¤_lš ", "SWP_¤_lše", &
SWP_¤_lše
, 0, 
NULL
);

3159 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_pw_lš ", "SWP_pw_lše", &
SWP_pw_lše
, 0, 
NULL
);

3160 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_´_lš ", "SWP_´_lše", &
SWP_´_lše
, 0, 
NULL
);

3162 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_num ", "»ÿÎ_num", &
»ÿÎ_num
, 0, 
NULL
);

3163 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_num ", "»ÿÎ_šv_num", &
»ÿÎ_šv_num
, 0, 
NULL
);

3165 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_šv_S_num ", "»ad_šv_S_num", &
»ad_šv_S_num
, 0, 
NULL
);

3166 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_šv_QH_num ", "»ad_šv_QH_num", &
»ad_šv_QH_num
, 0, 
NULL
);

3167 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_šv_e_QM_num ", "»ad_šv_e_QM_num", &
»ad_šv_e_QM_num
, 0, 
NULL
);

3168 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_šv_d_QM_num ", "»ad_šv_d_QM_num", &
»ad_šv_d_QM_num
, 0, 
NULL
);

3170 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_d_S_num ", "wr™e_šv_d_S_num", &
wr™e_šv_d_S_num
, 0, 
NULL
);

3171 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_e_S_num ", "wr™e_šv_e_S_num", &
wr™e_šv_e_S_num
, 0, 
NULL
);

3172 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_s_S_num ", "wr™e_šv_s_S_num", &
wr™e_šv_s_S_num
, 0, 
NULL
);

3173 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_i_S_num ", "wr™e_šv_i_S_num", &
wr™e_šv_i_S_num
, 0, 
NULL
);

3175 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_d_QM_num ", "wr™e_šv_d_QM_num", &
wr™e_šv_d_QM_num
, 0, 
NULL
);

3176 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_e_QM_num ", "wr™e_šv_e_QM_num", &
wr™e_šv_e_QM_num
, 0, 
NULL
);

3177 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_s_QM_num ", "wr™e_šv_s_QM_num", &
wr™e_šv_s_QM_num
, 0, 
NULL
);

3178 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_i_QM_num ", "wr™e_šv_i_QM_num", &
wr™e_šv_i_QM_num
, 0, 
NULL
);

3180 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_d_QH_num ", "wr™e_šv_d_QH_num", &
wr™e_šv_d_QH_num
, 0, 
NULL
);

3181 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_e_QH_num ", "wr™e_šv_e_QH_num", &
wr™e_šv_e_QH_num
, 0, 
NULL
);

3182 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_s_QH_num ", "wr™e_šv_s_QH_num", &
wr™e_šv_s_QH_num
, 0, 
NULL
);

3183 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_šv_i_QH_num ", "wr™e_šv_i_QH_num", &
wr™e_šv_i_QH_num
, 0, 
NULL
);

3185 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_d_S_num ", "»ÿÎ_šv_d_S_num", &
»ÿÎ_šv_d_S_num
, 0, 
NULL
);

3186 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_e_S_num ", "»ÿÎ_šv_e_S_num", &
»ÿÎ_šv_e_S_num
, 0, 
NULL
);

3187 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_s_S_num ", "»ÿÎ_šv_s_S_num", &
»ÿÎ_šv_s_S_num
, 0, 
NULL
);

3188 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_i_S_num ", "»ÿÎ_šv_i_S_num", &
»ÿÎ_šv_i_S_num
, 0, 
NULL
);

3190 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_d_Q_num ", "»ÿÎ_šv_d_Q_num", &
»ÿÎ_šv_d_Q_num
, 0, 
NULL
);

3191 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_e_Q_num ", "»ÿÎ_šv_e_Q_num", &
»ÿÎ_šv_e_Q_num
, 0, 
NULL
);

3192 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_s_Q_num ", "»ÿÎ_šv_s_Q_num", &
»ÿÎ_šv_s_Q_num
, 0, 
NULL
);

3193 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_i_Q_num ", "»ÿÎ_šv_i_Q_num", &
»ÿÎ_šv_i_Q_num
, 0, 
NULL
);

3195 
	`¡©_»g_couÁ”
 (
sdb
, "SW_»ad_»que¡_num ", "SW_»ad_»que¡_num", &
SW_»ad_»que¡_num
, 0, 
NULL
);

3196 
	`¡©_»g_couÁ”
 (
sdb
, "SW_wr™e_»que¡_num ", "SW_wr™e_»que¡_num", &
SW_wr™e_»que¡_num
, 0, 
NULL
);

3198 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_S_h™_num ", "»ad_S_h™_num", &
»ad_S_h™_num
, 0, 
NULL
);

3199 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_Q_h™_num ", "»ad_Q_h™_num", &
»ad_Q_h™_num
, 0, 
NULL
);

3200 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_Q_š™_num ", "»ad_Q_š™_num", &
»ad_Q_š™_num
, 0, 
NULL
);

3201 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_Q_š™_SR_num ", "»ad_Q_š™_SR_num", &
»ad_Q_š™_SR_num
, 0, 
NULL
);

3202 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_Q_š™_QR_num ", "»ad_Q_š™_QR_num", &
»ad_Q_š™_QR_num
, 0, 
NULL
);

3204 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_h™_num ", "wr™e_S_h™_num", &
wr™e_S_h™_num
, 0, 
NULL
);

3205 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_Q_h™_num ", "wr™e_Q_h™_num", &
wr™e_Q_h™_num
, 0, 
NULL
);

3206 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_ed_num ", "wr™e_S_š™_ed_num", &
wr™e_S_š™_ed_num
, 0, 
NULL
);

3207 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_ed_SR_num ", "wr™e_S_š™_ed_SR_num", &
wr™e_S_š™_ed_SR_num
, 0, 
NULL
);

3208 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_ed_QR_num ", "wr™e_S_š™_ed_QR_num", &
wr™e_S_š™_ed_QR_num
, 0, 
NULL
);

3209 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_s_num ", "wr™e_S_š™_s_num", &
wr™e_S_š™_s_num
, 0, 
NULL
);

3210 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_s_SR_num ", "wr™e_S_š™_s_SR_num", &
wr™e_S_š™_s_SR_num
, 0, 
NULL
);

3211 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_s_QR_num ", "wr™e_S_š™_s_QR_num", &
wr™e_S_š™_s_QR_num
, 0, 
NULL
);

3212 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_Q_š™_num ", "wr™e_Q_š™_num", &
wr™e_Q_š™_num
, 0, 
NULL
);

3213 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_Q_š™_SR_num ", "wr™e_Q_š™_SR_num", &
wr™e_Q_š™_SR_num
, 0, 
NULL
);

3214 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_Q_š™_QR_num ", "wr™e_Q_š™_QR_num", &
wr™e_Q_š™_QR_num
, 0, 
NULL
);

3216 
	`¡©_»g_couÁ”
 (
sdb
, "shr_d©a_»q_š™Ÿl_num ", "shr_d©a_»q_š™Ÿl_num", &
shr_d©a_»q_š™Ÿl_num
, 0, 
NULL
);

3217 
	`¡©_»g_couÁ”
 (
sdb
, "shr_d©a_»q_tÙ®_num ", "shr_d©a_»q_tÙ®_num", &
shr_d©a_»q_tÙ®_num
, 0, 
NULL
);

3218 
	`¡©_»g_couÁ”
 (
sdb
, "shr_d©a_»q_ç_num ", "shr_d©a_»q_ç_num", &
shr_d©a_»q_ç_num
, 0, 
NULL
);

3220 
	`¡©_»g_couÁ”
 (
sdb
, "šfÜm_back_num ", "šfÜm_back_num", &
šfÜm_back_num
, 0, 
NULL
);

3221 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_back_num ", "wr™e_back_num", &
wr™e_back_num
, 0, 
NULL
);

3222 
	`¡©_»g_couÁ”
 (
sdb
, "šfÜm_back_Q ", "šfÜm_back_Q", &
šfÜm_back_Q
, 0, 
NULL
);

3223 
	`¡©_»g_couÁ”
 (
sdb
, "šfÜm_back_S ", "šfÜm_back_S", &
šfÜm_back_S
, 0, 
NULL
);

3224 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_back_Q ", "wr™e_back_Q", &
wr™e_back_Q
, 0, 
NULL
);

3225 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_back_S ", "wr™e_back_S", &
wr™e_back_S
, 0, 
NULL
);

3226 
	`¡©_»g_couÁ”
 (
sdb
, "mb_·š_d–ay_num ", "mb_·š_d–ay_num", &
mb_·š_d–ay_num
, 0, 
NULL
);

3227 
	`¡©_»g_couÁ”
 (
sdb
, "mb_·š_pÜtu£_num ", "mb_·š_pÜtu£_num", &
mb_·š_pÜtu£_num
, 0, 
NULL
);

3229 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_Q_š™_QR_s_num ", "»ad_Q_š™_QR_s_num", &
»ad_Q_š™_QR_s_num
, 0, 
NULL
);

3230 
	`¡©_»g_couÁ”
 (
sdb
, "»ad_Q_š™_QR_ed_num ", "»ad_Q_š™_QR_ed_num", &
»ad_Q_š™_QR_ed_num
, 0, 
NULL
);

3231 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_ed_QR_s_num ", "wr™e_S_š™_ed_QR_s_num", &
wr™e_S_š™_ed_QR_s_num
, 0, 
NULL
);

3232 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_ed_QR_ed_num ", "wr™e_S_š™_ed_QR_ed_num", &
wr™e_S_š™_ed_QR_ed_num
, 0, 
NULL
);

3233 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_s_QR_s_num ", "wr™e_S_š™_s_QR_s_num", &
wr™e_S_š™_s_QR_s_num
, 0, 
NULL
);

3234 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_S_š™_s_QR_ed_num ", "wr™e_S_š™_s_QR_ed_num", &
wr™e_S_š™_s_QR_ed_num
, 0, 
NULL
);

3235 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_Q_š™_QR_s_num ", "wr™e_Q_š™_QR_s_num", &
wr™e_Q_š™_QR_s_num
, 0, 
NULL
);

3236 
	`¡©_»g_couÁ”
 (
sdb
, "wr™e_Q_š™_QR_ed_num ", "wr™e_Q_š™_QR_ed_num", &
wr™e_Q_š™_QR_ed_num
, 0, 
NULL
);

3238 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_d_Q_s_num ", "»ÿÎ_šv_d_Q_s_num", &
»ÿÎ_šv_d_Q_s_num
, 0, 
NULL
);

3239 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_d_Q_ed_num ", "»ÿÎ_šv_d_Q_ed_num", &
»ÿÎ_šv_d_Q_ed_num
, 0, 
NULL
);

3240 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_e_Q_s_num ", "»ÿÎ_šv_e_Q_s_num", &
»ÿÎ_šv_e_Q_s_num
, 0, 
NULL
);

3241 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_e_Q_ed_num ", "»ÿÎ_šv_e_Q_ed_num", &
»ÿÎ_šv_e_Q_ed_num
, 0, 
NULL
);

3242 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_s_Q_s_num ", "»ÿÎ_šv_s_Q_s_num", &
»ÿÎ_šv_s_Q_s_num
, 0, 
NULL
);

3243 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_s_Q_ed_num ", "»ÿÎ_šv_s_Q_ed_num", &
»ÿÎ_šv_s_Q_ed_num
, 0, 
NULL
);

3244 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_i_Q_s_num ", "»ÿÎ_šv_i_Q_s_num", &
»ÿÎ_šv_i_Q_s_num
, 0, 
NULL
);

3245 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_i_Q_ed_num ", "»ÿÎ_šv_i_Q_ed_num", &
»ÿÎ_šv_i_Q_ed_num
, 0, 
NULL
);

3247 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_d_Q_s_ad_num ", "»ÿÎ_šv_d_Q_s_ad_num", &
»ÿÎ_šv_d_Q_s_ad_num
, 0, 
NULL
);

3248 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_e_Q_s_ad_num ", "»ÿÎ_šv_e_Q_s_ad_num", &
»ÿÎ_šv_e_Q_s_ad_num
, 0, 
NULL
);

3249 
	`¡©_»g_couÁ”
 (
sdb
, "»ÿÎ_šv_s_Q_ed_ad_num ", "»ÿÎ_šv_s_Q_ed_ad_num", &
»ÿÎ_šv_s_Q_ed_ad_num
, 0, 
NULL
);

3251 
	`¡©_»g_couÁ”
 (
sdb
, "lše_acûss_num ", "lše_acûss_num", &
lše_acûss_num
, 0, 
NULL
);

3252 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_lše_acûss_num ", "SWP_lše_acûss_num", &
SWP_lše_acûss_num
, 0, 
NULL
);

3253 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_PR_lše_acûss_num ", "SWP_PR_lše_acûss_num", &
SWP_PR_lše_acûss_num
, 0, 
NULL
);

3254 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_PW_lše_acûss_num ", "SWP_PW_lše_acûss_num", &
SWP_PW_lše_acûss_num
, 0, 
NULL
);

3255 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_SR_lše_acûss_num ", "SWP_SR_lše_acûss_num", &
SWP_SR_lše_acûss_num
, 0, 
NULL
);

3256 
	`¡©_»g_couÁ”
 (
sdb
, "SWP_SW_lše_acûss_num ", "SWP_SW_lše_acûss_num", &
SWP_SW_lše_acûss_num
, 0, 
NULL
);

3259 
PVC_¡©_»g_couÁ”
[64];

3260 if(
ÿche_ml2
->
assoc
 > 
MAX_DIRECTORY_ASSOC
)

3261 
	`·nic
("MAX_DIRECTORY_ASSOC is smallerhan‡ssociativity of directory cache\n");

3262 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_veùÜ_di¡r_»cÜd_num ", "PVC_veùÜ_di¡r_»cÜd_num", &
PVC_veùÜ_di¡r_»cÜd_num
, 0, 
NULL
);

3263 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_veùÜ_šc_di¡r_»cÜd_num ", "PVC_veùÜ_šc_di¡r_»cÜd_num", &
PVC_veùÜ_šc_di¡r_»cÜd_num
, 0, 
NULL
);

3264 
i
 = 0; i <ğ
ÿche_ml2
->
assoc
; i++)

3266 
	`¥rštf
 (
PVC_¡©_»g_couÁ”
, "PVC_veùÜ_di¡r_%d ", 
i
);

3267 
	`¡©_»g_couÁ”
 (
sdb
, 
PVC_¡©_»g_couÁ”
, "", &
PVC_veùÜ_di¡r
[
i
], 0, 
NULL
);

3269 
i
 = 0; i <ğ
ÿche_ml2
->
assoc
; i++)

3271 
	`¥rštf
 (
PVC_¡©_»g_couÁ”
, "PVC_veùÜ_šc_di¡r_%d ", 
i
);

3272 
	`¡©_»g_couÁ”
 (
sdb
, 
PVC_¡©_»g_couÁ”
, "", &
PVC_veùÜ_šc_di¡r
[
i
], 0, 
NULL
);

3274 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_exchªge_num ", "PVC_exchªge_num", &
PVC_exchªge_num
, 0, 
NULL
);

3275 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_æ_num ", "PVC_æ_num", &
PVC_æ_num
, 0, 
NULL
);

3276 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_dowm_no_šv_num ", "PVC_dowm_no_šv_num", &
PVC_dowm_no_šv_num
, 0, 
NULL
);

3277 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_dowm_šv_num ", "PVC_dowm_šv_num", &
PVC_dowm_šv_num
, 0, 
NULL
);

3278 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_dowm_šv_shr_num ", "PVC_dowm_šv_shr_num", &
PVC_dowm_šv_shr_num
, 0, 
NULL
);

3279 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_up_no_add_num ", "PVC_up_no_add_num", &
PVC_up_no_add_num
, 0, 
NULL
);

3280 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_up_add_num ", "PVC_up_add_num", &
PVC_up_add_num
, 0, 
NULL
);

3281 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_up_add_shr_num ", "PVC_up_add_shr_num", &
PVC_up_add_shr_num
, 0, 
NULL
);

3282 
i
=0;i<=(
mesh_size
*mesh_size);i++)

3284 
	`¥rštf
 (
PVC_¡©_»g_couÁ”
, "PVC_exch_vec_shr_di¡r_%d ", 
i
);

3285 
	`¡©_»g_couÁ”
 (
sdb
, 
PVC_¡©_»g_couÁ”
, "", &
PVC_exch_vec_shr_di¡r
[
i
], 0, 
NULL
);

3287 
i
=0;i<=(
mesh_size
*mesh_size);i++)

3289 
	`¥rštf
 (
PVC_¡©_»g_couÁ”
, "PVC_dowm_šv_shr_di¡r_%d ", 
i
);

3290 
	`¡©_»g_couÁ”
 (
sdb
, 
PVC_¡©_»g_couÁ”
, "", &
PVC_dowm_šv_shr_di¡r
[
i
], 0, 
NULL
);

3292 
i
=0;i<=(
mesh_size
*mesh_size);i++)

3294 
	`¥rštf
 (
PVC_¡©_»g_couÁ”
, "PVC_up_add_shr_di¡r_%d ", 
i
);

3295 
	`¡©_»g_couÁ”
 (
sdb
, 
PVC_¡©_»g_couÁ”
, "", &
PVC_up_add_shr_di¡r
[
i
], 0, 
NULL
);

3297 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_šfÜm_®l_shr_num ", "PVC_šfÜm_®l_shr_num", &
PVC_šfÜm_®l_shr_num
, 0, 
NULL
);

3298 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_rfs_®l_shr_num ", "PVC_rfs_®l_shr_num", &
PVC_rfs_®l_shr_num
, 0, 
NULL
);

3299 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_»ad_®l_shr_num ", "PVC_»ad_®l_shr_num", &
PVC_»ad_®l_shr_num
, 0, 
NULL
);

3300 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_wr™e_®l_shr_num ", "PVC_wr™e_®l_shr_num", &
PVC_wr™e_®l_shr_num
, 0, 
NULL
);

3301 
	`¡©_»g_couÁ”
 (
sdb
, "PVC_»ÿÎ_®l_shr_num ", "PVC_»ÿÎ_®l_shr_num", &
PVC_»ÿÎ_®l_shr_num
, 0, 
NULL
);

3302 
	`¡©_»g_couÁ”
 (
sdb
, "pvc_nv_cÚæiù_num ", "pvc_nv_cÚæiù_num", &
pvc_nv_cÚæiù_num
, 0, 
NULL
);

3304 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»q_ev’t_couÁ", "tÙ®‚um oà»que¡ƒv’ˆš™® c»©ed", &
tÙ®»qcouÁnum
, 0, 
NULL
);

3305 
	`¡©_»g_couÁ”
 (
sdb
, "StÜeCÚd™iÚFaNum", "TÙ® stÜcÚd™iÚ® faed‚um", &
StÜeCÚd™iÚFaNum
, 0, 
NULL
);

3306 
	`¡©_»g_couÁ”
 (
sdb
, "lock_ÃtwÜk_acûss", "", &
lock_ÃtwÜk_acûss
, 0, 
NULL
);

3307 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®Upg¿des
, 0, 
NULL
);

3308 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_ev’t_couÁ", "tÙ®‚um oàmis ev’ˆštŸÈü—‹d", &
tÙ®misscouÁnum
, 0, 
NULL
);

3309 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Upg¿des", "tÙ®‚umb” oàupg¿de £’", &
tÙ®N‘Upg¿des
, 0, 
NULL
);

3310 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU§bË", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desU§bË
, 0, 
NULL
);

3311 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desB’eficŸl", "tÙ®‚umb” oàupg¿de nÙ u§bË", &
tÙ®Upg¿desB’eficŸl
, 0, 
NULL
);

3312 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿desU£2", "tÙ®‚umb” oàupg¿de u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™No
, 0, 
NULL
);

3314 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Syncd©a", "tÙ®‚umb” oàd©¨·ck‘ dutØsync", &
d©a_·ck‘s_sync
, 0, 
NULL
);

3315 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Syncm‘a", "tÙ®‚umb” oàm‘¨·ck‘ dutØsync", &
m‘a_·ck‘s_sync
, 0, 
NULL
);

3317 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®N‘Wr™es", "tÙ®‚umb” oàWr™e £’", &
tÙ®N‘Wr™es
, 0, 
NULL
);

3318 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU§bË", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esU§bË
, 0, 
NULL
);

3319 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esB’eficŸl", "tÙ®‚umb” oàWr™e nÙ u§bË", &
tÙ®Wr™esB’eficŸl
, 0, 
NULL
);

3320 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™esU£2", "tÙ®‚umb” oàWr™e u§bË w™houˆcÚfœm©iÚ", &
tÙ®S¶™WM
, 0, 
NULL
);

3321 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®NoExşusive", "tÙ®‚umb” oàWr™e unu§bË beÿu£ oàexşusivsomewh”–£", &
exşusive_somewh”e
, 0, 
NULL
);

3322 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®FrÚtWr™e", "tÙ®‚umb” oàWr™e unu§vË beÿu£ oàäÚˆwr™e", &
äÚt_wr™e
, 0, 
NULL
);

3324 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqH™s", "tÙ®‚um oàwr™ev’ts", &
tÙ®L2Wr™eReqH™s
, 0, 
NULL
);

3325 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqNoSh¬”", "tÙ®‚um oàwr™»q w™h‚Øsh¬”s", &
tÙ®L2Wr™eReqNoSh¬”
, 0, 
NULL
);

3326 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœty", "tÙ®‚um oàwr™»q w™h ju¡ oÃ sh¬”", &
tÙ®L2Wr™eReqDœty
, 0, 
NULL
);

3327 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqDœty", "ExŒ¨d–ayØcom¶‘wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2Wr™eReqDœty
, 0, 
NULL
);

3328 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqDœtyWT", "tÙ®ime wr™»q w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2Wr™eReqDœtyWT
, 0, 
NULL
);

3329 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬ed", "tÙ®‚um oàwr™»q w™h muÉË sh¬”s", &
tÙ®L2Wr™eReqSh¬ed
, 0, 
NULL
);

3330 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2Wr™eReqSh¬ed", "ExŒ¨d–ayØcom¶‘wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
d–ayL2Wr™eReqSh¬ed
, 0, 
NULL
);

3331 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2Wr™eReqSh¬edWT", "tÙ®ime wr™»q w™h muÉË sh¬”s, iÀÿ£ƒ¬l›¸»ad would had b“À»adhrough", &
tÙ®L2Wr™eReqSh¬edWT
, 0, 
NULL
);

3333 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqH™s", "tÙ®‚um oàR—dƒv’ts", &
tÙ®L2R—dReqH™s
, 0, 
NULL
);

3334 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqNoSh¬”", "tÙ®‚um oàR—d„eq w™h‚Øsh¬”s", &
tÙ®L2R—dReqNoSh¬”
, 0, 
NULL
);

3335 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœty", "tÙ®‚um oàR—d„eq w™h ju¡ oÃ sh¬”", &
tÙ®L2R—dReqDœty
, 0, 
NULL
);

3336 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2R—dReqDœty", "ExŒ¨d–ayØcom¶‘R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
d–ayL2R—dReqDœty
, 0, 
NULL
);

3337 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqDœtyWT", "tÙ®ime R—d„eq w™h ju¡ oÃ sh¬”, iÀÿ£h—¾›¸wr™would had b“Àwr™through", &
tÙ®L2R—dReqDœtyWT
, 0, 
NULL
);

3338 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2R—dReqSh¬ed", "tÙ®‚um oà»ad„eq w™h muÉË sh¬”s", &
tÙ®L2R—dReqSh¬ed
, 0, 
NULL
);

3340 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fU£", "tÙ® L1†š´eãtche u£ful", &
tÙ®L1LšeP»fU£
, 0, 
NULL
);

3341 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeP»fNoU£", "tÙ® L1†š´eãtche nÙ u£ful", &
tÙ®L1LšeP»fNoU£
, 0, 
NULL
);

3342 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dU£", "tÙ® L1†š»ad mis£ u£ful", &
tÙ®L1LšeR—dU£
, 0, 
NULL
);

3343 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeR—dNoU£", "tÙ® L1†š»ad mis£ nÙ u£ful", &
tÙ®L1LšeR—dNoU£
, 0, 
NULL
);

3344 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eU£", "tÙ® L1†šwr™mis£ u£ful", &
tÙ®L1LšeWr™eU£
, 0, 
NULL
);

3345 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeWr™eNoU£", "tÙ® L1†šwr™mis£ nÙ u£ful", &
tÙ®L1LšeWr™eNoU£
, 0, 
NULL
);

3347 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlU£d", "tÙ® L1†ššƒxşusivmodu£ful", &
tÙ®L1LšeExlU£d
, 0, 
NULL
);

3348 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlInv", "tÙ® L1†ššƒxşusivmodšv®id©ed w™houˆu£", &
tÙ®L1LšeExlInv
, 0, 
NULL
);

3349 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L1LšeExlDrİ", "tÙ® L1†ššƒxşusivmoddrİed w™houˆu£", &
tÙ®L1LšeExlDrİ
, 0, 
NULL
);

3351 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqPrimMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
tÙ®L2ReqPrimMiss
, 0, 
NULL
);

3352 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqSecMiss", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
tÙ®L2ReqSecMiss
, 0, 
NULL
);

3353 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqH™", "TÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
tÙ®L2ReqH™
, 0, 
NULL
);

3354 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInT¿ns", "TÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2ReqInT¿ns
, 0, 
NULL
);

3355 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2OwnReqInT¿ns", "TÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
tÙ®L2OwnReqInT¿ns
, 0, 
NULL
);

3356 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®L2ReqInInv", "TÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
tÙ®L2ReqInInv
, 0, 
NULL
);

3358 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqPrimMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš…rim¬y miss", &
d–ayL2ReqPrimMiss
, 0, 
NULL
);

3359 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqSecMiss", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš secÚd¬y miss", &
d–ayL2ReqSecMiss
, 0, 
NULL
);

3360 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqH™", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ švŞvš cËª h™", &
d–ayL2ReqH™
, 0, 
NULL
);

3361 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2ReqInT¿ns
, 0, 
NULL
);

3362 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2OwnReqInT¿ns", "d–ay oàTÙ®‚umb” oàdœeùÜy owÃrsh„eque¡ fšd†šš¿ns™iÚ", &
d–ayL2OwnReqInT¿ns
, 0, 
NULL
);

3363 
	`¡©_»g_couÁ”
 (
sdb
, "d–ayL2ReqInInv", "d–ay oàTÙ®‚umb” oàdœeùÜy„eque¡ havtØšv®id©e", &
d–ayL2ReqInInv
, 0, 
NULL
);

3365 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Wr™eReq
, 0, 
NULL
);

3366 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Wr™eReqInv
, 0, 
NULL
);

3367 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Wr™eD–ay
, 0, 
NULL
);

3368 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Wr™eInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Wr™eInvD–ay
, 0, 
NULL
);

3370 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReq", "TÙ®‚umb” oàwr™»que¡ØL2", &
tÙ®Upg¿deReq
, 0, 
NULL
);

3371 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deReqInv", "TÙ®‚umb” oàwr™»que¡ w™h inv®id©iÚ tØL2", &
tÙ®Upg¿deReqInv
, 0, 
NULL
);

3372 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD–ay", "Tim¥’ˆš wr™»que¡ tØL2", &
tÙ®Upg¿deD–ay
, 0, 
NULL
);

3373 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deInvD–ay", "Tim¥’ˆš inv®id©iÚ fÜ wr™»que¡ tØL2", &
tÙ®Upg¿deInvD–ay
, 0, 
NULL
);

3374 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®Upg¿deD•’dD–ay", "Tim¥’ˆš d•’d d–ay fÜ upd©»que¡ tØL2", &
Upd©eD•’dCyşe
, 0, 
NULL
);

3376 
	`¡©_»g_couÁ”
 (
sdb
, "couÁNÚAÎocR—dE¬ly", "Numb” oàtime ¨»ad mis »que¡ from L1 ha b“À£rviûdƒ¬ly w™houˆ®loÿtiÚ", &
couÁNÚAÎocR—dE¬ly
, 0, 
NULL
);

3377 #ifdeà
TG


3378 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_·ck‘s_g’”©iÚ
, 0, 
NULL
);

3379 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»ad_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_»ad_·ck‘s_g’”©iÚ
, 0, 
NULL
);

3380 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_wr™e_·ck‘s_g’”©iÚ", "tÙ®…ack‘ g’”©ed by¿ffiøg’”©Ü", &
tÙ®_wr™e_·ck‘s_g’”©iÚ
, 0, 
NULL
);

3382 
	`¡©_»g_couÁ”
 (
sdb
, "WM_Miss", "", &
WM_Miss
, 0, 
NULL
);

3383 
	`¡©_»g_couÁ”
 (
sdb
, "WM_CËª", "", &
WM_CËª
, 0, 
NULL
);

3384 
	`¡©_»g_couÁ”
 (
sdb
, "WM_S", "", &
WM_S
, 0, 
NULL
);

3385 
	`¡©_»g_couÁ”
 (
sdb
, "WM_EM", "", &
WM_EM
, 0, 
NULL
);

3386 
	`¡©_»g_couÁ”
 (
sdb
, "WM_Sh¬dU£CÚf", "", &
wr™e_sh¬ed_u£d_cÚf
, 0, 
NULL
);

3388 
	`¡©_»g_couÁ”
 (
sdb
, "Sync_L2_miss", "", &
Sync_L2_miss
, 0, 
NULL
);

3389 
	`¡©_»g_couÁ”
 (
sdb
, "SyncIn¡CacheAcûss", "", &
SyncIn¡CacheAcûss
, 0, 
NULL
);

3390 
	`¡©_»g_couÁ”
 (
sdb
, "Te¡CacheAcûss", "", &
Te¡CacheAcûss
, 0, 
NULL
);

3391 
	`¡©_»g_couÁ”
 (
sdb
, "Te¡SecCacheAcûss", "", &
Te¡SecCacheAcûss
, 0, 
NULL
);

3392 
	`¡©_»g_couÁ”
 (
sdb
, "S‘CacheAcûss", "", &
S‘CacheAcûss
, 0, 
NULL
);

3393 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdR—dMiss", "", &
SyncLßdR—dMiss
, 0, 
NULL
);

3394 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdLR—dMiss", "", &
SyncLßdLR—dMiss
, 0, 
NULL
);

3395 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdH™", "", &
SyncLßdH™
, 0, 
NULL
);

3396 
	`¡©_»g_couÁ”
 (
sdb
, "SyncLßdLH™", "", &
SyncLßdLH™
, 0, 
NULL
);

3397 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeCH™", "", &
SyncStÜeCH™
, 0, 
NULL
);

3398 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeCWr™eMiss", "", &
SyncStÜeCWr™eMiss
, 0, 
NULL
);

3399 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeCWr™eUpg¿de", "", &
SyncStÜeCWr™eUpg¿de
, 0, 
NULL
);

3400 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeH™", "", &
SyncStÜeH™
, 0, 
NULL
);

3401 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeWr™eMiss", "", &
SyncStÜeWr™eMiss
, 0, 
NULL
);

3402 
	`¡©_»g_couÁ”
 (
sdb
, "SyncStÜeWr™eUpg¿de", "", &
SyncStÜeWr™eUpg¿de
, 0, 
NULL
);

3403 
	`¡©_»g_couÁ”
 (
sdb
, "B¬StÜeWr™eMiss", "", &
B¬StÜeWr™eMiss
, 0, 
NULL
);

3404 
	`¡©_»g_couÁ”
 (
sdb
, "B¬StÜeWr™eUpg¿de", "", &
B¬StÜeWr™eUpg¿de
, 0, 
NULL
);

3405 
	`¡©_»g_fÜmuÏ
 (
sdb
, "‹¡_h™_¿tio", "", "SyncLßdH™ / Te¡CacheAcûss", 
NULL
);

3406 
	`¡©_»g_fÜmuÏ
 (
sdb
, "‹¡_£c_h™_¿tio", "", "SyncLßdLH™ / Te¡SecCacheAcûss", 
NULL
);

3407 
	`¡©_»g_fÜmuÏ
 (
sdb
, "£t_h™_¿tio", "", "SyncStÜeCH™ / S‘CacheAcûss", 
NULL
);

3409 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_fuÎ", "tÙ®‚umb” oàlock fifØov”æow", &
lock_fifo_fuÎ
, 0, 
NULL
);

3410 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_wrÚg", "tÙ®‚umb” oàlock fifØov”æow", &
lock_fifo_wrÚg
, 0, 
NULL
);

3411 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_wr™eback", "tÙ®‚umb” oàlock fifØov”æow", &
lock_fifo_wr™eback
, 0, 
NULL
);

3412 
	`¡©_»g_couÁ”
 (
sdb
, "lock_fifo_b’ef™", "tÙ®‚umb” oàlock fifØb’ef™", &
lock_fifo_b’ef™
, 0, 
NULL
);

3413 
	`¡©_»g_couÁ”
 (
sdb
, "lock_ÿche_h™", "tÙ®‚umb” oàlock fifØb’ef™", &
lock_ÿche_h™
, 0, 
NULL
);

3414 
	`¡©_»g_couÁ”
 (
sdb
, "lock_ÿche_miss", "tÙ®‚umb” oàlock fifØb’ef™", &
lock_ÿche_miss
, 0, 
NULL
);

3415 
	`¡©_»g_couÁ”
 (
sdb
, "L1_mshr_fuÎ", "tÙ®‚umb” oàL1 msh¸ov”æow", &
L1_mshr_fuÎ
, 0, 
NULL
);

3416 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_mshr", "tÙ® sÎ cyşe fÜ L1 msh¸ov”æow", &
SÎ_L1_mshr
, 0, 
NULL
);

3417 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ", "tÙ®‚umb” oàL2 msh¸ov”æow", &
L2_mshr_fuÎ
, 0, 
NULL
);

3418 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L2_mshr", "tÙ® sÎ cyşe fÜ L2 msh¸ov”æow", &
SÎ_L2_mshr
, 0, 
NULL
);

3419 
	`¡©_»g_couÁ”
 (
sdb
, "L2_mshr_fuÎ_´eãtch", "tÙ®‚umb” oàL2 msh¸ov”æow wh’…»ãtch", &
L2_mshr_fuÎ_´eãtch
, 0, 
NULL
);

3420 
	`¡©_»g_couÁ”
 (
sdb
, "L1_fifo_fuÎ", "tÙ®‚umb” oàL1 fifØov”æow", &
L1_fifo_fuÎ
, 0, 
NULL
);

3421 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_L1_fifo", "tÙ® sÎ cyşe fÜ L1 fifØov”æow", &
SÎ_L1_fifo
, 0, 
NULL
);

3422 
	`¡©_»g_couÁ”
 (
sdb
, "Dœ_fifo_fuÎ", "tÙ®‚umb” oàdœ fifØov”æow", &
Dœ_fifo_fuÎ
, 0, 
NULL
);

3423 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_dœ_fifo", "tÙ® sÎ cyşe fÜ dœ fifØov”æow", &
SÎ_dœ_fifo
, 0, 
NULL
);

3424 
	`¡©_»g_couÁ”
 (
sdb
, "IÅut_queue_fuÎ", "tÙ®‚umb” oàšpuˆqueuov”æow", &
IÅut_queue_fuÎ
, 0, 
NULL
);

3425 
	`¡©_»g_couÁ”
 (
sdb
, "Ouut_queue_fuÎ", "tÙ®‚umb” oàouuˆqueuov”æow", &
Ouut_queue_fuÎ
, 0, 
NULL
);

3426 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_šput_queue", "tÙ® sÎ cyşe dutØšpuˆqueuov”æow", &
SÎ_šput_queue
, 0, 
NULL
);

3427 
	`¡©_»g_couÁ”
 (
sdb
, "SÎ_ouut_queue", "tÙ® sÎ cyşe dutØouuˆqueuov”æow", &
SÎ_ouut_queue
, 0, 
NULL
);

3428 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lßd_lšk_sh¬ed", "tÙ®†ßd†šk sh¬ed", &
lßd_lšk_sh¬ed
, 0, 
NULL
);

3429 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lßd_lšk_exşusive", "tÙ®†ßd†šk sh¬ed", &
lßd_lšk_exşusive
, 0, 
NULL
);

3430 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®mis¡imefÜNÜm®
, 0, 
NULL
);

3431 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®mis¡imefÜSync
, 0, 
NULL
);

3432 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®L2mis¡ime
, 0, 
NULL
);

3433 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_WrÚg_L2_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®WrÚgL2mis¡ime
, 0, 
NULL
);

3434 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L2_mis£s", "tÙ®imoàhªdlšghmissšg", &
TÙ®L2mis£s
, 0, 
NULL
);

3435 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mem_Ït", "tÙ®imoàhªdlšghmissšg", &
tÙ®_mem_Ït
, 0, 
NULL
);

3436 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mem_acûss", "tÙ®imoàhªdlšghmissšg", &
tÙ®_mem_acûss
, 0, 
NULL
);

3437 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_miss_hªdË_time", "tÙ®imoàhªdlšghmissšg", &
tÙ®misshªdËtime
, 0, 
NULL
);

3438 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
Çck_couÁ”
, 0, 
NULL
);

3439 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´eãtch_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
´eãtch_Çcks
, 0, 
NULL
);

3440 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
nÜm®_Çcks
, 0, 
NULL
);

3441 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_wr™e_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
wr™e_Çcks
, 0, 
NULL
);

3442 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_Çck_couÁ", "tÙ®‚um oàÇck mes§ge £ndšg", &
sync_Çcks
, 0, 
NULL
);

3443 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sc_ç_couÁ", "tÙ®‚um oà¡ÜcÚd™iÚ® fa", &
¡Üe_cÚd™iÚ®_çed
, 0, 
NULL
);

3444 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
æ_couÁ”
, 0, 
NULL
);

3445 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_L1_æ_couÁ", "tÙ®‚um oàæ³d mes§ges", &
L1_æ_couÁ”
, 0, 
NULL
);

3446 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_»¶y_b’ef™", "tÙ®‚um oàd©¨»¶y b’ef™", &
e_to_m
, 0, 
NULL
);

3447 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_nÜm®_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_nÜm®_miss_hªdË_tim/Ù®_nÜm®_ev’t_couÁ", 
NULL
);

3448 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_L2_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_L2_miss_hªdË_tim/Ù®_nÜm®_ev’t_couÁ", 
NULL
);

3449 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_sync_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_sync_miss_hªdË_tim/Ù®_sync_ev’t_couÁ", 
NULL
);

3450 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_miss_hªdË_time", "cyşe ³¸ev”y mis ªd inv®id©iÚ", "tÙ®_miss_hªdË_tim/Ù®_ev’t_couÁ", 
NULL
);

3451 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_acûss", "tÙ® mesh_ÃtwÜk‡cûss", &
tÙ®MeshHİCouÁ
, 0, 
NULL
);

3452 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mesh_ÃtwÜk_d–ay", "tÙ® mesh_ÃtwÜk d–ay", &
tÙ®MeshHİD–ay
, 0, 
NULL
);

3453 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_mesh_ÃtwÜk_time", "cyşe ³¸mesh_ÃtwÜk‡cûss", "tÙ®_mesh_ÃtwÜk_d–ay /Ù®_mesh_ÃtwÜk_acûss", 
NULL
);

3454 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_mesh_ÃtwÜk_acûss", "tÙ® mesh_ÃtwÜk‡cûss", &
tÙ®MeshNÜHİCouÁ
, 0, 
NULL
);

3455 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_mesh_ÃtwÜk_d–ay", "tÙ® mesh_ÃtwÜk d–ay", &
tÙ®MeshNÜHİD–ay
, 0, 
NULL
);

3456 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_nÜm®_mesh_ÃtwÜk_time", "cyşe ³¸mesh_ÃtwÜk‡cûss", "tÙ®_nÜaml_mesh_ÃtwÜk_d–ay /Ù®_nÜaml_mesh_ÃtwÜk_acûss", 
NULL
);

3457 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_mesh_ÃtwÜk_acûss", "tÙ® mesh_ÃtwÜk‡cûss", &
tÙ®MeshSyncHİCouÁ
, 0, 
NULL
);

3458 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_mesh_ÃtwÜk_d–ay", "tÙ® mesh_ÃtwÜk d–ay", &
tÙ®MeshSyncHİD–ay
, 0, 
NULL
);

3459 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_sync_mesh_ÃtwÜk_time", "cyşe ³¸mesh_ÃtwÜk‡cûss", "tÙ®_sync_mesh_ÃtwÜk_d–ay /Ù®_sync_mesh_ÃtwÜk_acûss", 
NULL
);

3460 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_acûss", "tÙ® o±_ÃtwÜk‡cûss", &
tÙ®O±HİCouÁ
, 0, 
NULL
);

3461 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_İt_ÃtwÜk_d–ay", "tÙ® o±_ÃtwÜk d–ay", &
tÙ®O±HİD–ay
, 0, 
NULL
);

3462 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_İt_ÃtwÜk_time", "cyşe ³¸İt_ÃtwÜk‡cûss", "tÙ®_İt_ÃtwÜk_d–ay /Ù®_İt_ÃtwÜk_acûss", 
NULL
);

3463 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_İt_ÃtwÜk_acûss", "tÙ® o±_ÃtwÜk‡cûss", &
tÙ®O±NÜHİCouÁ
, 0, 
NULL
);

3464 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÜm®_İt_ÃtwÜk_d–ay", "tÙ® o±_ÃtwÜk d–ay", &
tÙ®O±NÜHİD–ay
, 0, 
NULL
);

3465 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_nÜm®_İt_ÃtwÜk_time", "cyşe ³¸İt_ÃtwÜk‡cûss", "tÙ®_nÜm®_İt_ÃtwÜk_d–ay /Ù®_nÜm®_İt_ÃtwÜk_acûss", 
NULL
);

3466 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_İt_ÃtwÜk_acûss", "tÙ® o±_ÃtwÜk‡cûss", &
tÙ®O±SyncHİCouÁ
, 0, 
NULL
);

3467 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sync_İt_ÃtwÜk_d–ay", "tÙ® o±_ÃtwÜk d–ay", &
tÙ®O±SyncHİD–ay
, 0, 
NULL
);

3468 
	`¡©_»g_fÜmuÏ
 (
sdb
, "av”age_sync_İt_ÃtwÜk_time", "cyşe ³¸İt_ÃtwÜk‡cûss", "tÙ®_sync_İt_ÃtwÜk_d–ay /Ù®_sync_İt_ÃtwÜk_acûss", 
NULL
);

3469 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_loÿl_ÿche_acûss", "tÙ®†oÿÈdl2 cachacûs numb”", &
loÿl_ÿche_acûss
, 0, 
NULL
);

3470 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_»mÙe_ÿche_acûss", "tÙ®„emÙdl2 cachacûs numb”", &
»mÙe_ÿche_acûss
, 0, 
NULL
);

3471 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_wb", "tÙ®wØhİ švŞve dutØwr™back", &
švŞve_2_hİ_wb
, 0, 
NULL
);

3472 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_touch", "tÙ®wØhİ švŞve dutØtouch", &
švŞve_2_hİ_touch
, 0, 
NULL
);

3473 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves", "tÙ®wØhİ švŞves", &
švŞve_2_hİs
, 0, 
NULL
);

3474 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs
, 0, 
NULL
);

3475 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞves_wm", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_wm
, 0, 
NULL
);

3476 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞves_wm", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_wm
, 0, 
NULL
);

3477 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_miss", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_miss
, 0, 
NULL
);

3478 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_miss", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_miss
, 0, 
NULL
);

3479 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_four_hİs_švŞve_upg¿de", "tÙ® fou¸hİ švŞves", &
švŞve_4_hİs_upg¿de
, 0, 
NULL
);

3480 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_two_hİs_švŞve_upg¿de", "tÙ®wØhİ švŞves", &
švŞve_2_hİs_upg¿de
, 0, 
NULL
);

3481 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_»ad", "tÙ®…riv©d©¨fÜ„—d miss", &
d©a_´iv©e_»ad
, 0, 
NULL
);

3482 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_´iv©e_wr™e", "tÙ®…riv©d©¨fÜ wr™miss", &
d©a_´iv©e_wr™e
, 0, 
NULL
);

3483 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_»ad", "tÙ® sh¬ed d©¨fÜ„—d miss", &
d©a_sh¬ed_»ad
, 0, 
NULL
);

3484 
	`¡©_»g_couÁ”
 (
sdb
, "d©a_sh¬ed_wr™e", "tÙ® sh¬ed d©¨fÜ wr™miss", &
d©a_sh¬ed_wr™e
, 0, 
NULL
);

3485 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_şo£", "tÙ®‚umb” oà®Èşo£d cÚsum”s", &
tÙ®_®l_şo£
, 0, 
NULL
);

3486 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_nÙ_®l_şo£", "tÙ®‚umb” oànÙ‡Î clo£d cÚsum”s", &
tÙ®_nÙ_®l_şo£
, 0, 
NULL
);

3487 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_p_c_ev’ts", "tÙ®…roduû¸ªd cÚsum” ev’t (shouldƒqu®Ø4 hİs)", &
tÙ®_p_c_ev’ts
, 0, 
NULL
);

3488 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_cÚsum”s", "tÙ®‚umb” oàcÚsum”s", &
tÙ®_cÚsum”s
, 0, 
NULL
);

3489 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_š_ÃighbÜ", "tÙ®…ack‘ ¬š‚eighbÜhood", &
tÙ®_·ck‘s_š_ÃighbÜ
, 0, 
NULL
);

3490 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_·ck‘s_©_cÜÃrs", "tÙ®…ack‘ ¬© cÜÃrs", &
tÙ®_·ck‘s_©_cÜÃrs
, 0, 
NULL
);

3491 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_®l_®mo¡şo£", "tÙ®‚umb” oà®Èşo£d‡nd cÜÃ¸cÚsum”s", &
tÙ®_®l_®mo¡şo£
, 0, 
NULL
);

3492 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_cÚsum”s", "tÙ® d©¨·ck‘ oàcÚsum”s", &
tÙ®_d©a_cÚsum”s
, 0, 
NULL
);

3493 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_©_cÜÃr", "tÙ® d©¨·ck‘ suµly from‡ˆcÜÃrs", &
tÙ®_d©a_©_cÜÃr
, 0, 
NULL
);

3494 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_şo£", "tÙ® d©¨·ck‘ ¬suµl›d from clo£by sourûs", &
tÙ®_d©a_şo£
, 0, 
NULL
);

3495 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_d©a_çr", "tÙ® d©¨·ck‘ ¬sumµl›d from f¬ sourûs", &
tÙ®_d©a_çr
, 0, 
NULL
);

3496 
	`¡©_»g_doubË
 (
sdb
, "av”age_šside_³rûÁ", "av”agšsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_šside_³rûÁ
, 0, 
NULL
);

3497 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(should bdivided byÙ®_nÙ_®l_şo£)", &
av”age_outside_³rûÁ
, 0, 
NULL
);

3498 
	`¡©_»g_doubË
 (
sdb
, "av”age_outside_abs_³rûÁ", "av”agabsŞuy outsid·ck‘ ³rûÁ(ç¸- cÜÃr)", &
av”age_outside_abs_³rûÁ
, 0, 
NULL
);

3499 
	`¡©_»g_doubË
 (
sdb
, "av”age_cÜÃr_³rûÁ", "av”agoutsid·ck‘ ³rûÁ(cÜÃr: should bdivided byÙ®_nÙ_®l_şos)", &
av”age_cÜÃr_³rûÁ
, 0, 
NULL
);

3500 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_çr_·ck‘s", "", &
tÙ®_çr_·ck‘s
, 0, 
NULL
);

3501 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_cÜÃr_·ck‘s", "", &
tÙ®_cÜÃr_·ck‘s
, 0, 
NULL
);

3502 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_ÃighbÜ_·ck‘s", "", &
tÙ®_ÃighbÜ_·ck‘s
, 0, 
NULL
);

3503 
	`¡©_»g_doubË
 (
sdb
, "³ndšg_šv®id_cyşes", "how mªy cyşe tØšv®id©thÿchlše", &
³ndšg_šv®id_cyşes
, 0, 
NULL
);

3510 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_down_r", "", &
downg¿de_r
, 0, 
NULL
);

3511 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_down_w", "", &
downg¿de_w
, 0, 
NULL
);

3512 
i
=0;i<5;i++)

3514 
	`¥rštf
 (
ch2
, "down_¥ªd_%d", 
i
);

3515 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
¥ªd
[
i
], 0, 
NULL
);

3518 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´iv©e_couÁs", "", &
´iv©e_couÁ
, 0, 
NULL
);

3519 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mig¿tiÚ_couÁs", "", &
mig¿‹_couÁ
, 0, 
NULL
);

3520 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sh¬ed_couÁs", "", &
sh¬ed_couÁ
, 0, 
NULL
);

3521 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sh¬ed_rw_couÁs", "", &
sh¬ed_rw_couÁ
, 0, 
NULL
);

3522 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´iv©e_dyÇmic_couÁs", "", &
´iv©e_dyÇmic_acûs£s
, 0, 
NULL
);

3523 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_mig¿‹_dyÇmic_couÁs", "", &
mig¿‹_dyÇmic_acûs£s
, 0, 
NULL
);

3524 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_sh¬ed_dyÇmic_couÁs", "", &
sh¬ed_dyÇmic_acûs£s
, 0, 
NULL
);

3525 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_¤w_dyÇmic_couÁs", "", &
sh¬edrw_dyÇmic_acûs£s
, 0, 
NULL
);

3526 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_šæight_´iv©e", "", &
šæight_´iv©e
, 0, 
NULL
);

3527 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_šæight_mig¿‹", "", &
šæight_mig¿‹
, 0, 
NULL
);

3528 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_šæight_sh¬ed_Úly", "", &
šæight_sh¬ed_Úly
, 0, 
NULL
);

3529 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_šæight_sh¬ed_rw", "", &
šæight_sh¬ed_rw
, 0, 
NULL
);

3530 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_´iv©e_Ùh”s", "", &
´iv©e_Ùh”s
, 0, 
NULL
);

3531 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_ty³_chªged", "", &
ty³_chªged
, 0, 
NULL
);

3532 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_lše_acûs£s", "", &
lše_acûs£s
, 0, 
NULL
);

3533 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_šæight_acûs£s", "", &
lše_šæight_acûs£s
, 0, 
NULL
);

3534 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_p_to_¤w", "", &
´iv©e_to_sh¬ed_rw
, 0, 
NULL
);

3535 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_¤w_to_p", "", &
sh¬ed_rw_to_´iv©e
, 0, 
NULL
);

3536 
	`¡©_»g_couÁ”
 (
sdb
, "tÙ®_¤w_cÚ¡©Á", "", &
sh¬ed_rw_cÚ¡ªt
, 0, 
NULL
);

3538 
i
=0;i<101;i++)

3540 
	`¥rštf
 (
ch2
, "Cache_dyÇmic_acc_´iv©e%d", 
i
);

3541 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_dyÇmic_acc_´iv©e
[
i
], 0, 
NULL
);

3543 
i
=0;i<101;i++)

3545 
	`¥rštf
 (
ch2
, "Cache_dyÇmic_acc_mig¿‹%d", 
i
);

3546 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_dyÇmic_acc_mig¿‹
[
i
], 0, 
NULL
);

3548 
i
=0;i<101;i++)

3550 
	`¥rštf
 (
ch2
, "Cache_dyÇmic_acc_sh¬ed%d", 
i
);

3551 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_dyÇmic_acc_sh¬ed
[
i
], 0, 
NULL
);

3553 
i
=0;i<101;i++)

3555 
	`¥rštf
 (
ch2
, "Cache_dyÇmic_acc_¤w%d", 
i
);

3556 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_dyÇmic_acc_¤w
[
i
], 0, 
NULL
);

3558 
i
=0;i<101;i++)

3560 
	`¥rštf
 (
ch2
, "Cache_acc_¤w_´i_r%d", 
i
);

3561 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acc_¤w_´i_r
[
i
], 0, 
NULL
);

3563 
i
=0;i<101;i++)

3565 
	`¥rštf
 (
ch2
, "Cache_acc_¤w_´i_w%d", 
i
);

3566 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acc_¤w_´i_w
[
i
], 0, 
NULL
);

3568 
i
=0;i<101;i++)

3570 
	`¥rštf
 (
ch2
, "Cache_acc_¤w_r%d", 
i
);

3571 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acc_¤w_r
[
i
], 0, 
NULL
);

3573 
i
=0;i<101;i++)

3575 
	`¥rštf
 (
ch2
, "Cache_acc_¤w_w%d", 
i
);

3576 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acc_¤w_w
[
i
], 0, 
NULL
);

3578 
i
=0;i<101;i++)

3580 
	`¥rštf
 (
ch2
, "Cache_acc_¤w_´iv©e%d", 
i
);

3581 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acc_¤w_´iv©e
[
i
], 0, 
NULL
);

3583 
i
=0;i<101;i++)

3585 
	`¥rštf
 (
ch2
, "Cache_acc_¤w_¤w_%d", 
i
);

3586 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acc_¤w_¤w
[
i
], 0, 
NULL
);

3588 
i
=0;i<101;i++)

3590 
	`¥rštf
 (
ch2
, "Cache_acûss_%d", 
i
);

3591 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acûss
[
i
], 0, 
NULL
);

3593 
i
=0;i<101;i++)

3595 
	`¥rštf
 (
ch2
, "wÜd_utiz©iÚ_%d", 
i
);

3596 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
wÜd_utiz©iÚ
[
i
], 0, 
NULL
);

3598 
i
=0;i<101;i++)

3600 
	`¥rštf
 (
ch2
, "Cache_acûss_p_%d", 
i
);

3601 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acûss_p
[
i
], 0, 
NULL
);

3603 
i
=0;i<101;i++)

3605 
	`¥rštf
 (
ch2
, "wÜd_utiz©iÚ_p_%d", 
i
);

3606 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
wÜd_utiz©iÚ_p
[
i
], 0, 
NULL
);

3608 
i
=0;i<101;i++)

3610 
	`¥rštf
 (
ch2
, "Cache_acûss_s_%d", 
i
);

3611 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acûss_s
[
i
], 0, 
NULL
);

3613 
i
=0;i<101;i++)

3615 
	`¥rštf
 (
ch2
, "wÜd_utiz©iÚ_s_%d", 
i
);

3616 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
wÜd_utiz©iÚ_s
[
i
], 0, 
NULL
);

3618 
i
=0;i<101;i++)

3620 
	`¥rštf
 (
ch2
, "Cache_acûss_m_%d", 
i
);

3621 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acûss_m
[
i
], 0, 
NULL
);

3623 
i
=0;i<101;i++)

3625 
	`¥rštf
 (
ch2
, "wÜd_utiz©iÚ_m_%d", 
i
);

3626 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
wÜd_utiz©iÚ_m
[
i
], 0, 
NULL
);

3628 
i
=0;i<101;i++)

3630 
	`¥rštf
 (
ch2
, "Cache_acûss_¤w_%d", 
i
);

3631 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
Cache_acûss_¤w
[
i
], 0, 
NULL
);

3633 
i
=0;i<101;i++)

3635 
	`¥rštf
 (
ch2
, "wÜd_utiz©iÚ_¤w_%d", 
i
);

3636 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
wÜd_utiz©iÚ_¤w
[
i
], 0, 
NULL
);

3638 
i
 = 0; i < 16; i++)

3640 
ch2
[20];

3641 
	`¥rštf
 (
ch2
, "pÜt_%d", 
i
);

3642 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
pÜt_accÜd
[
i
], 0, 
NULL
);

3644 
i
 = 0; i < 
MAXTHREADS
; i++)

3646 
ch2
[20];

3647 
	`¥rštf
 (
ch2
, "sh¬”_di¡r_%d", 
i
);

3648 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
sh¬”_di¡r
[
i
], 0, 
NULL
);

3681 
	`İtiÿl_»g_¡©s
 (
sdb
);

3683 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_couÁ", "cumuÏtivIFQ occu·ncy", &
IFQ_couÁ
, 0, 
NULL
);

3684 
	`¡©_»g_couÁ”
 (
sdb
, "IFQ_fcouÁ", "cumuÏtivIFQ fuÎ couÁ", &
IFQ_fcouÁ
, 0, 
NULL
);

3685 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_occu·ncy", "avg IFQ occu·ncy (š¢'s)", "IFQ_couÁ / sim_cyşe", 
NULL
);

3686 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_¿‹", "avg IFQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

3687 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_Ï‹ncy", "avg IFQ occu·Á†©’cy (cyşe's)", "ifq_occu·ncy / ifq_¿‹", 
NULL
);

3688 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ifq_fuÎ", "äaùiÚ oàtim(cyşe'sèIFQ wa fuÎ", "IFQ_fcouÁ / sim_cyşe", 
NULL
);

3690 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_couÁ", "cumuÏtivRUU occu·ncy", &
RUU_couÁ
, 0, 
NULL
);

3691 
	`¡©_»g_couÁ”
 (
sdb
, "RUU_fcouÁ", "cumuÏtivRUU fuÎ couÁ", &
RUU_fcouÁ
, 0, 
NULL
);

3692 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_occu·ncy", "avg RUU occu·ncy (š¢'s)", "RUU_couÁ / sim_cyşe", 
NULL
);

3693 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_¿‹", "avg RUU di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

3694 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_Ï‹ncy", "avg RUU occu·Á†©’cy (cyşe's)", "ruu_occu·ncy /„uu_¿‹", 
NULL
);

3695 
	`¡©_»g_fÜmuÏ
 (
sdb
, "ruu_fuÎ", "äaùiÚ oàtim(cyşe'sèRUU wa fuÎ", "RUU_fcouÁ / sim_cyşe", 
NULL
);

3697 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_couÁ", "cumuÏtivLSQ occu·ncy", &
LSQ_couÁ
, 0, 
NULL
);

3698 
	`¡©_»g_couÁ”
 (
sdb
, "LSQ_fcouÁ", "cumuÏtivLSQ fuÎ couÁ", &
LSQ_fcouÁ
, 0, 
NULL
);

3699 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_occu·ncy", "avg LSQ occu·ncy (š¢'s)", "LSQ_couÁ / sim_cyşe", 
NULL
);

3700 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_¿‹", "avg LSQ di¥©ch„©(š¢/cyşe)", "sim_tÙ®_š¢ / sim_cyşe", 
NULL
);

3701 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_Ï‹ncy", "avg LSQ occu·Á†©’cy (cyşe's)", "lsq_occu·ncy /†sq_¿‹", 
NULL
);

3702 
	`¡©_»g_fÜmuÏ
 (
sdb
, "lsq_fuÎ", "äaùiÚ oàtim(cyşe'sèLSQ wa fuÎ", "LSQ_fcouÁ / sim_cyşe", 
NULL
);

3703 
	`¡©_»g_couÁ”
 (
sdb
, "dl2Aùu®lyAcûs£d", "", &
dl2Aùu®lyAcûs£d
, 0, 
NULL
);

3705 
	`¡©_»g_couÁ”
 (
sdb
, "´eãtchLßd", "", &
m_sqP»ãtchCÁ
, 0, 
NULL
);

3707 
i
 = 0; i < 
numcÚ‹xts
; i++)

3709 
ch
[20], 
fm
[30], 
ch2
[20];

3711 
	`¥rštf
 (
ch2
, "brRecov”y_%d", 
i
);

3712 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® wrÚg b¿nches", &
brRecov”y
[
i
], 0, 
NULL
);

3714 
	`¥rštf
 (
ch2
, "exŒaIn¢_%d", 
i
);

3715 
	`¡©_»g_couÁ”
 (
sdb
, "exŒaIn¢", "tÙ®‚umb” oàwrÚg…©h in¢ƒxecu‹d", &
exŒaIn¢
[
i
], 0, 
NULL
);

3719 
i
 = 0; i < 
THREADS_PER_JOB
; i++)

3721 
ch2
[20];

3725 
i
 = 0; i < 
MAXTHREADS
; i++)

3727 
ch2
[20];

3730 
	`¥rštf
 (
ch2
, "th»ad_sim_š¢_%d", 
i
);

3731 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "³¸th»ad sim‚um in¢", &
simIn¢
[
i
], 0, 
NULL
);

3732 
	`¥rštf
 (
ch2
, "SÎCouÁ_%d", 
i
);

3733 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "tÙ® sÎ couÁ", &
¦“pCouÁ
[
i
], 0, 
NULL
);

3734 
	`¥rštf
 (
ch2
, "qu›n£Wakeup_%d", 
i
);

3735 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
qu›n£Wakeup
[
i
], 0, 
NULL
);

3736 
	`¥rštf
 (
ch2
, "£qCÚsR•Ïy_%d", 
i
);

3737 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsR•Ïy
[
i
], 0, 
NULL
);

3738 
	`¥rštf
 (
ch2
, "£qCÚsIn¢R•Ïy_%d", 
i
);

3739 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
£qCÚsIn¢R•Ïy
[
i
], 0, 
NULL
);

3740 
	`¥rštf
 (
ch2
, "ld¡RejeùiÚCouÁ_%d", 
i
);

3741 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
ld¡RejeùiÚCouÁ
[
i
], 0, 
NULL
);

3742 
	`¥rštf
 (
ch2
, "TrueR•Ïy_%d", 
i
);

3743 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqNumLdR•Ïy
[
i
], 0, 
NULL
);

3745 
	`¥rštf
 (
ch2
, "Inv®id©iÚR•Ïy_%d", 
i
);

3746 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
šv®id©iÚ_»¶ay
[
i
], 0, 
NULL
);

3748 #ifdeà
RELAXED_CONSISTENCY


3749 
	`¥rštf
 (
ch2
, "lßdLßdR•Ïy_%d", 
i
);

3750 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
lßdLßdR•ÏyCouÁ
[
i
], 0, 
NULL
);

3752 
	`¥rštf
 (
ch2
, "avgRUUsize_%d", 
i
);

3753 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgRUUsize
[
i
], 0, 
NULL
);

3754 
	`¥rštf
 (
ch2
, "avgLQsize_%d", 
i
);

3755 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgLQsize
[
i
], 0, 
NULL
);

3756 
	`¥rštf
 (
ch2
, "avgSQsize_%d", 
i
);

3757 
	`¡©_»g_doubË
 (
sdb
, 
ch2
, "", &
avgSQsize
[
i
], 0, 
NULL
);

3758 
	`¥rštf
 (
ch2
, "Comm™SÎ_%d", 
i
);

3759 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_comm™SÎ
[
i
], 0, 
NULL
);

3760 
	`¥rštf
 (
ch2
, "TÙ®SÎ_%d", 
i
);

3761 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_tÙ®SÎ
[
i
], 0, 
NULL
);

3762 
	`¥rštf
 (
ch2
, "RUUSÎ_%d", 
i
);

3763 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_RUUFuÎ
[
i
], 0, 
NULL
);

3764 
	`¥rštf
 (
ch2
, "LQSÎ_%d", 
i
);

3765 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqLQFuÎ
[
i
], 0, 
NULL
);

3766 
	`¥rštf
 (
ch2
, "SQSÎ_%d", 
i
);

3767 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_sqSQFuÎ
[
i
], 0, 
NULL
);

3768 
	`¥rštf
 (
ch2
, "StÜeMissSÎ_%d", 
i
);

3769 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeMiss
[
i
], 0, 
NULL
);

3770 
	`¥rštf
 (
ch2
, "LQH™SÎ_%d", 
i
);

3771 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdR—lH™
[
i
], 0, 
NULL
);

3772 
	`¥rštf
 (
ch2
, "LQMissSÎ_%d", 
i
);

3773 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdR—lMiss
[
i
], 0, 
NULL
);

3774 
	`¥rštf
 (
ch2
, "SQH™SÎ_%d", 
i
);

3775 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeR—lH™
[
i
], 0, 
NULL
);

3776 
	`¥rštf
 (
ch2
, "SQMissSÎ_%d", 
i
);

3777 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeR—lMiss
[
i
], 0, 
NULL
);

3778 
	`¥rštf
 (
ch2
, "StÜeSÎMiss_%d", 
i
);

3779 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeSÎMiss
[
i
], 0, 
NULL
);

3780 
	`¥rštf
 (
ch2
, "StÜeSÎH™_%d", 
i
);

3781 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeSÎH™
[
i
], 0, 
NULL
);

3782 
	`¥rštf
 (
ch2
, "LßdSÎMiss_%d", 
i
);

3783 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdSÎMiss
[
i
], 0, 
NULL
);

3784 
	`¥rštf
 (
ch2
, "LßdSÎH™_%d", 
i
);

3785 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdSÎH™
[
i
], 0, 
NULL
);

3786 
	`¥rštf
 (
ch2
, "StÜeUpd©eMissSÎ_%d", 
i
);

3787 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_StÜeUpd©eMiss
[
i
], 0, 
NULL
);

3788 
	`¥rštf
 (
ch2
, "LßdMissSÎ_%d", 
i
);

3789 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_LßdMiss
[
i
], 0, 
NULL
);

3790 
	`¥rštf
 (
ch2
, "RegSÎ_%d", 
i
);

3791 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_»gFuÎ
[
i
], 0, 
NULL
);

3792 
	`¥rštf
 (
ch2
, "IssueSÎ_%d", 
i
);

3793 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_issueFuÎ
[
i
], 0, 
NULL
);

3794 
	`¥rštf
 (
ch2
, "Il1missSÎ_%d", 
i
);

3795 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_1Miss
[
i
], 0, 
NULL
);

3796 
	`¥rštf
 (
ch2
, "F‘chSÎ_%d", 
i
);

3797 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_ãtchEm±y
[
i
], 0, 
NULL
);

3798 
	`¥rštf
 (
ch2
, "STLCSÎ_%d", 
i
);

3799 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_STLC
[
i
], 0, 
NULL
);

3800 
	`¥rštf
 (
ch2
, "T¿pSÎ_%d", 
i
);

3801 
	`¡©_»g_couÁ”
 (
sdb
, 
ch2
, "", &
m_Œ­
[
i
], 0, 
NULL
);

3804 #ifdeà
LOAD_PREDICTOR


3806 ià(
ld´ed
)

3807 
	`b´ed_»g_¡©s
 (
ld´ed
, 
sdb
, 0);

3811 
i
 = 0; i < 
numcÚ‹xts
; i++)

3813 
	`ld_»g_¡©s
 (
sdb
, 
i
);

3814 
	`mem_»g_¡©s
 (
thecÚ‹xts
[
i
]->
mem
, 
sdb
);

3817 
i
 = 0; i < 
MAXTHREADS
; i++)

3819 ià(
ÿche_dl1
[
i
])

3820 
	`ÿche_»g_¡©s
 (
ÿche_dl1
[
i
], 
sdb
, i);

3821 ià(
ÿche_1
[
i
])

3822 
	`ÿche_»g_¡©s
 (
ÿche_1
[
i
], 
sdb
, i);

3823 ià(
™lb
[
i
])

3824 
	`ÿche_»g_¡©s
 (
™lb
[
i
], 
sdb
, i);

3825 ià(
db
[
i
])

3826 
	`ÿche_»g_¡©s
 (
db
[
i
], 
sdb
, i);

3829 ià(
ÿche_ml2
)

3830 
	`ÿche_»g_¡©s
 (
ÿche_ml2
, 
sdb
, 0);

3832 ià(
ÿche_dl2
)

3833 
	`ÿche_»g_¡©s
 (
ÿche_dl2
, 
sdb
, 0);

3836 
	`pow”_»g_¡©s
 (
sdb
);

3839 
	`¡©_»g_couÁ”
 (
sdb
, "sim_šv®id_addrs", "tÙ®‚Ú-¥ecuÏtivbogu add»s£ £’ (debug v¬)", &
sim_šv®id_addrs
, 0, 
NULL
);

3841 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

3843 
buf
[512], 
buf1
[512];

3844 
¡©_¡©_t
 *
¡©
;

3848 
¡©
 = 
	`¡©_fšd_¡©
 (
sdb
, 
pc¡©_v¬s
[
i
]);

3849 ià(!
¡©
)

3850 
	`çl
 ("ÿÂÙ†oÿ‹‡ny sti¡iøÇmed `%s'", 
pc¡©_v¬s
[
i
]);

3853 ià(
¡©
->
sc
 !ğ
sc_št
 && st->sø!ğ
sc_ušt
 && st->sø!ğ
sc_couÁ”
)

3854 
	`çl
 ("`-pc¡©' sti¡iÿÈv¬ŸbË `%s' i nÙ‡Àš‹g¿Èty³", 
¡©
->
Çme
);

3857 
pc¡©_¡©s
[
i
] = 
¡©
;

3858 
pc¡©_Ï¡v®s
[
i
] = 
	`STATVAL
 (
¡©
);

3861 
	`¥rštf
 (
buf
, "%s_by_pc", 
¡©
->
Çme
);

3862 
	`¥rštf
 (
buf1
, "% (byexˆadd»ss)", 
¡©
->
desc
);

3863 
pc¡©_sdi¡s
[
i
] = 
	`¡©_»g_sdi¡
 (
sdb
, 
buf
, 
buf1
,

3865  (
PF_COUNT
 | 
PF_PDF
),

3867  
NULL
);

3871 #ifdeà
TOKENB


3872 ià(
tok’B
)

3873 
	`tc_»g_¡©s
 (
sdb
);

3875 
	`şu¡”_»g_¡©s
 (
sdb
);

3876 
	}
}

3879 
lsq_š™
 ();

3880 
r¦šk_š™
 (
Æšks
);

3881 
rs_ÿche_š™
 ();

3882 
ev’tq_š™
 ();

3883 
»adyq_š™
 ();

3884 
cv_š™
 (
th»adid
);

3885 
ruu_š™
 (
th»adid
);

3886 
Œaûr_š™
 (
th»adid
);

3887 
ãtch_š™
 (
th»adid
);

3889 
dœ_ev’tq_š™
();

3893 
	$sim_š™
 ()

3895 
i
;

3897 
sim_num_»fs
 = 0;

3899 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

3902 ià(
bimod_ÃÉ
 != 1)

3903 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3904 ià(
btb_ÃÉ
 != 2)

3905 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3908 
i
 = 0; i < 
numcÚ‹xts
; i++)

3910 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

3911  
bimod_cÚfig
[0],

3917  
btb_cÚfig
[0],

3918  
btb_cÚfig
[1],

3919  
¿s_size
);

3922 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

3925 ià(
twŞev_ÃÉ
 != 4)

3926 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3927 ià(
btb_ÃÉ
 != 2)

3928 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3930 
i
 = 0; i < 
numcÚ‹xts
; i++)

3932 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

3934  
twŞev_cÚfig
[0],

3935  
twŞev_cÚfig
[1],

3937  
twŞev_cÚfig
[2],

3938  
twŞev_cÚfig
[3],

3939  
btb_cÚfig
[0],

3940  
btb_cÚfig
[1],

3941  
¿s_size
);

3944 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

3947 ià(
twŞev_ÃÉ
 != 4)

3948 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

3949 ià(
bimod_ÃÉ
 != 1)

3950 
	`çl
 ("bad bimod…redictor config (<table_size>)");

3951 ià(
comb_ÃÉ
 != 1)

3952 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

3953 ià(
btb_ÃÉ
 != 2)

3954 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

3956 
i
 = 0; i < 
numcÚ‹xts
; i++)

3958 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

3959  
bimod_cÚfig
[0],

3960  
twŞev_cÚfig
[0],

3961  
twŞev_cÚfig
[1],

3962  
comb_cÚfig
[0],

3963  
twŞev_cÚfig
[2],

3964  
twŞev_cÚfig
[3],

3965  
btb_cÚfig
[0],

3966  
btb_cÚfig
[1],

3967  
¿s_size
);

3971 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


3972 #iâdeà
CENTRALIZED_CACHE_BANK


3973 ià(
»s_membªk
 < 
CLUSTERS
)

3975 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3976 
	`årštf
 (
¡d”r
, "„es_membªk %d < CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3977 
	`ex™
 (1);

3980 ià(
»s_membªk
 !ğ
CLUSTERS
)

3982 
	`årštf
 (
¡d”r
, "Impossible configuration, for PWR_DE_CENTRALIZED_LSQ„es_membank mustƒqual CLUSTERS");

3983 
	`årštf
 (
¡d”r
, "„es_membªk %d !ğ CLUSTERS %d", 
»s_membªk
, 
CLUSTERS
);

3984 
	`ex™
 (1);

3989 #ifdeà
PORT_PER_BANK


3990 
CACHEPORTS
 = 
RES_CACHEPORTS
 = 
RES_CACHE_PORTS
 = 
»s_membªk
;

3991 
»s_mempÜt
 = 
»s_mem_pÜt_bªk
 * 
»s_membªk
;

3994 #ifdeà
ISSUE_PER_CLUSTER


4000 
i
 = 0; i < 
numcÚ‹xts
; i++)

4002 ià(
i
 == 0)

4004 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
Vdd
 * Vdd;

4005 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* (
Vdd
 / 2) * (Vdd / 2);

4006 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 1;

4010 
thecÚ‹xts
[
i
]->
pow”
.
Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * 
Vdd
 * checkerVDD * Vdd;

4011 
thecÚ‹xts
[
i
]->
pow”
.
S’£Pow”çùÜ
 = (
Mhz
è* 
check”VDD
 * (
Vdd
 / 2) * checkerVDD * (Vdd / 2);

4012 
thecÚ‹xts
[
i
]->
pow”
.
vdd_»duùiÚ
 = 
check”VDD
;

4015 
	`ÿlcuÏ‹_pow”
 (&(
thecÚ‹xts
[
i
]->
pow”
));

4017 ià(
i
)

4019 
thecÚ‹xts
[
i
]->
pow”
.
b´ed_pow”
 = 0;

4020 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_pow”
 =hecontexts[0]->power.dcache2_power;

4022 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_decod”
 =hecontexts[0]->power.dcache2_decoder;

4023 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_wÜdlše
 =hecontexts[0]->power.dcache2_wordline;

4024 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_b™lše
 =hecontexts[0]->power.dcache2_bitline;

4025 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_£n£amp
 =hecontexts[0]->power.dcache2_senseamp;

4026 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_g¬¿y
 =hecontexts[0]->power.dcache2_tagarray;

4027 
thecÚ‹xts
[
i
]->
pow”
.
dÿche2_gc
 =hecontexts[0]->power.dcache2_gc;

4031 ià(
hÙ¥Ù_aùive
)

4032 
	`hÙ¥Ù_š™
 ();

4033 
	}
}

4037 
simoo_»g_obj
 (
»gs_t
 *
»gs
,

4038 
is_wr™e
,

4039 
md_»g_ty³
 
¹
,

4040 
»g
,

4041 
ev®_v®ue_t
 *
v®
);

4045 
simoo_mem_obj
 (
mem_t
 *
mem
,

4046 
is_wr™e
,

4047 
md_addr_t
 
addr
,

4048 *
p
,

4049 
nby‹s
);

4053 
simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

4054 *
cmd
,

4055 
»gs_t
 *
»gs
,

4056 
mem_t
 *
mem
);

4059 
	#MAX_RS_LINKS
 65536

	)

4060 
couÁ”_t
 
	grs_lšk_num
 = 0;

4062 
	gMAX_BR_NUM
;

4066 
	$sim_lßd_th»ads
 (
¬gc
, **
¬gv
,

4067 **
’vp
)

4069 
i
, 
j
, 
¬g_¡©us
 = 1;

4070 
cÚ‹xt
 *
cu¼’t
;

4072 
numcÚ‹xts
 = 0;

4073 
j
 = 0; (j < 
¬gc
è&& (
numcÚ‹xts
 < 
MAXTHREADS
è&& 
¬g_¡©us
; j++)

4075 
	`årštf
 (
¡d”r
, "š™Ÿlizšg cÚ‹xˆ%d\n", 
numcÚ‹xts
);

4077 
¬g_¡©us
 = 
	`»ad_th»ad_¬gs
 (
’vp
, 
¬gv
[
j
], &
numcÚ‹xts
);

4079 
cu¼’t
 = 
thecÚ‹xts
[
j
];

4081 
cu¼’t
->
aùu®id
 = 0;

4084 
	`ld_lßd_´og
 (
cu¼’t
->
âame
, cu¼’t->
¬gc
, cu¼’t->
¬gv
, 
’vp
, &(cu¼’t->
»gs
), cu¼’t->
mem
, 
TRUE
, 
j
);

4088 ià(
±¿û_ÃÉ
 == 2)

4091 
	`±¿û_İ’
 ( 
±¿û_İts
[0],…trace_opts[1]);

4093 ià(
±¿û_ÃÉ
 == 0)

4098 
	`çl
 ("bad…ipetrace‡rgs, use: <fname|stdout|stderr> <range>");

4101 
MAX_BR_NUM
 = 
ruu_ifq_size
 + 
RUU_size
;

4106 
fu_poŞ
 = 
	`»s_ü—‹_poŞ
 ("fu-poŞ", 
fu_cÚfig
, 
	`N_ELT
 (fu_config));

4107 
	`r¦šk_š™
 (
MAX_RS_LINKS
);

4108 
	`rs_ÿche_š™
();

4109 
aùivecÚ‹xts
 = 
numcÚ‹xts
;

4110 
j
 = 0; j < 
numcÚ‹xts
; j++)

4111 
	`Œaûr_š™
 (
j
);

4112 
j
 = 0; j < 
numcÚ‹xts
; j++)

4113 
	`ãtch_š™
 (
j
);

4114 
j
 = 0; j < 
numcÚ‹xts
; j++)

4115 
	`cv_š™
 (
j
);

4116 
	`ev’tq_š™
 ();

4117 
	`»adyq_š™
 ();

4118 #ifdeà
LOCK_HARD


4119 
	`lock_ev’tq_š™
();

4121 
	`dœ_ev’tq_š™
();

4122 
j
 = 0; j < 
MAXTHREADS
+
mesh_size
*2; j++)

4124 
dœ_fifo_h—d
[
j
] = 0;

4125 
dœ_fifo_
[
j
] = 0;

4126 
dœ_fifo_num
[
j
] = 0;

4127 
dœ_fifo_pÜtu£
[
j
] = 0;

4128 
l1_fifo_h—d
[
j
] = 0;

4129 
l1_fifo_
[
j
] = 0;

4130 
l1_fifo_num
[
j
] = 0;

4131 
l1_fifo_pÜtu£
[
j
] = 0;

4132 
Ï¡_L1_mshr_fuÎ
[
j
] = 0;

4133 
Ï¡_L1_fifo_fuÎ
[
j
] = 0;

4134 
Ï¡_Dœ_fifo_fuÎ
[
j
] = 0;

4135 
Ï¡_IÅut_queue_fuÎ
[
j
] = 0;

4137 
Ï¡_L2_mshr_fuÎ
 = 0;

4138 
§me_L1_L2_fifo_fuÎ
 = 0;

4139 
L1_mshr_fuÎ
 = 0;

4140 
L2_mshr_fuÎ
 = 0;

4141 
L2_mshr_fuÎ_´eãtch
 = 0;

4142 
L1_fifo_fuÎ
 = 0;

4143 
Dœ_fifo_fuÎ
 = 0;

4144 
IÅut_queue_fuÎ
 = 0;

4145 
Ouut_queue_fuÎ
 = 0;

4147 
SÎ_L1_mshr
 = 0;

4148 
SÎ_L2_mshr
 = 0;

4149 
SÎ_L1_fifo
 = 0;

4150 
SÎ_dœ_fifo
 = 0;

4151 
SÎ_šput_queue
 = 0;

4152 
SÎ_ouut_queue
 = 0;

4154 
j
 = 0; j < 
numcÚ‹xts
; j++)

4156 
	`ruu_š™
 (
j
);

4157 
	`lsq_š™
 (
j
);

4161 
j
 = 0; j < 
numcÚ‹xts
; j++)

4163 
´iÜ™y
[
j
] = j;

4164 
key
[
j
] = 0;

4165 #ifdeà
INTERVAL_BASED


4166 
š‹rv®_´iÜ™y
[
j
] = j;

4167 
š‹rv®_key
[
j
] = 0;

4171 #ifdeà 
CLUSTER_PRIORITY


4172 
j
 = 0; j < 
CLUSTERS
; j++)

4173 
´iÜ™y_ş
[
j
] = j;

4176 #ifdeà 
PRIORITY_STEER


4177 
j
 = 0; j < 
CLUSTERS
; j++)

4178 
´iÜ™y_ş
[
j
] = j;

4181 #ifdeà 
STEER_DISPATCH_STAT


4182 
j
 = 0; j < 
numcÚ‹xts
; j++)

4183 
»ady_¡“r_thrd_max
[
j
] = 
»ady_¡“r_thrd_mš
[j] = 
»ady_¡“r_thrd_v®ue
[j] = 
MAXDEV
 / 2;

4186 #ià
	`defšed
(
DLITE_SUPPORT
)

4188 
	`dl™e_š™
 (
simoo_»g_obj
, 
simoo_mem_obj
, 
simoo_m¡©e_obj
);

4190 
	}
}

4194 
	$sim_aux_¡©s
 (
FILE
 * 
¡»am
)

4197 
	}
}

4201 
	$sim_unš™
 ()

4203 ià(
±¿û_ÃÉ
 > 0)

4204 
	`±¿û_şo£
 ();

4207 
	}
}

4214 #iâdeà 
STEER_DISPATCH_STAT


4216 
	#OPERANDS_READY
(
RS
è\

	)

4217 ((
	gRS
)->
	gid•_»ady
[0] && (RS)->idep_ready[1] && (RS)->idep_ready[2])

4221 
	#ONE_OPERANDS_READY
(
RS
è\

	)

4222 ((
	gRS
)->
	gid•_»ady
[0] || (RS)->idep_ready[1])

4227 
	$ruu_š™
 (
th»adid
)

4229 
i
 = 0;

4230 
cÚ‹xt
 *
cu¼’t
;

4232 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4233 
cu¼’t
->
RUU
 = 
	`ÿÎoc
 (
RUU_size
,  (
RUU_¡©iÚ
));

4234 ià(!
cu¼’t
->
RUU
)

4235 
	`çl
 ("out of virtual memory");

4237 
i
 = 0; i < 
RUU_size
; i++)

4239 
cu¼’t
->
RUU
[
i
].
šdex
 = i;

4240 
cu¼’t
->
RUU
[
i
].
th»adid
 =hreadid;

4242 
cu¼’t
->
RUU_num
 = 0;

4243 
cu¼’t
->
RUU_h—d
 = cu¼’t->
RUU_
 = 0;

4244 
cu¼’t
->
RUU_couÁ_thrd
 = 0;

4245 
cu¼’t
->
RUU_fcouÁ_thrd
 = 0;

4246 
RUU_couÁ
 = 0;

4247 
RUU_fcouÁ
 = 0;

4249 ià(
th»adid
)

4251 
cu¼’t
->
cyşe_mask
 = 0xffffffff;

4252 
cu¼’t
->
Ï‹ncy_çùÜ
 = 1;

4253 
cu¼’t
->
maš_th»ad
 = 1;

4254 
ÿche_dl1
[
th»adid
]->
h™_Ï‹ncy
 *ğ
cu¼’t
->
Ï‹ncy_çùÜ
;

4257 
i
 = 0; i < 
CLUSTERS
; i++)

4259 
œegfe_ş_couÁ
[
i
] = 0;

4260 
›xŒa_ş_couÁ
[
i
] = 0;

4261 
äegfe_ş_couÁ
[
i
] = 0;

4262 
ãxŒa_ş_couÁ
[
i
] = 0;

4263 
iissueq_ş_couÁ
[
i
] = 0;

4264 
fissueq_ş_couÁ
[
i
] = 0;

4265 #ifdeà
RAW


4266 
¿wq_ş_couÁ
[
i
] = 0;

4269 
	}
}

4273 
	$ruu_dum³Á
 (
RUU_¡©iÚ
 *
rs
,

4274 
šdex
,

4275 
FILE
 * 
¡»am
,

4276 
h—d”
)

4278 ià(!
¡»am
)

4279 
¡»am
 = 
¡d”r
;

4281 ià(
h—d”
)

4282 
	`årštf
 (
¡»am
, "idx: %2d: opcode: %s, in¡: `", 
šdex
, 
	`MD_OP_NAME
 (
rs
->
İ
));

4284 
	`årštf
 (
¡»am
, " opcode: %s, in¡: `", 
	`MD_OP_NAME
 (
rs
->
İ
));

4285 
	`md_´št_š¢
 (
rs
->
IR
,„s->
PC
, 
¡»am
);

4286 
	`årštf
 (
¡»am
, "'\n");

4287 
	`myårštf
 (
¡»am
, " PC: 0x%08p, NPC: 0x%08°Õ»d_PC: 0x%08p)\n", 
rs
->
PC
,„s->
Ãxt_PC
,„s->
´ed_PC
);

4288 
	`årštf
 (
¡»am
, " in_LSQ: %s,ƒa_comp: %s,„ecov”_š¡: %s\n", 
rs
->
š_LSQ
 ? "t" : "f",„s->
—_comp
 ? "t" : "f",„s->
»cov”_š¡
 ? "t" : "f");

4289 
	`myårštf
 (
¡»am
, " s³c_mode: %s,‡ddr: 0x%08p,ag: 0x%08x\n", 
rs
->
¥ec_mode
 ? "t" : "f",„s->
addr
,„s->
g
);

4290 
	`årštf
 (
¡»am
, " seq: 0x%08x,…Œaû_£q: 0x%08x\n", 
rs
->
£q
,„s->
±¿û_£q
);

4291 
	`årštf
 (
¡»am
, " queued: %s, issued: %s, com¶‘ed: %s\n", 
rs
->
queued
 ? "t" : "f",„s->
issued
 ? "t" : "f",„s->
com¶‘ed
 ? "t" : "f");

4292 
	`årštf
 (
¡»am
, " o³¿nd »ady: %s\n", 
	`OPERANDS_READY
 (
rs
) ? "t" : "f");

4293 
	}
}

4297 
	$ruu_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4299 
num
, 
h—d
;

4300 
RUU_¡©iÚ
 *
rs
;

4302 
cÚ‹xt
 *
cu¼’t
;

4304 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4306 ià(!
¡»am
)

4307 
¡»am
 = 
¡d”r
;

4309 
	`årštf
 (
¡»am
, "** Th»ad %d **\n", 
th»adid
);

4310 
	`årštf
 (
¡»am
, "** RUU state **\n");

4311 
	`årštf
 (
¡»am
, "RUU_h—d: %d, RUU_: %d\n", 
cu¼’t
->
RUU_h—d
, cu¼’t->
RUU_
);

4312 
	`årštf
 (
¡»am
, "RUU_num: %d\n", 
cu¼’t
->
RUU_num
);

4314 
num
 = 
cu¼’t
->
RUU_num
;

4315 
h—d
 = 
cu¼’t
->
RUU_h—d
;

4316 
num
)

4318 
rs
 = &(
cu¼’t
->
RUU
[
h—d
]);

4319 
	`ruu_dum³Á
 (
rs
,„ - 
cu¼’t
->
RUU
, 
¡»am
, 
TRUE
);

4320 
h—d
 = (h—d + 1è% 
RUU_size
;

4321 
num
--;

4323 
	}
}

4327 
	$lsq_š™
 (
th»adid
)

4329 
i
 = 0;

4330 
cÚ‹xt
 *
cu¼’t
;

4332 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4334 
cu¼’t
->
LSQ
 = 
	`ÿÎoc
 (
LSQ_size
,  (
RUU_¡©iÚ
));

4335 ià(!
cu¼’t
->
LSQ
)

4336 
	`çl
 ("out of virtual memory");

4337 
i
 = 0; i < 
LSQ_size
; i++)

4339 
cu¼’t
->
LSQ
[
i
].
šdex
 = i;

4340 
cu¼’t
->
LSQ
[
i
].
th»adid
 =hreadid;

4342 
cu¼’t
->
LSQ_num
 = 0;

4343 
cu¼’t
->
LSQ_h—d
 = cu¼’t->
LSQ_
 = 0;

4344 
cu¼’t
->
LSQ_couÁ
 = 0;

4345 
cu¼’t
->
LSQ_fcouÁ
 = 0;

4346 
cu¼’t
->
m_shLQNum
 = 0;

4347 
cu¼’t
->
m_shSQNum
 = 0;

4348 
m_tÙ®SÎ
[
th»adid
] = 0;

4349 
m_sqLQFuÎ
[
th»adid
] = 0;

4350 
m_sqSQFuÎ
[
th»adid
] = 0;

4351 
m_RUUFuÎ
[
th»adid
] = 0;

4352 
m_comm™SÎ
[
th»adid
] = 0;

4354 
	}
}

4359 #ifdeà
COUNT_LSQ


4360 
	gnÚ_issue_LSQ_num
;

4368 
	#STORE_OP_INDEX
 0

	)

4369 
	#STORE_ADDR_INDEX
 1

	)

4371 
	#STORE_OP_READY
(
RS
è((RS)->
id•_»ady
[
STORE_OP_INDEX
])

	)

4372 
	#STORE_ADDR_READY
(
RS
è((RS)->
id•_»ady
[
STORE_ADDR_INDEX
])

	)

4388 
RS_lšk
 *
	gr¦šk_ä“_li¡
;

4389 
RS_lšk
 *
	gr¦šk_li¡
[
MAX_RS_LINKS
];

4392 
RS_li¡
 *
	grs_ÿche_li¡
[
MAXTHREADS
][
MSHR_SIZE
];

4396 
RS_lšk
 
	gRSLINK_NULL
 = 
RSLINK_NULL_DATA
;

4397 
couÁ”_t
 
	grs_lšk_id
 = 0;

4400 
	#RSLINK_INIT
(
RSL
, 
RS
è\

	)

4401 ((
	gRSL
).
	gÃxt
 = 
NULL
, (RSL).
	grs
 = (
RS
), (RSL).
	gg
 = (RS)->
g
)

4404 
	#RSLINK_IS_NULL
(
LINK
è((LINK)->
rs
 =ğ
NULL
)

	)

4407 
	#RSLINK_VALID
(
LINK
è((LINK)->
g
 =ğ(LINK)->
rs
->g)

	)

4410 
	#RSLINK_RS
(
LINK
è((LINK)->
rs
)

	)

4413 
	#RSLINK_NEW
(
DST
, 
RS
è\

	)

4414 { 
RS_lšk
 *
	gn_lšk
; \

4415 ià(!
	gr¦šk_ä“_li¡
) \

4416 
·nic
("out of„s†inks"); \

4417 
	grs_lšk_num
++; \

4418 
	gn_lšk
 = 
r¦šk_ä“_li¡
; \

4419 
	gr¦šk_ä“_li¡
 = 
r¦šk_ä“_li¡
->
Ãxt
; \

4420 
	gn_lšk
->
	gÃxt
 = 
NULL
; \

4421 
	gn_lšk
->
	grs
 = (
RS
);‚_lšk->
	gg
 = 
n_lšk
->
rs
->
g
; \

4422 
	gn_lšk
->
	gÏ¡_u£
 = 
sim_cyşe
; \

4423 (
	gDST
èğ
n_lšk
; \

4427 
	#RSLINK_FREE
(
LINK
è\

	)

4428 { 
RS_lšk
 *
	gf_lšk
 = (
LINK
); \

4429 
	gf_lšk
->
	grs
 = 
NULL
; f_lšk->
	gg
 = 0; \

4430 
	gf_lšk
->
	gÃxt
 = 
r¦šk_ä“_li¡
; \

4431 
	gr¦šk_ä“_li¡
 = 
f_lšk
; \

4432 
	grs_lšk_num
--; \

4437 
	#RSLINK_FREE_LIST
(
LINK
è\

	)

4438 { 
RS_lšk
 *
	gæ_lšk
, *
	gæ_lšk_Ãxt
; \

4439 
	gæ_lšk
=(
LINK
); fl_lšk; fl_lšk=
æ_lšk_Ãxt
) \

4441 
æ_lšk_Ãxt
 = 
æ_lšk
->
Ãxt
; \

4442 
RSLINK_FREE
(
æ_lšk
); \

4448 
	$r¦šk_š™
 (
Æšks
)

4450 
i
;

4451 
RS_lšk
 *
lšk
;

4453 
r¦šk_ä“_li¡
 = 
NULL
;

4454 
i
 = 0; i < 
Æšks
; i++)

4456 
lšk
 = 
	`ÿÎoc
 (1,  (
RS_lšk
));

4457 ià(!
lšk
)

4458 
	`çl
 ("out of virtual memory");

4459 
r¦šk_li¡
[
i
] = 
lšk
;

4460 
lšk
->
Ãxt
 = 
r¦šk_ä“_li¡
;

4461 
r¦šk_ä“_li¡
 = 
lšk
;

4463 
	}
}

4465 
RS_lšk
 * 
	$fšdMax_r¦šk
()

4467 
i
, 
max_id
;

4468 
RS_lšk
 *
lšk
;

4469 
couÁ”_t
 
max
 = 0;

4471 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

4473 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 > 
max
)

4475 
max
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

4476 
max_id
 = 
i
;

4479  
r¦šk_li¡
[
max_id
];

4480 
	}
}

4482 
RS_lšk
 * 
	$fšdMš_r¦šk
()

4484 
i
, 
mš_id
;

4485 
RS_lšk
 *
lšk
;

4486 
couÁ”_t
 
mš
 = 
WAIT_TIME
;

4488 
i
 = 0; i < 
MAX_RS_LINKS
; i++)

4490 if(
r¦šk_li¡
[
i
]->
Ï¡_u£
 < 
mš
)

4492 
mš
 = 
r¦šk_li¡
[
i
]->
Ï¡_u£
;

4493 
mš_id
 = 
i
;

4496  
r¦šk_li¡
[
mš_id
];

4497 
	}
}

4500 
	$rs_ÿche_š™
()

4502 
i
, 
n
;

4503 
n
 = 0;‚ < 
MAXTHREADS
;‚++)

4505 
i
=0; i<
MSHR_SIZE
; i++)

4506 
rs_ÿche_li¡
[
n
][
i
] = 
NULL
;

4508 
	}
}

4514 
	$check_fu_busy
 ()

4516 
i
;

4518 
i
 = 0; i < 
numcÚ‹xts
; i++)

4520 
fu_busy
[
i
] = 0;

4524 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

4526 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
)

4527 
fu_busy
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]++;

4529 
	}
}

4539 
	$ruu_»Ëa£_fu
 ()

4541 
i
;

4544 
i
 = 0; i < 
fu_poŞ
->
num_»sourûs
; i++)

4547 ià(
fu_poŞ
->
»sourûs
[
i
].
busy
 > 0)

4549 
fu_poŞ
->
»sourûs
[
i
].
busy
--;

4551 #ifdeà 
PWR_ALU


4552 #ifdeà
ALU_MERGE


4553 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

4555 
Ÿlu1_acûss
++;

4556 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

4558 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

4560 
çlu1_acûss
++;

4561 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

4564 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IALU_INDEX
)

4566 
Ÿlu1_acûss
++;

4567 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu1_acûss
++;

4569 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_IMULT_INDEX
)

4571 
Ÿlu2_acûss
++;

4572 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
Ÿlu2_acûss
++;

4575 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPALU_INDEX
)

4577 
çlu1_acûss
++;

4578 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu1_acûss
++;

4581 ià(
fu_poŞ
->
»sourûs
[
i
].
x
[0].
şass
 =ğ
FU_FPMULT_INDEX
)

4583 
çlu2_acûss
++;

4584 
thecÚ‹xts
[
fu_poŞ
->
»sourûs
[
i
].
u¤_id
]->
çlu2_acûss
++;

4592 
	}
}

4594 #ifdeà
CONF_RES_RESEND


4595 
QUEUE_EVENT
 *
	g»¶y_queue
[
MAXTHREADS
], *
	g£nd_queue
[MAXTHREADS];

4597 
DIRECTORY_EVENT
 *
	gdœ_ev’t_queue
;

4598 
DIRECTORY_EVENT
 *
	gev’t_li¡
[
L2_MSHR_SIZE
];

4601 
	$dœ_ev’tq_š™
()

4603 
n
 = 0;

4604 #ifdeà
CONF_RES_RESEND


4605 
n
 = 0;‚<
MAXTHREADS
;‚++)

4607 
»¶y_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

4608 
£nd_queue
[
n
] = (
QUEUE_EVENT
 *è
	`ÿÎoc
 (1,  (QUEUE_EVENT));

4609 
	`š™Queue
(
»¶y_queue
[
n
]);

4610 
	`š™Queue
(
£nd_queue
[
n
]);

4613 
dœ_ev’t_queue
 = 
NULL
;

4614 
n
 = 0;‚<
L2_MSHR_SIZE
;‚++)

4615 
ev’t_li¡
[
n
] = 
NULL
;

4616 
	}
}

4617 #ifdeà
LOCK_HARD


4619 
	$lock_ev’tq_š™
()

4621 
n
 = 0, 
j
 = 0;

4622 
n
 = 0;‚<
MAXTHREADS
;‚++)

4624 
j
=0;j<
MAXLOCK
;j++)

4626 
LOCK_REG
[
n
][
j
] = (
LOCK_ENTRY
 *è
	`ÿÎoc
 (1,  (LOCK_ENTRY));

4627 
LOCK_REG
[
n
][
j
]->
lock_owÃr
 = 0;

4628 
LOCK_REG
[
n
][
j
]->
wa™šg_num
 = 0;

4629 
LOCK_REG
[
n
][
j
]->
wa™šg_h—d
 = 0;

4630 
LOCK_REG
[
n
][
j
]->
wa™šg_
 = 0;

4632 
j
=0;j<
MAXBARRIER
;j++)

4634 
BAR_REG
[
n
][
j
] = (
BAR_ENTRY
 *è
	`ÿÎoc
 (1,  (BAR_ENTRY));

4635 
BAR_REG
[
n
][
j
]->
b¬r›r_num
 = 0;

4638 
	}
}

4641 #ifdeà
CONF_RES_RESEND


4643 
	$š™Queue
(
QUEUE_EVENT
 *
queue
)

4645 
i
;

4646 if(!
queue
) ;

4647 
queue
->
ä“_EÁr›s
 = 
QUEUE_SIZE
;

4648 
i
=0; i<
QUEUE_SIZE
; i++)

4650 
queue
->
Queue_’Œy
[
i
].
isv®id
 = 0;

4651 
queue
->
Queue_’Œy
[
i
].
ev’t
 = 
NULL
;

4653 
	}
}

4657 
	$bufãr_fuÎ_check
(
DIRECTORY_EVENT
 *
ev’t
)

4659 
vc
 = 0, 
İtiÚs
 = -1, 
bufãr_fuÎ
 = 0;

4660 if((
ev’t
->
des1
*
mesh_size
+ev’t->
des2
 !ğev’t->
¤c1
*mesh_size+ev’t->
¤c2
è&& (ev’t->
šput_bufãr_fuÎ
)

4661 && (
ev’t
->
İ”©iÚ
 =ğ
MISS_WRITE
 ||ƒv’t->İ”©iÚ =ğ
MISS_READ
 ||ƒv’t->İ”©iÚ =ğ
WRITE_UPDATE
 ||ƒv’t->İ”©iÚ =ğ
MISS_IL1
 ))

4663 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || (!mystricmp (network_type, "HYBRID")))

4665 if(
	`İtiÿlBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
İ”©iÚ
))

4666 
bufãr_fuÎ
 = 1;

4668 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

4670 
İtiÚs
 = 
	`Ord”Check
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1));

4671 
vc
 = 
	`pİÃtBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
, 
İtiÚs
);

4672 if(
vc
 == -1)

4673 
bufãr_fuÎ
 = 1;

4676 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

4678 
bufãr_fuÎ
 = 
	`CombN‘wÜkBufãrS·û
(
ev’t
->
¤c1
,ƒv’t->
¤c2
,ƒv’t->
des1
,ƒv’t->
des2
,ƒv’t->
addr
&~(
ÿche_dl1
[0]->
bsize
-1),ƒv’t->
İ”©iÚ
, &
vc
);

4680 if(
bufãr_fuÎ
)

4683 if(!
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

4685 
IÅut_queue_fuÎ
 ++;

4686 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 
sim_cyşe
;

4692 
ev’t
->
šput_bufãr_fuÎ
 = 0;

4693 
ev’t
->
¡¬tCyşe
 = 
sim_cyşe
;

4694 
	`scheduËThroughN‘wÜk
(
ev’t
, 
sim_cyşe
, 
m‘a_·ck‘_size
, 
vc
);

4695 if(
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
])

4697 
SÎ_šput_queue
 +ğ
sim_cyşe
 - 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
];

4698 
Ï¡_IÅut_queue_fuÎ
[
ev’t
->
des1
*
mesh_size
+ev’t->
des2
] = 0;

4705 
	}
}

4706 
	$dœ_ev’tq_Ãx‹v’t
()

4708 
DIRECTORY_EVENT
 *
ev’t
, *
ev
, *
Ãxt
, *
´ev
;

4709 
i
, 
š£¹_æag
 = 0;

4710 
ev’t
 = 
dœ_ev’t_queue
;

4711 
ev
 = 
NULL
;

4712 
ev’t
!=
NULL
)

4714 
Ãxt
 = 
ev’t
->next;

4716 ià(
ev’t
->
wh’
 <ğ
sim_cyşe
)

4718 
š£¹_æag
 = 
	`bufãr_fuÎ_check
(
ev’t
);

4720 if(
š£¹_æag
 == 0)

4722 if(
ev’t
 =ğ
dœ_ev’t_queue
)

4724 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

4725 
ev’t
->
Ãxt
 = 
NULL
;

4726 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

4728 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

4729 
dœ_ev’t_queue
 = 
ev’t
;

4730 
ev
 = 
ev’t
;

4731 
ev’t
 =ƒv’t->
Ãxt
;

4732 
§me_L1_L2_fifo_fuÎ
 ++;

4735 
ev’t
 = 
dœ_ev’t_queue
;

4739 
ev
->
Ãxt
 = 
ev’t
->next;

4740 
ev’t
->
Ãxt
 = 
NULL
;

4741 if(!(
	`dœ_fifo_’queue
(
ev’t
, 1)))

4743 
ev’t
->
Ãxt
 = 
dœ_ev’t_queue
;

4744 
dœ_ev’t_queue
 = 
ev’t
;

4745 
ev
 = 
ev’t
;

4746 
ev’t
 =ƒv’t->
Ãxt
;

4747 
§me_L1_L2_fifo_fuÎ
 ++;

4750 
ev’t
 = 
ev
->
Ãxt
;

4753 if(
š£¹_æag
 == 1)

4755 
ev
 = 
ev’t
;

4756 
ev’t
 =ƒv’t->
Ãxt
;

4758 if(
š£¹_æag
 == 2)

4760 if(
ev’t
 =ğ
dœ_ev’t_queue
)

4762 
dœ_ev’t_queue
 = 
ev’t
->
Ãxt
;

4763 
ev’t
->
Ãxt
 = 
NULL
;

4764 
	`dœ_ev’tq_š£¹
(
ev’t
);

4765 
ev’t
 = 
dœ_ev’t_queue
;

4769 
ev
->
Ãxt
 = 
ev’t
->next;

4770 
ev’t
->
Ãxt
 = 
NULL
;

4771 
	`dœ_ev’tq_š£¹
(
ev’t
);

4772 
ev’t
 = 
ev
->
Ãxt
;

4779 
ev
 = 
ev’t
;

4780 
ev’t
 =ƒv’t->
Ãxt
;

4784 
	}
}

4796 
RS_lšk
 *
	gev’t_queue
;

4799 
	$ev’tq_š™
 ()

4801 
ev’t_queue
 = 
NULL
;

4802 
	}
}

4808 
	$ev’tq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4810 
RS_lšk
 *
ev
;

4812 
cÚ‹xt
 *
cu¼’t
;

4814 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4816 ià(!
¡»am
)

4817 
¡»am
 = 
¡d”r
;

4819 
	`årštf
 (
¡»am
, "**ƒvent queue state **\n");

4821 
ev
 = 
ev’t_queue
;ƒv !ğ
NULL
;ƒv =ƒv->
Ãxt
)

4824 ià(
	`RSLINK_VALID
 (
ev
))

4826 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4828 
	`årštf
 (
¡»am
, "idx: %2d: @ %.0f\n", 
rs
->
šdex
, (è
ev
->
x
.
wh’
);

4829 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
FALSE
);

4832 
	}
}

4839 
	$ev’tq_queue_ev’t
 (
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’
, 
Ït
)

4841 
RS_lšk
 *
´ev
, *
ev
, *
Ãw_ev
;

4843 ià(
rs
->
com¶‘ed
)

4844 
	`·nic
 ("event completed");

4846 ià(
wh’
 <ğ
sim_cyşe
)

4847 
	`·nic
 ("event occurred inhe…ast");

4850 
	`RSLINK_NEW
 (
Ãw_ev
, 
rs
);

4851 
Ãw_ev
->
x
.
wh’
 = when;

4853 if(
rs
 =ğ
NULL
)

4854 
	`´štf
("RS…robËm %Îd\n", 
sim_cyşe
);

4856 
´ev
 = 
NULL
, 
ev
 = 
ev’t_queue
;ƒv &&ƒv->
x
.
wh’
 < wh’;…»v =ƒv,ƒv =ƒv->
Ãxt
);

4858 ià(
´ev
)

4861 
Ãw_ev
->
Ãxt
 = 
´ev
->next;

4862 
´ev
->
Ãxt
 = 
Ãw_ev
;

4867 
Ãw_ev
->
Ãxt
 = 
ev’t_queue
;

4868 
ev’t_queue
 = 
Ãw_ev
;

4870 
	}
}

4877 
RUU_¡©iÚ
 *

4878 
	$ev’tq_Ãxt_ev’t
 ()

4880 
RS_lšk
 *
ev
;

4881 
RS_lšk
 *
‹mp_ev
, *
´ed_ev
 = 
NULL
;

4883 
‹mp_ev
 = 
ev’t_queue
;

4885 
‹mp_ev
 && !
thecÚ‹xts
[‹mp_ev->
rs
->
th»adid
]->
aùive_this_cyşe
)

4887 
´ed_ev
 = 
‹mp_ev
;

4888 
‹mp_ev
 =emp_ev->
Ãxt
;

4891 ià(
‹mp_ev
 &&emp_ev->
x
.
wh’
 <ğ
sim_cyşe
)

4894 
ev
 = 
‹mp_ev
;

4895 ià(
‹mp_ev
 =ğ
ev’t_queue
)

4897 
ev’t_queue
 =ƒv’t_queue->
Ãxt
;

4901 
´ed_ev
->
Ãxt
 = 
‹mp_ev
->next;

4905 ià(
	`RSLINK_VALID
 (
ev
))

4907 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
ev
);

4910 
	`RSLINK_FREE
 (
ev
);

4913  
rs
;

4918 
	`RSLINK_FREE
 (
ev
);

4921  
	`ev’tq_Ãxt_ev’t
 ();

4927  
NULL
;

4929 
	}
}

4931 
	$chªgeInEv’tQueue
 (
RUU_¡©iÚ
 * 
rs
, 
th»adid
)

4935 
RS_lšk
 *
ev
 = 
ev’t_queue
;

4936 
RS_lšk
 *
´ev
 = 
NULL
;

4938 
ev
 !ğ
NULL
)

4940 ià(
ev
->
rs
 ==„s)

4942 
´ev
 = 
ev
;

4943 
ev
 =ƒv->
Ãxt
;

4946 ià(
ev
 =ğ
NULL
)

4948 
ev
->
x
.
wh’
 = 
sim_cyşe
;

4951 ià(
´ev
 =ğ
NULL
)

4952 
ev’t_queue
 = 
ev
->
Ãxt
;

4954 
´ev
->
Ãxt
 = 
ev
->next;

4956 
	`RSLINK_FREE
 (
ev
);

4957 
	}
}

4973 
RS_lšk
 *
	g»ady_queue
;

4977 
	$»adyq_š™
 ()

4979 
»ady_queue
 = 
NULL
;

4980 
	}
}

4985 
	$»adyq_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

4987 
RS_lšk
 *
lšk
;

4989 
cÚ‹xt
 *
cu¼’t
;

4991 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

4993 ià(!
¡»am
)

4994 
¡»am
 = 
¡d”r
;

4996 
	`årštf
 (
¡»am
, "**„eady queue state **\n");

4998 
lšk
 = 
»ady_queue
;†šk !ğ
NULL
;†šk =†šk->
Ãxt
)

5001 ià(
	`RSLINK_VALID
 (
lšk
))

5003 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
lšk
);

5005 
	`ruu_dum³Á
 (
rs
,„s->
šdex
, 
¡»am
, 
TRUE
);

5008 
	}
}

5024 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

5026 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

5029 ià(
rs
->
queued
)

5030 
	`·nic
("node is‡lready queued");

5032 
rs
->
queued
 = 
TRUE
;

5034 #ifdeà
REMOVE_COMPUTE_QUEUE


5035 #ifdeà
PWR_WAKE


5036 ià(
rs
->
š_LSQ
)

5038 
lsq»ady
++;

5039 
rs
->
couÁed_lsq»ady
 = 1;

5041 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

5043 
ä—dy
++;

5044 
rs
->
couÁed_ä—dy
 = 1;

5048 
œ—dy
++;

5049 
rs
->
couÁed_œ—dy
 = 1;

5055 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

5056 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

5059 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

5061 ià(
´ev
)

5064 
Ãw_node
->
Ãxt
 = 
´ev
->next;

5065 
´ev
->
Ãxt
 = 
Ãw_node
;

5070 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

5071 
»ady_queue
 = 
Ãw_node
;

5073 
	}
}

5078 
	$»adyq_’queue
 (
RUU_¡©iÚ
 *
rs
)

5080 
RS_lšk
 *
´ev
, *
node
, *
Ãw_node
;

5083 ià(
rs
->
queued
)

5084 
	`·nic
 ("node is‡lready queued");

5085 
rs
->
queued
 = 
TRUE
;

5087 #ifdeà
PWR_WAKE


5088 #ifdeà
READY_ROB_STAT


5089 ià(!
rs
->
š_LSQ
)

5090 
»ady_thrd
[
rs
->
th»adid
]++;

5092 ià(
rs
->
š_LSQ
)

5094 
lsq»ady
++;

5095 
lsq»ady_ş
[
rs
->
şu¡”
]++;

5096 
rs
->
couÁed_lsq»ady
 = 1;

5098 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

5100 
ä—dy
++;

5101 
ä—dy_ş
[
rs
->
şu¡”
]++;

5102 
rs
->
couÁed_ä—dy
 = 1;

5106 
œ—dy
++;

5107 
œ—dy_ş
[
rs
->
şu¡”
]++;

5108 
rs
->
couÁed_œ—dy
 = 1;

5113 
	`RSLINK_NEW
 (
Ãw_node
, 
rs
);

5114 
Ãw_node
->
x
.
£q
 = 
rs
->seq;

5117 ià(
rs
->
š_LSQ
 || 
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_LONGLAT
 | 
F_CTRL
))

5120 
´ev
 = 
NULL
;

5121 
node
 = 
»ady_queue
;

5126 
´ev
 = 
NULL
, 
node
 = 
»ady_queue
;‚od&&‚ode->
x
.
£q
 < 
rs
->£q;…»v =‚ode,‚odğnode->
Ãxt
);

5129 ià(
´ev
)

5132 
Ãw_node
->
Ãxt
 = 
´ev
->next;

5133 
´ev
->
Ãxt
 = 
Ãw_node
;

5138 
Ãw_node
->
Ãxt
 = 
»ady_queue
;

5139 
»ady_queue
 = 
Ãw_node
;

5141 
	}
}

5152 
CV_lšk
 
	gCVLINK_NULL
 = { 
NULL
, 0 };

5155 
	#CVLINK_INIT
(
CV
, 
RS
,
ONUM
è((CV).
rs
 = (RS), (CV).
od•_num
 = (ONUM))

	)

5158 
	#CV_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_TOTAL_REGS
))

	)

5165 
	#CREATE_VECTOR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

5166 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] \

5167 : 
cu¼’t
->
ü—‹_veùÜ
[
N
])

5170 
	#CREATE_VECTOR_RT
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (N))\

	)

5171 ? 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ_¹
[
N
] \

5172 : 
cu¼’t
->
ü—‹_veùÜ_¹
[
N
])

5176 
	#SET_CREATE_VECTOR
(
N
, 
L
èĞ
cu¼’t
->
¥ec_mode
 \

	)

5177 ? (
BITMAP_SET
(
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
, (
N
)),\

5178 
	gcu¼’t
->
	g¥ec_ü—‹_veùÜ
[
N
] = (
L
)) \

5179 : (
cu¼’t
->
ü—‹_veùÜ
[
N
] = (
L
)))

5187 
	#DNA
 (0)

	)

5189 #ià
defšed
(
TARGET_PISA
)

5192 
	#DGPR
(
N
è(N)

	)

5193 
	#DGPR_D
(
N
è((Nè&~1)

	)

5196 
	#DFPR_L
(
N
è(((N)+32)&~1)

	)

5197 
	#DFPR_F
(
N
è(((N)+32)&~1)

	)

5198 
	#DFPR_D
(
N
è(((N)+32)&~1)

	)

5201 
	#DHI
 (0+32+32)

	)

5202 
	#DLO
 (1+32+32)

	)

5203 
	#DFCC
 (2+32+32)

	)

5204 
	#DTMP
 (3+32+32)

	)

5206 #–ià
defšed
(
TARGET_ALPHA
)

5209 
	#DGPR
(
N
è(31 - (N)è

	)

5212 
	#DFPR
(
N
è(((Nè=ğ31è? 
DNA
 : ((N)+32))

	)

5215 
	#DFPCR
 (0+32+32)

	)

5216 
	#DUNIQ
 (1+32+32)

	)

5217 
	#DTMP
 (2+32+32)

	)

5220 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

5228 
	#SET_NPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_NPC
 = (EXPR))

	)

5231 #undeà
SET_TPC


5232 
	#SET_TPC
(
EXPR
è(
rg‘_PC
 = (EXPR))

	)

5235 
	#CPC
 (
cu¼’t
->
»gs
.
»gs_PC
)

	)

5236 
	#SET_CPC
(
EXPR
è(
cu¼’t
->
»gs
.
»gs_PC
 = (EXPR))

	)

5241 #ifdeà
TEST_BUG


5243 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

5244 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

5245 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

5248 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5249 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

5250 
BITMAP_SET
(
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

5251 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

5252 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

5255 #ià
defšed
(
TARGET_PISA
)

5260 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

5261 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

5262 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

5265 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5266 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

5267 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

5268 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

5269 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

5272 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

5273 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

5274 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

5277 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5278 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

5279 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

5280 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

5281 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

5284 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1)è\

	)

5285 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

5286 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

5289 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5290 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)),\

5291 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)), \

5292 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

5293 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

5299 
	#HI
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

5300 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

5301 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

5304 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5305 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

5306 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0), \

5307 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

5308 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

5311 
	#LO
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

5312 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

5313 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

5316 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5317 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

5318 
BITMAP_SET
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1), \

5319 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

5320 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

5323 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

5324 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

5325 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

5328 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5329 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

5330 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 2), \

5331 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

5332 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

5335 #–ià
defšed
(
TARGET_ALPHA
)

5340 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

5341 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

5342 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

5345 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5346 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

5347 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

5348 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

5349 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

5352 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
u£_¥ec_F
, 
F_BMAP_SZ
, (N)è\

	)

5353 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

5354 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

5357 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5358 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

5359 
BITMAP_SET
(
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)), \

5360 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

5361 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

5367 
	#FPCR
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 0è\

	)

5368 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

5369 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

5372 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5373 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

5374 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 0), \

5375 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

5376 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

5379 
	#UNIQ
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 1è\

	)

5380 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

5381 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

5384 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5385 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

5386 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

5387 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

5388 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

5391 
	#FCC
 (
	`BITMAP_SET_P
(
u£_¥ec_C
, 
C_BMAP_SZ
, 2è\

	)

5392 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

5393 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

5396 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5397 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

5398 
BITMAP_SET
(
u£_¥ec_C
,
C_BMAP_SZ
, 1), \

5399 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

5400 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

5404 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

5408 
	#GPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (N)è\

	)

5409 ? 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] \

5410 : 
cu¼’t
->
»gs
.
»gs_R
[
N
])

5413 
	#SET_GPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5414 ? ((
	gcu¼’t
->
	g¥ec_»gs_R
[
N
] = (
EXPR
)), \

5415 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, (
N
)), \

5416 
	gcu¼’t
->
	g¥ec_»gs_R
[
N
]) \

5417 : (
cu¼’t
->
»gs
.
»gs_R
[
N
] = (
EXPR
)))

5420 #ià
defšed
(
TARGET_PISA
)

5425 
	#FPR_L
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

5426 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] \

5427 : 
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)])

5430 
	#SET_FPR_L
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5431 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)] = (
EXPR
)), \

5432 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

5433 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gl
[(
N
)]) \

5434 : (
cu¼’t
->
»gs
.
»gs_F
.
l
[(
N
)] = (
EXPR
)))

5437 
	#FPR_F
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

5438 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] \

5439 : 
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)])

5442 
	#SET_FPR_F
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5443 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)] = (
EXPR
)), \

5444 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

5445 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gf
[(
N
)]) \

5446 : (
cu¼’t
->
»gs
.
»gs_F
.
f
[(
N
)] = (
EXPR
)))

5449 
	#FPR_D
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, ((N)&~1))\

	)

5450 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1] \

5451 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
) >> 1])

5454 
	#SET_FPR_D
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5455 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
è>> 1] = (
EXPR
)), \

5456 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
,((
N
)&~1)),\

5457 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
) >> 1]) \

5458 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
è>> 1] = (
EXPR
)))

5464 
	#HI
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

5465 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
 \

5466 : 
cu¼’t
->
»gs
.
»gs_C
.
hi
)

5469 
	#SET_HI
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5470 ? ((
cu¼’t
->
¥ec_»gs_C
.
hi
 = (
EXPR
)), \

5471 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0),\

5472 
	gcu¼’t
->
	g¥ec_»gs_C
.
	ghi
) \

5473 : (
cu¼’t
->
»gs
.
»gs_C
.
hi
 = (
EXPR
)))

5476 
	#LO
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

5477 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
 \

5478 : 
cu¼’t
->
»gs
.
»gs_C
.
lo
)

5481 
	#SET_LO
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5482 ? ((
cu¼’t
->
¥ec_»gs_C
.
lo
 = (
EXPR
)), \

5483 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1),\

5484 
	gcu¼’t
->
	g¥ec_»gs_C
.
	glo
) \

5485 : (
cu¼’t
->
»gs
.
»gs_C
.
lo
 = (
EXPR
)))

5488 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

5489 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

5490 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

5493 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5494 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

5495 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 2),\

5496 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

5497 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

5500 #–ià
defšed
(
TARGET_ALPHA
)

5505 
	#FPR_Q
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

5506 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] \

5507 : 
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)])

5510 
	#SET_FPR_Q
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5511 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)] = (
EXPR
)), \

5512 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

5513 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gq
[(
N
)]) \

5514 : (
cu¼’t
->
»gs
.
»gs_F
.
q
[(
N
)] = (
EXPR
)))

5517 
	#FPR
(
N
è(
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, (N))\

	)

5518 ? 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] \

5519 : 
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)])

5522 
	#SET_FPR
(
N
,
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5523 ? ((
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)] = (
EXPR
)), \

5524 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_F
,
F_BMAP_SZ
, (
N
)),\

5525 
	gcu¼’t
->
	g¥ec_»gs_F
.
	gd
[(
N
)]) \

5526 : (
cu¼’t
->
»gs
.
»gs_F
.
d
[(
N
)] = (
EXPR
)))

5532 
	#FPCR
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 0)\

	)

5533 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
 \

5534 : 
cu¼’t
->
»gs
.
»gs_C
.
åü
)

5537 
	#SET_FPCR
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5538 ? ((
cu¼’t
->
¥ec_»gs_C
.
åü
 = (
EXPR
)), \

5539 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 0),\

5540 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gåü
) \

5541 : (
cu¼’t
->
»gs
.
»gs_C
.
åü
 = (
EXPR
)))

5544 
	#UNIQ
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 1)\

	)

5545 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
 \

5546 : 
cu¼’t
->
»gs
.
»gs_C
.
uniq
)

5549 
	#SET_UNIQ
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5550 ? ((
cu¼’t
->
¥ec_»gs_C
.
uniq
 = (
EXPR
)), \

5551 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

5552 
	gcu¼’t
->
	g¥ec_»gs_C
.
	guniq
) \

5553 : (
cu¼’t
->
»gs
.
»gs_C
.
uniq
 = (
EXPR
)))

5556 
	#FCC
 (
	`BITMAP_SET_P
(
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 2)\

	)

5557 ? 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
 \

5558 : 
cu¼’t
->
»gs
.
»gs_C
.
fcc
)

5561 
	#SET_FCC
(
EXPR
è(
cu¼’t
->
¥ec_mode
 \

	)

5562 ? ((
cu¼’t
->
¥ec_»gs_C
.
fcc
 = (
EXPR
)), \

5563 
BITMAP_SET
(
cu¼’t
->
u£_¥ec_C
,
C_BMAP_SZ
, 1),\

5564 
	gcu¼’t
->
	g¥ec_»gs_C
.
	gfcc
) \

5565 : (
cu¼’t
->
»gs
.
»gs_C
.
fcc
 = (
EXPR
)))

5569 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

5578 
	#__READ_SPECMEM
(
SRC
, 
SRC_V
, 
FAULT
è\

	)

5579 (
	gaddr
 = (
SRC
), \

5580 (
	gcu¼’t
->
	g¥ec_mode
 \

5581 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V)))\

5582 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
R—d
, 
addr
, &
SRC_V
, (SRC_V), cu¼’t->
id
, 
š¡
))), \

5583 
	gSRC_V
)

5586 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

5587 
__READ_SPECMEM
((
SRC
), 
‹mp_by‹
, (
FAULT
))

5588 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

5589 
MD_SWAPH
(
__READ_SPECMEM
((
SRC
), 
‹mp_h®f
, (
FAULT
)))

5590 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

5591 
MD_SWAPW
(
__READ_SPECMEM
((
SRC
), 
‹mp_wÜd
, (
FAULT
)))

5592 #ifdeà
HOST_HAS_QWORD


5593 
	#READ_QWORD
(
SRC
, 
FAULT
è\

	)

5594 
MD_SWAPQ
(
__READ_SPECMEM
((
SRC
), 
‹mp_qwÜd
, (
FAULT
)))

5597 
	#__WRITE_SPECMEM
(
SRC
, 
DST
, 
DST_V
, 
FAULT
è\

	)

5598 (
	gDST_V
 = (
SRC
), 
	gaddr
 = (
DST
), \

5599 (
	gcu¼’t
->
	g¥ec_mode
 \

5600 ? ((
	gFAULT
èğ
¥ec_mem_acûss
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V)))\

5601 : ((
FAULT
èğ
WB_acûss1
(
cu¼’t
->
mem
, 
Wr™e
, 
addr
, &
DST_V
, (DST_V), cu¼’t->
id
, 
š¡
))))

5603 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

5604 
__WRITE_SPECMEM
((
SRC
), (
DST
), 
‹mp_by‹
, (
FAULT
))

5605 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

5606 
__WRITE_SPECMEM
(
MD_SWAPH
(
SRC
), (
DST
), 
‹mp_h®f
, (
FAULT
))

5607 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

5608 
__WRITE_SPECMEM
(
MD_SWAPW
(
SRC
), (
DST
), 
‹mp_wÜd
, (
FAULT
))

5610 #ifdeà
HOST_HAS_QWORD


5611 
	#WRITE_QWORD
(
SRC
, 
DST
, 
FAULT
è\

	)

5612 
__WRITE_SPECMEM
(
MD_SWAPQ
(
SRC
), (
DST
), 
‹mp_qwÜd
, (
FAULT
))

5616 
	#SYSCALL
(
INST
è\

	)

5618 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative syscall") : () 0), \

5619 
sys_sysÿÎ
(&(
cu¼’t
->
»gs
), 
mem_acûss
, cu¼’t->
mem
, 
INST
, 
TRUE
))

5622 
	#QUIESCE
(
INST
è\

	)

5624 (
	gcu¼’t
->
	g¥ec_mode
 ? 
·nic
("speculative quiescent instruction") : () 0), \

5625 
ÿÎ_qu›sû
(
cu¼’t
->
id
))

5631 
	$cv_š™
 (
th»adid
)

5633 
i
;

5634 
cÚ‹xt
 *
cu¼’t
;

5636 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5640 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

5642 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

5643 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 0;

5644 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

5645 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
i
] = 0;

5649 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

5651 
	}
}

5656 
	$cv_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

5658 
i
;

5659 
CV_lšk
 
’t
;

5661 
cÚ‹xt
 *
cu¼’t
;

5663 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5665 ià(!
¡»am
)

5666 
¡»am
 = 
¡d”r
;

5668 
	`årštf
 (
¡»am
, "** create vector state **\n");

5670 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

5672 
’t
 = 
	`CREATE_VECTOR
 (
i
);

5673 ià(!
’t
.
rs
)

5674 
	`årštf
 (
¡»am
, "[cv%02d]: from‡rch™eùed„eg fe\n", 
i
);

5676 
	`årštf
 (
¡»am
, "[cv%02d]: from %s, idx: %d\n", 
i
, (
’t
.
rs
->
š_LSQ
 ? "LSQ" : "RUU"),ƒÁ.rs->
šdex
);

5678 
	}
}

5680 
ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
);

5683 
Œaûr_»cov”
 (
th»adid
);

5684 
»cF»eRegLi¡
 (
th»adid
);

5687 
	$RS_block_li¡
(
RUU_¡©iÚ
 *
rs
, 
tick_t
 
wh’
, 
’Œy
, 
th»adid
)

5689 if(
rs
->
¥ec_mode
)

5691 if(
’Œy
 < 1 ||ƒÁry > 
MSHR_SIZE
)

5692 
	`·nic
("L1 MSHR: wrong mshrƒntry");

5694 
’Œy
 =ƒntry - 1;

5696 
RS_li¡
 *
rs_li¡
;

5697 
rs_li¡
 = 
	`ÿÎoc
Ğ1, (
RS_li¡
));

5698 
rs_li¡
->
rs
 =„s;

5699 
rs_li¡
->
Ãxt
 = 
NULL
;

5700 
rs_li¡
->
¥ec_mode
 = 
rs
->spec_mode;

5701 
rs_li¡
->
wh’
 = when;

5702 
rs_li¡
->
Ãxt
 = 
rs_ÿche_li¡
[
th»adid
][
’Œy
];

5703 
rs_ÿche_li¡
[
th»adid
][
’Œy
] = 
rs_li¡
;

5704 
	}
}

5706 
	$RS_block_Ãxt
(
RS_li¡
 *
cur
)

5708 if(!
cur
->
rs
) ;

5710 if((
cur
->
¥ec_mode
)&& !cur->
rs
->spec_mode )

5712 
cur
->
rs
->
ÿche_»ady
 = 0;

5713 if(((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
è&& (cur->rs->
issued
 || cur->rs->
queued
 || cur->rs->
com¶‘ed
)) || (!(MD_OP_FLAGS(cur->rs->op) & F_LOAD) && !(cur->rs->issued && !cur->rs->queued)))

5714 
	`·nic
("L1 MSHR: issue, queue, or commit flag is set!!!");

5716 if((
	`MD_OP_FLAGS
(
cur
->
rs
->
İ
è& 
F_LOAD
))

5720 
	`»adyq_’queue
 (
cur
->
rs
);

5729 
cur
->
rs
->
wr™ewa™
 = 2;

5730 
	}
}

5736 
	gcomm™_idË
 = 0;

5737 
	gcomm™_æag
[
MAXTHREADS
] = {0};

5742 
	$ruu_comm™
 ()

5745 
i
, 
j
, 
th»adid
, 
Ït
, 
ev’ts
, 
comm™‹d
;

5746 
mm
;

5747 
cÚ‹xt
 *
cu¼’t
;

5748 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
, 
LSQ_šdex
;

5749 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

5750 
¡Üe_İ
 = 0, 
pcbS—rch
;

5751 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

5752 
»adSh¬eDœ
 = 0;

5754 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

5755 
couÁedThisCyşe
 = 0;

5757 
md_addr_t
 
‹mpAddr
;

5758 
md_İcode
 
‹mpOp
;

5760 
th»ad_comm™
 = 0;

5761 
isSTLC
;

5765 
j
 = 0; j <ğ
numcÚ‹xts
; j++, 
th»ad_comm™
 = (thread_commit + 1) %‚umcontexts)

5768 ià(
j
 > 0)

5770 
comm™_dÚe
[
j
 - 1] = 
comm™‹d
;

5771 if(!
comm™‹d
)

5772 
m_comm™SÎ
[
j
-1]++;

5774 ià(
j
 =ğ
numcÚ‹xts
)

5777 
th»adid
 = 
th»ad_comm™
;

5778 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

5784 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

5785 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

5786 
comm™‹d
 = 0;

5787 
haha
 = 0;

5791 
cu¼’t
->
RUU_num
 > 0 && 
comm™‹d
 < 
ruu_comm™_width
)

5793 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

5794 ià(
busSlÙCouÁ
 < 11)

5796 ià(!
couÁedThisCyşe
)

5797 
¡®lNoBusSlÙ
++;

5798 
couÁedThisCyşe
 = 1;

5802 
RUU_¡©iÚ
 *
rs
 = &(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
]);

5805 
‹mpAddr
 = 0;

5806 
¡Üe_İ
 = 0;

5807 
‹mpOp
 = 0;

5808 
isSTLC
 = 0;

5810 if(
rs
->
wr™ewa™
 == 1)

5814 ià(!
rs
->
com¶‘ed
)

5819 ià(
cu¼’t
->
ma¡”id
 =ğ0 && 
rs
->
PC
 < 0x120000000)

5820 
	`·nic
 ("Illegal instructionryingo commit\n");

5824 if((
	`MD_OP_FLAGS
(
rs
->
İ
è& 
F_FENCE
è&& (
m_L1WBufCÁ
[
th»adid
]))

5828 
ev’ts
 = 0;

5831 ià(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
—_comp
)

5834 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[cu¼’t->
RUU_h—d
].threadid)

5836 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5837 
‹mp_LSQ_num
--;

5838 ià(!
‹mp_LSQ_num
)

5839 
	`·nic
 ("RUU‡nd LSQ out of sync");

5841 ià(
cu¼’t
->
LSQ_num
 <ğ0 || !cu¼’t->
LSQ
[
LSQ_šdex
].
š_LSQ
)

5842 
	`·nic
 ("RUU out of sync with LSQ");

5844 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
com¶‘ed
)

5849 #ifdeà
SEQUENTIAL_CONSISTENCY


5850 ià(
šv®id©iÚSÎ
[
th»adid
])

5854 ià(
comm™SÎ
[
th»adid
])

5859 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& (
³ndšg_šv®id©iÚ
[
th»adid
]))

5863 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5865 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
)

5866 
isSTLC
 = 1;

5868 ià(
m_L1WBufCÁ
[
th»adid
] >ğ
SMD_L1_WBUF_SIZE
)

5870 if(
isSTLC
 && 
m_L1WBufCÁ
[
th»adid
])

5874 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
PC
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].PC;

5875 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
IR
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].IR;

5876 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
İ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].op;

5877 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
lsqId
 = 
LSQ_šdex
;

5878 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
robId
 = 
rs
->
šdex
;

5879 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eV®ue
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
v®_¿
;

5880 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
addr
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].addr;

5881 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
sim_num_š¢
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].sim_num_insn;

5882 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
wr™eS¹ed
 = 0;

5883 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
fšishTime
 = 0;

5884 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
isMiss
 = 0;

5885 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
’ŒyTime
 = 
sim_cyşe
;

5886 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
STL_C_ç
 = 0;

5887 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
®»ady_check
 = 0;

5888 ifĞ
isSTLC
 && !
	`isCacheH™
(
ÿche_dl1
[
th»adid
], 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
,hreadid))

5890 
	`com¶‘eStÜe
(
th»adid
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, 
	`G‘MemAccWidth
(cu¼’t->LSQ[LSQ_šdex].
İ
), 
isSTLC
);

5891 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 1;

5892 if(
isSTLC
 && 
¡ÜeCÚdFa
 == 0)

5893 
	`·nic
("Store conditional should fail on‡ L1 miss");

5896 
m_L1WBuf
[
th»adid
][
m_L1WBuf_
[th»adid]].
comm™DÚe
 = 0;

5898 
m_L1WBufCÁ
[
th»adid
]++;

5899 
m_L1WBuf_
[
th»adid
] = (m_L1WBuf_[th»adid]+1)%
SMD_L1_WBUF_SIZE
;

5906 
»adSh¬eDœ
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
R—dSh¬eDœ
;

5908 #ià
	`defšed
(
SMD_USE_WRITE_BUF
è&& defšed(
SEQUENTIAL_CONSISTENCY
)

5910 ià(
m_L1WBufCÁ
[
th»adid
])

5914 if(
rs
->
wr™ewa™
 != 1)

5916 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
Şd´eg
, 
th»adid
);

5918 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

5921 
	`±¿û_Ãw¡age
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

5922 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

5924 ià(
LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5926 
‹mp_LSQ_rs
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

5927 
‹mp_LSQ_šdex
 = 
LSQ_šdex
;

5928 
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ_h—d
)

5930 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = cu¼’t->LSQ[(è(Ñemp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size)];

5931 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5932 
‹mp_LSQ_šdex
 = (‹mp_LSQ_šdex + (
LSQ_size
 - 1)) % LSQ_size;

5935 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
] = *
‹mp_LSQ_rs
;

5936 
cu¼’t
->
LSQ
[
‹mp_LSQ_šdex
].
šdex
 =emp_LSQ_index;

5938 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

5940 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5941 
cu¼’t
->
m_shLQNum
--;

5943 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

5945 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

5946 
cu¼’t
->
m_shSQNum
--;

5948 if(
ruu_šÜd”_issue
)

5950 
i
=0;i<
MAX_ODEPS
;i++)

5952 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
Úames
[
i
] !ğ
NA
)

5954 
Şšk
 = 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

5956 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

5957 
	`RSLINK_FREE
 (
Şšk
);

5959 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

5964 
cu¼’t
->
LSQ_h—d
 = (cu¼’t->LSQ_h—d + 1è% 
LSQ_size
;

5965 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

5966 
cu¼’t
->
LSQ_num
--;

5967 
‹mp_LSQ_num
--;

5972 if(
rs
->
wr™ewa™
 != 1)

5974 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_CT
 && (
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


5977 
b´ed_acûss
++;

5978 ià(!(
rs
->
du¶iÿ‹
))

5980 
cu¼’t
->
b´ed_acûss
++;

5983 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

5984  
rs
->
PC
,

5985  
rs
->
Ãxt_PC
,

5986  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

5987  (
md_š¡_t
)),

5988  
rs
->
´ed_PC
 !ğÔs->
PC
 +

5989  (
md_š¡_t
)),

5990  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

5991  
rs
->
İ
,

5992  &
rs
->
dœ_upd©e
,

5993  
rs
->
th»adid
,

5994  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

5998 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
Şd´eg
, 
th»adid
);

6000 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
g
++;

6002 
	`±¿û_Ãw¡age
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
, 
PST_COMMIT
, 
ev’ts
);

6003 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
±¿û_£q
);

6005 
tÙ®_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
di¥_time
);

6006 
max_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
di¥_time
), max_slip_cycles);

6008 ià(
rs
->
issue_time
)

6010 
tÙ®_issue_¦_cyşes
 +ğ(
sim_cyşe
 - 
rs
->
issue_time
);

6011 
max_issue_¦_cyşes
 = 
	`MAX
 ((
sim_cyşe
 - 
rs
->
issue_time
), max_issue_slip_cycles);

6014 if(
ruu_šÜd”_issue
)

6016 
i
=0;i<
MAX_ODEPS
;i++)

6018 ià(
rs
->
Úames
[
i
] !ğ
NA
)

6020 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

6022 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

6023 
	`RSLINK_FREE
 (
Şšk
);

6025 
rs
->
od•_li¡
[
i
] = 
NULL
;

6030 
cu¼’t
->
RUU_h—d
 = (cu¼’t->RUU_h—d + 1è% 
RUU_size
;

6031 
cu¼’t
->
RUU_num
--;

6032 
comm™_æag
[
th»adid
] = 0;

6034 ià(
rs
->
du¶iÿ‹
)

6036 
COMPARE_acûss
[
th»adid
]++;

6037 
com·»_acûss
++;

6040 if(!
ruu_šÜd”_issue
)

6042 
rob2_acûss
++;

6043 
cu¼’t
->
rob2_acûss
++;

6045 
comm™‹d
++;

6052 
comm™_idË
 = 0;

6053 
i
 = 0; i < 
MAX_ODEPS
; i++)

6055 ià(
rs
->
od•_li¡
[
i
])

6056 
	`·nic
 ("retired instruction has odeps\n");

6060 
	`¡©_add_§m¶e
 (
comm™_width_¡©
, 
comm™‹d
);

6062 
	}
}

6074 
	$ruu_»cov”
 (
b¿nch_šdex
, 
th»adid
, 
mode
)

6077 
mm
;

6078 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

6079 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
;

6081 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

6082 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

6085 
shiá_right
 = 0;

6088 
brRecov”y
[
th»adid
]++;

6090 
di¥_d–ay
 = 0;

6093 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

6094 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

6095 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

6096 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

6099 ià(!
cu¼’t
->
RUU_num
)

6100 
	`·nic
 ("empty RUU");

6104 
RUU_šdex
 !ğ
b¿nch_šdex
)

6107 ià(!
‹mp_RUU_num
)

6108 
	`·nic
 ("empty RUU");

6111 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

6113 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

6116 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

6117 
‹mp_LSQ_num
--;

6118 ià(!
‹mp_LSQ_num
)

6120 
	`årštf
 (
¡d”r
, "Th»ad %d, cyş%lu\n", 
th»adid
, (è
sim_num_š¢
);

6121 
	`·nic
 ("RUU‡nd LSQ out of sync");

6124 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

6125 
‹mp_LSQ_num
--;

6127 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

6128 
‹mp_RUU_num
--;

6131 ià(
mode
 == 0)

6134 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

6135 
‹mp_RUU_num
--;

6140 
‹mp_RUU_num
 != 0)

6142 
exŒaIn¢
[
th»adid
]++;

6144 ià(!
‹mp_RUU_num
)

6145 
	`·nic
 ("empty RUU");

6147 ià(
mode
 =ğ0 && 
RUU_šdex
 =ğ
cu¼’t
->
RUU_h—d
)

6148 
	`·nic
 ("RUU head‡ndail broken");

6150 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

6152 
cu¼’t
->
iissueq_thrd
--;

6153 
iissueq
--;

6154 
iissueq_ş
[
cu¼’t
->
id
]--;

6155 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

6157 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

6159 
cu¼’t
->
fissueq_thrd
--;

6160 
fissueq
--;

6161 
fissueq_ş
[
cu¼’t
->
id
]--;

6162 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

6165 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

6167 ià(!
‹mp_LSQ_num
)

6168 
	`·nic
 ("RUU‡nd LSQ out of sync");

6169 
cu¼’t
->
LSQ
[
LSQ_šdex
].
th»adid
 !ğcu¼’t->
RUU
[
RUU_šdex
].threadid)

6171 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

6172 
‹mp_LSQ_num
--;

6173 ià(!
‹mp_LSQ_num
)

6174 
	`·nic
 ("RUU‡nd LSQ out of sync");

6177 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

6179 
cu¼’t
->
iissueq_thrd
--;

6180 
iissueq
--;

6181 
iissueq_ş
[
cu¼’t
->
id
]--;

6182 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

6184 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

6186 
cu¼’t
->
fissueq_thrd
--;

6187 
fissueq
--;

6188 
fissueq_ş
[
cu¼’t
->
id
]--;

6189 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

6192 
i
 = 0; i < 
MAX_ODEPS
; i++)

6194 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

6196 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

6199 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

6200 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

6203 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

6206 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

6209 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

6211 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

6212 
cu¼’t
->
m_shLQNum
--;

6214 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

6216 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

6217 
cu¼’t
->
m_shSQNum
--;

6220 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

6221 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

6222 
cu¼’t
->
LSQ_num
--;

6223 
‹mp_LSQ_num
--;

6227 
i
 = 0; i < 
MAX_ODEPS
; i++)

6229 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

6230 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

6233 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

6234 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

6235 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

6236 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

6238 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

6239 
cu¼’t
->
RUU_num
--;

6240 
‹mp_RUU_num
--;

6243 if(!
ruu_šÜd”_issue
)

6245 
rob2_acûss
++;

6246 
cu¼’t
->
rob2_acûss
++;

6249 
š¡£qnum
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
š¡num
;

6250 
Ï¡şu¡”
 = 
cu¼’t
->
RUU
[
b¿nch_šdex
].
şu¡”
;

6251 
num_£Á
 = 1;

6253 ià(
mode
 == 0)

6255 
cu¼’t
->
RUU_
 = (
b¿nch_šdex
 + 1è% 
RUU_size
;

6256 
	`cİy_äom
 (
th»adid
);

6260 ià(
cu¼’t
->
RUU_num
 != 0)

6261 
	`·nic
 ("ROB must be completelyƒmpty");

6262 
cu¼’t
->
RUU_
 = cu¼’t->
RUU_h—d
;

6268 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

6273 
‹mp_LSQ_šdex
 = 0;emp_LSQ_šdex < 
LSQ_size
;emp_LSQ_index++)

6274 ià(
‹mp_LSQ_šdex
 !ğ
cu¼’t
->
LSQ
[‹mp_LSQ_šdex].
šdex
)

6275 
	`·nic
 ("LSQ index messed up");

6276 
	}
}

6290 
	$ruu_wr™eback
 ()

6292 
i
;

6293 
sum1
, 
sum2
, 
sum3
;

6294 
RUU_¡©iÚ
 *
rs
;

6295 
d–ay
;

6297 
cÚ‹xt
 *
cu¼’t
;

6301 
‹mp
;

6303 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

6305 
wb_dÚe
[
‹mp
] = 0;

6309 (
rs
 = 
	`ev’tq_Ãxt_ev’t
 ()))

6311 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

6313 ià(!
	`OPERANDS_READY
 (
rs
è||„s->
queued
 || !rs->
issued
 ||„s->
com¶‘ed
)

6314 
	`·nic
 ("inst completed‡nd !ready, !issued, or completed");

6316 
rs
->
com¶‘ed
 = 
TRUE
;

6318 
wb_dÚe
[
rs
->
th»adid
]++;

6321 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

6323 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

6325 
œesuÉbus_acûss
++;

6326 
cu¼’t
->
œesuÉbus_acûss
++;

6327 if(!
ruu_šÜd”_issue
)

6329 
rob1_acûss
++;

6330 
cu¼’t
->
rob1_acûss
++;

6331 
iwakeup_acûss
++;

6332 
cu¼’t
->
iwakeup_acûss
++;

6334 
œegfe_acûss
++;

6335 
cu¼’t
->
œegfe_acûss
++;

6337 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

6340 
äesuÉbus_acûss
++;

6341 
cu¼’t
->
äesuÉbus_acûss
++;

6342 if(!
ruu_šÜd”_issue
)

6344 
rob1_acûss
++;

6345 
cu¼’t
->
rob1_acûss
++;

6346 
fwakeup_acûss
++;

6347 
cu¼’t
->
fwakeup_acûss
++;

6349 
äegfe_acûss
++;

6350 
cu¼’t
->
äegfe_acûss
++;

6355 ià(
rs
->
»cov”_š¡
)

6357 ià(
rs
->
š_LSQ
)

6358 
	`·nic
 ("mis-predicted†oad or store?!?!?");

6360 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

6361 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

6362 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

6363 
th»adid
 = 
rs
->threadid;

6364 
i
 = 0;

6365 
i
=0;i<
MSHR_SIZE
;i++)

6367 
RS_li¡
 *
´ev
, *
cur
;

6368 
´ev
=
NULL
, 
cur
 = 
rs_ÿche_li¡
[
th»adid
][
i
]; cur; cur=cur->
Ãxt
)

6370 if(
cur
->
rs
 && cur->rs->
¥ec_mode
 )

6372 if(
´ev
 =ğ
NULL
)

6374 
rs_ÿche_li¡
[
th»adid
][
i
] = 
cur
->
Ãxt
;

6375 
´ev
 = 
NULL
;

6379 
´ev
->
Ãxt
 = 
cur
->next;

6380 
cur
 = 
´ev
;

6381 
´ev
 = 
cur
;

6385 
´ev
 = 
cur
;

6389 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

6390 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

6392 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_WB
 && !
rs
->
š_LSQ
 && (
	`MD_OP_FLAGS
 (rs->
İ
è& 
F_CTRL
è&& !rs->
du¶iÿ‹


6395 
b´ed_acûss
++;

6396 ià(!(
rs
->
du¶iÿ‹
))

6398 
cu¼’t
->
b´ed_acûss
++;

6400 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

6401  
rs
->
PC
,

6402  
rs
->
Ãxt_PC
,

6403  
rs
->
Ãxt_PC
 !ğÔs->
PC
 +

6404  (
md_š¡_t
)),

6405  
rs
->
´ed_PC
 !ğÔs->
PC
 +

6406  (
md_š¡_t
)),

6407  
rs
->
´ed_PC
 =ğrs->
Ãxt_PC
,

6408  
rs
->
İ
,

6409  &
rs
->
dœ_upd©e
,

6410  
rs
->
th»adid
,

6411  (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[
rs
->
th»adid
]->
ma¡”id
 :„s->threadid));

6415 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
,„s->
»cov”_š¡
 ? 
PEV_MPDETECT
 : 0);

6424 
sum1
 = 
issue_¿‹
;

6425 
sum2
 = 0;

6426 
sum3
 = 0;

6428 
i
 = 0; i < 
MAX_ODEPS
; i++)

6430 ià(
rs
->
Úames
[
i
] !ğ
NA
)

6432 
CV_lšk
 
lšk
;

6433 
RS_lšk
 *
Şšk
, *
Şšk_Ãxt
;

6435 ià(
rs
->
¥ec_mode
)

6437 
lšk
 = 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

6438 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

6440 
cu¼’t
->
¥ec_ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

6441 
cu¼’t
->
¥ec_ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

6446 
lšk
 = 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]];

6447 ià(
lšk
.
rs
 && (lšk.r =ğr &&†šk.
od•_num
 =ğ
i
))

6449 
cu¼’t
->
ü—‹_veùÜ
[
rs
->
Úames
[
i
]] = 
CVLINK_NULL
;

6450 
cu¼’t
->
ü—‹_veùÜ_¹
[
rs
->
Úames
[
i
]] = 
sim_cyşe
;

6453 
Şšk
 = 
rs
->
od•_li¡
[
i
]; olšk; olšk = 
Şšk_Ãxt
)

6455 ià(
	`RSLINK_VALID
 (
Şšk
))

6457 ià(
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
])

6458 
	`·nic
 ("output dependence‡lready satisfied");

6459 
Şšk
->
rs
->
id•_»ady
[Şšk->
x
.
İnum
] = 
TRUE
;

6461 
Şšk
->
rs
->
wh’_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

6462 
Şšk
->
rs
->
wh’_id•_»ady
[Şšk->
x
.
İnum
] = 
sim_cyşe
;

6464 
sum2
++;

6465 ià(
	`OPERANDS_READY
 (
Şšk
->
rs
))

6467 ià(!
Şšk
->
rs
->
š_LSQ
 || ((
	`MD_OP_FLAGS
 (Şšk->rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

6468 
	`»adyq_’queue
 (
Şšk
->
rs
);

6469 
sum3
++;

6472 
Şšk_Ãxt
 = 
Şšk
->
Ãxt
;

6473 if(!
ruu_šÜd”_issue
)

6474 
	`RSLINK_FREE
 (
Şšk
);

6476 if(!
ruu_šÜd”_issue
)

6477 
rs
->
od•_li¡
[
i
] = 
NULL
;

6481 
	}
}

6491 
	#MAX_STD_UNKNOWNS
 
LSQSIZE


	)

6494 #ifdeà 
LSQ_LOAD_FAST_ISSUE


6496 
	$lsq_»äesh
 ()

6498 
i
, 
j
, 
šdex
, 
idx
, 
num_¡a_unknown_th»ad
 = 0;

6500 
cÚ‹xt
 *
cu¼’t
;

6502 #ifdef 
LSQ_FIX_PARTIAL_BUG


6503 
¡d_width
[
LSQSIZE
];

6506 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

6510 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

6512 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
; (˜< cu¼’t->
LSQ_num
è&& (
num_¡a_unknown_th»ad
 < 
numcÚ‹xts
); i++, index = (šdex + 1è% 
LSQ_size
)

6514 ià(((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


6515 && !
cu¼’t
->
LSQ
[
šdex
].
issued


6516 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


6517 && !
cu¼’t
->
LSQ
[
šdex
].
ÿche_»ady
 &&

6518  
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6520 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

6526 
	}
}

6529 
	$lsq_»äesh
 ()

6531 
i
, 
idx
, 
j
, 
šdex
, 
n_¡d_unknowns
;

6532 
md_addr_t
 
¡d_unknowns
[
MAX_STD_UNKNOWNS
];

6533 
cÚ‹xt
 *
cu¼’t
;

6538 
idx
 = 0; idx < 
numcÚ‹xts
; idx++)

6543 
cu¼’t
 = 
thecÚ‹xts
[
idx
];

6544 
n_¡d_unknowns
 = 0;

6545 
i
 = 0; i < 
LSQ_size
; i++)

6546 
¡d_unknowns
[
i
] = 0;

6548 
i
 = 0, 
šdex
 = 
cu¼’t
->
LSQ_h—d
, 
n_¡d_unknowns
 = 0; i < cu¼’t->
LSQ_num
; i++, index = (šdex + 1è% 
LSQ_size
)

6550 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

6552 ià(!
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6558 ià(!
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6565 ià(
n_¡d_unknowns
 =ğ
LSQ_size
)

6566 
	`çl
 ("STD unknown‡rray overflow, increase MAX_STD_UNKNOWNS");

6567 
¡d_unknowns
[
n_¡d_unknowns
++] = 
cu¼’t
->
LSQ
[
šdex
].
addr
;

6572 
j
 = 0; j < 
n_¡d_unknowns
; j++)

6574 ià(
¡d_unknowns
[
j
] =ğ 
cu¼’t
->
LSQ
[
šdex
].
addr
)

6575 
¡d_unknowns
[
j
] = 0;

6581 ((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)è=ğ(F_MEM | F_LOAD)è&& !cu¼’t->LSQ[šdex].
queued


6582 && !
cu¼’t
->
LSQ
[
šdex
].
issued


6583 && !
cu¼’t
->
LSQ
[
šdex
].
com¶‘ed


6584 && 
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
šdex
]))

6588 
j
 = 0; j < 
n_¡d_unknowns
; j++)

6591 ià(
¡d_unknowns
[
j
] =ğ
cu¼’t
->
LSQ
[
šdex
].
addr
)

6594 ià(
j
 =ğ
n_¡d_unknowns
)

6597 
	`»adyq_’queue
 (&
cu¼’t
->
LSQ
[
šdex
]);

6602 
	}
}

6609 
	$ruu_issue
 ()

6611 
k
, 
i
, 
lßd_Ït
, 
b_Ït
, 
n_issued
;

6612 
RS_lšk
 *
node
, *
Ãxt_node
;

6613 
»s_‹m¶©e
 *
fu
;

6614 
š‹r
 = -1;

6615 
this_cyşe_issued
[
CLUSTERS
];

6616 
mm
;

6617 
d–ay
 = 0;

6618 
boŞ_t
 
bLSQH™
 = 
FALSE
;

6619 
boŞ_t
 
bP¬tŸlH™
 = 
FALSE
;

6620 
nW1
;

6622 #ifdeà 
MSHR


6623 
u£_mshr
 = 0;

6626 
·»ÁID
;

6628 
cÚ‹xt
 *
cu¼’t
;

6629 
th»adid
;

6632 
issueLim™
;

6634 
‹mp
;

6637 #ifdeà 
PULL_BACK


6638 
puÎbackD–ay
[
MAXTHREADS
];

6640 
k
 = 0; k < 
numcÚ‹xts
; k++)

6642 
puÎbackDÚeThisCyşe
[
k
] = 0;

6643 
dl1MissThisCyşe
[
k
] = 
dl1H™ThisCyşe
[k] = 0;

6644 
puÎbackD–ay
[
k
] = 0;

6646 ià(
puÎbackWa™Cyşe
[
k
])

6648 
puÎbackWa™Cyşe
[
k
]--;

6651 ià(
puÎbackBubbË
[
k
] && !
puÎbackWa™Cyşe
[k])

6653 
puÎbackCyşeCouÁ
[
k
]++;

6654 
puÎbackBubbË
[
k
]--;

6655 
puÎbackD–ay
[
k
] = 1;

6661 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

6663 
issue_dÚe
[
‹mp
] = 0;

6664 
this_cyşe_issued
[
‹mp
] = 0;

6665 
lßdRejeùCouÁ
[
‹mp
] = 0;

6666 
»¶ayIndex
[
‹mp
] = 0;

6669 
node
 = 
»ady_queue
;

6670 
»ady_queue
 = 
NULL
;

6674 
issueLim™
 = (
ruu_issue_width
 ) * 
numcÚ‹xts
;

6675 
šÜd”_¡®l
[
MAXTHREADS
] = {0};

6676 
šÜd”_¡®l_ruunum
[
MAXTHREADS
] = {0};

6678 
n_issued
 = 0; 
node
 &&‚_issued < 
issueLim™
;‚odğ
Ãxt_node
)

6680 #ifdeà 
MSHR


6681 
u£_mshr
 = 0;

6684 
Ãxt_node
 = 
node
->
Ãxt
;

6688 ià(
	`RSLINK_VALID
 (
node
))

6690 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

6692 
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

6693 
th»adid
 = 
rs
->threadid;

6694 ià(!
	`OPERANDS_READY
 (
rs
è|| !rs->
queued
 ||„s->
issued
 ||„s->
com¶‘ed
)

6695 
	`·nic
 ("issued inst !ready, issued, or completed");

6697 
rs
->
queued
 = 
FALSE
;

6699 if(
ruu_šÜd”_issue
)

6701 
rs_šdex
 = 
rs
->
šdex
;

6702 if(
i
 = 
rs
->
š_LSQ
)

6704 if(
rs
->
´od
[1] =ğ
NULL
)

6705 
	`·nic
("There is‚o‡ddress…roducer of†oad/store\n");

6706 
rs_šdex
 = 
rs
->
´od
[1]->
šdex
;

6708 if(
šÜd”_¡®l
[
th»adid
] && 
rs_šdex
 > 
šÜd”_¡®l_ruunum
[threadid])

6710 
	`»adyq_’queue
 (
rs
);

6711 
	`RSLINK_FREE
 (
node
);

6714 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

6716 
i
 = 
thecÚ‹xts
[
th»adid
]->
RUU_h—d
; i < 
rs_šdex
; i = (i+1)%
RUU_size
)

6718 ià((
	`MD_OP_FUCLASS
 (
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
İ
) > 3) && (MD_OP_FUCLASS (thecontexts[threadid]->RUU[i].op) < 10))

6720 if(!
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
issued
)

6722 if(
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
—_comp
 && !
cu¼’t
->RUU[i].
od•_li¡
[0]->
rs
->
issued
)

6729 
i
 = 
thecÚ‹xts
[
th»adid
]->
RUU_h—d
; i < 
rs_šdex
; i = (i+1)%
RUU_size
)

6731 ià(!((
	`MD_OP_FUCLASS
 (
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
İ
) > 3) && (MD_OP_FUCLASS (thecontexts[threadid]->RUU[i].op) < 10)))

6733 if(!
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
issued
)

6735 if(
thecÚ‹xts
[
th»adid
]->
RUU
[
i
].
—_comp
 && !
cu¼’t
->RUU[i].
od•_li¡
[0]->
rs
->
issued
)

6740 if(
i
 !ğ
rs_šdex
)

6742 
	`»adyq_’queue
 (
rs
);

6743 
	`RSLINK_FREE
 (
node
);

6744 
šÜd”_¡®l
[
th»adid
] = 1;

6745 
šÜd”_¡®l_ruunum
[
th»adid
] = 
rs_šdex
;

6748 if(
rs
->
š_LSQ
 && 
thecÚ‹xts
[
th»adid
]->
LSQ_num
)

6750 if(
thecÚ‹xts
[
th»adid
]->
LSQ
[ÑhecÚ‹xts[th»adid]->
LSQ_
+
LSQ_size
-1)%LSQ_size].
miss_æag
)

6752 
	`»adyq_’queue
 (
rs
);

6753 
	`RSLINK_FREE
 (
node
);

6759 
šÜd”_¡®l
[
th»adid
] = 0;

6761 #ifdeà
TG


6762 ià(
rs
->
š_LSQ
)

6763 
	`Œaffic_g’”©e
(
sim_cyşe
, 
rs
->
addr
,„s);

6767 #ifdeà 
PULL_BACK


6768 ià(
puÎbackD–ay
[
rs
->
th»adid
])

6770 
	`»adyq_’queue
 (
rs
);

6771 
	`RSLINK_FREE
 (
node
);

6776 ià(
issue_dÚe
[
th»adid
] =ğ(
ruu_issue_width
 ))

6778 
	`»adyq_’queue
 (
rs
);

6779 
	`RSLINK_FREE
 (
node
);

6783 ià(
lßdRejeùCouÁ
[
th»adid
])

6785 
	`»adyq_’queue
 (
rs
);

6786 
	`RSLINK_FREE
 (
node
);

6789 if(
rs
->
ÿche_»ady
 ==1)

6791 
	`»adyq_’queue
 (
rs
);

6792 
	`RSLINK_FREE
 (
node
);

6797 ià(
rs
->
issue_time
 > 
sim_cyşe
)

6799 
	`»adyq_’queue
 (
rs
);

6800 
	`RSLINK_FREE
 (
node
);

6804 ià(((
rs
->
wh’_»ady
[0] <ğ
sim_cyşe
è&& (rs->wh’_»ady[1] <ğsim_cyşeè&& (rs->wh’_»ady[2] <ğsim_cyşeè&& (rs->
wh’_šq
 < sim_cyşeè&& !rs->
š_qwa™
))

6807 #ifdeà 
PWR_WAKEUP_SELECT


6808 ià(!(
	`MD_OP_FLAGS
 (
rs
->
İ
è& 
F_CTRL
))

6810 ià((
rs
->
out1
 > 0) && (rs->out1 < 32))

6812 
i£ËùiÚ_acûss
++;

6813 
cu¼’t
->
i£ËùiÚ_acûss
++;

6815 ià((
rs
->
out1
 > 31) && (rs->out1 < 63))

6817 
f£ËùiÚ_acûss
++;

6818 
cu¼’t
->
f£ËùiÚ_acûss
++;

6822 
Î_sc
 = 0;

6824 ià(
rs
->
İ
 =ğ
STL_C
 ||„s->İ =ğ
LDL_L
)

6827 
Î_sc
++;

6831 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE)))

6836 
md_addr_t
 
addr
;

6838 
addr
 = 
rs
->addr;

6840 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

6841 
i
;

6843 ià(!
v®id_addr
)

6844 
sim_šv®id_addrs
++;

6847 #ifdeà 
MSHR


6848 
u£_mshr
 = 1;

6851 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

6853 ià(!
fu
)

6855 
	`»adyq_’queue
 (
rs
);

6856 
	`RSLINK_FREE
 (
node
);

6861 ià(
fu
->
ma¡”
->
busy
)

6862 
	`·nic
 ("functional unit‡lready in use");

6865 ià(
v®id_addr
 && 
db
[
th»adid
])

6867 
b_Ït
 = 0;

6868 
b_mshr_m©ch
 = -1;

6869 
b_mshr_m©ch
 = 
	`b_mshr_check
(
addr
, 
th»adid
, 
rs
);

6871 
æushšg
;

6872 
æushšg
 = 
	`b_lock_check
(
th»adid
);

6873 iàĞ
æushšg
 )

6875 
rs
->
issue_time
 = 
sim_cyşe
 + 1;

6876 
	`»adyq_’queue
 (
rs
);

6877 
	`RSLINK_FREE
 (
node
);

6880 ià(
b_mshr_m©ch
 != -1)

6881 
b_Ït
 = 
WAIT_TIME
;

6885 
b_Ït
 = 
	`ÿche_acûss
 (
db
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid, NULL);

6887 iàĞ
b_Ït
 =ğ
WAIT_TIME
 )

6889 
eviùšg
 = -1;

6890 
eviùšg
 = 
	`b_cu_check
(
th»adid
, 
addr
, 
SHR_TLB_WRITE_BACK
);

6891 
	`b_mshr_®loÿ‹
(
addr
, 
th»adid
, 
rs
, 
eviùšg
);

6894 if(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

6896 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

6897 
	`»adyq_’queue
 (
rs
);

6898 
	`RSLINK_FREE
 (
node
);

6903 #ifdef 
DCACHE_MSHR


6904 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid))

6906 
	`»adyq_’queue
 (
rs
);

6907 
	`RSLINK_FREE
 (
node
);

6912 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

6913 
rs
->
issued
 = 
TRUE
;

6914 
rs
->
issue_time
 = 
sim_cyşe
;

6915 
rs
->
com¶‘ed
 = 
TRUE
;

6916 
rs
->
fšish_time
 = 
sim_cyşe
;

6919 ià(
v®id_addr
 && (
rs
->
İ
 !ğ
STL_C
è&& 
´eãtch_æag
)

6921 
Ït
 = 0;

6922 
rsCacheAcûss
 = 
rs
;

6923 
m©chnum
 = 0;

6924 
dÿche_acûss
++;

6925 
cu¼’t
->
dÿche_acûss
++;

6926 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

6927 if(!
m©chnum
)

6929 ià(
ÿche_dl1
[
th»adid
])

6931 
	`sh¬e_·‰”n
(
th»adid
, 
addr
, 
Wr™e
);

6932 
Ït
 = 
	`ÿche_acûss
 (
ÿche_dl1
[
th»adid
], 
Wr™e
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,„s->threadid, NULL);

6935 #ifdef 
DCACHE_MSHR


6936 if(
Ït
 > 
ÿche_dl1_Ït
)

6937 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
Ït
, 0, 
rs
);

6941 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

6942 if(
Ït
>
ÿche_dl1_Ït
)

6943 
rs
->
miss_æag
 = 1;

6945 
rs
->
miss_æag
 = 0;

6948 
rs
->
issued
 = 
TRUE
;

6949 
rs
->
com¶‘ed
 = 
TRUE
;

6950 
rs
->
issue_time
 = 
sim_cyşe
;

6951 
rs
->
fšish_time
 = 
sim_cyşe
;

6953 ià(
rs
->
couÁed_iissueq
)

6955 
cu¼’t
->
iissueq_thrd
--;

6956 
iissueq
--;

6957 
iissueq_ş
[
rs
->
th»adid
]--;

6958 
rs
->
couÁed_iissueq
 = 0;

6960 ià(
rs
->
couÁed_fissueq
)

6962 
cu¼’t
->
fissueq_thrd
--;

6963 
fissueq
--;

6964 
fissueq_ş
[
rs
->
th»adid
]--;

6965 
rs
->
couÁed_fissueq
 = 0;

6969 ià(
rs
->
Úames
[0] ||„s->onames[1])

6970 
	`·nic
 ("store creates„esult");

6972 ià(
rs
->
»cov”_š¡
)

6973 
	`·nic
 ("mis-predicted store");

6975 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_WRITEBACK
, 0);

6976 
n_issued
++;

6987 
issue_dÚe
[
rs
->
th»adid
]++;

6990 
cu¼’t
->
iq¿m_acûss
++;

6992 ià(
rs
->
issue_time
 &&„s->issue_tim!ğ
sim_cyşe
)

6993 
	`w¬n
 ("already issueimed on‡nother cycle");

6995 
rs
->
issue_time
 = 
sim_cyşe
;

6997 
k
 = 0; k < 
MAX_IDEPS
; k++)

6999 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

7001 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

7003 
œegfe_acûss
++;

7004 
cu¼’t
->
œegfe_acûss
++;

7005 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

7006 ià(
k
)

7007 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7009 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7010 
œegfe_num_pİ_couÁ_cyşe
++;

7012 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

7014 
äegfe_acûss
++;

7015 
cu¼’t
->
äegfe_acûss
++;

7016 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

7017 ià(
k
)

7018 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7020 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7021 
œegfe_num_pİ_couÁ_cyşe
++;

7026 
this_cyşe_issued
[
rs
->
şu¡”
]++;

7027 
cu¼’t
->
lsq_acûss
++;

7028 
lsq_¡Üe_d©a_acûss
++;

7029 
cu¼’t
->
lsq_´eg_acûss
++;

7035 
i
 = 
rs
->
šdex
;

7036 
bLSQH™
 = 
FALSE
;

7037 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

7041 
bLSQH™
 = 
FALSE
;

7042 ià(
rs
->
isP»ãtch
)

7045 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

7047 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

7050 #ifdef 
LSQ_FIX_PARTIAL_BUG


7051 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

7053 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


7058 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

7060 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

7061 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

7063 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

7064 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

7066 ià(
qwAddr1
 =ğ
qwAddr2
)

7068 
bLSQH™
 = 
TRUE
;

7079 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

7081 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
addr
 =ğaddrè&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


7085 && 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 < 
rs
->
di¥_time
 && !cu¼’t->LSQ[i].
isP»ãtch
)

7087 
bLSQH™
 = 
TRUE
;

7095 ià(
bLSQH™
)

7097 ià(!
lßdRejeùCouÁ
[
th»adid
])

7099 
m_sqNumLdR•Ïy
[
th»adid
]++;

7100 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

7101 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

7102 
lßdRejeùCouÁ
[
th»adid
]++;

7107 
cu¼’t
->
LSQ
[
i
].
sqStÜeFÜw¬dT
 = 
rs
->
di¥_time
;

7114 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
NA
)

7117 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

7119 
š‹r
 = (
rs
->
addr
 >> 
ÿche_dl1
[rs->
th»adid
]->
£t_shiá
è& (
»s_membªk
 - 1);

7121 ià(!
DEDICATED_ADDER
 || (
	`MD_OP_FUCLASS
 (
rs
->
İ
è!ğ
IÁALU
))

7124 
š‹r
 = 
MAGICN
 + 
rs
->
şu¡”
;

7128 ià(
rs
->
—_comp
)

7130 
š‹r
 = 
RES_CACHEPORTS
 + 1;

7134 
š‹r
 = 
RES_CACHEPORTS
 + 2;

7138 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
rs
->
İ
), 
th»adid
);

7140 ià(
fu
)

7142 
rs
->
issued
 = 
TRUE
;

7143 ià(
rs
->
couÁed_iissueq
)

7145 
cu¼’t
->
iissueq_thrd
--;

7146 
iissueq
--;

7147 
iissueq_ş
[
rs
->
th»adid
]--;

7148 
rs
->
couÁed_iissueq
 = 0;

7150 ià(
rs
->
couÁed_fissueq
)

7152 
cu¼’t
->
fissueq_thrd
--;

7153 
fissueq
--;

7154 
fissueq_ş
[
rs
->
th»adid
]--;

7155 
rs
->
couÁed_fissueq
 = 0;

7158 ià(
fu
->
ma¡”
->
busy
)

7159 
	`·nic
 ("functional unit‡lready in use");

7161 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

7162 
fu
->
ma¡”
->
du¶iÿ‹
 = 
rs
->duplicate;

7163 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

7166 ià(
rs
->
š_LSQ
 && ((
	`MD_OP_FLAGS
 (rs->
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD)))

7168 
ev’ts
 = 0;

7169 
lßd_Ït
 = 0;

7170 
md_addr_t
 
addr
;

7171 
addr
 = 
rs
->addr;

7173 ià(
db
[
th»adid
] && 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
))

7175 
b_Ït
 = 0;

7176 
b_mshr_m©ch
 = -1;

7177 
b_mshr_m©ch
 = 
	`b_mshr_check
(
addr
, 
th»adid
, 
rs
);

7178 
æushšg
;

7179 
æushšg
 = 
	`b_lock_check
(
th»adid
);

7180 iàĞ
æushšg
 )

7182 
rs
->
issue_time
 = 
sim_cyşe
 + 1;

7183 
fu
->
ma¡”
->
busy
 = 0;

7184 
rs
->
issued
 = 
FALSE
;

7185 
	`»adyq_’queue
 (
rs
);

7186 
	`RSLINK_FREE
 (
node
);

7189 ià(
b_mshr_m©ch
 != -1)

7190 
b_Ït
 = 
WAIT_TIME
;

7193 
b_Ït
 = 
	`ÿche_acûss
(
db
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL, 
rs
->threadid, NULL);

7194 iàĞ
b_Ït
 =ğ
WAIT_TIME
 )

7196 
eviùšg
 = -1;

7197 
eviùšg
 = 
	`b_cu_check
(
th»adid
, 
addr
, 
SHR_TLB_WRITE_BACK
);

7198 
	`b_mshr_®loÿ‹
(
addr
, 
th»adid
, 
rs
, 
eviùšg
);

7201 ià(
b_Ït
 > 
db
[
th»adid
]->
h™_Ï‹ncy
)

7203 
rs
->
issue_time
 = 
sim_cyşe
 + 
b_Ït
;

7204 
fu
->
ma¡”
->
busy
 = 0;

7205 
rs
->
issued
 = 
FALSE
;

7206 
	`»adyq_’queue
 (
rs
);

7207 
	`RSLINK_FREE
 (
node
);

7211 
m©chnum
;

7212 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, cache_dl1[th»adid]->
£t_shiá
);

7213 if(
m©chnum
 && !
rs
->
isP»ãtch
)

7215 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

7216 
rs
->
ÿche_»ady
 = 1;

7217 
fu
->
ma¡”
->
busy
 = 0;

7218 
rs
->
issued
 = 
FALSE
;

7219 
	`RS_block_li¡
(
rs
, 
sim_cyşe
, 
m©chnum
, 
th»adid
);

7221 
	`RSLINK_FREE
 (
node
);

7225 #ifdef 
DCACHE_MSHR


7226 ià(
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid))

7228 
fu
->
ma¡”
->
busy
 = 0;

7229 
rs
->
issued
 = 
FALSE
;

7230 
	`»adyq_’queue
 (
rs
);

7231 
	`RSLINK_FREE
 (
node
);

7236 
cu¼’t
->
lsq_acûss
++;

7237 
cu¼’t
->
lsq_wakeup_acûss
++;

7240 
ldIssueCouÁ
++;

7241 #ifdeà
RELAXED_CONSISTENCY


7242 
i
 = 
rs
->
šdex
;

7243 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

7246 
i
 = (˜+ (
LSQ_size
 + 1)) % LSQ_size;

7248 ià(
i
 =ğ
cu¼’t
->
LSQ_
)

7251 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_LOAD
)

7252 && (
	`OPERANDS_READY
 (&
cu¼’t
->
LSQ
[
i
])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->th»adidè&& cu¼’t->LSQ[i].
issued


7253 && !
cu¼’t
->
LSQ
[
i
].
isP»ãtch
)

7255 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

7256 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

7258 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

7259 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

7261 ià((
qwAddr1
 =ğ
qwAddr2
è&& 
cu¼’t
->
LSQ
[
i
].
šv®id©iÚReûived
)

7263 ià(!
lßdRejeùCouÁ
[
th»adid
])

7265 
m_sqNumLdR•Ïy
[
th»adid
]++;

7266 
lßdRejeùR•Ïy
[
th»adid
] = 
i
;

7267 
»¶ayIndex
[
th»adid
] = 
cu¼’t
->
LSQ
[
i
].
robEÁry
;

7268 
lßdRejeùCouÁ
[
th»adid
]++;

7269 
šv®id©iÚ_»¶ay
[
th»adid
]++;

7278 
ld¡R•Ïy
 = 1;

7280 ià(!
rs
->
isP»ãtch
)

7281 
ld¡R•Ïy
 = 
	`checkLSQfÜSt
 (
rs
->
šdex
, 
cu¼’t
);

7283 ià(!
ld¡R•Ïy
)

7286 #ifdeà
REMOVE_COMPUTE_QUEUE


7287 ià(
rs
->
couÁed_iissueq
)

7289 
cu¼’t
->
iissueq_thrd
++;

7290 
iissueq
++;

7291 
rs
->
couÁed_iissueq
 = 1;

7293 ià(
rs
->
couÁed_fissueq
)

7295 
cu¼’t
->
fissueq_thrd
++;

7296 
fissueq
++;

7297 
rs
->
couÁed_fissueq
 = 1;

7300 
rs
->
issued
 = 
FALSE
;

7301 
rs
->
issue_time
 = 
sim_cyşe
 + 
»jeùR‘ryCyşe
;

7302 
	`»adyq_’queue
 (
rs
);

7303 
	`RSLINK_FREE
 (
node
);

7304 
ld¡RejeùiÚCouÁ
[
th»adid
]++;

7309 
bLSQH™
 = 
FALSE
;

7310 
bP¬tŸlH™
 = 
FALSE
;

7312 
i
 = 
rs
->
šdex
;

7313 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

7316 
lsq_Ït
 = 0;

7317 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
 && !
rs
->
isP»ãtch
)

7324 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

7327 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
)

7328 #ifdeà
LSQ_LOAD_FAST_ISSUE


7330 && (
	`STORE_ADDR_READY
 (&
cu¼’t
->
LSQ
[
i
]))

7332 && (
cu¼’t
->
LSQ
[
i
].
th»adid
 =ğ
rs
->th»adidè&& !cu¼’t->LSQ[i].
isP»ãtch
)

7334 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

7335 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

7336 
md_addr_t
 
qwAddr1
 = 
addr
 & ~(
nW
 - 1);

7337 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

7339 ià(
qwAddr1
 =ğ
qwAddr2
)

7341 
bLSQH™
 = 
TRUE
;

7342 ià(
nW1
 > 
nW2
)

7346 
bP¬tŸlH™
 = 
TRUE
;

7352 ià(
bLSQH™
)

7357 
lsq_Ït
 = 
LSQ_LATENCY
;

7358 
rs
->
sqStÜeFÜw¬dT
 = 
cu¼’t
->
LSQ
[
i
].
di¥_time
;

7362 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

7368 
v®id_addr
 = 
	`md_v®id_addr
 (
addr
, 
cu¼’t
->
ma¡”id
);

7370 ià(!
cu¼’t
->
¥ec_mode
&& !
v®id_addr
)

7371 
sim_šv®id_addrs
++;

7373 ià(
ÿche_dl1
[
th»adid
] && 
v®id_addr
 && !(
m©chnum
))

7376 
dÿche_acûss
++;

7377 
cu¼’t
->
dÿche_acûss
++;

7378 
rsCacheAcûss
 = 
rs
;

7379 
	`sh¬e_·‰”n
(
th»adid
, 
addr
, 
R—d
);

7380 
lßd_Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
R—d
, (
addr
 & ~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, 
rs
,„s->threadid, NULL);

7382 #ifdef 
DCACHE_MSHR


7384 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 == -1)

7385 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
rs
);

7386 if(
lßd_Ït
 >ğ
WAIT_TIME
 && 
rs
->
sqStÜeFÜw¬dT
 != -1)

7387 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
addr
, 
lßd_Ït
, 0, 
NULL
);

7389 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
)

7390 
ev’ts
 |ğ
PEV_CACHEMISS
;

7391 if(
lßd_Ït
>
ÿche_dl1_Ït
)

7392 
rs
->
miss_æag
 = 1;

7394 
rs
->
miss_æag
 = 0;

7398 
lßd_Ït
 = 
fu
->
İÏt
;

7401 #ifdeà 
PULL_BACK


7402 ià(
lßd_Ït
 > 
ÿche_dl1_Ït
 && !
rs
->
isP»ãtch
)

7404 
dl1MissThisCyşe
[
rs
->
th»adid
] = 1;

7405 ià(
rs
->
İ
 !ğ
LDT
 &&„s->İ !ğ
LDS
)

7407 ià(!
puÎbackDÚeThisCyşe
[
rs
->
th»adid
])

7409 ià(
puÎbackWa™Cyşe
[
rs
->
th»adid
])

7410 
puÎbackBubbË
[
rs
->
th»adid
]++;

7412 
puÎbackBubbË
[
rs
->
th»adid
] = 2;

7413 
puÎbackDÚeThisCyşe
[
rs
->
th»adid
] = 1;

7415 ià(!
puÎbackWa™Cyşe
[
rs
->
th»adid
])

7417 
puÎbackWa™Cyşe
[
rs
->
th»adid
] = 2;

7422 ià(!
rs
->
isP»ãtch
)

7424 
dl1H™ThisCyşe
[
rs
->
th»adid
] = 1;

7425 ià(
rs
->
İ
 =ğ
LDT
 ||„s->İ =ğ
LDS
)

7427 
lßd_Ït
 = 
ÿche_dl1_Ït
 + 1;

7433 ià(
PERFECT
)

7435 
lßd_Ït
 = 
PERFECTLAT
;

7438 ià(
lsq_Ït
)

7440 
lßd_Ït
 = 
lsq_Ït
;

7442 ià(
rs
->
isP»ãtch
)

7444 
lßd_Ït
 = 
ÿche_dl1_Ït
;

7445 ià(!
rs
->
¥ec_mode
)

7446 
m_sqP»ãtchCÁ
++;

7450 ià(
bP¬tŸlH™
)

7452 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
lßd_Ït
 + 5,†oad_lat+5);

7455 
	`ev’tq_queue_ev’t
(
rs
, 
sim_cyşe
 + 
lßd_Ït
,†oad_lat);

7457 ià(!
rs
->
—_comp
)

7459 
rs
->
fšish_time
 = (
sim_cyşe
 + 
lßd_Ït
);

7460 
rs
->
issue_time
 = 
sim_cyşe
;

7464 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
, (Ôs->
—_comp
 ? 
PEV_AGEN
 : 0è| 
ev’ts
));

7469 #ifdeà
PWR_ACCESS


7470 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

7471 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

7473 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

7476 ià(
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁALU
)

7478 
Ÿlu1_acûss
++;

7479 
cu¼’t
->
Ÿlu1_acûss
++;

7481 ià(
rs
->
—_comp
)

7483 
add_®u
++;

7487 
nÚadd_®u
++;

7490 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
IÁMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
IÁDIV
))

7492 
Ÿlu2_acûss
++;

7493 
cu¼’t
->
Ÿlu2_acûss
++;

7495 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
è=ğ
FlßtMULT
è|| (MD_OP_FUCLASS (rs->İè=ğ
FlßtDIV
))

7497 
çlu2_acûss
++;

7498 
cu¼’t
->
çlu2_acûss
++;

7502 
çlu1_acûss
++;

7503 
cu¼’t
->
çlu1_acûss
++;

7505 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 
fu
->
İÏt
, 0);

7506 
rs
->
fšish_time
 = (
sim_cyşe
 + 
fu
->
İÏt
);

7507 
rs
->
issue_time
 = 
sim_cyşe
;

7508 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

7512 
n_issued
++;

7523 
issue_dÚe
[
rs
->
th»adid
]++;

7525 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

7527 
fq¿m_acûss
++;

7528 
cu¼’t
->
fq¿m_acûss
++;

7532 
iq¿m_acûss
++;

7533 
cu¼’t
->
iq¿m_acûss
++;

7536 
this_cyşe_issued
[
rs
->
şu¡”
]++;

7538 
k
 = 0; k < 
MAX_IDEPS
; k++)

7540 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

7542 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

7544 
œegfe_acûss
++;

7545 
cu¼’t
->
œegfe_acûss
++;

7546 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

7547 ià(
k
)

7548 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7550 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7551 
œegfe_num_pİ_couÁ_cyşe
++;

7553 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

7555 
äegfe_acûss
++;

7556 
cu¼’t
->
œegfe_acûss
++;

7557 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

7558 ià(
k
)

7559 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7561 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7562 
œegfe_num_pİ_couÁ_cyşe
++;

7569 
	`»adyq_’queue
 (
rs
);

7570 ià(!
rs
->
¥ec_mode
)

7571 
iss_¡®l
++;

7572 ià(
š‹r
 < 
RES_CACHEPORTS
)

7574 ià(!
rs
->
¥ec_mode
)

7575 
bªk_cÚf
++;

7581 
rs
->
issued
 = 
TRUE
;

7582 ià(
rs
->
couÁed_iissueq
)

7584 
cu¼’t
->
iissueq_thrd
--;

7585 
iissueq
--;

7586 
iissueq_ş
[
rs
->
th»adid
]--;

7587 
rs
->
couÁed_iissueq
 = 0;

7589 ià(
rs
->
couÁed_fissueq
)

7591 
cu¼’t
->
fissueq_thrd
--;

7592 
fissueq
--;

7593 
fissueq_ş
[
rs
->
th»adid
]--;

7594 
rs
->
couÁed_fissueq
 = 0;

7596 
	`ev’tq_queue_ev’t
 (
rs
, 
sim_cyşe
 + 1, 0);

7597 ià(!
rs
->
—_comp
 &&„s->
out1
)

7599 
rs
->
fšish_time
 = (
sim_cyşe
 + 1);

7600 
rs
->
issue_time
 = 
sim_cyşe
;

7604 
	`±¿û_Ãw¡age
 (
rs
->
±¿û_£q
, 
PST_EXECUTE
,„s->
—_comp
 ? 
PEV_AGEN
 : 0);

7605 
n_issued
++;

7615 
issue_dÚe
[
rs
->
th»adid
]++;

7616 ià((
	`MD_OP_FUCLASS
 (
rs
->
İ
) > 3) && (MD_OP_FUCLASS (rs->op) < 10))

7618 
fq¿m_acûss
++;

7619 
cu¼’t
->
fq¿m_acûss
++;

7623 
iq¿m_acûss
++;

7624 
cu¼’t
->
iq¿m_acûss
++;

7626 ià((
rs
->
š¡num
 - 
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].š¡numè> 
DISTILP
)

7628 
di¡p
++;

7629 ià(!
rs
->
¥ec_mode
)

7630 
di¡p_v®id
++;

7631 
rs
->
di¡issue
 = 1;

7633 
this_cyşe_issued
[
rs
->
şu¡”
]++;

7635 
k
 = 0; k < 
MAX_IDEPS
; k++)

7637 ià(
rs
->
wh’_id•_»ady
[
k
] < 
sim_cyşe
)

7639 ià((
rs
->
id•_Çme
[
k
] > 0) && (rs->idep_name[k] < 32))

7641 
œegfe_acûss
++;

7642 
cu¼’t
->
œegfe_acûss
++;

7643 
œegfe_acûss_ş
[
rs
->
şu¡”
]++;

7644 ià(
k
)

7645 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7647 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7648 
œegfe_num_pİ_couÁ_cyşe
++;

7650 ià((
rs
->
id•_Çme
[
k
] > 31) && (rs->idep_name[k] < 63))

7652 
äegfe_acûss
++;

7653 
cu¼’t
->
äegfe_acûss
++;

7655 
äegfe_acûss_ş
[
rs
->
şu¡”
]++;

7656 ià(
k
)

7657 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_rb
);

7659 
œegfe_tÙ®_pİ_couÁ_cyşe
 +ğ
	`pİ_couÁ
 (
rs
->
v®_¿
);

7660 
œegfe_num_pİ_couÁ_cyşe
++;

7669 
	`»adyq_’queue
 (
rs
);

7672 
	`RSLINK_FREE
 (
node
);

7675 ; 
node
;‚odğ
Ãxt_node
)

7677 
Ãxt_node
 = 
node
->
Ãxt
;

7679 ià(
	`RSLINK_VALID
 (
node
))

7681 
RUU_¡©iÚ
 *
rs
 = 
	`RSLINK_RS
 (
node
);

7683 
rs
->
queued
 = 
FALSE
;

7684 
	`»adyq_’queue
 (
rs
);

7686 
	`RSLINK_FREE
 (
node
);

7691 
‹mp
 = 0;em°< 
numcÚ‹xts
;emp++)

7693 ià(
lßdRejeùCouÁ
[
‹mp
] & (
cŞËù_¡©s
 == 1))

7696 
k
 = 
»¶ayIndex
[
‹mp
];

7699 ià(!
thecÚ‹xts
[
‹mp
]->
RUU
[
k
].
¥ec_mode
)

7701 
	`fixS³cS‹
 (
k
, 
‹mp
);

7702 
thecÚ‹xts
[
‹mp
]->
»gs
 =hecÚ‹xts[‹mp]->
RUU
[
k
].
backupReg
;

7703 
	`£qCÚsi¡ªcyR•Ïy
 (
k
, 
‹mp
);

7704 
lßdRejeùSt
[
‹mp
]++;

7709 
num_issued
 = 
n_issued
;

7710 
	}
}

7718 
	#R_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_IREGS
))

	)

7719 
	#F_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_FREGS
))

	)

7720 
	#C_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_NUM_CREGS
))

	)

7724 
	$r¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

7726 
i
;

7728 
cÚ‹xt
 *
cu¼’t
;

7730 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7732 ià(!
¡»am
)

7733 
¡»am
 = 
¡d”r
;

7735 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtiv»gi¡” cÚ‹Á **\n", 
th»adid
);

7737 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

7740 
i
 = 0; i < 
MD_NUM_IREGS
; i++)

7742 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
, 
i
))

7744 
	`md_´št_œeg
 (
cu¼’t
->
¥ec_»gs_R
, 
i
, 
¡»am
);

7745 
	`årštf
 (
¡»am
, "\n");

7750 
i
 = 0; i < 
MD_NUM_FREGS
; i++)

7752 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
, 
i
))

7754 
	`md_´št_å»g
 (
cu¼’t
->
¥ec_»gs_F
, 
i
, 
¡»am
);

7755 
	`årštf
 (
¡»am
, "\n");

7760 
i
 = 0; i < 
MD_NUM_CREGS
; i++)

7762 #ifdeà
TEST_BUG


7763 ià(
	`BITMAP_SET_P
 (
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7765 ià(
	`BITMAP_SET_P
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
, 
i
))

7768 
	`md_´št_üeg
 (
cu¼’t
->
¥ec_»gs_C
, 
i
, 
¡»am
);

7769 
	`årštf
 (
¡»am
, "\n");

7772 
	}
}

7784 
	$Œaûr_»cov”
 (
th»adid
)

7786 
i
;

7787 
¥ec_mem_’t
 *
’t
, *
’t_Ãxt
;

7789 
cÚ‹xt
 *
cu¼’t
;

7791 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7795 ià(!
cu¼’t
->
¥ec_mode
)

7796 
	`·nic
 ("Th»ad %d, cªnÙ„ecov” uÆes š s³cuÏtivmode", 
th»adid
);

7797 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7800 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7801 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7805 #ifdeà
TEST_BUG


7806 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7807 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7808 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7810 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7811 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7812 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7817 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7820 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ = 
’t_Ãxt
)

7822 
’t_Ãxt
 = 
’t
->
Ãxt
;

7823 
’t
->
Ãxt
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7824 
cu¼’t
->
buck‘_ä“_li¡
 = 
’t
;

7826 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7830 ià(
±¿û_aùive
)

7832 
cu¼’t
->
ãtch_num
 != 0)

7834 
	`±¿û_’dš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
);

7835 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

7836 
cu¼’t
->
ãtch_num
--;

7840 
cu¼’t
->
ãtch_num
 = 0;

7841 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

7842 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»cov”_PC
;

7843 
	}
}

7847 
	$Œaûr_š™
 (
th»adid
)

7849 
i
;

7851 
cÚ‹xt
 *
cu¼’t
;

7853 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7855 
cu¼’t
->
¥ec_mode
 = 
FALSE
;

7856 ià(
cu¼’t
->
wa™FÜB¿nchResŞve
 == 1)

7857 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 0;

7860 #ifdeà
TEST_BUG


7861 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_R
, 
R_BMAP_SZ
);

7862 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_F
, 
F_BMAP_SZ
);

7863 
	`BITMAP_CLEAR_MAP
 (
u£_¥ec_C
, 
C_BMAP_SZ
);

7865 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_R
, 
R_BMAP_SZ
);

7866 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_F
, 
F_BMAP_SZ
);

7867 
	`BITMAP_CLEAR_MAP
 (
cu¼’t
->
u£_¥ec_C
, 
C_BMAP_SZ
);

7869 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

7870 
cu¼’t
->
¡Üe_hbË
[
i
] = 
NULL
;

7871 
	}
}

7877 
	#HASH_ADDR
(
ADDR
è((((ADDRè>> 24)^((ADDRè>> 16)^((ADDRè>> 8)^(ADDR)è& (
STORE_HASH_SIZE
-1))

	)

7889 
md_çuÉ_ty³


7890 
	$¥ec_mem_acûss
 (
mem_t
 *
mem
,

7891 
mem_cmd
 
cmd
,

7892 
md_addr_t
 
addr
,

7893 *
p
,

7894 
nby‹s
)

7896 
i
, 
šdex
;

7897 
¥ec_mem_’t
 *
’t
, *
´ev
;

7899 
cÚ‹xt
 *
cu¼’t
;

7900 
th»adid
 = 
mem
->threadid;

7902 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

7908 ià((
nby‹s
 & (nby‹ - 1)è!ğ0 || (
addr
 & (nbytes - 1)) != 0)

7911 
i
 = 0; i < 
nby‹s
; i++)

7912 ((*è
p
)[
i
] = 0;

7914  
md_çuÉ_nÚe
;

7917 ià(!((
addr
 >ğ
cu¼’t
->
ld_‹xt_ba£
 &&‡dd¸< (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& 
cmd
 =ğ
R—d
è|| 
	`md_v®id_addr
 (addr, cu¼’t->
ma¡”id
)))

7920 
i
 = 0; i < 
nby‹s
; i++)

7921 ((*è
p
)[
i
] = 0;

7923  
md_çuÉ_nÚe
;

7927 
šdex
 = 
	`HASH_ADDR
 (
addr
);

7928 
´ev
 = 
NULL
, 
’t
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];ƒÁ;…»v =ƒÁ,ƒÁ =ƒÁ->
Ãxt
)

7930 ià(
’t
->
addr
 ==‡ddr)

7933 ià(
´ev
 !ğ
NULL
)

7936 
´ev
->
Ãxt
 = 
’t
->next;

7937 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7938 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7945 ià(!
’t
 && 
cmd
 =ğ
Wr™e
)

7948 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7951 
cu¼’t
->
buck‘_ä“_li¡
 = 
	`ÿÎoc
 (1,  (
¥ec_mem_’t
));

7952 ià(!
cu¼’t
->
buck‘_ä“_li¡
)

7953 
	`çl
 ("th»ad %d , ouˆoàvœtu® memÜy", 
th»adid
);

7955 
’t
 = 
cu¼’t
->
buck‘_ä“_li¡
;

7956 
cu¼’t
->
buck‘_ä“_li¡
 = cu¼’t->buck‘_ä“_li¡->
Ãxt
;

7958 ià(!
bugcom·t_mode
)

7961 
’t
->
Ãxt
 = 
cu¼’t
->
¡Üe_hbË
[
šdex
];

7962 
cu¼’t
->
¡Üe_hbË
[
šdex
] = 
’t
;

7963 
’t
->
addr
 =‡ddr;

7964 
’t
->
d©a
[0] = 0;

7965 
’t
->
d©a
[1] = 0;

7970 
nby‹s
)

7973 ià(
cmd
 =ğ
R—d
)

7975 ià(
’t
)

7978 *((
by‹_t
 *è
p
èğ*((by‹_ˆ*è(&
’t
->
d©a
[0]));

7984 *((
by‹_t
 *è
p
èğ
	`MEM_READ_BYTE
 (
mem
, 
addr
);

7990 *((
by‹_t
 *è(&
’t
->
d©a
[0])èğ*((by‹_ˆ*è
p
);

7994 ià(
cmd
 =ğ
R—d
)

7996 ià(
’t
)

7999 *((
h®f_t
 *è
p
èğ*((h®f_ˆ*è(&
’t
->
d©a
[0]));

8005 *((
h®f_t
 *è
p
èğ
	`MEM_READ_HALF
 (
mem
, 
addr
);

8011 *((
h®f_t
 *è& 
’t
->
d©a
[0]èğ*((h®f_ˆ*è
p
);

8015 ià(
cmd
 =ğ
R—d
)

8017 ià(
’t
)

8020 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

8026 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

8032 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

8036 ià(
cmd
 =ğ
R—d
)

8038 ià(
’t
)

8041 *((
wÜd_t
 *è
p
èğ*((wÜd_ˆ*è& 
’t
->
d©a
[0]);

8042 *(((
wÜd_t
 *è
p
è+ 1èğ*((wÜd_ˆ*è& 
’t
->
d©a
[1]);

8048 *((
wÜd_t
 *è
p
èğ
	`MEM_READ_WORD
 (
mem
, 
addr
);

8049 *(((
wÜd_t
 *è
p
è+ 1èğ
	`MEM_READ_WORD
 (
mem
, 
addr
 +  (word_t));

8055 *((
wÜd_t
 *è& 
’t
->
d©a
[0]èğ*((wÜd_ˆ*è
p
);

8056 *((
wÜd_t
 *è& 
’t
->
d©a
[1]èğ*(((wÜd_ˆ*è
p
) + 1);

8060 
	`·nic
 ("access size‚ot supported in mis-speculative mode");

8063  
md_çuÉ_nÚe
;

8064 
	}
}

8068 
	$m¥ec_dump
 (
FILE
 * 
¡»am
, 
th»adid
)

8070 
i
, 
j
;

8071 
¥ec_mem_’t
 *
’t
;

8073 
cÚ‹xt
 *
cu¼’t
;

8075 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8077 ià(!
¡»am
)

8078 
¡»am
 = 
¡d”r
;

8080 
	`årštf
 (
¡»am
, "Th»ad %d, ** s³cuÏtivmemÜy cÚ‹Á **\n", 
th»adid
);

8082 
	`årštf
 (
¡»am
, "¥ec_mode: %s\n", 
cu¼’t
->
¥ec_mode
 ? "t" : "f");

8084 
j
 = 0; j < 
numcÚ‹xts
; j++)

8086 
	`årštf
 (
¡»am
, "th»ad %d : \n", 
j
);

8087 
i
 = 0; i < 
STORE_HASH_SIZE
; i++)

8090 
’t
 = 
thecÚ‹xts
[
j
]->
¡Üe_hbË
[
i
];ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

8092 
	`myårštf
 (
¡»am
, "[0x%08p]: %12.0f/0x%08x:%08x\n", 
’t
->
addr
, (è(*((*è’t->
d©a
)), *((*) &ent->data[0]), *(((*) &ent->data[0]) + 1));

8096 
	}
}

8100 
	$simoo_mem_obj
 (
mem_t
 *
mem
,

8101 
is_wr™e
,

8102 
md_addr_t
 
addr
,

8103 *
p
,

8104 
nby‹s
)

8106 
mem_cmd
 
cmd
;

8108 
th»adid
 = 
mem
->threadid;

8109 
cÚ‹xt
 *
cu¼’t
;

8111 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8113 ià(!
is_wr™e
)

8114 
cmd
 = 
R—d
;

8116 
cmd
 = 
Wr™e
;

8119 *
”r¡r
;

8121 
”r¡r
 = 
	`mem_v®id
 (
cmd
, 
addr
, 
nby‹s
, 
FALSE
);

8122 ià(
”r¡r
)

8123  
”r¡r
;

8127 ià(
cu¼’t
->
¥ec_mode
)

8128 
	`¥ec_mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
);

8130 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adid
);

8133  
NULL
;

8134 
	}
}

8140 
	$æushWr™eBufãr
 (
th»adid
)

8142 
šdex
;

8143 
wb_mem_’t
 *
’t
, *
´ev
;

8144 
nby‹s
;

8145 
by‹_t
 *
p
, *
q
;

8146 
md_addr_t
 
addr
;

8147 
ii
;

8149 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8151 
’t
 = 
cu¼’t
->
WBbËTa
;ƒÁ !ğ
NULL
;ƒÁ =ƒÁ->
´ev
)

8153 
p
 = 
’t
->
d©a
;

8154 
nby‹s
 = 
’t
->nbytes;

8155 
addr
 = 
’t
->addr;

8157 #ià!
WATER_NSQUARED


8158 ià(!
’t
->
wr™eAÌ—dyDÚe
)

8160 
nby‹s
-- > 0)

8162 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

8163 
p
 +ğ (
by‹_t
);

8164 
addr
 +ğ (
by‹_t
);

8168 
’t
->
wr™eAÌ—dyDÚe
 = 1;

8171 
	}
}

8175 
	$com¶‘eStÜe
 (
th»adid
, 
md_addr_t
 
addr
, 
width
, 
isFa
)

8178 
by‹_t
 *
p
, *
q
;

8179 
cÚ‹xt
 *
cu¼’t
;

8180 
wb_mem_’t
 *
’t
, *
´ev
;

8183 
nby‹s
;

8184 
md_İcode
 
İ
;

8185 
md_addr_t
 
š¡
;

8186 
do_wr™e
 = 1;

8187 
jj
;

8188 
acûs£d
;

8190 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8191 
’t
 = 
cu¼’t
->
WBbËTa
;

8193 ià((
width
 & (width - 1)è!ğ0 || (
addr
 & (width - 1)) != 0)

8196 
p
 = 
’t
->
d©a
;

8197 
nby‹s
 = 
’t
->nbytes;

8198 ià(
addr
 !ğ
’t
->addr)

8199 
	`´štf
("’t->add¸%Îd\n", 
’t
->
addr
);

8200 ià(
addr
 !ğ
’t
->addr)

8201 
	`·nic
 ("write buffer miss-alignment\n");

8203 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

8204 
š¡
 = 
’t
->
š¡r
;

8206 
p
 = 
’t
->
d©a
;

8207 
nby‹s
 = 
’t
->nbytes;

8210 ià(
İ
 != 35)

8212 #ià!
WATER_NSQUARED


8213 ià(!
’t
->
wr™eAÌ—dyDÚe
)

8215 
nby‹s
-- > 0)

8217 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

8218 
p
 +ğ (
by‹_t
);

8219 
addr
 +ğ (
by‹_t
);

8226 #ià
WATER_NSQUARED


8227 
cu¼’t
->
wa™FÜSTLC
 = 0;

8229 ià(!
isFa
 && (
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 !ğ0è&& (commÚ_»gs_s[cu¼’t->ma¡”id][cu¼’t->aùu®id].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
)))

8231 
do_wr™e
 = 1;

8233 
jj
 = 0; jj < 
THREADS_PER_JOB
; jj++)

8235 ià(
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 =ğ
	`GPR
 (
RB
è+ 
	`SEXT
 (
OFS
))

8237 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
»gs_lock
 = 0;

8238 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
jj
].
add»ss
 = 0;

8241 ià(!
’t
->
wr™eAÌ—dyDÚe
)

8244 
nby‹s
-- > 0)

8246 
	`MEM_WRITE_BYTE
 (
cu¼’t
->
mem
, 
addr
, *((
by‹_t
 *è
p
));

8247 
p
 +ğ (
by‹_t
);

8248 
addr
 +ğ (
by‹_t
);

8251 
¡ÜeCÚdFa
 = 0;

8255 
cu¼’t
->
»gs
.
»gs_R
[((
š¡
 >> 21) & 0x1f)] = 0;

8256 
do_wr™e
 = 0;

8257 
¡ÜeCÚdFa
 = 1;

8259 
cu¼’t
->
wa™FÜSTLC
 = 0;

8262 
acûs£d
 = 
’t
->accessed;

8263 
cu¼’t
->
numOfWBEÁry
--;

8264 ià((
’t
->
´ev
 =ğ
NULL
è&& (’t->
Ãxt
 == NULL))

8266 
cu¼’t
->
WBbËTa
 = 
NULL
;

8267 
cu¼’t
->
WBbËH—d
 = 
NULL
;

8268 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

8269 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

8271 ià(
’t
->
Ãxt
 =ğ
NULL
)

8273 
cu¼’t
->
WBbËTa
 = 
’t
->
´ev
;

8274 
’t
->
´ev
->
Ãxt
 = 
NULL
;

8275 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

8276 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

8279 ià(
’t
->
´ev
 =ğ
NULL
)

8281 
cu¼’t
->
WBbËH—d
 = 
’t
->
Ãxt
;

8282 
’t
->
Ãxt
->
´ev
 = 
NULL
;

8283 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

8284 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

8288 
’t
->
´ev
->
Ãxt
 =ƒnt->next;

8289 
’t
->
Ãxt
->
´ev
 =ƒnt->prev;

8290 
’t
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

8291 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
’t
;

8293 
	}
}

8298 
	$comm™Wr™e
 (
md_addr_t
 
addr
, 
th»adID
, 
couÁ”_t
 
com¶‘eCyşe
, 
ÃedBusAcûss
, 
acûs£d
)

8300 
šdex
;

8301 
wb_mem_’t
 *
’t
;

8302 
cÚ‹xt
 *
cu¼’t
;

8303 
md_İcode
 
İ
;

8304 
Ït
 = 0;

8305 
pÜt_Ït
 = 0, 
now_Ït
 = 0, 
pÜt_now
 = 0;

8308 
cu¼’t
 = 
thecÚ‹xts
[
th»adID
];

8309 ià(!
COHERENT_CACHE
)

8311 
	`´štf
 ("This is‚ot TRUE for‚on-coherent cache\n");

8312 
	`ex™
 (0);

8314 
šdex
 = 0;

8315 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

8317 ià(
’t
->
addr
 =ğadd¸&& !’t->
com¶‘eCyşe
)

8319 
	`MD_SET_OPCODE
 (
İ
, 
’t
->
š¡r
);

8320 ià(
İ
 == 35)

8322 
’t
->
com¶‘eCyşe
 = 
sim_cyşe
 + 
Ït
;

8323 
’t
->
ÃedBusAcûss
 = 1;

8324 
’t
->
acûs£d
 =‡ccessed;

8328 
’t
->
com¶‘eCyşe
 = completeCycle;

8329 
’t
->
ÃedBusAcûss
 =‚eedBusAccess;

8330 
’t
->
acûs£d
 =‡ccessed;

8335 
	}
}

8339 #ià
PROCESS_MODEL


8341 
	$checkFÜSh¬edAddr
 (
addr
)

8343 
sh¬edAdd»ssLi¡_s
 *
tmpPŒ
;

8345 
šdx
 = (è(((è
addr
 & 1016) >> 3);

8347 
šdx
 = 0;

8348 
tmpPŒ
 = 
sh¬edAdd»ssLi¡
[
šdx
];

8349 ià((
addr
 >ğ
La¡Sh¬edAdd»ss
è&& (add¸< (La¡Sh¬edAdd»s + 
La¡Sh¬edSize
)))

8353 
tmpPŒ
 !ğ
NULL
)

8355 ià((
addr
 >ğ
tmpPŒ
->
add»ss
è&& (add¸< (tmpPŒ->add»s +mpPŒ->
size
)))

8357 
La¡Sh¬edAdd»ss
 = 
tmpPŒ
->
add»ss
;

8358 
La¡Sh¬edSize
 = 
tmpPŒ
->
size
;

8361 
tmpPŒ
 =mpPŒ->
Ãxt
;

8364 
	}
}

8367 
md_çuÉ_ty³


8368 
	$WB_acûss1
 (
mem_t
 *
mem
, 
mem_cmd
 
cmd
, 
md_addr_t
 
addr
, *
p
, 
nby‹s
, 
th»adID
, md_addr_ˆ
š¡r
)

8370 
md_İcode
 
İ
;

8371 
md_çuÉ_ty³
 
»tuº_ty³
;

8373 
TempIn¡r
 = 
š¡r
;

8374 
	`MD_SET_OPCODE
 (
İ
, 
TempIn¡r
);

8376 if(!
thecÚ‹xts
[
th»adID
]->
¥ec_mode


8377 && (
addr
 <ğ
thecÚ‹xts
[0]->
ld_¡ack_ba£
è&& (add¸>hecÚ‹xts[0]->ld_¡ack_ba£-
numcÚ‹xts
*
STACKSIZE
è&& !×dd¸<ğthecÚ‹xts[
th»adID
]->ld_stack_base &&‡ddr >hecontexts[threadID]->ld_stack_base-STACKSIZE))

8382 #ià
	`defšed
(
DO_COMPLETE_FASTFWD
è|| defšed(
PARALLEL_EMUL
)

8383 #ià
PROCESS_MODEL


8384 ià(
	`checkFÜSh¬edAddr
 ((è
addr
))

8386 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
thecÚ‹xts
[0]->
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

8387  
»tuº_ty³
;

8390 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

8391  
»tuº_ty³
;

8395 ià(
COHERENT_CACHE
 && 
®lFÜked
)

8397 ià(
İ
 == 35)

8399 
thecÚ‹xts
[
th»adID
]->
wa™FÜSTLC
 = 1;

8401 
»tuº_ty³
 = 
	`mem_acûss
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

8402 #ià
WATER_NSQUARED


8403 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

8406 ià(
acûss_mem
 && 
acûss_mem_id
 =ğ
th»adID
)

8408 
	`æushWr™eBufãr
 (
th»adID
);

8410  
»tuº_ty³
;

8414 
»tuº_ty³
 = 
	`mem_acûss_drù
 (
mem
, 
cmd
, 
addr
, 
p
, 
nby‹s
, 
th»adID
);

8415  
»tuº_ty³
;

8417 
	}
}

8421 
INLINE
 

8422 
	$ruu_lšk_id•
 (
RUU_¡©iÚ
 *
rs
,

8423 
id•_num
,

8424 
id•_Çme
)

8426 
CV_lšk
 
h—d
;

8427 
RS_lšk
 *
lšk
;

8429 
th»adid
 = 
rs
->threadid;

8430 
cÚ‹xt
 *
cu¼’t
;

8432 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8434 
rs
->
´od
[
id•_num
] = 
NULL
;

8435 
rs
->
id•_Çme
[
id•_num
] = idep_name;

8437 ià(
id•_Çme
 =ğ
NA
)

8440 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

8441 
rs
->
wh’_»ady
[
id•_num
] = 0;

8442 
rs
->
wh’_id•_»ady
[
id•_num
] = 
WAIT_TIME
;

8446 
h—d
 = 
	`CREATE_VECTOR
 (
id•_Çme
);

8449 ià(!
h—d
.
rs
 || h—d.rs->
com¶‘ed
)

8451 
rs
->
id•_»ady
[
id•_num
] = 
TRUE
;

8452 
rs
->
wh’_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

8453 
rs
->
wh’_id•_»ady
[
id•_num
] = 
sim_cyşe
 - 1;

8456 
rs
->
id•_»ady
[
id•_num
] = 
FALSE
;

8457 
rs
->
´od
[
id•_num
] = 
h—d
.rs;

8459 
	`RSLINK_NEW
 (
lšk
, 
rs
);

8460 
lšk
->
x
.
İnum
 = 
id•_num
;

8461 
lšk
->
Ãxt
 = 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
];

8462 
h—d
.
rs
->
od•_li¡
[h—d.
od•_num
] = 
lšk
;

8463 
	}
}

8466 
	$ÃedsWBæush
 (
cÚ‹xt
 * 
cu¼’t
, 
md_İcode
 
İ
, 
md_addr_t
 
addr
)

8468 
nby‹s
 = 
	`G‘MemAccWidth
 (
İ
);

8470 ià(
İ
 =ğ
LDQ_U
)

8471 
addr
 =‡ddr & ~7;

8473 
wb_mem_’t
 *
’t
;

8475 
’t
 = 
cu¼’t
->
WBbËH—d
;ƒÁ;ƒÁ =ƒÁ->
Ãxt
)

8477 ià(
nby‹s
 == 1)

8479 ià(!(
’t
->
nby‹s
 ==‚bytes))

8481 ià((
’t
->
addr
 <ğaddrè&& (ÓÁ->add¸+ƒÁ->
nby‹s
) >‡ddr))

8487 ià(
nby‹s
 == 2)

8489 ià(
’t
->
nby‹s
 !=‚bytes)

8491 ià(
’t
->
nby‹s
 <‚bytes)

8493 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

8500 ià((
addr
 >ğ
’t
->addrè&& (add¸< (’t->add¸+ƒÁ->
nby‹s
)))

8507 ià(
nby‹s
 == 4)

8509 ià(
nby‹s
 !ğ
’t
->nbytes)

8511 ià(
’t
->
nby‹s
 <‚bytes)

8513 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

8520 ià(
nby‹s
 == 8)

8522 ià(
nby‹s
 !ğ
’t
->nbytes)

8524 ià((
’t
->
nby‹s
 == 1) || (ent->nbytes == 2) || (ent->nbytes == 4))

8526 ià((
’t
->
addr
 >ğaddrè&& (’t->add¸< (add¸+ 
nby‹s
)))

8535 
	}
}

8540 
INLINE
 

8541 
	$ruu_š¡®l_od•
 (
RUU_¡©iÚ
 *
rs
,

8542 
od•_num
,

8543 
od•_Çme
)

8545 
CV_lšk
 
cv
;

8547 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
rs
->
th»adid
];

8550 ià(
od•_Çme
 =ğ
NA
)

8553 
rs
->
Úames
[
od•_num
] = 
NA
;

8558 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

8560 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

8563 
	`CVLINK_INIT
 (
cv
, 
rs
, 
od•_num
);

8564 
	`SET_CREATE_VECTOR
 (
od•_Çme
, 
cv
);

8565 
	}
}

8569 
INLINE
 

8570 
	$ruu_š¡®l_od•_sk
 (
RUU_¡©iÚ
 *
rs
,

8571 
od•_num
,

8572 
od•_Çme
)

8576 ià(
od•_Çme
 =ğ
NA
)

8579 
rs
->
Úames
[
od•_num
] = 
NA
;

8584 
rs
->
Úames
[
od•_num
] = 
od•_Çme
;

8586 
rs
->
od•_li¡
[
od•_num
] = 
NULL
;

8588 
	}
}

8594 
	$simoo_»g_obj
 (
»gs_t
 *
x»gs
,

8595 
is_wr™e
,

8596 
md_»g_ty³
 
¹
,

8597 
»g
,

8598 
ev®_v®ue_t
 *
v®
)

8601 
th»adid
 = 0;

8602 
cÚ‹xt
 *
cu¼’t
;

8604 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8606 
¹
)

8608 
¹_g´
:

8609 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_IREGS
)

8612 ià(!
is_wr™e
)

8614 
v®
->
ty³
 = 
‘_ušt
;

8615 
v®
->
v®ue
.
as_ušt
 = 
	`GPR
 (
»g
);

8618 
	`SET_GPR
 (
»g
, 
	`ev®_as_ušt
 (*
v®
));

8621 
¹_Ír
:

8622 ià(
»g
 < 0 ||„eg >ğ
MD_NUM_FREGS
)

8626 
	`abÜt
 ();

8629 
¹_år
:

8631 
	`abÜt
 ();

8634 
¹_d´
:

8636 
	`abÜt
 ();

8641 
¹_PC
:

8642 ià(!
is_wr™e
)

8644 
v®
->
ty³
 = 
‘_addr
;

8645 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_PC
;

8648 
cu¼’t
->
»gs
.
»gs_PC
 = 
	`ev®_as_addr
 (*
v®
);

8651 
¹_NPC
:

8652 ià(!
is_wr™e
)

8654 
v®
->
ty³
 = 
‘_addr
;

8655 
v®
->
v®ue
.
as_addr
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

8658 
cu¼’t
->
»gs
.
»gs_NPC
 = 
	`ev®_as_addr
 (*
v®
);

8662 
	`·nic
 ("bogus„egister bank");

8666  
NULL
;

8667 
	}
}

8670 
ruu_ãtch
 ();

8672 
	g¡®lCau£
[
MAXTHREADS
] = {0};

8673 
couÁ”_t
 
	gmb_couÁ
 = 0;

8681 
	$isLockIn¡
(
md_addr_t
 
PC
)

8683 if(
PC
 <ğ
LockIn™PC
 && PC >= LockInitPC - 68)

8687 
	}
}

8688 
	$isB¬R–In¡
(
md_addr_t
 
PC
)

8690 if(
PC
 <ğ
Ï¡_Ï¡_pc
 + 112 && PC >=†ast_last_pc - 844)

8694 
	}
}

8697 
	$ruu_di¥©ch
 (
th»adid
)

8699 
i
;

8700 
‹mpş
;

8701 
‹mµc
 = 0;

8702 
mm
, 
k
;

8703 
fÜû_bªk
;

8704 
¦Ù
;

8706 
n_di¥©ched
;

8707 
md_š¡_t
 
š¡
;

8708 
md_İcode
 
İ
;

8709 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

8710 
md_addr_t
 
rg‘_PC
 = 0;

8711 
md_addr_t
 
addr
 = 0;

8712 
RUU_¡©iÚ
 *
rs
;

8713 
RUU_¡©iÚ
 *
lsq
;

8716 
RUU_¡©iÚ
 *
rs_dup
;

8717 
b´ed_upd©e_t
 *
dœ_upd©e_±r
;

8718 
¡ack_»cov”_idx
;

8719 
p£q
;

8720 
is_wr™e
 = 
FALSE
;

8721 
made_check
;

8722 
br_k’
, 
br_´ed_k’
;

8723 
by‹_t
 
‹mp_by‹
;

8724 
h®f_t
 
‹mp_h®f
;

8725 
wÜd_t
 
‹mp_wÜd
;

8727 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

8728 
qwÜd_t
 
‹mp_qwÜd
 = 0;

8730 
qwÜd_t
 
»gV®
;

8731 
h®f_t
 
ushLdFÏg
;

8733 
»gs_t
 
‹mpReg
;

8736 
»gs_t
 
‹mpRegP»v
;

8738 
md_çuÉ_ty³
 
çuÉ
;

8740 
soá_”rÜ
, 
‹mp_ãtch_num
;

8743 
qwÜd_t
 
v®_¿
 = 0, 
v®_rb
 = 0, 
v®_rc
 = 0, 
v®_¿_»suÉ
 = 0;

8744 
	`cİy_to
 ();

8745 
	`bªk_lookup
 (
md_addr_t
, , );

8747 
cÚ‹xt
 *
cu¼’t
;

8748 
ãtch_time
 = 0;

8750 
£cÚd_run
 = 
TRUE
, 
no_d¥_şs
;

8752 
š_LSQ
 = 0;

8753 
lsq_fuÎ
 = 0;

8755 
·»ÁID
;

8757 
»sourû_Ãed
[4];

8759 
»sourû_Ãed
[0] = 1;

8760 
»sourû_Ãed
[1] = 1;

8761 
»sourû_Ãed
[2] = 3;

8762 
»sourû_Ãed
[3] = 3;

8764 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

8766 
n_di¥©ched
 = 0;

8767 
‹mp_ãtch_num
 = 
cu¼’t
->
ãtch_num
;

8769 
cu¼’t
->
ãtch_»dœeùed
 = 
FALSE
;

8770 
¡®lCau£
[
th»adid
] = 0;

8771 
lsq_miss_¡®l
 = 0;

8773 ià(
‹mp_ãtch_num
 != 0)

8775 
made_check
 = 
FALSE
;

8776 
‹mpş
 = 
aùu®_şu¡”s
;

8779 
n_di¥©ched
 < (
ruu_decode_width
 * 
ãtch_¥“d
)

8780 && 
cu¼’t
->
LSQ_num
 < 
LSQ_size
 && cu¼’t->
m_shLQNum
 < 
m_shLQSize


8781 && (
cu¼’t
->
m_shSQNum
 + 
m_L1WBufCÁ
[
th»adid
]è< 
m_shSQSize


8782 && (
cu¼’t
->
RUU_num
 < 
RUU_size
)

8783 && 
‹mp_ãtch_num
 != 0

8784 && (
ruu_šşude_¥ec
 || !
cu¼’t
->
¥ec_mode
)

8788 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8789 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

8791 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

8792 
š_LSQ
 = 1;

8794 
š_LSQ
 = 0;

8796 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

8798 
»sourû_Ãed
[0] = 0;

8799 
»sourû_Ãed
[1] = 1;

8800 
»sourû_Ãed
[2] = 0;

8801 
»sourû_Ãed
[3] = 3;

8805 
»sourû_Ãed
[0] = 1;

8806 
»sourû_Ãed
[1] = 0;

8807 
»sourû_Ãed
[2] = 3;

8808 
»sourû_Ãed
[3] = 1;

8811 ià(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esourû_Ãed[1])è&& (
œegfe_ş
[th»adid] <ğ((
IPREG_size
è-„esourû_Ãed[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8813 if(!((
iissueq_ş
[
th»adid
] <ğ(
IIQ_size
 - 
»sourû_Ãed
[0])è&& (
fissueq_ş
[th»adid] <ğ(
FIQ_size
 -„esource_need[1]))))

8814 
¡®lCau£
[
th»adid
] = 
SÎIssueFuÎ
;

8815 if(!((
œegfe_ş
[
th»adid
] <ğ((
IPREG_size
è- 
»sourû_Ãed
[2])è&& (
äegfe_ş
[th»adid] <ğ((
FPREG_size
) -„esource_need[3]))))

8816 
¡®lCau£
[
th»adid
] = 
SÎRegFuÎ
;

8820 ià((
thecÚ‹xts
[
th»adid
]->
wa™FÜB¿nchResŞve
 =ğ1è|| (thecÚ‹xts[th»adid]->
wa™FÜSTLC
))

8822 
¡®lCau£
[
th»adid
] = 
SÎSTLC
;

8831 #ià
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

8832 ià(
busSlÙCouÁ
 < 11)

8834 
¡®lNoBusSlÙ
++;

8839 ià(
cŞËùStStİ
[
cu¼’t
->
id
])

8844 
j
, 
boŞ
 = 0, 
tmp
, 
Î_sc
 = 0;

8845 
cÚ‹xt
 *
tmpCxt
;

8846 
md_addr_t
 
mask
;

8848 
mask
 = ~
ÿche_dl1
[
cu¼’t
->
id
]->
blk_mask
;

8851 
š¡
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
IR
;

8852 
dœ_upd©e_±r
 = &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
dœ_upd©e
);

8853 
¡ack_»cov”_idx
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->stack_recover_idx;

8854 
p£q
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
±¿û_£q
;

8855 
ãtch_time
 = 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->fetch_time;

8857 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->
is_dup
 = 
TRUE
;

8858 if(
m_upd©e_miss_æag
[
th»adid
])

8860 
m_upd©e_miss_æag
[
th»adid
] = 0;

8861 if(
m_upd©e_miss_d•’d_¡¬t
[
th»adid
])

8862 
Upd©eD•’dCyşe
 +ğ(
sim_cyşe
 - 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
]);

8863 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 0;

8867 ià(
İ
 =ğ
STL_C
)

8870 
Î_sc
++;

8874 ià(
İ
 =ğ
LDL_L
)

8876 
Î_sc
++;

8878 if(
	`MD_OP_FLAGS
(
İ
è& 
F_FENCE
)

8879 
mb_couÁ
++;

8882 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_TRAP
)

8890 
	#OSF_SYS_g‘th»adid
 162

	)

8891 
	#OSF_SYS_STATS
 174

	)

8892 
	#OSF_SYS_BARRIER_STATS
 175

	)

8893 
	#OSF_SYS_LOCK_STATS
 176

	)

8894 
	#OSF_SYS_BARRIER_INSTR
 177

	)

8895 
qwÜd_t
 
syscode
 = 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_V0
];

8896 if(
cu¼’t
->
¥ec_mode


8897 || !(
syscode
 =ğ
OSF_SYS_g‘th»adid
 || syscod=ğ
OSF_SYS_STATS
 || syscod=ğ
OSF_SYS_BARRIER_INSTR
 ))

8899 ià(
cu¼’t
->
RUU_num
 != 0)

8901 
¡®lCau£
[
th»adid
] = 
SÎT¿p
;

8906 ià(
cu¼’t
->
¥ec_mode
)

8907 
	`·nic
 ("drained‡nd speculative");

8910 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->regs_PC;

8911 
cu¼’t
->
´ed_PC
 = cu¼’t->
ãtch_d©a
[cu¼’t->
ãtch_h—d
]->pred_PC;

8912 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

8915 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

8916 
cu¼’t
->
¥ec_»gs_R
[
MD_REG_ZERO
] = 0;

8917 #ifdeà
TARGET_ALPHA


8918 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8919 
cu¼’t
->
¥ec_»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

8923 
addr
 = 0;

8924 
is_wr™e
 = 
FALSE
;

8927 #ià
	`defšed
(
TARGET_PISA
)

8928 
v®_¿
 = 
	`GPR
 (
RS
);

8929 
v®_rb
 = 
	`GPR
 (
RT
);

8930 #–ià
	`defšed
(
TARGET_ALPHA
)

8934 
çuÉ
 = 
md_çuÉ_nÚe
;

8935 
soá_”rÜ
 = 
FALSE
;

8938 
‹mpRegP»v
 = 
cu¼’t
->
»gs
;

8941 
ushLdFÏg
 = 0;

8943 
İ
)

8945 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
CLASS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

8946 
OP
: \

8948 
š1
 = 
I1
; 
š2
 = 
I2
; 
š3
 = 
I3
; \

8949 
out1
 = 
O1
; 
out2
 = 
O2
; \

8950 if(
š1
 < 32è
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in1]; \

8951 
v®_¿
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š1
 - 32]; \

8952 if(
š2
 < 32è
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - in2]; \

8953 
v®_rb
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
š2
 - 32]; \

8954 if(
out1
 < 32è
»gV®
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - out1]; \

8955 
»gV®
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32]; \

8957 if(
£cÚd_run
è
	`SYMCAT
(
OP
,
_IMPL
); \

8959 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

8960 
OP
: \

8962 
İ
 = 
MD_NOP_OP
; \

8964 
out1
 = 
NA
; 
out2
 = NA; \

8965 
š1
 = 
NA
; 
š2
 = NA; 
š3
 = NA; \

8968 
	#CONNECT
(
OP
è

	)

8975 
	#DECLARE_FAULT
(
FAULT
è\

	)

8977 ià(!
cu¼’t
->
¥ec_mode
 ) \

8978 
çuÉ
 = (
FAULT
); \

8983 
	#THREADID
 (
cu¼’t
->
id
)

	)

8984 
	~"machše.def
"

8987 
İ
 = 
MD_NOP_OP
;

8989 
out1
 = 
NA
;

8990 
out2
 = 
NA
;

8991 
š1
 = 
NA
;

8992 
š2
 = 
NA
;

8993 
š3
 = 
NA
;

8996 ià(!
cu¼’t
->
¥ec_mode
)

8998 if(!(
cŞËù_lock_¡©s
[
th»adid
] | 
cŞËù_b¬r›r_¡©s
[threadid]))

8999 
pu»_num_š¢
++;

9000 
tÙ®_num_š¢
++;

9001 
sim_num_š¢
++;

9004 #ifdeà
CPU_TRACE


9005 
FILE
 *
fCpuT¿û
;

9006 
fCpuT¿û
=
	`fİ’
(
ıu_Œaû
,"at+");

9007 
	`årštf
(
fCpuT¿û
,"%d di¥©ch %Îd\n",
cu¼’t
->
id
,
sim_cyşe
);

9008 
	`fşo£
(
fCpuT¿û
);

9012 
cu¼’t
->
sim_num_š¢
++;

9015 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

9017 
	`årštf
 (
¡d”r
, "sim_cyş%ld\Àsim_š¢ %ld,hrdid %d,…ø%lx, Next_pø%lx\n", (è
sim_cyşe
, (è
cu¼’t
->
sim_num_š¢
, cu¼’t->
id
, (ècu¼’t->
»gs
.
»gs_PC
,

9018 (è
cu¼’t
->
»gs
.
»gs_PC
);

9019 
	`årštf
 (
¡d”r
, "ãtch…ø %lx,ãtch Next_pø %lx\n", (è
cu¼’t
->
ãtch_»gs_PC
, (ècu¼’t->
ãtch_´ed_PC
);

9020 
	`çl
 ("Th»ad %d,‚Ú-¥ecuÏtivçuÉ (%dèd‘eùed @ %lx", 
th»adid
, 
çuÉ
, (è
cu¼’t
->
»gs
.
»gs_PC
);

9024 #ià
	`defšed
(
TARGET_PISA
)

9025 
v®_rc
 = 
	`GPR
 (
RD
);

9026 
v®_¿_»suÉ
 = 
	`GPR
 (
RS
);

9027 #–ià
	`defšed
(
TARGET_ALPHA
)

9028 ià(
out1
 < 32)

9029 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_R
[31 - 
out1
];

9031 
v®_rc
 = 
cu¼’t
->
»gs
.
»gs_F
.
q
[
out1
 - 32];

9032 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_LOAD
)è&& 
	`isFPMemAcc
 (op))

9033 
v®_¿_»suÉ
 = 
	`FPR_Q
 (
RA
);

9035 
v®_¿_»suÉ
 = 
	`GPR
 (
RA
);

9038 
‹mpReg
 = 
cu¼’t
->
»gs
;

9041 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
))

9043 
sim_tÙ®_»fs
++;

9044 ià(!
cu¼’t
->
¥ec_mode
)

9045 
sim_num_»fs
++;

9047 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

9048 
is_wr™e
 = 
TRUE
;

9051 
sim_tÙ®_lßds
++;

9052 ià(!
cu¼’t
->
¥ec_mode
)

9053 
sim_num_lßds
++;

9057 
br_k’
 = (
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
)));

9058 
br_´ed_k’
 = (
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +  (
md_š¡_t
)));

9061 ià(
İ
 !ğ
MD_NOP_OP
)

9082 
DUPLICATION_acûss
[
th»adid
]++;

9083 
du¶iÿtiÚ_acûss
++;

9085 
rs
 = &
cu¼’t
->
RUU
[cu¼’t->
RUU_
];

9087 #ifdeà
HOTLEAKAGE


9088 
rs
->
¦
 = 
sim_cyşe
 - 1;

9090 if(!
ruu_šÜd”_issue
)

9092 
»Çme_acûss
++;

9093 
cu¼’t
->
»Çme_acûss
++;

9096 
rs
->
th»adid
 =hreadid;

9097 
rs
->
IR
 = 
š¡
;

9098 
rs
->
İ
 = op;

9099 
rs
->
š¡num
 = ++
š¡£qnum
;

9100 
rs
->
isSyncIn¡
 = (rs->
İ
 =ğ
LDL_L
 ||„s->İ =ğ
STL_C
);

9101 
rs
->
isSyncIn¡B¬
 = (
cŞËù_b¬r›r_¡©s
[
th»adid
]);

9102 
rs
->
isSyncIn¡B¬R–
 = (
cŞËù_b¬r›r_»Ëa£
 && 
	`isB¬R–In¡
(
cu¼’t
->
»gs
.
»gs_PC
));

9107 if(
cu¼’t
->
»gs
.
»gs_PC
 >ğ100000 && 
th»adid
 == 15)

9109 
Ï¡_Ï¡_pc
 = 
Ï¡_pc
;

9110 
Ï¡_pc
 = 
cu¼’t
->
»gs
.
»gs_PC
;

9113 
rs
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

9114 
rs
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

9115 
rs
->
´ed_PC
 = 
cu¼’t
->pred_PC;

9116 
rs
->
š_LSQ
 = 
FALSE
;

9117 
rs
->
—_comp
 = 
FALSE
;

9118 
rs
->
abªk
 = -1;

9119 
rs
->
pbªk
 = -1;

9120 
rs
->
»cov”_š¡
 = 
FALSE
;

9121 
rs
->
dœ_upd©e
 = *
dœ_upd©e_±r
;

9122 
rs
->
¡ack_»cov”_idx
 = stack_recover_idx;

9123 
rs
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

9124 
rs
->
ãtch_time
 = fetch_time;

9125 
rs
->
di¥_time
 = 
sim_cyşe
;

9126 
rs
->
fšish_time
 = 0;

9127 
rs
->
ÿche_»ady
 = 0;

9128 
rs
->
š_qwa™
 = 0;

9129 
rs
->
issue_time
 = 0;

9130 
rs
->
addr
 = 0;

9131 
rs
->
di¡issue
 = 0;

9132 
rs
->
lsqEÁry
 = 0;

9133 
rs
->
miss_æag
 = 0;

9135 
rs
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

9136 
rs
->
queued
 =„s->
issued
 =„s->
com¶‘ed
 = 
FALSE
;

9137 
rs
->
±¿û_£q
 = 
p£q
;

9138 
rs
->
couÁed_iissueq
 = 0;

9139 
rs
->
couÁed_fissueq
 = 0;

9140 
rs
->
šv®id©iÚReûived
 = 0;

9141 
rs
->
du¶iÿ‹
 = (1 - 
£cÚd_run
);

9143 
rs
->
´evRegV®
 = 
»gV®
;

9145 
rs
->
backupReg
 = 
‹mpRegP»v
;

9146 
rs
->
wr™ewa™
 = 0;

9147 
rs
->
R—dSh¬eDœ
 = 0;

9148 
rs
->
wr™emiss
 = 0;

9149 
rs
->
STL_C_ç
 = 0;

9150 ià(!
£cÚd_run
)

9151 
rs
->
¥ec_mode
 = 0;

9152 
rs
->
çuÉšg_š¡r
 = 
FALSE
;

9154 #ifdeà
PWR_WAKE


9155 
rs
->
couÁed_œ—dy
 = 0;

9156 
rs
->
couÁed_ä—dy
 = 0;

9157 
rs
->
couÁed_lsq»ady
 = 0;

9160 
rs
->
ä“d
 = 0;

9161 
rs
->
v®_¿
 = val_ra;

9162 
rs
->
v®_rb
 = val_rb;

9163 
rs
->
v®_rc
 = val_rc;

9164 
rs
->
v®_¿_»suÉ
 = val_ra_result;

9165 
rs
->
wh’_»ady
[0] = 
WAIT_TIME
;

9166 
rs
->
wh’_»ady
[1] = 
WAIT_TIME
;

9167 
rs
->
wh’_»ady
[2] = 
WAIT_TIME
;

9168 
rs
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

9169 
rs
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

9170 
rs
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

9171 
rs
->
id•_Çme
[0] = 0;

9172 
rs
->
id•_Çme
[1] = 0;

9173 
rs
->
id•_Çme
[2] = 0;

9174 
rs
->
isL1Miss
 = 0;

9176 
rs
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

9177 
rs
->
outReg
 = 
out1
;

9179 
rs
->
´evReg
 = 
‹mpReg
;

9181 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& !
£cÚd_run
)

9182 
rs
->
İ
 = 
MD_AGEN_OP
;

9185 ià((
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
è&& 
£cÚd_run
)

9187 
lsq
 = &
cu¼’t
->
LSQ
[cu¼’t->
LSQ_
];

9188 #ifdeà
HOTLEAKAGE


9189 
lsq
->
¦
 = 
sim_cyşe
 - 1;

9191 
rs
->
İ
 = 
MD_AGEN_OP
;

9192 
rs
->
—_comp
 = 
TRUE
;

9197 
lsq
->
sqStÜeFÜw¬dT
 = -1;

9201 
lsq
->
ushFÏg
 = 
ushLdFÏg
;

9204 
lsq
->
th»adid
 =hreadid;

9205 
lsq
->
IR
 = 
š¡
;

9206 
lsq
->
İ
 = op;

9207 
lsq
->
š¡num
 = 
š¡£qnum
;

9208 
lsq
->
isSyncIn¡
 = (lsq->
İ
 =ğ
LDL_L
 ||†sq->İ =ğ
STL_C
);

9209 
lsq
->
isSyncIn¡B¬
 = (
cŞËù_b¬r›r_¡©s
[
th»adid
]);

9210 
lsq
->
isSyncIn¡B¬R–
 = (
cŞËù_b¬r›r_»Ëa£
 && 
	`isB¬R–In¡
(
cu¼’t
->
»gs
.
»gs_PC
));

9211 
lsq
->
STL_C_ç
 = 0;

9213 
lsq
->
PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

9214 
lsq
->
Ãxt_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

9215 
lsq
->
´ed_PC
 = 
cu¼’t
->pred_PC;

9216 
lsq
->
š_LSQ
 = 
TRUE
;

9217 
lsq
->
—_comp
 = 
FALSE
;

9218 
lsq
->
š_qwa™
 = 0;

9219 
lsq
->
di¡issue
 = 0;

9220 
lsq
->
ä“d
 = 0;

9221 
lsq
->
abªk
 = -1;

9222 
lsq
->
pbªk
 = -1;

9224 
lsq
->
»cov”_š¡
 = 
FALSE
;

9225 
lsq
->
dœ_upd©e
.
pdœ1
 =†sq->dœ_upd©e.
pdœ2
 = 
NULL
;

9226 
lsq
->
dœ_upd©e
.
pm‘a
 = 
NULL
;

9227 
lsq
->
¡ack_»cov”_idx
 = 0;

9228 
lsq
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

9229 
lsq
->
ãtch_time
 = fetch_time;

9230 
lsq
->
di¥_time
 = 
sim_cyşe
;

9231 
lsq
->
fšish_time
 = 0;

9232 
lsq
->
ÿche_»ady
 = 0;

9233 
lsq
->
issue_time
 = 0;

9234 
lsq
->
couÁed_iissueq
 = 0;

9235 
lsq
->
couÁed_fissueq
 = 0;

9236 
lsq
->
miss_æag
 = 0;

9238 
lsq
->
šv®id©iÚReûived
 = 0;

9239 #ifdeà
PWR_WAKE


9240 
lsq
->
couÁed_œ—dy
 = 0;

9241 
lsq
->
couÁed_ä—dy
 = 0;

9242 
lsq
->
couÁed_lsq»ady
 = 0;

9244 
mm
 = 0; mm < 
CLUSTERS
; mm++)

9246 
lsq
->
¡_»ach
[
mm
] = 0;

9249 
lsq
->
backupReg
 = 
‹mpRegP»v
;

9250 
lsq
->
addr
 =‡ddr;

9251 
rs
->
addr
 =‡ddr;

9253 
rs
->
abªk
 = 
lsq
->abank;

9254 ià(!
BANKPRED
)

9256 
rs
->
pbªk
 =„s->
abªk
;

9257 
lsq
->
pbªk
 =†sq->
abªk
;

9259 
rs
->
abªk
 =„s->abªk % 
CLUSTERS
;

9260 
lsq
->
abªk
 = 
rs
->abank;

9261 
rs
->
pbªk
 =„s->pbªk % 
CLUSTERS
;

9262 
lsq
->
pbªk
 = 
rs
->pbank;

9263 ià(!
lsq
->
¥ec_mode


9266 ià(
lsq
->
abªk
 =ğlsq->
pbªk
)

9267 
ac_bªk_´ed_cÜr
++;

9269 
ac_bªk_´ed_wrÚg
++;

9271 
lsq
->
£q
 = ++(
cu¼’t
->
š¡_£q
);

9272 
lsq
->
±¿û_£q
 =…trace_seq++;

9273 
lsq
->
v®_¿
 = val_ra;

9274 
lsq
->
v®_rb
 = val_rb;

9275 
lsq
->
v®_rc
 = val_rc;

9276 
lsq
->
v®_¿_»suÉ
 = val_ra_result;

9277 
	`±¿û_Ãwuİ
 (
lsq
->
±¿û_£q
, "š‹º®†d/¡",†sq->
PC
, 0);

9278 
	`±¿û_Ãw¡age
 (
lsq
->
±¿û_£q
, 
PST_DISPATCH
, 0);

9279 
lsq
->
queued
 =†sq->
issued
 =†sq->
com¶‘ed
 = 
FALSE
;

9281 
lsq
->
wh’_»ady
[0] = 
WAIT_TIME
;

9282 
lsq
->
wh’_»ady
[1] = 
WAIT_TIME
;

9283 
lsq
->
wh’_»ady
[2] = 
WAIT_TIME
;

9284 
lsq
->
wh’_id•_»ady
[0] = 
WAIT_TIME
;

9285 
lsq
->
wh’_id•_»ady
[1] = 
WAIT_TIME
;

9286 
lsq
->
wh’_id•_»ady
[2] = 
WAIT_TIME
;

9287 
lsq
->
id•_Çme
[0] = 0;

9288 
lsq
->
id•_Çme
[1] = 0;

9289 
lsq
->
id•_Çme
[2] = 0;

9292 
lsq
->
sim_num_š¢
 = 
cu¼’t
->sim_num_insn;

9293 
lsq
->
outReg
 = 
out1
;

9296 
lsq
->
robEÁry
 = 
rs
->
šdex
;

9297 
rs
->
lsqEÁry
 = 
lsq
->
šdex
;

9298 
lsq
->
isP»ãtch
 = 0;

9299 
lsq
->
isL1Miss
 = 0;

9301 
rs
->
»g
[0] = 0;

9302 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

9303 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

9305 
rs
->
şu¡”
 = 
lsq
->şu¡” = 
th»adid
;

9306 
cu¼’t
->
iissueq_thrd
++;

9307 
iissueq
++;

9308 
iissueq_ş
[
rs
->
th»adid
]++;

9310 #ifdeà 
PWR_CLUSTER


9311 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

9314 
lsq
->
couÁed_iissueq
 = 1;

9316 
lsq
->
pbªk
 =†sq->
şu¡”
;

9317 
rs
->
pbªk
 =„s->
şu¡”
;

9319 
rs
->
wh’_šq
 = 
sim_cyşe
;

9320 
lsq
->
wh’_šq
 = 
rs
->when_inq;

9322 
lsq
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

9323 
lsq
->
»g
[1] = 0;

9324 
lsq
->
»g
[2] = 0;

9326 
lsq
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

9327 
lsq
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

9332 
	`ruu_lšk_id•
 (
rs
, 0, 
NA
);

9333 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

9334 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

9336 
	`ruu_š¡®l_od•
 (
rs
, 0, 
DTMP
);

9337 
	`ruu_š¡®l_od•
 (
rs
, 1, 
NA
);

9339 
rs
->
out1
 = 
DTMP
;

9340 
rs
->
İ»g
 = 0;

9341 
rs
->
Şd´eg
 = 0;

9343 
	`ruu_lšk_id•
 (
lsq
, 
STORE_OP_INDEX
, 
š1
);

9344 
	`ruu_lšk_id•
 (
lsq
, 
STORE_ADDR_INDEX
, 
DTMP
);

9345 
	`ruu_lšk_id•
 (
lsq
, 2, 
NA
);

9347 
	`ruu_š¡®l_od•
 (
lsq
, 0, 
out1
);

9348 
	`ruu_š¡®l_od•
 (
lsq
, 1, 
out2
);

9349 
lsq
->
out1
 = out1;

9351 
n_di¥©ched
++;

9353 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

9354 
cu¼’t
->
RUU_num
++;

9355 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 1è% 
LSQ_size
;

9356 
cu¼’t
->
LSQ_num
++;

9358 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

9361 ià(
out1
 != 0 && out1 != 63)

9362 
cu¼’t
->
m_shLQNum
++;

9364 
lsq
->
isP»ãtch
 = 1;

9367 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

9369 
cu¼’t
->
m_shSQNum
++;

9372 
lsq_acûss
++;

9373 
cu¼’t
->
lsq_acûss
++;

9374 
lsq_´eg_acûss
++;

9375 
cu¼’t
->
lsq_´eg_acûss
++;

9379 if(!
ruu_šÜd”_issue
)

9381 
rob2_acûss
++;

9382 
cu¼’t
->
rob2_acûss
++;

9385 ià(
	`OPERANDS_READY
 (
rs
))

9387 
n_»ady
++;

9388 
	`»adyq_’queue
 (
rs
);

9390 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
lsq
);

9392 ià(((
	`MD_OP_FLAGS
 (
İ
è& (
F_MEM
 | 
F_STORE
)è=ğ(F_MEM | F_STORE)è&& 
	`OPERANDS_READY
 (
lsq
))

9394 
lsq_¡Üe_d©a_acûss
++;

9395 
	`»adyq_’queue
 (
lsq
);

9398 ià(
İ
 =ğ
STL_C
 || o°=ğ
LDL_L
)

9407 
rs
->
»g
[0] = 
cu¼’t
->
Éİm­
[
š1
];

9408 
rs
->
»g
[1] = 
cu¼’t
->
Éİm­
[
š2
];

9409 
rs
->
»g
[2] = 
cu¼’t
->
Éİm­
[
š3
];

9411 
rs
->
Şd´eg
 = 
cu¼’t
->
Éİm­
[
out1
];

9412 
rs
->
İ»g
 = 
	`g‘_ä“_»g
 (
out1
, 
th»adid
);

9413 
rs
->
out1
 = out1;

9415 
rs
->
şu¡”
 =„s->
th»adid
;

9417 ià((
	`MD_OP_FUCLASS
 (
İ
) > 3) && (MD_OP_FUCLASS (op) < 10))

9419 
cu¼’t
->
fissueq_thrd
++;

9420 
fissueq
++;

9421 
fissueq_ş
[
rs
->
th»adid
]++;

9422 #ifdeà 
PWR_CLUSTER


9423 
fq¿m_acûss_ş
[
rs
->
şu¡”
]++;

9425 
rs
->
couÁed_fissueq
 = 1;

9426 
fq¿m_acûss
++;

9427 
cu¼’t
->
fq¿m_acûss
++;

9431 
cu¼’t
->
iissueq_thrd
++;

9432 
iissueq
++;

9433 
iissueq_ş
[
rs
->
th»adid
]++;

9434 #ifdeà 
PWR_CLUSTER


9435 
iq¿m_acûss_ş
[
rs
->
şu¡”
]++;

9437 
rs
->
couÁed_iissueq
 = 1;

9438 
iq¿m_acûss
++;

9439 
cu¼’t
->
iq¿m_acûss
++;

9442 
rs
->
wh’_šq
 = 
sim_cyşe
;

9444 ià(!
£cÚd_run
)

9446 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

9447 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

9448 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

9449 ià(
out1
)

9451 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
out1
);

9452 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
out2
);

9453 
rs
->
out1
 = out1;

9457 
	`ruu_š¡®l_od•_sk
 (
rs
, 0, 
DTMP
);

9458 
	`ruu_š¡®l_od•_sk
 (
rs
, 1, 
NA
);

9459 
rs
->
out1
 = 
DTMP
;

9464 
	`ruu_lšk_id•
 (
rs
, 0, 
š1
);

9465 
	`ruu_lšk_id•
 (
rs
, 1, 
š2
);

9466 
	`ruu_lšk_id•
 (
rs
, 2, 
š3
);

9468 
	`ruu_š¡®l_od•
 (
rs
, 0, 
out1
);

9469 
	`ruu_š¡®l_od•
 (
rs
, 1, 
out2
);

9470 
rs
->
out1
 = out1;

9474 
n_di¥©ched
++;

9476 
cu¼’t
->
RUU_
 = (cu¼’t->RUU_ + 1è% 
RUU_size
;

9477 
cu¼’t
->
RUU_num
++;

9478 if(!
ruu_šÜd”_issue
)

9480 
rob2_acûss
++;

9481 
cu¼’t
->
rob2_acûss
++;

9485 ià(
	`OPERANDS_READY
 (
rs
))

9487 
n_»ady
++;

9488 
	`»adyq_’queue
 (
rs
);

9489 
cu¼’t
->
Ï¡_İ
 = 
RSLINK_NULL
;

9493 
	`RSLINK_INIT
 (
cu¼’t
->
Ï¡_İ
, 
rs
);

9500 
rs
 = 
NULL
;

9504 
sim_tÙ®_š¢
++;

9505 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9506 
sim_tÙ®_b¿nches
++;

9507 ià(!
cu¼’t
->
¥ec_mode
 && 
£cÚd_run
)

9511 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9513 
sim_num_b¿nches
++;

9515 ià(!(
rs
->
du¶iÿ‹
))

9517 
cu¼’t
->
b´ed_acûss
++;

9518 
b´ed_acûss
++;

9521 ià(
cu¼’t
->
´ed
 && 
b´ed_¥ec_upd©e
 =ğ
¥ec_ID
)

9523 
	`b´ed_upd©e
 (
cu¼’t
->
´ed
,

9524  
cu¼’t
->
»gs
.
»gs_PC
,

9525  
cu¼’t
->
»gs
.
»gs_NPC
,

9526  
cu¼’t
->
»gs
.
»gs_NPC
 !ğ(cu¼’t->»gs.
»gs_PC
 +

9527  (
md_š¡_t
)),

9528  
cu¼’t
->
´ed_PC
 !ğ(cu¼’t->
»gs
.
»gs_PC
 +

9529  (
md_š¡_t
)),

9530  
cu¼’t
->
´ed_PC
 =ğcu¼’t->
»gs
.
»gs_NPC
,

9531  
İ
,

9532  &
rs
->
dœ_upd©e
,

9533 
rs
->
th»adid
, (
b´ed_btb_u£_ma¡”id
 ? 
thecÚ‹xts
[rs->th»adid]->
ma¡”id
 :„s->threadid));

9536 ià(
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
 && !cu¼’t->
ãtch_»dœeùed
)

9538 
cu¼’t
->
¥ec_mode
 = 
TRUE
;

9539 
rs
->
»cov”_š¡
 = 
TRUE
;

9540 
cu¼’t
->
»cov”_PC
 = cu¼’t->
»gs
.
»gs_NPC
;

9541 
	`cİy_to
 (
th»adid
);

9546 
	`±¿û_Ãw¡age
 (
p£q
, 
PST_DISPATCH
, (
cu¼’t
->
´ed_PC
 !ğcu¼’t->
»gs
.
»gs_NPC
è? 
PEV_MPOCCURED
 : 0);

9547 ià(
İ
 =ğ
MD_NOP_OP
)

9549 
	`±¿û_’dš¡
 (
p£q
);

9552 
i
 = 0; i < 
pc¡©_ÃÉ
; i++)

9554 
couÁ”_t
 
Ãwv®
;

9555 
d–
;

9558 
Ãwv®
 = 
	`STATVAL
 (
pc¡©_¡©s
[
i
]);

9559 
d–
 = 
Ãwv®
 - 
pc¡©_Ï¡v®s
[
i
];

9560 ià(
d–
 != 0)

9562 
	`¡©_add_§m¶es
 (
pc¡©_sdi¡s
[
i
], 
cu¼’t
->
»gs
.
»gs_PC
, 
d–
);

9563 
pc¡©_Ï¡v®s
[
i
] = 
Ãwv®
;

9567 
cu¼’t
->
ãtch_h—d
 = (cu¼’t->ãtch_h—d + 1è& (
ruu_ifq_size
 - 1);

9568 
cu¼’t
->
ãtch_num
--;

9569 
‹mp_ãtch_num
--;

9572 ià(!
made_check
)

9574 ià(
	`dl™e_check_b»ak
 (0, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, 
sim_cyşe
))

9575 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

9580 
¡®lCau£
[
th»adid
] = 
SÎF‘chEm±y
;

9581 ià(!
n_di¥©ched
)

9583 
m_tÙ®SÎ
[
th»adid
]++;

9584 if(
¡®lCau£
[
th»adid
])

9586 
¡®lCau£
[
th»adid
])

9588 
SÎRegFuÎ
 :

9589 
m_»gFuÎ
[
th»adid
]++;

9591 
SÎIssueFuÎ
 :

9592 
m_issueFuÎ
[
th»adid
]++;

9594 
SÎF‘chEm±y
 :

9595 if(
thecÚ‹xts
[
th»adid
]->
ruu_ãtch_issue_d–ay
)

9596 
m_1Miss
[
th»adid
]++;

9598 
m_ãtchEm±y
[
th»adid
]++;

9600 
SÎSTLC
 :

9601 
m_STLC
[
th»adid
]++;

9603 
SÎT¿p
 :

9604 
m_Œ­
[
th»adid
]++;

9606  : 
	`·nic
("No stall cause found");

9609 ià(
cu¼’t
->
m_shLQNum
 =ğ
m_shLQSize
)

9611 
¡®lCau£
[
th»adid
] = 
SÎLQFuÎ
;

9612 
m_sqLQFuÎ
[
th»adid
]++;

9613 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9614 
m_LßdR—lMiss
[
th»adid
]++;

9616 
m_LßdR—lH™
[
th»adid
]++;

9618 ià(
m_shSQSize
 =ğ(
cu¼’t
->
m_shSQNum
+
m_L1WBufCÁ
[
th»adid
]))

9620 
¡®lCau£
[
th»adid
] = 
SÎSQFuÎ
;

9621 
m_sqSQFuÎ
[
th»adid
]++;

9622 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9623 
m_StÜeR—lMiss
[
th»adid
]++;

9625 
m_StÜeR—lH™
[
th»adid
]++;

9627 if(
cu¼’t
->
RUU_num
 =ğ
RUU_size
)

9629 
¡®lCau£
[
th»adid
] = 
SÎRUUFuÎ
;

9630 
m_RUUFuÎ
[
th»adid
]++;

9633 if((
¡®lCau£
[
th»adid
] =ğ
SÎRUUFuÎ
 || sÎCau£[th»adid] =ğ
SÎLQFuÎ
 || sÎCau£[th»adid] =ğ
SÎSQFuÎ
 || sÎCau£[th»adid] =ğ
SÎRegFuÎ
 || sÎCau£[th»adid] =ğ
SÎIssueFuÎ
 || sÎCau£[th»adid] =ğ
SÎSTLC
 || sÎCau£[th»adid] =ğ
SÎT¿p
))

9635 if(
cu¼’t
->
LSQ_num
)

9637 if(
	`MD_OP_FLAGS
(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
İ
è& 
F_LOAD
)

9639 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9640 
m_LßdSÎMiss
[
th»adid
]++;

9642 
m_LßdSÎH™
[
th»adid
]++;

9643 
m_LßdMiss
[
th»adid
]++;

9647 
m_StÜeMiss
[
th»adid
]++;

9648 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9649 
m_StÜeSÎMiss
[
th»adid
]++;

9651 
m_StÜeSÎH™
[
th»adid
]++;

9652 if(
m_upd©e_miss
[
th»adid
])

9653 
m_StÜeUpd©eMiss
[
th»adid
]++;

9654 if(
m_upd©e_miss
[
th»adid
] && !
m_upd©e_miss_æag
[threadid])

9656 
m_upd©e_miss_æag
[
th»adid
] = 1;

9657 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 
sim_cyşe
;

9661 if(
	`MD_OP_FLAGS
(
cu¼’t
->
RUU
[cu¼’t->
RUU_h—d
].
İ
è& 
F_FENCE
)

9663 
m_StÜeMiss
[
th»adid
]++;

9664 if(
cu¼’t
->
LSQ
[cu¼’t->
LSQ_h—d
].
miss_æag
)

9665 
m_StÜeSÎMiss
[
th»adid
]++;

9667 
m_StÜeSÎH™
[
th»adid
]++;

9668 if(
m_upd©e_miss
[
th»adid
])

9669 
m_StÜeUpd©eMiss
[
th»adid
]++;

9670 if(
m_upd©e_miss
[
th»adid
] && !
m_upd©e_miss_æag
[threadid])

9672 
m_upd©e_miss_æag
[
th»adid
] = 1;

9673 
m_upd©e_miss_d•’d_¡¬t
[
th»adid
] = 
sim_cyşe
;

9678  
n_di¥©ched
;

9679 
	}
}

9687 
	$ãtch_š™
 (
th»adid
)

9690 
i
 = 0;

9691 
cÚ‹xt
 *
cu¼’t
;

9693 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9695 
i
 = 0; i < 
ruu_ifq_size
; i++)

9697 
cu¼’t
->
ãtch_d©a
[
i
] = (
ãtch_»c
 *è
	`ÿÎoc
 (1,  (fetch_rec));

9698 ià(!
cu¼’t
->
ãtch_d©a
[
i
])

9699 
	`çl
 ("out of virtual memory");

9700 
cu¼’t
->
ãtch_d©a
[
i
]->
šdex
 = i;

9701 
cu¼’t
->
ãtch_d©a
[
i
]->
th»adid
 =hreadid;

9703 
cu¼’t
->
ãtch_num
 = 0;

9704 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

9705 
IFQ_couÁ
 = 0;

9706 
IFQ_fcouÁ
 = 0;

9708 
	}
}

9710 
	gÏ¡_š¡_mis£d
 = 
FALSE
;

9711 
	gÏ¡_š¡_tmis£d
 = 
FALSE
;

9717 
	$ruu_ãtch
 ()

9719 
i
 = 0, 
j
 = 0, 
k
 = 0, 
Ït
, 
b_Ït
, 
dÚe
 = 
FALSE
;

9720 
md_š¡_t
 
š¡
;

9721 
¡ack_»cov”_idx
;

9722 
b¿nch_út
, 
¿y_muÉ
;

9723 
md_addr_t
 
ãtch_£t
 = 0, 
š¡_£t
;

9724 
šdex
;

9725 
md_İcode
 
İ
;

9727 
th»adid
, 
tID
 = 0;

9728 
cÚ‹xt
 *
cu¼’t
 = 0;

9729 
th»adsãtched
 = 0;

9730 
‹mp
;

9732 ià(
di§bË_¿y
)

9733 
¿y_muÉ
 = 1;

9735 
¿y_muÉ
 = 2;

9738 
tID
 < 
numcÚ‹xts
)

9740 
cu¼’t
 = 
thecÚ‹xts
[
tID
];

9741 
tID
++;

9743 
th»adid
 = 
cu¼’t
->
id
;

9745 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 2)

9746 
cu¼’t
->
wa™_fÜ_ãtch
 = 1;

9747 
ãtch_dÚe
[
th»adid
] = 0;

9749 
j
 = 0, 
dÚe
 = 
FALSE
, 
b¿nch_út
 = 0;

9750 (
cu¼’t
->
ãtch_num
 < 
ruu_ifq_size
-1)

9751 && !
dÚe
 && !
cu¼’t
->
ruu_ãtch_issue_d–ay
 && cu¼’t->
ruÂšg
 && 
j
 < (
ruu_decode_width
 * 
ãtch_¥“d
è&& cu¼’t->
aùive_this_cyşe
 ; 
i
++, j++)

9753 ià(!
j
)

9755 
iÿche_acûss
++;

9756 
cu¼’t
->
iÿche_acûss
++;

9760 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
ãtch_´ed_PC
;

9763 ià(
cu¼’t
->
ld_‹xt_ba£
 <ğcu¼’t->
ãtch_»gs_PC
 && cu¼’t->ãtch_»gs_PC < (cu¼’t->ld_‹xt_ba£ + cu¼’t->
ld_‹xt_size
è&& !(cu¼’t->ãtch_»gs_PC & ( (
md_š¡_t
) - 1)))

9767 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
ãtch_»gs_PC
);

9777 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9779 
Ït
 = 
ÿche_1_Ït
;

9782 ià(!
j
)

9783 
ãtch_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9784 
š¡_£t
 = 
	`CACHE_SET
 (
ÿche_1
[
th»adid
], 
cu¼’t
->
ãtch_»gs_PC
);

9785 ià(
ãtch_£t
 !ğ
š¡_£t
)

9788 #ifdeà 
FIX2_BUG


9789 ià(!
cu¼’t
->
wa™_fÜ_ãtch
)

9792 ià(
ÿche_1
[
th»adid
])

9796 
rsCacheAcûss
 = 
NULL
;

9797 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9798 
	`´štf
("debug 1\n");

9799 
Ït
 = 
	`ÿche_acûss
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9800 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9801 
NULL
, NULL, NULL,
th»adid
, NULL);

9802 ià(
Ït
 > (
ÿche_1_Ït
))

9803 
Ï¡_š¡_mis£d
 = 
TRUE
;

9806 ià(
™lb
[
th»adid
])

9808 if(
	`ISCOMPRESS
((
md_š¡_t
)) == 32)

9809 
	`´štf
("debug 2\n");

9810 
b_Ït
 = 
	`ÿche_acûss
(
™lb
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
),

9811 
NULL
, 
	`ISCOMPRESS
((
md_š¡_t
)), 
sim_cyşe
,

9812 
NULL
, NULL, NULL, 
th»adid
, NULL);

9814 ià(
b_Ït
 > 1)

9815 
Ï¡_š¡_tmis£d
 = 
TRUE
;

9817 
Ït
 = 
	`max2
 (
b_Ït
,†at);

9820 ià(
Ït
 !ğ(
ÿche_1_Ït
))

9822 
cu¼’t
->
ruu_ãtch_issue_d–ay
 +ğ(
Ït
 - 1);

9823 #ifdeà 
FIX2_BUG


9824 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9829 #ifdeà 
FIX2_BUG


9835 
š¡
 = 
MD_NOP_INST
;

9838 ià(
cu¼’t
->
´ed
)

9840 
b¿nchIn¡
 *
b¿nchInfo
 = 
NULL
;

9841 
md_İcode
 
İ
;

9844 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

9849 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_CTRL
)

9851 
md_addr_t
 
brg‘
;

9853 ià((
	`MD_OP_FLAGS
 (
İ
è& (
F_CTRL
 | 
F_UNCOND
 | 
F_INDIRJMP
)) == (F_CTRL | F_UNCOND | F_INDIRJMP))

9854 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * (
š¡
 & 0x00003fff);

9856 
brg‘
 = 
cu¼’t
->
ãtch_»gs_PC
 + 4 + 4 * 
	`SEXT21
 (
š¡
 & 0x001fffff);

9858 
cu¼’t
->
ãtch_´ed_PC
 = 
	`b´ed_lookup
 (cu¼’t->
´ed
,

9859  
cu¼’t
->
ãtch_»gs_PC
,

9861  
İ
,

9862  
	`MD_IS_CALL
 (
İ
),

9863  
	`MD_IS_RETURN
 (
İ
),

9864  &(
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
dœ_upd©e
),

9865  &
¡ack_»cov”_idx
,

9866  
cu¼’t
->
id
,

9867  (
b´ed_btb_u£_ma¡”id
 ? 
cu¼’t
->
ma¡”id
 : cu¼’t->
id
));

9870 
cu¼’t
->
ãtch_´ed_PC
 = 0;

9873 ià(!
cu¼’t
->
ãtch_´ed_PC
)

9875 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9877 ià(
cu¼’t
->
ãtch_´ed_PC
 !ğcu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
))

9880 
b¿nch_út
++;

9881 ià(
b¿nch_út
 >ğ
ãtch_¥“d
)

9882 
dÚe
 = 
TRUE
;

9887 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 +  (
md_š¡_t
);

9890 
cu¼’t
->
ãtch_tÙ®_š¢
++;

9891 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
th»adid
 =hreadid;

9892 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
IR
 = 
š¡
;

9893 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
»gs_PC
 = cu¼’t->
ãtch_»gs_PC
;

9894 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
´ed_PC
 = cu¼’t->
ãtch_´ed_PC
;

9895 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
¡ack_»cov”_idx
 = stack_recover_idx;

9896 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
 =…trace_seq++;

9897 
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
ãtch_time
 = (è
sim_cyşe
;

9899 
	`±¿û_Ãwš¡
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
š¡
, cu¼’t->ãtch_d©a[cu¼’t->ãtch_]->
»gs_PC
, 0);

9900 
	`±¿û_Ãw¡age
 (
cu¼’t
->
ãtch_d©a
[cu¼’t->
ãtch_
]->
±¿û_£q
, 
PST_IFETCH
, ((
Ï¡_š¡_mis£d
 ? 
PEV_CACHEMISS
 : 0è| (
Ï¡_š¡_tmis£d
 ? 
PEV_TLBMISS
 : 0)));

9902 
cu¼’t
->
ãtch_
 = (cu¼’t->ãtch_ + 1è& (
ruu_ifq_size
 - 1);

9903 
cu¼’t
->
ãtch_num
++;

9904 
ãtch_dÚe
[
th»adid
]++;

9907 #ifdeà 
FIX2_BUG


9909 ià(
cu¼’t
->
wa™_fÜ_ãtch
 == 1)

9911 ià(!
j
 && 
cu¼’t
->
ruu_ãtch_issue_d–ay
)

9912 
cu¼’t
->
wa™_fÜ_ãtch
 = 2;

9914 
cu¼’t
->
wa™_fÜ_ãtch
 = 0;

9918 
	}
}

9924 
	$simoo_m¡©e_obj
 (
FILE
 * 
¡»am
,

9925 *
cmd
,

9926 
»gs_t
 *
»gs
,

9927 
mem_t
 *
mem
)

9930 
th»adid
 = 
mem
->threadid;

9931 
cÚ‹xt
 *
cu¼’t
;

9933 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

9935 ià(!
cmd
 || !
	`¡rcmp
 (cmd, "help"))

9936 
	`årštf
 (
¡»am
,

9948 ià(!
	`¡rcmp
 (
cmd
, "stats"))

9951 
	`sim_´št_¡©s
 (
¡»am
);

9953 ià(!
	`¡rcmp
 (
cmd
, "res"))

9956 
	`»s_dump
 (
fu_poŞ
, 
¡»am
);

9958 ià(!
	`¡rcmp
 (
cmd
, "ruu"))

9961 
	`ruu_dump
 (
¡»am
, 
th»adid
);

9968 ià(!
	`¡rcmp
 (
cmd
, "eventq"))

9971 
	`ev’tq_dump
 (
¡»am
, 
th»adid
);

9973 ià(!
	`¡rcmp
 (
cmd
, "readyq"))

9976 
	`»adyq_dump
 (
¡»am
, 
th»adid
);

9978 ià(!
	`¡rcmp
 (
cmd
, "cv"))

9981 
	`cv_dump
 (
¡»am
, 
th»adid
);

9983 ià(!
	`¡rcmp
 (
cmd
, "rspec"))

9986 
	`r¥ec_dump
 (
¡»am
, 
th»adid
);

9988 ià(!
	`¡rcmp
 (
cmd
, "mspec"))

9991 
	`m¥ec_dump
 (
¡»am
, 
th»adid
);

10002  
NULL
;

10003 
	}
}

10005 
	#TAKE_STATS_PHASE
 1

	)

10006 
	#DRAIN_PIPELINE_PHASE
 2

	)

10007 
	#RECONFIGURE_PHASE
 3

	)

10008 
	#NORMAL_PHASE
 4

	)

10009 
	#PRIVTOSHARED
 5

	)

10010 
	#SHAREDTOPRIV
 6

	)

10011 
	#EXTRA_PHASE
 7

	)

10012 
	gchªgeCÚfig
 = 0;

10013 
	gcu¼’tPha£
 = 
NORMAL_PHASE
;

10018 
»g’”©e_ãtch_queue
 ();

10019 
cİy_ãtch_queue
 ();

10021 
»g’”©e_f_queue
 ();

10022 
cİy_f_queue
 ();

10023 
b¿nch_add»ss_cİy
 (
ma¡”id
, 
chunkExecu‹d
);

10028 
time_t
 
	g´št_time
, 
	gnow_time
;

10029 
ruu_»Ëa£_wr™ebufãr
 ();

10030 
ruu_wr™e_äom_Wr™ebufãr
 ();

10031 #ifdef 
COLLECT_STAT_STARTUP


10032 
f¡fwd_fšeAdju¡
 ();

10033 
f¡fwd_cŞËùSts
();

10036 
	$sim_maš
 ()

10038 
unPrštLim™
 = 1;

10039 
i
, 
j
, 
k
, 
l
;

10040 
‹mpş
, 
maxguy
, 
maxv®
, 
»f_mis
, 
»f_imis
, 
»f_br
, 
»f_»fs
, 
»f_cyc
, 
mm
, 
Â
;

10041 
gÙ_»f_pošt
 = 0;

10042 
mšguy
, 
mšv®
;

10043 
cyc_couÁ
 = 0;

10044 
num_picks
[
NUMPHASES
 + 1];

10045 
sim_–­£d_£c
;

10046 
di¥©ched
 = 0;

10048 
th»adid
 = 0, 
th»ad_¡İ
 = 0;

10049 
cÚ‹xt
 *
cu¼’t
;

10050 
kÏÎ
 = 0;

10051 
ãtch_blocked
 = 1;

10052 
út
;

10054 
FILE
 *
å
, *
å1
;

10055 
brNum
, 
ldNum
;

10057 #ifdeà
DO_COMPLETE_FASTFWD


10058 
out1
, 
out2
, 
š1
, 
š2
, 
š3
;

10059 
x
, 
loİ™”
;

10067 
	`sigÇl
 (
SIGFPE
, 
SIG_IGN
);

10070 
Çck_couÁ”
 = 0;

10071 
æ_couÁ”
 = 0;

10072 
¡Üe_cÚd™iÚ®_çed
 = 0;

10073 
L1_æ_couÁ”
 = 0;

10074 
e_to_m
 = 0;

10075 
f
;

10076 
f
=0;f<16;f++)

10077 
mem_pÜt_Ït
[
f
] = 0;

10078 
tÙ®ev’tcouÁnum
 = 0;

10079 
tÙ®Wr™eIndiÿ‹
 = 0;

10080 
tÙ®_exşusive_modif›d
 = 0;

10081 
tÙ®_exşusive_cÚf
 = 0;

10082 
tÙ®_exşusive_üoss
 = 0;

10083 
tÙ®SyncEv’t
 = 0;

10084 
tÙ®NÜm®Ev’t
 = 0;

10085 
tÙ®SyncWr™eup
 = 0;

10086 
tÙ®SyncWr™eM
 = 0;

10087 
tÙ®SyncR—dM
 = 0;

10088 
tÙ®mis¡imefÜSync
 = 0;

10089 
tÙ®mis¡imefÜNÜm®
 = 0;

10090 
tÙ®_L1_´eãtch
 = 0;

10091 
wr™e_back_—¾y
 = 0;

10092 
tÙ®_L1_fœ¡_´eãtch
 = 0;

10093 
tÙ®_L1_£c_´eãtch
 = 0;

10094 
tÙ®»qcouÁnum
 = 0;

10095 
tÙ®misscouÁnum
 = 0;

10096 
švŞve_4_hİs
 = 0;

10097 
švŞve_4_hİs_upg¿de
 = 0;

10098 
švŞve_4_hİs_miss
 = 0;

10099 
švŞve_2_hİs
 = 0;

10100 
švŞve_2_hİ_touch
 = 0;

10101 
švŞve_2_hİ_wb
 = 0;

10102 
švŞve_4_hİs_wm
 = 0;

10103 
tÙ®S¶™WM
 = 0;

10104 
tÙ®S¶™No
 = 0;

10105 
švŞve_2_hİs_wm
 = 0;

10106 
švŞve_2_hİs_upg¿de
 = 0;

10107 
švŞve_2_hİs_miss
 = 0;

10108 
d©a_sh¬ed_»ad
 = 0;

10109 
d©a_´iv©e_»ad
 = 0;

10110 
d©a_sh¬ed_wr™e
 = 0;

10111 
d©a_´iv©e_wr™e
 = 0;

10112 
tÙ®_®l_şo£
 = 0;

10113 
tÙ®_®l_®mo¡şo£
 = 0;

10114 
tÙ®_nÙ_®l_şo£
 = 0;

10115 
tÙ®_p_c_ev’ts
 = 0;

10116 
tÙ®_cÚsum”s
 = 0;

10117 
tÙ®_d©a_cÚsum”s
 = 0;

10118 
tÙ®_d©a_çr
 = 0;

10119 
tÙ®_d©a_©_cÜÃr
 = 0;

10120 
tÙ®_d©a_şo£
 = 0;

10121 
tÙ®_·ck‘s_š_ÃighbÜ
 = 0;

10122 
tÙ®_·ck‘s_©_cÜÃrs
 = 0;

10123 
av”age_outside_³rûÁ
 = 0;

10124 
av”age_outside_abs_³rûÁ
 = 0;

10125 
av”age_šside_³rûÁ
 = 0;

10126 
av”age_cÜÃr_³rûÁ
 = 0;

10128 
i
 = 0; i< 
numcÚ‹xts
; i++)

10129 
sh¬”_num
[
i
] = 0;

10131 #ià
PROCESS_MODEL


10132 
i
 = 0; i < 128; i++)

10134 
sh¬edAdd»ssLi¡
[
i
] = 
NULL
;

10136 
La¡Sh¬edAdd»ss
 = 0;

10137 
La¡Sh¬edSize
 = 0;

10140 
	`š™Clu¡”Info
 ();

10142 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

10143 
	`busIn™
 ();

10146 
âm
[256];

10147 
nm
[256];

10149 
	`¡rıy
 (
nm
, 
thecÚ‹xts
[0]->
âame
);

10151 
l
 = 0;† < 
MAXTHREADS
;†++)

10153 
numTh»ads
[
l
] = 
m_maxth»ads
;

10158 
n_lim™_thrd
[0] =‚_limit_thrd[1] =‚_limit_thrd[2] =‚_limit_thrd[3] = 1;

10162 
	`årštf
 (
¡d”r
, "Issueq siz - iÁ %d f°%d\n", 
IIQ_size
, 
FIQ_size
);

10163 #ifdeà
REG_RENAME_CONFIGUARE


10164 
	`årštf
 (
¡d”r
, "»ÇmP»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

10166 
	`årštf
 (
¡d”r
, "P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

10168 
	`årštf
 (
¡d”r
, "CLUSTERS %d\n", 
CLUSTERS
);

10169 
	`årštf
 (
¡d”r
, "ROWCOUNT %d\n", 
ROWCOUNT
);

10170 
	`årštf
 (
¡d”r
, "CENTRAL_CACHE %d\n", 
CENTRAL_CACHE
);

10171 
	`årštf
 (
¡d”r
, "CENTRALCACHELAT %d\n", 
CENTRALCACHELAT
);

10172 
	`årštf
 (
¡d”r
, "CACHELOC %d\n", 
CACHELOC
);

10173 
	`årštf
 (
¡d”r
, "PRED_BR_CHANGES %d\n", 
PRED_BR_CHANGES
);

10174 
	`årštf
 (
¡d”r
, "PRED_JR_CHANGES %d\n", 
PRED_JR_CHANGES
);

10175 
	`årštf
 (
¡d”r
, "DYNAMIC_CHANGE %d\n", 
DYNAMIC_CHANGE
);

10176 
	`årštf
 (
¡d”r
, "METRIC_CHANGE %d\n", 
METRIC_CHANGE
);

10177 
	`årštf
 (
¡d”r
, "LINEAR_PHASE %d\n", 
LINEAR_PHASE
);

10178 
	`årštf
 (
¡d”r
, "SMALLEST_CONFIG %d\n", 
SMALLEST_CONFIG
);

10179 
	`årštf
 (
¡d”r
, "GRID %d\n", 
GRID
);

10180 
	`årštf
 (
¡d”r
, "CACHEPORTS %d\n", 
CACHEPORTS
);

10181 
	`årštf
 (
¡d”r
, "RES_CACHEPORTS %d\n", 
RES_CACHEPORTS
);

10182 
	`årštf
 (
¡d”r
, "READY_COMM %d\n", 
READY_COMM
);

10183 
	`årštf
 (
¡d”r
, "HOLY_REGS %d\n", 
HOLY_REGS
);

10184 
	`årštf
 (
¡d”r
, "NUM_H_REGS %d\n", 
NUM_H_REGS
);

10185 
	`årštf
 (
¡d”r
, "COPY_THRESH %d\n", 
COPY_THRESH
);

10186 
	`årštf
 (
¡d”r
, "FIRST_FIT %d\n", 
FIRST_FIT
);

10187 
	`årštf
 (
¡d”r
, "FIRST_FIT_ENFORCE %d\n", 
FIRST_FIT_ENFORCE
);

10188 
	`årštf
 (
¡d”r
, "FIRST_VAL %d\n", 
FIRST_VAL
);

10189 
	`årštf
 (
¡d”r
, "STEER_ENFORCE %d\n", 
STEER_ENFORCE
);

10190 
	`årštf
 (
¡d”r
, "MOD_N %d\n", 
MOD_N
);

10191 
	`årštf
 (
¡d”r
, "MOD_N_N %d\n", 
MOD_N_N
);

10192 
	`årštf
 (
¡d”r
, "FIRST_MOD %d\n", 
FIRST_MOD
);

10193 
	`årštf
 (
¡d”r
, "GROUPSIZE %d\n", 
GROUPSIZE
);

10194 
	`årštf
 (
¡d”r
, "MOD_N_T %d\n", 
MOD_N_T
);

10195 
	`årštf
 (
¡d”r
, "ANYWILLDO %d\n", 
ANYWILLDO
);

10196 
	`årštf
 (
¡d”r
, "NEIGHBOR_SEEK %d\n", 
NEIGHBOR_SEEK
);

10197 
	`årštf
 (
¡d”r
, "PICKMIDDLE %d\n", 
PICKMIDDLE
);

10198 
	`årštf
 (
¡d”r
, "MIDTHRESH %d\n", 
MIDTHRESH
);

10199 
	`årštf
 (
¡d”r
, "HOPTIME %d\n", 
HOPTIME
);

10200 
	`årštf
 (
¡d”r
, "COMM_LATENCY %d\n", 
COMM_LATENCY
);

10201 #iâdeà
CONFIG_BASED_ICS


10202 
	`årštf
 (
¡d”r
, "FE_LAT %d\n", 
FE_LAT
);

10204 
	`årštf
 (
¡d”r
, "CACHE_REFILL_LAT %d\n", 
CACHE_REFILL_LAT
);

10205 
	`årštf
 (
¡d”r
, "MPRED_COMM_LAT %d\n", 
MPRED_COMM_LAT
);

10206 
	`årštf
 (
¡d”r
, "LD_PROXIMITY %d\n", 
LD_PROXIMITY
);

10207 
	`årštf
 (
¡d”r
, "LDPROX_FACTOR %d\n", 
LDPROX_FACTOR
);

10208 
	`årštf
 (
¡d”r
, "STEER_2NONREADY %d\n", 
STEER_2NONREADY
);

10209 
	`årštf
 (
¡d”r
, "STEER_CRITICAL %d\n", 
STEER_CRITICAL
);

10210 
	`årštf
 (
¡d”r
, "ILOAD_MIN %d\n", 
ILOAD_MIN
);

10211 
	`årštf
 (
¡d”r
, "IFACTOR %d\n", 
IFACTOR
);

10212 
	`årštf
 (
¡d”r
, "RLOAD_MIN %d\n", 
RLOAD_MIN
);

10213 
	`årštf
 (
¡d”r
, "RFACTOR %d\n", 
RFACTOR
);

10214 
	`årštf
 (
¡d”r
, "DEP_FACTOR %d\n", 
DEP_FACTOR
);

10215 
	`årštf
 (
¡d”r
, "LD_FACTOR %d\n", 
LD_FACTOR
);

10216 
	`årštf
 (
¡d”r
, "IQBUF %d\n", 
IQBUF
);

10217 
	`årštf
 (
¡d”r
, "REGFREE %d\n", 
REGFREE
);

10218 
	`årštf
 (
¡d”r
, "FREE_CURR_REGS %d\n", 
FREE_CURR_REGS
);

10219 
	`årštf
 (
¡d”r
, "FREE_INTERVAL %d\n", 
FREE_INTERVAL
);

10220 
	`årštf
 (
¡d”r
, "DISPDELAY %d\n", 
DISPDELAY
);

10221 
	`årštf
 (
¡d”r
, "RING_BW %d\n", 
RING_BW
);

10222 
	`årštf
 (
¡d”r
, "TIMEWINDOW %d\n", 
TIMEWINDOW
);

10223 
	`årštf
 (
¡d”r
, "ST_ADDR_COMM %d\n", 
ST_ADDR_COMM
);

10224 
	`årštf
 (
¡d”r
, "ST_RING_BW %d\n", 
ST_RING_BW
);

10225 
	`årštf
 (
¡d”r
, "RING_IC %d\n", 
RING_IC
);

10226 
	`årštf
 (
¡d”r
, "IGNORE_COMM_LATENCY %d\n", 
IGNORE_COMM_LATENCY
);

10227 
	`årštf
 (
¡d”r
, "TOL_COUNT %d\n", 
TOL_COUNT
);

10228 
	`årštf
 (
¡d”r
, "STOREDELAY %d\n", 
STOREDELAY
);

10229 
	`årštf
 (
¡d”r
, "BANKPRED %d\n", 
BANKPRED
);

10230 
	`årštf
 (
¡d”r
, "BANKMISPREDLAT %d\n", 
BANKMISPREDLAT
);

10231 
	`årštf
 (
¡d”r
, "BANKP_SPEC %d\n", 
BANKP_SPEC
);

10232 
	`årštf
 (
¡d”r
, "LEV1SIZE %d\n", 
LEV1SIZE
);

10233 
	`årštf
 (
¡d”r
, "LEV2SIZE %d\n", 
LEV2SIZE
);

10234 
	`årštf
 (
¡d”r
, "XORSIZE %d\n", 
XORSIZE
);

10235 
	`årštf
 (
¡d”r
, "WORD_INTERLEAVED %d\n", 
WORD_INTERLEAVED
);

10236 
	`årštf
 (
¡d”r
, "WORDSIZE %d\n", 
WORDSIZE
);

10237 
	`årštf
 (
¡d”r
, "SORT %d\n", 
SORT
);

10238 
	`årštf
 (
¡d”r
, "NUMPHASES %d\n", 
NUMPHASES
);

10239 
	`årštf
 (
¡d”r
, "MIN_INSN_INT %d\n", 
MIN_INSN_INT
);

10240 
	`årštf
 (
¡d”r
, "STOP_EXPL_THRESH %d\n", 
STOP_EXPL_THRESH
);

10241 
	`årštf
 (
¡d”r
, "ILPTAGCHECK %d\n", 
ILPTAGCHECK
);

10242 
	`årštf
 (
¡d”r
, "DISTILP %d\n", 
DISTILP
);

10243 
	`årštf
 (
¡d”r
, "DISTILPTHRESH %d\n", 
DISTILPTHRESH
);

10244 
	`årštf
 (
¡d”r
, "SAMPLETHRESH %d\n", 
SAMPLETHRESH
);

10245 
	`årštf
 (
¡d”r
, "BR_INT %d\n", 
BR_INT
);

10246 
	`årštf
 (
¡d”r
, "ITABLESIZE %d\n", 
ITABLESIZE
);

10247 
	`årštf
 (
¡d”r
, "OWINDOWSIZE %d\n", 
OWINDOWSIZE
);

10248 
	`årštf
 (
¡d”r
, "ILPCLEARINT %d\n", 
ILPCLEARINT
);

10249 
	`årštf
 (
¡d”r
, "STATPRINT %d\n", 
STATPRINT
);

10250 
	`årštf
 (
¡d”r
, "CYCNOISE %d\n", 
CYCNOISE
);

10251 
	`årštf
 (
¡d”r
, "NUMCYCTHRESH %d\n", 
NUMCYCTHRESH
);

10252 
	`årštf
 (
¡d”r
, "STATINT %d\n", 
STATINT
);

10253 
	`årštf
 (
¡d”r
, "FREE_REG_THRESH %d\n", 
FREE_REG_THRESH
);

10254 
	`årštf
 (
¡d”r
, "TABLE2SIZE %d\n", 
TABLE2SIZE
);

10255 
	`årštf
 (
¡d”r
, "TABLESIZE %d\n", 
TABLESIZE
);

10257 #ifdef 
COLLECT_STAT_STARTUP


10261 
thrdP”JobCÁ
 = 1;

10262 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10263 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

10264 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

10267 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

10268 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

10272 ià(!
cu¼’t
->
ç¡fwd_dÚe
)

10274 
couÁ”_t
 
icouÁ
;

10275 
md_š¡_t
 
š¡
;

10276 
md_İcode
 
İ
;

10277 
md_addr_t
 
rg‘_PC
;

10278 
md_addr_t
 
addr
;

10279 
is_wr™e
;

10280 
by‹_t
 
‹mp_by‹
;

10281 
h®f_t
 
‹mp_h®f
;

10282 
wÜd_t
 
‹mp_wÜd
;

10283 
æ_æag_0
;

10284 
æ_æag_0
 = 0;

10288 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

10289 
qwÜd_t
 
‹mp_qwÜd
 = 0;

10292 
md_çuÉ_ty³
 
çuÉ
;

10294 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

10296 !
cu¼’t
->
ç¡fwd_dÚe
)

10299 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

10300 #ifdeà
TARGET_ALPHA


10301 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

10305 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

10306 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

10310 
addr
 = 0;

10311 
is_wr™e
 = 
FALSE
;

10314 
çuÉ
 = 
md_çuÉ_nÚe
;

10317 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

10320 
İ
)

10322 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

10323 
OP
: \

10324 
	`SYMCAT
(
OP
,
_IMPL
); \

10326 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

10327 
OP
: \

10328 
	`·nic
("attemptedoƒxecute‡†inking opcode");

10329 
	#CONNECT
(
OP
)

	)

10330 #undeà
DECLARE_FAULT


10331 
	#DECLARE_FAULT
(
FAULT
è\

	)

10332 { 
çuÉ
 = (
FAULT
); ; }

10333 
	~"machše.def
"

10335 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

10338 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

10339 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

10342 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

10344 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

10346 
is_wr™e
 = 
TRUE
;

10348 #iâdeà
PARALLEL_EMUL


10349 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

10352 #iâdeà
PARALLEL_EMUL


10354 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

10359 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

10360 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10365 ifĞ
æ_couÁ
 == 19090609 )

10366 
æ_æag_0
 = 1;

10367 
æ_couÁ
 = fl_count +1;

10368 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10369 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10374 
i
 = 0; i < 
numcÚ‹xts
; i++)

10376 
thecÚ‹xts
[
i
]->
jobThdId
 = i;

10377 
thecÚ‹xts
[
i
]->
h–pThdId
 = -1;

10378 
thecÚ‹xts
[
i
]->
ÜaşeId
 = -1;

10381 
	`´štf
 ("ff Stage 0 done\n");

10382 
	`fæush
 (
¡dout
);

10384 
	`f¡fwd_cŞËùSts
();

10387 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10389 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10390 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->
ld_´og_’Œy
;

10391 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
 +  (
md_š¡_t
);

10394 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

10395 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

10399 ià(
cu¼’t
->
ç¡fwd_couÁ
 > 0)

10401 
couÁ”_t
 
icouÁ
;

10402 
md_š¡_t
 
š¡
;

10403 
md_İcode
 
İ
;

10404 
md_addr_t
 
rg‘_PC
;

10405 
md_addr_t
 
addr
;

10406 
is_wr™e
;

10407 
by‹_t
 
‹mp_by‹
;

10408 
h®f_t
 
‹mp_h®f
;

10409 
wÜd_t
 
‹mp_wÜd
;

10411 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

10412 
qwÜd_t
 
‹mp_qwÜd
 = 0;

10415 
md_çuÉ_ty³
 
çuÉ
;

10417 
	`årštf
 (
¡d”r
, "Th»ad %d, sim: ** fa¡ fÜw¬dšg %ld in¡ **\n", 
th»adid
, 
cu¼’t
->
ç¡fwd_couÁ
);

10419 
icouÁ
 = 0; icouÁ < 
cu¼’t
->
ç¡fwd_couÁ
; icount++)

10422 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

10423 #ifdeà
TARGET_ALPHA


10424 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

10428 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

10431 
addr
 = 0;

10432 
is_wr™e
 = 
FALSE
;

10435 
çuÉ
 = 
md_çuÉ_nÚe
;

10438 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

10441 
İ
)

10443 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

10444 
OP
: \

10445 
	`SYMCAT
(
OP
,
_IMPL
); \

10447 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

10448 
OP
: \

10449 
	`·nic
("attemptedoƒxecute‡†inking opcode");

10450 
	#CONNECT
(
OP
)

	)

10451 #undeà
DECLARE_FAULT


10452 
	#DECLARE_FAULT
(
FAULT
è\

	)

10453 { 
çuÉ
 = (
FAULT
); ; }

10454 
	~"machše.def
"

10456 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

10459 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

10460 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

10463 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

10465 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

10467 
is_wr™e
 = 
TRUE
;

10468 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

10471 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

10475 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

10476 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

10479 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

10480 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

10487 
	`´štf
 ("ff stage 1 done\n");

10488 
	`fæush
 (
¡dout
);

10490 
	`årštf
 (
¡d”r
, "sim: ** starting…erformance simulation **\n");

10491 #ifdeà
LOAD_PREDICTOR


10492 
	`årštf
 (
¡d”r
, " LOAD_PREDICTOR\n");

10493 #ifdeà
COUNT_MISS_ONLY


10494 
	`årštf
 (
¡d”r
, "COUNT_MISS_ONLY \n");

10496 #ifdeà
PREDICT_LOAD_COMM


10497 
	`årštf
 (
¡d”r
, "PREDICT_LOAD_COMM \n");

10499 #ifdeà
GATE_L1_MISS


10500 
	`årštf
 (
¡d”r
, "GATE_L1_MISS \n");

10502 #ifdeà
GATE_L2_MISS


10503 
	`årštf
 (
¡d”r
, "GATE_L2_MISS\n");

10505 #ifdeà
PDG


10506 
	`årštf
 (
¡d”r
, "PDG \n");

10509 #ifdeà
ACTIVE_N_WAY


10510 
	`årštf
 (
¡d”r
, " ACTIVE_N_WAY\n");

10511 #ifdeà
FIXED_N_WAY


10512 
	`årštf
 (
¡d”r
, " FIXED_N_WAY\n");

10515 #ifdeà 
SMT_TEST


10516 
	`årštf
 (
¡d”r
, "SMT_TEST\n");

10518 #ifdeà 
THRD_WAY_CACHE


10519 
	`årštf
 (
¡d”r
, " THRD_WAY_CACHE\n");

10521 #ifdeà 
N_WAY_CACHE


10522 
	`årštf
 (
¡d”r
, " N_WAY_CACHE: deçuÉ oÆy, %d\n", 
n_way_ÿche
);

10523 #ifdeà
SET_BASED


10524 
	`årštf
 (
¡d”r
, "SET_BASED\n");

10527 #ifdeà
PARTITIONED_LSQ


10528 
	`årštf
 (
¡d”r
, "PARTITIONED_LSQ\n");

10530 
	`årštf
 (
¡d”r
, "(PARTITIONED_LSQ‚ot defined)\n");

10532 #ifdeà
CENTRALIZED_LSQ


10533 
	`årštf
 (
¡d”r
, "CENTRALIZED_LSQ\n");

10535 #ifdeà
DE_CENTRALIZED_LSQ


10536 
	`årštf
 (
¡d”r
, "DE_CENTRALIZED_LSQ\n");

10537 #ifdeà
DE_CENTRALIZED_POWER_BUG


10538 
	`årštf
 (
¡d”r
, " DE_CENTRALIZED_POWER_BUG\n");

10540 #ifdeà 
SPLIT_LSQ


10541 
	`årštf
 (
¡d”r
, "SPLIT_LSQ\n");

10543 #ifdeà
DISTRIBUTE_STORE


10544 
	`årštf
 (
¡d”r
, "DISTRIBUTE_STORE\n");

10546 #ifdeà 
PWR_DE_CENTRALIZED_LSQ


10547 
	`årštf
 (
¡d”r
, " PWR_DE_CENTRALIZED_LSQ\n");

10550 #ifdeà
ALLOW_ANY_CLUSTER


10551 
	`årštf
 (
¡d”r
, "ALLOW_ANY_CLUSTER\n");

10553 #ifdeà 
CLUSTER_PRIORITY


10554 
	`årštf
 (
¡d”r
, "CLUSTER_PRIORITY\n");

10556 #ifdeà
DISTRIBUTED_STEER


10557 
	`årštf
 (
¡d”r
, "DISTRIBUTED_STEER\n");

10559 #ifdeà
CENTRALIZED_STEER


10560 
	`årštf
 (
¡d”r
, "CENTRALIZED_STEER\n");

10562 #ifdeà
MINIMUM_STEER


10563 
	`årštf
 (
¡d”r
, "MINIMUM_STEER\n");

10565 #ifdeà
INIT_CENTRALIZED_STEER


10566 
	`årštf
 (
¡d”r
, "INIT_CENTRALIZED_STEER\n");

10568 #ifdeà
CMP_STEER


10569 
	`årštf
 (
¡d”r
, "CMP_STEER\n");

10571 #ifdeà
INIT_CMP_STEER


10572 
	`årštf
 (
¡d”r
, "INIT_CMP_STEER\n");

10574 #ifdeà
N_WAY_STEER


10575 
	`årštf
 (
¡d”r
, "N_WAY_STEER ,N_WAY:deçuÉ %d \n", 
n_way
);

10576 #ifdeà
PRIVATE_STEER


10577 
	`årštf
 (
¡d”r
, " PRIVATE_STEER\n");

10579 #ifdeà
N_WAY_ADAPT


10580 
	`årštf
 (
¡d”r
, " N_WAY_ADAPT,ADAPT_RATE %d \n", 
ADAPT_RATE
);

10581 #ifdeà
STABLE_IPC_ADAPT


10582 
	`årštf
 (
¡d”r
, "STABLE_IPC_ADAPT\n");

10584 #ifdeà
PERIODIC_INCREASE_ADAPT


10585 
	`årštf
 (
¡d”r
, "PERIODIC_INCREASE_ADAPT\n");

10587 #ifdeà
DOUBLE_ADAPT


10588 
	`årštf
 (
¡d”r
, "DOUBLE_ADAPT\n");

10590 #ifdeà
OVERALL_LIMIT


10591 
	`årštf
 (
¡d”r
, "OVERALL_LIMIT\n");

10593 #ifdeà 
PRIVATE_STEER


10594 
	`årštf
 (
¡d”r
, "PRIVATE_STEER\n");

10597 #ifdeà
THRD_PRIO_ADAPT


10598 
	`årštf
 (
¡d”r
, " THRD_PRIO_ADAPT\n");

10599 #ifdeà
ADAPT_LIMIT


10600 
	`årštf
 (
¡d”r
, " ADAPT_LIMIT\n");

10603 #ifdeà
PDG_ADAPT


10604 
	`årštf
 (
¡d”r
, " PDG_ADAPT\n");

10606 #ifdeà
PDG_STOP_ADAPT


10607 
	`årštf
 (
¡d”r
, " PDG_STOP_ADAPT\n");

10609 #ifdeà
PDG_THRD_ADAPT


10610 
	`årštf
 (
¡d”r
, " PDG_THRD_ADAPT\n");

10611 #ifdeà
PDG_THRD_AGGRESSIVE


10612 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10614 #ifdeà
PDG_THRD_SOFT


10615 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10618 #ifdeà
PDG_THRD_PRIO_ADAPT


10619 
	`årštf
 (
¡d”r
, "PDG_THRD_PRIO_ADAPT \n");

10620 #ifdeà
COMM_OPER_LIMIT


10621 
	`årštf
 (
¡d”r
, "COMM_OPER_LIMIT COMM_OPER_RATIO %2.2f\n", 
COMM_OPER_RATIO
);

10623 #ifdeà
ADAPT_NO_PRIO


10624 
	`årštf
 (
¡d”r
, " ADAPT_NO_PRIO\n");

10626 #ifdeà
ADAPT_NO_COMM_OPER


10627 
	`årštf
 (
¡d”r
, " ADAPT_NO_COMM_OPER\n");

10629 #ifdeà
AVG_LIMIT


10630 
	`årštf
 (
¡d”r
, " AVG_LIMIT\n");

10632 #ifdeà
PDG_THRD_AGGRESSIVE


10633 
	`årštf
 (
¡d”r
, " PDG_THRD_AGGRESSIVE\n");

10635 #ifdeà
PDG_THRD_SOFT


10636 
	`årštf
 (
¡d”r
, " PDG_THRD_SOFT\n");

10639 #ifdeà
INIT_N_WAY_CENTRAL


10640 
	`årštf
 (
¡d”r
, " INIT_N_WAY_CENTRAL\n");

10642 #ifdeà
N_WAY_BALANCE


10643 
	`årštf
 (
¡d”r
, "N_WAY_BALANCE \n");

10645 #ifdeà
THRD_PROFILE


10646 
	`årštf
 (
¡d”r
, " THRD_PROFILE\n");

10648 #ifdeà
N_CACHE_FIXED


10649 
	`årštf
 (
¡d”r
, "N_CACHE_FIXED \n");

10651 #ifdeà
PRIVATE_CACHE


10652 
	`årštf
 (
¡d”r
, " PRIVATE_CACHE\n");

10655 #ifdeà
STEER_MEM_LSQ


10656 
	`årštf
 (
¡d”r
, "STEER_MEM_LSQ\n");

10658 #ifdeà
STEER_MEM_NEIGHBOR


10659 
	`årštf
 (
¡d”r
, "STEER_MEM_NEIGHBOR\n");

10661 #ifdeà
STEER_OPRANDS


10662 
	`årštf
 (
¡d”r
, "STEER_OPRANDS\n");

10664 #ifdeà 
STEER_FU


10665 
	`årštf
 (
¡d”r
, "STEER_FU\n");

10667 #ifdeà
SELECTIVE_DISPATCH


10668 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH\n");

10670 #ifdeà
SELECTIVE_FETCH


10671 
	`årštf
 (
¡d”r
, "SELECTIVE_FETCH\n");

10673 #ifdeà
SELECTIVE_DISPATCH_GATE


10674 
	`årštf
 (
¡d”r
, "SELECTIVE_DISPATCH_GATE\n");

10675 #ifdeà
UNREADY_PRIVATE


10676 
	`årštf
 (
¡d”r
, " UNREADY_PRIVATE \n");

10678 #ifdeà
UNREADY_COUNT


10679 
	`årštf
 (
¡d”r
, " UNREADY_COUNT %d\n", 
UNREADY_COUNT_LIMIT
);

10681 #ifdeà
UNREADY_COUNT_ONLY


10682 
	`årštf
 (
¡d”r
, " UNREADY_COUNT_ONLY \n");

10684 #ifdeà
UNREADY_CHAIN_PRIVATE


10685 
	`årštf
 (
¡d”r
, " UNREADY_CHAIN_PRIVATE %d\n", 
UNREADY_CHAIN_LIMIT
);

10688 #ifdeà 
RAW


10689 
	`årštf
 (
¡d”r
, "RAW ,deçuÉ RAWSIZE %d\n", 
RAWSIZE
);

10691 #ifdeà 
RABMAP


10692 
	`årštf
 (
¡d”r
, "RABMAP \n");

10694 #ifdeà 
RABCOMM


10695 
	`årštf
 (
¡d”r
, "RABCOMM \n");

10697 #ifdeà 
ALU_MERGE


10698 
	`årštf
 (
¡d”r
, "ALU_MERGE \n");

10700 #ifdeà
INST_TRANS_RATE


10701 
	`årštf
 (
¡d”r
, "INST_TRANS_RATE\n");

10702 #ifdeà
TRACE_REG


10703 
	`årštf
 (
¡d”r
, " TRACE_REG\n");

10706 #ifdeà
IGNORE_ALL_COMM_LATENCY


10707 
	`årštf
 (
¡d”r
, "IGNORE_ALL_COMM_LATENCY\n");

10709 #ifdeà
IGNORE_MEM_COMM_LATENCY


10710 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10712 #ifdeà
COUNT_COMMIT


10713 
	`årštf
 (
¡d”r
, "COUNT_COMMIT\n");

10715 #ifdeà
CYCLE_JUMP


10716 
	`årštf
 (
¡d”r
, "CYCLE_JUMP \n");

10718 #ifdeà
FETCH_ONE_BLOCK


10719 
	`årštf
 (
¡d”r
, "FETCH_ONE_BLOCK \n");

10721 #ifdeà 
MSHR


10722 
	`årštf
 (
¡d”r
, "MSHR , MSHRSIZE %d\n", 
MSHRSIZE
);

10724 #ifdeà
GENERIC_FU


10725 
	`årštf
 (
¡d”r
, "GENERIC_FU\n");

10727 #ifdeà
NO_EXTRA_REG


10728 
	`årštf
 (
¡d”r
, "NO_EXTRA_REG\n");

10730 #ifdeà
NO_CACHE_BANK


10731 
	`årštf
 (
¡d”r
, "NO_CACHE_BANK\n");

10733 #ifdeà
NO_QFILL_CONTENTION


10734 
	`årštf
 (
¡d”r
, "NO_QFILL_CONTENTION\n");

10736 #ifdeà
NO_BUS_CONTENTION


10737 
	`årštf
 (
¡d”r
, " NO_BUS_CONTENTION \n");

10739 #ifdeà
EVENT_CACHE_UPDATE


10740 
	`årštf
 (
¡d”r
, "EVENT_CACHE_UPDATE\n");

10741 #ifdeà
APPROXIMATE_LAT


10742 
	`årštf
 (
¡d”r
, " APPROXIMATE_LAT \n");

10744 #ifdeà 
ACURATE_LAT


10745 
	`årštf
 (
¡d”r
, " ACURATE_LAT \n");

10747 #ifdeà 
MOST_ACURATE_LAT


10748 
	`årštf
 (
¡d”r
, " MOST_ACURATE_LAT \n");

10751 #ifdeà
PORT_PER_BANK


10752 
	`årštf
 (
¡d”r
, "PORT_PER_BANK\n");

10754 #ifdeà 
LINE_INTERLEAVED


10755 
	`årštf
 (
¡d”r
, "LINE_INTERLEAVED\n");

10757 #ifdeà 
PWR_CLUSTER


10758 
	`årštf
 (
¡d”r
, "PWR_CLUSTER,ISSUE_PER_CLUSTER \n");

10760 #ifdeà 
CHECKS


10761 
	`årštf
 (
¡d”r
, "CHECKS\n");

10763 #ifdeà 
PWR__SMT_RR


10764 
	`årštf
 (
¡d”r
, "PWR__SMT_RR\n");

10766 
	`årštf
 (
¡d”r
, "REMOVE_ILP = %d\n", (è
REMOVE_ILP
);

10767 
	`årštf
 (
¡d”r
, "HOPTIME = %d\n", (è
HOPTIME
);

10768 #ifdeà
CENTRALIZED_CACHE_BANK


10769 
	`årštf
 (
¡d”r
, "CENTRALIZED_CACHE_BANK\n");

10771 #ifdeà
IGNORE_MEM_COMM_LATENCY


10772 
	`årštf
 (
¡d”r
, "IGNORE_MEM_COMM_LATENCY\n");

10774 
	`årštf
 (
¡d”r
, "DO_DYNAMIC_ADAPTATION = %d\n", (è
DO_DYNAMIC_ADAPTATION
);

10775 
	`årštf
 (
¡d”r
, "N_WAY = %d\n", 
n_way
);

10776 
	`årštf
 (
¡d”r
, "n_way_ÿchğ%d\n", 
n_way_ÿche
);

10777 #ifdeà
OPTICAL_FE_LINK


10778 
	`årštf
 (
¡d”r
, "OPTICAL_FE_LINK\n");

10780 #ifdeà
MONOLETHIC_MACHINE


10781 
	`årštf
 (
¡d”r
, "MONOLETHIC_MACHINE\n");

10784 #ifdeà
TOKENB


10785 
	`årštf
 (
¡d”r
, "TOKENB\n");

10789 *
sim_¡r_dump
;

10790 *
sim_dump
 = 
sim_¡r_dump
;

10791 
¡rFeName
[256];

10792 ià(!
sim_dump
)

10794 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

10795 
	`ex™
 (1);

10798 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

10799 
	`¡rÿt
 (
¡rFeName
, ".trc");

10800 
å_Œaû
 = 
	`fİ’
 (
¡rFeName
, "w");

10801 if(!
å_Œaû
è
	`·nic
("Could‚ot openrace file");

10804 
	`®loÿ‹_ä“_ev’t_li¡
();

10807 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10809 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10810 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
»gs
.
»gs_PC
;

10811 
cu¼’t
->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

10813 
cu¼’t
->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_PC
 -  (
md_š¡_t
);

10814 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.»gs_PC -  (
md_š¡_t
);

10815 #ifdeà
PDG


10816 
cu¼’t
->
aùive
 = 1;

10821 
	`bš_š™
 ();

10822 
	`ÿche_š™
 ();

10823 
	`·ge_bË_š™
 ();

10824 
	`b_mshr_š™
 ();

10825 
	`b_cu_š™
 ();

10826 #ifdeà 
STREAM_PREFETCHER


10827 
	`š™_¥
 ();

10829 #ifdeà 
L1_STREAM_PREFETCHER


10830 
	`l1š™_¥
 ();

10833 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

10835 
di¥_time
[
i
] = 0;

10838 
i
 = 0; i < 
numcÚ‹xts
; i++)

10840 
	`»g_š™
 (
i
);

10841 
	`b´ed_š™
 (
i
);

10844 #ifdeà
REG_RENAME_CONFIGUARE


10845 
	`årštf
 (
¡d”r
, "TÙ® P»gfsiz- iÁ %d f°%d\n", 
IPREG_size
, 
FPREG_size
);

10848 
i
 = 0; i < 
CLUSTERS
; i++)

10850 
num_¡Üeq
[
i
] = 0;

10851 
max_¡Üeq
[
i
] = 0;

10854 
mm
 = 0; mm <ğ
NUMPHASES
; mm++)

10856 
num_picks
[
mm
] = 0;

10859 ià(
CENTRAL_CACHE
)

10861 
aùu®_ÿch•Üts
 = 
CACHEPORTS
;

10862 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10866 
	`ÿche_chªge_cÚfig
 (
SMALLEST_CONFIG
);

10867 
aùu®_şu¡”s
 = 
SMALLEST_CONFIG
;

10868 
aùu®_ÿch•Üts
 = (
CACHEPORTS
 * 
aùu®_şu¡”s
è/ 
CLUSTERS
;

10871 
¹h»sh
 = 
š¢_š‹rv®
 / 100;

10872 
b¹h»sh
 = 
š¢_š‹rv®
 / 100;

10873 
m¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10874 
im¡h»sh
 = 
š¢_š‹rv®
 / 1000;

10875 
cyùh»sh
 = 
š¢_š‹rv®
 / 100;

10876 
ºoi£
 = 
š¢_š‹rv®
 / 20;

10877 
bºoi£
 = 
š¢_š‹rv®
 / 50;

10878 
m¢oi£
 = 
š¢_š‹rv®
 / 100;

10879 
im¢oi£
 = 
š¢_š‹rv®
 / 200;

10881 #ifdef 
COLLECT_STAT_STARTUP


10882 
aùu®Proûss
 = 1;

10884 
aùu®Proûss
 = 
numcÚ‹xts
;

10886 
execu‹MaxIn¢
 = 
max_š¡s
;

10892 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

10894 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

10895 
cu¼’t
->
aùive_this_cyşe
 = 1;

10900 
th»adid
 = 0;h»adid < 
MAXTHREADS
;hreadid++)

10902 
i
 = 0; i < 
SMD_L1_WBUF_SIZE
; i++)

10904 
m_L1WBuf
[
th»adid
][
i
].
PC
 = 0;

10905 
m_L1WBuf
[
th»adid
][
i
].
lsqId
 = 0;

10906 
m_L1WBuf
[
th»adid
][
i
].
robId
 = 0;

10907 
m_L1WBuf
[
th»adid
][
i
].
robExId
 = 0;

10908 
m_L1WBuf
[
th»adid
][
i
].
addr
 = 0;

10909 
m_L1WBuf
[
th»adid
][
i
].
İ
 = 0;

10910 
m_L1WBuf
[
th»adid
][
i
].
Ït
 = 0;

10911 
m_L1WBuf
[
th»adid
][
i
].
sim_num_š¢
 = 0;

10912 
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
 = 0;

10913 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 0;

10914 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 0;

10915 
m_L1WBuf
[
th»adid
][
i
].
’ŒyTime
 = 0;

10916 
m_L1WBuf
[
th»adid
][
i
].
wr™eV®ue
 = 0;

10917 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 0;

10918 
m_L1WBuf
[
th»adid
][
i
].
STL_C_ç
 = 0;

10919 
m_L1WBuf
[
th»adid
][
i
].
®»ady_check
 = 0;

10921 
m_L1WBufCÁ
[
th»adid
] = 0;

10922 
m_L1WBuf_h—d
[
th»adid
] = 0;

10923 
m_L1WBuf_
[
th»adid
] = 0;

10926 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

10927 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10928 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

10929 
	`mašPİÃt
(
mesh_size
+2);

10930 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

10932 
	`mašdœeùsim
(
ÃtwÜk_»ûiv”
, 
ÃtwÜk_cÚæiù
);

10933 
	`mašPİÃt
(
mesh_size
+2);

10939 #ifdef 
DCACHE_MSHR


10940 
i
 = 0; i < 
numcÚ‹xts
; i++)

10942 
	`ä“MSHR
(
ÿche_dl1
[
i
]->
mshr
);

10943 
	`b_æush_check
(
i
);

10945 
	`ä“L2MSHR
(
ÿche_dl2
->
mshr
);

10948 #ifdeà
POWER_ACCESS_STAT


10949 
lsq_´eg_acûss_couÁ
 +ğ
lsq_´eg_acûss
;

10950 
lsq_wakeup_acûss_couÁ
 +ğ
lsq_wakeup_acûss
;

10956 
	`±¿û_check_aùive
 (
thecÚ‹xts
[0]->
»gs
.
»gs_PC
, 
sim_num_š¢
, 
sim_cyşe
);

10958 
	`±¿û_Ãwcyşe
 (
sim_cyşe
);

10960 
i
 = 0; i<
numcÚ‹xts
; i++)

10964 
comm™_æag
[
i
] ++;

10967 
	`ruu_comm™
 ();

10970 
	`ruu_»Ëa£_wr™ebufãr
 ();

10971 
	`ruu_wr™e_äom_Wr™ebufãr
 ();

10975 
	`ruu_»Ëa£_fu
 ();

10977 
	`ruu_wr™eback
 ();

10980 ià(!
bugcom·t_mode
)

10982 
	`lsq_»äesh
 ();

10983 
	`ruu_issue
 ();

10986 
ggg
;

10988 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

10990 
di¥©ch_dÚe
[
ggg
] = 0;

10991 ià(
thecÚ‹xts
[
ggg
]->
aùive_this_cyşe
)

10993 
di¥©ch_dÚe
[
ggg
] = 
di¥©ched
 = 
	`ruu_di¥©ch
 (ggg);

10997 ià(!
®lFÜked
)

10999 #ifdef 
COLLECT_STAT_STARTUP


11000 
ggg
 = 0; ggg < 
numcÚ‹xts
; ggg++)

11002 
cŞËùStStİ
[
ggg
] = 0;

11005 
cŞËùStB¬r›r
 = 0;

11006 
®lFÜked
 = 1;

11008 
	`š™P¬®ËlSimuÏtiÚ
 ();

11009 
cŞËù_¡©s
 = 1;

11014 ià(
æushImpSts
)

11016 
æushImpSts
 = 0;

11017 
cŞËù_¡©s
 = 1;

11018 
sim_num_š¢
 = 0;

11019 
»®SimCyşe
 = 0;

11021 
i
 = 0; i < 
MAXTHREADS
; i++)

11023 
m_sqLQFuÎ
[
i
] = 0;

11024 
m_sqSQFuÎ
[
i
] = 0;

11025 
m_sqNumLdR•Ïy
[
i
] = 0;

11026 
ld¡RejeùiÚCouÁ
[
i
] = 0;

11027 
£qCÚsR•Ïy
[
i
] = 0;

11028 
£qCÚsIn¢R•Ïy
[
i
] = 0;

11031 
šv®id©iÚ_»¶ay
[
i
] = 0;

11033 
tÙ®RUUsize
[
i
] = 
tÙ®LQsize
[i] = 
tÙ®SQsize
[i] = 0;

11035 #ifdeà
RELAXED_CONSISTENCY


11036 
lßdLßdR•ÏyCouÁ
[
i
] = 0;

11039 
m_sqP»ãtchCÁ
 = 0;

11042 ià(
timeToR‘uº
)

11044 
	`fşo£
 (
å_Œaû
);

11046 
i
 = 0; i < 
numcÚ‹xts
; i++)

11047 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

11048 
	`årštf
(
¡d”r
,"[INFO 0]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

11052 
i
 = 0; i < 
numcÚ‹xts
; i++)

11054 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

11056 
tÙ®RUUsize
[
i
] +ğ
thecÚ‹xts
[i]->
RUU_num
;

11057 
avgRUUsize
[
i
] = (1.0 * 
tÙ®RUUsize
[i]è/ 
»®SimCyşe
;

11059 
tÙ®LQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shLQNum
;

11060 
avgLQsize
[
i
] = (1.0 * 
tÙ®LQsize
[i]è/ 
»®SimCyşe
;

11063 
tÙ®SQsize
[
i
] +ğ
thecÚ‹xts
[i]->
m_shSQNum
 + 
m_L1WBufCÁ
[i];

11065 
avgSQsize
[
i
] = (1.0 * 
tÙ®SQsize
[i]è/ 
»®SimCyşe
;

11070 #ifdeà 
CHECK_FETCH_QUEUE


11071 
	`check_ãtch_queue
 ();

11074 ià(
bugcom·t_mode
)

11078 
	`lsq_»äesh
 ();

11082 
	`ruu_issue
 ();

11085 
	`ruu_ãtch
 ();

11087 
	`dœ_fifo_dequeue
();

11088 
	`dœ_ev’tq_Ãx‹v’t
();

11089 #ifdeà
LOCK_HARD


11090 
	`lock_ev’tq_Ãx‹v’t
();

11092 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

11093 
	`dœeùRunSim
(
sim_cyşe
);

11094 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

11095 
	`pİÃtRunSim
(
sim_cyşe
);

11096 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

11098 
	`dœeùRunSim
(
sim_cyşe
);

11099 
	`pİÃtRunSim
(
sim_cyşe
);

11102 
f
, 
j
;

11103 
f
=0; f<16; f++)

11105 if(
mem_pÜt_Ït
[
f
] != 0)

11106 
mem_pÜt_Ït
[
f
] --;

11108 if(!
	`my¡ricmp
(
ÃtwÜk_ty³
, "HYBRID"))

11110 
f
 = 0; f< 100; f++)

11111 
j
 = 0; j< 100; j++)

11112 if(
lšk_£r_Ït
[
f
][
j
] > 0)

11113 
lšk_£r_Ït
[
f
][
j
] --;

11116 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11118 
	`upd©e_pow”_¡©s
(
thecÚ‹xts
[0]->
pow”
, 
th»adid
,hecontexts[threadid]);

11120 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11121 ià(
cu¼’t
->
ruu_ãtch_issue_d–ay
)

11122 
cu¼’t
->
ruu_ãtch_issue_d–ay
--;

11124 
	`ş—r_acûss_¡©s
();

11130 #ifdeà 
CHECKS


11131 
	`check_»g
 ();

11134 ià(
hÙ¥Ù_aùive
 && 
sim_cyşe
 >ğ
Ï¡_hÙ¥Ù_cyşe
 + 
hÙ¥Ù_cyşe_§m¶šg_štvl
)

11136 
	`upd©e_hÙ¥Ù_¡©s
 (
sim_cyşe
 - 
Ï¡_hÙ¥Ù_cyşe
);

11137 
Ï¡_hÙ¥Ù_cyşe
 = 
sim_cyşe
;

11140 
	`check_fu_busy
 ();

11141 
‰
;

11143 ià(!
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
)

11145 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11147 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11148 ià(((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(è
max_š¡s
è&& cu¼’t->
ruÂšg
)

11150 
	`årštf
 (
¡d”r
, "Th»ad %d ha exûeded max_š¡s; klšg‡Îh»ads.\n", 
th»adid
);

11151 
kÏÎ
 = 1;

11156 
th»adid
 = 0, 
th»ad_¡İ
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11158 
tmp
 = 0, 
tid
;

11160 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11162 ià(((
kÏÎ
 || 
tmp
 || (
¥ec_b’chm¬ks
 && 
max_š¡s
 && !
max_b¬r›r
 && ((è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è>ğ(èmax_š¡s))è&& cu¼’t->
ruÂšg
))

11164 
cu¼’t
->
fšish_cyşe
 = (è(
sim_cyşe
 - 
cyşecheck
);

11165 
cu¼’t
->
ruÂšg
 = 0;

11166 
¡İ³d_num_th»ads
++;

11168 
aùivecÚ‹xts
 = 
numcÚ‹xts
 - 
¡İ³d_num_th»ads
;

11170 
th»ad_¡İ
 = 1;

11171 
	`årštf
 (
¡d”r
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

11172 
	`årštf
 (
¡d”r
, "IPC_·tŸl%d,³¸th»ad %4.3f, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

11174 ià(
hÙ¥Ù_aùive
 && 
sim_hÙ¥Ùout_fd
 !ğ
¡d”r
)

11176 
	`årštf
 (
sim_hÙ¥Ùout_fd
, "********Th»ad %d fšish‡ˆ%lu**********\n", 
th»adid
, (è
cu¼’t
->
fšish_cyşe
);

11179 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11181 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11182 ià(
cu¼’t
->
fšish_cyşe
)

11183 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(cu¼’t->
fšish_cyşe
 - 
cyşecheck
));

11185 
	`årštf
 (
¡d”r
, "%4.3f, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
è/ (è(
sim_cyşe
 - 
cyşecheck
));

11187 
	`årštf
 (
¡d”r
, "\n");

11188 
	`årštf
 (
¡d”r
, "num_š¢_·tŸl%d,³¸th»ad %lu, ", 
¡İ³d_num_th»ads
, (è(
sim_num_š¢
 - 
WARMUP
));

11190 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11192 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11193 ià(
cu¼’t
->
fšish_cyşe
)

11194 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

11196 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
sim_num_š¢
 - 
WARMUP
));

11198 
	`årštf
 (
¡d”r
, "\n");

11199 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

11201 
	`årštf
 (
¡d”r
, "********All finish simulation done**********\n");

11202 
	`årštf
 (
¡d”r
, "fšish_cyş%lu,…”h»ad , ", (è
sim_cyşe
);

11203 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

11205 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11206 
	`årštf
 (
¡d”r
, "%lu, ", (è(
cu¼’t
->
fšish_cyşe
 - 
WARMUP
));

11208 
	`årštf
 (
¡d”r
, "\n");

11212 
now_time
 = 
	`time
 ((
time_t
 *è
NULL
);

11214 ià(!
sim_cyşe
)

11215 
´št_time
 = 
now_time
;

11216 
sim_–­£d_£c
 = 0;

11218 ià((è
sim_num_š¢
 && ((
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
è|| 
th»ad_¡İ
))

11220 ià(
¡İ³d_num_th»ads
 =ğ
numcÚ‹xts
)

11222 
sim_cyşe
 -ğ
w¬mupEndCyşe
;

11223 
	`årštf
(
¡d”r
,"[INFO 1]: sim_num_š¢=%Îu", 
pu»_num_š¢
);

11228 
	#PERIOD
 100000

	)

11229 
	#INTERVAL
 10000

	)

11230 
	#NUM_CONFIG
 3

	)

11231 #ià
DO_DYNAMIC_ADAPTATION


11233 ià(
m_maxth»ads
 == 1)

11235 ià(((
sim_num_š¢
 % 
PERIOD
è>ğ0è&& ((sim_num_š¢ % PERIODè< 
NUM_CONFIG
 * 
INTERVAL
))

11236 
	`³riodic_ad­tiÚ
 ();

11240 
	#PRINT_STATISTICS
 0

	)

11241 #ià
PRINT_STATISTICS


11242 
	`chªgeCacheCÚfig
 ();

11245 #ifdeà
INTERVAL_BASED


11246 ià(!((è
sim_cyşe
 % 
ADAPT_INTERVAL
) && (() sim_cycle))

11249 #ifdeà 
EXAMIN_N_WAY_ADAPT


11250 
	`upd©e_examš_n_lim™
 ();

11252 #ifdeà 
N_WAY_ADAPT


11253 
	`upd©e_n_lim™
 ();

11255 #ifdeà
THRD_PRIO_ADAPT


11256 
	`´iÜ™y_n_way
 ();

11258 #ifdeà
PDG_THRD_ADAPT


11259 
	`pdg_thrd_n_way
 ();

11261 #ifdeà
PDG_THRD_PRIO_ADAPT


11262 
	`pdg_´iÜ™y_n_way
 ();

11264 #ifdeà
PDG_ADAPT


11265 
	`pdg_n_way
 ();

11267 #ifdeà
N_WAY_CACHE_ADAPT


11268 
	`n_way_ÿche_ad­t
 ();

11270 #ifdeà
INTERVAL_BASED


11274 #ià 
	`defšed
(
BUS_INTERCONNECT
è|| defšed(
CROSSBAR_INTERCONNECT
)

11275 
	`busF»e
 ();

11277 
sim_cyşe
++;

11279 
	`»£t_pÜts
();

11281 #ifdeà
SEQUENTIAL_CONSISTENCY


11282 
i
 = 0; i < 
numcÚ‹xts
; i++)

11284 ià(
šv®id©iÚSÎ
[
i
])

11285 
šv®id©iÚSÎ
[
i
]--;

11286 ià(
comm™SÎ
[
i
])

11287 
comm™SÎ
[
i
]--;

11290 
»®SimCyşe
++;

11291 
no_id—l
 = 1;

11292 
i
 = 0; i < 
numcÚ‹xts
; i++)

11294 
Ït
 = 1000;

11295 ià(!
®lFÜked
)

11297 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (ÑhecÚ‹xts[i]->
¦•tAt
 + 1000è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
))

11299 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

11300 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

11305 ià((
thecÚ‹xts
[
i
]->
ä“ze
 =ğ1è&& (thecÚ‹xts[i]->
ruÂšg
 =ğ0è&& (thecÚ‹xts[i]->
¦•tAt
 + 
Ït
 + (
	`¿ndom
 (è% 20è< 
sim_cyşe
è&& (!
¥ec_b’chm¬ks
è&& 
no_id—l
)

11307 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

11308 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

11309 ià(
cŞËù_¡©s
)

11310 
qu›n£Wakeup
[
i
]++;

11315 ià(((!
max_b¬r›r
 && (
pu»_num_š¢
 > 
execu‹MaxIn¢
)è|| (max_b¬r›¸&& 
TÙ®B¬r›rs
 >ğmax_b¬r›r)è&& 
cŞËù_¡©s
)

11317 
i
 = 0; i < 
numcÚ‹xts
; i++)

11318 
simIn¢
[
i
] = 
thecÚ‹xts
[i]->
sim_num_š¢
;

11319 
i
 = 0; i < 
numcÚ‹xts
; i++)

11321 
ÿche_t
 *
ı
 = 
ÿche_dl1
[
i
];

11322 
j
 = 0, 
£t
 = 0, 
m
 = 0;

11323 
ÿche_blk_t
 *
blk
;

11324 
j
=0;j<
ı
->
n£ts
;j++)

11326 
blk
 = 
ı
->
£ts
[
j
].
way_h—d
; blk; blk = blk->
way_Ãxt
)

11328 
m
=0;m<8;m++)

11329 if(
blk
->
WÜdU£FÏg
[
m
])

11330 
blk
->
WÜdCouÁ
 ++;

11331 
	`¡©s_do
(
blk
->
addr
, blk->
R—dCouÁ
, blk->
Wr™eCouÁ
, blk->
WÜdCouÁ
, blk->
Ty³
, 
i
);

11335 
	`¡©s_cŞËù
();

11336 
	`årštf
(
¡d”r
,"[INFO 2]: sim_num_š¢=%Îu, b¬r›rs=%d", 
pu»_num_š¢
, 
TÙ®B¬r›rs
);

11339 ià(
unPrštLim™
 < 
STATUS_NUM
 && (
pu»_num_š¢
 >ğ(unPrštLim™ * (
max_š¡s
 / STATUS_NUM))))

11341 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "FSOI") || !mystricmp (network_type, "HYBRID"))

11343 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11344 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d\%\td©a_·ck‘s_g’”©e=%d\t", 
sim_cyşe
, 
pu»_num_š¢
, ()((
unPrštLim™
 * 100è/ 
STATUS_NUM
), 
glob®_d©a_·ck‘s_g’”©iÚ
);

11346 ià(!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "MESH"))

11348 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\t", 
sim_cyşe
);

11349 
	`´štf
 ("sim_num_š¢=%Îd\t", 
pu»_num_š¢
);

11350 
	`´štf
 ("Prog»ss=%d%\t", (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11351 
	`´štf
 ("d©a_·ck‘s_g’”©e=%d\t",
D©aPack‘s_1
);

11352 
	`´štf
 ("m‘a_·ck‘s=%d\t", 
M‘aPack‘s_1
);

11353 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\t", 
sim_cyşe
);

11354 
	`årštf
 (
¡d”r
, "sim_num_š¢=%Îd\t", 
pu»_num_š¢
);

11355 
	`årštf
 (
¡d”r
, "Prog»ss=%d\t", (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11356 
	`årštf
 (
¡d”r
, "d©a_·ck‘s_g’”©e=%d\t", 
D©aPack‘s_1
);

11357 
	`årštf
 (
¡d”r
, "m‘a_·ck‘s=%d\t", 
M‘aPack‘s_1
);

11359 ià((!
	`my¡ricmp
 (
ÃtwÜk_ty³
, "COMB")))

11361 
	`´štf
 ("[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11362 
	`årštf
 (
¡d”r
, "[INFO]: sim_cyşeğ%Îd\tsim_num_š¢=%Îd\tProg»ss=%d%\t", 
sim_cyşe
, 
pu»_num_š¢
, (
unPrštLim™
 * 100è/ 
STATUS_NUM
);

11364 
	`fæush
 (
¡d”r
);

11365 
	`fæush
 (
¡dout
);

11367 
lše_şass
 = 
	`fİ’
 ("line_class.txt", "w");

11368 
veùÜ_di¡r_fe
 = 
	`fİ’
 ("vector_distr_file.txt", "w");

11369 
veùÜ_šc_di¡r_fe
 = 
	`fİ’
 ("vector_inc_distr_file.txt", "w");

11370 
i
,
j
;

11371 
SWP_tÙ®_lše
 = 0;

11372 
SWP_sw_lše
 = 0;

11373 
SWP_¤_lše
 = 0;

11374 
SWP_pw_lše
 = 0;

11375 
SWP_´_lše
 = 0;

11376 
i
=0;i<
PAGE_NUM
;i++)

11379 if(!
·ge_bË
[
i
]->
v®id
)

11381 if(
·ge_bË
[
i
]->
¡©e
 !ğ
SHARED_WRITE
 )

11385 
j
=0;j<(
MD_PAGE_SIZE
/
ÿche_dl1
[0]->
bsize
);j++)

11387 if(
·ge_bË
[
i
]->
lše_h—d
[
j
].
lše_¡©e
 != -1)

11388 
SWP_tÙ®_lše
++;

11389 if(
·ge_bË
[
i
]->
lše_h—d
[
j
].
lše_¡©e
 =ğ
SHARED_WRITE
)

11390 
SWP_sw_lše
++;

11391 if(
·ge_bË
[
i
]->
lše_h—d
[
j
].
lše_¡©e
 =ğ
SHARED_READ
)

11392 
SWP_¤_lše
++;

11393 if(
·ge_bË
[
i
]->
lše_h—d
[
j
].
lše_¡©e
 =ğ
PRIVATE_WRITE
)

11394 
SWP_pw_lše
++;

11395 if(
·ge_bË
[
i
]->
lše_h—d
[
j
].
lše_¡©e
 =ğ
PRIVATE_READ
)

11396 
SWP_´_lše
++;

11400 
	`årštf
(
lše_şass
,"%d:\t", 
·ge_bË
[
i
]->
¡©e
 );

11401 
j
=0;j<(
MD_PAGE_SIZE
/
ÿche_dl1
[0]->
bsize
);j++)

11402 
	`årštf
(
lše_şass
,"%d\t", 
·ge_bË
[
i
]->
lše_h—d
[
j
].
lše_¡©e
 );

11403 
	`årštf
(
lše_şass
,"\n");

11406 
i
=0;i<
ÿche_ml2
->
n£ts
;i++)

11408 
	`årštf
(
veùÜ_di¡r_fe
,"%d\t", 
ÿche_ml2
->
£ts
[
i
].
PVC_veùÜ_di¡r_»cÜd_num
 );

11409 
j
=0;j<=
ÿche_ml2
->
assoc
;j++)

11410 
	`årštf
(
veùÜ_di¡r_fe
,"%d\t", 
ÿche_ml2
->
£ts
[
i
].
PVC_veùÜ_di¡r
[
j
] );

11411 
	`årštf
(
veùÜ_di¡r_fe
,"\n");

11413 
	`årštf
(
veùÜ_šc_di¡r_fe
,"%d\t", 
ÿche_ml2
->
£ts
[
i
].
PVC_veùÜ_šc_di¡r_»cÜd_num
 );

11414 
j
=0;j<=
ÿche_ml2
->
assoc
;j++)

11415 
	`årštf
(
veùÜ_šc_di¡r_fe
,"%d\t", 
ÿche_ml2
->
£ts
[
i
].
PVC_veùÜ_šc_di¡r
[
j
] );

11416 
	`årštf
(
veùÜ_šc_di¡r_fe
,"\n");

11418 
	`fşo£
 (
lše_şass
);

11419 
	`fşo£
 (
veùÜ_di¡r_fe
);

11420 
	`fşo£
 (
veùÜ_šc_di¡r_fe
);

11422 
	`´štf
("b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

11423 
	`årštf
(
¡d”r
, "b¬r›rs=%Îd\ocks=%Îd\n", 
TÙ®B¬r›rs
, 
TÙ®Locks
);

11424 
	`fæush
 (
¡d”r
);

11425 
	`fæush
 (
¡dout
);

11426 
unPrštLim™
++;

11427 
glob®_d©a_·ck‘s_g’”©iÚ
 = 0;

11428 
TÙ®_M‘aPack‘s_1
 +ğ
M‘aPack‘s_1
;

11429 
TÙ®_D©aPack‘s_1
 +ğ
D©aPack‘s_1
;

11430 
D©aPack‘s_1
 = 0;

11431 
M‘aPack‘s_1
 = 0;

11438 
	`g‘_ä“_»g
 (
Ìegnum
, 
th»adid
)

11440 
‹mpv®
;

11441 
li¡–t
 *
‹mp
;

11443 
cÚ‹xt
 *
cu¼’t
;

11445 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11447 ià((
Ìegnum
 < 1) || (lregnum > 62))

11449 ià(
Ìegnum
 < 32)

11451 ià(!
iä“li¡_h—d
[
th»adid
])

11453 
	`´štf
 ("Num oàIREG=%d\n", 
œegfe
);

11454 
	`årštf
 (
¡d”r
, "Num oàIREG=%d\n", 
œegfe
);

11455 
	`·nic
 ("Out of„egisters?!");

11458 
‹mp
 = 
iä“li¡_h—d
[
th»adid
];

11459 
‹mpv®
 = 
‹mp
->
´eg
;

11460 
iä“li¡_h—d
[
th»adid
] = iä“li¡_h—d[th»adid]->
Ãxt
;

11461 ià(!
iä“li¡_h—d
[
th»adid
])

11462 
iä“li¡_
[
th»adid
] = 
NULL
;

11463 ià(
iä“li¡_h—d
[
th»adid
])

11464 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11465 
	`ä“
 (
‹mp
);

11466 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11467 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11468 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11469 #ifdeà 
REMOVE_REG_COUNT


11470 
œegfe
++;

11472 
œegfe_ş
[
th»adid
]++;

11473  
‹mpv®
;

11477 ià(!
fä“li¡_h—d
[
th»adid
])

11479 
	`´štf
 ("Num oàFREG=%d\n", 
äegfe
);

11480 
	`årštf
 (
¡d”r
, "Num oàFREG=%d\n", 
äegfe
);

11481 
	`·nic
 ("Out of„egisters?!");

11484 
‹mp
 = 
fä“li¡_h—d
[
th»adid
];

11485 
‹mpv®
 = 
‹mp
->
´eg
;

11486 
fä“li¡_h—d
[
th»adid
] = fä“li¡_h—d[th»adid]->
Ãxt
;

11487 ià(!
fä“li¡_h—d
[
th»adid
])

11488 
fä“li¡_
[
th»adid
] = 
NULL
;

11489 ià(
fä“li¡_h—d
[
th»adid
])

11490 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
NULL
;

11491 
	`ä“
 (
‹mp
);

11492 
cu¼’t
->
Éİm­
[
Ìegnum
] = 
‹mpv®
;

11493 
cu¼’t
->
±Şm­
[
‹mpv®
].
Ìeg
 = 
Ìegnum
;

11494 
cu¼’t
->
±Şm­
[
‹mpv®
].
th»adid
 =hreadid;

11495 #ifdeà 
REMOVE_REG_COUNT


11496 
äegfe
++;

11498 
äegfe_ş
[
th»adid
]++;

11499  
‹mpv®
;

11505 
	`ä“li¡_š£¹
 (
´egnum
, 
th»adid
)

11507 
li¡–t
 *
–t
;

11508 
li¡–t
 *
p
;

11509 
li¡–t
 *
q
;

11511 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11514 ià(
th»adid
 == 0)

11516 
p
 = 
iä“li¡_h—d
[
th»adid
];

11517 
p
)

11519 
q
 = 
p
;

11520 
p
 =…->
Ãxt
;

11525 ià(!
´egnum
)

11527 ià(
´egnum
 <ğ
IPREG_size
)

11529 #ifdeà 
REMOVE_REG_COUNT


11530 
œegfe
--;

11532 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11533 
–t
->
´eg
 = 
´egnum
;

11534 ià(
iä“li¡_
[
th»adid
])

11536 
p
 = 
iä“li¡_h—d
[
th»adid
];

11537 
q
 = 
NULL
;

11538 
p
 && (p->
´eg
 < 
´egnum
))

11540 
q
 = 
p
;

11541 
p
 =…->
Ãxt
;

11543 ià(!
p
 || !
SORT
)

11545 
iä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11546 
–t
->
´ev
 = 
iä“li¡_
[
th»adid
];

11547 
–t
->
Ãxt
 = 
NULL
;

11548 
iä“li¡_
[
th»adid
] = 
–t
;

11550 ià(
q
)

11552 
q
->
Ãxt
 = 
–t
;

11553 
–t
->
´ev
 = 
q
;

11554 
–t
->
Ãxt
 = 
p
;

11555 
p
->
´ev
 = 
–t
;

11559 
–t
->
Ãxt
 = 
iä“li¡_h—d
[
th»adid
];

11560 
iä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11561 
–t
->
´ev
 = 
NULL
;

11562 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11567 
–t
->
Ãxt
 = 
NULL
;

11568 
–t
->
´ev
 = 
NULL
;

11569 
iä“li¡_
[
th»adid
] = 
–t
;

11570 
iä“li¡_h—d
[
th»adid
] = 
–t
;

11572 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11573 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11574 
œegfe_ş
[
th»adid
]--;

11578 #ifdeà 
REMOVE_REG_COUNT


11579 
äegfe
--;

11581 
–t
 = (
li¡–t
 *è
	`m®loc
 ( (listelt));

11582 
–t
->
´eg
 = 
´egnum
;

11583 ià(
fä“li¡_
[
th»adid
])

11585 
p
 = 
fä“li¡_h—d
[
th»adid
];

11586 
q
 = 
NULL
;

11587 
p
 && (p->
´eg
 < 
´egnum
))

11589 
q
 = 
p
;

11590 
p
 =…->
Ãxt
;

11592 ià(!
p
 || !
SORT
)

11594 
fä“li¡_
[
th»adid
]->
Ãxt
 = 
–t
;

11595 
–t
->
´ev
 = 
fä“li¡_
[
th»adid
];

11596 
–t
->
Ãxt
 = 
NULL
;

11597 
fä“li¡_
[
th»adid
] = 
–t
;

11599 ià(
q
)

11601 
q
->
Ãxt
 = 
–t
;

11602 
–t
->
´ev
 = 
q
;

11603 
–t
->
Ãxt
 = 
p
;

11604 
p
->
´ev
 = 
–t
;

11608 
–t
->
Ãxt
 = 
fä“li¡_h—d
[
th»adid
];

11609 
fä“li¡_h—d
[
th»adid
]->
´ev
 = 
–t
;

11610 
–t
->
´ev
 = 
NULL
;

11611 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11616 
–t
->
Ãxt
 = 
NULL
;

11617 
–t
->
´ev
 = 
NULL
;

11618 
fä“li¡_
[
th»adid
] = 
–t
;

11619 
fä“li¡_h—d
[
th»adid
] = 
–t
;

11621 
äegfe_ş
[
th»adid
]--;

11622 
cu¼’t
->
±Şm­
[
´egnum
].
Ìeg
 = 0;

11623 
cu¼’t
->
±Şm­
[
´egnum
].
th»adid
 = -1;

11628 
	`»cF»eRegLi¡
 (
th»adid
)

11630 
li¡–t
 *
p
;

11631 
li¡–t
 *
‹mp
;

11632 
couÁ
 = 0;

11633 
i
;

11635 
p
 = 
iä“li¡_h—d
[
th»adid
];

11636 ià(
p
)

11638 
couÁ
++;

11639 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11641 
couÁ
++;

11642 
‹mp
 = 
p
;

11643 
p
 =…->
Ãxt
;

11644 
	`ä“
 (
‹mp
);

11648 
p
 = 
fä“li¡_h—d
[
th»adid
];

11649 ià(
p
)

11651 
couÁ
++;

11652 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11654 
couÁ
++;

11655 
‹mp
 = 
p
;

11656 
p
 =…->
Ãxt
;

11657 
	`ä“
 (
‹mp
);

11661 
	`»g_š™
 (
th»adid
);

11665 
	`numF»eReg
 (
th»adid
)

11667 
li¡–t
 *
p
;

11668 
couÁ
 = 0;

11670 
p
 = 
iä“li¡_h—d
[
th»adid
];

11671 ià(
p
)

11673 
couÁ
++;

11674 (
p
 !ğ
iä“li¡_
[
th»adid
]) &&…)

11676 
couÁ
++;

11677 
p
 =…->
Ãxt
;

11681 
p
 = 
fä“li¡_h—d
[
th»adid
];

11682 ià(
p
)

11684 
couÁ
++;

11685 (
p
 !ğ
fä“li¡_
[
th»adid
]) &&…)

11687 
couÁ
++;

11688 
p
 =…->
Ãxt
;

11691  
couÁ
;

11696 
	`cİy_to
 (
th»adid
)

11698 
i
;

11700 
cÚ‹xt
 *
cu¼’t
;

11702 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11704 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11706 
cu¼’t
->
Éİm­_chk
[
i
] = cu¼’t->
Éİm­
[i];

11708 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11710 ià(
cu¼’t
->
±Şm­
[
i
].
th»adid
 ==hreadid)

11712 
cu¼’t
->
±Şm­_chk
[
i
].
Ìeg
 = cu¼’t->
±Şm­
[i].lreg;

11713 
cu¼’t
->
±Şm­_chk
[
i
].
th»adid
 = cu¼’t->
±Şm­
[i].threadid;

11720 
	`cİy_äom
 (
th»adid
)

11722 
i
;

11724 
cÚ‹xt
 *
cu¼’t
;

11726 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11728 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

11730 
cu¼’t
->
Éİm­
[
i
] = cu¼’t->
Éİm­_chk
[i];

11736 
	`b´ed_š™
 (
i
)

11739 ià(
ruu_b¿nch_³ÇÉy
 < 1)

11740 
	`çl
 ("mis-prediction…enalty must be‡t†east 1 cycle");

11742 ià(
ãtch_¥“d
 != 1)

11743 
	`çl
 ("front-end speed must be 1 for SMT version of simulator");

11745 ià(!
	`my¡ricmp
 (
´ed_ty³
, "bimod"))

11747 ià(
bimod_ÃÉ
 != 1)

11748 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11749 ià(
btb_ÃÉ
 != 2)

11750 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11751 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2b™
,

11752  
bimod_cÚfig
[0],

11758  
btb_cÚfig
[0],

11759  
btb_cÚfig
[1],

11760  
¿s_size
);

11762 ià(!
	`my¡ricmp
 (
´ed_ty³
, "2lev"))

11765 ià(
twŞev_ÃÉ
 != 4)

11766 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11767 ià(
btb_ÃÉ
 != 2)

11768 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11770 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»d2Lev–
,

11772  
twŞev_cÚfig
[0],

11773  
twŞev_cÚfig
[1],

11775  
twŞev_cÚfig
[2],

11776  
twŞev_cÚfig
[3],

11777  
btb_cÚfig
[0],

11778  
btb_cÚfig
[1],

11779  
¿s_size
);

11781 ià(!
	`my¡ricmp
 (
´ed_ty³
, "comb"))

11784 ià(
twŞev_ÃÉ
 != 4)

11785 
	`çl
 ("bad 2-level…red config (<l1size> <l2size> <hist_size> <xor>)");

11786 ià(
bimod_ÃÉ
 != 1)

11787 
	`çl
 ("bad bimod…redictor config (<table_size>)");

11788 ià(
comb_ÃÉ
 != 1)

11789 
	`çl
 ("bad combining…redictor config (<meta_table_size>)");

11790 ià(
btb_ÃÉ
 != 2)

11791 
	`çl
 ("bad btb config (<num_sets> <associativity>)");

11793 
thecÚ‹xts
[
i
]->
´ed
 = 
	`b´ed_ü—‹
 (
BP»dComb
,

11794  
bimod_cÚfig
[0],

11795  
twŞev_cÚfig
[0],

11796  
twŞev_cÚfig
[1],

11797  
comb_cÚfig
[0],

11798  
twŞev_cÚfig
[2],

11799  
twŞev_cÚfig
[3],

11800  
btb_cÚfig
[0],

11801  
btb_cÚfig
[1],

11802  
¿s_size
);

11805 ià(!
b´ed_¥ec_İt
)

11806 
b´ed_¥ec_upd©e
 = 
¥ec_CT
;

11807 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "ID"))

11808 
b´ed_¥ec_upd©e
 = 
¥ec_ID
;

11809 ià(!
	`my¡ricmp
 (
b´ed_¥ec_İt
, "WB"))

11810 
b´ed_¥ec_upd©e
 = 
¥ec_WB
;

11812 
	`çl
 ("bad speculative update stage specifier, use {ID|WB}");

11814 
	`b´ed_»g_¡©s
 (
thecÚ‹xts
[
i
]->
´ed
, 
sim_sdb
, i);

11819 
	`»g_š™
 (
th»adid
)

11821 
i
;

11823 
cÚ‹xt
 *
cu¼’t
;

11825 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11827 
iä“li¡_h—d
[
th»adid
] = 
NULL
;

11828 
iä“li¡_
[
th»adid
] = 
NULL
;

11829 
fä“li¡_h—d
[
th»adid
] = 
NULL
;

11830 
fä“li¡_
[
th»adid
] = 
NULL
;

11832 #ifdeà 
REMOVE_REG_COUNT


11835 
œegfe
 = 
IPREG_size
;

11836 
äegfe
 = 
FPREG_size
;

11838 
i
 = 0; i < 
p_tÙ®_»gs
; i++)

11840 
	`ä“li¡_š£¹
 (
i
, 
th»adid
);

11841 
cu¼’t
->
±Şm­
[
i
].
Ìeg
 = 0;

11842 
cu¼’t
->
±Şm­
[
i
].
th»adid
 = -1;

11844 
œegfe_ş
[
th»adid
] = 0;

11845 
äegfe_ş
[
th»adid
] = 0;

11846 #iâdeà 
NO_REG_INIT


11848 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11849 
i
 = 0; i < 63; i++)

11851 
cu¼’t
->
Éİm­
[
i
] = 
	`g‘_ä“_»g
 (i, 
th»adid
);

11853 
i
 = 63; i < 
MD_TOTAL_REGS
; i++)

11854 
cu¼’t
->
Éİm­
[
i
] = 0;

11861 
	`»g_couÁ
 ()

11864 
œegfe
 = 0;

11865 
äegfe
 = 0;

11866 
i
, 
j
;

11867 
cÚ‹xt
 *
cu¼’t
;

11869 
j
 = 0; j < 
numcÚ‹xts
; j++)

11871 
cu¼’t
 = 
thecÚ‹xts
[
j
];

11872 
i
 = 1; i < 
p_tÙ®_»gs
; i++)

11874 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 0è&& (cu¼’t->±Şm­[i].Ìeg < 32è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11876 
œegfe
++;

11878 ià((
cu¼’t
->
±Şm­
[
i
].
Ìeg
 > 31è&& (cu¼’t->±Şm­[i].Ìeg < 63è&& cu¼’t->±Şm­[i].
th»adid
 != -1)

11880 
äegfe
++;

11884 ià(
œegfe
 < 31)

11885 
	`·nic
 ("phys iregfile†esshan 31");

11886 ià(
äegfe
 < 31)

11887 
	`·nic
 ("phys fregfile†esshan 31");

11892 
	`š™P¬®ËlSimuÏtiÚ
 ()

11894 
út
, 
cx
, 
j
;

11895 
x
, 
y
, 
z
, 
max
;

11897 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

11898 
thecÚ‹xts
[
út
]->
¡¬t_cyşe
 = 
sim_cyşe
;

11900 
cx
 = 0; cx < 
numcÚ‹xts
; cx++)

11902 
thecÚ‹xts
[
cx
]->
ãtch_num
 = 0;

11903 
thecÚ‹xts
[
cx
]->
ãtch_
 =hecÚ‹xts[cx]->
ãtch_h—d
 = 0;

11904 
thecÚ‹xts
[
cx
]->
ãtch_´ed_PC
 =hecÚ‹xts[cx]->
ãtch_»gs_PC
 =hecÚ‹xts[cx]->
»gs
.
»gs_NPC
;

11905 
cŞËùStStİ
[
cx
] = 0;

11906 
thecÚ‹xts
[
cx
]->
sim_num_š¢
 = 0;

11908 
cŞËùStB¬r›r
 = 0;

11909 
®lFÜked
 = 1;

11956 
	`checkLSQfÜSt
 (
i
, 
cÚ‹xt
 * 
cu¼’t
)

11959 
RUU_¡©iÚ
 *
rs
 = &
cu¼’t
->
LSQ
[
i
];

11960 
nW1
 = 
	`G‘MemAccWidth
 (
rs
->
İ
);

11962 ià(
i
 !ğ
cu¼’t
->
LSQ_h—d
)

11966 
i
 = (˜+ (
LSQ_size
 - 1)) % LSQ_size;

11968 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
i
].
İ
è& 
F_STORE
è&& (
	`STORE_ADDR_READY
 (&cu¼’t->LSQ[i])è&& (cu¼’t->LSQ[i].
th»adid
 =ğ
rs
->threadid))

11970 
nW2
 = 
	`G‘MemAccWidth
 (
cu¼’t
->
LSQ
[
i
].
İ
);

11971 
nW
 = (
nW1
 >ğ
nW2
) ?‚W1 :‚W2;

11972 
md_addr_t
 
qwAddr1
 = 
rs
->
addr
 & ~(
nW
 - 1);

11973 
md_addr_t
 
qwAddr2
 = 
cu¼’t
->
LSQ
[
i
].
addr
 & ~(
nW
 - 1);

11975 ià(
qwAddr1
 =ğ
qwAddr2
)

11977 ià(
cu¼’t
->
LSQ
[
i
].
issued
)

11983 ià(
i
 =ğ
cu¼’t
->
LSQ_h—d
)

11993 
	`£qCÚsi¡ªcyR•Ïy
 (
»¶ay_šdex
, 
th»adid
)

11995 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

11996 
i
, 
RUU_šdex
, 
LSQ_šdex
, 
‹mp_RUU_num
, 
j
, 
¡ÜeCouÁ
 = 
m_L1WBufCÁ
[
th»adid
];

11997 
wb_mem_’t
 *
lšk
;

11999 
RUU_¡©iÚ
 *
‹mp_LSQ_rs
;

12000 
‹mp_LSQ_šdex
, 
‹mp_LSQ_num
;

12001 
shiá_right
 = 0;

12004 
£qCÚsR•Ïy
[
cu¼’t
->
aùu®id
]++;

12006 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

12007 
‹mp_RUU_num
 = 
cu¼’t
->
RUU_num
;

12008 
LSQ_šdex
 = 
cu¼’t
->
LSQ_h—d
;

12009 
‹mp_LSQ_num
 = 
cu¼’t
->
LSQ_num
;

12011 ià(!
cu¼’t
->
RUU_num
)

12012 
	`·nic
 ("empty RUU");

12014 
RUU_šdex
 !ğ
»¶ay_šdex
)

12017 ià(!
‹mp_RUU_num
)

12018 
	`·nic
 ("empty RUU");

12021 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

12023 ià(
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& 
F_STORE
)

12025 
width
 = 
	`G‘MemAccWidth
(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
);

12027 ià((
width
 & (width - 1)è=ğ0 && (
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
 & (width - 1)è=ğ0 && !cu¼’t->LSQ[LSQ_šdex].
isP»ãtch
)

12028 
¡ÜeCouÁ
++;

12030 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

12031 
‹mp_LSQ_num
--;

12033 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

12034 
‹mp_RUU_num
--;

12037 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

12040 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
)

12042 
cu¼’t
->
iissueq_thrd
--;

12043 
iissueq
--;

12044 
iissueq_ş
[
cu¼’t
->
id
]--;

12045 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_iissueq
 = 0;

12047 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
)

12049 
cu¼’t
->
fissueq_thrd
--;

12050 
fissueq
--;

12051 
fissueq_ş
[
cu¼’t
->
id
]--;

12052 
cu¼’t
->
RUU
[
RUU_šdex
].
couÁed_fissueq
 = 0;

12055 
cu¼’t
->
sim_num_š¢
--;

12056 
sim_num_š¢
--;

12057 
£qCÚsIn¢R•Ïy
[
cu¼’t
->
aùu®id
]++;

12059 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
—_comp
)

12061 ià(!
‹mp_LSQ_num
)

12062 
	`·nic
 ("RUU‡nd LSQ out of sync");

12064 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
)

12066 
cu¼’t
->
iissueq_thrd
--;

12067 
iissueq
--;

12068 
iissueq_ş
[
cu¼’t
->
id
]--;

12069 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_iissueq
 = 0;

12071 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
)

12073 
cu¼’t
->
fissueq_thrd
--;

12074 
fissueq
--;

12075 
fissueq_ş
[
cu¼’t
->
id
]--;

12076 
cu¼’t
->
LSQ
[
LSQ_šdex
].
couÁed_fissueq
 = 0;

12079 
i
 = 0; i < 
MAX_ODEPS
; i++)

12081 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
]);

12082 
cu¼’t
->
LSQ
[
LSQ_šdex
].
od•_li¡
[
i
] = 
NULL
;

12085 ià(
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
 =ğ
STL_C
 || cu¼’t->LSQ[LSQ_šdex].İ =ğ
STQ_C
)

12087 
cu¼’t
->
wa™FÜSTLC
 = 0;

12089 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
cu¼’t
->
LSQ
[
LSQ_šdex
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

12090 if(
m©chnum
)

12092 
m©chnum
 = matchnum-1;

12093 
RUU_¡©iÚ
 *
rs_rob
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

12094 
RUU_¡©iÚ
 *
rs_lsq
 = &
cu¼’t
->
LSQ
[
LSQ_šdex
];

12096 if(
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
rs
 =ğ
rs_rob
 || cache_dl1[th»adid]->mshr->mshrEÁry[m©chnum].r =ğ
rs_lsq
)

12097 
ÿche_dl1
[
th»adid
]->
mshr
->
mshrEÁry
[
m©chnum
].
ev’t
->
rs
 = 
NULL
;

12099 
RS_li¡
 *
cur
 = 
rs_ÿche_li¡
[
th»adid
][
m©chnum
];

12101 
cur
)

12103 if(
cur
->
rs
 =ğ
rs_rob
 || cur->r =ğ
rs_lsq
)

12104 
cur
->
rs
 = 
NULL
;

12105 
cur
 = cur->
Ãxt
;

12108 
	`ä“li¡_š£¹
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ»g
, 
th»adid
);

12109 
	`chªgeInEv’tQueue
(&
cu¼’t
->
LSQ
[
LSQ_šdex
], 
th»adid
);

12110 
cu¼’t
->
LSQ
[
LSQ_šdex
].
g
++;

12111 
	`±¿û_’dš¡
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
±¿û_£q
);

12112 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_LOAD
)) == (F_MEM | F_LOAD))

12114 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

12115 
cu¼’t
->
m_shLQNum
--;

12117 ià((
	`MD_OP_FLAGS
 (
cu¼’t
->
LSQ
[
LSQ_šdex
].
İ
è& (
F_MEM
 | 
F_STORE
)) == (F_MEM | F_STORE))

12119 ià(!
cu¼’t
->
LSQ
[
LSQ_šdex
].
isP»ãtch
)

12120 
cu¼’t
->
m_shSQNum
--;

12123 
cu¼’t
->
LSQ_
 = (cu¼’t->LSQ_ + 
LSQ_size
 - 1) % LSQ_size;

12124 
LSQ_šdex
 = (LSQ_šdex + 1è% 
LSQ_size
;

12125 
cu¼’t
->
LSQ_num
--;

12126 
‹mp_LSQ_num
--;

12131 
i
 = 0; i < 
MAX_ODEPS
; i++)

12133 
	`RSLINK_FREE_LIST
 (
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
]);

12134 
cu¼’t
->
RUU
[
RUU_šdex
].
od•_li¡
[
i
] = 
NULL
;

12136 
	`ä“li¡_š£¹
 (
cu¼’t
->
RUU
[
RUU_šdex
].
İ»g
, 
th»adid
);

12137 
	`chªgeInEv’tQueue
(&
cu¼’t
->
RUU
[
RUU_šdex
], 
th»adid
);

12138 
cu¼’t
->
RUU
[
RUU_šdex
].
g
++;

12139 
	`±¿û_’dš¡
 (
cu¼’t
->
RUU
[
RUU_šdex
].
±¿û_£q
);

12140 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

12141 
cu¼’t
->
RUU_num
--;

12143 
cu¼’t
->
RUU_
 = 
»¶ay_šdex
;

12146 
lšk
 = 
cu¼’t
->
WBbËTa
;

12148 ià(
lšk
 =ğ
NULL
 || 
¡ÜeCouÁ
 == 0)

12150 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
 = 
NULL
;

12151 ià(
lšk
 !ğ
NULL
)

12153 
lšk
 !ğ
NULL
)

12155 
cu¼’t
->
numOfWBEÁry
--;

12156 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

12157 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

12158 
lšk
 =†šk->
´ev
;

12159 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

12165 
cu¼’t
->
WBbËH—d
 = cu¼’t->
WBbËTa
;

12166 
¡ÜeCouÁ
--;

12167 
¡ÜeCouÁ
)

12169 
cu¼’t
->
WBbËH—d
 = cu¼’t->WBbËH—d->
´ev
;

12170 
¡ÜeCouÁ
--;

12172 
lšk
 = 
cu¼’t
->
WBbËH—d
->
´ev
;

12173 
cu¼’t
->
WBbËH—d
->
´ev
 = 
NULL
;

12175 
lšk
 !ğ
NULL
)

12177 
cu¼’t
->
numOfWBEÁry
--;

12178 
lšk
->
Ãxt
 = 
cu¼’t
->
WBbuck‘_ä“_li¡
;

12179 
cu¼’t
->
WBbuck‘_ä“_li¡
 = 
lšk
;

12180 
lšk
 =†šk->
´ev
;

12181 
cu¼’t
->
WBbuck‘_ä“_li¡
->
´ev
 = 
NULL
;

12185 
i
 = 0; i < 
MD_TOTAL_REGS
; i++)

12187 
cu¼’t
->
ü—‹_veùÜ
[
i
] = 
CVLINK_NULL
;

12188 
cu¼’t
->
ü—‹_veùÜ_¹
[
i
] = 
sim_cyşe
;

12191 if(
cu¼’t
->
ruu_ãtch_issue_d–ay
 < 
WAIT_TIME
/2)

12192 
cu¼’t
->
ruu_ãtch_issue_d–ay
 = 
ruu_b¿nch_³ÇÉy
;

12195 
md_İcode
 
İ
;

12197 
j
 = 
cu¼’t
->
ãtch_num
;

12198 
i
 = 
cu¼’t
->
ãtch_h—d
; 
j
 > 0;)

12200 
	`MD_SET_OPCODE
 (
İ
, 
cu¼’t
->
ãtch_d©a
[
i
]->
IR
);

12201 
i
 = (˜+ 1è& (
ruu_ifq_size
 - 1);

12202 
j
--;

12204 
cu¼’t
->
ãtch_num
 = 0;

12205 
cu¼’t
->
ãtch_
 = cu¼’t->
ãtch_h—d
 = 0;

12206 
cu¼’t
->
ãtch_´ed_PC
 = cu¼’t->
ãtch_»gs_PC
 = cu¼’t->
»gs
.
»gs_NPC
 = cu¼’t->»gs.
»gs_PC
;

12214 
	`fixS³cS‹
 (
»¶ay_šdex
, 
th»adid
)

12217 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12218 
RUU_¡©iÚ
 *
rs
;

12219 
i
, 
RUU_šdex
;

12221 
RUU_šdex
 = 
cu¼’t
->
RUU_h—d
;

12223 
RUU_šdex
 !ğ
»¶ay_šdex
)

12225 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

12228 
RUU_šdex
 !ğ
cu¼’t
->
RUU_
)

12230 ià(
cu¼’t
->
RUU
[
RUU_šdex
].
»cov”_š¡
 && !cu¼’t->RUU[RUU_šdex].
com¶‘ed
)

12232 
rs
 = &
cu¼’t
->
RUU
[
RUU_šdex
];

12233 
	`ruu_»cov”
 (
rs
 - 
cu¼’t
->
RUU
,„s->
th»adid
, 0);

12234 
	`Œaûr_»cov”
 (
rs
->
th»adid
);

12235 
	`b´ed_»cov”
 (
cu¼’t
->
´ed
, 
rs
->
PC
,„s->
¡ack_»cov”_idx
,„s->
th»adid
);

12238 
RUU_šdex
 = (RUU_šdex + 1è% 
RUU_size
;

12245 
	`ruu_»Ëa£_wr™ebufãr
 ()

12247 
th»adid
, 
i
, 
út
, 
j
;

12249 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12251 
j
 = 
m_L1WBufCÁ
[
th»adid
];

12252 
út
 = 0;

12253 
i
 = 
m_L1WBuf_h—d
[
th»adid
];

12255 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

12256 
	`·nic
 ("Head‡ndail…ointer messed up\n");

12258 
út
 !ğ
j
)

12260 ià(
sim_cyşe
 >ğ
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 && m_L1WBuf[th»adid][i].
wr™eS¹ed
)

12262 if(
m_L1WBuf
[
th»adid
][
i
].
isMiss
 && 
	`MSHR_block_check
(
ÿche_dl1
[th»adid]->
mshr
, m_L1WBuf[th»adid][i].
addr
, cache_dl1[th»adid]->
£t_shiá
))

12264 if(!
m_L1WBuf
[
th»adid
][
i
].
comm™DÚe
)

12267 
	`com¶‘eStÜe
(
th»adid
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
	`G‘MemAccWidth
(m_L1WBuf[th»adid][i].
İ
), m_L1WBuf[th»adid][i].
STL_C_ç
);

12268 
m_L1WBuf
[
th»adid
][
i
].
STL_C_ç
 = 0;

12271 
m_L1WBufCÁ
[
th»adid
]--;

12272 
m_L1WBuf_h—d
[
th»adid
] = (m_L1WBuf_h—d[th»adid] + 1è% 
SMD_L1_WBUF_SIZE
;

12273 
i
 = (˜+ 1è% 
SMD_L1_WBUF_SIZE
;

12274 
út
++;

12280 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

12281 
	`·nic
 ("Head‡ndail…ointer messed up\n");

12286 
	`ruu_wr™e_äom_Wr™ebufãr
 ()

12288 
th»adid
, 
i
, 
út
;

12289 
»s_‹m¶©e
 *
fu
;

12290 
Ït
 = 0;

12291 
cÚ‹xt
 *
cu¼’t
;

12293 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12295 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12297 ià((
m_L1WBufCÁ
[
th»adid
] =ğ0 || m_L1WBufCÁ[th»adid] =ğ
SMD_L1_WBUF_SIZE
è&& (
m_L1WBuf_
[th»adid] !ğ
m_L1WBuf_h—d
[threadid]))

12298 
	`·nic
 ("Head‡ndail…ointer messed up\n");

12300 
út
 = 0, 
i
 = 
m_L1WBuf_h—d
[
th»adid
]; cÁ < 
m_L1WBufCÁ
[th»adid]; cÁ++, i = (˜+ 1è% 
SMD_L1_WBUF_SIZE
)

12302 
Ït
 = 0;

12303 ià(!
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
)

12305 #ifdef 
DCACHE_MSHR


12306 
m©chnum
;

12307 
m©chnum
 = 
	`MSHR_block_check
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, cache_dl1[th»adid]->
£t_shiá
);

12308 if(
m©chnum
)

12310 if(
m_L1WBuf
[
th»adid
][
i
].
®»ady_check
)

12312 
ÿche_dl1
[
th»adid
]->
š_mshr
 ++;

12313 
m_L1WBuf
[
th»adid
][
i
].
®»ady_check
 = 1;

12318 
m_L1WBuf
[
th»adid
][
i
].
®»ady_check
 = 0;

12321 
fu
 = 
	`»s_g‘
 (
fu_poŞ
, 
	`MD_OP_FUCLASS
 (
m_L1WBuf
[
th»adid
][
i
].
İ
),hreadid);

12323 ià(
fu


12324 #ifdef 
DCACHE_MSHR


12325 && !
	`isMSHRFuÎ
(
ÿche_dl1
[
th»adid
]->
mshr
, 0,hreadid)

12329 ià(
fu
->
ma¡”
->
busy
)

12330 
	`·nic
 ("functional unit‡lready in use");

12332 
fu
->
ma¡”
->
busy
 = fu->
issu–©
;

12333 
fu
->
ma¡”
->
u¤_id
 = 
th»adid
;

12334 
fu
->
ma¡”
->
du¶iÿ‹
 = 0;

12336 ià(
ÿche_dl1
[
th»adid
])

12338 
dÿche_acûss
++;

12339 
cu¼’t
->
dÿche_acûss
++;

12341 
šv®id©eOth”Cache
 = 0;

12343 ià(
COHERENT_CACHE
 && 
®lFÜked
)

12345 if(
m_L1WBuf
[
th»adid
][
i
].
İ
 =ğ
STL_C
 && m_L1WBuf[th»adid][i].
comm™DÚe
)

12347 
Ït
 = 
ÿche_dl1_Ït
;

12351 if(
	`md_v®id_addr
 (
m_L1WBuf
[
th»adid
][
i
].
addr
, 
cu¼’t
->
ma¡”id
))

12354 
Ït
 = 
	`ÿche_acûss
(
ÿche_dl1
[
th»adid
], 
Wr™e
, (
m_L1WBuf
[th»adid][
i
].
addr
&~3), 
NULL
, 4, 
sim_cyşe
, NULL, NULL, NULL,hreadid, &m_L1WBuf[threadid][i]);

12358 #ifdef 
DCACHE_MSHR


12359 if(
Ït
 > 
ÿche_dl1_Ït
)

12361 
	`MSHRLookup
(
ÿche_dl1
[
th»adid
]->
mshr
, 
m_L1WBuf
[th»adid][
i
].
addr
, 
Ït
, 0, 
NULL
);

12362 
m_L1WBuf
[
th»adid
][
i
].
isMiss
 = 1;

12364 
m_L1WBuf
[
th»adid
][
i
].
fšishTime
 = 
sim_cyşe
 ;

12367 
m_L1WBuf
[
th»adid
][
i
].
wr™eS¹ed
 = 1;

12379 #ifdef 
COLLECT_STAT_STARTUP


12381 
	`f¡fwd_cŞËùSts
()

12383 
b¬r›rCouÁ
 = 0;

12384 
th»adid
;

12386 
	`´štf
("Fast-forwardingillhe collect stats system call\n");

12387 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12390 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12392 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12393 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12396 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12397 
	`·nic
 ("Fast forwardƒrror\n");

12399 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12400 
	`·nic
 ("Fast forwardƒrror\n");

12406 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12408 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12411 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12412 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12414 
md_š¡_t
 
š¡
;

12415 
md_İcode
 
İ
;

12416 
md_addr_t
 
rg‘_PC
;

12417 
md_addr_t
 
addr
;

12418 
is_wr™e
;

12419 
by‹_t
 
‹mp_by‹
;

12420 
h®f_t
 
‹mp_h®f
;

12421 
wÜd_t
 
‹mp_wÜd
;

12422 if(
cu¼’t
->
ruÂšg
 =ğ0 && 
b¬r›r_wa™šg
[
th»adid
])

12425 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12426 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12429 
md_çuÉ_ty³
 
çuÉ
;

12432 #iâdeà
PARALLEL_EMUL


12436 #ifdeà
PARALLEL_EMUL


12437 
sim_num_š¢
++;

12440 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12441 #ifdeà
TARGET_ALPHA


12442 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12446 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12447 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12448 if(
cu¼’t
->
ruÂšg
 =ğ0 && 
b¬r›r_wa™šg
[
th»adid
])

12451 
addr
 = 0;

12452 
is_wr™e
 = 
FALSE
;

12455 
çuÉ
 = 
md_çuÉ_nÚe
;

12458 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12462 
İ
)

12464 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12465 
OP
: \

12466 
	`SYMCAT
(
OP
,
_IMPL
); \

12468 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12469 
OP
: \

12470 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12471 
	#CONNECT
(
OP
)

	)

12472 #undeà
DECLARE_FAULT


12473 
	#DECLARE_FAULT
(
FAULT
è\

	)

12474 { 
çuÉ
 = (
FAULT
); ; }

12475 
	~"machše.def
"

12477 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12480 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12481 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12484 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12486 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12488 
is_wr™e
 = 
TRUE
;

12489 #iâdeà
PARALLEL_EMUL


12490 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12493 #iâdeà
PARALLEL_EMUL


12495 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12500 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12501 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12504 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12505 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12507 #iâdeà
PARALLEL_EMUL


12508 ià((
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12510 if(
cu¼’t
->
b¬r›rR—ched
 == 2)

12512 
b¬r›rCouÁ
++;

12513 
	`´štf
("Cros£dhb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12515 
cu¼’t
->
b¬r›rR—ched
 = 0;

12519 if(
cŞËù_¡©s
)

12521 
	`´štf
("Fšished fa¡-fÜw¬dšg‡ˆb¬r›¸numb”: %d w™hh»adid: %d\n", 
b¬r›rCouÁ
, 
th»adid
);

12531 
	`f¡fwd_fšeAdju¡
 ()

12533 
th»adid
;

12534 
couÁ
 = 0;

12535 
tÙ®IŒ
 = 2;

12536 
´Id
 = 0;

12537 
md_addr_t
 
‹mpPC
[3] = { 0, 0, 0 };

12539 
th»adid
 = 0;h»adid < 
numcÚ‹xts
;hreadid++)

12542 ià(
thecÚ‹xts
[
th»adid
]->
jobThdId
 != 0)

12544 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_PC
 =hecÚ‹xts[th»adid]->»gs.
»gs_NPC
;

12545 
thecÚ‹xts
[
th»adid
]->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12548 ià(
thecÚ‹xts
[
th»adid
]->
b¬r›rR—ched
 == 1)

12549 
	`·nic
 ("Fast forwardƒrror\n");

12551 ià(
thecÚ‹xts
[
th»adid
]->
¡¬tR—ched
 == 1)

12552 
	`·nic
 ("Fast forwardƒrror\n");

12554 if(
šk_run
)

12556 
cŞËù_¡©s
 = 1;

12562 
couÁ
 = 0;

12565 
th»adid
 = 0;th»adid < 
numcÚ‹xts
;hreadid = (threadid +‚umcontexts + 1) %‚umcontexts)

12567 
cÚ‹xt
 *
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

12569 ià(
cu¼’t
->
ma¡”id
 !ğ
´Id
)

12573 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_PC
, 0, 0, 0, 0))

12574 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.»gs_PC +  (
md_š¡_t
), 
sim_cyşe
, &(cu¼’t->»gs), cu¼’t->
mem
);

12576 
couÁ”_t
 
icouÁ
 = 0;

12577 
md_š¡_t
 
š¡
;

12578 
md_İcode
 
İ
;

12579 
md_addr_t
 
rg‘_PC
;

12580 
md_addr_t
 
addr
;

12581 
is_wr™e
;

12582 
by‹_t
 
‹mp_by‹
;

12583 
h®f_t
 
‹mp_h®f
;

12584 
wÜd_t
 
‹mp_wÜd
;

12586 #ià
	`defšed
(
HOST_HAS_QWORD
è&& defšed(
TARGET_ALPHA
)

12587 
qwÜd_t
 
‹mp_qwÜd
 = 0;

12590 
md_çuÉ_ty³
 
çuÉ
;

12594 
icouÁ
++;

12596 
cu¼’t
->
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

12597 #ifdeà
TARGET_ALPHA


12598 
cu¼’t
->
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

12602 
	`MD_FETCH_INST
 (
š¡
, 
cu¼’t
->
mem
, cu¼’t->
»gs
.
»gs_PC
);

12603 
	`ÿche_w¬mup
 (
ÿche_1
[
th»adid
], 
R—d
, 
	`IACOMPRESS
(
cu¼’t
->
ãtch_»gs_PC
), 
	`ISCOMPRESS
((
md_š¡_t
)),hreadid);

12606 
addr
 = 0;

12607 
is_wr™e
 = 
FALSE
;

12610 
çuÉ
 = 
md_çuÉ_nÚe
;

12613 
	`MD_SET_OPCODE
 (
İ
, 
š¡
);

12616 
İ
)

12618 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

12619 
OP
: \

12620 
	`SYMCAT
(
OP
,
_IMPL
); \

12622 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

12623 
OP
: \

12624 
	`·nic
("attemptedoƒxecute‡†inking opcode");

12625 
	#CONNECT
(
OP
)

	)

12626 #undeà
DECLARE_FAULT


12627 
	#DECLARE_FAULT
(
FAULT
è\

	)

12628 { 
çuÉ
 = (
FAULT
); ; }

12629 
	~"machše.def
"

12631 
	`·nic
 ("attemptedoƒxecute‡ bogus opcode");

12634 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

12635 
	`çl
 ("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
cu¼’t
->
»gs
.
»gs_PC
);

12638 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_MEM
)

12640 ià(
	`MD_OP_FLAGS
 (
İ
è& 
F_STORE
)

12642 
is_wr™e
 = 
TRUE
;

12643 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
Wr™e
, 
addr
 & ~7, 8,hreadid);

12646 
	`ÿche_w¬mup
(
ÿche_dl1
[
th»adid
], 
R—d
, 
addr
 & ~7, 8,hreadid);

12650 ià(
	`dl™e_check_b»ak
 (
cu¼’t
->
»gs
.
»gs_NPC
, 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
, 
addr
, 
sim_num_š¢
, sim_num_insn))

12651 
	`dl™e_maš
 (
cu¼’t
->
»gs
.
»gs_PC
, cu¼’t->»gs.
»gs_NPC
, 
sim_num_š¢
, &(cu¼’t->»gs), cu¼’t->
mem
);

12654 
cu¼’t
->
»gs
.
»gs_PC
 = cu¼’t->»gs.
»gs_NPC
;

12655 
cu¼’t
->
»gs
.
»gs_NPC
 +ğ (
md_š¡_t
);

12657 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12660 ià(
couÁ
 =ğ0 && 
cu¼’t
->
¡¬tR—ched
)

12662 
cu¼’t
->
¡¬tR—ched
 = 0;

12664 if(
cu¼’t
->
jobThdId
 != 0)

12665 
	`·nic
 ("Can‚ot be„eached by otherhreads");

12667 
couÁ
++;

12671 if(
couÁ
 == 5)

12674 if(
couÁ
 > 0 && count < 6)

12675 
couÁ
++;

12677 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12681 ià(
couÁ
 =ğ0 && (
cu¼’t
->
b¬r›rR—ched
 == 1 || current->barrierReached == 2))

12683 if(
cu¼’t
->
b¬r›rR—ched
 =ğ2 && cu¼’t->
jobThdId
 !ğ(
THREADS_PER_JOB
-1))

12684 
	`·nic
("End of barrier„eached with wrong id");

12686 
cu¼’t
->
b¬r›rR—ched
 = 0;

12690 ià(
couÁ
 == 5)

12692 
couÁ
++;

12693 
‹mpPC
[
cu¼’t
->
ma¡”id
] = cu¼’t->
»gs
.
»gs_PC
;

12697 ià(
couÁ
 =ğ6 && 
cu¼’t
->
»gs
.
»gs_PC
 =ğ
‹mpPC
[cu¼’t->
ma¡”id
])

12699 ià(
cu¼’t
->
jobThdId
 =ğ(
THREADS_PER_JOB
-1))

12706 
	`´štf
("Job %d synchrÚized\n", 
´Id
);

12707 
	`fæush
(
¡dout
);

	@sim-outorder.h

1 #iâdeà
__SIM_OUT_ORDER_H__


2 
	#__SIM_OUT_ORDER_H__


	)

4 
	#SMD_USE_WRITE_BUF


	)

8 
	#GHB_size
 512

	)

9 
	#DELTA_INDEX_TABLE_Size
 8

	)

10 
	#TAG_INDEX_TABLE_Size
 128

	)

11 
	#NET_ALGR


	)

13 #ifdef 
EDA


14 
ÿlcuÏ‹WrÚgV®ue
(
RUU_¡©iÚ
 *
rs
);

15 
	sp¢_¡ruù_t


17 
	mdœty
;

18 
qwÜd_t
 
	md©a
;

24 
	#SMD_L1_WBUF_SIZE
 8

25 
	sm_L1WBufEÁry


	)

27 
md_addr_t
 
	mPC
;

28 
md_š¡_t
 
	mIR
;

29 
	mlsqId
;

30 
	mrobId
;

31 
	mrobExId
;

32 
md_addr_t
 
	maddr
;

33 
md_İcode
 
	mİ
;

34 
couÁ”_t
 
	mÏt
;

35 
couÁ”_t
 
	msim_num_š¢
;

36 
	mcomm™DÚe
, 
	mwr™eS¹ed
;

37 
	misMiss
;

38 
couÁ”_t
 
	mfšishTime
, 
	m’ŒyTime
;

39 
quad_t
 
	mwr™eV®ue
;

40 
	mSTL_C_ç
;

41 
	m®»ady_check
;

43 #ifdeà
DIRECTORY


44 
RUU_¡©iÚ
 *
	mrs
;

47 #ifdef 
EDA


48 
p¢_¡ruù_t
 
	mpoisÚ
[2];

50 }
	tm_L1WBufEÁry
;

52 
m_L1WBufEÁry
 
	gm_L1WBuf
[
MAXTHREADS
][
SMD_L1_WBUF_SIZE
];

56 
	gm_L1WBuf_h—d
[
MAXTHREADS
];

57 
	gm_L1WBuf_
[
MAXTHREADS
];

59 
M¬kWr™eComm™
(
th»adid
, 
RUU_¡©iÚ
 *
rs
);

61 
	gm_L1WBufCÁ
[
MAXTHREADS
];

	@sim-profile.c

87 
	~<¡dio.h
>

88 
	~<¡dlib.h
>

89 
	~<m©h.h
>

91 
	~"ho¡.h
"

92 
	~"misc.h
"

93 
	~"machše.h
"

94 
	~"»gs.h
"

95 
	~"memÜy.h
"

96 
	~"lßd”.h
"

97 
	~"sysÿÎ.h
"

98 
	~"dl™e.h
"

99 
	~"symbŞ.h
"

100 
	~"İtiÚs.h
"

101 
	~"¡©s.h
"

102 
	~"sim.h
"

110 
»gs_t
 
	g»gs
;

113 
mem_t
 *
	gmem
 = 
NULL
;

116 
couÁ”_t
 
	gsim_num_»fs
 = 0;

119 
	gmax_š¡s
;

122 
	g´of_®l
 ;

123 
	g´of_ic
 ;

124 
	g´of_š¡
 ;

125 
	g´of_bc
 ;

126 
	g´of_am
 ;

127 
	g´of_£g
 ;

128 
	g´of_tsyms
 ;

129 
	g´of_dsyms
 ;

130 
	glßd_loÿls
 ;

131 
	g´of_ddr
 ;

134 
	#MAX_PCSTAT_VARS
 8

	)

135 
	gpc¡©_ÃÉ
 = 0;

136 *
	gpc¡©_v¬s
[
MAX_PCSTAT_VARS
];

140 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

142 
	`İt_»g_h—d”
(
odb
,

149 
	`İt_»g_ušt
(
odb
, "-max:inst", "maximum‚umber of inst'soƒxecute",

150 &
max_š¡s
, 0,

151  
TRUE
, 
NULL
);

153 
	`İt_»g_æag
(
odb
, "-all", "enable‡ll…rofile options",

154 &
´of_®l
, 
FALSE
, 
TRUE
, 
NULL
);

156 
	`İt_»g_æag
(
odb
, "-iclass", "enable instruction class…rofiling",

157 &
´of_ic
, 
FALSE
, 
TRUE
, 
NULL
);

159 
	`İt_»g_æag
(
odb
, "-iprof", "enable instruction…rofiling",

160 &
´of_š¡
, 
FALSE
, 
TRUE
, 
NULL
);

162 
	`İt_»g_æag
(
odb
, "-brprof", "enable branch instruction…rofiling",

163 &
´of_bc
, 
FALSE
, 
TRUE
, 
NULL
);

165 
	`İt_»g_æag
(
odb
, "-amprof", "enable‡ddress mode…rofiling",

166 &
´of_am
, 
FALSE
, 
TRUE
, 
NULL
);

168 
	`İt_»g_æag
(
odb
, "-segprof", "enable†oad/store‡ddress segment…rofiling",

169 &
´of_£g
, 
FALSE
, 
TRUE
, 
NULL
);

171 
	`İt_»g_æag
(
odb
, "-tsymprof", "enableext symbol…rofiling",

172 &
´of_tsyms
, 
FALSE
, 
TRUE
, 
NULL
);

174 
	`İt_»g_æag
(
odb
, "-taddrprof", "enableext‡ddress…rofiling",

175 &
´of_ddr
, 
FALSE
, 
TRUE
, 
NULL
);

177 
	`İt_»g_æag
(
odb
, "-dsymprof", "enable data symbol…rofiling",

178 &
´of_dsyms
, 
FALSE
, 
TRUE
, 
NULL
);

180 
	`İt_»g_æag
(
odb
, "-internal",

182 &
lßd_loÿls
, 
FALSE
, 
TRUE
, 
NULL
);

184 
	`İt_»g_¡ršg_li¡
(
odb
, "-pcstat",

186 
pc¡©_v¬s
, 
MAX_PCSTAT_VARS
, &
pc¡©_ÃÉ
, 
NULL
,

187  
FALSE
, 
NULL
, 
TRUE
);

188 
	}
}

192 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
)

194 ià(
´of_®l
)

197 
´of_ic
 = 
TRUE
;

198 
´of_š¡
 = 
TRUE
;

199 
´of_bc
 = 
TRUE
;

200 
´of_am
 = 
TRUE
;

201 
´of_£g
 = 
TRUE
;

202 
´of_tsyms
 = 
TRUE
;

203 
´of_dsyms
 = 
TRUE
;

204 
´of_ddr
 = 
TRUE
;

206 
	}
}

209 
	eš¡_şass_t
 {

210 
	mic_lßd
,

211 
	mic_¡Üe
,

212 
	mic_uncÚd
,

213 
	mic_cÚd
,

214 
	mic_icomp
,

215 
	mic_fcomp
,

216 
	mic_Œ­
,

217 
	mic_NUM


221 *
	gš¡_şass_¡r
[
ic_NUM
] = {

232 
¡©_¡©_t
 *
	gic_´of
 = 
NULL
;

235 *
	gš¡_¡r
[
OP_MAX
];

238 
¡©_¡©_t
 *
	gš¡_´of
 = 
NULL
;

241 
	eb¿nch_şass_t
 {

242 
	mbc_uncÚd_dœ
,

243 
	mbc_cÚd_dœ
,

244 
	mbc_ÿÎ_dœ
,

245 
	mbc_uncÚd_šdœ
,

246 
	mbc_cÚd_šdœ
,

247 
	mbc_ÿÎ_šdœ
,

248 
	mbc_NUM


252 *
	gb¿nch_şass_¡r
[
bc_NUM
] = {

262 
¡©_¡©_t
 *
	gbc_´of
 = 
NULL
;

265 
¡©_¡©_t
 *
	gam_´of
 = 
NULL
;

268 
	eaddr_£g_t
 {

269 
	m£g_d©a
,

270 
	m£g_h—p
,

271 
	m£g_¡ack
,

272 
	m£g_‹xt
,

273 
	m£g_NUM


277 *
	gaddr_£g_¡r
[
£g_NUM
] = {

285 
¡©_¡©_t
 *
	g£g_´of
 = 
NULL
;

288 
addr_£g_t


289 
	$bšd_to_£g
(
md_addr_t
 
addr
)

291 ià(
ld_d©a_ba£
 <ğ
addr
 &&‡dd¸< (ld_d©a_ba£ + 
ld_d©a_size
))

292  
£g_d©a
;

293 ià((
ld_d©a_ba£
 + 
ld_d©a_size
è<ğ
addr
 &&‡dd¸< 
ld_brk_pošt
)

294  
£g_h—p
;

296 ià((
ld_¡ack_ba£
 - (16*1024*1024)è<ğ
addr
 &&‡ddr <†d_stack_base)

297  
£g_¡ack
;

298 ià(
ld_‹xt_ba£
 <ğ
addr
 &&‡dd¸< (ld_‹xt_ba£ + 
ld_‹xt_size
))

299  
£g_‹xt
;

301 
	`·nic
("cannot bind‡ddresso segment");

302 
	}
}

305 
¡©_¡©_t
 *
	gtsym_´of
 = 
NULL
;

306 **
	gtsym_Çmes
 = 
NULL
;

309 
¡©_¡©_t
 *
	gdsym_´of
 = 
NULL
;

310 **
	gdsym_Çmes
 = 
NULL
;

313 
¡©_¡©_t
 *
	gddr_´of
 = 
NULL
;

316 
¡©_¡©_t
 *
	gpc¡©_¡©s
[
MAX_PCSTAT_VARS
];

317 
couÁ”_t
 
	gpc¡©_Ï¡v®s
[
MAX_PCSTAT_VARS
];

318 
¡©_¡©_t
 *
	gpc¡©_sdi¡s
[
MAX_PCSTAT_VARS
];

321 
	#STATVAL
(
STAT
è\

	)

322 ((
	gSTAT
)->
	gsc
 =ğ
sc_št
 \

323 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_št
.
v¬
) \

324 : ((
STAT
)->
sc
 =ğ
sc_ušt
 \

325 ? (
couÁ”_t
)*((
STAT
)->
v¬ŸÁ
.
fÜ_ušt
.
v¬
) \

326 : ((
STAT
)->
sc
 =ğ
sc_couÁ”
 \

327 ? *((
STAT
)->
v¬ŸÁ
.
fÜ_couÁ”
.
v¬
) \

328 : (
·nic
("bad stat class"), 0))))

332 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

334 
i
;

336 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

338 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

339 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_refs",

341 &
sim_num_»fs
, 0, 
NULL
);

342 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

344 &
sim_–­£d_time
, 0, 
NULL
);

345 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

347 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

349 ià(
´of_ic
)

352 
ic_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_inst_class_prof",

355  
ic_NUM
,

357  (
PF_COUNT
|
PF_PDF
),

358  
NULL
,

359  
š¡_şass_¡r
,

360  
NULL
);

363 ià(
´of_š¡
)

365 
i
;

366 
buf
[512];

369 
i
=0; i < 
OP_MAX
-1; i++)

371 
	`¥rštf
(
buf
, "%-8 %-6s", 
md_İ2Çme
[
i
+1], 
md_İ2fÜm©
[i+1]);

372 
š¡_¡r
[
i
] = 
	`my¡rdup
(
buf
);

376 
š¡_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_inst_prof",

379  
OP_MAX
-1,

381  (
PF_COUNT
|
PF_PDF
),

382  
NULL
,

383  
š¡_¡r
,

384  
NULL
);

387 ià(
´of_bc
)

390 
bc_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_branch_prof",

393  
bc_NUM
,

395  (
PF_COUNT
|
PF_PDF
),

396  
NULL
,

397  
b¿nch_şass_¡r
,

398  
NULL
);

401 ià(
´of_am
)

404 
am_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_addr_mode_prof",

407  
md_amode_NUM
,

409  (
PF_COUNT
|
PF_PDF
),

410  
NULL
,

411  
md_amode_¡r
,

412  
NULL
);

415 ià(
´of_£g
)

418 
£g_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_addr_seg_prof",

421  
£g_NUM
,

423  (
PF_COUNT
|
PF_PDF
),

424  
NULL
,

425  
addr_£g_¡r
,

426  
NULL
);

429 ià(
´of_tsyms
 && 
sym_Áextsyms
 != 0)

431 
i
;

434 
	`sym_lßdsyms
(
ld_´og_âame
, 
lßd_loÿls
);

437 
tsym_Çmes
 = (**)
	`ÿÎoc
(
sym_Áextsyms
, (*));

439 
i
=0; i < 
sym_Áextsyms
; i++)

440 
tsym_Çmes
[
i
] = 
sym_‹xtsyms
[i]->
Çme
;

443 
tsym_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_text_sym_prof",

446  
sym_Áextsyms
,

448  (
PF_COUNT
|
PF_PDF
),

449  
NULL
,

450  
tsym_Çmes
,

451  
NULL
);

454 ià(
´of_dsyms
 && 
sym_nd©asyms
 != 0)

456 
i
;

459 
	`sym_lßdsyms
(
ld_´og_âame
, 
lßd_loÿls
);

462 
dsym_Çmes
 = (**)
	`ÿÎoc
(
sym_nd©asyms
, (*));

464 
i
=0; i < 
sym_nd©asyms
; i++)

465 
dsym_Çmes
[
i
] = 
sym_d©asyms
[i]->
Çme
;

468 
dsym_´of
 = 
	`¡©_»g_di¡
(
sdb
, "sim_data_sym_prof",

471  
sym_nd©asyms
,

473  (
PF_COUNT
|
PF_PDF
),

474  
NULL
,

475  
dsym_Çmes
,

476  
NULL
);

479 ià(
´of_ddr
)

485 
ddr_´of
 = 
	`¡©_»g_sdi¡
(
sdb
, "sim_text_addr_prof",

488  (
PF_COUNT
|
PF_PDF
),

490  
NULL
);

493 
i
=0; i<
pc¡©_ÃÉ
; i++)

495 
buf
[512], 
buf1
[512];

496 
¡©_¡©_t
 *
¡©
;

501 
¡©
 = 
	`¡©_fšd_¡©
(
sdb
, 
pc¡©_v¬s
[
i
]);

502 ià(!
¡©
)

503 
	`çl
("ÿÂÙ†oÿ‹‡ny sti¡iøÇmed `%s'", 
pc¡©_v¬s
[
i
]);

506 ià(
¡©
->
sc
 !ğ
sc_št
 && st->sø!ğ
sc_ušt
 && st->sø!ğ
sc_couÁ”
)

507 
	`çl
("`-pcstat' statistical variable `%s' is‚ot‡n integralype",

508 
¡©
->
Çme
);

511 
pc¡©_¡©s
[
i
] = 
¡©
;

512 
pc¡©_Ï¡v®s
[
i
] = 
	`STATVAL
(
¡©
);

515 
	`¥rštf
(
buf
, "%s_by_pc", 
¡©
->
Çme
);

516 
	`¥rštf
(
buf1
, "% (byexˆadd»ss)", 
¡©
->
desc
);

517 
pc¡©_sdi¡s
[
i
] = 
	`¡©_»g_sdi¡
(
sdb
, 
buf
, 
buf1
,

519  (
PF_COUNT
|
PF_PDF
),

521  
NULL
);

523 
	`ld_»g_¡©s
(
sdb
);

524 
	`mem_»g_¡©s
(
mem
, 
sdb
);

525 
	}
}

529 
	$sim_š™
()

531 
sim_num_»fs
 = 0;

534 
	`»gs_š™
(&
»gs
);

537 
mem
 = 
	`mem_ü—‹
("mem");

538 
	`mem_š™
(
mem
);

539 
	}
}

543 
	$´ofe_m¡©e_obj
(
FILE
 *
¡»am
,

544 *
cmd
,

545 
»gs_t
 *
»gs
,

546 
mem_t
 *
mem
)

549 
	`sim_´št_¡©s
(
¡»am
);

552  
NULL
;

553 
	}
}

557 
	$sim_lßd_´og
(*
âame
,

558 
¬gc
, **
¬gv
,

559 **
’vp
)

562 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

565 
	`dl™e_š™
(
md_»g_obj
, 
dl™e_mem_obj
, 
´ofe_m¡©e_obj
);

566 
	}
}

571 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

574 
	}
}

578 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

580 
	}
}

584 
	$sim_unš™
()

587 
	}
}

599 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

602 
	#CPC
 (
»gs
.
»gs_PC
)

	)

605 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

606 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

608 #ià
defšed
(
TARGET_PISA
)

611 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

612 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

613 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

614 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

615 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

616 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

619 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

620 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

621 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

622 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

623 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

624 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

626 #–ià
defšed
(
TARGET_ALPHA
)

629 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

630 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

631 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

632 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

635 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

636 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

637 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

638 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

641 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

645 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

646 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_BYTE
(
mem
, 
addr
 = (
SRC
)))

647 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

648 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_HALF
(
mem
, 
addr
 = (
SRC
)))

649 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

650 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_WORD
(
mem
, 
addr
 = (
SRC
)))

651 #ifdeà
HOST_HAS_QUAD


652 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

653 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_QUAD
(
mem
, 
addr
 = (
SRC
)))

656 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

657 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_BYTE
(
mem
, 
addr
 = (
DST
), (
SRC
)))

658 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

659 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_HALF
(
mem
, 
addr
 = (
DST
), (
SRC
)))

660 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

661 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_WORD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

662 #ifdeà
HOST_HAS_QUAD


663 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

664 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_QUAD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

668 
	#SYSCALL
(
INST
è
	`sys_sysÿÎ
(&
»gs
, 
mem_acûss
, 
mem
, INST, 
TRUE
)

	)

672 
	gfsm
 = 0;

676 
	$sim_maš
()

678 
i
;

679 
md_š¡_t
 
š¡
;

680 
md_addr_t
 
addr
;

681 
is_wr™e
;

682 
md_İcode
 
İ
;

683 
æags
;

684 
md_çuÉ_ty³
 
çuÉ
;

686 
	`årštf
(
¡d”r
, "sim: ** starting functional simulation **\n");

689 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

692 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_PC
, 0, 0, 0, 0))

693 
	`dl™e_maš
(
»gs
.
»gs_PC
 - (
md_š¡_t
),„egs.regs_PC,

694 
sim_num_š¢
, &
»gs
, 
mem
);

696 
TRUE
)

699 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

700 #ifdeà
TARGET_ALPHA


701 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

705 
	`mem_acûss
(
mem
, 
R—d
, 
»gs
.
»gs_PC
, &
š¡
, (
md_š¡_t
));

707 ià(
v”bo£
)

709 
	`myårštf
(
¡d”r
, "%10À@ 0x%08p: ", 
sim_num_š¢
, 
»gs
.
»gs_PC
);

710 
	`md_´št_š¢
(
š¡
, 
»gs
.
»gs_PC
, 
¡d”r
);

711 
	`årštf
(
¡d”r
, "\n");

716 
sim_num_š¢
++;

719 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

722 
çuÉ
 = 
md_çuÉ_nÚe
;

725 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

728 
İ
)

730 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

731 
OP
: \

732 
	`SYMCAT
(
OP
,
_IMPL
); \

734 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

735 
OP
: \

736 
	`·nic
("attemptedoƒxecute‡†inking opcode");

737 
	#CONNECT
(
OP
)

	)

738 
	#DECLARE_FAULT
(
FAULT
è\

	)

739 { 
çuÉ
 = (
FAULT
); ; }

740 
	~"machše.def
"

742 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

745 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

747 
sim_num_»fs
++;

748 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

749 
is_wr™e
 = 
TRUE
;

755 
æags
 = 
	`MD_OP_FLAGS
(
İ
);

757 ià(
´of_ic
)

759 
š¡_şass_t
 
ic
;

762 ià(
æags
 & 
F_LOAD
)

763 
ic
 = 
ic_lßd
;

764 ià(
æags
 & 
F_STORE
)

765 
ic
 = 
ic_¡Üe
;

766 ià(
æags
 & 
F_UNCOND
)

767 
ic
 = 
ic_uncÚd
;

768 ià(
æags
 & 
F_COND
)

769 
ic
 = 
ic_cÚd
;

770 ià(
æags
 & 
F_ICOMP
)

771 
ic
 = 
ic_icomp
;

772 ià(
æags
 & 
F_FCOMP
)

773 
ic
 = 
ic_fcomp
;

774 ià(
æags
 & 
F_TRAP
)

775 
ic
 = 
ic_Œ­
;

777 
	`·nic
("instruction has‚o class");

780 
	`¡©_add_§m¶e
(
ic_´of
, ()
ic
);

783 ià(
´of_š¡
)

786 
	`¡©_add_§m¶e
(
š¡_´of
, ()
İ
 - 1);

789 ià(
´of_bc
)

791 
b¿nch_şass_t
 
bc
;

794 ià(
æags
 & 
F_CTRL
)

796 ià((
æags
 & (
F_CALL
|
F_DIRJMP
)) == (F_CALL|F_DIRJMP))

797 
bc
 = 
bc_ÿÎ_dœ
;

798 ià((
æags
 & (
F_CALL
|
F_INDIRJMP
)) == (F_CALL|F_INDIRJMP))

799 
bc
 = 
bc_ÿÎ_šdœ
;

800 ià((
æags
 & (
F_UNCOND
|
F_DIRJMP
)) == (F_UNCOND|F_DIRJMP))

801 
bc
 = 
bc_uncÚd_dœ
;

802 ià((
æags
 & (
F_UNCOND
|
F_INDIRJMP
))== (F_UNCOND|F_INDIRJMP))

803 
bc
 = 
bc_uncÚd_šdœ
;

804 ià((
æags
 & (
F_COND
|
F_DIRJMP
)) == (F_COND|F_DIRJMP))

805 
bc
 = 
bc_cÚd_dœ
;

806 ià((
æags
 & (
F_COND
|
F_INDIRJMP
)) == (F_COND|F_INDIRJMP))

807 
bc
 = 
bc_cÚd_šdœ
;

809 
	`·nic
("branch has‚o class");

812 
	`¡©_add_§m¶e
(
bc_´of
, ()
bc
);

816 ià(
´of_am
)

818 
md_amode_ty³
 
am
;

821 
	`MD_AMODE_PREPROBE
(
İ
, 
fsm
);

824 ià(
æags
 & 
F_MEM
)

827 
	`MD_AMODE_PROBE
(
am
, 
İ
, 
fsm
);

830 
	`¡©_add_§m¶e
(
am_´of
, ()
am
);

833 
	`MD_AMODE_POSTPROBE
(
fsm
);

837 ià(
´of_£g
)

839 ià(
æags
 & 
F_MEM
)

842 
	`¡©_add_§m¶e
(
£g_´of
, ()
	`bšd_to_£g
(
addr
));

846 ià(
´of_tsyms
)

848 
tšdex
;

851 
	`sym_bšd_addr
(
»gs
.
»gs_PC
, &
tšdex
, 
FALSE
, 
sdb_‹xt
);

853 ià(
tšdex
 >= 0)

855 ià(
tšdex
 > 
sym_Áextsyms
)

856 
	`·nic
("bogusext symbol index");

858 
	`¡©_add_§m¶e
(
tsym_´of
, 
tšdex
);

863 ià(
´of_dsyms
)

865 
dšdex
;

867 ià(
æags
 & 
F_MEM
)

870 
	`sym_bšd_addr
(
addr
, &
dšdex
, 
FALSE
, 
sdb_d©a
);

872 ià(
dšdex
 >= 0)

874 ià(
dšdex
 > 
sym_nd©asyms
)

875 
	`·nic
("bogus data symbol index");

877 
	`¡©_add_§m¶e
(
dsym_´of
, 
dšdex
);

883 ià(
´of_ddr
)

886 
	`¡©_add_§m¶e
(
ddr_´of
, 
»gs
.
»gs_PC
);

890 
i
=0; i<
pc¡©_ÃÉ
; i++)

892 
couÁ”_t
 
Ãwv®
;

893 
d–
;

896 
Ãwv®
 = 
	`STATVAL
(
pc¡©_¡©s
[
i
]);

897 
d–
 = 
Ãwv®
 - 
pc¡©_Ï¡v®s
[
i
];

898 ià(
d–
 != 0)

900 
	`¡©_add_§m¶es
(
pc¡©_sdi¡s
[
i
], 
»gs
.
»gs_PC
, 
d–
);

901 
pc¡©_Ï¡v®s
[
i
] = 
Ãwv®
;

907 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

908 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

909 
addr
, 
sim_num_š¢
, sim_num_insn))

910 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

913 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

914 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

917 ià(
max_š¡s
 && 
sim_num_š¢
 >= max_insts)

920 
	}
}

	@sim-safe.c

108 
	~<¡dio.h
>

109 
	~<¡dlib.h
>

110 
	~<m©h.h
>

112 
	~"ho¡.h
"

113 
	~"misc.h
"

114 
	~"machše.h
"

115 
	~"»gs.h
"

116 
	~"memÜy.h
"

117 
	~"lßd”.h
"

118 
	~"sysÿÎ.h
"

119 
	~"dl™e.h
"

120 
	~"İtiÚs.h
"

121 
	~"¡©s.h
"

122 
	~"sim.h
"

132 
»gs_t
 
	g»gs
;

135 
mem_t
 *
	gmem
 = 
NULL
;

138 
couÁ”_t
 
	gsim_num_»fs
 = 0;

141 
	gmax_š¡s
;

145 
	$sim_»g_İtiÚs
(
İt_odb_t
 *
odb
)

147 
	`İt_»g_h—d”
(
odb
,

156 
	`İt_»g_ušt
(
odb
, "-max:inst", "maximum‚umber of inst'soƒxecute",

157 &
max_š¡s
, 0,

158  
TRUE
, 
NULL
);

160 
	}
}

164 
	$sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
)

167 
	}
}

171 
	$sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
)

173 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_insn",

175 &
sim_num_š¢
, sim_num_š¢, 
NULL
);

176 
	`¡©_»g_couÁ”
(
sdb
, "sim_num_refs",

178 &
sim_num_»fs
, 0, 
NULL
);

179 
	`¡©_»g_št
(
sdb
, "sim_elapsed_time",

181 &
sim_–­£d_time
, 0, 
NULL
);

182 
	`¡©_»g_fÜmuÏ
(
sdb
, "sim_inst_rate",

184 "sim_num_š¢ / sim_–­£d_time", 
NULL
);

185 
	`ld_»g_¡©s
(
sdb
);

186 
	`mem_»g_¡©s
(
mem
, 
sdb
);

187 
	}
}

191 
	$sim_š™
()

193 
sim_num_»fs
 = 0;

196 
	`»gs_š™
(&
»gs
);

199 
mem
 = 
	`mem_ü—‹
("mem");

200 
	`mem_š™
(
mem
);

201 
	}
}

205 
	$sim_lßd_´og
(*
âame
,

206 
¬gc
, **
¬gv
,

207 **
’vp
)

210 
	`ld_lßd_´og
(
âame
, 
¬gc
, 
¬gv
, 
’vp
, &
»gs
, 
mem
, 
TRUE
);

213 
	`dl™e_š™
(
md_»g_obj
, 
dl™e_mem_obj
, 
dl™e_m¡©e_obj
);

214 
	}
}

218 
	$sim_aux_cÚfig
(
FILE
 *
¡»am
)

221 
	}
}

225 
	$sim_aux_¡©s
(
FILE
 *
¡»am
)

228 
	}
}

232 
	$sim_unš™
()

235 
	}
}

247 
	#SET_NPC
(
EXPR
è(
»gs
.
»gs_NPC
 = (EXPR))

	)

250 
	#CPC
 (
»gs
.
»gs_PC
)

	)

253 
	#GPR
(
N
è(
»gs
.
»gs_R
[N])

	)

254 
	#SET_GPR
(
N
,
EXPR
è(
»gs
.
»gs_R
[N] = (EXPR))

	)

256 #ià
defšed
(
TARGET_PISA
)

259 
	#FPR_L
(
N
è(
»gs
.
»gs_F
.
l
[(N)])

	)

260 
	#SET_FPR_L
(
N
,
EXPR
è(
»gs
.
»gs_F
.
l
[(N)] = (EXPR))

	)

261 
	#FPR_F
(
N
è(
»gs
.
»gs_F
.
f
[(N)])

	)

262 
	#SET_FPR_F
(
N
,
EXPR
è(
»gs
.
»gs_F
.
f
[(N)] = (EXPR))

	)

263 
	#FPR_D
(
N
è(
»gs
.
»gs_F
.
d
[(Nè>> 1])

	)

264 
	#SET_FPR_D
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[(Nè>> 1] = (EXPR))

	)

267 
	#SET_HI
(
EXPR
è(
»gs
.
»gs_C
.
hi
 = (EXPR))

	)

268 
	#HI
 (
»gs
.
»gs_C
.
hi
)

	)

269 
	#SET_LO
(
EXPR
è(
»gs
.
»gs_C
.
lo
 = (EXPR))

	)

270 
	#LO
 (
»gs
.
»gs_C
.
lo
)

	)

271 
	#FCC
 (
»gs
.
»gs_C
.
fcc
)

	)

272 
	#SET_FCC
(
EXPR
è(
»gs
.
»gs_C
.
fcc
 = (EXPR))

	)

274 #–ià
defšed
(
TARGET_ALPHA
)

277 
	#FPR_Q
(
N
è(
»gs
.
»gs_F
.
q
[N])

	)

278 
	#SET_FPR_Q
(
N
,
EXPR
è(
»gs
.
»gs_F
.
q
[N] = (EXPR))

	)

279 
	#FPR
(
N
è(
»gs
.
»gs_F
.
d
[N])

	)

280 
	#SET_FPR
(
N
,
EXPR
è(
»gs
.
»gs_F
.
d
[N] = (EXPR))

	)

283 
	#FPCR
 (
»gs
.
»gs_C
.
åü
)

	)

284 
	#SET_FPCR
(
EXPR
è(
»gs
.
»gs_C
.
åü
 = (EXPR))

	)

285 
	#UNIQ
 (
»gs
.
»gs_C
.
uniq
)

	)

286 
	#SET_UNIQ
(
EXPR
è(
»gs
.
»gs_C
.
uniq
 = (EXPR))

	)

289 #”rÜ 
No
 
ISA
 
rg‘
 
defšed
...

293 
	#READ_BYTE
(
SRC
, 
FAULT
è\

	)

294 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_BYTE
(
mem
, 
addr
 = (
SRC
)))

295 
	#READ_HALF
(
SRC
, 
FAULT
è\

	)

296 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_HALF
(
mem
, 
addr
 = (
SRC
)))

297 
	#READ_WORD
(
SRC
, 
FAULT
è\

	)

298 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_WORD
(
mem
, 
addr
 = (
SRC
)))

299 #ifdeà
HOST_HAS_QUAD


300 
	#READ_QUAD
(
SRC
, 
FAULT
è\

	)

301 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_READ_QUAD
(
mem
, 
addr
 = (
SRC
)))

304 
	#WRITE_BYTE
(
SRC
, 
DST
, 
FAULT
è\

	)

305 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_BYTE
(
mem
, 
addr
 = (
DST
), (
SRC
)))

306 
	#WRITE_HALF
(
SRC
, 
DST
, 
FAULT
è\

	)

307 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_HALF
(
mem
, 
addr
 = (
DST
), (
SRC
)))

308 
	#WRITE_WORD
(
SRC
, 
DST
, 
FAULT
è\

	)

309 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_WORD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

310 #ifdeà
HOST_HAS_QUAD


311 
	#WRITE_QUAD
(
SRC
, 
DST
, 
FAULT
è\

	)

312 ((
	gFAULT
èğ
md_çuÉ_nÚe
, 
MEM_WRITE_QUAD
(
mem
, 
addr
 = (
DST
), (
SRC
)))

316 
	#SYSCALL
(
INST
è
	`sys_sysÿÎ
(&
»gs
, 
mem_acûss
, 
mem
, INST, 
TRUE
)

	)

320 
	$sim_maš
()

322 
md_š¡_t
 
š¡
;

323 
md_addr_t
 
addr
;

324 
md_İcode
 
İ
;

325 
is_wr™e
;

326 
md_çuÉ_ty³
 
çuÉ
;

328 
	`årštf
(
¡d”r
, "sim: ** starting functional simulation **\n");

331 
»gs
.
»gs_NPC
 =„egs.
»gs_PC
 + (
md_š¡_t
);

334 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_PC
, 0, 0, 0, 0))

335 
	`dl™e_maš
(
»gs
.
»gs_PC
 - (
md_š¡_t
),

336 
»gs
.
»gs_PC
, 
sim_num_š¢
, &»gs, 
mem
);

338 
TRUE
)

341 
»gs
.
»gs_R
[
MD_REG_ZERO
] = 0;

342 #ifdeà
TARGET_ALPHA


343 
»gs
.
»gs_F
.
d
[
MD_REG_ZERO
] = 0.0;

347 
š¡
 = 
	`__UNCHK_MEM_READ
(
mem
, 
»gs
.
»gs_PC
, 
md_š¡_t
);

350 
sim_num_š¢
++;

353 
addr
 = 0; 
is_wr™e
 = 
FALSE
;

356 
çuÉ
 = 
md_çuÉ_nÚe
;

359 
	`MD_SET_OPCODE
(
İ
, 
š¡
);

362 
İ
)

364 
	#DEFINST
(
OP
,
MSK
,
NAME
,
OPFORM
,
RES
,
FLAGS
,
O1
,
O2
,
I1
,
I2
,
I3
è\

	)

365 
OP
: \

366 
	`SYMCAT
(
OP
,
_IMPL
); \

368 
	#DEFLINK
(
OP
,
MSK
,
NAME
,
MASK
,
SHIFT
è\

	)

369 
OP
: \

370 
	`·nic
("attemptedoƒxecute‡†inking opcode");

371 
	#CONNECT
(
OP
)

	)

372 
	#DECLARE_FAULT
(
FAULT
è\

	)

373 { 
çuÉ
 = (
FAULT
); ; }

374 
	~"machše.def
"

376 
	`·nic
("attemptedoƒxecute‡ bogus opcode");

379 ià(
çuÉ
 !ğ
md_çuÉ_nÚe
)

380 
	`çl
("çuÉ (%dèd‘eùed @ 0x%08p", 
çuÉ
, 
»gs
.
»gs_PC
);

382 ià(
v”bo£
)

384 
	`myårštf
(
¡d”r
, "%10n [xor: 0x%08x] @ 0x%08p: ",

385 
sim_num_š¢
, 
	`md_xÜ_»gs
(&
»gs
),„egs.
»gs_PC
);

386 
	`md_´št_š¢
(
š¡
, 
»gs
.
»gs_PC
, 
¡d”r
);

387 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

388 
	`myårštf
(
¡d”r
, " mem: 0x%08p", 
addr
);

389 
	`årštf
(
¡d”r
, "\n");

393 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_MEM
)

395 
sim_num_»fs
++;

396 ià(
	`MD_OP_FLAGS
(
İ
è& 
F_STORE
)

397 
is_wr™e
 = 
TRUE
;

401 ià(
	`dl™e_check_b»ak
(
»gs
.
»gs_NPC
,

402 
is_wr™e
 ? 
ACCESS_WRITE
 : 
ACCESS_READ
,

403 
addr
, 
sim_num_š¢
, sim_num_insn))

404 
	`dl™e_maš
(
»gs
.
»gs_PC
,„egs.
»gs_NPC
, 
sim_num_š¢
, &»gs, 
mem
);

407 
»gs
.
»gs_PC
 =„egs.
»gs_NPC
;

408 
»gs
.
»gs_NPC
 +ğ(
md_š¡_t
);

411 ià(
max_š¡s
 && 
sim_num_š¢
 >= max_insts)

414 
	}
}

	@sim.h

97 #iâdeà
SIM_H


98 
	#SIM_H


	)

100 
	~<¡dio.h
>

101 
	~<£tjmp.h
>

102 
	~<time.h
>

104 
	~"İtiÚs.h
"

105 
	~"¡©s.h
"

106 
	~"»gs.h
"

107 
	~"memÜy.h
"

109 
	~"smt.h
"

112 
sim_dump_¡©s
;

115 
sim_ex™_now
;

118 
jmp_buf
 
sim_ex™_buf
;

121 
sim_sw­_by‹s
;

122 
sim_sw­_wÜds
;

125 
couÁ”_t
 
sim_num_š¢
;

128 
time_t
 
sim_¡¬t_time
;

129 
time_t
 
sim_’d_time
;

130 
sim_–­£d_time
;

133 
İt_odb_t
 *
sim_odb
;

136 
¡©_sdb_t
 *
sim_sdb
;

138 #iâdeà
SMT_SS


140 *
sim_eio_âame
;

141 *
sim_chk±_âame
;

142 
FILE
 *
sim_eio_fd
;

144 
FILE
 *
sim_eio_fd
;

146 
FILE
 *
sim_´ogfd
;

154 
sim_»g_İtiÚs
(
İt_odb_t
 *
odb
);

159 
sim_check_İtiÚs
(
İt_odb_t
 *
odb
, 
¬gc
, **
¬gv
);

162 
sim_»g_¡©s
(
¡©_sdb_t
 *
sdb
);

165 
sim_š™
();

167 #ifdeà
SMT_SS


169 
sim_lßd_th»ads
(
¬gc
, **
¬gv
, **
’vp
);

173 
sim_lßd_´og
(*
âame
, 
¬gc
, **
¬gv
, **
’vp
);

178 
sim_aux_cÚfig
(
FILE
 *
¡»am
);

181 
sim_maš
();

186 
sim_aux_¡©s
(
FILE
 *
¡»am
);

189 
sim_unš™
();

193 
sim_´št_¡©s
(
FILE
 *
fd
);

	@size.c

1 
	~<¡dio.h
>

3 
	$maš
()

5 
a
;

6 
b
;

7 
c
;

9 
a
 = 0 -1;

10 
b
 = 0 -1;

11 
c
 = 0 -1;

13 
	`´štf
("IÁ Max = %u \ˆLÚg Max = %lu \ˆLÚg LÚg Max = %Îu\n", 
a
, 
b
, 
c
);

14 
	`´štf
("IÁ Max = %d \ˆLÚg Max = %d \ˆLÚg LÚg Max = %d\n", (
a
),(
b
),(
c
));

15 
	}
}

	@skeleton_chk.cpp

1 
	~<¡dio.h
>

2 
	~<io¡»am
>

3 
	~<¡ršg.h
>

4 
	~"ho¡.h
"

5 
	~"machše.h
"

6 
	~"misc.h
"

8 
usšg
 
Çme¥aû
 
	g¡d
;

10 "C" 
S¹Sk–‘ÚR—d
 (
ty³
);

11 "C" 
G‘ExecStus
 (
md_addr_t
 
pc
, md_addr_ˆ*
bPt
);

13 "C" 
PushMissP»dLßd
 (
md_addr_t
 
pc
, 
Ï‹ncy
);

14 "C" 
CacheProfWr™e
 ();

16 "C" 
š£¹_br_dœ
 (
md_addr_t
 
pc
, 
dœ
, 
missP»d
);

17 "C" 
B¿nchProfWr™e
 ();

19 
AddStÜeRef
 (
md_addr_t
 
PC
, md_addr_ˆ
lßdPC
, 
couÁ”_t
 
commDi¡
);

20 "C" 
StÜeProfWr™e
 ();

22 "C" 
š¡Execu‹dF»q
 (
md_addr_t
 
pc
);

23 "C" 
F»qu’cyWr™e
 ();

25 
	#CONFIG_NINS
 (1024*768)

	)

27 
	sš¡_¡©


29 
md_addr_t
 
	mPC
;

30 
	mäeqCouÁ
;

31 
	md•CouÁ
;

32 
š¡_¡©
 *
	mÃxt
;

35 
š¡_¡©
 *
	gÏ¡Acûs£dT¬g‘s
;

38 şas 
	c¡©sEÁry


40 
	mpublic
:

41 
md_addr_t
 
pc
;

42 
couÁ”_t
 
	mcouÁ
;

43 
¡©sEÁry
 *
	mÃxt
;

46 
	$¡©sEÁry
 ()

48 
pc
 = 0;

49 
couÁ
 = 0;

50 
Ãxt
 = 
NULL
;

53 
	$¡©sEÁry
 (
md_addr_t
 
pc_Ãw
)

55 
pc
 = 
pc_Ãw
;

56 
couÁ
 = 1;

57 
Ãxt
 = 
NULL
;

58 
	}
}

61 ~
	$¡©sEÁry
 ()

63 
	}
};

65 
	$š£¹St
 (
md_addr_t
 
pc_Ãw
)

67 ià(
pc
 =ğ
pc_Ãw
)

69 
couÁ
++;

73 ià(
Ãxt
 =ğ
NULL
)

75 
Ãxt
 = 
Ãw
 
	`¡©sEÁry
 (
pc_Ãw
);

79 
Ãxt
->
	`š£¹St
 (
pc_Ãw
);

81 
	}
}

83 
	$wr™eCommLßd
 (
FILE
 * 
å
)

85 
	`årštf
 (
å
, "PC: 0x%Îx\tCouÁ: %Îd\t", 
pc
, 
couÁ
);

86 ià(
Ãxt
 !ğ
NULL
)

87 
Ãxt
->
	`wr™eCommLßd
 (
å
);

88 
	}
}

91 şas 
	cSk–‘ÚChk


93 
	m´iv©e
:

94 
md_addr_t
 
PC
[
CONFIG_NINS
];

95 
	mInsToExec
[
CONFIG_NINS
];

96 
md_addr_t
 
	mBound¬yPt
[
CONFIG_NINS
];

98 
couÁ”_t
 
	m¡©sTabË
[
CONFIG_NINS
][14];

101 
couÁ”_t
 
	m»fCouÁ
[
CONFIG_NINS
];

104 
couÁ”_t
 
	m¡ÜeRefCouÁ
[
CONFIG_NINS
];

105 
couÁ”_t
 
	m¡Üe2LdDis
[
CONFIG_NINS
];

107 
¡©sEÁry
 *
	m¡LdArcs
[
CONFIG_NINS
];

110 
couÁ”_t
 
	mnÙTak’Br
[
CONFIG_NINS
];

111 
couÁ”_t
 
	mk’Br
[
CONFIG_NINS
];

112 
couÁ”_t
 
	mmissP»d
[
CONFIG_NINS
];

115 
couÁ”_t
 
	mmissP»diùCouÁ
[
CONFIG_NINS
];

116 
couÁ”_t
 
	mmissP»diùL©
[
CONFIG_NINS
];

119 
š¡_¡©
 *
	mš¡St
[
CONFIG_NINS
];

121 
	muIns
;

122 
md_addr_t
 
	mS¹
;

124 
	mpublic
:

126 
	$Sk–‘ÚChk
 ()

128 
uIns
 = 0;

129 
i
 = 0; i < 
CONFIG_NINS
; i++)

131 
ii
;

132 
InsToExec
[
i
] = 0;

133 
Bound¬yPt
[
i
] = 0;

134 
ii
 = 0; ii < 14; ii++)

135 
¡©sTabË
[
i
][
ii
] = 0;

136 
»fCouÁ
[
i
] = 0;

137 
¡ÜeRefCouÁ
[
i
] = 0;

138 
¡Üe2LdDis
[
i
] = 0;

139 
¡LdArcs
[
i
] = 
NULL
;

140 
nÙTak’Br
[
i
] = 0;

141 
k’Br
[
i
] = 0;

142 
missP»d
[
i
] = 0;

143 
missP»diùCouÁ
[
i
] = 0;

144 
missP»diùL©
[
i
] = 0;

145 
š¡St
[
i
] = 
NULL
;

150 ~
	$Sk–‘ÚChk
 ()

152 
	}
};

156 
	$ExecF»q
 (
md_addr_t
 
pc
)

158 
Index
 = (
pc
 - 
S¹
) / 4;

160 ià(
uIns
 > 
Index
 && 
PC
[Index] =ğ
pc
)

161 
»fCouÁ
[
Index
]++;

162 
	}
}

165 
	$F»qu’cyWr™e
 (
FILE
 * 
å
)

167 
md_addr_t
 
max_š¡s
;

168 
	`fwr™e
 (&
uIns
,  (), 1, 
å
);

169 
	`fwr™e
 (
»fCouÁ
,  (
couÁ”_t
), 
uIns
, 
å
);

170 
	}
}

174 
	$AddStÜeRef
 (
md_addr_t
 
pc
, md_addr_ˆ
lßdPC
, 
couÁ”_t
 
commDi¡
)

176 
Index
 = (è(
pc
 - 
S¹
) / 4;

178 ià(
uIns
 > 
Index
 && 
PC
[Index] =ğ
pc
)

180 
¡ÜeRefCouÁ
[
Index
]++;

181 
¡Üe2LdDis
[
Index
] +ğ
commDi¡
;

182 ià(
¡LdArcs
[
Index
] =ğ
NULL
)

183 
¡LdArcs
[
Index
] = 
Ãw
 
	`¡©sEÁry
 (
lßdPC
);

185 
¡LdArcs
[
Index
]->
	`š£¹St
 (
lßdPC
);

187 
	}
}

189 
	$StÜeProfWr™e
 (
FILE
 * 
å
)

191 
i
 = 0; i < 
uIns
; i++)

193 ià(
¡ÜeRefCouÁ
[
i
] == 0)

194 
¡Üe2LdDis
[
i
] = 2000000000;

197 
¡Üe2LdDis
[
i
] = stÜe2LdDis[i] / 
¡ÜeRefCouÁ
[i];

198 
	`årštf
 (
å
, "PC: 0x%Îx\tStÜeLdDi¡: %Îd\tIn¡CouÁ: %Îd\tRefCouÁ: %Îd\t", 
PC
[
i
], 
¡Üe2LdDis
[i], 
»fCouÁ
[i], 
¡ÜeRefCouÁ
[i]);

199 ià(
¡LdArcs
[
i
] !ğ
NULL
)

200 
¡LdArcs
[
i
]->
	`wr™eCommLßd
 (
å
);

201 
	`årštf
 (
å
, "\n");

204 
	}
}

208 
	$š£¹BrDœ
 (
md_addr_t
 
pc
, 
dœ
, 
isMissP»d
)

210 
Index
 = (è(
pc
 - 
S¹
) / 4;

212 ià(
uIns
 > 
Index
 && 
PC
[Index] =ğ
pc
)

214 ià(
dœ
 == 0)

215 
nÙTak’Br
[
Index
]++;

217 
k’Br
[
Index
]++;

218 
missP»d
[
Index
] +ğ
isMissP»d
;

220 
	}
}

222 
	$B¿nchProfWr™e
 (
FILE
 * 
å
)

224 
i
 = 0; i < 
uIns
; i++)

226 ià(
nÙTak’Br
[
i
] !ğ0 || 
k’Br
[i] != 0)

227 
	`årštf
 (
å
, "PC: 0x%Îx\tNÙTak’: %Îd\tTak’ B¿nch: %Îd TÙ® Mis¥»diùiÚ %Îd\n", 
PC
[
i
], 
nÙTak’Br
[i], 
k’Br
[i], 
missP»d
[i]);

229 
	}
}

233 
	$PushMissP»dLßd
 (
md_addr_t
 
pc
, 
Ï‹ncy
)

235 
Index
 = (è(
pc
 - 
S¹
) / 4;

237 ià(
uIns
 > 
Index
 && 
PC
[Index] =ğ
pc
)

239 
missP»diùCouÁ
[
Index
]++;

240 
missP»diùL©
[
Index
] +ğ
Ï‹ncy
;

242 
	}
}

244 
	$CacheProfWr™e
 (
FILE
 * 
å
)

246 
i
 = 0; i < 
uIns
; i++)

248 ià(
missP»diùCouÁ
[
i
] != 0)

249 
	`årštf
 (
å
, "PC: 0x%Îx\tTÙ®MissL©: %Îd\tMis CouÁ: %Îd\n", 
PC
[
i
], 
missP»diùL©
[i], 
missP»diùCouÁ
[i]);

251 
	}
}

255 
	$R—dSk–‘Ú
 (
FILE
 * 
å
, 
ty³
)

257 
lše
[20000];

258 *
wÜd
;

259 *
Ãxt
;

260 *
tok’
;

262 
	`fg‘s
 (
lše
, 20000, 
å
))

264 
wÜd
 = 
lše
;

265 
tok’
 = 
	`¡¹ok_r
 (
wÜd
, " ", &
Ãxt
);

266 
wÜd
 = 
Ãxt
;

267 
PC
[
uIns
] = (
md_addr_t
è
	`¡¹Şl
 (
tok’
, &
Ãxt
, 0);

269 
tok’
 = 
	`¡¹ok_r
 (
wÜd
, "\t", &
Ãxt
);

270 
wÜd
 = 
Ãxt
;

271 
InsToExec
[
uIns
] = (è
	`¡¹Ş
 (
tok’
, &
Ãxt
, 0);

273 ià(
ty³
 == 1)

275 
i
 = 0; i < 
InsToExec
[
uIns
]; i++)

277 
tok’
 = 
	`¡¹ok_r
 (
wÜd
, "\t", &
Ãxt
);

278 
wÜd
 = 
Ãxt
;

279 
md_addr_t
 
rg‘PC
 = (md_addr_tè
	`¡¹Şl
 (
tok’
, &
Ãxt
, 0);

281 ià(
rg‘PC
 == 0)

282 
	`årštf
 (
¡d”r
, "Target PC can‚ot be†oaded zero\n");

284 ià(
š¡St
[
uIns
] =ğ
NULL
)

286 
md_addr_t
 
‹mpMask
 = 1;

288 
‹mpMask
 = (tempMask << 32);

289 
š¡St
[
uIns
] = 
Ãw
 
š¡_¡©
;

291 
š¡St
[
uIns
]->
PC
 = 0;

292 
š¡St
[
uIns
]->
PC
 = 
rg‘PC
;

293 
š¡St
[
uIns
]->
PC
 = in¡St[uIns]->PC | 
‹mpMask
;

294 
š¡St
[
uIns
]->
Ãxt
 = 
NULL
;

298 
md_addr_t
 
‹mpMask
 = 1;

300 
‹mpMask
 = (tempMask << 32);

301 
š¡_¡©
 *
‹mp
 = 
Ãw
 inst_stat;

303 
‹mp
->
PC
 = 0;

304 
‹mp
->
PC
 = 
rg‘PC
;

305 
‹mp
->
PC
 |ğ
‹mpMask
;

306 
‹mp
->
Ãxt
 = 
NULL
;

307 
š¡_¡©
 *
Œav”£
 = 
š¡St
[
uIns
];

309 
Œav”£
->
Ãxt
 !ğ
NULL
)

310 
Œav”£
 =¿v”£->
Ãxt
;

311 
Œav”£
->
Ãxt
 = 
‹mp
;

316 ià(
uIns
 == 0)

318 
S¹
 = 
PC
[
uIns
];

320 ià(
PC
[
uIns
] !ğ(
md_addr_t
è(
S¹
 + 4 * uIns))

322 
	`årštf
 (
¡d”r
, "Skeleton Read Contunity Error\n");

323 
	`ex™
 (0);

325 
uIns
++;

327 
	}
}

330 
	$ExecStus
 (
md_addr_t
 
pc
, md_addr_ˆ*
bPt
)

332 
Index
 = (
pc
 - 
S¹
) / 4;

334 ià(
uIns
 > 
Index
 && Index >= 0)

336 ià(
PC
[
Index
] !ğ
pc
)

341 
Ï¡Acûs£dT¬g‘s
 = 
š¡St
[
Index
];

342 if(
bPt
)

343 *
bPt
 = 
Bound¬yPt
[
Index
];

344  
InsToExec
[
Index
];

348 
	}
}

351 
Sk–‘ÚChk
 
	gsk–‘Ú
;

354 
	$S¹Sk–‘ÚR—d
 (
ty³
)

356 
FILE
 *
å
;

357 *
sim_¡r_dump
;

358 *
sim_dump
 = 
sim_¡r_dump
;

359 
¡rFeName
[256];

361 ià(!
sim_dump
)

363 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

364 
	`ex™
 (1);

367 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

368 ià(
ty³
 == 0)

369 
	`¡rÿt
 (
¡rFeName
, ".dis");

371 
	`¡rÿt
 (
¡rFeName
, ".bbl");

373 ià((
å
 = 
	`fİ’
 (
¡rFeName
, "r")è=ğ
NULL
)

375 
	`årštf
 (
¡d”r
, "Error opening file\n");

376 
	`ex™
 (0);

378 
sk–‘Ú
.
	`R—dSk–‘Ú
 (
å
, 
ty³
);

379 
	`fşo£
 (
å
);

380 
	}
}

383 
	$G‘ExecStus
 (
md_addr_t
 
pc
, md_addr_ˆ*
bPt
)

385  
sk–‘Ú
.
	`ExecStus
 (
pc
, 
bPt
);

386 
	}
}

390 
	$š¡Execu‹dF»q
 (
md_addr_t
 
pc
)

392 
sk–‘Ú
.
	`ExecF»q
 (
pc
);

393 
	}
}

396 
	$F»qu’cyWr™e
 ()

398 
FILE
 *
å
;

399 *
sim_¡r_dump
;

400 *
sim_dump
 = 
sim_¡r_dump
;

401 
¡rFeName
[256];

403 ià(!
sim_dump
)

405 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

406 
	`ex™
 (1);

409 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

410 
	`¡rÿt
 (
¡rFeName
, ".fpf");

412 ià((
å
 = 
	`fİ’
 (
¡rFeName
, "w")è=ğ
NULL
)

414 
	`årštf
 (
¡d”r
, "Error opening file\n");

415 
	`ex™
 (0);

417 
sk–‘Ú
.
	`F»qu’cyWr™e
 (
å
);

418 
	`fşo£
 (
å
);

419 
	}
}

423 
	$AddStÜeRef
 (
md_addr_t
 
PC
, md_addr_ˆ
lßdPC
, 
couÁ”_t
 
commDi¡
)

425 
sk–‘Ú
.
	`AddStÜeRef
 (
PC
, 
lßdPC
, 
commDi¡
);

426 
	}
}

429 
	$StÜeProfWr™e
 ()

431 
FILE
 *
å
;

432 *
sim_¡r_dump
;

433 *
sim_dump
 = 
sim_¡r_dump
;

434 
¡rFeName
[256];

436 ià(!
sim_dump
)

438 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

439 
	`ex™
 (1);

442 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

443 
	`¡rÿt
 (
¡rFeName
, ".spf");

445 ià((
å
 = 
	`fİ’
 (
¡rFeName
, "w")è=ğ
NULL
)

447 
	`årštf
 (
¡d”r
, "Error opening file\n");

448 
	`ex™
 (0);

450 
sk–‘Ú
.
	`StÜeProfWr™e
 (
å
);

451 
	`fşo£
 (
å
);

452 
	}
}

456 
	$š£¹_br_dœ
 (
md_addr_t
 
pc
, 
dœ
, 
missP»d
)

458 
sk–‘Ú
.
	`š£¹BrDœ
 (
pc
, 
dœ
, 
missP»d
);

459 
	}
}

462 
	$B¿nchProfWr™e
 ()

464 
FILE
 *
å
;

465 *
sim_¡r_dump
;

466 *
sim_dump
 = 
sim_¡r_dump
;

467 
¡rFeName
[256];

469 ià(!
sim_dump
)

471 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

472 
	`ex™
 (1);

475 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

476 
	`¡rÿt
 (
¡rFeName
, ".bpf");

478 ià((
å
 = 
	`fİ’
 (
¡rFeName
, "w")è=ğ
NULL
)

480 
	`årštf
 (
¡d”r
, "Error opening file\n");

481 
	`ex™
 (0);

483 
sk–‘Ú
.
	`B¿nchProfWr™e
 (
å
);

484 
	`fşo£
 (
å
);

485 
	}
}

489 
	$PushMissP»dLßd
 (
md_addr_t
 
pc
, 
Ï‹ncy
)

491 
sk–‘Ú
.
	`PushMissP»dLßd
 (
pc
, 
Ï‹ncy
);

492 
	}
}

495 
	$CacheProfWr™e
 ()

497 
FILE
 *
å
;

498 *
sim_¡r_dump
;

499 *
sim_dump
 = 
sim_¡r_dump
;

500 
¡rFeName
[256];

502 ià(!
sim_dump
)

504 
	`årštf
 (
¡d”r
, "No‚ame for dump file\n");

505 
	`ex™
 (1);

508 
	`¡rıy
 (
¡rFeName
, 
sim_dump
);

509 
	`¡rÿt
 (
¡rFeName
, ".cpf");

511 ià((
å
 = 
	`fİ’
 (
¡rFeName
, "w")è=ğ
NULL
)

513 
	`årštf
 (
¡d”r
, "Error opening file\n");

514 
	`ex™
 (0);

516 
sk–‘Ú
.
	`CacheProfWr™e
 (
å
);

517 
	`fşo£
 (
å
);

518 
	}
}

	@smt.h

102 
	#SMT_SS


	)

104 #ifdeà
SMT_SS


107 
	#RELAXED_CONSISTENCY


	)

110 
	#MAXTHREADS
 64

	)

111 
	#WORDSIZE
 8

	)

120 
	#COUNT_LSQ


	)

123 #ifdeà
COUNT_LSQ


136 
	#RES1_FULL_MASK


	)

141 
	#CMP_MACHINE


	)

143 #ià(
MAXTHREADS
 == 1)

144 
	#MESH_SIZE
 1

	)

145 
	#CLUSTERS
 1

	)

146 
	#PREG_CLUSTER
 1

	)

147 
	#CL_INT_DIV
(
x
) ((x) >> 0)

148 
	#CL_FLOAT_DIV
(
x
) ((x) * 1)

149 
	#CL_MOD
(
x
) ((x) & 0)

151 #ià(
MAXTHREADS
 =ğ2)

	)

152 
	#MESH_SIZE
 2

	)

153 
	#CLUSTERS
 2

	)

154 
	#PREG_CLUSTER
 2

	)

155 
	#CL_INT_DIV
(
x
) ((x) >> 1)

156 
	#CL_FLOAT_DIV
(
x
) ((x) * .5)

157 
	#CL_MOD
(
x
) ((x) & 1)

159 #ià(
MAXTHREADS
 =ğ4)

	)

160 
	#MESH_SIZE
 2

	)

161 
	#CLUSTERS
 4

	)

162 
	#PREG_CLUSTER
 4

	)

163 
	#CL_INT_DIV
(
x
) ((x) >> 2)

164 
	#CL_FLOAT_DIV
(
x
) ((x) * .25)

165 
	#CL_MOD
(
x
) ((x) & 3)

167 #ià(
MAXTHREADS
 =ğ8)

	)

168 
	#MESH_SIZE
 4

	)

169 
	#CLUSTERS
 8

	)

170 
	#PREG_CLUSTER
 8

	)

171 
	#CL_INT_DIV
(
x
) ((x) >> 3)

172 
	#CL_FLOAT_DIV
(
x
) ((x) * .125)

173 
	#CL_MOD
(
x
) ((x) & 7)

175 #ià(
MAXTHREADS
 =ğ16)

	)

176 
	#MESH_SIZE
 4

	)

177 
	#CLUSTERS
 16

	)

178 
	#PREG_CLUSTER
 16

	)

179 
	#CL_INT_DIV
(
x
) ((x) >> 4)

180 
	#CL_FLOAT_DIV
(
x
) ((x) * .0625)

181 
	#CL_MOD
(
x
) ((x) & 15)

183 #ià(
MAXTHREADS
 =ğ32)

	)

184 
	#MESH_SIZE
 4

	)

185 
	#CLUSTERS
 32

	)

186 
	#PREG_CLUSTER
 32

	)

187 
	#CL_INT_DIV
(
x
) ((x) >> 5)

188 
	#CL_FLOAT_DIV
(
x
) ((x) * .03125)

189 
	#CL_MOD
(
x
) ((x) & 31)

191 #ià(
MAXTHREADS
 =ğ64)

	)

192 
	#MESH_SIZE
 8

	)

193 
	#CLUSTERS
 64

	)

194 
	#PREG_CLUS64R
 64

	)

195 
	#CL_INT_DIV
(
x
) ((x) >> 6)

196 
	#CL_FLOAT_DIV
(
x
) ((x) * .015625)

197 
	#CL_MOD
(
x
) ((x) & 63)

199 #ià(
MAXTHREADS
 =ğ80)

	)

200 
	#MESH_SIZE
 10

	)

201 
	#CLUSTERS
 80

	)

202 
	#PREG_CLUS64R
 80

	)

203 
	#CL_INT_DIV
(
x
) ((x) >> 6)

204 
	#CL_FLOAT_DIV
(
x
) ((x) * .015625)

205 
	#CL_MOD
(
x
) ((x) & 63)

207 #ià(
MAXTHREADS
 =ğ128)

	)

208 
	#MESH_SIZE
 16

	)

209 
	#CLUSTERS
 128

	)

210 
	#PREG_CLUS64R
 128

	)

211 
	#CL_INT_DIV
(
x
) ((x) >> 7)

212 
	#CL_FLOAT_DIV
(
x
) ((x) * .0078125)

213 
	#CL_MOD
(
x
) ((x) & 127)

215 #ià(
MAXTHREADS
 =ğ256)

	)

216 
	#MESH_SIZE
 16

	)

217 
	#CLUSTERS
 256

	)

218 
	#PREG_CLUS64R
 256

	)

219 
	#CL_INT_DIV
(
x
) ((x) >> 8)

220 
	#CL_FLOAT_DIV
(
x
) ((x) * .00390625)

221 
	#CL_MOD
(
x
) ((x) & 255)

223 

	)

224 #ifdeà
CMC_MACHINE


225 
	#CMC_PARTS
 2

226 
	#CMC_N_WAY
 (
CLUSTERS
/
CMC_PARTS
)

	)

227 
	#CMC_START_N_WAY


	)

228 
	#CMC_FRONT_END


	)

229 
	#PARTITIONED_LSQ


	)

235 #ifdeà
CMP_MACHINE


237 
	#CMP_N_WAY


	)

238 
	#PARTITIONED_FRONT_END


	)

239 
	#PARTITIONED_LSQ


	)

240 
	#NO_OVERHEAD


	)

241 
	#NO_COMMUNICATION


	)

266 #ifdeà
NO_OVERHEAD


267 
	#IGNORE_ALL_COMM_LATENCY


	)

268 
	#NO_EXTRA_RESOURCE


270 

	)

271 #ifdeà
IGNORE_ALL_COMM_LATENCY


272 
	#IGNORE_MEM_COMM_LATENCY


	)

273 
	#IGNORE_DISPATCH_COMM_LATENCY


	)

276 #ifdeà
NO_EXTRA_RESOURCE


277 
	#NO_EXTRA_REG


	)

278 
	#NO_EXTRA_LSQ


	)

282 
	#IFREELIST_FREELIST


	)

287 
	#ALLOW_ANY_CLUSTER


	)

299 #ifdeà
ACTIVE_N_WAY


302 
	#FIXED_N_WAY


304 

	)

306 
	#FETCH_QUEUE_COMPACT


308 
	#PERFECT_PREDICTOR_BUG


	)

309 
	#FETCH_LIMIT_THREAD_BUG


	)

338 #ifdeà
INTERLEAVE_FETCH


339 
	#ROUND_ROBIN


	)

340 
	#FETCH_BANK_MULT


	)

342 
	#STEER_NEIGHBOR_BIAS


	)

347 #ifdeà
EXAMINE_FETCH


349 
	#FETCH_TARGET_TRACE


	)

362 #ifdeà
PARTITIONED_FRONT_END


364 
	#FETCH_QUEUE_CLUSTER


	)

368 
	#DISPATCH_CLUSTER


	)

371 
	#ICACHE_BANK_CLUSTER


	)

372 
	#FETCH_BANK_MULT


375 

	)

376 #ifdeà
CMC_FRONT_END


378 
	#FETCH_QUEUE_CMC


	)

380 
	#DISPATCH_CMC


	)

381 
	#SELECTIVE_DISPATCH


	)

385 
	#DISPATCH_COMM_LATENCY_CMC


	)

387 
	#ICACHE_BANK_CMC


	)

388 
	#FETCH_BANK_MULT


391 

	)

395 
	#FETCH_QUEUE_THREAD


	)

396 
	#SELECTIVE_DISPATCH


	)

417 
	#NO_GATE


	)

418 #ifdeà
NO_GATE


419 
	#MIN_PDG
 
MAXTHREADS
+1

	)

421 
	#MIN_PDG
 2

	)

437 
	#LOAD_MISS


	)

457 
	#N_WAY_STEER


	)

471 
	#TOTAL_COMM


	)

474 
	#COMM_FACTOR
 10

	)

476 
	#MEM_BANK_FACTOR
 0

	)

483 #iâdeà
IGNORE_ALL_COMM_LATENCY


484 
	#STEER_OPRANDS


	)

488 #iâdeà
IGNORE_MEM_COMM_LATENCY


489 
	#STEER_MEM_NEIGHBOR
 1

	)

499 
	#STEER_RES1


	)

507 #ifdeà
STEER_NEIGHBOR_BIAS


510 
	#INIT_N_WAY_CENTRAL


	)

513 #ifdeà 
CENTRALIZED_STEER


515 
	#INIT_CENTRALIZED_STEER


	)

518 #ifdeà 
MINIMUM_STEER


520 
	#INIT_CENTRALIZED_STEER


	)

523 #ifdeà 
MEM_STEER


524 
	#DISTRIBUTED_STEER


	)

525 
	#CENTRALIZED_LSQ


	)

528 #ifdeà 
STEER_MEM_LSQ


529 #iâdeà 
INIT_CMP_STEER


530 
	#DISTRIBUTED_STEER


	)

534 #ifdeà 
N_WAY_STEER


539 #ifdeà
EXAMIN_N_WAY_ADAPT


542 
	#PERIODIC_INVASTIGATE
 1000

	)

543 
	#DOUBLE_ADAPT


	)

546 
	#ADAPT_RATE
 1000

	)

550 
	#ARITHMATIC_MEAN


	)

551 
	#ACCUMILATE
 5

	)

553 #ifdeà 
CMC_PARTS


554 
	#EXAMIN_CMC


	)

566 
	#DISABLE_DISPATCH_GATE
 0

	)

575 
	#RATIO_LIMIT
 1.5

	)

588 
	#UNREADY_COUNT_LIMIT
 100

	)

591 
	#UNREADY_CHAIN_LIMIT
 100

	)

602 #ifdeà 
FIXED_N_WAY


603 #ifdeà
MONOLETHIC_MACHINE


604 
	#N_WAY
 1

	)

606 #ifdeà
CMC_N_WAY


607 
	#N_WAY
 
CMC_N_WAY


608 #–£ // fÜ CMC_N_WAY

	)

609 #ifdeà 
CMP_N_WAY


610 
	#N_WAY
 1

	)

612 #ifdeà
N_WAY


614 #ià
N_WAY
 > 
CLUSTERS


615 #”rÜ 
N_WAY
 > 
CLUSTERS
 
dÛs
 
nÙ
 
make
 
£n£


618 
	#N_WAY
 2

624 

	)

628 #ifdeà 
COUNT_LSQ


635 #ifdeà 
THRD_PROFILE


642 
	#mix1_4_m


	)

645 
	#NUMPARTITIONS
 2

	)

651 
	#LINE_INTERLEAVED


	)

653 #ifdeà 
LINE_INTERLEAVED


654 
	#THRD_WAY_CACHE


	)

655 
	#WORD_INTERLEAVED
 0

	)

657 
	#WORD_INTERLEAVED
 1

	)

662 #iâdeà 
CENTRALIZED_LSQ


663 
	#DE_CENTRALIZED_LSQ


	)

666 #ifdeà
DE_CENTRALIZED_LSQ


668 
	#SPLIT_LSQ


670 

	)

671 #ifdeà 
SPLIT_LSQ


672 
	#LSQ_FULL_MASK


	)

673 
	#PARTITIONED_LSQ


675 #iâdeà
NO_EXTRA_LSQ


	)

676 
	#DISTRIBUTE_STORE


	)

678 
	#PWR_DE_CENTRALIZED_LSQ


	)

682 
	#CENTRALIZED_CACHE_BANK


	)

692 #ifdeà 
PARTITIONED_LSQ


693 
	#CENTRALIZED_CACHE_BANK


	)

694 #ifdeà
CMP_N_WAY


695 
	#LSQ_PARTS
 
CLUSTERS


	)

697 #ifdeà
CMC_N_WAY


698 
	#LSQ_PARTS
 
CMC_PARTS


	)

700 
	#LSQ_PARTS
 4

703 #–£ // fÜ PARTITIONED_LSQ

	)

704 
	#LSQ_PARTS
 
CLUSTERS


	)

707 #ifdeà
CENTRALIZED_CACHE_BANK


708 #iâdeà
PARTITIONED_LSQ


709 
	#STEER_MEM_NEIGHBOR
 0

	)

717 #ifdeà
PWR_DE_CENTRALIZED_LSQ


718 
	#DE_CENTRALIZED_POWER_BUG


	)

721 #ifdeà 
THRD_WAY_CACHE


722 
	#SEQUENTIAL_LINE


	)

726 #ifdeà 
FIXED_N_WAY


728 #ifdeà 
STEER_CACHE_COUPLING


729 
	#N_WAY_CACHE
 
N_WAY


	)

731 #ifdeà 
CMP_N_WAY


732 
	#N_WAY_CACHE
 1

	)

734 
	#N_WAY_CACHE
 1

740 

	)

742 #ifdeà
N_WAY_CACHE_ADAPT


744 
	#PRIVATE_CACHE


	)

745 
	#DOUBLE_ADAPT


	)

746 
	#ADAPT_RATE
 1000

	)

747 
	#PER_FACTOR
 0.25

	)

748 
	#MEMORYLESS


	)

749 
	#MEM_REF


	)

752 
	#MEM_REF_FACTOR
 0.16

	)

762 #iâdeà 
NO_COMMUNICATION


764 
	#RAW


	)

766 
	#RABMAP


	)

767 #ifdeà 
RABMAP


768 
	#RAWMAP


	)

769 
	#RABCOMM


	)

774 
	#COMM_BUFF


	)

776 
	#COMM_LINK_PWR


	)

780 
	#INST_TRANS_RATE


782 #ifdeà
INST_TRANS_RATE


	)

783 
	#LINK_WIDTH
 2

784 
	#TRACE_REG


	)

788 
	#MEM_COMM_LAT


789 #ifdeà
MEM_COMM_LAT


	)

790 
	#LOAD_COMM_BUG


795 

	)

796 
	#STRUCT_HAZARD


797 

	)

799 
	#PWR_CLUSTER


	)

801 #ifdeà 
PWR_CLUSTER


803 
	#ISSUE_PER_CLUSTER


	)

808 
	#CLUSTER_CONFLICTS


	)

809 
	#DELAY_STAT


	)

810 
	#CACHE_MISS_STAT


	)

811 
	#STEER_STAT


	)

812 
	#COMM_LAT_STAT


	)

814 
	#CACHE_BANK_STAT


	)

815 
	#PERFORMANCE_STAT


	)

816 
	#FETCH_DELAY_STAT


	)

817 
	#DISPATCH_STAT


	)

818 
	#ISSUE_STAT


	)

819 
	#CACHE_THRD_STAT


	)

820 
	#MEM_REF_STAT


	)

824 #ifdeà
CACHE_SET_STAT


825 
	#MAXCACHESET
 1024

	)

829 #ifdeà 
STEER_DISPATCH_STAT


831 
	#MAXDEV
 256

	)

833 
	#OPERANDS_READY
(
RS
è\

	)

834 ((
	gRS
)->
	gid•_»ady
[0] && (RS)->idep_ready[1] && (RS)->idep_ready[2])

835 
	#UNREADY_DISPATCH_STAT


	)

838 
	#IC_STAT


	)

844 
	#REG_RENAME_CONFIGUARE


	)

847 
	#ISSUE_FU


	)

850 
	#ISSUE_FU_PORT


	)

853 
	#PORT_PER_BANK


	)

866 #iâdeà
FETCH_TARGET_TRACE


868 
	#FETCH_ONE_BLOCK


	)

874 
	#MSHR


	)

875 #ifdeà 
MSHR


877 
	#MSHRSIZE
 10000000

878 
	#MSHR_DIST


880 

	)

881 
	#PWR_CLOCK_DIST


	)

882 
	#PWR_WAKEUP_SELECT


883 
	#PWR_ACCESS


884 

	)

887 
	#PWR__SMT_RR


888 
	#PWR__SMT_MULTIRAT


889 

	)

890 
	#PWR_WAKE


892 #ifdeà 
PWR_WAKE


	)

896 
	#ICACHEBANKS
 8

897 

	)

898 #ifdeà 
PORT_PER_BANK


899 
	#PWR_BANKS


901 

	)

904 
	#ISU_N2


905 

	)

908 #ifdeà 
EVENT_CACHE_UPDATE


914 
	#NO_RONZ_PRINT


	)

930 
	#DISPATCH_COMM_LATENCY_BUG


	)

932 
	#ERRNO_BUG


	)

934 
	#MISFETCH_BUG


	)

958 
	#FIX2_BUG


	)

963 
	#FIX_LAT_BUG


	)

968 
	#FIX_LSQ_REFRESH_BUG


	)

976 #ifdeà 
CYCLE_JUMP


977 
	#LATEST_CYCLE_JUMP


	)

978 
	#SKIP_JUMP_LIMIT
 500

980 

	)

	@stats.c

95 
	~<¡dio.h
>

96 
	~<¡dlib.h
>

97 
	~<lim™s.h
>

98 
	~<m©h.h
>

100 
	~"ho¡.h
"

101 
	~"misc.h
"

102 
	~"machše.h
"

103 
	~"ev®.h
"

104 
	~"¡©s.h
"

107 (*
	tqsÜt_func
)(const *, const *);

110 
ev®_v®ue_t


111 
	$¡©_ev®_id’t
(
ev®_¡©e_t
 *
es
)

113 
¡©_sdb_t
 *
sdb
 = 
es
->
u£r_±r
;

114 
¡©_¡©_t
 *
¡©
;

115 
ev®_v®ue_t
 
”r_v®ue
 = { 
‘_št
, { 0 } };

116 
ev®_v®ue_t
 
v®
;

119 
¡©
 = 
sdb
->
¡©s
; sˆ!ğ
NULL
; sˆğ¡©->
Ãxt
)

121 ià(!
	`¡rcmp
(
¡©
->
Çme
, 
es
->
tok_buf
))

127 ià(!
¡©
)

130 
ev®_”rÜ
 = 
ERR_UNDEFVAR
;

131 
ev®_”r_exŒa_šfo
 = 
es
->
tok_buf
;

132  
”r_v®ue
;

137 
¡©
->
sc
)

139 
sc_št
:

140 
v®
.
ty³
 = 
‘_št
;

141 
v®
.
v®ue
.
as_št
 = *
¡©
->
v¬ŸÁ
.
fÜ_št
.
v¬
;

143 
sc_ušt
:

144 
v®
.
ty³
 = 
‘_ušt
;

145 
v®
.
v®ue
.
as_ušt
 = *
¡©
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
;

147 #ifdeà
HOST_HAS_QWORD


148 
sc_qwÜd
:

150 
v®
.
ty³
 = 
‘_doubË
;

151 #ifdeà
_MSC_VER


152 
v®
.
v®ue
.
as_doubË
 = ()(
sqwÜd_t
)*
¡©
->
v¬ŸÁ
.
fÜ_qwÜd
.
v¬
;

154 
v®
.
v®ue
.
as_doubË
 = ()*
¡©
->
v¬ŸÁ
.
fÜ_qwÜd
.
v¬
;

157 
sc_sqwÜd
:

159 
v®
.
ty³
 = 
‘_doubË
;

160 
v®
.
v®ue
.
as_doubË
 = ()*
¡©
->
v¬ŸÁ
.
fÜ_sqwÜd
.
v¬
;

163 
sc_æßt
:

164 
v®
.
ty³
 = 
‘_æßt
;

165 
v®
.
v®ue
.
as_æßt
 = *
¡©
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
;

167 
sc_doubË
:

168 
v®
.
ty³
 = 
‘_doubË
;

169 
v®
.
v®ue
.
as_doubË
 = *
¡©
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
;

171 
sc_di¡
:

172 
sc_sdi¡
:

173 
	`çl
("stat distributions‚ot‡llowed in formulaƒxpressions");

175 
sc_fÜmuÏ
:

178 
ev®_¡©e_t
 *
es
 = 
	`ev®_Ãw
(
¡©_ev®_id’t
, 
sdb
);

179 *
’dp
;

181 
v®
 = 
	`ev®_ex´
(
es
, 
¡©
->
v¬ŸÁ
.
fÜ_fÜmuÏ
.
fÜmuÏ
, &
’dp
);

182 ià(
ev®_”rÜ
 !ğ
ERR_NOERR
 || *
’dp
 != '\0')

185 
v®
 = 
”r_v®ue
;

188 
	`ev®_d–‘e
(
es
);

192 
	`·nic
("bogus stat class");

195  
v®
;

196 
	}
}

199 
¡©_sdb_t
 *

200 
	$¡©_Ãw
()

202 
¡©_sdb_t
 *
sdb
;

204 
sdb
 = (
¡©_sdb_t
 *)
	`ÿÎoc
(1, (stat_sdb_t));

205 ià(!
sdb
)

206 
	`çl
("out of virtual memory");

208 
sdb
->
¡©s
 = 
NULL
;

209 
sdb
->
ev®u©Ü
 = 
	`ev®_Ãw
(
¡©_ev®_id’t
, sdb);

211  
sdb
;

212 
	}
}

216 
	$¡©_d–‘e
(
¡©_sdb_t
 *
sdb
)

218 
i
;

219 
¡©_¡©_t
 *
¡©
, *
¡©_Ãxt
;

220 
buck‘_t
 *
buck‘
, *
buck‘_Ãxt
;

223 
¡©
 = 
sdb
->
¡©s
; sˆ!ğ
NULL
; sˆğ
¡©_Ãxt
)

225 
¡©_Ãxt
 = 
¡©
->
Ãxt
;

226 
¡©
->
Ãxt
 = 
NULL
;

229 
¡©
->
sc
)

231 
sc_št
:

232 
sc_ušt
:

233 #ifdeà
HOST_HAS_QWORD


234 
sc_qwÜd
:

235 
sc_sqwÜd
:

237 
sc_æßt
:

238 
sc_doubË
:

239 
sc_fÜmuÏ
:

242 
sc_di¡
:

244 
	`ä“
(
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
);

245 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
 = 
NULL
;

247 
sc_sdi¡
:

249 
i
=0; i<
HTAB_SZ
; i++)

251 
buck‘
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
i
];

252 
buck‘
 !ğ
NULL
;

253 
buck‘
 = 
buck‘_Ãxt
)

255 
buck‘_Ãxt
 = 
buck‘
->
Ãxt
;

256 
buck‘
->
Ãxt
 = 
NULL
;

257 
	`ä“
(
buck‘
);

259 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
i
] = 
NULL
;

262 
	`ä“
(
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
);

263 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
 = 
NULL
;

266 
	`·nic
("bogus stat class");

269 
	`ä“
(
¡©
);

271 
sdb
->
¡©s
 = 
NULL
;

272 
	`ev®_d–‘e
(
sdb
->
ev®u©Ü
);

273 
sdb
->
ev®u©Ü
 = 
NULL
;

274 
	`ä“
(
sdb
);

275 
	}
}

279 
	$add_¡©
(
¡©_sdb_t
 *
sdb
,

280 
¡©_¡©_t
 *
¡©
)

282 
¡©_¡©_t
 *
–t
, *
´ev
;

285 
´ev
=
NULL
, 
–t
=
sdb
->
¡©s
;ƒÉ !ğNULL;…»vóÉ,ƒÉóÉ->
Ãxt
)

289 ià(
´ev
 !ğ
NULL
)

290 
´ev
->
Ãxt
 = 
¡©
;

292 
sdb
->
¡©s
 = 
¡©
;

293 
¡©
->
Ãxt
 = 
NULL
;

294 
	}
}

297 
¡©_¡©_t
 *

298 
	$¡©_»g_št
(
¡©_sdb_t
 *
sdb
,

299 *
Çme
,

300 *
desc
,

301 *
v¬
,

302 
š™_v®
,

303 *
fÜm©
)

305 
¡©_¡©_t
 *
¡©
;

307 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

308 ià(!
¡©
)

309 
	`çl
("out of virtual memory");

311 
¡©
->
Çme
 = 
	`my¡rdup
(name);

312 
¡©
->
desc
 = 
	`my¡rdup
(desc);

313 
¡©
->
fÜm©
 = format ? format : "%12d";

314 
¡©
->
sc
 = 
sc_št
;

315 
¡©
->
v¬ŸÁ
.
fÜ_št
.
v¬
 = var;

316 
¡©
->
v¬ŸÁ
.
fÜ_št
.
š™_v®
 = init_val;

319 
	`add_¡©
(
sdb
, 
¡©
);

322 *
v¬
 = 
š™_v®
;

324  
¡©
;

325 
	}
}

328 
¡©_¡©_t
 *

329 
	$¡©_»g_ušt
(
¡©_sdb_t
 *
sdb
,

330 *
Çme
,

331 *
desc
,

332 *
v¬
,

333 
š™_v®
,

334 *
fÜm©
)

336 
¡©_¡©_t
 *
¡©
;

338 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

339 ià(!
¡©
)

340 
	`çl
("out of virtual memory");

342 
¡©
->
Çme
 = 
	`my¡rdup
(name);

343 
¡©
->
desc
 = 
	`my¡rdup
(desc);

344 
¡©
->
fÜm©
 = format ? format : "%12u";

345 
¡©
->
sc
 = 
sc_ušt
;

346 
¡©
->
v¬ŸÁ
.
fÜ_ušt
.
v¬
 = var;

347 
¡©
->
v¬ŸÁ
.
fÜ_ušt
.
š™_v®
 = init_val;

350 
	`add_¡©
(
sdb
, 
¡©
);

353 *
v¬
 = 
š™_v®
;

355  
¡©
;

356 
	}
}

358 #ifdeà
HOST_HAS_QWORD


360 
¡©_¡©_t
 *

361 
	$¡©_»g_qwÜd
(
¡©_sdb_t
 *
sdb
,

362 *
Çme
,

363 *
desc
,

364 
qwÜd_t
 *
v¬
,

365 
qwÜd_t
 
š™_v®
,

366 *
fÜm©
)

368 
¡©_¡©_t
 *
¡©
;

370 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

371 ià(!
¡©
)

372 
	`çl
("out of virtual memory");

374 
¡©
->
Çme
 = 
	`my¡rdup
(name);

375 
¡©
->
desc
 = 
	`my¡rdup
(desc);

376 
¡©
->
fÜm©
 = format ? format : "%12lu";

377 
¡©
->
sc
 = 
sc_qwÜd
;

378 
¡©
->
v¬ŸÁ
.
fÜ_qwÜd
.
v¬
 = var;

379 
¡©
->
v¬ŸÁ
.
fÜ_qwÜd
.
š™_v®
 = init_val;

382 
	`add_¡©
(
sdb
, 
¡©
);

385 *
v¬
 = 
š™_v®
;

387  
¡©
;

388 
	}
}

391 
¡©_¡©_t
 *

392 
	$¡©_»g_sqwÜd
(
¡©_sdb_t
 *
sdb
,

393 *
Çme
,

394 *
desc
,

395 
sqwÜd_t
 *
v¬
,

396 
sqwÜd_t
 
š™_v®
,

397 *
fÜm©
)

399 
¡©_¡©_t
 *
¡©
;

401 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

402 ià(!
¡©
)

403 
	`çl
("out of virtual memory");

405 
¡©
->
Çme
 = 
	`my¡rdup
(name);

406 
¡©
->
desc
 = 
	`my¡rdup
(desc);

407 
¡©
->
fÜm©
 = format ? format : "%12ld";

408 
¡©
->
sc
 = 
sc_sqwÜd
;

409 
¡©
->
v¬ŸÁ
.
fÜ_sqwÜd
.
v¬
 = var;

410 
¡©
->
v¬ŸÁ
.
fÜ_sqwÜd
.
š™_v®
 = init_val;

413 
	`add_¡©
(
sdb
, 
¡©
);

416 *
v¬
 = 
š™_v®
;

418  
¡©
;

419 
	}
}

423 
¡©_¡©_t
 *

424 
	$¡©_»g_æßt
(
¡©_sdb_t
 *
sdb
,

425 *
Çme
,

426 *
desc
,

427 *
v¬
,

428 
š™_v®
,

429 *
fÜm©
)

431 
¡©_¡©_t
 *
¡©
;

433 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

434 ià(!
¡©
)

435 
	`çl
("out of virtual memory");

437 
¡©
->
Çme
 = 
	`my¡rdup
(name);

438 
¡©
->
desc
 = 
	`my¡rdup
(desc);

439 
¡©
->
fÜm©
 = format ? format : "%12.4f";

440 
¡©
->
sc
 = 
sc_æßt
;

441 
¡©
->
v¬ŸÁ
.
fÜ_æßt
.
v¬
 = var;

442 
¡©
->
v¬ŸÁ
.
fÜ_æßt
.
š™_v®
 = init_val;

445 
	`add_¡©
(
sdb
, 
¡©
);

448 *
v¬
 = 
š™_v®
;

450  
¡©
;

451 
	}
}

454 
¡©_¡©_t
 *

455 
	$¡©_»g_doubË
(
¡©_sdb_t
 *
sdb
,

456 *
Çme
,

457 *
desc
,

458 *
v¬
,

459 
š™_v®
,

460 *
fÜm©
)

462 
¡©_¡©_t
 *
¡©
;

464 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

465 ià(!
¡©
)

466 
	`çl
("out of virtual memory");

468 
¡©
->
Çme
 = 
	`my¡rdup
(name);

469 
¡©
->
desc
 = 
	`my¡rdup
(desc);

470 
¡©
->
fÜm©
 = format ? format : "%12.4f";

471 
¡©
->
sc
 = 
sc_doubË
;

472 
¡©
->
v¬ŸÁ
.
fÜ_doubË
.
v¬
 = var;

473 
¡©
->
v¬ŸÁ
.
fÜ_doubË
.
š™_v®
 = init_val;

476 
	`add_¡©
(
sdb
, 
¡©
);

479 *
v¬
 = 
š™_v®
;

481  
¡©
;

482 
	}
}

490 
¡©_¡©_t
 *

491 
	$¡©_»g_di¡
(
¡©_sdb_t
 *
sdb
,

492 *
Çme
,

493 *
desc
,

494 
š™_v®
,

495 
¬r_sz
,

496 
buck‘_sz
,

497 
pf
,

498 *
fÜm©
,

499 **
im­
,

500 
´št_â_t
 
´št_â
)

502 
i
;

503 
¡©_¡©_t
 *
¡©
;

504 *
¬r
;

506 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

507 ià(!
¡©
)

508 
	`çl
("out of virtual memory");

510 
¡©
->
Çme
 = 
	`my¡rdup
(name);

511 
¡©
->
desc
 = 
	`my¡rdup
(desc);

512 
¡©
->
fÜm©
 = fÜm© ? fÜm© : 
NULL
;

513 
¡©
->
sc
 = 
sc_di¡
;

514 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
š™_v®
 = init_val;

515 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r_sz
 =‡rr_sz;

516 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
buck‘_sz
 = bucket_sz;

517 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
pf
 =…f;

518 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
im­
 = imap;

519 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
´št_â
 =…rint_fn;

520 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
ov”æows
 = 0;

522 
¬r
 = (*)
	`ÿÎoc
(
¬r_sz
, ());

523 ià(!
¬r
)

524 
	`çl
("out of virtual memory");

525 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
 =‡rr;

528 
	`add_¡©
(
sdb
, 
¡©
);

531 
i
=0; i < 
¬r_sz
; i++)

532 
¬r
[
i
] = 
š™_v®
;

534  
¡©
;

535 
	}
}

544 
¡©_¡©_t
 *

545 
	$¡©_»g_sdi¡
(
¡©_sdb_t
 *
sdb
,

546 *
Çme
,

547 *
desc
,

548 
š™_v®
,

549 
pf
,

550 *
fÜm©
,

551 
´št_â_t
 
´št_â
)

553 
¡©_¡©_t
 *
¡©
;

554 
buck‘_t
 **
§¼
;

556 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

557 ià(!
¡©
)

558 
	`çl
("out of virtual memory");

560 
¡©
->
Çme
 = 
	`my¡rdup
(name);

561 
¡©
->
desc
 = 
	`my¡rdup
(desc);

562 
¡©
->
fÜm©
 = fÜm© ? fÜm© : 
NULL
;

563 
¡©
->
sc
 = 
sc_sdi¡
;

564 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
š™_v®
 = init_val;

565 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
pf
 =…f;

566 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
´št_â
 =…rint_fn;

569 
§¼
 = (
buck‘_t
 **)
	`ÿÎoc
(
HTAB_SZ
, (bucket_t *));

570 ià(!
§¼
)

571 
	`çl
("out of virtual memory");

572 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
 = sarr;

575 
	`add_¡©
(
sdb
, 
¡©
);

577  
¡©
;

578 
	}
}

582 
	$¡©_add_§m¶es
(
¡©_¡©_t
 *
¡©
,

583 
md_addr_t
 
šdex
,

584 
n§m¶es
)

586 
¡©
->
sc
)

588 
sc_di¡
:

590 
i
;

593 
i
 = 
šdex
 / 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
buck‘_sz
;

596 ià(
i
 >ğ
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r_sz
)

597 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
ov”æows
 +ğ
n§m¶es
;

599 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
] +ğ
n§m¶es
;

602 
sc_sdi¡
:

604 
buck‘_t
 *
buck‘
;

605 
hash
 = 
	`HTAB_HASH
(
šdex
);

607 ià(
hash
 < 0 || hash >ğ
HTAB_SZ
)

608 
	`·nic
("hashable index overflow");

611 
buck‘
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
hash
];

612 
buck‘
 !ğ
NULL
;

613 
buck‘
 = buck‘->
Ãxt
)

615 ià(
buck‘
->
šdex
 == index)

618 ià(!
buck‘
)

621 
buck‘
 = (
buck‘_t
 *)
	`ÿÎoc
(1, (bucket_t));

622 ià(!
buck‘
)

623 
	`çl
("out of virtual memory");

624 
buck‘
->
Ãxt
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
hash
];

625 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
hash
] = 
buck‘
;

626 
buck‘
->
šdex
 = index;

627 
buck‘
->
couÁ
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
š™_v®
;

629 
buck‘
->
couÁ
 +ğ
n§m¶es
;

633 
	`·nic
("stat variable is‚ot‡n‡rray distribution");

635 
	}
}

639 
	$¡©_add_§m¶e
(
¡©_¡©_t
 *
¡©
,

640 
md_addr_t
 
šdex
)

642 
	`¡©_add_§m¶es
(
¡©
, 
šdex
, 1);

643 
	}
}

652 
¡©_¡©_t
 *

653 
	$¡©_»g_fÜmuÏ
(
¡©_sdb_t
 *
sdb
,

654 *
Çme
,

655 *
desc
,

656 *
fÜmuÏ
,

657 *
fÜm©
)

659 
¡©_¡©_t
 *
¡©
;

661 
¡©
 = (
¡©_¡©_t
 *)
	`ÿÎoc
(1, (stat_stat_t));

662 ià(!
¡©
)

663 
	`çl
("out of virtual memory");

665 
¡©
->
Çme
 = 
	`my¡rdup
(name);

666 
¡©
->
desc
 = 
	`my¡rdup
(desc);

667 
¡©
->
fÜm©
 = format ? format : "%12.4f";

668 
¡©
->
sc
 = 
sc_fÜmuÏ
;

669 
¡©
->
v¬ŸÁ
.
fÜ_fÜmuÏ
.
fÜmuÏ
 = 
	`my¡rdup
(formula);

672 
	`add_¡©
(
sdb
, 
¡©
);

674  
¡©
;

675 
	}
}

680 
	$com·»_â
(*
p1
, *
p2
)

682 
buck‘_t
 **
pb1
 = 
p1
, **
pb2
 = 
p2
;

685 ià((*
pb1
)->
šdex
 < (*
pb2
)->index)

687 ià((*
pb1
)->
šdex
 > (*
pb2
)->index)

691 
	}
}

695 
	$´št_di¡
(
¡©_¡©_t
 *
¡©
,

696 
FILE
 *
fd
)

698 
i
, 
bcouÁ
, 
imax
, 
imš
;

699 
btÙ®
, 
bsum
, 
bv¬
, 
bavg
, 
bsqsum
;

700 
pf
 = 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.pf;

703 
bcouÁ
 = 0; 
btÙ®
 = 0.0; 
bv¬
 = 0.0; 
bsqsum
 = 0.0;

704 
imax
 = 0; 
imš
 = 
UINT_MAX
;

705 
i
=0; i<
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r_sz
; i++)

707 
bcouÁ
++;

708 
btÙ®
 +ğ
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
];

710 
bsqsum
 +ğ(()
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
] *

711 ()
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
]);

712 
bavg
 = 
btÙ®
 / 
	`max2
(()
bcouÁ
, 1.0);

713 
bv¬
 = (
bsqsum
 - (()
bcouÁ
 * 
bavg
 * bavg)) /

714 ()(((
bcouÁ
 - 1) > 0) ? (bcount - 1) : 1);

718 
	`årštf
(
fd
, "\n");

719 
	`årštf
(
fd
, "%-22 # %s\n", 
¡©
->
Çme
, st->
desc
);

720 
	`årštf
(
fd
, "%s.array_size = %u\n",

721 
¡©
->
Çme
, st->
v¬ŸÁ
.
fÜ_di¡
.
¬r_sz
);

722 
	`årštf
(
fd
, "%s.bucket_size = %u\n",

723 
¡©
->
Çme
, st->
v¬ŸÁ
.
fÜ_di¡
.
buck‘_sz
);

725 
	`årštf
(
fd
, "%s.couÁ = %u\n", 
¡©
->
Çme
, 
bcouÁ
);

726 
	`årštf
(
fd
, "%s.tÙ® = %.0f\n", 
¡©
->
Çme
, 
btÙ®
);

727 ià(
bcouÁ
 > 0)

729 
	`årštf
(
fd
, "%s.imš = %u\n", 
¡©
->
Çme
, 0U);

730 
	`årštf
(
fd
, "%s.imax = %u\n", 
¡©
->
Çme
, 
bcouÁ
);

734 
	`årštf
(
fd
, "%s.imš = %d\n", 
¡©
->
Çme
, -1);

735 
	`årštf
(
fd
, "%s.imax = %d\n", 
¡©
->
Çme
, -1);

737 
	`årštf
(
fd
, "%s.av”agğ%8.4f\n", 
¡©
->
Çme
, 
btÙ®
/
	`max2
(
bcouÁ
, 1.0));

738 
	`årštf
(
fd
, "%s.¡d_dev = %8.4f\n", 
¡©
->
Çme
, 
	`sq¹
(
bv¬
));

739 
	`årštf
(
fd
, "%s.overflows = %u\n",

740 
¡©
->
Çme
, st->
v¬ŸÁ
.
fÜ_di¡
.
ov”æows
);

742 
	`årštf
(
fd
, "#…df ==…rob dist fn, cdf == cumulative dist fn\n");

743 
	`årštf
(
fd
, "# %14s ", "index");

744 ià(
pf
 & 
PF_COUNT
)

745 
	`årštf
(
fd
, "%10s ", "count");

746 ià(
pf
 & 
PF_PDF
)

747 
	`årštf
(
fd
, "%6s ", "pdf");

748 ià(
pf
 & 
PF_CDF
)

749 
	`årštf
(
fd
, "%6s ", "cdf");

750 
	`årštf
(
fd
, "\n");

752 
	`årštf
(
fd
, "%s.¡¬t_di¡\n", 
¡©
->
Çme
);

754 ià(
bcouÁ
 > 0)

757 
bsum
 = 0.0;

758 
i
=0; i<
bcouÁ
; i++)

760 
bsum
 +ğ()
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
];

761 ià(
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
´št_â
)

763 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
	`´št_â
(stat,

764 
i
,

765 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
],

766 
bsum
,

767 
btÙ®
);

771 ià(
¡©
->
fÜm©
 =ğ
NULL
)

773 ià(
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
im­
)

774 
	`årštf
(
fd
, "%-16 ", 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
im­
[
i
]);

776 
	`årštf
(
fd
, "%16u ",

777 
i
 * 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
buck‘_sz
);

778 ià(
pf
 & 
PF_COUNT
)

779 
	`årštf
(
fd
, "%10u ", 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
]);

780 ià(
pf
 & 
PF_PDF
)

781 
	`årštf
(
fd
, "%6.2f ",

782 ()
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
] /

783 
	`max2
(
btÙ®
, 1.0) * 100.0);

784 ià(
pf
 & 
PF_CDF
)

785 
	`årštf
(
fd
, "%6.2à", 
bsum
/
	`max2
(
btÙ®
, 1.0) * 100.0);

789 ià(
pf
 =ğ(
PF_COUNT
|
PF_PDF
|
PF_CDF
))

791 ià(
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
im­
)

792 
	`årštf
(
fd
, 
¡©
->
fÜm©
,

793 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
im­
[
i
],

794 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
],

795 ()
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
] /

796 
	`max2
(
btÙ®
, 1.0) * 100.0,

797 
bsum
/
	`max2
(
btÙ®
, 1.0) * 100.0);

799 
	`årštf
(
fd
, 
¡©
->
fÜm©
,

800 
i
 * 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
buck‘_sz
,

801 
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
],

802 ()
¡©
->
v¬ŸÁ
.
fÜ_di¡
.
¬r
[
i
] /

803 
	`max2
(
btÙ®
, 1.0) * 100.0,

804 
bsum
/
	`max2
(
btÙ®
, 1.0) * 100.0);

807 
	`çl
("distribution format‚ot yet implemented");

809 
	`årštf
(
fd
, "\n");

814 
	`årštf
(
fd
, "%s.’d_di¡\n", 
¡©
->
Çme
);

815 
	}
}

819 
	$´št_sdi¡
(
¡©_¡©_t
 *
¡©
,

820 
FILE
 *
fd
)

822 
i
, 
bcouÁ
;

823 
md_addr_t
 
imax
, 
imš
;

824 
btÙ®
, 
bsum
, 
bv¬
, 
bavg
, 
bsqsum
;

825 
buck‘_t
 *
buck‘
;

826 
pf
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.pf;

829 
bcouÁ
 = 0; 
btÙ®
 = 0.0; 
bv¬
 = 0.0; 
bsqsum
 = 0.0;

830 
imax
 = 0; 
imš
 = 
UINT_MAX
;

831 
i
=0; i<
HTAB_SZ
; i++)

833 
buck‘
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
i
];

834 
buck‘
 !ğ
NULL
;

835 
buck‘
 = buck‘->
Ãxt
)

837 
bcouÁ
++;

838 
btÙ®
 +ğ
buck‘
->
couÁ
;

840 
bsqsum
 +ğ(()
buck‘
->
couÁ
 * ()bucket->count);

841 
bavg
 = 
btÙ®
 / ()
bcouÁ
;

842 
bv¬
 = (
bsqsum
 - (()
bcouÁ
 * 
bavg
 * bavg)) /

843 ()(((
bcouÁ
 - 1) > 0) ? (bcount - 1) : 1);

844 ià(
buck‘
->
šdex
 < 
imš
)

845 
imš
 = 
buck‘
->
šdex
;

846 ià(
buck‘
->
šdex
 > 
imax
)

847 
imax
 = 
buck‘
->
šdex
;

852 
	`årštf
(
fd
, "\n");

853 
	`årštf
(
fd
, "%-22 # %s\n", 
¡©
->
Çme
, st->
desc
);

854 
	`årštf
(
fd
, "%s.couÁ = %u\n", 
¡©
->
Çme
, 
bcouÁ
);

855 
	`årštf
(
fd
, "%s.tÙ® = %.0f\n", 
¡©
->
Çme
, 
btÙ®
);

856 ià(
bcouÁ
 > 0)

858 
	`myårštf
(
fd
, "%s.imš = 0x%p\n", 
¡©
->
Çme
, 
imš
);

859 
	`myårštf
(
fd
, "%s.imax = 0x%p\n", 
¡©
->
Çme
, 
imax
);

863 
	`årštf
(
fd
, "%s.imš = %d\n", 
¡©
->
Çme
, -1);

864 
	`årštf
(
fd
, "%s.imax = %d\n", 
¡©
->
Çme
, -1);

866 
	`årštf
(
fd
, "%s.av”agğ%8.4f\n", 
¡©
->
Çme
, 
btÙ®
/
bcouÁ
);

867 
	`årštf
(
fd
, "%s.¡d_dev = %8.4f\n", 
¡©
->
Çme
, 
	`sq¹
(
bv¬
));

868 
	`årštf
(
fd
, "%s.ov”æow ğ0\n", 
¡©
->
Çme
);

870 
	`årštf
(
fd
, "#…df ==…rob dist fn, cdf == cumulative dist fn\n");

871 
	`årštf
(
fd
, "# %14s ", "index");

872 ià(
pf
 & 
PF_COUNT
)

873 
	`årštf
(
fd
, "%10s ", "count");

874 ià(
pf
 & 
PF_PDF
)

875 
	`årštf
(
fd
, "%6s ", "pdf");

876 ià(
pf
 & 
PF_CDF
)

877 
	`årštf
(
fd
, "%6s ", "cdf");

878 
	`årštf
(
fd
, "\n");

880 
	`årštf
(
fd
, "%s.¡¬t_di¡\n", 
¡©
->
Çme
);

882 ià(
bcouÁ
 > 0)

884 
bšdex
;

885 
buck‘_t
 **
b¬r
;

888 
b¬r
 = (
buck‘_t
 **)
	`ÿÎoc
(
bcouÁ
, (bucket_t *));

889 ià(!
b¬r
)

890 
	`çl
("out of virtual memory");

891 
bšdex
=0,
i
=0; i<
HTAB_SZ
; i++)

893 
buck‘
 = 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
§¼
[
i
];

894 
buck‘
 !ğ
NULL
;

895 
buck‘
 = buck‘->
Ãxt
)

897 
b¬r
[
bšdex
++] = 
buck‘
;

902 
	`qsÜt
(
b¬r
, 
bcouÁ
, (
buck‘_t
 *), (
qsÜt_func
è
com·»_â
);

905 
bsum
 = 0.0;

906 
i
=0; i<
bcouÁ
; i++)

908 
bsum
 +ğ()
b¬r
[
i
]->
couÁ
;

909 ià(
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
´št_â
)

911 
¡©
->
v¬ŸÁ
.
fÜ_sdi¡
.
	`´št_â
(stat,

912 
b¬r
[
i
]->
šdex
,

913 
b¬r
[
i
]->
couÁ
,

914 
bsum
,

915 
btÙ®
);

919 ià(
¡©
->
fÜm©
 =ğ
NULL
)

921 
	`myårštf
(
fd
, "0x%°", 
b¬r
[
i
]->
šdex
);

922 ià(
pf
 & 
PF_COUNT
)

923 
	`årštf
(
fd
, "%10u ", 
b¬r
[
i
]->
couÁ
);

924 ià(
pf
 & 
PF_PDF
)

925 
	`årštf
(
fd
, "%6.2f ",

926 ()
b¬r
[
i
]->
couÁ
/
	`max2
(
btÙ®
, 1.0) * 100.0);

927 ià(
pf
 & 
PF_CDF
)

928 
	`årštf
(
fd
, "%6.2à", 
bsum
/
	`max2
(
btÙ®
, 1.0) * 100.0);

932 ià(
pf
 =ğ(
PF_COUNT
|
PF_PDF
|
PF_CDF
))

934 
	`myårštf
(
fd
, 
¡©
->
fÜm©
,

935 
b¬r
[
i
]->
šdex
, b¬r[i]->
couÁ
,

936 ()
b¬r
[
i
]->
couÁ
/
	`max2
(
btÙ®
, 1.0)*100.0,

937 
bsum
/
	`max2
(
btÙ®
, 1.0) * 100.0);

939 ià(
pf
 =ğ(
PF_COUNT
|
PF_PDF
))

941 
	`myårštf
(
fd
, 
¡©
->
fÜm©
,

942 
b¬r
[
i
]->
šdex
, b¬r[i]->
couÁ
,

943 ()
b¬r
[
i
]->
couÁ
/
	`max2
(
btÙ®
, 1.0)*100.0);

945 ià(
pf
 =ğ
PF_COUNT
)

947 
	`myårštf
(
fd
, 
¡©
->
fÜm©
,

948 
b¬r
[
i
]->
šdex
, b¬r[i]->
couÁ
);

951 
	`çl
("distribution format‚ot yet implemented");

953 
	`årštf
(
fd
, "\n");

958 
	`ä“
(
b¬r
);

961 
	`årštf
(
fd
, "%s.’d_di¡\n", 
¡©
->
Çme
);

962 
	}
}

966 
	$¡©_´št_¡©
(
¡©_sdb_t
 *
sdb
,

967 
¡©_¡©_t
 *
¡©
,

968 
FILE
 *
fd
)

970 
ev®_v®ue_t
 
v®
;

972 
¡©
->
sc
)

974 
sc_št
:

975 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

976 
	`myårštf
(
fd
, 
¡©
->
fÜm©
, *¡©->
v¬ŸÁ
.
fÜ_št
.
v¬
);

977 
	`årštf
(
fd
, " # %s", 
¡©
->
desc
);

979 
sc_ušt
:

980 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

981 
	`myårštf
(
fd
, 
¡©
->
fÜm©
, *¡©->
v¬ŸÁ
.
fÜ_ušt
.
v¬
);

982 
	`årštf
(
fd
, " # %s", 
¡©
->
desc
);

984 #ifdeà
HOST_HAS_QWORD


985 
sc_qwÜd
:

987 
buf
[128];

989 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

990 
	`my¥rštf
(
buf
, 
¡©
->
fÜm©
, *¡©->
v¬ŸÁ
.
fÜ_qwÜd
.
v¬
);

991 
	`årštf
(
fd
, "% \t\t\t# %s", 
buf
, 
¡©
->
desc
);

994 
sc_sqwÜd
:

996 
buf
[128];

998 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

999 
	`my¥rštf
(
buf
, 
¡©
->
fÜm©
, *¡©->
v¬ŸÁ
.
fÜ_sqwÜd
.
v¬
);

1000 
	`årštf
(
fd
, "% \t\t\t# %s", 
buf
, 
¡©
->
desc
);

1004 
sc_æßt
:

1005 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

1006 
	`myårštf
(
fd
, 
¡©
->
fÜm©
, ()*¡©->
v¬ŸÁ
.
fÜ_æßt
.
v¬
);

1007 
	`årštf
(
fd
, " # %s", 
¡©
->
desc
);

1009 
sc_doubË
:

1010 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

1011 
	`myårštf
(
fd
, 
¡©
->
fÜm©
, *¡©->
v¬ŸÁ
.
fÜ_doubË
.
v¬
);

1012 
	`årštf
(
fd
, " # %s", 
¡©
->
desc
);

1014 
sc_di¡
:

1015 
	`´št_di¡
(
¡©
, 
fd
);

1017 
sc_sdi¡
:

1018 
	`´št_sdi¡
(
¡©
, 
fd
);

1020 
sc_fÜmuÏ
:

1023 
ev®_¡©e_t
 *
es
 = 
	`ev®_Ãw
(
¡©_ev®_id’t
, 
sdb
);

1024 *
’dp
;

1026 
	`årštf
(
fd
, "%-22 ", 
¡©
->
Çme
);

1027 
v®
 = 
	`ev®_ex´
(
es
, 
¡©
->
v¬ŸÁ
.
fÜ_fÜmuÏ
.
fÜmuÏ
, &
’dp
);

1028 ià(
ev®_”rÜ
 !ğ
ERR_NOERR
 || *
’dp
 != '\0')

1030 ià(
ev®_”r_exŒa_šfo
)

1031 
	`årštf
(
fd
, "<”rÜ: %s: %s>", 
ev®_”r_¡r
[
ev®_”rÜ
], 
ev®_”r_exŒa_šfo
);

1033 
	`årštf
(
fd
, "<”rÜ: %s>", 
ev®_”r_¡r
[
ev®_”rÜ
]);

1036 
	`myårštf
(
fd
, 
¡©
->
fÜm©
, 
	`ev®_as_doubË
(
v®
));

1037 
	`årštf
(
fd
, " # %s", 
¡©
->
desc
);

1040 
	`ev®_d–‘e
(
es
);

1044 
	`·nic
("bogus stat class");

1046 
	`årštf
(
fd
, "\n");

1047 
	}
}

1051 
	$¡©_´št_¡©s
(
¡©_sdb_t
 *
sdb
,

1052 
FILE
 *
fd
)

1054 
¡©_¡©_t
 *
¡©
;

1056 ià(!
sdb
)

1062 
¡©
=
sdb
->
¡©s
; sˆ!ğ
NULL
; st=¡©->
Ãxt
)

1063 
	`¡©_´št_¡©
(
sdb
, 
¡©
, 
fd
);

1064 
	}
}

1067 
¡©_¡©_t
 *

1068 
	$¡©_fšd_¡©
(
¡©_sdb_t
 *
sdb
,

1069 *
¡©_Çme
)

1071 
¡©_¡©_t
 *
¡©
;

1073 
¡©
 = 
sdb
->
¡©s
; sˆ!ğ
NULL
; sˆğ¡©->
Ãxt
)

1075 ià(!
	`¡rcmp
(
¡©
->
Çme
, 
¡©_Çme
))

1078  
¡©
;

1079 
	}
}

1081 #ifdeà
TESTIT


1084 
	$maš
()

1086 
¡©_sdb_t
 *
sdb
;

1087 
¡©_¡©_t
 *
¡©
, *
¡©1
, *
¡©2
, *
¡©3
, *
¡©4
, *
¡©5
;

1088 
ª_št
;

1089 
a_ušt
;

1090 
a_æßt
;

1091 
a_doubË
;

1092 *
my_im­
[8] = {

1097 
sdb
 = 
	`¡©_Ãw
();

1100 
	`¡©_»g_št
(
sdb
, "stat.an_int", "An integer stat variable.",

1101 &
ª_št
, 1, 
NULL
);

1102 
	`¡©_»g_ušt
(
sdb
, "stat.a_uint", "An unsigned integer stat variable.",

1103 &
a_ušt
, 2, "%u (unsigned)");

1104 
	`¡©_»g_æßt
(
sdb
, "stat.a_float", "A float stat variable.",

1105 &
a_æßt
, 3, 
NULL
);

1106 
	`¡©_»g_doubË
(
sdb
, "stat.a_double", "A double stat variable.",

1107 &
a_doubË
, 4, 
NULL
);

1108 
	`¡©_»g_fÜmuÏ
(
sdb
, "stat.a_formula", "A double stat formula.",

1109 "¡©.a_æßˆ/ st.a_ušt", 
NULL
);

1110 
	`¡©_»g_fÜmuÏ
(
sdb
, "stat.a_formula1", "A double stat formula #1.",

1111 "2 * (¡©.a_fÜmuÏ / (1.5 * st.ª_št))", 
NULL
);

1112 
	`¡©_»g_fÜmuÏ
(
sdb
, "stat.a_bad_formula", "A double stat formula w/error.",

1113 "¡©.a_æßˆ/ (¡©.a_ušˆ- 2)", 
NULL
);

1114 
¡©
 = 
	`¡©_»g_di¡
(
sdb
, "stat.a_dist", "An‡rray distribution.",

1115 0, 8, 1, 
PF_ALL
, 
NULL
, NULL, NULL);

1116 
¡©1
 = 
	`¡©_»g_di¡
(
sdb
, "stat.a_dist1", "An‡rray distribution #1.",

1117 0, 8, 4, 
PF_ALL
, 
NULL
, NULL, NULL);

1118 
¡©2
 = 
	`¡©_»g_di¡
(
sdb
, "stat.a_dist2", "An‡rray distribution #2.",

1119 0, 8, 1, (
PF_PDF
|
PF_CDF
), 
NULL
, NULL, NULL);

1120 
¡©3
 = 
	`¡©_»g_di¡
(
sdb
, "stat.a_dist3", "An‡rray distribution #3.",

1121 0, 8, 1, 
PF_ALL
, 
NULL
, 
my_im­
, NULL);

1122 
¡©4
 = 
	`¡©_»g_sdi¡
(
sdb
, "stat.a_sdist", "A sparse‡rray distribution.",

1123 0, 
PF_ALL
, 
NULL
, NULL);

1124 
¡©5
 = 
	`¡©_»g_sdi¡
(
sdb
, "stat.a_sdist1",

1126 0, 
PF_ALL
, "0x%08lx %10lu %6.2f %6.2f",

1127 
NULL
);

1130 
	`årštf
(
¡dout
, "** Initial stats...\n");

1131 
	`¡©_´št_¡©s
(
sdb
, 
¡dout
);

1134 
ª_št
++;

1135 
a_ušt
++;

1136 
a_æßt
 *= 2;

1137 
a_doubË
 *= 4;

1139 
	`¡©_add_§m¶e
(
¡©
, 8);

1140 
	`¡©_add_§m¶e
(
¡©
, 8);

1141 
	`¡©_add_§m¶e
(
¡©
, 1);

1142 
	`¡©_add_§m¶e
(
¡©
, 3);

1143 
	`¡©_add_§m¶e
(
¡©
, 4);

1144 
	`¡©_add_§m¶e
(
¡©
, 4);

1145 
	`¡©_add_§m¶e
(
¡©
, 7);

1147 
	`¡©_add_§m¶e
(
¡©1
, 32);

1148 
	`¡©_add_§m¶e
(
¡©1
, 32);

1149 
	`¡©_add_§m¶e
(
¡©1
, 1);

1150 
	`¡©_add_§m¶e
(
¡©1
, 12);

1151 
	`¡©_add_§m¶e
(
¡©1
, 17);

1152 
	`¡©_add_§m¶e
(
¡©1
, 18);

1153 
	`¡©_add_§m¶e
(
¡©1
, 30);

1155 
	`¡©_add_§m¶e
(
¡©2
, 8);

1156 
	`¡©_add_§m¶e
(
¡©2
, 8);

1157 
	`¡©_add_§m¶e
(
¡©2
, 1);

1158 
	`¡©_add_§m¶e
(
¡©2
, 3);

1159 
	`¡©_add_§m¶e
(
¡©2
, 4);

1160 
	`¡©_add_§m¶e
(
¡©2
, 4);

1161 
	`¡©_add_§m¶e
(
¡©2
, 7);

1163 
	`¡©_add_§m¶e
(
¡©3
, 8);

1164 
	`¡©_add_§m¶e
(
¡©3
, 8);

1165 
	`¡©_add_§m¶e
(
¡©3
, 1);

1166 
	`¡©_add_§m¶e
(
¡©3
, 3);

1167 
	`¡©_add_§m¶e
(
¡©3
, 4);

1168 
	`¡©_add_§m¶e
(
¡©3
, 4);

1169 
	`¡©_add_§m¶e
(
¡©3
, 7);

1171 
	`¡©_add_§m¶e
(
¡©4
, 800);

1172 
	`¡©_add_§m¶e
(
¡©4
, 800);

1173 
	`¡©_add_§m¶e
(
¡©4
, 1123);

1174 
	`¡©_add_§m¶e
(
¡©4
, 3332);

1175 
	`¡©_add_§m¶e
(
¡©4
, 4000);

1176 
	`¡©_add_§m¶es
(
¡©4
, 4001, 18);

1177 
	`¡©_add_§m¶e
(
¡©4
, 7);

1179 
	`¡©_add_§m¶e
(
¡©5
, 800);

1180 
	`¡©_add_§m¶e
(
¡©5
, 800);

1181 
	`¡©_add_§m¶e
(
¡©5
, 1123);

1182 
	`¡©_add_§m¶e
(
¡©5
, 3332);

1183 
	`¡©_add_§m¶e
(
¡©5
, 4000);

1184 
	`¡©_add_§m¶es
(
¡©5
, 4001, 18);

1185 
	`¡©_add_§m¶e
(
¡©5
, 7);

1188 
	`årštf
(
¡dout
, "** Final stats...\n");

1189 
	`¡©_´št_¡©s
(
sdb
, 
¡dout
);

1192 
	`¡©_d–‘e
(
sdb
);

1193 
	`ex™
(0);

1194 
	}
}

	@stats.h

92 #iâdeà
STAT_H


93 
	#STAT_H


	)

95 
	~<¡dio.h
>

97 
	~"ho¡.h
"

98 
	~"machše.h
"

99 
	~"ev®.h
"

113 
	e¡©_şass_t
 {

114 
	msc_št
 = 0,

115 
	msc_ušt
,

116 #ifdeà
HOST_HAS_QWORD


117 
	msc_qwÜd
,

118 
	msc_sqwÜd
,

120 
	msc_æßt
,

121 
	msc_doubË
,

122 
	msc_di¡
,

123 
	msc_sdi¡
,

124 
	msc_fÜmuÏ
,

125 
	msc_NUM


129 
	#HTAB_SZ
 1024

	)

130 
	#HTAB_HASH
(
I
è((((Iè>> 8è^ (I)è& (
HTAB_SZ
 - 1))

	)

133 
	sbuck‘_t
 {

134 
buck‘_t
 *
	mÃxt
;

135 
md_addr_t
 
	mšdex
;

136 
	mcouÁ
;

140 
	g¡©_¡©_t
;

143 
	#PF_COUNT
 0x0001

	)

144 
	#PF_PDF
 0x0002

	)

145 
	#PF_CDF
 0x0004

	)

146 
	#PF_ALL
 (
PF_COUNT
|
PF_PDF
|
PF_CDF
)

	)

152 (*
	t´št_â_t
)(
	t¡©_¡©_t
 *
	t¡©
,

153 
	tmd_addr_t
 
	tšdex
,

154 
	tcouÁ
,

155 
	tsum
,

156 
	ttÙ®
);

159 
	s¡©_¡©_t
 {

160 
¡©_¡©_t
 *
	mÃxt
;

161 *
	mÇme
;

162 *
	mdesc
;

163 *
	mfÜm©
;

164 
¡©_şass_t
 
	msc
;

165 
	u¡©_v¬ŸÁ_t
 {

167 
	s¡©_fÜ_št_t
 {

168 *
	mv¬
;

169 
	mš™_v®
;

170 } 
	mfÜ_št
;

172 
	s¡©_fÜ_ušt_t
 {

173 *
	mv¬
;

174 
	mš™_v®
;

175 } 
	mfÜ_ušt
;

176 #ifdeà
HOST_HAS_QWORD


178 
	s¡©_fÜ_qwÜd_t
 {

179 
qwÜd_t
 *
	mv¬
;

180 
qwÜd_t
 
	mš™_v®
;

181 } 
	mfÜ_qwÜd
;

183 
	s¡©_fÜ_sqwÜd_t
 {

184 
sqwÜd_t
 *
	mv¬
;

185 
sqwÜd_t
 
	mš™_v®
;

186 } 
	mfÜ_sqwÜd
;

189 
	s¡©_fÜ_æßt_t
 {

190 *
	mv¬
;

191 
	mš™_v®
;

192 } 
	mfÜ_æßt
;

194 
	s¡©_fÜ_doubË_t
 {

195 *
	mv¬
;

196 
	mš™_v®
;

197 } 
	mfÜ_doubË
;

199 
	s¡©_fÜ_di¡_t
 {

200 
	mš™_v®
;

201 *
	m¬r
;

202 
	m¬r_sz
;

203 
	mbuck‘_sz
;

204 
	mpf
;

205 **
	mim­
;

206 
´št_â_t
 
	m´št_â
;

207 
	mov”æows
;

208 } 
	mfÜ_di¡
;

210 
	s¡©_fÜ_sdi¡_t
 {

211 
	mš™_v®
;

212 
buck‘_t
 **
	m§¼
;

213 
	mpf
;

214 
´št_â_t
 
	m´št_â
;

215 } 
	mfÜ_sdi¡
;

217 
	s¡©_fÜ_fÜmuÏ_t
 {

218 *
	mfÜmuÏ
;

219 } 
	mfÜ_fÜmuÏ
;

220 } 
	mv¬ŸÁ
;

224 
	s¡©_sdb_t
 {

225 
¡©_¡©_t
 *
	m¡©s
;

226 
ev®_¡©e_t
 *
	mev®u©Ü
;

230 
ev®_v®ue_t


231 
¡©_ev®_id’t
(
ev®_¡©e_t
 *
es
);

234 
¡©_sdb_t
 *
¡©_Ãw
();

238 
¡©_d–‘e
(
¡©_sdb_t
 *
sdb
);

241 
¡©_¡©_t
 *

242 
¡©_»g_št
(
¡©_sdb_t
 *
sdb
,

243 *
Çme
,

244 *
desc
,

245 *
v¬
,

246 
š™_v®
,

247 *
fÜm©
);

250 
¡©_¡©_t
 *

251 
¡©_»g_ušt
(
¡©_sdb_t
 *
sdb
,

252 *
Çme
,

253 *
desc
,

254 *
v¬
,

255 
š™_v®
,

256 *
fÜm©
);

258 #ifdeà
HOST_HAS_QWORD


260 
¡©_¡©_t
 *

261 
¡©_»g_qwÜd
(
¡©_sdb_t
 *
sdb
,

262 *
Çme
,

263 *
desc
,

264 
qwÜd_t
 *
v¬
,

265 
qwÜd_t
 
š™_v®
,

266 *
fÜm©
);

269 
¡©_¡©_t
 *

270 
¡©_»g_sqwÜd
(
¡©_sdb_t
 *
sdb
,

271 *
Çme
,

272 *
desc
,

273 
sqwÜd_t
 *
v¬
,

274 
sqwÜd_t
 
š™_v®
,

275 *
fÜm©
);

279 
¡©_¡©_t
 *

280 
¡©_»g_æßt
(
¡©_sdb_t
 *
sdb
,

281 *
Çme
,

282 *
desc
,

283 *
v¬
,

284 
š™_v®
,

285 *
fÜm©
);

288 
¡©_¡©_t
 *

289 
¡©_»g_doubË
(
¡©_sdb_t
 *
sdb
,

290 *
Çme
,

291 *
desc
,

292 *
v¬
,

293 
š™_v®
,

294 *
fÜm©
);

302 
¡©_¡©_t
 *

303 
¡©_»g_di¡
(
¡©_sdb_t
 *
sdb
,

304 *
Çme
,

305 *
desc
,

306 
š™_v®
,

307 
¬r_sz
,

308 
buck‘_sz
,

309 
pf
,

310 *
fÜm©
,

311 **
im­
,

312 
´št_â_t
 
´št_â
);

321 
¡©_¡©_t
 *

322 
¡©_»g_sdi¡
(
¡©_sdb_t
 *
sdb
,

323 *
Çme
,

324 *
desc
,

325 
š™_v®
,

326 
pf
,

327 *
fÜm©
,

328 
´št_â_t
 
´št_â
);

332 
¡©_add_§m¶es
(
¡©_¡©_t
 *
¡©
,

333 
md_addr_t
 
šdex
,

334 
n§m¶es
);

338 
¡©_add_§m¶e
(
¡©_¡©_t
 *
¡©
,

339 
md_addr_t
 
šdex
);

348 
¡©_¡©_t
 *

349 
¡©_»g_fÜmuÏ
(
¡©_sdb_t
 *
sdb
,

350 *
Çme
,

351 *
desc
,

352 *
fÜmuÏ
,

353 *
fÜm©
);

357 
¡©_´št_¡©
(
¡©_sdb_t
 *
sdb
,

358 
¡©_¡©_t
 *
¡©
,

359 
FILE
 *
fd
);

363 
¡©_´št_¡©s
(
¡©_sdb_t
 *
sdb
,

364 
FILE
 *
fd
);

368 
¡©_¡©_t
 *

369 
¡©_fšd_¡©
(
¡©_sdb_t
 *
sdb
,

370 *
¡©_Çme
);

	@store2Load.cpp

1 
	~<¡dio.h
>

2 
	~<io¡»am
>

3 
	~<¡ršg.h
>

4 
	~"ho¡.h
"

5 
	~"machše.h
"

6 
usšg
 
Çme¥aû
 
	g¡d
;

8 "C" 
pushStÜe
 (
md_addr_t
 
pc
, md_addr_ˆ
addr
, 
couÁ”_t
 
sim_cyşe
, 
width
);

9 "C" 
v”ifyLßd
 (
md_addr_t
 
pc
, md_addr_ˆ
addr
, 
couÁ”_t
 
sim_cyşe
, 
width
);

11 
AddStÜeRef
 (
md_addr_t
 
pc
, md_addr_ˆ
lßdPC
, 
couÁ”_t
 
commDi¡
);

13 
	#TABLE_LENGTH
 2048

	)

14 
	#SHIFT_LENGTH
 3

	)

15 
	#ASSOC
 32

	)

16 şas 
	c’Œy


18 
	mpublic
:

19 
md_addr_t
 
pc
;

20 
md_addr_t
 
	maddr
;

21 
couÁ”_t
 
	mtimeSmp
;

22 
	mv®id
;

23 
	mwidth
;

26 
	$’Œy
 ()

28 
pc
 = 0;

29 
addr
 = 0;

30 
timeSmp
 = 0;

31 
v®id
 = 0;

32 
width
 = 0;

36 ~
	$’Œy
 ()

38 
	}
}

41 şas 
	chashTabË


43 
	mpublic
:

44 
’Œy
 
bË
[
TABLE_LENGTH
][
ASSOC
];

45 
couÁ”_t
 
	meviùCouÁ
;

46 
	mhi¡TabË
[10000];

49 
	$hashTabË
 ()

51 
eviùCouÁ
 = 0;

52 
i
 = 0; i < 10000; i++)

54 
hi¡TabË
[
i
] = 0;

59 ~
	$hashTabË
 ()

61 
	}
}

65 
hashTabË
 
	g¡ÜeBufãr
;

68 
	$pushStÜe
 (
md_addr_t
 
pc
, md_addr_ˆ
addr
, 
couÁ”_t
 
sim_cyşe
, 
width
)

70 
šdex
;

71 
i
;

73 
šdex
 = (
addr
 >> 
SHIFT_LENGTH
è& (
TABLE_LENGTH
 - 1);

74 
found
 = 0;

75 
couÁ”_t
 
Şde¡_timeSmp
;

76 
Şde¡_’Œy
;

79 
i
 = 0; i < 
ASSOC
; i++)

81 ià(
¡ÜeBufãr
.
bË
[
šdex
][
i
].
v®id
 == 1)

83 
bigMemWidth
 = (
width
 > 
¡ÜeBufãr
.
bË
[
šdex
][
i
].width) ? width : storeBuffer.table[index][i].width;

84 
md_addr_t
 
locAddr
 = (
¡ÜeBufãr
.
bË
[
šdex
][
i
].
addr
 & ~(
bigMemWidth
 - 1));

85 
md_addr_t
 
extAddr
 = (
addr
 & ~(
bigMemWidth
 - 1));

87 ià(
locAddr
 =ğ
extAddr
)

89 ià(!
found
)

91 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
pc
 =…c;

92 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
timeSmp
 = 
sim_cyşe
;

93 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
addr
 =‡ddr;

94 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
width
 = width;

95 
found
 = 1;

99 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
v®id
 = 0;

100 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
pc
 = 0;

101 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
timeSmp
 = 0;

102 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
addr
 = 0;

103 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
width
 = 0;

109 ià(
found
)

112 
Şde¡_timeSmp
 = 
¡ÜeBufãr
.
bË
[
šdex
][0].
timeSmp
;

113 
Şde¡_’Œy
 = 0;

116 
i
 = 0; i < 
ASSOC
; i++)

118 ià(
¡ÜeBufãr
.
bË
[
šdex
][
i
].
v®id
 == 0)

120 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
pc
 =…c;

121 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
addr
 =‡ddr;

122 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
timeSmp
 = 
sim_cyşe
;

123 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
v®id
 = 1;

124 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
width
 = width;

127 ià(
¡ÜeBufãr
.
bË
[
šdex
][
i
].
timeSmp
 < 
Şde¡_timeSmp
)

129 
Şde¡_timeSmp
 = 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
timeSmp
;

130 
Şde¡_’Œy
 = 
i
;

135 
¡ÜeBufãr
.
bË
[
šdex
][
Şde¡_’Œy
].
pc
 =…c;

136 
¡ÜeBufãr
.
bË
[
šdex
][
Şde¡_’Œy
].
addr
 =‡ddr;

137 
¡ÜeBufãr
.
bË
[
šdex
][
Şde¡_’Œy
].
timeSmp
 = 
sim_cyşe
;

138 
¡ÜeBufãr
.
bË
[
šdex
][
Şde¡_’Œy
].
v®id
 = 1;

139 
¡ÜeBufãr
.
bË
[
šdex
][
Şde¡_’Œy
].
width
 = width;

140 
¡ÜeBufãr
.
eviùCouÁ
++;

142 
	}
}

145 
	$v”ifyLßd
 (
md_addr_t
 
pc
, md_addr_ˆ
addr
, 
couÁ”_t
 
sim_cyşe
, 
width
)

147 
šdex
;

148 
i
;

150 
šdex
 = (
addr
 >> 
SHIFT_LENGTH
è& (
TABLE_LENGTH
 - 1);

152 
i
 = 0; i < 
ASSOC
; i++)

156 ià(
¡ÜeBufãr
.
bË
[
šdex
][
i
].
v®id
 == 1)

158 
bigMemWidth
 = (
width
 > 
¡ÜeBufãr
.
bË
[
šdex
][
i
].width) ? width : storeBuffer.table[index][i].width;

159 
md_addr_t
 
locAddr
 = (
¡ÜeBufãr
.
bË
[
šdex
][
i
].
addr
 & ~(
bigMemWidth
 - 1));

160 
md_addr_t
 
extAddr
 = (
addr
 & ~(
bigMemWidth
 - 1));

162 ià(
locAddr
 =ğ
extAddr
 && (
sim_cyşe
 - 
¡ÜeBufãr
.
bË
[
šdex
][
i
].
timeSmp
 < 5000))

163 
	`AddStÜeRef
 (
¡ÜeBufãr
.
bË
[
šdex
][
i
].
pc
,…c, 
sim_cyşe
 - stÜeBufãr.bË[šdex][i].
timeSmp
);

167 
	}
}

	@symbol.c

92 
	~<¡dio.h
>

93 
	~<¡dlib.h
>

95 
	~"ho¡.h
"

96 
	~"misc.h
"

97 
	~"lßd”.h
"

98 
	~"symbŞ.h
"

100 
	~"smt.h
"

102 #ifdeà
SMT_SS


103 
	~"cÚ‹xt.h
"

107 #ifdeà
BFD_LOADER


108 
	~<bfd.h
>

110 
	~"rg‘-®pha/ecoff.h
"

114 (*
	tqsÜt_â
)(const *, const *);

119 
sym_sym_t
 *
sym_db
 = 
NULL
;

122 
sym_nsyms
 = 0;

123 
sym_sym_t
 **
sym_syms
 = 
NULL
;

126 
sym_sym_t
 **
sym_syms_by_Çme
 = 
NULL
;

129 
sym_Áextsyms
 = 0;

130 
sym_sym_t
 **
sym_‹xtsyms
 = 
NULL
;

133 
sym_sym_t
 **
sym_‹xtsyms_by_Çme
 = 
NULL
;

136 
sym_nd©asyms
 = 0;

137 
sym_sym_t
 **
sym_d©asyms
 = 
NULL
;

140 
sym_sym_t
 **
sym_d©asyms_by_Çme
 = 
NULL
;

143 
syms_lßded
 = 
FALSE
;

145 #ifdeà
PRINT_SYMS


148 
	$æags2¡r
(
æags
)

150 
buf
[256];

151 *
p
;

153 ià(!
æags
)

156 
p
 = 
buf
;

157 *
p
 = '\0';

159 ià(
æags
 & 
BSF_LOCAL
)

161 *
p
++ = 'L';

162 *
p
++ = '|';

164 ià(
æags
 & 
BSF_GLOBAL
)

166 *
p
++ = 'G';

167 *
p
++ = '|';

169 ià(
æags
 & 
BSF_DEBUGGING
)

171 *
p
++ = 'D';

172 *
p
++ = '|';

174 ià(
æags
 & 
BSF_FUNCTION
)

176 *
p
++ = 'F';

177 *
p
++ = '|';

179 ià(
æags
 & 
BSF_KEEP
)

181 *
p
++ = 'K';

182 *
p
++ = '|';

184 ià(
æags
 & 
BSF_KEEP_G
)

186 *
p
++ = 'k'; *p++ = '|';

188 ià(
æags
 & 
BSF_WEAK
)

190 *
p
++ = 'W';

191 *
p
++ = '|';

193 ià(
æags
 & 
BSF_SECTION_SYM
)

195 *
p
++ = 'S'; *p++ = '|';

197 ià(
æags
 & 
BSF_OLD_COMMON
)

199 *
p
++ = 'O';

200 *
p
++ = '|';

202 ià(
æags
 & 
BSF_NOT_AT_END
)

204 *
p
++ = 'N';

205 *
p
++ = '|';

207 ià(
æags
 & 
BSF_CONSTRUCTOR
)

209 *
p
++ = 'C';

210 *
p
++ = '|';

212 ià(
æags
 & 
BSF_WARNING
)

214 *
p
++ = 'w';

215 *
p
++ = '|';

217 ià(
æags
 & 
BSF_INDIRECT
)

219 *
p
++ = 'I';

220 *
p
++ = '|';

222 ià(
æags
 & 
BSF_FILE
)

224 *
p
++ = 'f';

225 *
p
++ = '|';

228 ià(
p
 =ğ
buf
)

229 
	`·nic
("no flags detected");

231 *--
p
 = '\0';

232  
buf
;

233 
	}
}

238 
	$acmp
(
sym_sym_t
 **
sym1
, sym_sym_ˆ**
sym2
)

240  ()((*
sym1
)->
addr
 - (*
sym2
)->addr);

241 
	}
}

245 
	$ncmp
(
sym_sym_t
 **
sym1
, sym_sym_ˆ**
sym2
)

247  
	`¡rcmp
((*
sym1
)->
Çme
, (*
sym2
)->name);

248 
	}
}

250 
	#RELEVANT_SCOPE
(
SYM
è\

	)

252 ((
	gSYM
)->
	gæags
 & 
	gBSF_GLOBAL
) \

254 (((
	gSYM
)->
	gæags
 & (
	gBSF_LOCAL
|
	gBSF_DEBUGGING
)è=ğ
BSF_LOCAL
) \

255 && (
SYM
)->
Çme
[0] != '$') \

257 
lßd_loÿls
 \

259 ((
SYM
)->
æags
&(
BSF_LOCAL
|
BSF_DEBUGGING
))==(BSF_LOCAL|BSF_DEBUGGING)\

260 && (
SYM
)->
Çme
[0] == '$') \

262 ((
SYM
)->
æags
 & (
BSF_LOCAL
|
BSF_DEBUGGING
)) == (BSF_LOCAL) \

263 && (
SYM
)->
Çme
[0] == '$'))))

267 #ifdeà
SMT_SS


269 
	$sym_lßdsyms
(*
âame
,

270 
lßd_loÿls
,
th»adid
)

273 
	$sym_lßdsyms
(*
âame
,

274 
lßd_loÿls
)

277 
i
, 
debug_út
;

279 #ifdeà
BFD_LOADER


280 
bfd
 *
abfd
;

281 
asymbŞ
 **
syms
;

282 
¡Üage
, 
i
, 
nsyms
, 
debug_út
;

284 
Ën
;

285 
FILE
 *
fobj
;

286 
ecoff_fehdr
 
fhdr
;

287 
ecoff_aouthdr
 
ahdr
;

288 
ecoff_symhdr_t
 
symhdr
;

289 *
¡¹ab
 = 
NULL
;

290 
ecoff_EXTR
 *
exŒ
;

293 #ifdeà
SMT_SS


294 
cÚ‹xt
 *
cu¼’t
;

295 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

298 ià(
syms_lßded
)

305 #ifdeà
BFD_LOADER


308 ià(!(
abfd
 = 
	`bfd_İ’r
(
âame
, "ss-coff-big")))

309 ià(!(
abfd
 = 
	`bfd_İ’r
(
âame
, "ss-coff-little")))

310 
	`çl
("ÿÂÙ o³ÀexecubË `%s'", 
âame
);

315 ià(!
	`bfd_check_fÜm©
(
abfd
, 
bfd_objeù
))

317 
	`bfd_şo£
(
abfd
);

318 
	`çl
("ÿÂÙ o³ÀexecubË `%s'", 
âame
);

322 ià(
abfd
->
xvec
->
by‹Üd”_big_p
 !ğ()
ld_rg‘_big_’dŸn
)

323 
	`·nic
("binaryƒndian changed");

325 ià((
	`bfd_g‘_fe_æags
(
abfd
è& (
HAS_SYMS
|
HAS_LOCALS
)))

328 
¡Üage
 = 
	`bfd_g‘_symb_uµ”_bound
(
abfd
);

329 ià(
¡Üage
 <= 0)

330 
	`çl
("HAS_SYMS i £t, buˆ`%s' stÈÏck symbŞs", 
âame
);

332 
syms
 = (
asymbŞ
 **)
	`ÿÎoc
(
¡Üage
, 1);

333 ià(!
syms
)

334 
	`çl
("out of virtual memory");

336 
nsyms
 = 
	`bfd_ÿnÚiÿlize_symb
 (
abfd
, 
syms
);

337 ià(
nsyms
 <= 0)

338 
	`çl
("HAS_SYMS i £t, buˆ`%s' stÈÏck symbŞs", 
âame
);

345 
sym_nd©asyms
 = 0; 
sym_Áextsyms
 = 0;

346 
i
=0; i < 
nsyms
; i++)

348 
asymbŞ
 *
sym
 = 
syms
[
i
];

352 (!
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".rdata")

353 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".data")

354 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".sdata")

355 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".bss")

356 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".sbss"))

358 && 
	`RELEVANT_SCOPE
(
sym
))

361 
sym_nd©asyms
++;

362 #ifdeà
PRINT_SYMS


363 
	`årštf
(
¡d”r
,

365 
sym
->
Çme
, sym->
£ùiÚ
->Çme, 
	`æags2¡r
(sym->
æags
),

366 
sym
->
v®ue
 + sym->
£ùiÚ
->
vma
);

370 !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".text")

372 && 
	`RELEVANT_SCOPE
(
sym
))

375 
sym_Áextsyms
++;

376 #ifdeà
PRINT_SYMS


377 
	`årštf
(
¡d”r
,

379 
sym
->
Çme
, sym->
£ùiÚ
->Çme, 
	`æags2¡r
(sym->
æags
),

380 
sym
->
v®ue
 + sym->
£ùiÚ
->
vma
);

386 #ifdeà
PRINT_SYMS


387 
	`årštf
(
¡d”r
,

389 
sym
->
Çme
, sym->
£ùiÚ
->Çme, 
	`æags2¡r
(sym->
æags
),

390 
sym
->
v®ue
 + sym->
£ùiÚ
->
vma
);

394 
sym_nsyms
 = 
sym_Áextsyms
 + 
sym_nd©asyms
;

395 ià(
sym_nsyms
 <= 0)

396 
	`çl
("`%s' ha nØ‹xˆÜ d©¨symbŞs", 
âame
);

399 
sym_db
 = (
sym_sym_t
 *)
	`ÿÎoc
(
sym_nsyms
, (sym_sym_t));

400 ià(!
sym_db
)

401 
	`çl
("out of virtual memory");

404 
debug_út
=0, 
i
=0; i < 
nsyms
; i++)

406 
asymbŞ
 *
sym
 = 
syms
[
i
];

410 (!
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".rdata")

411 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".data")

412 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".sdata")

413 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".bss")

414 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".sbss"))

416 && 
	`RELEVANT_SCOPE
(
sym
))

419 
sym_db
[
debug_út
].
Çme
 = 
	`my¡rdup
((*)
sym
->name);

420 
sym_db
[
debug_út
].
£g
 = 
ss_d©a
;

421 
sym_db
[
debug_út
].
š™Ÿlized
 =

422 (!
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".rdata")

423 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".data")

424 || !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".sdata"));

425 
sym_db
[
debug_út
].
pub
 = (
sym
->
æags
 & 
BSF_GLOBAL
);

426 
sym_db
[
debug_út
].
loÿl
 = (
sym
->
Çme
[0] == '$');

427 
sym_db
[
debug_út
].
addr
 = 
sym
->
v®ue
 + sym->
£ùiÚ
->
vma
;

429 
debug_út
++;

432 !
	`¡rcmp
(
sym
->
£ùiÚ
->
Çme
, ".text")

434 && 
	`RELEVANT_SCOPE
(
sym
))

437 
sym_db
[
debug_út
].
Çme
 = 
	`my¡rdup
((*)
sym
->name);

438 
sym_db
[
debug_út
].
£g
 = 
ss_‹xt
;

439 
sym_db
[
debug_út
].
š™Ÿlized
 = 
TRUE
;

440 
sym_db
[
debug_út
].
pub
 = (
sym
->
æags
 & 
BSF_GLOBAL
);

441 
sym_db
[
debug_út
].
loÿl
 = (
sym
->
Çme
[0] == '$');

442 
sym_db
[
debug_út
].
addr
 = 
sym
->
v®ue
 + sym->
£ùiÚ
->
vma
;

444 
debug_út
++;

452 ià(
debug_út
 !ğ
sym_nsyms
)

453 
	`·nic
("could‚ot†ocate‡ll counted symbols");

456 
	`ä“
(
syms
);

460 ià(!
	`bfd_şo£
(
abfd
))

461 
	`çl
("could‚Ù clo£ƒxecubË `%s'", 
âame
);

466 #ià
	`defšed
(
__CYGWIN32__
è|| defšed(
_MSC_VER
)

467 
fobj
 = 
	`fİ’
(
âame
, "rb");

469 
fobj
 = 
	`fİ’
(
âame
, "r");

471 ià(!
fobj
)

472 
	`çl
("ÿÂÙ o³ÀexecubË `%s'", 
âame
);

474 ià(
	`ä—d
(&
fhdr
, (
ecoff_fehdr
), 1, 
fobj
) < 1)

475 
	`çl
("ÿÂÙ„—d h—d” fromƒxecubË `%s'", 
âame
);

478 ià(
fhdr
.
f_magic
 !ğ
ECOFF_ALPHAMAGIC
)

479 
	`çl
("bad magiønumb” iÀexecubË `%s'", 
âame
);

481 ià(
	`ä—d
(&
ahdr
, (
ecoff_aouthdr
), 1, 
fobj
) < 1)

482 
	`çl
("ÿÂÙ„—d AOUT h—d” fromƒxecubË `%s'", 
âame
);

485 
	`f£ek
(
fobj
, ()
fhdr
.
f_sym±r
, 0);

487 ià(
	`ä—d
(&
symhdr
, (
ecoff_symhdr_t
), 1, 
fobj
) < 1)

488 
	`çl
("could‚Ù„—d symbŞiøh—d” fromƒxecubË `%s'", 
âame
);

490 ià(
symhdr
.
magic
 !ğ
ECOFF_magicSym
)

491 
	`çl
("bad magiønumb” (0x%xèš symbŞiøh—d”", 
symhdr
.
magic
);

494 
Ën
 = 
symhdr
.
issMax
 + symhdr.
issExtMax
;

495 
¡¹ab
 = (*)
	`ÿÎoc
(
Ën
, ());

496 ià(!
¡¹ab
)

497 
	`çl
("out of virtual memory");

500 
	`f£ek
(
fobj
, ()
symhdr
.
cbSsExtOff£t
 , 0);

501 ià(
	`ä—d
(
¡¹ab
, 
Ën
, 1, 
fobj
) < 1)

502 
	`çl
("error while„eading symbolable‚ames");

505 
Ën
 = 
symhdr
.
isymMax
 + symhdr.
›xtMax
;

506 ià(
Ën
 <= 0)

507 
	`çl
("`%s' ha nØ‹xˆÜ d©¨symbŞs", 
âame
);

508 
sym_db
 = (
sym_sym_t
 *)
	`ÿÎoc
(
Ën
, (sym_sym_t));

509 ià(!
sym_db
)

510 
	`çl
("out of virtual memory");

513 
exŒ
 =

514 (
ecoff_EXTR
 *)
	`ÿÎoc
(
symhdr
.
›xtMax
, (ecoff_EXTR));

515 ià(!
exŒ
)

516 
	`çl
("out of virtual memory");

518 
	`f£ek
(
fobj
, ()
symhdr
.
cbExtOff£t
, 0);

519 ià(
	`ä—d
(
exŒ
, (
ecoff_EXTR
), 
symhdr
.
›xtMax
, 
fobj
) < 1)

520 
	`çl
("error„eadingƒxternal symbolƒntries");

522 
sym_nsyms
 = 0; 
sym_nd©asyms
 = 0; 
sym_Áextsyms
 = 0;

525 
i
=0; i < 
symhdr
.
›xtMax
; i++)

527 
¡r_off£t
;

529 
¡r_off£t
 = 
symhdr
.
issMax
 + 
exŒ
[
i
].
asym
.
iss
;

532 
	`´štf
("ext %2d: ifd = %2d, iss = %3d, value = %8x, st = %3x, "

534 
i
, 
exŒ
[i].
ifd
,

535 
exŒ
[
i
].
asym
.
iss
,ƒxŒ[i].asym.
v®ue
,

536 
exŒ
[
i
].
asym
.
¡
,ƒxŒ[i].asym.
sc
,

537 
exŒ
[
i
].
asym
.
šdex
);

538 
	`´štf
(" %08x %2d %2d %s\n",

539 
exŒ
[
i
].
asym
.
v®ue
,

540 
exŒ
[
i
].
asym
.
¡
,

541 
exŒ
[
i
].
asym
.
sc
,

542 &
¡¹ab
[
¡r_off£t
]);

545 
exŒ
[
i
].
asym
.
¡
)

547 
ECOFF_¡Glob®
:

548 
ECOFF_¡Stic
:

550 
sym_db
[
sym_nsyms
].
Çme
 = 
	`my¡rdup
(&
¡¹ab
[
¡r_off£t
]);

551 
sym_db
[
sym_nsyms
].
£g
 = 
ss_d©a
;

552 
sym_db
[
sym_nsyms
].
š™Ÿlized
 = 
TRUE
;

553 
sym_db
[
sym_nsyms
].
pub
 = 
TRUE
;

554 
sym_db
[
sym_nsyms
].
loÿl
 = 
FALSE
;

555 
sym_db
[
sym_nsyms
].
addr
 = 
exŒ
[
i
].
asym
.
v®ue
;

556 
sym_nsyms
++;

557 
sym_nd©asyms
++;

560 
ECOFF_¡Proc
:

561 
ECOFF_¡SticProc
:

562 
ECOFF_¡Lab–
:

564 
sym_db
[
sym_nsyms
].
Çme
 = 
	`my¡rdup
(&
¡¹ab
[
¡r_off£t
]);

565 
sym_db
[
sym_nsyms
].
£g
 = 
ss_‹xt
;

566 
sym_db
[
sym_nsyms
].
š™Ÿlized
 = 
TRUE
;

567 
sym_db
[
sym_nsyms
].
pub
 = 
TRUE
;

568 
sym_db
[
sym_nsyms
].
loÿl
 = 
FALSE
;

569 
sym_db
[
sym_nsyms
].
addr
 = 
exŒ
[
i
].
asym
.
v®ue
;

570 
sym_nsyms
++;

571 
sym_Áextsyms
++;

577 
	`årštf
(
¡d”r
, "** skpšg: %s...\n", &
¡¹ab
[
¡r_off£t
]);

582 
	`ä“
(
exŒ
);

585 ià(
	`fşo£
(
fobj
))

586 
	`çl
("could‚Ù clo£ƒxecubË `%s'", 
âame
);

595 
sym_syms
 =

596 (
sym_sym_t
 **)
	`ÿÎoc
(
sym_nsyms
, (sym_sym_t *));

597 ià(!
sym_syms
)

598 
	`çl
("out of virtual memory");

600 
sym_syms_by_Çme
 =

601 (
sym_sym_t
 **)
	`ÿÎoc
(
sym_nsyms
, (sym_sym_t *));

602 ià(!
sym_syms_by_Çme
)

603 
	`çl
("out of virtual memory");

605 
debug_út
=0, 
i
=0; i<
sym_nsyms
; i++)

607 
sym_syms
[
debug_út
] = &
sym_db
[
i
];

608 
sym_syms_by_Çme
[
debug_út
] = &
sym_db
[
i
];

609 
debug_út
++;

612 ià(
debug_út
 !ğ
sym_nsyms
)

613 
	`·nic
("could‚ot†ocate‡ll symbols");

616 
	`qsÜt
(
sym_syms
, 
sym_nsyms
, (
sym_sym_t
 *), (
qsÜt_â
è
acmp
);

619 
	`qsÜt
(
sym_syms_by_Çme
, 
sym_nsyms
, (
sym_sym_t
 *), (
qsÜt_â
è
ncmp
);

622 
sym_‹xtsyms
 =

623 (
sym_sym_t
 **)
	`ÿÎoc
(
sym_Áextsyms
, (sym_sym_t *));

624 ià(!
sym_‹xtsyms
)

625 
	`çl
("out of virtual memory");

627 
sym_‹xtsyms_by_Çme
 =

628 (
sym_sym_t
 **)
	`ÿÎoc
(
sym_Áextsyms
, (sym_sym_t *));

629 ià(!
sym_‹xtsyms_by_Çme
)

630 
	`çl
("out of virtual memory");

632 
debug_út
=0, 
i
=0; i<
sym_nsyms
; i++)

634 ià(
sym_db
[
i
].
£g
 =ğ
ss_‹xt
)

636 
sym_‹xtsyms
[
debug_út
] = &
sym_db
[
i
];

637 
sym_‹xtsyms_by_Çme
[
debug_út
] = &
sym_db
[
i
];

638 
debug_út
++;

642 ià(
debug_út
 !ğ
sym_Áextsyms
)

643 
	`·nic
("could‚ot†ocate‡llext symbols");

646 
	`qsÜt
(
sym_‹xtsyms
, 
sym_Áextsyms
, (
sym_sym_t
 *), (
qsÜt_â
è
acmp
);

649 
	`qsÜt
(
sym_‹xtsyms_by_Çme
, 
sym_Áextsyms
, (
sym_sym_t
 *), (
qsÜt_â
è
ncmp
);

652 
sym_d©asyms
 =

653 (
sym_sym_t
 **)
	`ÿÎoc
(
sym_nd©asyms
, (sym_sym_t *));

654 ià(!
sym_d©asyms
)

655 
	`çl
("out of virtual memory");

657 
sym_d©asyms_by_Çme
 =

658 (
sym_sym_t
 **)
	`ÿÎoc
(
sym_nd©asyms
, (sym_sym_t *));

659 ià(!
sym_d©asyms_by_Çme
)

660 
	`çl
("out of virtual memory");

662 
debug_út
=0, 
i
=0; i<
sym_nsyms
; i++)

664 ià(
sym_db
[
i
].
£g
 =ğ
ss_d©a
)

666 
sym_d©asyms
[
debug_út
] = &
sym_db
[
i
];

667 
sym_d©asyms_by_Çme
[
debug_út
] = &
sym_db
[
i
];

668 
debug_út
++;

672 ià(
debug_út
 !ğ
sym_nd©asyms
)

673 
	`·nic
("could‚ot†ocate‡ll data symbols");

676 
	`qsÜt
(
sym_d©asyms
, 
sym_nd©asyms
, (
sym_sym_t
 *), (
qsÜt_â
è
acmp
);

679 
	`qsÜt
(
sym_d©asyms_by_Çme
, 
sym_nd©asyms
, (
sym_sym_t
 *), (
qsÜt_â
è
ncmp
);

682 #ifdeà
SMT_SS


683 
i
=0; i<
sym_Áextsyms
; i++)

685 
sym_‹xtsyms
[
i
]->
size
 =

686 (
i
 !ğ(
sym_Áextsyms
 - 1)

687 ? (
sym_‹xtsyms
[
i
+1]->
addr
 - sym_textsyms[i]->addr)

688 : ((
cu¼’t
->
ld_‹xt_ba£
 + cu¼’t->
ld_‹xt_size
è- 
sym_‹xtsyms
[
i
]->
addr
));

690 
i
=0; i<
sym_nd©asyms
; i++)

692 
sym_d©asyms
[
i
]->
size
 =

693 (
i
 !ğ(
sym_nd©asyms
 - 1)

694 ? (
sym_d©asyms
[
i
+1]->
addr
 - sym_datasyms[i]->addr)

695 : ((
cu¼’t
->
ld_d©a_ba£
 + cu¼’t->
ld_d©a_size
è- 
sym_d©asyms
[
i
]->
addr
));

698 
i
=0; i<
sym_Áextsyms
; i++)

700 
sym_‹xtsyms
[
i
]->
size
 =

701 (
i
 !ğ(
sym_Áextsyms
 - 1)

702 ? (
sym_‹xtsyms
[
i
+1]->
addr
 - sym_textsyms[i]->addr)

703 : ((
ld_‹xt_ba£
 + 
ld_‹xt_size
è- 
sym_‹xtsyms
[
i
]->
addr
));

705 
i
=0; i<
sym_nd©asyms
; i++)

707 
sym_d©asyms
[
i
]->
size
 =

708 (
i
 !ğ(
sym_nd©asyms
 - 1)

709 ? (
sym_d©asyms
[
i
+1]->
addr
 - sym_datasyms[i]->addr)

710 : ((
ld_d©a_ba£
 + 
ld_d©a_size
è- 
sym_d©asyms
[
i
]->
addr
));

715 
syms_lßded
 = 
TRUE
;

716 
	}
}

720 
	$sym_dumpsym
(
sym_sym_t
 *
sym
,

721 
FILE
 *
fd
)

723 
	`myårštf
(
fd
,

725 
sym
->
Çme
,

726 
sym
->
£g
 =ğ
ss_d©a
 ? "data" : "text",

727 
sym
->
š™Ÿlized
 ? "y" : "n",

728 
sym
->
pub
 ? "y" : "n",

729 
sym
->
loÿl
 ? "y" : "n",

730 
sym
->
addr
,

731 
sym
->
size
);

732 
	}
}

736 
	$sym_dumpsyms
(
FILE
 *
fd
)

738 
i
;

740 
i
=0; i < 
sym_nsyms
; i++)

741 
	`sym_dumpsym
(
sym_syms
[
i
], 
fd
);

742 
	}
}

746 
	$sym_dump¡©e
(
FILE
 *
fd
)

748 
i
;

750 ià(
fd
 =ğ
NULL
)

751 
fd
 = 
¡d”r
;

753 
	`årštf
(
fd
, "** All symbols sorted by‡ddress:\n");

754 
i
=0; i < 
sym_nsyms
; i++)

755 
	`sym_dumpsym
(
sym_syms
[
i
], 
fd
);

757 
	`årštf
(
fd
, "\n** All symbols sorted by‚ame:\n");

758 
i
=0; i < 
sym_nsyms
; i++)

759 
	`sym_dumpsym
(
sym_syms_by_Çme
[
i
], 
fd
);

761 
	`årštf
(
fd
, "** Text symbols sorted by‡ddress:\n");

762 
i
=0; i < 
sym_Áextsyms
; i++)

763 
	`sym_dumpsym
(
sym_‹xtsyms
[
i
], 
fd
);

765 
	`årštf
(
fd
, "\n** Text symbols sorted by‚ame:\n");

766 
i
=0; i < 
sym_Áextsyms
; i++)

767 
	`sym_dumpsym
(
sym_‹xtsyms_by_Çme
[
i
], 
fd
);

769 
	`årštf
(
fd
, "** Data symbols sorted by‡ddress:\n");

770 
i
=0; i < 
sym_nd©asyms
; i++)

771 
	`sym_dumpsym
(
sym_d©asyms
[
i
], 
fd
);

773 
	`årštf
(
fd
, "\n** Data symbols sorted by‚ame:\n");

774 
i
=0; i < 
sym_nd©asyms
; i++)

775 
	`sym_dumpsym
(
sym_d©asyms_by_Çme
[
i
], 
fd
);

776 
	}
}

782 
sym_sym_t
 *

783 
	$sym_bšd_addr
(
md_addr_t
 
addr
,

784 *
pšdex
,

785 
exaù
,

786 
sym_db_t
 
db
)

788 
nsyms
, 
low
, 
high
, 
pos
;

789 
sym_sym_t
 **
syms
;

791 
db
)

793 
sdb_ªy
:

794 
syms
 = 
sym_syms
;

795 
nsyms
 = 
sym_nsyms
;

797 
sdb_‹xt
:

798 
syms
 = 
sym_‹xtsyms
;

799 
nsyms
 = 
sym_Áextsyms
;

801 
sdb_d©a
:

802 
syms
 = 
sym_d©asyms
;

803 
nsyms
 = 
sym_nd©asyms
;

806 
	`·nic
("bogus symbol database");

810 ià(!
nsyms
)

812 ià(
pšdex
)

813 *
pšdex
 = -1;

814  
NULL
;

818 
low
 = 0;

819 
high
 = 
nsyms
-1;

820 
pos
 = (
low
 + 
high
) >> 1;

822 (
exaù
 && 
syms
[
pos
]->
addr
 ==‡ddr)

824 || (!
exaù


825 && 
syms
[
pos
]->
addr
 <=‡ddr

826 && 
addr
 < (
syms
[
pos
]->add¸+ 
	`max2
(1, syms[pos]->
size
)))))

828 ià(
addr
 < 
syms
[
pos
]->addr)

829 
high
 = 
pos
 - 1;

831 
low
 = 
pos
 + 1;

832 ià(
high
 >ğ
low
)

833 
pos
 = (
low
 + 
high
) >> 1;

836 ià(
pšdex
)

837 *
pšdex
 = -1;

838  
NULL
;

843 ià(
pšdex
)

844 *
pšdex
 = 
pos
;

845  
syms
[
pos
];

846 
	}
}

851 
sym_sym_t
 *

852 
	$sym_bšd_Çme
(cÚ¡ *
Çme
,

853 *
pšdex
,

854 
sym_db_t
 
db
)

856 
nsyms
, 
low
, 
high
, 
pos
, 
cmp
;

857 
sym_sym_t
 **
syms
;

859 
db
)

861 
sdb_ªy
:

862 
syms
 = 
sym_syms_by_Çme
;

863 
nsyms
 = 
sym_nsyms
;

865 
sdb_‹xt
:

866 
syms
 = 
sym_‹xtsyms_by_Çme
;

867 
nsyms
 = 
sym_Áextsyms
;

869 
sdb_d©a
:

870 
syms
 = 
sym_d©asyms_by_Çme
;

871 
nsyms
 = 
sym_nd©asyms
;

874 
	`·nic
("bogus symbol database");

878 ià(!
nsyms
)

880 ià(
pšdex
)

881 *
pšdex
 = -1;

882  
NULL
;

886 
low
 = 0;

887 
high
 = 
nsyms
-1;

888 
pos
 = (
low
 + 
high
) >> 1;

889 !Ğ!(
cmp
 = 
	`¡rcmp
(
syms
[
pos
]->
Çme
,‚ame))))

891 ià(
cmp
 > 0)

892 
high
 = 
pos
 - 1;

894 
low
 = 
pos
 + 1;

895 ià(
high
 >ğ
low
)

896 
pos
 = (
low
 + 
high
) >> 1;

899 ià(
pšdex
)

900 *
pšdex
 = -1;

901  
NULL
;

906 ià(
pšdex
)

907 *
pšdex
 = 
pos
;

908  
syms
[
pos
];

909 
	}
}

	@symbol.h

89 #iâdeà
SYMBOL_H


90 
	#SYMBOL_H


	)

92 
	~<¡dio.h
>

94 
	~"ho¡.h
"

95 
	~"misc.h
"

96 
	~"machše.h
"

99 
	~"smt.h
"

101 
	esym_£g_t
 {

102 
	mss_d©a
,

103 
	mss_‹xt
,

104 
	mss_NUM


108 
	ssym_sym_t
 {

109 *
	mÇme
;

110 
sym_£g_t
 
	m£g
;

111 
	mš™Ÿlized
;

112 
	mpub
;

113 
	mloÿl
;

114 
md_addr_t
 
	maddr
;

115 
	msize
;

119 
sym_sym_t
 *
sym_db
;

122 
sym_nsyms
;

123 
sym_sym_t
 **
sym_syms
;

126 
sym_sym_t
 **
sym_syms_by_Çme
;

129 
sym_Áextsyms
;

130 
sym_sym_t
 **
sym_‹xtsyms
;

133 
sym_sym_t
 **
sym_‹xtsyms_by_Çme
;

136 
sym_nd©asyms
;

137 
sym_sym_t
 **
sym_d©asyms
;

140 
sym_sym_t
 **
sym_d©asyms_by_Çme
;

143 #ifdeà
SMT_SS


145 
sym_lßdsyms
(*
âame
,

146 
lßd_loÿls
, 
th»adid
);

149 
sym_lßdsyms
(*
âame
,

150 
lßd_loÿls
);

156 
sym_dumpsym
(
sym_sym_t
 *
sym
,

157 
FILE
 *
fd
);

161 
sym_dumpsyms
(
FILE
 *
fd
);

165 
sym_dump¡©e
(
FILE
 *
fd
);

168 
	esym_db_t
 {

169 
	msdb_ªy
,

170 
	msdb_‹xt
,

171 
	msdb_d©a
,

172 
	msdb_NUM


179 
sym_sym_t
 *

180 
sym_bšd_addr
(
md_addr_t
 
addr
,

181 *
pšdex
,

182 
exaù
,

183 
sym_db_t
 
db
);

188 
sym_sym_t
 *

189 
sym_bšd_Çme
(cÚ¡ *
Çme
,

190 *
pšdex
,

191 
sym_db_t
 
db
);

	@syscall.c

134 
	~<¡dio.h
>

135 
	~<¡dlib.h
>

136 
	~<sys/ty³s.h
>

137 
	~<sys/¡©.h
>

138 
	~<sys/ut¢ame.h
>

139 
	~<sys/sysšfo.h
>

140 
	~<sys/time.h
>

141 
	~<sys/uio.h
>

143 
	~"smt.h
"

145 #ifdeà
SMT_SS


146 
	~"cÚ‹xt.h
"

149 
	~"b¿nchCÜr.h
"

155 #iâdeà
MIN_SYSCALL_MODE


156 #ià
defšed
(
_MSC_VER
è|| defšed(
__CYGWIN32__
è|| defšed(
MD_CROSS_ENDIAN
)

157 
	#MIN_SYSCALL_MODE


	)

162 #ifdeà
_MSC_VER


163 
	~<io.h
>

165 
	~<uni¡d.h
>

167 
	~<fú.h
>

168 
	~<sys/ty³s.h
>

169 #iâdeà
_MSC_VER


170 
	~<sys/·¿m.h
>

172 
	~<”ºo.h
>

173 
	~<time.h
>

174 #iâdeà
_MSC_VER


175 
	~<sys/time.h
>

177 #iâdeà
_MSC_VER


178 
	~<sys/»sourû.h
>

180 
	~<sigÇl.h
>

181 #iâdeà
_MSC_VER


182 
	~<sys/fe.h
>

184 
	~<sys/¡©.h
>

185 #iâdeà
_MSC_VER


186 
	~<sys/uio.h
>

188 
	~<£tjmp.h
>

189 #iâdeà
_MSC_VER


190 
	~<sys/times.h
>

192 
	~<lim™s.h
>

193 #iâdeà
_MSC_VER


194 
	~<sys/ioùl.h
>

196 #ià
defšed
(
lšux
è|| defšed(
_AIX
)

197 
	~<utime.h
>

198 
	~<dœ’t.h
>

199 
	~<sys/vfs.h
>

201 #ià
defšed
(
_AIX
)

202 
	~<sys/¡©fs.h
>

204 #iâdeà
_MSC_VER


205 
	~<sys/mouÁ.h
>

208 #ià!
defšed
(
lšux
è&& !defšed(
¥¬c
è&& !defšed(
hpux
è&& !defšed(
__hpux
è&& !defšed(
__CYGWIN32__
è&& !defšed(
uÉrix
)

209 #iâdeà
_MSC_VER


210 
	~<sys/£Ëù.h
>

213 #ià
defšed
(
lšux
è|| defšed(
_AIX
)

214 
	~<sg‰y.h
>

215 
	~<Ãtš‘/tı.h
>

216 
	~<Ãtš‘/udp.h
>

217 
	~<Ãtš‘/š.h
>

220 #ià
defšed
(
__svr4__
)

221 
	~<sys/dœ’t.h
>

222 
	~<sys/fio.h
>

223 #–ià
defšed
(
__osf__
)

224 
	~<dœ’t.h
>

229 
g‘dœ’Œ›s
 (
fd
, *
buf
, 
nby‹s
, *
ba£p
);

232 
cŞËùStB¬r›r
, 
cŞËùStStİ
[
MAXTHREADS
], 
timeToR‘uº
;

233 
ä“zeCouÁ”
;

234 
th»adFÜked
[4];

237 
couÁ”_t
 
¦“pCouÁ
[];

240 #ià
defšed
(
MTA
)

241 
RUU_size
;

242 
RS_lšk
 *
r¦šk_ä“_li¡
;

244 #iâdeà
RSLINK_NEW


245 
	#RSLINK_NEW
(
DST
, 
RS
è\

	)

246 { 
RS_lšk
 *
	gn_lšk
; \

247 ià(!
	gr¦šk_ä“_li¡
) \

248 
·nic
("out of„s†inks"); \

249 
	gn_lšk
 = 
r¦šk_ä“_li¡
; \

250 
	gr¦šk_ä“_li¡
 = 
r¦šk_ä“_li¡
->
Ãxt
; \

251 
	gn_lšk
->
	gÃxt
 = 
NULL
; \

252 
	gn_lšk
->
	grs
 = (
RS
);‚_lšk->
	gg
 = 
n_lšk
->
rs
->
g
; \

253 (
	gDST
èğ
n_lšk
; \

256 
CV_lšk
 
CVLINK_NULL
;

258 
	#CV_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_TOTAL_REGS
))

	)

259 
´iÜ™y
[
MAXTHREADS
];

262 
key
[
MAXTHREADS
];

266 #ià
defšed
(
__svr4__
è|| defšed(
__osf__
)

267 
	~<sys/¡©vfs.h
>

268 
	#¡©fs
 
¡©vfs


	)

269 
	~<sys/time.h
>

270 
	~<utime.h
>

271 
	~<sg‰y.h
>

272 
	~<Ãtš‘/š.h
>

273 
	~<Ãtš‘/tı.h
>

276 #ià
defšed
(
¥¬c
è&& defšed(
__unix__
)

277 #ià
defšed
(
__svr4__
è|| defšed(
__USLC__
)

278 
	~<dœ’t.h
>

280 
	~<sys/dœ.h
>

284 #undeà
NL0


285 #undeà
NL1


286 #undeà
CR0


287 #undeà
CR1


288 #undeà
CR2


289 #undeà
CR3


290 #undeà
TAB0


291 #undeà
TAB1


292 #undeà
TAB2


293 #undeà
XTABS


294 #undeà
BS0


295 #undeà
BS1


296 #undeà
FF0


297 #undeà
FF1


298 #undeà
ECHO


299 #undeà
NOFLSH


300 #undeà
TOSTOP


301 #undeà
FLUSHO


302 #undeà
PENDIN


305 #ià
defšed
(
hpux
è|| defšed(
__hpux
)

306 #undeà
CR0


309 #ifdeà
__F»eBSD__


310 
	~<sys/ioùl_com·t.h
>

312 #iâdeà
_MSC_VER


313 
	~<‹rmio.h
>

317 #ià
defšed
(
hpux
è|| defšed(
__hpux
)

319 #undeà
HUPCL


320 #undeà
ECHO


321 #undeà
B50


322 #undeà
B75


323 #undeà
B110


324 #undeà
B134


325 #undeà
B150


326 #undeà
B200


327 #undeà
B300


328 #undeà
B600


329 #undeà
B1200


330 #undeà
B1800


331 #undeà
B2400


332 #undeà
B4800


333 #undeà
B9600


334 #undeà
B19200


335 #undeà
B38400


336 #undeà
NL0


337 #undeà
NL1


338 #undeà
CR0


339 #undeà
CR1


340 #undeà
CR2


341 #undeà
CR3


342 #undeà
TAB0


343 #undeà
TAB1


344 #undeà
BS0


345 #undeà
BS1


346 #undeà
FF0


347 #undeà
FF1


348 #undeà
EXTA


349 #undeà
EXTB


350 #undeà
B900


351 #undeà
B3600


352 #undeà
B7200


353 #undeà
XTABS


354 
	~<sg‰y.h
>

355 
	~<utime.h
>

358 #ifdeà
__CYGWIN32__


359 
	~<sys/uni¡d.h
>

360 
	~<sys/vfs.h
>

363 
	~<sys/sock‘.h
>

364 
	~<sys/pŞl.h
>

366 #ifdeà
_MSC_VER


367 
	#acûss
 
_acûss


	)

368 
	#chmod
 
_chmod


	)

369 
	#chdœ
 
_chdœ


	)

370 
	#uÆšk
 
_uÆšk


	)

371 
	#İ’
 
_İ’


	)

372 
	#ü—t
 
_ü—t


	)

373 
	#pe
 
_pe


	)

374 
	#dup
 
_dup


	)

375 
	#dup2
 
_dup2


	)

376 
	#¡©
 
_¡©


	)

377 
	#f¡©
 
_f¡©


	)

378 
	#l£ek
 
_l£ek


	)

379 
	#»ad
 
_»ad


	)

380 
	#wr™e
 
_wr™e


	)

381 
	#şo£
 
_şo£


	)

382 
	#g‘pid
 
_g‘pid


	)

383 
	#utime
 
_utime


	)

384 
	~<sys/utime.h
>

387 #ià
defšed
(
_AIX
)

388 
	~<¡ršgs.h
>

389 
	~<Ãtdb.h
>

390 #ià!
defšed
(
POWER_64
)

391 
æock
 (, );

395 #ià
defšed
(
__osf__
)

396 
g‘domašÇme
 (*, );

397 
æock
 (, );

398 
u¦“p
 (
u£cÚds_t
);

401 
ruu_š™
 ();

402 
lsq_š™
 ();

403 
ãtch_š™
 ();

404 
cv_š™
 ();

405 
»g_š™
 ();

406 
b´ed_š™
 ();

409 
	~"ho¡.h
"

410 
	~"misc.h
"

411 
	~"machše.h
"

412 
	~"»gs.h
"

413 
	~"memÜy.h
"

414 
	~"lßd”.h
"

415 
	~"sim.h
"

416 
	~"’dŸn.h
"

417 
	~"eio.h
"

418 
	~"sysÿÎ.h
"

419 #ià
defšed
(
MTA
)

420 
	~"MTA.h
"

423 
	#OSF_SYS_sysÿÎ
 0

	)

425 
	#OSF_SYS_fÜk
 2

	)

426 
	#OSF_SYS_»ad
 3

	)

428 
	#OSF_SYS_Şd_İ’
 5

	)

429 
	#OSF_SYS_şo£
 6

	)

430 
	#OSF_SYS_wa™4
 7

	)

431 
	#OSF_SYS_Şd_ü—t
 8

	)

432 
	#OSF_SYS_lšk
 9

	)

433 
	#OSF_SYS_uÆšk
 10

	)

434 
	#OSF_SYS_execv
 11

	)

435 
	#OSF_SYS_chdœ
 12

	)

436 
	#OSF_SYS_fchdœ
 13

	)

437 
	#OSF_SYS_mknod
 14

	)

438 
	#OSF_SYS_chmod
 15

	)

439 
	#OSF_SYS_chown
 16

	)

440 
	#OSF_SYS_ob»ak
 17

	)

441 
	#OSF_SYS_g‘fs¡©
 18

	)

442 
	#OSF_SYS_l£ek
 19

	)

443 
	#OSF_SYS_g‘pid
 20

	)

444 
	#OSF_SYS_mouÁ
 21

	)

445 
	#OSF_SYS_unmouÁ
 22

	)

446 
	#OSF_SYS_£tuid
 23

	)

447 
	#OSF_SYS_g‘uid
 24

	)

448 
	#OSF_SYS_exec_w™h_lßd”
 25

	)

449 
	#OSF_SYS_±¿û
 26

	)

450 #ifdeà 
COMPAT_43


451 
	#OSF_SYS_Äecvmsg
 27

	)

452 
	#OSF_SYS_n£ndmsg
 28

	)

453 
	#OSF_SYS_Äecväom
 29

	)

454 
	#OSF_SYS_Çcû±
 30

	)

455 
	#OSF_SYS_ng‘³”Çme
 31

	)

456 
	#OSF_SYS_ng‘sockÇme
 32

	)

458 
	#OSF_SYS_»cvmsg
 27

	)

459 
	#OSF_SYS_£ndmsg
 28

	)

460 
	#OSF_SYS_»cväom
 29

	)

461 
	#OSF_SYS_acû±
 30

	)

462 
	#OSF_SYS_g‘³”Çme
 31

	)

463 
	#OSF_SYS_g‘sockÇme
 32

	)

465 
	#OSF_SYS_acûss
 33

	)

466 
	#OSF_SYS_chæags
 34

	)

467 
	#OSF_SYS_fchæags
 35

	)

468 
	#OSF_SYS_sync
 36

	)

469 
	#OSF_SYS_kl
 37

	)

470 
	#OSF_SYS_Şd_¡©
 38

	)

471 
	#OSF_SYS_£gid
 39

	)

472 
	#OSF_SYS_Şd_l¡©
 40

	)

473 
	#OSF_SYS_dup
 41

	)

474 
	#OSF_SYS_pe
 42

	)

475 
	#OSF_SYS_£t_´og¿m_©Œibu‹s
 43

	)

476 
	#OSF_SYS_´of
 44

	)

477 
	#OSF_SYS_İ’
 45

	)

479 
	#OSF_SYS_g‘gid
 47

	)

480 
	#OSF_SYS_sig´ocmask
 48

	)

481 
	#OSF_SYS_g‘logš
 49

	)

482 
	#OSF_SYS_£ogš
 50

	)

483 
	#OSF_SYS_acù
 51

	)

484 
	#OSF_SYS_sig³ndšg
 52

	)

485 
	#OSF_SYS_ioùl
 54

	)

486 
	#OSF_SYS_»boÙ
 55

	)

487 
	#OSF_SYS_»voke
 56

	)

488 
	#OSF_SYS_symlšk
 57

	)

489 
	#OSF_SYS_»adlšk
 58

	)

490 
	#OSF_SYS_execve
 59

	)

491 
	#OSF_SYS_umask
 60

	)

492 
	#OSF_SYS_chroÙ
 61

	)

493 
	#OSF_SYS_Şd_f¡©
 62

	)

494 
	#OSF_SYS_g‘pg½
 63

	)

495 
	#OSF_SYS_g‘·gesize
 64

	)

496 
	#OSF_SYS_m»m­
 65

	)

497 
	#OSF_SYS_vfÜk
 66

	)

498 
	#OSF_SYS_¡©
 67

	)

499 
	#OSF_SYS_l¡©
 68

	)

500 
	#OSF_SYS_sbrk
 69

	)

501 
	#OSF_SYS_s¡k
 70

	)

502 
	#OSF_SYS_mm­
 71

	)

503 
	#OSF_SYS_ovadvi£
 72

	)

504 
	#OSF_SYS_munm­
 73

	)

505 
	#OSF_SYS_m´Ùeù
 74

	)

506 
	#OSF_SYS_madvi£
 75

	)

507 
	#OSF_SYS_Şd_vhªgup
 76

	)

508 
	#OSF_SYS_kmodÿÎ
 77

	)

509 
	#OSF_SYS_mšcÜe
 78

	)

510 
	#OSF_SYS_g‘groups
 79

	)

511 
	#OSF_SYS_£tgroups
 80

	)

512 
	#OSF_SYS_Şd_g‘pg½
 81

	)

513 
	#OSF_SYS_£g½
 82

	)

514 
	#OSF_SYS_£t™im”
 83

	)

515 
	#OSF_SYS_Şd_wa™
 84

	)

516 
	#OSF_SYS_bË
 85

	)

517 
	#OSF_SYS_g‘™im”
 86

	)

518 
	#OSF_SYS_g‘ho¡Çme
 87

	)

519 
	#OSF_SYS_£tho¡Çme
 88

	)

520 
	#OSF_SYS_g‘dbËsize
 89

	)

521 
	#OSF_SYS_dup2
 90

	)

522 
	#OSF_SYS_f¡©
 91

	)

523 
	#OSF_SYS_fú
 92

	)

524 
	#OSF_SYS_£Ëù
 93

	)

525 
	#OSF_SYS_pŞl
 94

	)

526 
	#OSF_SYS_fsync
 95

	)

527 
	#OSF_SYS_£riÜ™y
 96

	)

528 
	#OSF_SYS_sock‘
 97

	)

529 
	#OSF_SYS_cÚÃù
 98

	)

530 #ifdeà 
COMPAT_43


531 
	#OSF_SYS_acû±
 99

	)

533 
	#OSF_SYS_Şd_acû±
 99

	)

535 
	#OSF_SYS_g‘´iÜ™y
 100

	)

536 #ifdeà 
COMPAT_43


537 
	#OSF_SYS_£nd
 101

	)

538 
	#OSF_SYS_»cv
 102

	)

540 
	#OSF_SYS_Şd_£nd
 101

	)

541 
	#OSF_SYS_Şd_»cv
 102

	)

543 
	#OSF_SYS_sig»tuº
 103

	)

544 
	#OSF_SYS_bšd
 104

	)

545 
	#OSF_SYS_£tsockİt
 105

	)

546 
	#OSF_SYS_li¡’
 106

	)

547 
	#OSF_SYS_¶ock
 107

	)

548 
	#OSF_SYS_Şd_sigvec
 108

	)

549 
	#OSF_SYS_Şd_sigblock
 109

	)

550 
	#OSF_SYS_Şd_sig£tmask
 110

	)

551 
	#OSF_SYS_sigsu¥’d
 111

	)

552 
	#OSF_SYS_sig¡ack
 112

	)

553 #ifdeà 
COMPAT_43


554 
	#OSF_SYS_»cvmsg
 113

	)

555 
	#OSF_SYS_£ndmsg
 114

	)

557 
	#OSF_SYS_Şd_»cvmsg
 113

	)

558 
	#OSF_SYS_Şd_£ndmsg
 114

	)

561 
	#OSF_SYS_g‘timeofday
 116

	)

562 
	#OSF_SYS_g‘ru§ge
 117

	)

563 
	#OSF_SYS_g‘sockİt
 118

	)

564 
	#OSF_SYS_»adv
 120

	)

565 
	#OSF_SYS_wr™ev
 121

	)

566 
	#OSF_SYS_£‰imeofday
 122

	)

567 
	#OSF_SYS_fchown
 123

	)

568 
	#OSF_SYS_fchmod
 124

	)

569 #ifdeà 
COMPAT_43


570 
	#OSF_SYS_»cväom
 125

	)

572 
	#OSF_SYS_Şd_»cväom
 125

	)

574 
	#OSF_SYS_£Œeuid
 126

	)

575 
	#OSF_SYS_£Œegid
 127

	)

576 
	#OSF_SYS_»Çme
 128

	)

577 
	#OSF_SYS_Œunÿ‹
 129

	)

578 
	#OSF_SYS_árunÿ‹
 130

	)

579 
	#OSF_SYS_æock
 131

	)

580 
	#OSF_SYS_£tgid
 132

	)

581 
	#OSF_SYS_£ndto
 133

	)

582 
	#OSF_SYS_shutdown
 134

	)

583 
	#OSF_SYS_sock‘·œ
 135

	)

584 
	#OSF_SYS_mkdœ
 136

	)

585 
	#OSF_SYS_rmdœ
 137

	)

586 
	#OSF_SYS_utimes
 138

	)

588 
	#OSF_SYS_adjtime
 140

	)

589 #ifdeà 
COMPAT_43


590 
	#OSF_SYS_g‘³”Çme
 141

	)

592 
	#OSF_SYS_Şd_g‘³”Çme
 141

	)

594 
	#OSF_SYS_g‘ho¡id
 142

	)

595 
	#OSF_SYS_£tho¡id
 143

	)

596 
	#OSF_SYS_g‘¾im™
 144

	)

597 
	#OSF_SYS_£Œlim™
 145

	)

598 
	#OSF_SYS_Şd_kÍg
 146

	)

599 
	#OSF_SYS_£tsid
 147

	)

600 
	#OSF_SYS_quÙaùl
 148

	)

601 
	#OSF_SYS_ŞdquÙa
 149

	)

602 #ifdeà 
COMPAT_43


603 
	#OSF_SYS_g‘sockÇme
 150

	)

605 
	#OSF_SYS_Şd_g‘sockÇme
 150

	)

607 
	#OSF_SYS_pid_block
 153

	)

608 
	#OSF_SYS_pid_unblock
 154

	)

609 
	#OSF_SYS_sigaùiÚ
 156

	)

610 
	#OSF_SYS_sigwa™´im
 157

	)

611 
	#OSF_SYS_nfssvc
 158

	)

612 
	#OSF_SYS_g‘dœ’Œ›s
 159

	)

613 
	#OSF_SYS_¡©fs
 160

	)

614 
	#OSF_SYS_f¡©fs
 161

	)

615 
	#OSF_SYS_async_d«mÚ
 163

	)

616 
	#OSF_SYS_g‘fh
 164

	)

617 
	#OSF_SYS_g‘domašÇme
 165

	)

618 
	#OSF_SYS_£tdomašÇme
 166

	)

619 
	#OSF_SYS_expÜtfs
 169

	)

620 
	#OSF_SYS_®t_¶ock
 181

	)

621 
	#OSF_SYS_g‘mÁ
 184

	)

622 
	#OSF_SYS_®t_sig³ndšg
 187

	)

623 
	#OSF_SYS_®t_£tsid
 188

	)

624 
	#OSF_SYS_sw­Ú
 199

	)

625 
	#OSF_SYS_msgùl
 200

	)

626 
	#OSF_SYS_msgg‘
 201

	)

627 
	#OSF_SYS_msgrcv
 202

	)

628 
	#OSF_SYS_msg¢d
 203

	)

629 
	#OSF_SYS_£mùl
 204

	)

630 
	#OSF_SYS_£mg‘
 205

	)

631 
	#OSF_SYS_£mİ
 206

	)

632 
	#OSF_SYS_uÇme
 207

	)

633 
	#OSF_SYS_lchown
 208

	)

634 
	#OSF_SYS_shm©
 209

	)

635 
	#OSF_SYS_shmùl
 210

	)

636 
	#OSF_SYS_shmdt
 211

	)

637 
	#OSF_SYS_shmg‘
 212

	)

638 
	#OSF_SYS_mv®id
 213

	)

639 
	#OSF_SYS_g‘add»sscÚf
 214

	)

640 
	#OSF_SYS_m¦“p
 215

	)

641 
	#OSF_SYS_mwakeup
 216

	)

642 
	#OSF_SYS_msync
 217

	)

643 
	#OSF_SYS_sigÇl
 218

	)

644 
	#OSF_SYS_utc_g‘time
 219

	)

645 
	#OSF_SYS_utc_adjtime
 220

	)

646 
	#OSF_SYS_£cur™y
 222

	)

647 
	#OSF_SYS_klßdÿÎ
 223

	)

648 
	#OSF_SYS_g‘pgid
 233

	)

649 
	#OSF_SYS_g‘sid
 234

	)

650 
	#OSF_SYS_sig®t¡ack
 235

	)

651 
	#OSF_SYS_wa™id
 236

	)

652 
	#OSF_SYS_´ioú£t
 237

	)

653 
	#OSF_SYS_sig£nd£t
 238

	)

654 
	#OSF_SYS_£t_¥ecuÏtive
 239

	)

655 
	#OSF_SYS_msfs_sysÿÎ
 240

	)

656 
	#OSF_SYS_sysšfo
 241

	)

657 
	#OSF_SYS_uadmš
 242

	)

658 
	#OSF_SYS_fu£r
 243

	)

659 
	#OSF_SYS_´İli¡_sysÿÎ
 244

	)

660 
	#OSF_SYS_Áp_adjtime
 245

	)

661 
	#OSF_SYS_Áp_g‘time
 246

	)

662 
	#OSF_SYS_·thcÚf
 247

	)

663 
	#OSF_SYS_å©hcÚf
 248

	)

664 
	#OSF_SYS_usw™ch
 250

	)

665 
	#OSF_SYS_u¦“p_th»ad
 251

	)

666 
	#OSF_SYS_audú
 252

	)

667 
	#OSF_SYS_audg’
 253

	)

668 
	#OSF_SYS_sysfs
 254

	)

669 
	#OSF_SYS_subOSF_SYS_šfo
 255

	)

670 
	#OSF_SYS_g‘sysšfo
 256

	)

671 
	#OSF_SYS_£tsysšfo
 257

	)

672 
	#OSF_SYS_afs_sysÿÎ
 258

	)

673 
	#OSF_SYS_sw­ùl
 259

	)

674 
	#OSF_SYS_memú
 260

	)

675 
	#OSF_SYS_fd©async
 261

	)

676 #ià
defšed
(
MTA
)

677 
	#OSF_SYS_g‘th»adid
 162

	)

678 
	#OSF_SYS_š™_¡¬t
 501

	)

679 
	#OSF_SYS_š™
 167

	)

680 
	#OSF_SYS_š™_com¶‘e
 503

	)

681 
	#OSF_SYS_di¡ribu‹
 504

	)

682 
	#OSF_SYS_time
 505

	)

684 
	#OSF_SYS_lock_acquœe
 507

	)

685 
	#OSF_SYS_lock_»Ëa£
 508

	)

686 
	#OSF_SYS_æag_acquœe
 509

	)

687 
	#OSF_SYS_æag_»Ëa£
 510

	)

688 
	#OSF_SYS_šc_æag
 511

	)

689 
	#OSF_SYS_pŞl_æag
 512

	)

690 
	#OSF_SYS_wa™_gt_æag
 513

	)

691 
	#OSF_SYS_wa™_É_æag
 514

	)

693 
	#OSF_SYS_´štf
 168

	)

694 
	#OSF_SYS_MTA_h®t
 170

	)

695 
	#OSF_SYS_b¬r›r
 171

	)

696 
	#OSF_SYS_memÜy_·ge_round
 519

	)

697 
	#OSF_SYS_MTA_¡¬t
 172

	)

698 
	#OSF_SYS_WAIT
 173

	)

699 
	#OSF_SYS_STATS
 174

	)

701 
	#OSF_SYS_BARRIER_STATS
 175

	)

702 
	#OSF_SYS_LOCK_STATS
 176

	)

704 
	#OSF_SYS_BARRIER_INSTR
 177

	)

705 
	#OSF_SYS_QUEISCE
 178

	)

706 
	#OSF_SYS_FASTFWD
 179

	)

707 
	#OSF_SYS_RANDOM
 180

	)

708 
	#OSF_SYS_MEM
 182

	)

709 
	#OSF_SYS_PRINTGP
 183

	)

710 
	#OSF_SYS_SHDADDR
 185

	)

711 
	#OSF_SYS_STOPSIM
 186

	)

712 
	#OSF_SYS_PRINTINSTR
 189

	)

713 
	#OSF_SYS_LOCKADDR
 557

	)

714 
	#OSF_SYS_IDEAL_LOCKACQ
 190

	)

715 
	#OSF_SYS_IDEAL_LOCKREL
 191

	)

716 
	#OSF_SYS_IDEAL_BAR
 192

	)

720 #ifdeà
LOCK_OPTI


721 
md_addr_t
 
	glock_addr
[
MAXTHREADS
][
MAXLOCK
];

722 
	glock_
[
MAXTHREADS
];

724 
FILE
 *
å_Œaû
;

729 
	gLock_Acquœe
[
MAXLOCK
] = {0};

730 
	gLock_wa™_id
[
MAXLOCK
][MAXLOCK];

731 
	gLock_h—d
[
MAXLOCK
];

732 
	gLock_
[
MAXLOCK
];

733 
	gLock_wa™_num
[
MAXLOCK
];

734 
	glock_wa™šg
[
MAXTHREADS
];

737 
	gB¬r›r_æag
[
MAXTHREADS
];

738 
	gB¬r›r_num
[
MAXBARRIER
];

739 
	gb¬r›r_‹mp
 = 0;

740 
	gb¬r›r_wa™šg
[
MAXTHREADS
];

742 
couÁ”_t
 
TÙ®B¬r›rs
;

743 
couÁ”_t
 
TÙ®Locks
;

744 
g’”®_¡©
 (
id
);

745 
MTA_´štInfo
 (
id
);

746 
	gtmpNum
;

747 
numTh»ads
[
CLUSTERS
];

748 
m_maxth»ads
;

749 
cŞËù_¡©s
;

750 
æushImpSts
;

752 
cŞËù_b¬r›r_¡©s
[
CLUSTERS
];

753 
cŞËù_b¬r›r_»Ëa£
;

754 
md_addr_t
 
	gb¬r›r_addr
;

755 
	gcŞËù_b¬r›r_¡©s_own
[
CLUSTERS
];

756 
cŞËù_lock_¡©s
[
CLUSTERS
];

757 
md_addr_t
 
LockIn™PC
;

758 
couÁ”_t
 
sim_cyşe
;

759 
¡¬tTakšgSti¡ics
;

760 
cu¼’tPha£
;

761 
couÁ”_t
 
·¿Î–_sim_cyşe
;

762 
qu›sûSŒuù
 
qu›sûAddrSŒuù
[
CLUSTERS
];

763 
æushWr™eBufãr
 (
th»adid
);

764 
ç¡fwd
;

765 
¡İsim
;

766 
acûss_mem
;

767 
acûss_mem_id
;

768 
ÿche_t
 *
ÿche_dl1
[
CLUSTERS
];

774 
	#PAGE_SIZE
 8192

775 

	)

777 cÚ¡ 
	gALPHA_O_RDONLY
 = 00000000;

778 cÚ¡ 
	gALPHA_O_WRONLY
 = 00000001;

779 cÚ¡ 
	gALPHA_O_RDWR
 = 00000002;

780 cÚ¡ 
	gALPHA_O_NONBLOCK
 = 00000004;

781 cÚ¡ 
	gALPHA_O_APPEND
 = 00000010;

782 cÚ¡ 
	gALPHA_O_CREAT
 = 00001000;

783 cÚ¡ 
	gALPHA_O_TRUNC
 = 00002000;

784 cÚ¡ 
	gALPHA_O_EXCL
 = 00004000;

785 cÚ¡ 
	gALPHA_O_NOCTTY
 = 00010000;

786 cÚ¡ 
	gALPHA_O_SYNC
 = 00040000;

787 cÚ¡ 
	gALPHA_O_DRD
 = 00100000;

788 cÚ¡ 
	gALPHA_O_DIRECTIO
 = 00200000;

789 cÚ¡ 
	gALPHA_O_CACHE
 = 00400000;

790 cÚ¡ 
	gALPHA_O_DSYNC
 = 02000000;

791 cÚ¡ 
	gALPHA_O_RSYNC
 = 04000000;

794 cÚ¡ 
	gALPHA_IOCTL_TIOCGETP
 = 0x40067408;

795 cÚ¡ 
	gALPHA_IOCTL_TIOCSETP
 = 0x80067409;

796 cÚ¡ 
	gALPHA_IOCTL_TIOCSETN
 = 0x8006740a;

797 cÚ¡ 
	gALPHA_IOCTL_TIOCSETC
 = 0x80067411;

798 cÚ¡ 
	gALPHA_IOCTL_TIOCGETC
 = 0x40067412;

799 cÚ¡ 
	gALPHA_IOCTL_FIONREAD
 = 0x4004667f;

800 cÚ¡ 
	gALPHA_IOCTL_TIOCISATTY
 = 0x2000745e;

801 cÚ¡ 
	gALPHA_IOCTL_TIOCGETS
 = 0x402c7413;

802 cÚ¡ 
	gALPHA_IOCTL_TIOCGETA
 = 0x40127417;

805 cÚ¡ 
	gALPHA_RLIMIT_CPU
 = 0;

806 cÚ¡ 
	gALPHA_RLIMIT_FSIZE
 = 1;

807 cÚ¡ 
	gALPHA_RLIMIT_DATA
 = 2;

808 cÚ¡ 
	gALPHA_RLIMIT_STACK
 = 3;

809 cÚ¡ 
	gALPHA_RLIMIT_CORE
 = 4;

810 cÚ¡ 
	gALPHA_RLIMIT_RSS
 = 5;

811 cÚ¡ 
	gALPHA_RLIMIT_NOFILE
 = 6;

812 cÚ¡ 
	gALPHA_RLIMIT_AS
 = 7;

813 cÚ¡ 
	gALPHA_RLIMIT_VMEM
 = 7;

814 cÚ¡ 
	gALPHA_RLIMIT_NPROC
 = 8;

815 cÚ¡ 
	gALPHA_RLIMIT_MEMLOCK
 = 9;

816 cÚ¡ 
	gALPHA_RLIMIT_LOCKS
 = 10;

825 
	msy¢ame
[65];

826 
	mnod’ame
[65];

827 
	m»Ëa£
[65];

828 
	mv”siÚ
[65];

829 
	mmachše
[65];

830 
	mdomašÇme
[65];

831 } 
	t®pha_ut¢ame
;

835 
ušt64_t
 
	m¾im_cur
;

836 
ušt64_t
 
	m¾im_max
;

837 } 
	t®pha_¾im™
;

841 
ušt32_t
 
	m¡_dev
;

842 
ušt32_t
 
	m¡_šo
;

843 
ušt32_t
 
	m¡_mode
;

844 
ušt32_t
 
	m¡_Æšk
;

845 
ušt32_t
 
	m¡_uid
;

846 
ušt32_t
 
	m¡_gid
;

847 
ušt32_t
 
	m¡_rdev
;

848 
št32_t
 
	m__·d0
;

849 
št64_t
 
	m¡_size
;

850 
ušt64_t
 
	m¡_©imeX
;

851 
ušt64_t
 
	m¡_mtimeX
;

852 
ušt64_t
 
	m¡_ùimeX
;

853 
ušt32_t
 
	m¡_blksize
;

854 
št32_t
 
	m¡_blocks
;

855 
ušt32_t
 
	m¡_æags
;

856 
ušt32_t
 
	m¡_g’
;

857 } 
	t®pha_¡©
;

861 
ušt64_t
 
	m¡_dev
;

862 
ušt64_t
 
	m¡_šo
;

863 
ušt64_t
 
	m¡_rdev
;

864 
ušt64_t
 
	m¡_size
;

865 
ušt64_t
 
	m¡_blocks
;

867 
ušt32_t
 
	m¡_mode
;

868 
ušt32_t
 
	m¡_uid
;

869 
ušt32_t
 
	m¡_gid
;

870 
ušt32_t
 
	m¡_blksize
;

871 
ušt32_t
 
	m¡_Æšk
;

872 
ušt32_t
 
	m__·d0
;

874 
ušt64_t
 
	m¡_©imeX
;

875 
ušt64_t
 
	m¡_©ime_n£c
;

876 
ušt64_t
 
	m¡_mtimeX
;

877 
ušt64_t
 
	m¡_mtime_n£c
;

878 
ušt64_t
 
	m¡_ùimeX
;

879 
ušt64_t
 
	m¡_ùime_n£c
;

880 
št64_t
 
	m__unu£d
[3];

881 } 
	t®pha_¡©64
;

885 
št64_t
 
	mtv_£c
;

886 
št64_t
 
	mtv_u£c
;

887 } 
	t®pha_timev®
;

891 
št64_t
 
	mtz_mšu‹swe¡
;

892 
št64_t
 
	mtz_d¡time
;

893 } 
	t®pha_timezÚe
;

897 
ušt64_t
 
	miov_ba£
;

898 
ušt64_t
 
	miov_Ën
;

899 } 
	t®pha_iovec
;

902 
	sxÏ‹_bË_t


904 
	mrg‘_v®
;

905 
	mho¡_v®
;

909 
	$xÏ‹_¬g
 (
rg‘_v®
, 
xÏ‹_bË_t
 *
m­
, 
m­_sz
, *
Çme
)

911 
i
;

913 
i
 = 0; i < 
m­_sz
; i++)

915 ià(
rg‘_v®
 =ğ
m­
[
i
].target_val)

916  
m­
[
i
].
ho¡_v®
;

920 
	`w¬n
 ("could‚Ù¿n¦©¬gum’ˆfÜ `%s': %d", 
Çme
, 
rg‘_v®
);

921  
rg‘_v®
;

922 
	}
}

926 
	#MAXBUFSIZE
 1024

	)

932 
	#NUM_IOCTL_BYTES
 128

	)

933 
	#SYSCALL_BUFFER_SIZE
 1024

934 

	)

936 
	#OSF_TIOCGETP
 0x40067408

	)

937 
	#OSF_FIONREAD
 0x4004667f

	)

941 
	sosf_¡©buf


943 
wÜd_t
 
	mosf_¡_dev
;

944 
wÜd_t
 
	mosf_¡_šo
;

945 
wÜd_t
 
	mosf_¡_mode
;

946 
h®f_t
 
	mosf_¡_Æšk
;

947 
h®f_t
 
	m·d0
;

948 
wÜd_t
 
	mosf_¡_uid
;

949 
wÜd_t
 
	mosf_¡_gid
;

950 
wÜd_t
 
	mosf_¡_rdev
;

951 
wÜd_t
 
	m·d1
;

952 
qwÜd_t
 
	mosf_¡_size
;

953 
wÜd_t
 
	mosf_¡_©ime
;

954 
wÜd_t
 
	mosf_¡_¥¬e1
;

955 
wÜd_t
 
	mosf_¡_mtime
;

956 
wÜd_t
 
	mosf_¡_¥¬e2
;

957 
wÜd_t
 
	mosf_¡_ùime
;

958 
wÜd_t
 
	mosf_¡_¥¬e3
;

959 
wÜd_t
 
	mosf_¡_blksize
;

960 
wÜd_t
 
	mosf_¡_blocks
;

961 
wÜd_t
 
	mosf_¡_g’num
;

962 
wÜd_t
 
	mosf_¡_¥¬e4
;

965 
	sosf_sg‰yb


967 
by‹_t
 
	msg_i¥“d
;

968 
by‹_t
 
	msg_o¥“d
;

969 
by‹_t
 
	msg_”a£
;

970 
by‹_t
 
	msg_kl
;

971 
sh®f_t
 
	msg_æags
;

974 
	#OSF_NSIG
 32

	)

976 
	#OSF_SIG_BLOCK
 1

	)

977 
	#OSF_SIG_UNBLOCK
 2

	)

978 
	#OSF_SIG_SETMASK
 3

	)

980 
	sosf_sigcÚ‹xt


982 
qwÜd_t
 
	msc_Ú¡ack
;

983 
qwÜd_t
 
	msc_mask
;

984 
qwÜd_t
 
	msc_pc
;

985 
qwÜd_t
 
	msc_ps
;

986 
qwÜd_t
 
	msc_»gs
[32];

987 
qwÜd_t
 
	msc_owÃdå
;

988 
qwÜd_t
 
	msc_å»gs
[32];

989 
qwÜd_t
 
	msc_åü
;

990 
qwÜd_t
 
	msc_å_cÚŒŞ
;

993 
	sosf_¡©fs


995 
sh®f_t
 
	mf_ty³
;

996 
sh®f_t
 
	mf_æags
;

997 
wÜd_t
 
	mf_fsize
;

998 
wÜd_t
 
	mf_bsize
;

999 
wÜd_t
 
	mf_blocks
;

1001 
wÜd_t
 
	mf_bä“
;

1002 
wÜd_t
 
	mf_bava
;

1003 
wÜd_t
 
	mf_fes
;

1004 
wÜd_t
 
	mf_fä“
;

1005 
qwÜd_t
 
	mf_fsid
;

1006 
wÜd_t
 
	mf_¥¬e
[9];

1009 
	sosf_timev®


1011 
swÜd_t
 
	mosf_tv_£c
;

1012 
swÜd_t
 
	mosf_tv_u£c
;

1015 
	sosf_timezÚe


1017 
swÜd_t
 
	mosf_tz_mšu‹swe¡
;

1018 
swÜd_t
 
	mosf_tz_d¡time
;

1023 
	sosf_ru§ge


1025 
osf_timev®
 
	mosf_ru_utime
;

1026 
osf_timev®
 
	mosf_ru_¡ime
;

1027 
swÜd_t
 
	mosf_ru_maxrss
;

1028 
swÜd_t
 
	mosf_ru_ixrss
;

1029 
swÜd_t
 
	mosf_ru_idrss
;

1030 
swÜd_t
 
	mosf_ru_i¤ss
;

1031 
swÜd_t
 
	mosf_ru_mšæt
;

1032 
swÜd_t
 
	mosf_ru_majæt
;

1033 
swÜd_t
 
	mosf_ru_nsw­
;

1034 
swÜd_t
 
	mosf_ru_šblock
;

1035 
swÜd_t
 
	mosf_ru_oublock
;

1036 
swÜd_t
 
	mosf_ru_msg¢d
;

1037 
swÜd_t
 
	mosf_ru_msgrcv
;

1038 
swÜd_t
 
	mosf_ru_nsigÇls
;

1039 
swÜd_t
 
	mosf_ru_nvcsw
;

1040 
swÜd_t
 
	mosf_ru_nivcsw
;

1043 
	sosf_¾im™


1045 
qwÜd_t
 
	mosf_¾im_cur
;

1046 
qwÜd_t
 
	mosf_¾im_max
;

1049 
	sosf_sockaddr


1051 
h®f_t
 
	m§_çmy
;

1052 
by‹_t
 
	m§_d©a
[24];

1055 
	sosf_iovec


1057 
md_addr_t
 
	miov_ba£
;

1058 
wÜd_t
 
	miov_Ën
;

1059 
wÜd_t
 
	m·d
;

1063 
	#OSF_DIRENT_SZ
(
STR
è\

	)

1064 ((
	gwÜd_t
è+ 2*(
	gh®f_t
è+ (((
¡¾’
(
STR
) + 1) + 3)/4)*4)

1067 
	sosf_dœ’t


1069 
wÜd_t
 
	md_šo
;

1070 
h®f_t
 
	md_»ş’
;

1071 
h®f_t
 
	md_ÇmËn
;

1072 
	md_Çme
[256];

1082 
	#OSF_O_RDONLY
 0x0000

	)

1083 
	#OSF_O_WRONLY
 0x0001

	)

1084 
	#OSF_O_RDWR
 0x0002

	)

1085 
	#OSF_O_NONBLOCK
 0x0004

	)

1086 
	#OSF_O_APPEND
 0x0008

	)

1087 
	#OSF_O_CREAT
 0x0200

	)

1088 
	#OSF_O_TRUNC
 0x0400

	)

1089 
	#OSF_O_EXCL
 0x0800

	)

1090 
	#OSF_O_NOCTTY
 0x1000

	)

1091 
	#OSF_O_SYNC
 0x4000

	)

1096 
	mosf_æag
;

1097 
	mloÿl_æag
;

1098 } 
	gosf_æag_bË
[] =

1101 #ifdeà
_MSC_VER


1103 
OSF_O_RDONLY
, 
_O_RDONLY
},

1105 
OSF_O_WRONLY
, 
_O_WRONLY
},

1107 
OSF_O_RDWR
, 
_O_RDWR
},

1109 
OSF_O_APPEND
, 
_O_APPEND
},

1111 
OSF_O_CREAT
, 
_O_CREAT
},

1113 
OSF_O_TRUNC
, 
_O_TRUNC
},

1115 
OSF_O_EXCL
, 
_O_EXCL
},

1116 #ifdeà
_O_NONBLOCK


1118 
OSF_O_NONBLOCK
, 
_O_NONBLOCK
},

1120 #ifdeà
_O_NOCTTY


1122 
OSF_O_NOCTTY
, 
_O_NOCTTY
},

1124 #ifdeà
_O_SYNC


1126 
OSF_O_SYNC
, 
_O_SYNC
},

1130 
OSF_O_RDONLY
, 
O_RDONLY
},

1132 
OSF_O_WRONLY
, 
O_WRONLY
},

1134 
OSF_O_RDWR
, 
O_RDWR
},

1136 
OSF_O_APPEND
, 
O_APPEND
},

1138 
OSF_O_CREAT
, 
O_CREAT
},

1140 
OSF_O_TRUNC
, 
O_TRUNC
},

1142 
OSF_O_EXCL
, 
O_EXCL
},

1144 
OSF_O_NONBLOCK
, 
O_NONBLOCK
},

1146 
OSF_O_NOCTTY
, 
O_NOCTTY
},

1147 #ifdeà
O_SYNC


1149 
OSF_O_SYNC
, 
O_SYNC
},

1154 
	#OSF_NFLAGS
 ((
osf_æag_bË
)/(osf_æag_bË[0]))

	)

1157 
qwÜd_t
 
	gSigMask
 = 0;

1159 
qwÜd_t
 
	gsigaùiÚ_¬¿y
[
OSF_NSIG
] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

1162 
	#OSF_SO_DEBUG
 0x0001

	)

1163 
	#OSF_SO_ACCEPTCONN
 0x0002

	)

1164 
	#OSF_SO_REUSEADDR
 0x0004

	)

1165 
	#OSF_SO_KEEPALIVE
 0x0008

	)

1166 
	#OSF_SO_DONTROUTE
 0x0010

	)

1167 
	#OSF_SO_BROADCAST
 0x0020

	)

1168 
	#OSF_SO_USELOOPBACK
 0x0040

	)

1169 
	#OSF_SO_LINGER
 0x0080

	)

1170 
	#OSF_SO_OOBINLINE
 0x0100

	)

1171 
	#OSF_SO_REUSEPORT
 0x0200

	)

1173 
xÏ‹_bË_t
 
	gsockİt_m­
[] = {

1174 {
OSF_SO_DEBUG
, 
SO_DEBUG
},

1175 #ifdeà
SO_ACCEPTCONN


1176 {
OSF_SO_ACCEPTCONN
, 
SO_ACCEPTCONN
},

1178 {
OSF_SO_REUSEADDR
, 
SO_REUSEADDR
},

1179 {
OSF_SO_KEEPALIVE
, 
SO_KEEPALIVE
},

1180 {
OSF_SO_DONTROUTE
, 
SO_DONTROUTE
},

1181 {
OSF_SO_BROADCAST
, 
SO_BROADCAST
},

1182 #ifdeà
SO_USELOOPBACK


1183 {
OSF_SO_USELOOPBACK
, 
SO_USELOOPBACK
},

1185 {
OSF_SO_LINGER
, 
SO_LINGER
},

1186 {
OSF_SO_OOBINLINE
, 
SO_OOBINLINE
},

1187 #ifdeà
SO_REUSEPORT


1188 {
OSF_SO_REUSEPORT
, 
SO_REUSEPORT
}

1193 
	#OSF_TCP_NODELAY
 0x01

	)

1194 
	#OSF_TCP_MAXSEG
 0x02

	)

1195 
	#OSF_TCP_RPTR2RXT
 0x03

	)

1196 
	#OSF_TCP_KEEPIDLE
 0x04

	)

1197 
	#OSF_TCP_KEEPINTVL
 0x05

	)

1198 
	#OSF_TCP_KEEPCNT
 0x06

	)

1199 
	#OSF_TCP_KEEPINIT
 0x07

	)

1200 
	#OSF_TCP_PUSH
 0x08

	)

1201 
	#OSF_TCP_NODELACK
 0x09

	)

1203 
xÏ‹_bË_t
 
	gtıİt_m­
[] = {

1204 {
OSF_TCP_NODELAY
, 
TCP_NODELAY
},

1205 {
OSF_TCP_MAXSEG
, 
TCP_MAXSEG
},

1206 #ifdeà
TCP_RPTR2RXT


1207 {
OSF_TCP_RPTR2RXT
, 
TCP_RPTR2RXT
},

1209 #ifdeà
TCP_KEEPIDLE


1210 {
OSF_TCP_KEEPIDLE
, 
TCP_KEEPIDLE
},

1212 #ifdeà
TCP_KEEPINTVL


1213 {
OSF_TCP_KEEPINTVL
, 
TCP_KEEPINTVL
},

1215 #ifdeà
TCP_KEEPCNT


1216 {
OSF_TCP_KEEPCNT
, 
TCP_KEEPCNT
},

1218 #ifdeà
TCP_KEEPINIT


1219 {
OSF_TCP_KEEPINIT
, 
TCP_KEEPINIT
},

1221 #ifdeà
TCP_PUSH


1222 {
OSF_TCP_PUSH
, 
TCP_PUSH
},

1224 #ifdeà
TCP_NODELACK


1225 {
OSF_TCP_NODELACK
, 
TCP_NODELACK
}

1230 
	#OSF_SOL_SOCKET
 0xfffà

	)

1231 
	#OSF_SOL_IP
 0

	)

1232 
	#OSF_SOL_TCP
 6

	)

1233 
	#OSF_SOL_UDP
 17

	)

1235 
xÏ‹_bË_t
 
	gsockËv–_m­
[] = {

1236 #ià
defšed
(
__svr4__
è|| defšed(
__osf__
è|| defšed(
_AIX
)

1237 {
OSF_SOL_SOCKET
, 
SOL_SOCKET
},

1238 {
OSF_SOL_IP
, 
IPPROTO_IP
},

1239 {
OSF_SOL_TCP
, 
IPPROTO_TCP
},

1240 {
OSF_SOL_UDP
, 
IPPROTO_UDP
}

1242 {
OSF_SOL_SOCKET
, 
SOL_SOCKET
},

1243 {
OSF_SOL_IP
, 
SOL_IP
},

1244 {
OSF_SOL_TCP
, 
SOL_TCP
},

1245 {
OSF_SOL_UDP
, 
SOL_UDP
}

1250 
	#OSF_AF_UNSPEC
 0

	)

1251 
	#OSF_AF_UNIX
 1

	)

1252 
	#OSF_AF_INET
 2

	)

1253 
	#OSF_AF_IMPLINK
 3

	)

1254 
	#OSF_AF_PUP
 4

	)

1255 
	#OSF_AF_CHAOS
 5

	)

1256 
	#OSF_AF_NS
 6

	)

1257 
	#OSF_AF_ISO
 7

	)

1259 
xÏ‹_bË_t
 
	gçmy_m­
[] = {

1260 {
OSF_AF_UNSPEC
, 
AF_UNSPEC
},

1261 {
OSF_AF_UNIX
, 
AF_UNIX
},

1262 {
OSF_AF_INET
, 
AF_INET
},

1263 #ifdeà
AF_IMPLINK


1264 {
OSF_AF_IMPLINK
, 
AF_IMPLINK
},

1266 #ifdeà
AF_PUP


1267 {
OSF_AF_PUP
, 
AF_PUP
},

1269 #ifdeà
AF_CHAOS


1270 {
OSF_AF_CHAOS
, 
AF_CHAOS
},

1272 #ifdeà
AF_NS


1273 {
OSF_AF_NS
, 
AF_NS
},

1275 #ifdeà
AF_ISO


1276 {
OSF_AF_ISO
, 
AF_ISO
}

1281 
	#OSF_SOCK_STREAM
 1

	)

1282 
	#OSF_SOCK_DGRAM
 2

	)

1283 
	#OSF_SOCK_RAW
 3

	)

1284 
	#OSF_SOCK_RDM
 4

	)

1285 
	#OSF_SOCK_SEQPACKET
 5

	)

1287 
xÏ‹_bË_t
 
	gsockty³_m­
[] = {

1288 {
OSF_SOCK_STREAM
, 
SOCK_STREAM
},

1289 {
OSF_SOCK_DGRAM
, 
SOCK_DGRAM
},

1290 {
OSF_SOCK_RAW
, 
SOCK_RAW
},

1291 {
OSF_SOCK_RDM
, 
SOCK_RDM
},

1292 {
OSF_SOCK_SEQPACKET
, 
SOCK_SEQPACKET
}

1296 
	#OSF_TBL_SYSINFO
 12

	)

1297 
	sosf_tbl_sysšfo


1299 
	msi_u£r
;

1300 
	msi_niû
;

1301 
	msi_sys
;

1302 
	msi_idË
;

1303 
	msi_hz
;

1304 
	msi_phz
;

1305 
	msi_boÙtime
;

1306 
	mwa™
;

1310 
	$AddToTheSh¬edAddrLi¡
 (
addr
, 
size
)

1312 
sh¬edAdd»ssLi¡_s
 *
tmpPŒ1
, *
tmpPŒ2
;

1313 
šdx
;

1315 
šdx
 = (è(((è
addr
 & 1016) >> 3);

1316 
šdx
 = 0;

1318 ià(
sh¬edAdd»ssLi¡
[
šdx
] =ğ
NULL
)

1320 
sh¬edAdd»ssLi¡
[
šdx
] = (
sh¬edAdd»ssLi¡_s
 *è
	`m®loc
 ( (sharedAddressList_s));

1321 
sh¬edAdd»ssLi¡
[
šdx
]->
add»ss
 = 
addr
;

1322 
sh¬edAdd»ssLi¡
[
šdx
]->
size
 = size;

1323 
sh¬edAdd»ssLi¡
[
šdx
]->
Ãxt
 = 
NULL
;

1327 
tmpPŒ1
 = 
sh¬edAdd»ssLi¡
[
šdx
];

1328 
tmpPŒ2
 = 
sh¬edAdd»ssLi¡
[
šdx
];

1329 
tmpPŒ1
 !ğ
NULL
)

1331 
tmpPŒ2
 = 
tmpPŒ1
;

1332 
tmpPŒ1
 =mpPŒ1->
Ãxt
;

1334 
tmpPŒ2
->
Ãxt
 = (
sh¬edAdd»ssLi¡_s
 *è
	`m®loc
 ( (sharedAddressList_s));

1335 
tmpPŒ2
->
Ãxt
->
add»ss
 = 
addr
;

1336 
tmpPŒ2
->
Ãxt
->
size
 = size;

1337 
tmpPŒ2
->
Ãxt
->Ãxˆğ
NULL
;

1340 
tmpPŒ1
 = 
sh¬edAdd»ssLi¡
;

1341 
tmpPŒ1
 !ğ
NULL
)

1343 
	`´štf
 ("Add¸ğ%Îx, Sizğ%d\n", (è
addr
, (è
size
);

1344 
tmpPŒ1
 =mpPŒ1->
Ãxt
;

1347 
	}
}

1349 #ià
defšed
(
MTA
)

1351 
	$´št_¡©s
 (
cÚ‹xt
 * 
cu¼’t
)

1353 
	`´štf
 ("TÙ®‚umb” oàš¡ruùiÚ execu‹d = %d (%d)\n", 
cu¼’t
->
sim_num_š¢
, cu¼’t->
id
);

1356 
	}
}

1359 
	$In™ŸlizeRUU
 (
cÚ‹xt
 * 
de¡
, cÚ‹xˆ* 
¤c
)

1361 
út
, 
i
, 
RUUIndx
;

1362 
RUU_¡©iÚ
 *
RUUDe¡
, *
RUUSrc
, *
rs
;

1363 
RS_lšk
 *
lšk
, *
Ãwlšk
;

1366 
RS_lšk
 *
‹mpRS
;

1369 
i
 = 0; i < 
RUU_size
; i++)

1371 
	`´štf
 ("Index oà%d = %d, IR = %lx\n", 
i
, 
¤c
->
RUU
[i].
šdex
, src->RUU[i].
IR
);

1372 
‹mpRS
 = 
¤c
->
RUU
[
i
].
od•_li¡
[1];

1373 
‹mpRS
 !ğ
NULL
)

1375 
	`´štf
 ("X = %d ", 
‹mpRS
->
rs
->
šdex
);

1376 
‹mpRS
 =empRS->
Ãxt
;

1378 
	`´štf
 ("\n");

1383 
út
 = 0; cÁ < 
RUU_size
; cnt++)

1385 
RUUDe¡
 = &(
de¡
->
RUU
[
út
]);

1386 
RUUSrc
 = &(
¤c
->
RUU
[
út
]);

1388 
RUUDe¡
->
šdex
 = 
RUUSrc
->index;

1389 
RUUDe¡
->
th»adid
 = 
de¡
->
id
;

1390 
RUUDe¡
->
IR
 = 
RUUSrc
->IR;

1391 
RUUDe¡
->
İ
 = 
RUUSrc
->op;

1392 
RUUDe¡
->
PC
 = 
RUUSrc
->PC;

1393 
RUUDe¡
->
Ãxt_PC
 = 
RUUSrc
->next_PC;

1394 
RUUDe¡
->
´ed_PC
 = 
RUUSrc
->pred_PC;

1395 
RUUDe¡
->
š_LSQ
 = 
RUUSrc
->in_LSQ;

1396 
RUUDe¡
->
—_comp
 = 
RUUSrc
->ea_comp;

1397 
RUUDe¡
->
»cov”_š¡
 = 
RUUSrc
->recover_inst;

1398 
RUUDe¡
->
¡ack_»cov”_idx
 = 
RUUSrc
->stack_recover_idx;

1400 
	`´štf
 ("YOU HAVE NOT INITALIZED BRANCH PREDICTOR INFO IN RUU RESULTS MAY NOT CORRECT\n");

1401 
RUUDe¡
->
¥ec_mode
 = 
RUUSrc
->spec_mode;

1402 
RUUDe¡
->
addr
 = 
RUUSrc
->addr;

1403 
RUUDe¡
->
g
 = 
RUUSrc
->tag;

1404 
RUUDe¡
->
£q
 = 
RUUSrc
->seq;

1405 
RUUDe¡
->
±¿û_£q
 = 
RUUSrc
->ptrace_seq;

1406 
RUUDe¡
->
queued
 = 
RUUSrc
->queued;

1407 
RUUDe¡
->
issued
 = 
RUUSrc
->issued;

1408 
RUUDe¡
->
com¶‘ed
 = 
RUUSrc
->completed;

1412 
RUUDe¡
->
v®_¿
 = 
RUUSrc
->val_ra;

1413 
RUUDe¡
->
v®_rb
 = 
RUUSrc
->val_rb;

1414 
RUUDe¡
->
v®_rc
 = 
RUUSrc
->val_rc;

1415 
RUUDe¡
->
v®_¿_»suÉ
 = 
RUUSrc
->val_ra_result;

1418 
RUUDe¡
->
Úames
[0] = 
RUUSrc
->onames[0];

1419 
RUUDe¡
->
Úames
[1] = 
RUUSrc
->onames[1];

1428 
i
 = 0; i < 
MAX_ODEPS
; i++)

1430 
lšk
 = 
RUUSrc
->
od•_li¡
[
i
];

1431 
lšk
)

1433 
RUUIndx
 = 
lšk
->
rs
->
šdex
;

1434 
rs
 = &(
de¡
->
RUU
[
RUUIndx
]);

1435 
	`RSLINK_NEW
 (
Ãwlšk
, 
rs
);

1436 
Ãwlšk
->
x
.
wh’
 = 
lšk
->x.when;

1438 
Ãwlšk
->
Ãxt
 = 
RUUDe¡
->
od•_li¡
[
i
];

1439 
RUUDe¡
->
od•_li¡
[
i
] = 
Ãwlšk
;

1440 
lšk
 =†šk->
Ãxt
;

1443 
i
 = 0; i < 
MAX_IDEPS
; i++)

1445 
RUUDe¡
->
id•_»ady
[
i
] = 
RUUSrc
->idep_ready[i];

1446 
RUUDe¡
->
wh’_id•_»ady
[
i
] = 
RUUSrc
->when_idep_ready[i];

1447 
RUUDe¡
->
id•_Çme
[
i
] = 
RUUSrc
->idep_name[i];

1448 ià(
RUUSrc
->
´od
[
i
])

1449 
RUUDe¡
->
´od
[
i
] = &(
de¡
->
RUU
[
RUUSrc
->´od[i]->
šdex
]);

1451 
RUUDe¡
->
´od
[
i
] = 
NULL
;

1454 
RUUDe¡
->
di¥_time
 = 
RUUSrc
->disp_time;

1455 
RUUDe¡
->
fšish_time
 = 
RUUSrc
->finish_time;

1456 
RUUDe¡
->
issue_time
 = 
RUUSrc
->issue_time;

1457 
RUUDe¡
->
out1
 = 
RUUSrc
->out1;

1460 
RUUDe¡
->
Şd´eg
 = 
RUUSrc
->oldpreg;

1462 
RUUDe¡
->
İ»g
 = 
RUUSrc
->opreg;

1465 
RUUDe¡
->
şu¡”
 = 
RUUSrc
->cluster;

1466 
i
 = 0; i < 
MAX_IDEPS
; i++)

1468 
RUUDe¡
->
wh’_»ady
[
i
] = 
RUUSrc
->when_ready[i];

1470 
RUUDe¡
->
wh’_šq
 = 
RUUSrc
->when_inq;

1471 
RUUDe¡
->
pbªk
 = 
RUUSrc
->pbank;

1472 
RUUDe¡
->
abªk
 = 
RUUSrc
->abank;

1473 
RUUDe¡
->
š_qwa™
 = 
RUUSrc
->in_qwait;

1474 
RUUDe¡
->
ä“d
 = 
RUUSrc
->freed;

1475 
RUUDe¡
->
»g
[0] = 
RUUSrc
->ipreg[0];

1476 
RUUDe¡
->
»g
[1] = 
RUUSrc
->ipreg[1];

1477 
RUUDe¡
->
»g
[2] = 
RUUSrc
->ipreg[2];

1478 
i
 = 0; i < 
CLUSTERS
; i++)

1480 
RUUDe¡
->
¡_»ach
[
i
] = 
RUUSrc
->st_reach[i];

1482 
RUUDe¡
->
š¡num
 = 
RUUSrc
->instnum;

1483 
RUUDe¡
->
di¡issue
 = 
RUUSrc
->distissue;

1487 
	}
}

1489 #ifdeà
LOCK_HARD


1490 
mesh_size
;

1491 
	#MEM_LOC_SHIFT
 1

	)

1492 
	#WAIT_TIME
 800000000

	)

1493 
	$lock_ev’t_’queue
(
LOCK_EVENT
 *
ev’t
)

1495 
LOCK_EVENT
 *
ev
, *
´ev
;

1497 
´ev
 = 
NULL
, 
ev
 = 
lock_ev’t_queue
;ƒv && (Óv->
wh’
è<ğ(
ev’t
->wh’));…»v =ƒv,ƒv =ƒv->
Ãxt
);

1498 ià(
´ev
)

1500 
ev’t
->
Ãxt
 = 
ev
;

1501 
´ev
->
Ãxt
 = 
ev’t
;

1505 
ev’t
->
Ãxt
 = 
lock_ev’t_queue
;

1506 
lock_ev’t_queue
 = 
ev’t
;

1508 
	}
}

1509 
	$lock_ev’tq_Ãx‹v’t
()

1511 
LOCK_EVENT
 *
ev’t
, *
ev
, *
Ãxt
, *
´ev
;

1512 
i
, 
š£¹_æag
 = 0;

1513 
ev’t
 = 
lock_ev’t_queue
;

1514 
ev
 = 
NULL
;

1515 
ev’t
!=
NULL
)

1517 
Ãxt
 = 
ev’t
->next;

1519 ià(
ev’t
->
wh’
 <ğ
sim_cyşe
)

1521 if(
ev’t
 =ğ
lock_ev’t_queue
)

1523 
lock_ev’t_queue
 = 
ev’t
->
Ãxt
;

1524 
ev’t
->
Ãxt
 = 
NULL
;

1525 
	`SyncO³¿tiÚ
(
ev’t
->
lock_id
,ƒv’t->
th»adid
,ƒv’t->
İt
);

1526 
´ev
 = 
ev’t
;

1527 
	`ä“
(
´ev
);

1528 
ev’t
 = 
lock_ev’t_queue
;

1532 
ev
->
Ãxt
 = 
ev’t
->next;

1533 
ev’t
->
Ãxt
 = 
NULL
;

1534 
	`SyncO³¿tiÚ
(
ev’t
->
lock_id
,ƒv’t->
th»adid
,ƒv’t->
İt
);

1535 
´ev
 = 
ev’t
;

1536 
	`ä“
(
´ev
);

1537 
ev’t
 = 
ev
->
Ãxt
;

1542 
ev
 = 
ev’t
;

1543 
ev’t
 =ƒv’t->
Ãxt
;

1547 
	}
}

1550 
	$SyncO³¿tiÚ
 (
lock_id
, 
th»adid
, 
İ
)

1552 
lock_node
 = 
lock_id
%
numcÚ‹xts
;

1553 
lock_addr
 = 
lock_id
/
numcÚ‹xts
;

1554 
b¬_node
 = 
lock_node
;

1555 
b¬_addr
 = 
lock_addr
;

1556 
İ
)

1558 
BAR_ACQUIRE
:

1559 
cŞËù_b¬r›r_¡©s
[
th»adid
] = 1;

1560 if(
b¬_node
 =ğ
th»adid
)

1562 
BAR_ENTRY
 *
b¬_‹mp
 = 
BAR_REG
[
b¬_node
][
b¬_addr
];

1563 
b¬_‹mp
->
b¬r›r_num
 ++;

1564 if(
b¬_‹mp
->
b¬r›r_num
 =ğ
MAXTHREADS
)

1566 
b¬_‹mp
->
b¬r›r_num
 = 0;

1567 
i
 = 0;

1568 
i
=0;i<
numcÚ‹xts
;i++)

1570 
LOCK_EVENT
 *
lock_ev’t
;

1571 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1572 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1573 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

1574 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1575 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1576 
lock_ev’t
->
des1
 = 
i
/
mesh_size
+
MEM_LOC_SHIFT
;

1577 
lock_ev’t
->
des2
 = 
i
%
mesh_size
;

1578 
lock_ev’t
->
İt
 = 
BAR_RELEASE
;

1579 
lock_ev’t
->
th»adid
 = 
i
;

1580 
lock_ev’t
->
lock_id
 =†ock_id;

1581 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1582 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1583 
	`lock_ev’t_’queue
(
lock_ev’t
);

1586 if(
cŞËù_¡©s
)

1587 
TÙ®B¬r›rs
 ++;

1591 
b¬r›r_wa™šg
[
th»adid
] = 1;

1592 
thecÚ‹xts
[
th»adid
]->
ruÂšg
 = 0;

1593 
thecÚ‹xts
[
th»adid
]->
ä“ze
 = 1;

1594 
¦“pCouÁ
[
th»adid
]++;

1595 
thecÚ‹xts
[
th»adid
]->
¦•tAt
 = 
sim_cyşe
;

1596 
ä“zeCouÁ”
++;

1601 
LOCK_EVENT
 *
lock_ev’t
;

1602 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1603 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1604 
lock_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1605 
lock_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1606 
lock_ev’t
->
des1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1607 
lock_ev’t
->
des2
 = 
lock_node
%
mesh_size
;

1608 
lock_ev’t
->
İt
 = 
BAR_REMOTE_ACC
;

1609 
lock_ev’t
->
th»adid
 =hreadid;

1610 
lock_ev’t
->
lock_id
 =†ock_id;

1611 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1612 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1613 
	`lock_ev’t_’queue
(
lock_ev’t
);

1614 
b¬r›r_wa™šg
[
th»adid
] = 1;

1617 
BAR_REMOTE_ACC
:

1619 
BAR_ENTRY
 *
b¬_‹mp
 = 
BAR_REG
[
b¬_node
][
b¬_addr
];

1620 
b¬_‹mp
->
¬rivšg_veùÜ
[
th»adid
] = 1;

1621 
b¬_‹mp
->
b¬r›r_num
 ++;

1622 if(
b¬_‹mp
->
b¬r›r_num
 =ğ
numcÚ‹xts
)

1624 
b¬_‹mp
->
b¬r›r_num
 = 0;

1625 
i
 = 0;

1626 
i
=0;i<
numcÚ‹xts
;i++)

1628 
b¬_‹mp
->
¬rivšg_veùÜ
[
th»adid
] = 0;

1629 
LOCK_EVENT
 *
lock_ev’t
;

1630 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1631 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1632 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

1633 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1634 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1635 
lock_ev’t
->
des1
 = 
i
/
mesh_size
+
MEM_LOC_SHIFT
;

1636 
lock_ev’t
->
des2
 = 
i
%
mesh_size
;

1637 
lock_ev’t
->
İt
 = 
BAR_RELEASE
;

1638 
lock_ev’t
->
th»adid
 = 
i
;

1639 
lock_ev’t
->
lock_id
 =†ock_id;

1640 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1641 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1642 
	`lock_ev’t_’queue
(
lock_ev’t
);

1645 if(
cŞËù_¡©s
)

1646 
TÙ®B¬r›rs
 ++;

1650 
LOCK_EVENT
 *
lock_ev’t
;

1651 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1652 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1653 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1654 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1655 
lock_ev’t
->
des1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1656 
lock_ev’t
->
des2
 = 
th»adid
%
mesh_size
;

1657 
lock_ev’t
->
İt
 = 
BAR_WAIT_ACK
;

1658 
lock_ev’t
->
th»adid
 =hreadid;

1659 
lock_ev’t
->
lock_id
 =†ock_id;

1660 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1661 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1662 
	`lock_ev’t_’queue
(
lock_ev’t
);

1666 
BAR_WAIT_ACK
:

1667 
cŞËù_b¬r›r_¡©s
[
th»adid
] = 1;

1668 
b¬r›r_wa™šg
[
th»adid
] = 1;

1669 
thecÚ‹xts
[
th»adid
]->
ruÂšg
 = 0;

1670 
thecÚ‹xts
[
th»adid
]->
ä“ze
 = 1;

1671 
¦“pCouÁ
[
th»adid
]++;

1672 
thecÚ‹xts
[
th»adid
]->
¦•tAt
 = 
sim_cyşe
;

1673 
ä“zeCouÁ”
++;

1675 
BAR_RELEASE
:

1676 
thecÚ‹xts
[
th»adid
]->
ruÂšg
 = 1;

1677 
thecÚ‹xts
[
th»adid
]->
ä“ze
 = 0;

1678 
b¬r›r_wa™šg
[
th»adid
] = 0;

1679 
cŞËù_b¬r›r_¡©s
[
th»adid
] = 0;

1681 
ACQUIRE
:

1682 if(
lock_node
 =ğ
th»adid
)

1684 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1685 if(
Lock_‹mp
->
lock_owÃr
 != 0)

1687 
lock_wa™šg
[
th»adid
] = 1;

1688 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_
] = 
th»adid
;

1689 
Lock_‹mp
->
wa™šg_num
 ++;

1690 
Lock_‹mp
->
wa™šg_
 = (Lock_‹mp->wa™šg_+1+
MAXLOCK
)%MAXLOCK;

1691 if(
Lock_‹mp
->
wa™šg_
 =ğLock_‹mp->
wa™šg_h—d
)

1692 
	`·nic
("Ideal†ock: Lock‡cquire queue full\n");

1696 
Lock_‹mp
->
lock_owÃr
 = 
th»adid
 + 1;

1701 
LOCK_EVENT
 *
lock_ev’t
;

1702 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1703 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1704 
lock_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1705 
lock_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1706 
lock_ev’t
->
des1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1707 
lock_ev’t
->
des2
 = 
lock_node
%
mesh_size
;

1708 
lock_ev’t
->
İt
 = 
ACQ_REMOTE_ACC
;

1709 
lock_ev’t
->
th»adid
 =hreadid;

1710 
lock_ev’t
->
lock_id
 =†ock_id;

1711 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1712 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1713 
	`lock_ev’t_’queue
(
lock_ev’t
);

1714 
lock_wa™šg
[
th»adid
] = 1;

1717 
RELEASE
:

1718 if(
lock_node
 =ğ
th»adid
)

1720 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1721 if(
Lock_‹mp
->
lock_owÃr
 !ğ
th»adid
 + 1)

1722 
	`·nic
("Ideal†ock:‚othe„ighthread„eleasehe†ock!\n");

1725 
Lock_‹mp
->
lock_owÃr
 = 0;

1726 if(
Lock_‹mp
->
wa™šg_num
)

1728 
út
 = 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_h—d
];

1729 
Lock_‹mp
->
lock_owÃr
 = 
út
+1;

1730 
Lock_‹mp
->
wa™šg_num
 --;

1731 
Lock_‹mp
->
wa™šg_h—d
 = (Lock_‹mp->wa™šg_h—d+1+
MAXLOCK
)%MAXLOCK;

1732 if(
út
 =ğ
th»adid
)

1733 
	`·nic
("thread can‚ot‡cquirewo†ocks‡the sameime");

1736 
LOCK_EVENT
 *
lock_ev’t
;

1737 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1738 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1739 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1740 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1741 
lock_ev’t
->
des1
 = 
út
/
mesh_size
+
MEM_LOC_SHIFT
;

1742 
lock_ev’t
->
des2
 = 
út
%
mesh_size
;

1743 
lock_ev’t
->
İt
 = 
ACQ_ACK
;

1744 
lock_ev’t
->
th»adid
 = 
út
;

1745 
lock_ev’t
->
lock_id
 =†ock_id;

1746 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1747 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1748 
	`lock_ev’t_’queue
(
lock_ev’t
);

1755 
LOCK_EVENT
 *
lock_ev’t
;

1756 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1757 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1758 
lock_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1759 
lock_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1760 
lock_ev’t
->
des1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1761 
lock_ev’t
->
des2
 = 
lock_node
%
mesh_size
;

1762 
lock_ev’t
->
İt
 = 
REL_REMOTE_ACC
;

1763 
lock_ev’t
->
th»adid
 =hreadid;

1764 
lock_ev’t
->
lock_id
 =†ock_id;

1765 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1766 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1767 
	`lock_ev’t_’queue
(
lock_ev’t
);

1771 
ACQ_REMOTE_ACC
:

1773 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1774 
LOCK_EVENT
 *
lock_ev’t
;

1775 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1776 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1778 if(
Lock_‹mp
->
lock_owÃr
 != 0)

1780 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_
] = 
th»adid
;

1781 
Lock_‹mp
->
wa™šg_num
 ++;

1782 
Lock_‹mp
->
wa™šg_
 = (Lock_‹mp->wa™šg_+1+
MAXLOCK
)%MAXLOCK;

1783 if(
Lock_‹mp
->
wa™šg_
 =ğLock_‹mp->
wa™šg_h—d
)

1784 
	`·nic
("Ideal†ock: Lock‡cquire queue full\n");

1785 
lock_ev’t
->
İt
 = 
WAIT_ACK
;

1789 
Lock_‹mp
->
lock_owÃr
 = 
th»adid
 + 1;

1790 
lock_ev’t
->
İt
 = 
ACQ_ACK
;

1793 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1794 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1795 
lock_ev’t
->
des1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1796 
lock_ev’t
->
des2
 = 
th»adid
%
mesh_size
;

1797 
lock_ev’t
->
th»adid
 =hreadid;

1798 
lock_ev’t
->
lock_id
 =†ock_id;

1799 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1800 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1801 
	`lock_ev’t_’queue
(
lock_ev’t
);

1804 
REL_REMOTE_ACC
:

1806 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1807 if(
Lock_‹mp
->
lock_owÃr
 !ğ
th»adid
 + 1)

1808 
	`·nic
("Ideal†ock:‚othe„ighthread„eleasehe†ock!\n");

1811 
Lock_‹mp
->
lock_owÃr
 = 0;

1812 if(
Lock_‹mp
->
wa™šg_num
)

1814 
út
 = 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_h—d
];

1815 
Lock_‹mp
->
lock_owÃr
 = 
út
+1;

1816 
Lock_‹mp
->
wa™šg_num
 --;

1817 
Lock_‹mp
->
wa™šg_h—d
 = (Lock_‹mp->wa™šg_h—d+1+
MAXLOCK
)%MAXLOCK;

1819 
LOCK_EVENT
 *
lock_ev’t
;

1820 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1821 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1822 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1823 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1824 
lock_ev’t
->
des1
 = 
út
/
mesh_size
+
MEM_LOC_SHIFT
;

1825 
lock_ev’t
->
des2
 = 
út
%
mesh_size
;

1826 
lock_ev’t
->
İt
 = 
ACQ_ACK
;

1827 
lock_ev’t
->
th»adid
 = 
út
;

1828 
lock_ev’t
->
lock_id
 =†ock_id;

1829 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1830 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1831 
	`lock_ev’t_’queue
(
lock_ev’t
);

1836 
ACQ_ACK
:

1837 
lock_wa™šg
[
th»adid
] = 0;

1839 
WAIT_ACK
:

1840 
lock_wa™šg
[
th»adid
] = 1;

1843 
	`·nic
("no one comes here!");

1846 
	}
}

1861  
	mR_V0
,

1862  
	mR_T0
,

1863  
	mR_T1
,

1864  
	mR_T2
,

1865  
	mR_T3
,

1866  
	mR_T4
,

1867  
	mR_T5
,

1868  
	mR_T6
,

1869  
	mR_T7
,

1870  
	mR_S0
,

1871  
	mR_S1
,

1872  
	mR_S2
,

1873  
	mR_S3
,

1874  
	mR_S4
,

1875  
	mR_S5
,

1876  
	mR_FP
,

1877  
	mR_A0
,

1878  
	mR_A1
,

1879  
	mR_A2
,

1880  
	mR_A3
,

1881  
	mR_A4
,

1882  
	mR_A5
,

1883  
	mR_T8
,

1884  
	mR_T9
,

1885  
	mR_T10
,

1886  
	mR_T11
,

1887  
	mR_RA
,

1888  
	mR_PV
,

1889  
	mR_AT
,

1890  
	mR_GP
,

1891  
	mR_SP
,

1892  
	mR_IZERO
,

1893  
	mR_F0
,

1894  
	mR_F1
,

1895  
	mR_F2
,

1896  
	mR_F3
,

1897  
	mR_F4
,

1898  
	mR_F5
,

1899  
	mR_F6
,

1900  
	mR_F7
,

1901  
	mR_F8
,

1902  
	mR_F9
,

1903  
	mR_F10
,

1904  
	mR_F11
,

1905  
	mR_F12
,

1906  
	mR_F13
,

1907  
	mR_F14
,

1908  
	mR_F15
,

1909  
	mR_F16
,

1910  
	mR_F17
,

1911  
	mR_F18
,

1912  
	mR_F19
,

1913  
	mR_F20
,

1914  
	mR_F21
,

1915  
	mR_F22
,

1916  
	mR_F23
,

1917  
	mR_F24
,

1918  
	mR_F25
,

1919  
	mR_F26
,

1920  
	mR_F27
,

1921  
	mR_F28
,

1922  
	mR_F29
,

1923  
	mR_F30
,

1924  
	mR_FZERO
,

1925  
	mR_FPCR
,

1926  
	mR_UNIQ
,

1927  
	mNUM_REGS


1928 } 
	tRegNames
;

1931 
	mçl£
,

1932 
	mŒue


1933 } 
	tboŞ
;

1938  
	mSYSCALL_OSF_SYSCALL
,

1939  
	mSYSCALL_EXIT
,

1940  
	mSYSCALL_FORK
,

1941  
	mSYSCALL_READ
,

1942  
	mSYSCALL_WRITE
,

1943  
	mSYSCALL_OSF_OLD_OPEN
,

1944  
	mSYSCALL_CLOSE
,

1945  
	mSYSCALL_OSF_WAIT4
,

1946  
	mSYSCALL_OSF_OLD_CREAT
,

1947  
	mSYSCALL_LINK
,

1948  
	mSYSCALL_UNLINK
,

1949  
	mSYSCALL_OSF_EXECVE
,

1950  
	mSYSCALL_CHDIR
,

1951  
	mSYSCALL_FCHDIR
,

1952  
	mSYSCALL_MKNOD
,

1953  
	mSYSCALL_CHMOD
,

1954  
	mSYSCALL_CHOWN
,

1955  
	mSYSCALL_BRK
,

1956  
	mSYSCALL_OSF_GETFSSTAT
,

1957  
	mSYSCALL_LSEEK
,

1958  
	mSYSCALL_GETXPID
,

1959  
	mSYSCALL_OSF_MOUNT
,

1960  
	mSYSCALL_UMOUNT
,

1961  
	mSYSCALL_SETUID
,

1962  
	mSYSCALL_GETXUID
,

1963  
	mSYSCALL_EXEC_WITH_LOADER
,

1964  
	mSYSCALL_OSF_PTRACE
,

1965  
	mSYSCALL_OSF_NRECVMSG
,

1966  
	mSYSCALL_OSF_NSENDMSG
,

1967  
	mSYSCALL_OSF_NRECVFROM
,

1968  
	mSYSCALL_OSF_NACCEPT
,

1969  
	mSYSCALL_OSF_NGETPEERNAME
,

1970  
	mSYSCALL_OSF_NGETSOCKNAME
,

1971  
	mSYSCALL_ACCESS
,

1972  
	mSYSCALL_OSF_CHFLAGS
,

1973  
	mSYSCALL_OSF_FCHFLAGS
,

1974  
	mSYSCALL_SYNC
,

1975  
	mSYSCALL_KILL
,

1976  
	mSYSCALL_OSF_OLD_STAT
,

1977  
	mSYSCALL_SETPGID
,

1978  
	mSYSCALL_OSF_OLD_LSTAT
,

1979  
	mSYSCALL_DUP
,

1980  
	mSYSCALL_PIPE
,

1981  
	mSYSCALL_OSF_SET_PROGRAM_ATTRIBUTES
,

1982  
	mSYSCALL_OSF_PROFIL
,

1983  
	mSYSCALL_OPEN
,

1984  
	mSYSCALL_OSF_OLD_SIGACTION
,

1985  
	mSYSCALL_GETXGID
,

1986  
	mSYSCALL_OSF_SIGPROCMASK
,

1987  
	mSYSCALL_OSF_GETLOGIN
,

1988  
	mSYSCALL_OSF_SETLOGIN
,

1989  
	mSYSCALL_ACCT
,

1990  
	mSYSCALL_SIGPENDING
,

1991  
	mSYSCALL_OSF_CLASSCNTL
,

1992  
	mSYSCALL_IOCTL
,

1993  
	mSYSCALL_OSF_REBOOT
,

1994  
	mSYSCALL_OSF_REVOKE
,

1995  
	mSYSCALL_SYMLINK
,

1996  
	mSYSCALL_READLINK
,

1997  
	mSYSCALL_EXECVE
,

1998  
	mSYSCALL_UMASK
,

1999  
	mSYSCALL_CHROOT
,

2000  
	mSYSCALL_OSF_OLD_FSTAT
,

2001  
	mSYSCALL_GETPGRP
,

2002  
	mSYSCALL_GETPAGESIZE
,

2003  
	mSYSCALL_OSF_MREMAP
,

2004  
	mSYSCALL_VFORK
,

2005  
	mSYSCALL_STAT
,

2006  
	mSYSCALL_LSTAT
,

2007  
	mSYSCALL_OSF_SBRK
,

2008  
	mSYSCALL_OSF_SSTK
,

2009  
	mSYSCALL_MMAP
,

2010  
	mSYSCALL_OSF_OLD_VADVISE
,

2011  
	mSYSCALL_MUNMAP
,

2012  
	mSYSCALL_MPROTECT
,

2013  
	mSYSCALL_MADVISE
,

2014  
	mSYSCALL_VHANGUP
,

2015  
	mSYSCALL_OSF_KMODCALL
,

2016  
	mSYSCALL_OSF_MINCORE
,

2017  
	mSYSCALL_GETGROUPS
,

2018  
	mSYSCALL_SETGROUPS
,

2019  
	mSYSCALL_OSF_OLD_GETPGRP
,

2020  
	mSYSCALL_SETPGRP
,

2021  
	mSYSCALL_OSF_SETITIMER
,

2022  
	mSYSCALL_OSF_OLD_WAIT
,

2023  
	mSYSCALL_OSF_TABLE
,

2024  
	mSYSCALL_OSF_GETITIMER
,

2025  
	mSYSCALL_GETHOSTNAME
,

2026  
	mSYSCALL_SETHOSTNAME
,

2027  
	mSYSCALL_GETDTABLESIZE
,

2028  
	mSYSCALL_DUP2
,

2029  
	mSYSCALL_FSTAT
,

2030  
	mSYSCALL_FCNTL
,

2031  
	mSYSCALL_OSF_SELECT
,

2032  
	mSYSCALL_POLL
,

2033  
	mSYSCALL_FSYNC
,

2034  
	mSYSCALL_SETPRIORITY
,

2035  
	mSYSCALL_SOCKET
,

2036  
	mSYSCALL_CONNECT
,

2037  
	mSYSCALL_ACCEPT
,

2038  
	mSYSCALL_GETPRIORITY
,

2039  
	mSYSCALL_SEND
,

2040  
	mSYSCALL_RECV
,

2041  
	mSYSCALL_SIGRETURN
,

2042  
	mSYSCALL_BIND
,

2043  
	mSYSCALL_SETSOCKOPT
,

2044  
	mSYSCALL_LISTEN
,

2045  
	mSYSCALL_OSF_PLOCK
,

2046  
	mSYSCALL_OSF_OLD_SIGVEC
,

2047  
	mSYSCALL_OSF_OLD_SIGBLOCK
,

2048  
	mSYSCALL_OSF_OLD_SIGSETMASK
,

2049  
	mSYSCALL_SIGSUSPEND
,

2050  
	mSYSCALL_OSF_SIGSTACK
,

2051  
	mSYSCALL_RECVMSG
,

2052  
	mSYSCALL_SENDMSG
,

2053  
	mSYSCALL_OSF_OLD_VTRACE
,

2054  
	mSYSCALL_OSF_GETTIMEOFDAY
,

2055  
	mSYSCALL_OSF_GETRUSAGE
,

2056  
	mSYSCALL_GETSOCKOPT
,

2057  
	mSYSCALL_NUMA_SYSCALLS
,

2058  
	mSYSCALL_READV
,

2059  
	mSYSCALL_WRITEV
,

2060  
	mSYSCALL_OSF_SETTIMEOFDAY
,

2061  
	mSYSCALL_FCHOWN
,

2062  
	mSYSCALL_FCHMOD
,

2063  
	mSYSCALL_RECVFROM
,

2064  
	mSYSCALL_SETREUID
,

2065  
	mSYSCALL_SETREGID
,

2066  
	mSYSCALL_RENAME
,

2067  
	mSYSCALL_TRUNCATE
,

2068  
	mSYSCALL_FTRUNCATE
,

2069  
	mSYSCALL_FLOCK
,

2070  
	mSYSCALL_SETGID
,

2071  
	mSYSCALL_SENDTO
,

2072  
	mSYSCALL_SHUTDOWN
,

2073  
	mSYSCALL_SOCKETPAIR
,

2074  
	mSYSCALL_MKDIR
,

2075  
	mSYSCALL_RMDIR
,

2076  
	mSYSCALL_OSF_UTIMES
,

2077  
	mSYSCALL_OSF_OLD_SIGRETURN
,

2078  
	mSYSCALL_OSF_ADJTIME
,

2079  
	mSYSCALL_GETPEERNAME
,

2080  
	mSYSCALL_OSF_GETHOSTID
,

2081  
	mSYSCALL_OSF_SETHOSTID
,

2082  
	mSYSCALL_GETRLIMIT
,

2083  
	mSYSCALL_SETRLIMIT
,

2084  
	mSYSCALL_OSF_OLD_KILLPG
,

2085  
	mSYSCALL_SETSID
,

2086  
	mSYSCALL_QUOTACTL
,

2087  
	mSYSCALL_OSF_OLDQUOTA
,

2088  
	mSYSCALL_GETSOCKNAME
,

2089  
	mSYSCALL_OSF_PREAD
,

2090  
	mSYSCALL_OSF_PWRITE
,

2091  
	mSYSCALL_OSF_PID_BLOCK
,

2092  
	mSYSCALL_OSF_PID_UNBLOCK
,

2093  
	mSYSCALL_OSF_SIGNAL_URTI
,

2094  
	mSYSCALL_SIGACTION
,

2095  
	mSYSCALL_OSF_SIGWAITPRIM
,

2096  
	mSYSCALL_OSF_NFSSVC
,

2097  
	mSYSCALL_OSF_GETDIRENTRIES
,

2098  
	mSYSCALL_OSF_STATFS
,

2099  
	mSYSCALL_OSF_FSTATFS
,

2100  
	mSYSCALL_UNKNOWN_162
,

2101  
	mSYSCALL_OSF_ASYNC_DAEMON
,

2102  
	mSYSCALL_OSF_GETFH
,

2103  
	mSYSCALL_OSF_GETDOMAINNAME
,

2104  
	mSYSCALL_SETDOMAINNAME
,

2105  
	mSYSCALL_UNKNOWN_167
,

2106  
	mSYSCALL_UNKNOWN_168
,

2107  
	mSYSCALL_OSF_EXPORTFS
,

2108  
	mSYSCALL_UNKNOWN_170
,

2109  
	mSYSCALL_UNKNOWN_171
,

2110  
	mSYSCALL_UNKNOWN_172
,

2111  
	mSYSCALL_UNKNOWN_173
,

2112  
	mSYSCALL_UNKNOWN_174
,

2113  
	mSYSCALL_UNKNOWN_175
,

2114  
	mSYSCALL_UNKNOWN_176
,

2115  
	mSYSCALL_UNKNOWN_177
,

2116  
	mSYSCALL_UNKNOWN_178
,

2117  
	mSYSCALL_UNKNOWN_179
,

2118  
	mSYSCALL_UNKNOWN_180
,

2119  
	mSYSCALL_OSF_ALT_PLOCK
,

2120  
	mSYSCALL_UNKNOWN_182
,

2121  
	mSYSCALL_UNKNOWN_183
,

2122  
	mSYSCALL_OSF_GETMNT
,

2123  
	mSYSCALL_UNKNOWN_185
,

2124  
	mSYSCALL_UNKNOWN_186
,

2125  
	mSYSCALL_OSF_ALT_SIGPENDING
,

2126  
	mSYSCALL_OSF_ALT_SETSID
,

2127  
	mSYSCALL_UNKNOWN_189
,

2128  
	mSYSCALL_UNKNOWN_190
,

2129  
	mSYSCALL_UNKNOWN_191
,

2130  
	mSYSCALL_UNKNOWN_192
,

2131  
	mSYSCALL_UNKNOWN_193
,

2132  
	mSYSCALL_UNKNOWN_194
,

2133  
	mSYSCALL_UNKNOWN_195
,

2134  
	mSYSCALL_UNKNOWN_196
,

2135  
	mSYSCALL_UNKNOWN_197
,

2136  
	mSYSCALL_UNKNOWN_198
,

2137  
	mSYSCALL_OSF_SWAPON
,

2138  
	mSYSCALL_MSGCTL
,

2139  
	mSYSCALL_MSGGET
,

2140  
	mSYSCALL_MSGRCV
,

2141  
	mSYSCALL_MSGSND
,

2142  
	mSYSCALL_SEMCTL
,

2143  
	mSYSCALL_SEMGET
,

2144  
	mSYSCALL_SEMOP
,

2145  
	mSYSCALL_OSF_UTSNAME
,

2146  
	mSYSCALL_LCHOWN
,

2147  
	mSYSCALL_OSF_SHMAT
,

2148  
	mSYSCALL_SHMCTL
,

2149  
	mSYSCALL_SHMDT
,

2150  
	mSYSCALL_SHMGET
,

2151  
	mSYSCALL_OSF_MVALID
,

2152  
	mSYSCALL_OSF_GETADDRESSCONF
,

2153  
	mSYSCALL_OSF_MSLEEP
,

2154  
	mSYSCALL_OSF_MWAKEUP
,

2155  
	mSYSCALL_MSYNC
,

2156  
	mSYSCALL_OSF_SIGNAL
,

2157  
	mSYSCALL_OSF_UTC_GETTIME
,

2158  
	mSYSCALL_OSF_UTC_ADJTIME
,

2159  
	mSYSCALL_UNKNOWN_221
,

2160  
	mSYSCALL_OSF_SECURITY
,

2161  
	mSYSCALL_OSF_KLOADCALL
,

2162  
	mSYSCALL_UNKNOWN_224
,

2163  
	mSYSCALL_UNKNOWN_225
,

2164  
	mSYSCALL_UNKNOWN_226
,

2165  
	mSYSCALL_UNKNOWN_227
,

2166  
	mSYSCALL_UNKNOWN_228
,

2167  
	mSYSCALL_UNKNOWN_229
,

2168  
	mSYSCALL_UNKNOWN_230
,

2169  
	mSYSCALL_UNKNOWN_231
,

2170  
	mSYSCALL_UNKNOWN_232
,

2171  
	mSYSCALL_GETPGID
,

2172  
	mSYSCALL_GETSID
,

2173  
	mSYSCALL_SIGALTSTACK
,

2174  
	mSYSCALL_OSF_WAITID
,

2175  
	mSYSCALL_OSF_PRIOCNTLSET
,

2176  
	mSYSCALL_OSF_SIGSENDSET
,

2177  
	mSYSCALL_OSF_SET_SPECULATIVE
,

2178  
	mSYSCALL_OSF_MSFS_SYSCALL
,

2179  
	mSYSCALL_OSF_SYSINFO
,

2180  
	mSYSCALL_OSF_UADMIN
,

2181  
	mSYSCALL_OSF_FUSER
,

2182  
	mSYSCALL_OSF_PROPLIST_SYSCALL
,

2183  
	mSYSCALL_OSF_NTP_ADJTIME
,

2184  
	mSYSCALL_OSF_NTP_GETTIME
,

2185  
	mSYSCALL_OSF_PATHCONF
,

2186  
	mSYSCALL_OSF_FPATHCONF
,

2187  
	mSYSCALL_UNKNOWN_249
,

2188  
	mSYSCALL_OSF_USWITCH
,

2189  
	mSYSCALL_OSF_USLEEP_THREAD
,

2190  
	mSYSCALL_OSF_AUDCNTL
,

2191  
	mSYSCALL_OSF_AUDGEN
,

2192  
	mSYSCALL_SYSFS
,

2193  
	mSYSCALL_OSF_SUBSYS_INFO
,

2194  
	mSYSCALL_OSF_GETSYSINFO
,

2195  
	mSYSCALL_OSF_SETSYSINFO
,

2196  
	mSYSCALL_OSF_AFS_SYSCALL
,

2197  
	mSYSCALL_OSF_SWAPCTL
,

2198  
	mSYSCALL_OSF_MEMCNTL
,

2199  
	mSYSCALL_OSF_FDATASYNC
,

2200  
	mSYSCALL_UNKNOWN_262
,

2201  
	mSYSCALL_UNKNOWN_263
,

2202  
	mSYSCALL_UNKNOWN_264
,

2203  
	mSYSCALL_UNKNOWN_265
,

2204  
	mSYSCALL_UNKNOWN_266
,

2205  
	mSYSCALL_UNKNOWN_267
,

2206  
	mSYSCALL_UNKNOWN_268
,

2207  
	mSYSCALL_UNKNOWN_269
,

2208  
	mSYSCALL_UNKNOWN_270
,

2209  
	mSYSCALL_UNKNOWN_271
,

2210  
	mSYSCALL_UNKNOWN_272
,

2211  
	mSYSCALL_UNKNOWN_273
,

2212  
	mSYSCALL_UNKNOWN_274
,

2213  
	mSYSCALL_UNKNOWN_275
,

2214  
	mSYSCALL_UNKNOWN_276
,

2215  
	mSYSCALL_UNKNOWN_277
,

2216  
	mSYSCALL_UNKNOWN_278
,

2217  
	mSYSCALL_UNKNOWN_279
,

2218  
	mSYSCALL_UNKNOWN_280
,

2219  
	mSYSCALL_UNKNOWN_281
,

2220  
	mSYSCALL_UNKNOWN_282
,

2221  
	mSYSCALL_UNKNOWN_283
,

2222  
	mSYSCALL_UNKNOWN_284
,

2223  
	mSYSCALL_UNKNOWN_285
,

2224  
	mSYSCALL_UNKNOWN_286
,

2225  
	mSYSCALL_UNKNOWN_287
,

2226  
	mSYSCALL_UNKNOWN_288
,

2227  
	mSYSCALL_UNKNOWN_289
,

2228  
	mSYSCALL_UNKNOWN_290
,

2229  
	mSYSCALL_UNKNOWN_291
,

2230  
	mSYSCALL_UNKNOWN_292
,

2231  
	mSYSCALL_UNKNOWN_293
,

2232  
	mSYSCALL_UNKNOWN_294
,

2233  
	mSYSCALL_UNKNOWN_295
,

2234  
	mSYSCALL_UNKNOWN_296
,

2235  
	mSYSCALL_UNKNOWN_297
,

2236  
	mSYSCALL_UNKNOWN_298
,

2237  
	mSYSCALL_UNKNOWN_299
,

2240  
	mSYSCALL_BDFLUSH
,

2241  
	mSYSCALL_SETHAE
,

2242  
	mSYSCALL_MOUNT
,

2243  
	mSYSCALL_OLD_ADJTIMEX
,

2244  
	mSYSCALL_SWAPOFF
,

2245  
	mSYSCALL_GETDENTS
,

2246  
	mSYSCALL_CREATE_MODULE
,

2247  
	mSYSCALL_INIT_MODULE
,

2248  
	mSYSCALL_DELETE_MODULE
,

2249  
	mSYSCALL_GET_KERNEL_SYMS
,

2250  
	mSYSCALL_SYSLOG
,

2251  
	mSYSCALL_REBOOT
,

2252  
	mSYSCALL_CLONE
,

2253  
	mSYSCALL_USELIB
,

2254  
	mSYSCALL_MLOCK
,

2255  
	mSYSCALL_MUNLOCK
,

2256  
	mSYSCALL_MLOCKALL
,

2257  
	mSYSCALL_MUNLOCKALL
,

2258  
	mSYSCALL_SYSINFO
,

2259  
	mSYSCALL__SYSCTL
,

2260  
	mSYSCALL_WAS_SYS_IDLE
,

2261  
	mSYSCALL_OLDUMOUNT
,

2262  
	mSYSCALL_SWAPON
,

2263  
	mSYSCALL_TIMES
,

2264  
	mSYSCALL_PERSONALITY
,

2265  
	mSYSCALL_SETFSUID
,

2266  
	mSYSCALL_SETFSGID
,

2267  
	mSYSCALL_USTAT
,

2268  
	mSYSCALL_STATFS
,

2269  
	mSYSCALL_FSTATFS
,

2270  
	mSYSCALL_SCHED_SETPARAM
,

2271  
	mSYSCALL_SCHED_GETPARAM
,

2272  
	mSYSCALL_SCHED_SETSCHEDULER
,

2273  
	mSYSCALL_SCHED_GETSCHEDULER
,

2274  
	mSYSCALL_SCHED_YIELD
,

2275  
	mSYSCALL_SCHED_GET_PRIORITY_MAX
,

2276  
	mSYSCALL_SCHED_GET_PRIORITY_MIN
,

2277  
	mSYSCALL_SCHED_RR_GET_INTERVAL
,

2278  
	mSYSCALL_AFS_SYSCALL
,

2279  
	mSYSCALL_UNAME
,

2280  
	mSYSCALL_NANOSLEEP
,

2281  
	mSYSCALL_MREMAP
,

2282  
	mSYSCALL_NFSSERVCTL
,

2283  
	mSYSCALL_SETRESUID
,

2284  
	mSYSCALL_GETRESUID
,

2285  
	mSYSCALL_PCICONFIG_READ
,

2286  
	mSYSCALL_PCICONFIG_WRITE
,

2287  
	mSYSCALL_QUERY_MODULE
,

2288  
	mSYSCALL_PRCTL
,

2289  
	mSYSCALL_PREAD
,

2290  
	mSYSCALL_PWRITE
,

2291  
	mSYSCALL_RT_SIGRETURN
,

2292  
	mSYSCALL_RT_SIGACTION
,

2293  
	mSYSCALL_RT_SIGPROCMASK
,

2294  
	mSYSCALL_RT_SIGPENDING
,

2295  
	mSYSCALL_RT_SIGTIMEDWAIT
,

2296  
	mSYSCALL_RT_SIGQUEUEINFO
,

2297  
	mSYSCALL_RT_SIGSUSPEND
,

2298  
	mSYSCALL_SELECT
,

2299  
	mSYSCALL_GETTIMEOFDAY
,

2300  
	mSYSCALL_SETTIMEOFDAY
,

2301  
	mSYSCALL_GETITIMER
,

2302  
	mSYSCALL_SETITIMER
,

2303  
	mSYSCALL_UTIMES
,

2304  
	mSYSCALL_GETRUSAGE
,

2305  
	mSYSCALL_WAIT4
,

2306  
	mSYSCALL_ADJTIMEX
,

2307  
	mSYSCALL_GETCWD
,

2308  
	mSYSCALL_CAPGET
,

2309  
	mSYSCALL_CAPSET
,

2310  
	mSYSCALL_SENDFILE
,

2311  
	mSYSCALL_SETRESGID
,

2312  
	mSYSCALL_GETRESGID
,

2313  
	mSYSCALL_DIPC
,

2314  
	mSYSCALL_PIVOT_ROOT
,

2315  
	mSYSCALL_MINCORE
,

2316  
	mSYSCALL_PCICONFIG_IOBASE
,

2317  
	mSYSCALL_GETDENTS64
,

2318  
	mSYSCALL_GETTID
,

2319  
	mSYSCALL_READAHEAD
,

2320  
	mSYSCALL_SECURITY
,

2321  
	mSYSCALL_TKILL
,

2322  
	mSYSCALL_SETXATTR
,

2323  
	mSYSCALL_LSETXATTR
,

2324  
	mSYSCALL_FSETXATTR
,

2325  
	mSYSCALL_GETXATTR
,

2326  
	mSYSCALL_LGETXATTR
,

2327  
	mSYSCALL_FGETXATTR
,

2328  
	mSYSCALL_LISTXATTR
,

2329  
	mSYSCALL_LLISTXATTR
,

2330  
	mSYSCALL_FLISTXATTR
,

2331  
	mSYSCALL_REMOVEXATTR
,

2332  
	mSYSCALL_LREMOVEXATTR
,

2333  
	mSYSCALL_FREMOVEXATTR
,

2334  
	mSYSCALL_FUTEX
,

2335  
	mSYSCALL_SCHED_SETAFFINITY
,

2336  
	mSYSCALL_SCHED_GETAFFINITY
,

2337  
	mSYSCALL_TUXCALL
,

2338  
	mSYSCALL_IO_SETUP
,

2339  
	mSYSCALL_IO_DESTROY
,

2340  
	mSYSCALL_IO_GETEVENTS
,

2341  
	mSYSCALL_IO_SUBMIT
,

2342  
	mSYSCALL_IO_CANCEL
,

2343  
	mSYSCALL_UNKNOWN_403
,

2344  
	mSYSCALL_UNKNOWN_404
,

2345  
	mSYSCALL_EXIT_GROUP
,

2346  
	mSYSCALL_LOOKUP_DCOOKIE
,

2347  
	mSYSCALL_SYS_EPOLL_CREATE
,

2348  
	mSYSCALL_SYS_EPOLL_CTL
,

2349  
	mSYSCALL_SYS_EPOLL_WAIT
,

2350  
	mSYSCALL_REMAP_FILE_PAGES
,

2351  
	mSYSCALL_SET_TID_ADDRESS
,

2352  
	mSYSCALL_RESTART_SYSCALL
,

2353  
	mSYSCALL_FADVISE64
,

2354  
	mSYSCALL_TIMER_CREATE
,

2355  
	mSYSCALL_TIMER_SETTIME
,

2356  
	mSYSCALL_TIMER_GETTIME
,

2357  
	mSYSCALL_TIMER_GETOVERRUN
,

2358  
	mSYSCALL_TIMER_DELETE
,

2359  
	mSYSCALL_CLOCK_SETTIME
,

2360  
	mSYSCALL_CLOCK_GETTIME
,

2361  
	mSYSCALL_CLOCK_GETRES
,

2362  
	mSYSCALL_CLOCK_NANOSLEEP
,

2363  
	mSYSCALL_SEMTIMEDOP
,

2364  
	mSYSCALL_TGKILL
,

2365  
	mSYSCALL_STAT64
,

2366  
	mSYSCALL_LSTAT64
,

2367  
	mSYSCALL_FSTAT64
,

2368  
	mSYSCALL_VSERVER
,

2369  
	mSYSCALL_MBIND
,

2370  
	mSYSCALL_GET_MEMPOLICY
,

2371  
	mSYSCALL_SET_MEMPOLICY
,

2372  
	mSYSCALL_MQ_OPEN
,

2373  
	mSYSCALL_MQ_UNLINK
,

2374  
	mSYSCALL_MQ_TIMEDSEND
,

2375  
	mSYSCALL_MQ_TIMEDRECEIVE
,

2376  
	mSYSCALL_MQ_NOTIFY
,

2377  
	mSYSCALL_MQ_GETSETATTR
,

2378  
	mSYSCALL_WAITID
,

2379  
	mSYSCALL_ADD_KEY
,

2380  
	mSYSCALL_REQUEST_KEY
,

2381  
	mSYSCALL_KEYCTL


2382 } 
	tAÍhaLšuxSysÿÎs
;

2384 
	$Œª¦©e_¡©_buf
(
®pha_¡©
 *
t_buf
, 
¡©
 *
h_buf
)

2387 
t_buf
->
¡_dev
 = 
h_buf
->st_dev;

2388 
t_buf
->
¡_šo
 = 
h_buf
->st_ino;

2389 
t_buf
->
¡_mode
 = 
h_buf
->st_mode;

2390 
t_buf
->
¡_Æšk
 = 
h_buf
->st_nlink;

2391 
t_buf
->
¡_uid
 = 
h_buf
->st_uid;

2392 
t_buf
->
¡_gid
 = 
h_buf
->st_gid;

2393 
t_buf
->
¡_rdev
 = 
h_buf
->st_rdev;

2394 
t_buf
->
¡_size
 = 
h_buf
->st_size;

2395 
t_buf
->
¡_©imeX
 = 
h_buf
->
¡_©ime
;

2396 
t_buf
->
¡_mtimeX
 = 
h_buf
->
¡_mtime
;

2397 
t_buf
->
¡_ùimeX
 = 
h_buf
->
¡_ùime
;

2398 
t_buf
->
¡_blksize
 = 
h_buf
->st_blksize;

2399 
t_buf
->
¡_blocks
 = 
h_buf
->st_blocks;

2400 
t_buf
->
¡_æags
 = 0;

2401 
t_buf
->
¡_g’
 = 0;

2402 
	}
}

2415 
	$sys_sysÿÎ
 (
»gs_t
 *
»gs
,

2416 
mem_acûss_â
 
mem_â
,

2417 
mem_t
 *
mem
,

2418 
md_š¡_t
 
š¡
,

2419 
ŒaûabË
)

2421 
qwÜd_t
 
syscode
 = 
»gs
->
»gs_R
[
MD_REG_V0
];

2422 
Lock_id
 = 0;

2423 
a
;

2425 #ifdeà
SMT_SS


2426 #ià
	`defšed
(
MTA
)

2427 *
p
;

2429 
út
;

2430 
th»adid
 = 0;

2431 
mem_±e_t
 *
tmpMemPŒD
, *
tmpMemPŒS
, *
tmpMemPŒ
;

2432 
cÚ‹xt
 *
cu¼’t
;

2433 
cÚ‹xt
 *
ÃwCÚ‹xt
;

2435 
th»adid
 = 
»gs
->threadid;

2436 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

2440 ià(
syscode
 =ğ
SYSCALL_OSF_SYSCALL
)

2441 
syscode
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

2444 #ifdeà
SMT_SS


2445 ià(
ŒaûabË
 && 
cu¼’t
->
sim_eio_fd
 !ğ
NULL
)

2447 
	`´štf
 ("PROBLEM\n");

2448 
	`fæush
 (
¡dout
);

2449 
	`eio_»ad_Œaû
 (
cu¼’t
->
sim_eio_fd
, 
sim_num_š¢
, 
»gs
, 
mem_â
, 
mem
, 
š¡
);

2451 ià(
ŒaûabË
 && 
sim_eio_fd
 !ğ
NULL
)

2453 
	`eio_»ad_Œaû
 (
sim_eio_fd
, 
sim_num_š¢
, 
»gs
, 
mem_â
, 
mem
, 
š¡
);

2472 ià(
syscode
 =ğ
SYSCALL_SIGRETURN
)

2474 
i
;

2475 
osf_sigcÚ‹xt
 
sc
;

2476 
md_addr_t
 
sc_addr
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

2478 
	`mem_bcİy
(
mem_â
, 
mem
, 
R—d
, 
sc_addr
,

2479 &
sc
, (
osf_sigcÚ‹xt
), 
cu¼’t
->
id
);

2480 
»gs
->
»gs_NPC
 = 
sc
.
sc_pc
;

2481 
i
=0; i < 32; ++i)

2482 
»gs
->
»gs_R
[
i
] = 
sc
.
sc_»gs
[i];

2483 
i
=0; i < 32; ++i)

2484 
»gs
->
»gs_F
.
q
[
i
] = 
sc
.
sc_å»gs
[i];

2485 
»gs
->
»gs_C
.
åü
 = 
sc
.
sc_åü
;

2486 
´og¿m_com¶‘e
 = 1;

2490 
	`´štf
 ("Am I coming here\n");

2496 
ušt64_t
 
sysÿÎ_code
 = 
»gs
->
»gs_R
[
R_V0
];

2498 
št64_t
 
»tuº_v®ue
 = 0;

2500 
boŞ
 
sucûss
 = 
çl£
;

2501 
syscode
)

2503 
SYSCALL_EXIT
:

2507 if(
cu¼’t
->
ma¡”id
 != 0)

2509 
	`´štf
 ("In OSF_SYS_exit\n");

2510 
	`´štf
 ("[INFO]: sim_num_š¢=%Îd, b¬r›rs=%d,†ocks=%d\n", 
sim_num_š¢
, 
TÙ®B¬r›rs
, 
TÙ®Locks
);

2511 
	`årštf
 (
¡d”r
, "[INFO]: sim_num_š¢=%Îd, b¬r›rs=%d,†ocks=%d\n", 
sim_num_š¢
, 
TÙ®B¬r›rs
, 
TÙ®Locks
);

2512 
	`fæush
 (
¡d”r
);

2513 
	`fæush
 (
¡dout
);

2514 #ifdeà
DO_COMPLETE_FASTFWD


2515 #ifdeà 
CACHE_PROFILE


2516 
	`CacheProfWr™e
 ();

2518 #ifdeà 
BRANCH_PROFILE


2519 
	`B¿nchProfWr™e
 ();

2521 #ifdeà 
BRPRED_PROFILE


2522 
	`B¿nchProfWr™e
 ();

2524 #ifdeà 
STORE_PROFILE


2525 
	`StÜeProfWr™e
 ();

2527 #ifdeà 
INDIRECTJUMP_PROFILE


2528 
	`´štJumpSts
 ();

2530 #ifdeà 
FREQ_PROFILE


2531 
	`F»qu’cyWr™e
 ();

2534 
timeToR‘uº
 = 1;

2536 
	`lÚgjmp
 (
sim_ex™_buf
,

2537  (
»gs
->
»gs_R
[
MD_REG_A0
] & 0xff) + 1);

2538 
	`´štf
 ("Am I coming here\n");

2542 
SYSCALL_READ
:

2544 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

2545 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

2546 
št64_t
 
couÁ
 = 
»gs
->
»gs_R
[
R_A2
];

2547 
št64_t
 
Ën
;

2548 *
buf
;

2551 
buf
 = (*)
	`ÿÎoc
(
couÁ
, ());

2552 ià(!
buf
è
	`çl
("ArchLib: syscall„ead„an out of memory");

2555 
Ën
 = 
	`»ad
(
fd
, 
buf
, 
couÁ
);

2558 ià(
Ën
 > 0)

2560 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

2561  
vaddr
, 
buf
, 
Ën
, 
cu¼’t
->
id
);

2563 
»tuº_v®ue
 = 
Ën
;

2564 
sucûss
 = 
Œue
;

2566 ià(
Ën
 == 0)

2568 
»tuº_v®ue
 = 0;

2569 
sucûss
 = 
Œue
;

2573 
»tuº_v®ue
 = 
”ºo
;

2574 
	`´štf
("”rÜ„—dšg %d", 
”ºo
);

2578 
	`ä“
(
buf
);

2582 
SYSCALL_WRITE
:

2584 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

2585 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

2586 
št64_t
 
couÁ
 = 
»gs
->
»gs_R
[
R_A2
];

2587 
št64_t
 
Ën
;

2588 *
buf
;

2591 
buf
 = (*)
	`ÿÎoc
(
couÁ
, ());

2592 ià(!
buf
è
	`çl
("ArchLib: syscall„ead„an out of memory");

2595 
	`mem_bcİy
(
mem_â
, 
mem
, 
R—d
,

2596  
vaddr
, 
buf
, 
couÁ
, 
cu¼’t
->
id
);

2600 
Ën
 = 
	`wr™e
(
fd
, 
buf
, 
couÁ
);

2601 
	`fsync
(
fd
);

2604 ià(
Ën
 >= 0)

2606 
»tuº_v®ue
 = 
Ën
;

2607 
sucûss
 = 
Œue
;

2610 
»tuº_v®ue
 = 
”ºo
;

2613 
	`ä“
(
buf
);

2617 
SYSCALL_CLOSE
:

2619 
»s
;

2622 ià(
»gs
->
»gs_R
[
R_A0
] > 2)

2624 
»s
 = 
	`şo£
(
»gs
->
»gs_R
[
R_A0
]);

2625 ià(
»s
 !ğ(
št64_t
)-1)

2627 
»tuº_v®ue
 = 0;

2628 
sucûss
 = 
Œue
;

2631 
»tuº_v®ue
 = 
”ºo
;

2635 
»tuº_v®ue
 = 0;

2636 
sucûss
 = 
Œue
;

2641 
SYSCALL_UNLINK
:

2643 
·thÇme
[
SYSCALL_BUFFER_SIZE
];

2644 
ušt64_t
 
·thÇme_±r
 = 
»gs
->
»gs_R
[
R_A0
];

2645 
št64_t
 
»suÉ
;

2648 
	`mem_¡rıy
(
mem_â
, 
mem
, 
R—d
, 
·thÇme_±r
, 
·thÇme
, 
cu¼’t
->
id
);

2651 
»suÉ
 = 
	`uÆšk
(
·thÇme
);

2652 ià(
»suÉ
 == -1)

2653 
»tuº_v®ue
 = 
”ºo
;

2656 
»tuº_v®ue
 = 0;

2657 
sucûss
 = 
Œue
;

2662 
SYSCALL_BRK
:

2665 
sqwÜd_t
 
d–
;

2666 
md_addr_t
 
addr
;

2668 
d–
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

2670 ià(!
d–
)

2671 
addr
 = 
_sy¡em
.
brk_pošt
;

2673 
addr
 = 
d–
;

2675 ià(
v”bo£
)

2676 
	`myårštf
(
¡d”r
, "SYS_sbrk: d–: 0x%012°(%ld)\n", 
d–
, delta);

2678 
ld_brk_pošt
 = 
addr
;

2679 
_sy¡em
.
brk_pošt
 = 
addr
;

2680 
»gs
->
»gs_R
[
MD_REG_V0
] = 
ld_brk_pošt
;

2681 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2683 ià(
v”bo£
)

2684 
	`myårštf
(
¡d”r
, "ld_brk_pošt: 0x%012p\n", 
ld_brk_pošt
);

2686 
»tuº_v®ue
 = 
addr
;

2687 
sucûss
 = 
Œue
;

2691 
md_addr_t
 
addr
;

2695 
addr
 = 
	`ROUND_UP
Ğ
»gs
->
»gs_R
[
MD_REG_A0
], 
MD_PAGE_SIZE
);

2697 
addr
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

2699 ià(
v”bo£
)

2700 
	`myårštf
(
¡d”r
, "SYS_ob»ak:‡ddr: 0x%012p\n", 
addr
);

2702 
ld_brk_pošt
 = 
addr
;

2703 
»gs
->
»gs_R
[
MD_REG_V0
] = 
ld_brk_pošt
;

2704 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2706 ià(
v”bo£
)

2707 
	`myårštf
(
¡d”r
, "ld_brk_pošt: 0x%012p\n", 
ld_brk_pošt
);

2729 
SYSCALL_LSEEK
:

2731 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

2732 
ušt64_t
 
off£t
 = 
»gs
->
»gs_R
[
R_A1
];

2733 
št64_t
 
wh’û
 = 
»gs
->
»gs_R
[
R_A2
];

2734 
off_t
 
»suÉ
;

2736 
»suÉ
 = 
	`l£ek
(
fd
, 
off£t
, 
wh’û
);

2738 ià(
»suÉ
 =ğ(
off_t
)-1)

2739 
»tuº_v®ue
 = 
”ºo
;

2742 
»tuº_v®ue
 = 
»suÉ
;

2743 
sucûss
 = 
Œue
;

2748 
SYSCALL_GETXPID
:

2752 
»tuº_v®ue
 = 
	`g‘pid
();

2753 
sucûss
 = 
Œue
;

2757 
SYSCALL_GETXUID
:

2760 
»gs
->
»gs_R
[
R_A4
] = (
ušt64_t
)
	`g‘euid
();

2761 
»tuº_v®ue
 = (
ušt64_t
)
	`g‘uid
();

2762 
sucûss
 = 
Œue
;

2766 
SYSCALL_KILL
:

2769 
	`w¬n
("sysÿÎ_kÈpid %i\n", 
»gs
[
R_A0
]);

2773 
SYSCALL_OPEN
:

2775 
·thÇme
[
SYSCALL_BUFFER_SIZE
];

2776 
ušt64_t
 
·thÇme_±r
 = 
»gs
->
»gs_R
[
R_A0
];

2777 
ušt64_t
 
sim_æags
 = 
»gs
->
»gs_R
[
R_A1
];

2778 
ušt64_t
 
mode
 = 
»gs
->
»gs_R
[
R_A2
];

2779 
loÿl_æags
;

2780 
fd
;

2783 
	`mem_¡rıy
(
mem_â
, 
mem
, 
R—d
, 
·thÇme_±r
, 
·thÇme
, 
cu¼’t
->
id
);

2787 
loÿl_æags
 = 0;

2788 ià(
sim_æags
 & 
ALPHA_O_RDONLY
è
loÿl_æags
 |ğ
O_RDONLY
;

2789 ià(
sim_æags
 & 
ALPHA_O_WRONLY
è
loÿl_æags
 |ğ
O_WRONLY
;

2790 ià(
sim_æags
 & 
ALPHA_O_RDWR
è
loÿl_æags
 |ğ
O_RDWR
;

2791 ià(
sim_æags
 & 
ALPHA_O_NONBLOCK
è
loÿl_æags
 |ğ
O_NONBLOCK
;

2792 ià(
sim_æags
 & 
ALPHA_O_APPEND
è
loÿl_æags
 |ğ
O_APPEND
;

2793 ià(
sim_æags
 & 
ALPHA_O_CREAT
è
loÿl_æags
 |ğ
O_CREAT
;

2794 ià(
sim_æags
 & 
ALPHA_O_TRUNC
è
loÿl_æags
 |ğ
O_TRUNC
;

2795 ià(
sim_æags
 & 
ALPHA_O_EXCL
è
loÿl_æags
 |ğ
O_EXCL
;

2796 ià(
sim_æags
 & 
ALPHA_O_NOCTTY
è
loÿl_æags
 |ğ
O_NOCTTY
;

2797 ià(
sim_æags
 & 
ALPHA_O_SYNC
è
loÿl_æags
 |ğ
O_SYNC
;

2798 ià(
sim_æags
 & 
ALPHA_O_DSYNC
è
loÿl_æags
 |ğ
O_DSYNC
;

2799 ià(
sim_æags
 & 
ALPHA_O_RSYNC
è
loÿl_æags
 |ğ
O_RSYNC
;

2802 
fd
 = 
	`İ’
(
·thÇme
, 
loÿl_æags
, 
mode
);

2804 ià(
fd
 == -1)

2805 
»tuº_v®ue
 = 
”ºo
;

2808 
»tuº_v®ue
 = 
fd
;

2809 
sucûss
 = 
Œue
;

2814 
SYSCALL_GETXGID
:

2817 
»gs
->
»gs_R
[
R_A4
] = (
ušt64_t
)
	`g‘egid
();

2818 
»tuº_v®ue
 = (
ušt64_t
)
	`g‘gid
();

2819 
sucûss
 = 
Œue
;

2823 
SYSCALL_OSF_SIGPROCMASK
:

2826 
»tuº_v®ue
 = 0;

2827 
sucûss
 = 
Œue
;

2831 
SYSCALL_IOCTL
:

2836 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

2837 
št64_t
 
»que¡
 = 
»gs
->
»gs_R
[
R_A1
];

2839 ià(
fd
 < 0)

2840 
»tuº_v®ue
 = 
EBADF
;

2843 
»que¡
)

2853 
»tuº_v®ue
 = 
ENOTTY
;

2857 
	`çl
("unsupported ioctl call: %x on fd: %d…c: 0x%llx",

2858 
»que¡
, 
fd
, 0);

2864 
SYSCALL_MMAP
:

2869 
ušt64_t
 
addr
 = 
»gs
->
»gs_R
[
R_A0
];

2870 
ušt64_t
 
Ëngth
 = 
»gs
->
»gs_R
[
R_A1
];

2871 
št64_t
 
æags
 = 
»gs
->
»gs_R
[
R_A3
];

2872 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A4
];

2879 if((
Ëngth
 % 
PAGE_SIZE
) != 0)

2880 
Ëngth
 = 
PAGE_SIZE
 * (length/PAGE_SIZE + 1);

2883 ià(
addr
 != 0)

2884 
	`´štf
("mmap ignorning suggested map‡ddress");

2886 
addr
 = 
_sy¡em
.
mm­_’d
;

2887 
_sy¡em
.
mm­_’d
 +ğ
Ëngth
;

2889 ià(!(
æags
 & 0x10))

2890 
	`´štf
("mm­pšg fd %d.hi i bad iànÙ /dev/z”o", 
fd
);

2891 
»tuº_v®ue
 = 
addr
;

2892 
sucûss
 = 
Œue
;

2901 
SYSCALL_MUNMAP
:

2905 
»tuº_v®ue
 = 0;

2906 
sucûss
 = 
Œue
;

2910 
SYSCALL_MPROTECT
:

2913 
»tuº_v®ue
 = 0;

2914 
sucûss
 = 
Œue
;

2918 
SYSCALL_FCNTL
:

2920 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

2921 
št64_t
 
cmd
 = 
»gs
->
»gs_R
[
R_A1
];

2923 ià(
fd
 < 0)

2924 
»tuº_v®ue
 = 
EBADF
;

2927 
cmd
)

2930 
»tuº_v®ue
 = 
EMFILE
;

2933 
»tuº_v®ue
 = 0;

2934 
sucûss
 = 
Œue
;

2939 
»tuº_v®ue
 = 
	`fú
(
fd
, 
cmd
);

2940 ià(
»tuº_v®ue
 != -1)

2941 
sucûss
 = 
Œue
;

2943 
»tuº_v®ue
 = 
”ºo
;

2951 
	`´štf
("ignÜed fú commªd %d oÀfd %d", 
cmd
, 
fd
);

2952 
»tuº_v®ue
 = 0;

2953 
sucûss
 = 
Œue
;

2992 
SYSCALL_WRITEV
:

2994 
št64_t
 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

2995 
ušt64_t
 
iov±r
 = 
»gs
->
»gs_R
[
R_A1
];

2996 
št64_t
 
iovút
 = 
»gs
->
»gs_R
[
R_A2
];

2997 
iovec
 *
iov
;

2998 
®pha_iovec
 
a_iov
;

2999 
i
, 
»s
;

3001 ià(
fd
 < 0)

3002 
»tuº_v®ue
 = 
EBADF
;

3005 
iov
 = 
	`m®loc
Ğ(
iovec
)*
iovút
);

3008 
i
 = 0; i < 
iovút
; i++)

3011 
	`mem_bcİy
(
mem_â
, 
mem
, 
R—d
,

3012  
iov±r
 + 
i
*(
a_iov
), &a_iov, ×_iov), 
cu¼’t
->
id
);

3019 
iov
[
i
].
iov_Ën
 = 
a_iov
.iov_len;

3021 
iov
[
i
].
iov_ba£
 = 
	`m®loc
Ğ()*(iov[i].
iov_Ën
));

3024 
	`mem_bcİy
(
mem_â
, 
mem
, 
R—d
,

3025  
a_iov
.
iov_ba£
, 
iov
[
i
].iov_ba£,‡_iov.
iov_Ën
, 
cu¼’t
->
id
);

3033 
»s
 = 
	`wr™ev
(
fd
, 
iov
, 
iovút
);

3035 ià(
»s
 < 0)

3036 
»tuº_v®ue
 = 
”ºo
;

3039 
»tuº_v®ue
 = 0;

3040 
sucûss
 = 
Œue
;

3044 
i
 = 0; i < 
iovút
; i++)

3045 
	`ä“
(
iov
[
i
].
iov_ba£
);

3048 
	`ä“
(
iov
);

3053 
SYSCALL_FTRUNCATE
:

3055 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

3056 
off_t
 
Ëngth
 = 
»gs
->
»gs_R
[
R_A1
];

3058 ià(
fd
 < 0)

3059 
»tuº_v®ue
 = 
EBADF
;

3062 
»tuº_v®ue
 = 
	`árunÿ‹
(
fd
, 
Ëngth
);

3063 ià(
»tuº_v®ue
 == -1)

3064 
»tuº_v®ue
 = 
”ºo
;

3066 
sucûss
 = 
Œue
;

3071 
SYSCALL_GETRLIMIT
:

3073 
ušt64_t
 
»sourû
 = 
»gs
->
»gs_R
[
R_A0
];

3074 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3075 
®pha_¾im™
 
¬lm
;

3077 
»sourû
)

3080 
¬lm
.
¾im_cur
 = 16 * 1024 * 1024;

3081 
¬lm
.
¾im_max
 =‡¾m.
¾im_cur
;

3082 
»tuº_v®ue
 = 0;

3083 
sucûss
 = 
Œue
;

3087 
¬lm
.
¾im_cur
 = 1024 * 1024 * 1024;

3088 
¬lm
.
¾im_max
 =‡¾m.
¾im_cur
;

3089 
»tuº_v®ue
 = 0;

3090 
sucûss
 = 
Œue
;

3094 
	`´štf
("unim¶em’‹d„lim™„esourû %u ... fašg ...", 
»sourû
);

3100 
SYSCALL_SETRLIMIT
:

3103 
»tuº_v®ue
 = 0;

3104 
sucûss
 = 
Œue
;

3108 
SYSCALL_OSF_GETSYSINFO
:

3110 
ušt64_t
 
İ
 = 
»gs
->
»gs_R
[
R_A0
];

3111 
ušt64_t
 
vaddr
;

3113 
İ
)

3118 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3120 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

3121  
vaddr
, &
»gs
->
»gs_R
[
R_FPCR
], (
ušt64_t
), 
cu¼’t
->
id
);

3123 
»tuº_v®ue
 = 0;

3124 
sucûss
 = 
Œue
;

3128 
	`çl
("unsupported operation %u on system call OSF_GETSYSINFO",

3129 
İ
);

3135 
SYSCALL_OSF_SETSYSINFO
:

3137 
ušt64_t
 
İ
 = 
»gs
->
»gs_R
[
R_A0
];

3138 
ušt64_t
 
vaddr
;

3140 
İ
)

3144 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3146 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

3147  
vaddr
, &(
»gs
->
»gs_R
[
R_FPCR
]), (
ušt64_t
), 
cu¼’t
->
id
);

3149 
»tuº_v®ue
 = 0;

3150 
sucûss
 = 
Œue
;

3154 
	`çl
("unsupported operation %u on system call OSF_GETSYSINFO",

3155 
İ
);

3161 
SYSCALL_TIMES
:

3164 
»tuº_v®ue
 = 0;

3165 
sucûss
 = 
Œue
;

3169 
SYSCALL_UNAME
:

3171 
®pha_ut¢ame
 
buf
;

3172 
ušt64_t
 
vaddr
;

3174 
	`¡rıy
(
buf
.
sy¢ame
, "Linux");

3175 
	`¡rıy
(
buf
.
nod’ame
, "mjdechen");

3176 
	`¡rıy
(
buf
.
»Ëa£
, "2.6.27.5-117.fc10");

3177 
	`¡rıy
(
buf
.
v”siÚ
, "Mon Dec 8 21:18:29 PST 2008");

3178 
	`¡rıy
(
buf
.
machše
, "alpha");

3179 
	`¡rıy
(
buf
.
domašÇme
, "");

3182 
vaddr
 = 
»gs
->
»gs_R
[
R_A0
];

3185 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

3186  
vaddr
, &
buf
, (buf), 
cu¼’t
->
id
);

3188 
»tuº_v®ue
 = 0;

3189 
sucûss
 = 
Œue
;

3193 
SYSCALL_MREMAP
:

3195 
addr
 = 
»gs
->
»gs_R
[
R_A0
];

3196 
ušt64_t
 
Şd_Ëngth
 = 
»gs
->
»gs_R
[
R_A1
];

3197 
ušt64_t
 
Ãw_Ëngth
 = 
»gs
->
»gs_R
[
R_A2
];

3198 
ušt64_t
 
æags
 = 
»gs
->
»gs_R
[
R_A3
];

3200 ià(
Ãw_Ëngth
 > 
Şd_Ëngth
) {

3201 ià((
addr
 + 
Şd_Ëngth
è=ğ
_sy¡em
.
mm­_’d
) {

3202 
diff
 = 
Ãw_Ëngth
 - 
Şd_Ëngth
;

3203 
_sy¡em
.
mm­_’d
 +ğ
diff
;

3204 
»tuº_v®ue
 = 
addr
;

3205 
sucûss
 = 
Œue
;

3209 *
buf
;

3210 
buf
 = (*)
	`ÿÎoc
(
Şd_Ëngth
, ());

3211 
	`mem_bcİy
(
mem_â
, 
mem
, 
R—d
,

3212  
addr
, 
buf
, 
Şd_Ëngth
, 
cu¼’t
->
id
);

3213 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

3214  
_sy¡em
.
mm­_’d
, 
buf
, 
Şd_Ëngth
, 
cu¼’t
->
id
);

3215 
»tuº_v®ue
 = 
_sy¡em
.
mm­_’d
;

3216 
_sy¡em
.
mm­_’d
 +ğ
Ãw_Ëngth
;

3218 
sucûss
 = 
Œue
;

3219 
	`ä“
(
buf
);

3225 
»tuº_v®ue
 = 
addr
;

3226 
sucûss
 = 
Œue
;

3233 
»tuº_v®ue
 = 0;

3234 
sucûss
 = 
çl£
;

3238 
SYSCALL_RT_SIGACTION
:

3241 
»tuº_v®ue
 = 0;

3242 
sucûss
 = 
Œue
;

3246 
SYSCALL_GETTIMEOFDAY
:

3256 
timev®
 
tv
;

3257 
timezÚe
 
tz
;

3258 
ušt64_t
 
tvaddr
 = 
»gs
->
»gs_R
[
R_A0
];

3259 
ušt64_t
 
tzaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3260 
®pha_timev®
 
©v
;

3261 
®pha_timezÚe
 
©z
;

3262 
št64_t
 
»suÉ
;

3264 ià(
tzaddr
)

3265 
»suÉ
 = 
	`g‘timeofday
(&
tv
, &
tz
);

3267 
»suÉ
 = 
	`g‘timeofday
(&
tv
, 0);

3269 ià(
»suÉ
 == 0)

3271 
©v
.
tv_£c
 = 
tv
.tv_sec;

3272 
©v
.
tv_u£c
 = 
tv
.tv_usec;

3273 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

3274  
tvaddr
, &
©v
, ×tv), 
cu¼’t
->
id
);

3277 ià(
tzaddr
)

3279 
©z
.
tz_mšu‹swe¡
 = 
tz
.tz_minuteswest;

3280 
©z
.
tz_d¡time
 = 
tz
.tz_dsttime;

3281 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
,

3282  
tzaddr
, &
©z
, ×tz), 
cu¼’t
->
id
);

3286 
»tuº_v®ue
 = 0;

3287 
sucûss
 = 
Œue
;

3290 
»tuº_v®ue
 = 
”ºo
;

3294 
SYSCALL_GETCWD
:

3296 *
buf
;

3297 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A0
];

3298 
ušt64_t
 
size
 = 
»gs
->
»gs_R
[
R_A1
];

3299 *
»s
;

3302 
buf
 = (*)
	`ÿÎoc
(
size
, ());

3304 
»s
 = 
	`g‘cwd
(
buf
, 
size
);

3306 ià(
»s
 < 0)

3307 
»tuº_v®ue
 = 
”ºo
;

3310 
»tuº_v®ue
 = 
	`¡¾’
(
»s
);

3311 
sucûss
 = 
Œue
;

3312 
	`mem_¡rıy
(
mem_â
, 
mem
, 
Wr™e
, 
vaddr
, 
buf
, 
cu¼’t
->
id
);

3317 
	`ä“
(
buf
);

3321 
SYSCALL_EXIT_GROUP
:

3324 
´og¿m_com¶‘e
 = 
Œue
;

3325 
»tuº_v®ue
 = 0;

3326 
sucûss
 = 
Œue
;

3330 
SYSCALL_STAT64
:

3332 
·thÇme
[
SYSCALL_BUFFER_SIZE
];

3333 
ušt64_t
 
·thÇme_±r
 = 
»gs
->
»gs_R
[
R_A0
];

3334 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3335 
®pha_¡©64
 
®pha_buf
;

3336 
¡©
 
ho¡_buf
;

3337 
»suÉ
;

3340 
	`mem_¡rıy
(
mem_â
, 
mem
, 
R—d
, 
·thÇme_±r
, 
·thÇme
, 
cu¼’t
->
id
);

3343 
»suÉ
 = 
	`¡©
(
·thÇme
, &
ho¡_buf
);

3344 
®pha_buf
.
¡_dev
 = 
ho¡_buf
.st_dev;

3345 
®pha_buf
.
¡_šo
 = 
ho¡_buf
.st_ino;

3346 
®pha_buf
.
¡_rdev
 = 
ho¡_buf
.st_rdev;

3347 
®pha_buf
.
¡_size
 = 
ho¡_buf
.st_size;

3348 
®pha_buf
.
¡_blocks
 = 
ho¡_buf
.st_blocks;

3349 
®pha_buf
.
¡_mode
 = 
ho¡_buf
.st_mode;

3350 
®pha_buf
.
¡_uid
 = 
ho¡_buf
.st_uid;

3351 
®pha_buf
.
¡_gid
 = 
ho¡_buf
.st_gid;

3352 
®pha_buf
.
¡_blksize
 = 
ho¡_buf
.st_blksize;

3353 
®pha_buf
.
¡_Æšk
 = 
ho¡_buf
.st_nlink;

3359 ià(
»suÉ
 < 0)

3361 
»tuº_v®ue
 = 
”ºo
;

3362 
	`´štf
("\nSYSCALL_STAT64 ERROR\n");

3366 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
, 
vaddr
, &
®pha_buf
, ×Íha_buf), 
cu¼’t
->
id
);

3367 
»tuº_v®ue
 = 0;

3368 
sucûss
 = 
Œue
;

3373 
SYSCALL_LSTAT64
:

3375 
·thÇme
[
SYSCALL_BUFFER_SIZE
];

3376 
ušt64_t
 
·thÇme_±r
 = 
»gs
->
»gs_R
[
R_A0
];

3377 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3379 
¡©
 
ho¡_buf
;

3380 
®pha_¡©64
 
®pha_buf
;

3381 
»suÉ
;

3384 
	`mem_¡rıy
(
mem_â
, 
mem
, 
R—d
, 
·thÇme_±r
, 
·thÇme
, 
cu¼’t
->
id
);

3388 
»suÉ
 = 
	`¡©
(
·thÇme
, &
ho¡_buf
);

3389 
®pha_buf
.
¡_dev
 = 
ho¡_buf
.st_dev;

3390 
®pha_buf
.
¡_šo
 = 
ho¡_buf
.st_ino;

3391 
®pha_buf
.
¡_rdev
 = 
ho¡_buf
.st_rdev;

3392 
®pha_buf
.
¡_size
 = 
ho¡_buf
.st_size;

3393 
®pha_buf
.
¡_blocks
 = 
ho¡_buf
.st_blocks;

3394 
®pha_buf
.
¡_mode
 = 
ho¡_buf
.st_mode;

3395 
®pha_buf
.
¡_uid
 = 
ho¡_buf
.st_uid;

3396 
®pha_buf
.
¡_gid
 = 
ho¡_buf
.st_gid;

3397 
®pha_buf
.
¡_blksize
 = 
ho¡_buf
.st_blksize;

3398 
®pha_buf
.
¡_Æšk
 = 
ho¡_buf
.st_nlink;

3404 ià(
»suÉ
 < 0)

3406 
»tuº_v®ue
 = 
”ºo
;

3407 
	`´štf
("\nSYSCALL_LSTAT64 ERROR\n");

3411 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
, 
vaddr
, &
®pha_buf
, ×Íha_buf), 
cu¼’t
->
id
);

3412 
»tuº_v®ue
 = 0;

3413 
sucûss
 = 
Œue
;

3418 
SYSCALL_FSTAT64
:

3421 
fd
 = 
»gs
->
»gs_R
[
R_A0
];

3422 
ušt64_t
 
vaddr
 = 
»gs
->
»gs_R
[
R_A1
];

3424 
®pha_¡©64
 
®pha_buf
;

3425 
¡©
 
ho¡_buf
;

3426 
»suÉ
;

3430 ià(
fd
 < 0)

3431 
»gs
->
»gs_R
[
R_V0
] = 
EBADF
;

3434 
»suÉ
 = 
	`f¡©64
(
fd
, &
ho¡_buf
);

3435 
®pha_buf
.
¡_dev
 = 
ho¡_buf
.st_dev;

3436 
®pha_buf
.
¡_šo
 = 
ho¡_buf
.st_ino;

3437 
®pha_buf
.
¡_rdev
 = 
ho¡_buf
.st_rdev;

3438 
®pha_buf
.
¡_size
 = 
ho¡_buf
.st_size;

3439 
®pha_buf
.
¡_blocks
 = 
ho¡_buf
.st_blocks;

3440 
®pha_buf
.
¡_mode
 = 
ho¡_buf
.st_mode;

3441 
®pha_buf
.
¡_uid
 = 
ho¡_buf
.st_uid;

3442 
®pha_buf
.
¡_gid
 = 
ho¡_buf
.st_gid;

3443 
®pha_buf
.
¡_blksize
 = 
ho¡_buf
.st_blksize;

3444 
®pha_buf
.
¡_Æšk
 = 
ho¡_buf
.st_nlink;

3453 ià(
»suÉ
 < 0)

3455 
»tuº_v®ue
 = 
”ºo
;

3456 
	`´štf
("\nSYSCALL_FSTAT64 ERROR\n");

3460 
	`mem_bcİy
(
mem_â
, 
mem
, 
Wr™e
, 
vaddr
, &
®pha_buf
, ×Íha_buf), 
cu¼’t
->
id
);

3461 
»tuº_v®ue
 = 0;

3462 
sucûss
 = 
Œue
;

3468 
OSF_SYS_fÜk
:

3469 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

3470 
	`æushWr™eBufãr
 (
út
);

3471 #ià
	`defšed
(
MTA
)

3475 ià(
numcÚ‹xts
 >ğ
MAXTHREADS
)

3476 
	`çl
 ("Total‚umber ofhreads hasƒxceededhe†imit");

3479 
	`årštf
 (
¡d”r
, "CÚ‹xˆ%d AÎoÿtšgh»ad ID‡ˆ%Îd: %d\n", 
cu¼’t
->
id
, (
numcÚ‹xts
), 
sim_num_š¢
);

3480 
	`´štf
 ("CÚ‹xˆ%d AÎoÿtšgh»ad ID: %d‡ˆ%Îd\n", 
cu¼’t
->
id
, (
numcÚ‹xts
), 
sim_num_š¢
);

3481 
	`fæush
 (
¡d”r
);

3482 
	`fæush
 (
¡dout
);

3484 
ÃwCÚ‹xt
 = 
thecÚ‹xts
[
numcÚ‹xts
] = (
cÚ‹xt
 *è
	`ÿÎoc
 (1,  (context));

3485 ià(
ÃwCÚ‹xt
 =ğ
NULL
)

3487 
	`årštf
 (
¡d”r
, "Allocation of‚ewhreads in fork failed\n");

3488 
	`ex™
 (1);

3493 
ÃwCÚ‹xt
->
¬gv
 = (**è
	`m®loc
 (30 *  (*));

3494 ià(
ÃwCÚ‹xt
->
¬gv
 =ğ
NULL
)

3496 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

3497 
	`ex™
 (1);

3500 #ifdef 
COLLECT_STAT_STARTUP


3501 
thrdP”JobCÁ
++;

3502 ià(
thrdP”JobCÁ
 =ğ
THREADS_PER_JOB
)

3503 
cu¼’t
->
ç¡fwd_dÚe
 = 1;

3504 
ÃwCÚ‹xt
->
ç¡fwd_dÚe
 = 1;

3505 
ÃwCÚ‹xt
->
b¬r›rR—ched
 = 0;

3506 
ÃwCÚ‹xt
->
¡¬tR—ched
 = 0;

3509 #ifdef 
EDA


3510 
ÃwCÚ‹xt
->
´edQueue
 = 
NULL
;

3511 
ÃwCÚ‹xt
->
lockStus
 = 0;

3512 
ÃwCÚ‹xt
->
boqIndex
 = -1;

3514 
út
 = 0; cnt < 30; cnt++)

3516 
ÃwCÚ‹xt
->
¬gv
[
út
] = 
NULL
;

3517 
ÃwCÚ‹xt
->
¬gv
[
út
] = (*è
	`m®loc
 (240 *  ());

3518 ià(
ÃwCÚ‹xt
->
¬gv
[
út
] =ğ
NULL
)

3520 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

3521 
	`ex™
 (1);

3525 
ÃwCÚ‹xt
->
sim_´ogout
 = (*è
	`m®loc
 (240);

3526 ià(
ÃwCÚ‹xt
->
sim_´ogout
 =ğ
NULL
)

3528 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

3529 
	`ex™
 (1);

3531 
ÃwCÚ‹xt
->
sim_´ogš
 = (*è
	`m®loc
 (240);

3532 ià(
ÃwCÚ‹xt
->
sim_´ogš
 =ğ
NULL
)

3534 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

3535 
	`ex™
 (1);

3540 
ÃwCÚ‹xt
->
¬gc
 = 0;

3541 
ÃwCÚ‹xt
->
sim_šputfd
 = 0;

3542 
ÃwCÚ‹xt
->
sim_´ogfd
 = 
NULL
;

3544 
ÃwCÚ‹xt
->
ç¡fwd_couÁ
 = 0;

3546 
ÃwCÚ‹xt
->
id
 = 
numcÚ‹xts
;

3547 
ÃwCÚ‹xt
->
ma¡”id
 = 
cu¼’t
->
id
;

3549 
ÃwCÚ‹xt
->
·»Á
 = 
cu¼’t
->
id
;

3551 
ÃwCÚ‹xt
->
aùive_this_cyşe
 = 1;

3553 
ÃwCÚ‹xt
->
num_chd
 = 0;

3554 
cu¼’t
->
num_chd
++;

3555 
cu¼’t
->
num_chd_aùive
++;

3559 
cŞËùStB¬r›r
++;

3560 
cŞËùStStİ
[
ÃwCÚ‹xt
->
id
] = 1;

3565 
ÃwCÚ‹xt
->
aùu®id
 = ++
th»adFÜked
[
cu¼’t
->
id
];

3567 ià(
th»adFÜked
[
cu¼’t
->
id
] =ğ(
THREADS_PER_JOB
-1))

3568 
cŞËùStStİ
[
cu¼’t
->
id
] = 1;

3571 
ÃwCÚ‹xt
->
¬gfe
 = 
cu¼’t
->argfile;

3572 
	`memıy
 (
ÃwCÚ‹xt
->
sim_´ogout
, 
cu¼’t
->sim_progout, 240);

3573 
	`memıy
 (
ÃwCÚ‹xt
->
sim_´ogš
, 
cu¼’t
->sim_progin, 240);

3579 
ÃwCÚ‹xt
->
sim_´ogfd
 = 
cu¼’t
->sim_progfd;

3582 
ÃwCÚ‹xt
->
sim_šputfd
 = 
cu¼’t
->sim_inputfd;

3585 
ÃwCÚ‹xt
->
âame
 = 
NULL
;

3586 
út
 = 0; cnt < 30; cnt++)

3588 ià(
cu¼’t
->
¬gv
[
út
])

3590 
	`memıy
 (
ÃwCÚ‹xt
->
¬gv
[
út
], 
cu¼’t
->argv[cnt], 240);

3593 
ÃwCÚ‹xt
->
¬gc
 = 
cu¼’t
->argc;

3597 
	`memıy
 (&
ÃwCÚ‹xt
->
»gs
, &
cu¼’t
->»gs,  (
»gs_t
));

3599 
ÃwCÚ‹xt
->
»gs
.
th»adid
 = 
numcÚ‹xts
;

3601 #ià
PROCESS_MODEL


3603 
ÃwCÚ‹xt
->
mem
 = (
mem_t
 *è
	`ÿÎoc
 ( (mem_t), 1);

3604 
ÃwCÚ‹xt
->
mem
->
th»adid
 = 
numcÚ‹xts
;

3605 
ÃwCÚ‹xt
->
mem
->
·ge_couÁ
 = 
cu¼’t
->mem->page_count;

3606 
ÃwCÚ‹xt
->
mem
->
±ab_mis£s
 = 
cu¼’t
->mem->ptab_misses;

3607 
ÃwCÚ‹xt
->
mem
->
±ab_acûs£s
 = 
cu¼’t
->mem->ptab_accesses;

3611 
ÃwCÚ‹xt
->
mem
->
Çme
 = 
cu¼’t
->mem->name;

3612 
út
 = 0; cÁ < 
MEM_PTAB_SIZE
; cnt++)

3614 ià(
cu¼’t
->
mem
->
±ab
[
út
] !ğ
NULL
)

3617 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
] = (
mem_±e_t
 *è
	`ÿÎoc
 ( (mem_pte_t), 1);

3618 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
]->
g
 = 
cu¼’t
->mem->ptab[cnt]->tag;

3620 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
]->
·ge
 = (
by‹_t
 *è
	`ÿÎoc
 (
MD_PAGE_SIZE
, 1);

3621 
	`memıy
 (
ÃwCÚ‹xt
->
mem
->
±ab
[
út
]->
·ge
, 
cu¼’t
->mem->±ab[út]->·ge, 
MD_PAGE_SIZE
);

3623 
tmpMemPŒS
 = 
cu¼’t
->
mem
->
±ab
[
út
]->
Ãxt
;

3624 
tmpMemPŒD
 = 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
];

3625 
tmpMemPŒS
 !ğ
NULL
)

3627 
tmpMemPŒ
 = (
mem_±e_t
 *è
	`ÿÎoc
 ( (mem_pte_t), 1);

3628 
tmpMemPŒ
->
g
 = 
tmpMemPŒS
->tag;

3629 
tmpMemPŒ
->
·ge
 = (
by‹_t
 *è
	`ÿÎoc
 (
MD_PAGE_SIZE
, 1);

3630 
tmpMemPŒ
->
Ãxt
 = 
NULL
;

3631 
	`memıy
 (
tmpMemPŒ
->
·ge
, 
tmpMemPŒS
->·ge, 
MD_PAGE_SIZE
);

3632 
tmpMemPŒD
->
Ãxt
 = 
tmpMemPŒ
;

3633 
tmpMemPŒD
 = 
tmpMemPŒ
;

3634 
tmpMemPŒS
 =mpMemPŒS->
Ãxt
;

3641 
ÃwCÚ‹xt
->
mem
 = 
cu¼’t
->mem;

3645 
ÃwCÚ‹xt
->
ld_rg‘_big_’dŸn
 = 
cu¼’t
->ld_target_big_endian;

3647 
ÃwCÚ‹xt
->
ld_‹xt_ba£
 = 
cu¼’t
->ld_text_base;

3648 
ÃwCÚ‹xt
->
ld_‹xt_size
 = 
cu¼’t
->ld_text_size;

3649 
ÃwCÚ‹xt
->
ld_´og_’Œy
 = 
cu¼’t
->ld_prog_entry;

3650 
ÃwCÚ‹xt
->
ld_d©a_ba£
 = 
cu¼’t
->ld_data_base;

3651 
ÃwCÚ‹xt
->
ld_d©a_size
 = 
cu¼’t
->ld_data_size;

3652 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_GP
] = 
cu¼’t
->regs.regs_R[MD_REG_GP];

3655 
ÃwCÚ‹xt
->
sim_sw­_by‹s
 = 
cu¼’t
->sim_swap_bytes;

3656 
ÃwCÚ‹xt
->
sim_sw­_wÜds
 = 
cu¼’t
->sim_swap_words;

3664 #ià
PROCESS_MODEL


3665 
ÃwCÚ‹xt
->
ld_¡ack_ba£
 = 
cu¼’t
->
¡ack_ba£
;

3666 
ÃwCÚ‹xt
->
¡ack_ba£
 = 
cu¼’t
->stack_base;

3668 
ÃwCÚ‹xt
->
ld_¡ack_ba£
 = 
cu¼’t
->
¡ack_ba£
;

3669 
cu¼’t
->
¡ack_ba£
 = cu¼’t->¡ack_ba£ - 
STACKSIZE
;

3670 
ÃwCÚ‹xt
->
¡ack_ba£
 = 
cu¼’t
->stack_base;

3674 
p
 = 
	`ÿÎoc
 (
STACKSIZE
,  ());

3675 
	`mem_bcİy
 (
mem_acûss
, 
cu¼’t
->
mem
, 
R—d
, cu¼’t->
ld_¡ack_ba£
 - 
STACKSIZE
, 
p
, STACKSIZE, cu¼’t->
id
);

3676 
	`mem_bcİy
 (
mem_acûss
, 
cu¼’t
->
mem
, 
Wr™e
, 
ÃwCÚ‹xt
->
ld_¡ack_ba£
 - 
STACKSIZE
, 
p
, STACKSIZE, cu¼’t->
id
);

3681 
ÃwCÚ‹xt
->
ld_¡ack_size
 = 
cu¼’t
->ld_stack_size;

3682 
ÃwCÚ‹xt
->
ld_’vœÚ_ba£
 =‚ewCÚ‹xt->ld_’vœÚ_ba£ - 
STACKSIZE
;

3683 
ÃwCÚ‹xt
->
ld_brk_pošt
 = 
cu¼’t
->ld_brk_point;

3684 #ià
PROCESS_MODEL


3685 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_SP
] = 
cu¼’t
->regs.regs_R[MD_REG_SP];

3687 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_SP
] = 
cu¼’t
->»gs.»gs_R[MD_REG_SP] - cu¼’t->
ld_¡ack_ba£
 +‚ewContext->ld_stack_base;

3689 
ÃwCÚ‹xt
->
»gs
.
»gs_PC
 = 
cu¼’t
->regs.regs_PC;

3691 
ÃwCÚ‹xt
->
ld_¡ack_mš
 =‚ewCÚ‹xt->
ld_¡ack_ba£
;

3694 
ÃwCÚ‹xt
->
sim_eio_âame
 = 
NULL
;

3695 
ÃwCÚ‹xt
->
sim_chk±_âame
 = 
NULL
;

3696 
ÃwCÚ‹xt
->
sim_eio_fd
 = 
NULL
;

3697 
ÃwCÚ‹xt
->
ld_´og_âame
 = 
NULL
;

3701 
ÃwCÚ‹xt
->
»Çme_acûss
 = 0;

3702 
ÃwCÚ‹xt
->
rob1_acûss
 = 0;

3703 
ÃwCÚ‹xt
->
rob2_acûss
 = 0;

3704 
ÃwCÚ‹xt
->
sim_num_š¢
 = 0;

3705 
ÃwCÚ‹xt
->
sim_tÙ®_š¢
 = 0;

3706 
ÃwCÚ‹xt
->
ãtch_num_š¢
 = 0;

3707 
ÃwCÚ‹xt
->
ãtch_tÙ®_š¢
 = 0;

3708 
ÃwCÚ‹xt
->
sim_num_»fs
 = 0;

3709 
ÃwCÚ‹xt
->
sim_tÙ®_»fs
 = 0;

3710 
ÃwCÚ‹xt
->
sim_num_lßds
 = 0;

3711 
ÃwCÚ‹xt
->
sim_tÙ®_lßds
 = 0;

3712 
ÃwCÚ‹xt
->
sim_num_b¿nches
 = 0;

3713 
ÃwCÚ‹xt
->
sim_tÙ®_b¿nches
 = 0;

3714 
ÃwCÚ‹xt
->
sim_šv®id_addrs
 = 0;

3715 
ÃwCÚ‹xt
->
š¡_£q
 = 0;

3716 
ÃwCÚ‹xt
->
±¿û_£q
 = 0;

3717 
ÃwCÚ‹xt
->
ruu_ãtch_issue_d–ay
 = 0;

3718 
ÃwCÚ‹xt
->
wa™_fÜ_ãtch
 = 0;

3719 #ifdef 
CACHE_MISS_STAT


3720 
ÃwCÚ‹xt
->
¥ec_rdb_miss_couÁ
 = 0;

3721 
ÃwCÚ‹xt
->
¥ec_wrb_miss_couÁ
 = 0;

3722 
ÃwCÚ‹xt
->
nÚ_¥ec_rdb_miss_couÁ
 = 0;

3723 
ÃwCÚ‹xt
->
nÚ_¥ec_wrb_miss_couÁ
 = 0;

3724 
ÃwCÚ‹xt
->
š¡_miss_couÁ
 = 0;

3725 
ÃwCÚ‹xt
->
lßd_miss_couÁ
 = 0;

3726 
ÃwCÚ‹xt
->
¡Üe_miss_couÁ
 = 0;

3729 
ÃwCÚ‹xt
->
ãtch_num_thrd
 = 0;

3730 
ÃwCÚ‹xt
->
iissueq_thrd
 = 0;

3731 
ÃwCÚ‹xt
->
fissueq_thrd
 = 0;

3732 
ÃwCÚ‹xt
->
icouÁ_thrd
 = 0;

3733 
ÃwCÚ‹xt
->
Ï¡_İ
.
Ãxt
 = 
NULL
;

3734 
ÃwCÚ‹xt
->
Ï¡_İ
.
rs
 = 
NULL
;

3735 
ÃwCÚ‹xt
->
Ï¡_İ
.
g
 = 0;

3737 
ÃwCÚ‹xt
->
ãtch_»dœeùed
 = 
FALSE
;

3738 
ÃwCÚ‹xt
->
buck‘_ä“_li¡
 = 
NULL
;

3739 
ÃwCÚ‹xt
->
¡¬t_cyşe
 = 
sim_cyşe
;

3740 
ÃwCÚ‹xt
->
¡®lTh»ad
 = 0;

3741 
ÃwCÚ‹xt
->
wa™FÜ
 = 0;

3742 
ÃwCÚ‹xt
->
WBFuÎ
 = 0;

3743 
ÃwCÚ‹xt
->
wa™FÜB¿nchResŞve
 = 0;

3744 
ÃwCÚ‹xt
->
NRLoÿlH™sLßd
 = 0;

3745 
ÃwCÚ‹xt
->
NRRemÙeH™sLßd
 = 0;

3746 
ÃwCÚ‹xt
->
NRMissLßd
 = 0;

3747 
ÃwCÚ‹xt
->
NRLoÿlH™sStÜe
 = 0;

3748 
ÃwCÚ‹xt
->
NRRemÙeH™sStÜe
 = 0;

3749 
ÃwCÚ‹xt
->
NRMissStÜe
 = 0;

3750 
ÃwCÚ‹xt
->
´e£Á
 = 0;

3765 
ÃwCÚ‹xt
->
D©aLoÿtÜH™
 = 0;

3766 
ÃwCÚ‹xt
->
D©aLoÿtÜMiss
 = 0;

3769 
ÃwCÚ‹xt
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

3774 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_R
, 
R_BMAP_SZ
);

3775 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_F
, 
F_BMAP_SZ
);

3776 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_C
, 
C_BMAP_SZ
);

3777 
út
 = 0; cÁ < 
STORE_HASH_SIZE
; cnt++)

3779 
ÃwCÚ‹xt
->
¡Üe_hbË
[
út
] = 
NULL
;

3782 
út
 = 0; cÁ < 
MD_TOTAL_REGS
; cnt++)

3784 
ÃwCÚ‹xt
->
ü—‹_veùÜ
[
út
] = 
CVLINK_NULL
;

3785 
ÃwCÚ‹xt
->
ü—‹_veùÜ_¹
[
út
] = 0;

3786 
ÃwCÚ‹xt
->
¥ec_ü—‹_veùÜ
[
út
] = 
CVLINK_NULL
;

3787 
ÃwCÚ‹xt
->
¥ec_ü—‹_veùÜ_¹
[
út
] = 0;

3790 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

3793 
ÃwCÚ‹xt
->
RUU
 = 
	`ÿÎoc
 (
RUU_size
,  (
RUU_¡©iÚ
));

3795 
út
 = 0; cÁ < 
RUU_size
; cnt++)

3796 
ÃwCÚ‹xt
->
RUU
[
út
].
šdex
 = cnt;

3797 
ÃwCÚ‹xt
->
RUU_num
 = 0;

3798 
ÃwCÚ‹xt
->
RUU_h—d
 =‚ewCÚ‹xt->
RUU_
 = 0;

3799 
ÃwCÚ‹xt
->
RUU_couÁ_thrd
 = 0;

3800 
ÃwCÚ‹xt
->
RUU_fcouÁ_thrd
 = 0;

3802 
ÃwCÚ‹xt
->
numDL1CacheAcûss
 = 0;

3803 
ÃwCÚ‹xt
->
numLoÿlH™s
 = 0;

3804 
ÃwCÚ‹xt
->
numRemÙeH™s
 = 0;

3805 
ÃwCÚ‹xt
->
numMemAcûss
 = 0;

3806 
ÃwCÚ‹xt
->
numR—dCacheAcûss
 = 0;

3807 
ÃwCÚ‹xt
->
numWr™eCacheAcûss
 = 0;

3808 
ÃwCÚ‹xt
->
numInv®id©iÚs
 = 0;

3809 
ÃwCÚ‹xt
->
numDL1H™s
 = 0;

3810 
ÃwCÚ‹xt
->
numDL1Mis£s
 = 0;

3811 
ÃwCÚ‹xt
->
numIn¢
 = 0;

3812 
ÃwCÚ‹xt
->
numIn¡rB¬r›r
 = 0;

3813 
ÃwCÚ‹xt
->
numCyşeB¬r›r
 = 0;

3814 
ÃwCÚ‹xt
->
tÙ®B¬r›rIn¡r
 = 0;

3815 
ÃwCÚ‹xt
->
tÙ®B¬r›rCyşe
 = 0;

3817 
ÃwCÚ‹xt
->
TÙ®numDL1CacheAcûss
 = 0;

3818 
ÃwCÚ‹xt
->
TÙ®numLoÿlH™s
 = 0;

3819 
ÃwCÚ‹xt
->
TÙ®numRemÙeH™s
 = 0;

3820 
ÃwCÚ‹xt
->
TÙ®numMemAcûss
 = 0;

3821 
ÃwCÚ‹xt
->
TÙ®numR—dCacheAcûss
 = 0;

3822 
ÃwCÚ‹xt
->
TÙ®numWr™eCacheAcûss
 = 0;

3823 
ÃwCÚ‹xt
->
TÙ®numInv®id©iÚs
 = 0;

3824 
ÃwCÚ‹xt
->
TÙ®numDL1H™s
 = 0;

3825 
ÃwCÚ‹xt
->
TÙ®numDL1Mis£s
 = 0;

3826 
ÃwCÚ‹xt
->
TÙ®numIn¢
 = 0;

3827 
ÃwCÚ‹xt
->
ä“ze
 = 0;

3828 
ÃwCÚ‹xt
->
wa™FÜSTLC
 = 0;

3829 
ÃwCÚ‹xt
->
¦•tAt
 = 0;

3833 #ià
	`defšed
(
TEMPDEBUG
)

3834 
	`´štf
 ("Cu¼’t->RUU_num = %d\n", 
cu¼’t
->
RUU_num
);

3836 
ÃwCÚ‹xt
->
fšish_cyşe
 = 0;

3837 
ÃwCÚ‹xt
->
ruÂšg
 = 1;

3838 
ÃwCÚ‹xt
->
ãtch_»gs_PC
 = 
cu¼’t
->fetch_regs_PC;

3839 
ÃwCÚ‹xt
->
ãtch_´ed_PC
 = 
cu¼’t
->fetch_pred_PC;

3840 
ÃwCÚ‹xt
->
´ed_PC
 = 
cu¼’t
->pred_PC;

3841 
ÃwCÚ‹xt
->
»cov”_PC
 = 
cu¼’t
->recover_PC;

3842 
ÃwCÚ‹xt
->
¡¬t_cyşe
 = 
sim_cyşe
;

3845 
ÃwCÚ‹xt
->
ãtch_´ed_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

3846 #ifdeà
DO_COMPLETE_FASTFWD


3847 
ÃwCÚ‹xt
->
»gs
.
»gs_PC
 +ğ (
md_š¡_t
);

3848 
ÃwCÚ‹xt
->
»gs
.
»gs_NPC
 = 
cu¼’t
->»gs.»gs_NPC +  (
md_š¡_t
);

3852 
thecÚ‹xts
[
numcÚ‹xts
] = 
ÃwCÚ‹xt
;

3853 
numcÚ‹xts
++;

3856 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

3858 
´iÜ™y
[
út
] = cnt;

3859 
key
[
út
] = 0;

3862 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

3863 
	`ÿche_æush
 (
ÿche_dl1
[
út
], 
sim_cyşe
);

3865 
	`¡“r_š™
 ();

3866 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3867 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_V0
] =‚ewCÚ‹xt->
aùu®id
;

3868 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3869 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_A3
] = 0;

3870 
»gs
->
»gs_R
[
MD_REG_A4
] = 0;

3871 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_A4
] = 0;

3873 
	`ruu_š™
 (
ÃwCÚ‹xt
->
id
);

3874 
	`lsq_š™
 (
ÃwCÚ‹xt
->
id
);

3875 
	`ãtch_š™
 (
ÃwCÚ‹xt
->
id
);

3876 
	`cv_š™
 (
ÃwCÚ‹xt
->
id
);

3879 #ià
	`defšed
(
MTA
)

3880 
OSF_SYS_g‘th»adid
:

3882 
»gs
->
»gs_R
[
MD_REG_V0
] = 
cu¼’t
->
aùu®id
;

3883 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3885 
OSF_SYS_š™_¡¬t
:

3886 
	`´štf
 ("init_start...\n");

3888 
OSF_SYS_š™
:

3889 
MTAcÚ‹xts
 = 
numcÚ‹xts
;

3890 
	`´štf
 ("š™ ...%d\n", 
cu¼’t
->
id
);

3891 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3892 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3895 
OSF_SYS_š™_com¶‘e
:

3896 
	`´štf
 ("init_complete ...\n");

3898 
OSF_SYS_di¡ribu‹
:

3899 
	`´štf
 ("distribute ...\n");

3901 
OSF_SYS_time
:

3902 
	`´štf
 ("time ...\n");

3905 
OSF_SYS_b¬r›r
:

3906 
	`´štf
 ("barrier ...\n");

3909 
OSF_SYS_lock_acquœe
:

3910 
	`´štf
 ("lock_acquire ...\n");

3912 
OSF_SYS_lock_»Ëa£
:

3913 
	`´štf
 ("lock_release ...\n");

3915 
OSF_SYS_æag_acquœe
:

3916 
	`´štf
 ("flag_acquire ...\n");

3918 
OSF_SYS_æag_»Ëa£
:

3919 
	`´štf
 ("flag_release ...\n");

3921 
OSF_SYS_šc_æag
:

3922 
	`´štf
 ("inc_flag ...\n");

3924 
OSF_SYS_pŞl_æag
:

3925 
	`´štf
 ("poll_flag ...\n");

3927 
OSF_SYS_wa™_gt_æag
:

3928 
	`´štf
 ("gt_flag ...\n");

3930 
OSF_SYS_wa™_É_æag
:

3931 
	`´štf
 ("lt_flag ...\n");

3936 
OSF_SYS_´štf
:

3938 
	`fæush
 (
¡d”r
);

3939 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3940 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3942 
OSF_SYS_STATS
:

3943 if(
cŞËù_¡©s
 == 0)

3945 #iâdeà
PARALLEL_EMUL


3946 
cŞËù_¡©s
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3948 #ifdef 
COLLECT_STAT_STARTUP


3949 
cu¼’t
->
¡¬tR—ched
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3951 ià(
cŞËù_¡©s
 == 1)

3953 
	`´štf
("Initialization over:iming simulation can start‚ow\n");

3954 
	`årštf
(
¡d”r
,"Initialization over:iming simulation can start‚ow\n");

3955 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

3956 
thecÚ‹xts
[
út
]->
¡¬t_cyşe
 = 
sim_cyşe
;

3957 
æushImpSts
 = 1;

3960 ià(
cŞËù_¡©s
 == 1)

3962 
cŞËù_¡©s
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3963 #ifdef 
COLLECT_STAT_STARTUP


3964 
cu¼’t
->
¡¬tR—ched
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3966 if(
cŞËù_¡©s
 == 0)

3968 
	`´štf
("Computation over:iming simulation can stop‚ow\n");

3969 
	`årštf
(
¡d”r
,"Computation over:iming simulation can stop‚ow\n");

3970 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

3971 
thecÚ‹xts
[
út
]->
fšish_cyşe
 = 
sim_cyşe
;

3972 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

3974 
	`´štf
 ("free freeze\n");

3975 
thecÚ‹xts
[
út
]->
ä“ze
 = 0;

3976 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

3977 
thecÚ‹xts
[
út
]->
wa™FÜSTLC
 = 0;

3978 
	`æushWr™eBufãr
 (
út
);

3980 
timeToR‘uº
 = 1;

3984 
	`·nic
 ("collect_stats is invalid");

3985 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3986 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3988 
OSF_SYS_FASTFWD
:

3989 
ç¡fwd
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3990 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3991 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3994 
OSF_SYS_BARRIER_STATS
:

3995 
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] = 
»gs
->
»gs_R
[
MD_REG_A0
];

3997 ià(
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] == 1)

3999 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 
cŞËù_b¬r›r_¡©s_own
[current->id];

4000 
	`´štf
("EÁ”šg b¬r›¸%d\n", 
cu¼’t
->
id
);

4001 if(
cu¼’t
->
ç¡fwd_dÚe
 == 0)

4002 
cu¼’t
->
ç¡fwd_dÚe
 = 1;

4004 
	`fæush
(
¡dout
);

4005 
cu¼’t
->
numIn¡rB¬r›r
 = cu¼’t->
numIn¢
;

4006 
cu¼’t
->
numCyşeB¬r›r
 = 
sim_cyşe
;

4008 ià(
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] == 0)

4010 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 
cŞËù_b¬r›r_¡©s_own
[current->id];

4011 
	`´štf
("L—všg b¬r›¸%d\n", 
cu¼’t
->
id
);

4012 
	`fæush
(
¡dout
);

4013 
cu¼’t
->
tÙ®B¬r›rIn¡r
 +ğ(cu¼’t->
numIn¢
 - cu¼’t->
numIn¡rB¬r›r
);

4014 
cu¼’t
->
tÙ®B¬r›rCyşe
 +ğ(
sim_cyşe
 - cu¼’t->
numCyşeB¬r›r
);

4016 if(
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] == 2)

4017 
cŞËù_b¬r›r_»Ëa£
 = 2;

4019 
b¬r›r_addr
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4026 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4027 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4029 
OSF_SYS_LOCK_STATS
:

4030 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 
»gs
->
»gs_R
[
MD_REG_A0
];

4031 ià(
»gs
->
»gs_R
[
MD_REG_A0
] == 1)

4033 
cu¼’t
->
numIn¡rLock
 = cu¼’t->
numIn¢
;

4034 
cu¼’t
->
numCyşeLock
 = 
sim_cyşe
;

4035 if(
LockIn™PC
 == 0)

4037 
LockIn™PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

4038 
	`´štf
("š™Ÿlized…øfÜ†ock i %Îx\n", 
LockIn™PC
);

4041 ià(
»gs
->
»gs_R
[
MD_REG_A0
] == 0)

4043 
TÙ®Locks
++;

4044 
cu¼’t
->
tÙ®LockIn¡r
 +ğ(cu¼’t->
numIn¢
 - cu¼’t->
numIn¡rLock
);

4045 
cu¼’t
->
tÙ®LockCyşe
 +ğ(
sim_cyşe
 - cu¼’t->
numCyşeLock
);

4046 
lock_wa™šg
[
cu¼’t
->
id
] = 0;

4048 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4049 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4051 
OSF_SYS_WAIT
:

4062 ià(
cu¼’t
->
·»Á
 != -1)

4064 
	`årštf
 (
¡d”r
, "***************Th»ad %d i h®tšg**************\n", 
cu¼’t
->
id
);

4065 
	`årštf
 (
¡d”r
, "TÙB¬Cyşğ%8ld, TÙB¬In¡¸ğ%8ld\n", (è
cu¼’t
->
tÙ®B¬r›rCyşe
, (ècu¼’t->
tÙ®B¬r›rIn¡r
);

4066 
	`årštf
 (
¡d”r
, "TÙLockCyşğ%8ld, TÙLockIn¡¸ğ%8ld\n", (è
cu¼’t
->
tÙ®LockCyşe
, (ècu¼’t->
tÙ®LockIn¡r
);

4067 
	`´št_¡©s
 (
cu¼’t
);

4069 
	`MTA_´štInfo
 (
cu¼’t
->
id
);

4070 
cu¼’t
->
ruÂšg
 = 0;

4071 
cu¼’t
->
ä“ze
 = 1;

4072 
	`´štf
 ("ä“zby WAIT: %d\n", 
cu¼’t
->
id
);

4075 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4076 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4077 
thecÚ‹xts
[
cu¼’t
->
·»Á
]->
num_chd
--;

4081 ià(
cu¼’t
->
num_chd
 == 0)

4083 
	`årštf
 (
¡d”r
, "***************Th»ad %d i h®tšg**************\n", 
cu¼’t
->
id
);

4084 
	`årštf
 (
¡d”r
, "TÙB¬Cyşğ%10ld, TÙB¬In¡¸ğ%10ld\n", (è
cu¼’t
->
tÙ®B¬r›rCyşe
, (ècu¼’t->
tÙ®B¬r›rIn¡r
);

4085 
	`årštf
 (
¡d”r
, "TÙLockCyşğ%10ld, TÙLockIn¡¸ğ%10ld\n", (è
cu¼’t
->
tÙ®LockCyşe
, (ècu¼’t->
tÙ®LockIn¡r
);

4087 
	`´št_¡©s
 (
cu¼’t
);

4089 
	`MTA_´štInfo
 (
cu¼’t
->
id
);

4090 
»gs
->
»gs_R
[
MD_REG_V0
] = 1;

4091 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4095 
»gs
->
»gs_R
[
MD_REG_V0
] = -1;

4096 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4101 
OSF_SYS_MTA_h®t
:

4102 
cu¼’t
->
ruÂšg
 = 0;

4103 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4104 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4107 
OSF_SYS_MTA_¡¬t
:

4108 
	`´štf
 ("Startinghreads\n");

4109 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4110 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

4111 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4112 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4114 
OSF_SYS_b¬r›r
:

4115 ià(
cu¼’t
->
·»Á
 == -1)

4117 
tmpNum
 = 
numTh»ads
[
cu¼’t
->
id
] =‚umThreads[current->id] - 1;

4121 
tmpNum
 = 
numTh»ads
[
cu¼’t
->
·»Á
] =‚umThreads[current->parent] - 1;

4124 ià(
tmpNum
 == 0)

4126 
	`årštf
 (
¡d”r
, "BARRIER\n");

4127 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4129 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

4131 ià(
cu¼’t
->
·»Á
 == -1)

4133 
numTh»ads
[
cu¼’t
->
id
] = 
m_maxth»ads
;

4137 
numTh»ads
[
cu¼’t
->
·»Á
] = 
m_maxth»ads
;

4139 ià(
¡¬tTakšgSti¡ics
 == 1)

4140 
cu¼’tPha£
 = 7;

4141 
¡¬tTakšgSti¡ics
 = 1;

4145 
cu¼’t
->
ruÂšg
 = 0;

4147 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4148 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4151 
OSF_SYS_BARRIER_INSTR
:

4152 #ifdef 
COLLECT_STAT_STARTUP


4153 
cu¼’t
->
b¬r›rR—ched
 = 2;

4155 #iâdeà
PARALLEL_EMUL


4156 if(
cŞËù_¡©s
)

4158 
TÙ®B¬r›rs
 ++;

4159 
cŞËù_b¬r›r_»Ëa£
 = 0;

4160 ià(
¡¬tTakšgSti¡ics
 == 1)

4161 
cu¼’tPha£
 = 7;

4162 
¡¬tTakšgSti¡ics
 = 1;

4163 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4164 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4165 
i
=0;

4167 #ifdeà
LOCK_OPTI


4168 
OSF_SYS_LOCKADDR
:

4169 
lock_
[
cu¼’t
->
id
] = 0;

4170 
lock_addr
[
cu¼’t
->
id
][
lock_
[cu¼’t->id]] = 
»gs
->
»gs_R
[
MD_REG_A0
];

4171 
	`´štf
("th»adid %d,†ock‡dd¸%u\n", 
cu¼’t
->
id
, 
»gs
->
»gs_R
[
MD_REG_A0
]);

4174 
OSF_SYS_IDEAL_BAR
:

4175 #ifdeà
IDEAL_LOCK


4176 
B¬r›r_æag
[
»gs
->
»gs_R
[
MD_REG_A0
]] = 1;

4177 
B¬r›r_num
[
b¬r›r_‹mp
] ++;

4178 if(
B¬r›r_num
[
b¬r›r_‹mp
] =ğ
numcÚ‹xts
)

4180 
B¬r›r_num
[
b¬r›r_‹mp
] = 0;

4181 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

4182 
i
 = 0;

4183 
i
=0;i<
numcÚ‹xts
;i++)

4185 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

4186 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

4187 
b¬r›r_wa™šg
[
i
] = 0;

4188 
cŞËù_b¬r›r_¡©s
[
i
] = 0;

4190 if(
cŞËù_¡©s
)

4191 
TÙ®B¬r›rs
 ++;

4195 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 1;

4196 
b¬r›r_wa™šg
[
cu¼’t
->
id
] = 1;

4197 
cu¼’t
->
ruÂšg
 = 0;

4198 
cu¼’t
->
ä“ze
 = 1;

4199 
¦“pCouÁ
[
cu¼’t
->
id
]++;

4200 
cu¼’t
->
¦•tAt
 = 
sim_cyşe
;

4201 
ä“zeCouÁ”
++;

4204 #ifdeà
LOCK_HARD


4205 if(
cŞËù_¡©s
)

4206 
	`SyncO³¿tiÚ
(
b¬r›r_‹mp
, 
cu¼’t
->
id
, 
BAR_ACQUIRE
);

4209 
B¬r›r_æag
[
»gs
->
»gs_R
[
MD_REG_A0
]] = 1;

4210 
B¬r›r_num
[
b¬r›r_‹mp
] ++;

4211 if(
B¬r›r_num
[
b¬r›r_‹mp
] =ğ
numcÚ‹xts
)

4213 
B¬r›r_num
[
b¬r›r_‹mp
] = 0;

4214 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

4215 
i
 = 0;

4216 
i
=0;i<
numcÚ‹xts
;i++)

4218 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

4219 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

4220 
b¬r›r_wa™šg
[
i
] = 0;

4221 
cŞËù_b¬r›r_¡©s
[
i
] = 0;

4223 if(
cŞËù_¡©s
)

4224 
TÙ®B¬r›rs
 ++;

4228 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 1;

4229 
b¬r›r_wa™šg
[
cu¼’t
->
id
] = 1;

4230 
cu¼’t
->
ruÂšg
 = 0;

4231 
cu¼’t
->
ä“ze
 = 1;

4232 
¦“pCouÁ
[
cu¼’t
->
id
]++;

4233 
cu¼’t
->
¦•tAt
 = 
sim_cyşe
;

4234 
ä“zeCouÁ”
++;

4240 
OSF_SYS_IDEAL_LOCKACQ
:

4241 #ifdeà
IDEAL_LOCK


4244 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4245 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 1;

4246 if(
Lock_Acquœe
[
Lock_id
] != 0)

4248 
lock_wa™šg
[
cu¼’t
->
id
] = 1;

4255 
Lock_wa™_id
[
Lock_id
][
Lock_
[Lock_id]] = 
cu¼’t
->
id
;

4256 
Lock_wa™_num
[
Lock_id
] ++;

4257 
Lock_
[
Lock_id
] = (Lock_[Lock_id]+1+
MAXLOCK
)%MAXLOCK;

4258 if(
Lock_
[
Lock_id
] =ğ
Lock_h—d
[Lock_id])

4259 
	`·nic
("Ideal†ock: Lock‡cquire queue full\n");

4263 
Lock_Acquœe
[
Lock_id
] = 
cu¼’t
->
id
 + 1;

4266 #ifdeà
LOCK_HARD


4268 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4269 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 1;

4270 
	`årštf
(
å_Œaû
, "th»adid %d‡cq†ock %d\n", 
cu¼’t
->
id
, 
Lock_id
);

4271 
	`SyncO³¿tiÚ
(
Lock_id
, 
cu¼’t
->
id
, 
ACQUIRE
);

4275 
OSF_SYS_IDEAL_LOCKREL
:

4276 #ifdeà
IDEAL_LOCK


4279 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4280 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 0;

4281 if(
Lock_Acquœe
[
Lock_id
] !ğ
cu¼’t
->
id
 + 1)

4282 
	`·nic
("Ideal†ock:‚othe„ighthread„eleasehe†ock!\n");

4286 
Lock_Acquœe
[
Lock_id
] = 0;

4287 if(
Lock_wa™_num
[
Lock_id
])

4289 
út
 = 
Lock_wa™_id
[
Lock_id
][
Lock_h—d
[Lock_id]];

4292 
lock_wa™šg
[
út
] = 0;

4294 
Lock_Acquœe
[
Lock_id
] = 
út
+1;

4295 
Lock_wa™_num
[
Lock_id
] --;

4296 
Lock_h—d
[
Lock_id
] = (Lock_h—d[Lock_id]+1+
MAXLOCK
)%MAXLOCK;

4300 #ifdeà
LOCK_HARD


4301 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4302 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 0;

4303 
	`SyncO³¿tiÚ
(
Lock_id
, 
cu¼’t
->
id
, 
RELEASE
);

4308 
OSF_SYS_QUEISCE
:

4309 #ifdef 
COLLECT_STAT_STARTUP


4310 
cu¼’t
->
b¬r›rR—ched
 = 1;

4315 ià(!
cu¼’t
->
ma¡”id
)

4317 
cu¼’t
->
ruÂšg
 = 0;

4318 
cu¼’t
->
ä“ze
 = 1;

4319 
¦“pCouÁ
[
cu¼’t
->
id
]++;

4323 
	`fæush
 (
¡dout
);

4324 
qu›sûAddrSŒuù
[
cu¼’t
->
id
].
add»ss
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4325 
qu›sûAddrSŒuù
[
cu¼’t
->
id
].
th»adid
 = current->id;

4326 
cu¼’t
->
¦•tAt
 = 
sim_cyşe
;

4327 
ä“zeCouÁ”
++;

4329 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4330 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4332 
OSF_SYS_RANDOM
:

4333 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`¿ndom
 ();

4334 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4336 
OSF_SYS_MEM
:

4337 
acûss_mem
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4338 
acûss_mem_id
 = 
cu¼’t
->
id
;

4339 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4340 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4342 
OSF_SYS_PRINTGP
:

4343 
	`´štf
 ("%d, GP = %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_R
[
MD_REG_GP
]);

4344 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4345 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4349 
OSF_SYS_SHDADDR
:

4350 
	`AddToTheSh¬edAddrLi¡
 ((è
»gs
->
»gs_R
[
MD_REG_A0
], (è»gs->»gs_R[
MD_REG_A1
]);

4351 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4352 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4354 
OSF_SYS_STOPSIM
:

4355 
¡İsim
 = 1;

4356 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4357 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4359 
OSF_SYS_PRINTINSTR
:

4360 
	`årštf
 (
¡d”r
, "%Îd\n", (è
sim_num_š¢
);

4361 
	`fæush
 (
¡d”r
);

4362 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4363 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4367 
	`´štf
 ("šv®id/unim¶em’‹d sysÿÎ %ld, PC=0x%08p, RA=0x%08p, wšgšg it", 
syscode
, 
»gs
->
»gs_PC
,„egs->
»gs_R
[
MD_REG_RA
]);

4368 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4369 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4371 
	`çl
 ("šv®id/unim¶em’‹d sy¡em c®È’couÁ”ed, cod%d", 
syscode
);

4377 Ğ
syscode
 < 500 ) &&

4378 Ğ
syscode
 != 2 ) &&

4379 Ğ
syscode
 != 162 ) &&

4380 Ğ
syscode
 != 167 ) &&

4381 Ğ
syscode
 != 168 ) &&

4382 Ğ
syscode
 != 170 ) &&

4383 Ğ
syscode
 != 171 ) &&

4384 Ğ
syscode
 != 172 ) &&

4385 Ğ
syscode
 != 173 ) &&

4386 Ğ
syscode
 != 174 ) &&

4387 Ğ
syscode
 != 175 ) &&

4388 Ğ
syscode
 != 176 ) &&

4389 Ğ
syscode
 != 177 ) &&

4390 Ğ
syscode
 != 178 ) &&

4391 Ğ
syscode
 != 179 ) &&

4392 Ğ
syscode
 != 180 ) &&

4393 Ğ
syscode
 != 182 ) &&

4394 Ğ
syscode
 != 183 ) &&

4395 Ğ
syscode
 != 185 ) &&

4396 Ğ
syscode
 != 186 ) &&

4397 Ğ
syscode
 != 189 ) &&

4398 Ğ
syscode
 != 190 ) &&

4399 Ğ
syscode
 != 191 ) &&

4400 Ğ
syscode
 != 192 )

4403 ià(
sucûss
)

4404 
»gs
->
»gs_R
[
R_A3
] = 0;

4406 
»gs
->
»gs_R
[
R_A3
] = -1;

4407 
»gs
->
»gs_R
[
R_V0
] = 
»tuº_v®ue
;

4412 ià(
v”bo£
)

4413 
	`årštf
(
¡d”r
, "syscall(%d):„eturned %d:%d...\n",

4414 ()
syscode
, ()
»gs
->
»gs_R
[
MD_REG_A3
],

4415 ()
»gs
->
»gs_R
[
MD_REG_V0
]);

4417 
	}
}

4420 
	$ÿÎ_qu›sû
 (
th»adID
)

4422 
	`´štf
 ("Qu›sûÁ in¡ruùiÚ c®Ëd by %d\n", 
th»adID
);

4423 
	}
}

	@syscall.h

93 #iâdeà
SYSCALL_H


94 
	#SYSCALL_H


	)

96 
	~<sys/ty³s.h
>

97 #ifdeà
_MSC_VER


98 
	~<time.h
>

100 
	~<sys/time.h
>

103 
	~"ho¡.h
"

104 
	~"misc.h
"

105 
	~"machše.h
"

133 
	#MAXLOCK
 2048

	)

134 
	#MAXBARRIER
 512

	)

137 #ifdeà
LOCK_HARD


138 
	sLOCK_ENTRY
 {

139 
	mlock_owÃr
;

140 
	mwa™šg_li¡
[
MAXLOCK
];

141 
	mwa™šg_num
;

142 
	mwa™šg_h—d
;

143 
	mwa™šg_
;

144 } *
	gLOCK_REG
[256][
MAXLOCK
];

146 
	sBAR_ENTRY
 {

147 
	mb¬r›r_num
;

148 
	m¬rivšg_veùÜ
[256];

149 } *
	gBAR_REG
[256][
MAXBARRIER
];

151 
	sLOCK_EVENT
 {

152 
	m¤c1
;

153 
	m¤c2
;

154 
	mdes1
;

155 
	mdes2
;

156 
	mİt
;

157 
	mlock_id
;

158 
	mth»adid
;

159 
couÁ”_t
 
	mwh’
;

160 
couÁ”_t
 
	mpİÃtMsgNo
;

161 
LOCK_EVENT
 *
	mÃxt
;

163 
	#ACQUIRE
 100

	)

164 
	#RELEASE
 101

	)

165 
	#ACQ_REMOTE_ACC
 102

	)

166 
	#REL_REMOTE_ACC
 103

	)

167 
	#ACQ_ACK
 104

	)

168 
	#WAIT_ACK
 105

	)

169 
	#BAR_ACQUIRE
 106

	)

170 
	#BAR_REMOTE_ACC
 107

	)

171 
	#BAR_WAIT_ACK
 108

	)

172 
	#BAR_RELEASE
 109

	)

174 
LOCK_EVENT
 *
	glock_ev’t_queue
;

176 
lock_ev’t_’queue
(
LOCK_EVENT
 *
ev’t
);

177 
lock_ev’tq_Ãx‹v’t
();

178 
Lock_İ”©iÚ
 (
lock_id
, 
th»adid
, 
İ
);

182 
sys_sysÿÎ
(
»gs_t
 *
»gs
,

183 
mem_acûss_â
 
mem_â
,

184 
mem_t
 *
mem
,

185 
md_š¡_t
 
š¡
,

186 
ŒaûabË
);

	@syscall_old.c

134 
	~<¡dio.h
>

135 
	~<¡dlib.h
>

138 
	~"smt.h
"

140 #ifdeà
SMT_SS


141 
	~"cÚ‹xt.h
"

144 
	~"b¿nchCÜr.h
"

148 #iâdeà
MIN_SYSCALL_MODE


149 #ià
defšed
(
_MSC_VER
è|| defšed(
__CYGWIN32__
è|| defšed(
MD_CROSS_ENDIAN
)

150 
	#MIN_SYSCALL_MODE


	)

155 #ifdeà
_MSC_VER


156 
	~<io.h
>

158 
	~<uni¡d.h
>

160 
	~<fú.h
>

161 
	~<sys/ty³s.h
>

162 #iâdeà
_MSC_VER


163 
	~<sys/·¿m.h
>

165 
	~<”ºo.h
>

166 
	~<time.h
>

167 #iâdeà
_MSC_VER


168 
	~<sys/time.h
>

170 #iâdeà
_MSC_VER


171 
	~<sys/»sourû.h
>

173 
	~<sigÇl.h
>

174 #iâdeà
_MSC_VER


175 
	~<sys/fe.h
>

177 
	~<sys/¡©.h
>

178 #iâdeà
_MSC_VER


179 
	~<sys/uio.h
>

181 
	~<£tjmp.h
>

182 #iâdeà
_MSC_VER


183 
	~<sys/times.h
>

185 
	~<lim™s.h
>

186 #iâdeà
_MSC_VER


187 
	~<sys/ioùl.h
>

189 #ià
defšed
(
lšux
è|| defšed(
_AIX
)

190 
	~<utime.h
>

191 
	~<dœ’t.h
>

192 
	~<sys/vfs.h
>

194 #ià
defšed
(
_AIX
)

195 
	~<sys/¡©fs.h
>

197 #iâdeà
_MSC_VER


198 
	~<sys/mouÁ.h
>

201 #ià!
defšed
(
lšux
è&& !defšed(
¥¬c
è&& !defšed(
hpux
è&& !defšed(
__hpux
è&& !defšed(
__CYGWIN32__
è&& !defšed(
uÉrix
)

202 #iâdeà
_MSC_VER


203 
	~<sys/£Ëù.h
>

206 #ià
defšed
(
lšux
è|| defšed(
_AIX
)

207 
	~<sg‰y.h
>

208 
	~<Ãtš‘/tı.h
>

209 
	~<Ãtš‘/udp.h
>

210 
	~<Ãtš‘/š.h
>

213 #ià
defšed
(
__svr4__
)

214 
	~<sys/dœ’t.h
>

215 
	~<sys/fio.h
>

216 #–ià
defšed
(
__osf__
)

217 
	~<dœ’t.h
>

222 
g‘dœ’Œ›s
 (
fd
, *
buf
, 
nby‹s
, *
ba£p
);

225 
cŞËùStB¬r›r
, 
cŞËùStStİ
[
MAXTHREADS
], 
timeToR‘uº
;

226 
ä“zeCouÁ”
;

227 
th»adFÜked
[4];

230 
couÁ”_t
 
¦“pCouÁ
[];

233 #ià
defšed
(
MTA
)

234 
RUU_size
;

235 
RS_lšk
 *
r¦šk_ä“_li¡
;

237 #iâdeà
RSLINK_NEW


238 
	#RSLINK_NEW
(
DST
, 
RS
è\

	)

239 { 
RS_lšk
 *
	gn_lšk
; \

240 ià(!
	gr¦šk_ä“_li¡
) \

241 
·nic
("out of„s†inks"); \

242 
	gn_lšk
 = 
r¦šk_ä“_li¡
; \

243 
	gr¦šk_ä“_li¡
 = 
r¦šk_ä“_li¡
->
Ãxt
; \

244 
	gn_lšk
->
	gÃxt
 = 
NULL
; \

245 
	gn_lšk
->
	grs
 = (
RS
);‚_lšk->
	gg
 = 
n_lšk
->
rs
->
g
; \

246 (
	gDST
èğ
n_lšk
; \

249 
CV_lšk
 
CVLINK_NULL
;

251 
	#CV_BMAP_SZ
 (
	`BITMAP_SIZE
(
MD_TOTAL_REGS
))

	)

252 
´iÜ™y
[
MAXTHREADS
];

255 
key
[
MAXTHREADS
];

259 #ià
defšed
(
__svr4__
è|| defšed(
__osf__
)

260 
	~<sys/¡©vfs.h
>

261 
	#¡©fs
 
¡©vfs


	)

262 
	~<sys/time.h
>

263 
	~<utime.h
>

264 
	~<sg‰y.h
>

265 
	~<Ãtš‘/š.h
>

266 
	~<Ãtš‘/tı.h
>

269 #ià
defšed
(
¥¬c
è&& defšed(
__unix__
)

270 #ià
defšed
(
__svr4__
è|| defšed(
__USLC__
)

271 
	~<dœ’t.h
>

273 
	~<sys/dœ.h
>

277 #undeà
NL0


278 #undeà
NL1


279 #undeà
CR0


280 #undeà
CR1


281 #undeà
CR2


282 #undeà
CR3


283 #undeà
TAB0


284 #undeà
TAB1


285 #undeà
TAB2


286 #undeà
XTABS


287 #undeà
BS0


288 #undeà
BS1


289 #undeà
FF0


290 #undeà
FF1


291 #undeà
ECHO


292 #undeà
NOFLSH


293 #undeà
TOSTOP


294 #undeà
FLUSHO


295 #undeà
PENDIN


298 #ià
defšed
(
hpux
è|| defšed(
__hpux
)

299 #undeà
CR0


302 #ifdeà
__F»eBSD__


303 
	~<sys/ioùl_com·t.h
>

305 #iâdeà
_MSC_VER


306 
	~<‹rmio.h
>

310 #ià
defšed
(
hpux
è|| defšed(
__hpux
)

312 #undeà
HUPCL


313 #undeà
ECHO


314 #undeà
B50


315 #undeà
B75


316 #undeà
B110


317 #undeà
B134


318 #undeà
B150


319 #undeà
B200


320 #undeà
B300


321 #undeà
B600


322 #undeà
B1200


323 #undeà
B1800


324 #undeà
B2400


325 #undeà
B4800


326 #undeà
B9600


327 #undeà
B19200


328 #undeà
B38400


329 #undeà
NL0


330 #undeà
NL1


331 #undeà
CR0


332 #undeà
CR1


333 #undeà
CR2


334 #undeà
CR3


335 #undeà
TAB0


336 #undeà
TAB1


337 #undeà
BS0


338 #undeà
BS1


339 #undeà
FF0


340 #undeà
FF1


341 #undeà
EXTA


342 #undeà
EXTB


343 #undeà
B900


344 #undeà
B3600


345 #undeà
B7200


346 #undeà
XTABS


347 
	~<sg‰y.h
>

348 
	~<utime.h
>

351 #ifdeà
__CYGWIN32__


352 
	~<sys/uni¡d.h
>

353 
	~<sys/vfs.h
>

356 
	~<sys/sock‘.h
>

357 
	~<sys/pŞl.h
>

359 #ifdeà
_MSC_VER


360 
	#acûss
 
_acûss


	)

361 
	#chmod
 
_chmod


	)

362 
	#chdœ
 
_chdœ


	)

363 
	#uÆšk
 
_uÆšk


	)

364 
	#İ’
 
_İ’


	)

365 
	#ü—t
 
_ü—t


	)

366 
	#pe
 
_pe


	)

367 
	#dup
 
_dup


	)

368 
	#dup2
 
_dup2


	)

369 
	#¡©
 
_¡©


	)

370 
	#f¡©
 
_f¡©


	)

371 
	#l£ek
 
_l£ek


	)

372 
	#»ad
 
_»ad


	)

373 
	#wr™e
 
_wr™e


	)

374 
	#şo£
 
_şo£


	)

375 
	#g‘pid
 
_g‘pid


	)

376 
	#utime
 
_utime


	)

377 
	~<sys/utime.h
>

380 #ià
defšed
(
_AIX
)

381 
	~<¡ršgs.h
>

382 
	~<Ãtdb.h
>

383 #ià!
defšed
(
POWER_64
)

384 
æock
 (, );

388 #ià
defšed
(
__osf__
)

389 
g‘domašÇme
 (*, );

390 
æock
 (, );

391 
u¦“p
 (
u£cÚds_t
);

394 
ruu_š™
 ();

395 
lsq_š™
 ();

396 
ãtch_š™
 ();

397 
cv_š™
 ();

398 
»g_š™
 ();

399 
b´ed_š™
 ();

402 
	~"ho¡.h
"

403 
	~"misc.h
"

404 
	~"machše.h
"

405 
	~"»gs.h
"

406 
	~"memÜy.h
"

407 
	~"lßd”.h
"

408 
	~"sim.h
"

409 
	~"’dŸn.h
"

410 
	~"eio.h
"

411 
	~"sysÿÎ.h
"

412 #ià
defšed
(
MTA
)

413 
	~"MTA.h
"

416 
	#OSF_SYS_sysÿÎ
 0

	)

418 
	#OSF_SYS_fÜk
 2

	)

419 
	#OSF_SYS_»ad
 3

	)

421 
	#OSF_SYS_Şd_İ’
 5

	)

422 
	#OSF_SYS_şo£
 6

	)

423 
	#OSF_SYS_wa™4
 7

	)

424 
	#OSF_SYS_Şd_ü—t
 8

	)

425 
	#OSF_SYS_lšk
 9

	)

426 
	#OSF_SYS_uÆšk
 10

	)

427 
	#OSF_SYS_execv
 11

	)

428 
	#OSF_SYS_chdœ
 12

	)

429 
	#OSF_SYS_fchdœ
 13

	)

430 
	#OSF_SYS_mknod
 14

	)

431 
	#OSF_SYS_chmod
 15

	)

432 
	#OSF_SYS_chown
 16

	)

433 
	#OSF_SYS_ob»ak
 17

	)

434 
	#OSF_SYS_g‘fs¡©
 18

	)

435 
	#OSF_SYS_l£ek
 19

	)

436 
	#OSF_SYS_g‘pid
 20

	)

437 
	#OSF_SYS_mouÁ
 21

	)

438 
	#OSF_SYS_unmouÁ
 22

	)

439 
	#OSF_SYS_£tuid
 23

	)

440 
	#OSF_SYS_g‘uid
 24

	)

441 
	#OSF_SYS_exec_w™h_lßd”
 25

	)

442 
	#OSF_SYS_±¿û
 26

	)

443 #ifdeà 
COMPAT_43


444 
	#OSF_SYS_Äecvmsg
 27

	)

445 
	#OSF_SYS_n£ndmsg
 28

	)

446 
	#OSF_SYS_Äecväom
 29

	)

447 
	#OSF_SYS_Çcû±
 30

	)

448 
	#OSF_SYS_ng‘³”Çme
 31

	)

449 
	#OSF_SYS_ng‘sockÇme
 32

	)

451 
	#OSF_SYS_»cvmsg
 27

	)

452 
	#OSF_SYS_£ndmsg
 28

	)

453 
	#OSF_SYS_»cväom
 29

	)

454 
	#OSF_SYS_acû±
 30

	)

455 
	#OSF_SYS_g‘³”Çme
 31

	)

456 
	#OSF_SYS_g‘sockÇme
 32

	)

458 
	#OSF_SYS_acûss
 33

	)

459 
	#OSF_SYS_chæags
 34

	)

460 
	#OSF_SYS_fchæags
 35

	)

461 
	#OSF_SYS_sync
 36

	)

462 
	#OSF_SYS_kl
 37

	)

463 
	#OSF_SYS_Şd_¡©
 38

	)

464 
	#OSF_SYS_£gid
 39

	)

465 
	#OSF_SYS_Şd_l¡©
 40

	)

466 
	#OSF_SYS_dup
 41

	)

467 
	#OSF_SYS_pe
 42

	)

468 
	#OSF_SYS_£t_´og¿m_©Œibu‹s
 43

	)

469 
	#OSF_SYS_´of
 44

	)

470 
	#OSF_SYS_İ’
 45

	)

472 
	#OSF_SYS_g‘gid
 47

	)

473 
	#OSF_SYS_sig´ocmask
 48

	)

474 
	#OSF_SYS_g‘logš
 49

	)

475 
	#OSF_SYS_£ogš
 50

	)

476 
	#OSF_SYS_acù
 51

	)

477 
	#OSF_SYS_sig³ndšg
 52

	)

478 
	#OSF_SYS_ioùl
 54

	)

479 
	#OSF_SYS_»boÙ
 55

	)

480 
	#OSF_SYS_»voke
 56

	)

481 
	#OSF_SYS_symlšk
 57

	)

482 
	#OSF_SYS_»adlšk
 58

	)

483 
	#OSF_SYS_execve
 59

	)

484 
	#OSF_SYS_umask
 60

	)

485 
	#OSF_SYS_chroÙ
 61

	)

486 
	#OSF_SYS_Şd_f¡©
 62

	)

487 
	#OSF_SYS_g‘pg½
 63

	)

488 
	#OSF_SYS_g‘·gesize
 64

	)

489 
	#OSF_SYS_m»m­
 65

	)

490 
	#OSF_SYS_vfÜk
 66

	)

491 
	#OSF_SYS_¡©
 67

	)

492 
	#OSF_SYS_l¡©
 68

	)

493 
	#OSF_SYS_sbrk
 69

	)

494 
	#OSF_SYS_s¡k
 70

	)

495 
	#OSF_SYS_mm­
 71

	)

496 
	#OSF_SYS_ovadvi£
 72

	)

497 
	#OSF_SYS_munm­
 73

	)

498 
	#OSF_SYS_m´Ùeù
 74

	)

499 
	#OSF_SYS_madvi£
 75

	)

500 
	#OSF_SYS_Şd_vhªgup
 76

	)

501 
	#OSF_SYS_kmodÿÎ
 77

	)

502 
	#OSF_SYS_mšcÜe
 78

	)

503 
	#OSF_SYS_g‘groups
 79

	)

504 
	#OSF_SYS_£tgroups
 80

	)

505 
	#OSF_SYS_Şd_g‘pg½
 81

	)

506 
	#OSF_SYS_£g½
 82

	)

507 
	#OSF_SYS_£t™im”
 83

	)

508 
	#OSF_SYS_Şd_wa™
 84

	)

509 
	#OSF_SYS_bË
 85

	)

510 
	#OSF_SYS_g‘™im”
 86

	)

511 
	#OSF_SYS_g‘ho¡Çme
 87

	)

512 
	#OSF_SYS_£tho¡Çme
 88

	)

513 
	#OSF_SYS_g‘dbËsize
 89

	)

514 
	#OSF_SYS_dup2
 90

	)

515 
	#OSF_SYS_f¡©
 91

	)

516 
	#OSF_SYS_fú
 92

	)

517 
	#OSF_SYS_£Ëù
 93

	)

518 
	#OSF_SYS_pŞl
 94

	)

519 
	#OSF_SYS_fsync
 95

	)

520 
	#OSF_SYS_£riÜ™y
 96

	)

521 
	#OSF_SYS_sock‘
 97

	)

522 
	#OSF_SYS_cÚÃù
 98

	)

523 #ifdeà 
COMPAT_43


524 
	#OSF_SYS_acû±
 99

	)

526 
	#OSF_SYS_Şd_acû±
 99

	)

528 
	#OSF_SYS_g‘´iÜ™y
 100

	)

529 #ifdeà 
COMPAT_43


530 
	#OSF_SYS_£nd
 101

	)

531 
	#OSF_SYS_»cv
 102

	)

533 
	#OSF_SYS_Şd_£nd
 101

	)

534 
	#OSF_SYS_Şd_»cv
 102

	)

536 
	#OSF_SYS_sig»tuº
 103

	)

537 
	#OSF_SYS_bšd
 104

	)

538 
	#OSF_SYS_£tsockİt
 105

	)

539 
	#OSF_SYS_li¡’
 106

	)

540 
	#OSF_SYS_¶ock
 107

	)

541 
	#OSF_SYS_Şd_sigvec
 108

	)

542 
	#OSF_SYS_Şd_sigblock
 109

	)

543 
	#OSF_SYS_Şd_sig£tmask
 110

	)

544 
	#OSF_SYS_sigsu¥’d
 111

	)

545 
	#OSF_SYS_sig¡ack
 112

	)

546 #ifdeà 
COMPAT_43


547 
	#OSF_SYS_»cvmsg
 113

	)

548 
	#OSF_SYS_£ndmsg
 114

	)

550 
	#OSF_SYS_Şd_»cvmsg
 113

	)

551 
	#OSF_SYS_Şd_£ndmsg
 114

	)

554 
	#OSF_SYS_g‘timeofday
 116

	)

555 
	#OSF_SYS_g‘ru§ge
 117

	)

556 
	#OSF_SYS_g‘sockİt
 118

	)

557 
	#OSF_SYS_»adv
 120

	)

558 
	#OSF_SYS_wr™ev
 121

	)

559 
	#OSF_SYS_£‰imeofday
 122

	)

560 
	#OSF_SYS_fchown
 123

	)

561 
	#OSF_SYS_fchmod
 124

	)

562 #ifdeà 
COMPAT_43


563 
	#OSF_SYS_»cväom
 125

	)

565 
	#OSF_SYS_Şd_»cväom
 125

	)

567 
	#OSF_SYS_£Œeuid
 126

	)

568 
	#OSF_SYS_£Œegid
 127

	)

569 
	#OSF_SYS_»Çme
 128

	)

570 
	#OSF_SYS_Œunÿ‹
 129

	)

571 
	#OSF_SYS_árunÿ‹
 130

	)

572 
	#OSF_SYS_æock
 131

	)

573 
	#OSF_SYS_£tgid
 132

	)

574 
	#OSF_SYS_£ndto
 133

	)

575 
	#OSF_SYS_shutdown
 134

	)

576 
	#OSF_SYS_sock‘·œ
 135

	)

577 
	#OSF_SYS_mkdœ
 136

	)

578 
	#OSF_SYS_rmdœ
 137

	)

579 
	#OSF_SYS_utimes
 138

	)

581 
	#OSF_SYS_adjtime
 140

	)

582 #ifdeà 
COMPAT_43


583 
	#OSF_SYS_g‘³”Çme
 141

	)

585 
	#OSF_SYS_Şd_g‘³”Çme
 141

	)

587 
	#OSF_SYS_g‘ho¡id
 142

	)

588 
	#OSF_SYS_£tho¡id
 143

	)

589 
	#OSF_SYS_g‘¾im™
 144

	)

590 
	#OSF_SYS_£Œlim™
 145

	)

591 
	#OSF_SYS_Şd_kÍg
 146

	)

592 
	#OSF_SYS_£tsid
 147

	)

593 
	#OSF_SYS_quÙaùl
 148

	)

594 
	#OSF_SYS_ŞdquÙa
 149

	)

595 #ifdeà 
COMPAT_43


596 
	#OSF_SYS_g‘sockÇme
 150

	)

598 
	#OSF_SYS_Şd_g‘sockÇme
 150

	)

600 
	#OSF_SYS_pid_block
 153

	)

601 
	#OSF_SYS_pid_unblock
 154

	)

602 
	#OSF_SYS_sigaùiÚ
 156

	)

603 
	#OSF_SYS_sigwa™´im
 157

	)

604 
	#OSF_SYS_nfssvc
 158

	)

605 
	#OSF_SYS_g‘dœ’Œ›s
 159

	)

606 
	#OSF_SYS_¡©fs
 160

	)

607 
	#OSF_SYS_f¡©fs
 161

	)

608 
	#OSF_SYS_async_d«mÚ
 163

	)

609 
	#OSF_SYS_g‘fh
 164

	)

610 
	#OSF_SYS_g‘domašÇme
 165

	)

611 
	#OSF_SYS_£tdomašÇme
 166

	)

612 
	#OSF_SYS_expÜtfs
 169

	)

613 
	#OSF_SYS_®t_¶ock
 181

	)

614 
	#OSF_SYS_g‘mÁ
 184

	)

615 
	#OSF_SYS_®t_sig³ndšg
 187

	)

616 
	#OSF_SYS_®t_£tsid
 188

	)

617 
	#OSF_SYS_sw­Ú
 199

	)

618 
	#OSF_SYS_msgùl
 200

	)

619 
	#OSF_SYS_msgg‘
 201

	)

620 
	#OSF_SYS_msgrcv
 202

	)

621 
	#OSF_SYS_msg¢d
 203

	)

622 
	#OSF_SYS_£mùl
 204

	)

623 
	#OSF_SYS_£mg‘
 205

	)

624 
	#OSF_SYS_£mİ
 206

	)

625 
	#OSF_SYS_uÇme
 207

	)

626 
	#OSF_SYS_lchown
 208

	)

627 
	#OSF_SYS_shm©
 209

	)

628 
	#OSF_SYS_shmùl
 210

	)

629 
	#OSF_SYS_shmdt
 211

	)

630 
	#OSF_SYS_shmg‘
 212

	)

631 
	#OSF_SYS_mv®id
 213

	)

632 
	#OSF_SYS_g‘add»sscÚf
 214

	)

633 
	#OSF_SYS_m¦“p
 215

	)

634 
	#OSF_SYS_mwakeup
 216

	)

635 
	#OSF_SYS_msync
 217

	)

636 
	#OSF_SYS_sigÇl
 218

	)

637 
	#OSF_SYS_utc_g‘time
 219

	)

638 
	#OSF_SYS_utc_adjtime
 220

	)

639 
	#OSF_SYS_£cur™y
 222

	)

640 
	#OSF_SYS_klßdÿÎ
 223

	)

641 
	#OSF_SYS_g‘pgid
 233

	)

642 
	#OSF_SYS_g‘sid
 234

	)

643 
	#OSF_SYS_sig®t¡ack
 235

	)

644 
	#OSF_SYS_wa™id
 236

	)

645 
	#OSF_SYS_´ioú£t
 237

	)

646 
	#OSF_SYS_sig£nd£t
 238

	)

647 
	#OSF_SYS_£t_¥ecuÏtive
 239

	)

648 
	#OSF_SYS_msfs_sysÿÎ
 240

	)

649 
	#OSF_SYS_sysšfo
 241

	)

650 
	#OSF_SYS_uadmš
 242

	)

651 
	#OSF_SYS_fu£r
 243

	)

652 
	#OSF_SYS_´İli¡_sysÿÎ
 244

	)

653 
	#OSF_SYS_Áp_adjtime
 245

	)

654 
	#OSF_SYS_Áp_g‘time
 246

	)

655 
	#OSF_SYS_·thcÚf
 247

	)

656 
	#OSF_SYS_å©hcÚf
 248

	)

657 
	#OSF_SYS_usw™ch
 250

	)

658 
	#OSF_SYS_u¦“p_th»ad
 251

	)

659 
	#OSF_SYS_audú
 252

	)

660 
	#OSF_SYS_audg’
 253

	)

661 
	#OSF_SYS_sysfs
 254

	)

662 
	#OSF_SYS_subOSF_SYS_šfo
 255

	)

663 
	#OSF_SYS_g‘sysšfo
 256

	)

664 
	#OSF_SYS_£tsysšfo
 257

	)

665 
	#OSF_SYS_afs_sysÿÎ
 258

	)

666 
	#OSF_SYS_sw­ùl
 259

	)

667 
	#OSF_SYS_memú
 260

	)

668 
	#OSF_SYS_fd©async
 261

	)

669 #ià
defšed
(
MTA
)

670 
	#OSF_SYS_g‘th»adid
 500

	)

671 
	#OSF_SYS_š™_¡¬t
 501

	)

672 
	#OSF_SYS_š™
 502

	)

673 
	#OSF_SYS_š™_com¶‘e
 503

	)

674 
	#OSF_SYS_di¡ribu‹
 504

	)

675 
	#OSF_SYS_time
 505

	)

677 
	#OSF_SYS_lock_acquœe
 507

	)

678 
	#OSF_SYS_lock_»Ëa£
 508

	)

679 
	#OSF_SYS_æag_acquœe
 509

	)

680 
	#OSF_SYS_æag_»Ëa£
 510

	)

681 
	#OSF_SYS_šc_æag
 511

	)

682 
	#OSF_SYS_pŞl_æag
 512

	)

683 
	#OSF_SYS_wa™_gt_æag
 513

	)

684 
	#OSF_SYS_wa™_É_æag
 514

	)

686 
	#OSF_SYS_´štf
 516

	)

687 
	#OSF_SYS_MTA_h®t
 517

	)

688 
	#OSF_SYS_b¬r›r
 518

	)

689 
	#OSF_SYS_memÜy_·ge_round
 519

	)

690 
	#OSF_SYS_MTA_¡¬t
 520

	)

691 
	#OSF_SYS_WAIT
 521

	)

692 
	#OSF_SYS_STATS
 530

	)

694 
	#OSF_SYS_BARRIER_STATS
 531

	)

695 
	#OSF_SYS_LOCK_STATS
 532

	)

697 
	#OSF_SYS_BARRIER_INSTR
 533

	)

698 
	#OSF_SYS_QUEISCE
 534

	)

699 
	#OSF_SYS_FASTFWD
 550

	)

700 
	#OSF_SYS_RANDOM
 551

	)

701 
	#OSF_SYS_MEM
 552

	)

702 
	#OSF_SYS_PRINTGP
 553

	)

703 
	#OSF_SYS_SHDADDR
 554

	)

704 
	#OSF_SYS_STOPSIM
 555

	)

705 
	#OSF_SYS_PRINTINSTR
 556

	)

706 
	#OSF_SYS_LOCKADDR
 557

	)

707 
	#OSF_SYS_IDEAL_LOCKACQ
 558

	)

708 
	#OSF_SYS_IDEAL_LOCKREL
 559

	)

709 
	#OSF_SYS_IDEAL_BAR
 560

	)

713 #ifdeà
LOCK_OPTI


714 
md_addr_t
 
	glock_addr
[
MAXTHREADS
][
MAXLOCK
];

715 
	glock_
[
MAXTHREADS
];

717 
FILE
 *
å_Œaû
;

720 
	gLock_Acquœe
[
MAXLOCK
] = {0};

721 
	gLock_wa™_id
[
MAXLOCK
][MAXLOCK];

722 
	gLock_h—d
[
MAXLOCK
];

723 
	gLock_
[
MAXLOCK
];

724 
	gLock_wa™_num
[
MAXLOCK
];

725 
	glock_wa™šg
[
MAXTHREADS
];

728 
	gB¬r›r_æag
[
MAXTHREADS
];

729 
	gB¬r›r_num
[
MAXBARRIER
];

730 
	gb¬r›r_‹mp
 = 0;

731 
	gb¬r›r_wa™šg
[
MAXTHREADS
];

733 
couÁ”_t
 
TÙ®B¬r›rs
;

734 
couÁ”_t
 
TÙ®Locks
;

735 
g’”®_¡©
 (
id
);

736 
MTA_´štInfo
 (
id
);

737 
	gtmpNum
;

738 
numTh»ads
[
CLUSTERS
];

739 
m_maxth»ads
;

740 
cŞËù_¡©s
;

741 
æushImpSts
;

743 
cŞËù_b¬r›r_¡©s
[
CLUSTERS
];

744 
cŞËù_b¬r›r_»Ëa£
;

745 
md_addr_t
 
	gb¬r›r_addr
;

746 
	gcŞËù_b¬r›r_¡©s_own
[
CLUSTERS
];

747 
cŞËù_lock_¡©s
[
CLUSTERS
];

748 
md_addr_t
 
LockIn™PC
;

749 
couÁ”_t
 
sim_cyşe
;

750 
¡¬tTakšgSti¡ics
;

751 
cu¼’tPha£
;

752 
couÁ”_t
 
·¿Î–_sim_cyşe
;

753 
qu›sûSŒuù
 
qu›sûAddrSŒuù
[
CLUSTERS
];

754 
æushWr™eBufãr
 (
th»adid
);

755 
ç¡fwd
;

756 
¡İsim
;

757 
acûss_mem
;

758 
acûss_mem_id
;

759 
ÿche_t
 *
ÿche_dl1
[
CLUSTERS
];

762 
	sxÏ‹_bË_t


764 
	mrg‘_v®
;

765 
	mho¡_v®
;

769 
	$xÏ‹_¬g
 (
rg‘_v®
, 
xÏ‹_bË_t
 *
m­
, 
m­_sz
, *
Çme
)

771 
i
;

773 
i
 = 0; i < 
m­_sz
; i++)

775 ià(
rg‘_v®
 =ğ
m­
[
i
].target_val)

776  
m­
[
i
].
ho¡_v®
;

780 
	`w¬n
 ("could‚Ù¿n¦©¬gum’ˆfÜ `%s': %d", 
Çme
, 
rg‘_v®
);

781  
rg‘_v®
;

782 
	}
}

786 
	#MAXBUFSIZE
 1024

	)

792 
	#NUM_IOCTL_BYTES
 128

	)

795 
	#OSF_TIOCGETP
 0x40067408

	)

796 
	#OSF_FIONREAD
 0x4004667f

	)

800 
	sosf_¡©buf


802 
wÜd_t
 
	mosf_¡_dev
;

803 
wÜd_t
 
	mosf_¡_šo
;

804 
wÜd_t
 
	mosf_¡_mode
;

805 
h®f_t
 
	mosf_¡_Æšk
;

806 
h®f_t
 
	m·d0
;

807 
wÜd_t
 
	mosf_¡_uid
;

808 
wÜd_t
 
	mosf_¡_gid
;

809 
wÜd_t
 
	mosf_¡_rdev
;

810 
wÜd_t
 
	m·d1
;

811 
qwÜd_t
 
	mosf_¡_size
;

812 
wÜd_t
 
	mosf_¡_©ime
;

813 
wÜd_t
 
	mosf_¡_¥¬e1
;

814 
wÜd_t
 
	mosf_¡_mtime
;

815 
wÜd_t
 
	mosf_¡_¥¬e2
;

816 
wÜd_t
 
	mosf_¡_ùime
;

817 
wÜd_t
 
	mosf_¡_¥¬e3
;

818 
wÜd_t
 
	mosf_¡_blksize
;

819 
wÜd_t
 
	mosf_¡_blocks
;

820 
wÜd_t
 
	mosf_¡_g’num
;

821 
wÜd_t
 
	mosf_¡_¥¬e4
;

824 
	sosf_sg‰yb


826 
by‹_t
 
	msg_i¥“d
;

827 
by‹_t
 
	msg_o¥“d
;

828 
by‹_t
 
	msg_”a£
;

829 
by‹_t
 
	msg_kl
;

830 
sh®f_t
 
	msg_æags
;

833 
	#OSF_NSIG
 32

	)

835 
	#OSF_SIG_BLOCK
 1

	)

836 
	#OSF_SIG_UNBLOCK
 2

	)

837 
	#OSF_SIG_SETMASK
 3

	)

839 
	sosf_sigcÚ‹xt


841 
qwÜd_t
 
	msc_Ú¡ack
;

842 
qwÜd_t
 
	msc_mask
;

843 
qwÜd_t
 
	msc_pc
;

844 
qwÜd_t
 
	msc_ps
;

845 
qwÜd_t
 
	msc_»gs
[32];

846 
qwÜd_t
 
	msc_owÃdå
;

847 
qwÜd_t
 
	msc_å»gs
[32];

848 
qwÜd_t
 
	msc_åü
;

849 
qwÜd_t
 
	msc_å_cÚŒŞ
;

852 
	sosf_¡©fs


854 
sh®f_t
 
	mf_ty³
;

855 
sh®f_t
 
	mf_æags
;

856 
wÜd_t
 
	mf_fsize
;

857 
wÜd_t
 
	mf_bsize
;

858 
wÜd_t
 
	mf_blocks
;

860 
wÜd_t
 
	mf_bä“
;

861 
wÜd_t
 
	mf_bava
;

862 
wÜd_t
 
	mf_fes
;

863 
wÜd_t
 
	mf_fä“
;

864 
qwÜd_t
 
	mf_fsid
;

865 
wÜd_t
 
	mf_¥¬e
[9];

868 
	sosf_timev®


870 
swÜd_t
 
	mosf_tv_£c
;

871 
swÜd_t
 
	mosf_tv_u£c
;

874 
	sosf_timezÚe


876 
swÜd_t
 
	mosf_tz_mšu‹swe¡
;

877 
swÜd_t
 
	mosf_tz_d¡time
;

882 
	sosf_ru§ge


884 
osf_timev®
 
	mosf_ru_utime
;

885 
osf_timev®
 
	mosf_ru_¡ime
;

886 
swÜd_t
 
	mosf_ru_maxrss
;

887 
swÜd_t
 
	mosf_ru_ixrss
;

888 
swÜd_t
 
	mosf_ru_idrss
;

889 
swÜd_t
 
	mosf_ru_i¤ss
;

890 
swÜd_t
 
	mosf_ru_mšæt
;

891 
swÜd_t
 
	mosf_ru_majæt
;

892 
swÜd_t
 
	mosf_ru_nsw­
;

893 
swÜd_t
 
	mosf_ru_šblock
;

894 
swÜd_t
 
	mosf_ru_oublock
;

895 
swÜd_t
 
	mosf_ru_msg¢d
;

896 
swÜd_t
 
	mosf_ru_msgrcv
;

897 
swÜd_t
 
	mosf_ru_nsigÇls
;

898 
swÜd_t
 
	mosf_ru_nvcsw
;

899 
swÜd_t
 
	mosf_ru_nivcsw
;

902 
	sosf_¾im™


904 
qwÜd_t
 
	mosf_¾im_cur
;

905 
qwÜd_t
 
	mosf_¾im_max
;

908 
	sosf_sockaddr


910 
h®f_t
 
	m§_çmy
;

911 
by‹_t
 
	m§_d©a
[24];

914 
	sosf_iovec


916 
md_addr_t
 
	miov_ba£
;

917 
wÜd_t
 
	miov_Ën
;

918 
wÜd_t
 
	m·d
;

922 
	#OSF_DIRENT_SZ
(
STR
è\

	)

923 ((
	gwÜd_t
è+ 2*(
	gh®f_t
è+ (((
¡¾’
(
STR
) + 1) + 3)/4)*4)

926 
	sosf_dœ’t


928 
wÜd_t
 
	md_šo
;

929 
h®f_t
 
	md_»ş’
;

930 
h®f_t
 
	md_ÇmËn
;

931 
	md_Çme
[256];

941 
	#OSF_O_RDONLY
 0x0000

	)

942 
	#OSF_O_WRONLY
 0x0001

	)

943 
	#OSF_O_RDWR
 0x0002

	)

944 
	#OSF_O_NONBLOCK
 0x0004

	)

945 
	#OSF_O_APPEND
 0x0008

	)

946 
	#OSF_O_CREAT
 0x0200

	)

947 
	#OSF_O_TRUNC
 0x0400

	)

948 
	#OSF_O_EXCL
 0x0800

	)

949 
	#OSF_O_NOCTTY
 0x1000

	)

950 
	#OSF_O_SYNC
 0x4000

	)

955 
	mosf_æag
;

956 
	mloÿl_æag
;

957 } 
	gosf_æag_bË
[] =

960 #ifdeà
_MSC_VER


962 
OSF_O_RDONLY
, 
_O_RDONLY
},

964 
OSF_O_WRONLY
, 
_O_WRONLY
},

966 
OSF_O_RDWR
, 
_O_RDWR
},

968 
OSF_O_APPEND
, 
_O_APPEND
},

970 
OSF_O_CREAT
, 
_O_CREAT
},

972 
OSF_O_TRUNC
, 
_O_TRUNC
},

974 
OSF_O_EXCL
, 
_O_EXCL
},

975 #ifdeà
_O_NONBLOCK


977 
OSF_O_NONBLOCK
, 
_O_NONBLOCK
},

979 #ifdeà
_O_NOCTTY


981 
OSF_O_NOCTTY
, 
_O_NOCTTY
},

983 #ifdeà
_O_SYNC


985 
OSF_O_SYNC
, 
_O_SYNC
},

989 
OSF_O_RDONLY
, 
O_RDONLY
},

991 
OSF_O_WRONLY
, 
O_WRONLY
},

993 
OSF_O_RDWR
, 
O_RDWR
},

995 
OSF_O_APPEND
, 
O_APPEND
},

997 
OSF_O_CREAT
, 
O_CREAT
},

999 
OSF_O_TRUNC
, 
O_TRUNC
},

1001 
OSF_O_EXCL
, 
O_EXCL
},

1003 
OSF_O_NONBLOCK
, 
O_NONBLOCK
},

1005 
OSF_O_NOCTTY
, 
O_NOCTTY
},

1006 #ifdeà
O_SYNC


1008 
OSF_O_SYNC
, 
O_SYNC
},

1013 
	#OSF_NFLAGS
 ((
osf_æag_bË
)/(osf_æag_bË[0]))

	)

1016 
qwÜd_t
 
	gSigMask
 = 0;

1018 
qwÜd_t
 
	gsigaùiÚ_¬¿y
[
OSF_NSIG
] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

1021 
	#OSF_SO_DEBUG
 0x0001

	)

1022 
	#OSF_SO_ACCEPTCONN
 0x0002

	)

1023 
	#OSF_SO_REUSEADDR
 0x0004

	)

1024 
	#OSF_SO_KEEPALIVE
 0x0008

	)

1025 
	#OSF_SO_DONTROUTE
 0x0010

	)

1026 
	#OSF_SO_BROADCAST
 0x0020

	)

1027 
	#OSF_SO_USELOOPBACK
 0x0040

	)

1028 
	#OSF_SO_LINGER
 0x0080

	)

1029 
	#OSF_SO_OOBINLINE
 0x0100

	)

1030 
	#OSF_SO_REUSEPORT
 0x0200

	)

1032 
xÏ‹_bË_t
 
	gsockİt_m­
[] = {

1033 {
OSF_SO_DEBUG
, 
SO_DEBUG
},

1034 #ifdeà
SO_ACCEPTCONN


1035 {
OSF_SO_ACCEPTCONN
, 
SO_ACCEPTCONN
},

1037 {
OSF_SO_REUSEADDR
, 
SO_REUSEADDR
},

1038 {
OSF_SO_KEEPALIVE
, 
SO_KEEPALIVE
},

1039 {
OSF_SO_DONTROUTE
, 
SO_DONTROUTE
},

1040 {
OSF_SO_BROADCAST
, 
SO_BROADCAST
},

1041 #ifdeà
SO_USELOOPBACK


1042 {
OSF_SO_USELOOPBACK
, 
SO_USELOOPBACK
},

1044 {
OSF_SO_LINGER
, 
SO_LINGER
},

1045 {
OSF_SO_OOBINLINE
, 
SO_OOBINLINE
},

1046 #ifdeà
SO_REUSEPORT


1047 {
OSF_SO_REUSEPORT
, 
SO_REUSEPORT
}

1052 
	#OSF_TCP_NODELAY
 0x01

	)

1053 
	#OSF_TCP_MAXSEG
 0x02

	)

1054 
	#OSF_TCP_RPTR2RXT
 0x03

	)

1055 
	#OSF_TCP_KEEPIDLE
 0x04

	)

1056 
	#OSF_TCP_KEEPINTVL
 0x05

	)

1057 
	#OSF_TCP_KEEPCNT
 0x06

	)

1058 
	#OSF_TCP_KEEPINIT
 0x07

	)

1059 
	#OSF_TCP_PUSH
 0x08

	)

1060 
	#OSF_TCP_NODELACK
 0x09

	)

1062 
xÏ‹_bË_t
 
	gtıİt_m­
[] = {

1063 {
OSF_TCP_NODELAY
, 
TCP_NODELAY
},

1064 {
OSF_TCP_MAXSEG
, 
TCP_MAXSEG
},

1065 #ifdeà
TCP_RPTR2RXT


1066 {
OSF_TCP_RPTR2RXT
, 
TCP_RPTR2RXT
},

1068 #ifdeà
TCP_KEEPIDLE


1069 {
OSF_TCP_KEEPIDLE
, 
TCP_KEEPIDLE
},

1071 #ifdeà
TCP_KEEPINTVL


1072 {
OSF_TCP_KEEPINTVL
, 
TCP_KEEPINTVL
},

1074 #ifdeà
TCP_KEEPCNT


1075 {
OSF_TCP_KEEPCNT
, 
TCP_KEEPCNT
},

1077 #ifdeà
TCP_KEEPINIT


1078 {
OSF_TCP_KEEPINIT
, 
TCP_KEEPINIT
},

1080 #ifdeà
TCP_PUSH


1081 {
OSF_TCP_PUSH
, 
TCP_PUSH
},

1083 #ifdeà
TCP_NODELACK


1084 {
OSF_TCP_NODELACK
, 
TCP_NODELACK
}

1089 
	#OSF_SOL_SOCKET
 0xfffà

	)

1090 
	#OSF_SOL_IP
 0

	)

1091 
	#OSF_SOL_TCP
 6

	)

1092 
	#OSF_SOL_UDP
 17

	)

1094 
xÏ‹_bË_t
 
	gsockËv–_m­
[] = {

1095 #ià
defšed
(
__svr4__
è|| defšed(
__osf__
è|| defšed(
_AIX
)

1096 {
OSF_SOL_SOCKET
, 
SOL_SOCKET
},

1097 {
OSF_SOL_IP
, 
IPPROTO_IP
},

1098 {
OSF_SOL_TCP
, 
IPPROTO_TCP
},

1099 {
OSF_SOL_UDP
, 
IPPROTO_UDP
}

1101 {
OSF_SOL_SOCKET
, 
SOL_SOCKET
},

1102 {
OSF_SOL_IP
, 
SOL_IP
},

1103 {
OSF_SOL_TCP
, 
SOL_TCP
},

1104 {
OSF_SOL_UDP
, 
SOL_UDP
}

1109 
	#OSF_AF_UNSPEC
 0

	)

1110 
	#OSF_AF_UNIX
 1

	)

1111 
	#OSF_AF_INET
 2

	)

1112 
	#OSF_AF_IMPLINK
 3

	)

1113 
	#OSF_AF_PUP
 4

	)

1114 
	#OSF_AF_CHAOS
 5

	)

1115 
	#OSF_AF_NS
 6

	)

1116 
	#OSF_AF_ISO
 7

	)

1118 
xÏ‹_bË_t
 
	gçmy_m­
[] = {

1119 {
OSF_AF_UNSPEC
, 
AF_UNSPEC
},

1120 {
OSF_AF_UNIX
, 
AF_UNIX
},

1121 {
OSF_AF_INET
, 
AF_INET
},

1122 #ifdeà
AF_IMPLINK


1123 {
OSF_AF_IMPLINK
, 
AF_IMPLINK
},

1125 #ifdeà
AF_PUP


1126 {
OSF_AF_PUP
, 
AF_PUP
},

1128 #ifdeà
AF_CHAOS


1129 {
OSF_AF_CHAOS
, 
AF_CHAOS
},

1131 #ifdeà
AF_NS


1132 {
OSF_AF_NS
, 
AF_NS
},

1134 #ifdeà
AF_ISO


1135 {
OSF_AF_ISO
, 
AF_ISO
}

1140 
	#OSF_SOCK_STREAM
 1

	)

1141 
	#OSF_SOCK_DGRAM
 2

	)

1142 
	#OSF_SOCK_RAW
 3

	)

1143 
	#OSF_SOCK_RDM
 4

	)

1144 
	#OSF_SOCK_SEQPACKET
 5

	)

1146 
xÏ‹_bË_t
 
	gsockty³_m­
[] = {

1147 {
OSF_SOCK_STREAM
, 
SOCK_STREAM
},

1148 {
OSF_SOCK_DGRAM
, 
SOCK_DGRAM
},

1149 {
OSF_SOCK_RAW
, 
SOCK_RAW
},

1150 {
OSF_SOCK_RDM
, 
SOCK_RDM
},

1151 {
OSF_SOCK_SEQPACKET
, 
SOCK_SEQPACKET
}

1155 
	#OSF_TBL_SYSINFO
 12

	)

1156 
	sosf_tbl_sysšfo


1158 
	msi_u£r
;

1159 
	msi_niû
;

1160 
	msi_sys
;

1161 
	msi_idË
;

1162 
	msi_hz
;

1163 
	msi_phz
;

1164 
	msi_boÙtime
;

1165 
	mwa™
;

1169 
	$AddToTheSh¬edAddrLi¡
 (
addr
, 
size
)

1171 
sh¬edAdd»ssLi¡_s
 *
tmpPŒ1
, *
tmpPŒ2
;

1172 
šdx
;

1174 
šdx
 = (è(((è
addr
 & 1016) >> 3);

1175 
šdx
 = 0;

1177 ià(
sh¬edAdd»ssLi¡
[
šdx
] =ğ
NULL
)

1179 
sh¬edAdd»ssLi¡
[
šdx
] = (
sh¬edAdd»ssLi¡_s
 *è
	`m®loc
 ( (sharedAddressList_s));

1180 
sh¬edAdd»ssLi¡
[
šdx
]->
add»ss
 = 
addr
;

1181 
sh¬edAdd»ssLi¡
[
šdx
]->
size
 = size;

1182 
sh¬edAdd»ssLi¡
[
šdx
]->
Ãxt
 = 
NULL
;

1186 
tmpPŒ1
 = 
sh¬edAdd»ssLi¡
[
šdx
];

1187 
tmpPŒ2
 = 
sh¬edAdd»ssLi¡
[
šdx
];

1188 
tmpPŒ1
 !ğ
NULL
)

1190 
tmpPŒ2
 = 
tmpPŒ1
;

1191 
tmpPŒ1
 =mpPŒ1->
Ãxt
;

1193 
tmpPŒ2
->
Ãxt
 = (
sh¬edAdd»ssLi¡_s
 *è
	`m®loc
 ( (sharedAddressList_s));

1194 
tmpPŒ2
->
Ãxt
->
add»ss
 = 
addr
;

1195 
tmpPŒ2
->
Ãxt
->
size
 = size;

1196 
tmpPŒ2
->
Ãxt
->Ãxˆğ
NULL
;

1199 
tmpPŒ1
 = 
sh¬edAdd»ssLi¡
;

1200 
tmpPŒ1
 !ğ
NULL
)

1202 
	`´štf
 ("Add¸ğ%Îx, Sizğ%d\n", (è
addr
, (è
size
);

1203 
tmpPŒ1
 =mpPŒ1->
Ãxt
;

1206 
	}
}

1208 #ià
defšed
(
MTA
)

1210 
	$´št_¡©s
 (
cÚ‹xt
 * 
cu¼’t
)

1212 
	`´štf
 ("TÙ®‚umb” oàš¡ruùiÚ execu‹d = %d (%d)\n", 
cu¼’t
->
sim_num_š¢
, cu¼’t->
id
);

1215 
	}
}

1218 
	$In™ŸlizeRUU
 (
cÚ‹xt
 * 
de¡
, cÚ‹xˆ* 
¤c
)

1220 
út
, 
i
, 
RUUIndx
;

1221 
RUU_¡©iÚ
 *
RUUDe¡
, *
RUUSrc
, *
rs
;

1222 
RS_lšk
 *
lšk
, *
Ãwlšk
;

1225 
RS_lšk
 *
‹mpRS
;

1228 
i
 = 0; i < 
RUU_size
; i++)

1230 
	`´štf
 ("Index oà%d = %d, IR = %lx\n", 
i
, 
¤c
->
RUU
[i].
šdex
, src->RUU[i].
IR
);

1231 
‹mpRS
 = 
¤c
->
RUU
[
i
].
od•_li¡
[1];

1232 
‹mpRS
 !ğ
NULL
)

1234 
	`´štf
 ("X = %d ", 
‹mpRS
->
rs
->
šdex
);

1235 
‹mpRS
 =empRS->
Ãxt
;

1237 
	`´štf
 ("\n");

1242 
út
 = 0; cÁ < 
RUU_size
; cnt++)

1244 
RUUDe¡
 = &(
de¡
->
RUU
[
út
]);

1245 
RUUSrc
 = &(
¤c
->
RUU
[
út
]);

1247 
RUUDe¡
->
šdex
 = 
RUUSrc
->index;

1248 
RUUDe¡
->
th»adid
 = 
de¡
->
id
;

1249 
RUUDe¡
->
IR
 = 
RUUSrc
->IR;

1250 
RUUDe¡
->
İ
 = 
RUUSrc
->op;

1251 
RUUDe¡
->
PC
 = 
RUUSrc
->PC;

1252 
RUUDe¡
->
Ãxt_PC
 = 
RUUSrc
->next_PC;

1253 
RUUDe¡
->
´ed_PC
 = 
RUUSrc
->pred_PC;

1254 
RUUDe¡
->
š_LSQ
 = 
RUUSrc
->in_LSQ;

1255 
RUUDe¡
->
—_comp
 = 
RUUSrc
->ea_comp;

1256 
RUUDe¡
->
»cov”_š¡
 = 
RUUSrc
->recover_inst;

1257 
RUUDe¡
->
¡ack_»cov”_idx
 = 
RUUSrc
->stack_recover_idx;

1259 
	`´štf
 ("YOU HAVE NOT INITALIZED BRANCH PREDICTOR INFO IN RUU RESULTS MAY NOT CORRECT\n");

1260 
RUUDe¡
->
¥ec_mode
 = 
RUUSrc
->spec_mode;

1261 
RUUDe¡
->
addr
 = 
RUUSrc
->addr;

1262 
RUUDe¡
->
g
 = 
RUUSrc
->tag;

1263 
RUUDe¡
->
£q
 = 
RUUSrc
->seq;

1264 
RUUDe¡
->
±¿û_£q
 = 
RUUSrc
->ptrace_seq;

1265 
RUUDe¡
->
queued
 = 
RUUSrc
->queued;

1266 
RUUDe¡
->
issued
 = 
RUUSrc
->issued;

1267 
RUUDe¡
->
com¶‘ed
 = 
RUUSrc
->completed;

1271 
RUUDe¡
->
v®_¿
 = 
RUUSrc
->val_ra;

1272 
RUUDe¡
->
v®_rb
 = 
RUUSrc
->val_rb;

1273 
RUUDe¡
->
v®_rc
 = 
RUUSrc
->val_rc;

1274 
RUUDe¡
->
v®_¿_»suÉ
 = 
RUUSrc
->val_ra_result;

1277 
RUUDe¡
->
Úames
[0] = 
RUUSrc
->onames[0];

1278 
RUUDe¡
->
Úames
[1] = 
RUUSrc
->onames[1];

1287 
i
 = 0; i < 
MAX_ODEPS
; i++)

1289 
lšk
 = 
RUUSrc
->
od•_li¡
[
i
];

1290 
lšk
)

1292 
RUUIndx
 = 
lšk
->
rs
->
šdex
;

1293 
rs
 = &(
de¡
->
RUU
[
RUUIndx
]);

1294 
	`RSLINK_NEW
 (
Ãwlšk
, 
rs
);

1295 
Ãwlšk
->
x
.
wh’
 = 
lšk
->x.when;

1297 
Ãwlšk
->
Ãxt
 = 
RUUDe¡
->
od•_li¡
[
i
];

1298 
RUUDe¡
->
od•_li¡
[
i
] = 
Ãwlšk
;

1299 
lšk
 =†šk->
Ãxt
;

1302 
i
 = 0; i < 
MAX_IDEPS
; i++)

1304 
RUUDe¡
->
id•_»ady
[
i
] = 
RUUSrc
->idep_ready[i];

1305 
RUUDe¡
->
wh’_id•_»ady
[
i
] = 
RUUSrc
->when_idep_ready[i];

1306 
RUUDe¡
->
id•_Çme
[
i
] = 
RUUSrc
->idep_name[i];

1307 ià(
RUUSrc
->
´od
[
i
])

1308 
RUUDe¡
->
´od
[
i
] = &(
de¡
->
RUU
[
RUUSrc
->´od[i]->
šdex
]);

1310 
RUUDe¡
->
´od
[
i
] = 
NULL
;

1313 
RUUDe¡
->
di¥_time
 = 
RUUSrc
->disp_time;

1314 
RUUDe¡
->
fšish_time
 = 
RUUSrc
->finish_time;

1315 
RUUDe¡
->
issue_time
 = 
RUUSrc
->issue_time;

1316 
RUUDe¡
->
out1
 = 
RUUSrc
->out1;

1319 
RUUDe¡
->
Şd´eg
 = 
RUUSrc
->oldpreg;

1321 
RUUDe¡
->
İ»g
 = 
RUUSrc
->opreg;

1324 
RUUDe¡
->
şu¡”
 = 
RUUSrc
->cluster;

1325 
i
 = 0; i < 
MAX_IDEPS
; i++)

1327 
RUUDe¡
->
wh’_»ady
[
i
] = 
RUUSrc
->when_ready[i];

1329 
RUUDe¡
->
wh’_šq
 = 
RUUSrc
->when_inq;

1330 
RUUDe¡
->
pbªk
 = 
RUUSrc
->pbank;

1331 
RUUDe¡
->
abªk
 = 
RUUSrc
->abank;

1332 
RUUDe¡
->
š_qwa™
 = 
RUUSrc
->in_qwait;

1333 
RUUDe¡
->
ä“d
 = 
RUUSrc
->freed;

1334 
RUUDe¡
->
»g
[0] = 
RUUSrc
->ipreg[0];

1335 
RUUDe¡
->
»g
[1] = 
RUUSrc
->ipreg[1];

1336 
RUUDe¡
->
»g
[2] = 
RUUSrc
->ipreg[2];

1337 
i
 = 0; i < 
CLUSTERS
; i++)

1339 
RUUDe¡
->
¡_»ach
[
i
] = 
RUUSrc
->st_reach[i];

1341 
RUUDe¡
->
š¡num
 = 
RUUSrc
->instnum;

1342 
RUUDe¡
->
di¡issue
 = 
RUUSrc
->distissue;

1346 
	}
}

1348 #ifdeà
LOCK_HARD


1349 
mesh_size
;

1350 
	#MEM_LOC_SHIFT
 1

	)

1351 
	#WAIT_TIME
 800000000

	)

1352 
	$lock_ev’t_’queue
(
LOCK_EVENT
 *
ev’t
)

1354 
LOCK_EVENT
 *
ev
, *
´ev
;

1356 
´ev
 = 
NULL
, 
ev
 = 
lock_ev’t_queue
;ƒv && (Óv->
wh’
è<ğ(
ev’t
->wh’));…»v =ƒv,ƒv =ƒv->
Ãxt
);

1357 ià(
´ev
)

1359 
ev’t
->
Ãxt
 = 
ev
;

1360 
´ev
->
Ãxt
 = 
ev’t
;

1364 
ev’t
->
Ãxt
 = 
lock_ev’t_queue
;

1365 
lock_ev’t_queue
 = 
ev’t
;

1367 
	}
}

1368 
	$lock_ev’tq_Ãx‹v’t
()

1370 
LOCK_EVENT
 *
ev’t
, *
ev
, *
Ãxt
, *
´ev
;

1371 
i
, 
š£¹_æag
 = 0;

1372 
ev’t
 = 
lock_ev’t_queue
;

1373 
ev
 = 
NULL
;

1374 
ev’t
!=
NULL
)

1376 
Ãxt
 = 
ev’t
->next;

1378 ià(
ev’t
->
wh’
 <ğ
sim_cyşe
)

1380 if(
ev’t
 =ğ
lock_ev’t_queue
)

1382 
lock_ev’t_queue
 = 
ev’t
->
Ãxt
;

1383 
ev’t
->
Ãxt
 = 
NULL
;

1384 
	`SyncO³¿tiÚ
(
ev’t
->
lock_id
,ƒv’t->
th»adid
,ƒv’t->
İt
);

1385 
´ev
 = 
ev’t
;

1386 
	`ä“
(
´ev
);

1387 
ev’t
 = 
lock_ev’t_queue
;

1391 
ev
->
Ãxt
 = 
ev’t
->next;

1392 
ev’t
->
Ãxt
 = 
NULL
;

1393 
	`SyncO³¿tiÚ
(
ev’t
->
lock_id
,ƒv’t->
th»adid
,ƒv’t->
İt
);

1394 
´ev
 = 
ev’t
;

1395 
	`ä“
(
´ev
);

1396 
ev’t
 = 
ev
->
Ãxt
;

1401 
ev
 = 
ev’t
;

1402 
ev’t
 =ƒv’t->
Ãxt
;

1406 
	}
}

1409 
	$SyncO³¿tiÚ
 (
lock_id
, 
th»adid
, 
İ
)

1411 
lock_node
 = 
lock_id
%
numcÚ‹xts
;

1412 
lock_addr
 = 
lock_id
/
numcÚ‹xts
;

1413 
b¬_node
 = 
lock_node
;

1414 
b¬_addr
 = 
lock_addr
;

1415 
İ
)

1417 
BAR_ACQUIRE
:

1418 
cŞËù_b¬r›r_¡©s
[
th»adid
] = 1;

1419 if(
b¬_node
 =ğ
th»adid
)

1421 
BAR_ENTRY
 *
b¬_‹mp
 = 
BAR_REG
[
b¬_node
][
b¬_addr
];

1422 
b¬_‹mp
->
b¬r›r_num
 ++;

1423 if(
b¬_‹mp
->
b¬r›r_num
 =ğ
MAXTHREADS
)

1425 
b¬_‹mp
->
b¬r›r_num
 = 0;

1426 
i
 = 0;

1427 
i
=0;i<
numcÚ‹xts
;i++)

1429 
LOCK_EVENT
 *
lock_ev’t
;

1430 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1431 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1432 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

1433 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1434 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1435 
lock_ev’t
->
des1
 = 
i
/
mesh_size
+
MEM_LOC_SHIFT
;

1436 
lock_ev’t
->
des2
 = 
i
%
mesh_size
;

1437 
lock_ev’t
->
İt
 = 
BAR_RELEASE
;

1438 
lock_ev’t
->
th»adid
 = 
i
;

1439 
lock_ev’t
->
lock_id
 =†ock_id;

1440 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1441 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1442 
	`lock_ev’t_’queue
(
lock_ev’t
);

1445 if(
cŞËù_¡©s
)

1446 
TÙ®B¬r›rs
 ++;

1450 
b¬r›r_wa™šg
[
th»adid
] = 1;

1451 
thecÚ‹xts
[
th»adid
]->
ruÂšg
 = 0;

1452 
thecÚ‹xts
[
th»adid
]->
ä“ze
 = 1;

1453 
¦“pCouÁ
[
th»adid
]++;

1454 
thecÚ‹xts
[
th»adid
]->
¦•tAt
 = 
sim_cyşe
;

1455 
ä“zeCouÁ”
++;

1460 
LOCK_EVENT
 *
lock_ev’t
;

1461 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1462 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1463 
lock_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1464 
lock_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1465 
lock_ev’t
->
des1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1466 
lock_ev’t
->
des2
 = 
lock_node
%
mesh_size
;

1467 
lock_ev’t
->
İt
 = 
BAR_REMOTE_ACC
;

1468 
lock_ev’t
->
th»adid
 =hreadid;

1469 
lock_ev’t
->
lock_id
 =†ock_id;

1470 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1471 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1472 
	`lock_ev’t_’queue
(
lock_ev’t
);

1473 
b¬r›r_wa™šg
[
th»adid
] = 1;

1476 
BAR_REMOTE_ACC
:

1478 
BAR_ENTRY
 *
b¬_‹mp
 = 
BAR_REG
[
b¬_node
][
b¬_addr
];

1479 
b¬_‹mp
->
¬rivšg_veùÜ
[
th»adid
] = 1;

1480 
b¬_‹mp
->
b¬r›r_num
 ++;

1481 if(
b¬_‹mp
->
b¬r›r_num
 =ğ
numcÚ‹xts
)

1483 
b¬_‹mp
->
b¬r›r_num
 = 0;

1484 
i
 = 0;

1485 
i
=0;i<
numcÚ‹xts
;i++)

1487 
b¬_‹mp
->
¬rivšg_veùÜ
[
th»adid
] = 0;

1488 
LOCK_EVENT
 *
lock_ev’t
;

1489 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1490 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1491 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

1492 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1493 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1494 
lock_ev’t
->
des1
 = 
i
/
mesh_size
+
MEM_LOC_SHIFT
;

1495 
lock_ev’t
->
des2
 = 
i
%
mesh_size
;

1496 
lock_ev’t
->
İt
 = 
BAR_RELEASE
;

1497 
lock_ev’t
->
th»adid
 = 
i
;

1498 
lock_ev’t
->
lock_id
 =†ock_id;

1499 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1500 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1501 
	`lock_ev’t_’queue
(
lock_ev’t
);

1504 if(
cŞËù_¡©s
)

1505 
TÙ®B¬r›rs
 ++;

1509 
LOCK_EVENT
 *
lock_ev’t
;

1510 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1511 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1512 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1513 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1514 
lock_ev’t
->
des1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1515 
lock_ev’t
->
des2
 = 
th»adid
%
mesh_size
;

1516 
lock_ev’t
->
İt
 = 
BAR_WAIT_ACK
;

1517 
lock_ev’t
->
th»adid
 =hreadid;

1518 
lock_ev’t
->
lock_id
 =†ock_id;

1519 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1520 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1521 
	`lock_ev’t_’queue
(
lock_ev’t
);

1525 
BAR_WAIT_ACK
:

1526 
cŞËù_b¬r›r_¡©s
[
th»adid
] = 1;

1527 
b¬r›r_wa™šg
[
th»adid
] = 1;

1528 
thecÚ‹xts
[
th»adid
]->
ruÂšg
 = 0;

1529 
thecÚ‹xts
[
th»adid
]->
ä“ze
 = 1;

1530 
¦“pCouÁ
[
th»adid
]++;

1531 
thecÚ‹xts
[
th»adid
]->
¦•tAt
 = 
sim_cyşe
;

1532 
ä“zeCouÁ”
++;

1534 
BAR_RELEASE
:

1535 
thecÚ‹xts
[
th»adid
]->
ruÂšg
 = 1;

1536 
thecÚ‹xts
[
th»adid
]->
ä“ze
 = 0;

1537 
b¬r›r_wa™šg
[
th»adid
] = 0;

1538 
cŞËù_b¬r›r_¡©s
[
th»adid
] = 0;

1540 
ACQUIRE
:

1541 if(
lock_node
 =ğ
th»adid
)

1543 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1544 if(
Lock_‹mp
->
lock_owÃr
 != 0)

1546 
lock_wa™šg
[
th»adid
] = 1;

1547 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_
] = 
th»adid
;

1548 
Lock_‹mp
->
wa™šg_num
 ++;

1549 
Lock_‹mp
->
wa™šg_
 = (Lock_‹mp->wa™šg_+1+
MAXLOCK
)%MAXLOCK;

1550 if(
Lock_‹mp
->
wa™šg_
 =ğLock_‹mp->
wa™šg_h—d
)

1551 
	`·nic
("Ideal†ock: Lock‡cquire queue full\n");

1555 
Lock_‹mp
->
lock_owÃr
 = 
th»adid
 + 1;

1560 
LOCK_EVENT
 *
lock_ev’t
;

1561 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1562 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1563 
lock_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1564 
lock_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1565 
lock_ev’t
->
des1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1566 
lock_ev’t
->
des2
 = 
lock_node
%
mesh_size
;

1567 
lock_ev’t
->
İt
 = 
ACQ_REMOTE_ACC
;

1568 
lock_ev’t
->
th»adid
 =hreadid;

1569 
lock_ev’t
->
lock_id
 =†ock_id;

1570 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1571 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1572 
	`lock_ev’t_’queue
(
lock_ev’t
);

1573 
lock_wa™šg
[
th»adid
] = 1;

1576 
RELEASE
:

1577 if(
lock_node
 =ğ
th»adid
)

1579 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1580 if(
Lock_‹mp
->
lock_owÃr
 !ğ
th»adid
 + 1)

1581 
	`·nic
("Ideal†ock:‚othe„ighthread„eleasehe†ock!\n");

1584 
Lock_‹mp
->
lock_owÃr
 = 0;

1585 if(
Lock_‹mp
->
wa™šg_num
)

1587 
út
 = 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_h—d
];

1588 
Lock_‹mp
->
lock_owÃr
 = 
út
+1;

1589 
Lock_‹mp
->
wa™šg_num
 --;

1590 
Lock_‹mp
->
wa™šg_h—d
 = (Lock_‹mp->wa™šg_h—d+1+
MAXLOCK
)%MAXLOCK;

1591 if(
út
 =ğ
th»adid
)

1592 
	`·nic
("thread can‚ot‡cquirewo†ocks‡the sameime");

1595 
LOCK_EVENT
 *
lock_ev’t
;

1596 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1597 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1598 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1599 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1600 
lock_ev’t
->
des1
 = 
út
/
mesh_size
+
MEM_LOC_SHIFT
;

1601 
lock_ev’t
->
des2
 = 
út
%
mesh_size
;

1602 
lock_ev’t
->
İt
 = 
ACQ_ACK
;

1603 
lock_ev’t
->
th»adid
 = 
út
;

1604 
lock_ev’t
->
lock_id
 =†ock_id;

1605 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1606 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1607 
	`lock_ev’t_’queue
(
lock_ev’t
);

1614 
LOCK_EVENT
 *
lock_ev’t
;

1615 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1616 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1617 
lock_ev’t
->
¤c1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1618 
lock_ev’t
->
¤c2
 = 
th»adid
%
mesh_size
;

1619 
lock_ev’t
->
des1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1620 
lock_ev’t
->
des2
 = 
lock_node
%
mesh_size
;

1621 
lock_ev’t
->
İt
 = 
REL_REMOTE_ACC
;

1622 
lock_ev’t
->
th»adid
 =hreadid;

1623 
lock_ev’t
->
lock_id
 =†ock_id;

1624 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1625 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1626 
	`lock_ev’t_’queue
(
lock_ev’t
);

1630 
ACQ_REMOTE_ACC
:

1632 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1633 
LOCK_EVENT
 *
lock_ev’t
;

1634 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1635 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1637 if(
Lock_‹mp
->
lock_owÃr
 != 0)

1639 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_
] = 
th»adid
;

1640 
Lock_‹mp
->
wa™šg_num
 ++;

1641 
Lock_‹mp
->
wa™šg_
 = (Lock_‹mp->wa™šg_+1+
MAXLOCK
)%MAXLOCK;

1642 if(
Lock_‹mp
->
wa™šg_
 =ğLock_‹mp->
wa™šg_h—d
)

1643 
	`·nic
("Ideal†ock: Lock‡cquire queue full\n");

1644 
lock_ev’t
->
İt
 = 
WAIT_ACK
;

1648 
Lock_‹mp
->
lock_owÃr
 = 
th»adid
 + 1;

1649 
lock_ev’t
->
İt
 = 
ACQ_ACK
;

1652 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1653 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1654 
lock_ev’t
->
des1
 = 
th»adid
/
mesh_size
+
MEM_LOC_SHIFT
;

1655 
lock_ev’t
->
des2
 = 
th»adid
%
mesh_size
;

1656 
lock_ev’t
->
th»adid
 =hreadid;

1657 
lock_ev’t
->
lock_id
 =†ock_id;

1658 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1659 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1660 
	`lock_ev’t_’queue
(
lock_ev’t
);

1663 
REL_REMOTE_ACC
:

1665 
LOCK_ENTRY
 *
Lock_‹mp
 = 
LOCK_REG
[
lock_node
][
lock_addr
];

1666 if(
Lock_‹mp
->
lock_owÃr
 !ğ
th»adid
 + 1)

1667 
	`·nic
("Ideal†ock:‚othe„ighthread„eleasehe†ock!\n");

1670 
Lock_‹mp
->
lock_owÃr
 = 0;

1671 if(
Lock_‹mp
->
wa™šg_num
)

1673 
út
 = 
Lock_‹mp
->
wa™šg_li¡
[Lock_‹mp->
wa™šg_h—d
];

1674 
Lock_‹mp
->
lock_owÃr
 = 
út
+1;

1675 
Lock_‹mp
->
wa™šg_num
 --;

1676 
Lock_‹mp
->
wa™šg_h—d
 = (Lock_‹mp->wa™šg_h—d+1+
MAXLOCK
)%MAXLOCK;

1678 
LOCK_EVENT
 *
lock_ev’t
;

1679 
lock_ev’t
 = 
	`ÿÎoc
(1, (
LOCK_EVENT
));

1680 if(
lock_ev’t
 =ğ
NULL
è
	`·nic
("Out of Virtual memory");

1681 
lock_ev’t
->
¤c1
 = 
lock_node
/
mesh_size
+
MEM_LOC_SHIFT
;

1682 
lock_ev’t
->
¤c2
 = 
lock_node
%
mesh_size
;

1683 
lock_ev’t
->
des1
 = 
út
/
mesh_size
+
MEM_LOC_SHIFT
;

1684 
lock_ev’t
->
des2
 = 
út
%
mesh_size
;

1685 
lock_ev’t
->
İt
 = 
ACQ_ACK
;

1686 
lock_ev’t
->
th»adid
 = 
út
;

1687 
lock_ev’t
->
lock_id
 =†ock_id;

1688 
lock_ev’t
->
wh’
 = 
sim_cyşe
 + 
WAIT_TIME
;

1689 
	`scheduË_ÃtwÜk
(
lock_ev’t
);

1690 
	`lock_ev’t_’queue
(
lock_ev’t
);

1695 
ACQ_ACK
:

1696 
lock_wa™šg
[
th»adid
] = 0;

1698 
WAIT_ACK
:

1699 
lock_wa™šg
[
th»adid
] = 1;

1702 
	`·nic
("no one comes here!");

1705 
	}
}

1718 
	$sys_sysÿÎ
 (
»gs_t
 *
»gs
,

1719 
mem_acûss_â
 
mem_â
,

1720 
mem_t
 *
mem
,

1721 
md_š¡_t
 
š¡
,

1722 
ŒaûabË
)

1724 
qwÜd_t
 
syscode
 = 
»gs
->
»gs_R
[
MD_REG_V0
];

1725 
Lock_id
 = 0;

1726 
a
;

1728 #ifdeà
SMT_SS


1729 #ià
	`defšed
(
MTA
)

1730 *
p
;

1732 
út
;

1733 
th»adid
 = 0;

1734 
mem_±e_t
 *
tmpMemPŒD
, *
tmpMemPŒS
, *
tmpMemPŒ
;

1735 
cÚ‹xt
 *
cu¼’t
;

1736 
cÚ‹xt
 *
ÃwCÚ‹xt
;

1738 
th»adid
 = 
»gs
->threadid;

1739 
cu¼’t
 = 
thecÚ‹xts
[
th»adid
];

1743 ià(
syscode
 =ğ
OSF_SYS_sysÿÎ
)

1744 
syscode
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

1747 #ifdeà
SMT_SS


1748 ià(
ŒaûabË
 && 
cu¼’t
->
sim_eio_fd
 !ğ
NULL
)

1750 
	`´štf
 ("PROBLEM\n");

1751 
	`fæush
 (
¡dout
);

1752 
	`eio_»ad_Œaû
 (
cu¼’t
->
sim_eio_fd
, 
sim_num_š¢
, 
»gs
, 
mem_â
, 
mem
, 
š¡
);

1754 ià(
ŒaûabË
 && 
sim_eio_fd
 !ğ
NULL
)

1756 
	`eio_»ad_Œaû
 (
sim_eio_fd
, 
sim_num_š¢
, 
»gs
, 
mem_â
, 
mem
, 
š¡
);

1760 ià(
syscode
 =ğ
OSF_SYS_sig»tuº
)

1762 
i
;

1763 
osf_sigcÚ‹xt
 
sc
;

1764 
md_addr_t
 
sc_addr
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

1766 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
sc_addr
, &
sc
,  (
osf_sigcÚ‹xt
), 
cu¼’t
->
id
);

1767 
»gs
->
»gs_NPC
 = 
sc
.
sc_pc
;

1768 
i
 = 0; i < 32; ++i)

1769 
»gs
->
»gs_R
[
i
] = 
sc
.
sc_»gs
[i];

1770 
i
 = 0; i < 32; ++i)

1771 
»gs
->
»gs_F
.
q
[
i
] = 
sc
.
sc_å»gs
[i];

1772 
»gs
->
»gs_C
.
åü
 = 
sc
.
sc_åü
;

1776 
	`´štf
 ("Am I coming here\n");

1781 
syscode
)

1783 
OSF_SYS_ex™
:

1787 if(
cu¼’t
->
ma¡”id
 != 0)

1789 
	`´štf
 ("In OSF_SYS_exit\n");

1790 
	`´štf
 ("[INFO]: sim_num_š¢=%Îd, b¬r›rs=%d,†ocks=%d\n", 
sim_num_š¢
, 
TÙ®B¬r›rs
, 
TÙ®Locks
);

1791 
	`årštf
 (
¡d”r
, "[INFO]: sim_num_š¢=%Îd, b¬r›rs=%d,†ocks=%d\n", 
sim_num_š¢
, 
TÙ®B¬r›rs
, 
TÙ®Locks
);

1792 
	`fæush
 (
¡d”r
);

1793 
	`fæush
 (
¡dout
);

1794 #ifdeà
DO_COMPLETE_FASTFWD


1795 #ifdeà 
CACHE_PROFILE


1796 
	`CacheProfWr™e
 ();

1798 #ifdeà 
BRANCH_PROFILE


1799 
	`B¿nchProfWr™e
 ();

1801 #ifdeà 
BRPRED_PROFILE


1802 
	`B¿nchProfWr™e
 ();

1804 #ifdeà 
STORE_PROFILE


1805 
	`StÜeProfWr™e
 ();

1807 #ifdeà 
INDIRECTJUMP_PROFILE


1808 
	`´štJumpSts
 ();

1810 #ifdeà 
FREQ_PROFILE


1811 
	`F»qu’cyWr™e
 ();

1814 
timeToR‘uº
 = 1;

1816 
	`lÚgjmp
 (
sim_ex™_buf
,

1817  (
»gs
->
»gs_R
[
MD_REG_A0
] & 0xff) + 1);

1818 
	`´štf
 ("Am I coming here\n");

1821 
OSF_SYS_»ad
:

1823 *
buf
;

1826 ià(!(
buf
 = (*è
	`ÿÎoc
 ( 
»gs
->
»gs_R
[
MD_REG_A2
],  ())))

1827 
	`çl
 ("out of memory in SYS_read");

1833 ià((
»gs
->
»gs_R
[
MD_REG_A0
] =ğ0è&& (
cu¼’t
->
sim_šputfd
 != 0))

1834  
»gs
->
»gs_R
[
MD_REG_V0
] =

1835 
	`»ad
 ( 
cu¼’t
->
sim_šputfd
, 
buf
,

1836  
»gs
->
»gs_R
[
MD_REG_A2
]);

1839  
»gs
->
»gs_R
[
MD_REG_V0
] =

1840 
	`»ad
 ( 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
,

1841  
»gs
->
»gs_R
[
MD_REG_A2
]);

1843  
»gs
->
»gs_R
[
MD_REG_V0
] =ğ(
qwÜd_t
) - 1

1844 && 
”ºo
 =ğ
EAGAIN
);

1847 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

1848 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

1851 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

1852 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

1856 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
,„egs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

1859 
	`ä“
 (
buf
);

1863 
OSF_SYS_wr™e
:

1865 *
buf
;

1868 ià(!(
buf
 = (*è
	`ÿÎoc
 ( 
»gs
->
»gs_R
[
MD_REG_A2
],  ())))

1869 
	`çl
 ("out of memory in SYS_write");

1872 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
,„egs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

1875 #ifdeà
SMT_SS


1876 ià(
cu¼’t
->
sim_´ogfd
 && 
	`MD_OUTPUT_SYSCALL
 (
»gs
))

1880  
»gs
->
»gs_R
[
MD_REG_V0
] =

1881 
	`fwr™e
 (
buf
, 1, 
»gs
->
»gs_R
[
MD_REG_A2
], 
cu¼’t
->
sim_´ogfd
);

1882 
	`fæush
 (
cu¼’t
->
sim_´ogfd
);

1885 ià(
sim_´ogfd
 && 
	`MD_OUTPUT_SYSCALL
 (
»gs
))

1889  
»gs
->
»gs_R
[
MD_REG_V0
] =

1890 
	`fwr™e
 (
buf
, 1, 
»gs
->
»gs_R
[
MD_REG_A2
], 
sim_´ogfd
);

1899  
»gs
->
»gs_R
[
MD_REG_V0
] =

1900 
	`wr™e
 ( 
»gs
->
»gs_R
[
MD_REG_A0
],

1901 
buf
, 
»gs
->
»gs_R
[
MD_REG_A2
]);

1903  
»gs
->
»gs_R
[
MD_REG_V0
] =ğ(
qwÜd_t
) - 1

1904 && 
”ºo
 =ğ
EAGAIN
);

1908 ià(
»gs
->
»gs_R
[
MD_REG_V0
] =ğ»gs->»gs_R[
MD_REG_A2
])

1909 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

1912 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

1913 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

1917 
	`ä“
 (
buf
);

1921 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

1923 
OSF_SYS_g‘domašÇme
:

1926 *
buf
;

1928 
buf
 = 
	`m®loc
 ( (
size_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

1929 ià(!
buf
)

1930 
	`çl
 ("out of virtual memory in gethostname()");

1932  
»gs
->
»gs_R
[
MD_REG_V0
] =

1933 
	`g‘domašÇme
 ( 
buf
,

1934  (
size_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

1937 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

1938 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

1941 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

1942 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

1946 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
,„egs->»gs_R[
MD_REG_A1
], 
cu¼’t
->
id
);

1951 #ià!
	`defšed
(
MIN_SYSCALL_MODE
è&& (!defšed(
_AIX
è|| !defšed(
POWER_64
))

1953 
OSF_SYS_æock
:

1956 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`æock
 ( (è»gs->»gs_R[
MD_REG_A0
],

1957  (è
»gs
->
»gs_R
[
MD_REG_A1
]);

1960 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

1961 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

1964 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

1965 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

1971 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

1973 
OSF_SYS_bšd
:

1975 
sockaddr
 
a_sock
;

1977 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
a_sock
, (è»gs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

1979 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`bšd
 ((è»gs->»gs_R[
MD_REG_A0
], &
a_sock
, (è»gs->»gs_R[
MD_REG_A2
]);

1982 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

1983 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

1986 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

1987 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

1993 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

1995 
OSF_SYS_£ndto
:

1997 *
buf
 = 
NULL
;

1998 
sockaddr
 
d_sock
;

1999 
buf_Ën
 = 0;

2001 
buf_Ën
 = 
»gs
->
»gs_R
[
MD_REG_A2
];

2003 ià(
buf_Ën
 > 0)

2004 
buf
 = (*è
	`m®loc
 (
buf_Ën
 *  ());

2006 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
, (è»gs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

2008 ià(
»gs
->
»gs_R
[
MD_REG_A5
] > 0)

2009 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A4
], &
d_sock
, (è»gs->»gs_R[
MD_REG_A5
], 
cu¼’t
->
id
);

2011 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`£ndto
 ((è»gs->»gs_R[
MD_REG_A0
], 
buf
, (è»gs->»gs_R[
MD_REG_A2
], (è»gs->»gs_R[
MD_REG_A3
], &
d_sock
, (è»gs->»gs_R[
MD_REG_A5
]);

2013 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
, (è»gs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

2016 ià(
»gs
->
»gs_R
[
MD_REG_A5
] > 0)

2017 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A4
], &
d_sock
, (è»gs->»gs_R[
MD_REG_A5
], 
cu¼’t
->
id
);

2020 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2021 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2024 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2025 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2028 ià(
buf
 !ğ
NULL
)

2029 
	`ä“
 (
buf
);

2034 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

2036 
OSF_SYS_Şd_»cväom
:

2037 
OSF_SYS_»cväom
:

2039 #ià
	`defšed
(
_AIX
)

2040 
addr_Ën
;

2042 
addr_Ën
;

2044 *
buf
;

2045 
sockaddr
 *
a_sock
;

2047 
buf
 = (*è
	`m®loc
 ( (è* 
»gs
->
»gs_R
[
MD_REG_A2
]);

2049 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
, (è»gs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

2051 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A5
], &
addr_Ën
,  (), 
cu¼’t
->
id
);

2053 
a_sock
 = (
sockaddr
 *è
	`m®loc
 (
addr_Ën
);

2055 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A4
], 
a_sock
, 
addr_Ën
, 
cu¼’t
->
id
);

2057 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`»cväom
 ((è»gs->»gs_R[
MD_REG_A0
], 
buf
, (è»gs->»gs_R[
MD_REG_A2
], (è»gs->»gs_R[
MD_REG_A3
], 
a_sock
, &
addr_Ën
);

2059 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
, (è»gs->»gs_R[
MD_REG_V0
], 
cu¼’t
->
id
);

2061 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A5
], &
addr_Ën
,  (), 
cu¼’t
->
id
);

2063 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A4
], 
a_sock
, 
addr_Ën
, 
cu¼’t
->
id
);

2066 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2067 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2070 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2071 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2073 ià(
buf
 !ğ
NULL
)

2074 
	`ä“
 (
buf
);

2079 
OSF_SYS_İ’
:

2081 
buf
[
MAXBUFSIZE
];

2082 
i
;

2083 
osf_æags
 = 
»gs
->
»gs_R
[
MD_REG_A1
], 
loÿl_æags
 = 0;

2086 
i
 = 0; i < 
OSF_NFLAGS
; i++)

2088 ià(
osf_æags
 & 
osf_æag_bË
[
i
].
osf_æag
)

2090 
osf_æags
 &ğ~
osf_æag_bË
[
i
].
osf_æag
;

2091 
loÿl_æags
 |ğ
osf_æag_bË
[
i
].
loÿl_æag
;

2095 ià(
osf_æags
 != 0)

2096 
	`çl
 ("sysÿÎ: o³n: cªnÙ decodæags: 0x%08x", 
osf_æags
);

2099 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2102 #ifdeà
__CYGWIN32__


2103  
»gs
->
»gs_R
[
MD_REG_V0
] =

2104 
	`İ’
 (
buf
, 
loÿl_æags
 | 
O_BINARY
, 
»gs
->
»gs_R
[
MD_REG_A2
]);

2106  
»gs
->
»gs_R
[
MD_REG_V0
] =

2107 
	`İ’
 (
buf
, 
loÿl_æags
, 
»gs
->
»gs_R
[
MD_REG_A2
]);

2111 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2112 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2115 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2116 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2121 
OSF_SYS_şo£
:

2123 iàĞ 
»gs
->
»gs_R
[
MD_REG_A0
] == 0

2124 || 
»gs
->
»gs_R
[
MD_REG_A0
] == 1

2125 || 
»gs
->
»gs_R
[
MD_REG_A0
] == 2)

2127 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2132 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`şo£
 („egs->»gs_R[
MD_REG_A0
]);

2135 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2136 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2139 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2140 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2145 
OSF_SYS_ü—t
:

2147 
buf
[
MAXBUFSIZE
];

2150 
	`mem_¡rıy
 (
mem_â
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
);

2153  
»gs
->
»gs_R
[
MD_REG_V0
] =

2154 
	`ü—t
 (
buf
, 
»gs
->
»gs_R
[
MD_REG_A1
]);

2157 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2158 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2161 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2162 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2168 
OSF_SYS_uÆšk
:

2170 
buf
[
MAXBUFSIZE
];

2173 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2176  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`uÆšk
 (
buf
);

2179 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2180 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2183 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2184 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2189 
OSF_SYS_chdœ
:

2191 
buf
[
MAXBUFSIZE
];

2194 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2197  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`chdœ
 (
buf
);

2200 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2201 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2204 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2205 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2210 
OSF_SYS_chmod
:

2212 
buf
[
MAXBUFSIZE
];

2215 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2218  
»gs
->
»gs_R
[
MD_REG_V0
] =

2219 
	`chmod
 (
buf
, 
»gs
->
»gs_R
[
MD_REG_A1
]);

2222 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2223 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2226 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2227 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2232 
OSF_SYS_chown
:

2233 #ifdeà
_MSC_VER


2234 
	`w¬n
 ("syscall chown()‚ot yet implemented for MSC...");

2235 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2238 
buf
[
MAXBUFSIZE
];

2241 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2244  
»gs
->
»gs_R
[
MD_REG_V0
] =

2245 
	`chown
 (
buf
, 
»gs
->
»gs_R
[
MD_REG_A1
],

2246  
»gs
->
»gs_R
[
MD_REG_A2
]);

2249 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2250 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2253 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2254 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2260 
OSF_SYS_sbrk
:

2262 
sqwÜd_t
 
d–
;

2263 
md_addr_t
 
addr
;

2265 
d–
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

2266 #ifdeà
SMT_SS


2267 
addr
 = 
cu¼’t
->
ld_brk_pošt
 + 
d–
;

2269 
addr
 = 
ld_brk_pošt
 + 
d–
;

2272 ià(
v”bo£
)

2273 
	`myårštf
 (
¡d”r
, "SYS_sbrk: d–: 0x%012°(%ld)\n", 
d–
, delta);

2275 #ifdeà
SMT_SS


2276 
cu¼’t
->
ld_brk_pošt
 = 
addr
;

2277 
»gs
->
»gs_R
[
MD_REG_V0
] = 
cu¼’t
->
ld_brk_pošt
;

2278 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2280 ià(
v”bo£
)

2281 
	`myårštf
 (
¡d”r
, "th»ad %d,†d_brk_pošt: 0x%012p\n", 
th»adid
, 
cu¼’t
->
ld_brk_pošt
);

2283 
ld_brk_pošt
 = 
addr
;

2284 
»gs
->
»gs_R
[
MD_REG_V0
] = 
ld_brk_pošt
;

2285 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2287 ià(
v”bo£
)

2288 
	`myårštf
 (
¡d”r
, "ld_brk_pošt: 0x%012p\n", 
ld_brk_pošt
);

2293 iàĞ 
addr
 < 
»gs
->
»gs_R
[
MD_REG_SP
])

2295 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2296 
ld_brk_pošt
 = 
addr
;

2301 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2307 
OSF_SYS_ob»ak
:

2309 
md_addr_t
 
addr
;

2313 
addr
 = 
	`ROUND_UP
 ( 
»gs
->
»gs_R
[
MD_REG_A0
], 
MD_PAGE_SIZE
);

2315 
addr
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

2317 ià(
v”bo£
)

2318 
	`myårštf
 (
¡d”r
, "SYS_ob»ak:‡ddr: 0x%012p\n", 
addr
);

2320 #ifdeà
SMT_SS


2321 
cu¼’t
->
ld_brk_pošt
 = 
addr
;

2322 
»gs
->
»gs_R
[
MD_REG_V0
] = 
cu¼’t
->
ld_brk_pošt
;

2323 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2325 ià(
v”bo£
)

2326 
	`myårštf
 (
¡d”r
, "th»ad %d,†d_brk_pošt: 0x%012p\n", 
th»adid
, 
cu¼’t
->
ld_brk_pošt
);

2328 
ld_brk_pošt
 = 
addr
;

2329 
»gs
->
»gs_R
[
MD_REG_V0
] = 
ld_brk_pošt
;

2330 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2332 ià(
v”bo£
)

2333 
	`myårštf
 (
¡d”r
, "ld_brk_pošt: 0x%012p\n", 
ld_brk_pošt
);

2339 
OSF_SYS_l£ek
:

2341 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`l£ek
 („egs->»gs_R[
MD_REG_A0
],

2342  
»gs
->
»gs_R
[
MD_REG_A1
],„egs->»gs_R[
MD_REG_A2
]);

2345 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2346 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2349 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2350 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2354 
OSF_SYS_g‘pid
:

2356  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘pid
 ();

2359 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2360 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2363 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2364 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2368 
OSF_SYS_g‘uid
:

2369 #ifdeà
_MSC_VER


2370 
	`w¬n
 ("syscall getuid()‚ot yet implemented for MSC...");

2371 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2374  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘uid
 ();

2375  
»gs
->
»gs_R
[
MD_REG_A4
] = 
	`g‘euid
 ();

2378 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2379 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2382 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2383 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2388 
OSF_SYS_acûss
:

2390 
buf
[
MAXBUFSIZE
];

2393 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2396  
»gs
->
»gs_R
[
MD_REG_V0
] =

2397 
	`acûss
 (
buf
, 
»gs
->
»gs_R
[
MD_REG_A1
]);

2400 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2401 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2404 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2405 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2410 
OSF_SYS_¡©
:

2411 
OSF_SYS_l¡©
:

2413 
buf
[
MAXBUFSIZE
];

2414 
osf_¡©buf
 
osf_sbuf
;

2416 #ifdeà
_MSC_VER


2417 
_¡©
 
sbuf
;

2419 
¡©
 
sbuf
;

2423 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

2426 ià(
syscode
 =ğ
OSF_SYS_¡©
)

2427  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`¡©
 (
buf
, &
sbuf
);

2430 #ifdeà
_MSC_VER


2431 
	`w¬n
 ("syscall†stat()‚ot yet implemented for MSC...");

2432 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2435  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`l¡©
 (
buf
, &
sbuf
);

2440 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2441 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2444 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2445 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2449 
osf_sbuf
.
osf_¡_dev
 = 
	`MD_SWAPW
 (
sbuf
.
¡_dev
);

2450 
osf_sbuf
.
osf_¡_šo
 = 
	`MD_SWAPW
 (
sbuf
.
¡_šo
);

2451 
osf_sbuf
.
osf_¡_mode
 = 
	`MD_SWAPW
 (
sbuf
.
¡_mode
);

2452 
osf_sbuf
.
osf_¡_Æšk
 = 
	`MD_SWAPH
 (
sbuf
.
¡_Æšk
);

2453 
osf_sbuf
.
osf_¡_uid
 = 
	`MD_SWAPW
 (
sbuf
.
¡_uid
);

2454 
osf_sbuf
.
osf_¡_gid
 = 
	`MD_SWAPW
 (
sbuf
.
¡_gid
);

2455 
osf_sbuf
.
osf_¡_rdev
 = 
	`MD_SWAPW
 (
sbuf
.
¡_rdev
);

2456 
osf_sbuf
.
osf_¡_size
 = 
	`MD_SWAPQ
 (
sbuf
.
¡_size
);

2457 
osf_sbuf
.
osf_¡_©ime
 = 
	`MD_SWAPW
 (
sbuf
.
¡_©ime
);

2458 
osf_sbuf
.
osf_¡_mtime
 = 
	`MD_SWAPW
 (
sbuf
.
¡_mtime
);

2459 
osf_sbuf
.
osf_¡_ùime
 = 
	`MD_SWAPW
 (
sbuf
.
¡_ùime
);

2460 #iâdeà
_MSC_VER


2461 
osf_sbuf
.
osf_¡_blksize
 = 
	`MD_SWAPW
 (
sbuf
.
¡_blksize
);

2462 
osf_sbuf
.
osf_¡_blocks
 = 
	`MD_SWAPW
 (
sbuf
.
¡_blocks
);

2466 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_sbuf
,  (
osf_¡©buf
), 
cu¼’t
->
id
);

2470 
OSF_SYS_dup
:

2472  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`dup
 („egs->»gs_R[
MD_REG_A0
]);

2475 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2476 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2479 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2480 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2485 
OSF_SYS_pe
:

2487 
fd
[2];

2490 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
],

2491 
fd
,  (fd));

2494  
»gs
->
»gs_R
[7] = 
	`pe
 (
fd
);

2497  
»gs
->
»gs_R
[
MD_REG_V0
] = 
fd
[0];

2498  
»gs
->
»gs_R
[3] = 
fd
[1];

2501 ià(
»gs
->
»gs_R
[7] =ğ(
qwÜd_t
) - 1)

2503 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2504 
»gs
->
»gs_R
[7] = 1;

2510 
OSF_SYS_g‘gid
:

2511 #ifdeà
_MSC_VER


2512 
	`w¬n
 ("syscall getgid()‚ot yet implemented for MSC...");

2513 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2516  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘gid
 ();

2517  
»gs
->
»gs_R
[
MD_REG_A4
] = 
	`g‘egid
 ();

2520 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2521 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2524 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2525 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2530 
OSF_SYS_ioùl
:

2531  
»gs
->
»gs_R
[
MD_REG_A1
])

2533 #ià!
	`defšed
(
TIOCGETP
è&& defšed(
lšux
)

2534 
OSF_TIOCGETP
:

2536 
‹rmios
 
lbuf
;

2537 
osf_sg‰yb
 
buf
;

2539  
»gs
->
»gs_R
[
MD_REG_V0
] =

2540 
	`tcg‘©Œ
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

2541 &
lbuf
);

2544 
buf
.
sg_i¥“d
 = 
lbuf
.
c_i¥“d
;

2545 
buf
.
sg_o¥“d
 = 
lbuf
.
c_o¥“d
;

2546 
buf
.
sg_”a£
 = 
lbuf
.
c_cc
[
VERASE
];

2547 
buf
.
sg_kl
 = 
lbuf
.
c_cc
[
VKILL
];

2548 
buf
.
sg_æags
 = 0;

2550 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
buf
,  (
osf_sg‰yb
), 
cu¼’t
->
id
);

2552 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2553 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2556 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2557 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2562 #ifdeà
TIOCGETP


2563 
OSF_TIOCGETP
:

2565 
sg‰yb
 
lbuf
;

2566 
osf_sg‰yb
 
buf
;

2568  
»gs
->
»gs_R
[
MD_REG_V0
] =

2569 
	`ioùl
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

2570  
TIOCGETP
,

2571 &
lbuf
);

2574 
buf
.
sg_i¥“d
 = 
lbuf
.sg_ispeed;

2575 
buf
.
sg_o¥“d
 = 
lbuf
.sg_ospeed;

2576 
buf
.
sg_”a£
 = 
lbuf
.sg_erase;

2577 
buf
.
sg_kl
 = 
lbuf
.sg_kill;

2578 
buf
.
sg_æags
 = 
lbuf
.sg_flags;

2579 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
buf
,  (
osf_sg‰yb
), 
cu¼’t
->
id
);

2581 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2582 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2585 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2586 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2591 #ifdeà
FIONREAD


2592 
OSF_FIONREAD
:

2594 
Ä—d
;

2596  
»gs
->
»gs_R
[
MD_REG_V0
] =

2597 
	`ioùl
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

2598  
FIONREAD
,

2599  &
Ä—d
);

2601 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
Ä—d
,  (Ä—d), 
cu¼’t
->
id
);

2603 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2604 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2607 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2608 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2613 #ifdeà
FIONBIO


2614 
FIONBIO
:

2616 
¬g
 = 0;

2618 ià(
»gs
->
»gs_R
[
MD_REG_A2
])

2619 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
¬g
,  (¬g), 
cu¼’t
->
id
);

2621 #ifdeà
NOTNOW


2622 
	`årštf
 (
¡d”r
, "FIONBIO: %d, %d\n", (è
»gs
->
»gs_R
[
MD_REG_A0
], 
¬g
);

2624  
»gs
->
»gs_R
[
MD_REG_V0
] =

2625 
	`ioùl
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

2626  
FIONBIO
,

2627  &
¬g
);

2629 ià(
»gs
->
»gs_R
[
MD_REG_A2
])

2630 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
¬g
,  (¬g), 
cu¼’t
->
id
);

2632 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2633 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2636 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2637 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2643 
	`w¬n
 ("unsuµÜ‹d ioùÈÿÎ: ioùl(%ld, ...)", 
»gs
->
»gs_R
[
MD_REG_A1
]);

2644 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2651 
buf
[
NUM_IOCTL_BYTES
];

2652 
loÿl_»q
 = 0;

2655  
»gs
->
»gs_R
[
MD_REG_A1
])

2658 
SS_IOCTL_TIOCGETP
:

2659 
loÿl_»q
 = 
TIOCGETP
;

2661 
SS_IOCTL_TIOCSETP
:

2662 
loÿl_»q
 = 
TIOCSETP
;

2664 
SS_IOCTL_TCGETP
:

2665 
loÿl_»q
 = 
TIOCGETP
;

2668 #ifdeà
TCGETA


2669 
SS_IOCTL_TCGETA
:

2670 
loÿl_»q
 = 
TCGETA
;

2673 #ifdeà
TIOCGLTC


2674 
SS_IOCTL_TIOCGLTC
:

2675 
loÿl_»q
 = 
TIOCGLTC
;

2678 #ifdeà
TIOCSLTC


2679 
SS_IOCTL_TIOCSLTC
:

2680 
loÿl_»q
 = 
TIOCSLTC
;

2683 
SS_IOCTL_TIOCGWINSZ
:

2684 
loÿl_»q
 = 
TIOCGWINSZ
;

2686 #ifdeà
TCSETAW


2687 
SS_IOCTL_TCSETAW
:

2688 
loÿl_»q
 = 
TCSETAW
;

2691 #ifdeà
TIOCGETC


2692 
SS_IOCTL_TIOCGETC
:

2693 
loÿl_»q
 = 
TIOCGETC
;

2696 #ifdeà
TIOCSETC


2697 
SS_IOCTL_TIOCSETC
:

2698 
loÿl_»q
 = 
TIOCSETC
;

2701 #ifdeà
TIOCLBIC


2702 
SS_IOCTL_TIOCLBIC
:

2703 
loÿl_»q
 = 
TIOCLBIC
;

2706 #ifdeà
TIOCLBIS


2707 
SS_IOCTL_TIOCLBIS
:

2708 
loÿl_»q
 = 
TIOCLBIS
;

2711 #ifdeà
TIOCLGET


2712 
SS_IOCTL_TIOCLGET
:

2713 
loÿl_»q
 = 
TIOCLGET
;

2716 #ifdeà
TIOCLSET


2717 
SS_IOCTL_TIOCLSET
:

2718 
loÿl_»q
 = 
TIOCLSET
;

2723 ià(!
loÿl_»q
)

2727 
	`w¬n
 ("sysÿÎ: ioùl: ioùÈcodnÙ suµÜ‹d d=%d,„eq=%d", 
»gs
->
»gs_R
[
MD_REG_A0
],„egs->»gs_R[
MD_REG_A1
]);

2728 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

2729 
»gs
->
»gs_R
[7] = 0;

2736 iàĞ 
»gs
->
»gs_R
[
MD_REG_A2
] != 0)

2737 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A2
],

2738 
buf
, 
NUM_IOCTL_BYTES
);

2741  
»gs
->
»gs_R
[
MD_REG_V0
] =

2742 
	`ioùl
 ( 
»gs
->
»gs_R
[
MD_REG_A0
], 
loÿl_»q
, 
buf
);

2745 iàĞ 
»gs
->
»gs_R
[
MD_REG_A2
] != 0)

2746 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], 
buf
, 
NUM_IOCTL_BYTES
);

2749 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2750 
»gs
->
»gs_R
[7] = 0;

2754 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2755 
»gs
->
»gs_R
[7] = 1;

2762 
OSF_SYS_f¡©
:

2764 
osf_¡©buf
 
osf_sbuf
;

2766 #ifdeà
_MSC_VER


2767 
_¡©
 
sbuf
;

2769 
¡©
 
sbuf
;

2773  
»gs
->
»gs_R
[
MD_REG_V0
] =

2774 
	`f¡©
 ( 
»gs
->
»gs_R
[
MD_REG_A0
], &
sbuf
);

2777 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2778 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2781 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2782 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2786 
osf_sbuf
.
osf_¡_dev
 = 
	`MD_SWAPW
 (
sbuf
.
¡_dev
);

2787 
osf_sbuf
.
osf_¡_šo
 = 
	`MD_SWAPW
 (
sbuf
.
¡_šo
);

2788 
osf_sbuf
.
osf_¡_mode
 = 
	`MD_SWAPW
 (
sbuf
.
¡_mode
);

2789 
osf_sbuf
.
osf_¡_Æšk
 = 
	`MD_SWAPH
 (
sbuf
.
¡_Æšk
);

2790 
osf_sbuf
.
osf_¡_uid
 = 
	`MD_SWAPW
 (
sbuf
.
¡_uid
);

2791 
osf_sbuf
.
osf_¡_gid
 = 
	`MD_SWAPW
 (
sbuf
.
¡_gid
);

2792 
osf_sbuf
.
osf_¡_rdev
 = 
	`MD_SWAPW
 (
sbuf
.
¡_rdev
);

2793 
osf_sbuf
.
osf_¡_size
 = 
	`MD_SWAPQ
 (
sbuf
.
¡_size
);

2794 
osf_sbuf
.
osf_¡_©ime
 = 
	`MD_SWAPW
 (
sbuf
.
¡_©ime
);

2795 
osf_sbuf
.
osf_¡_mtime
 = 
	`MD_SWAPW
 (
sbuf
.
¡_mtime
);

2796 
osf_sbuf
.
osf_¡_ùime
 = 
	`MD_SWAPW
 (
sbuf
.
¡_ùime
);

2797 #iâdeà
_MSC_VER


2798 
osf_sbuf
.
osf_¡_blksize
 = 
	`MD_SWAPW
 (
sbuf
.
¡_blksize
);

2799 
osf_sbuf
.
osf_¡_blocks
 = 
	`MD_SWAPW
 (
sbuf
.
¡_blocks
);

2803 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_sbuf
,  (
osf_¡©buf
), 
cu¼’t
->
id
);

2807 
OSF_SYS_g‘·gesize
:

2809 
»gs
->
»gs_R
[
MD_REG_V0
] = 
MD_PAGE_SIZE
;

2812 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2813 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2816 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2817 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2821 
OSF_SYS_£t™im”
:

2823 
	`w¬n
 ("syscall: setitimer ignored");

2824 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2827 
OSF_SYS_bË
:

2829 
qwÜd_t
 
bË_id
, 
bË_šdex
, 
buf_addr
, 
num_–em
, 
size_–em
;

2830 
osf_tbl_sysšfo
 
sysšfo
;

2832 
bË_id
 = 
»gs
->
»gs_R
[
MD_REG_A1
];

2833 
bË_šdex
 = 
»gs
->
»gs_R
[
MD_REG_A2
];

2834 
buf_addr
 = 
»gs
->
»gs_R
[
MD_REG_A3
];

2835 
num_–em
 = 
»gs
->
»gs_R
[
MD_REG_A4
];

2836 
size_–em
 = 
»gs
->
»gs_R
[
MD_REG_A5
];

2838 
bË_id
)

2840 
OSF_TBL_SYSINFO
:

2841 ià(
bË_šdex
 != 0)

2843 
	`·nic
 ("bË:abË id TBL_SYSINFO„equœe 0 index, gÙ %08d", 
bË_šdex
);

2845 ià(
num_–em
 != 1)

2847 
	`·nic
 ("bË:abË id TBL_SYSINFO„equœe 1ƒÉs, gÙ %08d", 
num_–em
);

2851 
ru§ge
 
ru§ge_šfo
;

2854 ià(
	`g‘ru§ge
 (
RUSAGE_SELF
, &
ru§ge_šfo
) < 0)

2857 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2860 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2865 
sysšfo
.
si_hz
 = 
	`syscÚf
 (
_SC_CLK_TCK
);

2868 
sysšfo
.
si_u£r
 = 
ru§ge_šfo
.
ru_utime
.
tv_£c
 * sysšfo.
si_hz
 + (ru§ge_šfo.ru_utime.
tv_u£c
 * sysinfo.si_hz) / 1000000UL;

2869 
sysšfo
.
si_sys
 = 
ru§ge_šfo
.
ru_¡ime
.
tv_£c
 * sysšfo.
si_hz
 + (ru§ge_šfo.ru_¡ime.
tv_u£c
 * sysinfo.si_hz) / 1000000UL;

2873 
sysšfo
.
si_niû
 = 0;

2874 
sysšfo
.
si_idË
 = 0;

2875 
sysšfo
.
si_phz
 = 0;

2876 
sysšfo
.
si_boÙtime
 = 0;

2877 
sysšfo
.
wa™
 = 0;

2880 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
buf_addr
, &
sysšfo
,  (
osf_tbl_sysšfo
), 
cu¼’t
->
id
);

2883 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2888 
	`w¬n
 ("bË: unsuµÜ‹dabË id %d„eque¡ed, ignÜed", 
bË_id
);

2889 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2894 
OSF_SYS_g‘dbËsize
:

2895 #ià
	`defšed
(
_AIX
è|| defšed(
__®pha
)

2897 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘dbËsize
 ();

2900 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2901 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2904 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2905 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2907 #–ià
	`defšed
(
uÉrix
)

2910 
	`w¬n
 ("syscall: called getdtablesize\n");

2911 
»gs
->
»gs_R
[
MD_REG_V0
] = 16;

2912 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2914 #–ià
	`defšed
(
MIN_SYSCALL_MODE
)

2917 
	`w¬n
 ("syscall: called getdtablesize\n");

2918 
»gs
->
»gs_R
[
MD_REG_V0
] = 16;

2919 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2923 
¾im™
 
¾
;

2926 ià(
	`g‘¾im™
 (
RLIMIT_NOFILE
, &
¾
è!ğ(
qwÜd_t
) - 1)

2928 
»gs
->
»gs_R
[
MD_REG_V0
] = 
¾
.
¾im_cur
;

2929 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2933 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2934 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2940 
OSF_SYS_dup2
:

2942 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`dup2
 („egs->»gs_R[
MD_REG_A0
],„egs->»gs_R[
MD_REG_A1
]);

2945 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2946 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2949 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2950 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2954 
OSF_SYS_fú
:

2955 #ifdeà
_MSC_VER


2956 
	`w¬n
 ("syscall fcntl()‚ot yet implemented for MSC...");

2957 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2960 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`fú
 („egs->»gs_R[
MD_REG_A0
],

2961  
»gs
->
»gs_R
[
MD_REG_A1
],„egs->»gs_R[
MD_REG_A2
]);

2964 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

2965 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2968 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

2969 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

2975 
OSF_SYS_sigvec
:

2977 
	`w¬n
 ("syscall: sigvec ignored");

2978 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2983 
OSF_SYS_sigblock
:

2985 
	`w¬n
 ("syscall: sigblock ignored");

2986 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2991 
OSF_SYS_sig£tmask
:

2993 
	`w¬n
 ("syscall: sigsetmask ignored");

2994 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

2998 
OSF_SYS_g‘timeofday
:

2999 #ifdeà
_MSC_VER


3000 
	`w¬n
 ("syscall gettimeofday()‚ot yet implemented for MSC...");

3001 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3004 
osf_timev®
 
osf_tv
;

3005 
timev®
 
tv
, *
tvp
;

3006 
osf_timezÚe
 
osf_tz
;

3007 
timezÚe
 
tz
, *
tzp
;

3009 iàĞ 
»gs
->
»gs_R
[
MD_REG_A0
] != 0)

3012 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], &
osf_tv
,  (
osf_timev®
), 
cu¼’t
->
id
);

3015 
tv
.
tv_£c
 = 
	`MD_SWAPW
 (
osf_tv
.
osf_tv_£c
);

3016 
tv
.
tv_u£c
 = 
	`MD_SWAPW
 (
osf_tv
.
osf_tv_u£c
);

3017 
tvp
 = &
tv
;

3020 
tvp
 = 
NULL
;

3022 iàĞ 
»gs
->
»gs_R
[
MD_REG_A1
] != 0)

3025 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_tz
,  (
osf_timezÚe
), 
cu¼’t
->
id
);

3028 
tz
.
tz_mšu‹swe¡
 = 
	`MD_SWAPW
 (
osf_tz
.
osf_tz_mšu‹swe¡
);

3029 
tz
.
tz_d¡time
 = 
	`MD_SWAPW
 (
osf_tz
.
osf_tz_d¡time
);

3030 
tzp
 = &
tz
;

3033 
tzp
 = 
NULL
;

3036  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘timeofday
 (
tvp
, 
tzp
);

3039 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3040 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3043 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3044 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3047 iàĞ 
»gs
->
»gs_R
[
MD_REG_A0
] != 0)

3050 
osf_tv
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
tv
.
tv_£c
);

3051 
osf_tv
.
osf_tv_u£c
 = 
	`MD_SWAPW
 (
tv
.
tv_u£c
);

3054 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A0
], &
osf_tv
,  (
osf_timev®
), 
cu¼’t
->
id
);

3057 iàĞ 
»gs
->
»gs_R
[
MD_REG_A1
] != 0)

3060 
osf_tz
.
osf_tz_mšu‹swe¡
 = 
	`MD_SWAPW
 (
tz
.
tz_mšu‹swe¡
);

3061 
osf_tz
.
osf_tz_d¡time
 = 
	`MD_SWAPW
 (
tz
.
tz_d¡time
);

3064 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_tz
,  (
osf_timezÚe
), 
cu¼’t
->
id
);

3070 
OSF_SYS_g‘ru§ge
:

3071 #ià
	`defšed
(
__svr4__
è|| defšed(
__USLC__
è|| defšed(
hpux
è|| defšed(
__hpux
è|| defšed(
_AIX
)

3073 
tms
 
tms_buf
;

3074 
osf_ru§ge
 
ru§ge
;

3077 ià(
	`times
 (&
tms_buf
è!ğ(
qwÜd_t
) - 1)

3080 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3081 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3085 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3086 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3090 #ià
	`defšed
(
__svr4__
)

3091 
	`mem£t
 (&
ru§ge
, '\0',  (
osf_ru§ge
));

3093 
	`bz”o
 (&
ru§ge
,  (
osf_ru§ge
));

3097 
ru§ge
.
osf_ru_utime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
tms_buf
.
tms_utime
 / 
CLK_TCK
);

3098 
ru§ge
.
osf_ru_utime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (rusage.osf_ru_utime.osf_tv_sec);

3099 
ru§ge
.
osf_ru_utime
.
osf_tv_u£c
 = 0;

3100 
ru§ge
.
osf_ru_¡ime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
tms_buf
.
tms_¡ime
 / 
CLK_TCK
);

3101 
ru§ge
.
osf_ru_¡ime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (rusage.osf_ru_stime.osf_tv_sec);

3102 
ru§ge
.
osf_ru_¡ime
.
osf_tv_u£c
 = 0;

3105 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
ru§ge
,  (
osf_ru§ge
), 
cu¼’t
->
id
);

3107 #–ià
	`defšed
(
__unix__
)

3109 
ru§ge
 
loÿl_ru§ge
;

3110 
osf_ru§ge
 
ru§ge
;

3113  
»gs
->
»gs_R
[
MD_REG_V0
] =

3114 
	`g‘ru§ge
 ( 
»gs
->
»gs_R
[
MD_REG_A0
], &
loÿl_ru§ge
);

3117 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3118 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3121 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3122 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3126 
ru§ge
.
osf_ru_utime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_utime
.
tv_£c
);

3127 
ru§ge
.
osf_ru_utime
.
osf_tv_u£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_utime
.
tv_u£c
);

3128 
ru§ge
.
osf_ru_utime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_utime
.
tv_£c
);

3129 
ru§ge
.
osf_ru_utime
.
osf_tv_u£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_utime
.
tv_u£c
);

3130 
ru§ge
.
osf_ru_¡ime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_¡ime
.
tv_£c
);

3131 
ru§ge
.
osf_ru_¡ime
.
osf_tv_u£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_¡ime
.
tv_u£c
);

3132 
ru§ge
.
osf_ru_¡ime
.
osf_tv_£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_¡ime
.
tv_£c
);

3133 
ru§ge
.
osf_ru_¡ime
.
osf_tv_u£c
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_¡ime
.
tv_u£c
);

3134 
ru§ge
.
osf_ru_maxrss
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_maxrss
);

3135 
ru§ge
.
osf_ru_ixrss
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_ixrss
);

3136 
ru§ge
.
osf_ru_idrss
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_idrss
);

3137 
ru§ge
.
osf_ru_i¤ss
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_i¤ss
);

3138 
ru§ge
.
osf_ru_mšæt
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_mšæt
);

3139 
ru§ge
.
osf_ru_majæt
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_majæt
);

3140 
ru§ge
.
osf_ru_nsw­
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_nsw­
);

3141 
ru§ge
.
osf_ru_šblock
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_šblock
);

3142 
ru§ge
.
osf_ru_oublock
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_oublock
);

3143 
ru§ge
.
osf_ru_msg¢d
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_msg¢d
);

3144 
ru§ge
.
osf_ru_msgrcv
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_msgrcv
);

3145 
ru§ge
.
osf_ru_nsigÇls
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_nsigÇls
);

3146 
ru§ge
.
osf_ru_nvcsw
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_nvcsw
);

3147 
ru§ge
.
osf_ru_nivcsw
 = 
	`MD_SWAPW
 (
loÿl_ru§ge
.
ru_nivcsw
);

3150 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
ru§ge
,  (
osf_ru§ge
), 
cu¼’t
->
id
);

3152 #–ià
	`defšed
(
__CYGWIN32__
è|| defšed(
_MSC_VER
)

3153 
	`w¬n
 ("syscall: called getrusage\n");

3154 
»gs
->
»gs_R
[7] = 0;

3156 #”rÜ 
No
 
	`g‘ru§ge
(è
im¶em’tiÚ
!

3160 
OSF_SYS_utimes
:

3162 
buf
[
MAXBUFSIZE
];

3165 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

3167 iàĞ 
»gs
->
»gs_R
[
MD_REG_A1
] == 0)

3169 #ià
	`defšed
(
hpux
è|| defšed(
__hpux
è|| defšed(
__i386__
)

3171  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`utime
 (
buf
, 
NULL
);

3172 #–ià
	`defšed
(
_MSC_VER
)

3174  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`utime
 (
buf
, 
NULL
);

3175 #–ià
	`defšed
(
__svr4__
è|| defšed(
__USLC__
è|| defšed(
unix
è|| defšed(
_AIX
è|| defšed(
__®pha
)

3176  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`utimes
 (
buf
, 
NULL
);

3177 #–ià
	`defšed
(
__CYGWIN32__
)

3178 
	`w¬n
 ("syscall: called utimes\n");

3180 #”rÜ 
No
 
	`utimes
(è
im¶em’tiÚ
!

3185 
osf_timev®
 
osf_tv®
[2];

3187 #iâdeà
_MSC_VER


3188 
timev®
 
tv®
[2];

3192 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
osf_tv®
, 2 *  (
osf_timev®
), 
cu¼’t
->
id
);

3194 #iâdeà
_MSC_VER


3196 
tv®
[0].
tv_£c
 = 
	`MD_SWAPW
 (
osf_tv®
[0].
osf_tv_£c
);

3197 
tv®
[0].
tv_u£c
 = 
	`MD_SWAPW
 (
osf_tv®
[0].
osf_tv_u£c
);

3198 
tv®
[1].
tv_£c
 = 
	`MD_SWAPW
 (
osf_tv®
[1].
osf_tv_£c
);

3199 
tv®
[1].
tv_u£c
 = 
	`MD_SWAPW
 (
osf_tv®
[1].
osf_tv_u£c
);

3202 #ià
	`defšed
(
hpux
è|| defšed(
__hpux
è|| defšed(
__svr4__
)

3205 
utimbuf
 
ubuf
;

3207 
ubuf
.
aùime
 = 
	`MD_SWAPW
 (
tv®
[0].
tv_£c
);

3208 
ubuf
.
modtime
 = 
	`MD_SWAPW
 (
tv®
[1].
tv_£c
);

3210  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`utime
 (
buf
, &
ubuf
);

3212 #–ià
	`defšed
(
_MSC_VER
)

3215 
_utimbuf
 
ubuf
;

3217 
ubuf
.
aùime
 = 
	`MD_SWAPW
 (
osf_tv®
[0].
osf_tv_£c
);

3218 
ubuf
.
modtime
 = 
	`MD_SWAPW
 (
osf_tv®
[1].
osf_tv_£c
);

3220  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`utime
 (
buf
, &
ubuf
);

3222 #–ià
	`defšed
(
__USLC__
è|| defšed(
unix
è|| defšed(
_AIX
è|| defšed(
__®pha
)

3223  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`utimes
 (
buf
, 
tv®
);

3224 #–ià
	`defšed
(
__CYGWIN32__
)

3225 
	`w¬n
 ("syscall: called utimes\n");

3227 #”rÜ 
No
 
	`utimes
(è
im¶em’tiÚ
!

3232 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3233 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3236 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3237 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3242 
OSF_SYS_g‘¾im™
:

3243 
OSF_SYS_£Œlim™
:

3244 #ifdeà
_MSC_VER


3245 
	`w¬n
 ("syscall get/setrlimit()‚ot yet implemented for MSC...");

3246 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3247 #–ià
	`defšed
(
__CYGWIN32__
)

3249 
	`w¬n
 ("syscall: called get/setrlimit\n");

3250 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3254 
osf_¾im™
 
osf_¾
;

3255 
¾im™
 
¾
;

3258 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_¾
,  (
osf_¾im™
), 
cu¼’t
->
id
);

3261 
¾
.
¾im_cur
 = 
	`MD_SWAPQ
 (
osf_¾
.
osf_¾im_cur
);

3262 
¾
.
¾im_max
 = 
	`MD_SWAPQ
 (
osf_¾
.
osf_¾im_max
);

3265 ià(
syscode
 =ğ
OSF_SYS_g‘¾im™
)

3266  
»gs
->
»gs_R
[
MD_REG_V0
] =

3267 
	`g‘¾im™
 (
»gs
->
»gs_R
[
MD_REG_A0
], &
¾
);

3270 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`£Œlim™
 (»gs->»gs_R[
MD_REG_A0
], &
¾
);

3273 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3274 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3277 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3278 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3282 
osf_¾
.
osf_¾im_cur
 = 
	`MD_SWAPQ
 (
¾
.
¾im_cur
);

3283 
osf_¾
.
osf_¾im_max
 = 
	`MD_SWAPQ
 (
¾
.
¾im_max
);

3286 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_¾
,  (
osf_¾im™
), 
cu¼’t
->
id
);

3291 
OSF_SYS_sig´ocmask
:

3293 
fœ¡
 = 
TRUE
;

3295 ià(
fœ¡
)

3297 
	`w¬n
 ("partially supported sigprocmask() call...");

3298 
fœ¡
 = 
FALSE
;

3310 
»gs
->
»gs_R
[
MD_REG_V0
] = 
SigMask
;

3311 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3313 
»gs
->
»gs_R
[
MD_REG_A0
])

3315 
OSF_SIG_BLOCK
:

3316 
SigMask
 |ğ
»gs
->
»gs_R
[
MD_REG_A1
];

3318 
OSF_SIG_UNBLOCK
:

3319 
SigMask
 &ğ~
»gs
->
»gs_R
[
MD_REG_A1
];

3321 
OSF_SIG_SETMASK
:

3322 
SigMask
 = 
»gs
->
»gs_R
[
MD_REG_A1
];

3325 
»gs
->
»gs_R
[
MD_REG_V0
] = 
EINVAL
;

3326 
»gs
->
»gs_R
[
MD_REG_A3
] = 1;

3330 ià(
»gs
->
»gs_R
[
MD_REG_A2
] > 0x10000000)

3331 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
SigMask
,  (SigMask));

3333 ià(
»gs
->
»gs_R
[
MD_REG_A1
] != 0)

3335 
»gs
->
»gs_R
[
MD_REG_A0
])

3337 
OSF_SIG_BLOCK
:

3338 
SigMask
 |ğ
»gs
->
»gs_R
[
MD_REG_A1
];

3340 
OSF_SIG_UNBLOCK
:

3341 
SigMask
 &ğ
»gs
->
»gs_R
[
MD_REG_A1
];

3343 
OSF_SIG_SETMASK
:

3344 
SigMask
 = 
»gs
->
»gs_R
[
MD_REG_A1
];

3347 
	`·nic
 ("illegal how valueo sigprocmask()");

3350 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3351 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3356 
OSF_SYS_sigaùiÚ
:

3358 
signum
;

3359 
fœ¡
 = 
TRUE
;

3361 ià(
fœ¡
)

3363 
	`w¬n
 ("partially supported sigaction() call...");

3364 
fœ¡
 = 
FALSE
;

3367 
signum
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3368 ià(
»gs
->
»gs_R
[
MD_REG_A1
] != 0)

3369 
sigaùiÚ_¬¿y
[
signum
] = 
»gs
->
»gs_R
[
MD_REG_A1
];

3371 ià(
»gs
->
»gs_R
[
MD_REG_A2
])

3372 
»gs
->
»gs_R
[
MD_REG_A2
] = 
sigaùiÚ_¬¿y
[
signum
];

3374 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3377 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3387 
OSF_SYS_sig¡ack
:

3388 
	`w¬n
 ("unsupported sigstack() call...");

3389 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3392 
OSF_SYS_sig»tuº
:

3394 
i
;

3395 
osf_sigcÚ‹xt
 
sc
;

3396 
fœ¡
 = 
TRUE
;

3398 ià(
fœ¡
)

3400 
	`w¬n
 ("partially supported sigreturn() call...");

3401 
fœ¡
 = 
FALSE
;

3404 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], &
sc
,  (
osf_sigcÚ‹xt
), 
cu¼’t
->
id
);

3406 
SigMask
 = 
	`MD_SWAPQ
 (
sc
.
sc_mask
);

3407 
»gs
->
»gs_NPC
 = 
	`MD_SWAPQ
 (
sc
.
sc_pc
);

3411 
i
 = 0; i < 32; ++i)

3412 
»gs
->
»gs_R
[
i
] = 
sc
.
sc_»gs
[i];

3413 
i
 = 0; i < 32; ++i)

3414 
»gs
->
»gs_F
.
q
[
i
] = 
sc
.
sc_å»gs
[i];

3415 
»gs
->
»gs_C
.
åü
 = 
sc
.
sc_åü
;

3419 
OSF_SYS_usw™ch
:

3420 
	`w¬n
 ("unsupported uswitch() call...");

3421 
»gs
->
»gs_R
[
MD_REG_V0
] =„egs->»gs_R[
MD_REG_A1
];

3424 
OSF_SYS_£tsysšfo
:

3425 
	`w¬n
 ("unsupported setsysinfo() call...");

3426 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

3429 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3430 
OSF_SYS_g‘dœ’Œ›s
:

3432 
i
, 
út
, 
osf_út
;

3433 
dœ’t
 *
p
;

3434 
swÜd_t
 
fd
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

3435 
md_addr_t
 
osf_buf
 = 
»gs
->
»gs_R
[
MD_REG_A1
];

3436 *
buf
;

3437 
swÜd_t
 
osf_nby‹s
 = 
»gs
->
»gs_R
[
MD_REG_A2
];

3438 
md_addr_t
 
osf_pba£
 = 
»gs
->
»gs_R
[
MD_REG_A3
];

3439 
sqwÜd_t
 
osf_ba£
;

3440 
ba£
 = 0;

3443 ià(!
osf_nby‹s
)

3444 
	`w¬n
 ("attemptingo get 0 directoryƒntries...");

3447 
buf
 = 
	`ÿÎoc
 (1, 
osf_nby‹s
);

3448 ià(!
buf
)

3449 
	`çl
 ("out of virtual memory");

3452 #ià
	`defšed
(
__svr4__
)

3453 
ba£
 = 
	`l£ek
 ((è
fd
, (
off_t
è0, 
SEEK_CUR
);

3454 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘d’ts
 ((è
fd
, (
dœ’t
 *è
buf
, (
size_t
è
osf_nby‹s
);

3456 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`g‘dœ’Œ›s
 ((è
fd
, 
buf
, (
size_t
è
osf_nby‹s
, &
ba£
);

3460 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3462 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3465 ià(
»gs
->
»gs_R
[
MD_REG_V0
] > 0)

3468 
i
 = 0, 
út
 = 0, 
osf_út
 = 0, 
p
 = (
dœ’t
 *è
buf
; cÁ < 
»gs
->
»gs_R
[
MD_REG_V0
] &&…->
d_»ş’
 > 0; i++, cnt +=…->d_reclen,… = (dirent *) (buf + cnt))

3470 
osf_dœ’t
 osf_dirent;

3472 
osf_dœ’t
.
d_šo
 = 
	`MD_SWAPW
 (
p
->d_ino);

3473 
osf_dœ’t
.
d_ÇmËn
 = 
	`MD_SWAPH
 (
	`¡¾’
 (
p
->
d_Çme
));

3474 
	`¡rıy
 (
osf_dœ’t
.
d_Çme
, 
p
->d_name);

3475 
osf_dœ’t
.
d_»ş’
 = 
	`MD_SWAPH
 (
	`OSF_DIRENT_SZ
 (
p
->
d_Çme
));

3477 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
osf_buf
 + 
osf_út
, &
osf_dœ’t
, 
	`OSF_DIRENT_SZ
 (
p
->
d_Çme
), 
cu¼’t
->
id
);

3478 
osf_út
 +ğ
	`OSF_DIRENT_SZ
 (
p
->
d_Çme
);

3481 ià(
osf_pba£
 != 0)

3483 
osf_ba£
 = (
sqwÜd_t
è
ba£
;

3484 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
osf_pba£
, &
osf_ba£
,  (osf_ba£), 
cu¼’t
->
id
);

3488 
»gs
->
»gs_R
[
MD_REG_V0
] = 
osf_út
;

3493 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3494 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3497 
	`ä“
 (
buf
);

3502 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3503 
OSF_SYS_Œunÿ‹
:

3505 
buf
[
MAXBUFSIZE
];

3508 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

3511  
»gs
->
»gs_R
[
MD_REG_V0
] =

3512 
	`Œunÿ‹
 (
buf
, (
size_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

3515 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3516 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3519 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3520 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3526 #ià!
	`defšed
(
__CYGWIN32__
è&& !defšed(
_MSC_VER
)

3527 
OSF_SYS_árunÿ‹
:

3529  
»gs
->
»gs_R
[
MD_REG_V0
] =

3530 
	`árunÿ‹
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

3531  (
size_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

3534 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3535 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3538 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3539 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3544 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3545 
OSF_SYS_¡©fs
:

3547 
buf
[
MAXBUFSIZE
];

3548 
osf_¡©fs
 
osf_sbuf
;

3549 
¡©fs
 
sbuf
;

3552 
	`mem_¡rıy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
, 
cu¼’t
->
id
);

3555  
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`¡©fs
 (
buf
, &
sbuf
);

3558 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3559 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3562 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3563 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3567 #ià
	`defšed
(
__svr4__
è|| defšed(
__osf__
)

3568 
osf_sbuf
.
f_ty³
 = 
	`MD_SWAPH
 (0x6969) ;

3570 
osf_sbuf
.
f_ty³
 = 
	`MD_SWAPH
 (
sbuf
.f_type);

3572 
osf_sbuf
.
f_fsize
 = 
	`MD_SWAPW
 (
sbuf
.
f_bsize
);

3573 
osf_sbuf
.
f_blocks
 = 
	`MD_SWAPW
 (
sbuf
.f_blocks);

3574 
osf_sbuf
.
f_bä“
 = 
	`MD_SWAPW
 (
sbuf
.f_bfree);

3575 
osf_sbuf
.
f_bava
 = 
	`MD_SWAPW
 (
sbuf
.f_bavail);

3576 
osf_sbuf
.
f_fes
 = 
	`MD_SWAPW
 (
sbuf
.f_files);

3577 
osf_sbuf
.
f_fä“
 = 
	`MD_SWAPW
 (
sbuf
.f_ffree);

3581 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_sbuf
,  (
osf_¡©buf
), 
cu¼’t
->
id
);

3586 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3587 
OSF_SYS_£Œegid
:

3590  
»gs
->
»gs_R
[
MD_REG_V0
] =

3591 
	`£Œegid
 ( (
gid_t
è
»gs
->
»gs_R
[
MD_REG_A0
],

3592  (
gid_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

3595 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3596 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3599 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3600 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3605 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3606 
OSF_SYS_£Œeuid
:

3609  
»gs
->
»gs_R
[
MD_REG_V0
] =

3610 
	`£Œeuid
 ( (
uid_t
è
»gs
->
»gs_R
[
MD_REG_A0
],

3611  (
uid_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

3614 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3615 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3618 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3619 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3624 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3625 
OSF_SYS_sock‘
:

3628  
»gs
->
»gs_R
[
MD_REG_V0
] =

3629 
	`sock‘
 ( 
	`xÏ‹_¬g
 ((è
»gs
->
»gs_R
[
MD_REG_A0
],

3630 
çmy_m­
, 
	`N_ELT
 (family_map), "socket(family)"),

3631  
	`xÏ‹_¬g
 ((è
»gs
->
»gs_R
[
MD_REG_A1
],

3632 
sockty³_m­
, 
	`N_ELT
 (socktype_map), "socket(type)"),

3633  
	`xÏ‹_¬g
 ((è
»gs
->
»gs_R
[
MD_REG_A2
],

3634 
çmy_m­
, 
	`N_ELT
 (family_map), "socket(proto)"));

3637 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3638 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3641 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3642 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3647 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3648 
OSF_SYS_cÚÃù
:

3650 
osf_sockaddr
 
osf_§
;

3655 ià(
»gs
->
»gs_R
[
MD_REG_A2
] >  (
osf_sockaddr
))

3657 
	`çl
 ("sockadd¸sizov”æow:‡dd¾’ = %d", 
»gs
->
»gs_R
[
MD_REG_A2
]);

3660 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
osf_§
, (è»gs->»gs_R[
MD_REG_A2
], 
cu¼’t
->
id
);

3662 
i
;

3664 
§
.
§_çmy
 = 
osf_§
.sa_family;

3665 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A2
]; i++)

3666 
§
.
§_d©a
[
i
] = 
osf_§
.sa_data[i];

3668  
»gs
->
»gs_R
[
MD_REG_V0
] =

3669 
	`cÚÃù
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

3670 (*è&
osf_§
, (è
»gs
->
»gs_R
[
MD_REG_A2
]);

3673 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3674 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3677 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3678 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3684 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3685 
OSF_SYS_uÇme
:

3688 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3689 
»gs
->
»gs_R
[
MD_REG_V0
] = 
EPERM
;

3693 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3694 
OSF_SYS_wr™ev
:

3696 
i
;

3697 *
buf
;

3698 
iovec
 *
iov
;

3701 
iov
 = (
iovec
 *è
	`m®loc
 ( 
»gs
->
»gs_R
[
MD_REG_A2
]

3702 *  (
iovec
));

3703 ià(!
iov
)

3704 
	`çl
 ("out of virtual memory in SYS_writev");

3707 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A2
]; i++)

3709 
osf_iovec
 
osf_iov
;

3712 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, ( 
»gs
->
»gs_R
[
MD_REG_A1
] + 
i
 *  (
osf_iovec
)), &
osf_iov
,  (osf_iovec), 
cu¼’t
->
id
);

3714 
iov
[
i
].
iov_Ën
 = 
	`MD_SWAPW
 (
osf_iov
.iov_len);

3715 ià(
osf_iov
.
iov_ba£
 !ğ0 && osf_iov.
iov_Ën
 != 0)

3717 
buf
 = (*è
	`ÿÎoc
 (
	`MD_SWAPW
 (
osf_iov
.
iov_Ën
),  ());

3718 ià(!
buf
)

3719 
	`çl
 ("out of virtual memory in SYS_writev");

3720 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
	`MD_SWAPQ
 (
osf_iov
.
iov_ba£
), 
buf
, 
	`MD_SWAPW
 (osf_iov.
iov_Ën
), 
cu¼’t
->
id
);

3721 
iov
[
i
].
iov_ba£
 = 
buf
;

3724 
iov
[
i
].
iov_ba£
 = 
NULL
;

3730  
»gs
->
»gs_R
[
MD_REG_V0
] =

3731 
	`wr™ev
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
], 
iov
,

3732  (
size_t
è
»gs
->
»gs_R
[
MD_REG_A2
]);

3734  
»gs
->
»gs_R
[
MD_REG_V0
] =ğ(
qwÜd_t
) - 1

3735 && 
”ºo
 =ğ
EAGAIN
);

3738 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3739 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3742 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3743 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3747 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A2
]; i++)

3749 ià(
iov
[
i
].
iov_ba£
)

3751 
	`ä“
 (
iov
[
i
].
iov_ba£
);

3752 
iov
[
i
].
iov_ba£
 = 
NULL
;

3755 
	`ä“
 (
iov
);

3760 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3761 
OSF_SYS_»adv
:

3763 
i
;

3764 *
buf
 = 
NULL
;

3765 
osf_iovec
 *
osf_iov
;

3766 
iovec
 *
iov
;

3769 
osf_iov
 = 
	`ÿÎoc
 ( 
»gs
->
»gs_R
[
MD_REG_A2
],

3770  (
osf_iovec
));

3771 ià(!
osf_iov
)

3772 
	`çl
 ("out of virtual memory in SYS_readv");

3774 
iov
 = 
	`ÿÎoc
 ( 
»gs
->
»gs_R
[
MD_REG_A2
],  (
iovec
));

3775 ià(!
iov
)

3776 
	`çl
 ("out of virtual memory in SYS_readv");

3779 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A2
]; i++)

3782 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, ( 
»gs
->
»gs_R
[
MD_REG_A1
] + 
i
 *  (
osf_iovec
)), &
osf_iov
[i],  (osf_iovec), 
cu¼’t
->
id
);

3784 
iov
[
i
].
iov_Ën
 = 
	`MD_SWAPW
 (
osf_iov
[i].iov_len);

3785 ià(
osf_iov
[
i
].
iov_ba£
 !ğ0 && osf_iov[i].
iov_Ën
 != 0)

3787 
buf
 = (*è
	`ÿÎoc
 (
	`MD_SWAPW
 (
osf_iov
[
i
].
iov_Ën
),  ());

3788 ià(!
buf
)

3789 
	`çl
 ("out of virtual memory in SYS_readv");

3790 
iov
[
i
].
iov_ba£
 = 
buf
;

3793 
iov
[
i
].
iov_ba£
 = 
NULL
;

3799  
»gs
->
»gs_R
[
MD_REG_V0
] =

3800 
	`»adv
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
], 
iov
,

3801  (
size_t
è
»gs
->
»gs_R
[
MD_REG_A2
]);

3803  
»gs
->
»gs_R
[
MD_REG_V0
] =ğ(
qwÜd_t
) - 1

3804 && 
”ºo
 =ğ
EAGAIN
);

3807 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A2
]; i++)

3809 ià(
osf_iov
[
i
].
iov_ba£
 != 0)

3811 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
	`MD_SWAPQ
 (
osf_iov
[
i
].
iov_ba£
), 
iov
[i].iov_ba£, 
	`MD_SWAPW
 (osf_iov[i].
iov_Ën
), 
cu¼’t
->
id
);

3816 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3817 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3820 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3821 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3825 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A2
]; i++)

3827 ià(
iov
[
i
].
iov_ba£
)

3829 
	`ä“
 (
iov
[
i
].
iov_ba£
);

3830 
iov
[
i
].
iov_ba£
 = 
NULL
;

3834 ià(
osf_iov
)

3835 
	`ä“
 (
osf_iov
);

3836 ià(
iov
)

3837 
	`ä“
 (
iov
);

3842 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3843 
OSF_SYS_£tsockİt
:

3845 *
buf
;

3846 
xÏ‹_bË_t
 *
m­
;

3847 
nm­
;

3852 iàĞ 
»gs
->
»gs_R
[
MD_REG_A3
] != 0

3853 && 
»gs
->
»gs_R
[
MD_REG_A4
] != 0)

3855 
buf
 = 
	`ÿÎoc
 (1, (
size_t
è
»gs
->
»gs_R
[
MD_REG_A4
]);

3856 ià(!
buf
)

3857 
	`çl
 ("cannot‡llocate memory in OSF_SYS_setsockopt");

3860 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A3
], 
buf
, (è»gs->»gs_R[
MD_REG_A4
], 
cu¼’t
->
id
);

3863 
buf
 = 
NULL
;

3866 ià((è
»gs
->
»gs_R
[
MD_REG_A1
] =ğ
OSF_SOL_SOCKET
)

3868 
m­
 = 
sockİt_m­
;

3869 
nm­
 = 
	`N_ELT
 (
sockİt_m­
);

3871 ià((è
»gs
->
»gs_R
[
MD_REG_A1
] =ğ
OSF_SOL_TCP
)

3873 
m­
 = 
tıİt_m­
;

3874 
nm­
 = 
	`N_ELT
 (
tıİt_m­
);

3878 
	`w¬n
 ("nØŒª¦©iÚ m­‡vaabË fÜ `£tsockİt()': %d", (è
»gs
->
»gs_R
[
MD_REG_A1
]);

3879 
m­
 = 
sockİt_m­
;

3880 
nm­
 = 
	`N_ELT
 (
sockİt_m­
);

3883  
»gs
->
»gs_R
[
MD_REG_V0
] =

3884 
	`£tsockİt
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

3885  
	`xÏ‹_¬g
 ((è
»gs
->
»gs_R
[
MD_REG_A1
],

3886 
sockËv–_m­
, 
	`N_ELT
 (socklevel_map), "setsockopt(level)"),

3887  
	`xÏ‹_¬g
 ((è
»gs
->
»gs_R
[
MD_REG_A2
],

3888 
m­
, 
nm­
, "setsockopt(opt)"),

3889  
buf
,

3890  
»gs
->
»gs_R
[
MD_REG_A4
]);

3893 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3894 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3897 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3898 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3901 ià(
buf
 !ğ
NULL
)

3902 
	`ä“
 (
buf
);

3907 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3908 
OSF_SYS_Şd_g‘sockÇme
:

3911 *
buf
;

3912 
wÜd_t
 
osf_add¾’
;

3914 #ià
	`defšed
(
_AIX
)

3915 
add¾’
;

3917 
add¾’
;

3921 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
osf_add¾’
,  (osf_add¾’), 
cu¼’t
->
id
);

3922 
add¾’
 = (è
osf_add¾’
;

3923 ià(
add¾’
 != 0)

3925 
buf
 = 
	`ÿÎoc
 (1, 
add¾’
);

3926 ià(!
buf
)

3927 
	`çl
 ("cannot‡llocate memory in OSF_SYS_old_getsockname");

3930 
buf
 = 
NULL
;

3932  
»gs
->
»gs_R
[
MD_REG_V0
] =

3933 
	`g‘sockÇme
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

3934  (
sockaddr
 *è
buf
,

3935  &
add¾’
);

3938 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3939 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3942 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3943 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3947 ià(
add¾’
 != 0)

3948 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
, 
add¾’
, 
cu¼’t
->
id
);

3949 
osf_add¾’
 = (
qwÜd_t
è
add¾’
;

3950 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
osf_add¾’
,  (osf_add¾’), 
cu¼’t
->
id
);

3952 ià(
buf
 !ğ
NULL
)

3953 
	`ä“
 (
buf
);

3958 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

3959 
OSF_SYS_Şd_g‘³”Çme
:

3962 *
buf
;

3963 
wÜd_t
 
osf_add¾’
;

3965 #ià
	`defšed
(
_AIX
)

3966 
add¾’
;

3968 
add¾’
;

3972 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
osf_add¾’
,  (osf_add¾’), 
cu¼’t
->
id
);

3973 
add¾’
 = (è
osf_add¾’
;

3974 ià(
add¾’
 != 0)

3976 
buf
 = 
	`ÿÎoc
 (1, 
add¾’
);

3977 ià(!
buf
)

3978 
	`çl
 ("cannot‡llocate memory in OSF_SYS_old_getsockname");

3981 
buf
 = 
NULL
;

3983  
»gs
->
»gs_R
[
MD_REG_V0
] =

3984 
	`g‘³”Çme
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

3985  (
sockaddr
 *è
buf
,

3986  &
add¾’
);

3989 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

3990 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

3993 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

3994 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

3998 ià(
add¾’
 != 0)

3999 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], 
buf
, 
add¾’
, 
cu¼’t
->
id
);

4000 
osf_add¾’
 = (
qwÜd_t
è
add¾’
;

4001 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
osf_add¾’
,  (osf_add¾’), 
cu¼’t
->
id
);

4003 ià(
buf
 !ğ
NULL
)

4004 
	`ä“
 (
buf
);

4009 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4010 
OSF_SYS_£tgid
:

4013  
»gs
->
»gs_R
[
MD_REG_V0
] =

4014 
	`£tgid
 ( (
gid_t
è
»gs
->
»gs_R
[
MD_REG_A0
]);

4017 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4018 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4021 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4022 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4027 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4028 
OSF_SYS_£tuid
:

4031  
»gs
->
»gs_R
[
MD_REG_V0
] =

4032 
	`£tuid
 ( (
uid_t
è
»gs
->
»gs_R
[
MD_REG_A0
]);

4035 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4036 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4039 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4040 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4045 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4046 
OSF_SYS_g‘´iÜ™y
:

4049  
»gs
->
»gs_R
[
MD_REG_V0
] =

4050 
	`g‘´iÜ™y
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

4051  (è
»gs
->
»gs_R
[
MD_REG_A1
]);

4053 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4054 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4057 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4058 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4063 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4064 
OSF_SYS_£riÜ™y
:

4067  
»gs
->
»gs_R
[
MD_REG_V0
] =

4068 
	`£riÜ™y
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

4069  (è
»gs
->
»gs_R
[
MD_REG_A1
],

4070  (è
»gs
->
»gs_R
[
MD_REG_A2
]);

4073 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4074 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4077 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4078 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4083 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4084 
OSF_SYS_£Ëù
:

4086 
fd_£t
 
»adfd
, 
wr™efd
, 
exû±fd
;

4087 
fd_£t
 *
»adfdp
, *
wr™efdp
, *
exû±fdp
;

4088 
timev®
 
timeout
, *
timeou
;

4091 iàĞ 
»gs
->
»gs_R
[
MD_REG_A1
] != 0)

4093 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
»adfd
,  (
fd_£t
), 
cu¼’t
->
id
);

4094 
»adfdp
 = &
»adfd
;

4097 
»adfdp
 = 
NULL
;

4100 iàĞ 
»gs
->
»gs_R
[
MD_REG_A2
] != 0)

4102 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
wr™efd
,  (
fd_£t
), 
cu¼’t
->
id
);

4103 
wr™efdp
 = &
wr™efd
;

4106 
wr™efdp
 = 
NULL
;

4109 iàĞ 
»gs
->
»gs_R
[
MD_REG_A3
] != 0)

4111 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A3
], &
exû±fd
,  (
fd_£t
), 
cu¼’t
->
id
);

4112 
exû±fdp
 = &
exû±fd
;

4115 
exû±fdp
 = 
NULL
;

4118 iàĞ 
»gs
->
»gs_R
[
MD_REG_A4
] != 0)

4120 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, 
»gs
->
»gs_R
[
MD_REG_A4
], &
timeout
,  (
timev®
), 
cu¼’t
->
id
);

4121 
timeou
 = &
timeout
;

4124 
timeou
 = 
NULL
;

4126 #ià
	`defšed
(
hpux
è|| defšed(
__hpux
)

4128  
»gs
->
»gs_R
[
MD_REG_V0
] =

4129 
	`£Ëù
 ( 
»gs
->
»gs_R
[
MD_REG_A0
],

4130 (*è
»adfdp
, (*è
wr™efdp
, (*è
exû±fdp
, 
timeou
);

4133  
»gs
->
»gs_R
[
MD_REG_V0
] =

4134 
	`£Ëù
 ( 
»gs
->
»gs_R
[
MD_REG_A0
],

4135 
»adfdp
, 
wr™efdp
, 
exû±fdp
, 
timeou
);

4139 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4140 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4143 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4144 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4148 iàĞ 
»gs
->
»gs_R
[
MD_REG_A1
] != 0)

4149 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A1
], &
»adfd
,  (
fd_£t
), 
cu¼’t
->
id
);

4152 iàĞ 
»gs
->
»gs_R
[
MD_REG_A2
] != 0)

4153 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A2
], &
wr™efd
,  (
fd_£t
), 
cu¼’t
->
id
);

4156 iàĞ 
»gs
->
»gs_R
[
MD_REG_A3
] != 0)

4157 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A3
], &
exû±fd
,  (
fd_£t
), 
cu¼’t
->
id
);

4160 iàĞ 
»gs
->
»gs_R
[
MD_REG_A4
] != 0)

4161 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A4
], &
timeout
,  (
timev®
), 
cu¼’t
->
id
);

4166 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4167 
OSF_SYS_shutdown
:

4170  
»gs
->
»gs_R
[
MD_REG_V0
] =

4171 
	`shutdown
 ( (è
»gs
->
»gs_R
[
MD_REG_A0
],

4172  (è
»gs
->
»gs_R
[
MD_REG_A1
]);

4175 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4176 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4179 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4180 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4185 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4186 
OSF_SYS_pŞl
:

4188 
i
;

4189 
pŞlfd
 *
fds
;

4192 
fds
 = 
	`ÿÎoc
 ( 
»gs
->
»gs_R
[
MD_REG_A1
],  (
pŞlfd
));

4193 ià(!
fds
)

4194 
	`çl
 ("out of virtual memory in SYS_poll");

4197 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A1
]; i++)

4200 
	`mem_bcİy
 (
mem_â
, 
mem
, 
R—d
, ( 
»gs
->
»gs_R
[
MD_REG_A0
] + 
i
 *  (
pŞlfd
)), &
fds
[i],  (pŞlfd), 
cu¼’t
->
id
);

4204  
»gs
->
»gs_R
[
MD_REG_V0
] =

4205 
	`pŞl
 ( 
fds
,

4206  (è
»gs
->
»gs_R
[
MD_REG_A1
],

4207  (è
»gs
->
»gs_R
[
MD_REG_A2
]);

4210 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4211 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4214 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4215 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4219 
i
 = 0; i < 
»gs
->
»gs_R
[
MD_REG_A1
]; i++)

4222 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, ( 
»gs
->
»gs_R
[
MD_REG_A0
] + 
i
 *  (
pŞlfd
)), &
fds
[i],  (pŞlfd), 
cu¼’t
->
id
);

4226 
	`ä“
 (
fds
);

4231 
OSF_SYS_u¦“p_th»ad
:

4233 
	`årštf
 (
¡d”r
, "u¦“p(%d)\n", (è
»gs
->
»gs_R
[
MD_REG_A0
]);

4235 #ifdeà
®pha


4236 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`u¦“p
 ((è»gs->»gs_R[
MD_REG_A0
]);

4238 
	`u¦“p
 ((è
»gs
->
»gs_R
[
MD_REG_A0
]);

4239 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4242 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4243 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4246 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4247 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4250 
	`w¬n
 ("unsupported usleep_thread() call...");

4251 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4255 #ià!
	`defšed
(
MIN_SYSCALL_MODE
)

4256 
OSF_SYS_g‘ho¡Çme
:

4259 *
buf
;

4261 
buf
 = 
	`m®loc
 ( (
size_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

4262 ià(!
buf
)

4263 
	`çl
 ("out of virtual memory in gethostname()");

4265  
»gs
->
»gs_R
[
MD_REG_V0
] =

4266 
	`g‘ho¡Çme
 ( 
buf
,

4267  (
size_t
è
»gs
->
»gs_R
[
MD_REG_A1
]);

4270 ià(
»gs
->
»gs_R
[
MD_REG_V0
] !ğ(
qwÜd_t
) - 1)

4271 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4274 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

4275 
»gs
->
»gs_R
[
MD_REG_V0
] = 
”ºo
;

4279 
	`mem_bcİy
 (
mem_â
, 
mem
, 
Wr™e
, 
»gs
->
»gs_R
[
MD_REG_A0
], 
buf
,„egs->»gs_R[
MD_REG_A1
], 
cu¼’t
->
id
);

4284 
OSF_SYS_madvi£
:

4285 
	`w¬n
 ("unsupported madvise() call ignored...");

4286 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4288 
OSF_SYS_fÜk
:

4289 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4290 
	`æushWr™eBufãr
 (
út
);

4291 #ià
	`defšed
(
MTA
)

4295 ià(
numcÚ‹xts
 >ğ
MAXTHREADS
)

4296 
	`çl
 ("Total‚umber ofhreads hasƒxceededhe†imit");

4299 
	`årštf
 (
¡d”r
, "CÚ‹xˆ%d AÎoÿtšgh»ad ID‡ˆ%Îd: %d\n", 
cu¼’t
->
id
, (
numcÚ‹xts
), 
sim_num_š¢
);

4300 
	`´štf
 ("CÚ‹xˆ%d AÎoÿtšgh»ad ID: %d‡ˆ%Îd\n", 
cu¼’t
->
id
, (
numcÚ‹xts
), 
sim_num_š¢
);

4301 
	`fæush
 (
¡d”r
);

4302 
	`fæush
 (
¡dout
);

4304 
ÃwCÚ‹xt
 = 
thecÚ‹xts
[
numcÚ‹xts
] = (
cÚ‹xt
 *è
	`ÿÎoc
 (1,  (context));

4305 ià(
ÃwCÚ‹xt
 =ğ
NULL
)

4307 
	`årštf
 (
¡d”r
, "Allocation of‚ewhreads in fork failed\n");

4308 
	`ex™
 (1);

4313 
ÃwCÚ‹xt
->
¬gv
 = (**è
	`m®loc
 (30 *  (*));

4314 ià(
ÃwCÚ‹xt
->
¬gv
 =ğ
NULL
)

4316 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

4317 
	`ex™
 (1);

4320 #ifdef 
COLLECT_STAT_STARTUP


4321 
thrdP”JobCÁ
++;

4322 ià(
thrdP”JobCÁ
 =ğ
THREADS_PER_JOB
)

4323 
cu¼’t
->
ç¡fwd_dÚe
 = 1;

4324 
ÃwCÚ‹xt
->
ç¡fwd_dÚe
 = 1;

4325 
ÃwCÚ‹xt
->
b¬r›rR—ched
 = 0;

4326 
ÃwCÚ‹xt
->
¡¬tR—ched
 = 0;

4329 #ifdef 
EDA


4330 
ÃwCÚ‹xt
->
´edQueue
 = 
NULL
;

4331 
ÃwCÚ‹xt
->
lockStus
 = 0;

4332 
ÃwCÚ‹xt
->
boqIndex
 = -1;

4334 
út
 = 0; cnt < 30; cnt++)

4336 
ÃwCÚ‹xt
->
¬gv
[
út
] = 
NULL
;

4337 
ÃwCÚ‹xt
->
¬gv
[
út
] = (*è
	`m®loc
 (240 *  ());

4338 ià(
ÃwCÚ‹xt
->
¬gv
[
út
] =ğ
NULL
)

4340 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

4341 
	`ex™
 (1);

4345 
ÃwCÚ‹xt
->
sim_´ogout
 = (*è
	`m®loc
 (240);

4346 ià(
ÃwCÚ‹xt
->
sim_´ogout
 =ğ
NULL
)

4348 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

4349 
	`ex™
 (1);

4351 
ÃwCÚ‹xt
->
sim_´ogš
 = (*è
	`m®loc
 (240);

4352 ià(
ÃwCÚ‹xt
->
sim_´ogš
 =ğ
NULL
)

4354 
	`årštf
 (
¡d”r
, "Error in‡llocation\n");

4355 
	`ex™
 (1);

4360 
ÃwCÚ‹xt
->
¬gc
 = 0;

4361 
ÃwCÚ‹xt
->
sim_šputfd
 = 0;

4362 
ÃwCÚ‹xt
->
sim_´ogfd
 = 
NULL
;

4364 
ÃwCÚ‹xt
->
ç¡fwd_couÁ
 = 0;

4366 
ÃwCÚ‹xt
->
id
 = 
numcÚ‹xts
;

4367 
ÃwCÚ‹xt
->
ma¡”id
 = 
cu¼’t
->
id
;

4369 
ÃwCÚ‹xt
->
·»Á
 = 
cu¼’t
->
id
;

4371 
ÃwCÚ‹xt
->
aùive_this_cyşe
 = 1;

4373 
ÃwCÚ‹xt
->
num_chd
 = 0;

4374 
cu¼’t
->
num_chd
++;

4375 
cu¼’t
->
num_chd_aùive
++;

4379 
cŞËùStB¬r›r
++;

4380 
cŞËùStStİ
[
ÃwCÚ‹xt
->
id
] = 1;

4385 
ÃwCÚ‹xt
->
aùu®id
 = ++
th»adFÜked
[
cu¼’t
->
id
];

4387 ià(
th»adFÜked
[
cu¼’t
->
id
] =ğ(
THREADS_PER_JOB
-1))

4388 
cŞËùStStİ
[
cu¼’t
->
id
] = 1;

4391 
ÃwCÚ‹xt
->
¬gfe
 = 
cu¼’t
->argfile;

4392 
	`memıy
 (
ÃwCÚ‹xt
->
sim_´ogout
, 
cu¼’t
->sim_progout, 240);

4393 
	`memıy
 (
ÃwCÚ‹xt
->
sim_´ogš
, 
cu¼’t
->sim_progin, 240);

4399 
ÃwCÚ‹xt
->
sim_´ogfd
 = 
cu¼’t
->sim_progfd;

4402 
ÃwCÚ‹xt
->
sim_šputfd
 = 
cu¼’t
->sim_inputfd;

4405 
ÃwCÚ‹xt
->
âame
 = 
NULL
;

4406 
út
 = 0; cnt < 30; cnt++)

4408 ià(
cu¼’t
->
¬gv
[
út
])

4410 
	`memıy
 (
ÃwCÚ‹xt
->
¬gv
[
út
], 
cu¼’t
->argv[cnt], 240);

4413 
ÃwCÚ‹xt
->
¬gc
 = 
cu¼’t
->argc;

4417 
	`memıy
 (&
ÃwCÚ‹xt
->
»gs
, &
cu¼’t
->»gs,  (
»gs_t
));

4419 
ÃwCÚ‹xt
->
»gs
.
th»adid
 = 
numcÚ‹xts
;

4421 #ià
PROCESS_MODEL


4423 
ÃwCÚ‹xt
->
mem
 = (
mem_t
 *è
	`ÿÎoc
 ( (mem_t), 1);

4424 
ÃwCÚ‹xt
->
mem
->
th»adid
 = 
numcÚ‹xts
;

4425 
ÃwCÚ‹xt
->
mem
->
·ge_couÁ
 = 
cu¼’t
->mem->page_count;

4426 
ÃwCÚ‹xt
->
mem
->
±ab_mis£s
 = 
cu¼’t
->mem->ptab_misses;

4427 
ÃwCÚ‹xt
->
mem
->
±ab_acûs£s
 = 
cu¼’t
->mem->ptab_accesses;

4431 
ÃwCÚ‹xt
->
mem
->
Çme
 = 
cu¼’t
->mem->name;

4432 
út
 = 0; cÁ < 
MEM_PTAB_SIZE
; cnt++)

4434 ià(
cu¼’t
->
mem
->
±ab
[
út
] !ğ
NULL
)

4437 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
] = (
mem_±e_t
 *è
	`ÿÎoc
 ( (mem_pte_t), 1);

4438 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
]->
g
 = 
cu¼’t
->mem->ptab[cnt]->tag;

4440 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
]->
·ge
 = (
by‹_t
 *è
	`ÿÎoc
 (
MD_PAGE_SIZE
, 1);

4441 
	`memıy
 (
ÃwCÚ‹xt
->
mem
->
±ab
[
út
]->
·ge
, 
cu¼’t
->mem->±ab[út]->·ge, 
MD_PAGE_SIZE
);

4443 
tmpMemPŒS
 = 
cu¼’t
->
mem
->
±ab
[
út
]->
Ãxt
;

4444 
tmpMemPŒD
 = 
ÃwCÚ‹xt
->
mem
->
±ab
[
út
];

4445 
tmpMemPŒS
 !ğ
NULL
)

4447 
tmpMemPŒ
 = (
mem_±e_t
 *è
	`ÿÎoc
 ( (mem_pte_t), 1);

4448 
tmpMemPŒ
->
g
 = 
tmpMemPŒS
->tag;

4449 
tmpMemPŒ
->
·ge
 = (
by‹_t
 *è
	`ÿÎoc
 (
MD_PAGE_SIZE
, 1);

4450 
tmpMemPŒ
->
Ãxt
 = 
NULL
;

4451 
	`memıy
 (
tmpMemPŒ
->
·ge
, 
tmpMemPŒS
->·ge, 
MD_PAGE_SIZE
);

4452 
tmpMemPŒD
->
Ãxt
 = 
tmpMemPŒ
;

4453 
tmpMemPŒD
 = 
tmpMemPŒ
;

4454 
tmpMemPŒS
 =mpMemPŒS->
Ãxt
;

4461 
ÃwCÚ‹xt
->
mem
 = 
cu¼’t
->mem;

4465 
ÃwCÚ‹xt
->
ld_rg‘_big_’dŸn
 = 
cu¼’t
->ld_target_big_endian;

4467 
ÃwCÚ‹xt
->
ld_‹xt_ba£
 = 
cu¼’t
->ld_text_base;

4468 
ÃwCÚ‹xt
->
ld_‹xt_size
 = 
cu¼’t
->ld_text_size;

4469 
ÃwCÚ‹xt
->
ld_´og_’Œy
 = 
cu¼’t
->ld_prog_entry;

4470 
ÃwCÚ‹xt
->
ld_d©a_ba£
 = 
cu¼’t
->ld_data_base;

4471 
ÃwCÚ‹xt
->
ld_d©a_size
 = 
cu¼’t
->ld_data_size;

4472 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_GP
] = 
cu¼’t
->regs.regs_R[MD_REG_GP];

4475 
ÃwCÚ‹xt
->
sim_sw­_by‹s
 = 
cu¼’t
->sim_swap_bytes;

4476 
ÃwCÚ‹xt
->
sim_sw­_wÜds
 = 
cu¼’t
->sim_swap_words;

4484 #ià
PROCESS_MODEL


4485 
ÃwCÚ‹xt
->
ld_¡ack_ba£
 = 
cu¼’t
->
¡ack_ba£
;

4486 
ÃwCÚ‹xt
->
¡ack_ba£
 = 
cu¼’t
->stack_base;

4488 
ÃwCÚ‹xt
->
ld_¡ack_ba£
 = 
cu¼’t
->
¡ack_ba£
;

4489 
cu¼’t
->
¡ack_ba£
 = cu¼’t->¡ack_ba£ - 
STACKSIZE
;

4490 
ÃwCÚ‹xt
->
¡ack_ba£
 = 
cu¼’t
->stack_base;

4494 
p
 = 
	`ÿÎoc
 (
STACKSIZE
,  ());

4495 
	`mem_bcİy
 (
mem_acûss
, 
cu¼’t
->
mem
, 
R—d
, cu¼’t->
ld_¡ack_ba£
 - 
STACKSIZE
, 
p
, STACKSIZE, cu¼’t->
id
);

4496 
	`mem_bcİy
 (
mem_acûss
, 
cu¼’t
->
mem
, 
Wr™e
, 
ÃwCÚ‹xt
->
ld_¡ack_ba£
 - 
STACKSIZE
, 
p
, STACKSIZE, cu¼’t->
id
);

4501 
ÃwCÚ‹xt
->
ld_¡ack_size
 = 
cu¼’t
->ld_stack_size;

4502 
ÃwCÚ‹xt
->
ld_’vœÚ_ba£
 =‚ewCÚ‹xt->ld_’vœÚ_ba£ - 
STACKSIZE
;

4503 
ÃwCÚ‹xt
->
ld_brk_pošt
 = 
cu¼’t
->ld_brk_point;

4504 #ià
PROCESS_MODEL


4505 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_SP
] = 
cu¼’t
->regs.regs_R[MD_REG_SP];

4507 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_SP
] = 
cu¼’t
->»gs.»gs_R[MD_REG_SP] - cu¼’t->
ld_¡ack_ba£
 +‚ewContext->ld_stack_base;

4509 
ÃwCÚ‹xt
->
»gs
.
»gs_PC
 = 
cu¼’t
->regs.regs_PC;

4511 
ÃwCÚ‹xt
->
ld_¡ack_mš
 =‚ewCÚ‹xt->
ld_¡ack_ba£
;

4514 
ÃwCÚ‹xt
->
sim_eio_âame
 = 
NULL
;

4515 
ÃwCÚ‹xt
->
sim_chk±_âame
 = 
NULL
;

4516 
ÃwCÚ‹xt
->
sim_eio_fd
 = 
NULL
;

4517 
ÃwCÚ‹xt
->
ld_´og_âame
 = 
NULL
;

4521 
ÃwCÚ‹xt
->
»Çme_acûss
 = 0;

4522 
ÃwCÚ‹xt
->
rob1_acûss
 = 0;

4523 
ÃwCÚ‹xt
->
rob2_acûss
 = 0;

4524 
ÃwCÚ‹xt
->
sim_num_š¢
 = 0;

4525 
ÃwCÚ‹xt
->
sim_tÙ®_š¢
 = 0;

4526 
ÃwCÚ‹xt
->
ãtch_num_š¢
 = 0;

4527 
ÃwCÚ‹xt
->
ãtch_tÙ®_š¢
 = 0;

4528 
ÃwCÚ‹xt
->
sim_num_»fs
 = 0;

4529 
ÃwCÚ‹xt
->
sim_tÙ®_»fs
 = 0;

4530 
ÃwCÚ‹xt
->
sim_num_lßds
 = 0;

4531 
ÃwCÚ‹xt
->
sim_tÙ®_lßds
 = 0;

4532 
ÃwCÚ‹xt
->
sim_num_b¿nches
 = 0;

4533 
ÃwCÚ‹xt
->
sim_tÙ®_b¿nches
 = 0;

4534 
ÃwCÚ‹xt
->
sim_šv®id_addrs
 = 0;

4535 
ÃwCÚ‹xt
->
š¡_£q
 = 0;

4536 
ÃwCÚ‹xt
->
±¿û_£q
 = 0;

4537 
ÃwCÚ‹xt
->
ruu_ãtch_issue_d–ay
 = 0;

4538 
ÃwCÚ‹xt
->
wa™_fÜ_ãtch
 = 0;

4539 #ifdef 
CACHE_MISS_STAT


4540 
ÃwCÚ‹xt
->
¥ec_rdb_miss_couÁ
 = 0;

4541 
ÃwCÚ‹xt
->
¥ec_wrb_miss_couÁ
 = 0;

4542 
ÃwCÚ‹xt
->
nÚ_¥ec_rdb_miss_couÁ
 = 0;

4543 
ÃwCÚ‹xt
->
nÚ_¥ec_wrb_miss_couÁ
 = 0;

4544 
ÃwCÚ‹xt
->
š¡_miss_couÁ
 = 0;

4545 
ÃwCÚ‹xt
->
lßd_miss_couÁ
 = 0;

4546 
ÃwCÚ‹xt
->
¡Üe_miss_couÁ
 = 0;

4549 
ÃwCÚ‹xt
->
ãtch_num_thrd
 = 0;

4550 
ÃwCÚ‹xt
->
iissueq_thrd
 = 0;

4551 
ÃwCÚ‹xt
->
fissueq_thrd
 = 0;

4552 
ÃwCÚ‹xt
->
icouÁ_thrd
 = 0;

4553 
ÃwCÚ‹xt
->
Ï¡_İ
.
Ãxt
 = 
NULL
;

4554 
ÃwCÚ‹xt
->
Ï¡_İ
.
rs
 = 
NULL
;

4555 
ÃwCÚ‹xt
->
Ï¡_İ
.
g
 = 0;

4557 
ÃwCÚ‹xt
->
ãtch_»dœeùed
 = 
FALSE
;

4558 
ÃwCÚ‹xt
->
buck‘_ä“_li¡
 = 
NULL
;

4559 
ÃwCÚ‹xt
->
¡¬t_cyşe
 = 
sim_cyşe
;

4560 
ÃwCÚ‹xt
->
¡®lTh»ad
 = 0;

4561 
ÃwCÚ‹xt
->
wa™FÜ
 = 0;

4562 
ÃwCÚ‹xt
->
WBFuÎ
 = 0;

4563 
ÃwCÚ‹xt
->
wa™FÜB¿nchResŞve
 = 0;

4564 
ÃwCÚ‹xt
->
NRLoÿlH™sLßd
 = 0;

4565 
ÃwCÚ‹xt
->
NRRemÙeH™sLßd
 = 0;

4566 
ÃwCÚ‹xt
->
NRMissLßd
 = 0;

4567 
ÃwCÚ‹xt
->
NRLoÿlH™sStÜe
 = 0;

4568 
ÃwCÚ‹xt
->
NRRemÙeH™sStÜe
 = 0;

4569 
ÃwCÚ‹xt
->
NRMissStÜe
 = 0;

4570 
ÃwCÚ‹xt
->
´e£Á
 = 0;

4585 
ÃwCÚ‹xt
->
D©aLoÿtÜH™
 = 0;

4586 
ÃwCÚ‹xt
->
D©aLoÿtÜMiss
 = 0;

4589 
ÃwCÚ‹xt
->
¥ec_mode
 = 
cu¼’t
->spec_mode;

4594 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_R
, 
R_BMAP_SZ
);

4595 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_F
, 
F_BMAP_SZ
);

4596 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_C
, 
C_BMAP_SZ
);

4597 
út
 = 0; cÁ < 
STORE_HASH_SIZE
; cnt++)

4599 
ÃwCÚ‹xt
->
¡Üe_hbË
[
út
] = 
NULL
;

4602 
út
 = 0; cÁ < 
MD_TOTAL_REGS
; cnt++)

4604 
ÃwCÚ‹xt
->
ü—‹_veùÜ
[
út
] = 
CVLINK_NULL
;

4605 
ÃwCÚ‹xt
->
ü—‹_veùÜ_¹
[
út
] = 0;

4606 
ÃwCÚ‹xt
->
¥ec_ü—‹_veùÜ
[
út
] = 
CVLINK_NULL
;

4607 
ÃwCÚ‹xt
->
¥ec_ü—‹_veùÜ_¹
[
út
] = 0;

4610 
	`BITMAP_CLEAR_MAP
 (
ÃwCÚ‹xt
->
u£_¥ec_cv
, 
CV_BMAP_SZ
);

4613 
ÃwCÚ‹xt
->
RUU
 = 
	`ÿÎoc
 (
RUU_size
,  (
RUU_¡©iÚ
));

4615 
út
 = 0; cÁ < 
RUU_size
; cnt++)

4616 
ÃwCÚ‹xt
->
RUU
[
út
].
šdex
 = cnt;

4617 
ÃwCÚ‹xt
->
RUU_num
 = 0;

4618 
ÃwCÚ‹xt
->
RUU_h—d
 =‚ewCÚ‹xt->
RUU_
 = 0;

4619 
ÃwCÚ‹xt
->
RUU_couÁ_thrd
 = 0;

4620 
ÃwCÚ‹xt
->
RUU_fcouÁ_thrd
 = 0;

4622 
ÃwCÚ‹xt
->
numDL1CacheAcûss
 = 0;

4623 
ÃwCÚ‹xt
->
numLoÿlH™s
 = 0;

4624 
ÃwCÚ‹xt
->
numRemÙeH™s
 = 0;

4625 
ÃwCÚ‹xt
->
numMemAcûss
 = 0;

4626 
ÃwCÚ‹xt
->
numR—dCacheAcûss
 = 0;

4627 
ÃwCÚ‹xt
->
numWr™eCacheAcûss
 = 0;

4628 
ÃwCÚ‹xt
->
numInv®id©iÚs
 = 0;

4629 
ÃwCÚ‹xt
->
numDL1H™s
 = 0;

4630 
ÃwCÚ‹xt
->
numDL1Mis£s
 = 0;

4631 
ÃwCÚ‹xt
->
numIn¢
 = 0;

4632 
ÃwCÚ‹xt
->
numIn¡rB¬r›r
 = 0;

4633 
ÃwCÚ‹xt
->
numCyşeB¬r›r
 = 0;

4634 
ÃwCÚ‹xt
->
tÙ®B¬r›rIn¡r
 = 0;

4635 
ÃwCÚ‹xt
->
tÙ®B¬r›rCyşe
 = 0;

4637 
ÃwCÚ‹xt
->
TÙ®numDL1CacheAcûss
 = 0;

4638 
ÃwCÚ‹xt
->
TÙ®numLoÿlH™s
 = 0;

4639 
ÃwCÚ‹xt
->
TÙ®numRemÙeH™s
 = 0;

4640 
ÃwCÚ‹xt
->
TÙ®numMemAcûss
 = 0;

4641 
ÃwCÚ‹xt
->
TÙ®numR—dCacheAcûss
 = 0;

4642 
ÃwCÚ‹xt
->
TÙ®numWr™eCacheAcûss
 = 0;

4643 
ÃwCÚ‹xt
->
TÙ®numInv®id©iÚs
 = 0;

4644 
ÃwCÚ‹xt
->
TÙ®numDL1H™s
 = 0;

4645 
ÃwCÚ‹xt
->
TÙ®numDL1Mis£s
 = 0;

4646 
ÃwCÚ‹xt
->
TÙ®numIn¢
 = 0;

4647 
ÃwCÚ‹xt
->
ä“ze
 = 0;

4648 
ÃwCÚ‹xt
->
wa™FÜSTLC
 = 0;

4649 
ÃwCÚ‹xt
->
¦•tAt
 = 0;

4653 #ià
	`defšed
(
TEMPDEBUG
)

4654 
	`´štf
 ("Cu¼’t->RUU_num = %d\n", 
cu¼’t
->
RUU_num
);

4656 
ÃwCÚ‹xt
->
fšish_cyşe
 = 0;

4657 
ÃwCÚ‹xt
->
ruÂšg
 = 1;

4658 
ÃwCÚ‹xt
->
ãtch_»gs_PC
 = 
cu¼’t
->fetch_regs_PC;

4659 
ÃwCÚ‹xt
->
ãtch_´ed_PC
 = 
cu¼’t
->fetch_pred_PC;

4660 
ÃwCÚ‹xt
->
´ed_PC
 = 
cu¼’t
->pred_PC;

4661 
ÃwCÚ‹xt
->
»cov”_PC
 = 
cu¼’t
->recover_PC;

4662 
ÃwCÚ‹xt
->
¡¬t_cyşe
 = 
sim_cyşe
;

4665 
ÃwCÚ‹xt
->
ãtch_´ed_PC
 = 
cu¼’t
->
»gs
.
»gs_NPC
;

4666 #ifdeà
DO_COMPLETE_FASTFWD


4667 
ÃwCÚ‹xt
->
»gs
.
»gs_PC
 +ğ (
md_š¡_t
);

4668 
ÃwCÚ‹xt
->
»gs
.
»gs_NPC
 = 
cu¼’t
->»gs.»gs_NPC +  (
md_š¡_t
);

4672 
thecÚ‹xts
[
numcÚ‹xts
] = 
ÃwCÚ‹xt
;

4673 
numcÚ‹xts
++;

4676 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4678 
´iÜ™y
[
út
] = cnt;

4679 
key
[
út
] = 0;

4682 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4683 
	`ÿche_æush
 (
ÿche_dl1
[
út
], 
sim_cyşe
);

4685 
	`¡“r_š™
 ();

4686 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4687 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_V0
] =‚ewCÚ‹xt->
aùu®id
;

4688 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4689 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_A3
] = 0;

4690 
»gs
->
»gs_R
[
MD_REG_A4
] = 0;

4691 
ÃwCÚ‹xt
->
»gs
.
»gs_R
[
MD_REG_A4
] = 0;

4693 
	`ruu_š™
 (
ÃwCÚ‹xt
->
id
);

4694 
	`lsq_š™
 (
ÃwCÚ‹xt
->
id
);

4695 
	`ãtch_š™
 (
ÃwCÚ‹xt
->
id
);

4696 
	`cv_š™
 (
ÃwCÚ‹xt
->
id
);

4699 #ià
	`defšed
(
MTA
)

4700 
OSF_SYS_g‘th»adid
:

4702 
»gs
->
»gs_R
[
MD_REG_V0
] = 
cu¼’t
->
aùu®id
;

4703 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4705 
OSF_SYS_š™_¡¬t
:

4706 
	`´štf
 ("init_start...\n");

4708 
OSF_SYS_š™
:

4709 
MTAcÚ‹xts
 = 
numcÚ‹xts
;

4710 
	`´štf
 ("š™ ...%d\n", 
cu¼’t
->
id
);

4711 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4712 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4715 
OSF_SYS_š™_com¶‘e
:

4716 
	`´štf
 ("init_complete ...\n");

4718 
OSF_SYS_di¡ribu‹
:

4719 
	`´štf
 ("distribute ...\n");

4721 
OSF_SYS_time
:

4722 
	`´štf
 ("time ...\n");

4725 
OSF_SYS_b¬r›r
:

4726 
	`´štf
 ("barrier ...\n");

4729 
OSF_SYS_lock_acquœe
:

4730 
	`´štf
 ("lock_acquire ...\n");

4732 
OSF_SYS_lock_»Ëa£
:

4733 
	`´štf
 ("lock_release ...\n");

4735 
OSF_SYS_æag_acquœe
:

4736 
	`´štf
 ("flag_acquire ...\n");

4738 
OSF_SYS_æag_»Ëa£
:

4739 
	`´štf
 ("flag_release ...\n");

4741 
OSF_SYS_šc_æag
:

4742 
	`´štf
 ("inc_flag ...\n");

4744 
OSF_SYS_pŞl_æag
:

4745 
	`´štf
 ("poll_flag ...\n");

4747 
OSF_SYS_wa™_gt_æag
:

4748 
	`´štf
 ("gt_flag ...\n");

4750 
OSF_SYS_wa™_É_æag
:

4751 
	`´štf
 ("lt_flag ...\n");

4756 
OSF_SYS_´štf
:

4758 
	`fæush
 (
¡d”r
);

4759 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4760 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4762 
OSF_SYS_STATS
:

4763 if(
cŞËù_¡©s
 == 0)

4765 #iâdeà
PARALLEL_EMUL


4766 
cŞËù_¡©s
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4768 #ifdef 
COLLECT_STAT_STARTUP


4769 
cu¼’t
->
¡¬tR—ched
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4771 ià(
cŞËù_¡©s
 == 1)

4773 
	`´štf
("Initialization over:iming simulation can start‚ow\n");

4774 
	`årštf
(
¡d”r
,"Initialization over:iming simulation can start‚ow\n");

4775 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4776 
thecÚ‹xts
[
út
]->
¡¬t_cyşe
 = 
sim_cyşe
;

4777 
æushImpSts
 = 1;

4780 ià(
cŞËù_¡©s
 == 1)

4782 
cŞËù_¡©s
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4783 #ifdef 
COLLECT_STAT_STARTUP


4784 
cu¼’t
->
¡¬tR—ched
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4786 if(
cŞËù_¡©s
 == 0)

4788 
	`´štf
("Computation over:iming simulation can stop‚ow\n");

4789 
	`årštf
(
¡d”r
,"Computation over:iming simulation can stop‚ow\n");

4790 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4791 
thecÚ‹xts
[
út
]->
fšish_cyşe
 = 
sim_cyşe
;

4792 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4794 
	`´štf
 ("free freeze\n");

4795 
thecÚ‹xts
[
út
]->
ä“ze
 = 0;

4796 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

4797 
thecÚ‹xts
[
út
]->
wa™FÜSTLC
 = 0;

4798 
	`æushWr™eBufãr
 (
út
);

4800 
timeToR‘uº
 = 1;

4804 
	`·nic
 ("collect_stats is invalid");

4805 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4806 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4808 
OSF_SYS_FASTFWD
:

4809 
ç¡fwd
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4810 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4811 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4814 
OSF_SYS_BARRIER_STATS
:

4815 
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] = 
»gs
->
»gs_R
[
MD_REG_A0
];

4817 ià(
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] == 1)

4819 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 
cŞËù_b¬r›r_¡©s_own
[current->id];

4820 
	`´štf
("EÁ”šg b¬r›¸%d\n", 
cu¼’t
->
id
);

4821 if(
cu¼’t
->
ç¡fwd_dÚe
 == 0)

4822 
cu¼’t
->
ç¡fwd_dÚe
 = 1;

4823 
	`fæush
(
¡dout
);

4824 
cu¼’t
->
numIn¡rB¬r›r
 = cu¼’t->
numIn¢
;

4825 
cu¼’t
->
numCyşeB¬r›r
 = 
sim_cyşe
;

4827 ià(
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] == 0)

4829 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 
cŞËù_b¬r›r_¡©s_own
[current->id];

4830 
	`´štf
("L—všg b¬r›¸%d\n", 
cu¼’t
->
id
);

4831 
	`fæush
(
¡dout
);

4832 
cu¼’t
->
tÙ®B¬r›rIn¡r
 +ğ(cu¼’t->
numIn¢
 - cu¼’t->
numIn¡rB¬r›r
);

4833 
cu¼’t
->
tÙ®B¬r›rCyşe
 +ğ(
sim_cyşe
 - cu¼’t->
numCyşeB¬r›r
);

4835 if(
cŞËù_b¬r›r_¡©s_own
[
cu¼’t
->
id
] == 2)

4836 
cŞËù_b¬r›r_»Ëa£
 = 2;

4838 
b¬r›r_addr
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

4845 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4846 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4848 
OSF_SYS_LOCK_STATS
:

4849 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 
»gs
->
»gs_R
[
MD_REG_A0
];

4850 ià(
»gs
->
»gs_R
[
MD_REG_A0
] == 1)

4852 
cu¼’t
->
numIn¡rLock
 = cu¼’t->
numIn¢
;

4853 
cu¼’t
->
numCyşeLock
 = 
sim_cyşe
;

4854 if(
LockIn™PC
 == 0)

4856 
LockIn™PC
 = 
cu¼’t
->
»gs
.
»gs_PC
;

4857 
	`´štf
("š™Ÿlized…øfÜ†ock i %Îx\n", 
LockIn™PC
);

4860 ià(
»gs
->
»gs_R
[
MD_REG_A0
] == 0)

4862 
TÙ®Locks
++;

4863 
cu¼’t
->
tÙ®LockIn¡r
 +ğ(cu¼’t->
numIn¢
 - cu¼’t->
numIn¡rLock
);

4864 
cu¼’t
->
tÙ®LockCyşe
 +ğ(
sim_cyşe
 - cu¼’t->
numCyşeLock
);

4865 
lock_wa™šg
[
cu¼’t
->
id
] = 0;

4867 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4868 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4870 
OSF_SYS_WAIT
:

4881 ià(
cu¼’t
->
·»Á
 != -1)

4883 
	`årštf
 (
¡d”r
, "***************Th»ad %d i h®tšg**************\n", 
cu¼’t
->
id
);

4884 
	`årštf
 (
¡d”r
, "TÙB¬Cyşğ%8ld, TÙB¬In¡¸ğ%8ld\n", (è
cu¼’t
->
tÙ®B¬r›rCyşe
, (ècu¼’t->
tÙ®B¬r›rIn¡r
);

4885 
	`årštf
 (
¡d”r
, "TÙLockCyşğ%8ld, TÙLockIn¡¸ğ%8ld\n", (è
cu¼’t
->
tÙ®LockCyşe
, (ècu¼’t->
tÙ®LockIn¡r
);

4886 
	`´št_¡©s
 (
cu¼’t
);

4888 
	`MTA_´štInfo
 (
cu¼’t
->
id
);

4889 
cu¼’t
->
ruÂšg
 = 0;

4890 
cu¼’t
->
ä“ze
 = 1;

4891 
	`´štf
 ("ä“zby WAIT: %d\n", 
cu¼’t
->
id
);

4894 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4895 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4896 
thecÚ‹xts
[
cu¼’t
->
·»Á
]->
num_chd
--;

4900 ià(
cu¼’t
->
num_chd
 == 0)

4902 
	`årštf
 (
¡d”r
, "***************Th»ad %d i h®tšg**************\n", 
cu¼’t
->
id
);

4903 
	`årštf
 (
¡d”r
, "TÙB¬Cyşğ%10ld, TÙB¬In¡¸ğ%10ld\n", (è
cu¼’t
->
tÙ®B¬r›rCyşe
, (ècu¼’t->
tÙ®B¬r›rIn¡r
);

4904 
	`årštf
 (
¡d”r
, "TÙLockCyşğ%10ld, TÙLockIn¡¸ğ%10ld\n", (è
cu¼’t
->
tÙ®LockCyşe
, (ècu¼’t->
tÙ®LockIn¡r
);

4906 
	`´št_¡©s
 (
cu¼’t
);

4908 
	`MTA_´štInfo
 (
cu¼’t
->
id
);

4909 
»gs
->
»gs_R
[
MD_REG_V0
] = 1;

4910 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4914 
»gs
->
»gs_R
[
MD_REG_V0
] = -1;

4915 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4920 
OSF_SYS_MTA_h®t
:

4921 
cu¼’t
->
ruÂšg
 = 0;

4922 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4923 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4926 
OSF_SYS_MTA_¡¬t
:

4927 
	`´štf
 ("Startinghreads\n");

4928 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4929 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

4930 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4931 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4933 
OSF_SYS_b¬r›r
:

4934 ià(
cu¼’t
->
·»Á
 == -1)

4936 
tmpNum
 = 
numTh»ads
[
cu¼’t
->
id
] =‚umThreads[current->id] - 1;

4940 
tmpNum
 = 
numTh»ads
[
cu¼’t
->
·»Á
] =‚umThreads[current->parent] - 1;

4943 ià(
tmpNum
 == 0)

4945 
	`årštf
 (
¡d”r
, "BARRIER\n");

4946 
út
 = 0; cÁ < 
numcÚ‹xts
; cnt++)

4948 
thecÚ‹xts
[
út
]->
ruÂšg
 = 1;

4950 ià(
cu¼’t
->
·»Á
 == -1)

4952 
numTh»ads
[
cu¼’t
->
id
] = 
m_maxth»ads
;

4956 
numTh»ads
[
cu¼’t
->
·»Á
] = 
m_maxth»ads
;

4958 ià(
¡¬tTakšgSti¡ics
 == 1)

4959 
cu¼’tPha£
 = 7;

4960 
¡¬tTakšgSti¡ics
 = 1;

4964 
cu¼’t
->
ruÂšg
 = 0;

4966 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4967 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4970 
OSF_SYS_BARRIER_INSTR
:

4971 #ifdef 
COLLECT_STAT_STARTUP


4972 
cu¼’t
->
b¬r›rR—ched
 = 2;

4974 #iâdeà
PARALLEL_EMUL


4975 if(
cŞËù_¡©s
)

4977 
TÙ®B¬r›rs
 ++;

4978 
cŞËù_b¬r›r_»Ëa£
 = 0;

4979 ià(
¡¬tTakšgSti¡ics
 == 1)

4980 
cu¼’tPha£
 = 7;

4981 
¡¬tTakšgSti¡ics
 = 1;

4982 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

4983 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

4984 
i
=0;

4986 #ifdeà
LOCK_OPTI


4987 
OSF_SYS_LOCKADDR
:

4988 
lock_
[
cu¼’t
->
id
] = 0;

4989 
lock_addr
[
cu¼’t
->
id
][
lock_
[cu¼’t->id]] = 
»gs
->
»gs_R
[
MD_REG_A0
];

4990 
	`´štf
("th»adid %d,†ock‡dd¸%u\n", 
cu¼’t
->
id
, 
»gs
->
»gs_R
[
MD_REG_A0
]);

4993 
OSF_SYS_IDEAL_BAR
:

4994 #ifdeà
IDEAL_LOCK


4995 
B¬r›r_æag
[
»gs
->
»gs_R
[
MD_REG_A0
]] = 1;

4996 
B¬r›r_num
[
b¬r›r_‹mp
] ++;

4997 if(
B¬r›r_num
[
b¬r›r_‹mp
] =ğ
numcÚ‹xts
)

4999 
B¬r›r_num
[
b¬r›r_‹mp
] = 0;

5000 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

5001 
i
 = 0;

5002 
i
=0;i<
numcÚ‹xts
;i++)

5004 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

5005 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

5006 
b¬r›r_wa™šg
[
i
] = 0;

5007 
cŞËù_b¬r›r_¡©s
[
i
] = 0;

5009 if(
cŞËù_¡©s
)

5010 
TÙ®B¬r›rs
 ++;

5014 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 1;

5015 
b¬r›r_wa™šg
[
cu¼’t
->
id
] = 1;

5016 
cu¼’t
->
ruÂšg
 = 0;

5017 
cu¼’t
->
ä“ze
 = 1;

5018 
¦“pCouÁ
[
cu¼’t
->
id
]++;

5019 
cu¼’t
->
¦•tAt
 = 
sim_cyşe
;

5020 
ä“zeCouÁ”
++;

5023 #ifdeà
LOCK_HARD


5024 if(
cŞËù_¡©s
)

5025 
	`SyncO³¿tiÚ
(
b¬r›r_‹mp
, 
cu¼’t
->
id
, 
BAR_ACQUIRE
);

5028 
B¬r›r_æag
[
»gs
->
»gs_R
[
MD_REG_A0
]] = 1;

5029 
B¬r›r_num
[
b¬r›r_‹mp
] ++;

5030 if(
B¬r›r_num
[
b¬r›r_‹mp
] =ğ
numcÚ‹xts
)

5032 
B¬r›r_num
[
b¬r›r_‹mp
] = 0;

5033 
b¬r›r_‹mp
 = (b¬r›r_‹m°+ 1)%
MAXBARRIER
;

5034 
i
 = 0;

5035 
i
=0;i<
numcÚ‹xts
;i++)

5037 
thecÚ‹xts
[
i
]->
ruÂšg
 = 1;

5038 
thecÚ‹xts
[
i
]->
ä“ze
 = 0;

5039 
b¬r›r_wa™šg
[
i
] = 0;

5040 
cŞËù_b¬r›r_¡©s
[
i
] = 0;

5042 if(
cŞËù_¡©s
)

5043 
TÙ®B¬r›rs
 ++;

5047 
cŞËù_b¬r›r_¡©s
[
cu¼’t
->
id
] = 1;

5048 
b¬r›r_wa™šg
[
cu¼’t
->
id
] = 1;

5049 
cu¼’t
->
ruÂšg
 = 0;

5050 
cu¼’t
->
ä“ze
 = 1;

5051 
¦“pCouÁ
[
cu¼’t
->
id
]++;

5052 
cu¼’t
->
¦•tAt
 = 
sim_cyşe
;

5053 
ä“zeCouÁ”
++;

5059 
OSF_SYS_IDEAL_LOCKACQ
:

5060 #ifdeà
IDEAL_LOCK


5063 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

5064 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 1;

5065 if(
Lock_Acquœe
[
Lock_id
] != 0)

5067 
lock_wa™šg
[
cu¼’t
->
id
] = 1;

5074 
Lock_wa™_id
[
Lock_id
][
Lock_
[Lock_id]] = 
cu¼’t
->
id
;

5075 
Lock_wa™_num
[
Lock_id
] ++;

5076 
Lock_
[
Lock_id
] = (Lock_[Lock_id]+1+
MAXLOCK
)%MAXLOCK;

5077 if(
Lock_
[
Lock_id
] =ğ
Lock_h—d
[Lock_id])

5078 
	`·nic
("Ideal†ock: Lock‡cquire queue full\n");

5082 
Lock_Acquœe
[
Lock_id
] = 
cu¼’t
->
id
 + 1;

5085 #ifdeà
LOCK_HARD


5087 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

5088 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 1;

5089 
	`årštf
(
å_Œaû
, "th»adid %d‡cq†ock %d\n", 
cu¼’t
->
id
, 
Lock_id
);

5090 
	`SyncO³¿tiÚ
(
Lock_id
, 
cu¼’t
->
id
, 
ACQUIRE
);

5094 
OSF_SYS_IDEAL_LOCKREL
:

5095 #ifdeà
IDEAL_LOCK


5098 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

5099 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 0;

5100 if(
Lock_Acquœe
[
Lock_id
] !ğ
cu¼’t
->
id
 + 1)

5101 
	`·nic
("Ideal†ock:‚othe„ighthread„eleasehe†ock!\n");

5105 
Lock_Acquœe
[
Lock_id
] = 0;

5106 if(
Lock_wa™_num
[
Lock_id
])

5108 
út
 = 
Lock_wa™_id
[
Lock_id
][
Lock_h—d
[Lock_id]];

5111 
lock_wa™šg
[
út
] = 0;

5113 
Lock_Acquœe
[
Lock_id
] = 
út
+1;

5114 
Lock_wa™_num
[
Lock_id
] --;

5115 
Lock_h—d
[
Lock_id
] = (Lock_h—d[Lock_id]+1+
MAXLOCK
)%MAXLOCK;

5119 #ifdeà
LOCK_HARD


5120 
Lock_id
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

5121 
cŞËù_lock_¡©s
[
cu¼’t
->
id
] = 0;

5122 
	`SyncO³¿tiÚ
(
Lock_id
, 
cu¼’t
->
id
, 
RELEASE
);

5127 
OSF_SYS_QUEISCE
:

5128 #ifdef 
COLLECT_STAT_STARTUP


5129 
cu¼’t
->
b¬r›rR—ched
 = 1;

5134 ià(!
cu¼’t
->
ma¡”id
)

5136 
cu¼’t
->
ruÂšg
 = 0;

5137 
cu¼’t
->
ä“ze
 = 1;

5138 
¦“pCouÁ
[
cu¼’t
->
id
]++;

5142 
	`fæush
 (
¡dout
);

5143 
qu›sûAddrSŒuù
[
cu¼’t
->
id
].
add»ss
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

5144 
qu›sûAddrSŒuù
[
cu¼’t
->
id
].
th»adid
 = current->id;

5145 
cu¼’t
->
¦•tAt
 = 
sim_cyşe
;

5146 
ä“zeCouÁ”
++;

5148 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5149 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5151 
OSF_SYS_RANDOM
:

5152 
»gs
->
»gs_R
[
MD_REG_V0
] = 
	`¿ndom
 ();

5153 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5155 
OSF_SYS_MEM
:

5156 
acûss_mem
 = 
»gs
->
»gs_R
[
MD_REG_A0
];

5157 
acûss_mem_id
 = 
cu¼’t
->
id
;

5158 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5159 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5161 
OSF_SYS_PRINTGP
:

5162 
	`´štf
 ("%d, GP = %Îx\n", 
cu¼’t
->
id
, cu¼’t->
»gs
.
»gs_R
[
MD_REG_GP
]);

5163 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5164 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5168 
OSF_SYS_SHDADDR
:

5169 
	`AddToTheSh¬edAddrLi¡
 ((è
»gs
->
»gs_R
[
MD_REG_A0
], (è»gs->»gs_R[
MD_REG_A1
]);

5170 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5171 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5173 
OSF_SYS_STOPSIM
:

5174 
¡İsim
 = 1;

5175 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5176 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5178 
OSF_SYS_PRINTINSTR
:

5179 
	`årštf
 (
¡d”r
, "%Îd\n", (è
sim_num_š¢
);

5180 
	`fæush
 (
¡d”r
);

5181 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5182 
»gs
->
»gs_R
[
MD_REG_A3
] = 0;

5186 
	`w¬n
 ("šv®id/unim¶em’‹d sysÿÎ %ld, PC=0x%08p, RA=0x%08p, wšgšg it", 
syscode
, 
»gs
->
»gs_PC
,„egs->
»gs_R
[
MD_REG_RA
]);

5187 
»gs
->
»gs_R
[
MD_REG_A3
] = -1;

5188 
»gs
->
»gs_R
[
MD_REG_V0
] = 0;

5190 
	`çl
 ("šv®id/unim¶em’‹d sy¡em c®È’couÁ”ed, cod%d", 
syscode
);

5195 
	}
}

5198 
	$ÿÎ_qu›sû
 (
th»adID
)

5200 
	`´štf
 ("Qu›sûÁ in¡ruùiÚ c®Ëd by %d\n", 
th»adID
);

5201 
	}
}

	@sysprobe.c

113 
	~<¡dio.h
>

114 
	~<¡dlib.h
>

115 #iâdeà
_MSC_VER


116 
	~<uni¡d.h
>

118 
	#acûss
 
_acûss


	)

119 
	#X_OK
 4

	)

122 
	~"ho¡.h
"

123 
	~"misc.h
"

125 *
	ggz_·ths
[] =

133 
NULL


136 
	#HOST_ONLY


	)

137 
	~"’dŸn.c
"

139 
	#CAT
(
a
,
b
è¨
	)
b

141 
	#MSB
 0x80000000

	)

143 
	$ç¡_SRL
()

145 
wÜd_t
 
ui
;

147 ià((
ui
) != 4)

150  
FALSE
;

153 
ui
 = (
wÜd_t
)
MSB
;

154 ià(((
ui
 >> 1è& 
MSB
) != 0)

157  
FALSE
;

162  
TRUE
;

164 
	}
}

167 
	$ç¡_SRA
()

169 
swÜd_t
 
si
;

171 ià((
si
) != 4)

174  
FALSE
;

177 
si
 = (
swÜd_t
)
MSB
;

178 ià((
si
 >> 1è& 
MSB
)

181  
TRUE
;

186  
FALSE
;

188 
	}
}

191 
	$maš
(
¬gc
, **
¬gv
)

193 
l™e_by‹s
 = 0, 
l™e_wÜds
 = 0;

195 ià(
¬gc
 =ğ2 && !
	`¡rcmp
(
¬gv
[1], "-s"))

197 
	`’dŸn_ho¡_by‹_Üd”
())

199 
’dŸn_big
:

200 
	`årštf
(
¡dout
, "big\n");

202 
’dŸn_l™e
:

203 
	`årštf
(
¡dout
, "little\n");

205 
’dŸn_unknown
:

206 
	`årštf
(
¡d”r
, "\nerror: cannot determine byte order!\n");

207 
	`ex™
(1);

209 
	`abÜt
();

212 ià(
¬gc
 =ğ2 && !
	`¡rcmp
(
¬gv
[1], "-libs"))

214 #ifdeà
BFD_LOADER


215 
	`årštf
(
¡dout
, "-lbfd -liberty ");

218 #ifdeà
lšux


220 #–ià
	`defšed
(
_AIX
)

222 
	`årštf
(
¡dout
, "-lbsd ");

223 #–ià
	`defšed
(
__USLC__
è|| (defšed(
__svr4__
è&& defšed(
__i386__
è&& defšed(
__unix__
))

224 
	`årštf
(
¡dout
, "-L/usr/ucblib -lucb ");

225 #–ià
	`defšed
(
__svr4__
è&& defšed(
__sun__
è&& defšed(
__unix__
)

226 
	`årštf
(
¡dout
, "-lsocket -lnsl ");

230 
	`årštf
(
¡dout
, "-lm\n");

232 ià(
¬gc
 =ğ1 || (¬gø=ğ2 && !
	`¡rcmp
(
¬gv
[1], "-flags")))

234 
	`’dŸn_ho¡_by‹_Üd”
())

236 
’dŸn_big
:

237 
	`årštf
(
¡dout
, "-DBYTES_BIG_ENDIAN ");

239 
’dŸn_l™e
:

240 
	`årštf
(
¡dout
, "-DBYTES_LITTLE_ENDIAN ");

241 
l™e_by‹s
 = 1;

243 
’dŸn_unknown
:

244 
	`årštf
(
¡d”r
, "\nerror: cannot determine byte order!\n");

245 
	`ex™
(1);

247 
	`abÜt
();

250 
	`’dŸn_ho¡_wÜd_Üd”
())

252 
’dŸn_big
:

253 
	`årštf
(
¡dout
, "-DWORDS_BIG_ENDIAN ");

255 
’dŸn_l™e
:

256 
	`årštf
(
¡dout
, "-DWORDS_LITTLE_ENDIAN ");

257 
l™e_wÜds
 = 1;

259 
’dŸn_unknown
:

260 
	`årštf
(
¡d”r
, "\nerror: cannot determine word order!\n");

261 
	`ex™
(1);

263 
	`abÜt
();

266 #ifdeà
_AIX


267 
	`årštf
(
¡dout
, "-D_ALL_SOURCE ");

269 
	`årštf
(
¡dout
, "-DPOWER_64 ");

270 #iâdeà
__GNUC__


271 
	`årštf
(
¡dout
, "-D__CC_XLC ");

275 #ià(
	`defšed
(
hpux
è|| defšed(
__hpux
)è&& !defšed(
__GNUC__
)

276 
	`årštf
(
¡dout
, "-D_INCLUDE_HPUX_SOURCE -D_INCLUDE_XOPEN_SOURCE -D_INCLUDE_AES_SOURCE ");

279 #iâdeà
__GNUC__


283 
i
 = 5, 
j
;

285 
j
 = 
	`CAT
(-,-
i
);

287 ià(
j
 == 4)

290 
	`årštf
(
¡dout
, "-DOLD_SYMCAT ");

292 ià(
j
 == 5)

301 
	`årštf
(
¡d”r
, "\nerror: cannot grok symbol concat method!\n");

302 
	`ex™
(1);

307 #iâdeà
SLOW_SHIFTS


309 ià(
	`ç¡_SRL
())

310 
	`årštf
(
¡dout
, "-DFAST_SRL ");

311 ià(
	`ç¡_SRA
())

312 
	`årštf
(
¡dout
, "-DFAST_SRA ");

316 #iâdeà
GZIP_PATH


318 
i
;

320 
i
=0; 
gz_·ths
[i] !ğ
NULL
; i++)

322 ià(
	`acûss
(
gz_·ths
[
i
], 
X_OK
) == 0)

324 
	`årštf
(
¡dout
, "-DGZIP_PATH=\"%s\" ", 
gz_·ths
[
i
]);

332 ià(
¬gc
 =ğ2 && !
	`¡rcmp
(
¬gv
[1], "-t"))

334 
	`årštf
(
¡dout
, "sizeof(int) = %lu\n", () ());

335 
	`årštf
(
¡dout
, "sizeof(long) = %lu\n", () ());

340 ià(
l™e_by‹s
 !ğ
l™e_wÜds
)

342 
	`årštf
(
¡d”r
,

344 
	`ex™
(1);

347 
	`ex™
(0);

349 
	}
}

	@temperature.c

1 
	~"RC.h
"

2 
	~"æp.h
"

3 
	~"ut.h
"

5 
	~<¡dio.h
>

6 
	~<m©h.h
>

7 
	~<¡ršgs.h
>

8 
	~"h—d”s.h
"

11 
	gçùÜ_·ck
 = 
C_FACTOR
;

12 
	gçùÜ_ch
;

13 
	gçùÜ_št
;

18 
	#MAX_PD
 (1.5e7)

	)

20 **
	gb
, **
	gc
, **
	gšva
, **
	gšvb
, 
	gmax_¦İe
;

31 
	$ü—‹_RC_m©riûs
(
æp_t
 *
æp
, 
om™_Ï‹¿l
)

33 
i
, 
j
, 
k
 = 0, 
n
 = 
æp
->
n_un™s
;

34 **
bÜd”
;

35 **
Ën
, *
gx
, *
gy
, **
g
, *
c_v”
, **
t
, *
gx_¥
, *
gy_¥
;

36 
r_¥1
, 
r_¥2
, 
r_hs
;

41 
r_¥_³r
, 
r_hs_mid
, 
r_hs_³r
, 
c_¥_³r
, 
c_hs_mid
, 
c_hs_³r
;

42 
gn_¥
=0, 
gs_¥
=0, 
ge_¥
=0, 
gw_¥
=0;

44 
w_ch
 = 
	`g‘_tÙ®_width
 (
æp
);

45 
l_ch
 = 
	`g‘_tÙ®_height
 (
æp
);

47 
bÜd”
 = 
	`im©rix
(
n
, 4);

48 
Ën
 = 
	`m©rix
(
n
,‚);

49 
gx
 = 
	`veùÜ
(
n
);

50 
gy
 = 
	`veùÜ
(
n
);

51 
gx_¥
 = 
	`veùÜ
(
n
);

52 
gy_¥
 = 
	`veùÜ
(
n
);

53 
g
 = 
	`m©rix
(
NL
*
n
+
EXTRA
, NL*n+EXTRA);

54 
c_v”
 = 
	`veùÜ
(
NL
*
n
+
EXTRA
);

56 
b
 = 
	`m©rix
(
NL
*
n
+
EXTRA
, NL*n+EXTRA);

57 
c
 = 
	`m©rix
(
NL
*
n
+
EXTRA
, NL*n+EXTRA);

58 
šva
 = 
	`m©rix
(
NL
*
n
+
EXTRA
, NL*n+EXTRA);

59 
švb
 = 
	`m©rix
(
NL
*
n
+
EXTRA
, NL*n+EXTRA);

60 
t
 = 
	`m©rix
 (
NL
*
n
+
EXTRA
, NL*n+EXTRA);

63 
çùÜ_ch
 = 
C_FACTOR
 * ((
SPEC_HEAT_INT
 / 
SPEC_HEAT_SI
è* (
w_ch
 + 0.88 * 
t_š‹rçû
) \

64 * (
l_ch
 + 0.88 * 
t_š‹rçû
è*_š‹rçû / ( 
w_ch
 *†_ch * 
t_ch
) + 1);

67 
çùÜ_št
 = 
C_FACTOR
 * ((
SPEC_HEAT_CU
 / 
SPEC_HEAT_INT
è* (
w_ch
 + 0.88 * 
t_¥»ad”
) \

68 * (
l_ch
 + 0.88 * 
t_¥»ad”
è*_¥»ad” / ( 
w_ch
 *†_ch * 
t_š‹rçû
) + 1);

73 
i
 = 0; i < 
n
; i++) {

75 ià(
om™_Ï‹¿l
) {

76 
gx
[
i
] = 
gy
[i] = 0;

79 
gx
[
i
] = 1.0/
	`g‘r
(
K_SI
, 
æp
->
un™s
[i].
height
, fÍ->un™s[i].
width
, 
l_ch
, 
t_ch
);

80 
gy
[
i
] = 1.0/
	`g‘r
(
K_SI
, 
æp
->
un™s
[i].
width
, fÍ->un™s[i].
height
, 
w_ch
, 
t_ch
);

84 
gx_¥
[
i
] = 1.0/
	`g‘r
(
K_CU
, 
æp
->
un™s
[i].
height
, fÍ->un™s[i].
width
, 
l_ch
, 
t_¥»ad”
);

85 
gy_¥
[
i
] = 1.0/
	`g‘r
(
K_CU
, 
æp
->
un™s
[i].
width
, fÍ->un™s[i].
height
, 
w_ch
, 
t_¥»ad”
);

89 
i
 = 0; i < 
n
; i++)

90 
j
 = 
i
; j < 
n
; j++)

91 
Ën
[
i
][
j
] =†’[j][i] = 
	`g‘_sh¬ed_Ën
(
æp
, i, j);

94 
r_¥1
 = 
	`g‘r
(
K_CU
, (
s_¥»ad”
+3*
w_ch
)/4.0, (s_¥»ad”-w_ch)/4.0, w_ch, 
t_¥»ad”
);

95 
r_¥2
 = 
	`g‘r
(
K_CU
, (3*
s_¥»ad”
+
w_ch
)/4.0, (s_¥»ad”-w_ch)/4.0, (s_¥»ad”+3*w_ch)/4.0, 
t_¥»ad”
);

96 
r_hs
 = 
	`g‘r
(
K_CU
, (
s_sšk
+3*
s_¥»ad”
)/4.0, (s_sšk-s_¥»ad”)/4.0, s_¥»ad”, 
t_sšk
);

99 
r_¥_³r
 = 
RHO_CU
 * 
t_¥»ad”
 * 4.0 / (
s_¥»ad”
 * s_¥»ad” - 
w_ch
*
l_ch
);

100 
c_¥_³r
 = 
çùÜ_·ck
 * 
SPEC_HEAT_CU
 * 
t_¥»ad”
 * (
s_¥»ad”
 * s_¥»ad” - 
w_ch
*
l_ch
) / 4.0;

101 
r_hs_mid
 = 
RHO_CU
 * 
t_sšk
 / (
s_¥»ad”
*s_spreader);

102 
c_hs_mid
 = 
çùÜ_·ck
 * 
SPEC_HEAT_CU
 * 
t_sšk
 * (
s_¥»ad”
 * s_spreader);

103 
r_hs_³r
 = 
RHO_CU
 * 
t_sšk
 * 4.0 / (
s_sšk
 * s_sšk - 
s_¥»ad”
*s_spreader);

104 
c_hs_³r
 = 
çùÜ_·ck
 * 
SPEC_HEAT_CU
 * 
t_sšk
 * (
s_sšk
 * s_sšk - 
s_¥»ad”
*s_spreader) / 4.0;

107 
i
 = 0; i < 
n
; i++) {

108 ià(
	`eq
(
æp
->
un™s
[
i
].
bÙtomy
 + fÍ->un™s[i].
height
, 
l_ch
)) {

109 
gn_¥
 +ğ
gy_¥
[
i
];

110 
bÜd”
[
i
][2] = 1;

112 ià(
	`eq
(
æp
->
un™s
[
i
].
bÙtomy
, 0)) {

113 
gs_¥
 +ğ
gy_¥
[
i
];

114 
bÜd”
[
i
][3] = 1;

116 ià(
	`eq
(
æp
->
un™s
[
i
].
Ëáx
 + fÍ->un™s[i].
width
, 
w_ch
)) {

117 
ge_¥
 +ğ
gx_¥
[
i
];

118 
bÜd”
[
i
][1] = 1;

120 ià(
	`eq
(
æp
->
un™s
[
i
].
Ëáx
, 0)) {

121 
gw_¥
 +ğ
gx_¥
[
i
];

122 
bÜd”
[
i
][0] = 1;

127 
i
 = 0; i < 
n
; i++) {

128 
¬—
 = (
æp
->
un™s
[
i
].
height
 * fÍ->un™s[i].
width
);

134 
j
 = 0; j < 
n
; j++) {

135 
·¹
 = 0, 
·¹_¥
 = 0;

136 ià(
	`is_hÜiz_adj
(
æp
, 
i
, 
j
)) {

137 
·¹
 = 
gx
[
i
] / 
æp
->
un™s
[i].
height
;

138 
·¹_¥
 = 
gx_¥
[
i
] / 
æp
->
un™s
[i].
height
;

140 ià(
	`is_v”t_adj
(
æp
, 
i
,
j
)) {

141 
·¹
 = 
gy
[
i
] / 
æp
->
un™s
[i].
width
;

142 
·¹_¥
 = 
gy_¥
[
i
] / 
æp
->
un™s
[i].
width
;

144 
g
[
i
][
j
] = 
·¹
 * 
Ën
[i][j];

145 
g
[
HSP
*
n
+
i
][HSP*n+
j
] = 
·¹_¥
 * 
Ën
[i][j];

149 
g
[
i
][
IFACE
*
n
+i]=g[IFACE*n+i][i]=2.0/(
RHO_SI
 * 
t_ch
 / 
¬—
);

151 
g
[
IFACE
*
n
+
i
][
HSP
*n+i]=g[HSP*n+i][IFACE*n+i]=2.0/(
RHO_INT
 * 
t_š‹rçû
 / 
¬—
);

153 
g
[
HSP
*
n
+
i
][
NL
*n+
SP_B
]=g[NL*n+SP_B][HSP*n+i]=2.0/(
RHO_CU
 * 
t_¥»ad”
 / 
¬—
);

156 
c_v”
[
i
] = 
çùÜ_ch
 * 
SPEC_HEAT_SI
 * 
t_ch
 * 
¬—
;

158 
c_v”
[
IFACE
*
n
+
i
] = 
çùÜ_št
 * 
SPEC_HEAT_INT
 * 
t_š‹rçû
 * 
¬—
;

160 
c_v”
[
HSP
*
n
+
i
] = 
çùÜ_·ck
 * 
SPEC_HEAT_CU
 * 
t_¥»ad”
 * 
¬—
;

163 
g
[
HSP
*
n
+
i
][
NL
*n+
SP_N
]=g[NL*n+SP_N][HSP*n+i]=2.0*
bÜd”
[i][2]/((1.0/
gy_¥
[i])+
r_¥1
*
gn_¥
/gy_sp[i]);

164 
g
[
HSP
*
n
+
i
][
NL
*n+
SP_S
]=g[NL*n+SP_S][HSP*n+i]=2.0*
bÜd”
[i][3]/((1.0/
gy_¥
[i])+
r_¥1
*
gs_¥
/gy_sp[i]);

165 
g
[
HSP
*
n
+
i
][
NL
*n+
SP_E
]=g[NL*n+SP_E][HSP*n+i]=2.0*
bÜd”
[i][1]/((1.0/
gx_¥
[i])+
r_¥1
*
ge_¥
/gx_sp[i]);

166 
g
[
HSP
*
n
+
i
][
NL
*n+
SP_W
]=g[NL*n+SP_W][HSP*n+i]=2.0*
bÜd”
[i][0]/((1.0/
gx_¥
[i])+
r_¥1
*
gw_¥
/gx_sp[i]);

170 
max_¦İe
 = 
MAX_PD
 / (
çùÜ_ch
 * 
t_ch
 * 
SPEC_HEAT_SI
);

174 
g
[
NL
*
n
+
SINK_B
][NL*n+
SP_B
]=g[NL*n+SP_B][NL*n+SINK_B]=2.0/
r_hs_mid
;

176 
c_v”
[
NL
*
n
+
SP_B
]=
c_hs_mid
;

178 
c_v”
[
NL
*
n
+
SINK_B
] = 
çùÜ_·ck
 * 
c_cÚvec
;

181 
i
 = 1; i <= 4; i++) {

183 
g
[
NL
*
n
+
SP_B
-
i
][NL*n+SP_B]=g[NL*n+SP_B][NL*n+SP_B-i]=2.0/
r_¥_³r
;

185 
g
[
NL
*
n
+
SP_B
-
i
][NL*n+
SINK_B
-i]=g[NL*n+SINK_B-i][NL*n+SP_B-i]=2.0/(
r_hs
 + 
r_¥2
);

187 
g
[
NL
*
n
+
SINK_B
-
i
][NL*n+SINK_B]=g[NL*n+SINK_B][NL*n+SINK_B-i]=2.0/
r_hs_³r
;

189 
c_v”
[
NL
*
n
+
SP_B
-
i
]=
c_¥_³r
;

191 
c_v”
[
NL
*
n
+
SINK_B
-
i
]=
c_hs_³r
;

196 
i
 = 0; i < 
NL
*
n
+
EXTRA
; i++) {

197 
j
 = 0; j < 
NL
*
n
+
EXTRA
; j++) {

198 ià(
i
==
j
) {

199 
šva
[
i
][
j
] = 1.0/
c_v”
[i];

200 ià(
i
 =ğ
NL
*
n
+
SINK_B
)

201 
b
[
i
][
j
] +ğ1.0 / 
r_cÚvec
;

202 
k
 = 0; k < 
NL
*
n
+
EXTRA
; k++) {

203 ià((
g
[
i
][
k
]==0.0)||(g[k][i])==0.0)

207 
b
[
i
][
j
] +ğ1.0/((1.0/
g
[i][
k
])+(1.0/g[k][i]));

210 
šva
[
i
][
j
]=0.0;

211 ià((
g
[
i
][
j
]==0.0)||(g[j][i])==0.0)

212 
b
[
i
][
j
]=0.0;

214 
b
[
i
][
j
]=-1.0/((1.0/
g
[i][j])+(1.0/g[j][i]));

220 
	`m©muÉ
(
c
, 
šva
, 
b
, 
NL
*
n
+
EXTRA
);

222 
	`cİy_m©rix
(
t
, 
b
, 
NL
*
n
+
EXTRA
, NL*n+EXTRA);

223 
	`m©šv
(
švb
, 
t
, 
NL
*
n
+
EXTRA
);

229 
	`ä“_m©rix
(
t
, 
NL
*
n
+
EXTRA
);

230 
	`ä“_m©rix
(
g
, 
NL
*
n
+
EXTRA
);

231 
	`ä“_m©rix
(
Ën
, 
n
);

232 
	`ä“_im©rix
(
bÜd”
, 
n
);

233 
	`ä“_veùÜ
(
c_v”
);

234 
	`ä“_veùÜ
(
gx
);

235 
	`ä“_veùÜ
(
gy
);

236 
	`ä“_veùÜ
(
gx_¥
);

237 
	`ä“_veùÜ
(
gy_¥
);

238 
	}
}

241 
	$£t_š‹º®_pow”
 (*
pow
, 
n_un™s
)

243 
i
;

244 
i
=
n_un™s
; i < 
NL
*n_un™s+
SINK_B
; i++)

245 
pow
[
i
] = 0;

246 
pow
[
NL
*
n_un™s
+
SINK_B
] = 
amb›Á
 / 
r_cÚvec
;

247 
	}
}

253 
	$¡—dy_¡©e_‹mp
(*
pow”
, *
‹mp
, 
n_un™s
)

256 
	`£t_š‹º®_pow”
(
pow”
, 
n_un™s
);

259 
	`m©veùmuÉ
(
‹mp
, 
švb
, 
pow”
, 
NL
*
n_un™s
+
EXTRA
);

260 
	}
}

263 
	#PRECISION
 0.001

	)

264 
	#TOO_LONG
 100000

	)

265 
	#MIN_ITER
 1

	)

273 
	$compu‹_‹mp
(*
pow”
, *
‹mp
, 
n_un™s
, 
time_–­£d
)

275 
i
;

276 *
pow
, 
h
, 
n_™”
;

277 
pow
 = 
	`veùÜ
(
NL
*
n_un™s
+
EXTRA
);

280 
	`£t_š‹º®_pow”
(
pow”
, 
n_un™s
);

283 
	`m©veùmuÉ
(
pow
, 
šva
, 
pow”
, 
NL
*
n_un™s
+
EXTRA
);

286 
h
 = 
PRECISION
 / 
max_¦İe
;

287 
n_™”
 = 
time_–­£d
 / 
h
;

288 
n_™”
 = (n_™” > 
MIN_ITER
) ?‚_iter : MIN_ITER;

289 
h
 = 
time_–­£d
 / 
n_™”
;

291 ià(
n_™”
 >ğ
TOO_LONG
)

292 
	`årštf
(
¡d”r
, "w¬nšg: c®lšg iÁ”v®oØÏrge,…”fÜmšg %.0à™”©iÚ - iˆmayakREALLY†Úg\n", 
n_™”
);

298 
i
 = 0; i < 
n_™”
; i++)

299 
	`rk4
(
c
, 
‹mp
, 
pow
, 
NL
*
n_un™s
+
EXTRA
, 
h
,emp);

301 
	`ä“_veùÜ
(
pow
);

302 
	}
}

305 *
	$hÙ¥Ù_veùÜ
(
n_un™s
)

307  
	`veùÜ
(
NL
*
n_un™s
+
EXTRA
);

308 
	}
}

311 
	$£t_‹mp
(*
‹mp
, 
n_un™s
, 
v®
)

313 
i
;

314 
i
=0; i < 
NL
*
n_un™s
 + 
EXTRA
; i++)

315 
‹mp
[
i
] = 
v®
;

316 
	}
}

319 
	$dump_‹mp
(
æp_t
 *
æp
, *
‹mp
, *
fe
)

321 
i
;

322 
¡r
[
STR_SIZE
];

323 
FILE
 *
å
 = 
	`fİ’
 (
fe
, "w");

324 ià(!
å
) {

325 
	`¥rštf
 (
¡r
,"”rÜ: % could‚Ù bİ’ed fÜ wr™šg", 
fe
);

326 
	`çl
(
¡r
);

329 
i
=0; i < 
æp
->
n_un™s
; i++)

330 
	`årštf
(
å
, "%s\t%.1f\n", 
æp
->
un™s
[
i
].
Çme
, 
‹mp
[i]);

333 
i
=0; i < 
æp
->
n_un™s
; i++)

334 
	`årštf
(
å
, "içû_%s\t%.1f\n", 
æp
->
un™s
[
i
].
Çme
, 
‹mp
[
IFACE
*æp->
n_un™s
+i]);

337 
i
=0; i < 
æp
->
n_un™s
; i++)

338 
	`årštf
(
å
, "h¥_%s\t%.1f\n", 
æp
->
un™s
[
i
].
Çme
, 
‹mp
[
HSP
*æp->
n_un™s
+i]);

341 
i
=0; i < 
EXTRA
; i++) {

342 
	`¥rštf
(
¡r
, "šode_%d", 
i
);

343 
	`årštf
(
å
, "%s\t%.1f\n", 
¡r
, 
‹mp
[
i
+
NL
*
æp
->
n_un™s
]);

345 
	`fşo£
(
å
);

346 
	}
}

353 
	$»ad_‹mp
(
æp_t
 *
æp
, *
‹mp
, *
fe
, 
ş
)

355 
i
, 
idx
;

356 
max
=0, 
v®
;

357 
¡r
[
STR_SIZE
], 
Çme
[STR_SIZE];

358 
FILE
 *
å
 = 
	`fİ’
 (
fe
, "r");

359 ià(!
å
) {

360 
	`¥rštf
 (
¡r
,"”rÜ: % could‚Ù bİ’ed fÜ„—dšg", 
fe
);

361 
	`çl
(
¡r
);

365 
i
=0; i < 
æp
->
n_un™s
; i++) {

366 
	`fg‘s
(
¡r
, 
STR_SIZE
, 
å
);

367 ià(
	`ãof
(
å
))

368 
	`çl
("notƒnough†ines inemperature file");

369 ià(
	`ssÿnf
(
¡r
, "%s%lf", 
Çme
, &
v®
) != 2)

370 
	`çl
("invalidemperature file format: ");

371 
idx
 = 
	`g‘_blk_šdex
(
æp
, 
Çme
);

372 ià(
idx
 >= 0)

373 
‹mp
[
idx
] = 
v®
;

375 
	`çl
 ("unit inemperature file‚ot found in floorplan");

376 ià(
‹mp
[
idx
] > 
max
)

377 
max
 = 
‹mp
[
idx
];

381 
i
=0; i < 
æp
->
n_un™s
; i++) {

382 
	`fg‘s
(
¡r
, 
STR_SIZE
, 
å
);

383 ià(
	`ãof
(
å
))

384 
	`çl
("notƒnough†ines inemperature file");

385 ià(
	`ssÿnf
(
¡r
, "içû_%s%lf", 
Çme
, &
v®
) != 2)

386 
	`çl
("invalidemperature file format: missing interface");

387 
idx
 = 
	`g‘_blk_šdex
(
æp
, 
Çme
);

388 ià(
idx
 >= 0)

389 
‹mp
[
idx
+
IFACE
*
æp
->
n_un™s
] = 
v®
;

391 
	`çl
 ("unit inemperature file‚ot found in floorplan");

395 
i
=0; i < 
æp
->
n_un™s
; i++) {

396 
	`fg‘s
(
¡r
, 
STR_SIZE
, 
å
);

397 ià(
	`ãof
(
å
))

398 
	`çl
("notƒnough†ines inemperature file");

399 ià(
	`ssÿnf
(
¡r
, "h¥_%s%lf", 
Çme
, &
v®
) != 2)

400 
	`çl
("3invalidemperature file format");

401 
idx
 = 
	`g‘_blk_šdex
(
æp
, 
Çme
);

402 ià(
idx
 >= 0)

403 
‹mp
[
idx
+
HSP
*
æp
->
n_un™s
] = 
v®
;

405 
	`çl
 ("unit inemperature file‚ot found in floorplan");

409 
i
=0; i < 
EXTRA
; i++) {

410 
	`fg‘s
(
¡r
, 
STR_SIZE
, 
å
);

411 ià(
	`ãof
(
å
))

412 
	`çl
("notƒnough†ines inemperature file");

413 ià(
	`ssÿnf
(
¡r
, "%s%lf", 
Çme
, &
v®
) != 2)

414 
	`çl
("4invalidemperature file format");

415 
	`¥rštf
(
¡r
, "šode_%d", 
i
);

416 ià(
	`¡rÿ£cmp
(
¡r
, 
Çme
))

417 
	`çl
("5invalidemperature file format");

418 
‹mp
[
i
+
NL
*
æp
->
n_un™s
] = 
v®
;

421 
	`fşo£
(
å
);

424 ià(
ş
 && (
max
 > 
th”m®_th»shŞd
)) {

428 
çùÜ
 = (
th”m®_th»shŞd
 - 
amb›Á
è/ (
max
 -‡mbient);

431 
i
=0; i < 
NL
*
æp
->
n_un™s
 + 
EXTRA
; i++)

432 
‹mp
[
i
] = (‹mp[i]-
amb›Á
)*
çùÜ
 +‡mbient;

434 
	}
}

436 
	$ş—nup_hÙ¥Ù
(
n_un™s
)

438 
	`ä“_m©rix
(
šva
, 
NL
*
n_un™s
+
EXTRA
);

439 
	`ä“_m©rix
(
b
, 
NL
*
n_un™s
+
EXTRA
);

440 
	`ä“_m©rix
(
švb
, 
NL
*
n_un™s
+
EXTRA
);

441 
	`ä“_m©rix
(
c
, 
NL
*
n_un™s
+
EXTRA
);

442 
	}
}

	@test.c

1 
	~<¡dio.h
>

3 
	$maš
()

5 
b™
[4] = {0};

6 
i
 = 0;

7 
b™
[0] = 1<<127;

8 
i
=0;i<4;i++)

9 
	`´štf
("b™ %d i %Îx\n", 
i
, 
b™
[i]);

11 
	}
}

	@time.c

43 
	~<m©h.h
>

44 
	~"def.h
"

49 
	$logtwo
(
x
)

50 
x
;

52 ià(
x
<=0è
	`´štf
("%e\n",x);

53 Ğ(è(
	`log
(
x
)/log(2.0)) );

54 
	}
}

57 
	$g©eÿp
(
width
,
wœ–’gth
)

58 
width
;

59 
wœ–’gth
;

61 (
width
*
Leff
*
Cg©e
+
wœ–’gth
*
CpŞywœe
*Leff);

62 
	}
}

64 
	$g©eÿµass
(
width
,
wœ–’gth
)

65 
width
;

66 
wœ–’gth
;

68 (
width
*
Leff
*
Cg©•ass
+
wœ–’gth
*
CpŞywœe
*Leff);

69 
	}
}

77 
	$d¿šÿp
(
width
,
nchªÃl
,
¡ack
)

78 
width
;

79 
nchªÃl
;

80 
¡ack
;

82 
Cdiffside
,
Cdifç»a
,
Cov”Ïp
,
ÿp
;

84 
Cdiffside
 = (
nchªÃl
è? 
Cndiffside
 : 
Cpdiffside
;

85 
Cdifç»a
 = (
nchªÃl
è? 
Cndifç»a
 : 
Cpdifç»a
;

86 
Cov”Ïp
 = (
nchªÃl
è? (
CndiffovÍ
+
CnoxideovÍ
) :

87 (
CpdiffovÍ
+
CpoxideovÍ
);

90 ià(
width
 >= 10) {

91 
ÿp
 = 3.0*
Leff
*
width
/2.0*
Cdifç»a
 + 6.0*Leff*
Cdiffside
 +

92 
width
*
Cov”Ïp
;

93 
ÿp
 +ğ()(
¡ack
-1)*(
Leff
*
width
*
Cdifç»a
 +

94 4.0*
Leff
*
Cdiffside
 + 2.0*
width
*
Cov”Ïp
);

96 
ÿp
 = 3.0*
Leff
*
width
*
Cdifç»a
 + (6.0*Leff+width)*
Cdiffside
 +

97 
width
*
Cov”Ïp
;

98 
ÿp
 +ğ()(
¡ack
-1)*(
Leff
*
width
*
Cdifç»a
 +

99 2.0*
Leff
*
Cdiffside
 + 2.0*
width
*
Cov”Ïp
);

101 (
ÿp
);

102 
	}
}

111 
	$Œª¤essw™ch
(
width
,
nchªÃl
,
¡ack
)

112 
width
;

113 
nchªÃl
;

114 
¡ack
;

116 
»¡¿ns
;

117 
»¡¿ns
 = (
nchªÃl
è? (
RnchªÃl¡©ic
):

118 (
RpchªÃl¡©ic
);

121 ((1.0+((
¡ack
-1.0)*0.8))*
»¡¿ns
/
width
);

122 
	}
}

126 
	$Œª¤esÚ
(
width
,
nchªÃl
,
¡ack
)

127 
width
;

128 
nchªÃl
;

129 
¡ack
;

131 
»¡¿ns
;

132 
»¡¿ns
 = (
nchªÃl
è? 
RnchªÃlÚ
 : 
RpchªÃlÚ
;

136 (
¡ack
*
»¡¿ns
/
width
);

138 
	}
}

146 
	$»¡owidth
(
»s
,
nchªÃl
)

147 
»s
;

148 
nchªÃl
;

150 
»¡¿ns
;

152 
»¡¿ns
 = (
nchªÃl
è? 
RnchªÃlÚ
 : 
RpchªÃlÚ
;

154 (
»¡¿ns
/
»s
);

156 
	}
}

160 
	$hÜow™z
(
špuŒam±ime
,
tf
,
vs1
,
vs2
,
ri£
)

161 
špuŒam±ime
,

162 
tf
,

163 
vs1
,
vs2
;

164 
ri£
;

166 
a
,
b
,
td
;

168 
a
 = 
špuŒam±ime
/
tf
;

169 ià(
ri£
==
RISE
) {

170 
b
 = 0.5;

171 
td
 = 
tf
*
	`sq¹
Ğ
	`log
(
vs1
)*log(vs1)+2*
a
*
b
*(1.0-vs1)) +

172 
tf
*(
	`log
(
vs1
)-log(
vs2
));

174 
b
 = 0.4;

175 
td
 = 
tf
*
	`sq¹
Ğ
	`log
(1.0-
vs1
)*log(1.0-vs1)+2*
a
*
b
*(vs1)) +

176 
tf
*(
	`log
(1.0-
vs1
)-log(1.0-
vs2
));

178 (
td
);

179 
	}
}

197 
	$decod”_d–ay
(
C
, 
B
, 
A
, 
Ndwl
, 
Ndbl
, 
N¥d
, 
Ntwl
, 
Ntbl
, 
Nt¥d
, 
Tdecdrive
,

198 
Tdecod”1
, 
Tdecod”2
,
ouŒi£time
)

199 
C
,
B
,
A
,
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
;

200 *
Tdecdrive
,*
Tdecod”1
,*
Tdecod”2
,*
ouŒi£time
;

202 
Ceq
,
Req
,
Rwœe
,
rows
,
tf
,
Ãxtšpu‰ime
,
vth
,
t¡•
,
m
,
a
,
b
,
c
;

203 
num¡ack
;

207 
Ceq
 = 
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1) +

208 
	`g©eÿp
(
Wdecdriv•
+
Wdecdriv’
,0.0);

209 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Wdecdriv’
,
NCH
,1);

210 
Ãxtšpu‰ime
 = 
	`hÜow™z
(0.0,
tf
,
VTHINV100x60
,VTHINV100x60,
FALL
)/

211 (
VTHINV100x60
);

213 
Ceq
 = 
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1) +

214 
	`g©eÿp
(
Wdecdriv•
+
Wdecdriv’
,0.0);

215 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Wdecdriv’
,
NCH
,1);

216 
Ãxtšpu‰ime
 = 
	`hÜow™z
Òextšpu‰ime,
tf
,
VTHINV100x60
,VTHINV100x60,

217 
RISE
)/

218 (1.0-
VTHINV100x60
);

222 
rows
 = 
C
/(8*
B
*
A
*
Ndbl
*
N¥d
);

223 
Ceq
 = 
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1) +

224 4*
	`g©eÿp
(
Wdec3to8n
+
Wdec3to8p
,10.0)*(
Ndwl
*
Ndbl
)+

225 
CwÜdm‘®
*0.25*8*
B
*
A
*
Ndbl
*
N¥d
;

226 
Rwœe
 = 
RwÜdm‘®
*0.125*8*
B
*
A
*
Ndbl
*
N¥d
;

227 
tf
 = (
Rwœe
 + 
	`Œª¤esÚ
(
Wdecdriv•
,
PCH
,1))*
Ceq
;

228 *
Tdecdrive
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHINV100x60
,
VTHNAND60x90
,

229 
FALL
);

230 
Ãxtšpu‰ime
 = *
Tdecdrive
/
VTHNAND60x90
;

234 
num¡ack
 =

235 
	`û
((1.0/3.0)*
	`logtwo
Ğ()(()
C
/()(
B
*
A
*
Ndbl
*
N¥d
))));

236 ià(
num¡ack
==0)‚umstack = 1;

237 ià(
num¡ack
>5)‚umstack = 5;

238 
Ceq
 = 3*
	`d¿šÿp
(
Wdec3to8p
,
PCH
,1è+d¿šÿp(
Wdec3to8n
,
NCH
,3) +

239 
	`g©eÿp
(
WdecNORn
+
WdecNORp
,((
num¡ack
*40)+20.0))*
rows
 +

240 
Cb™m‘®
*
rows
*8;

242 
Rwœe
 = 
Rb™m‘®
*
rows
*8/2;

243 
tf
 = 
Ceq
*(
Rwœe
+
	`Œª¤esÚ
(
Wdec3to8n
,
NCH
,3));

249 
num¡ack
) {

250 1: 
vth
 = 
VTHNOR12x4x1
; ;

251 2: 
vth
 = 
VTHNOR12x4x2
; ;

252 3: 
vth
 = 
VTHNOR12x4x3
; ;

253 4: 
vth
 = 
VTHNOR12x4x4
; ;

254 5: 
vth
 = 
VTHNOR12x4x4
; ;

255 : 
	`´štf
("”rÜ:num¡ack=%d\n",
num¡ack
);

257 *
Tdecod”1
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHNAND60x90
,
vth
,
RISE
);

258 
Ãxtšpu‰ime
 = *
Tdecod”1
/(1.0-
vth
);

262 
Req
 = 
	`Œª¤esÚ
(
WdecNORp
,
PCH
,
num¡ack
);

263 
Ceq
 = (
	`g©eÿp
(
Wdecšvn
+
Wdecšvp
,20.0)+

264 
num¡ack
*
	`d¿šÿp
(
WdecNORn
,
NCH
,1)+

265 
	`d¿šÿp
(
WdecNORp
,
PCH
,
num¡ack
));

266 
tf
 = 
Req
*
Ceq
;

267 *
Tdecod”2
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
vth
,
VSINV
,
FALL
);

268 *
ouŒi£time
 = *
Tdecod”2
/(
VSINV
);

269 (*
Tdecdrive
+*
Tdecod”1
+*
Tdecod”2
);

270 
	}
}

278 
	$decod”_g_d–ay
(
C
, 
B
, 
A
, 
Ndwl
, 
Ndbl
, 
N¥d
, 
Ntwl
, 
Ntbl
, 
Nt¥d
,

279 
Tdecdrive
, 
Tdecod”1
, 
Tdecod”2
,
ouŒi£time
)

280 
C
,
B
,
A
,
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
;

281 *
Tdecdrive
,*
Tdecod”1
,*
Tdecod”2
,*
ouŒi£time
;

283 
Ceq
,
Req
,
Rwœe
,
rows
,
tf
,
Ãxtšpu‰ime
,
vth
,
t¡•
,
m
,
a
,
b
,
c
;

284 
num¡ack
;

289 
Ceq
 = 
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1) +

290 
	`g©eÿp
(
Wdecdriv•
+
Wdecdriv’
,0.0);

291 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Wdecdriv’
,
NCH
,1);

292 
Ãxtšpu‰ime
 = 
	`hÜow™z
(0.0,
tf
,
VTHINV100x60
,VTHINV100x60,
FALL
)/

293 (
VTHINV100x60
);

295 
Ceq
 = 
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1) +

296 
	`g©eÿp
(
Wdecdriv•
+
Wdecdriv’
,0.0);

297 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Wdecdriv’
,
NCH
,1);

298 
Ãxtšpu‰ime
 = 
	`hÜow™z
Òextšpu‰ime,
tf
,
VTHINV100x60
,VTHINV100x60,

299 
RISE
)/

300 (1.0-
VTHINV100x60
);

304 
rows
 = 
C
/(8*
B
*
A
*
Ntbl
*
Nt¥d
);

305 
Ceq
 = 
	`d¿šÿp
(
Wdecdriv•
,
PCH
,1)+d¿šÿp(
Wdecdriv’
,
NCH
,1) +

306 4*
	`g©eÿp
(
Wdec3to8n
+
Wdec3to8p
,10.0)*(
Ntwl
*
Ntbl
)+

307 
CwÜdm‘®
*0.25*8*
B
*
A
*
Ntbl
*
Nt¥d
;

308 
Rwœe
 = 
RwÜdm‘®
*0.125*8*
B
*
A
*
Ntbl
*
Nt¥d
;

309 
tf
 = (
Rwœe
 + 
	`Œª¤esÚ
(
Wdecdriv•
,
PCH
,1))*
Ceq
;

310 *
Tdecdrive
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHINV100x60
,
VTHNAND60x90
,

311 
FALL
);

312 
Ãxtšpu‰ime
 = *
Tdecdrive
/
VTHNAND60x90
;

316 
num¡ack
 =

317 
	`û
((1.0/3.0)*
	`logtwo
Ğ()(()
C
/()(
B
*
A
*
Ntbl
*
Nt¥d
))));

318 ià(
num¡ack
==0)‚umstack = 1;

319 ià(
num¡ack
>5)‚umstack = 5;

321 
Ceq
 = 3*
	`d¿šÿp
(
Wdec3to8p
,
PCH
,1è+d¿šÿp(
Wdec3to8n
,
NCH
,3) +

322 
	`g©eÿp
(
WdecNORn
+
WdecNORp
,((
num¡ack
*40)+20.0))*
rows
 +

323 
Cb™m‘®
*
rows
*8;

325 
Rwœe
 = 
Rb™m‘®
*
rows
*8/2;

326 
tf
 = 
Ceq
*(
Rwœe
+
	`Œª¤esÚ
(
Wdec3to8n
,
NCH
,3));

332 
num¡ack
) {

333 1: 
vth
 = 
VTHNOR12x4x1
; ;

334 2: 
vth
 = 
VTHNOR12x4x2
; ;

335 3: 
vth
 = 
VTHNOR12x4x3
; ;

336 4: 
vth
 = 
VTHNOR12x4x4
; ;

337 5: 
vth
 = 
VTHNOR12x4x4
; ;

338 6: 
vth
 = 
VTHNOR12x4x4
; ;

339 : 
	`´štf
("”rÜ:num¡ack=%d\n",
num¡ack
);

341 *
Tdecod”1
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHNAND60x90
,
vth
,
RISE
);

342 
Ãxtšpu‰ime
 = *
Tdecod”1
/(1.0-
vth
);

346 
Req
 = 
	`Œª¤esÚ
(
WdecNORp
,
PCH
,
num¡ack
);

347 
Ceq
 = (
	`g©eÿp
(
Wdecšvn
+
Wdecšvp
,20.0)+

348 
num¡ack
*
	`d¿šÿp
(
WdecNORn
,
NCH
,1)+

349 
	`d¿šÿp
(
WdecNORp
,
PCH
,
num¡ack
));

350 
tf
 = 
Req
*
Ceq
;

351 *
Tdecod”2
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
vth
,
VSINV
,
FALL
);

352 *
ouŒi£time
 = *
Tdecod”2
/(
VSINV
);

353 (*
Tdecdrive
+*
Tdecod”1
+*
Tdecod”2
);

354 
	}
}

362 
	$wÜdlše_d–ay
(
B
,
A
,
Ndwl
,
N¥d
,
šri£time
,
ouŒi£time
)

363 
B
,
A
,
Ndwl
,
N¥d
;

364 
šri£time
,*
ouŒi£time
;

366 
Rpdrive
,
ÃxŒi£time
;

367 
desœedri£time
,
psize
,
nsize
;

368 
tf
,
Ãxtšpu‰ime
,
Ceq
,
Req
,
Rlše
,
Clše
;

369 
cŞs
;

370 
TwÜddrived–
,
TwÜdch¬ged–
;

372 
cŞs
 = 8*
B
*
A
*
N¥d
/
Ndwl
;

377 
desœedri£time
 = 
kri£
*
	`log
(()(
cŞs
))/2.0;

378 
Clše
 = (
	`g©eÿµass
(
WmemûÎa
,0.0)+

379 
	`g©eÿµass
(
WmemûÎa
,0.0)+

380 
CwÜdm‘®
)*
cŞs
;

381 
Rpdrive
 = 
desœedri£time
/(
Clše
*
	`log
(
VSINV
)*-1.0);

382 
psize
 = 
	`»¡owidth
(
Rpdrive
,
PCH
);

383 ià(
psize
 > 
WwÜddrivemax
) {

384 
psize
 = 
WwÜddrivemax
;

391 
nsize
 = 
psize
 * 
Wdecšvn
/
Wdecšvp
;

393 
Ceq
 = 
	`d¿šÿp
(
Wdecšvn
,
NCH
,1è+ d¿šÿp(
Wdecšvp
,
PCH
,1) +

394 
	`g©eÿp
(
nsize
+
psize
,20.0);

395 
tf
 = 
	`Œª¤esÚ
(
Wdecšvn
,
NCH
,1)*
Ceq
;

397 
TwÜddrived–
 = 
	`hÜow™z
(
šri£time
,
tf
,
VSINV
,VSINV,
RISE
);

398 
Ãxtšpu‰ime
 = 
TwÜddrived–
/(1.0-
VSINV
);

400 
Clše
 = (
	`g©eÿµass
(
WmemûÎa
,(
B™Width
-2*Wmemcella)/2.0)+

401 
	`g©eÿµass
(
WmemûÎa
,(
B™Width
-2*Wmemcella)/2.0)+

402 
CwÜdm‘®
)*
cŞs
+

403 
	`d¿šÿp
(
nsize
,
NCH
,1è+ d¿šÿp(
psize
,
PCH
,1);

404 
Rlše
 = 
RwÜdm‘®
*
cŞs
/2;

405 
tf
 = (
	`Œª¤esÚ
(
psize
,
PCH
,1)+
Rlše
)*
Clše
;

406 
TwÜdch¬ged–
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VSINV
,VSINV,
FALL
);

407 *
ouŒi£time
 = 
TwÜdch¬ged–
/
VSINV
;

409 (
TwÜddrived–
+
TwÜdch¬ged–
);

410 
	}
}

417 
	$wÜdlše_g_d–ay
(
C
,
A
,
Nt¥d
,
Ntwl
,
šri£time
,
ouŒi£time
)

418 
C
,
A
,
Nt¥d
,
Ntwl
;

419 *
ouŒi£time
;

420 
šri£time
;

422 
tf
,
m
,
a
,
b
,
c
;

423 
Clše
,
Rlše
,
Ceq
,
Ãxtšpu‰ime
;

424 
gb™s
;

425 
TwÜddrived–
,
TwÜdch¬ged–
;

429 
gb™s
 = 
ADDRESS_BITS
+2-()
	`logtwo
(()
C
)+(îogtwo(()
A
);

433 
Ceq
 = 
	`d¿šÿp
(
Wdecšvn
,
NCH
,1è+ d¿šÿp(
Wdecšvp
,
PCH
,1) +

434 
	`g©eÿp
(
Wdecšvn
+
Wdecšvp
,20.0);

435 
tf
 = 
	`Œª¤esÚ
(
Wdecšvn
,
NCH
,1)*
Ceq
;

437 
TwÜddrived–
 = 
	`hÜow™z
(
šri£time
,
tf
,
VSINV
,VSINV,
RISE
);

438 
Ãxtšpu‰ime
 = 
TwÜddrived–
/(1.0-
VSINV
);

441 
Clše
 = (
	`g©eÿµass
(
WmemûÎa
,(
B™Width
-2*Wmemcella)/2.0)+

442 
	`g©eÿµass
(
WmemûÎa
,(
B™Width
-2*Wmemcella)/2.0)+

443 
CwÜdm‘®
)*
gb™s
*
A
*
Nt¥d
/
Ntwl
+

444 
	`d¿šÿp
(
Wdecšvn
,
NCH
,1è+ d¿šÿp(
Wdecšvp
,
PCH
,1);

445 
Rlše
 = 
RwÜdm‘®
*
gb™s
*
A
*
Nt¥d
/(2*
Ntwl
);

446 
tf
 = (
	`Œª¤esÚ
(
Wdecšvp
,
PCH
,1)+
Rlše
)*
Clše
;

447 
TwÜdch¬ged–
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VSINV
,VSINV,
FALL
);

448 *
ouŒi£time
 = 
TwÜdch¬ged–
/
VSINV
;

449 (
TwÜddrived–
+
TwÜdch¬ged–
);

451 
	}
}

458 
	$b™lše_d–ay
(
C
,
A
,
B
,
Ndwl
,
Ndbl
,
N¥d
,
šri£time
,
ouŒi£time
)

459 
C
,
A
,
B
,
Ndbl
,
N¥d
;

460 
šri£time
,*
ouŒi£time
;

462 
Tb™
,
Clše
,
CcŞmux
,
Rlšeb
,
r1
,
r2
,
c1
,
c2
,
a
,
b
,
c
;

463 
m
,
t¡•
;

464 
Cb™row
;

465 
rows
,
cŞs
;

467 
Cb™row
 = 
	`d¿šÿp
(
WmemûÎa
,
NCH
,1)/2.0;

468 
rows
 = 
C
/(
B
*
A
*
Ndbl
*
N¥d
);

469 
cŞs
 = 8*
B
*
A
*
N¥d
/
Ndwl
;

470 ià(
Ndbl
*
N¥d
 == 1) {

471 
Clše
 = 
rows
*(
Cb™row
+
Cb™m‘®
)+2*
	`d¿šÿp
(
Wb™´“qu
,
PCH
,1);

472 
CcŞmux
 = 2*
	`g©eÿp
(
W£n£Q1to4
,10.0);

473 
Rlšeb
 = 
Rb™m‘®
*
rows
/2.0;

474 
r1
 = 
Rlšeb
;

476 
Clše
 = 
rows
*(
Cb™row
+
Cb™m‘®
è+ 2*
	`d¿šÿp
(
Wb™´“qu
,
PCH
,1) +

477 
	`d¿šÿp
(
Wb™muxn
,
NCH
,1);

478 
CcŞmux
 = 
N¥d
*
Ndbl
*(
	`d¿šÿp
(
Wb™muxn
,
NCH
,1))+2*
	`g©eÿp
(
W£n£Q1to4
,10.0);

479 
Rlšeb
 = 
Rb™m‘®
*
rows
/2.0;

480 
r1
 = 
Rlšeb
 +

481 
	`Œª¤esÚ
(
Wb™muxn
,
NCH
,1);

483 
r2
 = 
	`Œª¤esÚ
(
WmemûÎa
,
NCH
,1) +

484 
	`Œª¤esÚ
(
WmemûÎa
*
WmemûÎbsÿË
,
NCH
,1);

485 
c1
 = 
CcŞmux
;

486 
c2
 = 
Clše
;

489 
t¡•
 = (
r2
*
c2
+(
r1
+r2)*
c1
)*
	`log
((
Vb™´e
)/(Vb™´e-
Vb™£n£
));

493 
m
 = 
Vdd
/
šri£time
;

494 ià(
t¡•
 <ğ(0.5*(
Vdd
-
Vt
)/
m
)) {

495 
a
 = 
m
;

496 
b
 = 2*((
Vdd
*0.5)-
Vt
);

497 
c
 = -2*
t¡•
*(
Vdd
-
Vt
)+1/
m
*((Vdd*0.5)-Vt)*

498 ((
Vdd
*0.5)-
Vt
);

499 
Tb™
 = (-
b
+
	`sq¹
(b*b-4*
a
*
c
))/(2*a);

501 
Tb™
 = 
t¡•
 + (
Vdd
+
Vt
)/(2*
m
) - (Vdd*0.5)/m;

504 *
ouŒi£time
 = 
Tb™
/(
	`log
((
Vb™´e
-
Vb™£n£
)/
Vdd
));

505 (
Tb™
);

506 
	}
}

516 
	$b™lše_g_d–ay
(
C
,
A
,
B
,
Ntwl
,
Ntbl
,
Nt¥d
,
šri£time
,
ouŒi£time
)

517 
C
,
A
,
B
,
Ntbl
,
Nt¥d
;

518 
šri£time
,*
ouŒi£time
;

520 
Tb™
,
Clše
,
CcŞmux
,
Rlšeb
,
r1
,
r2
,
c1
,
c2
,
a
,
b
,
c
;

521 
m
,
t¡•
;

522 
Cb™row
;

523 
rows
,
cŞs
;

525 
Cb™row
 = 
	`d¿šÿp
(
WmemûÎa
,
NCH
,1)/2.0;

526 
rows
 = 
C
/(
B
*
A
*
Ntbl
*
Nt¥d
);

527 
cŞs
 = 8*
B
*
A
*
Nt¥d
/
Ntwl
;

528 ià(
Ntbl
*
Nt¥d
 == 1) {

529 
Clše
 = 
rows
*(
Cb™row
+
Cb™m‘®
)+2*
	`d¿šÿp
(
Wb™´“qu
,
PCH
,1);

530 
CcŞmux
 = 2*
	`g©eÿp
(
W£n£Q1to4
,10.0);

531 
Rlšeb
 = 
Rb™m‘®
*
rows
/2.0;

532 
r1
 = 
Rlšeb
;

534 
Clše
 = 
rows
*(
Cb™row
+
Cb™m‘®
è+ 2*
	`d¿šÿp
(
Wb™´“qu
,
PCH
,1) +

535 
	`d¿šÿp
(
Wb™muxn
,
NCH
,1);

536 
CcŞmux
 = 
Nt¥d
*
Ntbl
*(
	`d¿šÿp
(
Wb™muxn
,
NCH
,1))+2*
	`g©eÿp
(
W£n£Q1to4
,10.0);

537 
Rlšeb
 = 
Rb™m‘®
*
rows
/2.0;

538 
r1
 = 
Rlšeb
 +

539 
	`Œª¤esÚ
(
Wb™muxn
,
NCH
,1);

541 
r2
 = 
	`Œª¤esÚ
(
WmemûÎa
,
NCH
,1) +

542 
	`Œª¤esÚ
(
WmemûÎa
*
WmemûÎbsÿË
,
NCH
,1);

544 
c1
 = 
CcŞmux
;

545 
c2
 = 
Clše
;

547 
t¡•
 = (
r2
*
c2
+(
r1
+r2)*
c1
)*
	`log
((
Vb™´e
)/(Vb™´e-
Vb™£n£
));

551 
m
 = 
Vdd
/
šri£time
;

552 ià(
t¡•
 <ğ(0.5*(
Vdd
-
Vt
)/
m
)) {

553 
a
 = 
m
;

554 
b
 = 2*((
Vdd
*0.5)-
Vt
);

555 
c
 = -2*
t¡•
*(
Vdd
-
Vt
)+1/
m
*((Vdd*0.5)-Vt)*

556 ((
Vdd
*0.5)-
Vt
);

557 
Tb™
 = (-
b
+
	`sq¹
(b*b-4*
a
*
c
))/(2*a);

559 
Tb™
 = 
t¡•
 + (
Vdd
+
Vt
)/(2*
m
) - (Vdd*0.5)/m;

562 *
ouŒi£time
 = 
Tb™
/(
	`log
((
Vb™´e
-
Vb™£n£
)/
Vdd
));

563 (
Tb™
);

564 
	}
}

573 
	$£n£_amp_d–ay
(
šri£time
,
ouŒi£time
)

574 
šri£time
,*
ouŒi£time
;

576 *
ouŒi£time
 = 
tçÎd©a
;

577 (
t£n£d©a
);

578 
	}
}

582 
	$£n£_amp_g_d–ay
(
šri£time
,
ouŒi£time
)

583 
šri£time
,*
ouŒi£time
;

585 *
ouŒi£time
 = 
tçÎg
;

586 (
t£n£g
);

587 
	}
}

594 
	$com·»_time
(
C
,
A
,
Ntbl
,
Nt¥d
,
špu‰ime
,
ouu‰ime
)

595 
C
,
A
,
Ntbl
,
Nt¥d
;

596 
špu‰ime
,*
ouu‰ime
;

598 
Req
,
Ceq
,
tf
,
¡1d–
,
¡2d–
,
¡3d–
,
Ãxtšpu‰ime
,
m
;

599 
c1
,
c2
,
r1
,
r2
,
t¡•
,
a
,
b
,
c
;

600 
Tcom·¿tÜni
;

601 
cŞs
,
gb™s
;

605 
Ceq
 = 
	`g©eÿp
(
Wcompšvn2
+
Wcompšvp2
,10.0) +

606 
	`d¿šÿp
(
Wcompšvp1
,
PCH
,1è+ d¿šÿp(
Wcompšvn1
,
NCH
,1);

607 
Req
 = 
	`Œª¤esÚ
(
Wcompšvp1
,
PCH
,1);

608 
tf
 = 
Req
*
Ceq
;

609 
¡1d–
 = 
	`hÜow™z
(
špu‰ime
,
tf
,
VTHCOMPINV
,VTHCOMPINV,
FALL
);

610 
Ãxtšpu‰ime
 = 
¡1d–
/
VTHCOMPINV
;

614 
Ceq
 = 
	`g©eÿp
(
Wcompšvn3
+
Wcompšvp3
,10.0) +

615 
	`d¿šÿp
(
Wcompšvp2
,
PCH
,1è+ d¿šÿp(
Wcompšvn2
,
NCH
,1);

616 
Req
 = 
	`Œª¤esÚ
(
Wcompšvn2
,
NCH
,1);

617 
tf
 = 
Req
*
Ceq
;

618 
¡2d–
 = 
	`hÜow™z
(
špu‰ime
,
tf
,
VTHCOMPINV
,VTHCOMPINV,
RISE
);

619 
Ãxtšpu‰ime
 = 
¡1d–
/(1.0-
VTHCOMPINV
);

623 
Ceq
 = 
	`g©eÿp
(
Wev®švn
+
Wev®švp
,10.0) +

624 
	`d¿šÿp
(
Wcompšvp3
,
PCH
,1è+ d¿šÿp(
Wcompšvn3
,
NCH
,1);

625 
Req
 = 
	`Œª¤esÚ
(
Wcompšvp3
,
PCH
,1);

626 
tf
 = 
Req
*
Ceq
;

627 
¡3d–
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHCOMPINV
,
VTHEVALINV
,
FALL
);

628 
Ãxtšpu‰ime
 = 
¡1d–
/(
VTHEVALINV
);

632 
gb™s
 = 
ADDRESS_BITS
 - ()
	`logtwo
(()
C
è+ (îogtwo(()
A
);

633 
cŞs
 = 
gb™s
*
Ntbl
*
Nt¥d
;

635 
r1
 = 
	`Œª¤esÚ
(
Wcom²
,
NCH
,2);

636 
r2
 = 
	`Œª¤essw™ch
(
Wev®švn
,
NCH
,1);

637 
c2
 = (
gb™s
)*(
	`d¿šÿp
(
Wcom²
,
NCH
,1)+draincap(Wcompn,NCH,2))+

638 
	`d¿šÿp
(
Wev®švp
,
PCH
,1è+ d¿šÿp(
Wev®švn
,
NCH
,1);

639 
c1
 = (
gb™s
)*(
	`d¿šÿp
(
Wcom²
,
NCH
,1)+draincap(Wcompn,NCH,2))

640 +
	`d¿šÿp
(
Wcomµ
,
PCH
,1è+ 
	`g©eÿp
(
Wmuxdrv12n
+
Wmuxdrv12p
,20.0) +

641 
cŞs
*
CwÜdm‘®
;

645 
t¡•
 = (
r2
*
c2
+(
r1
+r2)*
c1
)*
	`log
(1.0/
VTHMUXDRV1
);

649 
m
 = 
Vdd
/
Ãxtšpu‰ime
;

651 ià((
t¡•
è<ğ(0.5*(
Vdd
-
Vt
)/
m
)) {

652 
a
 = 
m
;

653 
b
 = 2*((
Vdd
*
VTHEVALINV
)-
Vt
);

654 
c
 = -2*(
t¡•
)*(
Vdd
-
Vt
)+1/
m
*((Vdd*
VTHEVALINV
)-Vt)*((Vdd*VTHEVALINV)-Vt);

655 
Tcom·¿tÜni
 = (-
b
+
	`sq¹
(b*b-4*
a
*
c
))/(2*a);

657 
Tcom·¿tÜni
 = (
t¡•
è+ (
Vdd
+
Vt
)/(2*
m
è- (Vdd*
VTHEVALINV
)/m;

659 *
ouu‰ime
 = 
Tcom·¿tÜni
/(1.0-
VTHMUXDRV1
);

661 (
Tcom·¿tÜni
+
¡1d–
+
¡2d–
+
¡3d–
);

662 
	}
}

672 
	$mux_driv”_d–ay
(
C
,
B
,
A
,
Ndbl
,
N¥d
,
Ndwl
,
Ntbl
,
Nt¥d
,
špu‰ime
,
ouu‰ime
)

673 
C
,
B
,
A
,
Ndbl
,
N¥d
,
Ndwl
,
Ntbl
,
Nt¥d
;

674 
špu‰ime
,*
ouu‰ime
;

676 
Ceq
,
Req
,
tf
,
Ãxtšpu‰ime
;

677 
T¡1
,
T¡2
,
T¡3
;

683 
Ceq
 = 
	`g©eÿp
(
WmuxdrvNORn
+
WmuxdrvNORp
,15.0)*(8*
B
/
BITOUT
) +

684 
	`d¿šÿp
(
Wmuxdrv12n
,
NCH
,1è+ d¿šÿp(
Wmuxdrv12p
,
PCH
,1);

685 
Req
 = 
	`Œª¤esÚ
(
Wmuxdrv12p
,
PCH
,1);

686 
tf
 = 
Ceq
*
Req
;

687 
T¡1
 = 
	`hÜow™z
(
špu‰ime
,
tf
,
VTHMUXDRV1
,
VTHMUXDRV2
,
FALL
);

688 
Ãxtšpu‰ime
 = 
T¡1
/
VTHMUXDRV2
;

692 
Ceq
 = 
	`g©eÿp
(
Wmuxdrv3n
+
Wmuxdrv3p
,15.0è+ 2*
	`d¿šÿp
(
WmuxdrvNORn
,
NCH
,1) +

693 
	`d¿šÿp
(
WmuxdrvNORp
,
PCH
,2);

694 
Req
 = 
	`Œª¤esÚ
(
WmuxdrvNORn
,
NCH
,1);

695 
tf
 = 
Ceq
*
Req
;

696 
T¡2
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHMUXDRV2
,
VTHMUXDRV3
,
RISE
);

697 
Ãxtšpu‰ime
 = 
T¡2
/(1-
VTHMUXDRV3
);

701 
Ceq
 = 
BITOUT
*
	`g©eÿp
(
Woutdrv£Ê
+
Woutdrv£Í
+
WoutdrvnÜn
+
WoutdrvnÜp
,20.0)+

702 
	`d¿šÿp
(
Wmuxdrv3p
,
PCH
,1è+ d¿šÿp(
Wmuxdrv3n
,
NCH
,1) +

703 
CwÜdm‘®
*8*
B
*
A
*
N¥d
*
Ndbl
/2.0;

704 
Req
 = (
RwÜdm‘®
*8*
B
*
A
*
N¥d
*
Ndbl
/2)/2 + 
	`Œª¤esÚ
(
Wmuxdrv3p
,
PCH
,1);

705 
tf
 = 
Ceq
*
Req
;

706 
T¡3
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHMUXDRV3
,
VTHOUTDRINV
,
FALL
);

707 *
ouu‰ime
 = 
T¡3
/(
VTHOUTDRINV
);

709 (
T¡1
 + 
T¡2
 + 
T¡3
);

711 
	}
}

720 
	$v®id_driv”_d–ay
(
C
,
A
,
Ntbl
,
Nt¥d
,
špu‰ime
)

721 
C
,
A
,
Ntbl
,
Nt¥d
;

722 
špu‰ime
;

724 
Ceq
,
T¡1
,
tf
;

726 
Ceq
 = 
	`d¿šÿp
(
Wmuxdrv12n
,
NCH
,1)+d¿šÿp(
Wmuxdrv12p
,
PCH
,1)+
Cout
;

727 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Wmuxdrv12p
,
PCH
,1);

728 
T¡1
 = 
	`hÜow™z
(
špu‰ime
,
tf
,
VTHMUXDRV1
,0.5,
FALL
);

730 (
T¡1
);

731 
	}
}

740 
	$d©aouut_d–ay
(
C
,
B
,
A
,
Ndbl
,
N¥d
,
Ndwl
,

741 
šri£time
,
ouŒi£time
)

742 
C
,
B
,
A
,
Ndbl
,
N¥d
,
Ndwl
;

743 *
ouŒi£time
,
šri£time
;

745 
Ceq
,
Rwœe
,
Rlše
;

746 
a¥eùR©io
;

747 
¿mBlocks
;

748 
tf
;

749 
nÜd–
,
outd–
,
Ãxtšpu‰ime
;

750 
h¡ack
,
v¡ack
;

754 
a¥eùR©io
 = (2.0*
C
)/(8.0*
B
*B*
A
*A*
Ndbl
*Ndbl*
N¥d
*Nspd);

755 
h¡ack
 = (
a¥eùR©io
 > 1.0) ?‡spectRatio : 1.0/aspectRatio;

756 
¿mBlocks
 = 
Ndwl
*
Ndbl
;

757 
h¡ack
 = h¡ack * 
	`sq¹
(
¿mBlocks
/ hstack);

758 
v¡ack
 = 
¿mBlocks
/ 
h¡ack
;

762 
Ceq
 = 2*
	`d¿šÿp
(
WoutdrvnÜn
,
NCH
,1)+d¿šÿp(
WoutdrvnÜp
,
PCH
,2)+

763 
	`g©eÿp
(
Woutdriv”n
,10.0);

764 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
WoutdrvnÜp
,
PCH
,2);

765 
nÜd–
 = 
	`hÜow™z
(
šri£time
,
tf
,
VTHOUTDRNOR
,
VTHOUTDRIVE
,
FALL
);

766 
Ãxtšpu‰ime
 = 
nÜd–
/(
VTHOUTDRIVE
);

770 
Ceq
 = (
	`d¿šÿp
(
Woutdriv”n
,
NCH
,1)+d¿šÿp(
Woutdriv”p
,
PCH
,1))*

771 ((8*
B
*
A
)/
BITOUT
) +

772 
CwÜdm‘®
*(8*
B
*
A
*
N¥d
* (
v¡ack
)è+ 
Cout
;

773 
Rwœe
 = 
RwÜdm‘®
*(8*
B
*
A
*
N¥d
* (
v¡ack
))/2;

775 
tf
 = 
Ceq
*(
	`Œª¤esÚ
(
Woutdriv”p
,
PCH
,1)+
Rwœe
);

776 
outd–
 = 
	`hÜow™z
(
Ãxtšpu‰ime
,
tf
,
VTHOUTDRIVE
,0.5,
RISE
);

777 *
ouŒi£time
 = 
outd–
/0.5;

778 (
outd–
+
nÜd–
);

779 
	}
}

785 
	$£lb_d–ay_g_·th
(
šri£time
,
ouŒi£time
)

786 
šri£time
,*
ouŒi£time
;

788 
Ceq
,
T¡1
,
tf
;

790 
Ceq
 = 
	`d¿šÿp
(
Woutdrv£Ê
,
NCH
,1)+d¿šÿp(
Woutdrv£Í
,
PCH
,1)+

791 
	`g©eÿp
(
WoutdrvÇndn
+
WoutdrvÇndp
,10.0);

792 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Woutdrv£Ê
,
NCH
,1);

793 
T¡1
 = 
	`hÜow™z
(
šri£time
,
tf
,
VTHOUTDRINV
,
VTHOUTDRNAND
,
RISE
);

794 *
ouŒi£time
 = 
T¡1
/(1.0-
VTHOUTDRNAND
);

796 (
T¡1
);

797 
	}
}

806 
	$´ech¬ge_d–ay
(
wÜdd©a
)

807 
wÜdd©a
;

809 
Ceq
,
tf
,
´‘ime
;

815 
Ceq
 = 
	`d¿šÿp
(
Wdecšvn
,
NCH
,1)+d¿šÿp(
Wdecšvp
,
PCH
,1)+

816 4*
	`g©eÿp
(
Wdecšvn
+
Wdecšvp
,0.0);

817 
tf
 = 
Ceq
*
	`Œª¤esÚ
(
Wdecšvn
,
NCH
,1);

818 
´‘ime
 = 4*
	`hÜow™z
(0.0,
tf
,0.5,0.5,
RISE
è+ 
wÜdd©a
;

820 (
´‘ime
);

821 
	}
}

831 
	$Ügªiz©iÚ®_·¿m‘”s_v®id
(
rows
,
cŞs
,
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
)

832 
rows
,
cŞs
,
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
;

836 ià(
Ndwl
*
Ndbl
>
MAXSUBARRAYS
è(
FALSE
);

837 ià(
Ntwl
*
Ntbl
>
MAXSUBARRAYS
è(
FALSE
);

841 (
TRUE
);

842 
	}
}

848 
	$ÿlcuÏ‹_time
(
»suÉ
,
·¿m‘”s
)

849 
»suÉ_ty³
 *
»suÉ
;

850 
·¿m‘”_ty³
 *
·¿m‘”s
;

852 
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
,
rows
,
cŞumns
,
g_driv”_size1
,
g_driv”_size2
;

853 
acûss_time
;

854 
befÜe_mux
,
aá”_mux
;

855 
decod”_d©a_driv”
,
decod”_d©a_3to8
,
decod”_d©a_šv
;

856 
decod”_d©a
,
decod”_g
,
wÜdlše_d©a
,
wÜdlše_g
;

857 
decod”_g_driv”
,
decod”_g_3to8
,
decod”_g_šv
;

858 
b™lše_d©a
,
b™lše_g
,
£n£_amp_d©a
,
£n£_amp_g
;

859 
com·»_g
,
mux_driv”
,
d©a_ouut
,
£lb
;

860 
time_tl_com·»
,
time_tl_£Ëù
,
driv”_ÿp
,
v®id_driv”
;

861 
cyşe_time
, 
´ech¬ge_d–
;

862 
ouŒi£time
,
šri£time
;

864 
rows
 = 
·¿m‘”s
->
numb”_of_£ts
;

865 
cŞumns
 = 8*
·¿m‘”s
->
block_size
*·¿m‘”s->
assocŸtiv™y
;

871 
»suÉ
->
cyşe_time
 = 
BIGNUM
;

872 
»suÉ
->
acûss_time
 = 
BIGNUM
;

873 
N¥d
=1;N¥d<=
MAXSPD
;Nspd=Nspd*2) {

874 
Ndwl
=1;Ndwl<=
MAXN
;Ndwl=Ndwl*2) {

875 
Ndbl
=1;Ndbl<=
MAXN
;Ndbl=Ndbl*2) {

876 
Nt¥d
=1;Nt¥d<=
MAXSPD
;Ntspd=Ntspd*2) {

877 
Ntwl
=1;Ntwl<=1;Ntwl=Ntwl*2) {

878 
Ntbl
=1;Ntbl<=
MAXN
;Ntbl=Ntbl*2) {

880 ià(
Ügªiz©iÚ®_·¿m‘”s_v®id


881 (
rows
,
cŞumns
,
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
)) {

887 
decod”_d©a
 = 
	`decod”_d–ay
(
·¿m‘”s
->
ÿche_size
,·¿m‘”s->
block_size
,

888 
·¿m‘”s
->
assocŸtiv™y
,
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
,

889 &
decod”_d©a_driv”
,&
decod”_d©a_3to8
,

890 &
decod”_d©a_šv
,&
ouŒi£time
);

892 
šri£time
 = 
ouŒi£time
;

893 
wÜdlše_d©a
 = 
	`wÜdlše_d–ay
(
·¿m‘”s
->
block_size
,

894 
·¿m‘”s
->
assocŸtiv™y
,
Ndwl
,
N¥d
,

895 
šri£time
,&
ouŒi£time
);

896 
šri£time
 = 
ouŒi£time
;

897 
b™lše_d©a
 = 
	`b™lše_d–ay
(
·¿m‘”s
->
ÿche_size
,·¿m‘”s->
assocŸtiv™y
,

898 
·¿m‘”s
->
block_size
,
Ndwl
,
Ndbl
,
N¥d
,

899 
šri£time
,&
ouŒi£time
);

900 
šri£time
 = 
ouŒi£time
;

901 
£n£_amp_d©a
 = 
	`£n£_amp_d–ay
(
šri£time
,&
ouŒi£time
);

902 
šri£time
 = 
ouŒi£time
;

903 
d©a_ouut
 = 
	`d©aouut_d–ay
(
·¿m‘”s
->
ÿche_size
,·¿m‘”s->
block_size
,

904 
·¿m‘”s
->
assocŸtiv™y
,
Ndbl
,
N¥d
,
Ndwl
,

905 
šri£time
,&
ouŒi£time
);

906 
šri£time
 = 
ouŒi£time
;

913 ià(
·¿m‘”s
->
assocŸtiv™y
==1) {

914 
befÜe_mux
 = 
decod”_d©a
 + 
wÜdlše_d©a
 + 
b™lše_d©a
 +

915 
£n£_amp_d©a
 + 
d©a_ouut
;

916 
aá”_mux
 = 0;

918 
befÜe_mux
 = 
decod”_d©a
 + 
wÜdlše_d©a
 + 
b™lše_d©a
 +

919 
£n£_amp_d©a
;

920 
aá”_mux
 = 
d©a_ouut
;

929 
decod”_g
 = 
	`decod”_g_d–ay
(
·¿m‘”s
->
ÿche_size
,

930 
·¿m‘”s
->
block_size
,·¿m‘”s->
assocŸtiv™y
,

931 
Ndwl
,
Ndbl
,
N¥d
,
Ntwl
,
Ntbl
,
Nt¥d
,

932 &
decod”_g_driv”
,&
decod”_g_3to8
,

933 &
decod”_g_šv
,&
ouŒi£time
);

934 
šri£time
 = 
ouŒi£time
;

936 
wÜdlše_g
 = 
	`wÜdlše_g_d–ay
(
·¿m‘”s
->
ÿche_size
,

937 
·¿m‘”s
->
assocŸtiv™y
,
Nt¥d
,
Ntwl
,

938 
šri£time
,&
ouŒi£time
);

939 
šri£time
 = 
ouŒi£time
;

941 
b™lše_g
 = 
	`b™lše_g_d–ay
(
·¿m‘”s
->
ÿche_size
,·¿m‘”s->
assocŸtiv™y
,

942 
·¿m‘”s
->
block_size
,
Ntwl
,
Ntbl
,
Nt¥d
,

943 
šri£time
,&
ouŒi£time
);

944 
šri£time
 = 
ouŒi£time
;

946 
£n£_amp_g
 = 
	`£n£_amp_g_d–ay
(
šri£time
,&
ouŒi£time
);

947 
šri£time
 = 
ouŒi£time
;

949 
com·»_g
 = 
	`com·»_time
(
·¿m‘”s
->
ÿche_size
,·¿m‘”s->
assocŸtiv™y
,

950 
Ntbl
,
Nt¥d
,

951 
šri£time
,&
ouŒi£time
);

952 
šri£time
 = 
ouŒi£time
;

954 ià(
·¿m‘”s
->
assocŸtiv™y
 == 1) {

955 
mux_driv”
 = 0;

956 
v®id_driv”
 = 
	`v®id_driv”_d–ay
(
·¿m‘”s
->
ÿche_size
,

957 
·¿m‘”s
->
assocŸtiv™y
,
Ntbl
,
Nt¥d
,
šri£time
);

958 
time_tl_com·»
 = 
decod”_g
 + 
wÜdlše_g
 + 
b™lše_g
 +

959 
£n£_amp_g
;

961 
time_tl_£Ëù
 = 
time_tl_com·»
+ 
com·»_g
 + 
v®id_driv”
;

968 
acûss_time
 = 
	`MAX
(
befÜe_mux
+
aá”_mux
,
time_tl_£Ëù
);

972 
mux_driv”
 = 
	`mux_driv”_d–ay
(
·¿m‘”s
->
ÿche_size
,·¿m‘”s->
block_size
,

973 
·¿m‘”s
->
assocŸtiv™y
,
Ndbl
,
N¥d
,
Ndwl
,
Ntbl
,
Nt¥d
,

974 
šri£time
,&
ouŒi£time
);

976 
£lb
 = 
	`£lb_d–ay_g_·th
(
šri£time
,&
ouŒi£time
);

978 
v®id_driv”
 = 0;

980 
time_tl_com·»
 = 
decod”_g
 + 
wÜdlše_g
 + 
b™lše_g
 +

981 
£n£_amp_g
;

983 
time_tl_£Ëù
 = 
time_tl_com·»
+ 
com·»_g
 + 
mux_driv”


984 + 
£lb
;

986 
acûss_time
 = 
	`MAX
(
befÜe_mux
,
time_tl_£Ëù
è+
aá”_mux
;

993 
´ech¬ge_d–
 = 
	`´ech¬ge_d–ay
(
wÜdlše_d©a
);

995 
cyşe_time
 = 
acûss_time
 + 
´ech¬ge_d–
;

1003 ià(
»suÉ
->
cyşe_time
+1e-11*ÔesuÉ->
be¡_Ndwl
+»suÉ->
be¡_Ndbl
+»suÉ->
be¡_N¥d
+»suÉ->
be¡_Ntwl
+»suÉ->
be¡_Ntbl
+»suÉ->
be¡_Nt¥d
è> cyşe_time/
FUDGEFACTOR
+1e-11*(
Ndwl
+
Ndbl
+
N¥d
+
Ntwl
+
Ntbl
+
Nt¥d
)) {

1004 
»suÉ
->
cyşe_time
 = cyşe_time/
FUDGEFACTOR
;

1005 
»suÉ
->
acûss_time
 =‡cûss_time/
FUDGEFACTOR
;

1006 
»suÉ
->
be¡_Ndwl
 = 
Ndwl
;

1007 
»suÉ
->
be¡_Ndbl
 = 
Ndbl
;

1008 
»suÉ
->
be¡_N¥d
 = 
N¥d
;

1009 
»suÉ
->
be¡_Ntwl
 = 
Ntwl
;

1010 
»suÉ
->
be¡_Ntbl
 = 
Ntbl
;

1011 
»suÉ
->
be¡_Nt¥d
 = 
Nt¥d
;

1012 
»suÉ
->
decod”_d–ay_d©a
 = 
decod”_d©a
/
FUDGEFACTOR
;

1013 
»suÉ
->
decod”_d–ay_g
 = 
decod”_g
/
FUDGEFACTOR
;

1014 
»suÉ
->
dec_g_driv”
 = 
decod”_g_driv”
/
FUDGEFACTOR
;

1015 
»suÉ
->
dec_g_3to8
 = 
decod”_g_3to8
/
FUDGEFACTOR
;

1016 
»suÉ
->
dec_g_šv
 = 
decod”_g_šv
/
FUDGEFACTOR
;

1017 
»suÉ
->
dec_d©a_driv”
 = 
decod”_d©a_driv”
/
FUDGEFACTOR
;

1018 
»suÉ
->
dec_d©a_3to8
 = 
decod”_d©a_3to8
/
FUDGEFACTOR
;

1019 
»suÉ
->
dec_d©a_šv
 = 
decod”_d©a_šv
/
FUDGEFACTOR
;

1020 
»suÉ
->
wÜdlše_d–ay_d©a
 = 
wÜdlše_d©a
/
FUDGEFACTOR
;

1021 
»suÉ
->
wÜdlše_d–ay_g
 = 
wÜdlše_g
/
FUDGEFACTOR
;

1022 
»suÉ
->
b™lše_d–ay_d©a
 = 
b™lše_d©a
/
FUDGEFACTOR
;

1023 
»suÉ
->
b™lše_d–ay_g
 = 
b™lše_g
/
FUDGEFACTOR
;

1024 
»suÉ
->
£n£_amp_d–ay_d©a
 = 
£n£_amp_d©a
/
FUDGEFACTOR
;

1025 
»suÉ
->
£n£_amp_d–ay_g
 = 
£n£_amp_g
/
FUDGEFACTOR
;

1026 
»suÉ
->
com·»_·¹_d–ay
 = 
com·»_g
/
FUDGEFACTOR
;

1027 
»suÉ
->
drive_mux_d–ay
 = 
mux_driv”
/
FUDGEFACTOR
;

1028 
»suÉ
->
£lb_d–ay
 = 
£lb
/
FUDGEFACTOR
;

1029 
»suÉ
->
drive_v®id_d–ay
 = 
v®id_driv”
/
FUDGEFACTOR
;

1030 
»suÉ
->
d©a_ouut_d–ay
 = 
d©a_ouut
/
FUDGEFACTOR
;

1031 
»suÉ
->
´ech¬ge_d–ay
 = 
´ech¬ge_d–
/
FUDGEFACTOR
;

1041 
	}
}

	@tokencoherence.c

53 
	~"h—d”s.h
"

55 
	#COMMITPREDBIAS
 230

	)

57 
	#CANREAD
(
blockšfo
è(blockšfØ&& \

	)

58 
	gblockšfo
->
	gv®id
 && \

59 (
	gblockšfo
->
	gi_am_owÃr
 || blockšfo->
	gnÚowÃr_tok’_couÁ
))

60 
	#CANWRITE
(
blockšfo
è(blockšfØ&& \

	)

61 
	gblockšfo
->
	gv®id
 && \

62 
	gblockšfo
->
	gi_am_owÃr
 && \

63 (
	gblockšfo
->
	gnÚowÃr_tok’_couÁ
 =ğ
TC_TOTAL_NONOWNER_TOKEN_COUNT
))

65 
	#CHECK_CACHE_NUM
(
n
èif((Ò)<0è|| (Ò)>7)è
	`çl
("ÿchnumb” %d i outsid¿nge",n)

	)

67 
	#CHECK_CACHE_NUM2
(
n
èif((Ò)<0è|| (Ò)>7)è
	`çl
("ÿchnumb” %d i outsid¿nge",n)

	)

74 
tc_¬b™”
 
	gsh¬edmemÜy¬b™”
[
TIMEWINDOW
];

79 
couÁ”_t
 
	gç¹he¡_´ediùiÚ
 = 0;

80 
couÁ”_t
 
	gŞde¡_´ediùiÚ
 = 0;

84 
tc_blockšfo
 * 
block_´ediù_®loc
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
t
);

85 
adju¡_p–še_u§ge
(
md_addr_t
 
addr
,
ÿche_num
, 
is_wr™e
, 
adju¡
, 
couÁ”_t
 
cyşe
, 
ÿ£futu»
, 
ÿ£missšg
);

89 
	#CORNER_CASES
 51

	)

90 
couÁ”_t
 
	gcÜÃr_ÿ£_couÁ
[
CORNER_CASES
];

91 
couÁ”_t
 
	gtÙ®_d–ays_added
 = 0;

92 
couÁ”_t
 
	gcomm™´ediù_”rÜ
 = 0;

93 
couÁ”_t
 
	gcomm™´ediù_abs_”rÜ
 = 0;

94 
couÁ”_t
 
	gy›ld_fÜ_exş
 = 0;

95 
couÁ”_t
 
	gblock_®loc_couÁ
 = 0;

96 
couÁ”_t
 
	gblock_ä“_couÁ
 = 0;

97 
couÁ”_t
 
	gblock_»ad_couÁ
 = 0;

98 
couÁ”_t
 
	gblock_wr™e_couÁ
 = 0;

99 
couÁ”_t
 
	gblock_»ady_couÁ
 = 0;

100 
couÁ”_t
 
	gcomm™_couÁ
 = 0;

101 
¡©_¡©_t
 *
	gtc_d–ay_di¡
 = 
NULL
;

102 
¡©_¡©_t
 *
	gtc_tw´ox_di¡
 = 
NULL
;

103 
¡©_¡©_t
 *
	gtc_futu»cÚæiù_di¡
 = 
NULL
;

104 
¡©_¡©_t
 *
	gtc_cÜÃrÿ£_di¡
 = 
NULL
;

106 
	gtc_futu»cÚæiù_max
 = 0;

109 
	$tc_»g_¡©s
(
¡©_sdb_t
 *
sdb
) {

110 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count0",

112 &
cÜÃr_ÿ£_couÁ
[0], 0, 
NULL
);

113 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count1",

115 &
cÜÃr_ÿ£_couÁ
[1], 0, 
NULL
);

116 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count2",

118 &
cÜÃr_ÿ£_couÁ
[2], 0, 
NULL
);

119 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count3",

121 &
cÜÃr_ÿ£_couÁ
[3], 0, 
NULL
);

122 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count4",

124 &
cÜÃr_ÿ£_couÁ
[4], 0, 
NULL
);

131 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count7",

133 &
cÜÃr_ÿ£_couÁ
[7], 0, 
NULL
);

134 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count8",

136 &
cÜÃr_ÿ£_couÁ
[8], 0, 
NULL
);

137 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count9",

139 &
cÜÃr_ÿ£_couÁ
[9], 0, 
NULL
);

140 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count10",

142 &
cÜÃr_ÿ£_couÁ
[10], 0, 
NULL
);

143 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count11",

145 &
cÜÃr_ÿ£_couÁ
[11], 0, 
NULL
);

146 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count12",

148 &
cÜÃr_ÿ£_couÁ
[12], 0, 
NULL
);

149 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count13",

151 &
cÜÃr_ÿ£_couÁ
[13], 0, 
NULL
);

152 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count14",

154 &
cÜÃr_ÿ£_couÁ
[14], 0, 
NULL
);

155 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count15",

157 &
cÜÃr_ÿ£_couÁ
[15], 0, 
NULL
);

158 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count16",

160 &
cÜÃr_ÿ£_couÁ
[16], 0, 
NULL
);

164 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count18",

166 &
cÜÃr_ÿ£_couÁ
[18], 0, 
NULL
);

167 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count19",

169 &
cÜÃr_ÿ£_couÁ
[19], 0, 
NULL
);

170 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count20",

172 &
cÜÃr_ÿ£_couÁ
[20], 0, 
NULL
);

173 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count21",

175 &
cÜÃr_ÿ£_couÁ
[21], 0, 
NULL
);

176 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count22",

178 &
cÜÃr_ÿ£_couÁ
[22], 0, 
NULL
);

179 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count23",

181 &
cÜÃr_ÿ£_couÁ
[23], 0, 
NULL
);

182 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count24",

184 &
cÜÃr_ÿ£_couÁ
[24], 0, 
NULL
);

185 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count25",

187 &
cÜÃr_ÿ£_couÁ
[25], 0, 
NULL
);

191 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count27",

193 &
cÜÃr_ÿ£_couÁ
[27], 0, 
NULL
);

194 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count28",

196 &
cÜÃr_ÿ£_couÁ
[28], 0, 
NULL
);

197 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count29",

199 &
cÜÃr_ÿ£_couÁ
[29], 0, 
NULL
);

200 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count30",

202 &
cÜÃr_ÿ£_couÁ
[30], 0, 
NULL
);

203 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count31",

205 &
cÜÃr_ÿ£_couÁ
[31], 0, 
NULL
);

206 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count32",

208 &
cÜÃr_ÿ£_couÁ
[32], 0, 
NULL
);

209 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count33",

211 &
cÜÃr_ÿ£_couÁ
[33], 0, 
NULL
);

212 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count34",

214 &
cÜÃr_ÿ£_couÁ
[34], 0, 
NULL
);

215 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count35",

217 &
cÜÃr_ÿ£_couÁ
[35], 0, 
NULL
);

218 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count36",

220 &
cÜÃr_ÿ£_couÁ
[36], 0, 
NULL
);

221 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count37",

223 &
cÜÃr_ÿ£_couÁ
[37], 0, 
NULL
);

224 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count38",

226 &
cÜÃr_ÿ£_couÁ
[38], 0, 
NULL
);

227 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count39",

229 &
cÜÃr_ÿ£_couÁ
[39], 0, 
NULL
);

230 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count40",

232 &
cÜÃr_ÿ£_couÁ
[40], 0, 
NULL
);

233 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count41",

235 &
cÜÃr_ÿ£_couÁ
[41], 0, 
NULL
);

236 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count42",

238 &
cÜÃr_ÿ£_couÁ
[42], 0, 
NULL
);

239 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count43",

241 &
cÜÃr_ÿ£_couÁ
[43], 0, 
NULL
);

242 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count44",

244 &
cÜÃr_ÿ£_couÁ
[44], 0, 
NULL
);

245 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count45",

247 &
cÜÃr_ÿ£_couÁ
[45], 0, 
NULL
);

248 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count46",

250 &
cÜÃr_ÿ£_couÁ
[46], 0, 
NULL
);

251 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count47",

253 &
cÜÃr_ÿ£_couÁ
[47], 0, 
NULL
);

254 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count48",

256 &
cÜÃr_ÿ£_couÁ
[48], 0, 
NULL
);

257 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count49",

259 &
cÜÃr_ÿ£_couÁ
[49], 0, 
NULL
);

260 
	`¡©_»g_couÁ”
(
sdb
, "tc_corner_case_count50",

262 &
cÜÃr_ÿ£_couÁ
[50], 0, 
NULL
);

265 
tc_cÜÃrÿ£_di¡
 = 
	`¡©_»g_sdi¡
(
sdb
, "tc_cornercase_dist",

268  
PF_ALL
,

269  
NULL
,

270  
NULL
);

272 
	`¡©_»g_couÁ”
(
sdb
, "tc_total_delays_added",

274 &
tÙ®_d–ays_added
, 0, 
NULL
);

275 
	`¡©_»g_couÁ”
(
sdb
, "tc_yield_for_excl",

277 &
y›ld_fÜ_exş
, 0, 
NULL
);

279 
	`¡©_»g_couÁ”
(
sdb
, "tc_block_alloc_count",

281 &
block_®loc_couÁ
, 0, 
NULL
);

283 
	`¡©_»g_couÁ”
(
sdb
, "tc_block_free_count",

285 &
block_ä“_couÁ
, 0, 
NULL
);

287 
	`¡©_»g_couÁ”
(
sdb
, "tc_block_read_count",

289 &
block_»ad_couÁ
, 0, 
NULL
);

291 
	`¡©_»g_couÁ”
(
sdb
, "tc_block_write_count",

293 &
block_wr™e_couÁ
, 0, 
NULL
);

295 
	`¡©_»g_couÁ”
(
sdb
, "tc_block_ready_count",

297 &
block_»ady_couÁ
, 0, 
NULL
);

299 
	`¡©_»g_couÁ”
(
sdb
, "tc_commit_count",

301 &
comm™_couÁ
, 0, 
NULL
);

304 
	`¡©_»g_couÁ”
(
sdb
, "tc_commitpredict_abs_error",

306 &
comm™´ediù_abs_”rÜ
, 0, 
NULL
);

307 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_tc_commitpredict_abs_error",

309 "tc_comm™´ediù_abs_”rÜ /c_comm™_couÁ", 
NULL
);

311 
	`¡©_»g_couÁ”
(
sdb
, "tc_commitpredict_error",

313 &
comm™´ediù_”rÜ
, 0, 
NULL
);

314 
	`¡©_»g_fÜmuÏ
(
sdb
, "avg_tc_commitpredict_error",

316 "tc_comm™´ediù_”rÜ /c_comm™_couÁ", 
NULL
);

318 
tc_d–ay_di¡
 = 
	`¡©_»g_di¡
(
sdb
, "tc_delays_added",

323  
PF_ALL
,

324  
NULL
,

325  
NULL
,

326  
NULL
);

329 
tc_tw´ox_di¡
 = 
	`¡©_»g_di¡
(
sdb
, "tc_twprox_dist",

334  
PF_ALL
,

335  
NULL
,

336  
NULL
,

337  
NULL
);

339 
tc_futu»cÚæiù_di¡
 = 
	`¡©_»g_di¡
(
sdb
, "tc_futureconflict_dist",

344  
PF_ALL
,

345  
NULL
,

346  
NULL
,

347  
NULL
);

349 
tc_futu»cÚæiù_di¡
 = 
	`¡©_»g_sdi¡
(
sdb
, "tc_futureconflict_dist",

352  
PF_ALL
,

353  
NULL
,

354  
NULL
);

357 
	`¡©_»g_št
(
sdb
, "tc_futureconflict_max",

359 &
tc_futu»cÚæiù_max
, 0, 
NULL
);

360 
	}
}

363 
hashbË_’Œy
 ** 
	ghashbË
;

364 
	ghashbË_size
;

365 
md_addr_t
 
	gtc_blockaddr_mask
;

366 
	gÿche_block_size
;

367 
	#SHAREDMEM_NUMBER
 (-1)

	)

368 
	#HASHFN
(
key
è\

	)

369 (((
	gkey
 >> 24è^ (key >> 16è^ (key >> 8è^ keyè& (
	ghashbË_size
-1))

371 
	$put_blockšfo
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
tc_blockšfo
 * 
blockšfo
, 
couÁ”_t
 
cyşe
) {

372 
pos
 = 
	`HASHFN
(
addr
);

373 
hashbË_’Œy
 * 
h‹
;

374 ià((
pos
>=
hashbË_size
è|| (pos<0)è
	`çl
("bad hash function");

375 
h‹
 = 
hashbË
[
pos
];

378 
h‹
 && !(h‹->
addr
 =ğadd¸&& h‹->
ÿche_numb”
 == cache_number))

379 
h‹
=h‹->
Ãxt
;

381 ià(!
h‹
) {

383 
h‹
 = (
hashbË_’Œy
 *è
	`m®loc
((hashtable_entry));

384 ià(!
h‹
è
	`çl
("out of memory");

385 
h‹
->
addr
 =‡ddr;

386 
h‹
->
ÿche_numb”
 = cache_number;

387 
h‹
->
blockšfo_h—d
 = 
NULL
;

388 
h‹
->
Ãxt
 = 
hashbË
[
pos
];

389 
hashbË
[
pos
] = 
h‹
;

395 ià(
blockšfo
->
¡©e_as_of
 == -1)

396 
blockšfo
->
¡©e_as_of
 = 
cyşe
;

397 ià(
blockšfo
->
¡©e_as_of
 !ğ
cyşe
)

398 
	`çl
("block has oldimestamp");

400 ià(!
h‹
->
blockšfo_h—d
) {

402 
h‹
->
blockšfo_h—d
 = 
blockšfo
;

403 
blockšfo
->
Ãxt
 = 
NULL
;

404 } ià(
h‹
->
blockšfo_h—d
->
¡©e_as_of
 > 
cyşe
) {

406 ià(
blockšfo
 =ğ
h‹
->
blockšfo_h—d
è
	`çl
("infinite†oop");

407 
blockšfo
->
Ãxt
 = 
h‹
->
blockšfo_h—d
;

408 
h‹
->
blockšfo_h—d
 = 
blockšfo
;

411 
tc_blockšfo
 * 
´ev
 = 
h‹
->
blockšfo_h—d
;

412 
´ev
->
Ãxt
 &&…»v->Ãxt->
¡©e_as_of
 < 
cyşe
) {

413 
´ev
 =…»v->
Ãxt
;

415 ià(
h‹
->
blockšfo_h—d
->
¡©e_as_of
 =ğ
cyşe
è
cÜÃr_ÿ£_couÁ
[0]++;

416 ià(
´ev
->
¡©e_as_of
 =ğ
cyşe
è
cÜÃr_ÿ£_couÁ
[21]++;

419 
blockšfo
->
Ãxt
 = 
´ev
->next;

420 
´ev
->
Ãxt
 = 
blockšfo
;

423 
	}
}

425 
couÁ”_t
 
	$g‘_blockšfo_futu»exi¡ªû
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
cyşe
) {

426 
pos
 = 
	`HASHFN
(
addr
);

427 
hashbË_’Œy
 * 
h‹
;

428 ià((
pos
>=
hashbË_size
è|| (pos<0)è
	`çl
("bad hash function");

429 
h‹
 = 
hashbË
[
pos
];

432 
h‹
 && !(h‹->
addr
 =ğadd¸&& h‹->
ÿche_numb”
 == cache_number))

433 
h‹
=h‹->
Ãxt
;

435 ià(!
h‹
 || !h‹->
blockšfo_h—d
) {

439 ià(
h‹
->
blockšfo_h—d
->
¡©e_as_of
 > 
cyşe
) {

440  
h‹
->
blockšfo_h—d
->
¡©e_as_of
;

442 
	`çl
("this function only willell you‡bouthe future");

444 
	}
}

446 
tc_blockšfo
 * 
	$g‘_blockšfo
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
cyşe
, 
futu»_cÚæiù_cÜÃr_ÿ£
, 
futu»_Úly_ÿ£
) {

447 
pos
 = 
	`HASHFN
(
addr
);

448 
hashbË_’Œy
 * 
h‹
;

449 ià((
pos
>=
hashbË_size
è|| (pos<0)è
	`çl
("bad hash function");

450 
h‹
 = 
hashbË
[
pos
];

453 ià(
cyşe
 < 
sim_cyşe
)

454 
	`çl
("ÿÂÙ‡cûs th·¡; iˆwa ”a£d (cyşe=%Îd, sim_cyşe=%Îd).",
cyşe
,
sim_cyşe
);

457 
h‹
 && !(h‹->
addr
 =ğadd¸&& h‹->
ÿche_numb”
 == cache_number))

458 
h‹
=h‹->
Ãxt
;

460 ià(!
h‹
 || !h‹->
blockšfo_h—d
) {

461  
NULL
;

464 ià(
h‹
->
blockšfo_h—d
->
¡©e_as_of
 > 
cyşe
) {

466 ià(
futu»_Úly_ÿ£
)

467 
cÜÃr_ÿ£_couÁ
[
futu»_Úly_ÿ£
]++;

468  
NULL
;

471 
tc_blockšfo
 * 
´ev
;

477  
h‹
->
blockšfo_h—d
->
Ãxt
 &&

478 
h‹
->
blockšfo_h—d
->
¡©e_as_of
 < 
sim_cyşe
 &&

479 
h‹
->
blockšfo_h—d
->
Ãxt
->
¡©e_as_of
 < 
sim_cyşe
) {

480 
´ev
 = 
h‹
->
blockšfo_h—d
;

481 
h‹
->
blockšfo_h—d
 = 
´ev
->
Ãxt
;

482 
	`ä“
(
´ev
);

485 
´ev
 = 
h‹
->
blockšfo_h—d
;

486 
´ev
->
Ãxt
 &&…»v->Ãxt->
¡©e_as_of
 < 
cyşe
) {

487 
´ev
 =…»v->
Ãxt
;

490 ià(
´ev
->
Ãxt
 && 
futu»_cÚæiù_cÜÃr_ÿ£
) {

491 
tc_blockšfo
 * 
futu»
 = 
´ev
;

492 
impÜÁ_šfo_ignÜed
 = 0;

493 
couÁ”_t
 
futu»_cyşe
 = 0;

496 
futu»
->
Ãxt
) {

497 ià(
futu»_cÚæiù_cÜÃr_ÿ£
 == 2 ) {

498 ià(
	`CANREAD
(
futu»
è!ğCANREAD(futu»->
Ãxt
)) {

499 
impÜÁ_šfo_ignÜed
++;

500 ià(!
futu»_cyşe
èfutu»_cyşğ
futu»
->
¡©e_as_of
;

502 } ià(
futu»_cÚæiù_cÜÃr_ÿ£
 == 32 ) {

503 ià(
	`CANWRITE
(
futu»
è!ğCANWRITE(futu»->
Ãxt
)) {

504 
impÜÁ_šfo_ignÜed
++;

505 ià(!
futu»_cyşe
èfutu»_cyşğ
futu»
->
¡©e_as_of
;

508 iàĞ(
	`CANREAD
(
futu»
è!ğCANREAD(futu»->
Ãxt
)) ||

509 (
	`CANWRITE
(
futu»
è!ğCANWRITE(futu»->
Ãxt
))) {

510 
impÜÁ_šfo_ignÜed
++;

511 ià(!
futu»_cyşe
èfutu»_cyşğ
futu»
->
¡©e_as_of
;

514 
futu»
=futu»->
Ãxt
;

517 ià(
impÜÁ_šfo_ignÜed
) {

518 
cÜÃr_ÿ£_couÁ
[
futu»_cÚæiù_cÜÃr_ÿ£
]++;

519 
	`¡©_add_§m¶e
(
tc_futu»cÚæiù_di¡
, 
futu»_cyşe
 - 
´ev
->
¡©e_as_of
);

520 ià(
futu»_cyşe
 - 
´ev
->
¡©e_as_of
 > 
tc_futu»cÚæiù_max
)

521 
tc_futu»cÚæiù_max
 = 
futu»_cyşe
 - 
´ev
->
¡©e_as_of
;

525  
´ev
;

528 
	}
}

531 
tc_blockšfo
 * 
	$g‘_blockšfo_modifynow
(
tc_blockšfo
 * 
blockšfo
, 
couÁ”_t
 
cyşe
) {

532 
tc_blockšfo
 * 
Ãwblock
;

534 ià(
blockšfo
->
¡©e_as_of
 > 
cyşe
) {

536 
cÜÃr_ÿ£_couÁ
[24]++;

537  
blockšfo
;

541 
blockšfo
->
Ãxt
 && (blockšfo->Ãxt->
¡©e_as_of
 < 
cyşe
))

542 
blockšfo
 = blockšfo->
Ãxt
;

545 ià(
blockšfo
->
¡©e_as_of
 =ğ
cyşe
) {

547  
blockšfo
;

550 
Ãwblock
 = 
	`m®loc
((
tc_blockšfo
));

551 ià(!
Ãwblock
è
	`çl
("out of memory");

553 
Ãwblock
->
v®id
 = 
blockšfo
->valid;

554 
Ãwblock
->
i_am_owÃr
 = 
blockšfo
->i_am_owner;

555 
Ãwblock
->
nÚowÃr_tok’_couÁ
 = 
blockšfo
->nonowner_token_count;

556 
Ãwblock
->
addr
 = 
blockšfo
->addr;

557 
Ãwblock
->
»ad_š_p–še
 = 
blockšfo
->read_in_pipeline;

558 
Ãwblock
->
wr™e_š_p–še
 = 
blockšfo
->write_in_pipeline;

559 
Ãwblock
->
modif›d
 = 
blockšfo
->modified;

560 
Ãwblock
->
exi¡s
 = 
blockšfo
->exists;

562 
Ãwblock
->
¡©e_as_of
 = 
cyşe
;

563 
Ãwblock
->
Ãxt
=
blockšfo
->next;

564 
blockšfo
->
Ãxt
=
Ãwblock
;

565 ià(
blockšfo
->
Ãxt
->
¡©e_as_of
 < blockinfo->state_as_of)

566 
	`çl
("mistakenly‡ttached‚ew block inhe wrong…lace");

567  
Ãwblock
;

568 
	}
}

571 
	$give_tok’s
(
nÚowÃr_tok’s
,
owÃr_tok’
,
has_d©a
,
md_addr_t
 
addr
, 
ÿche_num
,
couÁ”_t
 
»¥_time
, 
cc
) {

572 
tc_blockšfo
 * 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_num
,
»¥_time
,0,0);

575 
max_çed
 = 0;

576 
ÿ£3
=0;

577 
ÿ£4
=0;

579 ià(!
blockšfo
) {

582 
couÁ”_t
 
futu»_cyşe
 = 
	`g‘_blockšfo_futu»exi¡ªû
(
addr
,
ÿche_num
,
»¥_time
);

584 ià(
futu»_cyşe
) {

585 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_num
,
futu»_cyşe
,0,0);

586 ià(
blockšfo
è
cÜÃr_ÿ£_couÁ
[50]++;

588 ià(!
blockšfo
) {

589 
cÜÃr_ÿ£_couÁ
[19]++;

609 ià(
blockšfo
->
¡©e_as_of
 !ğ
»¥_time
)

610 
blockšfo
 = 
	`g‘_blockšfo_modifynow
(blockšfo,
»¥_time
);

612 
blockšfo
) {

613 
blockšfo
->
nÚowÃr_tok’_couÁ
 +ğ
nÚowÃr_tok’s
;

614 ià(
blockšfo
->
nÚowÃr_tok’_couÁ
 < 0) {

615 
cÜÃr_ÿ£_couÁ
[13]++;

617 
blockšfo
->
nÚowÃr_tok’_couÁ
 = 0;

619 ià(
blockšfo
->
nÚowÃr_tok’_couÁ
 > 
TC_TOTAL_NONOWNER_TOKEN_COUNT
) {

621 
exŒa
 = (
blockšfo
->
nÚowÃr_tok’_couÁ
 - 
TC_TOTAL_NONOWNER_TOKEN_COUNT
);

622 ià(
exŒa
 > 
max_çed
) max_failed=extra;

623 
blockšfo
->
nÚowÃr_tok’_couÁ
 = 
TC_TOTAL_NONOWNER_TOKEN_COUNT
;

625 
cÜÃr_ÿ£_couÁ
[8]++;

628 ià(
owÃr_tok’
==1) {

629 ià(
blockšfo
->
i_am_owÃr
è
cÜÃr_ÿ£_couÁ
[14]++;

630 
blockšfo
->
i_am_owÃr
 = 1;

631 } ià(
owÃr_tok’
==-1) {

632 ià(!
blockšfo
->
i_am_owÃr
è
cÜÃr_ÿ£_couÁ
[15]++;

633 ià(
blockšfo
->
wr™e_š_p–še
) {

634 
cÜÃr_ÿ£_couÁ
[3]++;

635 
	`¡©_add_§m¶e
(
tc_cÜÃrÿ£_di¡
, 
cc
);

636 
ÿ£3
++;

638 
blockšfo
->
i_am_owÃr
 = 0;

641 ià(
has_d©a
 && ((
nÚowÃr_tok’s
>0)||(
owÃr_tok’
==1))) {

642 
blockšfo
->
v®id
=1;

643 } ià(!
blockšfo
->
nÚowÃr_tok’_couÁ
 && !blockšfo->
i_am_owÃr
) {

644 
blockšfo
->
v®id
=0;

647 ià(
blockšfo
->
»ad_š_p–še
 && !(blockšfo->
i_am_owÃr
 || blockšfo->
nÚowÃr_tok’_couÁ
)) {

648 
cÜÃr_ÿ£_couÁ
[4]++;

649 
	`¡©_add_§m¶e
(
tc_cÜÃrÿ£_di¡
, 
cc
+1);

650 
ÿ£4
++;

653 
blockšfo
=blockšfo->
Ãxt
;

656 if(
max_çed
è
cÜÃr_ÿ£_couÁ
[7]++;

657 if(
ÿ£3
) {

658 
cÜÃr_ÿ£_couÁ
[39]++;

659 } if(
ÿ£4
) {

660 
cÜÃr_ÿ£_couÁ
[40]++;

662  
max_çed
;

663 
	}
}

665 
¥ec_b’chm¬ks
;

666 
	$tc_comm™_´ediù
(
md_addr_t
 
addr
,
ÿche_num
, 
is_wr™e
, 
couÁ”_t
 
cyşe
, couÁ”_ˆ
issue_cyşe
) {

668 ià(
cyşe
 < 
sim_cyşe
)

669 
	`çl
("can't commit_predict inhe…ast");

670 ià(
issue_cyşe
 < 
sim_cyşe
)

671 
	`çl
("why‡re we issuing inhe…ast??");

672 ià(
issue_cyşe
 > 
cyşe
)

673 
	`çl
("can't commit before issue");

675 #ifdeà
TC_DEBUG


676 
	`´štf
("comm™…»diù cyşe=%Îd, cache=%d,addr=%Îx\n",
cyşe
,
ÿche_num
,
addr
);

679 
cyşe
 +ğ
COMMITPREDBIAS
;

680 
	`adju¡_p–še_u§ge
(
addr
,
ÿche_num
, 
is_wr™e
, 1, 
issue_cyşe
, 41, 42);

681 
	`adju¡_p–še_u§ge
(
addr
,
ÿche_num
, 
is_wr™e
, -1, 
cyşe
, 25, 20);

682 
	}
}

684 
	$adju¡_p–še_u§ge
(
md_addr_t
 
addr
,
ÿche_num
, 
is_wr™e
, 
adju¡
, 
couÁ”_t
 
cyşe
, 
ÿ£futu»
, 
ÿ£missšg
) {

685 
tc_blockšfo
 * 
blockšfo
;

686 
	`CHECK_CACHE_NUM
(
ÿche_num
);

688 
addr
 &ğ
tc_blockaddr_mask
;

689 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_num
,
cyşe
,0,0);

692 ià(!
blockšfo
) {

694 
couÁ”_t
 
futu»_cyşe
 = 
	`g‘_blockšfo_futu»exi¡ªû
(
addr
,
ÿche_num
,
cyşe
);

696 ià(
futu»_cyşe
) {

697 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_num
,
futu»_cyşe
,0,0);

698 
cÜÃr_ÿ£_couÁ
[
ÿ£futu»
]++;

701 ià(!
blockšfo
) {

703 
cÜÃr_ÿ£_couÁ
[
ÿ£missšg
]++;

705 
blockšfo
 = 
	`block_´ediù_®loc
(
addr
,
ÿche_num
,
cyşe
);

709 ià(
blockšfo
->
¡©e_as_of
 !ğ
cyşe
)

710 
blockšfo
 = 
	`g‘_blockšfo_modifynow
(blockšfo,
cyşe
);

712 
blockšfo
) {

714 ià(
is_wr™e
)

715 
blockšfo
->
wr™e_š_p–še
+=
adju¡
;

717 
blockšfo
->
»ad_š_p–še
+=
adju¡
;

719 
blockšfo
=blockšfo->
Ãxt
;

722 
	}
}

724 
	$tc_comm™_»®
(
md_addr_t
 
addr
,
ÿche_num
, 
is_wr™e
, 
couÁ”_t
 
´ediùed_cyşe
, couÁ”_ˆ
»®_cyşe
) {

725 
addr
 &ğ
tc_blockaddr_mask
;

726 
	`CHECK_CACHE_NUM
(
ÿche_num
);

727 
´ediùed_cyşe
 +ğ
COMMITPREDBIAS
;

731 ià(
»®_cyşe
 < 
sim_cyşe
)

732 
	`çl
("can't commit_real inhe…ast");

739 
	`adju¡_p–še_u§ge
(
addr
,
ÿche_num
, 
is_wr™e
, 1, 
´ediùed_cyşe
<
sim_cyşe
?sim_cycle:predicted_cycle, 35, 36);

740 
	`adju¡_p–še_u§ge
(
addr
,
ÿche_num
, 
is_wr™e
, -1, 
»®_cyşe
, 37, 38);

744 
comm™´ediù_”rÜ
 +ğ(
´ediùed_cyşe
-
»®_cyşe
);

745 
comm™´ediù_abs_”rÜ
 +ğ(
´ediùed_cyşe
>
»®_cyşe
?predicted_cycle-real_cycle:real_cycle-predicted_cycle);

746 
comm™_couÁ
++;

747 
	}
}

749 
	$tc_š™
(
num_ÿches
, 
num_blocks
, 
block_size
) {

750 
i
;

752 
i
=0;i<
CORNER_CASES
;i++)

753 
cÜÃr_ÿ£_couÁ
[
i
]=0;

755 
hashbË_size
 = 
num_ÿches
*
num_blocks
;

756 
hashbË
 = (
hashbË_’Œy
 **è
	`ÿÎoc
(
hashbË_size
,(hashtable_entry *));

757 ià(!
hashbË
)

758 
	`çl
("Could‚Ù‡Îoÿ‹ %d by‹ fÜ hashabË.",
hashbË_size
*(
hashbË_’Œy
 *));

759 
i
=0;i<
hashbË_size
;i++)

760 
hashbË
[
i
]=
NULL
;

762 
tc_blockaddr_mask
 = ~((
md_addr_t
è
block_size
 - 1);

763 
ÿche_block_size
 = 
block_size
;

764 
	}
}

766 
tc_blockšfo
 * 
	$block_m®loc
(
md_addr_t
 
addr
) {

767 
tc_blockšfo
 * 
Ãwblock
;

768 
Ãwblock
 = 
	`m®loc
((
tc_blockšfo
));

769 ià(!
Ãwblock
è
	`çl
 ("out of memory");

770 
Ãwblock
->
Ãxt
 = 
NULL
;

771 
Ãwblock
->
v®id
 = 0;

772 
Ãwblock
->
i_am_owÃr
 = 0;

773 
Ãwblock
->
nÚowÃr_tok’_couÁ
 = 0;

774 
Ãwblock
->
addr
 =‡ddr;

776 
Ãwblock
->
»ad_¡¬ve_cyşe
 = -1;

777 
Ãwblock
->
wr™e_¡¬ve_cyşe
 = -1;

779 
Ãwblock
->
»ad_š_p–še
 = 0;

780 
Ãwblock
->
wr™e_š_p–še
 = 0;

781 
Ãwblock
->
modif›d
 = 0;

782 
Ãwblock
->
exi¡s
 = 1;

784 
Ãwblock
->
¡©e_as_of
 = -1;

786  
Ãwblock
;

787 
	}
}

796 
	$tc_block_®loc
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
t
) {

797 
tc_blockšfo
 * 
sm_block
;

798 
tc_blockšfo
 * 
blockšfo
;

799 
	`CHECK_CACHE_NUM
(
ÿche_numb”
);

807 ià(!
addr
è
	`çl
("addr == 0");

809 
addr
 &ğ
tc_blockaddr_mask
;

813 #ifdeà
TC_DEBUG


814 
	`´štf
("block‡Îoøcyşe=%Îd, cache=%d,addr=%Îx\n",
t
,
ÿche_numb”
,
addr
);

817 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
t
,27,1);

818 ià(
blockšfo
 && !blockšfo->
exi¡s
) {

819 
blockšfo
->
exi¡s
 = 1;

820 } ià(
blockšfo
 && blockšfo->
exi¡s
) {

822 
blockšfo
->
exi¡s
++;

823 
cÜÃr_ÿ£_couÁ
[33]++;

825 
blockšfo
 = 
	`block_m®loc
(
addr
);

826 
	`put_blockšfo
(
addr
,
ÿche_numb”
,
blockšfo
,
t
);

829 
sm_block
 = 
	`g‘_blockšfo
(
addr
,
SHAREDMEM_NUMBER
,
t
,28,43);

830 ià(!
sm_block
) {

831 
sm_block
 = 
	`block_m®loc
(
addr
);

832 
sm_block
->
v®id
 = 1;

833 
sm_block
->
i_am_owÃr
 = 1;

834 
sm_block
->
nÚowÃr_tok’_couÁ
 = 
TC_TOTAL_NONOWNER_TOKEN_COUNT
;

835 
sm_block
->
addr
 =‡ddr;

836 
	`put_blockšfo
(
addr
,
SHAREDMEM_NUMBER
,
sm_block
,
t
);

839 
block_®loc_couÁ
++;

840 
	}
}

842 
tc_blockšfo
 * 
	$block_´ediù_®loc
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
t
) {

843 
tc_blockšfo
 * 
blockšfo
;

844 
	`CHECK_CACHE_NUM
(
ÿche_numb”
);

845 
addr
 &ğ
tc_blockaddr_mask
;

847 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
t
,29,44);

848 ià(
blockšfo
) {

849 
	`çl
("block_predict_alloc should‚ot have been called,‡lloc‡lready done");

851 
blockšfo
 = 
	`block_m®loc
(
addr
);

852 
blockšfo
->
exi¡s
=0;

853 
	`put_blockšfo
(
addr
,
ÿche_numb”
,
blockšfo
,
t
);

855  
blockšfo
;

856 
	}
}

861 
	$tc_block_ä“
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
cyşe
)

863 
tc_blockšfo
 * 
block
;

864 
tc_blockšfo
 * 
sm_block
;

865 
	`CHECK_CACHE_NUM
(
ÿche_numb”
);

872 ià(!
addr
è
	`çl
("addr == 0");

874 
addr
 &ğ
tc_blockaddr_mask
;

876 #ifdeà
TC_DEBUG


877 
	`´štf
("block f»cyşe=%Îd, cache=%d,‡ddr=%Îx\n",
cyşe
,
ÿche_numb”
,
addr
);

879 
block_ä“_couÁ
++;

881 
block
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
cyşe
,30,45);

882 ià(!
block
) {

883 
cÜÃr_ÿ£_couÁ
[23]++;

887 
sm_block
 = 
	`g‘_blockšfo
(
addr
,
SHAREDMEM_NUMBER
,
cyşe
,31,46);

888 ià(!
sm_block
) {

889 
	`çl
("ÿn'ˆfšdhmemÜy‚odblock info; cyşe=%Îd, cache=%d,‡ddr=%Îx",
cyşe
,
ÿche_numb”
,
addr
);

890 } ià(
block
->
addr
 !ğ
sm_block
->addr) {

891 
	`çl
("address mismatch");

893 
couÁ”_t
 
»¥_time
;

895 
sm_block
=
	`g‘_blockšfo_modifynow
(sm_block,
cyşe
);

896 ià(
block
->
i_am_owÃr
) {

897 
sm_block
->
i_am_owÃr
 = 1;

898 
sm_block
->
v®id
 = 1;

900 
sm_block
->
nÚowÃr_tok’_couÁ
 +ğ
block
->nonowner_token_count;

906 if(
block
->
exi¡s
) {

907 
block
->
exi¡s
--;

909 
cÜÃr_ÿ£_couÁ
[34]++;

914 
»¥_time
 = 
cyşe
 + 
	`ršg_Ït
(
ÿche_numb”
*2, 0, 0, cyş- 
sim_cyşe
);

916 
	`give_tok’s
(-
block
->
nÚowÃr_tok’_couÁ
,

917 
block
->
i_am_owÃr
?-1:0,0,
addr
,
ÿche_numb”
,
cyşe
,0);

918 
	`give_tok’s
(
block
->
nÚowÃr_tok’_couÁ
,

919 
block
->
i_am_owÃr
?1:0,block->
v®id
,
addr
,
SHAREDMEM_NUMBER
,
»¥_time
,2);

922 
	}
}

928 
	$tc_acûss
(
md_addr_t
 
addr
, 
ÿche_numb”
,
şu¡”
, 
is_wr™e
, 
is_hšt
, 
couÁ”_t
 
cyşe
) {

929 
tc_blockšfo
 *
blockšfo
;

930 
d–ay
;

931 
Şd_ccc_2
 = 
cÜÃr_ÿ£_couÁ
[2];

932 
Şd_ccc_32
 = 
cÜÃr_ÿ£_couÁ
[32];

933 
	`CHECK_CACHE_NUM
(
ÿche_numb”
);

935 ià(!
addr
è
	`çl
("addr == 0");

942 
addr
 &ğ
tc_blockaddr_mask
;

943 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
cyşe
,
is_wr™e
?32:2,47);

945 #ifdeà
TC_DEBUG


946 
	`´štf
("% acûs cyşe=%Îd, cache=%d,addr=%Îx\n",
is_wr™e
?"wr™e":"»ad",
cyşe
,
ÿche_numb”
,
addr
);

949 if(
is_wr™e
) {

950 ++
block_wr™e_couÁ
;

952 ++
block_»ad_couÁ
;

955 ià(!
blockšfo
) {

957 
couÁ”_t
 
futu»_cyşe
 = 
	`g‘_blockšfo_futu»exi¡ªû
(
addr
,
ÿche_numb”
,
cyşe
);

959 ià(
futu»_cyşe
) {

960 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
futu»_cyşe
,
is_wr™e
?32:2,48);

961 
cÜÃr_ÿ£_couÁ
[12]++;

965 ià(!
blockšfo
) {

967 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
cyşe
+200);

968 
cÜÃr_ÿ£_couÁ
[12]++;

970 ià(!
blockšfo
) {

972 
blockšfo
 = 
	`g‘_blockšfo
(
addr
,
ÿche_numb”
,
cyşe
+5001);

973 
cÜÃr_ÿ£_couÁ
[12]++;

976 ià(!
blockšfo
) {

978 
cÜÃr_ÿ£_couÁ
[22]++;

979 
d–ay
 = 0;

980 } ià(
addr
 !ğ
blockšfo
->addr) {

981 
	`çl
("address mismatch");

982 } ià(!
is_wr™e
 && 
	`CANREAD
(
blockšfo
))

995 
d–ay
 = 0;

998 
cÜÃr_ÿ£_couÁ
[2] = 
Şd_ccc_2
;

1000 } ià(
is_wr™e
 && 
	`CANWRITE
(
blockšfo
))

1013 
d–ay
 = 0;

1016 
cÜÃr_ÿ£_couÁ
[32] = 
Şd_ccc_32
;

1022 ià(
is_wr™e
) {

1023 ià(
blockšfo
->
wr™e_¡¬ve_cyşe
 == -1) {

1024 
blockšfo
->
wr™e_¡¬ve_cyşe
 = 
sim_cyşe
 + 
STARVE_CYCLES
;

1027 ià(
blockšfo
->
»ad_¡¬ve_cyşe
 == -1) {

1028 
blockšfo
->
»ad_¡¬ve_cyşe
 = 
sim_cyşe
 + 
STARVE_CYCLES
;

1034 
i
;

1035 
couÁ”_t
 
¬riv®s
[
CLUSTERS
];

1036 
	`æood_Ït
(
¬riv®s
,
şu¡”
,
cyşe
);

1038 
i
=-1;i<
CLUSTERS
/2;i++) {

1039 
ÿnûÎed_tok’s
=0;

1040 
couÁ”_t
 
¬riv®
;

1041 
tc_blockšfo
 * 
»¥Úd”
;

1042 
¬riv®
 = (
i
==-1?
	`COMM_CL_TO_FE_LAT
(
şu¡”
)+
cyşe
:
	`MIN
(
¬riv®s
[i*2],arrivals[i*2+1]));

1043 
»¥Úd”
 = 
	`g‘_blockšfo
(
addr
,
i
,
¬riv®
,0,49);

1047 ià(
i
==-1 && !
»¥Úd”
) {

1048 
cÜÃr_ÿ£_couÁ
[18]++;

1052 ià(
»¥Úd”
 && 
i
 !=
ÿche_numb”
) {

1053 
has_d©a
;

1056 
	#STATE_S
 (
»¥Úd”
->
nÚowÃr_tok’_couÁ
 && !»¥Úd”->
i_am_owÃr
)

	)

1057 
	#STATE_O
 ((
»¥Úd”
->
nÚowÃr_tok’_couÁ
 < 
TC_TOTAL_NONOWNER_TOKEN_COUNT
è&&„e¥Úd”->
i_am_owÃr
)

	)

1058 
	#STATE_M
 ((
»¥Úd”
->
nÚowÃr_tok’_couÁ
 =ğ
TC_TOTAL_NONOWNER_TOKEN_COUNT
è&&„e¥Úd”->
i_am_owÃr
)

	)

1061 ià(
is_wr™e
) {

1063 ià(
STATE_S
 || 
STATE_O
 || 
STATE_M
) {

1066 
couÁ”_t
 
»¥_time
;

1068 
has_d©a
 = !
STATE_S
;

1070 
»¥Úd”
->
wr™e_š_p–še
 ||„e¥Úd”->
»ad_š_p–še
) {

1071 ià(!
»¥Úd”
->
Ãxt
) {

1073 
cÜÃr_ÿ£_couÁ
[16]++;

1076 
»¥Úd”
 =„e¥Úd”->
Ãxt
;

1078 
¬riv®
 = 
»¥Úd”
->
¡©e_as_of
;

1081 ià(
i
 == -1)

1082 
»¥_time
 = 
¬riv®
 + 
	`COMM_FE_TO_CL_LAT_DELAYED
(
şu¡”
,¬riv®-
sim_cyşe
);

1083 ià(
has_d©a
)

1084 
»¥_time
 = 
¬riv®
 +

1085 
	`ş_comm_Ït
(
i
*2, 
şu¡”
, 
¬riv®
 - 
sim_cyşe
, 
ÿche_block_size
+8, 
d©a_tok’
);

1087 
»¥_time
 = 
¬riv®
 +

1088 
	`ş_comm_Ït
(
i
*2, 
şu¡”
, 
¬riv®
 - 
sim_cyşe
, 8, 
b¬e_tok’
);

1090 
	`give_tok’s
(-
»¥Úd”
->
nÚowÃr_tok’_couÁ
,

1091 
»¥Úd”
->
i_am_owÃr
?-1:0,0,
addr
,
i
,
¬riv®
,4);

1092 
ÿnûÎed_tok’s
 = 
	`give_tok’s
(
»¥Úd”
->
nÚowÃr_tok’_couÁ
,

1093 
»¥Úd”
->
i_am_owÃr
?1:0,
has_d©a
,
addr
,
ÿche_numb”
,
»¥_time
,6);

1094 ià(
ÿnûÎed_tok’s
è
	`give_tok’s
(ÿnûÎed_tok’s,0,0,
addr
,
i
,
¬riv®
,8);

1095 
y›ld_fÜ_exş
++;

1103 ià(
STATE_S
) {

1105 } ià(
STATE_O
 || (
STATE_M
 && !
»¥Úd”
->
modif›d
)) {

1106 
couÁ”_t
 
»¥_time
;

1109 
»¥Úd”
->
wr™e_š_p–še
 ||

1110 (
»¥Úd”
->
»ad_š_p–še
 &&

1111 !((
»¥Úd”
->
nÚowÃr_tok’_couÁ
 >= 2)

1112 ||(
»¥Úd”
->
nÚowÃr_tok’_couÁ
 &&„e¥Úd”->
i_am_owÃr
)))) {

1115 ià(!
»¥Úd”
->
Ãxt
) {

1117 
cÜÃr_ÿ£_couÁ
[16]++;

1120 
»¥Úd”
 =„e¥Úd”->
Ãxt
;

1122 
¬riv®
 = 
»¥Úd”
->
¡©e_as_of
;

1125 ià(
i
 == -1)

1126 
»¥_time
 = 
¬riv®
 + 
	`COMM_FE_TO_CL_LAT_DELAYED
(
şu¡”
,¬riv®-
sim_cyşe
);

1127 
»¥_time
 = 
¬riv®
 +

1128 
	`ş_comm_Ït
(
i
*2, 
şu¡”
, 
¬riv®
 - 
sim_cyşe
,
ÿche_block_size
+8,
d©a_tok’
 );

1130 if(
»¥Úd”
->
nÚowÃr_tok’_couÁ
) {

1131 
	`give_tok’s
(-1,0,0,
addr
,
i
,
¬riv®
,10);

1132 
ÿnûÎed_tok’s
 = 
	`give_tok’s
(1,0,1,
addr
,
ÿche_numb”
,
»¥_time
,12);

1133 ià(
ÿnûÎed_tok’s
è
	`give_tok’s
(ÿnûÎed_tok’s,0,0,
addr
,
i
,
¬riv®
,14);

1134 } ià(
»¥Úd”
->
i_am_owÃr
) {

1135 
	`give_tok’s
(0,-1,0,
addr
,
i
,
¬riv®
,16);

1136 
	`give_tok’s
(0,1,1,
addr
,
ÿche_numb”
,
»¥_time
,18);

1138 } ià(
STATE_M
 && 
»¥Úd”
->
modif›d
) {

1139 
couÁ”_t
 
»¥_time
;

1141 
»¥Úd”
->
wr™e_š_p–še
 ||„e¥Úd”->
»ad_š_p–še
) {

1142 ià(!
»¥Úd”
->
Ãxt
) {

1144 
cÜÃr_ÿ£_couÁ
[16]++;

1147 
»¥Úd”
 =„e¥Úd”->
Ãxt
;

1149 
¬riv®
 = 
»¥Úd”
->
¡©e_as_of
;

1152 ià(
i
 == -1)

1153 
»¥_time
 = 
¬riv®
 + 
	`COMM_FE_TO_CL_LAT_DELAYED
(
şu¡”
,¬riv®-
sim_cyşe
);

1154 
»¥_time
 = 
¬riv®
 +

1155 
	`ş_comm_Ït
(
i
*2, 
şu¡”
, 
¬riv®
 - 
sim_cyşe
,
ÿche_block_size
+8,
d©a_tok’
);

1157 
	`give_tok’s
(-
»¥Úd”
->
nÚowÃr_tok’_couÁ
,

1158 -1,0,
addr
,
i
,
¬riv®
,20);

1159 
ÿnûÎed_tok’s
 = 
	`give_tok’s
(
»¥Úd”
->
nÚowÃr_tok’_couÁ
,

1160 1,1,
addr
,
ÿche_numb”
,
»¥_time
,22);

1161 ià(
ÿnûÎed_tok’s
è
	`give_tok’s
(ÿnûÎed_tok’s,0,0,
addr
,
i
,
¬riv®
,24);

1173 
couÁ”_t
 
´e_sÿn_cyşe
 = 
blockšfo
->
¡©e_as_of
;

1176 !(
is_wr™e
?
	`CANWRITE
(
blockšfo
):
	`CANREAD
(blockinfo))){

1177 ià(!
blockšfo
->
Ãxt
) {

1182 ià(
blockšfo
->
¡©e_as_of
 - 
cyşe
 < 100) {

1183 
blockšfo
 = 
	`g‘_blockšfo_modifynow
(blockšfo,
cyşe
 + 100);

1186 ià(
is_wr™e
) {

1187 
blockšfo
->
i_am_owÃr
 = 1;

1188 
blockšfo
->
nÚowÃr_tok’_couÁ
 = 
TC_TOTAL_NONOWNER_TOKEN_COUNT
;

1189 
blockšfo
->
v®id
=1;

1190 
cÜÃr_ÿ£_couÁ
[9]++;

1192 ià(!
blockšfo
->
v®id
) {

1193 
blockšfo
->
v®id
 = 1;

1194 
cÜÃr_ÿ£_couÁ
[10]++;

1196 
blockšfo
->
nÚowÃr_tok’_couÁ
 = 1;

1197 
cÜÃr_ÿ£_couÁ
[11]++;

1201 
blockšfo
=blockšfo->
Ãxt
;

1205 
d–ay
 = 
blockšfo
->
¡©e_as_of
 - 
cyşe
;

1207 ià(
d–ay
 < 0) {

1208 
	`çl
("attemptedo„eturn‡‚egative delay. "

1210 
blockšfo
->
¡©e_as_of
,
cyşe
,
´e_sÿn_cyşe
);

1214 ià(
is_wr™e
) {

1216 ià(!
is_hšt
)

1217 
blockšfo
->
modif›d
 = 1;

1223 
tÙ®_d–ays_added
 +ğ
d–ay
;

1224 
	`¡©_add_§m¶e
(
tc_d–ay_di¡
, 
d–ay
);

1225 
	`¡©_add_§m¶e
(
tc_tw´ox_di¡
, 
cyşe
-
sim_cyşe
);

1227 ià(
d–ay
 == 0)

1228 
block_»ady_couÁ
++;

1230  
d–ay
;

1231 
	}
}

1234 
	$¬b™”_hªdË_aùiv©iÚ_»que¡
(
äom_şu¡”
, 
md_addr_t
 
addr
, 
tc_¬b™”
 * 
¬b™”
) {

1235 ià(!
¬b™”
->
h—d
) {

1236 
¬b™”
->
h—d
 = 
	`m®loc
((
tc_¬b™”_’Œy
));

1237 ià(!
¬b™”
->
h—d
è
	`çl
("out of memory");

1238 
¬b™”
->
h—d
->
addr
 =‡ddr;

1239 
¬b™”
->
h—d
->
Ãxt
 = 
NULL
;

1243 
tc_¬b™”_’Œy
 * 
¬b™”_li¡_pos
 = 
¬b™”
->
h—d
;

1244 
tc_¬b™”_’Œy
 * 
¬b™”_’Œy
 = 
	`m®loc
((tc_arbiter_entry));

1245 ià(!
¬b™”_’Œy
è
	`çl
("out of memory");

1246 
¬b™”_’Œy
->
addr
 =‡ddr;

1247 
¬b™”_’Œy
->
Ãxt
 = 
NULL
;

1248 
¬b™”_li¡_pos
->
Ãxt
)

1249 
¬b™”_li¡_pos
 =‡rb™”_li¡_pos->
Ãxt
;

1250 
¬b™”_li¡_pos
->
Ãxt
 = 
¬b™”_’Œy
;

1252 
	}
}

1254 
	$¬b™”_hªdË_d—ùiv©iÚ
(
tc_¬b™”
 * 
¬b™”
) {

1255 ià(!
¬b™”
->
h—d
);

1256 
tc_¬b™”_’Œy
 * 
Şd_h—d
 = 
¬b™”
->
h—d
;

1257 
¬b™”
->
h—d
 =‡rb™”->h—d->
Ãxt
;

1261 
	`ä“
(
Şd_h—d
);

1263 ià(
¬b™”
->
h—d
) {

1266 
	}
}

	@tokencoherence.h

39 
	#TC_TOTAL_NONOWNER_TOKEN_COUNT
 (
CLUSTERS
)

	)

42 
	#STARVE_CYCLES
 100

	)

44 ’um {
	msh¬ed
,
	mexşusive
,
	m³rsi¡’t
} 
	ttc_»que¡_ty³
;

48 
	mhas_d©a
;

49 
	mhas_owÃr_tok’
;

50 
	mnÚowÃr_tok’_couÁ
;

51 
md_addr_t
 
	maddr
;

52 } 
	ttc_mes§g‘ok’_ack
;

55 
	mäom
;

56 
tc_»que¡_ty³
 
	mty³
;

57 } 
	ttc_mes§g‘ok’_»q
;

61 
	stc_blockšfo_¡ruù


63 
tc_blockšfo_¡ruù
 * 
	mÃxt
;

64 
	mexi¡s
;

65 
	mv®id
;

66 
	mi_am_owÃr
;

67 
	mnÚowÃr_tok’_couÁ
;

68 
md_addr_t
 
	maddr
;

70 
couÁ”_t
 
	m»ad_¡¬ve_cyşe
;

71 
couÁ”_t
 
	mwr™e_¡¬ve_cyşe
;

73 
	m»ad_š_p–še
;

74 
	mwr™e_š_p–še
;

75 
	mmodif›d
;

76 
couÁ”_t
 
	m¡©e_as_of
;

77 } 
	ttc_blockšfo
;

79 
	shashbË_’Œy_¡ruù


81 
hashbË_’Œy_¡ruù
 * 
	mÃxt
;

82 
md_addr_t
 
	maddr
;

83 
	mÿche_numb”
;

84 
tc_blockšfo
 * 
	mblockšfo_h—d
;

85 } 
	thashbË_’Œy
;

89 
	stc_¬b™”_’Œy_¡ruù


91 
md_addr_t
 
	maddr
;

92 
tc_¬b™”_’Œy_¡ruù
 * 
	mÃxt
;

93 } 
	ttc_¬b™”_’Œy
;

97 
tc_¬b™”_’Œy
 * 
	mh—d
;

98 } 
	ttc_¬b™”
;

106 
tc_š™
(
num_ÿches
, 
num_blocks
, 
block_size
);

108 
tc_»g_¡©s
(
¡©_sdb_t
 *
sdb
);

111 
tc_acûss
(
md_addr_t
 
addr
, 
ÿche_numb”
,
şu¡”
, 
is_wr™e
, 
is_hšt
, 
couÁ”_t
 
cyşe
);

114 
tc_comm™_´ediù
(
md_addr_t
 
addr
,
ÿche_numb”
, 
is_wr™e
, 
couÁ”_t
 
cyşe
, couÁ”_ˆ
issue_cyşe
);

115 
tc_comm™_»®
(
md_addr_t
 
addr
,
ÿche_numb”
, 
is_wr™e
, 
couÁ”_t
 
´ediùed_cyşe
, couÁ”_ˆ
»®_cyşe
);

118 
tc_block_®loc
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
cyşe
);

121 
tc_block_ä“
(
md_addr_t
 
addr
, 
ÿche_numb”
, 
couÁ”_t
 
cyşe
);

	@trace.c

1 
	~<¡dio.h
>

3 
	$maš
()

5 
FILE
 *
å
;

6 
i
, 
num–ts
, 
ºoi£
, 
bnoi£
, 
úoi£
, 
un¡
, 
¡
, 
ÿlib
, 
»fc
, 
»ä
, 
»fb
;

7 
štb
, 
štc
, 
šŒ
, 
j
;

8 
š‹rv®
;

9 
cyc
[200002],
»f
[200002],
br
[200002];

11 
	`årštf
(
¡d”r
,"Starting\n");

12 
å
=
	`fİ’
("tr1","r");

13 
	`fsÿnf
(
å
,"%ld",&
num–ts
);

14 
i
=0;i<
num–ts
;i++) {

15 
	`fsÿnf
(
å
,"%d %d %d",&
cyc
[
i
],&
»f
[i],&
br
[i]);

17 
	`årštf
(
¡d”r
,"Read values\n");

18 
š‹rv®
=1; iÁ”v® < 
num–ts
; interval=interval*2) {

19 
ºoi£
 = 
š‹rv®
*500;

20 
bnoi£
 = 
š‹rv®
*200;

21 
úoi£
 = 15;

22 
un¡
=0;

23 
¡
=0;

24 
ÿlib
=1;

25 
»fc
=0;

26 
»ä
=0;

27 
»fb
=0;

28 
j
=0;j<
š‹rv®
;j++) {

29 
»fc
 +ğ
cyc
[
j
];

30 
»ä
 +ğ
»f
[
j
];

31 
»fb
 +ğ
br
[
j
];

33 
i
=
j
;

34 (
i
+2*
š‹rv®
)<
num–ts
) {

35 
štc
=0;

36 
šŒ
=0;

37 
štb
=0;

38 
j
=0;j<
š‹rv®
;j++,
i
++) {

39 
štc
 +ğ
cyc
[
i
];

40 
šŒ
 +ğ
»f
[
i
];

41 
štb
 +ğ
br
[
i
];

43 ià((
	`Ïbs
(
štb
-
»fb
è> 
bnoi£
è|| (Ïbs(
šŒ
-
»ä
è> 
ºoi£
) ) {

44 
un¡
++;

45 
»fc
=0;

46 
»ä
=0;

47 
»fb
=0;

48 
ÿlib
++;

49 
j
=0;j<
š‹rv®
;j++,
i
++) {

50 
»fc
 +ğ
cyc
[
i
];

51 
»ä
 +ğ
»f
[
i
];

52 
»fb
 +ğ
br
[
i
];

56 
¡
++;

59 
	`årštf
(
¡d”r
,"IÁ”v® size: %ldK, ",
š‹rv®
*10);

60 
	`årštf
(
¡d”r
,"C®ib %d Un¡abË %d SbË %d, SbË…”ø%d\n",
ÿlib
, 
un¡
, 
¡
, (st*100)/(st+unst+calib));

62 
	}
}

	@util.c

1 
	~"ut.h
"

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

5 
	$eq
(
x
, 
y
)

7  (
	`çbs
(
x
-
y
è< 
DELTA
);

8 
	}
}

10 
	$Ë
(
x
, 
y
)

12  ((
x
 < 
y
è|| 
	`eq
(x,y));

13 
	}
}

15 
	$ge
(
x
, 
y
)

17  ((
x
 > 
y
è|| 
	`eq
(x,y));

18 
	}
}

	@util.h

1 #iâdeà
__UTIL_H


2 
	#__UTIL_H


	)

4 
	~<m©h.h
>

6 
	#MAX
(
x
,
y
è(((x)>(y))?(x):(y))

	)

7 
	#MIN
(
x
,
y
è(((x)<(y))?(x):(y))

	)

8 
	#DELTA
 1.0e-10

	)

10 
eq
(
x
, 
y
);

11 
Ë
(
x
, 
y
);

12 
ge
(
x
, 
y
);

13 
çl
 (*
s
);

	@version.h

94 #ià
defšed
(
TARGET_PISA
)

95 
	#VER_TARGET
 "PISA"

	)

96 #–ià
defšed
(
TARGET_ALPHA
)

97 
	#VER_TARGET
 "AÍha"

	)

99 #”rÜ 
CªnÙ
 
decode
 
Sim¶eSÿÏr
 
rg‘
...

102 
	#VER_MAJOR
 3

	)

103 
	#VER_MINOR
 0

	)

105 
	#VER_UPDATE
 "Novemb”, 2000"

	)

	@wattch-interact.c

1 
	~<m©h.h
>

2 
	~<¡dio.h
>

3 
	~"pow”.h
"

9 
	gruu_decode_width
;

10 
	gruu_issue_width
;

11 
	gruu_comm™_width
;

12 
	gRUU_size
;

13 
	gLSQ_size
;

14 
	gd©a_width
;

15 
	g»s_Ÿlu
;

16 
	g»s_å®u
;

17 
	g»s_mempÜt
;

18 
	gv”bo£
;

19 
	g»Çme_acûss
, 
	gwšdow_acûss
, 
	gb´ed_acûss
, 
	glsq_acûss
, 
	g»gfe_acûss
;

20 
	giÿche_acûss
, 
	gdÿche_acûss
, 
	gdÿche2_acûss
, 
	g®u_acûss
, 
	g»suÉbus_acûss
;

21 
	gwšdow_´eg_acûss
, 
	gwšdow_£ËùiÚ_acûss
;

22 
	glsq_wakeup_acûss
, 
	glsq_´eg_acûss
, 
	gŸlu_acûss
, 
	gçlu_acûss
;

23 
	gwšdow_wakeup_acûss
, 
	glsq_¡Üe_d©a_acûss
, 
	glsq_lßd_d©a_acûss
;

24 
	gwšdow_tÙ®_pİ_couÁ_cyşe
, 
	gwšdow_num_pİ_couÁ_cyşe
;

25 
	glsq_tÙ®_pİ_couÁ_cyşe
, 
	glsq_num_pİ_couÁ_cyşe
;

26 
	g»gfe_tÙ®_pİ_couÁ_cyşe
, 
	g»gfe_num_pİ_couÁ_cyşe
;

27 
	g»suÉbus_num_pİ_couÁ_cyşe
, 
	g»suÉbus_tÙ®_pİ_couÁ_cyşe
;

29 
	g¿s_size
;

31 
ÿche_t
 *
	gÿche_dl1
;

32 
ÿche_t
 *
	gÿche_1
;

33 
ÿche_t
 *
	gÿche_dl2
;

34 
ÿche_t
 *
	gdb
;

35 
ÿche_t
 *
	g™lb
;

37 
	gbtb_cÚfig
[2] =

39 
	gtwŞev_cÚfig
[4] =

40 { 1, 1024, 8, 
FALSE
};

41 
	gbimod_cÚfig
[1] =

43 
	gcomb_cÚfig
[1] =

48 
	gnum_»gs
;

50 
sim¶e_¬¿y_decod”_pow”
();

51 
sim¶e_¬¿y_wÜdlše_pow”
();

52 
sim¶e_¬¿y_b™lše_pow”
();

54 
¬¿y_decod”_pow”
();

55 
¬¿y_wÜdlše_pow”
();

56 
¬¿y_b™lše_pow”
();

58 
ÿm_¬¿y
();

59 
ÿm_gdrive
();

60 
ÿm_gm©ch
();

62 
£n£amp_pow”
();

64 
ÿlcuÏ‹_time
(
time_»suÉ_ty³
 *
»suÉ
,
time_·¿m‘”_ty³
 *
·¿m‘”s
);

66 
ouut_d©a
(
time_»suÉ_ty³
 *
»suÉ
,
time_·¿m‘”_ty³
 *
·¿m‘”s
);

69 
	$maš
()

71 
´edeş’gth
, 
wÜdlš–’gth
, 
b™lš–’gth
;

73 
»gfe_pow”
, 
»gfe_decod”
, 
»gfe_wÜdlše
, 
»gfe_wÜdlše16
, 
»gfe_wÜdlše33
, 
»gfe_b™lše
;

75 
sÿË_çùÜ
;

76 
d©a_width
;

77 
½Üts
, 
wpÜts
;

79 
sw™ch_¬g
;

81 
	`´štf
("1. Simple Register File\n");

82 
	`´štf
("2. Simple Cache Structure\n");

83 
	`´štf
("3. Simple CAM Structure\n");

84 
	`´štf
("4. Complex Cache (Auto-Sized)\n");

86 
	`sÿnf
("%d",&
sw™ch_¬g
);

88 
	`´štf
("notehese‡re MAX…owers (assuming full switching)\n");

90 
sw™ch_¬g
){

93 
	`´štf
("Enter Reg File Params:\n");

94 
	`´štf
("Number of Registers: ");

95 
	`sÿnf
("%d",&
num_»gs
);

96 
	`´štf
("Data Width: ");

97 
	`sÿnf
("%d",&
d©a_width
);

98 
	`´štf
("Number of Read Ports: ");

99 
	`sÿnf
("%d",&
½Üts
);

100 
	`´štf
("Number of Write Ports: ");

101 
	`sÿnf
("%d",&
wpÜts
);

103 
	`´štf
("%d-’Œyx%d-width,%d-rdpÜt,%d-w½Üt: %à(W)\n",
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,
	`sim¶e_¬¿y_pow”
(num_regs,data_width,rports,wports,0));

104 
	`´štf
(" decode_pow” (W): %f\n",
	`sim¶e_¬¿y_decod”_pow”
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,0));

105 
	`´štf
(" wÜdlše_pow” (W): %f\n",
	`sim¶e_¬¿y_wÜdlše_pow”
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,0));

106 
	`´štf
(" b™lše_pow” (W): %f\n",
	`sim¶e_¬¿y_b™lše_pow”
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,0));

112 
	`´štf
("Enter Cache Params:\n");

113 
	`´štf
("Size of cache: ");

114 
	`sÿnf
("%d",&
num_»gs
);

115 
	`´štf
("Data Width: ");

116 
	`sÿnf
("%d",&
d©a_width
);

117 
	`´štf
("Number of Read Ports: ");

118 
	`sÿnf
("%d",&
½Üts
);

119 
	`´štf
("Number of Write Ports: ");

120 
	`sÿnf
("%d",&
wpÜts
);

122 
	`´štf
("%d-’Œyx%d-width,%d-rdpÜt,%d-w½Üt: %à(W)\n",
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,
	`sim¶e_¬¿y_pow”
(num_regs,data_width,rports,wports,1));

123 
	`´štf
(" decode_pow” (W): %f\n",
	`sim¶e_¬¿y_decod”_pow”
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,1));

124 
	`´štf
(" wÜdlše_pow” (W): %f\n",
	`sim¶e_¬¿y_wÜdlše_pow”
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,1));

125 
	`´štf
(" b™lše_pow” (W): %f\n",
	`sim¶e_¬¿y_b™lše_pow”
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,1));

131 
	`´štf
("Enter CAM Params:\n");

132 
	`´štf
("Entries in CAM: ");

133 
	`sÿnf
("%d",&
num_»gs
);

134 
	`´štf
("Tag Width: ");

135 
	`sÿnf
("%d",&
d©a_width
);

136 
	`´štf
("Number of Read Ports: ");

137 
	`sÿnf
("%d",&
½Üts
);

138 
	`´štf
("Number of Write Ports: ");

139 
	`sÿnf
("%d",&
wpÜts
);

141 
	`´štf
("%d-’Œyx%d-gwidth,%d-rdpÜt,%d-w½Üt: %à(W)\n",
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
,
	`ÿm_¬¿y
(num_regs,data_width,rports,wports));

142 
	`´štf
("agdrive_pow” (W): %f\n",
	`ÿm_gdrive
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
));

143 
	`´štf
("agm©ch_pow” (W): %f\n",
	`ÿm_gm©ch
(
num_»gs
,
d©a_width
,
½Üts
,
wpÜts
));

149 
n£ts
, 
bsize
, 
assoc
,
»s_mempÜt
, 
gsize
;

150 
ndwl
, 
ndbl
, 
n¥d
, 
Áwl
, 
Ábl
, 
Á¥d
, 
c
,
b
,
a
,
ÿche
, 
rowsb
, 
cŞsb
, 
Œowsb
, 
tcŞsb
;

151 
ÿche_decod”
, 
ÿche_wÜdlše
, 
ÿche_b™lše
,

152 
ÿche_£n£amp
, 
ÿche_g¬¿y
, 
tÙ®_ÿche_pow”
;

153 
time_»suÉ_ty³
 
time_»suÉ
;

154 
time_·¿m‘”_ty³
 
time_·¿m‘”s
;

155 
va_size
 = 48;

157 
	`´štf
("Enter Cache Params:\n");

158 
	`´štf
("Number of Sets in cache: ");

159 
	`sÿnf
("%d",&
n£ts
);

160 
	`´štf
("Block Size (bytes): ");

161 
	`sÿnf
("%d",&
bsize
);

162 
	`´štf
("Associativity: ");

163 
	`sÿnf
("%d",&
assoc
);

164 
	`´štf
("Number of Memory Ports: ");

165 
	`sÿnf
("%d",&
»s_mempÜt
);

167 
	`´štf
("noteagarray size isƒstimated based on‡ssuming 48-bit virtual‡ddresses\n");

169 
ÿche
 = 1;

171 
time_·¿m‘”s
.
ÿche_size
 = 
n£ts
 * 
bsize
 * 
assoc
;

172 
time_·¿m‘”s
.
block_size
 = 
bsize
;

173 
time_·¿m‘”s
.
assocŸtiv™y
 = 
assoc
;

174 
time_·¿m‘”s
.
numb”_of_£ts
 = 
n£ts
;

176 
	`ÿlcuÏ‹_time
(&
time_»suÉ
,&
time_·¿m‘”s
);

177 
	`ouut_d©a
(&
time_»suÉ
,&
time_·¿m‘”s
);

179 
ndwl
=
time_»suÉ
.
be¡_Ndwl
;

180 
ndbl
=
time_»suÉ
.
be¡_Ndbl
;

181 
n¥d
=
time_»suÉ
.
be¡_N¥d
;

182 
Áwl
=
time_»suÉ
.
be¡_Ntwl
;

183 
Ábl
=
time_»suÉ
.
be¡_Ntbl
;

184 
Á¥d
=
time_»suÉ
.
be¡_Nt¥d
;

185 
c
 = 
time_·¿m‘”s
.
ÿche_size
;

186 
b
 = 
time_·¿m‘”s
.
block_size
;

187 
a
 = 
time_·¿m‘”s
.
assocŸtiv™y
;

189 
rowsb
 = 
c
/(8*
b
*
a
*
ndbl
*
n¥d
);

190 
cŞsb
 = 8*
b
*
a
*
n¥d
/
ndwl
;

192 
gsize
 = 
va_size
 - (()
	`logtwo
(
n£ts
è+ (îogtwo(
bsize
));

193 
Œowsb
 = 
c
/(8*
b
*
a
*
Ábl
*
Á¥d
);

194 
tcŞsb
 = 
a
 * (
gsize
 + 1 + 6è* 
Á¥d
/
Áwl
;

196 
´edeş’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

197 
wÜdlš–’gth
 = 
cŞsb
 * (
RegC–lWidth
 + 
B™lšeS·cšg
);

198 
b™lš–’gth
 = 
rowsb
 * (
RegC–lHeight
 + 
WÜdlšeS·cšg
);

200 
ÿche_decod”
 = 
»s_mempÜt
*
ndwl
*
ndbl
*
	`¬¿y_decod”_pow”
(
rowsb
,
cŞsb
,
´edeş’gth
,1,1,
ÿche
);

201 
ÿche_wÜdlše
 = 
»s_mempÜt
*
ndwl
*
ndbl
*
	`¬¿y_wÜdlše_pow”
(
rowsb
,
cŞsb
,
wÜdlš–’gth
,1,1,
ÿche
);

202 
ÿche_b™lše
 = 
»s_mempÜt
*
ndwl
*
ndbl
*
	`¬¿y_b™lše_pow”
(
rowsb
,
cŞsb
,
b™lš–’gth
,1,1,
ÿche
);

203 
ÿche_£n£amp
 = 
»s_mempÜt
*
ndwl
*
ndbl
*
	`£n£amp_pow”
(
cŞsb
);

204 
ÿche_g¬¿y
 = 
»s_mempÜt
*
Áwl
*
Ábl
*(
	`sim¶e_¬¿y_pow”
(
Œowsb
,
tcŞsb
,1,1,
ÿche
));

206 
tÙ®_ÿche_pow”
 = 
ÿche_decod”
 + 
ÿche_wÜdlše
 + 
ÿche_b™lše
 + 
ÿche_£n£amp
 + 
ÿche_g¬¿y
;

208 
	`årštf
(
¡d”r
,"%d KB %d-way cach(%d-by‹ block size):\n",
c
,
a
,
b
);

209 
	`årštf
(
¡d”r
,"ndwÈ=ğ%d,‚dbÈ=ğ%d,‚¥d =ğ%d\n",
ndwl
,
ndbl
,
n¥d
);

210 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
ndwl
*
ndbl
,
rowsb
,
cŞsb
);

211 
	`årštf
(
¡d”r
,"gsiz=ğ%d\n",
gsize
);

212 
	`årštf
(
¡d”r
,"\ÂtwÈ=ğ%d,‚tbÈ=ğ%d,‚t¥d =ğ%d\n",
Áwl
,
Ábl
,
Á¥d
);

213 
	`årštf
(
¡d”r
,"%d s‘ oà%d„ow x %d cŞs\n",
Áwl
*
Ábl
,
Œowsb
,
tcŞsb
);

215 
	`´štf
("TÙ® Pow” (W): %f\n",
tÙ®_ÿche_pow”
);

216 
	`´štf
(" decode_pow” (W): %f\n",
ÿche_decod”
);

217 
	`´štf
(" wÜdlše_pow” (W): %f\n",
ÿche_wÜdlše
);

218 
	`´štf
(" b™lše_pow” (W): %f\n",
ÿche_b™lše
);

219 
	`´štf
(" s’£amp_pow” (W): %f\n",
ÿche_£n£amp
);

220 
	`´štf
("ag¬¿y_pow” (W): %f\n",
ÿche_g¬¿y
);

228 
	}
}

	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


88 
	#as£¹
(
ex´
) \

89 ((
ex´
) \

90 ? 
	`__ASSERT_VOID_CAST
 (0) \

91 : 
	`__as£¹_ç
 (
	`__STRING
(
ex´
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

93 #ifdef 
__USE_GNU


94 
	#as£¹_³¼Ü
(
”ºum
) \

95 (!(
”ºum
) \

96 ? 
	`__ASSERT_VOID_CAST
 (0) \

97 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

105 #ià
defšed
 
__ılu¥lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

106 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

108 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

109 
	#__ASSERT_FUNCTION
 
__func__


	)

111 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

118 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


120 #undeà
¡©ic_as£¹


121 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__exùy³
 (
i§Êum
);

111 
__exùy³
 (
i§Íha
);

112 
__exùy³
 (
isúŒl
);

113 
__exùy³
 (
isdig™
);

114 
__exùy³
 (
i¦ow”
);

115 
__exùy³
 (
isg¿ph
);

116 
__exùy³
 (
i¥ršt
);

117 
__exùy³
 (
i¥unù
);

118 
__exùy³
 (
is¥aû
);

119 
__exùy³
 (
isuµ”
);

120 
__exùy³
 (
isxdig™
);

124 
	$tŞow”
 (
__c
è
__THROW
;

127 
	$touµ”
 (
__c
è
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__exùy³
 (
isbÏnk
);

138 
__END_NAMESPACE_C99


141 #ifdeà
__USE_GNU


143 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

146 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


150 
	$i§scii
 (
__c
è
__THROW
;

154 
	$tßscii
 (
__c
è
__THROW
;

158 
	`__exùy³
 (
_touµ”
);

159 
	`__exùy³
 (
_tŞow”
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

164 (
__ex‹nsiÚ__
 \

165 ({ 
__»s
; \

166 ià( (
c
) > 1) \

168 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

174 
__»s
 = 
f
 
¬gs
; \

177 
__»s
 = (
a
)[(è(
c
)]; \

178 
__»s
; 
	}
}))

	)

180 #ià!
defšed
 
__NO_CTYPE


181 #ifdeà
__isùy³_f


182 
	$__isùy³_f
 (
®num
)

183 
	$__isùy³_f
 (
®pha
)

184 
	$__isùy³_f
 (
úŒl
)

185 
	$__isùy³_f
 (
dig™
)

186 
	$__isùy³_f
 (
low”
)

187 
	$__isùy³_f
 (
g¿ph
)

188 
	$__isùy³_f
 (
´št
)

189 
	$__isùy³_f
 (
punù
)

190 
	$__isùy³_f
 (
¥aû
)

191 
	$__isùy³_f
 (
uµ”
)

192 
	$__isùy³_f
 (
xdig™
)

193 #ifdeà
__USE_ISOC99


194 
	$__isùy³_f
 (
bÏnk
)

196 #–ià
defšed
 
__isùy³


197 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

198 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

199 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

200 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

201 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

202 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

203 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

204 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

205 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

206 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

207 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

208 #ifdeà
__USE_ISOC99


209 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

213 #ifdeà
__USE_EXTERN_INLINES


214 
__ex‹º_šlše
 

215 
	`__NTH
 (
	$tŞow”
 (
__c
))

217  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

218 
	}
}

220 
__ex‹º_šlše
 

221 
__NTH
 (
	$touµ”
 (
__c
))

223  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

224 
	}
}

227 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


228 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

229 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

232 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


233 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

234 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

236 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

237 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

243 #ifdeà
__USE_XOPEN2K8


257 
	~<xloÿË.h
>

261 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

262 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

264 
	#__exùy³_l
(
Çme
) \

265 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

271 
__exùy³_l
 (
i§Êum_l
);

272 
__exùy³_l
 (
i§Íha_l
);

273 
__exùy³_l
 (
isúŒl_l
);

274 
__exùy³_l
 (
isdig™_l
);

275 
__exùy³_l
 (
i¦ow”_l
);

276 
__exùy³_l
 (
isg¿ph_l
);

277 
__exùy³_l
 (
i¥ršt_l
);

278 
__exùy³_l
 (
i¥unù_l
);

279 
__exùy³_l
 (
is¥aû_l
);

280 
__exùy³_l
 (
isuµ”_l
);

281 
__exùy³_l
 (
isxdig™_l
);

283 
__exùy³_l
 (
isbÏnk_l
);

287 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

288 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

291 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

294 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


295 
	#__tŞow”_l
(
c
, 
loÿË
) \

296 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

297 
	#__touµ”_l
(
c
, 
loÿË
) \

298 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

299 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

300 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

304 #iâdeà
__NO_CTYPE


305 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

306 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

307 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

308 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

309 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

310 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

311 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

312 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

313 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

314 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

315 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

317 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

319 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


320 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

321 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

324 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

325 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

326 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

327 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

328 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

329 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

330 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

331 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

332 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

333 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

334 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

336 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

338 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


339 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

340 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià(
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
è&& !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name : \

90 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_BSD


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3));

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
è
	`__nÚnuÎ
 ((1, 2, 3));

195 
	#»addœ_r
 
»addœ64_r


	)

199 #ifdeà
__USE_LARGEFILE64


200 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

201 
dœ’t64
 *
__»¡riù
 
__’Œy
,

202 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

203 
	`__nÚnuÎ
 ((1, 2, 3));

208 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

210 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


211 
	~<b™s/ty³s.h
>

214 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

217 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

220 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN2K8


223 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

225 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


226 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

229 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC


230 #iâdeà
MAXNAMLEN


232 
	~<b™s/posix1_lim.h
>

235 #ifdeà
NAME_MAX


236 
	#MAXNAMLEN
 
NAME_MAX


	)

238 
	#MAXNAMLEN
 255

	)

243 
	#__Ãed_size_t


	)

244 
	~<¡ddef.h
>

253 #iâdeà
__USE_FILE_OFFSET64


254 
	`sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

255 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

256 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

257 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

258 cÚ¡ 
dœ’t
 **))

259 
	`__nÚnuÎ
 ((1, 2));

261 #ifdeà
__REDIRECT


262 
	`__REDIRECT
 (
sÿndœ
,

263 (cÚ¡ *
__»¡riù
 
__dœ
,

264 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

265 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

266 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

267 cÚ¡ 
dœ’t
 **)),

268 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

270 
	#sÿndœ
 
sÿndœ64


	)

274 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


277 
	`sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

278 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

279 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

280 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

281 cÚ¡ 
dœ’t64
 **))

282 
	`__nÚnuÎ
 ((1, 2));

285 #ifdeà
__USE_GNU


291 #iâdeà
__USE_FILE_OFFSET64


292 
	`sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

293 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

294 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

295 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

296 cÚ¡ 
dœ’t
 **))

297 
	`__nÚnuÎ
 ((2, 3));

299 #ifdeà
__REDIRECT


300 
	`__REDIRECT
 (
sÿndœ©
,

301 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

302 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

303 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

304 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

305 cÚ¡ 
dœ’t
 **)),

306 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

308 
	#sÿndœ©
 
sÿndœ©64


	)

314 
	`sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

315 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

316 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

317 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

318 cÚ¡ 
dœ’t64
 **))

319 
	`__nÚnuÎ
 ((2, 3));

323 #iâdeà
__USE_FILE_OFFSET64


324 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

325 cÚ¡ 
dœ’t
 **
__e2
)

326 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

328 #ifdeà
__REDIRECT


329 
	`__REDIRECT_NTH
 (
®phasÜt
,

330 (cÚ¡ 
dœ’t
 **
__e1
,

331 cÚ¡ 
dœ’t
 **
__e2
),

332 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

334 
	#®phasÜt
 
®phasÜt64


	)

338 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


339 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

340 cÚ¡ 
dœ’t64
 **
__e2
)

341 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

346 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC


351 #iâdeà
__USE_FILE_OFFSET64


352 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

353 
size_t
 
__nby‹s
,

354 
__off_t
 *
__»¡riù
 
__ba£p
)

355 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

357 #ifdeà
__REDIRECT


358 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

359 (
__fd
, *
__»¡riù
 
__buf
,

360 
size_t
 
__nby‹s
,

361 
__off64_t
 *
__»¡riù
 
__ba£p
),

362 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

364 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

368 #ifdeà
__USE_LARGEFILE64


369 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

370 
size_t
 
__nby‹s
,

371 
__off64_t
 *
__»¡riù
 
__ba£p
)

372 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

376 #ifdeà
__USE_GNU


378 #iâdeà
__USE_FILE_OFFSET64


379 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

380 cÚ¡ 
dœ’t
 **
__e2
)

381 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

383 #ifdeà
__REDIRECT


384 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

385 (cÚ¡ 
dœ’t
 **
__e1
,

386 cÚ¡ 
dœ’t
 **
__e2
),

387 
v”siÚsÜt64
)

388 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

390 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

394 #ifdeà
__USE_LARGEFILE64


395 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

396 cÚ¡ 
dœ’t64
 **
__e2
)

397 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

401 
__END_DECLS


	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


26 #iâdef 
__Ãed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


35 
	~<b™s/”ºo.h
>

36 #undeà
__Ãed_Em©h


38 #ifdef 
_ERRNO_H


45 #iâdef 
”ºo


46 
”ºo
;

49 #ifdeà
__USE_GNU


54 *
´og¿m_švoÿtiÚ_Çme
, *
´og¿m_švoÿtiÚ_shÜt_Çme
;

58 
	g__END_DECLS


66 #ià
defšed
 
__USE_GNU
 || defšed 
__Ãed_”rÜ_t


67 #iâdeà
__”rÜ_t_defšed


68 
	t”rÜ_t
;

69 
	#__”rÜ_t_defšed
 1

	)

71 #undeà
__Ãed_”rÜ_t


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

40 #iâdeà
__mode_t_defšed


41 
__mode_t
 
	tmode_t
;

42 
	#__mode_t_defšed


	)

45 #iâdeà
__off_t_defšed


46 #iâdeà
__USE_FILE_OFFSET64


47 
__off_t
 
	toff_t
;

49 
__off64_t
 
	toff_t
;

51 
	#__off_t_defšed


	)

54 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


55 
__off64_t
 
	toff64_t
;

56 
	#__off64_t_defšed


	)

59 #iâdeà
__pid_t_defšed


60 
__pid_t
 
	tpid_t
;

61 
	#__pid_t_defšed


	)

65 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


66 
	#__Ãed_time¥ec


	)

67 
	~<time.h
>

68 
	~<b™s/¡©.h
>

70 
	#S_IFMT
 
__S_IFMT


	)

71 
	#S_IFDIR
 
__S_IFDIR


	)

72 
	#S_IFCHR
 
__S_IFCHR


	)

73 
	#S_IFBLK
 
__S_IFBLK


	)

74 
	#S_IFREG
 
__S_IFREG


	)

75 #ifdeà
__S_IFIFO


76 
	#S_IFIFO
 
__S_IFIFO


	)

78 #ifdeà
__S_IFLNK


79 
	#S_IFLNK
 
__S_IFLNK


	)

81 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


82 
	#S_IFSOCK
 
__S_IFSOCK


	)

87 
	#S_ISUID
 
__S_ISUID


	)

88 
	#S_ISGID
 
__S_ISGID


	)

90 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


92 
	#S_ISVTX
 
__S_ISVTX


	)

95 
	#S_IRUSR
 
__S_IREAD


	)

96 
	#S_IWUSR
 
__S_IWRITE


	)

97 
	#S_IXUSR
 
__S_IEXEC


	)

99 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

101 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

102 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

103 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

105 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

107 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

108 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

109 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

111 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

114 #ifdef 
__USE_MISC


115 #iâdeà
R_OK


118 
	#R_OK
 4

	)

119 
	#W_OK
 2

	)

120 
	#X_OK
 1

	)

121 
	#F_OK
 0

	)

126 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


127 
	#SEEK_SET
 0

	)

128 
	#SEEK_CUR
 1

	)

129 
	#SEEK_END
 2

	)

137 
fú
 (
__fd
, 
__cmd
, ...);

145 #iâdeà
__USE_FILE_OFFSET64


146 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

148 #ifdeà
__REDIRECT


149 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

150 
	`__nÚnuÎ
 ((1));

152 
	#İ’
 
İ’64


	)

155 #ifdeà
__USE_LARGEFILE64


156 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

159 #ifdeà
__USE_ATFILE


169 #iâdeà
__USE_FILE_OFFSET64


170 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

171 
	`__nÚnuÎ
 ((2));

173 #ifdeà
__REDIRECT


174 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

175 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

177 
	#İ’©
 
İ’©64


	)

180 #ifdeà
__USE_LARGEFILE64


181 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

182 
	`__nÚnuÎ
 ((2));

191 #iâdeà
__USE_FILE_OFFSET64


192 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

194 #ifdeà
__REDIRECT


195 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

196 
ü—t64
è
	`__nÚnuÎ
 ((1));

198 
	#ü—t
 
ü—t64


	)

201 #ifdeà
__USE_LARGEFILE64


202 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

205 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

206 && !
defšed
 
__USE_POSIX
))

215 
	#F_ULOCK
 0

	)

216 
	#F_LOCK
 1

	)

217 
	#F_TLOCK
 2

	)

218 
	#F_TEST
 3

	)

220 #iâdeà
__USE_FILE_OFFSET64


221 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

223 #ifdeà
__REDIRECT


224 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

226 
	#lockf
 
lockf64


	)

229 #ifdeà
__USE_LARGEFILE64


230 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

234 #ifdeà
__USE_XOPEN2K


237 #iâdeà
__USE_FILE_OFFSET64


238 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

239 
__advi£
è
__THROW
;

241 #ifdeà
__REDIRECT_NTH


242 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

243 
__off64_t
 
__Ën
, 
__advi£
),

244 
posix_çdvi£64
);

246 
	#posix_çdvi£
 
posix_çdvi£64


	)

249 #ifdeà
__USE_LARGEFILE64


250 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

251 
__advi£
è
__THROW
;

259 #iâdeà
__USE_FILE_OFFSET64


260 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

264 
__off64_t
 
__Ën
),

265 
posix_çÎoÿ‹64
);

267 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

270 #ifdeà
__USE_LARGEFILE64


271 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

277 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

278 && 
defšed
 
__va_¬g_·ck_Ën


279 
	~<b™s/fú2.h
>

282 
__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<ã©u»s.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

41 #iâdeà
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<b™s/wÜdsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifdeà
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #ià
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #ià
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifdeà
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


123 #šşude_Ãxˆ<
lim™s
.
h
>

129 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


130 #iâdeà
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #iâdeà
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #iâdeà
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<b™s/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<b™s/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<b™s/xİ’_lim.h
>

	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


32 
	~<b™s/huge_v®.h
>

33 #ifdeà
__USE_ISOC99


34 
	~<b™s/huge_v®f.h
>

35 
	~<b™s/huge_v®l.h
>

38 
	~<b™s/šf.h
>

41 
	~<b™s/Çn.h
>

45 
	~<b™s/m©hdef.h
>

52 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

53 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

54 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

55 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

56 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

57 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

58 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

59 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

60 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

61 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

62 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

63 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

65 
	#_MdoubË_
 

	)

66 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

67 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

68 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

69 
	~<b™s/m©hÿÎs.h
>

70 #undeà
_MdoubË_


71 #undeà
_MdoubË_BEGIN_NAMESPACE


72 #undeà
_MdoubË_END_NAMESPACE


73 #undeà
__MATH_PRECNAME


75 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


81 #iâdeà
_Mæßt_


82 
	#_Mæßt_
 

	)

84 
	#_MdoubË_
 
_Mæßt_


	)

85 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

86 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

87 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

88 
	~<b™s/m©hÿÎs.h
>

89 #undeà
_MdoubË_


90 #undeà
_MdoubË_BEGIN_NAMESPACE


91 #undeà
_MdoubË_END_NAMESPACE


92 #undeà
__MATH_PRECNAME


94 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

95 || 
defšed
 
__LDBL_COMPAT


96 #ifdeà
__LDBL_COMPAT


98 #ifdeà
__USE_ISOC99


99 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

100 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

101 #ifdeà
__REDIRECT_NTH


102 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

103 
__Ædbl_Ãx‰ow¬df
)

104 
	`__©Œibu‹__
 ((
__cÚ¡__
));

105 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

106 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

107 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

108 (
__x
, 
__y
),

109 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

113 #undeà
__MATHDECL_1


114 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

115 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

116 
¬gs
, 
®Ÿs
)

	)

117 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

118 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

124 #iâdeà
_MlÚg_doubË_


125 
	#_MlÚg_doubË_
 

	)

127 
	#_MdoubË_
 
_MlÚg_doubË_


	)

128 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

129 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

130 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

131 
	#__MATH_DECLARE_LDOUBLE
 1

	)

132 
	~<b™s/m©hÿÎs.h
>

133 #undeà
_MdoubË_


134 #undeà
_MdoubË_BEGIN_NAMESPACE


135 #undeà
_MdoubË_END_NAMESPACE


136 #undeà
__MATH_PRECNAME


141 #undeà
__MATHDECL_1


142 #undeà
__MATHDECL


143 #undeà
__MATHCALL


146 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


148 
signgam
;

153 #ifdeà
__USE_ISOC99


191 
FP_NAN
 =

192 
	#FP_NAN
 0

	)

193 
FP_NAN
,

194 
FP_INFINITE
 =

195 
	#FP_INFINITE
 1

	)

196 
FP_INFINITE
,

197 
FP_ZERO
 =

198 
	#FP_ZERO
 2

	)

199 
FP_ZERO
,

200 
FP_SUBNORMAL
 =

201 
	#FP_SUBNORMAL
 3

	)

202 
FP_SUBNORMAL
,

203 
FP_NORMAL
 =

204 
	#FP_NORMAL
 4

	)

205 
FP_NORMAL


209 #ifdeà
__NO_LONG_DOUBLE_MATH


210 
	#åşassify
(
x
) \

211 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

213 
	#åşassify
(
x
) \

214 ( (
x
) ==  () \

215 ? 
	`__åşassifyf
 (
x
) \

216 :  (
x
) ==  () \

217 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

221 #ifdeà
__NO_LONG_DOUBLE_MATH


222 
	#signb™
(
x
) \

223 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

225 
	#signb™
(
x
) \

226 ( (
x
) ==  () \

227 ? 
	`__signb™f
 (
x
) \

228 :  (
x
) ==  () \

229 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

233 #ifdeà
__NO_LONG_DOUBLE_MATH


234 
	#isfš™e
(
x
) \

235 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

237 
	#isfš™e
(
x
) \

238 ( (
x
) ==  () \

239 ? 
	`__fš™ef
 (
x
) \

240 :  (
x
) ==  () \

241 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

245 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

249 #ifdeà
__NO_LONG_DOUBLE_MATH


250 
	#i¢ª
(
x
) \

251 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

253 
	#i¢ª
(
x
) \

254 ( (
x
) ==  () \

255 ? 
	`__i¢ªf
 (
x
) \

256 :  (
x
) ==  () \

257 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

261 #ifdeà
__NO_LONG_DOUBLE_MATH


262 
	#isšf
(
x
) \

263 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

265 
	#isšf
(
x
) \

266 ( (
x
) ==  () \

267 ? 
	`__isšff
 (
x
) \

268 :  (
x
) ==  () \

269 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

273 
	#MATH_ERRNO
 1

	)

274 
	#MATH_ERREXCEPT
 2

	)

279 #iâdeà
__FAST_MATH__


280 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

285 #ifdeà
__USE_GNU


287 #ifdeà
__NO_LONG_DOUBLE_MATH


288 
	#issigÇlšg
(
x
) \

289 ( (
x
è=ğ (è? 
	`__issigÇlšgf
 (xè: 
	`__issigÇlšg
 (x))

	)

291 
	#issigÇlšg
(
x
) \

292 ( (
x
) ==  () \

293 ? 
	`__issigÇlšgf
 (
x
) \

294 :  (
x
) ==  () \

295 ? 
	`__issigÇlšg
 (
x
è: 
	`__issigÇlšgl
 (x))

	)

299 #ifdef 
__USE_MISC


303 
_IEEE_
 = -1,

304 
_SVID_
,

305 
_XOPEN_
,

306 
_POSIX_
,

307 
_ISOC_


308 } 
	t_LIB_VERSION_TYPE
;

313 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

317 #ifdeà
__USE_SVID


323 #ifdeà
__ılu¥lus


324 
__exû±iÚ


326 
exû±iÚ


329 
ty³
;

330 *
Çme
;

331 
¬g1
;

332 
¬g2
;

333 
»tv®
;

334 
	}
};

336 #ifdeà
__ılu¥lus


337 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

339 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

342 
	#X_TLOSS
 1.41484755040568800000e+16

	)

345 
	#DOMAIN
 1

	)

346 
	#SING
 2

	)

347 
	#OVERFLOW
 3

	)

348 
	#UNDERFLOW
 4

	)

349 
	#TLOSS
 5

	)

350 
	#PLOSS
 6

	)

353 
	#HUGE
 3.40282347e+38F

	)

357 #ifdeà
__USE_XOPEN


359 
	#MAXFLOAT
 3.40282347e+38F

	)

366 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


367 
	#M_E
 2.7182818284590452354

	)

368 
	#M_LOG2E
 1.4426950408889634074

	)

369 
	#M_LOG10E
 0.43429448190325182765

	)

370 
	#M_LN2
 0.69314718055994530942

	)

371 
	#M_LN10
 2.30258509299404568402

	)

372 
	#M_PI
 3.14159265358979323846

	)

373 
	#M_PI_2
 1.57079632679489661923

	)

374 
	#M_PI_4
 0.78539816339744830962

	)

375 
	#M_1_PI
 0.31830988618379067154

	)

376 
	#M_2_PI
 0.63661977236758134308

	)

377 
	#M_2_SQRTPI
 1.12837916709551257390

	)

378 
	#M_SQRT2
 1.41421356237309504880

	)

379 
	#M_SQRT1_2
 0.70710678118654752440

	)

385 #ifdeà
__USE_GNU


386 
	#M_El
 2.718281828459045235360287471352662498L

	)

387 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

388 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

389 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

390 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

391 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

392 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

393 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

394 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

395 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

396 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

397 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

398 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

405 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


406 
	#__NO_MATH_INLINES
 1

	)

409 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

416 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

417 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

418 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

419 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

420 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

421 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

425 #ifdeà
__USE_EXTERN_INLINES


426 
	~<b™s/m©hšlše.h
>

431 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

432 
	~<b™s/m©h-fš™e.h
>

435 #ifdeà
__USE_ISOC99


439 #iâdeà
isg»©”


440 
	#isg»©”
(
x
, 
y
) \

441 (
__ex‹nsiÚ__
 \

442 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

443 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

447 #iâdeà
isg»©”equ®


448 
	#isg»©”equ®
(
x
, 
y
) \

449 (
__ex‹nsiÚ__
 \

450 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

451 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

455 #iâdeà
i¦ess


456 
	#i¦ess
(
x
, 
y
) \

457 (
__ex‹nsiÚ__
 \

458 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

459 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

463 #iâdeà
i¦es£qu®


464 
	#i¦es£qu®
(
x
, 
y
) \

465 (
__ex‹nsiÚ__
 \

466 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

467 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

471 #iâdeà
i¦essg»©”


472 
	#i¦essg»©”
(
x
, 
y
) \

473 (
__ex‹nsiÚ__
 \

474 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

475 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

479 #iâdeà
isunÜd”ed


480 
	#isunÜd”ed
(
u
, 
v
) \

481 (
__ex‹nsiÚ__
 \

482 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

483 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

488 
	g__END_DECLS


	@/usr/include/netdb.h

22 #iâdef 
_NETDB_H


23 
	#_NETDB_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<Ãtš‘/š.h
>

28 
	~<¡dšt.h
>

29 #ifdeà
__USE_MISC


32 
	~<½c/Ãtdb.h
>

35 #ifdeà
__USE_GNU


36 
	#__Ãed_sigev’t_t


	)

37 
	~<b™s/sigšfo.h
>

38 
	#__Ãed_time¥ec


	)

39 
	~<time.h
>

42 
	~<b™s/Ãtdb.h
>

45 
	#_PATH_HEQUIV
 "/‘c/ho¡s.equiv"

	)

46 
	#_PATH_HOSTS
 "/‘c/ho¡s"

	)

47 
	#_PATH_NETWORKS
 "/‘c/ÃtwÜks"

	)

48 
	#_PATH_NSSWITCH_CONF
 "/‘c/nssw™ch.cÚf"

	)

49 
	#_PATH_PROTOCOLS
 "/‘c/´ÙocŞs"

	)

50 
	#_PATH_SERVICES
 "/‘c/£rviûs"

	)

53 
	g__BEGIN_DECLS


55 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


58 
	#h_”ºo
 (*
	`__h_”ºo_loÿtiÚ
 ())

	)

61 *
	$__h_”ºo_loÿtiÚ
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

65 
	#HOST_NOT_FOUND
 1

	)

66 
	#TRY_AGAIN
 2

	)

68 
	#NO_RECOVERY
 3

	)

70 
	#NO_DATA
 4

	)

73 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


74 
	#NETDB_INTERNAL
 -1

	)

75 
	#NETDB_SUCCESS
 0

	)

76 
	#NO_ADDRESS
 
NO_DATA


	)

79 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_XOPEN_EXTENDED


81 
	#IPPORT_RESERVED
 1024

	)

84 #ifdeà
__USE_GNU


86 
	#SCOPE_DELIMITER
 '%'

	)

89 #ifdeà
__USE_MISC


92 
	$h”rÜ
 (cÚ¡ *
__¡r
è
__THROW
;

95 cÚ¡ *
	$h¡»¼Ü
 (
__”r_num
è
__THROW
;

100 
	sho¡’t


102 *
h_Çme
;

103 **
h_®Ÿ£s
;

104 
h_add¹y³
;

105 
h_Ëngth
;

106 **
h_addr_li¡
;

107 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


108 
	#h_addr
 
h_addr_li¡
[0]

	)

117 
	`£tho¡’t
 (
__¡ay_İ’
);

123 
	`’dho¡’t
 ();

130 
ho¡’t
 *
	`g‘ho¡’t
 ();

137 
ho¡’t
 *
	`g‘ho¡byaddr
 (cÚ¡ *
__addr
, 
__sockËn_t
 
__Ën
,

138 
__ty³
);

144 
ho¡’t
 *
	`g‘ho¡byÇme
 (cÚ¡ *
__Çme
);

146 #ifdeà
__USE_MISC


155 
ho¡’t
 *
	`g‘ho¡byÇme2
 (cÚ¡ *
__Çme
, 
__af
);

167 
	`g‘ho¡’t_r
 (
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

168 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

169 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

170 *
__»¡riù
 
__h_”ºİ
);

172 
	`g‘ho¡byaddr_r
 (cÚ¡ *
__»¡riù
 
__addr
, 
__sockËn_t
 
__Ën
,

173 
__ty³
,

174 
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

175 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

176 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

177 *
__»¡riù
 
__h_”ºİ
);

179 
	`g‘ho¡byÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

180 
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

181 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

182 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

183 *
__»¡riù
 
__h_”ºİ
);

185 
	`g‘ho¡byÇme2_r
 (cÚ¡ *
__»¡riù
 
__Çme
, 
__af
,

186 
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

187 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

188 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

189 *
__»¡riù
 
__h_”ºİ
);

198 
	`£Š‘’t
 (
__¡ay_İ’
);

204 
	`’dÃ‹Á
 ();

211 
Ã‹Á
 *
	`g‘Ã‹Á
 ();

218 
Ã‹Á
 *
	`g‘Ãtbyaddr
 (
ušt32_t
 
__Ãt
, 
__ty³
);

224 
Ã‹Á
 *
	`g‘ÃtbyÇme
 (cÚ¡ *
__Çme
);

226 #ifdef 
__USE_MISC


237 
	`g‘Ã‹Á_r
 (
Ã‹Á
 *
__»¡riù
 
__»suÉ_buf
,

238 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

239 
Ã‹Á
 **
__»¡riù
 
__»suÉ
,

240 *
__»¡riù
 
__h_”ºİ
);

242 
	`g‘Ãtbyaddr_r
 (
ušt32_t
 
__Ãt
, 
__ty³
,

243 
Ã‹Á
 *
__»¡riù
 
__»suÉ_buf
,

244 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

245 
Ã‹Á
 **
__»¡riù
 
__»suÉ
,

246 *
__»¡riù
 
__h_”ºİ
);

248 
	`g‘ÃtbyÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

249 
Ã‹Á
 *
__»¡riù
 
__»suÉ_buf
,

250 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

251 
Ã‹Á
 **
__»¡riù
 
__»suÉ
,

252 *
__»¡riù
 
__h_”ºİ
);

257 
	s£rv’t


259 *
s_Çme
;

260 **
s_®Ÿ£s
;

261 
s_pÜt
;

262 *
s_´Ùo
;

270 
	`£t£rv’t
 (
__¡ay_İ’
);

276 
	`’d£rv’t
 ();

283 
£rv’t
 *
	`g‘£rv’t
 ();

290 
£rv’t
 *
	`g‘£rvbyÇme
 (cÚ¡ *
__Çme
, cÚ¡ *
__´Ùo
);

297 
£rv’t
 *
	`g‘£rvbypÜt
 (
__pÜt
, cÚ¡ *
__´Ùo
);

300 #ifdef 
__USE_MISC


308 
	`g‘£rv’t_r
 (
£rv’t
 *
__»¡riù
 
__»suÉ_buf
,

309 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

310 
£rv’t
 **
__»¡riù
 
__»suÉ
);

312 
	`g‘£rvbyÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

313 cÚ¡ *
__»¡riù
 
__´Ùo
,

314 
£rv’t
 *
__»¡riù
 
__»suÉ_buf
,

315 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

316 
£rv’t
 **
__»¡riù
 
__»suÉ
);

318 
	`g‘£rvbypÜt_r
 (
__pÜt
, cÚ¡ *
__»¡riù
 
__´Ùo
,

319 
£rv’t
 *
__»¡riù
 
__»suÉ_buf
,

320 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

321 
£rv’t
 **
__»¡riù
 
__»suÉ
);

326 
	s´ÙÛÁ


328 *
p_Çme
;

329 **
p_®Ÿ£s
;

330 
p_´Ùo
;

338 
	`£rÙÛÁ
 (
__¡ay_İ’
);

344 
	`’d´ÙÛÁ
 ();

351 
´ÙÛÁ
 *
	`g‘´ÙÛÁ
 ();

357 
´ÙÛÁ
 *
	`g‘´ÙobyÇme
 (cÚ¡ *
__Çme
);

363 
´ÙÛÁ
 *
	`g‘´Ùobynumb”
 (
__´Ùo
);

366 #ifdef 
__USE_MISC


374 
	`g‘´ÙÛÁ_r
 (
´ÙÛÁ
 *
__»¡riù
 
__»suÉ_buf
,

375 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

376 
´ÙÛÁ
 **
__»¡riù
 
__»suÉ
);

378 
	`g‘´ÙobyÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

379 
´ÙÛÁ
 *
__»¡riù
 
__»suÉ_buf
,

380 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

381 
´ÙÛÁ
 **
__»¡riù
 
__»suÉ
);

383 
	`g‘´Ùobynumb”_r
 (
__´Ùo
,

384 
´ÙÛÁ
 *
__»¡riù
 
__»suÉ_buf
,

385 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

386 
´ÙÛÁ
 **
__»¡riù
 
__»suÉ
);

395 
	`£Š‘g»Á
 (cÚ¡ *
__Ãtgroup
);

403 
	`’dÃtg»Á
 ();

412 
	`g‘Ãtg»Á
 (**
__»¡riù
 
__ho¡p
,

413 **
__»¡riù
 
__u£½
,

414 **
__»¡riù
 
__domašp
);

423 
	`šÃtgr
 (cÚ¡ *
__Ãtgroup
, cÚ¡ *
__ho¡
,

424 cÚ¡ *
__u£r
, cÚ¡ *
__domaš
);

432 
	`g‘Ãtg»Á_r
 (**
__»¡riù
 
__ho¡p
,

433 **
__»¡riù
 
__u£½
,

434 **
__»¡riù
 
__domašp
,

435 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
);

439 #ifdeà
__USE_BSD


451 
	`rcmd
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

452 cÚ¡ *
__»¡riù
 
__locu£r
,

453 cÚ¡ *
__»¡riù
 
__»mu£r
,

454 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
);

463 
	`rcmd_af
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

464 cÚ¡ *
__»¡riù
 
__locu£r
,

465 cÚ¡ *
__»¡riù
 
__»mu£r
,

466 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
,

467 
§_çmy_t
 
__af
);

479 
	`»xec
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

480 cÚ¡ *
__»¡riù
 
__Çme
,

481 cÚ¡ *
__»¡riù
 
__·ss
,

482 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
);

491 
	`»xec_af
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

492 cÚ¡ *
__»¡riù
 
__Çme
,

493 cÚ¡ *
__»¡riù
 
__·ss
,

494 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
,

495 
§_çmy_t
 
__af
);

505 
	`ru£rok
 (cÚ¡ *
__rho¡
, 
__su£r
,

506 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
);

515 
	`ru£rok_af
 (cÚ¡ *
__rho¡
, 
__su£r
,

516 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
,

517 
§_çmy_t
 
__af
);

528 
	`œu£rok
 (
ušt32_t
 
__¿ddr
, 
__su£r
,

529 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
);

539 
	`œu£rok_af
 (cÚ¡ *
__¿ddr
, 
__su£r
,

540 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
,

541 
§_çmy_t
 
__af
);

551 
	`¼esvpÜt
 (*
__®pÜt
);

560 
	`¼esvpÜt_af
 (*
__®pÜt
, 
§_çmy_t
 
__af
);

565 #ifdef 
__USE_POSIX


567 
	saddršfo


569 
ai_æags
;

570 
ai_çmy
;

571 
ai_sockty³
;

572 
ai_´ÙocŞ
;

573 
sockËn_t
 
ai_add¾’
;

574 
sockaddr
 *
ai_addr
;

575 *
ai_ÿnÚÇme
;

576 
addršfo
 *
ai_Ãxt
;

579 #ifdeà
__USE_GNU


581 
	sgaicb


583 cÚ¡ *
¬_Çme
;

584 cÚ¡ *
¬_£rviû
;

585 cÚ¡ 
addršfo
 *
¬_»que¡
;

586 
addršfo
 *
¬_»suÉ
;

588 
__»tuº
;

589 
__glibc_»£rved
[5];

593 
	#GAI_WAIT
 0

	)

594 
	#GAI_NOWAIT
 1

	)

598 
	#AI_PASSIVE
 0x0001

	)

599 
	#AI_CANONNAME
 0x0002

	)

600 
	#AI_NUMERICHOST
 0x0004

	)

601 
	#AI_V4MAPPED
 0x0008

	)

602 
	#AI_ALL
 0x0010

	)

603 
	#AI_ADDRCONFIG
 0x0020

	)

605 #ifdeà
__USE_GNU


606 
	#AI_IDN
 0x0040

	)

609 
	#AI_CANONIDN
 0x0080

	)

610 
	#AI_IDN_ALLOW_UNASSIGNED
 0x0100

	)

612 
	#AI_IDN_USE_STD3_ASCII_RULES
 0x0200

	)

615 
	#AI_NUMERICSERV
 0x0400

	)

618 
	#EAI_BADFLAGS
 -1

	)

619 
	#EAI_NONAME
 -2

	)

620 
	#EAI_AGAIN
 -3

	)

621 
	#EAI_FAIL
 -4

	)

622 
	#EAI_FAMILY
 -6

	)

623 
	#EAI_SOCKTYPE
 -7

	)

624 
	#EAI_SERVICE
 -8

	)

625 
	#EAI_MEMORY
 -10

	)

626 
	#EAI_SYSTEM
 -11

	)

627 
	#EAI_OVERFLOW
 -12

	)

628 #ifdeà
__USE_GNU


629 
	#EAI_NODATA
 -5

	)

630 
	#EAI_ADDRFAMILY
 -9

	)

631 
	#EAI_INPROGRESS
 -100

	)

632 
	#EAI_CANCELED
 -101

	)

633 
	#EAI_NOTCANCELED
 -102

	)

634 
	#EAI_ALLDONE
 -103

	)

635 
	#EAI_INTR
 -104

	)

636 
	#EAI_IDN_ENCODE
 -105

	)

639 #ifdeà
__USE_MISC


640 
	#NI_MAXHOST
 1025

	)

641 
	#NI_MAXSERV
 32

	)

644 
	#NI_NUMERICHOST
 1

	)

645 
	#NI_NUMERICSERV
 2

	)

646 
	#NI_NOFQDN
 4

	)

647 
	#NI_NAMEREQD
 8

	)

648 
	#NI_DGRAM
 16

	)

649 #ifdeà
__USE_GNU


650 
	#NI_IDN
 32

	)

651 
	#NI_IDN_ALLOW_UNASSIGNED
 64

	)

653 
	#NI_IDN_USE_STD3_ASCII_RULES
 128

	)

662 
	`g‘addršfo
 (cÚ¡ *
__»¡riù
 
__Çme
,

663 cÚ¡ *
__»¡riù
 
__£rviû
,

664 cÚ¡ 
addršfo
 *
__»¡riù
 
__»q
,

665 
addršfo
 **
__»¡riù
 
__·i
);

668 
	$ä“addršfo
 (
addršfo
 *
__ai
è
__THROW
;

671 cÚ¡ *
	$gai_¡»¼Ü
 (
__ecode
è
__THROW
;

677 
	`g‘Çmešfo
 (cÚ¡ 
sockaddr
 *
__»¡riù
 
__§
,

678 
sockËn_t
 
__§Ën
, *
__»¡riù
 
__ho¡
,

679 
sockËn_t
 
__ho¡Ën
, *
__»¡riù
 
__£rv
,

680 
sockËn_t
 
__£rvËn
, 
__æags
);

683 #ifdeà
__USE_GNU


692 
	`g‘addršfo_a
 (
__mode
, 
gaicb
 *
__li¡
[
__»¡riù_¬r
],

693 
__’t
, 
sigev’t
 *
__»¡riù
 
__sig
);

703 
	`gai_su¥’d
 (cÚ¡ 
gaicb
 *cÚ¡ 
__li¡
[], 
__’t
,

704 cÚ¡ 
time¥ec
 *
__timeout
);

707 
	$gai_”rÜ
 (
gaicb
 *
__»q
è
__THROW
;

710 
	$gai_ÿnûl
 (
gaicb
 *
__gaicbp
è
__THROW
;

713 
__END_DECLS


	@/usr/include/netinet/in.h

18 #iâdef 
_NETINET_IN_H


19 
	#_NETINET_IN_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<¡dšt.h
>

23 
	~<sys/sock‘.h
>

24 
	~<b™s/ty³s.h
>

27 
__BEGIN_DECLS


30 
ušt32_t
 
	tš_addr_t
;

31 
	sš_addr


33 
š_addr_t
 
	ms_addr
;

37 
	~<b™s/š.h
>

42 
	mIPPROTO_IP
 = 0,

43 
	#IPPROTO_IP
 
IPPROTO_IP


	)

44 
	mIPPROTO_ICMP
 = 1,

45 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

46 
	mIPPROTO_IGMP
 = 2,

47 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

48 
	mIPPROTO_IPIP
 = 4,

49 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

50 
	mIPPROTO_TCP
 = 6,

51 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

52 
	mIPPROTO_EGP
 = 8,

53 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

54 
	mIPPROTO_PUP
 = 12,

55 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

56 
	mIPPROTO_UDP
 = 17,

57 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

58 
	mIPPROTO_IDP
 = 22,

59 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

60 
	mIPPROTO_TP
 = 29,

61 
	#IPPROTO_TP
 
IPPROTO_TP


	)

62 
	mIPPROTO_DCCP
 = 33,

63 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

64 
	mIPPROTO_IPV6
 = 41,

65 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

66 
	mIPPROTO_RSVP
 = 46,

67 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

68 
	mIPPROTO_GRE
 = 47,

69 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

70 
	mIPPROTO_ESP
 = 50,

71 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

72 
	mIPPROTO_AH
 = 51,

73 
	#IPPROTO_AH
 
IPPROTO_AH


	)

74 
	mIPPROTO_MTP
 = 92,

75 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

76 
	mIPPROTO_BEETPH
 = 94,

77 
	#IPPROTO_BEETPH
 
IPPROTO_BEETPH


	)

78 
	mIPPROTO_ENCAP
 = 98,

79 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

80 
	mIPPROTO_PIM
 = 103,

81 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

82 
	mIPPROTO_COMP
 = 108,

83 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

84 
	mIPPROTO_SCTP
 = 132,

85 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

86 
	mIPPROTO_UDPLITE
 = 136,

87 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

88 
	mIPPROTO_RAW
 = 255,

89 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

90 
	mIPPROTO_MAX


96 #iâdeà
__USE_KERNEL_IPV6_DEFS


99 
	mIPPROTO_HOPOPTS
 = 0,

100 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

101 
	mIPPROTO_ROUTING
 = 43,

102 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

103 
	mIPPROTO_FRAGMENT
 = 44,

104 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

105 
	mIPPROTO_ICMPV6
 = 58,

106 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

107 
	mIPPROTO_NONE
 = 59,

108 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

109 
	mIPPROTO_DSTOPTS
 = 60,

110 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

111 
	mIPPROTO_MH
 = 135

112 
	#IPPROTO_MH
 
IPPROTO_MH


	)

117 
ušt16_t
 
	tš_pÜt_t
;

122 
	mIPPORT_ECHO
 = 7,

123 
	mIPPORT_DISCARD
 = 9,

124 
	mIPPORT_SYSTAT
 = 11,

125 
	mIPPORT_DAYTIME
 = 13,

126 
	mIPPORT_NETSTAT
 = 15,

127 
	mIPPORT_FTP
 = 21,

128 
	mIPPORT_TELNET
 = 23,

129 
	mIPPORT_SMTP
 = 25,

130 
	mIPPORT_TIMESERVER
 = 37,

131 
	mIPPORT_NAMESERVER
 = 42,

132 
	mIPPORT_WHOIS
 = 43,

133 
	mIPPORT_MTP
 = 57,

135 
	mIPPORT_TFTP
 = 69,

136 
	mIPPORT_RJE
 = 77,

137 
	mIPPORT_FINGER
 = 79,

138 
	mIPPORT_TTYLINK
 = 87,

139 
	mIPPORT_SUPDUP
 = 95,

142 
	mIPPORT_EXECSERVER
 = 512,

143 
	mIPPORT_LOGINSERVER
 = 513,

144 
	mIPPORT_CMDSERVER
 = 514,

145 
	mIPPORT_EFSSERVER
 = 520,

148 
	mIPPORT_BIFFUDP
 = 512,

149 
	mIPPORT_WHOSERVER
 = 513,

150 
	mIPPORT_ROUTESERVER
 = 520,

153 
	mIPPORT_RESERVED
 = 1024,

156 
	mIPPORT_USERRESERVED
 = 5000

164 
	#IN_CLASSA
(
a
è((((
š_addr_t
)×)è& 0x80000000è=ğ0)

	)

165 
	#IN_CLASSA_NET
 0xff000000

	)

166 
	#IN_CLASSA_NSHIFT
 24

	)

167 
	#IN_CLASSA_HOST
 (0xfffffffà& ~
IN_CLASSA_NET
)

	)

168 
	#IN_CLASSA_MAX
 128

	)

170 
	#IN_CLASSB
(
a
è((((
š_addr_t
)×)è& 0xc0000000è=ğ0x80000000)

	)

171 
	#IN_CLASSB_NET
 0xffff0000

	)

172 
	#IN_CLASSB_NSHIFT
 16

	)

173 
	#IN_CLASSB_HOST
 (0xfffffffà& ~
IN_CLASSB_NET
)

	)

174 
	#IN_CLASSB_MAX
 65536

	)

176 
	#IN_CLASSC
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xc0000000)

	)

177 
	#IN_CLASSC_NET
 0xffffff00

	)

178 
	#IN_CLASSC_NSHIFT
 8

	)

179 
	#IN_CLASSC_HOST
 (0xfffffffà& ~
IN_CLASSC_NET
)

	)

181 
	#IN_CLASSD
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xe0000000)

	)

182 
	#IN_MULTICAST
(
a
è
	`IN_CLASSD
×)

	)

184 
	#IN_EXPERIMENTAL
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xe0000000)

	)

185 
	#IN_BADCLASS
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xf0000000)

	)

188 
	#INADDR_ANY
 ((
š_addr_t
è0x00000000)

	)

190 
	#INADDR_BROADCAST
 ((
š_addr_t
è0xffffffff)

	)

192 
	#INADDR_NONE
 ((
š_addr_t
è0xffffffff)

	)

195 
	#IN_LOOPBACKNET
 127

	)

197 #iâdeà
INADDR_LOOPBACK


198 
	#INADDR_LOOPBACK
 ((
š_addr_t
è0x7f000001è

	)

202 
	#INADDR_UNSPEC_GROUP
 ((
š_addr_t
è0xe0000000è

	)

203 
	#INADDR_ALLHOSTS_GROUP
 ((
š_addr_t
è0xe0000001è

	)

204 
	#INADDR_ALLRTRS_GROUP
 ((
š_addr_t
è0xe0000002è

	)

205 
	#INADDR_MAX_LOCAL_GROUP
 ((
š_addr_t
è0xe00000ffè

	)

207 #iâdeà
__USE_KERNEL_IPV6_DEFS


209 
	sš6_addr


213 
ušt8_t
 
	m__u6_addr8
[16];

214 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


215 
ušt16_t
 
	m__u6_addr16
[8];

216 
ušt32_t
 
	m__u6_addr32
[4];

218 } 
	m__š6_u
;

219 
	#s6_addr
 
__š6_u
.
__u6_addr8


	)

220 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


221 
	#s6_addr16
 
__š6_u
.
__u6_addr16


	)

222 
	#s6_addr32
 
__š6_u
.
__u6_addr32


	)

227 cÚ¡ 
š6_addr
 
š6addr_ªy
;

228 cÚ¡ 
š6_addr
 
š6addr_loİback
;

229 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

230 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

232 
	#INET_ADDRSTRLEN
 16

	)

233 
	#INET6_ADDRSTRLEN
 46

	)

237 
	ssockaddr_š


239 
__SOCKADDR_COMMON
 (
sš_
);

240 
š_pÜt_t
 
	msš_pÜt
;

241 
š_addr
 
	msš_addr
;

244 
	msš_z”o
[ (
sockaddr
) -

245 
__SOCKADDR_COMMON_SIZE
 -

246  (
š_pÜt_t
) -

247  (
š_addr
)];

250 #iâdeà
__USE_KERNEL_IPV6_DEFS


252 
	ssockaddr_š6


254 
__SOCKADDR_COMMON
 (
sš6_
);

255 
š_pÜt_t
 
	msš6_pÜt
;

256 
ušt32_t
 
	msš6_æowšfo
;

257 
š6_addr
 
	msš6_addr
;

258 
ušt32_t
 
	msš6_scİe_id
;

262 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


264 
	s_m»q


267 
š_addr
 
	mimr_muÉŸddr
;

270 
š_addr
 
	mimr_š‹rçû
;

273 
	s_m»q_sourû


276 
š_addr
 
	mimr_muÉŸddr
;

279 
š_addr
 
	mimr_š‹rçû
;

282 
š_addr
 
	mimr_sourûaddr
;

286 #iâdeà
__USE_KERNEL_IPV6_DEFS


288 
	sv6_m»q


291 
š6_addr
 
	mv6mr_muÉŸddr
;

294 
	mv6mr_š‹rçû
;

298 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


300 
	sgroup_»q


303 
ušt32_t
 
	mgr_š‹rçû
;

306 
sockaddr_¡Üage
 
	mgr_group
;

309 
	sgroup_sourû_»q


312 
ušt32_t
 
	mg¤_š‹rçû
;

315 
sockaddr_¡Üage
 
	mg¤_group
;

318 
sockaddr_¡Üage
 
	mg¤_sourû
;

323 
	s_msf‹r


326 
š_addr
 
	mimsf_muÉŸddr
;

329 
š_addr
 
	mimsf_š‹rçû
;

332 
ušt32_t
 
	mimsf_fmode
;

335 
ušt32_t
 
	mimsf_num¤c
;

337 
š_addr
 
	mimsf_¦i¡
[1];

340 
	#IP_MSFILTER_SIZE
(
num¤c
è( (
_msf‹r
) \

341 -  (
š_addr
) \

342 + (
num¤c
è*  (
š_addr
))

	)

344 
	sgroup_f‹r


347 
ušt32_t
 
	mgf_š‹rçû
;

350 
sockaddr_¡Üage
 
	mgf_group
;

353 
ušt32_t
 
	mgf_fmode
;

356 
ušt32_t
 
	mgf_num¤c
;

358 
sockaddr_¡Üage
 
	mgf_¦i¡
[1];

361 
	#GROUP_FILTER_SIZE
(
num¤c
è( (
group_f‹r
) \

362 -  (
sockaddr_¡Üage
) \

363 + ((
num¤c
) \

364 *  (
sockaddr_¡Üage
)))

	)

374 
ušt32_t
 
	$Áohl
 (
ušt32_t
 
__ÃÚg
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

375 
ušt16_t
 
	$Áohs
 (
ušt16_t
 
__ÃtshÜt
)

376 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

377 
ušt32_t
 
	$htÚl
 (
ušt32_t
 
__ho¡lÚg
)

378 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

379 
ušt16_t
 
	$htÚs
 (
ušt16_t
 
__ho¡shÜt
)

380 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

382 
	~<’dŸn.h
>

385 
	~<b™s/by‹sw­.h
>

387 #ifdeà
__OPTIMIZE__


391 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


394 
	#Áohl
(
x
è(x)

	)

395 
	#Áohs
(
x
è(x)

	)

396 
	#htÚl
(
x
è(x)

	)

397 
	#htÚs
(
x
è(x)

	)

399 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


400 
	#Áohl
(
x
è
	`__bsw­_32
 (x)

	)

401 
	#Áohs
(
x
è
	`__bsw­_16
 (x)

	)

402 
	#htÚl
(
x
è
	`__bsw­_32
 (x)

	)

403 
	#htÚs
(
x
è
	`__bsw­_16
 (x)

	)

408 #ifdeà
__GNUC__


409 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

410 (
__ex‹nsiÚ__
 \

411 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

412 
__a
->
s6_addr32
[0] == 0 \

413 && 
__a
->
s6_addr32
[1] == 0 \

414 && 
__a
->
s6_addr32
[2] == 0 \

415 && 
__a
->
s6_addr32
[3] =ğ0; 
	}
}))

	)

417 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

418 (
__ex‹nsiÚ__
 \

419 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

420 
__a
->
s6_addr32
[0] == 0 \

421 && 
__a
->
s6_addr32
[1] == 0 \

422 && 
__a
->
s6_addr32
[2] == 0 \

423 && 
__a
->
s6_addr32
[3] =ğ
	`htÚl
 (1); }))

	)

425 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

426 (
__ex‹nsiÚ__
 \

427 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

428 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xã800000); }))

	)

430 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

431 (
__ex‹nsiÚ__
 \

432 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

433 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xãc00000); }))

	)

435 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

436 (
__ex‹nsiÚ__
 \

437 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

438 
__a
->
s6_addr32
[0] == 0 \

439 && 
__a
->
s6_addr32
[1] == 0 \

440 && 
__a
->
s6_addr32
[2] =ğ
	`htÚl
 (0xffff); }))

	)

442 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

443 (
__ex‹nsiÚ__
 \

444 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

445 
__a
->
s6_addr32
[0] == 0 \

446 && 
__a
->
s6_addr32
[1] == 0 \

447 && 
__a
->
s6_addr32
[2] == 0 \

448 && 
	`Áohl
 (
__a
->
s6_addr32
[3]è> 1; }))

	)

450 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

451 (
__ex‹nsiÚ__
 \

452 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

453 cÚ¡ 
š6_addr
 *
__b
 = (cÚ¡ š6_add¸*è(
b
); \

454 
__a
->
s6_addr32
[0] =ğ
__b
->s6_addr32[0] \

455 && 
__a
->
s6_addr32
[1] =ğ
__b
->s6_addr32[1] \

456 && 
__a
->
s6_addr32
[2] =ğ
__b
->s6_addr32[2] \

457 && 
__a
->
s6_addr32
[3] =ğ
__b
->s6_addr32[3]; }))

	)

459 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

460 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

461 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

462 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

463 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ0)

	)

465 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

466 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

467 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

468 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

469 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ
	`htÚl
 (1))

	)

471 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

472 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

473 =ğ
	`htÚl
 (0xã800000))

	)

475 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

476 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

477 =ğ
	`htÚl
 (0xãc00000))

	)

479 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

480 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

481 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

482 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ
	`htÚl
 (0xffff)))

	)

484 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

485 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

486 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

487 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0) \

488 && (
	`Áohl
 (((cÚ¡ 
ušt32_t
 *è(
a
))[3]è> 1))

	)

490 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

491 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[0]) \

492 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[1]) \

493 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[2]) \

494 && (((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[3]))

	)

497 
	#IN6_IS_ADDR_MULTICAST
(
a
è(((cÚ¡ 
ušt8_t
 *è×))[0] =ğ0xff)

	)

499 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


501 
	$bšd»svpÜt
 (
__sockfd
, 
sockaddr_š
 *
__sock_š
è
__THROW
;

504 
	$bšd»svpÜt6
 (
__sockfd
, 
sockaddr_š6
 *
__sock_š
)

505 
__THROW
;

509 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

510 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

511 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x1))

	)

513 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

514 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

515 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x2))

	)

517 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

518 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

519 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x5))

	)

521 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

522 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

523 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x8))

	)

525 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

526 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

527 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0xe))

	)

530 #ifdeà
__USE_GNU


531 
cmsghdr
;

534 
	sš6_pktšfo


536 
š6_addr
 
i6_addr
;

537 
i6_ifšdex
;

541 
	s6_mtušfo


543 
sockaddr_š6
 
6m_addr
;

544 
ušt32_t
 
6m_mtu
;

549 
	$š‘6_İtiÚ_¥aû
 (
__nby‹s
)

550 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

551 
	$š‘6_İtiÚ_š™
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

552 
__ty³
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

553 
	$š‘6_İtiÚ_­³nd
 (
cmsghdr
 *
__cmsg
,

554 cÚ¡ 
ušt8_t
 *
__ty³p
, 
__muÉx
,

555 
__¶usy
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

556 
ušt8_t
 *
	$š‘6_İtiÚ_®loc
 (
cmsghdr
 *
__cmsg
, 
__d©®’
,

557 
__muÉx
, 
__¶usy
)

558 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

559 
	$š‘6_İtiÚ_Ãxt
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

560 
ušt8_t
 **
__Œp
)

561 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

562 
	$š‘6_İtiÚ_fšd
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

563 
ušt8_t
 **
__Œp
, 
__ty³
)

564 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

568 
	$š‘6_İt_š™
 (*
__extbuf
, 
sockËn_t
 
__ex’
è
__THROW
;

569 
	$š‘6_İt_­³nd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

570 
ušt8_t
 
__ty³
, 
sockËn_t
 
__Ën
, ušt8_ˆ
__®ign
,

571 **
__d©abuå
è
__THROW
;

572 
	$š‘6_İt_fšish
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
)

573 
__THROW
;

574 
	$š‘6_İt_£t_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

575 
sockËn_t
 
__v®Ën
è
__THROW
;

576 
	$š‘6_İt_Ãxt
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

577 
ušt8_t
 *
__ty³p
, 
sockËn_t
 *
__ËÅ
,

578 **
__d©abuå
è
__THROW
;

579 
	$š‘6_İt_fšd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

580 
ušt8_t
 
__ty³
, 
sockËn_t
 *
__ËÅ
,

581 **
__d©abuå
è
__THROW
;

582 
	$š‘6_İt_g‘_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

583 
sockËn_t
 
__v®Ën
è
__THROW
;

587 
sockËn_t
 
	$š‘6_¹h_¥aû
 (
__ty³
, 
__£gm’ts
è
__THROW
;

588 *
	$š‘6_¹h_š™
 (*
__bp
, 
sockËn_t
 
__bp_Ën
, 
__ty³
,

589 
__£gm’ts
è
__THROW
;

590 
	$š‘6_¹h_add
 (*
__bp
, cÚ¡ 
š6_addr
 *
__addr
è
__THROW
;

591 
	$š‘6_¹h_»v”£
 (cÚ¡ *
__š
, *
__out
è
__THROW
;

592 
	$š‘6_¹h_£gm’ts
 (cÚ¡ *
__bp
è
__THROW
;

593 
š6_addr
 *
	$š‘6_¹h_g‘addr
 (cÚ¡ *
__bp
, 
__šdex
)

594 
__THROW
;

600 
	$g‘v4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

601 
š_addr
 
__group
, 
ušt32_t
 *
__fmode
,

602 
ušt32_t
 *
__num¤c
, 
š_addr
 *
__¦i¡
)

603 
__THROW
;

606 
	$£tv4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

607 
š_addr
 
__group
, 
ušt32_t
 
__fmode
,

608 
ušt32_t
 
__num¤c
,

609 cÚ¡ 
š_addr
 *
__¦i¡
)

610 
__THROW
;

614 
	$g‘sourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

615 cÚ¡ 
sockaddr
 *
__group
,

616 
sockËn_t
 
__grou¶’
, 
ušt32_t
 *
__fmode
,

617 
ušt32_t
 *
__num¤c
,

618 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

621 
	$£tsourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

622 cÚ¡ 
sockaddr
 *
__group
,

623 
sockËn_t
 
__grou¶’
, 
ušt32_t
 
__fmode
,

624 
ušt32_t
 
__num¤c
,

625 cÚ¡ 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

628 
__END_DECLS


	@/usr/include/netinet/tcp.h

32 #iâdeà
_NETINET_TCP_H


33 
	#_NETINET_TCP_H
 1

	)

35 
	~<ã©u»s.h
>

40 
	#TCP_NODELAY
 1

	)

41 
	#TCP_MAXSEG
 2

	)

42 
	#TCP_CORK
 3

	)

43 
	#TCP_KEEPIDLE
 4

	)

44 
	#TCP_KEEPINTVL
 5

	)

45 
	#TCP_KEEPCNT
 6

	)

46 
	#TCP_SYNCNT
 7

	)

47 
	#TCP_LINGER2
 8

	)

48 
	#TCP_DEFER_ACCEPT
 9

	)

49 
	#TCP_WINDOW_CLAMP
 10

	)

50 
	#TCP_INFO
 11

	)

51 
	#TCP_QUICKACK
 12

	)

52 
	#TCP_CONGESTION
 13

	)

53 
	#TCP_MD5SIG
 14

	)

54 
	#TCP_COOKIE_TRANSACTIONS
 15

	)

55 
	#TCP_THIN_LINEAR_TIMEOUTS
 16

	)

56 
	#TCP_THIN_DUPACK
 17

	)

57 
	#TCP_USER_TIMEOUT
 18

	)

58 
	#TCP_REPAIR
 19

	)

59 
	#TCP_REPAIR_QUEUE
 20

	)

60 
	#TCP_QUEUE_SEQ
 21

	)

61 
	#TCP_REPAIR_OPTIONS
 22

	)

62 
	#TCP_FASTOPEN
 23

	)

63 
	#TCP_TIMESTAMP
 24

	)

65 #ifdeà
__USE_MISC


66 
	~<sys/ty³s.h
>

67 
	~<sys/sock‘.h
>

69 
u_št32_t
 
	ttı_£q
;

74 
	stıhdr


76 
__ex‹nsiÚ__
 union

80 
u_št16_t
 
	mth_¥Üt
;

81 
u_št16_t
 
	mth_dpÜt
;

82 
tı_£q
 
	mth_£q
;

83 
tı_£q
 
	mth_ack
;

84 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


85 
u_št8_t
 
	mth_x2
:4;

86 
u_št8_t
 
	mth_off
:4;

88 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


89 
u_št8_t
 
	mth_off
:4;

90 
u_št8_t
 
	mth_x2
:4;

92 
u_št8_t
 
	mth_æags
;

93 
	#TH_FIN
 0x01

	)

94 
	#TH_SYN
 0x02

	)

95 
	#TH_RST
 0x04

	)

96 
	#TH_PUSH
 0x08

	)

97 
	#TH_ACK
 0x10

	)

98 
	#TH_URG
 0x20

	)

99 
u_št16_t
 
	mth_wš
;

100 
u_št16_t
 
	mth_sum
;

101 
u_št16_t
 
	mth_u½
;

105 
u_št16_t
 
	msourû
;

106 
u_št16_t
 
	mde¡
;

107 
u_št32_t
 
	m£q
;

108 
u_št32_t
 
	mack_£q
;

109 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


110 
u_št16_t
 
	m»s1
:4;

111 
u_št16_t
 
	mdoff
:4;

112 
u_št16_t
 
	mfš
:1;

113 
u_št16_t
 
	msyn
:1;

114 
u_št16_t
 
	mr¡
:1;

115 
u_št16_t
 
	mpsh
:1;

116 
u_št16_t
 
	mack
:1;

117 
u_št16_t
 
	murg
:1;

118 
u_št16_t
 
	m»s2
:2;

119 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


120 
u_št16_t
 
	mdoff
:4;

121 
u_št16_t
 
	m»s1
:4;

122 
u_št16_t
 
	m»s2
:2;

123 
u_št16_t
 
	murg
:1;

124 
u_št16_t
 
	mack
:1;

125 
u_št16_t
 
	mpsh
:1;

126 
u_št16_t
 
	mr¡
:1;

127 
u_št16_t
 
	msyn
:1;

128 
u_št16_t
 
	mfš
:1;

132 
u_št16_t
 
	mwšdow
;

133 
u_št16_t
 
	mcheck
;

134 
u_št16_t
 
	murg_±r
;

141 
	mTCP_ESTABLISHED
 = 1,

142 
	mTCP_SYN_SENT
,

143 
	mTCP_SYN_RECV
,

144 
	mTCP_FIN_WAIT1
,

145 
	mTCP_FIN_WAIT2
,

146 
	mTCP_TIME_WAIT
,

147 
	mTCP_CLOSE
,

148 
	mTCP_CLOSE_WAIT
,

149 
	mTCP_LAST_ACK
,

150 
	mTCP_LISTEN
,

151 
	mTCP_CLOSING


154 
	#TCPOPT_EOL
 0

	)

155 
	#TCPOPT_NOP
 1

	)

156 
	#TCPOPT_MAXSEG
 2

	)

157 
	#TCPOLEN_MAXSEG
 4

	)

158 
	#TCPOPT_WINDOW
 3

	)

159 
	#TCPOLEN_WINDOW
 3

	)

160 
	#TCPOPT_SACK_PERMITTED
 4

	)

161 
	#TCPOLEN_SACK_PERMITTED
 2

	)

162 
	#TCPOPT_SACK
 5

	)

163 
	#TCPOPT_TIMESTAMP
 8

	)

164 
	#TCPOLEN_TIMESTAMP
 10

	)

165 
	#TCPOLEN_TSTAMP_APPA
 (
TCPOLEN_TIMESTAMP
+2è

	)

167 
	#TCPOPT_TSTAMP_HDR
 \

168 (
TCPOPT_NOP
<<24|TCPOPT_NOP<<16|
TCPOPT_TIMESTAMP
<<8|
TCPOLEN_TIMESTAMP
)

	)

176 
	#TCP_MSS
 512

	)

178 
	#TCP_MAXWIN
 65535

	)

180 
	#TCP_MAX_WINSHIFT
 14

	)

182 
	#SOL_TCP
 6

	)

185 
	#TCPI_OPT_TIMESTAMPS
 1

	)

186 
	#TCPI_OPT_SACK
 2

	)

187 
	#TCPI_OPT_WSCALE
 4

	)

188 
	#TCPI_OPT_ECN
 8

	)

189 
	#TCPI_OPT_ECN_SEEN
 16

	)

190 
	#TCPI_OPT_SYN_DATA
 32

	)

193 
	etı_ÿ_¡©e


195 
	mTCP_CA_O³n
 = 0,

196 
	mTCP_CA_DisÜd”
 = 1,

197 
	mTCP_CA_CWR
 = 2,

198 
	mTCP_CA_Recov”y
 = 3,

199 
	mTCP_CA_Loss
 = 4

202 
	stı_šfo


204 
u_št8_t
 
	mtıi_¡©e
;

205 
u_št8_t
 
	mtıi_ÿ_¡©e
;

206 
u_št8_t
 
	mtıi_»Œªsm™s
;

207 
u_št8_t
 
	mtıi_´obes
;

208 
u_št8_t
 
	mtıi_backoff
;

209 
u_št8_t
 
	mtıi_İtiÚs
;

210 
u_št8_t
 
	mtıi_¢d_wsÿË
 : 4, 
	mtıi_rcv_wsÿË
 : 4;

212 
u_št32_t
 
	mtıi_¹o
;

213 
u_št32_t
 
	mtıi_©o
;

214 
u_št32_t
 
	mtıi_¢d_mss
;

215 
u_št32_t
 
	mtıi_rcv_mss
;

217 
u_št32_t
 
	mtıi_uÇcked
;

218 
u_št32_t
 
	mtıi_§cked
;

219 
u_št32_t
 
	mtıi_lo¡
;

220 
u_št32_t
 
	mtıi_»Œªs
;

221 
u_št32_t
 
	mtıi_çck‘s
;

224 
u_št32_t
 
	mtıi_Ï¡_d©a_£Á
;

225 
u_št32_t
 
	mtıi_Ï¡_ack_£Á
;

226 
u_št32_t
 
	mtıi_Ï¡_d©a_»cv
;

227 
u_št32_t
 
	mtıi_Ï¡_ack_»cv
;

230 
u_št32_t
 
	mtıi_pmtu
;

231 
u_št32_t
 
	mtıi_rcv_s¡h»sh
;

232 
u_št32_t
 
	mtıi_¹t
;

233 
u_št32_t
 
	mtıi_¹tv¬
;

234 
u_št32_t
 
	mtıi_¢d_s¡h»sh
;

235 
u_št32_t
 
	mtıi_¢d_cwnd
;

236 
u_št32_t
 
	mtıi_advmss
;

237 
u_št32_t
 
	mtıi_»Üd”šg
;

239 
u_št32_t
 
	mtıi_rcv_¹t
;

240 
u_št32_t
 
	mtıi_rcv_¥aû
;

242 
u_št32_t
 
	mtıi_tÙ®_»Œªs
;

247 
	#TCP_MD5SIG_MAXKEYLEN
 80

	)

249 
	stı_md5sig


251 
sockaddr_¡Üage
 
	mtım_addr
;

252 
u_št16_t
 
	m__tım_·d1
;

253 
u_št16_t
 
	mtım_keyËn
;

254 
u_št32_t
 
	m__tım_·d2
;

255 
u_št8_t
 
	mtım_key
[
TCP_MD5SIG_MAXKEYLEN
];

259 
	stı_»·œ_İt


261 
u_št32_t
 
	mİt_code
;

262 
u_št32_t
 
	mİt_v®
;

268 
	mTCP_NO_QUEUE
,

269 
	mTCP_RECV_QUEUE
,

270 
	mTCP_SEND_QUEUE
,

271 
	mTCP_QUEUES_NR
,

275 
	#TCP_COOKIE_MIN
 8

	)

276 
	#TCP_COOKIE_MAX
 16

	)

277 
	#TCP_COOKIE_PAIR_SIZE
 (2*
TCP_COOKIE_MAX
)

	)

280 
	#TCP_COOKIE_IN_ALWAYS
 (1 << 0è

	)

281 
	#TCP_COOKIE_OUT_NEVER
 (1 << 1è

	)

285 
	#TCP_S_DATA_IN
 (1 << 2è

	)

286 
	#TCP_S_DATA_OUT
 (1 << 3è

	)

288 
	#TCP_MSS_DEFAULT
 536U

	)

289 
	#TCP_MSS_DESIRED
 1220U

	)

291 
	stı_cook›_Œª§ùiÚs


293 
u_št16_t
 
	mtıù_æags
;

294 
u_št8_t
 
	m__tıù_·d1
;

295 
u_št8_t
 
	mtıù_cook›_desœed
;

296 
u_št16_t
 
	mtıù_s_d©a_desœed
;

297 
u_št16_t
 
	mtıù_u£d
;

298 
u_št8_t
 
	mtıù_v®ue
[
TCP_MSS_DEFAULT
];

	@/usr/include/netinet/udp.h

47 #iâdeà
__NETINET_UDP_H


48 
	#__NETINET_UDP_H
 1

	)

50 
	~<ã©u»s.h
>

51 
	~<sys/ty³s.h
>

56 
	sudphdr


58 
__ex‹nsiÚ__
 union

62 
u_št16_t
 
	muh_¥Üt
;

63 
u_št16_t
 
	muh_dpÜt
;

64 
u_št16_t
 
	muh_uËn
;

65 
u_št16_t
 
	muh_sum
;

69 
u_št16_t
 
	msourû
;

70 
u_št16_t
 
	mde¡
;

71 
u_št16_t
 
	mËn
;

72 
u_št16_t
 
	mcheck
;

78 
	#UDP_CORK
 1

	)

79 
	#UDP_ENCAP
 100

	)

83 
	#UDP_ENCAP_ESPINUDP_NON_IKE
 1

	)

84 
	#UDP_ENCAP_ESPINUDP
 2

	)

85 
	#UDP_ENCAP_L2TPINUDP
 3

	)

87 
	#SOL_UDP
 17

	)

	@/usr/include/setjmp.h

22 #iâdef 
_SETJMP_H


23 
	#_SETJMP_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/£tjmp.h
>

30 
	~<b™s/sig£t.h
>

34 
	s__jmp_buf_g


40 
__jmp_buf
 
	m__jmpbuf
;

41 
	m__mask_was_§ved
;

42 
__sig£t_t
 
	m__§ved_mask
;

46 
__BEGIN_NAMESPACE_STD


48 
__jmp_buf_g
 
	tjmp_buf
[1];

52 
	$£tjmp
 (
jmp_buf
 
__’v
è
__THROWNL
;

54 
__END_NAMESPACE_STD


59 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1], 
__§vemask
è
__THROWNL
;

63 
	$_£tjmp
 (
__jmp_buf_g
 
__’v
[1]è
__THROWNL
;

67 
	#£tjmp
(
’v
è
	`_£tjmp
 (’v)

	)

70 
__BEGIN_NAMESPACE_STD


74 
	$lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

75 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

77 
__END_NAMESPACE_STD


79 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


83 
	$_lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

84 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

88 #ifdef 
__USE_POSIX


92 
__jmp_buf_g
 
	tsigjmp_buf
[1];

96 
	#sig£tjmp
(
’v
, 
§vemask
è
	`__sig£tjmp
 (’v, savemask)

	)

102 
	$siglÚgjmp
 (
sigjmp_buf
 
__’v
, 
__v®
)

103 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

108 #ià
__USE_FORTIFY_LEVEL
 > 0

109 
	~<b™s/£tjmp2.h
>

112 
__END_DECLS


	@/usr/include/sgtty.h

18 #iâdef 
_SGTTY_H


19 
	#_SGTTY_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	~<sys/ioùl.h
>

27 
	gsg‰yb
;

29 
__BEGIN_DECLS


32 
	$g‰y
 (
__fd
, 
sg‰yb
 *
__·¿ms
è
__THROW
;

35 
	$¡ty
 (
__fd
, cÚ¡ 
sg‰yb
 *
__·¿ms
è
__THROW
;

38 
__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


24 #ià!
defšed
 
__Ãed_sig_©omic_t
 && !defšed 
__Ãed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	~<b™s/sig£t.h
>

36 #ià
defšed
 
__Ãed_sig_©omic_t
 || defšed 
_SIGNAL_H


37 #iâdeà
__sig_©omic_t_defšed


38 
	#__sig_©omic_t_defšed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #undeà
__Ãed_sig_©omic_t


46 #ià
defšed
 
__Ãed_sig£t_t
 || (defšed 
_SIGNAL_H
 && defšed 
__USE_POSIX
)

47 #iâdeà
__sig£t_t_defšed


48 
	#__sig£t_t_defšed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #undeà
__Ãed_sig£t_t


54 #ifdeà
_SIGNAL_H


56 
	~<b™s/ty³s.h
>

57 
	~<b™s/signum.h
>

59 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


60 #iâdeà
__pid_t_defšed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_defšed


	)

64 #ifdeà
__USE_XOPEN


66 #iâdeà
__uid_t_defšed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_defšed


	)

72 #ifdeà
__USE_POSIX199309


74 
	#__Ãed_time¥ec


	)

75 
	~<time.h
>

78 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


80 
	~<b™s/sigšfo.h
>

85 (*
	t__sighªdËr_t
) ();

90 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

91 
__THROW
;

92 #ifdeà
__USE_GNU


93 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifdeà
__USE_BSD


102 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

103 
__THROW
;

106 #ifdeà
__REDIRECT_NTH


107 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

108 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

109 
__sysv_sigÇl
);

111 
	#sigÇl
 
__sysv_sigÇl


	)

114 
__END_NAMESPACE_STD


116 #ifdeà
__USE_XOPEN


119 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

120 
__THROW
;

126 #ifdeà
__USE_POSIX


127 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

130 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


134 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$¿i£
 (
__sig
è
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifdeà
__USE_SVID


144 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

145 
__THROW
;

146 
	$gsigÇl
 (
__sig
è
__THROW
;

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K


151 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

154 #ifdeà
__USE_XOPEN2K


156 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

167 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

169 #ifdeà
__USE_XOPEN


170 #ifdeà
__GNUC__


171 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

174 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

179 #ifdeà
__USE_BSD


186 
	#sigmask
(
sig
è
	`__sigmask
(sig)

	)

189 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

192 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

195 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

199 #ifdeà
__USE_MISC


200 
	#NSIG
 
_NSIG


	)

203 #ifdeà
__USE_GNU


204 
__sighªdËr_t
 
	tsighªdËr_t
;

208 #ifdeà
__USE_BSD


209 
__sighªdËr_t
 
	tsig_t
;

212 #ifdeà
__USE_POSIX


215 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

224 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

227 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

228 
__THROW
 
	`__nÚnuÎ
 ((1));

230 #ifdeà
__USE_GNU


232 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

235 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

236 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

239 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

240 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

245 
	~<b™s/sigaùiÚ.h
>

248 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

249 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

256 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

259 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

260 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

263 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

270 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

271 
	`__nÚnuÎ
 ((1, 2));

273 #ifdeà
__USE_POSIX199309


278 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

279 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

286 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

287 
sigšfo_t
 *
__»¡riù
 
__šfo
,

288 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

289 
	`__nÚnuÎ
 ((1));

293 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

294 
__THROW
;

299 #ifdeà
__USE_BSD


303 cÚ¡ *cÚ¡ 
_sys_sigli¡
[
_NSIG
];

304 cÚ¡ *cÚ¡ 
sys_sigli¡
[
_NSIG
];

307 
	ssigvec


309 
__sighªdËr_t
 
sv_hªdËr
;

310 
sv_mask
;

312 
sv_æags
;

313 
	#sv_Ú¡ack
 
sv_æags


	)

317 
	#SV_ONSTACK
 (1 << 0)

	)

318 
	#SV_INTERRUPT
 (1 << 1)

	)

319 
	#SV_RESETHAND
 (1 << 2)

	)

327 
	$sigvec
 (
__sig
, cÚ¡ 
sigvec
 *
__vec
,

328 
sigvec
 *
__ovec
è
__THROW
;

332 
	~<b™s/sigcÚ‹xt.h
>

335 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

340 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


341 
	#__Ãed_size_t


	)

342 
	~<¡ddef.h
>

347 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

349 
	~<b™s/sig¡ack.h
>

350 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


352 
	~<sys/ucÚ‹xt.h
>

358 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

359 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

363 
	$sig®t¡ack
 (cÚ¡ 
sig®t¡ack
 *
__»¡riù
 
__ss
,

364 
sig®t¡ack
 *
__»¡riù
 
__oss
è
__THROW
;

368 #ifdeà
__USE_XOPEN_EXTENDED


372 
	$sighŞd
 (
__sig
è
__THROW
;

375 
	$sig»l£
 (
__sig
è
__THROW
;

378 
	$sigignÜe
 (
__sig
è
__THROW
;

381 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

384 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


387 
	~<b™s/±h»adty³s.h
>

388 
	~<b™s/sigth»ad.h
>

395 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

397 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

401 
__END_DECLS


	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

868 
defšed
 
__USE_MISC
)

873 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

879 
	`pşo£
 (
FILE
 *
__¡»am
);

883 #ifdef 
__USE_POSIX


885 *
	$ù”mid
 (*
__s
è
__THROW
;

889 #ifdeà
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob¡ack
;

899 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

900 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

901 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

902 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

903 cÚ¡ *
__»¡riù
 
__fÜm©
,

904 
_G_va_li¡
 
__¬gs
)

905 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

909 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


913 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

917 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

920 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

923 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


927 
	#__Ãed_g‘İt


	)

928 
	~<g‘İt.h
>

933 #ifdeà
__USE_EXTERN_INLINES


934 
	~<b™s/¡dio.h
>

936 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


937 
	~<b™s/¡dio2.h
>

939 #ifdeà
__LDBL_COMPAT


940 
	~<b™s/¡dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_BSD


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_MISC


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_BSD


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_MISC


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_BSD


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 \

610 || 
defšed
 
__USE_XOPEN2K8


619 #iâdeà
__USE_FILE_OFFSET64


620 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

622 #ifdeà
__REDIRECT


623 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

624 
	`__nÚnuÎ
 ((1)è
__wur
;

626 
	#mk¡emp
 
mk¡emp64


	)

629 #ifdeà
__USE_LARGEFILE64


630 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

634 #ifdeà
__USE_MISC


641 #iâdeà
__USE_FILE_OFFSET64


642 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

644 #ifdeà
__REDIRECT


645 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

646 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

648 
	#mk¡emps
 
mk¡emps64


	)

651 #ifdeà
__USE_LARGEFILE64


652 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

653 
	`__nÚnuÎ
 ((1)è
__wur
;

657 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


663 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

666 #ifdeà
__USE_GNU


673 #iâdeà
__USE_FILE_OFFSET64


674 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

676 #ifdeà
__REDIRECT


677 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

678 
	`__nÚnuÎ
 ((1)è
__wur
;

680 
	#mko¡emp
 
mko¡emp64


	)

683 #ifdeà
__USE_LARGEFILE64


684 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

693 #iâdeà
__USE_FILE_OFFSET64


694 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

695 
	`__nÚnuÎ
 ((1)è
__wur
;

697 #ifdeà
__REDIRECT


698 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

699 
__æags
), 
mko¡emps64
)

700 
	`__nÚnuÎ
 ((1)è
__wur
;

702 
	#mko¡emps
 
mko¡emps64


	)

705 #ifdeà
__USE_LARGEFILE64


706 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

707 
	`__nÚnuÎ
 ((1)è
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

725 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

728 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


734 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

735 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

740 #iâdeà
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__com·r_â_t
) (const *, const *);

744 #ifdef 
__USE_GNU


745 
__com·r_â_t
 
	tcom·risÚ_â_t
;

748 #ifdeà
__USE_GNU


749 (*
	t__com·r_d_â_t
) (const *, const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

756 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

757 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

759 #ifdeà
__USE_EXTERN_INLINES


760 
	~<b™s/¡dlib-b£¬ch.h
>

765 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

766 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

767 #ifdeà
__USE_GNU


768 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

769 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

770 
	`__nÚnuÎ
 ((1, 4));

775 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

777 
__END_NAMESPACE_STD


779 #ifdeà
__USE_ISOC99


780 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

781 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

785 
__BEGIN_NAMESPACE_STD


789 
div_t
 
	$div
 (
__num”
, 
__d’om
)

790 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

791 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

792 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

793 
__END_NAMESPACE_STD


795 #ifdeà
__USE_ISOC99


796 
__BEGIN_NAMESPACE_C99


797 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

798 
__d’om
)

799 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

800 
__END_NAMESPACE_C99


804 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

805 || 
defšed
 
__USE_SVID


812 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

813 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

818 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

819 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

824 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

825 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

828 #ifdeà
__USE_MISC


830 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

831 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

832 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

833 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

834 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

835 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

836 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

837 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

842 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

843 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

844 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

845 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

846 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

847 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

849 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

850 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

851 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

852 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

853 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

854 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

855 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

856 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

860 
__BEGIN_NAMESPACE_STD


863 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

866 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

867 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

870 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

874 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

875 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

877 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

878 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

879 
__THROW
;

880 
__END_NAMESPACE_STD


883 #ifdeà
__USE_SVID


888 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

892 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


899 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

900 *cÚ¡ *
__»¡riù
 
__tok’s
,

901 **
__»¡riù
 
__v®u•
)

902 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

906 #ifdeà
__USE_XOPEN


908 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

914 #ifdeà
__USE_XOPEN2KXSI


916 
	$posix_İ’±
 (
__oæag
è
__wur
;

919 #ifdeà
__USE_XOPEN


924 
	$g¿Á±
 (
__fd
è
__THROW
;

928 
	$uÆock±
 (
__fd
è
__THROW
;

933 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

936 #ifdeà
__USE_GNU


940 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

941 
__THROW
 
	`__nÚnuÎ
 ((2));

944 
	`g‘±
 ();

947 #ifdeà
__USE_BSD


951 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

952 
__THROW
 
	`__nÚnuÎ
 ((1));

955 
	~<b™s/¡dlib-æßt.h
>

958 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


959 
	~<b™s/¡dlib.h
>

961 #ifdeà
__LDBL_COMPAT


962 
	~<b™s/¡dlib-ldbl.h
>

966 #undeà
__Ãed_m®loc_ªd_ÿÎoc


968 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

39 #ià
defšed
 
__ılu¥lus
 && (__ılu¥lu >ğ199711L || 
__GNUC_PREREQ
 (4, 4))

40 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

44 
__BEGIN_NAMESPACE_STD


46 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

47 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

50 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

51 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 
__END_NAMESPACE_STD


57 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


58 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

59 
__c
, 
size_t
 
__n
)

60 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

64 
__BEGIN_NAMESPACE_STD


66 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

69 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

70 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

73 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


76 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

77 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

79 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ifdeà
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


91  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

94 
	}
}

96 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

99 
__END_NAMESPACE_STD


101 #ifdeà
__USE_GNU


104 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


105 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

106 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

107 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

108 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

110 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

111 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

115 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


116 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

117 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

118 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

119 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

122 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

127 
__BEGIN_NAMESPACE_STD


129 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

133 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

137 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

138 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

141 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

144 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

151 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

152 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

154 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

155 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

156 
__THROW
 
	`__nÚnuÎ
 ((2));

157 
__END_NAMESPACE_STD


159 #ifdeà
__USE_XOPEN2K8


163 
	~<xloÿË.h
>

166 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

167 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

169 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

170 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

173 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

174 || 
defšed
 
__USE_XOPEN2K8


176 *
	$¡rdup
 (cÚ¡ *
__s
)

177 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

183 #ià
defšed
 
__USE_XOPEN2K8


184 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

185 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

188 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


190 
	#¡rdu·
(
s
) \

191 (
__ex‹nsiÚ__
 \

193 cÚ¡ *
__Şd
 = (
s
); \

194 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

195 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

196 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

197 
	}
}))

	)

200 
	#¡ºdu·
(
s
, 
n
) \

201 (
__ex‹nsiÚ__
 \

203 cÚ¡ *
__Şd
 = (
s
); \

204 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

205 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

206 
__Ãw
[
__Ën
] = '\0'; \

207 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

208 }))

	)

211 
	g__BEGIN_NAMESPACE_STD


213 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


216 *
¡rchr
 (*
__s
, 
__c
)

217 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

218 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

219 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

221 #ifdeà
__OPTIMIZE__


222 
__ex‹º_®ways_šlše
 *

223 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


225  
__butš_¡rchr
 (
__s
, 
__c
);

228 
__ex‹º_®ways_šlše
 const *

229 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


231  
__butš_¡rchr
 (
__s
, 
__c
);

236 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

237 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

240 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


243 *
	`¡¼chr
 (*
__s
, 
__c
)

244 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

245 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

246 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

248 #ifdeà
__OPTIMIZE__


249 
__ex‹º_®ways_šlše
 *

250 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


252  
	`__butš_¡¼chr
 (
__s
, 
__c
);

255 
__ex‹º_®ways_šlše
 const *

256 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


258  
	`__butš_¡¼chr
 (
__s
, 
__c
);

261 
	}
}

263 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

264 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

266 
__END_NAMESPACE_STD


268 #ifdeà
__USE_GNU


271 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


272 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

273 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

274 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

275 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

277 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

278 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

282 
__BEGIN_NAMESPACE_STD


285 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

286 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

289 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

290 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

292 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


295 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

296 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

297 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

298 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

300 #ifdeà
__OPTIMIZE__


301 
__ex‹º_®ways_šlše
 *

302 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


304  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

307 
__ex‹º_®ways_šlše
 const *

308 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


310  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

313 
	}
}

315 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

316 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

319 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


322 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

323 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

324 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

325 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

327 #ifdeà
__OPTIMIZE__


328 
__ex‹º_®ways_šlše
 *

329 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


331  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

334 
__ex‹º_®ways_šlše
 const *

335 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


337  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

340 
	}
}

342 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

343 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

348 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

349 
__THROW
 
	`__nÚnuÎ
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

355 cÚ¡ *
__»¡riù
 
__d–im
,

356 **
__»¡riù
 
__§ve_±r
)

357 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

358 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


359 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

360 **
__»¡riù
 
__§ve_±r
)

361 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

364 #ifdeà
__USE_GNU


366 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

368 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

369 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

370 cÚ¡ *
__ÃedË
)

371 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

373 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

374 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

378 #ifdeà
__USE_GNU


382 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

383 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

384 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

388 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

389 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

390 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

391 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

392 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

393 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

400 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

407 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

414 
__END_NAMESPACE_STD


415 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


423 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


426 #ifdeà
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

428 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

429 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

431 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

432 
__THROW
 
	`__nÚnuÎ
 ((2));

433 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

438 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

439 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

443 #ifdeà
__USE_XOPEN2K8


445 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

451 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

453 #ifdeà
__USE_BSD


455 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

462 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

466 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`šdex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

471 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

474 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__ex‹º_®ways_šlše
 *

476 
	`šdex
 (*
__s
, 
__c
è
__THROW


478  
	`__butš_šdex
 (
__s
, 
__c
);

481 
__ex‹º_®ways_šlše
 const *

482 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


484  
	`__butš_šdex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

490 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

494 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`ršdex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

499 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

502 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__ex‹º_®ways_šlše
 *

504 
	`ršdex
 (*
__s
, 
__c
è
__THROW


506  
	`__butš_ršdex
 (
__s
, 
__c
);

509 
__ex‹º_®ways_šlše
 const *

510 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


512  
	`__butš_ršdex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

518 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

523 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

527 #ifdef 
__USE_GNU


528 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

529 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

530 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

534 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

535 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

538 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

539 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

542 #ifdef 
__USE_GNU


545 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

546 
__loÿË_t
 
__loc
)

547 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

549 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

550 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

551 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

554 #ifdef 
__USE_BSD


557 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

558 cÚ¡ *
__»¡riù
 
__d–im
)

559 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

562 #ifdef 
__USE_XOPEN2K8


564 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

567 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

568 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

569 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

570 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

574 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

575 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

576 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

577 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

578 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

582 #ifdef 
__USE_GNU


584 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

585 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

588 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

593 #iâdeà
ba£Çme


598 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


599 "C++" *
	$ba£Çme
 (*
__f’ame
)

600 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

601 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

602 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

604 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

610 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

611 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

612 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


632 
	~<b™s/¡ršg.h
>

635 
	~<b™s/¡ršg2.h
>

638 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


640 
	~<b™s/¡ršg3.h
>

644 
__END_DECLS


	@/usr/include/strings.h

18 #iâdef 
_STRINGS_H


19 
	#_STRINGS_H
 1

	)

24 #ià!
defšed
 
_STRING_H
 || !defšed 
__USE_BSD


26 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && (__ılu¥lu >ğ199711L || 
__GNUC_PREREQ
 (4, 4))

36 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

39 
	g__BEGIN_DECLS


41 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


43 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

44 
__THROW
 
__©Œibu‹_pu»__
;

47 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
è
__THROW
;

50 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
;

53 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


56 *
	`šdex
 (*
__s
, 
__c
)

57 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

58 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

59 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

61 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRING_H_PROTO


62 
__ex‹º_®ways_šlše
 *

63 
	`šdex
 (*
__s
, 
__c
è
__THROW


65  
	`__butš_šdex
 (
__s
, 
__c
);

68 
__ex‹º_®ways_šlše
 const *

69 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


71  
	`__butš_šdex
 (
__s
, 
__c
);

74 
	}
}

76 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

77 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


84 *
	`ršdex
 (*
__s
, 
__c
)

85 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

86 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

87 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

89 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRING_H_PROTO


90 
__ex‹º_®ways_šlše
 *

91 
	`ršdex
 (*
__s
, 
__c
è
__THROW


93  
	`__butš_ršdex
 (
__s
, 
__c
);

96 
__ex‹º_®ways_šlše
 const *

97 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


99  
	`__butš_ršdex
 (
__s
, 
__c
);

102 
	}
}

104 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

109 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8
 || defšed 
__USE_XOPEN2K8XSI


112 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((const));

116 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

117 
__THROW
 
__©Œibu‹_pu»__
;

120 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
;

123 #ifdef 
__USE_XOPEN2K8


127 
	~<xloÿË.h
>

131 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__loc
)

132 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

134 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

135 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

136 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

139 
__END_DECLS


	@/usr/include/sys/dir.h

18 #iâdef 
_SYS_DIR_H


19 
	#_SYS_DIR_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	~<dœ’t.h
>

25 
	#dœeù
 
dœ’t


	)

	@/usr/include/sys/file.h

18 #iâdef 
_SYS_FILE_H


19 
	#_SYS_FILE_H
 1

	)

21 
	~<ã©u»s.h
>

23 #iâdef 
_FCNTL_H


24 
	~<fú.h
>

27 
	g__BEGIN_DECLS


32 #iâdeà
L_SET


33 
	#L_SET
 0

	)

34 
	#L_INCR
 1

	)

35 
	#L_XTND
 2

	)

40 
	#LOCK_SH
 1

	)

41 
	#LOCK_EX
 2

	)

42 
	#LOCK_UN
 8

	)

45 
	#LOCK_NB
 4

	)

50 
	$æock
 (
__fd
, 
__İ”©iÚ
è
__THROW
;

53 
__END_DECLS


	@/usr/include/sys/ioctl.h

18 #iâdef 
_SYS_IOCTL_H


19 
	#_SYS_IOCTL_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	g__BEGIN_DECLS


26 
	~<b™s/ioùls.h
>

29 
	~<b™s/ioùl-ty³s.h
>

36 
	~<sys/‰ydeçuÉs.h
>

41 
	$ioùl
 (
__fd
, 
__»que¡
, ...è
__THROW
;

43 
__END_DECLS


	@/usr/include/sys/mount.h

21 #iâdeà
_SYS_MOUNT_H


22 
	#_SYS_MOUNT_H
 1

	)

24 
	~<ã©u»s.h
>

25 
	~<sys/ioùl.h
>

27 
	#BLOCK_SIZE
 1024

	)

28 
	#BLOCK_SIZE_BITS
 10

	)

35 
	mMS_RDONLY
 = 1,

36 
	#MS_RDONLY
 
MS_RDONLY


	)

37 
	mMS_NOSUID
 = 2,

38 
	#MS_NOSUID
 
MS_NOSUID


	)

39 
	mMS_NODEV
 = 4,

40 
	#MS_NODEV
 
MS_NODEV


	)

41 
	mMS_NOEXEC
 = 8,

42 
	#MS_NOEXEC
 
MS_NOEXEC


	)

43 
	mMS_SYNCHRONOUS
 = 16,

44 
	#MS_SYNCHRONOUS
 
MS_SYNCHRONOUS


	)

45 
	mMS_REMOUNT
 = 32,

46 
	#MS_REMOUNT
 
MS_REMOUNT


	)

47 
	mMS_MANDLOCK
 = 64,

48 
	#MS_MANDLOCK
 
MS_MANDLOCK


	)

49 
	mMS_DIRSYNC
 = 128,

50 
	#MS_DIRSYNC
 
MS_DIRSYNC


	)

51 
	mMS_NOATIME
 = 1024,

52 
	#MS_NOATIME
 
MS_NOATIME


	)

53 
	mMS_NODIRATIME
 = 2048,

54 
	#MS_NODIRATIME
 
MS_NODIRATIME


	)

55 
	mMS_BIND
 = 4096,

56 
	#MS_BIND
 
MS_BIND


	)

57 
	mMS_MOVE
 = 8192,

58 
	#MS_MOVE
 
MS_MOVE


	)

59 
	mMS_REC
 = 16384,

60 
	#MS_REC
 
MS_REC


	)

61 
	mMS_SILENT
 = 32768,

62 
	#MS_SILENT
 
MS_SILENT


	)

63 
	mMS_POSIXACL
 = 1 << 16,

64 
	#MS_POSIXACL
 
MS_POSIXACL


	)

65 
	mMS_UNBINDABLE
 = 1 << 17,

66 
	#MS_UNBINDABLE
 
MS_UNBINDABLE


	)

67 
	mMS_PRIVATE
 = 1 << 18,

68 
	#MS_PRIVATE
 
MS_PRIVATE


	)

69 
	mMS_SLAVE
 = 1 << 19,

70 
	#MS_SLAVE
 
MS_SLAVE


	)

71 
	mMS_SHARED
 = 1 << 20,

72 
	#MS_SHARED
 
MS_SHARED


	)

73 
	mMS_RELATIME
 = 1 << 21,

74 
	#MS_RELATIME
 
MS_RELATIME


	)

75 
	mMS_KERNMOUNT
 = 1 << 22,

76 
	#MS_KERNMOUNT
 
MS_KERNMOUNT


	)

77 
	mMS_I_VERSION
 = 1 << 23,

78 
	#MS_I_VERSION
 
MS_I_VERSION


	)

79 
	mMS_STRICTATIME
 = 1 << 24,

80 
	#MS_STRICTATIME
 
MS_STRICTATIME


	)

81 
	mMS_ACTIVE
 = 1 << 30,

82 
	#MS_ACTIVE
 
MS_ACTIVE


	)

83 
	mMS_NOUSER
 = 1 << 31

84 
	#MS_NOUSER
 
MS_NOUSER


	)

88 
	#MS_RMT_MASK
 (
MS_RDONLY
|
MS_SYNCHRONOUS
|
MS_MANDLOCK
|
MS_I_VERSION
)

	)

93 
	#MS_MGC_VAL
 0xc0ed0000

	)

94 
	#MS_MGC_MSK
 0xffff0000

	)

101 
	#BLKROSET
 
	`_IO
(0x12, 93è

	)

102 
	#BLKROGET
 
	`_IO
(0x12, 94è

	)

103 
	#BLKRRPART
 
	`_IO
(0x12, 95è

	)

104 
	#BLKGETSIZE
 
	`_IO
(0x12, 96è

	)

105 
	#BLKFLSBUF
 
	`_IO
(0x12, 97è

	)

106 
	#BLKRASET
 
	`_IO
(0x12, 98è

	)

107 
	#BLKRAGET
 
	`_IO
(0x12, 99è

	)

108 
	#BLKFRASET
 
	`_IO
(0x12,100è

	)

109 
	#BLKFRAGET
 
	`_IO
(0x12,101è

	)

110 
	#BLKSECTSET
 
	`_IO
(0x12,102è

	)

111 
	#BLKSECTGET
 
	`_IO
(0x12,103è

	)

112 
	#BLKSSZGET
 
	`_IO
(0x12,104è

	)

113 
	#BLKBSZGET
 
	`_IOR
(0x12,112,
size_t
)

	)

114 
	#BLKBSZSET
 
	`_IOW
(0x12,113,
size_t
)

	)

115 
	#BLKGETSIZE64
 
	`_IOR
(0x12,114,
size_t
è

	)

121 
	mMNT_FORCE
 = 1,

122 
	#MNT_FORCE
 
MNT_FORCE


	)

123 
	mMNT_DETACH
 = 2,

124 
	#MNT_DETACH
 
MNT_DETACH


	)

125 
	mMNT_EXPIRE
 = 4,

126 
	#MNT_EXPIRE
 
MNT_EXPIRE


	)

127 
	mUMOUNT_NOFOLLOW
 = 8

128 
	#UMOUNT_NOFOLLOW
 
UMOUNT_NOFOLLOW


	)

132 
__BEGIN_DECLS


135 
	$mouÁ
 (cÚ¡ *
__¥ecŸl_fe
, cÚ¡ *
__dœ
,

136 cÚ¡ *
__f¡y³
, 
__rwæag
,

137 cÚ¡ *
__d©a
è
__THROW
;

140 
	$umouÁ
 (cÚ¡ *
__¥ecŸl_fe
è
__THROW
;

143 
	$umouÁ2
 (cÚ¡ *
__¥ecŸl_fe
, 
__æags
è
__THROW
;

145 
__END_DECLS


	@/usr/include/sys/param.h

19 #iâdeà
_SYS_PARAM_H


20 
	#_SYS_PARAM_H
 1

	)

22 
	#__Ãed_NULL


	)

23 
	~<¡ddef.h
>

25 
	~<sys/ty³s.h
>

26 
	~<lim™s.h
>

27 
	~<’dŸn.h
>

28 
	~<sigÇl.h
>

31 
	~<b™s/·¿m.h
>

36 
	#NBBY
 
CHAR_BIT


	)

38 #ià!
defšed
 
NGROUPS
 && defšed 
NGROUPS_MAX


39 
	#NGROUPS
 
NGROUPS_MAX


	)

41 #ià!
defšed
 
MAXSYMLINKS
 && defšed 
SYMLOOP_MAX


42 
	#MAXSYMLINKS
 
SYMLOOP_MAX


	)

44 #ià!
defšed
 
CANBSIZ
 && defšed 
MAX_CANON


45 
	#CANBSIZ
 
MAX_CANON


	)

47 #ià!
defšed
 
MAXPATHLEN
 && defšed 
PATH_MAX


48 
	#MAXPATHLEN
 
PATH_MAX


	)

50 #ià!
defšed
 
NOFILE
 && defšed 
OPEN_MAX


51 
	#NOFILE
 
OPEN_MAX


	)

53 #iâdeà
NCARGS


54 #ifdeà
ARG_MAX


55 
	#NCARGS
 
ARG_MAX


	)

59 
	#NCARGS
 
INT_MAX


	)

65 #iâdeà
NOGROUP


66 
	#NOGROUP
 65535

	)

68 #iâdeà
NODEV


69 
	#NODEV
 ((
dev_t
è-1è

	)

74 #iâdeà
DEV_BSIZE


75 
	#DEV_BSIZE
 512

	)

80 
	#£tb™
(
a
,
i
è(×)[(i)/
NBBY
] |ğ1<<((i)%NBBY))

	)

81 
	#şrb™
(
a
,
i
è(×)[(i)/
NBBY
] &ğ~(1<<((i)%NBBY)))

	)

82 
	#is£t
(
a
,
i
è(×)[(i)/
NBBY
] & (1<<((i)%NBBY)))

	)

83 
	#isşr
(
a
,
i
è((×)[(i)/
NBBY
] & (1<<((i)%NBBY))è=ğ0)

	)

86 #iâdeà
howmªy


87 
	#howmªy
(
x
, 
y
è(((xè+ ((yè- 1)è/ (y))

	)

89 #ifdeà
__GNUC__


90 
	#roundup
(
x
, 
y
è(
	`__butš_cÚ¡ªt_p
 (yè&& 
	`pow”of2
 (y) \

91 ? (((
x
è+ (
y
) - 1) & ~((y) - 1)) \

92 : ((((
x
è+ ((
y
è- 1)è/ (y)è* (y)))

	)

94 
	#roundup
(
x
, 
y
è((((xè+ ((yè- 1)è/ (y)è* (y))

	)

96 
	#pow”of2
(
x
è((((xè- 1è& (x)è=ğ0)

	)

99 
	#MIN
(
a
,
b
è((×)<(b))?×):(b))

	)

100 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

	@/usr/include/sys/poll.h

19 #iâdef 
_SYS_POLL_H


20 
	#_SYS_POLL_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/pŞl.h
>

26 #ifdeà
__USE_GNU


28 
	~<b™s/sig£t.h
>

30 
	#__Ãed_time¥ec


	)

31 
	~<time.h
>

36 
	tnfds_t
;

39 
	spŞlfd


41 
	mfd
;

42 
	mev’ts
;

43 
	m»v’ts
;

47 
__BEGIN_DECLS


57 
pŞl
 (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
, 
__timeout
);

59 #ifdeà
__USE_GNU


66 
µŞl
 (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
,

67 cÚ¡ 
time¥ec
 *
__timeout
,

68 cÚ¡ 
__sig£t_t
 *
__ss
);

71 
	g__END_DECLS


75 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


76 
	~<b™s/pŞl2.h
>

	@/usr/include/sys/resource.h

18 #iâdef 
_SYS_RESOURCE_H


19 
	#_SYS_RESOURCE_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	~<b™s/»sourû.h
>

26 #iâdeà
__id_t_defšed


27 
__id_t
 
	tid_t
;

28 
	#__id_t_defšed


	)

31 
	g__BEGIN_DECLS


37 #ià
defšed
 
__USE_GNU
 && !defšed 
__ılu¥lus


38 
__¾im™_»sourû
 
	t__¾im™_»sourû_t
;

39 
__ru§ge_who
 
	t__ru§ge_who_t
;

40 
__´iÜ™y_which
 
	t__´iÜ™y_which_t
;

42 
	t__¾im™_»sourû_t
;

43 
	t__ru§ge_who_t
;

44 
	t__´iÜ™y_which_t
;

49 #iâdeà
__USE_FILE_OFFSET64


50 
	$g‘¾im™
 (
__¾im™_»sourû_t
 
__»sourû
,

51 
¾im™
 *
__¾im™s
è
__THROW
;

53 #ifdeà
__REDIRECT_NTH


54 
	`__REDIRECT_NTH
 (
g‘¾im™
, (
__¾im™_»sourû_t
 
__»sourû
,

55 
¾im™
 *
__¾im™s
), 
g‘¾im™64
);

57 
	#g‘¾im™
 
g‘¾im™64


	)

60 #ifdeà
__USE_LARGEFILE64


61 
	$g‘¾im™64
 (
__¾im™_»sourû_t
 
__»sourû
,

62 
¾im™64
 *
__¾im™s
è
__THROW
;

68 #iâdeà
__USE_FILE_OFFSET64


69 
	$£Œlim™
 (
__¾im™_»sourû_t
 
__»sourû
,

70 cÚ¡ 
¾im™
 *
__¾im™s
è
__THROW
;

72 #ifdeà
__REDIRECT_NTH


73 
	`__REDIRECT_NTH
 (
£Œlim™
, (
__¾im™_»sourû_t
 
__»sourû
,

74 cÚ¡ 
¾im™
 *
__¾im™s
),

75 
£Œlim™64
);

77 
	#£Œlim™
 
£Œlim™64


	)

80 #ifdeà
__USE_LARGEFILE64


81 
	$£Œlim™64
 (
__¾im™_»sourû_t
 
__»sourû
,

82 cÚ¡ 
¾im™64
 *
__¾im™s
è
__THROW
;

87 
	$g‘ru§ge
 (
__ru§ge_who_t
 
__who
, 
ru§ge
 *
__u§ge
è
__THROW
;

93 
	$g‘´iÜ™y
 (
__´iÜ™y_which_t
 
__which
, 
id_t
 
__who
è
__THROW
;

97 
	$£riÜ™y
 (
__´iÜ™y_which_t
 
__which
, 
id_t
 
__who
, 
__´io
)

98 
__THROW
;

100 
__END_DECLS


	@/usr/include/sys/select.h

21 #iâdeà
_SYS_SELECT_H


22 
	#_SYS_SELECT_H
 1

	)

24 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

30 
	~<b™s/£Ëù.h
>

33 
	~<b™s/sig£t.h
>

35 #iâdeà
__sig£t_t_defšed


36 
	#__sig£t_t_defšed


	)

37 
__sig£t_t
 
	tsig£t_t
;

41 
	#__Ãed_time_t


	)

42 
	#__Ãed_time¥ec


	)

43 
	~<time.h
>

44 
	#__Ãed_timev®


	)

45 
	~<b™s/time.h
>

47 #iâdeà
__su£cÚds_t_defšed


48 
__su£cÚds_t
 
	tsu£cÚds_t
;

49 
	#__su£cÚds_t_defšed


	)

54 
	t__fd_mask
;

57 #undeà
__NFDBITS


59 
	#__NFDBITS
 (8 * (è (
__fd_mask
))

	)

60 
	#__FD_ELT
(
d
è((dè/ 
__NFDBITS
)

	)

61 
	#__FD_MASK
(
d
è((
__fd_mask
è1 << ((dè% 
__NFDBITS
))

	)

68 #ifdeà
__USE_XOPEN


69 
__fd_mask
 
	mfds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

70 
	#__FDS_BITS
(
£t
è((£t)->
fds_b™s
)

	)

72 
__fd_mask
 
	m__fds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
è((£t)->
__fds_b™s
)

	)

75 } 
	tfd_£t
;

78 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

80 #ifdeà
__USE_MISC


82 
__fd_mask
 
	tfd_mask
;

85 
	#NFDBITS
 
__NFDBITS


	)

90 
	#FD_SET
(
fd
, 
fd£
è
	`__FD_SET
 (fd, fd£)

	)

91 
	#FD_CLR
(
fd
, 
fd£
è
	`__FD_CLR
 (fd, fd£)

	)

92 
	#FD_ISSET
(
fd
, 
fd£
è
	`__FD_ISSET
 (fd, fd£)

	)

93 
	#FD_ZERO
(
fd£
è
	`__FD_ZERO
 (fd£)

	)

96 
__BEGIN_DECLS


106 
£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

107 
fd_£t
 *
__»¡riù
 
__wr™efds
,

108 
fd_£t
 *
__»¡riù
 
__exû±fds
,

109 
timev®
 *
__»¡riù
 
__timeout
);

111 #ifdeà
__USE_XOPEN2K


118 
p£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

119 
fd_£t
 *
__»¡riù
 
__wr™efds
,

120 
fd_£t
 *
__»¡riù
 
__exû±fds
,

121 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
,

122 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__sigmask
);

127 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__GNUC__


128 
	~<b™s/£Ëù2.h
>

131 
	g__END_DECLS


	@/usr/include/sys/socket.h

19 #iâdef 
_SYS_SOCKET_H


20 
	#_SYS_SOCKET_H
 1

	)

22 
	~<ã©u»s.h
>

24 
	g__BEGIN_DECLS


26 
	~<sys/uio.h
>

27 
	#__Ãed_size_t


	)

28 
	~<¡ddef.h
>

29 #ifdeà
__USE_GNU


31 
	~<b™s/sig£t.h
>

38 
	~<b™s/sock‘.h
>

40 #ifdeà
__USE_BSD


43 
	sosockaddr


45 
	m§_çmy
;

46 
	m§_d©a
[14];

54 
	mSHUT_RD
 = 0,

55 
	#SHUT_RD
 
SHUT_RD


	)

56 
	mSHUT_WR
,

57 
	#SHUT_WR
 
SHUT_WR


	)

58 
	mSHUT_RDWR


59 
	#SHUT_RDWR
 
SHUT_RDWR


	)

68 #ià
defšed
 
__ılu¥lus
 || !
__GNUC_PREREQ
 (2, 7è|| !defšed 
__USE_GNU


69 
	#__SOCKADDR_ARG
 
sockaddr
 *
__»¡riù


	)

70 
	#__CONST_SOCKADDR_ARG
 cÚ¡ 
sockaddr
 *

	)

74 
	#__SOCKADDR_ALLTYPES
 \

75 
	`__SOCKADDR_ONETYPE
 (
sockaddr
) \

76 
	`__SOCKADDR_ONETYPE
 (
sockaddr_©
) \

77 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ax25
) \

78 
	`__SOCKADDR_ONETYPE
 (
sockaddr_dl
) \

79 
	`__SOCKADDR_ONETYPE
 (
sockaddr_eÚ
) \

80 
	`__SOCKADDR_ONETYPE
 (
sockaddr_š
) \

81 
	`__SOCKADDR_ONETYPE
 (
sockaddr_š6
) \

82 
	`__SOCKADDR_ONETYPE
 (
sockaddr_š¬p
) \

83 
	`__SOCKADDR_ONETYPE
 (
sockaddr_x
) \

84 
	`__SOCKADDR_ONETYPE
 (
sockaddr_iso
) \

85 
	`__SOCKADDR_ONETYPE
 (
sockaddr_ns
) \

86 
	`__SOCKADDR_ONETYPE
 (
sockaddr_un
) \

87 
	`__SOCKADDR_ONETYPE
 (
sockaddr_x25
)

	)

89 
	#__SOCKADDR_ONETYPE
(
ty³
èty³ *
__»¡riù
 
__
##ty³##__;

	)

90 uniÚ { 
	m__SOCKADDR_ALLTYPES


91 } 
	t__SOCKADDR_ARG
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

92 #undeà
__SOCKADDR_ONETYPE


93 
	#__SOCKADDR_ONETYPE
(
ty³
ècÚ¡ ty³ *
__»¡riù
 
__
##ty³##__;

	)

94 uniÚ { 
	m__SOCKADDR_ALLTYPES


95 } 
	t__CONST_SOCKADDR_ARG
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

96 #undeà
__SOCKADDR_ONETYPE


99 #ifdeà
__USE_GNU


101 
	smmsghdr


103 
msghdr
 
	mmsg_hdr
;

104 
	mmsg_Ën
;

113 
	$sock‘
 (
__domaš
, 
__ty³
, 
__´ÙocŞ
è
__THROW
;

119 
	$sock‘·œ
 (
__domaš
, 
__ty³
, 
__´ÙocŞ
,

120 
__fds
[2]è
__THROW
;

123 
	$bšd
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockËn_t
 
__Ën
)

124 
__THROW
;

127 
	$g‘sockÇme
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

128 
sockËn_t
 *
__»¡riù
 
__Ën
è
__THROW
;

137 
	`cÚÃù
 (
__fd
, 
__CONST_SOCKADDR_ARG
 
__addr
, 
sockËn_t
 
__Ën
);

141 
	$g‘³”Çme
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

142 
sockËn_t
 *
__»¡riù
 
__Ën
è
__THROW
;

149 
ssize_t
 
	`£nd
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
, 
__æags
);

156 
ssize_t
 
	`»cv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__æags
);

163 
ssize_t
 
	`£ndto
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

164 
__æags
, 
__CONST_SOCKADDR_ARG
 
__addr
,

165 
sockËn_t
 
__addr_Ën
);

174 
ssize_t
 
	`»cväom
 (
__fd
, *
__»¡riù
 
__buf
, 
size_t
 
__n
,

175 
__æags
, 
__SOCKADDR_ARG
 
__addr
,

176 
sockËn_t
 *
__»¡riù
 
__addr_Ën
);

184 
ssize_t
 
	`£ndmsg
 (
__fd
, cÚ¡ 
msghdr
 *
__mes§ge
,

185 
__æags
);

187 #ifdeà
__USE_GNU


193 
	`£ndmmsg
 (
__fd
, 
mmsghdr
 *
__vmes§ges
,

194 
__vËn
, 
__æags
);

202 
ssize_t
 
	`»cvmsg
 (
__fd
, 
msghdr
 *
__mes§ge
, 
__æags
);

204 #ifdeà
__USE_GNU


210 
	`»cvmmsg
 (
__fd
, 
mmsghdr
 *
__vmes§ges
,

211 
__vËn
, 
__æags
,

212 cÚ¡ 
time¥ec
 *
__tmo
);

219 
	$g‘sockİt
 (
__fd
, 
__Ëv–
, 
__İŠame
,

220 *
__»¡riù
 
__İtv®
,

221 
sockËn_t
 *
__»¡riù
 
__İ’
è
__THROW
;

226 
	$£tsockİt
 (
__fd
, 
__Ëv–
, 
__İŠame
,

227 cÚ¡ *
__İtv®
, 
sockËn_t
 
__İ’
è
__THROW
;

233 
	$li¡’
 (
__fd
, 
__n
è
__THROW
;

243 
	`acû±
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

244 
sockËn_t
 *
__»¡riù
 
__addr_Ën
);

246 #ifdeà
__USE_GNU


251 
	`acû±4
 (
__fd
, 
__SOCKADDR_ARG
 
__addr
,

252 
sockËn_t
 *
__»¡riù
 
__addr_Ën
, 
__æags
);

261 
	$shutdown
 (
__fd
, 
__how
è
__THROW
;

264 #ifdeà
__USE_XOPEN2K


266 
	$sock©m¬k
 (
__fd
è
__THROW
;

270 #ifdeà
__USE_MISC


274 
	$isfdty³
 (
__fd
, 
__fdty³
è
__THROW
;

279 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


280 
	~<b™s/sock‘2.h
>

283 
__END_DECLS


	@/usr/include/sys/stat.h

22 #iâdef 
_SYS_STAT_H


23 
	#_SYS_STAT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K
 || defšed 
__USE_MISC
 \

30 || 
defšed
 
	g__USE_ATFILE


31 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


32 
	#__Ãed_time_t


	)

34 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ATFILE


35 
	#__Ãed_time¥ec


	)

37 
	~<time.h
>

40 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


43 #iâdeà
__dev_t_defšed


44 
__dev_t
 
	tdev_t
;

45 
	#__dev_t_defšed


	)

48 #iâdeà
__gid_t_defšed


49 
__gid_t
 
	tgid_t
;

50 
	#__gid_t_defšed


	)

53 #iâdeà
__šo_t_defšed


54 #iâdeà
__USE_FILE_OFFSET64


55 
__šo_t
 
	tšo_t
;

57 
__šo64_t
 
	tšo_t
;

59 
	#__šo_t_defšed


	)

62 #iâdeà
__mode_t_defšed


63 
__mode_t
 
	tmode_t
;

64 
	#__mode_t_defšed


	)

67 #iâdeà
__Æšk_t_defšed


68 
__Æšk_t
 
	tÆšk_t
;

69 
	#__Æšk_t_defšed


	)

72 #iâdeà
__off_t_defšed


73 #iâdeà
__USE_FILE_OFFSET64


74 
__off_t
 
	toff_t
;

76 
__off64_t
 
	toff_t
;

78 
	#__off_t_defšed


	)

81 #iâdeà
__uid_t_defšed


82 
__uid_t
 
	tuid_t
;

83 
	#__uid_t_defšed


	)

87 #ifdeà
__USE_UNIX98


88 #iâdeà
__blkút_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__blkút_t
 
	tblkút_t
;

92 
__blkút64_t
 
	tblkút_t
;

94 
	#__blkút_t_defšed


	)

97 #iâdeà
__blksize_t_defšed


98 
__blksize_t
 
	tblksize_t
;

99 
	#__blksize_t_defšed


	)

103 
	g__BEGIN_DECLS


105 
	~<b™s/¡©.h
>

107 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


108 
	#S_IFMT
 
__S_IFMT


	)

109 
	#S_IFDIR
 
__S_IFDIR


	)

110 
	#S_IFCHR
 
__S_IFCHR


	)

111 
	#S_IFBLK
 
__S_IFBLK


	)

112 
	#S_IFREG
 
__S_IFREG


	)

113 #ifdeà
__S_IFIFO


114 
	#S_IFIFO
 
__S_IFIFO


	)

116 #ifdeà
__S_IFLNK


117 
	#S_IFLNK
 
__S_IFLNK


	)

119 #ià(
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_UNIX98
) \

120 && 
defšed
 
	g__S_IFSOCK


121 
	#S_IFSOCK
 
__S_IFSOCK


	)

127 
	#__S_ISTYPE
(
mode
, 
mask
è(((modeè& 
__S_IFMT
è=ğ(mask))

	)

129 
	#S_ISDIR
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFDIR
)

	)

130 
	#S_ISCHR
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFCHR
)

	)

131 
	#S_ISBLK
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFBLK
)

	)

132 
	#S_ISREG
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFREG
)

	)

133 #ifdeà
__S_IFIFO


134 
	#S_ISFIFO
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFIFO
)

	)

136 #ifdeà
__S_IFLNK


137 
	#S_ISLNK
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFLNK
)

	)

140 #ià
defšed
 
__USE_BSD
 && !defšed 
__S_IFLNK


141 
	#S_ISLNK
(
mode
è0

	)

144 #ià(
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K
) \

145 && 
defšed
 
	g__S_IFSOCK


146 
	#S_ISSOCK
(
mode
è
	`__S_ISTYPE
((mode), 
__S_IFSOCK
)

	)

147 #–ià
defšed
 
__USE_XOPEN2K


148 
	#S_ISSOCK
(
mode
è0

	)

155 #ifdef 
__USE_POSIX199309


156 
	#S_TYPEISMQ
(
buf
è
	`__S_TYPEISMQ
(buf)

	)

157 
	#S_TYPEISSEM
(
buf
è
	`__S_TYPEISSEM
(buf)

	)

158 
	#S_TYPEISSHM
(
buf
è
	`__S_TYPEISSHM
(buf)

	)

164 
	#S_ISUID
 
__S_ISUID


	)

165 
	#S_ISGID
 
__S_ISGID


	)

167 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


169 
	#S_ISVTX
 
__S_ISVTX


	)

172 
	#S_IRUSR
 
__S_IREAD


	)

173 
	#S_IWUSR
 
__S_IWRITE


	)

174 
	#S_IXUSR
 
__S_IEXEC


	)

176 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

178 #ià
defšed
 
__USE_MISC
 && defšed 
__USE_BSD


179 
	#S_IREAD
 
S_IRUSR


	)

180 
	#S_IWRITE
 
S_IWUSR


	)

181 
	#S_IEXEC
 
S_IXUSR


	)

184 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

185 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

186 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

188 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

190 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

191 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

192 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

194 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

197 #ifdef 
__USE_BSD


199 
	#ACCESSPERMS
 (
S_IRWXU
|
S_IRWXG
|
S_IRWXO
è

	)

200 
	#ALLPERMS
 (
S_ISUID
|
S_ISGID
|
S_ISVTX
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

201 
	#DEFFILEMODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
|
S_IROTH
|
S_IWOTH
)

	)

203 
	#S_BLKSIZE
 512

	)

207 #iâdeà
__USE_FILE_OFFSET64


209 
	$¡©
 (cÚ¡ *
__»¡riù
 
__fe
,

210 
¡©
 *
__»¡riù
 
__buf
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

214 
	$f¡©
 (
__fd
, 
¡©
 *
__buf
è
__THROW
 
	`__nÚnuÎ
 ((2));

216 #ifdeà
__REDIRECT_NTH


217 
	`__REDIRECT_NTH
 (
¡©
, (cÚ¡ *
__»¡riù
 
__fe
,

218 
¡©
 *
__»¡riù
 
__buf
), 
¡©64
)

219 
	`__nÚnuÎ
 ((1, 2));

220 
	`__REDIRECT_NTH
 (
f¡©
, (
__fd
, 
¡©
 *
__buf
), 
f¡©64
)

221 
	`__nÚnuÎ
 ((2));

223 
	#¡©
 
¡©64


	)

224 
	#f¡©
 
f¡©64


	)

227 #ifdeà
__USE_LARGEFILE64


228 
	$¡©64
 (cÚ¡ *
__»¡riù
 
__fe
,

229 
¡©64
 *
__»¡riù
 
__buf
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

230 
	$f¡©64
 (
__fd
, 
¡©64
 *
__buf
è
__THROW
 
	`__nÚnuÎ
 ((2));

233 #ifdeà
__USE_ATFILE


237 #iâdeà
__USE_FILE_OFFSET64


238 
	$f¡©©
 (
__fd
, cÚ¡ *
__»¡riù
 
__fe
,

239 
¡©
 *
__»¡riù
 
__buf
, 
__æag
)

240 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

242 #ifdeà
__REDIRECT_NTH


243 
	`__REDIRECT_NTH
 (
f¡©©
, (
__fd
, cÚ¡ *
__»¡riù
 
__fe
,

244 
¡©
 *
__»¡riù
 
__buf
,

245 
__æag
),

246 
f¡©©64
è
	`__nÚnuÎ
 ((2, 3));

248 
	#f¡©©
 
f¡©©64


	)

252 #ifdeà
__USE_LARGEFILE64


253 
	$f¡©©64
 (
__fd
, cÚ¡ *
__»¡riù
 
__fe
,

254 
¡©64
 *
__»¡riù
 
__buf
, 
__æag
)

255 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

259 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


260 #iâdeà
__USE_FILE_OFFSET64


263 
	$l¡©
 (cÚ¡ *
__»¡riù
 
__fe
,

264 
¡©
 *
__»¡riù
 
__buf
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

266 #ifdeà
__REDIRECT_NTH


267 
	`__REDIRECT_NTH
 (
l¡©
,

268 (cÚ¡ *
__»¡riù
 
__fe
,

269 
¡©
 *
__»¡riù
 
__buf
), 
l¡©64
)

270 
	`__nÚnuÎ
 ((1, 2));

272 
	#l¡©
 
l¡©64


	)

275 #ifdeà
__USE_LARGEFILE64


276 
	$l¡©64
 (cÚ¡ *
__»¡riù
 
__fe
,

277 
¡©64
 *
__»¡riù
 
__buf
)

278 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

284 
	$chmod
 (cÚ¡ *
__fe
, 
__mode_t
 
__mode
)

285 
__THROW
 
	`__nÚnuÎ
 ((1));

287 #ifdeà
__USE_BSD


291 
	$lchmod
 (cÚ¡ *
__fe
, 
__mode_t
 
__mode
)

292 
__THROW
 
	`__nÚnuÎ
 ((1));

296 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_POSIX


297 
	$fchmod
 (
__fd
, 
__mode_t
 
__mode
è
__THROW
;

300 #ifdeà
__USE_ATFILE


303 
	$fchmod©
 (
__fd
, cÚ¡ *
__fe
, 
__mode_t
 
__mode
,

304 
__æag
)

305 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

312 
__mode_t
 
	$umask
 (
__mode_t
 
__mask
è
__THROW
;

314 #ifdef 
__USE_GNU


317 
__mode_t
 
	$g‘umask
 (è
__THROW
;

321 
	$mkdœ
 (cÚ¡ *
__·th
, 
__mode_t
 
__mode
)

322 
__THROW
 
	`__nÚnuÎ
 ((1));

324 #ifdeà
__USE_ATFILE


328 
	$mkdœ©
 (
__fd
, cÚ¡ *
__·th
, 
__mode_t
 
__mode
)

329 
__THROW
 
	`__nÚnuÎ
 ((2));

335 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


336 
	$mknod
 (cÚ¡ *
__·th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
)

337 
__THROW
 
	`__nÚnuÎ
 ((1));

339 #ifdeà
__USE_ATFILE


343 
	$mknod©
 (
__fd
, cÚ¡ *
__·th
, 
__mode_t
 
__mode
,

344 
__dev_t
 
__dev
è
__THROW
 
	`__nÚnuÎ
 ((2));

350 
	$mkfifo
 (cÚ¡ *
__·th
, 
__mode_t
 
__mode
)

351 
__THROW
 
	`__nÚnuÎ
 ((1));

353 #ifdeà
__USE_ATFILE


357 
	$mkfifßt
 (
__fd
, cÚ¡ *
__·th
, 
__mode_t
 
__mode
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

361 #ifdeà
__USE_ATFILE


364 
	$utim’§t
 (
__fd
, cÚ¡ *
__·th
,

365 cÚ¡ 
time¥ec
 
__times
[2],

366 
__æags
)

367 
__THROW
 
	`__nÚnuÎ
 ((2));

370 #ifdeà
__USE_XOPEN2K8


372 
	$futim’s
 (
__fd
, cÚ¡ 
time¥ec
 
__times
[2]è
__THROW
;

390 #iâdeà
_STAT_VER


391 
	#_STAT_VER
 0

	)

393 #iâdeà
_MKNOD_VER


394 
	#_MKNOD_VER
 0

	)

398 #iâdeà
__USE_FILE_OFFSET64


399 
	$__fx¡©
 (
__v”
, 
__fdes
, 
¡©
 *
__¡©_buf
)

400 
__THROW
 
	`__nÚnuÎ
 ((3));

401 
	$__x¡©
 (
__v”
, cÚ¡ *
__f’ame
,

402 
¡©
 *
__¡©_buf
è
__THROW
 
	`__nÚnuÎ
 ((2, 3));

403 
	$__lx¡©
 (
__v”
, cÚ¡ *
__f’ame
,

404 
¡©
 *
__¡©_buf
è
__THROW
 
	`__nÚnuÎ
 ((2, 3));

405 
	$__fx¡©©
 (
__v”
, 
__fdes
, cÚ¡ *
__f’ame
,

406 
¡©
 *
__¡©_buf
, 
__æag
)

407 
__THROW
 
	`__nÚnuÎ
 ((3, 4));

409 #ifdeà
__REDIRECT_NTH


410 
	`__REDIRECT_NTH
 (
__fx¡©
, (
__v”
, 
__fdes
,

411 
¡©
 *
__¡©_buf
), 
__fx¡©64
)

412 
	`__nÚnuÎ
 ((3));

413 
	`__REDIRECT_NTH
 (
__x¡©
, (
__v”
, cÚ¡ *
__f’ame
,

414 
¡©
 *
__¡©_buf
), 
__x¡©64
)

415 
	`__nÚnuÎ
 ((2, 3));

416 
	`__REDIRECT_NTH
 (
__lx¡©
, (
__v”
, cÚ¡ *
__f’ame
,

417 
¡©
 *
__¡©_buf
), 
__lx¡©64
)

418 
	`__nÚnuÎ
 ((2, 3));

419 
	`__REDIRECT_NTH
 (
__fx¡©©
, (
__v”
, 
__fdes
,

420 cÚ¡ *
__f’ame
,

421 
¡©
 *
__¡©_buf
, 
__æag
),

422 
__fx¡©©64
è
	`__nÚnuÎ
 ((3, 4));

425 
	#__fx¡©
 
__fx¡©64


	)

426 
	#__x¡©
 
__x¡©64


	)

427 
	#__lx¡©
 
__lx¡©64


	)

431 #ifdeà
__USE_LARGEFILE64


432 
	$__fx¡©64
 (
__v”
, 
__fdes
, 
¡©64
 *
__¡©_buf
)

433 
__THROW
 
	`__nÚnuÎ
 ((3));

434 
	$__x¡©64
 (
__v”
, cÚ¡ *
__f’ame
,

435 
¡©64
 *
__¡©_buf
è
__THROW
 
	`__nÚnuÎ
 ((2, 3));

436 
	$__lx¡©64
 (
__v”
, cÚ¡ *
__f’ame
,

437 
¡©64
 *
__¡©_buf
è
__THROW
 
	`__nÚnuÎ
 ((2, 3));

438 
	$__fx¡©©64
 (
__v”
, 
__fdes
, cÚ¡ *
__f’ame
,

439 
¡©64
 *
__¡©_buf
, 
__æag
)

440 
__THROW
 
	`__nÚnuÎ
 ((3, 4));

442 
	$__xmknod
 (
__v”
, cÚ¡ *
__·th
, 
__mode_t
 
__mode
,

443 
__dev_t
 *
__dev
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$__xmknod©
 (
__v”
, 
__fd
, cÚ¡ *
__·th
,

446 
__mode_t
 
__mode
, 
__dev_t
 *
__dev
)

447 
__THROW
 
	`__nÚnuÎ
 ((3, 5));

449 #ifdeà
__USE_EXTERN_INLINES


452 
__ex‹º_šlše
 

453 
	`__NTH
 (
	$¡©
 (cÚ¡ *
__·th
, 
¡©
 *
__¡©buf
))

455  
	`__x¡©
 (
_STAT_VER
, 
__·th
, 
__¡©buf
);

456 
	}
}

458 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


459 
__ex‹º_šlše
 

460 
__NTH
 (
	$l¡©
 (cÚ¡ *
__·th
, 
¡©
 *
__¡©buf
))

462  
	`__lx¡©
 (
_STAT_VER
, 
__·th
, 
__¡©buf
);

463 
	}
}

466 
__ex‹º_šlše
 

467 
__NTH
 (
	$f¡©
 (
__fd
, 
¡©
 *
__¡©buf
))

469  
	`__fx¡©
 (
_STAT_VER
, 
__fd
, 
__¡©buf
);

470 
	}
}

472 #ifdeà
__USE_ATFILE


473 
__ex‹º_šlše
 

474 
__NTH
 (
	$f¡©©
 (
__fd
, cÚ¡ *
__f’ame
, 
¡©
 *
__¡©buf
,

475 
__æag
))

477  
	`__fx¡©©
 (
_STAT_VER
, 
__fd
, 
__f’ame
, 
__¡©buf
, 
__æag
);

478 
	}
}

481 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_BSD


482 
__ex‹º_šlše
 

483 
__NTH
 (
	$mknod
 (cÚ¡ *
__·th
, 
__mode_t
 
__mode
, 
__dev_t
 
__dev
))

485  
	`__xmknod
 (
_MKNOD_VER
, 
__·th
, 
__mode
, &
__dev
);

486 
	}
}

489 #ifdeà
__USE_ATFILE


490 
__ex‹º_šlše
 

491 
__NTH
 (
	$mknod©
 (
__fd
, cÚ¡ *
__·th
, 
__mode_t
 
__mode
,

492 
__dev_t
 
__dev
))

494  
	`__xmknod©
 (
_MKNOD_VER
, 
__fd
, 
__·th
, 
__mode
, &
__dev
);

495 
	}
}

498 #ià
defšed
 
__USE_LARGEFILE64
 \

499 && (! 
defšed
 
	g__USE_FILE_OFFSET64
 \

500 || (
defšed
 
	g__REDIRECT_NTH
 && defšed 
	g__OPTIMIZE__
))

501 
__ex‹º_šlše
 

502 
__NTH
 (
	$¡©64
 (cÚ¡ *
__·th
, 
¡©64
 *
__¡©buf
))

504  
	`__x¡©64
 (
_STAT_VER
, 
__·th
, 
__¡©buf
);

505 
	}
}

507 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


508 
__ex‹º_šlše
 

509 
__NTH
 (
	$l¡©64
 (cÚ¡ *
__·th
, 
¡©64
 *
__¡©buf
))

511  
	`__lx¡©64
 (
_STAT_VER
, 
__·th
, 
__¡©buf
);

512 
	}
}

515 
__ex‹º_šlše
 

516 
__NTH
 (
	$f¡©64
 (
__fd
, 
¡©64
 *
__¡©buf
))

518  
	`__fx¡©64
 (
_STAT_VER
, 
__fd
, 
__¡©buf
);

519 
	}
}

521 #ifdeà
__USE_ATFILE


522 
__ex‹º_šlše
 

523 
__NTH
 (
	$f¡©©64
 (
__fd
, cÚ¡ *
__f’ame
, 
¡©64
 *
__¡©buf
,

524 
__æag
))

526  
	`__fx¡©©64
 (
_STAT_VER
, 
__fd
, 
__f’ame
, 
__¡©buf
, 
__æag
);

527 
	}
}

534 
	g__END_DECLS


	@/usr/include/sys/statfs.h

19 #iâdef 
_SYS_STATFS_H


20 
	#_SYS_STATFS_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/¡©fs.h
>

27 
	g__BEGIN_DECLS


30 #iâdeà
__USE_FILE_OFFSET64


31 
	$¡©fs
 (cÚ¡ *
__fe
, 
¡©fs
 *
__buf
)

32 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

34 #ifdeà
__REDIRECT_NTH


35 
	`__REDIRECT_NTH
 (
¡©fs
,

36 (cÚ¡ *
__fe
, 
¡©fs
 *
__buf
),

37 
¡©fs64
è
	`__nÚnuÎ
 ((1, 2));

39 
	#¡©fs
 
¡©fs64


	)

42 #ifdeà
__USE_LARGEFILE64


43 
	$¡©fs64
 (cÚ¡ *
__fe
, 
¡©fs64
 *
__buf
)

44 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

49 #iâdeà
__USE_FILE_OFFSET64


50 
	$f¡©fs
 (
__fdes
, 
¡©fs
 *
__buf
)

51 
__THROW
 
	`__nÚnuÎ
 ((2));

53 #ifdeà
__REDIRECT_NTH


54 
	`__REDIRECT_NTH
 (
f¡©fs
, (
__fdes
, 
¡©fs
 *
__buf
),

55 
f¡©fs64
è
	`__nÚnuÎ
 ((2));

57 
	#f¡©fs
 
f¡©fs64


	)

60 #ifdeà
__USE_LARGEFILE64


61 
	$f¡©fs64
 (
__fdes
, 
¡©fs64
 *
__buf
)

62 
__THROW
 
	`__nÚnuÎ
 ((2));

65 
__END_DECLS


	@/usr/include/sys/statvfs.h

19 #iâdef 
_SYS_STATVFS_H


20 
	#_SYS_STATVFS_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/¡©vfs.h
>

27 #iâdeà
__USE_FILE_OFFSET64


28 #iâdeà
__fsblkút_t_defšed


29 
__fsblkút_t
 
	tfsblkút_t
;

30 
	#__fsblkút_t_defšed


	)

32 #iâdeà
__fsfút_t_defšed


33 
__fsfút_t
 
	tfsfút_t
;

34 
	#__fsfút_t_defšed


	)

37 #iâdeà
__fsblkút_t_defšed


38 
__fsblkút64_t
 
	tfsblkút_t
;

39 
	#__fsblkút_t_defšed


	)

41 #iâdeà
__fsfút_t_defšed


42 
__fsfút64_t
 
	tfsfút_t
;

43 
	#__fsfút_t_defšed


	)

47 
	g__BEGIN_DECLS


50 #iâdeà
__USE_FILE_OFFSET64


51 
	$¡©vfs
 (cÚ¡ *
__»¡riù
 
__fe
,

52 
¡©vfs
 *
__»¡riù
 
__buf
)

53 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

55 #ifdeà
__REDIRECT_NTH


56 
	`__REDIRECT_NTH
 (
¡©vfs
,

57 (cÚ¡ *
__»¡riù
 
__fe
,

58 
¡©vfs
 *
__»¡riù
 
__buf
), 
¡©vfs64
)

59 
	`__nÚnuÎ
 ((1, 2));

61 
	#¡©vfs
 
¡©vfs64


	)

64 #ifdeà
__USE_LARGEFILE64


65 
	$¡©vfs64
 (cÚ¡ *
__»¡riù
 
__fe
,

66 
¡©vfs64
 *
__»¡riù
 
__buf
)

67 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

72 #iâdeà
__USE_FILE_OFFSET64


73 
	$f¡©vfs
 (
__fdes
, 
¡©vfs
 *
__buf
)

74 
__THROW
 
	`__nÚnuÎ
 ((2));

76 #ifdeà
__REDIRECT_NTH


77 
	`__REDIRECT_NTH
 (
f¡©vfs
, (
__fdes
, 
¡©vfs
 *
__buf
),

78 
f¡©vfs64
è
	`__nÚnuÎ
 ((2));

80 
	#f¡©vfs
 
f¡©vfs64


	)

83 #ifdeà
__USE_LARGEFILE64


84 
	$f¡©vfs64
 (
__fdes
, 
¡©vfs64
 *
__buf
)

85 
__THROW
 
	`__nÚnuÎ
 ((2));

88 
__END_DECLS


	@/usr/include/sys/sysinfo.h

18 #iâdeà
_SYS_SYSINFO_H


19 
	#_SYS_SYSINFO_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	~<lšux/k”Ãl.h
>

26 
__BEGIN_DECLS


29 
	$sysšfo
 (
sysšfo
 *
__šfo
è
__THROW
;

33 
	$g‘_Årocs_cÚf
 (è
__THROW
;

36 
	$g‘_Årocs
 (è
__THROW
;

40 
	$g‘_phys_·ges
 (è
__THROW
;

43 
	$g‘_avphys_·ges
 (è
__THROW
;

45 
__END_DECLS


	@/usr/include/sys/time.h

18 #iâdeà
_SYS_TIME_H


19 
	#_SYS_TIME_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	~<b™s/ty³s.h
>

24 
	#__Ãed_time_t


	)

25 
	~<time.h
>

26 
	#__Ãed_timev®


	)

27 
	~<b™s/time.h
>

29 
	~<sys/£Ëù.h
>

31 #iâdeà
__su£cÚds_t_defšed


32 
__su£cÚds_t
 
	tsu£cÚds_t
;

33 
	#__su£cÚds_t_defšed


	)

37 
	g__BEGIN_DECLS


39 #ifdeà
__USE_GNU


41 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) { \

42 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

43 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

44 }

	)

45 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) { \

46 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

47 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

48 }

	)

52 #ifdeà
__USE_BSD


55 
	stimezÚe


57 
	mtz_mšu‹swe¡
;

58 
	mtz_d¡time
;

61 
timezÚe
 *
	t__»¡riù
 
	t__timezÚe_±r_t
;

63 *
	t__»¡riù
 
	t__timezÚe_±r_t
;

71 
	$g‘timeofday
 (
timev®
 *
__»¡riù
 
__tv
,

72 
__timezÚe_±r_t
 
__tz
è
__THROW
 
	`__nÚnuÎ
 ((1));

74 #ifdeà
__USE_BSD


77 
	$£‰imeofday
 (cÚ¡ 
timev®
 *
__tv
,

78 cÚ¡ 
timezÚe
 *
__tz
)

79 
__THROW
;

85 
	$adjtime
 (cÚ¡ 
timev®
 *
__d–
,

86 
timev®
 *
__Şdd–
è
__THROW
;

91 
	e__™im”_which


94 
ITIMER_REAL
 = 0,

95 
	#ITIMER_REAL
 
ITIMER_REAL


	)

97 
ITIMER_VIRTUAL
 = 1,

98 
	#ITIMER_VIRTUAL
 
ITIMER_VIRTUAL


	)

101 
ITIMER_PROF
 = 2

102 
	#ITIMER_PROF
 
ITIMER_PROF


	)

107 
	s™im”v®


110 
timev®
 
™_š‹rv®
;

112 
timev®
 
™_v®ue
;

115 #ià
defšed
 
__USE_GNU
 && !defšed 
__ılu¥lus


118 
__™im”_which
 
	t__™im”_which_t
;

120 
	t__™im”_which_t
;

125 
	$g‘™im”
 (
__™im”_which_t
 
__which
,

126 
™im”v®
 *
__v®ue
è
__THROW
;

131 
	$£t™im”
 (
__™im”_which_t
 
__which
,

132 cÚ¡ 
™im”v®
 *
__»¡riù
 
__Ãw
,

133 
™im”v®
 *
__»¡riù
 
__Şd
è
__THROW
;

138 
	$utimes
 (cÚ¡ *
__fe
, cÚ¡ 
timev®
 
__tvp
[2])

139 
__THROW
 
	`__nÚnuÎ
 ((1));

141 #ifdeà
__USE_BSD


143 
	$lutimes
 (cÚ¡ *
__fe
, cÚ¡ 
timev®
 
__tvp
[2])

144 
__THROW
 
	`__nÚnuÎ
 ((1));

147 
	$futimes
 (
__fd
, cÚ¡ 
timev®
 
__tvp
[2]è
__THROW
;

150 #ifdeà
__USE_GNU


154 
	$futime§t
 (
__fd
, cÚ¡ *
__fe
,

155 cÚ¡ 
timev®
 
__tvp
[2]è
__THROW
;

159 #ifdeà
__USE_BSD


162 
	#tim”is£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

163 
	#tim”ş—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

164 
	#tim”cmp
(
a
, 
b
, 
CMP
) \

165 (((
a
)->
tv_£c
 =ğ(
b
)->tv_sec) ? \

166 ((
a
)->
tv_u£c
 
	`CMP
 (
b
)->tv_usec) : \

167 ((
a
)->
tv_£c
 
	`CMP
 (
b
)->tv_£c))

	)

168 
	#tim”add
(
a
, 
b
, 
»suÉ
) \

170 (
»suÉ
)->
tv_£c
 = (
a
)->tv_£ø+ (
b
)->tv_sec; \

171 (
»suÉ
)->
tv_u£c
 = (
a
)->tv_u£ø+ (
b
)->tv_usec; \

172 ià((
»suÉ
)->
tv_u£c
 >= 1000000) \

174 ++(
»suÉ
)->
tv_£c
; \

175 (
»suÉ
)->
tv_u£c
 -= 1000000; \

177 
	}
} 0)

	)

178 
	#tim”sub
(
a
, 
b
, 
»suÉ
) \

180 (
»suÉ
)->
tv_£c
 = (
a
)->tv_£ø- (
b
)->tv_sec; \

181 (
»suÉ
)->
tv_u£c
 = (
a
)->tv_u£ø- (
b
)->tv_usec; \

182 ià((
»suÉ
)->
tv_u£c
 < 0) { \

183 --(
»suÉ
)->
tv_£c
; \

184 (
»suÉ
)->
tv_u£c
 += 1000000; \

186 } 0)

	)

189 
	g__END_DECLS


	@/usr/include/sys/times.h

22 #iâdef 
_SYS_TIMES_H


23 
	#_SYS_TIMES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_şock_t


	)

28 
	~<time.h
>

31 
__BEGIN_DECLS


34 
	stms


36 
şock_t
 
	mtms_utime
;

37 
şock_t
 
	mtms_¡ime
;

39 
şock_t
 
	mtms_cutime
;

40 
şock_t
 
	mtms_c¡ime
;

48 
şock_t
 
	$times
 (
tms
 *
__bufãr
è
__THROW
;

50 
__END_DECLS


	@/usr/include/sys/types.h

22 #iâdef 
_SYS_TYPES_H


23 
	#_SYS_TYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdef 
__USE_BSD


32 #iâdeà
__u_ch¬_defšed


33 
__u_ch¬
 
	tu_ch¬
;

34 
__u_shÜt
 
	tu_shÜt
;

35 
__u_št
 
	tu_št
;

36 
__u_lÚg
 
	tu_lÚg
;

37 
__quad_t
 
	tquad_t
;

38 
__u_quad_t
 
	tu_quad_t
;

39 
__fsid_t
 
	tfsid_t
;

40 
	#__u_ch¬_defšed


	)

44 
__loff_t
 
	tloff_t
;

46 #iâdeà
__šo_t_defšed


47 #iâdeà
__USE_FILE_OFFSET64


48 
__šo_t
 
	tšo_t
;

50 
__šo64_t
 
	tšo_t
;

52 
	#__šo_t_defšed


	)

54 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


55 
__šo64_t
 
	tšo64_t
;

56 
	#__šo64_t_defšed


	)

59 #iâdeà
__dev_t_defšed


60 
__dev_t
 
	tdev_t
;

61 
	#__dev_t_defšed


	)

64 #iâdeà
__gid_t_defšed


65 
__gid_t
 
	tgid_t
;

66 
	#__gid_t_defšed


	)

69 #iâdeà
__mode_t_defšed


70 
__mode_t
 
	tmode_t
;

71 
	#__mode_t_defšed


	)

74 #iâdeà
__Æšk_t_defšed


75 
__Æšk_t
 
	tÆšk_t
;

76 
	#__Æšk_t_defšed


	)

79 #iâdeà
__uid_t_defšed


80 
__uid_t
 
	tuid_t
;

81 
	#__uid_t_defšed


	)

84 #iâdeà
__off_t_defšed


85 #iâdeà
__USE_FILE_OFFSET64


86 
__off_t
 
	toff_t
;

88 
__off64_t
 
	toff_t
;

90 
	#__off_t_defšed


	)

92 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


93 
__off64_t
 
	toff64_t
;

94 
	#__off64_t_defšed


	)

97 #iâdeà
__pid_t_defšed


98 
__pid_t
 
	tpid_t
;

99 
	#__pid_t_defšed


	)

102 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
) \

103 && !
defšed
 
__id_t_defšed


104 
__id_t
 
	tid_t
;

105 
	#__id_t_defšed


	)

108 #iâdeà
__ssize_t_defšed


109 
__ssize_t
 
	tssize_t
;

110 
	#__ssize_t_defšed


	)

113 #ifdef 
__USE_BSD


114 #iâdeà
__daddr_t_defšed


115 
__daddr_t
 
	tdaddr_t
;

116 
__ÿddr_t
 
	tÿddr_t
;

117 
	#__daddr_t_defšed


	)

121 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
è&& !defšed 
__key_t_defšed


122 
__key_t
 
	tkey_t
;

123 
	#__key_t_defšed


	)

126 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


127 
	#__Ãed_şock_t


	)

129 
	#__Ãed_time_t


	)

130 
	#__Ãed_tim”_t


	)

131 
	#__Ãed_şockid_t


	)

132 
	~<time.h
>

134 #ifdeà
__USE_XOPEN


135 #iâdeà
__u£cÚds_t_defšed


136 
__u£cÚds_t
 
	tu£cÚds_t
;

137 
	#__u£cÚds_t_defšed


	)

139 #iâdeà
__su£cÚds_t_defšed


140 
__su£cÚds_t
 
	tsu£cÚds_t
;

141 
	#__su£cÚds_t_defšed


	)

145 
	#__Ãed_size_t


	)

146 
	~<¡ddef.h
>

148 #ifdeà
__USE_MISC


150 
	tulÚg
;

151 
	tushÜt
;

152 
	tušt
;

157 #ià!
__GNUC_PREREQ
 (2, 7)

160 #iâdeà
__št8_t_defšed


161 
	#__št8_t_defšed


	)

162 
	tšt8_t
;

163 
	tšt16_t
;

164 
	tšt32_t
;

165 #ià
__WORDSIZE
 == 64

166 
	tšt64_t
;

168 
__ex‹nsiÚ__
 
	tšt64_t
;

173 
	tu_št8_t
;

174 
	tu_št16_t
;

175 
	tu_št32_t
;

176 #ià
__WORDSIZE
 == 64

177 
	tu_št64_t
;

179 
__ex‹nsiÚ__
 
	tu_št64_t
;

182 
	t»gi¡”_t
;

187 
	#__štN_t
(
N
, 
MODE
) \

188 ##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

189 
	t__u_štN_t
(
	tN
, 
	tMODE
) \

190 
	tu_št
##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

192 #iâdeà
	t__št8_t_defšed


193 
	t__št8_t_defšed


	)

194 
	t__štN_t
 (8, 
	t__QI__
);

195 
__štN_t
 (16, 
__HI__
);

196 
__štN_t
 (32, 
__SI__
);

197 
__štN_t
 (64, 
__DI__
);

200 
__u_štN_t
 (8, 
__QI__
);

201 
__u_štN_t
 (16, 
__HI__
);

202 
__u_štN_t
 (32, 
__SI__
);

203 
__u_štN_t
 (64, 
__DI__
);

205 
	t»gi¡”_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__wÜd__
)));

211 
	#__BIT_TYPES_DEFINED__
 1

	)

214 #ifdef 
__USE_BSD


216 
	~<’dŸn.h
>

219 
	~<sys/£Ëù.h
>

222 
	~<sys/sysmaüos.h
>

226 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
) \

227 && !
defšed
 
__blksize_t_defšed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_defšed


	)

233 #iâdeà
__USE_FILE_OFFSET64


234 #iâdeà
__blkút_t_defšed


235 
__blkút_t
 
	tblkút_t
;

236 
	#__blkút_t_defšed


	)

238 #iâdeà
__fsblkút_t_defšed


239 
__fsblkút_t
 
	tfsblkút_t
;

240 
	#__fsblkút_t_defšed


	)

242 #iâdeà
__fsfút_t_defšed


243 
__fsfút_t
 
	tfsfút_t
;

244 
	#__fsfút_t_defšed


	)

247 #iâdeà
__blkút_t_defšed


248 
__blkút64_t
 
	tblkút_t
;

249 
	#__blkút_t_defšed


	)

251 #iâdeà
__fsblkút_t_defšed


252 
__fsblkút64_t
 
	tfsblkút_t
;

253 
	#__fsblkút_t_defšed


	)

255 #iâdeà
__fsfút_t_defšed


256 
__fsfút64_t
 
	tfsfút_t
;

257 
	#__fsfút_t_defšed


	)

261 #ifdeà
__USE_LARGEFILE64


262 
__blkút64_t
 
	tblkút64_t
;

263 
__fsblkút64_t
 
	tfsblkút64_t
;

264 
__fsfút64_t
 
	tfsfút64_t
;

269 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


270 
	~<b™s/±h»adty³s.h
>

273 
	g__END_DECLS


	@/usr/include/sys/uio.h

18 #iâdeà
_SYS_UIO_H


19 
	#_SYS_UIO_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	~<sys/ty³s.h
>

25 
	g__BEGIN_DECLS


28 
	~<b™s/uio.h
>

39 
ssize_t
 
	$»adv
 (
__fd
, cÚ¡ 
iovec
 *
__iovec
, 
__couÁ
)

40 
__wur
;

50 
ssize_t
 
	$wr™ev
 (
__fd
, cÚ¡ 
iovec
 *
__iovec
, 
__couÁ
)

51 
__wur
;

54 #ifdeà
__USE_BSD


55 #iâdeà
__USE_FILE_OFFSET64


65 
ssize_t
 
	$´—dv
 (
__fd
, cÚ¡ 
iovec
 *
__iovec
, 
__couÁ
,

66 
__off_t
 
__off£t
è
__wur
;

77 
ssize_t
 
	$pwr™ev
 (
__fd
, cÚ¡ 
iovec
 *
__iovec
, 
__couÁ
,

78 
__off_t
 
__off£t
è
__wur
;

80 #ifdeà
__REDIRECT


81 
ssize_t
 
	`__REDIRECT
 (
´—dv
, (
__fd
, cÚ¡ 
iovec
 *
__iovec
,

82 
__couÁ
, 
__off64_t
 
__off£t
),

83 
´—dv64
è
__wur
;

84 
ssize_t
 
	`__REDIRECT
 (
pwr™ev
, (
__fd
, cÚ¡ 
iovec
 *
__iovec
,

85 
__couÁ
, 
__off64_t
 
__off£t
),

86 
pwr™ev64
è
__wur
;

88 
	#´—dv
 
´—dv64


	)

89 
	#pwr™ev
 
pwr™ev64


	)

93 #ifdeà
__USE_LARGEFILE64


103 
ssize_t
 
	$´—dv64
 (
__fd
, cÚ¡ 
iovec
 *
__iovec
, 
__couÁ
,

104 
__off64_t
 
__off£t
è
__wur
;

115 
ssize_t
 
	$pwr™ev64
 (
__fd
, cÚ¡ 
iovec
 *
__iovec
, 
__couÁ
,

116 
__off64_t
 
__off£t
è
__wur
;

120 
__END_DECLS


	@/usr/include/sys/unistd.h

1 
	~<uni¡d.h
>

	@/usr/include/sys/utsname.h

22 #iâdef 
_SYS_UTSNAME_H


23 
	#_SYS_UTSNAME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ut¢ame.h
>

31 #iâdeà
_UTSNAME_SYSNAME_LENGTH


32 
	#_UTSNAME_SYSNAME_LENGTH
 
_UTSNAME_LENGTH


	)

34 #iâdeà
_UTSNAME_NODENAME_LENGTH


35 
	#_UTSNAME_NODENAME_LENGTH
 
_UTSNAME_LENGTH


	)

37 #iâdeà
_UTSNAME_RELEASE_LENGTH


38 
	#_UTSNAME_RELEASE_LENGTH
 
_UTSNAME_LENGTH


	)

40 #iâdeà
_UTSNAME_VERSION_LENGTH


41 
	#_UTSNAME_VERSION_LENGTH
 
_UTSNAME_LENGTH


	)

43 #iâdeà
_UTSNAME_MACHINE_LENGTH


44 
	#_UTSNAME_MACHINE_LENGTH
 
_UTSNAME_LENGTH


	)

48 
	sut¢ame


51 
	msy¢ame
[
_UTSNAME_SYSNAME_LENGTH
];

54 
	mnod’ame
[
_UTSNAME_NODENAME_LENGTH
];

57 
	m»Ëa£
[
_UTSNAME_RELEASE_LENGTH
];

59 
	mv”siÚ
[
_UTSNAME_VERSION_LENGTH
];

62 
	mmachše
[
_UTSNAME_MACHINE_LENGTH
];

64 #ià
_UTSNAME_DOMAIN_LENGTH
 - 0

66 #ifdeà
__USE_GNU


67 
	mdomašÇme
[
_UTSNAME_DOMAIN_LENGTH
];

69 
	m__domašÇme
[
_UTSNAME_DOMAIN_LENGTH
];

74 #ifdeà
__USE_SVID


76 
	#SYS_NMLN
 
_UTSNAME_LENGTH


	)

81 
	$uÇme
 (
ut¢ame
 *
__Çme
è
__THROW
;

84 
__END_DECLS


	@/usr/include/sys/vfs.h

4 
	~<sys/¡©fs.h
>

	@/usr/include/termio.h

5 
	~<‹rmios.h
>

6 
	~<sys/ioùl.h
>

	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_SVID


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

71 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

75 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

79 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

83 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

86 #ifdeà
__USE_XOPEN2K8


87 
	#_XOPEN_VERSION
 700

	)

88 #–ià
defšed
 
__USE_XOPEN2K


89 
	#_XOPEN_VERSION
 600

	)

90 #–ià
defšed
 
__USE_UNIX98


91 
	#_XOPEN_VERSION
 500

	)

93 
	#_XOPEN_VERSION
 4

	)

97 
	#_XOPEN_XCU_VERSION
 4

	)

100 
	#_XOPEN_XPG2
 1

	)

101 
	#_XOPEN_XPG3
 1

	)

102 
	#_XOPEN_XPG4
 1

	)

105 
	#_XOPEN_UNIX
 1

	)

108 
	#_XOPEN_CRYPT
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<b™s/posix_İt.h
>

205 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


206 
	~<b™s/’vœÚm’ts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<b™s/ty³s.h
>

219 #iâdef 
__ssize_t_defšed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_defšed


	)

224 
	#__Ãed_size_t


	)

225 
	#__Ãed_NULL


	)

226 
	~<¡ddef.h
>

228 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


231 #iâdeà
__gid_t_defšed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_defšed


	)

236 #iâdeà
__uid_t_defšed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_defšed


	)

241 #iâdeà
__off_t_defšed


242 #iâdeà
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_defšed


	)

249 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_defšed


	)

254 #iâdeà
__u£cÚds_t_defšed


255 
__u£cÚds_t
 
	tu£cÚds_t
;

256 
	#__u£cÚds_t_defšed


	)

259 #iâdeà
__pid_t_defšed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_defšed


	)

265 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


266 #iâdeà
__šŒ_t_defšed


267 
__šŒ_t
 
	tšŒ_t
;

268 
	#__šŒ_t_defšed


	)

272 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


273 #iâdeà
__sockËn_t_defšed


274 
__sockËn_t
 
	tsockËn_t
;

275 
	#__sockËn_t_defšed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 #ifdeà
__USE_GNU


292 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

297 
__THROW
 
	`__nÚnuÎ
 ((1));

300 #ifdeà
__USE_ATFILE


304 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

305 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

310 #iâdef 
_STDIO_H


311 
	#SEEK_SET
 0

	)

312 
	#SEEK_CUR
 1

	)

313 
	#SEEK_END
 2

	)

314 #ifdeà
__USE_GNU


315 
	#SEEK_DATA
 3

	)

316 
	#SEEK_HOLE
 4

	)

320 #ià
defšed
 
__USE_BSD
 && !defšed 
L_SET


322 
	#L_SET
 
SEEK_SET


	)

323 
	#L_INCR
 
SEEK_CUR


	)

324 
	#L_XTND
 
SEEK_END


	)

333 #iâdeà
__USE_FILE_OFFSET64


334 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

336 #ifdeà
__REDIRECT_NTH


337 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

338 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

339 
l£ek64
);

341 
	#l£ek
 
l£ek64


	)

344 #ifdeà
__USE_LARGEFILE64


345 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

346 
__THROW
;

353 
	`şo£
 (
__fd
);

360 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

366 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

368 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


369 #iâdeà
__USE_FILE_OFFSET64


376 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

377 
__off_t
 
__off£t
è
__wur
;

384 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

385 
__off_t
 
__off£t
è
__wur
;

387 #ifdeà
__REDIRECT


388 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

389 
__off64_t
 
__off£t
),

390 
´—d64
è
__wur
;

391 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

392 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

393 
pwr™e64
è
__wur
;

395 
	#´—d
 
´—d64


	)

396 
	#pwr™e
 
pwr™e64


	)

400 #ifdeà
__USE_LARGEFILE64


404 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

405 
__off64_t
 
__off£t
è
__wur
;

408 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

409 
__off64_t
 
__off£t
è
__wur
;

417 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

419 #ifdeà
__USE_GNU


422 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

432 
	$®¬m
 (
__£cÚds
è
__THROW
;

444 
	`¦“p
 (
__£cÚds
);

446 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

447 || 
defšed
 
__USE_BSD


452 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

453 
__THROW
;

460 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

469 
	`·u£
 ();

473 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

474 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

476 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


478 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

483 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

484 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

488 #ifdeà
__USE_ATFILE


491 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

492 
__gid_t
 
__group
, 
__æag
)

493 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

497 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

499 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


501 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

511 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

513 #ifdef 
__USE_GNU


517 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

520 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

521 || 
defšed
 
__USE_BSD


525 *
	$g‘wd
 (*
__buf
)

526 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

531 
	$dup
 (
__fd
è
__THROW
 
__wur
;

534 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

536 #ifdeà
__USE_GNU


539 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

543 **
__’vœÚ
;

544 #ifdeà
__USE_GNU


545 **
’vœÚ
;

551 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

552 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

554 #ifdeà
__USE_XOPEN2K8


557 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

558 
__THROW
 
	`__nÚnuÎ
 ((2));

563 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

564 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

568 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

569 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

573 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

578 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

584 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

585 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 #ifdeà
__USE_GNU


590 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

591 *cÚ¡ 
__’vp
[])

592 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

596 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


598 
	$niû
 (
__šc
è
__THROW
 
__wur
;

603 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

609 
	~<b™s/cÚâame.h
>

612 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

613 
__THROW
 
	`__nÚnuÎ
 ((1));

616 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

619 
	$syscÚf
 (
__Çme
è
__THROW
;

621 #ifdef 
__USE_POSIX2


623 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

628 
__pid_t
 
	$g‘pid
 (è
__THROW
;

631 
__pid_t
 
	$g‘µid
 (è
__THROW
;

634 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

637 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

638 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


639 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

646 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

648 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


660 
	$£g½
 (è
__THROW
;

667 
__pid_t
 
	$£tsid
 (è
__THROW
;

669 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


671 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

675 
__uid_t
 
	$g‘uid
 (è
__THROW
;

678 
__uid_t
 
	$g‘euid
 (è
__THROW
;

681 
__gid_t
 
	$g‘gid
 (è
__THROW
;

684 
__gid_t
 
	$g‘egid
 (è
__THROW
;

689 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

691 #ifdef 
__USE_GNU


693 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

700 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

702 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


705 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

708 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


710 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

717 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

719 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


722 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

725 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


727 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

730 #ifdeà
__USE_GNU


733 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

734 
__THROW
;

738 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

739 
__THROW
;

743 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

744 
__THROW
 
__wur
;

748 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

749 
__THROW
 
__wur
;

756 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

758 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

759 || 
defšed
 
__USE_BSD


764 
__pid_t
 
	$vfÜk
 (è
__THROW
;

770 *
	$‰yÇme
 (
__fd
è
__THROW
;

774 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

775 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

779 
	$i§‰y
 (
__fd
è
__THROW
;

781 #ià
defšed
 
__USE_BSD
 \

782 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

785 
	$‰y¦Ù
 (è
__THROW
;

790 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

791 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

793 #ifdeà
__USE_ATFILE


796 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

797 cÚ¡ *
__to
, 
__æags
)

798 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

801 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


803 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

804 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

809 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

810 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

811 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

814 #ifdeà
__USE_ATFILE


816 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

817 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

820 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

821 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

822 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

826 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

828 #ifdeà
__USE_ATFILE


830 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

831 
__THROW
 
	`__nÚnuÎ
 ((2));

835 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

839 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

842 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

849 *
	`g‘logš
 ();

850 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


857 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

860 #ifdef 
__USE_BSD


862 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

866 #ifdef 
__USE_POSIX2


870 
	#__Ãed_g‘İt


	)

871 
	~<g‘İt.h
>

875 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


879 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

883 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

886 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

887 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

897 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

898 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

899 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

900 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

906 
	$vhªgup
 (è
__THROW
;

909 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

917 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

918 
size_t
 
__off£t
, 
__sÿË
)

919 
__THROW
 
	`__nÚnuÎ
 ((1));

925 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

929 *
	$g‘u£rsh–l
 (è
__THROW
;

930 
	$’du£rsh–l
 (è
__THROW
;

931 
	$£tu£rsh–l
 (è
__THROW
;

937 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

941 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

944 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

948 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

956 
	`fsync
 (
__fd
);

959 #ifdeà
__USE_GNU


962 
	$syncfs
 (
__fd
è
__THROW
;

966 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


969 
	`g‘ho¡id
 ();

972 
	$sync
 (è
__THROW
;

975 #ià
defšed
 
__USE_BSD
 || !defšed 
__USE_XOPEN2K


978 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

983 
	$g‘dbËsize
 (è
__THROW
;

989 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


992 #iâdeà
__USE_FILE_OFFSET64


993 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

994 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

996 #ifdeà
__REDIRECT_NTH


997 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

998 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

999 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1001 
	#Œunÿ‹
 
Œunÿ‹64


	)

1004 #ifdeà
__USE_LARGEFILE64


1005 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1006 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1011 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_POSIX199309
 \

1012 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1015 #iâdeà
__USE_FILE_OFFSET64


1016 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1018 #ifdeà
__REDIRECT_NTH


1019 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1020 
árunÿ‹64
è
__wur
;

1022 
	#árunÿ‹
 
árunÿ‹64


	)

1025 #ifdeà
__USE_LARGEFILE64


1026 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1032 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1033 || 
defšed
 
__USE_MISC


1037 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1043 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1047 #ifdeà
__USE_MISC


1058 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1063 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1075 
	#F_ULOCK
 0

	)

1076 
	#F_LOCK
 1

	)

1077 
	#F_TLOCK
 2

	)

1078 
	#F_TEST
 3

	)

1080 #iâdeà
__USE_FILE_OFFSET64


1081 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1083 #ifdeà
__REDIRECT


1084 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1085 
lockf64
è
__wur
;

1087 
	#lockf
 
lockf64


	)

1090 #ifdeà
__USE_LARGEFILE64


1091 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1096 #ifdeà
__USE_GNU


1101 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1102 (
__ex‹nsiÚ__
 \

1103 ({ 
__»suÉ
; \

1104 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1105 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1106 
__»suÉ
; 
	}
}))

	)

1109 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1112 
fd©async
 (
__fdes
);

1118 #ifdef 
__USE_XOPEN


1120 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1121 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1125 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1126 
__THROW
 
	`__nÚnuÎ
 ((1));

1133 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1134 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1140 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1142 *
	$ù”mid
 (*
__s
è
__THROW
;

1147 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1148 
	~<b™s/uni¡d.h
>

1151 
__END_DECLS


	@/usr/include/utime.h

22 #iâdef 
_UTIME_H


23 
	#_UTIME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


32 
	#__Ãed_time_t


	)

33 
	~<time.h
>

37 
	sutimbuf


39 
__time_t
 
	maùime
;

40 
__time_t
 
	mmodtime
;

45 
	$utime
 (cÚ¡ *
__fe
,

46 cÚ¡ 
utimbuf
 *
__fe_times
)

47 
__THROW
 
	`__nÚnuÎ
 ((1));

49 
__END_DECLS


	@/usr/include/wait.h

1 
	~<sys/wa™.h
>

	@libcheetah/libcheetah.h

2 #iâdeà
LIBCHEETAH_H


3 
	#LIBCHEETAH_H


	)

5 
	~<¡dio.h
>

9 
ch“h_š™
(
¬gc
, **
¬gv
);

13 
ch“h_cÚfig
(
FILE
 *
fd
);

17 
ch“h_acûss
(
md_addr_t
 
addr
);

21 
ch“h_¡©s
(
FILE
 *
fd
,

22 
mid
);

29 **
§c_h™s
;

32 
š™_§şru
();

33 
§úmul_wß¼
(
md_addr_t
 
addr
);

34 
our_§şru
(
FILE
 *
fd
);

36 
š™_§cİt
();

38 
¡ack_´oc_§
(
¡¬t
,

39 
’d
);

40 
šf_hªdËr_§
(
md_addr_t
 
addr
, 
cur_time
);

41 
our_§cİt
(
FILE
 *
fd
);

43 
š™_dmvl
();

44 
dmvl
(
md_addr_t
 
addr
);

45 
our_dmvl
(
FILE
 *
fd
);

47 
š™_çşru
();

48 
±c
(
md_addr_t
 
addr
);

49 
our_çşru
(
FILE
 *
fd
);

51 
š™_çcİt
();

53 
¡ack_´oc_ç
(
¡¬t
,

54 
’d
);

55 
šf_hªdËr_ç
(
md_addr_t
 
addr
, 
cur_time
);

56 
our_çcİt
(
FILE
 *
fd
);

58 
š™_İp
();

59 
İp
(
md_addr_t
 
addr
, 
L
,

60 (*
¡ack_´oc
)(
¡¬t
, 
’d
),

61 (*
šf_hªdËr
)(
md_addr_t
 
addr
, 
cur_time
));

62 
	`á_hash_d–
(
md_addr_t
 
addr
);

63 
	`‹rm_İp
((*
¡ack_´oc
)());

	@libexo/libexo.h

88 #iâdeà
EXO_H


89 
	#EXO_H


	)

91 
	~"../ho¡.h
"

92 
	~"../misc.h
"

93 
	~"../machše.h
"

96 
	#EXO_FMT_MAJOR
 1

	)

97 
	#EXO_FMT_MINOR
 0

	)

100 
	eexo_şass_t
 {

101 
	mec_š‹g”
,

102 
	mec_add»ss
,

103 
	mec_æßt
,

104 
	mec_ch¬
,

105 
	mec_¡ršg
,

106 
	mec_li¡
,

107 
	mec_¬¿y
,

108 
	mec_tok’
,

109 
	mec_blob
,

110 
	mec_nuÎ
,

111 
	mec_NUM


115 *
exo_şass_¡r
[
ec_NUM
];

118 
	sexo_tok’_t
 {

119 
exo_tok’_t
 *
	mÃxt
;

120 *
	m¡r
;

121 
	mtok’
;

124 
	sexo_‹rm_t
 {

125 
exo_‹rm_t
 *
	mÃxt
;

126 
exo_şass_t
 
	mec
;

128 
	sas_š‹g”_t
 {

129 
exo_š‹g”_t
 
	mv®
;

130 } 
	mas_š‹g”
;

131 
	sas_add»ss_t
 {

132 
exo_add»ss_t
 
	mv®
;

133 } 
	mas_add»ss
;

134 
	sas_æßt_t
 {

135 
exo_æßt_t
 
	mv®
;

136 } 
	mas_æßt
;

137 
	sas_ch¬_t
 {

138 
	mv®
;

139 } 
	mas_ch¬
;

140 
	sas_¡ršg_t
 {

141 *
	m¡r
;

142 } 
	mas_¡ršg
;

143 
	sas_li¡_t
 {

144 
exo_‹rm_t
 *
	mh—d
;

145 } 
	mas_li¡
;

146 
	sas_¬¿y_t
 {

147 
	msize
;

148 
exo_‹rm_t
 **
	m¬¿y
;

149 } 
	mas_¬¿y
;

150 
	sas_tok’_t
 {

151 
exo_tok’_t
 *
	m’t
;

152 } 
	mas_tok’
;

153 
	sas_blob_t
 {

154 
	msize
;

155 *
	md©a
;

156 } 
	mas_blob
;

157 } 
	mv¬ŸÁ
;

160 
	#as_š‹g”
 
v¬ŸÁ
.
as_š‹g”


	)

161 
	#as_add»ss
 
v¬ŸÁ
.
as_add»ss


	)

162 
	#as_æßt
 
v¬ŸÁ
.
as_æßt


	)

163 
	#as_ch¬
 
v¬ŸÁ
.
as_ch¬


	)

164 
	#as_¡ršg
 
v¬ŸÁ
.
as_¡ršg


	)

165 
	#as_li¡
 
v¬ŸÁ
.
as_li¡


	)

166 
	#as_¬¿y
 
v¬ŸÁ
.
as_¬¿y


	)

167 
	#as_tok’
 
v¬ŸÁ
.
as_tok’


	)

168 
	#as_blob
 
v¬ŸÁ
.
as_blob


	)

172 
	#EXO_ARR
(
E
,
N
è\

	)

173 ((
	gE
)->
	gec
 !ğ
ec_¬¿y
 \

174 ? (
çl
("nÙ‡À¬¿y"), *(
	gexo_‹rm_t
 **)(
	gNULL
)) \

175 : ((
N
è>ğ(
E
)->
as_¬¿y
.
size
 \

176 ? (
çl
("¬¿y bound ”rÜ"), *(
	gexo_‹rm_t
 **)(
	gNULL
)) \

177 : (
E
)->
as_¬¿y
.
¬¿y
[(
N
)]))

178 
	#SET_EXO_ARR
(
E
,
N
,
V
è\

	)

179 ((
	gE
)->
	gec
 !ğ
ec_¬¿y
 \

180 ? ()
çl
("not‡n‡rray") \

181 : ((
N
è>ğ(
E
)->
as_¬¿y
.
size
 \

182 ? ()
çl
("array boundsƒrror") \

183 : ()((
E
)->
as_¬¿y
.
¬¿y
[(
N
)] = (
V
))))

186 
exo_tok’_t
 *

187 
exo_š‹º
(*
tok’_¡r
);

190 
exo_tok’_t
 *

191 
exo_š‹º_as
(*
tok’_¡r
,

192 
tok’
);

207 
exo_‹rm_t
 *

208 
exo_Ãw
(
exo_şass_t
 
ec
, ...);

212 
exo_d–‘e
(
exo_‹rm_t
 *
exo
);

215 
exo_‹rm_t
 *

216 
exo_chaš
(
exo_‹rm_t
 *
fÜe
, exo_‹rm_ˆ*
aá
);

219 
exo_‹rm_t
 *

220 
exo_cİy
(
exo_‹rm_t
 *
exo
);

223 
exo_‹rm_t
 *

224 
exo_d“pcİy
(
exo_‹rm_t
 *
exo
);

228 
exo_´št
(
exo_‹rm_t
 *
exo
, 
FILE
 *
¡»am
);

231 
exo_‹rm_t
 *

232 
exo_»ad
(
FILE
 *
¡»am
);

235 
	eËx_t
 {

236 
	mËx_š‹g”
 = 256,

237 
	mËx_add»ss
,

238 
	mËx_æßt
,

239 
	mËx_ch¬
,

240 
	mËx_¡ršg
,

241 
	mËx_tok’
,

242 
	mËx_by‹
,

243 
	mËx_eof


	@machine.def

241 
DEFLINK
(
TOPLEV
, 0x00, "toplev", 26, 0x3f)

242 
	$CONNECT
(
TOPLEV
)

245 
	`DEFLINK
(
CALL_PAL
, 0x00, "call_pal", 0, 0xff)

247 
	#LDA_IMPL
 \

249 
	`SET_GPR
(
RA
, 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
)); \

250 
	}

	)
}

251 
DEFINST
(
LDA
, 0x08,

253 
IÁALU
, 
F_ICOMP
,

254 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

256 
	#LDAH_IMPL
 \

258 
	`SET_GPR
(
RA
, 
	`GPR
(
RB
è+ 
	`SEXT32
(65536 * 
OFS
)); \

259 }

	)

260 
DEFINST
(
LDAH
, 0x09,

262 
IÁALU
, 
F_ICOMP
,

263 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

266 
	#LDBU_IMPL
 \

268 
by‹_t
 
_»suÉ
; \

269 
md_çuÉ_ty³
 
_çuÉ
; \

271 
_»suÉ
 = 
	`READ_BYTE
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

272 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

273 
	`DECLARE_FAULT
(
_çuÉ
); \

275 
	`SET_GPR
(
RA
, (
qwÜd_t
)
_»suÉ
); \

276 }

	)

277 
DEFINST
(
LDBU
, 0x0a,

279 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

280 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

282 
	#LDQ_U_IMPL
 \

284 
qwÜd_t
 
_»suÉ
; \

285 
md_çuÉ_ty³
 
_çuÉ
; \

287 
_»suÉ
 = 
	`READ_QWORD
((
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
)è& ~7, 
_çuÉ
); \

288 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

289 
	`DECLARE_FAULT
(
_çuÉ
); \

291 
	`SET_GPR
(
RA
, 
_»suÉ
); \

292 }

	)

293 
DEFINST
(
LDQ_U
, 0x0b,

295 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

296 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

299 
	#LDWU_IMPL
 \

301 
h®f_t
 
_»suÉ
; \

302 
md_çuÉ_ty³
 
_çuÉ
; \

304 
_»suÉ
 = 
	`READ_HALF
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

305 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

306 
	`DECLARE_FAULT
(
_çuÉ
); \

308 
	`SET_GPR
(
RA
, (
qwÜd_t
)
_»suÉ
); \

309 }

	)

310 
DEFINST
(
LDWU
, 0x0c,

312 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

313 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

316 
	#STW_IMPL
 \

318 
md_çuÉ_ty³
 
_çuÉ
; \

320 
	`WRITE_HALF
((
h®f_t
)
	`GPR
(
RA
), GPR(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

321 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

322 
	`DECLARE_FAULT
(
_çuÉ
); \

323 }

	)

324 
DEFINST
(
STW
, 0x0d,

326 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

327 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

330 
	#STB_IMPL
 \

332 
md_çuÉ_ty³
 
_çuÉ
; \

334 
	`WRITE_BYTE
((
by‹_t
)
	`GPR
(
RA
), GPR(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

335 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

336 
	`DECLARE_FAULT
(
_çuÉ
); \

337 }

	)

338 
DEFINST
(
STB
, 0x0e,

340 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

341 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

343 
	#STQ_U_IMPL
 \

345 
md_çuÉ_ty³
 
_çuÉ
; \

347 
	`WRITE_QWORD
(
	`GPR
(
RA
), (GPR(
RB
è+ 
	`SEXT
(
OFS
)è& ~7, 
_çuÉ
); \

348 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

349 
	`DECLARE_FAULT
(
_çuÉ
); \

350 }

	)

351 
DEFINST
(
STQ_U
, 0x0f,

353 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

354 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

356 
DEFLINK
(
INTA
, 0x10, "inta", 5, 0x7f)

358 
DEFLINK
(
INTL
, 0x11, "intl", 5, 0x7f)

360 
DEFLINK
(
INTS
, 0x12, "ints", 5, 0x7f)

363 
DEFLINK
(
INTM
, 0x13, "intm", 5, 0x3f)

368 
DEFLINK
(
ITFP
, 0x14, "itfp", 5, 0x3f)

371 
	#FLTV_IMPL
 \

374 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

375 }

	)

376 
DEFINST
(
FLTV
, 0x15,

378 
NA
, NA,

379 
DNA
, DNA, DNA, DNA, DNA)

381 
DEFLINK
(
FLTI
, 0x16, "flti", 5, 0x3f)

383 
DEFLINK
(
FLTL
, 0x17, "fltl", 5, 0x7f)

386 
DEFLINK
(
MISC
, 0x18, "misc", 8, 0xff)

388 
DEFLINK
(
JMPJSR
, 0x1a, "jmpjsr", 14, 0x03)

391 
DEFLINK
(
FPTI
, 0x1c, "fpti", 5, 0x7f)

393 
	#LDF_IMPL
 \

396 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

397 }

	)

398 
DEFINST
(
LDF
, 0x20,

400 
NA
, NA,

401 
DNA
, DNA, DNA, DNA, DNA)

403 
	#LDG_IMPL
 \

406 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

407 }

	)

408 
DEFINST
(
LDG
, 0x21,

410 
NA
, NA,

411 
DNA
, DNA, DNA, DNA, DNA)

413 
	#LDS_IMPL
 \

415 
sqwÜd_t
 
_lÚghŞd
, 
_e1
, 
_e2
; \

416 
md_çuÉ_ty³
 
_çuÉ
; \

418 
_lÚghŞd
 = 
	`READ_WORD
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

419 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

420 
	`DECLARE_FAULT
(
_çuÉ
); \

422 
_e1
 = 
_lÚghŞd
 & 0x40000000; \

423 
_e2
 = (
_lÚghŞd
 >> 23è& 
	`ULL
(0x7f); \

424 ià(
_e1
) \

426 ià(
_e2
 =ğ
	`ULL
(0x3f800000)) \

427 
_e2
 = 
	`ULL
(0x7ff); \

429 
_e2
 |ğ
	`ULL
(0x400); \

433 ià(
_e2
 == 0) \

434 
_e2
 = 0; \

436 
_e2
 |ğ
	`ULL
(0x380); \

438 
	`SET_FPR_Q
(
RA
, ((
_lÚghŞd
 & 
	`ULL
(0x80000000)) << 32 \

439 | 
_e2
 << 52 | (
_lÚghŞd
 & 
	`ULL
(0x7fffff)) << 29)); \

440 }

	)

441 
DEFINST
(
LDS
, 0x22,

443 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

444 
DFPR
(
RA
), 
DNA
, DNA, 
DGPR
(
RB
), DNA)

446 
	#LDT_IMPL
 \

448 
qwÜd_t
 
_»suÉ
; \

449 
md_çuÉ_ty³
 
_çuÉ
; \

451 
_»suÉ
 = 
	`READ_QWORD
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

452 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

453 
	`DECLARE_FAULT
(
_çuÉ
); \

455 
	`SET_FPR_Q
(
RA
, 
_»suÉ
); \

456 }

	)

457 
DEFINST
(
LDT
, 0x23,

459 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

460 
DFPR
(
RA
), 
DNA
, DNA, 
DGPR
(
RB
), DNA)

462 
	#STF_IMPL
 \

465 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

466 }

	)

467 
DEFINST
(
STF
, 0x24,

469 
NA
, NA,

470 
DNA
, DNA, DNA, DNA, DNA)

472 
	#STG_IMPL
 \

475 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

476 }

	)

477 
DEFINST
(
STG
, 0x25,

479 
NA
, NA,

480 
DNA
, DNA, DNA, DNA, DNA)

482 
	#STS_IMPL
 \

484 
sqwÜd_t
 
_lÚghŞd
; \

485 
swÜd_t
 
_šthŞd
; \

486 
md_çuÉ_ty³
 
_çuÉ
; \

488 
_lÚghŞd
 = 
	`FPR_Q
(
RA
); \

489 
_šthŞd
 = (((
_lÚghŞd
 >> 32è& 
	`ULL
(0xc0000000)) \

490 | ((
_lÚghŞd
 >> 29è& 
	`ULL
(0x3fffffff))); \

491 
	`WRITE_WORD
(
_šthŞd
, 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

492 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

493 
	`DECLARE_FAULT
(
_çuÉ
); \

494 }

	)

495 
DEFINST
(
STS
, 0x26,

497 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

498 
DNA
, DNA, 
DFPR
(
RA
), 
DGPR
(
RB
), DNA)

500 
	#STT_IMPL
 \

502 
md_çuÉ_ty³
 
_çuÉ
; \

504 
	`WRITE_QWORD
(
	`FPR_Q
(
RA
), 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

505 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

506 
	`DECLARE_FAULT
(
_çuÉ
); \

507 }

	)

508 
DEFINST
(
STT
, 0x27,

510 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

511 
DNA
, DNA, 
DFPR
(
RA
), 
DGPR
(
RB
), DNA)

513 
	#LDL_IMPL
 \

515 
wÜd_t
 
_»suÉ
; \

516 
md_çuÉ_ty³
 
_çuÉ
; \

518 
_»suÉ
 = 
	`READ_WORD
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

519 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

520 
	`DECLARE_FAULT
(
_çuÉ
); \

522 
	`SET_GPR
(
RA
, (
sqwÜd_t
)((
swÜd_t
)
_»suÉ
)); \

523 }

	)

524 
DEFINST
(
LDL
, 0x28,

526 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

527 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

529 
	#LDQ_IMPL
 \

531 
qwÜd_t
 
_»suÉ
; \

532 
md_çuÉ_ty³
 
_çuÉ
; \

533 
_»suÉ
 = 
	`READ_QWORD
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

534 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

535 
	`DECLARE_FAULT
(
_çuÉ
); \

536 
	`SET_GPR
(
RA
, 
_»suÉ
); \

537 }

	)

538 
DEFINST
(
LDQ
, 0x29,

540 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

541 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

543 
	#LDL_L_IMPL
 \

545 
wÜd_t
 
_»suÉ
; \

546 
md_çuÉ_ty³
 
_çuÉ
; \

547 
_»suÉ
 = 
	`READ_WORD
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

548 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

549 
	`DECLARE_FAULT
(
_çuÉ
); \

550 if(!
cu¼’t
->
¥ec_mode
 && 
_»suÉ
 == 0) \

552 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 = 1; \

553 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
add»ss
 = 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
); \

555 
	`SET_GPR
(
RA
, 
_»suÉ
); \

556 }

	)

557 
DEFINST
(
LDL_L
, 0x2a,

559 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

560 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

563 
	#LDQ_L_IMPL
 \

565 
qwÜd_t
 
_»suÉ
; \

566 
md_çuÉ_ty³
 
_çuÉ
; \

567 
ii
 = 0, 
æag1
 = 0; \

568 
_»suÉ
 = 
	`READ_QWORD
(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

569 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

570 
	`DECLARE_FAULT
(
_çuÉ
); \

571 if(!
cu¼’t
->
¥ec_mode
 && 
_»suÉ
 == 0) \

573 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 = 1; \

574 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
add»ss
 = 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
); \

576 
	`SET_GPR
(
RA
, (
sqwÜd_t
)((
swÜd_t
)
_»suÉ
)); \

577 }

	)

578 
DEFINST
(
LDQ_L
, 0x2b,

580 
RdPÜt
, 
F_MEM
|
F_LOAD
|
F_DISP
,

581 
DGPR
(
RA
), 
DNA
, DNA, DGPR(
RB
), DNA)

583 
	#STL_IMPL
 \

585 
wÜd_t
 
_¤c
; \

586 
md_çuÉ_ty³
 
_çuÉ
; \

587 
_¤c
 = (
wÜd_t
)(
	`GPR
(
RA
è& 
	`ULL
(0xffffffff)); \

588 
	`WRITE_WORD
(
_¤c
, 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

589 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

590 
	`DECLARE_FAULT
(
_çuÉ
); \

591 }

	)

592 
DEFINST
(
STL
, 0x2c,

594 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

595 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

597 
	#STQ_IMPL
 \

599 
md_çuÉ_ty³
 
_çuÉ
; \

600 
	`WRITE_QWORD
(
	`GPR
(
RA
), GPR(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

601 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

602 
	`DECLARE_FAULT
(
_çuÉ
); \

603 }

	)

604 
DEFINST
(
STQ
, 0x2d,

606 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

607 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

610 
	#STL_C_IMPL
 \

612 
wÜd_t
 
_¤c
; \

613 
md_çuÉ_ty³
 
_çuÉ
; \

614 
ii
 = 0; \

615 
_¤c
 = (
wÜd_t
)(
	`GPR
(
RA
è& 
	`ULL
(0xffffffff)); \

616 if(
COHERENT_CACHE
 && 
®lFÜked
 && 
cŞËù_¡©s
) \

618 
	`WRITE_WORD
(
_¤c
, 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

619 if(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

621 
	`DECLARE_FAULT
(
_çuÉ
); \

626 if(!
cu¼’t
->
¥ec_mode
) \

628 if((
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][cu¼’t->
aùu®id
].
»gs_lock
 =ğ1è&& (commÚ_»gs_s[cu¼’t->ma¡”id][cu¼’t->aùu®id].
add»ss
 =ğ
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
))) \

630 
	`WRITE_WORD
(
_¤c
, 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

631 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

633 
	`DECLARE_FAULT
(
_çuÉ
); \

635 
ii
 = 0; i˜< 
MAXTHREADS
; ii++) \

637 if(
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
ii
].
add»ss
 =ğ(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
))) \

639 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
ii
].
»gs_lock
 = 0; \

640 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
ii
].
add»ss
 = 0; \

645 
	`SET_GPR
(
RA
, 0); \

649 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 1; \

652 }

	)

654 
DEFINST
(
STL_C
, 0x2e,

656 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

657 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

660 
	#STQ_C_IMPL
 \

662 
wÜd_t
 
_¤c
; \

663 
md_çuÉ_ty³
 
_çuÉ
; \

664 
ii
 = 0, 
add»ssLocked
 = 0; \

665 
_¤c
 = (
wÜd_t
)(
	`GPR
(
RA
è& 
	`ULL
(0xffffffff)); \

666 if(
COHERENT_CACHE
 && 
®lFÜked
 && 
cŞËù_¡©s
) \

668 
	`WRITE_QWORD
(
_¤c
, 
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

669 if(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

671 
	`DECLARE_FAULT
(
_çuÉ
); \

676 if(!
cu¼’t
->
¥ec_mode
) \

678 if((
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][0].
»gs_lock
 !ğ0è&& (commÚ_»gs_s[cu¼’t->ma¡”id][0].
add»ss
 =ğ
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
))) \

680 
	`WRITE_QWORD
(
	`GPR
(
RA
), GPR(
RB
è+ 
	`SEXT
(
OFS
), 
_çuÉ
); \

681 ià(
_çuÉ
 !ğ
md_çuÉ_nÚe
) \

682 
	`DECLARE_FAULT
(
_çuÉ
); \

683 
ii
 = 0; i˜< 
MAXTHREADS
; ii++) \

685 if(
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][
ii
].
add»ss
 =ğ(
	`GPR
(
RB
è+ 
	`SEXT
(
OFS
))) \

687 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][0].
»gs_lock
 = 0; \

688 
commÚ_»gs_s
[
cu¼’t
->
ma¡”id
][0].
add»ss
 = 0; \

693 
	`SET_GPR
(
RA
, 0); \

696 
cu¼’t
->
wa™FÜB¿nchResŞve
 = 1; \

698 }

	)

699 
DEFINST
(
STQ_C
, 0x2f,

701 
WrPÜt
, 
F_MEM
|
F_STORE
|
F_DISP
,

702 
DNA
, DNA, 
DGPR
(
RA
), DGPR(
RB
), DNA)

703 
	#BR_IMPL
 \

705 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

706 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

707 
	`SET_GPR
(
RA
, 
CPC
 + 4); \

708 }

	)

709 
DEFINST
(
BR
, 0x30,

711 
IÁALU
, 
F_CTRL
|
F_UNCOND
|
F_DIRJMP
,

712 
DGPR
(
RA
), 
DNA
, DNA, DNA, DNA)

714 
	#FBEQ_IMPL
 \

716 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

717 ià(
	`FPR
(
RA
) == 0.0) \

718 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

719 }

	)

720 
DEFINST
(
FBEQ
, 0x31,

722 
FlßtADD
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

723 
DNA
, DNA, 
DFPR
(
RA
), DNA, DNA)

725 
	#FBLT_IMPL
 \

727 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

728 ià(
	`FPR
(
RA
) < 0.0) \

729 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

730 }

	)

731 
DEFINST
(
FBLT
, 0x32,

733 
FlßtADD
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

734 
DNA
, DNA, 
DFPR
(
RA
), DNA, DNA)

736 
	#FBLE_IMPL
 \

738 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

739 ià(
	`FPR
(
RA
) <= 0.0) \

740 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

741 }

	)

742 
DEFINST
(
FBLE
, 0x33,

744 
FlßtADD
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

745 
DNA
, DNA, 
DFPR
(
RA
), DNA, DNA)

749 
	#BSR_IMPL
 \

751 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

752 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

753 
	`SET_GPR
(
RA
, 
CPC
 + 4); \

754 }

	)

755 
DEFINST
(
BSR
, 0x34,

757 
IÁALU
, 
F_CTRL
|
F_UNCOND
|
F_DIRJMP
,

758 
DGPR
(
RA
), 
DNA
, DNA, DNA, DNA)

760 
	#FBNE_IMPL
 \

762 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

763 ià(
	`FPR
(
RA
) != 0.0) \

764 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

765 }

	)

766 
DEFINST
(
FBNE
, 0x35,

768 
FlßtADD
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

769 
DNA
, DNA, 
DFPR
(
RA
), DNA, DNA)

771 
	#FBGE_IMPL
 \

773 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

774 ià(
	`FPR
(
RA
) >= 0.0) \

775 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

776 }

	)

777 
DEFINST
(
FBGE
, 0x36,

779 
FlßtADD
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

780 
DNA
, DNA, 
DFPR
(
RA
), DNA, DNA)

782 
	#FBGT_IMPL
 \

784 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

785 ià(
	`FPR
(
RA
) > 0.0) \

786 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

787 }

	)

788 
DEFINST
(
FBGT
, 0x37,

790 
FlßtADD
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

791 
DNA
, DNA, 
DFPR
(
RA
), DNA, DNA)

793 
	#BLBC_IMPL
 \

795 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

796 ià(!(
	`GPR
(
RA
) & 1)) \

797 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

798 }

	)

799 
DEFINST
(
BLBC
, 0x38,

801 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

802 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

804 
	#BEQ_IMPL
 \

806 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

807 ià(
	`GPR
(
RA
è=ğ
	`ULL
(0)) \

808 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

809 }

	)

810 
DEFINST
(
BEQ
, 0x39,

812 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

813 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

815 
	#BLT_IMPL
 \

817 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

818 ià((
sqwÜd_t
)
	`GPR
(
RA
è< 
	`LL
(0)) \

819 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

820 }

	)

821 
DEFINST
(
BLT
, 0x3a,

823 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

824 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

826 
	#BLE_IMPL
 \

828 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

829 ià((
sqwÜd_t
)
	`GPR
(
RA
è<ğ
	`LL
(0)) \

830 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

831 }

	)

832 
DEFINST
(
BLE
, 0x3b,

834 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

835 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

837 
	#BLBS_IMPL
 \

839 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

840 ià(
	`GPR
(
RA
) & 1) \

841 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

842 }

	)

843 
DEFINST
(
BLBS
, 0x3c,

845 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

846 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

848 
	#BNE_IMPL
 \

850 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

851 ià(
	`GPR
(
RA
è!ğ
	`ULL
(0)) \

852 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

853 }

	)

854 
DEFINST
(
BNE
, 0x3d,

856 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

857 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

859 
	#BGE_IMPL
 \

861 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

862 ià((
sqwÜd_t
)
	`GPR
(
RA
è>ğ
	`LL
(0)) \

863 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

864 }

	)

865 
DEFINST
(
BGE
, 0x3e,

867 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

868 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

870 
	#BGT_IMPL
 \

872 
	`SET_TPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

873 ià((
sqwÜd_t
)
	`GPR
(
RA
è> 
	`LL
(0)) \

874 
	`SET_NPC
(
CPC
 + (
	`SEXT21
(
TARG
) << 2) + 4); \

875 }

	)

876 
DEFINST
(
BGT
, 0x3f,

878 
IÁALU
, 
F_CTRL
|
F_COND
|
F_DIRJMP
,

879 
DNA
, DNA, 
DGPR
(
RA
), DNA, DNA)

882 
	$CONNECT
(
CALL_PAL
)

884 
	#PAL_CALLSYS_IMPL
 \

886 
	`SYSCALL
(
š¡
); \

887 
	}

	)
}

888 
DEFINST
(
PAL_CALLSYS
, 0x83,

890 
NA
, 
F_TRAP
,

891 
DNA
, DNA, DNA, DNA, DNA)

893 
	#PAL_RDUNIQ_IMPL
 \

895 
	`SET_GPR
Ğ0, 
UNIQ
); \

896 }

	)

897 
DEFINST
(
PAL_RDUNIQ
, 0x9e,

899 
NA
, 
F_TRAP
,

900 
DGPR
Ğ0), 
DNA
, 
DUNIQ
, DNA, DNA)

902 
	#PAL_WRUNIQ_IMPL
 \

904 
	`SET_UNIQ
(
	`GPR
( 16)); \

905 }

	)

906 
DEFINST
(
PAL_WRUNIQ
, 0x9f,

908 
NA
, 
F_TRAP
,

909 
DUNIQ
, 
DNA
, 
DGPR
( 16), DNA, DNA)

912 
	$CONNECT
(
INTA
)

914 
	`DEFLINK
(
ADDL_LINK
, 0x00, "addl_link", 12, 1)

916 
	`DEFLINK
(
S4ADDL_LINK
, 0x02, "s4addl_link", 12, 1)

918 
	`DEFLINK
(
SUBL_LINK
, 0x09, "subl_link", 12, 1)

920 
	`DEFLINK
(
S4SUBL_LINK
, 0x0b, "s4subl_link", 12, 1)

922 
	`DEFLINK
(
CMPBGE_LINK
, 0x0f, "cmpbge_link", 12, 1)

924 
	`DEFLINK
(
S8ADDL_LINK
, 0x12, "s8addl_link", 12, 1)

926 
	`DEFLINK
(
S8SUBL_LINK
, 0x1b, "s8subl_link", 12, 1)

928 
	`DEFLINK
(
CMPULT_LINK
, 0x1d, "cmpult_link", 12, 1)

930 
	`DEFLINK
(
ADDQ_LINK
, 0x20, "addq_link", 12, 1)

932 
	`DEFLINK
(
S4ADDQ_LINK
, 0x22, "s4addq_link", 12, 1)

934 
	`DEFLINK
(
SUBQ_LINK
, 0x29, "subq_link", 12, 1)

936 
	`DEFLINK
(
S4SUBQ_LINK
, 0x2b, "s4subq_link", 12, 1)

938 
	`DEFLINK
(
CMPEQ_LINK
, 0x2d, "cmpeq_link", 12, 1)

940 
	`DEFLINK
(
S8ADDQ_LINK
, 0x32, "s8addq_link", 12, 1)

942 
	`DEFLINK
(
S8SUBQ_LINK
, 0x3b, "s8subq_link", 12, 1)

944 
	`DEFLINK
(
CMPULE_LINK
, 0x3d, "cmpule_link", 12, 1)

946 
	`DEFLINK
(
ADDLV_LINK
, 0x40, "addlv_link", 12, 1)

948 
	`DEFLINK
(
SUBLV_LINK
, 0x49, "sublv_link", 12, 1)

950 
	`DEFLINK
(
CMPLT_LINK
, 0x4d, "cmplt_link", 12, 1)

952 
	`DEFLINK
(
ADDQV_LINK
, 0x60, "addqv_link", 12, 1)

954 
	`DEFLINK
(
SUBQV_LINK
, 0x69, "subqv_link", 12, 1)

956 
	`DEFLINK
(
CMPLE_LINK
, 0x6d, "cmple_link", 12, 1)

959 
	$CONNECT
(
ADDL_LINK
)

961 
	#ADDL_IMPL
 \

963 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è+ GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

964 
	}

	)
}

965 
DEFINST
(
ADDL
, 0x00,

967 
IÁALU
, 
F_ICOMP
,

968 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

970 
	#ADDLI_IMPL
 \

972 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è+ 
IMM
è& 
	`ULL
(0xffffffff))); \

973 }

	)

974 
DEFINST
(
ADDLI
, 0x01,

976 
IÁALU
, 
F_ICOMP
|
F_IMM
,

977 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

980 
	$CONNECT
(
S4ADDL_LINK
)

982 
	#S4ADDL_IMPL
 \

984 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 2è+ GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

985 
	}

	)
}

986 
DEFINST
(
S4ADDL
, 0x00,

988 
IÁALU
, 
F_ICOMP
,

989 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

991 
	#S4ADDLI_IMPL
 \

993 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 2è+ 
IMM
è& 
	`ULL
(0xffffffff))); \

994 }

	)

995 
DEFINST
(
S4ADDLI
, 0x01,

997 
IÁALU
, 
F_ICOMP
|
F_IMM
,

998 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1001 
	$CONNECT
(
SUBL_LINK
)

1003 
	#SUBL_IMPL
 \

1005 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è- GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

1006 
	}

	)
}

1007 
DEFINST
(
SUBL
, 0x00,

1009 
IÁALU
, 
F_ICOMP
,

1010 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1012 
	#SUBLI_IMPL
 \

1014 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è- 
IMM
è& 
	`ULL
(0xffffffff))); \

1015 }

	)

1016 
DEFINST
(
SUBLI
, 0x01,

1018 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1019 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1022 
	$CONNECT
(
S4SUBL_LINK
)

1024 
	#S4SUBL_IMPL
 \

1026 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 2è- GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

1027 
	}

	)
}

1028 
DEFINST
(
S4SUBL
, 0x00,

1030 
IÁALU
, 
F_ICOMP
,

1031 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1033 
	#S4SUBLI_IMPL
 \

1035 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 2è- 
IMM
è& 
	`ULL
(0xffffffff))); \

1036 }

	)

1037 
DEFINST
(
S4SUBLI
, 0x01,

1039 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1040 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1043 
	$CONNECT
(
CMPBGE_LINK
)

1045 
	#CMPBGE_IMPL
 \

1047 
_i
; \

1048 
qwÜd_t
 
_¿v
, 
_rbv
; \

1050 
_¿v
 = 
	`GPR
(
RA
); \

1051 
_rbv
 = 
	`GPR
(
RB
); \

1052 
	`SET_GPR
(
RC
, 0); \

1054 
_i
 = 56; _i >= 0; _i -= 8) \

1056 
	`SET_GPR
(
RC
, 
	`GPR
(RC) << 1); \

1057 
	`SET_GPR
(
RC
, (
	`GPR
(RC) \

1058 | ((
_¿v
 >> 
_i
 & (
sqwÜd_t
)0xff) >= \

1059 (
_rbv
 >> 
_i
 & (
sqwÜd_t
)0xff)))); \

1061 
	}

	)
}

1062 
DEFINST
(
CMPBGE
, 0x00,

1064 
IÁALU
, 
F_ICOMP
,

1065 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1067 
	#CMPBGEI_IMPL
 \

1069 
_i
; \

1070 
qwÜd_t
 
_¿v
, 
_rbv
; \

1072 
_¿v
 = 
	`GPR
(
RA
); \

1073 
_rbv
 = 
IMM
; \

1074 
	`SET_GPR
(
RC
, 0); \

1076 
_i
 = 56; _i >= 0; _i -= 8) \

1078 
	`SET_GPR
(
RC
, 
	`GPR
(RC) << 1); \

1079 
	`SET_GPR
(
RC
, (
	`GPR
(RC) \

1080 | ((
_¿v
 >> 
_i
 & (
sqwÜd_t
)0xff) >= \

1081 (
_rbv
 >> 
_i
 & (
sqwÜd_t
)0xff)))); \

1083 }

	)

1084 
DEFINST
(
CMPBGEI
, 0x01,

1086 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1087 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1090 
	$CONNECT
(
S8ADDL_LINK
)

1092 
	#S8ADDL_IMPL
 \

1094 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 3è+ GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

1095 
	}

	)
}

1096 
DEFINST
(
S8ADDL
, 0x00,

1098 
IÁALU
, 
F_ICOMP
,

1099 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1101 
	#S8ADDLI_IMPL
 \

1103 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 3è+ 
IMM
è& 
	`ULL
(0xffffffff))); \

1104 }

	)

1105 
DEFINST
(
S8ADDLI
, 0x01,

1107 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1108 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1111 
	$CONNECT
(
S8SUBL_LINK
)

1113 
	#S8SUBL_IMPL
 \

1115 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 3è- GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

1116 
	}

	)
}

1117 
DEFINST
(
S8SUBL
, 0x00,

1119 
IÁALU
, 
F_ICOMP
,

1120 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1122 
	#S8SUBLI_IMPL
 \

1124 
	`SET_GPR
(
RC
, 
	`SEXT32
(((
	`GPR
(
RA
è<< 3è- 
IMM
è& 
	`ULL
(0xffffffff))); \

1125 }

	)

1126 
DEFINST
(
S8SUBLI
, 0x01,

1128 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1129 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1132 
	$CONNECT
(
CMPULT_LINK
)

1134 
	#CMPULT_IMPL
 \

1136 
	`SET_GPR
(
RC
, (
qwÜd_t
)
	`GPR
(
RA
è< (qwÜd_t)GPR(
RB
)); \

1137 
	}

	)
}

1138 
DEFINST
(
CMPULT
, 0x00,

1140 
IÁALU
, 
F_ICOMP
,

1141 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1143 
	#CMPULTI_IMPL
 \

1145 
	`SET_GPR
(
RC
, (
qwÜd_t
)
	`GPR
(
RA
è< (qwÜd_t)
IMM
); \

1146 }

	)

1147 
DEFINST
(
CMPULTI
, 0x01,

1149 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1150 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1153 
	$CONNECT
(
ADDQ_LINK
)

1155 
	#ADDQ_IMPL
 \

1157 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è+ GPR(
RB
)); \

1158 
	}

	)
}

1159 
DEFINST
(
ADDQ
, 0x00,

1161 
IÁALU
, 
F_ICOMP
,

1162 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1164 
	#ADDQI_IMPL
 \

1166 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è+ 
IMM
); \

1167 }

	)

1168 
DEFINST
(
ADDQI
, 0x01,

1170 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1171 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1174 
	$CONNECT
(
S4ADDQ_LINK
)

1176 
	#S4ADDQ_IMPL
 \

1178 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 2è+ GPR(
RB
)); \

1179 
	}

	)
}

1180 
DEFINST
(
S4ADDQ
, 0x00,

1182 
IÁALU
, 
F_ICOMP
,

1183 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1185 
	#S4ADDQI_IMPL
 \

1187 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 2è+ 
IMM
); \

1188 }

	)

1189 
DEFINST
(
S4ADDQI
, 0x01,

1191 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1192 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1195 
	$CONNECT
(
SUBQ_LINK
)

1197 
	#SUBQ_IMPL
 \

1199 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è- GPR(
RB
)); \

1200 
	}

	)
}

1201 
DEFINST
(
SUBQ
, 0x00,

1203 
IÁALU
, 
F_ICOMP
,

1204 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1206 
	#SUBQI_IMPL
 \

1208 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è- 
IMM
); \

1209 }

	)

1210 
DEFINST
(
SUBQI
, 0x01,

1212 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1213 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1216 
	$CONNECT
(
S4SUBQ_LINK
)

1218 
	#S4SUBQ_IMPL
 \

1220 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 2è- GPR(
RB
)); \

1221 
	}

	)
}

1222 
DEFINST
(
S4SUBQ
, 0x00,

1224 
IÁALU
, 
F_ICOMP
,

1225 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1227 
	#S4SUBQI_IMPL
 \

1229 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 2è- 
IMM
); \

1230 }

	)

1231 
DEFINST
(
S4SUBQI
, 0x01,

1233 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1234 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1237 
	$CONNECT
(
CMPEQ_LINK
)

1239 
	#CMPEQ_IMPL
 \

1241 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è=ğGPR(
RB
)); \

1242 
	}

	)
}

1243 
DEFINST
(
CMPEQ
, 0x00,

1245 
IÁALU
, 
F_ICOMP
,

1246 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1248 
	#CMPEQI_IMPL
 \

1250 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è=ğ(
qwÜd_t
)
IMM
); \

1251 }

	)

1252 
DEFINST
(
CMPEQI
, 0x01,

1254 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1255 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1258 
	$CONNECT
(
S8ADDQ_LINK
)

1260 
	#S8ADDQ_IMPL
 \

1262 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 3è+ GPR(
RB
)); \

1263 
	}

	)
}

1264 
DEFINST
(
S8ADDQ
, 0x00,

1266 
IÁALU
, 
F_ICOMP
,

1267 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1269 
	#S8ADDQI_IMPL
 \

1271 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 3è+ 
IMM
); \

1272 }

	)

1273 
DEFINST
(
S8ADDQI
, 0x01,

1275 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1276 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1279 
	$CONNECT
(
S8SUBQ_LINK
)

1281 
	#S8SUBQ_IMPL
 \

1283 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 3è- GPR(
RB
)); \

1284 
	}

	)
}

1285 
DEFINST
(
S8SUBQ
, 0x00,

1287 
IÁALU
, 
F_ICOMP
,

1288 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1290 
	#S8SUBQI_IMPL
 \

1292 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< 3è- 
IMM
); \

1293 }

	)

1294 
DEFINST
(
S8SUBQI
, 0x01,

1296 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1297 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1300 
	$CONNECT
(
CMPULE_LINK
)

1302 
	#CMPULE_IMPL
 \

1304 
	`SET_GPR
(
RC
, (
qwÜd_t
)
	`GPR
(
RA
è<ğ(qwÜd_t)GPR(
RB
)); \

1305 
	}

	)
}

1306 
DEFINST
(
CMPULE
, 0x00,

1308 
IÁALU
, 
F_ICOMP
,

1309 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1311 
	#CMPULEI_IMPL
 \

1313 
	`SET_GPR
(
RC
, (
qwÜd_t
)
	`GPR
(
RA
è<ğ(qwÜd_t)
IMM
); \

1314 }

	)

1315 
DEFINST
(
CMPULEI
, 0x01,

1317 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1318 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1321 
	$CONNECT
(
ADDLV_LINK
)

1323 
	#ADDLV_IMPL
 \

1326 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è+ GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

1327 
	}

	)
}

1328 
DEFINST
(
ADDLV
, 0x00,

1330 
IÁALU
, 
F_ICOMP
,

1331 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1333 
	#ADDLVI_IMPL
 \

1336 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è+ 
IMM
è& 
	`ULL
(0xffffffff))); \

1337 }

	)

1338 
DEFINST
(
ADDLVI
, 0x01,

1340 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1341 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1344 
	$CONNECT
(
SUBLV_LINK
)

1346 
	#SUBLV_IMPL
 \

1348 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è- GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

1349 
	}

	)
}

1350 
DEFINST
(
SUBLV
, 0x00,

1352 
IÁALU
, 
F_ICOMP
,

1353 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1355 
	#SUBLVI_IMPL
 \

1357 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è- 
IMM
è& 
	`ULL
(0xffffffff))); \

1358 }

	)

1359 
DEFINST
(
SUBLVI
, 0x01,

1361 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1362 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1365 
	$CONNECT
(
CMPLT_LINK
)

1367 
	#CMPLT_IMPL
 \

1369 
	`SET_GPR
(
RC
, (
sqwÜd_t
)
	`GPR
(
RA
è< (sqwÜd_t)GPR(
RB
)); \

1370 
	}

	)
}

1371 
DEFINST
(
CMPLT
, 0x00,

1373 
IÁALU
, 
F_ICOMP
,

1374 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1376 
	#CMPLTI_IMPL
 \

1378 
	`SET_GPR
(
RC
, (
sqwÜd_t
)
	`GPR
(
RA
è< (sqwÜd_t)
IMM
); \

1379 }

	)

1380 
DEFINST
(
CMPLTI
, 0x01,

1382 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1383 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1386 
	$CONNECT
(
ADDQV_LINK
)

1388 
	#ADDQV_IMPL
 \

1391 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è+ GPR(
RB
)); \

1392 
	}

	)
}

1393 
DEFINST
(
ADDQV
, 0x00,

1395 
IÁALU
, 
F_ICOMP
,

1396 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1398 
	#ADDQVI_IMPL
 \

1401 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è+ 
IMM
); \

1402 }

	)

1403 
DEFINST
(
ADDQVI
, 0x01,

1405 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1406 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1409 
	$CONNECT
(
SUBQV_LINK
)

1411 
	#SUBQV_IMPL
 \

1414 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è- GPR(
RB
)); \

1415 
	}

	)
}

1416 
DEFINST
(
SUBQV
, 0x00,

1418 
IÁALU
, 
F_ICOMP
,

1419 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1421 
	#SUBQVI_IMPL
 \

1424 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è- 
IMM
); \

1425 }

	)

1426 
DEFINST
(
SUBQVI
, 0x01,

1428 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1429 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1432 
	$CONNECT
(
CMPLE_LINK
)

1434 
	#CMPLE_IMPL
 \

1436 
	`SET_GPR
(
RC
, (
sqwÜd_t
)
	`GPR
(
RA
è<ğ(sqwÜd_t)GPR(
RB
)); \

1437 
	}

	)
}

1438 
DEFINST
(
CMPLE
, 0x00,

1440 
IÁALU
, 
F_ICOMP
,

1441 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1443 
	#CMPLEI_IMPL
 \

1445 
	`SET_GPR
(
RC
, (
sqwÜd_t
)
	`GPR
(
RA
è<ğ(sqwÜd_t)
IMM
); \

1446 }

	)

1447 
DEFINST
(
CMPLEI
, 0x01,

1449 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1450 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1453 
	$CONNECT
(
INTL
)

1455 
	`DEFLINK
(
AND_LINK
, 0x00, "and_link", 12, 1)

1457 
	`DEFLINK
(
BIC_LINK
, 0x08, "bic_link", 12, 1)

1459 
	`DEFLINK
(
CMOVLBS_LINK
, 0x14, "cmovlbs_link", 12, 1)

1461 
	`DEFLINK
(
CMOVLBC_LINK
, 0x16, "cmovlbc_link", 12, 1)

1464 
	`DEFLINK
(
BIS_LINK
, 0x20, "bis_link", 12, 1)

1466 
	`DEFLINK
(
CMOVEQ_LINK
, 0x24, "cmoveq_link", 12, 1)

1468 
	`DEFLINK
(
CMOVNE_LINK
, 0x26, "cmovne_link", 12, 1)

1470 
	`DEFLINK
(
ORNOT_LINK
, 0x28, "ornot_link", 12, 1)

1472 
	`DEFLINK
(
XOR_LINK
, 0x40, "xor_link", 12, 1)

1474 
	`DEFLINK
(
CMOVLT_LINK
, 0x44, "cmovlt_link", 12, 1)

1476 
	`DEFLINK
(
CMOVGE_LINK
, 0x46, "cmovge_link", 12, 1)

1478 
	`DEFLINK
(
EQV_LINK
, 0x48, "eqv_link", 12, 1)

1481 
	`DEFLINK
(
AMASK_LINK
, 0x61, "amask_link", 12, 1)

1483 
	`DEFLINK
(
CMOVLE_LINK
, 0x64, "cmovle_link", 12, 1)

1485 
	`DEFLINK
(
CMOVGT_LINK
, 0x66, "cmovgt_link", 12, 1)

1492 
	#IMPLVER_IMPL
 \

1494 
	`SET_GPR
(
RC
, 
	`ULL
(2)); \

1495 
	}

	)
}

1496 
DEFINST
(
IMPLVER
, 0x6c,

1498 
NA
, NA,

1499 
DGPR
(
RC
), 
DNA
, DNA, DNA, DNA)

1502 
	$CONNECT
(
AND_LINK
)

1504 
	#AND_IMPL
 \

1506 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& GPR(
RB
)); \

1507 
	}

	)
}

1508 
DEFINST
(
AND
, 0x00,

1510 
IÁALU
, 
F_ICOMP
,

1511 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1513 
	#ANDI_IMPL
 \

1515 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& 
IMM
); \

1516 }

	)

1517 
DEFINST
(
ANDI
, 0x01,

1519 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1520 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1523 
	$CONNECT
(
BIC_LINK
)

1525 
	#BIC_IMPL
 \

1527 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~GPR(
RB
)); \

1528 
	}

	)
}

1529 
DEFINST
(
BIC
, 0x00,

1531 
IÁALU
, 
F_ICOMP
,

1532 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1534 
	#BICI_IMPL
 \

1536 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~
IMM
); \

1537 }

	)

1538 
DEFINST
(
BICI
, 0x01,

1540 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1541 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1544 
	$CONNECT
(
CMOVLBS_LINK
)

1546 
	#CMOVLBS_IMPL
 \

1548 ià(
	`GPR
(
RA
) & 1) \

1549 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1550 
	}

	)
}

1551 
DEFINST
(
CMOVLBS
, 0x00,

1553 
IÁALU
, 
F_ICOMP
,

1554 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1556 
	#CMOVLBSI_IMPL
 \

1558 ià(
	`GPR
(
RA
) & 1) \

1559 
	`SET_GPR
(
RC
, 
IMM
); \

1560 }

	)

1561 
DEFINST
(
CMOVLBSI
, 0x01,

1563 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1564 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1567 
	$CONNECT
(
CMOVLBC_LINK
)

1569 
	#CMOVLBC_IMPL
 \

1571 ià((
	`GPR
(
RA
) & 1) == 0) \

1572 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1573 
	}

	)
}

1574 
DEFINST
(
CMOVLBC
, 0x00,

1576 
IÁALU
, 
F_ICOMP
,

1577 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1579 
	#CMOVLBCI_IMPL
 \

1581 ià((
	`GPR
(
RA
) & 1) == 0) \

1582 
	`SET_GPR
(
RC
, 
IMM
); \

1583 }

	)

1584 
DEFINST
(
CMOVLBCI
, 0x01,

1586 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1587 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1590 
	$CONNECT
(
BIS_LINK
)

1592 
	#BIS_IMPL
 \

1594 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è| GPR(
RB
)); \

1595 
	}

	)
}

1596 
DEFINST
(
BIS
, 0x00,

1598 
IÁALU
, 
F_ICOMP
,

1599 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1601 
	#BISI_IMPL
 \

1603 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è| 
IMM
); \

1604 }

	)

1605 
DEFINST
(
BISI
, 0x01,

1607 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1608 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1611 
	$CONNECT
(
CMOVEQ_LINK
)

1613 
	#CMOVEQ_IMPL
 \

1615 ià(
	`GPR
(
RA
) == 0) \

1616 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1617 
	}

	)
}

1618 
DEFINST
(
CMOVEQ
, 0x00,

1620 
IÁALU
, 
F_ICOMP
,

1621 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1623 
	#CMOVEQI_IMPL
 \

1625 ià(
	`GPR
(
RA
) == 0) \

1626 
	`SET_GPR
(
RC
, 
IMM
); \

1627 }

	)

1628 
DEFINST
(
CMOVEQI
, 0x01,

1630 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1631 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1634 
	$CONNECT
(
CMOVNE_LINK
)

1636 
	#CMOVNE_IMPL
 \

1638 ià(
	`GPR
(
RA
) != 0) \

1639 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1640 
	}

	)
}

1641 
DEFINST
(
CMOVNE
, 0x00,

1643 
IÁALU
, 
F_ICOMP
,

1644 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1646 
	#CMOVNEI_IMPL
 \

1648 ià(
	`GPR
(
RA
) != 0) \

1649 
	`SET_GPR
(
RC
, 
IMM
); \

1650 }

	)

1651 
DEFINST
(
CMOVNEI
, 0x01,

1653 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1654 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1657 
	$CONNECT
(
ORNOT_LINK
)

1659 
	#ORNOT_IMPL
 \

1661 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è| ~GPR(
RB
)); \

1662 
	}

	)
}

1663 
DEFINST
(
ORNOT
, 0x00,

1665 
IÁALU
, 
F_ICOMP
,

1666 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1668 
	#ORNOTI_IMPL
 \

1670 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è| ~
IMM
); \

1671 }

	)

1672 
DEFINST
(
ORNOTI
, 0x01,

1674 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1675 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1678 
	$CONNECT
(
XOR_LINK
)

1680 
	#XOR_IMPL
 \

1682 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è^ GPR(
RB
)); \

1683 
	}

	)
}

1684 
DEFINST
(
XOR
, 0x00,

1686 
IÁALU
, 
F_ICOMP
,

1687 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1689 
	#XORI_IMPL
 \

1691 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è^ 
IMM
); \

1692 }

	)

1693 
DEFINST
(
XORI
, 0x01,

1695 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1696 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1699 
	$CONNECT
(
CMOVLT_LINK
)

1701 
	#CMOVLT_IMPL
 \

1703 ià((
sqwÜd_t
)
	`GPR
(
RA
è< 
	`LL
(0)) \

1704 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1705 
	}

	)
}

1706 
DEFINST
(
CMOVLT
, 0x00,

1708 
IÁALU
, 
F_ICOMP
,

1709 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1711 
	#CMOVLTI_IMPL
 \

1713 ià((
sqwÜd_t
)
	`GPR
(
RA
è< 
	`LL
(0)) \

1714 
	`SET_GPR
(
RC
, 
IMM
); \

1715 }

	)

1716 
DEFINST
(
CMOVLTI
, 0x01,

1718 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1719 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1722 
	$CONNECT
(
CMOVGE_LINK
)

1724 
	#CMOVGE_IMPL
 \

1726 ià((
sqwÜd_t
)
	`GPR
(
RA
è>ğ
	`LL
(0)) \

1727 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1728 
	}

	)
}

1729 
DEFINST
(
CMOVGE
, 0x00,

1731 
IÁALU
, 
F_ICOMP
,

1732 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1734 
	#CMOVGEI_IMPL
 \

1736 ià((
sqwÜd_t
)
	`GPR
(
RA
è>ğ
	`LL
(0)) \

1737 
	`SET_GPR
(
RC
, 
IMM
); \

1738 }

	)

1739 
DEFINST
(
CMOVGEI
, 0x01,

1741 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1742 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1745 
	$CONNECT
(
EQV_LINK
)

1747 
	#EQV_IMPL
 \

1749 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è^ ~GPR(
RB
)); \

1750 
	}

	)
}

1751 
DEFINST
(
EQV
, 0x00,

1753 
IÁALU
, 
F_ICOMP
,

1754 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1756 
	#EQVI_IMPL
 \

1758 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è^ ~
IMM
); \

1759 }

	)

1760 
DEFINST
(
EQVI
, 0x01,

1762 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1763 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1767 
	$CONNECT
(
AMASK_LINK
)

1775 
	#AMASK_IMPL
 \

1777 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
è& 
	`ULL
(0xfffffffffffffef8)); \

1778 
	}

	)
}

1779 
DEFINST
(
AMASK
, 0x00,

1781 
NA
, NA,

1782 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

1784 
	#AMASKI_IMPL
 \

1786 
	`SET_GPR
(
RC
, 
IMM
 & 
	`ULL
(0xfffffffffffffef8)); \

1787 }

	)

1788 
DEFINST
(
AMASKI
, 0x01,

1790 
NA
, 
F_IMM
,

1791 
DGPR
(
RC
), 
DNA
, DNA, DNA, DNA)

1794 
	$CONNECT
(
CMOVLE_LINK
)

1796 
	#CMOVLE_IMPL
 \

1798 ià((
sqwÜd_t
)
	`GPR
(
RA
è<ğ
	`LL
(0)) \

1799 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1800 
	}

	)
}

1801 
DEFINST
(
CMOVLE
, 0x00,

1803 
IÁALU
, 
F_ICOMP
,

1804 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1806 
	#CMOVLEI_IMPL
 \

1808 ià((
sqwÜd_t
)
	`GPR
(
RA
è<ğ
	`LL
(0)) \

1809 
	`SET_GPR
(
RC
, 
IMM
); \

1810 }

	)

1811 
DEFINST
(
CMOVLEI
, 0x01,

1813 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1814 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1817 
	$CONNECT
(
CMOVGT_LINK
)

1819 
	#CMOVGT_IMPL
 \

1821 ià((
sqwÜd_t
)
	`GPR
(
RA
è> 
	`LL
(0)) \

1822 
	`SET_GPR
(
RC
, 
	`GPR
(
RB
)); \

1823 
	}

	)
}

1824 
DEFINST
(
CMOVGT
, 0x00,

1826 
IÁALU
, 
F_ICOMP
,

1827 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1829 
	#CMOVGTI_IMPL
 \

1831 ià((
sqwÜd_t
)
	`GPR
(
RA
è> 
	`LL
(0)) \

1832 
	`SET_GPR
(
RC
, 
IMM
); \

1833 }

	)

1834 
DEFINST
(
CMOVGTI
, 0x01,

1836 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1837 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1840 
	$CONNECT
(
INTS
)

1842 
	`DEFLINK
(
MSKBL_LINK
, 0x02, "mskbl_link", 12, 1)

1844 
	`DEFLINK
(
EXTBL_LINK
, 0x06, "extbl_link", 12, 1)

1846 
	`DEFLINK
(
INSBL_LINK
, 0x0b, "insbl_link", 12, 1)

1848 
	`DEFLINK
(
MSKWL_LINK
, 0x12, "mskwl_link", 12, 1)

1850 
	`DEFLINK
(
EXTWL_LINK
, 0x16, "extwl_link", 12, 1)

1852 
	`DEFLINK
(
INSWL_LINK
, 0x1b, "inswl_link", 12, 1)

1854 
	`DEFLINK
(
MSKLL_LINK
, 0x22, "mskll_link", 12, 1)

1856 
	`DEFLINK
(
EXTLL_LINK
, 0x26, "extll_link", 12, 1)

1858 
	`DEFLINK
(
INSLL_LINK
, 0x2b, "insll_link", 12, 1)

1860 
	`DEFLINK
(
ZAP_LINK
, 0x30, "zap_link", 12, 1)

1862 
	`DEFLINK
(
ZAPNOT_LINK
, 0x31, "zapnot_link", 12, 1)

1864 
	`DEFLINK
(
MSKQL_LINK
, 0x32, "mskql_link", 12, 1)

1866 
	`DEFLINK
(
SRL_LINK
, 0x34, "srl_link", 12, 1)

1868 
	`DEFLINK
(
EXTQL_LINK
, 0x36, "extql_link", 12, 1)

1870 
	`DEFLINK
(
SLL_LINK
, 0x39, "sll_link", 12, 1)

1872 
	`DEFLINK
(
INSQL_LINK
, 0x3b, "insql_link", 12, 1)

1874 
	`DEFLINK
(
SRA_LINK
, 0x3c, "sra_link", 12, 1)

1876 
	`DEFLINK
(
MSKWH_LINK
, 0x52, "mskwh_link", 12, 1)

1878 
	`DEFLINK
(
INSWH_LINK
, 0x57, "inswh_link", 12, 1)

1880 
	`DEFLINK
(
EXTWH_LINK
, 0x5a, "extwh_link", 12, 1)

1882 
	`DEFLINK
(
MSKLH_LINK
, 0x62, "msklh_link", 12, 1)

1884 
	`DEFLINK
(
INSLH_LINK
, 0x67, "inslh_link", 12, 1)

1886 
	`DEFLINK
(
EXTLH_LINK
, 0x6a, "extlh_link", 12, 1)

1888 
	`DEFLINK
(
MSKQH_LINK
, 0x72, "mskqh_link", 12, 1)

1890 
	`DEFLINK
(
INSQH_LINK
, 0x77, "insqh_link", 12, 1)

1892 
	`DEFLINK
(
EXTQH_LINK
, 0x7a, "extqh_link", 12, 1)

1895 
	$CONNECT
(
MSKBL_LINK
)

1897 
	#MSKBL_IMPL
 \

1899 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffè<< ((GPR(
RB
) & 0x7) * 8))); \

1900 
	}

	)
}

1901 
DEFINST
(
MSKBL
, 0x00,

1903 
IÁALU
, 
F_ICOMP
,

1904 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1906 
	#MSKBLI_IMPL
 \

1908 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffè<< ((
IMM
 & 0x7) * 8))); \

1909 }

	)

1910 
DEFINST
(
MSKBLI
, 0x01,

1912 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1913 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1916 
	$CONNECT
(
EXTBL_LINK
)

1918 
	#EXTBL_IMPL
 \

1920 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è>> ((GPR(
RB
è& 0x7è* 8)è& 
	`LL
(0xff)); \

1921 
	}

	)
}

1922 
DEFINST
(
EXTBL
, 0x00,

1924 
IÁALU
, 
F_ICOMP
,

1925 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1927 
	#EXTBLI_IMPL
 \

1929 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è>> ((
IMM
 & 0x7è* 8)è& 
	`LL
(0xff)); \

1930 }

	)

1931 
DEFINST
(
EXTBLI
, 0x01,

1933 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1934 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1937 
	$CONNECT
(
INSBL_LINK
)

1939 
	#INSBL_IMPL
 \

1941 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((GPR(
RB
) & 0x7) * 8)) \

1942 & (
	`ULL
(0xffè<< ((
	`GPR
(
RB
) & 0x7) * 8)))); \

1943 
	}

	)
}

1944 
DEFINST
(
INSBL
, 0x00,

1946 
IÁALU
, 
F_ICOMP
,

1947 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1949 
	#INSBLI_IMPL
 \

1951 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((
IMM
 & 0x7) * 8)) \

1952 & (
	`ULL
(0xffè<< ((
IMM
 & 0x7) * 8)))); \

1953 }

	)

1954 
DEFINST
(
INSBLI
, 0x01,

1956 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1957 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1960 
	$CONNECT
(
MSKWL_LINK
)

1962 
	#MSKWL_IMPL
 \

1964 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffè<< ((GPR(
RB
) & 0x7) * 8))); \

1965 
	}

	)
}

1966 
DEFINST
(
MSKWL
, 0x00,

1968 
IÁALU
, 
F_ICOMP
,

1969 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1971 
	#MSKWLI_IMPL
 \

1973 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffè<< ((
IMM
 & 0x7) * 8))); \

1974 }

	)

1975 
DEFINST
(
MSKWLI
, 0x01,

1977 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1978 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

1981 
	$CONNECT
(
EXTWL_LINK
)

1983 
	#EXTWL_IMPL
 \

1985 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è>> ((GPR(
RB
è& 0x7è* 8)è& 
	`LL
(0xffff)); \

1986 
	}

	)
}

1987 
DEFINST
(
EXTWL
, 0x00,

1989 
IÁALU
, 
F_ICOMP
,

1990 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

1992 
	#EXTWLI_IMPL
 \

1994 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è>> ((
IMM
 & 0x7è* 8)è& 
	`LL
(0xffff)); \

1995 }

	)

1996 
DEFINST
(
EXTWLI
, 0x01,

1998 
IÁALU
, 
F_ICOMP
|
F_IMM
,

1999 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2002 
	$CONNECT
(
INSWL_LINK
)

2004 
	#INSWL_IMPL
 \

2006 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((GPR(
RB
) & 0x7) * 8)) \

2007 & (
	`ULL
(0xffffè<< ((
	`GPR
(
RB
) & 0x7) * 8)))); \

2008 
	}

	)
}

2009 
DEFINST
(
INSWL
, 0x00,

2011 
IÁALU
, 
F_ICOMP
,

2012 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2014 
	#INSWLI_IMPL
 \

2016 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((
IMM
 & 0x7) * 8)) \

2017 & (
	`ULL
(0xffffè<< ((
IMM
 & 0x7) * 8)))); \

2018 }

	)

2019 
DEFINST
(
INSWLI
, 0x01,

2021 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2022 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2025 
	$CONNECT
(
MSKLL_LINK
)

2027 
	#MSKLL_IMPL
 \

2029 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffffffè<< ((GPR(
RB
) & 0x7) * 8))); \

2030 
	}

	)
}

2031 
DEFINST
(
MSKLL
, 0x00,

2033 
IÁALU
, 
F_ICOMP
,

2034 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2036 
	#MSKLLI_IMPL
 \

2038 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffffffè<< ((
IMM
 & 0x7) * 8))); \

2039 }

	)

2040 
DEFINST
(
MSKLLI
, 0x01,

2042 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2043 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2046 
	$CONNECT
(
EXTLL_LINK
)

2048 
	#EXTLL_IMPL
 \

2050 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è>> ((GPR(
RB
è& 0x7è* 8)è& 
	`LL
(0xffffffff)); \

2051 
	}

	)
}

2052 
DEFINST
(
EXTLL
, 0x00,

2054 
IÁALU
, 
F_ICOMP
,

2055 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2057 
	#EXTLLI_IMPL
 \

2059 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è>> ((
IMM
 & 0x7è* 8)è& 
	`LL
(0xffffffff)); \

2060 }

	)

2061 
DEFINST
(
EXTLLI
, 0x01,

2063 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2064 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2067 
	$CONNECT
(
INSLL_LINK
)

2069 
	#INSLL_IMPL
 \

2071 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((GPR(
RB
) & 0x7) * 8)) \

2072 & (
	`ULL
(0xffffffffè<< ((
	`GPR
(
RB
) & 0x7) * 8)))); \

2073 
	}

	)
}

2074 
DEFINST
(
INSLL
, 0x00,

2076 
IÁALU
, 
F_ICOMP
,

2077 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2079 
	#INSLLI_IMPL
 \

2081 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((
IMM
 & 0x7) * 8)) \

2082 & (
	`ULL
(0xffffffffè<< ((
IMM
 & 0x7) * 8)))); \

2083 }

	)

2084 
DEFINST
(
INSLLI
, 0x01,

2086 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2087 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2090 
	$CONNECT
(
ZAP_LINK
)

2092 
	#ZAP_IMPL
 \

2094 
_i
; \

2095 
qwÜd_t
 
_‹mp
 = 
	`LL
(0xff); \

2096 
qwÜd_t
 
_¿v
 = 
	`GPR
(
RA
); \

2097 
qwÜd_t
 
_rbv
 = 
	`GPR
(
RB
); \

2099 
	`SET_GPR
(
RC
, 0); \

2100 
_i
 = 1; _i < 0x100; _i = _i << 1) \

2102 ià(
_i
 & ~
_rbv
) \

2103 
	`SET_GPR
(
RC
, 
	`GPR
(RCè| (
_¿v
 & 
_‹mp
)); \

2104 
_‹mp
 = _temp << 8; \

2106 
	}

	)
}

2107 
DEFINST
(
ZAP
, 0x00,

2109 
IÁALU
, 
F_ICOMP
,

2110 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2112 
	#ZAPI_IMPL
 \

2114 
_i
; \

2115 
qwÜd_t
 
_‹mp
 = 
	`LL
(0xff); \

2116 
qwÜd_t
 
_¿v
 = 
	`GPR
(
RA
); \

2117 
qwÜd_t
 
_rbv
 = 
IMM
; \

2119 
	`SET_GPR
(
RC
, 0); \

2120 
_i
 = 1; _i < 0x100; _i = _i << 1) \

2122 ià(
_i
 & ~
_rbv
) \

2123 
	`SET_GPR
(
RC
, 
	`GPR
(RCè| (
_¿v
 & 
_‹mp
)); \

2124 
_‹mp
 = _temp << 8; \

2126 }

	)

2127 
DEFINST
(
ZAPI
, 0x01,

2129 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2130 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2133 
	$CONNECT
(
ZAPNOT_LINK
)

2135 
	#ZAPNOT_IMPL
 \

2137 
_i
; \

2138 
qwÜd_t
 
_‹mp
 = 
	`LL
(0xff); \

2139 
qwÜd_t
 
_¿v
 = 
	`GPR
(
RA
); \

2140 
qwÜd_t
 
_rbv
 = 
	`GPR
(
RB
); \

2142 
	`SET_GPR
(
RC
, 0); \

2143 
_i
 = 1; _i < 0x100; _i = _i << 1) \

2145 ià(
_i
 & 
_rbv
) \

2146 
	`SET_GPR
(
RC
, 
	`GPR
(RCè| (
_¿v
 & 
_‹mp
)); \

2147 
_‹mp
 = _temp << 8; \

2149 
	}

	)
}

2150 
DEFINST
(
ZAPNOT
, 0x00,

2152 
IÁALU
, 
F_ICOMP
,

2153 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2155 
	#ZAPNOTI_IMPL
 \

2157 
_i
; \

2158 
qwÜd_t
 
_‹mp
 = 
	`LL
(0xff); \

2159 
qwÜd_t
 
_¿v
 = 
	`GPR
(
RA
); \

2160 
qwÜd_t
 
_rbv
 = 
IMM
; \

2162 
	`SET_GPR
(
RC
, 0); \

2163 
_i
 = 1; _i < 0x100; _i = _i << 1) \

2165 ià(
_i
 & 
_rbv
) \

2166 
	`SET_GPR
(
RC
, 
	`GPR
(RCè| (
_¿v
 & 
_‹mp
)); \

2167 
_‹mp
 = _temp << 8; \

2169 }

	)

2170 
DEFINST
(
ZAPNOTI
, 0x01,

2172 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2173 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2176 
	$CONNECT
(
MSKQL_LINK
)

2178 
	#MSKQL_IMPL
 \

2180 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
) \

2181 & ~(
	`ULL
(0xffffffffffffffff) \

2182 << ((
	`GPR
(
RB
) & 0x7) * 8)))); \

2183 
	}

	)
}

2184 
DEFINST
(
MSKQL
, 0x00,

2186 
IÁALU
, 
F_ICOMP
,

2187 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2189 
	#MSKQLI_IMPL
 \

2191 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
) \

2192 & ~(
	`ULL
(0xffffffffffffffffè<< ((
IMM
 & 0x7) * 8)))); \

2193 }

	)

2194 
DEFINST
(
MSKQLI
, 0x01,

2196 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2197 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2200 
	$CONNECT
(
SRL_LINK
)

2202 
	#SRL_IMPL
 \

2204 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è>> (GPR(
RB
) & 0x3f)); \

2205 
	}

	)
}

2206 
DEFINST
(
SRL
, 0x00,

2208 
IÁALU
, 
F_ICOMP
,

2209 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2211 
	#SRLI_IMPL
 \

2213 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è>> (
IMM
 & 0x3f)); \

2214 }

	)

2215 
DEFINST
(
SRLI
, 0x01,

2217 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2218 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2221 
	$CONNECT
(
EXTQL_LINK
)

2223 
	#EXTQL_IMPL
 \

2225 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è>> ((GPR(
RB
) & 0x7) * 8)); \

2226 
	}

	)
}

2227 
DEFINST
(
EXTQL
, 0x00,

2229 
IÁALU
, 
F_ICOMP
,

2230 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2232 
	#EXTQLI_IMPL
 \

2234 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è>> ((
IMM
 & 0x7) * 8)); \

2235 }

	)

2236 
DEFINST
(
EXTQLI
, 0x01,

2238 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2239 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2242 
	$CONNECT
(
SLL_LINK
)

2244 
	#SLL_IMPL
 \

2246 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è<< (GPR(
RB
) & 0x3f)); \

2247 
	}

	)
}

2248 
DEFINST
(
SLL
, 0x00,

2250 
IÁALU
, 
F_ICOMP
,

2251 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2253 
	#SLLI_IMPL
 \

2255 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è<< (
IMM
 & 0x3f)); \

2256 }

	)

2257 
DEFINST
(
SLLI
, 0x01,

2259 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2260 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2263 
	$CONNECT
(
INSQL_LINK
)

2265 
	#INSQL_IMPL
 \

2267 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((GPR(
RB
) & 0x7) * 8)) \

2268 & (
	`ULL
(0xffffffffffffffffè<< ((
	`GPR
(
RB
) & 0x7) * 8))));\

2269 
	}

	)
}

2270 
DEFINST
(
INSQL
, 0x00,

2272 
IÁALU
, 
F_ICOMP
,

2273 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2275 
	#INSQLI_IMPL
 \

2277 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è<< ((
IMM
 & 0x7) * 8)) \

2278 & (
	`ULL
(0xffffffffffffffffè<< ((
IMM
 & 0x7) * 8)))); \

2279 }

	)

2280 
DEFINST
(
INSQLI
, 0x01,

2282 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2283 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2285 
	$CONNECT
(
SRA_LINK
)

2287 
	#SRA_IMPL
 \

2289 
	`SET_GPR
(
RC
, (
sqwÜd_t
)
	`GPR
(
RA
è>> (GPR(
RB
) & 0x3f)); \

2290 
	}

	)
}

2291 
DEFINST
(
SRA
, 0x00,

2293 
IÁALU
, 
F_ICOMP
,

2294 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2296 
	#SRAI_IMPL
 \

2298 
	`SET_GPR
(
RC
, (
sqwÜd_t
)
	`GPR
(
RA
è>> (
IMM
 & 0x3f)); \

2299 }

	)

2300 
DEFINST
(
SRAI
, 0x01,

2302 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2303 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2306 
	$CONNECT
(
MSKWH_LINK
)

2308 
	#MSKWH_IMPL
 \

2310 ià((
	`GPR
(
RB
) & 0x7) != 0) \

2311 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffè>> ((8 - (GPR(
RB
) & 0x7)) * 8)));\

2313 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
)); \

2314 
	}

	)
}

2315 
DEFINST
(
MSKWH
, 0x00,

2317 
IÁALU
, 
F_ICOMP
,

2318 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2320 
	#MSKWHI_IMPL
 \

2322 ià((
IMM
 & 0x7) != 0) \

2323 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffè>> ((8 - (
IMM
 & 0x7)) * 8))); \

2325 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
)); \

2326 }

	)

2327 
DEFINST
(
MSKWHI
, 0x01,

2329 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2330 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2333 
	$CONNECT
(
INSWH_LINK
)

2335 
	#INSWH_IMPL
 \

2337 ià((
	`GPR
(
RB
) & 0x7) != 0) \

2338 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è>> (63 - (GPR(
RB
) & 0x7) * 8)) >> 1 \

2339 & (
	`ULL
(0xffffè>> ((8 - (
	`GPR
(
RB
) & 0x7)) * 8)))); \

2341 
	`SET_GPR
(
RC
, 0); \

2342 
	}

	)
}

2343 
DEFINST
(
INSWH
, 0x00,

2345 
IÁALU
, 
F_ICOMP
,

2346 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2348 
	#INSWHI_IMPL
 \

2350 ià((
IMM
 & 0x7) != 0) \

2351 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è>> (63 - (
IMM
 & 0x7) * 8)) >> 1 \

2352 & (
	`ULL
(0xffffè>> ((8 - (
IMM
 & 0x7)) * 8)))); \

2354 
	`SET_GPR
(
RC
, 0); \

2355 }

	)

2356 
DEFINST
(
INSWHI
, 0x01,

2358 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2359 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2362 
	$CONNECT
(
EXTWH_LINK
)

2364 
	#EXTWH_IMPL
 \

2366 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< ((64 - (GPR(
RB
)&0x7è* 8è& 0x3f)è& 
	`LL
(0xffff));\

2367 
	}

	)
}

2368 
DEFINST
(
EXTWH
, 0x00,

2370 
IÁALU
, 
F_ICOMP
,

2371 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2373 
	#EXTWHI_IMPL
 \

2375 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< ((64 - (
IMM
 & 0x7è* 8è& 0x3f)è& 
	`LL
(0xffff));\

2376 }

	)

2377 
DEFINST
(
EXTWHI
, 0x01,

2379 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2380 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2383 
	$CONNECT
(
MSKLH_LINK
)

2385 
	#MSKLH_IMPL
 \

2387 ià((
	`GPR
(
RB
) & 0x7) != 0) \

2388 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffffff) >> \

2389 ((8 - (
	`GPR
(
RB
) & 0x7)) * 8))); \

2391 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
)); \

2392 
	}

	)
}

2393 
DEFINST
(
MSKLH
, 0x00,

2395 
IÁALU
, 
F_ICOMP
,

2396 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2398 
	#MSKLHI_IMPL
 \

2400 ià((
IMM
 & 0x7) != 0) \

2401 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è& ~(
	`ULL
(0xffffffff) >> \

2402 ((8 - (
IMM
 & 0x7)) * 8))); \

2404 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
)); \

2405 }

	)

2406 
DEFINST
(
MSKLHI
, 0x01,

2408 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2409 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2412 
	$CONNECT
(
INSLH_LINK
)

2414 
	#INSLH_IMPL
 \

2416 ià((
	`GPR
(
RB
) & 0x7) != 0) \

2417 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è>> (63 - (GPR(
RB
) & 0x7) * 8)) >> 1 \

2418 & (
	`ULL
(0xffffffffè>> ((8 - (
	`GPR
(
RB
) & 0x7)) * 8))));\

2420 
	`SET_GPR
(
RC
, 0); \

2421 
	}

	)
}

2422 
DEFINST
(
INSLH
, 0x00,

2424 
IÁALU
, 
F_ICOMP
,

2425 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2427 
	#INSLHI_IMPL
 \

2429 ià((
IMM
 & 0x7) != 0) \

2430 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è>> (63 - (
IMM
 & 0x7) * 8)) >> 1 \

2431 & (
	`ULL
(0xffffffffè>> ((8 - (
IMM
 & 0x7)) * 8)))); \

2432 
	`SET_GPR
(
RC
, 0); \

2433 }

	)

2434 
DEFINST
(
INSLHI
, 0x01,

2436 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2437 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2440 
	$CONNECT
(
EXTLH_LINK
)

2442 
	#EXTLH_IMPL
 \

2444 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
) << \

2445 ((64 - (
	`GPR
(
RB
è& 0x7è* 8è& 0x3f)è& 
	`LL
(0xffffffff));\

2446 
	}

	)
}

2447 
DEFINST
(
EXTLH
, 0x00,

2449 
IÁALU
, 
F_ICOMP
,

2450 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2452 
	#EXTLHI_IMPL
 \

2454 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< ((64 - (
IMM
&0x7è* 8è& 0x3f)è& 
	`LL
(0xffffffff));\

2455 }

	)

2456 
DEFINST
(
EXTLHI
, 0x01,

2458 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2459 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2462 
	$CONNECT
(
MSKQH_LINK
)

2464 
	#MSKQH_IMPL
 \

2466 ià((
	`GPR
(
RB
) & 0x7) != 0) \

2467 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è& ~(
	`ULL
(0xffffffffffffffff) \

2468 >> ((8 - (
	`GPR
(
RB
) & 0x7)) * 8)))); \

2470 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
)); \

2471 
	}

	)
}

2472 
DEFINST
(
MSKQH
, 0x00,

2474 
IÁALU
, 
F_ICOMP
,

2475 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2477 
	#MSKQHI_IMPL
 \

2479 ià((
IMM
 & 0x7) != 0) \

2480 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è& ~(
	`ULL
(0xffffffffffffffff) \

2481 >> ((8 - (
IMM
 & 0x7)) * 8)))); \

2483 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
)); \

2484 }

	)

2485 
DEFINST
(
MSKQHI
, 0x01,

2487 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2488 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2491 
	$CONNECT
(
INSQH_LINK
)

2493 
	#INSQH_IMPL
 \

2495 ià((
	`GPR
(
RB
) & 0x7) != 0) \

2496 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è>> (63 - (GPR(
RB
) & 0x7) * 8)) >> 1 \

2497 & (
	`ULL
(0xffffffffffffffff) \

2498 >> ((8 - (
	`GPR
(
RB
) & 0x7)) * 8)))); \

2500 
	`SET_GPR
(
RC
, 0); \

2501 
	}

	)
}

2502 
DEFINST
(
INSQH
, 0x00,

2504 
IÁALU
, 
F_ICOMP
,

2505 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2507 
	#INSQHI_IMPL
 \

2509 ià((
IMM
 & 0x7) != 0) \

2510 
	`SET_GPR
(
RC
, ((
	`GPR
(
RA
è>> (63 - (
IMM
 & 0x7) * 8)) >> 1 \

2511 & (
	`ULL
(0xffffffffffffffff) \

2512 >> ((8 - (
IMM
 & 0x7)) * 8)))); \

2514 
	`SET_GPR
(
RC
, 0); \

2515 }

	)

2516 
DEFINST
(
INSQHI
, 0x01,

2518 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2519 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2522 
	$CONNECT
(
EXTQH_LINK
)

2524 
	#EXTQH_IMPL
 \

2526 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< ((64 - (GPR(
RB
) & 0x7) * 8) & 0x3f))); \

2527 
	}

	)
}

2528 
DEFINST
(
EXTQH
, 0x00,

2530 
IÁALU
, 
F_ICOMP
,

2531 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2533 
	#EXTQHI_IMPL
 \

2535 
	`SET_GPR
(
RC
, (
	`GPR
(
RA
è<< ((64 - (
IMM
 & 0x7) * 8) & 0x3f))); \

2536 }

	)

2537 
DEFINST
(
EXTQHI
, 0x01,

2539 
IÁALU
, 
F_ICOMP
|
F_IMM
,

2540 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2543 
	$CONNECT
(
INTM
)

2550 
	`DEFLINK
(
MULL_LINK
, 0x00, "mull_link", 12, 1)

2552 
	`DEFLINK
(
MULQ_LINK
, 0x20, "mulq_link", 12, 1)

2554 
	`DEFLINK
(
UMULH_LINK
, 0x30, "umulh_link", 12, 1)

2557 
	$CONNECT
(
MULL_LINK
)

2559 
	#MULL_IMPL
 \

2561 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è* GPR(
RB
)è& 
	`ULL
(0xffffffff))); \

2562 
	}

	)
}

2563 
DEFINST
(
MULL
, 0x00,

2565 
IÁMULT
, 
F_ICOMP
,

2566 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2568 
	#MULLI_IMPL
 \

2570 
	`SET_GPR
(
RC
, 
	`SEXT32
((
	`GPR
(
RA
è* 
IMM
è& 
	`ULL
(0xffffffff))); \

2571 }

	)

2572 
DEFINST
(
MULLI
, 0x01,

2574 
IÁMULT
, 
F_ICOMP
|
F_IMM
,

2575 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2578 
	$CONNECT
(
MULQ_LINK
)

2580 
	#MULQ_IMPL
 \

2582 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è* GPR(
RB
)); \

2583 
	}

	)
}

2584 
DEFINST
(
MULQ
, 0x00,

2586 
IÁMULT
, 
F_ICOMP
,

2587 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2589 
	#MULQI_IMPL
 \

2591 
	`SET_GPR
(
RC
, 
	`GPR
(
RA
è* 
IMM
); \

2592 }

	)

2593 
DEFINST
(
MULQI
, 0x01,

2595 
IÁMULT
, 
F_ICOMP
|
F_IMM
,

2596 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2599 
	$CONNECT
(
UMULH_LINK
)

2601 
	#UMULH_IMPL
 \

2603 
sqwÜd_t
 
_v1
 = 
	`GPR
(
RA
); \

2604 
sqwÜd_t
 
_v2
 = 
	`GPR
(
RB
); \

2605 
qwÜd_t
 
_»suÉ
; \

2606 
qwÜd_t
 
_a
, 
_b
, 
_c
, 
_d
; \

2607 
qwÜd_t
 
_bd
, 
_ad
, 
_cb
, 
_ac
; \

2608 
qwÜd_t
 
_mid
, 
_mid2
, 
_ÿ¼y_mid
 = 0; \

2610 
_a
 = (
_v1
 >> 32è& 
	`LL
(0xffffffff); \

2611 
_b
 = 
_v1
 & 
	`LL
(0xffffffff); \

2612 
_c
 = (
_v2
 >> 32è& 
	`LL
(0xffffffff); \

2613 
_d
 = 
_v2
 & 
	`LL
(0xffffffff); \

2616 
_bd
 = 
_b
 * 
_d
; \

2617 
_ad
 = 
_a
 * 
_d
; \

2618 
_cb
 = 
_c
 * 
_b
; \

2619 
_ac
 = 
_a
 * 
_c
; \

2622 
_mid
 = 
_ad
 + 
_cb
; \

2623 ià(
	`ARITH_OVFL
(
_mid
, 
_ad
, 
_cb
)) \

2624 
_ÿ¼y_mid
 = 1; \

2626 
_mid2
 = 
_mid
 + ((
_bd
 >> 32è& 
	`LL
(0xffffffff)); \

2627 ià(
	`ARITH_OVFL
(
_mid2
, 
_mid
, ((
_bd
 >> 32è& 
	`LL
(0xffffffff)))) \

2628 
_ÿ¼y_mid
 += 1; \

2629 
_»suÉ
 = \

2630 
_ac
 + (
_ÿ¼y_mid
 << 32è+ ((
_mid2
 >> 32è& 
	`LL
(0xffffffff)); \

2633 
	`SET_GPR
(
RC
, 
_»suÉ
); \

2634 
	}

	)
}

2635 
DEFINST
(
UMULH
, 0x00,

2637 
IÁMULT
, 
F_ICOMP
,

2638 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

2640 
	#UMULHI_IMPL
 \

2642 
sqwÜd_t
 
_v1
 = 
	`GPR
(
RA
); \

2643 
sqwÜd_t
 
_v2
 = 
IMM
; \

2644 
qwÜd_t
 
_»suÉ
; \

2645 
qwÜd_t
 
_a
, 
_b
, 
_c
, 
_d
; \

2646 
qwÜd_t
 
_bd
, 
_ad
, 
_cb
, 
_ac
; \

2647 
qwÜd_t
 
_mid
, 
_mid2
, 
_ÿ¼y_mid
 = 0; \

2649 
_a
 = (
_v1
 >> 32è& 
	`LL
(0xffffffff); \

2650 
_b
 = 
_v1
 & 
	`LL
(0xffffffff); \

2651 
_c
 = (
_v2
 >> 32è& 
	`LL
(0xffffffff); \

2652 
_d
 = 
_v2
 & 
	`LL
(0xffffffff); \

2654 
_bd
 = 
_b
 * 
_d
; \

2655 
_ad
 = 
_a
 * 
_d
; \

2656 
_cb
 = 
_c
 * 
_b
; \

2657 
_ac
 = 
_a
 * 
_c
; \

2659 
_mid
 = 
_ad
 + 
_cb
; \

2660 ià(
	`ARITH_OVFL
(
_mid
, 
_ad
, 
_cb
)) \

2661 
_ÿ¼y_mid
 = 1; \

2663 
_mid2
 = 
_mid
 + ((
_bd
 >> 32è& 
	`LL
(0xffffffff)); \

2664 ià(
	`ARITH_OVFL
(
_mid2
, 
_mid
, ((
_bd
 >> 32è& 
	`LL
(0xffffffff)))) \

2665 
_ÿ¼y_mid
 += 1; \

2666 
_»suÉ
 = \

2667 
_ac
 + (
_ÿ¼y_mid
 << 32è+ ((
_mid2
 >> 32è& 
	`LL
(0xffffffff)); \

2669 
	`SET_GPR
(
RC
, 
_»suÉ
); \

2670 }

	)

2671 
DEFINST
(
UMULHI
, 0x01,

2673 
IÁMULT
, 
F_ICOMP
|
F_IMM
,

2674 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

2679 
	$CONNECT
(
ITFP
)

2681 
	#ITOFS_IMPL
 \

2683 
sqwÜd_t
 
_lÚghŞd
, 
_e1
, 
_e2
; \

2685 
_lÚghŞd
 = 
	`GPR
(
RA
è& 
	`ULL
(0xffffffff); \

2687 
_e1
 = 
_lÚghŞd
 & 0x40000000; \

2688 
_e2
 = (
_lÚghŞd
 >> 23è& 
	`ULL
(0x7f); \

2689 ià(
_e1
) \

2691 ià(
_e2
 =ğ
	`ULL
(0x3f800000)) \

2692 
_e2
 = 
	`ULL
(0x7ff); \

2694 
_e2
 |ğ
	`ULL
(0x400); \

2698 ià(
_e2
 == 0) \

2699 
_e2
 = 0; \

2701 
_e2
 |ğ
	`ULL
(0x380); \

2703 
	`SET_FPR_Q
(
RC
, (((
_lÚghŞd
 & 
	`ULL
(0x80000000)) << 32) \

2704 | (
_e2
 << 52è| ((
_lÚghŞd
 & 
	`ULL
(0x7fffff)) << 29)));\

2705 
	}

	)
}

2706 
DEFINST
(
ITOFS
, 0x04,

2708 
FlßtCVT
, 
F_FCOMP
,

2709 
DFPR
(
RC
), 
DNA
, 
DGPR
(
RA
), DNA, DNA)

2711 
	#SQRTF_IMPL
 \

2714 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

2715 }

	)

2716 
DEFINST
(
SQRTF
, 0x0a,

2718 
NA
, NA,

2719 
DNA
, DNA, DNA, DNA, DNA)

2722 
	#SQRTS_IMPL
 \

2724 ià(
	`FPR
(
RB
) < 0.0) \

2725 
	`DECLARE_FAULT
(
md_çuÉ_šv®id
); \

2728 
	`SET_FPR
(
RC
, (
dæßt_t
)
	`sq¹
(()
	`FPR
(
RB
))); \

2729 }

	)

2730 
DEFINST
(
SQRTS
, 0x0b,

2732 
FlßtSQRT
, 
F_FCOMP
,

2733 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2735 
	#ITOFF_IMPL
 \

2738 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

2739 }

	)

2740 
DEFINST
(
ITOFF
, 0x14,

2742 
NA
, NA,

2743 
DNA
, DNA, DNA, DNA, DNA)

2745 
	#ITOFT_IMPL
 \

2747 
	`SET_FPR_Q
(
RC
, 
	`GPR
(
RA
)); \

2748 }

	)

2749 
DEFINST
(
ITOFT
, 0x24,

2751 
FlßtCVT
, 
F_FCOMP
,

2752 
DFPR
(
RC
), 
DNA
, 
DGPR
(
RA
), DNA, DNA)

2754 
	#SQRTG_IMPL
 \

2757 
	`DECLARE_FAULT
(
md_çuÉ_unim¶
); \

2758 }

	)

2759 
DEFINST
(
SQRTG
, 0x2a,

2761 
NA
, NA,

2762 
DNA
, DNA, DNA, DNA, DNA)

2764 
	#SQRTT_IMPL
 \

2766 ià(
	`FPR
(
RB
) < 0.0) \

2767 
	`DECLARE_FAULT
(
md_çuÉ_šv®id
); \

2769 
	`SET_FPR
(
RC
, (
dæßt_t
)
	`sq¹
(()
	`FPR
(
RB
))); \

2770 }

	)

2771 
DEFINST
(
SQRTT
, 0x2b,

2773 
NA
, NA,

2774 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2777 
	$CONNECT
(
FLTI
)

2779 
	#ADDS_IMPL
 \

2782 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è+ FPR(
RB
)); \

2783 
	}

	)
}

2784 
DEFINST
(
ADDS
, 0x00,

2786 
FlßtADD
, 
F_FCOMP
,

2787 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2789 
	#SUBS_IMPL
 \

2792 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è- FPR(
RB
)); \

2793 }

	)

2794 
DEFINST
(
SUBS
, 0x01,

2796 
FlßtADD
, 
F_FCOMP
,

2797 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2799 
	#MULS_IMPL
 \

2802 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è* FPR(
RB
)); \

2803 }

	)

2804 
DEFINST
(
MULS
, 0x02,

2806 
FlßtMULT
, 
F_FCOMP
,

2807 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2809 
	#DIVS_IMPL
 \

2812 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è/ FPR(
RB
)); \

2813 }

	)

2814 
DEFINST
(
DIVS
, 0x03,

2816 
FlßtDIV
, 
F_FCOMP
,

2817 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2819 
	#ADDT_IMPL
 \

2821 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è+ FPR(
RB
)); \

2822 }

	)

2823 
DEFINST
(
ADDT
, 0x20,

2825 
FlßtADD
, 
F_FCOMP
,

2826 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2828 
	#SUBT_IMPL
 \

2830 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è- FPR(
RB
)); \

2831 }

	)

2832 
DEFINST
(
SUBT
, 0x21,

2834 
FlßtADD
, 
F_FCOMP
,

2835 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2837 
	#MULT_IMPL
 \

2839 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è* FPR(
RB
)); \

2840 }

	)

2841 
DEFINST
(
MULT
, 0x22,

2843 
FlßtMULT
, 
F_FCOMP
,

2844 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2846 
	#DIVT_IMPL
 \

2848 
	`SET_FPR
(
RC
, 
	`FPR
(
RA
è/ FPR(
RB
)); \

2849 }

	)

2850 
DEFINST
(
DIVT
, 0x23,

2852 
FlßtDIV
, 
F_FCOMP
,

2853 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2855 
	#CMPTUN_IMPL
 \

2857 
	`SET_FPR
(
RC
, (
	`IS_IEEEFP_DBL_NAN
(
	`FPR_Q
(
RA
)è|| IS_IEEEFP_DBL_NAN(FPR_Q(
RB
)))\

2860 }

	)

2861 
DEFINST
(
CMPTUN
, 0x24,

2863 
FlßtCMP
, 
F_FCOMP
,

2864 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2866 
	#CMPTEQ_IMPL
 \

2868 
	`SET_FPR
(
RC
, (((
	`FPR_Q
(
RA
è=ğFPR_Q(
RB
)) \

2869 || (
	`FPR_Q
(
RA
è<< 1 =ğ
	`ULL
(0) \

2870 && 
	`FPR_Q
(
RB
è<< 1 =ğ
	`ULL
(0))) \

2873 }

	)

2874 
DEFINST
(
CMPTEQ
, 0x25,

2876 
FlßtADD
, 
F_FCOMP
,

2877 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2879 
	#CMPTLT_IMPL
 \

2881 
	`SET_FPR
(
RC
, (
	`FPR
(
RA
è< FPR(
RB
)) ? 2.0 : 0.0); \

2882 }

	)

2883 
DEFINST
(
CMPTLT
, 0x26,

2885 
FlßtADD
, 
F_FCOMP
,

2886 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2888 
	#CMPTLE_IMPL
 \

2890 
	`SET_FPR
(
RC
, (
	`FPR
(
RA
è<ğFPR(
RB
)) ? 2.0 : 0.0); \

2891 }

	)

2892 
DEFINST
(
CMPTLE
, 0x27,

2894 
FlßtADD
, 
F_FCOMP
,

2895 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2897 
	#CVTTS_IMPL
 \

2899 
	`SET_FPR
(
RC
, ()
	`FPR
(
RB
)); \

2900 }

	)

2901 
DEFINST
(
CVTTS
, 0x2c,

2903 
FlßtADD
, 
F_FCOMP
,

2904 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2906 
	#CVTTQ_IMPL
 \

2908 
	`SET_FPR_Q
(
RC
, (
sqwÜd_t
)
	`FPR
(
RB
)); \

2909 }

	)

2910 
DEFINST
(
CVTTQ
, 0x2f,

2912 
FlßtADD
, 
F_FCOMP
,

2913 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2915 
	#CVTQS_IMPL
 \

2918 
	`SET_FPR
(
RC
, (
sqwÜd_t
)
	`FPR_Q
(
RB
)); \

2919 }

	)

2920 
DEFINST
(
CVTQS
, 0x3c,

2922 
FlßtADD
, 
F_FCOMP
,

2923 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2925 
	#CVTQT_IMPL
 \

2927 
	`SET_FPR
(
RC
, (
sqwÜd_t
)
	`FPR_Q
(
RB
)); \

2928 }

	)

2929 
DEFINST
(
CVTQT
, 0x3e,

2931 
FlßtADD
, 
F_FCOMP
,

2932 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2935 
	$CONNECT
(
FLTL
)

2937 
	#CVTLQ_IMPL
 \

2939 
sqwÜd_t
 
_lÚghŞd
; \

2940 
swÜd_t
 
_šthŞd
; \

2942 
_lÚghŞd
 = 
	`FPR_Q
(
RB
); \

2943 
_šthŞd
 = (((
_lÚghŞd
 >> 32) & 0xc0000000) \

2944 | ((
_lÚghŞd
 >> 29) & 0x3fffffff)); \

2945 
	`SET_FPR_Q
(
RC
, (
sqwÜd_t
)
_šthŞd
); \

2946 
	}

	)
}

2948 
DEFINST
(
CVTLQ
, 0x10,

2950 
FlßtADD
, 
F_FCOMP
,

2951 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

2953 
	#CPYS_IMPL
 \

2955 
	`SET_FPR_Q
(
RC
, ((
	`FPR_Q
(
RA
è& 
	`ULL
(1) << 63) \

2956 | (
	`FPR_Q
(
RB
è& 
	`LL
(0x7fffffffffffffff)))); \

2957 }

	)

2958 
DEFINST
(
CPYS
, 0x20,

2960 
FlßtADD
, 
F_FCOMP
,

2961 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2963 
	#CPYSN_IMPL
 \

2965 
	`SET_FPR_Q
(
RC
, ((
	`FPR_Q
(
RA
) >> 63 ^ 1) << 63 \

2966 | (
	`FPR_Q
(
RB
è& 
	`LL
(0x7fffffffffffffff)))); \

2967 }

	)

2968 
DEFINST
(
CPYSN
, 0x21,

2970 
FlßtADD
, 
F_FCOMP
,

2971 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2973 
	#CPYSE_IMPL
 \

2975 
	`SET_FPR_Q
(
RC
, ((
	`FPR_Q
(
RA
è& 
	`ULL
(0xfff) << 52) \

2976 | (
	`FPR_Q
(
RB
è& 
	`ULL
(0xfffffffffffff)))); \

2977 }

	)

2978 
DEFINST
(
CPYSE
, 0x22,

2980 
FlßtADD
, 
F_FCOMP
,

2981 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

2983 
	#MT_FPCR_IMPL
 \

2986 
	`SET_FPCR
(
	`FPR_Q
(
RA
)); \

2987 }

	)

2988 
DEFINST
(
MT_FPCR
, 0x24,

2990 
FlßtADD
, 
F_FCOMP
,

2991 
DFPCR
, 
DNA
, 
DFPR
(
RA
), DNA, DNA)

2993 #ifdeà
_MSC_VER


2994 
	#MF_FPCR_IMPL
 \

2998 
	`SET_FPR_Q
(
RA
, 
FPCR
); \

2999 }

	)

3001 
	#MF_FPCR_IMPL
 \

3004 
	`SET_FPR_Q
(
RA
, 
FPCR
); \

3005 }

	)

3007 
DEFINST
(
MF_FPCR
, 0x25,

3009 
FlßtADD
, 
F_FCOMP
,

3010 
DFPR
(
RA
), 
DNA
, 
DFPCR
, DNA, DNA)

3012 
	#FCMOVEQ_IMPL
 \

3014 ià((
	`FPR_Q
(
RA
è<< 1è=ğ
	`ULL
(0)) \

3015 
	`SET_FPR
(
RC
, 
	`FPR
(
RB
)); \

3016 }

	)

3017 
DEFINST
(
FCMOVEQ
, 0x2a,

3019 
FlßtADD
, 
F_FCOMP
,

3020 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

3022 
	#FCMOVNE_IMPL
 \

3024 ià((
	`FPR_Q
(
RA
è<< 1è!ğ
	`ULL
(0)) \

3025 
	`SET_FPR
(
RC
, 
	`FPR
(
RB
)); \

3026 }

	)

3027 
DEFINST
(
FCMOVNE
, 0x2b,

3029 
FlßtADD
, 
F_FCOMP
,

3030 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

3032 
	#FCMOVLT_IMPL
 \

3034 ià(((
	`FPR_Q
(
RA
è<< 1è!ğ
	`ULL
(0)) && (FPR_Q(RA) >> 63)) \

3035 
	`SET_FPR
(
RC
, 
	`FPR
(
RB
)); \

3036 }

	)

3037 
DEFINST
(
FCMOVLT
, 0x2c,

3039 
FlßtADD
, 
F_FCOMP
,

3040 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

3042 
	#FCMOVGE_IMPL
 \

3044 ià(((
	`FPR_Q
(
RA
è<< 1è=ğ
	`ULL
(0)) || (FPR_Q(RA) >> 63 == ULL(0))) \

3045 
	`SET_FPR
(
RC
, 
	`FPR
(
RB
)); \

3046 }

	)

3047 
DEFINST
(
FCMOVGE
, 0x2d,

3049 
FlßtADD
, 
F_FCOMP
,

3050 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

3052 
	#FCMOVLE_IMPL
 \

3054 ià(((
	`FPR_Q
(
RA
è<< 1è=ğ
	`ULL
(0)) || (FPR_Q(RA) >> 63)) \

3055 
	`SET_FPR
(
RC
, 
	`FPR
(
RB
)); \

3056 }

	)

3057 
DEFINST
(
FCMOVLE
, 0x2e,

3059 
FlßtADD
, 
F_FCOMP
,

3060 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

3062 
	#FCMOVGT_IMPL
 \

3064 ià(((
	`FPR_Q
(
RA
è<< 1è!ğ
	`ULL
(0)) && (FPR_Q(RA) >> 63 == ULL(0))) \

3065 
	`SET_FPR
(
RC
, 
	`FPR
(
RB
)); \

3066 }

	)

3067 
DEFINST
(
FCMOVGT
, 0x2f,

3069 
FlßtADD
, 
F_FCOMP
,

3070 
DFPR
(
RC
), 
DNA
, DFPR(
RA
), DFPR(
RB
), DNA)

3073 
	#CVTQL_IMPL
 \

3075 
sqwÜd_t
 
lÚghŞd
 = 
	`FPR_Q
(
RB
); \

3077 
	`SET_FPR_Q
(
RC
, (((
lÚghŞd
 >> 32è& 
	`LL
(0xc000000000000000)) \

3078 | (
lÚghŞd
 & 
	`LL
(0x3fffffff)) << 29)); \

3079 }

	)

3080 
DEFINST
(
CVTQL
, 0x30,

3082 
FlßtADD
, 
F_FCOMP
,

3083 
DFPR
(
RC
), 
DNA
, DFPR(
RB
), DNA, DNA)

3086 
	$CONNECT
(
MISC
)

3091 
	#TRAPB_IMPL
 \

3094 
	}

	)
}

3095 
DEFINST
(
TRAPB
, 0x00,

3097 
NA
, 
F_TRAP
,

3098 
DNA
, DNA, DNA, DNA, DNA)

3101 
	#EXCB_IMPL
 \

3103 }

	)

3104 
DEFINST
(
EXCB
, 0x04,

3106 
NA
, 
F_TRAP
,

3107 
DNA
, DNA, DNA, DNA, DNA)

3109 
	#MB_IMPL
 \

3112 }

	)

3113 
DEFINST
(
MB
, 0x40,

3115 
NA
, 
F_FENCE
,

3116 
DNA
, DNA, DNA, DNA, DNA)

3120 
	#WMB_IMPL
 \

3123 }

	)

3124 
DEFINST
(
WMB
, 0x44,

3126 
NA
, 
F_FENCE
,

3127 
DNA
, DNA, DNA, DNA, DNA)

3130 
	#FETCH_IMPL
 \

3133 }

	)

3134 
DEFINST
(
FETCH
, 0x80,

3136 
NA
, NA,

3137 
DNA
, DNA, DNA, DNA, DNA)

3140 
	#FETCH_M_IMPL
 \

3143 }

	)

3144 
DEFINST
(
FETCH_M
, 0xa0,

3146 
NA
, NA,

3147 
DNA
, DNA, DNA, DNA, DNA)

3150 
	#RPCC_IMPL
 \

3153 
	`SET_GPR
(
RA
, 
	`ULL
(0)); \

3154 }

	)

3155 
DEFINST
(
RPCC
, 0xc0,

3157 
NA
, NA,

3158 
DGPR
(
RA
), 
DNA
, DNA, DNA, DNA)

3161 
	#_RC_IMPL
 \

3164 }

	)

3165 
DEFINST
(
_RC
, 0xe0,

3167 
NA
, NA,

3168 
DNA
, DNA, DNA, DNA, DNA)

3171 
	#ECB_IMPL
 \

3174 }

	)

3175 
DEFINST
(
ECB
, 0xe8,

3177 
NA
, NA,

3178 
DNA
, DNA, DNA, DNA, DNA)

3181 
	#_RS_IMPL
 \

3184 }

	)

3185 
DEFINST
(
_RS
, 0xf0,

3187 
NA
, NA,

3188 
DNA
, DNA, DNA, DNA, DNA)

3191 
	#WH64_IMPL
 \

3194 }

	)

3195 
DEFINST
(
WH64
, 0xf8,

3197 
NA
, NA,

3198 
DNA
, DNA, DNA, DNA, DNA)

3202 
	$CONNECT
(
JMPJSR
)

3204 
	#JMP_IMPL
 \

3206 
	`SET_TPC
(
	`GPR
(
RB
) & ~3); \

3207 
	`SET_NPC
(
	`GPR
(
RB
) & ~3); \

3208 
	`SET_GPR
(
RA
, 
CPC
 + 4); \

3209 
	}

	)
}

3210 
DEFINST
(
JMP
, 0x00,

3212 
IÁALU
, 
F_CTRL
|
F_UNCOND
|
F_INDIRJMP
,

3213 
DGPR
(
RA
), 
DNA
, DGPR(
RB
), DNA, DNA)

3215 
	#JSR_IMPL
 \

3217 
	`SET_TPC
(
	`GPR
(
RB
) & ~3); \

3218 
	`SET_NPC
(
	`GPR
(
RB
) & ~3); \

3219 
	`SET_GPR
(
RA
, 
CPC
 + 4); \

3220 }

	)

3221 
DEFINST
(
JSR
, 0x01,

3223 
IÁALU
, 
F_CTRL
|
F_UNCOND
|
F_INDIRJMP
,

3224 
DGPR
(
RA
), 
DNA
, DGPR(
RB
), DNA, DNA)

3226 
	#RETN_IMPL
 \

3228 
	`SET_TPC
(
	`GPR
(
RB
) & ~3); \

3229 
	`SET_NPC
(
	`GPR
(
RB
) & ~3); \

3230 
	`SET_GPR
(
RA
, 
CPC
 + 4); \

3231 }

	)

3232 
DEFINST
(
RETN
, 0x02,

3234 
IÁALU
, 
F_CTRL
|
F_UNCOND
|
F_INDIRJMP
,

3235 
DGPR
(
RA
), 
DNA
, DGPR(
RB
), DNA, DNA)

3237 
	#JSR_COROUTINE_IMPL
 \

3239 
	`SET_TPC
(
	`GPR
(
RB
) & ~3); \

3240 
	`SET_NPC
(
	`GPR
(
RB
) & ~3); \

3241 
	`SET_GPR
(
RA
, 
CPC
 + 4); \

3242 }

	)

3243 
DEFINST
(
JSR_COROUTINE
, 0x03,

3245 
IÁALU
, 
F_CTRL
|
F_UNCOND
|
F_INDIRJMP
,

3246 
DGPR
(
RA
), 
DNA
, DGPR(
RB
), DNA, DNA)

3250 
	$CONNECT
(
FPTI
)

3253 
	`DEFLINK
(
SEXTB_LINK
, 0x00, "sextb_link", 12, 1)

3256 
	`DEFLINK
(
SEXTW_LINK
, 0x01, "sextw_link", 12, 1)

3264 
	#CTPOP_IMPL
 \

3266 
_‹mp
, 
_i
; \

3267 
qwÜd_t
 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3269 
_‹mp
 = 0; \

3270 
_i
 = 0; _i <= 63; _i++) \

3271 ià(
_qwÜdhŞd
 & (
	`ULL
(1è<< 
_i
)) \

3272 
_‹mp
++; \

3274 
	`SET_GPR
(
RC
, (
qwÜd_t
)
_‹mp
); \

3275 
	}

	)
}

3276 
DEFINST
(
CTPOP
, 0x30,

3278 
IÁALU
, 
F_ICOMP
,

3279 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3282 
	#PERR_IMPL
 \

3284 
_i
; \

3285 
qwÜd_t
 
_sum_diffs
, 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
; \

3287 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3288 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3289 
_sum_diffs
 = 0; \

3291 
_i
 = 0; _i <= 7; _i++) \

3293 
by‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
; \

3295 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
*8)) & 0xff; \

3296 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
*8)) & 0xff; \

3297 ià(
_by‹hŞd_a
 >ğ
_by‹hŞd_b
) \

3298 
_sum_diffs
 +ğ(
_by‹hŞd_a
 - 
_by‹hŞd_b
); \

3300 
_sum_diffs
 +ğ(
_by‹hŞd_b
 - 
_by‹hŞd_a
); \

3303 
	`SET_GPR
(
RC
, 
_sum_diffs
); \

3304 }

	)

3305 
DEFINST
(
PERR
, 0x31,

3307 
IÁALU
, 
F_ICOMP
,

3308 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3312 
	#CTLZ_IMPL
 \

3314 
_‹mp
, 
_i
; \

3315 
qwÜd_t
 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3317 
_‹mp
 = 0; \

3318 
_i
 = 63; _i >= 0; _i--) \

3320 ià(
_qwÜdhŞd
 & (
	`ULL
(1è<< 
_i
)) \

3323 
_‹mp
++; \

3326 
	`SET_GPR
(
RC
, (
qwÜd_t
)
_‹mp
); \

3327 }

	)

3328 
DEFINST
(
CTLZ
, 0x32,

3330 
IÁALU
, 
F_ICOMP
,

3331 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3333 
	#CTTZ_IMPL
 \

3335 
_‹mp
, 
_i
; \

3336 
qwÜd_t
 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3338 
_‹mp
 = 0; \

3339 
_i
 = 0; _i <= 63; _i++) \

3341 ià(
_qwÜdhŞd
 & (
	`ULL
(1è<< 
_i
)) \

3344 
_‹mp
++; \

3347 
	`SET_GPR
(
RC
, (
qwÜd_t
)
_‹mp
); \

3348 }

	)

3349 
DEFINST
(
CTTZ
, 0x33,

3351 
IÁALU
, 
F_ICOMP
,

3352 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3356 
	#UNPKBW_IMPL
 \

3358 
qwÜd_t
 
_‹mp
, 
_qwÜdhŞd
; \

3360 
_‹mp
 = 0; \

3361 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3363 
_‹mp
 |ğ(
_qwÜdhŞd
 & 0xff); \

3364 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 8) & 0xff) << 16); \

3365 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 16) & 0xff) << 32); \

3366 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 24) & 0xff) << 48); \

3368 
	`SET_GPR
(
RC
, 
_‹mp
); \

3369 }

	)

3370 
DEFINST
(
UNPKBW
, 0x34,

3372 
IÁALU
, 
F_ICOMP
,

3373 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3375 
	#UNPKBL_IMPL
 \

3377 
qwÜd_t
 
_‹mp
, 
_qwÜdhŞd
; \

3379 
_‹mp
 = 0; \

3380 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3382 
_‹mp
 |ğ(
_qwÜdhŞd
 & 0xff); \

3383 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 8) & 0xff) << 32); \

3385 
	`SET_GPR
(
RC
, 
_‹mp
); \

3386 }

	)

3387 
DEFINST
(
UNPKBL
, 0x35,

3389 
IÁALU
, 
F_ICOMP
,

3390 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3392 
	#PKWB_IMPL
 \

3394 
qwÜd_t
 
_‹mp
, 
_qwÜdhŞd
; \

3396 
_‹mp
 = 0; \

3397 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3399 
_‹mp
 |ğ(
_qwÜdhŞd
 & 0xff); \

3400 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 16) & 0xff) << 8); \

3401 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 32) & 0xff) << 16); \

3402 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 48) & 0xff) << 24); \

3404 
	`SET_GPR
(
RC
, 
_‹mp
); \

3405 }

	)

3406 
DEFINST
(
PKWB
, 0x36,

3408 
IÁALU
, 
F_ICOMP
,

3409 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3411 
	#PKLB_IMPL
 \

3413 
qwÜd_t
 
_‹mp
, 
_qwÜdhŞd
; \

3415 
_‹mp
 = 0; \

3416 
_qwÜdhŞd
 = 
	`GPR
(
RB
); \

3418 
_‹mp
 |ğ(
_qwÜdhŞd
 & 0xff); \

3419 
_‹mp
 |ğ(((
_qwÜdhŞd
 >> 32) & 0xff) << 8); \

3421 
	`SET_GPR
(
RC
, 
_‹mp
); \

3422 }

	)

3423 
DEFINST
(
PKLB
, 0x37,

3425 
IÁALU
, 
F_ICOMP
,

3426 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3430 
DEFLINK
(
MINSB8_LINK
, 0x38, "minsb8_link", 12, 1)

3432 
DEFLINK
(
MINSW4_LINK
, 0x39, "minsw4_link", 12, 1)

3434 
DEFLINK
(
MINUB8_LINK
, 0x3a, "minub8_link", 12, 1)

3436 
DEFLINK
(
MINUW4_LINK
, 0x3b, "minuw4_link", 12, 1)

3438 
DEFLINK
(
MAXUB8_LINK
, 0x3c, "maxub8_link", 12, 1)

3440 
DEFLINK
(
MAXUW4_LINK
, 0x3d, "maxuw4_link", 12, 1)

3442 
DEFLINK
(
MAXSB8_LINK
, 0x3e, "maxsb8_link", 12, 1)

3444 
DEFLINK
(
MAXSW4_LINK
, 0x3f, "maxsw4_link", 12, 1)

3447 
	#FTOIT_IMPL
 \

3449 
	`SET_GPR
(
RC
, 
	`FPR_Q
(
RA
)); \

3450 }

	)

3451 
DEFINST
(
FTOIT
, 0x70,

3453 
FlßtCVT
, 
F_FCOMP
,

3454 
DGPR
(
RC
), 
DNA
, 
DFPR
(
RA
), DNA, DNA)

3456 
	#FTOIS_IMPL
 \

3458 
sqwÜd_t
 
_lÚghŞd
; \

3459 
swÜd_t
 
_šthŞd
; \

3461 
_lÚghŞd
 = 
	`FPR_Q
(
RA
); \

3462 
_šthŞd
 = (((
_lÚghŞd
 >> 32è& 
	`ULL
(0xc0000000)) \

3463 | ((
_lÚghŞd
 >> 29è& 
	`ULL
(0x3fffffff))); \

3465 
	`SET_GPR
(
RC
, (
	`SEXT32
(
_lÚghŞd
 >> 63è<< 32è| 
_šthŞd
); \

3466 }

	)

3467 
DEFINST
(
FTOIS
, 0x78,

3469 
FlßtCVT
, 
F_FCOMP
,

3470 
DGPR
(
RC
), 
DNA
, 
DFPR
(
RA
), DNA, DNA)

3474 
	$CONNECT
(
MINSB8_LINK
)

3476 
	#MINSB8_IMPL
 \

3478 
_i
; \

3479 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3481 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3482 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3483 
_qwÜdhŞd_c
 = 0; \

3485 
_i
 = 0; _i <= 7; _i++) \

3487 
sby‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3489 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3490 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3491 
_by‹hŞd_c
 = 
	`mš2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3493 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3496 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3497 
	}

	)
}

3498 
DEFINST
(
MINSB8
, 0x00,

3500 
IÁALU
, 
F_ICOMP
,

3501 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3503 
	#MINSB8I_IMPL
 \

3505 
_i
; \

3506 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3508 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3509 
_qwÜdhŞd_b
 = 
IMM
; \

3510 
_qwÜdhŞd_c
 = 0; \

3512 
_i
 = 0; _i <= 7; _i++) \

3514 
sby‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3516 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3517 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3518 
_by‹hŞd_c
 = 
	`mš2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3520 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3523 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3524 }

	)

3525 
DEFINST
(
MINSB8I
, 0x01,

3527 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3528 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3531 
	$CONNECT
(
MINSW4_LINK
)

3533 
	#MINSW4_IMPL
 \

3535 
_i
; \

3536 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3538 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3539 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3540 
_qwÜdhŞd_c
 = 0; \

3542 
_i
 = 0; _i <= 3; _i++) \

3544 
sh®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3546 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3547 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3548 
_h®fhŞd_c
 = 
	`mš2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3550 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3553 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3554 
	}

	)
}

3555 
DEFINST
(
MINSW4
, 0x00,

3557 
IÁALU
, 
F_ICOMP
,

3558 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3560 
	#MINSW4I_IMPL
 \

3562 
_i
; \

3563 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3565 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3566 
_qwÜdhŞd_b
 = 
IMM
; \

3567 
_qwÜdhŞd_c
 = 0; \

3569 
_i
 = 0; _i <= 3; _i++) \

3571 
sh®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3573 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3574 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3575 
_h®fhŞd_c
 = 
	`mš2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3577 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3580 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3581 }

	)

3582 
DEFINST
(
MINSW4I
, 0x01,

3584 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3585 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3588 
	$CONNECT
(
MINUB8_LINK
)

3590 
	#MINUB8_IMPL
 \

3592 
_i
; \

3593 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3595 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3596 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3597 
_qwÜdhŞd_c
 = 0; \

3599 
_i
 = 0; _i <= 7; _i++) \

3601 
by‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3603 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3604 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3605 
_by‹hŞd_c
 = 
	`mš2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3607 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3610 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3611 
	}

	)
}

3612 
DEFINST
(
MINUB8
, 0x00,

3614 
IÁALU
, 
F_ICOMP
,

3615 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3617 
	#MINUB8I_IMPL
 \

3619 
_i
; \

3620 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3622 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3623 
_qwÜdhŞd_b
 = 
IMM
; \

3624 
_qwÜdhŞd_c
 = 0; \

3626 
_i
 = 0; _i <= 7; _i++) \

3628 
by‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3630 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3631 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3632 
_by‹hŞd_c
 = 
	`mš2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3634 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3637 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3638 }

	)

3639 
DEFINST
(
MINUB8I
, 0x01,

3641 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3642 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3645 
	$CONNECT
(
MINUW4_LINK
)

3647 
	#MINUW4_IMPL
 \

3649 
_i
; \

3650 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3652 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3653 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3654 
_qwÜdhŞd_c
 = 0; \

3656 
_i
 = 0; _i <= 3; _i++) \

3658 
h®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3660 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3661 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3662 
_h®fhŞd_c
 = 
	`mš2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3664 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3667 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3668 
	}

	)
}

3669 
DEFINST
(
MINUW4
, 0x00,

3671 
IÁALU
, 
F_ICOMP
,

3672 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3674 
	#MINUW4I_IMPL
 \

3676 
_i
; \

3677 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3679 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3680 
_qwÜdhŞd_b
 = 
IMM
; \

3681 
_qwÜdhŞd_c
 = 0; \

3683 
_i
 = 0; _i <= 3; _i++) \

3685 
h®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3687 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3688 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3689 
_h®fhŞd_c
 = 
	`mš2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3691 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3694 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3695 }

	)

3696 
DEFINST
(
MINUW4I
, 0x01,

3698 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3699 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3702 
	$CONNECT
(
MAXUB8_LINK
)

3704 
	#MAXUB8_IMPL
 \

3706 
_i
; \

3707 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3709 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3710 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3711 
_qwÜdhŞd_c
 = 0; \

3713 
_i
 = 0; _i <= 7; _i++) \

3715 
by‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3717 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3718 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3719 
_by‹hŞd_c
 = 
	`max2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3721 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3724 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3725 
	}

	)
}

3726 
DEFINST
(
MAXUB8
, 0x00,

3728 
IÁALU
, 
F_ICOMP
,

3729 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3731 
	#MAXUB8I_IMPL
 \

3733 
_i
; \

3734 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3736 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3737 
_qwÜdhŞd_b
 = 
IMM
; \

3738 
_qwÜdhŞd_c
 = 0; \

3740 
_i
 = 0; _i <= 7; _i++) \

3742 
by‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3744 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3745 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3746 
_by‹hŞd_c
 = 
	`max2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3748 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3751 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3752 }

	)

3753 
DEFINST
(
MAXUB8I
, 0x01,

3755 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3756 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3759 
	$CONNECT
(
MAXUW4_LINK
)

3761 
	#MAXUW4_IMPL
 \

3763 
_i
; \

3764 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3766 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3767 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3768 
_qwÜdhŞd_c
 = 0; \

3770 
_i
 = 0; _i <= 3; _i++) \

3772 
h®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3774 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3775 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3776 
_h®fhŞd_c
 = 
	`max2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3778 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3781 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3782 
	}

	)
}

3783 
DEFINST
(
MAXUW4
, 0x00,

3785 
IÁALU
, 
F_ICOMP
,

3786 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3788 
	#MAXUW4I_IMPL
 \

3790 
_i
; \

3791 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3793 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3794 
_qwÜdhŞd_b
 = 
IMM
; \

3795 
_qwÜdhŞd_c
 = 0; \

3797 
_i
 = 0; _i <= 3; _i++) \

3799 
h®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3801 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3802 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3803 
_h®fhŞd_c
 = 
	`max2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3805 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3808 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3809 }

	)

3810 
DEFINST
(
MAXUW4I
, 0x01,

3812 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3813 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3816 
	$CONNECT
(
MAXSB8_LINK
)

3818 
	#MAXSB8_IMPL
 \

3820 
_i
; \

3821 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3823 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3824 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3825 
_qwÜdhŞd_c
 = 0; \

3827 
_i
 = 0; _i <= 7; _i++) \

3829 
sby‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3831 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3832 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3833 
_by‹hŞd_c
 = 
	`max2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3835 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3838 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3839 
	}

	)
}

3840 
DEFINST
(
MAXSB8
, 0x00,

3842 
IÁALU
, 
F_ICOMP
,

3843 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3845 
	#MAXSB8I_IMPL
 \

3847 
_i
; \

3848 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3850 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3851 
_qwÜdhŞd_b
 = 
IMM
; \

3852 
_qwÜdhŞd_c
 = 0; \

3854 
_i
 = 0; _i <= 7; _i++) \

3856 
sby‹_t
 
_by‹hŞd_a
, 
_by‹hŞd_b
, 
_by‹hŞd_c
; \

3858 
_by‹hŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 8)) & 0xff; \

3859 
_by‹hŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 8)) & 0xff; \

3860 
_by‹hŞd_c
 = 
	`max2
(
_by‹hŞd_a
, 
_by‹hŞd_b
); \

3862 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
by‹_t
)
_by‹hŞd_c
 & 0xffè<< (
_i
*8)); \

3865 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3866 }

	)

3867 
DEFINST
(
MAXSB8I
, 0x01,

3869 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3870 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3873 
	$CONNECT
(
MAXSW4_LINK
)

3875 
	#MAXSW4_IMPL
 \

3877 
_i
; \

3878 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3880 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3881 
_qwÜdhŞd_b
 = 
	`GPR
(
RB
); \

3882 
_qwÜdhŞd_c
 = 0; \

3884 
_i
 = 0; _i <= 3; _i++) \

3886 
sh®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3888 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3889 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3890 
_h®fhŞd_c
 = 
	`max2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3892 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3895 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3896 
	}

	)
}

3897 
DEFINST
(
MAXSW4
, 0x00,

3899 
IÁALU
, 
F_ICOMP
,

3900 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DGPR(
RB
), DNA)

3902 
	#MAXSW4I_IMPL
 \

3904 
_i
; \

3905 
qwÜd_t
 
_qwÜdhŞd_a
, 
_qwÜdhŞd_b
, 
_qwÜdhŞd_c
; \

3907 
_qwÜdhŞd_a
 = 
	`GPR
(
RA
); \

3908 
_qwÜdhŞd_b
 = 
IMM
; \

3909 
_qwÜdhŞd_c
 = 0; \

3911 
_i
 = 0; _i <= 3; _i++) \

3913 
sh®f_t
 
_h®fhŞd_a
, 
_h®fhŞd_b
, 
_h®fhŞd_c
; \

3915 
_h®fhŞd_a
 = (
_qwÜdhŞd_a
 >> (
_i
 * 16)) & 0xffff; \

3916 
_h®fhŞd_b
 = (
_qwÜdhŞd_b
 >> (
_i
 * 16)) & 0xffff; \

3917 
_h®fhŞd_c
 = 
	`max2
(
_h®fhŞd_a
, 
_h®fhŞd_b
); \

3919 
_qwÜdhŞd_c
 |ğ(((
qwÜd_t
)(
h®f_t
)
_h®fhŞd_c
 & 0xffffè<< (
_i
*16));\

3922 
	`SET_GPR
(
RC
, 
_qwÜdhŞd_c
); \

3923 }

	)

3924 
DEFINST
(
MAXSW4I
, 0x01,

3926 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3927 
DGPR
(
RC
), 
DNA
, DGPR(
RA
), DNA, DNA)

3931 
	$CONNECT
(
SEXTB_LINK
)

3934 
	#SEXTB_IMPL
 \

3936 
	`SET_GPR
(
RC
, (
qwÜd_t
)(
sqwÜd_t
)(
sby‹_t
)(
	`GPR
(
RB
) & 0xff)); \

3937 
	}

	)
}

3938 
DEFINST
(
SEXTB
, 0x00,

3940 
IÁALU
, 
F_ICOMP
,

3941 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3944 
	#SEXTBI_IMPL
 \

3946 
	`SET_GPR
(
RC
, (
qwÜd_t
)(
sqwÜd_t
)(
sby‹_t
)(
IMM
 & 0xff)); \

3947 }

	)

3948 
DEFINST
(
SEXTBI
, 0x01,

3950 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3951 
DGPR
(
RC
), 
DNA
, DNA, DNA, DNA)

3955 
	$CONNECT
(
SEXTW_LINK
)

3958 
	#SEXTW_IMPL
 \

3960 
	`SET_GPR
(
RC
, (
qwÜd_t
)(
sqwÜd_t
)(
sh®f_t
)(
	`GPR
(
RB
) & 0xffff)); \

3961 
	}

	)
}

3962 
DEFINST
(
SEXTW
, 0x00,

3964 
IÁALU
, 
F_ICOMP
,

3965 
DGPR
(
RC
), 
DNA
, DGPR(
RB
), DNA, DNA)

3968 
	#SEXTWI_IMPL
 \

3970 
	`SET_GPR
(
RC
, (
qwÜd_t
)(
sqwÜd_t
)(
sh®f_t
)(
IMM
 & 0xffff)); \

3971 }

	)

3972 
DEFINST
(
SEXTWI
, 0x01,

3974 
IÁALU
, 
F_ICOMP
|
F_IMM
,

3975 
DGPR
(
RC
), 
DNA
, DNA, DNA, DNA)

3980 #undeà
LDA_IMPL


3981 #undeà
LDAH_IMPL


3982 #undeà
LDBU_IMPL


3983 #undeà
LDQ_U_IMPL


3984 #undeà
LDWU_IMPL


3985 #undeà
STW_IMPL


3986 #undeà
STB_IMPL


3987 #undeà
STQ_U_IMPL


3988 #undeà
FLTV_IMPL


3989 #undeà
LDF_IMPL


3990 #undeà
LDG_IMPL


3991 #undeà
LDS_IMPL


3992 #undeà
LDT_IMPL


3993 #undeà
STF_IMPL


3994 #undeà
STG_IMPL


3995 #undeà
STS_IMPL


3996 #undeà
STT_IMPL


3997 #undeà
LDL_IMPL


3998 #undeà
LDQ_IMPL


3999 #undeà
LDL_L_IMPL


4000 #undeà
LDQ_L_IMPL


4001 #undeà
STL_IMPL


4002 #undeà
STQ_IMPL


4003 #undeà
STL_C_IMPL


4004 #undeà
STQ_C_IMPL


4005 #undeà
BR_IMPL


4006 #undeà
FBEQ_IMPL


4007 #undeà
FBLT_IMPL


4008 #undeà
FBLE_IMPL


4009 #undeà
BSR_IMPL


4010 #undeà
FBNE_IMPL


4011 #undeà
FBGE_IMPL


4012 #undeà
FBGT_IMPL


4013 #undeà
BLBC_IMPL


4014 #undeà
BEQ_IMPL


4015 #undeà
BLT_IMPL


4016 #undeà
BLE_IMPL


4017 #undeà
BLBS_IMPL


4018 #undeà
BNE_IMPL


4019 #undeà
BGE_IMPL


4020 #undeà
BGT_IMPL


4021 #undeà
PAL_CALLSYS_IMPL


4022 #undeà
PAL_RDUNIQ_IMPL


4023 #undeà
PAL_WRUNIQ_IMPL


4024 #undeà
ADDL_IMPL


4025 #undeà
ADDLI_IMPL


4026 #undeà
S4ADDL_IMPL


4027 #undeà
S4ADDLI_IMPL


4028 #undeà
SUBL_IMPL


4029 #undeà
SUBLI_IMPL


4030 #undeà
S4SUBL_IMPL


4031 #undeà
S4SUBLI_IMPL


4032 #undeà
CMPBGE_IMPL


4033 #undeà
CMPBGEI_IMPL


4034 #undeà
S8ADDL_IMPL


4035 #undeà
S8ADDLI_IMPL


4036 #undeà
S8SUBL_IMPL


4037 #undeà
S8SUBLI_IMPL


4038 #undeà
CMPULT_IMPL


4039 #undeà
CMPULTI_IMPL


4040 #undeà
ADDQ_IMPL


4041 #undeà
ADDQI_IMPL


4042 #undeà
S4ADDQ_IMPL


4043 #undeà
S4ADDQI_IMPL


4044 #undeà
SUBQ_IMPL


4045 #undeà
SUBQI_IMPL


4046 #undeà
S4SUBQ_IMPL


4047 #undeà
S4SUBQI_IMPL


4048 #undeà
CMPEQ_IMPL


4049 #undeà
CMPEQI_IMPL


4050 #undeà
S8ADDQ_IMPL


4051 #undeà
S8ADDQI_IMPL


4052 #undeà
S8SUBQ_IMPL


4053 #undeà
S8SUBQI_IMPL


4054 #undeà
CMPULE_IMPL


4055 #undeà
CMPULEI_IMPL


4056 #undeà
ADDLV_IMPL


4057 #undeà
ADDLVI_IMPL


4058 #undeà
SUBLV_IMPL


4059 #undeà
SUBLVI_IMPL


4060 #undeà
CMPLT_IMPL


4061 #undeà
CMPLTI_IMPL


4062 #undeà
ADDQV_IMPL


4063 #undeà
ADDQVI_IMPL


4064 #undeà
SUBQV_IMPL


4065 #undeà
SUBQVI_IMPL


4066 #undeà
CMPLE_IMPL


4067 #undeà
CMPLEI_IMPL


4068 #undeà
AND_IMPL


4069 #undeà
ANDI_IMPL


4070 #undeà
BIC_IMPL


4071 #undeà
BICI_IMPL


4072 #undeà
CMOVLBS_IMPL


4073 #undeà
CMOVLBSI_IMPL


4074 #undeà
CMOVLBC_IMPL


4075 #undeà
CMOVLBCI_IMPL


4076 #undeà
BIS_IMPL


4077 #undeà
BISI_IMPL


4078 #undeà
CMOVEQ_IMPL


4079 #undeà
CMOVEQI_IMPL


4080 #undeà
CMOVNE_IMPL


4081 #undeà
CMOVNEI_IMPL


4082 #undeà
ORNOT_IMPL


4083 #undeà
ORNOTI_IMPL


4084 #undeà
XOR_IMPL


4085 #undeà
XORI_IMPL


4086 #undeà
CMOVLT_IMPL


4087 #undeà
CMOVLTI_IMPL


4088 #undeà
CMOVGE_IMPL


4089 #undeà
CMOVGEI_IMPL


4090 #undeà
EQV_IMPL


4091 #undeà
EQVI_IMPL


4092 #undeà
AMASK_IMPL


4093 #undeà
AMASKI_IMPL


4094 #undeà
CMOVLE_IMPL


4095 #undeà
CMOVLEI_IMPL


4096 #undeà
CMOVGT_IMPL


4097 #undeà
CMOVGTI_IMPL


4098 #undeà
IMPLVER_IMPL


4099 #undeà
MSKBL_IMPL


4100 #undeà
MSKBLI_IMPL


4101 #undeà
EXTBL_IMPL


4102 #undeà
EXTBLI_IMPL


4103 #undeà
INSBL_IMPL


4104 #undeà
INSBLI_IMPL


4105 #undeà
MSKWL_IMPL


4106 #undeà
MSKWLI_IMPL


4107 #undeà
EXTWL_IMPL


4108 #undeà
EXTWLI_IMPL


4109 #undeà
INSWL_IMPL


4110 #undeà
INSWLI_IMPL


4111 #undeà
MSKLL_IMPL


4112 #undeà
MSKLLI_IMPL


4113 #undeà
EXTLL_IMPL


4114 #undeà
EXTLLI_IMPL


4115 #undeà
INSLL_IMPL


4116 #undeà
INSLLI_IMPL


4117 #undeà
ZAP_IMPL


4118 #undeà
ZAPI_IMPL


4119 #undeà
ZAPNOT_IMPL


4120 #undeà
ZAPNOTI_IMPL


4121 #undeà
MSKQL_IMPL


4122 #undeà
MSKQLI_IMPL


4123 #undeà
SRL_IMPL


4124 #undeà
SRLI_IMPL


4125 #undeà
EXTQL_IMPL


4126 #undeà
EXTQLI_IMPL


4127 #undeà
SLL_IMPL


4128 #undeà
SLLI_IMPL


4129 #undeà
INSQL_IMPL


4130 #undeà
INSQLI_IMPL


4131 #undeà
SRA_IMPL


4132 #undeà
SRAI_IMPL


4133 #undeà
MSKWH_IMPL


4134 #undeà
MSKWHI_IMPL


4135 #undeà
INSWH_IMPL


4136 #undeà
INSWHI_IMPL


4137 #undeà
EXTWH_IMPL


4138 #undeà
EXTWHI_IMPL


4139 #undeà
MSKLH_IMPL


4140 #undeà
MSKLHI_IMPL


4141 #undeà
INSLH_IMPL


4142 #undeà
INSLHI_IMPL


4143 #undeà
EXTLH_IMPL


4144 #undeà
EXTLHI_IMPL


4145 #undeà
MSKQH_IMPL


4146 #undeà
MSKQHI_IMPL


4147 #undeà
INSQH_IMPL


4148 #undeà
INSQHI_IMPL


4149 #undeà
EXTQH_IMPL


4150 #undeà
EXTQHI_IMPL


4151 #undeà
MULL_IMPL


4152 #undeà
MULLI_IMPL


4153 #undeà
MULQ_IMPL


4154 #undeà
MULQI_IMPL


4155 #undeà
UMULH_IMPL


4156 #undeà
UMULHI_IMPL


4157 #undeà
ITOFS_IMPL


4158 #undeà
SQRTF_IMPL


4159 #undeà
SQRTS_IMPL


4160 #undeà
ITOFF_IMPL


4161 #undeà
ITOFT_IMPL


4162 #undeà
SQRTG_IMPL


4163 #undeà
SQRTT_IMPL


4164 #undeà
ADDS_IMPL


4165 #undeà
SUBS_IMPL


4166 #undeà
MULS_IMPL


4167 #undeà
DIVS_IMPL


4168 #undeà
ADDT_IMPL


4169 #undeà
SUBT_IMPL


4170 #undeà
MULT_IMPL


4171 #undeà
DIVT_IMPL


4172 #undeà
CMPTUN_IMPL


4173 #undeà
CMPTEQ_IMPL


4174 #undeà
CMPTLT_IMPL


4175 #undeà
CMPTLE_IMPL


4176 #undeà
CVTTS_IMPL


4177 #undeà
CVTTQ_IMPL


4178 #undeà
CVTQS_IMPL


4179 #undeà
CVTQT_IMPL


4180 #undeà
CVTLQ_IMPL


4181 #undeà
CPYS_IMPL


4182 #undeà
CPYSN_IMPL


4183 #undeà
CPYSE_IMPL


4184 #undeà
MT_FPCR_IMPL


4185 #undeà
MF_FPCR_IMPL


4186 #undeà
FCMOVEQ_IMPL


4187 #undeà
FCMOVNE_IMPL


4188 #undeà
FCMOVLT_IMPL


4189 #undeà
FCMOVGE_IMPL


4190 #undeà
FCMOVLE_IMPL


4191 #undeà
FCMOVGT_IMPL


4192 #undeà
CVTQL_IMPL


4193 #undeà
TRAPB_IMPL


4194 #undeà
EXCB_IMPL


4195 #undeà
MB_IMPL


4196 #undeà
WMB_IMPL


4197 #undeà
FETCH_IMPL


4198 #undeà
FETCH_M_IMPL


4199 #undeà
RPCC_IMPL


4200 #undeà
_RC_IMPL


4201 #undeà
ECB_IMPL


4202 #undeà
_RS_IMPL


4203 #undeà
WH64_IMPL


4204 #undeà
JMP_IMPL


4205 #undeà
JSR_IMPL


4206 #undeà
RETN_IMPL


4207 #undeà
JSR_COROUTINE_IMPL


4208 #undeà
SEXTB_IMPL


4209 #undeà
SEXTBI_IMPL


4210 #undeà
SEXTW_IMPL


4211 #undeà
SEXTWI_IMPL


4212 #undeà
CTPOP_IMPL


4213 #undeà
PERR_IMPL


4214 #undeà
CTLZ_IMPL


4215 #undeà
CTTZ_IMPL


4216 #undeà
UNPKBW_IMPL


4217 #undeà
UNPKBL_IMPL


4218 #undeà
PKWB_IMPL


4219 #undeà
PKLB_IMPL


4220 #undeà
MINSB8_IMPL


4221 #undeà
MINSW4_IMPL


4222 #undeà
MINUB8_IMPL


4223 #undeà
MINUW4_IMPL


4224 #undeà
MAXUB8_IMPL


4225 #undeà
MAXUW4_IMPL


4226 #undeà
MAXSB8_IMPL


4227 #undeà
MAXSW4_IMPL


4228 #undeà
FTOIT_IMPL


4229 #undeà
FTOIS_IMPL


4231 #undeà
DEFINST


4232 #undeà
DEFLINK


4233 #undeà
CONNECT


	@opticalForSimplescalar/point-point.h

10 #iâdeà
_POINT_POINT_H_


12 
	#_POINT_POINT_H_


	)

14 
	~"../ho¡.h
"

15 
	~"../smt.h
"

16 
	~"../machše.h
"

17 
	~"../İtiÚs.h
"

18 
	~"../ÿche.h
"

19 
	~"../sysÿÎ.h
"

20 
	~"../cÚ‹xt.h
"

21 
	~<¡dlib.h
>

22 
	~<time.h
>

23 
mesh_size
;

24 
	#MEM_MOD


	)

26 
	#MESHNUM
 (
MESH_SIZE
+2)

27 #ifdeà
MEM_MOD


	)

28 
	#PROCESSOR
 (
MESHNUM
*MESHNUM)

	)

30 
	#PROCESSOR
 
MAXTHREADS


32 

	)

40 #ifdeà
BASELINE_OPTICAL_NETWORK


41 #iâdeà
IDEALCASE


42 
	#CONF_RES_ACK


	)

47 
	#ORDER_ADDR


48 
	#PREORITY_PACKETS


50 

	)

52 #ifdeà
OPTIMIZED_OPTICAL_NETWORK


53 
	#CONF_RES_ACK


	)

54 
	#EMC


	)

55 
	#CONF_PREDICTOR


56 
	#PSEUDO_SCHEDULE


57 

	)

64 
	#ORDER_ADDR


66 

	)

70 
	#PREORITY_PACKETS


72 

	)

77 #ifdeà
CORONA


78 
	g¬bi_d–ay
[
PROCESSOR
];

82 #ifdeà
CONF_PREDICTOR


85 
	#FULL_CHECK


	)

86 
	#WB_PENDING


	)

87 
	#ACK_PENDING


	)

88 
	#CONF_PRED_TABLE


	)

89 
	gCÚfRecÜd
[64];

92 
couÁ”_t
 
	gÏrge_»Œy
;

93 
couÁ”_t
 
	gsm®l_»Œy
;

94 
couÁ”_t
 
	gaüossU£d
;

95 
	#CONF_WIDTH
 4

	)

96 
	gcÚfœm©iÚ_b™_šf
[
PROCESSOR
];

97 
couÁ”_t
 
	gb™_ov”æow
;

98 
couÁ”_t
 
	gb™_u£d
;

99 
couÁ”_t
 
	gŒªsm™‹r_busy
;

100 
couÁ”_t
 
	gwb_şo£
;

101 
m‘a_tÙ®_num
;

102 
m‘a_cŞlisiÚ_tÙ®
;

103 
d©a_tÙ®_num
;

104 
d©a_cŞlisiÚ_tÙ®
;

110 
	#HEADER
 1

111 
	#TAIL
 2

112 
	#BODY
 3

113 
	#CONF_TYPE
 4

	)

116 
	#META
 0

117 
	#DATA
 1

118 

	)

119 
	#FIXED
 0

	)

120 
	#RANDOM
 1

	)

123 
	#EVG_MSG
 0

124 
	#META_MSG
 1

125 
	#DATA_MSG
 2

126 
	#WIRE_MSG
 3

	)

127 
	#ACK_MSG
 4

	)

128 
	#MSG_BACKUP
 5

	)

129 
	#WB_MSG
 6

	)

130 
	#WB_REQ_MSG
 7

	)

131 #ifdeà
CONF_PREDICTOR


132 
	#CONF_HINT
 8

	)

133 
	#EARLY_ACK_MSG
 9

	)

135 #ifdeà
EMC


136 
	#EMC_ACK_MSG
 10

	)

139 
	#LASER_ON
 1

	)

140 
	#LASER_OFF
 0

	)

142 
	#BUFFER_SIZE
 256

143 
	#WAIT_TIME
 800000000

	)

144 
	#PENDING_SIZE
 64

145 

	)

146 
	#maxFl™s
 300000

	)

147 
	gcu¼’tFl™s
;

149 
	gšput_exŒa_ov”æow
;

150 
ÿche_dl1_£t_shiá
;

152 
FILE
 *
å_Œaû
;

153 
DIRECTORY_EVENT
 *
dœ_ev’t_queue
;

154 
couÁ”_t
 
Ouut_queue_fuÎ
;

155 
couÁ”_t
 
	gÏ¡_Ouut_queue_fuÎ
[
PROCESSOR
];

156 
couÁ”_t
 
	gmÜe_thª_two_cÚæiù
;

157 
couÁ”_t
 
	gm‘a_mÜe_thª_two_cÚæiù
;

158 
couÁ”_t
 
	gm‘a_sync_cÚf_ev’t
;

159 
couÁ”_t
 
	gm‘a_sync_cÚf_·ck‘s
;

160 
couÁ”_t
 
	gm‘a_ldl_mÜe_thª_two_cÚæiù
;

161 
couÁ”_t
 
	gm‘a_ldl_cÚf_ev’t
;

162 
couÁ”_t
 
	gm‘a_ldl_cÚf_·ck‘s
;

163 
couÁ”_t
 
	gsync_cÚf_·ck‘s
;

164 
couÁ”_t
 
	gsync_cÚf_ev’t
;

165 
couÁ”_t
 
SÎ_ouut_queue
;

166 
	#R_R_STATISTIC


	)

167 #ifdeà
R_R_STATISTIC


168 
couÁ”_t
 
	g»¶y_time_di¡ributiÚ
[250];

169 
couÁ”_t
 
	g»¶y_L1_time_di¡ributiÚ
[50];

171 
couÁ”_t
 
	gqueue_di¡r
[24];

173 
	gm‘a_cÚf_ev’t
;

174 
	gd©a_cÚf_ev’t
;

175 
couÁ”_t
 
	gd©a_cÚæiù_´o
;

176 
couÁ”_t
 
	gm‘a_cÚæiù_´o
;

178 
couÁ”_t
 
	gšput_buf_acûss
;

179 
couÁ”_t
 
	gouut_buf_acûss
;

180 
couÁ”_t
 
	gouut_bufãr_æ™s
[
PROCESSOR
];

182 
	gÏ£r_w¬mup_time
;

184 
	gÏ£r_£tup_time
;

186 
	gÏ£r_sw™choff_timeout
;

188 
	gæ™_Œªãr_time
;

189 
	gd©a_æ™_Œªãr_time
;

191 
	gÏ£r_cyşe
;

193 
	gm‘a_Œªsm™‹r_size
;

194 
	gd©a_Œªsm™‹r_size
;

196 
	gæ™_size
;

197 #iâdeà
POPNET


198 
	gd©a_·ck‘_size
;

200 
	gm‘a_·ck‘_size
;

203 
	gcÚfœm©iÚ_b™
;

205 
	gšput_bufãr_size
;

207 
	gouut_bufãr_size
;

208 
	gouut_pÜts
;

210 
	g·ck‘_queue_size
;

212 
	gm‘a_»ûiv”s
;

214 
	gd©a_»ûiv”s
;

216 
	gŒªsm™‹rs
;

218 
	gcÚfœm©iÚ_Œªs
;

220 
	gcÚfœm©iÚ_»ûiv”
;

222 
	gtime_¦Ù_d©a
;

224 
	gd©a_chª_time¦Ù
;

225 
	gm‘a_chª_time¦Ù
;

227 
	gexp_backoff
;

229 
	gfœ¡_¦Ù_num
;

231 
	g»Œy_®gr
;

233 
	gTBEB_®gr
;

235 
	gcÚfœm©iÚ_time
;

237 
	gcÚf_ack_·ck‘s
;

238 
couÁ”_t
 
	gcÚf_ack_·ck‘s_»ad
;

239 
	gcÚf_upg¿des
;

240 
	gcÚf_»adupg¿des
;

241 
	gcÚf_sync_lock
;

242 
	gacknowËdge_·ck‘s
;

245 
	sFl™
{

246 
	mæ™_ty³
;

247 
Fl™
 *
	mÃxt
;

248 
	mNum
;

249 
	mPID
;

250 }
	tFl™
;

253 
	sFl™_li¡
{

254 
Fl™
 *
	mh—d
;

255 
Fl™
 *
	m
;

256 
	mæ™s_š_li¡
;

257 }
	tFl™_li¡
;

259 
Fl™_li¡
 
	gä“_æ™_li¡
;

260 
®loÿ‹_ä“_æ™_li¡
();

261 
Fl™
 * 
®loÿ‹_æ™
();

264 
	sPack‘
{

265 #ifdeà
EXCLUSIVE_OPT


266 
	mexşusive_aá”_wb
;

268 
couÁ”_t
 
	m¡¬t_time
;

269 
couÁ”_t
 
	mŒªsãr_time
;

270 
couÁ”_t
 
	mŒªsm™‹r_time
;

271 
md_addr_t
 
	maddr
;

272 
	m·ck‘_ty³
;

273 
	m·ck‘_size
;

274 
	m¤c
;

275 
	mdes
;

276 
	mæ™num
;

277 
	mmsgno
;

278 
	mm‘a_id
;

279 
	md©a_id
;

280 
	m»Œy
;

281 
	m³ndšg
[
PENDING_SIZE
];

282 
	mcÚ_æag
[4];

283 
	m»Œy_num
;

284 
	mİ”©iÚ
;

285 
	mchªÃl
;

286 
	mm‘a_d–ay
;

287 
	md©a_d–ay
;

288 
	m´eãtch
;

290 
couÁ”_t
 
	m¬riv®_time
;

291 
	mqueue_time
;

292 
	m¡“ršg_time
;

293 
	mmiss_æag
;

294 
	mdœty_æag
;

295 
	mts_d–ay
;

296 
	md©a_»¶y
;

297 
	mcÚf_b™
;

298 
	mcÚf_hšt
;

299 
	m—¾y_cÚf
;

300 
	mscheduË
;

301 
	mesÿ³_chªÃl
;

302 
	misSyncAcûss
;

303 
	mldl
;

304 
	mSyncLock
;

305 }
	tPack‘
;

308 
	sMsg
{

309 
	mmsg_ty³
;

310 
couÁ”_t
 
	mwh’
;

311 
Msg
 *
	mÃxt
;

312 
Msg
 *
	m´e
;

313 
Pack‘
 
	m·ck‘
;

314 }
	tMsg
;

317 
	sMsg_li¡
{

318 
Msg
 *
	mh—d
;

319 
Msg
 *
	m
;

320 }
	tMsg_li¡
;

323 
	gM­_®gr
;

324 
	gÃtwÜk_®gr
;

326 
	sIÅut_’Œy_t
{

327 
	misV®id
;

328 
Pack‘
 
	m·ck‘
;

329 
couÁ”_t
 
	mtime_¡amp
;

332 
	sIÅut_bufãr
{

333 
	mæ™s_š_bufãr
;

334 
	m·ck‘s_š_bufãr
;

335 
IÅut_’Œy_t
 
	mIÅutEÁry
[
BUFFER_SIZE
];

339 
couÁ”_t
 
	gÏ¡_·ck‘_cyşe
[
PROCESSOR
][2];

340 
couÁ”_t
 
	gdi¡_bš
[20];

341 
couÁ”_t
 
	gchªÃl_occu·ncy
;

342 
couÁ”_t
 
	gm‘a_·ck‘s
;

343 
couÁ”_t
 
	gd©a_·ck‘s
;

344 
couÁ”_t
 
	gm‘a_·ck‘_Œªsãr
;

345 
couÁ”_t
 
	gd©a_·ck‘_Œªsãr
;

346 
couÁ”_t
 
	gchªÃl_busy_d©a
[
PROCESSOR
];

347 
couÁ”_t
 
	gchªÃl_busy_m‘a
[
PROCESSOR
];

349 
couÁ”_t
 
	g»q_cÚf
[
PROCESSOR
];

350 
couÁ”_t
 
	gd©a_cÚf
[
PROCESSOR
];

351 
couÁ”_t
 
	gd©a_cÚf_švŞves
[
PROCESSOR
][PROCESSOR];

352 
couÁ”_t
 
	gwr™e_back_švŞves
[
PROCESSOR
][PROCESSOR];

353 
couÁ”_t
 
	gwr™e_back_šv_bšcouÁ
[3];

354 
couÁ”_t
 
	gd©a_cÚf_šv_bšcouÁ
[7];

355 
couÁ”_t
 
	gd©a_way_cÚf
[
PROCESSOR
];

356 
couÁ”_t
 
	gm‘a_way_cÚf
[
PROCESSOR
];

357 
couÁ”_t
 
	gbš_couÁ_’d
[
PROCESSOR
][PROCESSOR];

358 
couÁ”_t
 
	gbš_couÁ_¡¬t
[
PROCESSOR
][PROCESSOR];

359 
couÁ”_t
 
	g»q_cyşe_cÚæiùs
[
PROCESSOR
];

360 
couÁ”_t
 
	gd©a_cyşe_cÚæiùs
[
PROCESSOR
];

361 
couÁ”_t
 
	gÏ¡_cyşe
[
PROCESSOR
][4];

362 
Msg
 *
	gcÚf_li¡
[
PROCESSOR
][4];

363 
couÁ”_t
 
	gno_wr™e_back
;

364 
couÁ”_t
 
	g®l_wr™e_back
;

365 
couÁ”_t
 
	g·¹Ÿl_wr™e_back
;

366 
couÁ”_t
 
	gno_sŞutiÚ_pwb
;

369 
couÁ”_t
 
	gtÙ®_wb_msg
;

370 
couÁ”_t
 
	gwb_¥l™_cÚf_ev’t
;

371 
couÁ”_t
 
	gWbS¶™CÚf
;

372 
couÁ”_t
 
	gWbS¶™FaCÚf
;

373 
couÁ”_t
 
	gtÙ®_wbh—d_msg
;

374 
couÁ”_t
 
	gtÙ®_wb_h—d_sucûss
;

375 
couÁ”_t
 
	gtÙ®_wb_h—d_ç
;

376 
couÁ”_t
 
	gtÙ®_wb»q_cÚfœm©iÚ
;

377 
couÁ”_t
 
	gtÙ®_wb»q_cÚv’tiÚ
;

378 
couÁ”_t
 
	gtÙ®_wb_»q_cÚv’tiÚ_sucûss
;

379 
couÁ”_t
 
	gtÙ®_wb_»q_cÚv’tiÚ_ç_ev’t
;

380 
couÁ”_t
 
	gtÙ®_wb_»q_cÚv’tiÚ_ç_time
;

382 
couÁ”_t
 
	gtÙ®_mem_msg
;

383 
couÁ”_t
 
	gmem_¥l™_cÚf_ev’t
;

384 
couÁ”_t
 
	gMemS¶™CÚf
;

385 
couÁ”_t
 
	gMemS¶™FaCÚf
;

386 
couÁ”_t
 
	gtÙ®_memh—d_msg
;

387 
couÁ”_t
 
	gtÙ®_mem_h—d_sucûss
;

388 
couÁ”_t
 
	gtÙ®_mem_h—d_ç
;

389 
couÁ”_t
 
	gtÙ®_mem»q_cÚfœm©iÚ
;

390 
couÁ”_t
 
	gtÙ®_mem»q_cÚv’tiÚ
;

391 
couÁ”_t
 
	gtÙ®_mem_»q_cÚv’tiÚ_sucûss
;

392 
couÁ”_t
 
	gtÙ®_mem_»q_cÚv’tiÚ_ç_ev’t
;

393 
couÁ”_t
 
	gtÙ®_mem_»q_cÚv’tiÚ_ç_time
;

396 
	gmax_cÚf
;

397 
	gmax_·ck‘_»Œy
;

398 
	gmax_·ck‘s_šbufãr
;

399 
	gmax_æ™s_šbufãr
;

401 
couÁ”_t
 
	gMemPckCÚfEv’t
;

402 
couÁ”_t
 
	gMemSecPckCÚfEv’t
;

403 
couÁ”_t
 
	gWr™eBackCÚfEv’t
;

404 
couÁ”_t
 
	gR‘¿nsmissiÚCÚfEv’t
;

405 
couÁ”_t
 
	gR•lyCÚfEv’t
;

407 
couÁ”_t
 
	g»Œy_cÚæiù
;

408 
couÁ”_t
 
	gL1_L2_cÚæiù
;

409 
couÁ”_t
 
	g®l_L2_miss_cÚæiù
;

410 
couÁ”_t
 
	gL2_miss_cÚæiù
;

411 
couÁ”_t
 
	gL2_dœty_cÚæiù
;

412 
couÁ”_t
 
	gqueue_d–ay_cÚæiù
;

413 
couÁ”_t
 
	gl2_fifo_cÚæiù
;

414 
couÁ”_t
 
	gfifo_queue_¡“ršg_cÚæiù
;

415 
couÁ”_t
 
	g¡“ršg_queue_cÚæiù
;

416 
couÁ”_t
 
	gqueue_cÚæiù
;

417 
couÁ”_t
 
	gwrÚg_cÚæiù
;

418 
couÁ”_t
 
	g»que¡_şo£_cÚæiù
;

419 
couÁ”_t
 
	gmax_queue_d–ay
;

421 
	s·ck‘_cÚæiù_li¡
{

422 
Pack‘
 
	m·ck‘
[
PROCESSOR
];

423 
	m·ck‘_num
;

424 }
	g·ck‘_cÚæiù
[
PROCESSOR
][5];

426 
couÁ”_t
 
	gÏ¡_d©a_time
[
PROCESSOR
];

427 
couÁ”_t
 
	gÏ¡_time
[
PROCESSOR
];

428 
couÁ”_t
 
	gRT_time
[
PROCESSOR
][PROCESSOR];

429 
couÁ”_t
 
	gRTCC
;

430 
couÁ”_t
 
	gRTCC_ç
;

431 
couÁ”_t
 
	gRTCC_h®f
;

432 
couÁ”_t
 
	gRTCC_miss
;

433 
couÁ”_t
 
	gRTCC_»duûd
;

434 
couÁ”_t
 
	gRTCC_æag
[
PROCESSOR
];

435 
couÁ”_t
 
	gm‘a_şo£_·ck‘s
;

436 
couÁ”_t
 
	gm‘a_»duûd_·ck‘s
;

437 
couÁ”_t
 
	gd©a_·ck‘_g’”©e
;

438 
couÁ”_t
 
glob®_d©a_·ck‘s_g’”©iÚ
;

439 
couÁ”_t
 
	gd©a_·ck‘_g’”©e_max
;

442 
couÁ”_t
 
	gÃtwÜk_queue_d–ay
;

443 
couÁ”_t
 
	gouut_queue_d–ay
;

444 
couÁ”_t
 
	gd©a_ÃtwÜk_queue_d–ay
;

445 
couÁ”_t
 
	gm‘a_ÃtwÜk_queue_d–ay
;

446 
couÁ”_t
 
	g³ndšg_d–ay
;

447 
couÁ”_t
 
	g¡“ršg_d–ay
;

448 
couÁ”_t
 
	gd©a_cÚæiùiÚ_d–ay
;

449 
couÁ”_t
 
	gm‘a_cÚæiùiÚ_d–ay
;

450 
couÁ”_t
 
	gÏ£r_sw™ch_Ú_d–ay
;

451 
couÁ”_t
 
	gtime¦Ù_wa™_time
;

452 
couÁ”_t
 
	gm‘a_time¦Ù_wa™_time
;

454 
couÁ”_t
 
	gÃtwÜk_queue_D–ay
[
PROCESSOR
];

455 
couÁ”_t
 
	gouut_queue_D–ay
[
PROCESSOR
];

456 
couÁ”_t
 
	gd©a_ÃtwÜk_queue_D–ay
[
PROCESSOR
];

457 
couÁ”_t
 
	gm‘a_ÃtwÜk_queue_D–ay
[
PROCESSOR
];

458 
couÁ”_t
 
	g³ndšg_D–ay
[
PROCESSOR
];

459 
couÁ”_t
 
	g¡“ršg_D–ay
[
PROCESSOR
];

460 
couÁ”_t
 
	gd©a_cÚæiùiÚ_D–ay
[
PROCESSOR
];

461 
couÁ”_t
 
	gm‘a_cÚæiùiÚ_D–ay
[
PROCESSOR
];

462 
couÁ”_t
 
	gÏ£r_sw™ch_Ú_D–ay
[
PROCESSOR
];

463 
couÁ”_t
 
	gtime¦Ù_wa™_D–ay
[
PROCESSOR
];

464 
couÁ”_t
 
	gm‘a_time¦Ù_wa™_D–ay
[
PROCESSOR
];

466 
couÁ”_t
 
	gno_queue_d–ay
;

467 
couÁ”_t
 
	gÃtwÜk_d–ay_š_fib”
;

468 
couÁ”_t
 
	gcÚæiùiÚ_d–ay
;

469 
couÁ”_t
 
	gd©a_cÚæiù_·ck‘_num
;

470 
couÁ”_t
 
	gm‘a_cÚæiù_·ck‘_num
;

471 
couÁ”_t
 
	gmem_d©a_cÚæiù
;

472 
couÁ”_t
 
	gmem_»q_cÚæiù
;

473 
couÁ”_t
 
	gmem_d©a_»Œy
;

474 
couÁ”_t
 
	gmem_»q_»Œy
;

475 
couÁ”_t
 
	g»¶y_d©a_·ck‘s
;

476 
couÁ”_t
 
	gÜigš®_»¶y_d©a_·ck‘s
;

477 
couÁ”_t
 
	gwr™e_back_·ck‘s
;

478 
couÁ”_t
 
	gÜigš®_wr™e_back_·ck‘s
;

479 
couÁ”_t
 
	gd©a_»Œy_·ck‘_num
;

480 
couÁ”_t
 
	gm‘a_»Œy_·ck‘_num
;

481 
couÁ”_t
 
	g³ndšg_·ck‘_num
;

482 
couÁ”_t
 
	gwb»q_time¦Ù_wa™_time
;

483 
couÁ”_t
 
	g·ck‘s_£ndšg
[
PROCESSOR
];

484 
couÁ”_t
 
	g·ck‘s_£ndšg_bš_couÁ
[5];

485 
couÁ”_t
 
	gÏ¡_·ck‘_time
[
PROCESSOR
];

486 
couÁ”_t
 
	gÏ¡_şo£_time
[
PROCESSOR
];

487 
couÁ”_t
 
	gÏ¡_m‘a_·ck‘
[3][
PROCESSOR
];

488 
couÁ”_t
 
	gÃxt_m‘a_·ck‘
[3][
PROCESSOR
];

489 
couÁ”_t
 
	gÏ¡_m‘a_·ck‘_çke
[
PROCESSOR
];

490 
couÁ”_t
 
	gm‘a_wa™_time
[
PROCESSOR
];

491 
couÁ”_t
 
	gbackup_Œªsãr_wa™time
[
PROCESSOR
];

492 
couÁ”_t
 
	gÏ¡_d–ay_fÜ_d©a
[
PROCESSOR
];

493 
couÁ”_t
 
	gŒªsm™‹r_backup_scheduË
[
PROCESSOR
];

494 
couÁ”_t
 
	gfœ¡_·ck‘_time
[
PROCESSOR
];

495 
couÁ”_t
 
	g»Œy_d©a_queue
;

496 
couÁ”_t
 
	g»Œy_m‘a_queue
;

497 
couÁ”_t
 
	g»ûiv”_occ_time
[
PROCESSOR
][PROCESSOR];

498 
couÁ”_t
 
	gm‘a_d–ay_·ck‘s
;

499 
couÁ”_t
 
	gwb»q_d–ay_·ck‘s
;

500 
couÁ”_t
 
	gm‘a_l1_d–ay_·ck‘s
;

501 
couÁ”_t
 
	gm‘a_·ck‘s_fÜw¬d
;

502 
couÁ”_t
 
	gd©a_·ck‘s_fÜw¬d
;

505 
couÁ”_t
 
	gtÙ®_cyşe_Ï£r_pow”_Ú
;

506 
couÁ”_t
 
	gÏ£r_pow”_sw™chÚ_couÁ”
;

507 
couÁ”_t
 
	gÏ£r_pow”_sw™choff_couÁ”
;

508 
couÁ”_t
 
	gÏ£r_dœeùiÚ_sw™ch_couÁ”
;

509 
couÁ”_t
 
	gæ™s_Œªsm™_couÁ”
;

510 
couÁ”_t
 
	gæ™s_»ûivšg_couÁ”
;

511 
couÁ”_t
 
	gd©a_·ck‘s_d–ay
;

512 
couÁ”_t
 
	gd©a_·ck‘s_no_d–ay
;

513 
couÁ”_t
 
	gd©a_d–ay
;

514 
couÁ”_t
 
	gtÙ®_cyşe_cÚf_Ï£r_pow”_Ú
;

515 
couÁ”_t
 
	gcÚf_Ï£r_pow”_sw™chÚ_couÁ”
;

516 
couÁ”_t
 
	gcÚf_Ï£r_pow”_sw™choff_couÁ”
;

519 
Msg_li¡
 *
	gmsg_li¡
;

522 
Fl™_li¡
 
	gŒªsm™‹r_m‘a
[
PROCESSOR
];

523 
Fl™_li¡
 
	gŒªsm™‹r_d©a
[
PROCESSOR
];

524 
Fl™_li¡
 
	gŒªsm™‹r_backup
[
PROCESSOR
];

525 
IÅut_bufãr
 
	gšput_bufãr
[
PROCESSOR
];

526 
	gÏ¡_·ck‘_des
[
PROCESSOR
];

527 
	gÏ¡_m‘a_·ck‘_des
[3][
PROCESSOR
];

528 
	gÏ¡_m‘a_·ck‘_des_çke
[
PROCESSOR
];

529 
	gÏ¡_·ck‘_des_backup
[
PROCESSOR
];

530 
couÁ”_t
 
	gd–ay_couÁ”
[2][
PROCESSOR
];

531 
couÁ”_t
 
	gd–ay_couÁ
[2][
PROCESSOR
][PROCESSOR];

532 
couÁ”_t
 
	gd–ay_couÁ”_backup
[
PROCESSOR
];

535 
Fl™_li¡
 
	gout_bufãr
[
PROCESSOR
];

536 
Pack‘
 
	g·ck‘_queue
[
PROCESSOR
][256];

537 
	g·ck‘_queue_
[
PROCESSOR
];

538 
	g·ck‘_queue_h—d
[
PROCESSOR
];

539 
	g·ck‘_queue_num
[
PROCESSOR
];

540 
	gšput_bufãr_num
[
PROCESSOR
][2];

542 #ifdeà
CONF_PREDICTOR


544 
	#MAXRECEIVERS
 
PROCESSOR
*3

	)

545 
	#REQ_QUEUE_SIZE
 256

	)

546 
	sReqP’dšg
 {

547 
	mv®id
;

548 
	mdes
;

549 
md_addr_t
 
	maddr
;

550 
couÁ”_t
 
	mtime
;

551 
	mİ_code
;

554 
couÁ”_t
 
	gcÚæiù_bË
[
MAXRECEIVERS
][
PROCESSOR
][PROCESSOR];

555 
couÁ”_t
 
	gm‘a_cÚæiù_bË
[
MAXRECEIVERS
][
PROCESSOR
][PROCESSOR];

556 
couÁ”_t
 
	gm‘a_ldl_cÚæiù_bË
[
MAXRECEIVERS
][
PROCESSOR
][PROCESSOR];

559 #ifdeà
CONF_PRED_TABLE


560 
	sCÚfP»dTabË
 {

561 
	mLa¡P»d
;

562 
	mLLa¡P»d
;

563 
	mcouÁ”
;

564 
	mLcouÁ”
;

567 
CÚfP»dTabË
 
	gcÚå»d
[
MAXRECEIVERS
];

569 
couÁ”_t
 
	g‹nÿ£
;

570 
couÁ”_t
 
	gMuÉiCa£
[
PROCESSOR
];

572 
ReqP’dšg
 
	gReqP’dšgQueue
[
PROCESSOR
][
REQ_QUEUE_SIZE
];

573 
	gReqP’dšgQueue_num
[
PROCESSOR
];

574 
	gMaxReqP’dšg
;

576 
	gcÚf_·ck‘_li¡
[
MAXRECEIVERS
][
PROCESSOR
];

577 
Pack‘
 
	gcÚf_·ck‘
[
MAXRECEIVERS
][
PROCESSOR
];

578 
	gcÚf_·ck‘_num
[
MAXRECEIVERS
];

579 
	gcÚf_PID
[
MAXRECEIVERS
];

580 
	gCÚfWa™
[
MAXRECEIVERS
];

581 
couÁ”_t
 
	gwb_»Œy_cÚf
;

582 
couÁ”_t
 
	g´ediù_cÜ»ù
;

583 
couÁ”_t
 
	g´ediù_ç
;

584 
couÁ”_t
 
	g´ediùCÜ»ù_two
;

585 
couÁ”_t
 
	g´ediùCÜ»ù_mÜe
;

586 
couÁ”_t
 
	g´ediùFa_two
;

587 
couÁ”_t
 
	g´ediùFa_mÜe
;

588 
couÁ”_t
 
	g´ediù_bË_cÜ»ù
;

589 
couÁ”_t
 
	g´ediù_»q_cÜ»ù
;

590 
couÁ”_t
 
	ghšt_»ûived
;

591 
couÁ”_t
 
	ghšt_»ûived_wrÚg
;

592 
couÁ”_t
 
	g·ck‘_cÚf_hšt_cÚf
;

593 
couÁ”_t
 
	g·ck‘_cÚf_hšt_suc
;

594 
couÁ”_t
 
	gMuÉiP’dšgE¼Ü
;

595 
couÁ”_t
 
	gWbP’dšgE¼Ü
;

596 
couÁ”_t
 
	gReqP’dšgE¼Ü
;

597 
couÁ”_t
 
	gReqP’dšgE¼Ü2
;

598 
couÁ”_t
 
	gTÙ®ReqP’dšgNum
;

599 
couÁ”_t
 
	gReqP’dšgBš
[12];

600 
CÚfPack‘Li¡In£¹
(
Pack‘
 
·ck‘
, 
PID
);

601 
CÚfPack‘Li¡CËª
(
couÁ”_t
 
sim_cyşe
);

602 
CÚfP»diùÜ
(
couÁ”_t
 
sim_cyşe
);

603 
P»diùTabË
(
pid
, 
pid_b¬
, 
£ed
, 
m
);

604 
PidTabËCheck
(
PID
, 
¤c
, 
j
, 
couÁ”_t
 
sim_cyşe
);

605 
šput_bufãr_check
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
sim_cyşe
);

606 
cÚf_hšt
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
sim_cyşe
);

608 #ifdeà
EMC


609 
	gm‘a_cÚf_·ck‘_li¡
[
MAXRECEIVERS
][
PROCESSOR
];

610 
Pack‘
 
	gm‘a_cÚf_·ck‘
[
MAXRECEIVERS
][
PROCESSOR
];

611 
	gm‘a_cÚf_·ck‘_num
[
MAXRECEIVERS
];

612 
M‘aCÚfPack‘Li¡In£¹
(
Pack‘
 
·ck‘
, 
PID
);

613 
M‘aCÚfPack‘Li¡CËª
(
couÁ”_t
 
sim_cyşe
);

614 
M‘aE¬lyCÚf
(
couÁ”_t
 
sim_cyşe
);

617 #ià(
MAXTHREADS
 == 1)

618 
	#PID_SIZE
 0

	)

619 
	#PID_MASK
 2

	)

621 #ià(
MAXTHREADS
 == 2)

622 
	#PID_SIZE
 1

	)

623 
	#PID_MASK
 4

	)

625 #ià(
MAXTHREADS
 == 4)

626 
	#PID_SIZE
 3

	)

627 
	#PID_MASK
 8

	)

629 #ià(
MAXTHREADS
 == 8)

630 
	#PID_SIZE
 4

	)

631 
	#PID_MASK
 16

	)

633 #ià(
MAXTHREADS
 == 16)

634 
	#PID_SIZE
 5

	)

635 
	#PID_MASK
 32

	)

637 #ià(
MAXTHREADS
 == 32)

638 
	#PID_SIZE
 6

	)

639 
	#PID_MASK
 64

	)

641 #ià(
MAXTHREADS
 == 64)

642 
	#PID_SIZE
 7

	)

643 
	#PID_MASK
 128

	)

645 #ià(
MAXTHREADS
 == 80)

646 
	#PID_SIZE
 8

	)

647 
	#PID_MASK
 256

	)

649 #ià(
MAXTHREADS
 == 128)

650 
	#PID_SIZE
 8

	)

651 
	#PID_MASK
 256

	)

653 #ià(
MAXTHREADS
 == 256)

654 
	#PID_SIZE
 9

	)

655 
	#PID_MASK
 512

	)

657 
	#PID_shiá
 
PID_SIZE


	)

658 
	#PID_b¬_mask
 (
PID_MASK
 - 1)

	)

659 
PID_fÜm
(
PID
);

662 
Fl™_li¡
 *
	gd©a_»ûiv”
[
PROCESSOR
], *
	gm‘a_»ûiv”
[PROCESSOR];

664 
	gÏ£r_pow”
[2][
PROCESSOR
];

665 
couÁ”_t
 
	gÏ£r_pow”_Ú_cyşe
[2][
PROCESSOR
];

666 
couÁ”_t
 
	gÏ£r_pow”_¡¬t_cyşe
[2][
PROCESSOR
];

667 
	gcÚf_Ï£r_pow”
[2][
PROCESSOR
];

668 
couÁ”_t
 
	gcÚf_Ï£r_pow”_Ú_cyşe
[2][
PROCESSOR
];

669 
couÁ”_t
 
	gcÚf_Ï£r_pow”_¡¬t_cyşe
[2][
PROCESSOR
];

672 
İtiÿl_İtiÚs
(
İt_odb_t
 *
odb
);

674 
İtiÿl_»g_¡©s
 (
İt_odb_t
 *
sdb
);

675 
·ck‘_»Œy_®gr
(
Pack‘
 
·ck‘
);

678 
add_æ™
(
Fl™
 *
æ™
, 
Fl™_li¡
 *
æ™_li¡
);

679 
ä“_æ™
(
Fl™
 *
æ™
, 
Fl™_li¡
 *
æ™_li¡
);

683 
add_mes§ge
(
couÁ”_t
 
¡¬t_time
, 
msg_ty³
, 
Pack‘
 
·ck‘
);

685 
ä“_mes§ge
(
Msg
 *
Şdmsg
);

687 
add_·ck‘
(
Pack‘
 
·ck‘
, 
des
);

688 
ä“_·ck‘
(
des
);

691 
mašdœeùsim
(
m­_®gr
, 
Ãt_®gr
);

692 
Msg_li¡_š™
(
Msg_li¡
 *
msg_li¡
);

693 
æ™_li¡_š™
(
Fl™_li¡
 
æ™_®i¡
);

696 
cÚæiù_check
(
Pack‘
 *
·ck‘
, 
couÁ”_t
 
wh’
);

697 
cÚæiù_ty³_chªge
(
Fl™_li¡
 *
æ™_li¡
, 
æ™_id
);

698 
cyşe_cÚæiù_check
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
wh’
, 
»ûiv”s
);

700 
cÚliù_bšcouÁ_cŞËù
(
couÁ”_t
 
sim_cyşe
);

702 
šput_bufãr_add
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
time_¡amp
);

704 
šput_bufãr_ä“
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
sim_cyşe
);

705 
is_­³ndšg_addr
(
Pack‘
 
·ck‘
);

706 
šput_bufãr_lookup
(
¤c
, 
couÁ”_t
 
sim_cyşe
);

707 
»Œy_·ck‘
(
msgno
, 
couÁ”_t
 
sim_cyşe
, 
¤c
);

710 
»ûive_msg
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
sim_cyşe
);

712 
£tup_d–ay
(
¤c
, 
des
, 
couÁ”_t
 
sim_cyşe
, 
p_ty³
);

714 
chªÃl_busy_check
(
¤c
, 
des
, 
ty³
, 
couÁ”_t
 
sim_cyşe
);

717 
»ûive_msg_d©a
(
Pack‘
 
pck
, 
couÁ”_t
 
sim_cyşe
);

719 
»ûive_msg_m‘a
(
Pack‘
 
pck
, 
couÁ”_t
 
sim_cyşe
);

721 
»ûive_æ™_msg
(
Pack‘
 
pck
, 
couÁ”_t
 
sim_cyşe
);

722 #ifdeà
CONF_RES_ACK


724 
»ûive_ack_msg
(
Pack‘
 
pck
, 
couÁ”_t
 
sim_cyşe
);

728 
dœeùMsgIn£¹
(
s1
, 
s2
, 
d1
, 
d2
, 
couÁ”_t
 
sim_cyşe
, 
size
, 
msgNo
, 
md_addr_t
 
addr
, 
İ”©iÚ
, 
d–ay
, 
L2miss_æag
, 
´eãtch
, 
dœty_æag
, couÁ”_ˆ
¬riv®_time
, 
d©a_»¶y
, 
cÚf_b™
, 
esÿ³_chªÃl
, 
ev’_æag
, 
isSyncAcûss
, 
SyncLock


729 #ifdeà
EXCLUSIVE_OPT


730 ,
exşusive_aá”_wb


734 
dœeùRunSim
(
couÁ”_t
 
sim_cyşe
);

735 
İtiÿlBufãrS·û
(
des1
, 
des2
, 
İt
);

737 
fšishMsg
(
¤c
, 
des
, 
couÁ”_t
 
¡¬t_time
, couÁ”_ˆ
pİÃtmsgno
, 
·ck‘_ty³
, couÁ”_ˆ
Œªsãr_time
, 
m‘a_d–ay
, couÁ”_ˆ
»q_time
, 
İ”©iÚ
, 
out_bufãr_dec
);

738 #ifdeà
OPTICAL_INTERCONNECT


739 
ä“_out_bufãr_æ™
(
™”©iÚ
, 
des
);

743 
£ndšg_æ™
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
sim_cyşe
);

745 
»ûive_æ™
(
Pack‘
 
·ck‘
, 
couÁ”_t
 
sim_cyşe
);

748 
»ûiv”_m­
(
¤c
, 
des
, 
»ûiv”
, 
md_addr_t
 
addr
);

	@target-alpha-linux/ecoff.h

54 #iâdeà
ECOFF_H


55 
	#ECOFF_H


	)

57 
	~"®pha.h
"

59 
	#ECOFF_EB_MAGIC
 0x0160

	)

60 
	#ECOFF_EB_OTHER
 0x6001

	)

61 
	#ECOFF_EL_MAGIC
 0x0162

	)

62 
	#ECOFF_EL_OTHER
 0x6201

	)

63 
	#ECOFF_ALPHAMAGIC
 0603

	)

64 
	#ELPH_ALPHAMAGIC
 17791

	)

66 
	secoff_fehdr
 {

67 
h®f_t
 
	mf_magic
;

68 
h®f_t
 
	mf_nsús
;

69 
swÜd_t
 
	mf_timd©
;

70 
qwÜd_t
 
	mf_sym±r
;

71 
swÜd_t
 
	mf_nsyms
;

72 
h®f_t
 
	mf_İthdr
;

73 
h®f_t
 
	mf_æags
;

76 
	secoff_aouthdr
 {

77 
h®f_t
 
	mmagic
;

78 
h®f_t
 
	mv¡amp
;

79 
h®f_t
 
	mbld»v
;

80 
h®f_t
 
	m·dûÎ
;

81 
qwÜd_t
 
	mtsize
;

82 
qwÜd_t
 
	mdsize
;

83 
qwÜd_t
 
	mbsize
;

84 
qwÜd_t
 
	m’Œy
;

85 
qwÜd_t
 
	m‹xt_¡¬t
;

86 
qwÜd_t
 
	md©a_¡¬t
;

87 
qwÜd_t
 
	mbss_¡¬t
;

88 
swÜd_t
 
	mg´mask
;

89 
swÜd_t
 
	mårmask
;

90 
qwÜd_t
 
	mgp_v®ue
;

93 
	secoff_súhdr
 {

94 
	ms_Çme
[8];

95 
qwÜd_t
 
	ms_·ddr
;

96 
qwÜd_t
 
	ms_vaddr
;

97 
qwÜd_t
 
	ms_size
;

98 
qwÜd_t
 
	ms_sú±r
;

99 
qwÜd_t
 
	ms_»ÍŒ
;

100 
qwÜd_t
 
	ms_ÊnİŒ
;

101 
h®f_t
 
	ms_Ä–oc
;

102 
h®f_t
 
	ms_ÆÂo
;

103 
swÜd_t
 
	ms_æags
;

106 
	secoff_symhdr_t
 {

107 
h®f_t
 
	mmagic
;

108 
h®f_t
 
	mv¡amp
;

110 
swÜd_t
 
	mšeMax
;

111 
swÜd_t
 
	midnMax
;

112 
swÜd_t
 
	mdMax
;

113 
swÜd_t
 
	misymMax
;

114 
swÜd_t
 
	miİtMax
;

115 
swÜd_t
 
	mŸuxMax
;

116 
swÜd_t
 
	missMax
;

117 
swÜd_t
 
	missExtMax
;

118 
swÜd_t
 
	mifdMax
;

119 
swÜd_t
 
	müfd
;

120 
swÜd_t
 
	m›xtMax
;

121 
qwÜd_t
 
	mcbLše
;

122 
qwÜd_t
 
	mcbLšeOff£t
;

123 
qwÜd_t
 
	mcbDnOff£t
;

124 
qwÜd_t
 
	mcbPdOff£t
;

125 
qwÜd_t
 
	mcbSymOff£t
;

126 
qwÜd_t
 
	mcbO±Off£t
;

127 
qwÜd_t
 
	mcbAuxOff£t
;

128 
qwÜd_t
 
	mcbSsOff£t
;

129 
qwÜd_t
 
	mcbSsExtOff£t
;

130 
qwÜd_t
 
	mcbFdOff£t
;

131 
qwÜd_t
 
	mcbRfdOff£t
;

132 
qwÜd_t
 
	mcbExtOff£t
;

133 } 
	tecoff_HDRR
;

135 
	#ECOFF_magicSym
 0x1992

	)

137 
	secoff_fdr
 {

138 
wÜd_t
 
	madr
;

139 
swÜd_t
 
	mrss
;

140 
swÜd_t
 
	missBa£
;

141 
swÜd_t
 
	mcbSs
;

142 
swÜd_t
 
	misymBa£
;

143 
swÜd_t
 
	mcsym
;

144 
swÜd_t
 
	mšeBa£
;

145 
swÜd_t
 
	mşše
;

146 
swÜd_t
 
	miİtBa£
;

147 
swÜd_t
 
	mcİt
;

148 
h®f_t
 
	mdFœ¡
;

149 
h®f_t
 
	mıd
;

150 
swÜd_t
 
	mŸuxBa£
;

151 
swÜd_t
 
	mÿux
;

152 
swÜd_t
 
	mrfdBa£
;

153 
swÜd_t
 
	müfd
;

154 
	mÏng
 :5;

155 
	mfM”ge
 :1;

156 
	mfR—dš
 :1;

157 
	mfBig’dŸn
 :1;

158 
	m»£rved
 :24;

159 
swÜd_t
 
	mcbLšeOff£t
;

160 
swÜd_t
 
	mcbLše
;

161 } 
	tecoff_FDR
;

163 
	secoff_pdr
 {

164 
wÜd_t
 
	madr
;

165 
swÜd_t
 
	misym
;

166 
swÜd_t
 
	mše
;

167 
swÜd_t
 
	m»gmask
;

168 
swÜd_t
 
	m»goff£t
;

169 
swÜd_t
 
	miİt
;

170 
swÜd_t
 
	mäegmask
;

171 
swÜd_t
 
	mäegoff£t
;

172 
swÜd_t
 
	mäameoff£t
;

173 
h®f_t
 
	mäam”eg
;

174 
h®f_t
 
	mpüeg
;

175 
swÜd_t
 
	mÊLow
;

176 
swÜd_t
 
	mÊHigh
;

177 
swÜd_t
 
	mcbLšeOff£t
;

178 } 
	tecoff_PDR
;

180 
	secoff_SYMR
 {

181 
qwÜd_t
 
	mv®ue
;

182 
swÜd_t
 
	miss
;

183 
	m¡
 :6;

184 
	msc
 :5;

185 
	m»£rved
 :1;

186 
	mšdex
 :20;

187 } 
	tecoff_SYMR
;

189 
	secoff_EXTR
 {

190 
ecoff_SYMR
 
	masym
;

191 
swÜd_t
 
	mifd
;

192 
swÜd_t
 
	m»£rved
;

193 } 
	tecoff_EXTR
;

195 
	#ECOFF_R_SN_TEXT
 1

	)

196 
	#ECOFF_R_SN_RDATA
 2

	)

197 
	#ECOFF_R_SN_DATA
 3

	)

198 
	#ECOFF_R_SN_SDATA
 4

	)

199 
	#ECOFF_R_SN_SBSS
 5

	)

200 
	#ECOFF_R_SN_BSS
 6

	)

202 
	#ECOFF_STYP_TEXT
 0x0020

	)

203 
	#ECOFF_STYP_RTEXT
 0x20000020

	)

204 
	#ECOFF_STYP_RDATA
 0x0100

	)

205 
	#ECOFF_STYP_DATA
 0x0040

	)

206 
	#ECOFF_STYP_SDATA
 0x0200

	)

207 
	#ECOFF_STYP_SBSS
 0x0400

	)

208 
	#ECOFF_STYP_BSS
 0x0080

	)

209 
	#ECOFF_STYP_INIT
 0x80000000

	)

211 
	#ECOFF_STYP_FINI
 0x01000000

	)

212 
	#ECOFF_STYP_RCONST
 0x02200000

	)

213 
	#ECOFF_STYP_LITA
 0x04000000

	)

214 
	#ECOFF_STYP_LIT8
 0x08000000

	)

215 
	#ECOFF_STYP_LIT4
 0x10000000

	)

216 
	#ECOFF_STYP_XDATA
 0x02400000

	)

217 
	#ECOFF_STYP_PDATA
 0x02800000

	)

219 
	#ECOFF_¡N
 0

	)

220 
	#ECOFF_¡Glob®
 1

	)

221 
	#ECOFF_¡Stic
 2

	)

222 
	#ECOFF_¡P¬am
 3

	)

223 
	#ECOFF_¡Loÿl
 4

	)

224 
	#ECOFF_¡Lab–
 5

	)

225 
	#ECOFF_¡Proc
 6

	)

226 
	#ECOFF_¡Block
 7

	)

227 
	#ECOFF_¡End
 8

	)

228 
	#ECOFF_¡Memb”
 9

	)

229 
	#ECOFF_¡Ty³def
 10

	)

230 
	#ECOFF_¡Fe
 11

	)

231 
	#ECOFF_¡RegR–oc
 12

	)

232 
	#ECOFF_¡FÜw¬d
 13

	)

233 
	#ECOFF_¡SticProc
 14

	)

234 
	#ECOFF_¡CÚ¡ªt
 15

	)

	@target-alpha-linux/elf64.h

1 
	~"¡dšt.h
"

3 
	#Elf64_Addr
 
ušt64_t


	)

4 
	#Elf64_Off
 
ušt64_t


	)

5 
	#Elf64_H®f
 
ušt16_t


	)

6 
	#Elf64_WÜd
 
ušt32_t


	)

7 
	#Elf64_SwÜd
 
ušt32_t


	)

8 
	#Elf64_XwÜd
 
ušt64_t


	)

9 
	#Elf64_SxwÜd
 
ušt64_t


	)

12 
	#ELFCLASS32
 1

13 
	#ELFCLASS64
 2

14 

	)

16 
	#ELFDATA2LSB
 1

17 
	#ELFDATA2MSB
 2

18 

	)

20 
	#ET_NONE
 0

21 
	#ET_REL
 1

22 
	#ET_EXEC
 2

23 
	#ET_DYN
 3

24 
	#ET_CORE
 4

25 
	#ET_LOOS
 0xFE00

26 
	#ET_HIOS
 0xFEFF

27 
	#ET_LOPROC
 0xFF00

28 
	#ET_HIPROC
 0xFFFF

29 

	)

31 
	#PT_NULL
 0

32 
	#PT_LOAD
 1

33 
	#PT_DYNAMIC
 2

34 
	#PT_INTERP
 3

35 
	#PT_NOTE
 4

36 
	#PT_SHLIB
 5

37 
	#PT_PHDR
 6

38 
	#PT_LOOS
 0x60000000

39 
	#PT_HIOS
 0x6FFFFFFF

40 
	#PT_LOPROC
 0x70000000

41 
	#PT_HIPROC
 0x7FFFFFFF

42 

	)

44 
	#F_X
 0x1

45 
	#PF_W
 0x2

46 
	#PF_R
 0x4

47 
	#PF_MASKOS
 0x00FF0000

48 
	#PF_MASKPROC
 0xFF000000

49 

	)

51 
	#SHT_NULL
 0

52 
	#SHT_PROGBITS
 1

53 
	#SHT_SYMTAB
 2

54 
	#SHT_STRTAB
 3

55 
	#SHT_RELA
 4

56 
	#SHT_HASH
 5

57 
	#SHT_DYNAMIC
 6

58 
	#SHT_NOTE
 7

59 
	#SHT_NOBITS
 8

60 
	#SHT_REL
 9

61 
	#SHT_SHLIB
 10

62 
	#SHT_DYNSYM
 11

63 
	#SHT_LOOS
 0x60000000

64 
	#SHT_HIOS
 0x6FFFFFFF

65 
	#SHT_LOPROC
 0x70000000

66 
	#SHT_HIPROC
 0x7FFFFFFF

67 

	)

70 
	me_id’t
[16];

71 
Elf64_H®f
 
	me_ty³
;

72 
Elf64_H®f
 
	me_machše
;

73 
Elf64_WÜd
 
	me_v”siÚ
;

74 
Elf64_Addr
 
	me_’Œy
;

75 
Elf64_Off
 
	me_phoff
;

76 
Elf64_Off
 
	me_shoff
;

77 
Elf64_WÜd
 
	me_æags
;

78 
Elf64_H®f
 
	me_ehsize
;

79 
Elf64_H®f
 
	me_ph’tsize
;

80 
Elf64_H®f
 
	me_phnum
;

81 
Elf64_H®f
 
	me_sh’tsize
;

82 
Elf64_H®f
 
	me_shnum
;

83 
Elf64_H®f
 
	me_sh¡ºdx
;

84 } 
	tElf64_Ehdr
;

88 
Elf64_WÜd
 
	msh_Çme
;

89 
Elf64_WÜd
 
	msh_ty³
;

90 
Elf64_XwÜd
 
	msh_æags
;

91 
Elf64_Addr
 
	msh_addr
;

92 
Elf64_Off
 
	msh_off£t
;

93 
Elf64_XwÜd
 
	msh_size
;

94 
Elf64_WÜd
 
	msh_lšk
;

95 
Elf64_WÜd
 
	msh_šfo
;

96 
Elf64_XwÜd
 
	msh_add¿lign
;

97 
Elf64_XwÜd
 
	msh_’tsize
;

98 } 
	tElf64_Shdr
;

102 
Elf64_WÜd
 
	m¡_Çme
;

103 
	m¡_šfo
;

104 
	m¡_Ùh”
;

105 
Elf64_H®f
 
	m¡_shndx
;

106 
Elf64_Addr
 
	m¡_v®ue
;

107 
Elf64_XwÜd
 
	m¡_size
;

108 } 
	tElf64_Sym
;

112 
Elf64_Addr
 
	mr_off£t
;

113 
Elf64_XwÜd
 
	mr_šfo
;

114 } 
	tElf64_R–
;

118 
Elf64_Addr
 
	mr_off£t
;

119 
Elf64_XwÜd
 
	mr_šfo
;

120 
Elf64_SxwÜd
 
	mr_add’d
;

121 } 
	tElf64_R–a
;

125 
Elf64_WÜd
 
	mp_ty³
;

126 
Elf64_WÜd
 
	mp_æags
;

127 
Elf64_Off
 
	mp_off£t
;

128 
Elf64_Addr
 
	mp_vaddr
;

129 
Elf64_Addr
 
	mp_·ddr
;

130 
Elf64_XwÜd
 
	mp_fesz
;

131 
Elf64_XwÜd
 
	mp_memsz
;

132 
Elf64_XwÜd
 
	mp_®ign
;

133 } 
	tElf64_Phdr
;

	@target-alpha/ecoff.h

85 #iâdeà
ECOFF_H


86 
	#ECOFF_H


	)

88 
	~"®pha.h
"

90 
	#ECOFF_EB_MAGIC
 0x0160

	)

91 
	#ECOFF_EB_OTHER
 0x6001

	)

92 
	#ECOFF_EL_MAGIC
 0x0162

	)

93 
	#ECOFF_EL_OTHER
 0x6201

	)

94 
	#ECOFF_ALPHAMAGIC
 0603

	)

96 
	secoff_fehdr
 {

97 
h®f_t
 
	mf_magic
;

98 
h®f_t
 
	mf_nsús
;

99 
swÜd_t
 
	mf_timd©
;

100 
qwÜd_t
 
	mf_sym±r
;

101 
swÜd_t
 
	mf_nsyms
;

102 
h®f_t
 
	mf_İthdr
;

103 
h®f_t
 
	mf_æags
;

106 
	secoff_aouthdr
 {

107 
h®f_t
 
	mmagic
;

108 
h®f_t
 
	mv¡amp
;

109 
h®f_t
 
	mbld»v
;

110 
h®f_t
 
	m·dûÎ
;

111 
qwÜd_t
 
	mtsize
;

112 
qwÜd_t
 
	mdsize
;

113 
qwÜd_t
 
	mbsize
;

114 
qwÜd_t
 
	m’Œy
;

115 
qwÜd_t
 
	m‹xt_¡¬t
;

116 
qwÜd_t
 
	md©a_¡¬t
;

117 
qwÜd_t
 
	mbss_¡¬t
;

118 
swÜd_t
 
	mg´mask
;

119 
swÜd_t
 
	mårmask
;

120 
qwÜd_t
 
	mgp_v®ue
;

123 
	secoff_súhdr
 {

124 
	ms_Çme
[8];

125 
qwÜd_t
 
	ms_·ddr
;

126 
qwÜd_t
 
	ms_vaddr
;

127 
qwÜd_t
 
	ms_size
;

128 
qwÜd_t
 
	ms_sú±r
;

129 
qwÜd_t
 
	ms_»ÍŒ
;

130 
qwÜd_t
 
	ms_ÊnİŒ
;

131 
h®f_t
 
	ms_Ä–oc
;

132 
h®f_t
 
	ms_ÆÂo
;

133 
swÜd_t
 
	ms_æags
;

136 
	secoff_symhdr_t
 {

137 
h®f_t
 
	mmagic
;

138 
h®f_t
 
	mv¡amp
;

140 
swÜd_t
 
	mšeMax
;

141 
swÜd_t
 
	midnMax
;

142 
swÜd_t
 
	mdMax
;

143 
swÜd_t
 
	misymMax
;

144 
swÜd_t
 
	miİtMax
;

145 
swÜd_t
 
	mŸuxMax
;

146 
swÜd_t
 
	missMax
;

147 
swÜd_t
 
	missExtMax
;

148 
swÜd_t
 
	mifdMax
;

149 
swÜd_t
 
	müfd
;

150 
swÜd_t
 
	m›xtMax
;

151 
qwÜd_t
 
	mcbLše
;

152 
qwÜd_t
 
	mcbLšeOff£t
;

153 
qwÜd_t
 
	mcbDnOff£t
;

154 
qwÜd_t
 
	mcbPdOff£t
;

155 
qwÜd_t
 
	mcbSymOff£t
;

156 
qwÜd_t
 
	mcbO±Off£t
;

157 
qwÜd_t
 
	mcbAuxOff£t
;

158 
qwÜd_t
 
	mcbSsOff£t
;

159 
qwÜd_t
 
	mcbSsExtOff£t
;

160 
qwÜd_t
 
	mcbFdOff£t
;

161 
qwÜd_t
 
	mcbRfdOff£t
;

162 
qwÜd_t
 
	mcbExtOff£t
;

163 } 
	tecoff_HDRR
;

165 
	#ECOFF_magicSym
 0x1992

	)

167 
	secoff_fdr
 {

168 
wÜd_t
 
	madr
;

169 
swÜd_t
 
	mrss
;

170 
swÜd_t
 
	missBa£
;

171 
swÜd_t
 
	mcbSs
;

172 
swÜd_t
 
	misymBa£
;

173 
swÜd_t
 
	mcsym
;

174 
swÜd_t
 
	mšeBa£
;

175 
swÜd_t
 
	mşše
;

176 
swÜd_t
 
	miİtBa£
;

177 
swÜd_t
 
	mcİt
;

178 
h®f_t
 
	mdFœ¡
;

179 
h®f_t
 
	mıd
;

180 
swÜd_t
 
	mŸuxBa£
;

181 
swÜd_t
 
	mÿux
;

182 
swÜd_t
 
	mrfdBa£
;

183 
swÜd_t
 
	müfd
;

184 
	mÏng
 :5;

185 
	mfM”ge
 :1;

186 
	mfR—dš
 :1;

187 
	mfBig’dŸn
 :1;

188 
	m»£rved
 :24;

189 
swÜd_t
 
	mcbLšeOff£t
;

190 
swÜd_t
 
	mcbLše
;

191 } 
	tecoff_FDR
;

193 
	secoff_pdr
 {

194 
wÜd_t
 
	madr
;

195 
swÜd_t
 
	misym
;

196 
swÜd_t
 
	mše
;

197 
swÜd_t
 
	m»gmask
;

198 
swÜd_t
 
	m»goff£t
;

199 
swÜd_t
 
	miİt
;

200 
swÜd_t
 
	mäegmask
;

201 
swÜd_t
 
	mäegoff£t
;

202 
swÜd_t
 
	mäameoff£t
;

203 
h®f_t
 
	mäam”eg
;

204 
h®f_t
 
	mpüeg
;

205 
swÜd_t
 
	mÊLow
;

206 
swÜd_t
 
	mÊHigh
;

207 
swÜd_t
 
	mcbLšeOff£t
;

208 } 
	tecoff_PDR
;

210 
	secoff_SYMR
 {

211 
qwÜd_t
 
	mv®ue
;

212 
swÜd_t
 
	miss
;

213 
	m¡
 :6;

214 
	msc
 :5;

215 
	m»£rved
 :1;

216 
	mšdex
 :20;

217 } 
	tecoff_SYMR
;

219 
	secoff_EXTR
 {

220 
ecoff_SYMR
 
	masym
;

221 
swÜd_t
 
	mifd
;

222 
swÜd_t
 
	m»£rved
;

223 } 
	tecoff_EXTR
;

225 
	#ECOFF_R_SN_TEXT
 1

	)

226 
	#ECOFF_R_SN_RDATA
 2

	)

227 
	#ECOFF_R_SN_DATA
 3

	)

228 
	#ECOFF_R_SN_SDATA
 4

	)

229 
	#ECOFF_R_SN_SBSS
 5

	)

230 
	#ECOFF_R_SN_BSS
 6

	)

232 
	#ECOFF_STYP_TEXT
 0x0020

	)

233 
	#ECOFF_STYP_RDATA
 0x0100

	)

234 
	#ECOFF_STYP_DATA
 0x0040

	)

235 
	#ECOFF_STYP_SDATA
 0x0200

	)

236 
	#ECOFF_STYP_SBSS
 0x0400

	)

237 
	#ECOFF_STYP_BSS
 0x0080

	)

238 
	#ECOFF_STYP_INIT
 0x80000000

	)

240 
	#ECOFF_STYP_FINI
 0x01000000

	)

241 
	#ECOFF_STYP_RCONST
 0x02200000

	)

242 
	#ECOFF_STYP_LITA
 0x04000000

	)

243 
	#ECOFF_STYP_LIT8
 0x08000000

	)

244 
	#ECOFF_STYP_LIT4
 0x10000000

	)

245 
	#ECOFF_STYP_XDATA
 0x02400000

	)

246 
	#ECOFF_STYP_PDATA
 0x02800000

	)

248 
	#ECOFF_¡N
 0

	)

249 
	#ECOFF_¡Glob®
 1

	)

250 
	#ECOFF_¡Stic
 2

	)

251 
	#ECOFF_¡P¬am
 3

	)

252 
	#ECOFF_¡Loÿl
 4

	)

253 
	#ECOFF_¡Lab–
 5

	)

254 
	#ECOFF_¡Proc
 6

	)

255 
	#ECOFF_¡Block
 7

	)

256 
	#ECOFF_¡End
 8

	)

257 
	#ECOFF_¡Memb”
 9

	)

258 
	#ECOFF_¡Ty³def
 10

	)

259 
	#ECOFF_¡Fe
 11

	)

260 
	#ECOFF_¡RegR–oc
 12

	)

261 
	#ECOFF_¡FÜw¬d
 13

	)

262 
	#ECOFF_¡SticProc
 14

	)

263 
	#ECOFF_¡CÚ¡ªt
 15

	)

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/bits/byteswap.h

19 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


23 #iâdeà
_BITS_BYTESWAP_H


24 
	#_BITS_BYTESWAP_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((è((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8)))

	)

35 
	~<b™s/by‹sw­-16.h
>

38 
	#__bsw­_cÚ¡ªt_32
(
x
) \

39 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

40 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

42 #ifdeà
__GNUC__


43 #ià
__GNUC_PREREQ
 (4, 3)

44 
__šlše
 

45 
	$__bsw­_32
 (
__bsx
)

47  
	`__butš_bsw­32
 (
__bsx
);

48 
	}
}

49 #–ià
__GNUC__
 >= 2

50 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

51 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

52 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

53 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

54 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

55 || 
defšed
 
	g__amdçm10__
)

58 
	#__bsw­_32
(
x
) \

59 (
__ex‹nsiÚ__
 \

60 ({ 
__v
, 
__x
 = (
x
); \

61 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

62 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

64 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

65 
__v
; }))

	)

67 
	#__bsw­_32
(
x
) \

68 (
__ex‹nsiÚ__
 \

69 ({ 
__v
, 
__x
 = (
x
); \

70 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

71 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

73 
	`__asm__
 ("rorw $8, %w0;" \

76 : "ô" (
__v
) \

77 : "0" (
__x
) \

79 
__v
; }))

	)

82 
	#__bsw­_32
(
x
) \

83 (
__ex‹nsiÚ__
 \

84 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

87 
__šlše
 

88 
	$__bsw­_32
 (
__bsx
)

90  
	`__bsw­_cÚ¡ªt_32
 (
__bsx
);

91 
	}
}

95 #ià
__GNUC_PREREQ
 (2, 0)

97 
	#__bsw­_cÚ¡ªt_64
(
x
) \

98 (
	`__ex‹nsiÚ__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

99 | (((
x
) & 0x00ff000000000000ull) >> 40) \

100 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

101 | (((
x
) & 0x000000ff00000000ull) >> 8) \

102 | (((
x
) & 0x00000000ff000000ull) << 8) \

103 | (((
x
) & 0x0000000000ff0000ull) << 24) \

104 | (((
x
) & 0x000000000000ff00ull) << 40) \

105 | (((
x
è& 0x00000000000000ffuÎè<< 56)))

	)

107 #ià
__GNUC_PREREQ
 (4, 3)

108 
__šlše
 
__ušt64_t


109 
	$__bsw­_64
 (
__ušt64_t
 
__bsx
)

111  
	`__butš_bsw­64
 (
__bsx
);

112 
	}
}

113 #–ià
__WORDSIZE
 == 64

114 
	#__bsw­_64
(
x
) \

115 (
__ex‹nsiÚ__
 \

116 ({ 
__ušt64_t
 
__v
, 
__x
 = (
x
); \

117 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

118 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

120 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

121 
__v
; }))

	)

123 
	#__bsw­_64
(
x
) \

124 (
__ex‹nsiÚ__
 \

125 ({ uniÚ { 
__ex‹nsiÚ__
 
__ušt64_t
 
__Î
; \

126 
__l
[2]; } 
__w
, 
__r
; \

127 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

128 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

131 
__w
.
__Î
 = (
x
); \

132 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

133 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

135 
__r
.
__Î
; }))

	)

138 
	#__bsw­_cÚ¡ªt_64
(
x
) \

139 ((((
x
) & 0xff00000000000000ull) >> 56) \

140 | (((
x
) & 0x00ff000000000000ull) >> 40) \

141 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

142 | (((
x
) & 0x000000ff00000000ull) >> 8) \

143 | (((
x
) & 0x00000000ff000000ull) << 8) \

144 | (((
x
) & 0x0000000000ff0000ull) << 24) \

145 | (((
x
) & 0x000000000000ff00ull) << 40) \

146 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

148 
__šlše
 
__ušt64_t


149 
	$__bsw­_64
 (
__ušt64_t
 
__bsx
)

151  
	`__bsw­_cÚ¡ªt_64
 (
__bsx
);

152 
	}
}

	@/usr/include/bits/confname.h

19 #iâdeà
_UNISTD_H


26 
	m_PC_LINK_MAX
,

27 
	#_PC_LINK_MAX
 
_PC_LINK_MAX


	)

28 
	m_PC_MAX_CANON
,

29 
	#_PC_MAX_CANON
 
_PC_MAX_CANON


	)

30 
	m_PC_MAX_INPUT
,

31 
	#_PC_MAX_INPUT
 
_PC_MAX_INPUT


	)

32 
	m_PC_NAME_MAX
,

33 
	#_PC_NAME_MAX
 
_PC_NAME_MAX


	)

34 
	m_PC_PATH_MAX
,

35 
	#_PC_PATH_MAX
 
_PC_PATH_MAX


	)

36 
	m_PC_PIPE_BUF
,

37 
	#_PC_PIPE_BUF
 
_PC_PIPE_BUF


	)

38 
	m_PC_CHOWN_RESTRICTED
,

39 
	#_PC_CHOWN_RESTRICTED
 
_PC_CHOWN_RESTRICTED


	)

40 
	m_PC_NO_TRUNC
,

41 
	#_PC_NO_TRUNC
 
_PC_NO_TRUNC


	)

42 
	m_PC_VDISABLE
,

43 
	#_PC_VDISABLE
 
_PC_VDISABLE


	)

44 
	m_PC_SYNC_IO
,

45 
	#_PC_SYNC_IO
 
_PC_SYNC_IO


	)

46 
	m_PC_ASYNC_IO
,

47 
	#_PC_ASYNC_IO
 
_PC_ASYNC_IO


	)

48 
	m_PC_PRIO_IO
,

49 
	#_PC_PRIO_IO
 
_PC_PRIO_IO


	)

50 
	m_PC_SOCK_MAXBUF
,

51 
	#_PC_SOCK_MAXBUF
 
_PC_SOCK_MAXBUF


	)

52 
	m_PC_FILESIZEBITS
,

53 
	#_PC_FILESIZEBITS
 
_PC_FILESIZEBITS


	)

54 
	m_PC_REC_INCR_XFER_SIZE
,

55 
	#_PC_REC_INCR_XFER_SIZE
 
_PC_REC_INCR_XFER_SIZE


	)

56 
	m_PC_REC_MAX_XFER_SIZE
,

57 
	#_PC_REC_MAX_XFER_SIZE
 
_PC_REC_MAX_XFER_SIZE


	)

58 
	m_PC_REC_MIN_XFER_SIZE
,

59 
	#_PC_REC_MIN_XFER_SIZE
 
_PC_REC_MIN_XFER_SIZE


	)

60 
	m_PC_REC_XFER_ALIGN
,

61 
	#_PC_REC_XFER_ALIGN
 
_PC_REC_XFER_ALIGN


	)

62 
	m_PC_ALLOC_SIZE_MIN
,

63 
	#_PC_ALLOC_SIZE_MIN
 
_PC_ALLOC_SIZE_MIN


	)

64 
	m_PC_SYMLINK_MAX
,

65 
	#_PC_SYMLINK_MAX
 
_PC_SYMLINK_MAX


	)

66 
	m_PC_2_SYMLINKS


67 
	#_PC_2_SYMLINKS
 
_PC_2_SYMLINKS


	)

73 
	m_SC_ARG_MAX
,

74 
	#_SC_ARG_MAX
 
_SC_ARG_MAX


	)

75 
	m_SC_CHILD_MAX
,

76 
	#_SC_CHILD_MAX
 
_SC_CHILD_MAX


	)

77 
	m_SC_CLK_TCK
,

78 
	#_SC_CLK_TCK
 
_SC_CLK_TCK


	)

79 
	m_SC_NGROUPS_MAX
,

80 
	#_SC_NGROUPS_MAX
 
_SC_NGROUPS_MAX


	)

81 
	m_SC_OPEN_MAX
,

82 
	#_SC_OPEN_MAX
 
_SC_OPEN_MAX


	)

83 
	m_SC_STREAM_MAX
,

84 
	#_SC_STREAM_MAX
 
_SC_STREAM_MAX


	)

85 
	m_SC_TZNAME_MAX
,

86 
	#_SC_TZNAME_MAX
 
_SC_TZNAME_MAX


	)

87 
	m_SC_JOB_CONTROL
,

88 
	#_SC_JOB_CONTROL
 
_SC_JOB_CONTROL


	)

89 
	m_SC_SAVED_IDS
,

90 
	#_SC_SAVED_IDS
 
_SC_SAVED_IDS


	)

91 
	m_SC_REALTIME_SIGNALS
,

92 
	#_SC_REALTIME_SIGNALS
 
_SC_REALTIME_SIGNALS


	)

93 
	m_SC_PRIORITY_SCHEDULING
,

94 
	#_SC_PRIORITY_SCHEDULING
 
_SC_PRIORITY_SCHEDULING


	)

95 
	m_SC_TIMERS
,

96 
	#_SC_TIMERS
 
_SC_TIMERS


	)

97 
	m_SC_ASYNCHRONOUS_IO
,

98 
	#_SC_ASYNCHRONOUS_IO
 
_SC_ASYNCHRONOUS_IO


	)

99 
	m_SC_PRIORITIZED_IO
,

100 
	#_SC_PRIORITIZED_IO
 
_SC_PRIORITIZED_IO


	)

101 
	m_SC_SYNCHRONIZED_IO
,

102 
	#_SC_SYNCHRONIZED_IO
 
_SC_SYNCHRONIZED_IO


	)

103 
	m_SC_FSYNC
,

104 
	#_SC_FSYNC
 
_SC_FSYNC


	)

105 
	m_SC_MAPPED_FILES
,

106 
	#_SC_MAPPED_FILES
 
_SC_MAPPED_FILES


	)

107 
	m_SC_MEMLOCK
,

108 
	#_SC_MEMLOCK
 
_SC_MEMLOCK


	)

109 
	m_SC_MEMLOCK_RANGE
,

110 
	#_SC_MEMLOCK_RANGE
 
_SC_MEMLOCK_RANGE


	)

111 
	m_SC_MEMORY_PROTECTION
,

112 
	#_SC_MEMORY_PROTECTION
 
_SC_MEMORY_PROTECTION


	)

113 
	m_SC_MESSAGE_PASSING
,

114 
	#_SC_MESSAGE_PASSING
 
_SC_MESSAGE_PASSING


	)

115 
	m_SC_SEMAPHORES
,

116 
	#_SC_SEMAPHORES
 
_SC_SEMAPHORES


	)

117 
	m_SC_SHARED_MEMORY_OBJECTS
,

118 
	#_SC_SHARED_MEMORY_OBJECTS
 
_SC_SHARED_MEMORY_OBJECTS


	)

119 
	m_SC_AIO_LISTIO_MAX
,

120 
	#_SC_AIO_LISTIO_MAX
 
_SC_AIO_LISTIO_MAX


	)

121 
	m_SC_AIO_MAX
,

122 
	#_SC_AIO_MAX
 
_SC_AIO_MAX


	)

123 
	m_SC_AIO_PRIO_DELTA_MAX
,

124 
	#_SC_AIO_PRIO_DELTA_MAX
 
_SC_AIO_PRIO_DELTA_MAX


	)

125 
	m_SC_DELAYTIMER_MAX
,

126 
	#_SC_DELAYTIMER_MAX
 
_SC_DELAYTIMER_MAX


	)

127 
	m_SC_MQ_OPEN_MAX
,

128 
	#_SC_MQ_OPEN_MAX
 
_SC_MQ_OPEN_MAX


	)

129 
	m_SC_MQ_PRIO_MAX
,

130 
	#_SC_MQ_PRIO_MAX
 
_SC_MQ_PRIO_MAX


	)

131 
	m_SC_VERSION
,

132 
	#_SC_VERSION
 
_SC_VERSION


	)

133 
	m_SC_PAGESIZE
,

134 
	#_SC_PAGESIZE
 
_SC_PAGESIZE


	)

135 
	#_SC_PAGE_SIZE
 
_SC_PAGESIZE


	)

136 
	m_SC_RTSIG_MAX
,

137 
	#_SC_RTSIG_MAX
 
_SC_RTSIG_MAX


	)

138 
	m_SC_SEM_NSEMS_MAX
,

139 
	#_SC_SEM_NSEMS_MAX
 
_SC_SEM_NSEMS_MAX


	)

140 
	m_SC_SEM_VALUE_MAX
,

141 
	#_SC_SEM_VALUE_MAX
 
_SC_SEM_VALUE_MAX


	)

142 
	m_SC_SIGQUEUE_MAX
,

143 
	#_SC_SIGQUEUE_MAX
 
_SC_SIGQUEUE_MAX


	)

144 
	m_SC_TIMER_MAX
,

145 
	#_SC_TIMER_MAX
 
_SC_TIMER_MAX


	)

149 
	m_SC_BC_BASE_MAX
,

150 
	#_SC_BC_BASE_MAX
 
_SC_BC_BASE_MAX


	)

151 
	m_SC_BC_DIM_MAX
,

152 
	#_SC_BC_DIM_MAX
 
_SC_BC_DIM_MAX


	)

153 
	m_SC_BC_SCALE_MAX
,

154 
	#_SC_BC_SCALE_MAX
 
_SC_BC_SCALE_MAX


	)

155 
	m_SC_BC_STRING_MAX
,

156 
	#_SC_BC_STRING_MAX
 
_SC_BC_STRING_MAX


	)

157 
	m_SC_COLL_WEIGHTS_MAX
,

158 
	#_SC_COLL_WEIGHTS_MAX
 
_SC_COLL_WEIGHTS_MAX


	)

159 
	m_SC_EQUIV_CLASS_MAX
,

160 
	#_SC_EQUIV_CLASS_MAX
 
_SC_EQUIV_CLASS_MAX


	)

161 
	m_SC_EXPR_NEST_MAX
,

162 
	#_SC_EXPR_NEST_MAX
 
_SC_EXPR_NEST_MAX


	)

163 
	m_SC_LINE_MAX
,

164 
	#_SC_LINE_MAX
 
_SC_LINE_MAX


	)

165 
	m_SC_RE_DUP_MAX
,

166 
	#_SC_RE_DUP_MAX
 
_SC_RE_DUP_MAX


	)

167 
	m_SC_CHARCLASS_NAME_MAX
,

168 
	#_SC_CHARCLASS_NAME_MAX
 
_SC_CHARCLASS_NAME_MAX


	)

170 
	m_SC_2_VERSION
,

171 
	#_SC_2_VERSION
 
_SC_2_VERSION


	)

172 
	m_SC_2_C_BIND
,

173 
	#_SC_2_C_BIND
 
_SC_2_C_BIND


	)

174 
	m_SC_2_C_DEV
,

175 
	#_SC_2_C_DEV
 
_SC_2_C_DEV


	)

176 
	m_SC_2_FORT_DEV
,

177 
	#_SC_2_FORT_DEV
 
_SC_2_FORT_DEV


	)

178 
	m_SC_2_FORT_RUN
,

179 
	#_SC_2_FORT_RUN
 
_SC_2_FORT_RUN


	)

180 
	m_SC_2_SW_DEV
,

181 
	#_SC_2_SW_DEV
 
_SC_2_SW_DEV


	)

182 
	m_SC_2_LOCALEDEF
,

183 
	#_SC_2_LOCALEDEF
 
_SC_2_LOCALEDEF


	)

185 
	m_SC_PII
,

186 
	#_SC_PII
 
_SC_PII


	)

187 
	m_SC_PII_XTI
,

188 
	#_SC_PII_XTI
 
_SC_PII_XTI


	)

189 
	m_SC_PII_SOCKET
,

190 
	#_SC_PII_SOCKET
 
_SC_PII_SOCKET


	)

191 
	m_SC_PII_INTERNET
,

192 
	#_SC_PII_INTERNET
 
_SC_PII_INTERNET


	)

193 
	m_SC_PII_OSI
,

194 
	#_SC_PII_OSI
 
_SC_PII_OSI


	)

195 
	m_SC_POLL
,

196 
	#_SC_POLL
 
_SC_POLL


	)

197 
	m_SC_SELECT
,

198 
	#_SC_SELECT
 
_SC_SELECT


	)

199 
	m_SC_UIO_MAXIOV
,

200 
	#_SC_UIO_MAXIOV
 
_SC_UIO_MAXIOV


	)

201 
	m_SC_IOV_MAX
 = 
_SC_UIO_MAXIOV
,

202 
	#_SC_IOV_MAX
 
_SC_IOV_MAX


	)

203 
	m_SC_PII_INTERNET_STREAM
,

204 
	#_SC_PII_INTERNET_STREAM
 
_SC_PII_INTERNET_STREAM


	)

205 
	m_SC_PII_INTERNET_DGRAM
,

206 
	#_SC_PII_INTERNET_DGRAM
 
_SC_PII_INTERNET_DGRAM


	)

207 
	m_SC_PII_OSI_COTS
,

208 
	#_SC_PII_OSI_COTS
 
_SC_PII_OSI_COTS


	)

209 
	m_SC_PII_OSI_CLTS
,

210 
	#_SC_PII_OSI_CLTS
 
_SC_PII_OSI_CLTS


	)

211 
	m_SC_PII_OSI_M
,

212 
	#_SC_PII_OSI_M
 
_SC_PII_OSI_M


	)

213 
	m_SC_T_IOV_MAX
,

214 
	#_SC_T_IOV_MAX
 
_SC_T_IOV_MAX


	)

217 
	m_SC_THREADS
,

218 
	#_SC_THREADS
 
_SC_THREADS


	)

219 
	m_SC_THREAD_SAFE_FUNCTIONS
,

220 
	#_SC_THREAD_SAFE_FUNCTIONS
 
_SC_THREAD_SAFE_FUNCTIONS


	)

221 
	m_SC_GETGR_R_SIZE_MAX
,

222 
	#_SC_GETGR_R_SIZE_MAX
 
_SC_GETGR_R_SIZE_MAX


	)

223 
	m_SC_GETPW_R_SIZE_MAX
,

224 
	#_SC_GETPW_R_SIZE_MAX
 
_SC_GETPW_R_SIZE_MAX


	)

225 
	m_SC_LOGIN_NAME_MAX
,

226 
	#_SC_LOGIN_NAME_MAX
 
_SC_LOGIN_NAME_MAX


	)

227 
	m_SC_TTY_NAME_MAX
,

228 
	#_SC_TTY_NAME_MAX
 
_SC_TTY_NAME_MAX


	)

229 
	m_SC_THREAD_DESTRUCTOR_ITERATIONS
,

230 
	#_SC_THREAD_DESTRUCTOR_ITERATIONS
 
_SC_THREAD_DESTRUCTOR_ITERATIONS


	)

231 
	m_SC_THREAD_KEYS_MAX
,

232 
	#_SC_THREAD_KEYS_MAX
 
_SC_THREAD_KEYS_MAX


	)

233 
	m_SC_THREAD_STACK_MIN
,

234 
	#_SC_THREAD_STACK_MIN
 
_SC_THREAD_STACK_MIN


	)

235 
	m_SC_THREAD_THREADS_MAX
,

236 
	#_SC_THREAD_THREADS_MAX
 
_SC_THREAD_THREADS_MAX


	)

237 
	m_SC_THREAD_ATTR_STACKADDR
,

238 
	#_SC_THREAD_ATTR_STACKADDR
 
_SC_THREAD_ATTR_STACKADDR


	)

239 
	m_SC_THREAD_ATTR_STACKSIZE
,

240 
	#_SC_THREAD_ATTR_STACKSIZE
 
_SC_THREAD_ATTR_STACKSIZE


	)

241 
	m_SC_THREAD_PRIORITY_SCHEDULING
,

242 
	#_SC_THREAD_PRIORITY_SCHEDULING
 
_SC_THREAD_PRIORITY_SCHEDULING


	)

243 
	m_SC_THREAD_PRIO_INHERIT
,

244 
	#_SC_THREAD_PRIO_INHERIT
 
_SC_THREAD_PRIO_INHERIT


	)

245 
	m_SC_THREAD_PRIO_PROTECT
,

246 
	#_SC_THREAD_PRIO_PROTECT
 
_SC_THREAD_PRIO_PROTECT


	)

247 
	m_SC_THREAD_PROCESS_SHARED
,

248 
	#_SC_THREAD_PROCESS_SHARED
 
_SC_THREAD_PROCESS_SHARED


	)

250 
	m_SC_NPROCESSORS_CONF
,

251 
	#_SC_NPROCESSORS_CONF
 
_SC_NPROCESSORS_CONF


	)

252 
	m_SC_NPROCESSORS_ONLN
,

253 
	#_SC_NPROCESSORS_ONLN
 
_SC_NPROCESSORS_ONLN


	)

254 
	m_SC_PHYS_PAGES
,

255 
	#_SC_PHYS_PAGES
 
_SC_PHYS_PAGES


	)

256 
	m_SC_AVPHYS_PAGES
,

257 
	#_SC_AVPHYS_PAGES
 
_SC_AVPHYS_PAGES


	)

258 
	m_SC_ATEXIT_MAX
,

259 
	#_SC_ATEXIT_MAX
 
_SC_ATEXIT_MAX


	)

260 
	m_SC_PASS_MAX
,

261 
	#_SC_PASS_MAX
 
_SC_PASS_MAX


	)

263 
	m_SC_XOPEN_VERSION
,

264 
	#_SC_XOPEN_VERSION
 
_SC_XOPEN_VERSION


	)

265 
	m_SC_XOPEN_XCU_VERSION
,

266 
	#_SC_XOPEN_XCU_VERSION
 
_SC_XOPEN_XCU_VERSION


	)

267 
	m_SC_XOPEN_UNIX
,

268 
	#_SC_XOPEN_UNIX
 
_SC_XOPEN_UNIX


	)

269 
	m_SC_XOPEN_CRYPT
,

270 
	#_SC_XOPEN_CRYPT
 
_SC_XOPEN_CRYPT


	)

271 
	m_SC_XOPEN_ENH_I18N
,

272 
	#_SC_XOPEN_ENH_I18N
 
_SC_XOPEN_ENH_I18N


	)

273 
	m_SC_XOPEN_SHM
,

274 
	#_SC_XOPEN_SHM
 
_SC_XOPEN_SHM


	)

276 
	m_SC_2_CHAR_TERM
,

277 
	#_SC_2_CHAR_TERM
 
_SC_2_CHAR_TERM


	)

278 
	m_SC_2_C_VERSION
,

279 
	#_SC_2_C_VERSION
 
_SC_2_C_VERSION


	)

280 
	m_SC_2_UPE
,

281 
	#_SC_2_UPE
 
_SC_2_UPE


	)

283 
	m_SC_XOPEN_XPG2
,

284 
	#_SC_XOPEN_XPG2
 
_SC_XOPEN_XPG2


	)

285 
	m_SC_XOPEN_XPG3
,

286 
	#_SC_XOPEN_XPG3
 
_SC_XOPEN_XPG3


	)

287 
	m_SC_XOPEN_XPG4
,

288 
	#_SC_XOPEN_XPG4
 
_SC_XOPEN_XPG4


	)

290 
	m_SC_CHAR_BIT
,

291 
	#_SC_CHAR_BIT
 
_SC_CHAR_BIT


	)

292 
	m_SC_CHAR_MAX
,

293 
	#_SC_CHAR_MAX
 
_SC_CHAR_MAX


	)

294 
	m_SC_CHAR_MIN
,

295 
	#_SC_CHAR_MIN
 
_SC_CHAR_MIN


	)

296 
	m_SC_INT_MAX
,

297 
	#_SC_INT_MAX
 
_SC_INT_MAX


	)

298 
	m_SC_INT_MIN
,

299 
	#_SC_INT_MIN
 
_SC_INT_MIN


	)

300 
	m_SC_LONG_BIT
,

301 
	#_SC_LONG_BIT
 
_SC_LONG_BIT


	)

302 
	m_SC_WORD_BIT
,

303 
	#_SC_WORD_BIT
 
_SC_WORD_BIT


	)

304 
	m_SC_MB_LEN_MAX
,

305 
	#_SC_MB_LEN_MAX
 
_SC_MB_LEN_MAX


	)

306 
	m_SC_NZERO
,

307 
	#_SC_NZERO
 
_SC_NZERO


	)

308 
	m_SC_SSIZE_MAX
,

309 
	#_SC_SSIZE_MAX
 
_SC_SSIZE_MAX


	)

310 
	m_SC_SCHAR_MAX
,

311 
	#_SC_SCHAR_MAX
 
_SC_SCHAR_MAX


	)

312 
	m_SC_SCHAR_MIN
,

313 
	#_SC_SCHAR_MIN
 
_SC_SCHAR_MIN


	)

314 
	m_SC_SHRT_MAX
,

315 
	#_SC_SHRT_MAX
 
_SC_SHRT_MAX


	)

316 
	m_SC_SHRT_MIN
,

317 
	#_SC_SHRT_MIN
 
_SC_SHRT_MIN


	)

318 
	m_SC_UCHAR_MAX
,

319 
	#_SC_UCHAR_MAX
 
_SC_UCHAR_MAX


	)

320 
	m_SC_UINT_MAX
,

321 
	#_SC_UINT_MAX
 
_SC_UINT_MAX


	)

322 
	m_SC_ULONG_MAX
,

323 
	#_SC_ULONG_MAX
 
_SC_ULONG_MAX


	)

324 
	m_SC_USHRT_MAX
,

325 
	#_SC_USHRT_MAX
 
_SC_USHRT_MAX


	)

327 
	m_SC_NL_ARGMAX
,

328 
	#_SC_NL_ARGMAX
 
_SC_NL_ARGMAX


	)

329 
	m_SC_NL_LANGMAX
,

330 
	#_SC_NL_LANGMAX
 
_SC_NL_LANGMAX


	)

331 
	m_SC_NL_MSGMAX
,

332 
	#_SC_NL_MSGMAX
 
_SC_NL_MSGMAX


	)

333 
	m_SC_NL_NMAX
,

334 
	#_SC_NL_NMAX
 
_SC_NL_NMAX


	)

335 
	m_SC_NL_SETMAX
,

336 
	#_SC_NL_SETMAX
 
_SC_NL_SETMAX


	)

337 
	m_SC_NL_TEXTMAX
,

338 
	#_SC_NL_TEXTMAX
 
_SC_NL_TEXTMAX


	)

340 
	m_SC_XBS5_ILP32_OFF32
,

341 
	#_SC_XBS5_ILP32_OFF32
 
_SC_XBS5_ILP32_OFF32


	)

342 
	m_SC_XBS5_ILP32_OFFBIG
,

343 
	#_SC_XBS5_ILP32_OFFBIG
 
_SC_XBS5_ILP32_OFFBIG


	)

344 
	m_SC_XBS5_LP64_OFF64
,

345 
	#_SC_XBS5_LP64_OFF64
 
_SC_XBS5_LP64_OFF64


	)

346 
	m_SC_XBS5_LPBIG_OFFBIG
,

347 
	#_SC_XBS5_LPBIG_OFFBIG
 
_SC_XBS5_LPBIG_OFFBIG


	)

349 
	m_SC_XOPEN_LEGACY
,

350 
	#_SC_XOPEN_LEGACY
 
_SC_XOPEN_LEGACY


	)

351 
	m_SC_XOPEN_REALTIME
,

352 
	#_SC_XOPEN_REALTIME
 
_SC_XOPEN_REALTIME


	)

353 
	m_SC_XOPEN_REALTIME_THREADS
,

354 
	#_SC_XOPEN_REALTIME_THREADS
 
_SC_XOPEN_REALTIME_THREADS


	)

356 
	m_SC_ADVISORY_INFO
,

357 
	#_SC_ADVISORY_INFO
 
_SC_ADVISORY_INFO


	)

358 
	m_SC_BARRIERS
,

359 
	#_SC_BARRIERS
 
_SC_BARRIERS


	)

360 
	m_SC_BASE
,

361 
	#_SC_BASE
 
_SC_BASE


	)

362 
	m_SC_C_LANG_SUPPORT
,

363 
	#_SC_C_LANG_SUPPORT
 
_SC_C_LANG_SUPPORT


	)

364 
	m_SC_C_LANG_SUPPORT_R
,

365 
	#_SC_C_LANG_SUPPORT_R
 
_SC_C_LANG_SUPPORT_R


	)

366 
	m_SC_CLOCK_SELECTION
,

367 
	#_SC_CLOCK_SELECTION
 
_SC_CLOCK_SELECTION


	)

368 
	m_SC_CPUTIME
,

369 
	#_SC_CPUTIME
 
_SC_CPUTIME


	)

370 
	m_SC_THREAD_CPUTIME
,

371 
	#_SC_THREAD_CPUTIME
 
_SC_THREAD_CPUTIME


	)

372 
	m_SC_DEVICE_IO
,

373 
	#_SC_DEVICE_IO
 
_SC_DEVICE_IO


	)

374 
	m_SC_DEVICE_SPECIFIC
,

375 
	#_SC_DEVICE_SPECIFIC
 
_SC_DEVICE_SPECIFIC


	)

376 
	m_SC_DEVICE_SPECIFIC_R
,

377 
	#_SC_DEVICE_SPECIFIC_R
 
_SC_DEVICE_SPECIFIC_R


	)

378 
	m_SC_FD_MGMT
,

379 
	#_SC_FD_MGMT
 
_SC_FD_MGMT


	)

380 
	m_SC_FIFO
,

381 
	#_SC_FIFO
 
_SC_FIFO


	)

382 
	m_SC_PIPE
,

383 
	#_SC_PIPE
 
_SC_PIPE


	)

384 
	m_SC_FILE_ATTRIBUTES
,

385 
	#_SC_FILE_ATTRIBUTES
 
_SC_FILE_ATTRIBUTES


	)

386 
	m_SC_FILE_LOCKING
,

387 
	#_SC_FILE_LOCKING
 
_SC_FILE_LOCKING


	)

388 
	m_SC_FILE_SYSTEM
,

389 
	#_SC_FILE_SYSTEM
 
_SC_FILE_SYSTEM


	)

390 
	m_SC_MONOTONIC_CLOCK
,

391 
	#_SC_MONOTONIC_CLOCK
 
_SC_MONOTONIC_CLOCK


	)

392 
	m_SC_MULTI_PROCESS
,

393 
	#_SC_MULTI_PROCESS
 
_SC_MULTI_PROCESS


	)

394 
	m_SC_SINGLE_PROCESS
,

395 
	#_SC_SINGLE_PROCESS
 
_SC_SINGLE_PROCESS


	)

396 
	m_SC_NETWORKING
,

397 
	#_SC_NETWORKING
 
_SC_NETWORKING


	)

398 
	m_SC_READER_WRITER_LOCKS
,

399 
	#_SC_READER_WRITER_LOCKS
 
_SC_READER_WRITER_LOCKS


	)

400 
	m_SC_SPIN_LOCKS
,

401 
	#_SC_SPIN_LOCKS
 
_SC_SPIN_LOCKS


	)

402 
	m_SC_REGEXP
,

403 
	#_SC_REGEXP
 
_SC_REGEXP


	)

404 
	m_SC_REGEX_VERSION
,

405 
	#_SC_REGEX_VERSION
 
_SC_REGEX_VERSION


	)

406 
	m_SC_SHELL
,

407 
	#_SC_SHELL
 
_SC_SHELL


	)

408 
	m_SC_SIGNALS
,

409 
	#_SC_SIGNALS
 
_SC_SIGNALS


	)

410 
	m_SC_SPAWN
,

411 
	#_SC_SPAWN
 
_SC_SPAWN


	)

412 
	m_SC_SPORADIC_SERVER
,

413 
	#_SC_SPORADIC_SERVER
 
_SC_SPORADIC_SERVER


	)

414 
	m_SC_THREAD_SPORADIC_SERVER
,

415 
	#_SC_THREAD_SPORADIC_SERVER
 
_SC_THREAD_SPORADIC_SERVER


	)

416 
	m_SC_SYSTEM_DATABASE
,

417 
	#_SC_SYSTEM_DATABASE
 
_SC_SYSTEM_DATABASE


	)

418 
	m_SC_SYSTEM_DATABASE_R
,

419 
	#_SC_SYSTEM_DATABASE_R
 
_SC_SYSTEM_DATABASE_R


	)

420 
	m_SC_TIMEOUTS
,

421 
	#_SC_TIMEOUTS
 
_SC_TIMEOUTS


	)

422 
	m_SC_TYPED_MEMORY_OBJECTS
,

423 
	#_SC_TYPED_MEMORY_OBJECTS
 
_SC_TYPED_MEMORY_OBJECTS


	)

424 
	m_SC_USER_GROUPS
,

425 
	#_SC_USER_GROUPS
 
_SC_USER_GROUPS


	)

426 
	m_SC_USER_GROUPS_R
,

427 
	#_SC_USER_GROUPS_R
 
_SC_USER_GROUPS_R


	)

428 
	m_SC_2_PBS
,

429 
	#_SC_2_PBS
 
_SC_2_PBS


	)

430 
	m_SC_2_PBS_ACCOUNTING
,

431 
	#_SC_2_PBS_ACCOUNTING
 
_SC_2_PBS_ACCOUNTING


	)

432 
	m_SC_2_PBS_LOCATE
,

433 
	#_SC_2_PBS_LOCATE
 
_SC_2_PBS_LOCATE


	)

434 
	m_SC_2_PBS_MESSAGE
,

435 
	#_SC_2_PBS_MESSAGE
 
_SC_2_PBS_MESSAGE


	)

436 
	m_SC_2_PBS_TRACK
,

437 
	#_SC_2_PBS_TRACK
 
_SC_2_PBS_TRACK


	)

438 
	m_SC_SYMLOOP_MAX
,

439 
	#_SC_SYMLOOP_MAX
 
_SC_SYMLOOP_MAX


	)

440 
	m_SC_STREAMS
,

441 
	#_SC_STREAMS
 
_SC_STREAMS


	)

442 
	m_SC_2_PBS_CHECKPOINT
,

443 
	#_SC_2_PBS_CHECKPOINT
 
_SC_2_PBS_CHECKPOINT


	)

445 
	m_SC_V6_ILP32_OFF32
,

446 
	#_SC_V6_ILP32_OFF32
 
_SC_V6_ILP32_OFF32


	)

447 
	m_SC_V6_ILP32_OFFBIG
,

448 
	#_SC_V6_ILP32_OFFBIG
 
_SC_V6_ILP32_OFFBIG


	)

449 
	m_SC_V6_LP64_OFF64
,

450 
	#_SC_V6_LP64_OFF64
 
_SC_V6_LP64_OFF64


	)

451 
	m_SC_V6_LPBIG_OFFBIG
,

452 
	#_SC_V6_LPBIG_OFFBIG
 
_SC_V6_LPBIG_OFFBIG


	)

454 
	m_SC_HOST_NAME_MAX
,

455 
	#_SC_HOST_NAME_MAX
 
_SC_HOST_NAME_MAX


	)

456 
	m_SC_TRACE
,

457 
	#_SC_TRACE
 
_SC_TRACE


	)

458 
	m_SC_TRACE_EVENT_FILTER
,

459 
	#_SC_TRACE_EVENT_FILTER
 
_SC_TRACE_EVENT_FILTER


	)

460 
	m_SC_TRACE_INHERIT
,

461 
	#_SC_TRACE_INHERIT
 
_SC_TRACE_INHERIT


	)

462 
	m_SC_TRACE_LOG
,

463 
	#_SC_TRACE_LOG
 
_SC_TRACE_LOG


	)

465 
	m_SC_LEVEL1_ICACHE_SIZE
,

466 
	#_SC_LEVEL1_ICACHE_SIZE
 
_SC_LEVEL1_ICACHE_SIZE


	)

467 
	m_SC_LEVEL1_ICACHE_ASSOC
,

468 
	#_SC_LEVEL1_ICACHE_ASSOC
 
_SC_LEVEL1_ICACHE_ASSOC


	)

469 
	m_SC_LEVEL1_ICACHE_LINESIZE
,

470 
	#_SC_LEVEL1_ICACHE_LINESIZE
 
_SC_LEVEL1_ICACHE_LINESIZE


	)

471 
	m_SC_LEVEL1_DCACHE_SIZE
,

472 
	#_SC_LEVEL1_DCACHE_SIZE
 
_SC_LEVEL1_DCACHE_SIZE


	)

473 
	m_SC_LEVEL1_DCACHE_ASSOC
,

474 
	#_SC_LEVEL1_DCACHE_ASSOC
 
_SC_LEVEL1_DCACHE_ASSOC


	)

475 
	m_SC_LEVEL1_DCACHE_LINESIZE
,

476 
	#_SC_LEVEL1_DCACHE_LINESIZE
 
_SC_LEVEL1_DCACHE_LINESIZE


	)

477 
	m_SC_LEVEL2_CACHE_SIZE
,

478 
	#_SC_LEVEL2_CACHE_SIZE
 
_SC_LEVEL2_CACHE_SIZE


	)

479 
	m_SC_LEVEL2_CACHE_ASSOC
,

480 
	#_SC_LEVEL2_CACHE_ASSOC
 
_SC_LEVEL2_CACHE_ASSOC


	)

481 
	m_SC_LEVEL2_CACHE_LINESIZE
,

482 
	#_SC_LEVEL2_CACHE_LINESIZE
 
_SC_LEVEL2_CACHE_LINESIZE


	)

483 
	m_SC_LEVEL3_CACHE_SIZE
,

484 
	#_SC_LEVEL3_CACHE_SIZE
 
_SC_LEVEL3_CACHE_SIZE


	)

485 
	m_SC_LEVEL3_CACHE_ASSOC
,

486 
	#_SC_LEVEL3_CACHE_ASSOC
 
_SC_LEVEL3_CACHE_ASSOC


	)

487 
	m_SC_LEVEL3_CACHE_LINESIZE
,

488 
	#_SC_LEVEL3_CACHE_LINESIZE
 
_SC_LEVEL3_CACHE_LINESIZE


	)

489 
	m_SC_LEVEL4_CACHE_SIZE
,

490 
	#_SC_LEVEL4_CACHE_SIZE
 
_SC_LEVEL4_CACHE_SIZE


	)

491 
	m_SC_LEVEL4_CACHE_ASSOC
,

492 
	#_SC_LEVEL4_CACHE_ASSOC
 
_SC_LEVEL4_CACHE_ASSOC


	)

493 
	m_SC_LEVEL4_CACHE_LINESIZE
,

494 
	#_SC_LEVEL4_CACHE_LINESIZE
 
_SC_LEVEL4_CACHE_LINESIZE


	)

497 
	m_SC_IPV6
 = 
_SC_LEVEL1_ICACHE_SIZE
 + 50,

498 
	#_SC_IPV6
 
_SC_IPV6


	)

499 
	m_SC_RAW_SOCKETS
,

500 
	#_SC_RAW_SOCKETS
 
_SC_RAW_SOCKETS


	)

502 
	m_SC_V7_ILP32_OFF32
,

503 
	#_SC_V7_ILP32_OFF32
 
_SC_V7_ILP32_OFF32


	)

504 
	m_SC_V7_ILP32_OFFBIG
,

505 
	#_SC_V7_ILP32_OFFBIG
 
_SC_V7_ILP32_OFFBIG


	)

506 
	m_SC_V7_LP64_OFF64
,

507 
	#_SC_V7_LP64_OFF64
 
_SC_V7_LP64_OFF64


	)

508 
	m_SC_V7_LPBIG_OFFBIG
,

509 
	#_SC_V7_LPBIG_OFFBIG
 
_SC_V7_LPBIG_OFFBIG


	)

511 
	m_SC_SS_REPL_MAX
,

512 
	#_SC_SS_REPL_MAX
 
_SC_SS_REPL_MAX


	)

514 
	m_SC_TRACE_EVENT_NAME_MAX
,

515 
	#_SC_TRACE_EVENT_NAME_MAX
 
_SC_TRACE_EVENT_NAME_MAX


	)

516 
	m_SC_TRACE_NAME_MAX
,

517 
	#_SC_TRACE_NAME_MAX
 
_SC_TRACE_NAME_MAX


	)

518 
	m_SC_TRACE_SYS_MAX
,

519 
	#_SC_TRACE_SYS_MAX
 
_SC_TRACE_SYS_MAX


	)

520 
	m_SC_TRACE_USER_EVENT_MAX
,

521 
	#_SC_TRACE_USER_EVENT_MAX
 
_SC_TRACE_USER_EVENT_MAX


	)

523 
	m_SC_XOPEN_STREAMS
,

524 
	#_SC_XOPEN_STREAMS
 
_SC_XOPEN_STREAMS


	)

526 
	m_SC_THREAD_ROBUST_PRIO_INHERIT
,

527 
	#_SC_THREAD_ROBUST_PRIO_INHERIT
 
_SC_THREAD_ROBUST_PRIO_INHERIT


	)

528 
	m_SC_THREAD_ROBUST_PRIO_PROTECT


529 
	#_SC_THREAD_ROBUST_PRIO_PROTECT
 
_SC_THREAD_ROBUST_PRIO_PROTECT


	)

535 
	m_CS_PATH
,

536 
	#_CS_PATH
 
_CS_PATH


	)

538 
	m_CS_V6_WIDTH_RESTRICTED_ENVS
,

539 
	#_CS_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

540 
	#_CS_POSIX_V6_WIDTH_RESTRICTED_ENVS
 
_CS_V6_WIDTH_RESTRICTED_ENVS


	)

542 
	m_CS_GNU_LIBC_VERSION
,

543 
	#_CS_GNU_LIBC_VERSION
 
_CS_GNU_LIBC_VERSION


	)

544 
	m_CS_GNU_LIBPTHREAD_VERSION
,

545 
	#_CS_GNU_LIBPTHREAD_VERSION
 
_CS_GNU_LIBPTHREAD_VERSION


	)

547 
	m_CS_V5_WIDTH_RESTRICTED_ENVS
,

548 
	#_CS_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

549 
	#_CS_POSIX_V5_WIDTH_RESTRICTED_ENVS
 
_CS_V5_WIDTH_RESTRICTED_ENVS


	)

551 
	m_CS_V7_WIDTH_RESTRICTED_ENVS
,

552 
	#_CS_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

553 
	#_CS_POSIX_V7_WIDTH_RESTRICTED_ENVS
 
_CS_V7_WIDTH_RESTRICTED_ENVS


	)

555 
	m_CS_LFS_CFLAGS
 = 1000,

556 
	#_CS_LFS_CFLAGS
 
_CS_LFS_CFLAGS


	)

557 
	m_CS_LFS_LDFLAGS
,

558 
	#_CS_LFS_LDFLAGS
 
_CS_LFS_LDFLAGS


	)

559 
	m_CS_LFS_LIBS
,

560 
	#_CS_LFS_LIBS
 
_CS_LFS_LIBS


	)

561 
	m_CS_LFS_LINTFLAGS
,

562 
	#_CS_LFS_LINTFLAGS
 
_CS_LFS_LINTFLAGS


	)

563 
	m_CS_LFS64_CFLAGS
,

564 
	#_CS_LFS64_CFLAGS
 
_CS_LFS64_CFLAGS


	)

565 
	m_CS_LFS64_LDFLAGS
,

566 
	#_CS_LFS64_LDFLAGS
 
_CS_LFS64_LDFLAGS


	)

567 
	m_CS_LFS64_LIBS
,

568 
	#_CS_LFS64_LIBS
 
_CS_LFS64_LIBS


	)

569 
	m_CS_LFS64_LINTFLAGS
,

570 
	#_CS_LFS64_LINTFLAGS
 
_CS_LFS64_LINTFLAGS


	)

572 
	m_CS_XBS5_ILP32_OFF32_CFLAGS
 = 1100,

573 
	#_CS_XBS5_ILP32_OFF32_CFLAGS
 
_CS_XBS5_ILP32_OFF32_CFLAGS


	)

574 
	m_CS_XBS5_ILP32_OFF32_LDFLAGS
,

575 
	#_CS_XBS5_ILP32_OFF32_LDFLAGS
 
_CS_XBS5_ILP32_OFF32_LDFLAGS


	)

576 
	m_CS_XBS5_ILP32_OFF32_LIBS
,

577 
	#_CS_XBS5_ILP32_OFF32_LIBS
 
_CS_XBS5_ILP32_OFF32_LIBS


	)

578 
	m_CS_XBS5_ILP32_OFF32_LINTFLAGS
,

579 
	#_CS_XBS5_ILP32_OFF32_LINTFLAGS
 
_CS_XBS5_ILP32_OFF32_LINTFLAGS


	)

580 
	m_CS_XBS5_ILP32_OFFBIG_CFLAGS
,

581 
	#_CS_XBS5_ILP32_OFFBIG_CFLAGS
 
_CS_XBS5_ILP32_OFFBIG_CFLAGS


	)

582 
	m_CS_XBS5_ILP32_OFFBIG_LDFLAGS
,

583 
	#_CS_XBS5_ILP32_OFFBIG_LDFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LDFLAGS


	)

584 
	m_CS_XBS5_ILP32_OFFBIG_LIBS
,

585 
	#_CS_XBS5_ILP32_OFFBIG_LIBS
 
_CS_XBS5_ILP32_OFFBIG_LIBS


	)

586 
	m_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
,

587 
	#_CS_XBS5_ILP32_OFFBIG_LINTFLAGS
 
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS


	)

588 
	m_CS_XBS5_LP64_OFF64_CFLAGS
,

589 
	#_CS_XBS5_LP64_OFF64_CFLAGS
 
_CS_XBS5_LP64_OFF64_CFLAGS


	)

590 
	m_CS_XBS5_LP64_OFF64_LDFLAGS
,

591 
	#_CS_XBS5_LP64_OFF64_LDFLAGS
 
_CS_XBS5_LP64_OFF64_LDFLAGS


	)

592 
	m_CS_XBS5_LP64_OFF64_LIBS
,

593 
	#_CS_XBS5_LP64_OFF64_LIBS
 
_CS_XBS5_LP64_OFF64_LIBS


	)

594 
	m_CS_XBS5_LP64_OFF64_LINTFLAGS
,

595 
	#_CS_XBS5_LP64_OFF64_LINTFLAGS
 
_CS_XBS5_LP64_OFF64_LINTFLAGS


	)

596 
	m_CS_XBS5_LPBIG_OFFBIG_CFLAGS
,

597 
	#_CS_XBS5_LPBIG_OFFBIG_CFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_CFLAGS


	)

598 
	m_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
,

599 
	#_CS_XBS5_LPBIG_OFFBIG_LDFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS


	)

600 
	m_CS_XBS5_LPBIG_OFFBIG_LIBS
,

601 
	#_CS_XBS5_LPBIG_OFFBIG_LIBS
 
_CS_XBS5_LPBIG_OFFBIG_LIBS


	)

602 
	m_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
,

603 
	#_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS
 
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS


	)

605 
	m_CS_POSIX_V6_ILP32_OFF32_CFLAGS
,

606 
	#_CS_POSIX_V6_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_CFLAGS


	)

607 
	m_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
,

608 
	#_CS_POSIX_V6_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS


	)

609 
	m_CS_POSIX_V6_ILP32_OFF32_LIBS
,

610 
	#_CS_POSIX_V6_ILP32_OFF32_LIBS
 
_CS_POSIX_V6_ILP32_OFF32_LIBS


	)

611 
	m_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
,

612 
	#_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS


	)

613 
	m_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
,

614 
	#_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS


	)

615 
	m_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
,

616 
	#_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS


	)

617 
	m_CS_POSIX_V6_ILP32_OFFBIG_LIBS
,

618 
	#_CS_POSIX_V6_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V6_ILP32_OFFBIG_LIBS


	)

619 
	m_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
,

620 
	#_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS


	)

621 
	m_CS_POSIX_V6_LP64_OFF64_CFLAGS
,

622 
	#_CS_POSIX_V6_LP64_OFF64_CFLAGS
 
_CS_POSIX_V6_LP64_OFF64_CFLAGS


	)

623 
	m_CS_POSIX_V6_LP64_OFF64_LDFLAGS
,

624 
	#_CS_POSIX_V6_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LDFLAGS


	)

625 
	m_CS_POSIX_V6_LP64_OFF64_LIBS
,

626 
	#_CS_POSIX_V6_LP64_OFF64_LIBS
 
_CS_POSIX_V6_LP64_OFF64_LIBS


	)

627 
	m_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
,

628 
	#_CS_POSIX_V6_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS


	)

629 
	m_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
,

630 
	#_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS


	)

631 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
,

632 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS


	)

633 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
,

634 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS


	)

635 
	m_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
,

636 
	#_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS


	)

638 
	m_CS_POSIX_V7_ILP32_OFF32_CFLAGS
,

639 
	#_CS_POSIX_V7_ILP32_OFF32_CFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_CFLAGS


	)

640 
	m_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
,

641 
	#_CS_POSIX_V7_ILP32_OFF32_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS


	)

642 
	m_CS_POSIX_V7_ILP32_OFF32_LIBS
,

643 
	#_CS_POSIX_V7_ILP32_OFF32_LIBS
 
_CS_POSIX_V7_ILP32_OFF32_LIBS


	)

644 
	m_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
,

645 
	#_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS


	)

646 
	m_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
,

647 
	#_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS


	)

648 
	m_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
,

649 
	#_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS


	)

650 
	m_CS_POSIX_V7_ILP32_OFFBIG_LIBS
,

651 
	#_CS_POSIX_V7_ILP32_OFFBIG_LIBS
 
_CS_POSIX_V7_ILP32_OFFBIG_LIBS


	)

652 
	m_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
,

653 
	#_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS


	)

654 
	m_CS_POSIX_V7_LP64_OFF64_CFLAGS
,

655 
	#_CS_POSIX_V7_LP64_OFF64_CFLAGS
 
_CS_POSIX_V7_LP64_OFF64_CFLAGS


	)

656 
	m_CS_POSIX_V7_LP64_OFF64_LDFLAGS
,

657 
	#_CS_POSIX_V7_LP64_OFF64_LDFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LDFLAGS


	)

658 
	m_CS_POSIX_V7_LP64_OFF64_LIBS
,

659 
	#_CS_POSIX_V7_LP64_OFF64_LIBS
 
_CS_POSIX_V7_LP64_OFF64_LIBS


	)

660 
	m_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
,

661 
	#_CS_POSIX_V7_LP64_OFF64_LINTFLAGS
 
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS


	)

662 
	m_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
,

663 
	#_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS


	)

664 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
,

665 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS


	)

666 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
,

667 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LIBS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS


	)

668 
	m_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
,

669 
	#_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS
 
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS


	)

671 
	m_CS_V6_ENV
,

672 
	#_CS_V6_ENV
 
_CS_V6_ENV


	)

673 
	m_CS_V7_ENV


674 
	#_CS_V7_ENV
 
_CS_V7_ENV


	)

	@/usr/include/bits/dirent.h

18 #iâdeà
_DIRENT_H


22 
	sdœ’t


24 #iâdeà
__USE_FILE_OFFSET64


25 
__šo_t
 
	md_šo
;

26 
__off_t
 
	md_off
;

28 
__šo64_t
 
	md_šo
;

29 
__off64_t
 
	md_off
;

31 
	md_»ş’
;

32 
	md_ty³
;

33 
	md_Çme
[256];

36 #ifdeà
__USE_LARGEFILE64


37 
	sdœ’t64


39 
__šo64_t
 
	md_šo
;

40 
__off64_t
 
	md_off
;

41 
	md_»ş’
;

42 
	md_ty³
;

43 
	md_Çme
[256];

47 
	#d_f’o
 
d_šo


	)

49 #undeà
_DIRENT_HAVE_D_NAMLEN


50 
	#_DIRENT_HAVE_D_RECLEN


	)

51 
	#_DIRENT_HAVE_D_OFF


	)

52 
	#_DIRENT_HAVE_D_TYPE


	)

54 #ià
defšed
 
__OFF_T_MATCHES_OFF64_T
 && defšed 
__INO_T_MATCHES_INO64_T


56 
	#_DIRENT_MATCHES_DIRENT64
 1

	)

	@/usr/include/bits/environments.h

18 #iâdeà
_UNISTD_H


22 
	~<b™s/wÜdsize.h
>

42 #ià
__WORDSIZE
 == 64

56 
	#_POSIX_V7_LPBIG_OFFBIG
 -1

	)

57 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

58 
	#_XBS5_LPBIG_OFFBIG
 -1

	)

61 
	#_POSIX_V7_LP64_OFF64
 1

	)

62 
	#_POSIX_V6_LP64_OFF64
 1

	)

63 
	#_XBS5_LP64_OFF64
 1

	)

69 
	#_POSIX_V7_ILP32_OFFBIG
 1

	)

70 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

71 
	#_XBS5_ILP32_OFFBIG
 1

	)

73 #iâdeà
__x86_64__


75 
	#_POSIX_V7_ILP32_OFF32
 1

	)

76 
	#_POSIX_V6_ILP32_OFF32
 1

	)

77 
	#_XBS5_ILP32_OFF32
 1

	)

95 
	#__ILP32_OFF32_CFLAGS
 "-m32"

	)

96 
	#__ILP32_OFF32_LDFLAGS
 "-m32"

	)

97 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


98 
	#__ILP32_OFFBIG_CFLAGS
 "-mx32"

	)

99 
	#__ILP32_OFFBIG_LDFLAGS
 "-mx32"

	)

101 
	#__ILP32_OFFBIG_CFLAGS
 "-m32 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

	)

102 
	#__ILP32_OFFBIG_LDFLAGS
 "-m32"

	)

104 
	#__LP64_OFF64_CFLAGS
 "-m64"

	)

105 
	#__LP64_OFF64_LDFLAGS
 "-m64"

	)

	@/usr/include/bits/errno.h

19 #ifdeà
_ERRNO_H


21 #undeà
EDOM


22 #undeà
EILSEQ


23 #undeà
ERANGE


24 
	~<lšux/”ºo.h
>

27 
	#ENOTSUP
 
EOPNOTSUPP


	)

30 #iâdeà
ECANCELED


31 
	#ECANCELED
 125

	)

35 #iâdeà
EOWNERDEAD


36 
	#EOWNERDEAD
 130

	)

37 
	#ENOTRECOVERABLE
 131

	)

40 #iâdeà
ERFKILL


41 
	#ERFKILL
 132

	)

44 #iâdeà
EHWPOISON


45 
	#EHWPOISON
 133

	)

48 #iâdeà
__ASSEMBLER__


50 *
	$__”ºo_loÿtiÚ
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

52 #ià!
defšed
 
_LIBC
 || defšed 
_LIBC_REENTRANT


54 
	#”ºo
 (*
	`__”ºo_loÿtiÚ
 ())

	)

59 #ià!
defšed
 
_ERRNO_H
 && defšed 
__Ãed_Em©h


63 
	#EDOM
 33

	)

64 
	#EILSEQ
 84

	)

65 
	#ERANGE
 34

	)

	@/usr/include/bits/fcntl.h

19 #iâdeà
_FCNTL_H


23 #ifdeà
__x86_64__


24 
	#__O_LARGEFILE
 0

	)

27 #ifdeà
__x86_64__


29 
	#F_GETLK64
 5

	)

30 
	#F_SETLK64
 6

	)

31 
	#F_SETLKW64
 7

	)

35 
	sæock


37 
	ml_ty³
;

38 
	ml_wh’û
;

39 #iâdeà
__USE_FILE_OFFSET64


40 
__off_t
 
	ml_¡¬t
;

41 
__off_t
 
	ml_Ën
;

43 
__off64_t
 
	ml_¡¬t
;

44 
__off64_t
 
	ml_Ën
;

46 
__pid_t
 
	ml_pid
;

49 #ifdeà
__USE_LARGEFILE64


50 
	sæock64


52 
	ml_ty³
;

53 
	ml_wh’û
;

54 
__off64_t
 
	ml_¡¬t
;

55 
__off64_t
 
	ml_Ën
;

56 
__pid_t
 
	ml_pid
;

61 
	~<b™s/fú-lšux.h
>

	@/usr/include/bits/fcntl2.h

19 #iâdef 
_FCNTL_H


25 #iâdeà
__USE_FILE_OFFSET64


26 
	$__İ’_2
 (cÚ¡ *
__·th
, 
__oæag
è
	`__nÚnuÎ
 ((1));

27 
	`__REDIRECT
 (
__İ’_®Ÿs
, (cÚ¡ *
__·th
, 
__oæag
, ...),

28 
İ’
è
	`__nÚnuÎ
 ((1));

30 
	`__REDIRECT
 (
__İ’_2
, (cÚ¡ *
__·th
, 
__oæag
),

31 
__İ’64_2
è
	`__nÚnuÎ
 ((1));

32 
	`__REDIRECT
 (
__İ’_®Ÿs
, (cÚ¡ *
__·th
, 
__oæag
, ...),

33 
İ’64
è
	`__nÚnuÎ
 ((1));

35 
	`__”rÜdeş
 (
__İ’_too_mªy_¬gs
,

37 
	`__”rÜdeş
 (
__İ’_missšg_mode
,

40 
__fÜtify_funùiÚ
 

41 
	$İ’
 (cÚ¡ *
__·th
, 
__oæag
, ...)

43 ià(
	`__va_¬g_·ck_Ën
 () > 1)

44 
	`__İ’_too_mªy_¬gs
 ();

46 ià(
	`__butš_cÚ¡ªt_p
 (
__oæag
))

48 ià((
__oæag
 & 
O_CREAT
è!ğ0 && 
	`__va_¬g_·ck_Ën
 () < 1)

50 
	`__İ’_missšg_mode
 ();

51  
	`__İ’_2
 (
__·th
, 
__oæag
);

53  
	`__İ’_®Ÿs
 (
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

56 ià(
	`__va_¬g_·ck_Ën
 () < 1)

57  
	`__İ’_2
 (
__·th
, 
__oæag
);

59  
	`__İ’_®Ÿs
 (
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

60 
	}
}

63 #ifdeà
__USE_LARGEFILE64


64 
	$__İ’64_2
 (cÚ¡ *
__·th
, 
__oæag
è
	`__nÚnuÎ
 ((1));

65 
	`__REDIRECT
 (
__İ’64_®Ÿs
, (cÚ¡ *
__·th
, 
__oæag
,

66 ...), 
İ’64
è
	`__nÚnuÎ
 ((1));

67 
	`__”rÜdeş
 (
__İ’64_too_mªy_¬gs
,

69 
	`__”rÜdeş
 (
__İ’64_missšg_mode
,

72 
__fÜtify_funùiÚ
 

73 
	$İ’64
 (cÚ¡ *
__·th
, 
__oæag
, ...)

75 ià(
	`__va_¬g_·ck_Ën
 () > 1)

76 
	`__İ’64_too_mªy_¬gs
 ();

78 ià(
	`__butš_cÚ¡ªt_p
 (
__oæag
))

80 ià((
__oæag
 & 
O_CREAT
è!ğ0 && 
	`__va_¬g_·ck_Ën
 () < 1)

82 
	`__İ’64_missšg_mode
 ();

83  
	`__İ’64_2
 (
__·th
, 
__oæag
);

85  
	`__İ’64_®Ÿs
 (
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

88 ià(
	`__va_¬g_·ck_Ën
 () < 1)

89  
	`__İ’64_2
 (
__·th
, 
__oæag
);

91  
	`__İ’64_®Ÿs
 (
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

92 
	}
}

96 #ifdeà
__USE_ATFILE


97 #iâdeà
__USE_FILE_OFFSET64


98 
	$__İ’©_2
 (
__fd
, cÚ¡ *
__·th
, 
__oæag
)

99 
	`__nÚnuÎ
 ((2));

100 
	`__REDIRECT
 (
__İ’©_®Ÿs
, (
__fd
, cÚ¡ *
__·th
,

101 
__oæag
, ...), 
İ’©
)

102 
	`__nÚnuÎ
 ((2));

104 
	`__REDIRECT
 (
__İ’©_2
, (
__fd
, cÚ¡ *
__·th
,

105 
__oæag
), 
__İ’©64_2
)

106 
	`__nÚnuÎ
 ((2));

107 
	`__REDIRECT
 (
__İ’©_®Ÿs
, (
__fd
, cÚ¡ *
__·th
,

108 
__oæag
, ...), 
İ’©64
)

109 
	`__nÚnuÎ
 ((2));

111 
	`__”rÜdeş
 (
__İ’©_too_mªy_¬gs
,

113 
	`__”rÜdeş
 (
__İ’©_missšg_mode
,

116 
__fÜtify_funùiÚ
 

117 
	$İ’©
 (
__fd
, cÚ¡ *
__·th
, 
__oæag
, ...)

119 ià(
	`__va_¬g_·ck_Ën
 () > 1)

120 
	`__İ’©_too_mªy_¬gs
 ();

122 ià(
	`__butš_cÚ¡ªt_p
 (
__oæag
))

124 ià((
__oæag
 & 
O_CREAT
è!ğ0 && 
	`__va_¬g_·ck_Ën
 () < 1)

126 
	`__İ’©_missšg_mode
 ();

127  
	`__İ’©_2
 (
__fd
, 
__·th
, 
__oæag
);

129  
	`__İ’©_®Ÿs
 (
__fd
, 
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

132 ià(
	`__va_¬g_·ck_Ën
 () < 1)

133  
	`__İ’©_2
 (
__fd
, 
__·th
, 
__oæag
);

135  
	`__İ’©_®Ÿs
 (
__fd
, 
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

136 
	}
}

139 #ifdeà
__USE_LARGEFILE64


140 
	$__İ’©64_2
 (
__fd
, cÚ¡ *
__·th
, 
__oæag
)

141 
	`__nÚnuÎ
 ((2));

142 
	`__REDIRECT
 (
__İ’©64_®Ÿs
, (
__fd
, cÚ¡ *
__·th
,

143 
__oæag
, ...), 
İ’©64
)

144 
	`__nÚnuÎ
 ((2));

145 
	`__”rÜdeş
 (
__İ’©64_too_mªy_¬gs
,

147 
	`__”rÜdeş
 (
__İ’©64_missšg_mode
,

150 
__fÜtify_funùiÚ
 

151 
	$İ’©64
 (
__fd
, cÚ¡ *
__·th
, 
__oæag
, ...)

153 ià(
	`__va_¬g_·ck_Ën
 () > 1)

154 
	`__İ’©64_too_mªy_¬gs
 ();

156 ià(
	`__butš_cÚ¡ªt_p
 (
__oæag
))

158 ià((
__oæag
 & 
O_CREAT
è!ğ0 && 
	`__va_¬g_·ck_Ën
 () < 1)

160 
	`__İ’©64_missšg_mode
 ();

161  
	`__İ’©64_2
 (
__fd
, 
__·th
, 
__oæag
);

163  
	`__İ’©64_®Ÿs
 (
__fd
, 
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

166 ià(
	`__va_¬g_·ck_Ën
 () < 1)

167  
	`__İ’©64_2
 (
__fd
, 
__·th
, 
__oæag
);

169  
	`__İ’©64_®Ÿs
 (
__fd
, 
__·th
, 
__oæag
, 
	`__va_¬g_·ck
 ());

170 
	}
}

	@/usr/include/bits/huge_val.h

20 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VAL
 (
	`__butš_huge_v®
())

	)

28 #–ià
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VAL
 (
__ex‹nsiÚ__
 0x1.0
p2047
)

	)

30 #–ià
defšed
 
__GNUC__


32 
	#HUGE_VAL
 \

33 (
__ex‹nsiÚ__
 \

34 ((uniÚ { 
__l
 
	`__©Œibu‹__
((
	`__mode__
(
__DI__
))); 
__d
; }) \

35 { 
__l
: 0x7ff0000000000000ULL }).
__d
)

	)

39 
	~<’dŸn.h
>

41 uniÚ { 
	m__c
[8]; 
	m__d
; } 
	t__huge_v®_t
;

43 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


44 
	#__HUGE_VAL_by‹s
 { 0x7f, 0xf0, 0, 0, 0, 0, 0, 0 }

	)

46 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


47 
	#__HUGE_VAL_by‹s
 { 0, 0, 0, 0, 0, 0, 0xf0, 0x7à}

	)

50 
__huge_v®_t
 
	g__huge_v®
 = { 
__HUGE_VAL_by‹s
 };

51 
	#HUGE_VAL
 (
__huge_v®
.
__d
)

	)

	@/usr/include/bits/huge_valf.h

20 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VALF
 (
	`__butš_huge_v®f
())

	)

28 #–ià
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VALF
 (
__ex‹nsiÚ__
 0x1.0
p255f
)

	)

30 #–ià
defšed
 
__GNUC__


32 
	#HUGE_VALF
 \

33 (
__ex‹nsiÚ__
 \

34 ((uniÚ { 
__l
 
	`__©Œibu‹__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7f800000UL }).
__d
)

	)

39 uniÚ { 
	m__c
[4]; 
	m__f
; } 
	t__huge_v®f_t
;

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#__HUGE_VALF_by‹s
 { 0x7f, 0x80, 0, 0 }

	)

44 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


45 
	#__HUGE_VALF_by‹s
 { 0, 0, 0x80, 0x7à}

	)

48 
__huge_v®f_t
 
	g__huge_v®f
 = { 
__HUGE_VALF_by‹s
 };

49 
	#HUGE_VALF
 (
__huge_v®f
.
__f
)

	)

	@/usr/include/bits/huge_vall.h

20 #iâdeà
_MATH_H


24 #ià
__GNUC_PREREQ
(3,3)

25 
	#HUGE_VALL
 (
	`__butš_huge_v®l
())

	)

26 #–ià
__GNUC_PREREQ
(2,96)

27 
	#HUGE_VALL
 (
__ex‹nsiÚ__
 0x1.0
p32767L
)

	)

30 
	#__HUGE_VALL_by‹s
 { 0, 0, 0, 0, 0, 0, 0, 0x80, 0xff, 0x7f, 0, 0 }

	)

32 
	#__huge_v®l_t
 uniÚ { 
__c
[12]; 
__ld
; }

	)

33 #ifdeà
__GNUC__


34 
	#HUGE_VALL
 (
__ex‹nsiÚ__
 \

35 ((
__huge_v®l_t
è{ 
__c
: 
__HUGE_VALL_by‹s
 }).
__ld
)

	)

37 
__huge_v®l_t
 
	g__huge_v®l
 = { 
__HUGE_VALL_by‹s
 };

38 
	#HUGE_VALL
 (
__huge_v®l
.
__ld
)

	)

	@/usr/include/bits/in.h

20 #iâdeà
_NETINET_IN_H


29 #ifdeà
_UAPI_LINUX_IN6_H


33 
	#__USE_KERNEL_IPV6_DEFS


	)

39 
	#IP_OPTIONS
 4

	)

40 
	#IP_HDRINCL
 3

	)

41 
	#IP_TOS
 1

	)

42 
	#IP_TTL
 2

	)

43 
	#IP_RECVOPTS
 6

	)

45 
	#IP_RECVRETOPTS
 
IP_RETOPTS


	)

46 
	#IP_RETOPTS
 7

	)

47 
	#IP_MULTICAST_IF
 32

	)

48 
	#IP_MULTICAST_TTL
 33

	)

49 
	#IP_MULTICAST_LOOP
 34

	)

50 
	#IP_ADD_MEMBERSHIP
 35

	)

51 
	#IP_DROP_MEMBERSHIP
 36

	)

52 
	#IP_UNBLOCK_SOURCE
 37

	)

53 
	#IP_BLOCK_SOURCE
 38

	)

54 
	#IP_ADD_SOURCE_MEMBERSHIP
 39

	)

55 
	#IP_DROP_SOURCE_MEMBERSHIP
 40

	)

56 
	#IP_MSFILTER
 41

	)

57 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


58 
	#MCAST_JOIN_GROUP
 42

	)

59 
	#MCAST_BLOCK_SOURCE
 43

	)

60 
	#MCAST_UNBLOCK_SOURCE
 44

	)

61 
	#MCAST_LEAVE_GROUP
 45

	)

62 
	#MCAST_JOIN_SOURCE_GROUP
 46

	)

63 
	#MCAST_LEAVE_SOURCE_GROUP
 47

	)

64 
	#MCAST_MSFILTER
 48

	)

65 
	#IP_MULTICAST_ALL
 49

	)

66 
	#IP_UNICAST_IF
 50

	)

68 
	#MCAST_EXCLUDE
 0

	)

69 
	#MCAST_INCLUDE
 1

	)

72 
	#IP_ROUTER_ALERT
 5

	)

73 
	#IP_PKTINFO
 8

	)

74 
	#IP_PKTOPTIONS
 9

	)

75 
	#IP_PMTUDISC
 10

	)

76 
	#IP_MTU_DISCOVER
 10

	)

77 
	#IP_RECVERR
 11

	)

78 
	#IP_RECVTTL
 12

	)

79 
	#IP_RECVTOS
 13

	)

80 
	#IP_MTU
 14

	)

81 
	#IP_FREEBIND
 15

	)

82 
	#IP_IPSEC_POLICY
 16

	)

83 
	#IP_XFRM_POLICY
 17

	)

84 
	#IP_PASSSEC
 18

	)

85 
	#IP_TRANSPARENT
 19

	)

86 
	#IP_MULTICAST_ALL
 49

	)

89 
	#IP_ORIGDSTADDR
 20

	)

90 
	#IP_RECVORIGDSTADDR
 
IP_ORIGDSTADDR


	)

92 
	#IP_MINTTL
 21

	)

96 
	#IP_PMTUDISC_DONT
 0

	)

97 
	#IP_PMTUDISC_WANT
 1

	)

98 
	#IP_PMTUDISC_DO
 2

	)

99 
	#IP_PMTUDISC_PROBE
 3

	)

102 
	#SOL_IP
 0

	)

104 
	#IP_DEFAULT_MULTICAST_TTL
 1

	)

105 
	#IP_DEFAULT_MULTICAST_LOOP
 1

	)

106 
	#IP_MAX_MEMBERSHIPS
 20

	)

108 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


112 
	s_İts


114 
š_addr
 
	m_d¡
;

115 
	m_İts
[40];

119 
	s_m»qn


121 
š_addr
 
	mimr_muÉŸddr
;

122 
š_addr
 
	mimr_add»ss
;

123 
	mimr_ifšdex
;

127 
	sš_pktšfo


129 
	mi_ifšdex
;

130 
š_addr
 
	mi_¥ec_d¡
;

131 
š_addr
 
	mi_addr
;

138 
	#IPV6_ADDRFORM
 1

	)

139 
	#IPV6_2292PKTINFO
 2

	)

140 
	#IPV6_2292HOPOPTS
 3

	)

141 
	#IPV6_2292DSTOPTS
 4

	)

142 
	#IPV6_2292RTHDR
 5

	)

143 
	#IPV6_2292PKTOPTIONS
 6

	)

144 
	#IPV6_CHECKSUM
 7

	)

145 
	#IPV6_2292HOPLIMIT
 8

	)

147 
	#SCM_SRCRT
 
IPV6_RXSRCRT


	)

149 
	#IPV6_NEXTHOP
 9

	)

150 
	#IPV6_AUTHHDR
 10

	)

151 
	#IPV6_UNICAST_HOPS
 16

	)

152 
	#IPV6_MULTICAST_IF
 17

	)

153 
	#IPV6_MULTICAST_HOPS
 18

	)

154 
	#IPV6_MULTICAST_LOOP
 19

	)

155 
	#IPV6_JOIN_GROUP
 20

	)

156 
	#IPV6_LEAVE_GROUP
 21

	)

157 
	#IPV6_ROUTER_ALERT
 22

	)

158 
	#IPV6_MTU_DISCOVER
 23

	)

159 
	#IPV6_MTU
 24

	)

160 
	#IPV6_RECVERR
 25

	)

161 
	#IPV6_V6ONLY
 26

	)

162 
	#IPV6_JOIN_ANYCAST
 27

	)

163 
	#IPV6_LEAVE_ANYCAST
 28

	)

164 
	#IPV6_IPSEC_POLICY
 34

	)

165 
	#IPV6_XFRM_POLICY
 35

	)

167 
	#IPV6_RECVPKTINFO
 49

	)

168 
	#IPV6_PKTINFO
 50

	)

169 
	#IPV6_RECVHOPLIMIT
 51

	)

170 
	#IPV6_HOPLIMIT
 52

	)

171 
	#IPV6_RECVHOPOPTS
 53

	)

172 
	#IPV6_HOPOPTS
 54

	)

173 
	#IPV6_RTHDRDSTOPTS
 55

	)

174 
	#IPV6_RECVRTHDR
 56

	)

175 
	#IPV6_RTHDR
 57

	)

176 
	#IPV6_RECVDSTOPTS
 58

	)

177 
	#IPV6_DSTOPTS
 59

	)

179 
	#IPV6_RECVTCLASS
 66

	)

180 
	#IPV6_TCLASS
 67

	)

183 
	#IPV6_ADD_MEMBERSHIP
 
IPV6_JOIN_GROUP


	)

184 
	#IPV6_DROP_MEMBERSHIP
 
IPV6_LEAVE_GROUP


	)

185 
	#IPV6_RXHOPOPTS
 
IPV6_HOPOPTS


	)

186 
	#IPV6_RXDSTOPTS
 
IPV6_DSTOPTS


	)

189 
	#IPV6_PMTUDISC_DONT
 0

	)

190 
	#IPV6_PMTUDISC_WANT
 1

	)

191 
	#IPV6_PMTUDISC_DO
 2

	)

192 
	#IPV6_PMTUDISC_PROBE
 3

	)

195 
	#SOL_IPV6
 41

	)

196 
	#SOL_ICMPV6
 58

	)

199 
	#IPV6_RTHDR_LOOSE
 0

	)

200 
	#IPV6_RTHDR_STRICT
 1

	)

202 
	#IPV6_RTHDR_TYPE_0
 0

	)

	@/usr/include/bits/inf.h

19 #iâdeà
_MATH_H


25 #ià
__GNUC_PREREQ
(3,3)

26 
	#INFINITY
 (
	`__butš_šff
())

	)

28 
	#INFINITY
 
HUGE_VALF


	)

	@/usr/include/bits/ioctl-types.h

19 #iâdeà
_SYS_IOCTL_H


24 
	~<asm/ioùls.h
>

27 
	swšsize


29 
	mws_row
;

30 
	mws_cŞ
;

31 
	mws_xpix–
;

32 
	mws_ypix–
;

35 
	#NCC
 8

	)

36 
	s‹rmio


38 
	mc_iæag
;

39 
	mc_oæag
;

40 
	mc_cæag
;

41 
	mc_læag
;

42 
	mc_lše
;

43 
	mc_cc
[
NCC
];

47 
	#TIOCM_LE
 0x001

	)

48 
	#TIOCM_DTR
 0x002

	)

49 
	#TIOCM_RTS
 0x004

	)

50 
	#TIOCM_ST
 0x008

	)

51 
	#TIOCM_SR
 0x010

	)

52 
	#TIOCM_CTS
 0x020

	)

53 
	#TIOCM_CAR
 0x040

	)

54 
	#TIOCM_RNG
 0x080

	)

55 
	#TIOCM_DSR
 0x100

	)

56 
	#TIOCM_CD
 
TIOCM_CAR


	)

57 
	#TIOCM_RI
 
TIOCM_RNG


	)

62 
	#N_TTY
 0

	)

63 
	#N_SLIP
 1

	)

64 
	#N_MOUSE
 2

	)

65 
	#N_PPP
 3

	)

66 
	#N_STRIP
 4

	)

67 
	#N_AX25
 5

	)

68 
	#N_X25
 6

	)

69 
	#N_6PACK
 7

	)

70 
	#N_MASC
 8

	)

71 
	#N_R3964
 9

	)

72 
	#N_PROFIBUS_FDL
 10

	)

73 
	#N_IRDA
 11

	)

74 
	#N_SMSBLOCK
 12

	)

75 
	#N_HDLC
 13

	)

76 
	#N_SYNC_PPP
 14

	)

77 
	#N_HCI
 15

	)

	@/usr/include/bits/ioctls.h

18 #iâdeà
_SYS_IOCTL_H


23 
	~<asm/ioùls.h
>

26 
	#SIOCADDRT
 0x890B

	)

27 
	#SIOCDELRT
 0x890C

	)

28 
	#SIOCRTMSG
 0x890D

	)

31 
	#SIOCGIFNAME
 0x8910

	)

32 
	#SIOCSIFLINK
 0x8911

	)

33 
	#SIOCGIFCONF
 0x8912

	)

34 
	#SIOCGIFFLAGS
 0x8913

	)

35 
	#SIOCSIFFLAGS
 0x8914

	)

36 
	#SIOCGIFADDR
 0x8915

	)

37 
	#SIOCSIFADDR
 0x8916

	)

38 
	#SIOCGIFDSTADDR
 0x8917

	)

39 
	#SIOCSIFDSTADDR
 0x8918

	)

40 
	#SIOCGIFBRDADDR
 0x8919

	)

41 
	#SIOCSIFBRDADDR
 0x891¨

	)

42 
	#SIOCGIFNETMASK
 0x891b

	)

43 
	#SIOCSIFNETMASK
 0x891ø

	)

44 
	#SIOCGIFMETRIC
 0x891d

	)

45 
	#SIOCSIFMETRIC
 0x891

	)

46 
	#SIOCGIFMEM
 0x891à

	)

47 
	#SIOCSIFMEM
 0x8920

	)

48 
	#SIOCGIFMTU
 0x8921

	)

49 
	#SIOCSIFMTU
 0x8922

	)

50 
	#SIOCSIFNAME
 0x8923

	)

51 
	#SIOCSIFHWADDR
 0x8924

	)

52 
	#SIOCGIFENCAP
 0x8925

	)

53 
	#SIOCSIFENCAP
 0x8926

	)

54 
	#SIOCGIFHWADDR
 0x8927

	)

55 
	#SIOCGIFSLAVE
 0x8929

	)

56 
	#SIOCSIFSLAVE
 0x8930

	)

57 
	#SIOCADDMULTI
 0x8931

	)

58 
	#SIOCDELMULTI
 0x8932

	)

59 
	#SIOCGIFINDEX
 0x8933

	)

60 
	#SIOGIFINDEX
 
SIOCGIFINDEX


	)

61 
	#SIOCSIFPFLAGS
 0x8934

	)

62 
	#SIOCGIFPFLAGS
 0x8935

	)

63 
	#SIOCDIFADDR
 0x8936

	)

64 
	#SIOCSIFHWBROADCAST
 0x8937

	)

65 
	#SIOCGIFCOUNT
 0x8938

	)

67 
	#SIOCGIFBR
 0x8940

	)

68 
	#SIOCSIFBR
 0x8941

	)

70 
	#SIOCGIFTXQLEN
 0x8942

	)

71 
	#SIOCSIFTXQLEN
 0x8943

	)

76 
	#SIOCDARP
 0x8953

	)

77 
	#SIOCGARP
 0x8954

	)

78 
	#SIOCSARP
 0x8955

	)

81 
	#SIOCDRARP
 0x8960

	)

82 
	#SIOCGRARP
 0x8961

	)

83 
	#SIOCSRARP
 0x8962

	)

87 
	#SIOCGIFMAP
 0x8970

	)

88 
	#SIOCSIFMAP
 0x8971

	)

92 
	#SIOCADDDLCI
 0x8980

	)

93 
	#SIOCDELDLCI
 0x8981

	)

102 
	#SIOCDEVPRIVATE
 0x89F0

	)

108 
	#SIOCPROTOPRIVATE
 0x89E0

	)

	@/usr/include/bits/math-finite.h

19 #iâdeà
_MATH_H


24 
__REDIRECT_NTH
 (
acos
, (), 
__acos_fš™e
);

25 
__REDIRECT_NTH
 (
acosf
, (), 
__acosf_fš™e
);

26 #ifdeà
__MATH_DECLARE_LDOUBLE


27 #ifdeà
__NO_LONG_DOUBLE_MATH


28 
__REDIRECT_NTH
 (
aco¦
, (), 
__acos_fš™e
);

30 
__REDIRECT_NTH
 (
aco¦
, (), 
__aco¦_fš™e
);

34 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


36 
__REDIRECT_NTH
 (
acosh
, (), 
__acosh_fš™e
);

37 
__REDIRECT_NTH
 (
acoshf
, (), 
__acoshf_fš™e
);

38 #ifdeà
__MATH_DECLARE_LDOUBLE


39 #ifdeà
__NO_LONG_DOUBLE_MATH


40 
__REDIRECT_NTH
 (
acoshl
, (), 
__acosh_fš™e
);

42 
__REDIRECT_NTH
 (
acoshl
, (), 
__acoshl_fš™e
);

48 
__REDIRECT_NTH
 (
asš
, (), 
__asš_fš™e
);

49 
__REDIRECT_NTH
 (
asšf
, (), 
__asšf_fš™e
);

50 #ifdeà
__MATH_DECLARE_LDOUBLE


51 #ifdeà
__NO_LONG_DOUBLE_MATH


52 
__REDIRECT_NTH
 (
asšl
, (), 
__asš_fš™e
);

54 
__REDIRECT_NTH
 (
asšl
, (), 
__asšl_fš™e
);

59 
__REDIRECT_NTH
 (
©ª2
, (, ), 
__©ª2_fš™e
);

60 
__REDIRECT_NTH
 (
©ª2f
, (, ), 
__©ª2f_fš™e
);

61 #ifdeà
__MATH_DECLARE_LDOUBLE


62 #ifdeà
__NO_LONG_DOUBLE_MATH


63 
__REDIRECT_NTH
 (
©ª2l
, (, ),

64 
__©ª2_fš™e
);

66 
__REDIRECT_NTH
 (
©ª2l
, (, ),

67 
__©ª2l_fš™e
);

71 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


73 
__REDIRECT_NTH
 (
©ªh
, (), 
__©ªh_fš™e
);

74 
__REDIRECT_NTH
 (
©ªhf
, (), 
__©ªhf_fš™e
);

75 #ifdeà
__MATH_DECLARE_LDOUBLE


76 #ifdeà
__NO_LONG_DOUBLE_MATH


77 
__REDIRECT_NTH
 (
©ªhl
, (), 
__©ªh_fš™e
);

79 
__REDIRECT_NTH
 (
©ªhl
, (), 
__©ªhl_fš™e
);

85 
__REDIRECT_NTH
 (
cosh
, (), 
__cosh_fš™e
);

86 
__REDIRECT_NTH
 (
coshf
, (), 
__coshf_fš™e
);

87 #ifdeà
__MATH_DECLARE_LDOUBLE


88 #ifdeà
__NO_LONG_DOUBLE_MATH


89 
__REDIRECT_NTH
 (
coshl
, (), 
__cosh_fš™e
);

91 
__REDIRECT_NTH
 (
coshl
, (), 
__coshl_fš™e
);

96 
__REDIRECT_NTH
 (
exp
, (), 
__exp_fš™e
);

97 
__REDIRECT_NTH
 (
expf
, (), 
__expf_fš™e
);

98 #ifdeà
__MATH_DECLARE_LDOUBLE


99 #ifdeà
__NO_LONG_DOUBLE_MATH


100 
__REDIRECT_NTH
 (
ex¶
, (), 
__exp_fš™e
);

102 
__REDIRECT_NTH
 (
ex¶
, (), 
__ex¶_fš™e
);

106 #ifdeà
__USE_GNU


108 
__REDIRECT_NTH
 (
exp10
, (), 
__exp10_fš™e
);

109 
__REDIRECT_NTH
 (
exp10f
, (), 
__exp10f_fš™e
);

110 #ifdeà
__MATH_DECLARE_LDOUBLE


111 #ifdeà
__NO_LONG_DOUBLE_MATH


112 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10_fš™e
);

114 
__REDIRECT_NTH
 (
exp10l
, (), 
__exp10l_fš™e
);

119 
__REDIRECT_NTH
 (
pow10
, (), 
__exp10_fš™e
);

120 
__REDIRECT_NTH
 (
pow10f
, (), 
__exp10f_fš™e
);

121 #ifdeà
__MATH_DECLARE_LDOUBLE


122 #ifdeà
__NO_LONG_DOUBLE_MATH


123 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10_fš™e
);

125 
__REDIRECT_NTH
 (
pow10l
, (), 
__exp10l_fš™e
);

130 #ifdeà
__USE_ISOC99


132 
__REDIRECT_NTH
 (
exp2
, (), 
__exp2_fš™e
);

133 
__REDIRECT_NTH
 (
exp2f
, (), 
__exp2f_fš™e
);

134 #ifdeà
__MATH_DECLARE_LDOUBLE


135 #ifdeà
__NO_LONG_DOUBLE_MATH


136 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2_fš™e
);

138 
__REDIRECT_NTH
 (
exp2l
, (), 
__exp2l_fš™e
);

144 
__REDIRECT_NTH
 (
fmod
, (, ), 
__fmod_fš™e
);

145 
__REDIRECT_NTH
 (
fmodf
, (, ), 
__fmodf_fš™e
);

146 #ifdeà
__MATH_DECLARE_LDOUBLE


147 #ifdeà
__NO_LONG_DOUBLE_MATH


148 
__REDIRECT_NTH
 (
fmodl
, (, ),

149 
__fmod_fš™e
);

151 
__REDIRECT_NTH
 (
fmodl
, (, ),

152 
__fmodl_fš™e
);

156 #ifdeà
__USE_ISOC99


158 
__REDIRECT_NTH
 (
hypÙ
, (, ), 
__hypÙ_fš™e
);

159 
__REDIRECT_NTH
 (
hypÙf
, (, ), 
__hypÙf_fš™e
);

160 #ifdeà
__MATH_DECLARE_LDOUBLE


161 #ifdeà
__NO_LONG_DOUBLE_MATH


162 
__REDIRECT_NTH
 (
hypÙl
, (, ),

163 
__hypÙ_fš™e
);

165 
__REDIRECT_NTH
 (
hypÙl
, (, ),

166 
__hypÙl_fš™e
);

171 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


173 
__REDIRECT_NTH
 (
j0
, (), 
__j0_fš™e
);

174 
__REDIRECT_NTH
 (
j0f
, (), 
__j0f_fš™e
);

175 #ifdeà
__MATH_DECLARE_LDOUBLE


176 #ifdeà
__NO_LONG_DOUBLE_MATH


177 
__REDIRECT_NTH
 (
j0l
, (), 
__j0_fš™e
);

179 
__REDIRECT_NTH
 (
j0l
, (), 
__j0l_fš™e
);

184 
__REDIRECT_NTH
 (
y0
, (), 
__y0_fš™e
);

185 
__REDIRECT_NTH
 (
y0f
, (), 
__y0f_fš™e
);

186 #ifdeà
__MATH_DECLARE_LDOUBLE


187 #ifdeà
__NO_LONG_DOUBLE_MATH


188 
__REDIRECT_NTH
 (
y0l
, (), 
__y0_fš™e
);

190 
__REDIRECT_NTH
 (
y0l
, (), 
__y0l_fš™e
);

195 
__REDIRECT_NTH
 (
j1
, (), 
__j1_fš™e
);

196 
__REDIRECT_NTH
 (
j1f
, (), 
__j1f_fš™e
);

197 #ifdeà
__MATH_DECLARE_LDOUBLE


198 #ifdeà
__NO_LONG_DOUBLE_MATH


199 
__REDIRECT_NTH
 (
j1l
, (), 
__j1_fš™e
);

201 
__REDIRECT_NTH
 (
j1l
, (), 
__j1l_fš™e
);

206 
__REDIRECT_NTH
 (
y1
, (), 
__y1_fš™e
);

207 
__REDIRECT_NTH
 (
y1f
, (), 
__y1f_fš™e
);

208 #ifdeà
__MATH_DECLARE_LDOUBLE


209 #ifdeà
__NO_LONG_DOUBLE_MATH


210 
__REDIRECT_NTH
 (
y1l
, (), 
__y1_fš™e
);

212 
__REDIRECT_NTH
 (
y1l
, (), 
__y1l_fš™e
);

217 
__REDIRECT_NTH
 (
jn
, (, ), 
__jn_fš™e
);

218 
__REDIRECT_NTH
 (
jnf
, (, ), 
__jnf_fš™e
);

219 #ifdeà
__MATH_DECLARE_LDOUBLE


220 #ifdeà
__NO_LONG_DOUBLE_MATH


221 
__REDIRECT_NTH
 (
jÆ
, (, ), 
__jn_fš™e
);

223 
__REDIRECT_NTH
 (
jÆ
, (, ), 
__jÆ_fš™e
);

228 
__REDIRECT_NTH
 (
yn
, (, ), 
__yn_fš™e
);

229 
__REDIRECT_NTH
 (
ynf
, (, ), 
__ynf_fš™e
);

230 #ifdeà
__MATH_DECLARE_LDOUBLE


231 #ifdeà
__NO_LONG_DOUBLE_MATH


232 
__REDIRECT_NTH
 (
yÆ
, (, ), 
__yn_fš™e
);

234 
__REDIRECT_NTH
 (
yÆ
, (, ), 
__yÆ_fš™e
);

239 #ifdeà
__USE_MISC


241 
__REDIRECT_NTH
 (
lgamma_r
, (, *), 
__lgamma_r_fš™e
);

242 
__REDIRECT_NTH
 (
lgammaf_r
, (, *), 
__lgammaf_r_fš™e
);

243 #ifdeà
__MATH_DECLARE_LDOUBLE


244 #ifdeà
__NO_LONG_DOUBLE_MATH


245 
__REDIRECT_NTH
 (
lgamm®_r
, (, *),

246 
__lgamma_r_fš™e
);

248 
__REDIRECT_NTH
 (
lgamm®_r
, (, *),

249 
__lgamm®_r_fš™e
);

254 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
 || defšed 
__USE_ISOC99


256 
__ex‹º_®ways_šlše
 
__NTH
 (
	$lgamma
 (
__d
))

258 #ifdeà
__USE_ISOC99


259 
__loÿl_signgam
 = 0;

260  
	`lgamma_r
 (
__d
, &
__loÿl_signgam
);

262  
	`lgamma_r
 (
__d
, &
signgam
);

264 
	}
}

265 
__ex‹º_®ways_šlše
 
__NTH
 (
	$lgammaf
 (
__d
))

267 #ifdeà
__USE_ISOC99


268 
__loÿl_signgam
 = 0;

269  
	`lgammaf_r
 (
__d
, &
__loÿl_signgam
);

271  
	`lgammaf_r
 (
__d
, &
signgam
);

273 
	}
}

274 #ifdeà
__MATH_DECLARE_LDOUBLE


275 
__ex‹º_®ways_šlše
 
__NTH
 (
	$lgamm®
 (
__d
))

277 #ifdeà
__USE_ISOC99


278 
__loÿl_signgam
 = 0;

279  
	`lgamm®_r
 (
__d
, &
__loÿl_signgam
);

281  
	`lgamm®_r
 (
__d
, &
signgam
);

283 
	}
}

287 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


289 
__ex‹º_®ways_šlše
 
__NTH
 (
	$gamma
 (
__d
))

291 #ifdeà
__USE_ISOC99


292 
__loÿl_signgam
 = 0;

293  
	`lgamma_r
 (
__d
, &
__loÿl_signgam
);

295  
	`lgamma_r
 (
__d
, &
signgam
);

297 
	}
}

298 
__ex‹º_®ways_šlše
 
__NTH
 (
	$gammaf
 (
__d
))

300 #ifdeà
__USE_ISOC99


301 
__loÿl_signgam
 = 0;

302  
	`lgammaf_r
 (
__d
, &
__loÿl_signgam
);

304  
	`lgammaf_r
 (
__d
, &
signgam
);

306 
	}
}

307 #ifdeà
__MATH_DECLARE_LDOUBLE


308 
__ex‹º_®ways_šlše
 
__NTH
 (
	$gamm®
 (
__d
))

310 #ifdeà
__USE_ISOC99


311 
__loÿl_signgam
 = 0;

312  
	`lgamm®_r
 (
__d
, &
__loÿl_signgam
);

314  
	`lgamm®_r
 (
__d
, &
signgam
);

316 
	}
}

321 
__REDIRECT_NTH
 (
log
, (), 
__log_fš™e
);

322 
__REDIRECT_NTH
 (
logf
, (), 
__logf_fš™e
);

323 #ifdeà
__MATH_DECLARE_LDOUBLE


324 #ifdeà
__NO_LONG_DOUBLE_MATH


325 
__REDIRECT_NTH
 (
logl
, (), 
__log_fš™e
);

327 
__REDIRECT_NTH
 (
logl
, (), 
__logl_fš™e
);

332 
__REDIRECT_NTH
 (
log10
, (), 
__log10_fš™e
);

333 
__REDIRECT_NTH
 (
log10f
, (), 
__log10f_fš™e
);

334 #ifdeà
__MATH_DECLARE_LDOUBLE


335 #ifdeà
__NO_LONG_DOUBLE_MATH


336 
__REDIRECT_NTH
 (
log10l
, (), 
__log10_fš™e
);

338 
__REDIRECT_NTH
 (
log10l
, (), 
__log10l_fš™e
);

342 #ifdeà
__USE_ISOC99


344 
__REDIRECT_NTH
 (
log2
, (), 
__log2_fš™e
);

345 
__REDIRECT_NTH
 (
log2f
, (), 
__log2f_fš™e
);

346 #ifdeà
__MATH_DECLARE_LDOUBLE


347 #ifdeà
__NO_LONG_DOUBLE_MATH


348 
__REDIRECT_NTH
 (
log2l
, (), 
__log2_fš™e
);

350 
__REDIRECT_NTH
 (
log2l
, (), 
__log2l_fš™e
);

356 
__REDIRECT_NTH
 (
ldexp
, (, ), 
sÿlbn
);

357 
__REDIRECT_NTH
 (
ldexpf
, (, ), 
sÿlbnf
);

358 #ifdeà
__MATH_DECLARE_LDOUBLE


359 
__REDIRECT_NTH
 (
ldex¶
, (, ), 
sÿlbÆ
);

363 
__REDIRECT_NTH
 (
pow
, (, ), 
__pow_fš™e
);

364 
__REDIRECT_NTH
 (
powf
, (, ), 
__powf_fš™e
);

365 #ifdeà
__MATH_DECLARE_LDOUBLE


366 #ifdeà
__NO_LONG_DOUBLE_MATH


367 
__REDIRECT_NTH
 (
powl
, (, ),

368 
__pow_fš™e
);

370 
__REDIRECT_NTH
 (
powl
, (, ),

371 
__powl_fš™e
);

376 
__REDIRECT_NTH
 (
»mašd”
, (, ), 
__»mašd”_fš™e
);

377 
__REDIRECT_NTH
 (
»mašd”f
, (, ), 
__»mašd”f_fš™e
);

378 #ifdeà
__MATH_DECLARE_LDOUBLE


379 #ifdeà
__NO_LONG_DOUBLE_MATH


380 
__REDIRECT_NTH
 (
»mašd”l
, (, ),

381 
__»mašd”_fš™e
);

383 
__REDIRECT_NTH
 (
»mašd”l
, (, ),

384 
__»mašd”l_fš™e
);

388 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


390 
__REDIRECT_NTH
 (
sÿlb
, (, ), 
__sÿlb_fš™e
);

391 
__REDIRECT_NTH
 (
sÿlbf
, (, ), 
__sÿlbf_fš™e
);

392 #ifdeà
__MATH_DECLARE_LDOUBLE


393 #ifdeà
__NO_LONG_DOUBLE_MATH


394 
__REDIRECT_NTH
 (
sÿlbl
, (, ),

395 
__sÿlb_fš™e
);

397 
__REDIRECT_NTH
 (
sÿlbl
, (, ),

398 
__sÿlbl_fš™e
);

404 
__REDIRECT_NTH
 (
sšh
, (), 
__sšh_fš™e
);

405 
__REDIRECT_NTH
 (
sšhf
, (), 
__sšhf_fš™e
);

406 #ifdeà
__MATH_DECLARE_LDOUBLE


407 #ifdeà
__NO_LONG_DOUBLE_MATH


408 
__REDIRECT_NTH
 (
sšhl
, (), 
__sšh_fš™e
);

410 
__REDIRECT_NTH
 (
sšhl
, (), 
__sšhl_fš™e
);

415 
__REDIRECT_NTH
 (
sq¹
, (), 
__sq¹_fš™e
);

416 
__REDIRECT_NTH
 (
sq¹f
, (), 
__sq¹f_fš™e
);

417 #ifdeà
__MATH_DECLARE_LDOUBLE


418 #ifdeà
__NO_LONG_DOUBLE_MATH


419 
__REDIRECT_NTH
 (
sq¹l
, (), 
__sq¹_fš™e
);

421 
__REDIRECT_NTH
 (
sq¹l
, (), 
__sq¹l_fš™e
);

425 #ifdeà
__USE_ISOC99


427 
__gamma_r_fš™e
 (, *);

428 
__ex‹º_®ways_šlše
 
__NTH
 (
	$tgamma
 (
__d
))

430 
__loÿl_signgam
 = 0;

431 
__»s
 = 
	`__gamma_r_fš™e
 (
__d
, &
__loÿl_signgam
);

432  
__loÿl_signgam
 < 0 ? -
__»s
 : __res;

433 
	}
}

434 
__gammaf_r_fš™e
 (, *);

435 
__ex‹º_®ways_šlše
 
__NTH
 (
	$tgammaf
 (
__d
))

437 
__loÿl_signgam
 = 0;

438 
__»s
 = 
	`__gammaf_r_fš™e
 (
__d
, &
__loÿl_signgam
);

439  
__loÿl_signgam
 < 0 ? -
__»s
 : __res;

440 
	}
}

441 #ifdeà
__MATH_DECLARE_LDOUBLE


442 
__gamm®_r_fš™e
 (, *);

443 
__ex‹º_®ways_šlše
 
__NTH
 (
	$tgamm®
 (
__d
))

445 
__loÿl_signgam
 = 0;

446 #ifdeà
__NO_LONG_DOUBLE_MATH


447 
__»s
 = 
	`__gamma_r_fš™e
 (
__d
, &
__loÿl_signgam
);

449 
__»s
 = 
	`__gamm®_r_fš™e
 (
__d
, &
__loÿl_signgam
);

451  
__loÿl_signgam
 < 0 ? -
__»s
 : __res;

452 
	}
}

	@/usr/include/bits/mathcalls.h

45 #iâdeà
_MATH_H


52 
_MdoubË_BEGIN_NAMESPACE


54 
__MATHCALL
 (
acos
,, (
_MdoubË_
 
__x
));

56 
__MATHCALL
 (
asš
,, (
_MdoubË_
 
__x
));

58 
__MATHCALL
 (
©ª
,, (
_MdoubË_
 
__x
));

60 
__MATHCALL
 (
©ª2
,, (
_MdoubË_
 
__y
, _MdoubË_ 
__x
));

63 
__MATHCALL
 (
cos
,, (
_MdoubË_
 
__x
));

65 
__MATHCALL
 (
sš
,, (
_MdoubË_
 
__x
));

67 
__MATHCALL
 (
n
,, (
_MdoubË_
 
__x
));

72 
__MATHCALL
 (
cosh
,, (
_MdoubË_
 
__x
));

74 
__MATHCALL
 (
sšh
,, (
_MdoubË_
 
__x
));

76 
__MATHCALL
 (
nh
,, (
_MdoubË_
 
__x
));

77 
	g_MdoubË_END_NAMESPACE


79 #ifdeà
__USE_GNU


81 
__MATHDECL
 (,
sšcos
,,

82 (
_MdoubË_
 
__x
, _MdoubË_ *
__sšx
, _MdoubË_ *
__cosx
));

85 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


86 
__BEGIN_NAMESPACE_C99


88 
__MATHCALL
 (
acosh
,, (
_MdoubË_
 
__x
));

90 
__MATHCALL
 (
asšh
,, (
_MdoubË_
 
__x
));

92 
__MATHCALL
 (
©ªh
,, (
_MdoubË_
 
__x
));

93 
	g__END_NAMESPACE_C99


98 
_MdoubË_BEGIN_NAMESPACE


100 
__MATHCALL
 (
exp
,, (
_MdoubË_
 
__x
));

103 
__MATHCALL
 (
äexp
,, (
_MdoubË_
 
__x
, *
__expÚ’t
));

106 
__MATHCALL
 (
ldexp
,, (
_MdoubË_
 
__x
, 
__expÚ’t
));

109 
__MATHCALL
 (
log
,, (
_MdoubË_
 
__x
));

112 
__MATHCALL
 (
log10
,, (
_MdoubË_
 
__x
));

115 
__MATHCALL
 (
modf
,, (
_MdoubË_
 
__x
, _MdoubË_ *
__Œ
)è
__nÚnuÎ
 ((2));

116 
	g_MdoubË_END_NAMESPACE


118 #ifdeà
__USE_GNU


120 
__MATHCALL
 (
exp10
,, (
_MdoubË_
 
__x
));

122 
__MATHCALL
 (
pow10
,, (
_MdoubË_
 
__x
));

125 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


126 
__BEGIN_NAMESPACE_C99


128 
__MATHCALL
 (
expm1
,, (
_MdoubË_
 
__x
));

131 
__MATHCALL
 (
log1p
,, (
_MdoubË_
 
__x
));

134 
__MATHCALL
 (
logb
,, (
_MdoubË_
 
__x
));

135 
	g__END_NAMESPACE_C99


138 #ifdeà
__USE_ISOC99


139 
__BEGIN_NAMESPACE_C99


141 
__MATHCALL
 (
exp2
,, (
_MdoubË_
 
__x
));

144 
__MATHCALL
 (
log2
,, (
_MdoubË_
 
__x
));

145 
	g__END_NAMESPACE_C99


151 
_MdoubË_BEGIN_NAMESPACE


153 
__MATHCALL
 (
pow
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

156 
__MATHCALL
 (
sq¹
,, (
_MdoubË_
 
__x
));

157 
	g_MdoubË_END_NAMESPACE


159 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
 || defšed 
__USE_ISOC99


160 
__BEGIN_NAMESPACE_C99


162 
__MATHCALL
 (
hypÙ
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

163 
	g__END_NAMESPACE_C99


166 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


167 
__BEGIN_NAMESPACE_C99


169 
__MATHCALL
 (
cb¹
,, (
_MdoubË_
 
__x
));

170 
	g__END_NAMESPACE_C99


176 
_MdoubË_BEGIN_NAMESPACE


178 
__MATHCALLX
 (
û
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

181 
__MATHCALLX
 (
çbs
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

184 
__MATHCALLX
 (
æoÜ
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

187 
__MATHCALL
 (
fmod
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

192 
__MATHDECL_1
 (,
__isšf
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

195 
__MATHDECL_1
 (,
__fš™e
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

196 
	g_MdoubË_END_NAMESPACE


198 #ifdeà
__USE_MISC


201 
__MATHDECL_1
 (,
isšf
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

204 
__MATHDECL_1
 (,
fš™e
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

207 
__MATHCALL
 (
d»m
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

211 
__MATHCALL
 (
signifiÿnd
,, (
_MdoubË_
 
__x
));

214 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


215 
__BEGIN_NAMESPACE_C99


217 
__MATHCALLX
 (
cİysign
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

218 
	g__END_NAMESPACE_C99


221 #ifdeà
__USE_ISOC99


222 
__BEGIN_NAMESPACE_C99


224 
__MATHCALLX
 (
Çn
,, (cÚ¡ *
__gb
), (
__cÚ¡__
));

225 
	g__END_NAMESPACE_C99


230 
__MATHDECL_1
 (,
__i¢ª
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

232 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


234 
__MATHDECL_1
 (,
i¢ª
,, (
_MdoubË_
 
__v®ue
)è
__©Œibu‹__
 ((
__cÚ¡__
));

237 
__MATHCALL
 (
j0
,, (
_MdoubË_
));

238 
__MATHCALL
 (
j1
,, (
_MdoubË_
));

239 
__MATHCALL
 (
jn
,, (, 
_MdoubË_
));

240 
__MATHCALL
 (
y0
,, (
_MdoubË_
));

241 
__MATHCALL
 (
y1
,, (
_MdoubË_
));

242 
__MATHCALL
 (
yn
,, (, 
_MdoubË_
));

246 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
 || defšed 
__USE_ISOC99


247 
__BEGIN_NAMESPACE_C99


249 
__MATHCALL
 (
”f
,, (
_MdoubË_
));

250 
__MATHCALL
 (
”fc
,, (
_MdoubË_
));

251 
__MATHCALL
 (
lgamma
,, (
_MdoubË_
));

252 
	g__END_NAMESPACE_C99


255 #ifdeà
__USE_ISOC99


256 
__BEGIN_NAMESPACE_C99


258 
__MATHCALL
 (
tgamma
,, (
_MdoubË_
));

259 
	g__END_NAMESPACE_C99


262 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


264 
__MATHCALL
 (
gamma
,, (
_MdoubË_
));

267 #ifdeà
__USE_MISC


271 
__MATHCALL
 (
lgamma
,
_r
, (
_MdoubË_
, *
__signgamp
));

275 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


276 
__BEGIN_NAMESPACE_C99


279 
__MATHCALL
 (
ršt
,, (
_MdoubË_
 
__x
));

282 
__MATHCALLX
 (
Ãxá”
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

283 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__LDBL_COMPAT


284 
__MATHCALLX
 (
Ãx‰ow¬d
,, (
_MdoubË_
 
__x
, 
__y
), (
__cÚ¡__
));

288 
__MATHCALL
 (
»mašd”
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

290 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


292 
__MATHCALL
 (
sÿlbn
,, (
_MdoubË_
 
__x
, 
__n
));

296 
__MATHDECL
 (,
ogb
,, (
_MdoubË_
 
__x
));

299 #ifdeà
__USE_ISOC99


301 
__MATHCALL
 (
sÿlbÊ
,, (
_MdoubË_
 
__x
, 
__n
));

305 
__MATHCALL
 (
Ã¬byšt
,, (
_MdoubË_
 
__x
));

309 
__MATHCALLX
 (
round
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

313 
__MATHCALLX
 (
Œunc
,, (
_MdoubË_
 
__x
), (
__cÚ¡__
));

318 
__MATHCALL
 (
»mquo
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
, *
__quo
));

325 
__MATHDECL
 (,
Ìšt
,, (
_MdoubË_
 
__x
));

326 
__ex‹nsiÚ__


327 
__MATHDECL
 (,
Îršt
,, (
_MdoubË_
 
__x
));

331 
__MATHDECL
 (,
Ìound
,, (
_MdoubË_
 
__x
));

332 
__ex‹nsiÚ__


333 
__MATHDECL
 (,
Îround
,, (
_MdoubË_
 
__x
));

337 
__MATHCALL
 (
fdim
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
));

340 
__MATHCALLX
 (
fmax
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

343 
__MATHCALLX
 (
fmš
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
), (
__cÚ¡__
));

347 
__MATHDECL_1
 (, 
__åşassify
,, (
_MdoubË_
 
__v®ue
))

348 
__©Œibu‹__
 ((
__cÚ¡__
));

351 
__MATHDECL_1
 (, 
__signb™
,, (
_MdoubË_
 
__v®ue
))

352 
__©Œibu‹__
 ((
__cÚ¡__
));

356 
__MATHCALL
 (
fma
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__y
, _MdoubË_ 
__z
));

359 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


360 
	g__END_NAMESPACE_C99


363 #ifdeà
__USE_GNU


365 
__MATHDECL_1
 (, 
__issigÇlšg
,, (
_MdoubË_
 
__v®ue
))

366 
__©Œibu‹__
 ((
__cÚ¡__
));

369 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


371 
__MATHCALL
 (
sÿlb
,, (
_MdoubË_
 
__x
, _MdoubË_ 
__n
));

	@/usr/include/bits/mathdef.h

18 #ià!
defšed
 
_MATH_H
 && !defšed 
_COMPLEX_H


22 #ià
defšed
 
__USE_ISOC99
 && defšed 
_MATH_H
 && !defšed 
_MATH_H_MATHDEF


23 
	#_MATH_H_MATHDEF
 1

	)

25 #ià
defšed
 
__x86_64__
 || (defšed 
__FLT_EVAL_METHOD__
 && __FLT_EVAL_METHOD__ == 0)

28 
	tæßt_t
;

29 
	tdoubË_t
;

35 
	tæßt_t
;

37 
	tdoubË_t
;

42 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

43 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

47 #ià
__FP_FAST_FMA


48 
	#FP_FAST_FMA
 1

	)

51 #ià
__FP_FAST_FMAF


52 
	#FP_FAST_FMAF
 1

	)

55 #ià
__FP_FAST_FMAL


56 
	#FP_FAST_FMAL
 1

	)

	@/usr/include/bits/mathinline.h

19 #iâdeà
_MATH_H


23 #iâdeà
__ex‹º_®ways_šlše


24 
	#__MATH_INLINE
 
__šlše


	)

26 
	#__MATH_INLINE
 
__ex‹º_®ways_šlše


	)

30 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__
 && __GNUC__ >= 2

32 #ià!
__GNUC_PREREQ
 (2,97)

37 #undeà
isg»©”


38 #undeà
isg»©”equ®


39 #undeà
i¦ess


40 #undeà
i¦es£qu®


41 #undeà
i¦essg»©”


42 #undeà
isunÜd”ed


43 #ifdeà
__i686__


46 
	#isg»©”
(
x
, 
y
) \

47 ({ 
__»suÉ
; \

48 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

49 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

50 
__»suÉ
; })

	)

51 
	#isg»©”equ®
(
x
, 
y
) \

52 ({ 
__»suÉ
; \

53 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

54 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

55 
__»suÉ
; })

	)

57 
	#i¦ess
(
x
, 
y
) \

58 ({ 
__»suÉ
; \

59 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

60 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st"); \

61 
__»suÉ
; })

	)

63 
	#i¦es£qu®
(
x
, 
y
) \

64 ({ 
__»suÉ
; \

65 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

66 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st"); \

67 
__»suÉ
; })

	)

69 
	#i¦essg»©”
(
x
, 
y
) \

70 ({ 
__»suÉ
; \

71 
	`__asm__
 ("fucomip %%st(1), %%st; setne %%al" \

72 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

73 
__»suÉ
; })

	)

75 
	#isunÜd”ed
(
x
, 
y
) \

76 ({ 
__»suÉ
; \

77 
	`__asm__
 ("fucomip %%st(1), %%st; setp %%al" \

78 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st"); \

79 
__»suÉ
; })

	)

82 
	#isg»©”
(
x
, 
y
) \

83 ({ 
__»suÉ
; \

84 
	`__asm__
 ("fucompp; fnstsw;estb $0x45, %%ah; setz %%al" \

85 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

86 
__»suÉ
; })

	)

88 
	#isg»©”equ®
(
x
, 
y
) \

89 ({ 
__»suÉ
; \

90 
	`__asm__
 ("fucompp; fnstsw;estb $0x05, %%ah; setz %%al" \

91 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

92 
__»suÉ
; })

	)

94 
	#i¦ess
(
x
, 
y
) \

95 ({ 
__»suÉ
; \

96 
	`__asm__
 ("fucompp; fnstsw;estb $0x45, %%ah; setz %%al" \

97 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

98 
__»suÉ
; })

	)

100 
	#i¦es£qu®
(
x
, 
y
) \

101 ({ 
__»suÉ
; \

102 
	`__asm__
 ("fucompp; fnstsw;estb $0x05, %%ah; setz %%al" \

103 : "÷" (
__»suÉ
è: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

104 
__»suÉ
; })

	)

106 
	#i¦essg»©”
(
x
, 
y
) \

107 ({ 
__»suÉ
; \

108 
	`__asm__
 ("fucompp; fnstsw;estb $0x44, %%ah; setz %%al" \

109 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

110 
__»suÉ
; })

	)

112 
	#isunÜd”ed
(
x
, 
y
) \

113 ({ 
__»suÉ
; \

114 
	`__asm__
 ("fucompp; fnstsw; sahf; setp %%al" \

115 : "÷" (
__»suÉ
è: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

116 
__»suÉ
; })

	)

122 #ià
__GNUC_PREREQ
 (2, 8)

123 
__BEGIN_NAMESPACE_C99


126 
__MATH_INLINE
 

127 
__NTH
 (
	$__signb™f
 (
__x
))

129 #ifdeà
__SSE2_MATH__


130 
__m
;

131 
	`__asm
 ("pmovmskb %1, %0" : "ô" (
__m
è: "x" (
__x
));

132  (
__m
 & 0x8) != 0;

134 
__ex‹nsiÚ__
 uniÚ { 
__f
; 
__i
; } 
__u
 = { __f: 
__x
 };

135  
__u
.
__i
 < 0;

137 
	}
}

138 
__MATH_INLINE
 

139 
__NTH
 (
	$__signb™
 (
__x
))

141 #ifdeà
__SSE2_MATH__


142 
__m
;

143 
	`__asm
 ("pmovmskb %1, %0" : "ô" (
__m
è: "x" (
__x
));

144  (
__m
 & 0x80) != 0;

146 
__ex‹nsiÚ__
 uniÚ { 
__d
; 
__i
[2]; } 
__u
 = { __d: 
__x
 };

147  
__u
.
__i
[1] < 0;

149 
	}
}

150 
__MATH_INLINE
 

151 
__NTH
 (
	$__signb™l
 (
__x
))

153 
__ex‹nsiÚ__
 uniÚ { 
__l
; 
__i
[3]; } 
__u
 = { __l: 
__x
 };

154  (
__u
.
__i
[2] & 0x8000) != 0;

155 
	}
}

157 
	g__END_NAMESPACE_C99


164 #ià
__GNUC_PREREQ
 (2, 8)

165 #ià!
__GNUC_PREREQ
 (3, 4è&& !
defšed
 
__NO_MATH_INLINES
 \

166 && 
defšed
 
	g__OPTIMIZE__


170 #ifdeà
__USE_ISOC99


171 
	g__BEGIN_NAMESPACE_C99


174 #ifdeà
__SSE_MATH__


175 
__MATH_INLINE
 

176 
__NTH
 (
	$Ìštf
 (
__x
))

178 
__»s
;

183 
__asm
 
	`__vŞ©e__
 ("cvtss2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

184  
__»s
;

185 
	}
}

187 #ifdeà
__SSE2_MATH__


188 
__MATH_INLINE
 

189 
__NTH
 (
	$Ìšt
 (
__x
))

191 
__»s
;

196 
__asm
 
	`__vŞ©e__
 ("cvtsd2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

197  
__»s
;

198 
	}
}

200 #ifdeà
__x86_64__


201 
__ex‹nsiÚ__


202 
__MATH_INLINE
 

203 
__NTH
 (
	$Îrštf
 (
__x
))

205 
__»s
;

210 
__asm
 
	`__vŞ©e__
 ("cvtss2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

211  
__»s
;

212 
	}
}

213 
__ex‹nsiÚ__


214 
__MATH_INLINE
 

215 
__NTH
 (
	$Îršt
 (
__x
))

217 
__»s
;

222 
__asm
 
	`__vŞ©e__
 ("cvtsd2s˜%1, %0" : "ô" (
__»s
è: "xm" (
__x
));

223  
__»s
;

224 
	}
}

227 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0 \

228 && 
defšed
 
__SSE2_MATH__


230 
__MATH_INLINE
 

231 
__NTH
 (
	$fmaxf
 (
__x
, 
__y
))

233 #ifdeà
__AVX__


234 
__»s
;

235 
	`__asm
 ("vmaxs %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

236  
__»s
;

238 
	`__asm
 ("maxs %1, %0" : "+x" (
__x
è: "xm" (
__y
));

239  
__x
;

241 
	}
}

242 
__MATH_INLINE
 

243 
__NTH
 (
	$fmax
 (
__x
, 
__y
))

245 #ifdeà
__AVX__


246 
__»s
;

247 
	`__asm
 ("vmaxsd %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

248  
__»s
;

250 
	`__asm
 ("maxsd %1, %0" : "+x" (
__x
è: "xm" (
__y
));

251  
__x
;

253 
	}
}

256 
__MATH_INLINE
 

257 
__NTH
 (
	$fmšf
 (
__x
, 
__y
))

259 #ifdeà
__AVX__


260 
__»s
;

261 
	`__asm
 ("vmšs %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

262  
__»s
;

264 
	`__asm
 ("mšs %1, %0" : "+x" (
__x
è: "xm" (
__y
));

265  
__x
;

267 
	}
}

268 
__MATH_INLINE
 

269 
__NTH
 (
	$fmš
 (
__x
, 
__y
))

271 #ifdeà
__AVX__


272 
__»s
;

273 
	`__asm
 ("vmšsd %2, %1, %0" : "=x" (
__»s
è: "x" (
x
), "xm" (
__y
));

274  
__»s
;

276 
	`__asm
 ("mšsd %1, %0" : "+x" (
__x
è: "xm" (
__y
));

277  
__x
;

279 
	}
}

282 
	g__END_NAMESPACE_C99


285 #ià
defšed
 
__SSE4_1__
 && defšed 
__SSE2_MATH__


286 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_ISOC99


287 
__BEGIN_NAMESPACE_C99


290 
__MATH_INLINE
 

291 
__NTH
 (
	$ršt
 (
__x
))

293 
__»s
;

298 
__asm
 
	`__vŞ©e__
 ("roundsd $4, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

299  
__»s
;

300 
	}
}

301 
__MATH_INLINE
 

302 
__NTH
 (
	$rštf
 (
__x
))

304 
__»s
;

309 
__asm
 
	`__vŞ©e__
 ("rounds $4, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

310  
__»s
;

311 
	}
}

313 #ifdeà
__USE_ISOC99


315 
__MATH_INLINE
 

316 
__NTH
 (
	$Ã¬byšt
 (
__x
))

318 
__»s
;

323 
__asm
 
	`__vŞ©e__
 ("roundsd $0xc, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

324  
__»s
;

325 
	}
}

326 
__MATH_INLINE
 

327 
__NTH
 (
	$Ã¬byštf
 (
__x
))

329 
__»s
;

334 
__asm
 
	`__vŞ©e__
 ("rounds $0xc, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

335  
__»s
;

336 
	}
}

339 
	g__END_NAMESPACE_C99


342 
__BEGIN_NAMESPACE_STD


344 
__MATH_INLINE
 

345 
__NTH
 (
	$û
 (
__x
))

347 
__»s
;

348 
	`__asm
 ("roundsd $2, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

349  
__»s
;

350 
	}
}

351 
__END_NAMESPACE_STD


353 
__BEGIN_NAMESPACE_C99


354 
__MATH_INLINE
 

355 
__NTH
 (
	$ûf
 (
__x
))

357 
__»s
;

358 
	`__asm
 ("rounds $2, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

359  
__»s
;

360 
	}
}

361 
__END_NAMESPACE_C99


363 
__BEGIN_NAMESPACE_STD


365 
__MATH_INLINE
 

366 
__NTH
 (
	$æoÜ
 (
__x
))

368 
__»s
;

369 
	`__asm
 ("roundsd $1, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

370  
__»s
;

371 
	}
}

372 
__END_NAMESPACE_STD


374 
__BEGIN_NAMESPACE_C99


375 
__MATH_INLINE
 

376 
__NTH
 (
	$æoÜf
 (
__x
))

378 
__»s
;

379 
	`__asm
 ("rounds $1, %1, %0" : "=x" (
__»s
è: "xm" (
__x
));

380  
__»s
;

381 
	}
}

382 
	g__END_NAMESPACE_C99


387 #iâdeà
__SSE2_MATH__


388 #ià((!
defšed
 
__NO_MATH_INLINES
 || defšed 
__LIBC_INTERNAL_MATH_INLINES
) \

389 && 
defšed
 
	g__OPTIMIZE__
)

393 #undeà
m©h_”rhªdlšg


402 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


403 
	#__šlše_m©hİ
(
func
, 
İ
) \

404 
	`__šlše_m©hİ_
 (, 
func
, 
İ
) \

405 
	`__šlše_m©hİ_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
) \

406 
	`__šlše_m©hİ_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
)

	)

407 
	#__šlše_m©hİNP
(
func
, 
İ
) \

408 
	`__šlše_m©hİNP_
 (, 
func
, 
İ
) \

409 
	`__šlše_m©hİNP_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
) \

410 
	`__šlše_m©hİNP_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
)

	)

412 
	#__šlše_m©hİ
(
func
, 
İ
) \

413 
	`__šlše_m©hİ_
 (, 
func
, 
İ
)

	)

414 
	#__šlše_m©hİNP
(
func
, 
İ
) \

415 
	`__šlše_m©hİNP_
 (, 
func
, 
İ
)

	)

418 
	#__šlše_m©hİ_
(
æßt_ty³
, 
func
, 
İ
) \

419 
	`__šlše_m©hİ_deş_
 (
æßt_ty³
, 
func
, 
İ
, "0" (
__x
))

	)

420 
	#__šlše_m©hİNP_
(
æßt_ty³
, 
func
, 
İ
) \

421 
	`__šlše_m©hİ_deşNP_
 (
æßt_ty³
, 
func
, 
İ
, "0" (
__x
))

	)

424 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


425 
	#__šlše_m©hİ_deş
(
func
, 
İ
, 
·¿ms
...) \

426 
	`__šlše_m©hİ_deş_
 (, 
func
, 
İ
, 
·¿ms
) \

427 
	`__šlše_m©hİ_deş_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
, 
·¿ms
) \

428 
	`__šlše_m©hİ_deş_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
, 
·¿ms
)

	)

429 
	#__šlše_m©hİ_deşNP
(
func
, 
İ
, 
·¿ms
...) \

430 
	`__šlše_m©hİ_deşNP_
 (, 
func
, 
İ
, 
·¿ms
) \

431 
	`__šlše_m©hİ_deşNP_
 (, 
	`__CONCAT
(
func
,
f
), 
İ
, 
·¿ms
) \

432 
	`__šlše_m©hİ_deşNP_
 (, 
	`__CONCAT
(
func
,
l
), 
İ
, 
·¿ms
)

	)

434 
	#__šlše_m©hİ_deş
(
func
, 
İ
, 
·¿ms
...) \

435 
	`__šlše_m©hİ_deş_
 (, 
func
, 
İ
, 
·¿ms
)

	)

436 
	#__šlše_m©hİ_deşNP
(
func
, 
İ
, 
·¿ms
...) \

437 
	`__šlše_m©hİ_deşNP_
 (, 
func
, 
İ
, 
·¿ms
)

	)

440 
	#__šlše_m©hİ_deş_
(
æßt_ty³
, 
func
, 
İ
, 
·¿ms
...) \

441 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³è
__THROW
; \

442 
	`__šlše_m©hİ_deşNP_
 (
æßt_ty³
, 
func
, 
İ
, 
·¿ms
)

	)

444 
	#__šlše_m©hİ_deşNP_
(
æßt_ty³
, 
func
, 
İ
, 
·¿ms
...) \

445 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
__x
)) \

447 
æßt_ty³
 
__»suÉ
; \

448 
__asm
 
	`__vŞ©e__
 (
İ
 : "ñ" (
__»suÉ
è: 
·¿ms
); \

449  
__»suÉ
; \

450 }

	)

453 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


454 
	#__šlše_m©hcode
(
func
, 
¬g
, 
code
) \

455 
	`__šlše_m©hcode_
 (, 
func
, 
¬g
, 
code
) \

456 
	`__šlše_m©hcode_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g
, 
code
) \

457 
	`__šlše_m©hcode_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g
, 
code
)

	)

458 
	#__šlše_m©hcodeNP
(
func
, 
¬g
, 
code
) \

459 
	`__šlše_m©hcodeNP_
 (, 
func
, 
¬g
, 
code
) \

460 
	`__šlše_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g
, 
code
) \

461 
	`__šlše_m©hcodeNP_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g
, 
code
)

	)

462 
	#__šlše_m©hcode2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

463 
	`__šlše_m©hcode2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
) \

464 
	`__šlše_m©hcode2_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
code
) \

465 
	`__šlše_m©hcode2_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
code
)

	)

466 
	#__šlše_m©hcodeNP2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

467 
	`__šlše_m©hcodeNP2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
) \

468 
	`__šlše_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
code
) \

469 
	`__šlše_m©hcodeNP2_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
code
)

	)

470 
	#__šlše_m©hcode3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

471 
	`__šlše_m©hcode3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

472 
	`__šlše_m©hcode3_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

473 
	`__šlše_m©hcode3_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

474 
	#__šlše_m©hcodeNP3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

475 
	`__šlše_m©hcodeNP3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

476 
	`__šlše_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
f
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

477 
	`__šlše_m©hcodeNP3_
 (, 
	`__CONCAT
(
func
,
l
), 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

479 
	#__šlše_m©hcode
(
func
, 
¬g
, 
code
) \

480 
	`__šlše_m©hcode_
 (, 
func
, (
¬g
), 
code
)

	)

481 
	#__šlše_m©hcodeNP
(
func
, 
¬g
, 
code
) \

482 
	`__šlše_m©hcodeNP_
 (, 
func
, (
¬g
), 
code
)

	)

483 
	#__šlše_m©hcode2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

484 
	`__šlše_m©hcode2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
)

	)

485 
	#__šlše_m©hcodeNP2
(
func
, 
¬g1
, 
¬g2
, 
code
) \

486 
	`__šlše_m©hcodeNP2_
 (, 
func
, 
¬g1
, 
¬g2
, 
code
)

	)

487 
	#__šlše_m©hcode3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

488 
	`__šlše_m©hcode3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

489 
	#__šlše_m©hcodeNP3
(
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

490 
	`__šlše_m©hcodeNP3_
 (, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

493 
	#__šlše_m©hcode_
(
æßt_ty³
, 
func
, 
¬g
, 
code
) \

494 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³è
__THROW
; \

495 
	`__šlše_m©hcodeNP_
(
æßt_ty³
, 
func
, 
¬g
, 
code
)

	)

497 
	#__šlše_m©hcodeNP_
(
æßt_ty³
, 
func
, 
¬g
, 
code
) \

498 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
¬g
)) \

500 
code
; \

501 }

	)

504 
	#__šlše_m©hcode2_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
code
) \

505 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³, flßt_ty³è
__THROW
; \

506 
	`__šlše_m©hcodeNP2_
 (
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
code
)

	)

508 
	#__šlše_m©hcodeNP2_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
code
) \

509 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
¬g1
, flßt_ty³ 
¬g2
)) \

511 
code
; \

512 }

	)

514 
	#__šlše_m©hcode3_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

515 
__MATH_INLINE
 
æßt_ty³
 
	`func
 (æßt_ty³, flßt_ty³, flßt_ty³è
__THROW
; \

516 
	`__šlše_m©hcodeNP3_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
)

	)

518 
	#__šlše_m©hcodeNP3_
(
æßt_ty³
, 
func
, 
¬g1
, 
¬g2
, 
¬g3
, 
code
) \

519 
__MATH_INLINE
 
æßt_ty³
 
	`__NTH
 (
	`func
 (æßt_ty³ 
¬g1
, flßt_ty³ 
¬g2
, \

520 
æßt_ty³
 
¬g3
)) \

522 
code
; \

523 }

	)

527 #ià!
defšed
 
__NO_MATH_INLINES
 && defšed 
__OPTIMIZE__


531 #ifdeà
__FAST_MATH__


532 #ifdeà
__USE_GNU


533 
	#__sšcos_code
 \

534 
__co¤
; \

535 
__sšr
; \

536 
__swtmp
; \

537 
__asm
 
__vŞ©e__
 \

552 : "ñ" (
__co¤
), "=u" (
__sšr
), "÷" (
__swtmp
è: "0" (
__x
)); \

553 *
__sšx
 = 
__sšr
; \

554 *
__cosx
 = 
__co¤


	)

556 
__MATH_INLINE
 

557 
__NTH
 (
	$__sšcos
 (
__x
, *
__sšx
, *
__cosx
))

559 
__sšcos_code
;

560 
	}
}

562 
__MATH_INLINE
 

563 
__NTH
 (
	$__sšcosf
 (
__x
, *
__sšx
, *
__cosx
))

565 
__sšcos_code
;

566 
	}
}

568 
__MATH_INLINE
 

569 
__NTH
 (
	$__sšco¦
 (
__x
, *
__sšx
, *
__cosx
))

571 
__sšcos_code
;

572 
	}
}

579 #ià
__GNUC_PREREQ
 (3, 5)

580 
	#__expm1_code
 \

581 
__‹mp
; \

582 
__‹mp
 = 
	`__butš_expm1l
 (
__x
); \

583  
__‹mp
 ? __‹m°: 
__x


	)

585 
	#__expm1_code
 \

586 
__v®ue
; \

587 
__expÚ’t
; \

588 
__‹mp
; \

589 
__asm
 
__vŞ©e__
 \

598 : "ñ" (
__v®ue
), "=u" (
__expÚ’t
è: "0" (
__x
)); \

599 
__asm
 
__vŞ©e__
 \

601 : "ñ" (
__‹mp
è: "0" (1.0), "u" (
__expÚ’t
)); \

602 
__‹mp
 -= 1.0; \

603 
__‹mp
 +ğ
__v®ue
; \

604  
__‹mp
 ? __‹m°: 
__x


	)

606 
	$__šlše_m©hcodeNP_
 (, 
__expm1l
, 
__x
, 
__expm1_code
)

608 #ià
	`__GNUC_PREREQ
 (3, 4)

609 
	`__šlše_m©hcodeNP_
 (, 
__ex¶
, 
__x
,  
	$__butš_ex¶
 (
__x
))

611 
	#__exp_code
 \

612 
__v®ue
; \

613 
__expÚ’t
; \

614 
__asm
 
__vŞ©e__
 \

622 : "ñ" (
__v®ue
), "=u" (
__expÚ’t
è: "0" (
__x
)); \

623 
__v®ue
 += 1.0; \

624 
__asm
 
__vŞ©e__
 \

626 : "ñ" (
__v®ue
è: "0" (__v®ue), "u" (
__expÚ’t
)); \

627  
__v®ue


	)

628 
	$__šlše_m©hcodeNP
 (
exp
, 
__x
, 
__exp_code
)

629 
	$__šlše_m©hcodeNP_
 (, 
__ex¶
, 
__x
, 
__exp_code
)

633 #ià!
	`__GNUC_PREREQ
 (3, 5)

634 
	`__šlše_m©hcodeNP
 (
n
, 
__x
, \

635 
__v®ue
; \

636 
__v®ue2
 
	`__©Œibu‹__
 ((
__unu£d__
)); \

637 
__asm
 
__vŞ©e__
 \

639 : "ñ" (
__v®ue2
), "=u" (
__v®ue
è: "0" (
__x
)); \

640  
__v®ue
)

645 #ià
	`__GNUC_PREREQ
 (3, 4)

646 
	`__šlše_m©hcodeNP2_
 (, 
__©ª2l
, 
__y
, 
__x
,

647  
	$__butš_©ª2l
 (
__y
, 
__x
))

649 
	#__©ª2_code
 \

650 
__v®ue
; \

651 
__asm
 
__vŞ©e__
 \

653 : "ñ" (
__v®ue
è: "0" (
__x
), "u" (
__y
) : "st(1)"); \

654  
__v®ue


	)

655 #ifdeà
__FAST_MATH__


656 
	$__šlše_m©hcodeNP2
 (
©ª2
, 
__y
, 
__x
, 
__©ª2_code
)

658 
	$__šlše_m©hcodeNP2_
 (, 
__©ª2l
, 
__y
, 
__x
, 
__©ª2_code
)

662 #ià
defšed
 
__FAST_MATH__
 && !
	`__GNUC_PREREQ
 (3, 5)

663 
	`__šlše_m©hcodeNP2
 (
fmod
, 
__x
, 
__y
, \

664 
__v®ue
; \

665 
__asm
 
__vŞ©e__
 \

670 : "ñ" (
__v®ue
è: "0" (
__x
), "u" (
__y
) : "ax", "cc"); \

671  
__v®ue
)

675 #ifdeà
__FAST_MATH__


676 #ià!
	`__GNUC_PREREQ
 (3,3)

677 
	`__šlše_m©hİNP
 (
sq¹
, "fsqrt")

678 
	`__šlše_m©hİNP_
 (, 
__sq¹l
, "fsqrt")

679 
	#__libc_sq¹l
(
n
è
	`__sq¹l
 (n)

	)

681 
	#__libc_sq¹l
(
n
è
	`__butš_sq¹l
 (n)

	)

685 #ià
	`__GNUC_PREREQ
 (2, 8)

686 
	`__šlše_m©hcodeNP_
 (, 
çbs
, 
__x
,  
	$__butš_çbs
 (
__x
))

687 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


688 
	`__šlše_m©hcodeNP_
 (, 
çbsf
, 
__x
,  
	$__butš_çbsf
 (
__x
))

689 
	`__šlše_m©hcodeNP_
 (, 
çb¦
, 
__x
,  
	$__butš_çb¦
 (
__x
))

691 
	`__šlše_m©hcodeNP_
 (, 
__çb¦
, 
__x
,  
	$__butš_çb¦
 (
__x
))

693 
	`__šlše_m©hİ
 (
çbs
, "fabs")

694 
	`__šlše_m©hİ_
 (, 
__çb¦
, "fabs")

697 #ifdeà
__FAST_MATH__


698 #ià!
	`__GNUC_PREREQ
 (3, 4)

700 
	`__šlše_m©hİNP
 (
sš
, "fsin")

702 
	`__šlše_m©hİNP
 (
cos
, "fcos")

704 
	`__šlše_m©hİ_deşNP
 (
log
, "ædÊ2; fxch; fyl2x", "0" (
__x
) : "st(1)")

707 #ià!
	`__GNUC_PREREQ
 (3, 5)

708 
	`__šlše_m©hİ_deşNP
 (
log10
, "ædlg2; fxch; fyl2x", "0" (
__x
) : "st(1)")

710 
	`__šlše_m©hcodeNP
 (
asš
, 
__x
,  
	`__©ª2l
 (__x, 
	`__libc_sq¹l
 (1.0 - __x * __x)))

711 
	`__šlše_m©hcodeNP
 (
acos
, 
__x
,  
	`__©ª2l
 (
	`__libc_sq¹l
 (1.0 - __x * __x), __x))

714 #ià!
	`__GNUC_PREREQ
 (3, 4)

715 
	`__šlše_m©hİ_deşNP
 (
©ª
, "æd1; f·n", "0" (
__x
) : "st(1)")

719 
	`__šlše_m©hcode_
 (, 
__sgn1l
, 
__x
, \

720 
__ex‹nsiÚ__
 uniÚ { 
__xld
; 
__xi
[3]; } 
__n
 = \

721 { 
__xld
: 
__x
 
	}
}; \

722 
	g__n
.
	g__xi
[2] = (
__n
.
__xi
[2] & 0x8000) | 0x3fff; \

723 
	g__n
.
	g__xi
[1] = 0x80000000; \

724 
	g__n
.
	g__xi
[0] = 0; \

725  
	g__n
.
	g__xld
)

728 #ifdeà
__FAST_MATH__


730 
__šlše_m©hcodeNP
 (
sšh
, 
__x
, \

731 
__exm1
 = 
__expm1l
 (
__çb¦
 (
__x
)); \

732  0.5 * (
__exm1
 / (__exm1 + 1.0è+ __exm1è* 
	$__sgn1l
 (
__x
))

734 
	`__šlše_m©hcodeNP
 (
cosh
, 
__x
, \

735 
__ex
 = 
	`__ex¶
 (
__x
); \

736  0.5 * (
__ex
 + 1.0 / __ex))

738 
	`__šlše_m©hcodeNP
 (
nh
, 
__x
, \

739 
__exm1
 = 
	`__expm1l
 (-
	`__çb¦
 (
__x
 + __x)); \

740  
__exm1
 / (__exm1 + 2.0è* 
	`__sgn1l
 (-
__x
))

743 
	`__šlše_m©hcodeNP
 (
æoÜ
, 
__x
, \

744 
__v®ue
; \

745 
__ignÜe
; \

746 
__cw
; \

747 
__cwtmp
; \

748 
__asm
 
	`__vŞ©e
 ("fnstcw %3\n\t" \

756 : "ñ" (
__v®ue
), "=&q" (
__ignÜe
), "=m" (
__cwtmp
), \

757 "=m" (
__cw
) \

758 : "0" (
__x
)); \

759  
__v®ue
)

761 
	`__šlše_m©hcodeNP
 (
û
, 
__x
, \

762 
__v®ue
; \

763 
__ignÜe
; \

764 
__cw
; \

765 
__cwtmp
; \

766 
__asm
 
	`__vŞ©e
 ("fnstcw %3\n\t" \

774 : "ñ" (
__v®ue
), "=&q" (
__ignÜe
), "=m" (
__cwtmp
), \

775 "=m" (
__cw
) \

776 : "0" (
__x
)); \

777  
__v®ue
)

779 #ifdeà
__FAST_MATH__


780 
	#__ldexp_code
 \

781 
__v®ue
; \

782 
__asm
 
__vŞ©e__
 \

784 : "ñ" (
__v®ue
è: "0" (
__x
), "u" ((è
__y
)); \

785  
__v®ue


	)

787 
__MATH_INLINE
 

788 
	`__NTH
 (
	$ldexp
 (
__x
, 
__y
))

790 
__ldexp_code
;

791 
	}
}

796 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_MISC


798 #ifdeà
__FAST_MATH__


799 
	$__šlše_m©hcodeNP
 (
expm1
, 
__x
, 
__expm1_code
)

803 
	#__M_SQRT2
 1.41421356237309504880L

	)

805 #ià!
	`__GNUC_PREREQ
 (3, 5)

806 
	`__šlše_m©hcodeNP
 (
log1p
, 
__x
, \

807 
__v®ue
; \

808 ià(
	`__çb¦
 (
__x
è>ğ1.0 - 0.5 * 
__M_SQRT2
) \

809 
__v®ue
 = 
	`logl
 (1.0 + 
__x
); \

811 
__asm
 
__vŞ©e__
 \

815 : "ñ" (
__v®ue
è: "0" (
__x
) : "st(1)"); \

816  
__v®ue
)

821 
	`__šlše_m©hcodeNP
 (
asšh
, 
__x
, \

822 
__y
 = 
	`__çb¦
 (
__x
); \

823  (
	`log1¶
 (
__y
 * __y / (
	`__libc_sq¹l
 (__y * __y + 1.0) + 1.0) + __y) \

824 * 
	$__sgn1l
 (
__x
)))

826 
	`__šlše_m©hcodeNP
 (
acosh
, 
__x
, \

827  
	`logl
 (
__x
 + 
	`__libc_sq¹l
 (__x - 1.0) * __libc_sqrtl (__x + 1.0)))

829 
	`__šlše_m©hcodeNP
 (
©ªh
, 
__x
, \

830 
__y
 = 
	`__çb¦
 (
__x
); \

831  -0.5 * 
	`log1¶
 (-(
__y
 + __yè/ (1.0 + __y)è* 
	$__sgn1l
 (
__x
))

834 
	`__šlše_m©hcodeNP2
 (
hypÙ
, 
__x
, 
__y
,

835  
	`__libc_sq¹l
 (
__x
 * __x + 
__y
 * __y))

837 #ià!
	`__GNUC_PREREQ
 (3, 5)

838 
	`__šlše_m©hcodeNP
(
logb
, 
__x
, \

839 
__v®ue
; \

840 
__junk
; \

841 
__asm
 
__vŞ©e__
 \

843 : "ñ" (
__junk
), "=u" (
__v®ue
è: "0" (
__x
)); \

844  
__v®ue
)

850 #ifdeà
__USE_ISOC99


851 #ifdeà
__FAST_MATH__


853 #ià!
	`__GNUC_PREREQ
 (3, 5)

854 
	`__šlše_m©hİ_deşNP
 (
log2
, "æd1; fxch; fyl2x", "0" (
__x
) : "st(1)")

857 
__MATH_INLINE
 

858 
	`__NTH
 (
	$ldexpf
 (
__x
, 
__y
))

860 
__ldexp_code
;

861 
	}
}

863 
__MATH_INLINE
 

864 
__NTH
 (
	$ldex¶
 (
__x
, 
__y
))

866 
__ldexp_code
;

867 
	}
}

869 
__šlše_m©hİNP
 (
ršt
, "frndint")

872 
	#__Ìšt_code
 \

873 
__ÌšŒes
; \

874 
__asm__
 
__vŞ©e__
 \

876 : "=m" (
__ÌšŒes
è: "t" (
__x
) : "st"); \

877  
__ÌšŒes


	)

878 
__MATH_INLINE
 

879 
__NTH
 (
	$Ìštf
 (
__x
))

881 
__Ìšt_code
;

882 
	}
}

883 
__MATH_INLINE
 

884 
__NTH
 (
	$Ìšt
 (
__x
))

886 
__Ìšt_code
;

887 
	}
}

888 
__MATH_INLINE
 

889 
__NTH
 (
	$Ìš
 (
__x
))

891 
__Ìšt_code
;

892 
	}
}

893 #undeà
__Ìšt_code


895 
	#__Îršt_code
 \

896 
__ÎršŒes
; \

897 
__asm__
 
__vŞ©e__
 \

899 : "=m" (
__ÎršŒes
è: "t" (
__x
) : "st"); \

900  
__ÎršŒes


	)

901 
__ex‹nsiÚ__


902 
__MATH_INLINE
 

903 
__NTH
 (
	$Îrštf
 (
__x
))

905 
__Îršt_code
;

906 
	}
}

907 
__ex‹nsiÚ__


908 
__MATH_INLINE
 

909 
__NTH
 (
	$Îršt
 (
__x
))

911 
__Îršt_code
;

912 
	}
}

913 
__ex‹nsiÚ__


914 
__MATH_INLINE
 

915 
__NTH
 (
	$Îrš
 (
__x
))

917 
__Îršt_code
;

918 
	}
}

919 #undeà
__Îršt_code


924 #ifdeà
__USE_MISC


926 #ià
defšed
 
__FAST_MATH__
 && !
__GNUC_PREREQ
 (3, 5)

927 
__šlše_m©hcodeNP2
 (
d»m
, 
__x
, 
__y
, \

928 
__v®ue
; \

929 
__şobb”ed
; \

930 
__asm
 
__vŞ©e__
 \

935 : "ñ" (
__v®ue
), "=&a" (
__şobb”ed
è: "0" (
__x
), "u" (
__y
) : "cc"); \

936  
__v®ue
)

941 
__MATH_INLINE
 

942 
__NTH
 (
	$__fš™e
 (
__x
))

944  (
__ex‹nsiÚ__


945 (((((uniÚ { 
__d
; 
__i
[2]; }è{__d: 
__x
}).__i[1]

947 
	}
}

952 #undeà
__©ª2_code


953 #ifdeà
__FAST_MATH__


954 #undeà
__expm1_code


955 #undeà
__exp_code


956 #undeà
__sšcos_code


963 #ifdeà
__LIBC_INTERNAL_MATH_INLINES


964 
__šlše_m©hİ
 (
__›“754_sq¹
, "fsqrt")

965 
__šlše_m©hcode2
 (
__›“754_©ª2
, 
__y
, 
__x
,

966 
__v®ue
;

967 
__asm
 
__vŞ©e__
 ("fpatan\n\t"

968 : "ñ" (
__v®ue
)

969 : "0" (
__x
), "u" (
__y
) : "st(1)");

970  
__v®ue
;)

	@/usr/include/bits/nan.h

19 #iâdeà
_MATH_H


26 #ià
__GNUC_PREREQ
(3,3)

28 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

30 #–ià
defšed
 
__GNUC__


32 
	#NAN
 \

33 (
__ex‹nsiÚ__
 \

34 ((uniÚ { 
__l
 
	`__©Œibu‹__
 ((
	`__mode__
 (
__SI__
))); 
__d
; }) \

35 { 
__l
: 0x7fc00000UL }).
__d
)

	)

39 
	~<’dŸn.h
>

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#__qÇn_by‹s
 { 0x7f, 0xc0, 0, 0 }

	)

44 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


45 
	#__qÇn_by‹s
 { 0, 0, 0xc0, 0x7à}

	)

48 uniÚ { 
	m__c
[4]; 
	m__d
; } 
__qÇn_uniÚ


49 
__©Œibu‹__
 ((
__unu£d__
)èğ{ 
__qÇn_by‹s
 };

50 
	#NAN
 (
__qÇn_uniÚ
.
__d
)

	)

	@/usr/include/bits/netdb.h

18 #iâdeà
_NETDB_H


26 
	sÃ‹Á


28 *
	mn_Çme
;

29 **
	mn_®Ÿ£s
;

30 
	mn_add¹y³
;

31 
ušt32_t
 
	mn_Ãt
;

	@/usr/include/bits/param.h

19 #iâdeà
_SYS_PARAM_H


23 #iâdeà
ARG_MAX


24 
	#__undef_ARG_MAX


	)

27 
	~<lšux/lim™s.h
>

28 
	~<lšux/·¿m.h
>

31 #ifdeà
__undef_ARG_MAX


32 #undeà
ARG_MAX


33 #undeà
__undef_ARG_MAX


36 
	#MAXSYMLINKS
 20

	)

41 
	#NOFILE
 256

	)

42 
	#NCARGS
 131072

	)

	@/usr/include/bits/poll.h

18 #iâdeà
_SYS_POLL_H


25 
	#POLLIN
 0x001

	)

26 
	#POLLPRI
 0x002

	)

27 
	#POLLOUT
 0x004

	)

29 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


31 
	#POLLRDNORM
 0x040

	)

32 
	#POLLRDBAND
 0x080

	)

33 
	#POLLWRNORM
 0x100

	)

34 
	#POLLWRBAND
 0x200

	)

37 #ifdeà
__USE_GNU


39 
	#POLLMSG
 0x400

	)

40 
	#POLLREMOVE
 0x1000

	)

41 
	#POLLRDHUP
 0x2000

	)

47 
	#POLLERR
 0x008

	)

48 
	#POLLHUP
 0x010

	)

49 
	#POLLNVAL
 0x020

	)

	@/usr/include/bits/poll2.h

19 #iâdeà
_SYS_POLL_H


24 
__BEGIN_DECLS


26 
__REDIRECT
 (
__pŞl_®Ÿs
, (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
,

27 
__timeout
), 
pŞl
);

28 
__pŞl_chk
 (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
, 
__timeout
,

29 
__SIZE_TYPE__
 
__fd¦’
);

30 
__REDIRECT
 (
__pŞl_chk_w¬n
, (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
,

31 
__timeout
, 
__SIZE_TYPE__
 
__fd¦’
),

32 
__pŞl_chk
)

33 
__w¬Ç‰r
 ("poll called with fds bufferoo small file‚fdsƒntries");

35 
__fÜtify_funùiÚ
 

36 
	$pŞl
 (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
, 
__timeout
)

38 ià(
	`__bos
 (
__fds
è!ğ(
__SIZE_TYPE__
) -1)

40 ià(! 
	`__butš_cÚ¡ªt_p
 (
__nfds
))

41  
	`__pŞl_chk
 (
__fds
, 
__nfds
, 
__timeout
, 
	`__bos
 (__fds));

42 ià(
	`__bos
 (
__fds
è/  (*__fdsè< 
__nfds
)

43  
	`__pŞl_chk_w¬n
 (
__fds
, 
__nfds
, 
__timeout
, 
	`__bos
 (__fds));

46  
	`__pŞl_®Ÿs
 (
__fds
, 
__nfds
, 
__timeout
);

47 
	}
}

50 #ifdeà
__USE_GNU


51 
__REDIRECT
 (
__µŞl_®Ÿs
, (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
,

52 cÚ¡ 
time¥ec
 *
__timeout
,

53 cÚ¡ 
__sig£t_t
 *
__ss
), 
µŞl
);

54 
__µŞl_chk
 (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
,

55 cÚ¡ 
time¥ec
 *
__timeout
,

56 cÚ¡ 
__sig£t_t
 *
__ss
, 
__SIZE_TYPE__
 
__fd¦’
);

57 
__REDIRECT
 (
__µŞl_chk_w¬n
, (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
,

58 cÚ¡ 
time¥ec
 *
__timeout
,

59 cÚ¡ 
__sig£t_t
 *
__ss
,

60 
__SIZE_TYPE__
 
__fd¦’
),

61 
__µŞl_chk
)

62 
__w¬Ç‰r
 ("ppoll called with fds bufferoo small file‚fdsƒntries");

64 
__fÜtify_funùiÚ
 

65 
	$µŞl
 (
pŞlfd
 *
__fds
, 
nfds_t
 
__nfds
, cÚ¡ 
time¥ec
 *
__timeout
,

66 cÚ¡ 
__sig£t_t
 *
__ss
)

68 ià(
	`__bos
 (
__fds
è!ğ(
__SIZE_TYPE__
) -1)

70 ià(! 
	`__butš_cÚ¡ªt_p
 (
__nfds
))

71  
	`__µŞl_chk
 (
__fds
, 
__nfds
, 
__timeout
, 
__ss
, 
	`__bos
 (__fds));

72 ià(
	`__bos
 (
__fds
è/  (*__fdsè< 
__nfds
)

73  
	`__µŞl_chk_w¬n
 (
__fds
, 
__nfds
, 
__timeout
, 
__ss
,

74 
	`__bos
 (
__fds
));

77  
	`__µŞl_®Ÿs
 (
__fds
, 
__nfds
, 
__timeout
, 
__ss
);

78 
	}
}

81 
	g__END_DECLS


	@/usr/include/bits/posix1_lim.h

24 #iâdef 
_BITS_POSIX1_LIM_H


25 
	#_BITS_POSIX1_LIM_H
 1

	)

31 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

34 
	#_POSIX_AIO_MAX
 1

	)

37 
	#_POSIX_ARG_MAX
 4096

	)

40 #ifdeà
__USE_XOPEN2K


41 
	#_POSIX_CHILD_MAX
 25

	)

43 
	#_POSIX_CHILD_MAX
 6

	)

47 
	#_POSIX_DELAYTIMER_MAX
 32

	)

51 
	#_POSIX_HOST_NAME_MAX
 255

	)

54 
	#_POSIX_LINK_MAX
 8

	)

57 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

60 
	#_POSIX_MAX_CANON
 255

	)

64 
	#_POSIX_MAX_INPUT
 255

	)

67 
	#_POSIX_MQ_OPEN_MAX
 8

	)

70 
	#_POSIX_MQ_PRIO_MAX
 32

	)

73 
	#_POSIX_NAME_MAX
 14

	)

76 #ifdeà
__USE_XOPEN2K


77 
	#_POSIX_NGROUPS_MAX
 8

	)

79 
	#_POSIX_NGROUPS_MAX
 0

	)

83 #ifdeà
__USE_XOPEN2K


84 
	#_POSIX_OPEN_MAX
 20

	)

86 
	#_POSIX_OPEN_MAX
 16

	)

89 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


92 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

96 
	#_POSIX_PATH_MAX
 256

	)

99 
	#_POSIX_PIPE_BUF
 512

	)

103 
	#_POSIX_RE_DUP_MAX
 255

	)

106 
	#_POSIX_RTSIG_MAX
 8

	)

109 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

112 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

115 
	#_POSIX_SIGQUEUE_MAX
 32

	)

118 
	#_POSIX_SSIZE_MAX
 32767

	)

121 
	#_POSIX_STREAM_MAX
 8

	)

124 
	#_POSIX_SYMLINK_MAX
 255

	)

128 
	#_POSIX_SYMLOOP_MAX
 8

	)

131 
	#_POSIX_TIMER_MAX
 32

	)

134 
	#_POSIX_TTY_NAME_MAX
 9

	)

137 #ifdeà
__USE_XOPEN2K


138 
	#_POSIX_TZNAME_MAX
 6

	)

140 
	#_POSIX_TZNAME_MAX
 3

	)

143 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


145 
	#_POSIX_QLIMIT
 1

	)

149 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

152 
	#_POSIX_UIO_MAXIOV
 16

	)

156 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

160 
	~<b™s/loÿl_lim.h
>

163 #iâdef 
SSIZE_MAX


164 
	#SSIZE_MAX
 
LONG_MAX


	)

171 #iâdef 
NGROUPS_MAX


172 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

22 #iâdef 
_BITS_POSIX2_LIM_H


23 
	#_BITS_POSIX2_LIM_H
 1

	)

27 
	#_POSIX2_BC_BASE_MAX
 99

	)

30 
	#_POSIX2_BC_DIM_MAX
 2048

	)

33 
	#_POSIX2_BC_SCALE_MAX
 99

	)

36 
	#_POSIX2_BC_STRING_MAX
 1000

	)

40 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

44 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

47 
	#_POSIX2_LINE_MAX
 2048

	)

51 
	#_POSIX2_RE_DUP_MAX
 255

	)

55 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

62 #iâdef 
BC_BASE_MAX


63 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

65 #iâdef 
BC_DIM_MAX


66 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

68 #iâdef 
BC_SCALE_MAX


69 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

71 #iâdef 
BC_STRING_MAX


72 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

74 #iâdef 
COLL_WEIGHTS_MAX


75 
	#COLL_WEIGHTS_MAX
 255

	)

77 #iâdef 
EXPR_NEST_MAX


78 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

80 #iâdef 
LINE_MAX


81 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

83 #iâdef 
CHARCLASS_NAME_MAX


84 
	#CHARCLASS_NAME_MAX
 2048

	)

88 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/posix_opt.h

19 #iâdef 
_BITS_POSIX_OPT_H


20 
	#_BITS_POSIX_OPT_H
 1

	)

23 
	#_POSIX_JOB_CONTROL
 1

	)

26 
	#_POSIX_SAVED_IDS
 1

	)

29 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

32 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

35 
	#_POSIX_FSYNC
 200809L

	)

38 
	#_POSIX_MAPPED_FILES
 200809L

	)

41 
	#_POSIX_MEMLOCK
 200809L

	)

44 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

47 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

50 
	#_POSIX_CHOWN_RESTRICTED
 0

	)

54 
	#_POSIX_VDISABLE
 '\0'

	)

57 
	#_POSIX_NO_TRUNC
 1

	)

60 
	#_XOPEN_REALTIME
 1

	)

63 
	#_XOPEN_REALTIME_THREADS
 1

	)

66 
	#_XOPEN_SHM
 1

	)

69 
	#_POSIX_THREADS
 200809L

	)

72 
	#_POSIX_REENTRANT_FUNCTIONS
 1

	)

73 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

76 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

79 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

82 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

85 
	#_POSIX_THREAD_PRIO_INHERIT
 200809L

	)

89 
	#_POSIX_THREAD_PRIO_PROTECT
 200809L

	)

91 #ifdeà
__USE_XOPEN2K8


93 
	#_POSIX_THREAD_ROBUST_PRIO_INHERIT
 200809L

	)

96 
	#_POSIX_THREAD_ROBUST_PRIO_PROTECT
 -1

	)

100 
	#_POSIX_SEMAPHORES
 200809L

	)

103 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

106 
	#_POSIX_ASYNCHRONOUS_IO
 200809L

	)

107 
	#_POSIX_ASYNC_IO
 1

	)

109 
	#_LFS_ASYNCHRONOUS_IO
 1

	)

111 
	#_POSIX_PRIORITIZED_IO
 200809L

	)

114 
	#_LFS64_ASYNCHRONOUS_IO
 1

	)

117 
	#_LFS_LARGEFILE
 1

	)

118 
	#_LFS64_LARGEFILE
 1

	)

119 
	#_LFS64_STDIO
 1

	)

122 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

125 
	#_POSIX_CPUTIME
 0

	)

128 
	#_POSIX_THREAD_CPUTIME
 0

	)

131 
	#_POSIX_REGEXP
 1

	)

134 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

137 
	#_POSIX_SHELL
 1

	)

140 
	#_POSIX_TIMEOUTS
 200809L

	)

143 
	#_POSIX_SPIN_LOCKS
 200809L

	)

146 
	#_POSIX_SPAWN
 200809L

	)

149 
	#_POSIX_TIMERS
 200809L

	)

152 
	#_POSIX_BARRIERS
 200809L

	)

155 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

158 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

161 
	#_POSIX_MONOTONIC_CLOCK
 0

	)

164 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

167 
	#_POSIX_ADVISORY_INFO
 200809L

	)

170 
	#_POSIX_IPV6
 200809L

	)

173 
	#_POSIX_RAW_SOCKETS
 200809L

	)

176 
	#_POSIX2_CHAR_TERM
 200809L

	)

179 
	#_POSIX_SPORADIC_SERVER
 -1

	)

180 
	#_POSIX_THREAD_SPORADIC_SERVER
 -1

	)

183 
	#_POSIX_TRACE
 -1

	)

184 
	#_POSIX_TRACE_EVENT_FILTER
 -1

	)

185 
	#_POSIX_TRACE_INHERIT
 -1

	)

186 
	#_POSIX_TRACE_LOG
 -1

	)

189 
	#_POSIX_TYPED_MEMORY_OBJECTS
 -1

	)

	@/usr/include/bits/pthreadtypes.h

18 #iâdeà
_BITS_PTHREADTYPES_H


19 
	#_BITS_PTHREADTYPES_H
 1

	)

21 
	~<b™s/wÜdsize.h
>

23 #ifdeà
__x86_64__


24 #ià
__WORDSIZE
 == 64

25 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

26 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

27 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

28 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

29 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

30 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

31 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

32 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

33 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

35 
	#__SIZEOF_PTHREAD_ATTR_T
 32

	)

36 
	#__SIZEOF_PTHREAD_MUTEX_T
 32

	)

37 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

38 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

39 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

40 
	#__SIZEOF_PTHREAD_RWLOCK_T
 44

	)

41 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

42 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

43 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

46 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

47 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

48 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

49 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

50 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

51 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

52 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

53 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

54 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

60 
	t±h»ad_t
;

63 
	u±h»ad_©Œ_t


65 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

66 
	m__®ign
;

68 #iâdeà
__have_±h»ad_©Œ_t


69 
±h»ad_©Œ_t
 
	t±h»ad_©Œ_t
;

70 
	#__have_±h»ad_©Œ_t
 1

	)

74 #ifdeà
__x86_64__


75 
	s__±h»ad_š‹º®_li¡


77 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

78 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

79 } 
	t__±h»ad_li¡_t
;

81 
	s__±h»ad_š‹º®_¦i¡


83 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

84 } 
	t__±h»ad_¦i¡_t
;

92 
	s__±h»ad_mu‹x_s


94 
	m__lock
;

95 
	m__couÁ
;

96 
	m__owÃr
;

97 #ifdeà
__x86_64__


98 
	m__nu£rs
;

102 
	m__kšd
;

103 #ifdeà
__x86_64__


104 
	m__¥šs
;

105 
	m__–isiÚ
;

106 
__±h»ad_li¡_t
 
	m__li¡
;

107 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

108 
	#__PTHREAD_MUTEX_HAVE_ELISION
 1

	)

110 
	m__nu£rs
;

111 
__ex‹nsiÚ__
 union

115 
	m__e¥šs
;

116 
	m__–isiÚ
;

117 
	#__¥šs
 
d
.
__e¥šs


	)

118 
	#__–isiÚ
 
d
.
__–isiÚ


	)

119 
	#__PTHREAD_MUTEX_HAVE_ELISION
 2

	)

120 } 
	md
;

121 
__±h»ad_¦i¡_t
 
	m__li¡
;

124 } 
	m__d©a
;

125 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

126 
	m__®ign
;

127 } 
	t±h»ad_mu‹x_t
;

131 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

132 
	m__®ign
;

133 } 
	t±h»ad_mu‹x©Œ_t
;

142 
	m__lock
;

143 
	m__fu‹x
;

144 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

145 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

146 
__ex‹nsiÚ__
 
	m__wok’_£q
;

147 *
	m__mu‹x
;

148 
	m__nwa™”s
;

149 
	m__brßdÿ¡_£q
;

150 } 
	m__d©a
;

151 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

152 
__ex‹nsiÚ__
 
	m__®ign
;

153 } 
	t±h»ad_cÚd_t
;

157 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

158 
	m__®ign
;

159 } 
	t±h»ad_cÚd©Œ_t
;

163 
	t±h»ad_key_t
;

167 
	t±h»ad_Úû_t
;

170 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


175 #ifdeà
__x86_64__


178 
	m__lock
;

179 
	m__Ä_»ad”s
;

180 
	m__»ad”s_wakeup
;

181 
	m__wr™”_wakeup
;

182 
	m__Ä_»ad”s_queued
;

183 
	m__Ä_wr™”s_queued
;

184 
	m__wr™”
;

185 
	m__sh¬ed
;

186 
	m__·d1
;

187 
	m__·d2
;

190 
	m__æags
;

191 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

192 } 
	m__d©a
;

196 
	m__lock
;

197 
	m__Ä_»ad”s
;

198 
	m__»ad”s_wakeup
;

199 
	m__wr™”_wakeup
;

200 
	m__Ä_»ad”s_queued
;

201 
	m__Ä_wr™”s_queued
;

204 
	m__æags
;

205 
	m__sh¬ed
;

206 
	m__·d1
;

207 
	m__·d2
;

208 
	m__wr™”
;

209 } 
	m__d©a
;

211 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

212 
	m__®ign
;

213 } 
	t±h»ad_rwlock_t
;

217 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

218 
	m__®ign
;

219 } 
	t±h»ad_rwlock©Œ_t
;

223 #ifdeà
__USE_XOPEN2K


225 vŞ©
	t±h»ad_¥šlock_t
;

232 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

233 
	m__®ign
;

234 } 
	t±h»ad_b¬r›r_t
;

238 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

239 
	m__®ign
;

240 } 
	t±h»ad_b¬r›¿‰r_t
;

244 #iâdeà
__x86_64__


246 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/bits/resource.h

19 #iâdeà
_SYS_RESOURCE_H


23 
	~<b™s/ty³s.h
>

31 
	e__¾im™_»sourû


34 
	mRLIMIT_CPU
 = 0,

35 
	#RLIMIT_CPU
 
RLIMIT_CPU


	)

38 
	mRLIMIT_FSIZE
 = 1,

39 
	#RLIMIT_FSIZE
 
RLIMIT_FSIZE


	)

42 
	mRLIMIT_DATA
 = 2,

43 
	#RLIMIT_DATA
 
RLIMIT_DATA


	)

46 
	mRLIMIT_STACK
 = 3,

47 
	#RLIMIT_STACK
 
RLIMIT_STACK


	)

50 
	mRLIMIT_CORE
 = 4,

51 
	#RLIMIT_CORE
 
RLIMIT_CORE


	)

57 
	m__RLIMIT_RSS
 = 5,

58 
	#RLIMIT_RSS
 
__RLIMIT_RSS


	)

61 
	mRLIMIT_NOFILE
 = 7,

62 
	m__RLIMIT_OFILE
 = 
RLIMIT_NOFILE
,

63 
	#RLIMIT_NOFILE
 
RLIMIT_NOFILE


	)

64 
	#RLIMIT_OFILE
 
__RLIMIT_OFILE


	)

67 
	mRLIMIT_AS
 = 9,

68 
	#RLIMIT_AS
 
RLIMIT_AS


	)

71 
	m__RLIMIT_NPROC
 = 6,

72 
	#RLIMIT_NPROC
 
__RLIMIT_NPROC


	)

75 
	m__RLIMIT_MEMLOCK
 = 8,

76 
	#RLIMIT_MEMLOCK
 
__RLIMIT_MEMLOCK


	)

79 
	m__RLIMIT_LOCKS
 = 10,

80 
	#RLIMIT_LOCKS
 
__RLIMIT_LOCKS


	)

83 
	m__RLIMIT_SIGPENDING
 = 11,

84 
	#RLIMIT_SIGPENDING
 
__RLIMIT_SIGPENDING


	)

87 
	m__RLIMIT_MSGQUEUE
 = 12,

88 
	#RLIMIT_MSGQUEUE
 
__RLIMIT_MSGQUEUE


	)

93 
	m__RLIMIT_NICE
 = 13,

94 
	#RLIMIT_NICE
 
__RLIMIT_NICE


	)

98 
	m__RLIMIT_RTPRIO
 = 14,

99 
	#RLIMIT_RTPRIO
 
__RLIMIT_RTPRIO


	)

104 
	m__RLIMIT_RTTIME
 = 15,

105 
	#RLIMIT_RTTIME
 
__RLIMIT_RTTIME


	)

107 
	m__RLIMIT_NLIMITS
 = 16,

108 
	m__RLIM_NLIMITS
 = 
__RLIMIT_NLIMITS


109 
	#RLIMIT_NLIMITS
 
__RLIMIT_NLIMITS


	)

110 
	#RLIM_NLIMITS
 
__RLIM_NLIMITS


	)

114 #iâdeà
__USE_FILE_OFFSET64


115 
	#RLIM_INFINITY
 ((
__¾im_t
è-1)

	)

117 
	#RLIM_INFINITY
 0xffffffffffffffffuLL

	)

120 #ifdeà
__USE_LARGEFILE64


121 
	#RLIM64_INFINITY
 0xffffffffffffffffuLL

	)

125 
	#RLIM_SAVED_MAX
 
RLIM_INFINITY


	)

126 
	#RLIM_SAVED_CUR
 
RLIM_INFINITY


	)

130 #iâdeà
__USE_FILE_OFFSET64


131 
__¾im_t
 
	t¾im_t
;

133 
__¾im64_t
 
	t¾im_t
;

135 #ifdeà
__USE_LARGEFILE64


136 
__¾im64_t
 
	t¾im64_t
;

139 
	s¾im™


142 
¾im_t
 
	m¾im_cur
;

144 
¾im_t
 
	m¾im_max
;

147 #ifdeà
__USE_LARGEFILE64


148 
	s¾im™64


151 
¾im64_t
 
	m¾im_cur
;

153 
¾im64_t
 
	m¾im_max
;

158 
	e__ru§ge_who


161 
	mRUSAGE_SELF
 = 0,

162 
	#RUSAGE_SELF
 
RUSAGE_SELF


	)

165 
	mRUSAGE_CHILDREN
 = -1

166 
	#RUSAGE_CHILDREN
 
RUSAGE_CHILDREN


	)

168 #ifdeà
__USE_GNU


171 
	mRUSAGE_THREAD
 = 1

172 
	#RUSAGE_THREAD
 
RUSAGE_THREAD


	)

174 
	#RUSAGE_LWP
 
RUSAGE_THREAD


	)

178 
	#__Ãed_timev®


	)

179 
	~<b™s/time.h
>

187 
	sru§ge


190 
timev®
 
	mru_utime
;

192 
timev®
 
	mru_¡ime
;

194 
__ex‹nsiÚ__
 union

196 
	mru_maxrss
;

197 
__sysÿÎ_¦Úg_t
 
	m__ru_maxrss_wÜd
;

202 
__ex‹nsiÚ__
 union

204 
	mru_ixrss
;

205 
__sysÿÎ_¦Úg_t
 
	m__ru_ixrss_wÜd
;

208 
__ex‹nsiÚ__
 union

210 
	mru_idrss
;

211 
__sysÿÎ_¦Úg_t
 
	m__ru_idrss_wÜd
;

214 
__ex‹nsiÚ__
 union

216 
	mru_i¤ss
;

217 
__sysÿÎ_¦Úg_t
 
	m__ru_i¤ss_wÜd
;

221 
__ex‹nsiÚ__
 union

223 
	mru_mšæt
;

224 
__sysÿÎ_¦Úg_t
 
	m__ru_mšæt_wÜd
;

227 
__ex‹nsiÚ__
 union

229 
	mru_majæt
;

230 
__sysÿÎ_¦Úg_t
 
	m__ru_majæt_wÜd
;

233 
__ex‹nsiÚ__
 union

235 
	mru_nsw­
;

236 
__sysÿÎ_¦Úg_t
 
	m__ru_nsw­_wÜd
;

240 
__ex‹nsiÚ__
 union

242 
	mru_šblock
;

243 
__sysÿÎ_¦Úg_t
 
	m__ru_šblock_wÜd
;

246 
__ex‹nsiÚ__
 union

248 
	mru_oublock
;

249 
__sysÿÎ_¦Úg_t
 
	m__ru_oublock_wÜd
;

252 
__ex‹nsiÚ__
 union

254 
	mru_msg¢d
;

255 
__sysÿÎ_¦Úg_t
 
	m__ru_msg¢d_wÜd
;

258 
__ex‹nsiÚ__
 union

260 
	mru_msgrcv
;

261 
__sysÿÎ_¦Úg_t
 
	m__ru_msgrcv_wÜd
;

264 
__ex‹nsiÚ__
 union

266 
	mru_nsigÇls
;

267 
__sysÿÎ_¦Úg_t
 
	m__ru_nsigÇls_wÜd
;

272 
__ex‹nsiÚ__
 union

274 
	mru_nvcsw
;

275 
__sysÿÎ_¦Úg_t
 
	m__ru_nvcsw_wÜd
;

279 
__ex‹nsiÚ__
 union

281 
	mru_nivcsw
;

282 
__sysÿÎ_¦Úg_t
 
	m__ru_nivcsw_wÜd
;

287 
	#PRIO_MIN
 -20

	)

288 
	#PRIO_MAX
 20

	)

292 
	e__´iÜ™y_which


294 
	mPRIO_PROCESS
 = 0,

295 
	#PRIO_PROCESS
 
PRIO_PROCESS


	)

296 
	mPRIO_PGRP
 = 1,

297 
	#PRIO_PGRP
 
PRIO_PGRP


	)

298 
	mPRIO_USER
 = 2

299 
	#PRIO_USER
 
PRIO_USER


	)

303 
	g__BEGIN_DECLS


305 #ifdeà
__USE_GNU


307 #iâdeà
__USE_FILE_OFFSET64


308 
	$´lim™
 (
__pid_t
 
__pid
, 
__¾im™_»sourû
 
__»sourû
,

309 cÚ¡ 
¾im™
 *
__Ãw_lim™
,

310 
¾im™
 *
__Şd_lim™
è
__THROW
;

312 #ifdeà
__REDIRECT_NTH


313 
	`__REDIRECT_NTH
 (
´lim™
, (
__pid_t
 
__pid
,

314 
__¾im™_»sourû
 
__»sourû
,

315 cÚ¡ 
¾im™
 *
__Ãw_lim™
,

316 
¾im™
 *
__Şd_lim™
), 
´lim™64
);

318 
	#´lim™
 
´lim™64


	)

321 #ifdeà
__USE_LARGEFILE64


322 
	$´lim™64
 (
__pid_t
 
__pid
, 
__¾im™_»sourû
 
__»sourû
,

323 cÚ¡ 
¾im™64
 *
__Ãw_lim™
,

324 
¾im™64
 *
__Şd_lim™
è
__THROW
;

328 
__END_DECLS


	@/usr/include/bits/select.h

18 #iâdeà
_SYS_SELECT_H


22 
	~<b™s/wÜdsize.h
>

25 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

27 #ià
__WORDSIZE
 == 64

28 
	#__FD_ZERO_STOS
 "¡osq"

	)

30 
	#__FD_ZERO_STOS
 "¡o¦"

	)

33 
	#__FD_ZERO
(
fd¥
) \

35 
__d0
, 
__d1
; \

36 
__asm__
 
	`__vŞ©e__
 ("şd;„•; " 
__FD_ZERO_STOS
 \

37 : "=c" (
__d0
), "=D" (
__d1
) \

38 : "a" (0), "0" ( (
fd_£t
) \

39 /  (
__fd_mask
)), \

40 "1" (&
	`__FDS_BITS
 (
fd¥
)[0]) \

42 } 0)

	)

48 
	#__FD_ZERO
(
£t
) \

50 
__i
; \

51 
fd_£t
 *
__¬r
 = (
£t
); \

52 
__i
 = 0; __˜<  (
fd_£t
è/  (
__fd_mask
); ++__i) \

53 
	`__FDS_BITS
 (
__¬r
)[
__i
] = 0; \

54 } 0)

	)

58 
	#__FD_SET
(
d
, 
£t
) \

59 ((è(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] |ğ
	`__FD_MASK
 (d)))

	)

60 
	#__FD_CLR
(
d
, 
£t
) \

61 ((è(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] &ğ~
	`__FD_MASK
 (d)))

	)

62 
	#__FD_ISSET
(
d
, 
£t
) \

63 ((
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)è!ğ0)

	)

	@/usr/include/bits/select2.h

19 #iâdeà
_SYS_SELECT_H


24 
__fd–t_chk
 (
__d
);

25 
	$__fd–t_w¬n
 (
__d
)

26 
	`__w¬Ç‰r
 ("bit outside of fd_set selected");

27 #undeà
__FD_ELT


28 
	#__FD_ELT
(
d
) \

29 
__ex‹nsiÚ__
 \

30 ({ 
__d
 = (
d
); \

31 (
	`__butš_cÚ¡ªt_p
 (
__d
) \

32 ? (0 <ğ
__d
 && __d < 
__FD_SETSIZE
 \

33 ? (
__d
 / 
__NFDBITS
) \

34 : 
	`__fd–t_w¬n
 (
__d
)) \

35 : 
	`__fd–t_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/setjmp.h

19 #iâdeà
_BITS_SETJMP_H


20 
	#_BITS_SETJMP_H
 1

	)

22 #ià!
defšed
 
_SETJMP_H
 && !defšed 
_PTHREAD_H


26 
	~<b™s/wÜdsize.h
>

28 #iâdeà
_ASM


30 #ià
__WORDSIZE
 == 64

31 
	t__jmp_buf
[8];

32 #–ià
defšed
 
__x86_64__


33 
__ex‹nsiÚ__
 
	t__jmp_buf
[8];

35 
	t__jmp_buf
[6];

	@/usr/include/bits/setjmp2.h

19 #iâdeà
_SETJMP_H


24 #ifdeà
__REDIRECT_NTH


25 
__REDIRECT_NTHNL
 (
lÚgjmp
,

26 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

27 
__lÚgjmp_chk
è
__©Œibu‹__
 ((
__nÜ‘uº__
));

28 
__REDIRECT_NTHNL
 (
_lÚgjmp
,

29 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

30 
__lÚgjmp_chk
è
__©Œibu‹__
 ((
__nÜ‘uº__
));

31 
__REDIRECT_NTHNL
 (
siglÚgjmp
,

32 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

33 
__lÚgjmp_chk
è
__©Œibu‹__
 ((
__nÜ‘uº__
));

35 
__lÚgjmp_chk
 (
__jmp_buf_g
 
__’v
[1], 
__v®
),

36 
__THROWNL
 
__©Œibu‹__
 ((
__nÜ‘uº__
));

37 
	#lÚgjmp
 
__lÚgjmp_chk


	)

38 
	#_lÚgjmp
 
__lÚgjmp_chk


	)

39 
	#siglÚgjmp
 
__lÚgjmp_chk


	)

	@/usr/include/bits/sigaction.h

19 #iâdeà
_SIGNAL_H


24 
	ssigaùiÚ


27 #ifdeà
__USE_POSIX199309


31 
__sighªdËr_t
 
	m§_hªdËr
;

33 (*
	m§_sigaùiÚ
è(, 
	msigšfo_t
 *, *);

35 
	m__sigaùiÚ_hªdËr
;

36 
	#§_hªdËr
 
__sigaùiÚ_hªdËr
.
§_hªdËr


	)

37 
	#§_sigaùiÚ
 
__sigaùiÚ_hªdËr
.
§_sigaùiÚ


	)

39 
__sighªdËr_t
 
	m§_hªdËr
;

43 
__sig£t_t
 
	m§_mask
;

46 
	m§_æags
;

49 (*
	m§_»¡Ü”
) ();

53 
	#SA_NOCLDSTOP
 1

	)

54 
	#SA_NOCLDWAIT
 2

	)

55 
	#SA_SIGINFO
 4

	)

57 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_MISC


58 
	#SA_ONSTACK
 0x08000000

	)

60 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN2K8


61 
	#SA_RESTART
 0x10000000

	)

62 
	#SA_NODEFER
 0x40000000

	)

64 
	#SA_RESETHAND
 0x80000000

	)

66 #ifdeà
__USE_MISC


67 
	#SA_INTERRUPT
 0x20000000

	)

70 
	#SA_NOMASK
 
SA_NODEFER


	)

71 
	#SA_ONESHOT
 
SA_RESETHAND


	)

72 
	#SA_STACK
 
SA_ONSTACK


	)

76 
	#SIG_BLOCK
 0

	)

77 
	#SIG_UNBLOCK
 1

	)

78 
	#SIG_SETMASK
 2

	)

	@/usr/include/bits/sigcontext.h

18 #iâdeà
_BITS_SIGCONTEXT_H


19 
	#_BITS_SIGCONTEXT_H
 1

	)

21 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_SYS_UCONTEXT_H


25 
	#FP_XSTATE_MAGIC1
 0x46505853U

	)

26 
	#FP_XSTATE_MAGIC2
 0x46505845U

	)

27 
	#FP_XSTATE_MAGIC2_SIZE
 (
FP_XSTATE_MAGIC2
)

	)

29 
	s_åx_sw_by‹s


31 
__ušt32_t
 
	mmagic1
;

32 
__ušt32_t
 
	mex‹nded_size
;

33 
__ušt64_t
 
	mx¡©e_bv
;

34 
__ušt32_t
 
	mx¡©e_size
;

35 
__ušt32_t
 
	m·ddšg
[7];

38 
	s_å»g


40 
	msignifiÿnd
[4];

41 
	mexpÚ’t
;

44 
	s_åx»g


46 
	msignifiÿnd
[4];

47 
	mexpÚ’t
;

48 
	m·ddšg
[3];

51 
	s_xmm»g


53 
__ušt32_t
 
	m–em’t
[4];

58 #iâdeà
__x86_64__


60 
	s_å¡©e


63 
__ušt32_t
 
	mcw
;

64 
__ušt32_t
 
	msw
;

65 
__ušt32_t
 
	mg
;

66 
__ušt32_t
 
	moff
;

67 
__ušt32_t
 
	mcs£l
;

68 
__ušt32_t
 
	md©aoff
;

69 
__ušt32_t
 
	md©a£l
;

70 
_å»g
 
	m_¡
[8];

71 
	m¡©us
;

72 
	mmagic
;

75 
__ušt32_t
 
	m_fx¤_’v
[6];

76 
__ušt32_t
 
	mmxc¤
;

77 
__ušt32_t
 
	m»£rved
;

78 
_åx»g
 
	m_fx¤_¡
[8];

79 
_xmm»g
 
	m_xmm
[8];

80 
__ušt32_t
 
	m·ddšg
[56];

83 #iâdeà
sigcÚ‹xt_¡ruù


88 
	#sigcÚ‹xt_¡ruù
 
sigcÚ‹xt


	)

91 
	#X86_FXSR_MAGIC
 0x0000

	)

93 
	ssigcÚ‹xt


95 
	mgs
, 
	m__gsh
;

96 
	mfs
, 
	m__fsh
;

97 
	mes
, 
	m__esh
;

98 
	mds
, 
	m__dsh
;

99 
	medi
;

100 
	mesi
;

101 
	mebp
;

102 
	me¥
;

103 
	mebx
;

104 
	medx
;

105 
	mecx
;

106 
	m—x
;

107 
	mŒ­no
;

108 
	m”r
;

109 
	me
;

110 
	mcs
, 
	m__csh
;

111 
	meæags
;

112 
	me¥_©_sigÇl
;

113 
	mss
, 
	m__ssh
;

114 
_å¡©e
 * 
	må¡©e
;

115 
	mŞdmask
;

116 
	mü2
;

121 
	s_å¡©e


124 
__ušt16_t
 
	mcwd
;

125 
__ušt16_t
 
	mswd
;

126 
__ušt16_t
 
	máw
;

127 
__ušt16_t
 
	mfİ
;

128 
__ušt64_t
 
	mr
;

129 
__ušt64_t
 
	mrdp
;

130 
__ušt32_t
 
	mmxc¤
;

131 
__ušt32_t
 
	mmxü_mask
;

132 
_åx»g
 
	m_¡
[8];

133 
_xmm»g
 
	m_xmm
[16];

134 
__ušt32_t
 
	m·ddšg
[24];

137 
	ssigcÚ‹xt


139 
__ušt64_t
 
	mr8
;

140 
__ušt64_t
 
	mr9
;

141 
__ušt64_t
 
	mr10
;

142 
__ušt64_t
 
	mr11
;

143 
__ušt64_t
 
	mr12
;

144 
__ušt64_t
 
	mr13
;

145 
__ušt64_t
 
	mr14
;

146 
__ušt64_t
 
	mr15
;

147 
__ušt64_t
 
	mrdi
;

148 
__ušt64_t
 
	mrsi
;

149 
__ušt64_t
 
	mrbp
;

150 
__ušt64_t
 
	mrbx
;

151 
__ušt64_t
 
	mrdx
;

152 
__ušt64_t
 
	m¿x
;

153 
__ušt64_t
 
	mrcx
;

154 
__ušt64_t
 
	mr¥
;

155 
__ušt64_t
 
	mr
;

156 
__ušt64_t
 
	meæags
;

157 
	mcs
;

158 
	mgs
;

159 
	mfs
;

160 
	m__·d0
;

161 
__ušt64_t
 
	m”r
;

162 
__ušt64_t
 
	mŒ­no
;

163 
__ušt64_t
 
	mŞdmask
;

164 
__ušt64_t
 
	mü2
;

165 
__ex‹nsiÚ__
 union

167 
_å¡©e
 * 
	må¡©e
;

168 
__ušt64_t
 
	m__å¡©e_wÜd
;

170 
__ušt64_t
 
	m__»£rved1
 [8];

175 
	s_x§ve_hdr


177 
__ušt64_t
 
	mx¡©e_bv
;

178 
__ušt64_t
 
	m»£rved1
[2];

179 
__ušt64_t
 
	m»£rved2
[5];

182 
	s_ymmh_¡©e


184 
__ušt32_t
 
	mymmh_¥aû
[64];

187 
	s_x¡©e


189 
_å¡©e
 
	må¡©e
;

190 
_x§ve_hdr
 
	mx¡©e_hdr
;

191 
_ymmh_¡©e
 
	mymmh
;

	@/usr/include/bits/siginfo.h

19 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
__Ãed_sigšfo_t
 \

20 && !
defšed
 
	g__Ãed_sigev’t_t


24 
	~<b™s/wÜdsize.h
>

26 #ià(!
defšed
 
__have_sigv®_t
 \

27 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
 \

28 || 
defšed
 
	g__Ãed_sigev’t_t
))

29 
	#__have_sigv®_t
 1

	)

32 
	usigv®


34 
	msiv®_št
;

35 *
	msiv®_±r
;

36 } 
	tsigv®_t
;

39 #ià(!
defšed
 
__have_sigšfo_t
 \

40 && (
defšed
 
	g_SIGNAL_H
 || defšed 
	g__Ãed_sigšfo_t
))

41 
	#__have_sigšfo_t
 1

	)

43 
	#__SI_MAX_SIZE
 128

	)

44 #ià
__WORDSIZE
 == 64

45 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 4)

	)

47 
	#__SI_PAD_SIZE
 ((
__SI_MAX_SIZE
 /  ()è- 3)

	)

50 #ià
defšed
 
__x86_64__
 && 
__WORDSIZE
 == 32

55 
__şock_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
 (4))è
	t__sigchld_şock_t
;

56 
	#__SI_ALIGNMENT
 
	`__©Œibu‹__
 ((
	`__®igÃd__
 (8)))

	)

58 
__şock_t
 
	t__sigchld_şock_t
;

59 
	#__SI_ALIGNMENT


	)

64 
si_signo
;

65 
si_”ºo
;

67 
si_code
;

71 
_·d
[
__SI_PAD_SIZE
];

76 
__pid_t
 
si_pid
;

77 
__uid_t
 
si_uid
;

78 } 
_kl
;

83 
si_tid
;

84 
si_ov”run
;

85 
sigv®_t
 
si_sigv®
;

86 } 
_tim”
;

91 
__pid_t
 
si_pid
;

92 
__uid_t
 
si_uid
;

93 
sigv®_t
 
si_sigv®
;

94 } 
_¹
;

99 
__pid_t
 
si_pid
;

100 
__uid_t
 
si_uid
;

101 
si_¡©us
;

102 
__sigchld_şock_t
 
si_utime
;

103 
__sigchld_şock_t
 
si_¡ime
;

104 } 
_sigchld
;

109 *
si_addr
;

110 
si_addr_lsb
;

111 } 
_sigçuÉ
;

116 
si_bªd
;

117 
si_fd
;

118 } 
_sigpŞl
;

123 *
_ÿÎ_addr
;

124 
_sysÿÎ
;

125 
_¬ch
;

126 } 
_sigsys
;

127 } 
_sif›lds
;

128 } 
	tsigšfo_t
 
	t__SI_ALIGNMENT
;

132 
	#si_pid
 
_sif›lds
.
_kl
.
si_pid


	)

133 
	#si_uid
 
_sif›lds
.
_kl
.
si_uid


	)

134 
	#si_tim”id
 
_sif›lds
.
_tim”
.
si_tid


	)

135 
	#si_ov”run
 
_sif›lds
.
_tim”
.
si_ov”run


	)

136 
	#si_¡©us
 
_sif›lds
.
_sigchld
.
si_¡©us


	)

137 
	#si_utime
 
_sif›lds
.
_sigchld
.
si_utime


	)

138 
	#si_¡ime
 
_sif›lds
.
_sigchld
.
si_¡ime


	)

139 
	#si_v®ue
 
_sif›lds
.
_¹
.
si_sigv®


	)

140 
	#si_št
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_št


	)

141 
	#si_±r
 
_sif›lds
.
_¹
.
si_sigv®
.
siv®_±r


	)

142 
	#si_addr
 
_sif›lds
.
_sigçuÉ
.
si_addr


	)

143 
	#si_addr_lsb
 
_sif›lds
.
_sigçuÉ
.
si_addr_lsb


	)

144 
	#si_bªd
 
_sif›lds
.
_sigpŞl
.
si_bªd


	)

145 
	#si_fd
 
_sif›lds
.
_sigpŞl
.
si_fd


	)

146 
	#si_ÿÎ_addr
 
_sif›lds
.
_sigsys
.
_ÿÎ_addr


	)

147 
	#si_sysÿÎ
 
_sif›lds
.
_sigsys
.
_sysÿÎ


	)

148 
	#si_¬ch
 
_sif›lds
.
_sigsys
.
_¬ch


	)

155 
SI_ASYNCNL
 = -60,

156 
	#SI_ASYNCNL
 
SI_ASYNCNL


	)

157 
SI_TKILL
 = -6,

158 
	#SI_TKILL
 
SI_TKILL


	)

159 
SI_SIGIO
,

160 
	#SI_SIGIO
 
SI_SIGIO


	)

161 
SI_ASYNCIO
,

162 
	#SI_ASYNCIO
 
SI_ASYNCIO


	)

163 
SI_MESGQ
,

164 
	#SI_MESGQ
 
SI_MESGQ


	)

165 
SI_TIMER
,

166 
	#SI_TIMER
 
SI_TIMER


	)

167 
SI_QUEUE
,

168 
	#SI_QUEUE
 
SI_QUEUE


	)

169 
SI_USER
,

170 
	#SI_USER
 
SI_USER


	)

171 
SI_KERNEL
 = 0x80

172 
	#SI_KERNEL
 
SI_KERNEL


	)

179 
ILL_ILLOPC
 = 1,

180 
	#ILL_ILLOPC
 
ILL_ILLOPC


	)

181 
ILL_ILLOPN
,

182 
	#ILL_ILLOPN
 
ILL_ILLOPN


	)

183 
ILL_ILLADR
,

184 
	#ILL_ILLADR
 
ILL_ILLADR


	)

185 
ILL_ILLTRP
,

186 
	#ILL_ILLTRP
 
ILL_ILLTRP


	)

187 
ILL_PRVOPC
,

188 
	#ILL_PRVOPC
 
ILL_PRVOPC


	)

189 
ILL_PRVREG
,

190 
	#ILL_PRVREG
 
ILL_PRVREG


	)

191 
ILL_COPROC
,

192 
	#ILL_COPROC
 
ILL_COPROC


	)

193 
ILL_BADSTK


194 
	#ILL_BADSTK
 
ILL_BADSTK


	)

200 
FPE_INTDIV
 = 1,

201 
	#FPE_INTDIV
 
FPE_INTDIV


	)

202 
FPE_INTOVF
,

203 
	#FPE_INTOVF
 
FPE_INTOVF


	)

204 
FPE_FLTDIV
,

205 
	#FPE_FLTDIV
 
FPE_FLTDIV


	)

206 
FPE_FLTOVF
,

207 
	#FPE_FLTOVF
 
FPE_FLTOVF


	)

208 
FPE_FLTUND
,

209 
	#FPE_FLTUND
 
FPE_FLTUND


	)

210 
FPE_FLTRES
,

211 
	#FPE_FLTRES
 
FPE_FLTRES


	)

212 
FPE_FLTINV
,

213 
	#FPE_FLTINV
 
FPE_FLTINV


	)

214 
FPE_FLTSUB


215 
	#FPE_FLTSUB
 
FPE_FLTSUB


	)

221 
SEGV_MAPERR
 = 1,

222 
	#SEGV_MAPERR
 
SEGV_MAPERR


	)

223 
SEGV_ACCERR


224 
	#SEGV_ACCERR
 
SEGV_ACCERR


	)

230 
BUS_ADRALN
 = 1,

231 
	#BUS_ADRALN
 
BUS_ADRALN


	)

232 
BUS_ADRERR
,

233 
	#BUS_ADRERR
 
BUS_ADRERR


	)

234 
BUS_OBJERR
,

235 
	#BUS_OBJERR
 
BUS_OBJERR


	)

236 
BUS_MCEERR_AR
,

237 
	#BUS_MCEERR_AR
 
BUS_MCEERR_AR


	)

238 
BUS_MCEERR_AO


239 
	#BUS_MCEERR_AO
 
BUS_MCEERR_AO


	)

245 
TRAP_BRKPT
 = 1,

246 
	#TRAP_BRKPT
 
TRAP_BRKPT


	)

247 
TRAP_TRACE


248 
	#TRAP_TRACE
 
TRAP_TRACE


	)

254 
CLD_EXITED
 = 1,

255 
	#CLD_EXITED
 
CLD_EXITED


	)

256 
CLD_KILLED
,

257 
	#CLD_KILLED
 
CLD_KILLED


	)

258 
CLD_DUMPED
,

259 
	#CLD_DUMPED
 
CLD_DUMPED


	)

260 
CLD_TRAPPED
,

261 
	#CLD_TRAPPED
 
CLD_TRAPPED


	)

262 
CLD_STOPPED
,

263 
	#CLD_STOPPED
 
CLD_STOPPED


	)

264 
CLD_CONTINUED


265 
	#CLD_CONTINUED
 
CLD_CONTINUED


	)

271 
POLL_IN
 = 1,

272 
	#POLL_IN
 
POLL_IN


	)

273 
POLL_OUT
,

274 
	#POLL_OUT
 
POLL_OUT


	)

275 
POLL_MSG
,

276 
	#POLL_MSG
 
POLL_MSG


	)

277 
POLL_ERR
,

278 
	#POLL_ERR
 
POLL_ERR


	)

279 
POLL_PRI
,

280 
	#POLL_PRI
 
POLL_PRI


	)

281 
POLL_HUP


282 
	#POLL_HUP
 
POLL_HUP


	)

285 #undeà
__Ãed_sigšfo_t


289 #ià(
defšed
 
_SIGNAL_H
 || defšed 
__Ãed_sigev’t_t
) \

290 && !
defšed
 
__have_sigev’t_t


291 
	#__have_sigev’t_t
 1

	)

294 
	#__SIGEV_MAX_SIZE
 64

	)

295 #ià
__WORDSIZE
 == 64

296 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 4)

	)

298 
	#__SIGEV_PAD_SIZE
 ((
__SIGEV_MAX_SIZE
 /  ()è- 3)

	)

302 #iâdeà
__have_±h»ad_©Œ_t


303 
±h»ad_©Œ_t
 
	t±h»ad_©Œ_t
;

304 
	#__have_±h»ad_©Œ_t
 1

	)

307 
	ssigev’t


309 
sigv®_t
 
sigev_v®ue
;

310 
sigev_signo
;

311 
sigev_nÙify
;

315 
_·d
[
__SIGEV_PAD_SIZE
];

319 
__pid_t
 
_tid
;

323 (*
_funùiÚ
è(
sigv®_t
);

324 
±h»ad_©Œ_t
 *
_©Œibu‹
;

325 } 
_sigev_th»ad
;

326 } 
_sigev_un
;

327 } 
	tsigev’t_t
;

330 
	#sigev_nÙify_funùiÚ
 
_sigev_un
.
_sigev_th»ad
.
_funùiÚ


	)

331 
	#sigev_nÙify_©Œibu‹s
 
_sigev_un
.
_sigev_th»ad
.
_©Œibu‹


	)

336 
SIGEV_SIGNAL
 = 0,

337 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

338 
SIGEV_NONE
,

339 
	#SIGEV_NONE
 
SIGEV_NONE


	)

340 
SIGEV_THREAD
,

341 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

343 
SIGEV_THREAD_ID
 = 4

344 
	#SIGEV_THREAD_ID
 
SIGEV_THREAD_ID


	)

	@/usr/include/bits/signum.h

19 #ifdef 
_SIGNAL_H


22 
	#SIG_ERR
 ((
__sighªdËr_t
è-1è

	)

23 
	#SIG_DFL
 ((
__sighªdËr_t
è0è

	)

24 
	#SIG_IGN
 ((
__sighªdËr_t
è1è

	)

26 #ifdeà
__USE_UNIX98


27 
	#SIG_HOLD
 ((
__sighªdËr_t
è2è

	)

32 
	#SIGHUP
 1

	)

33 
	#SIGINT
 2

	)

34 
	#SIGQUIT
 3

	)

35 
	#SIGILL
 4

	)

36 
	#SIGTRAP
 5

	)

37 
	#SIGABRT
 6

	)

38 
	#SIGIOT
 6

	)

39 
	#SIGBUS
 7

	)

40 
	#SIGFPE
 8

	)

41 
	#SIGKILL
 9

	)

42 
	#SIGUSR1
 10

	)

43 
	#SIGSEGV
 11

	)

44 
	#SIGUSR2
 12

	)

45 
	#SIGPIPE
 13

	)

46 
	#SIGALRM
 14

	)

47 
	#SIGTERM
 15

	)

48 
	#SIGSTKFLT
 16

	)

49 
	#SIGCLD
 
SIGCHLD


	)

50 
	#SIGCHLD
 17

	)

51 
	#SIGCONT
 18

	)

52 
	#SIGSTOP
 19

	)

53 
	#SIGTSTP
 20

	)

54 
	#SIGTTIN
 21

	)

55 
	#SIGTTOU
 22

	)

56 
	#SIGURG
 23

	)

57 
	#SIGXCPU
 24

	)

58 
	#SIGXFSZ
 25

	)

59 
	#SIGVTALRM
 26

	)

60 
	#SIGPROF
 27

	)

61 
	#SIGWINCH
 28

	)

62 
	#SIGPOLL
 
SIGIO


	)

63 
	#SIGIO
 29

	)

64 
	#SIGPWR
 30

	)

65 
	#SIGSYS
 31

	)

66 
	#SIGUNUSED
 31

	)

68 
	#_NSIG
 65

	)

71 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

72 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

76 
	#__SIGRTMIN
 32

	)

77 
	#__SIGRTMAX
 (
_NSIG
 - 1)

	)

	@/usr/include/bits/sigset.h

19 #iâdef 
_SIGSET_H_ty³s


20 
	#_SIGSET_H_ty³s
 1

	)

22 
	t__sig_©omic_t
;

26 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

29 
	m__v®
[
_SIGSET_NWORDS
];

30 } 
	t__sig£t_t
;

41 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


42 
	#_SIGSET_H_âs
 1

	)

44 #iâdeà
_EXTERN_INLINE


45 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

49 
	#__sigmask
(
sig
) \

50 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

53 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

55 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

56 
	#__sigem±y£t
(
£t
) \

57 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

58 
sig£t_t
 *
__£t
 = (
£t
); \

59 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

60 0; }))

	)

61 
	#__sigfl£t
(
£t
) \

62 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

63 
sig£t_t
 *
__£t
 = (
£t
); \

64 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

65 0; }))

	)

67 #ifdeà
__USE_GNU


71 
	#__sigi£m±y£t
(
£t
) \

72 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

73 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

74 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

75 !
__»t
 && --
__út
 >= 0) \

76 
__»t
 = 
__£t
->
__v®
[
__út
]; \

77 
__»t
 =ğ0; }))

	)

78 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

79 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

80 
sig£t_t
 *
__de¡
 = (
de¡
); \

81 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

82 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

83 --
__út
 >= 0) \

84 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

85 & 
__right
->
__v®
[
__út
]); \

86 0; }))

	)

87 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

88 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

89 
sig£t_t
 *
__de¡
 = (
de¡
); \

90 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

91 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

92 --
__út
 >= 0) \

93 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

94 | 
__right
->
__v®
[
__út
]); \

95 0; }))

	)

102 
__sigismemb”
 (cÚ¡ 
__sig£t_t
 *, );

103 
__sigadd£t
 (
__sig£t_t
 *, );

104 
__sigd–£t
 (
__sig£t_t
 *, );

106 #ifdeà
__USE_EXTERN_INLINES


107 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

108 
_EXTERN_INLINE
 \

109 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

111 
__mask
 = 
	`__sigmask
 (
__sig
); \

112 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

113  
BODY
; \

114 }

	)

116 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
) ? 1 : 0, const)

117 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

118 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

120 #undeà
__SIGSETFN


	@/usr/include/bits/sigstack.h

19 #iâdeà
_SIGNAL_H


25 
	ssig¡ack


27 *
	mss_¥
;

28 
	mss_Ú¡ack
;

35 
	mSS_ONSTACK
 = 1,

36 
	#SS_ONSTACK
 
SS_ONSTACK


	)

37 
	mSS_DISABLE


38 
	#SS_DISABLE
 
SS_DISABLE


	)

42 
	#MINSIGSTKSZ
 2048

	)

45 
	#SIGSTKSZ
 8192

	)

49 
	ssig®t¡ack


51 *
	mss_¥
;

52 
	mss_æags
;

53 
size_t
 
	mss_size
;

54 } 
	t¡ack_t
;

	@/usr/include/bits/sigthread.h

19 #iâdeà
_BITS_SIGTHREAD_H


20 
	#_BITS_SIGTHREAD_H
 1

	)

22 #ià!
defšed
 
_SIGNAL_H
 && !defšed 
_PTHREAD_H


30 
	$±h»ad_sigmask
 (
__how
,

31 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__Ãwmask
,

32 
__sig£t_t
 *
__»¡riù
 
__Şdmask
)
__THROW
;

35 
	$±h»ad_kl
 (
±h»ad_t
 
__th»adid
, 
__signo
è
__THROW
;

37 #ifdeà
__USE_GNU


39 
	$±h»ad_sigqueue
 (
±h»ad_t
 
__th»adid
, 
__signo
,

40 cÚ¡ 
sigv®
 
__v®ue
è
__THROW
;

	@/usr/include/bits/socket.h

19 #iâdeà
__BITS_SOCKET_H


20 
	#__BITS_SOCKET_H


	)

22 #iâdeà
_SYS_SOCKET_H


26 
	#__Ãed_size_t


	)

27 
	~<¡ddef.h
>

29 
	~<sys/ty³s.h
>

32 #iâdeà
__sockËn_t_defšed


33 
__sockËn_t
 
	tsockËn_t
;

34 
	#__sockËn_t_defšed


	)

38 
	~<b™s/sock‘_ty³.h
>

41 
	#PF_UNSPEC
 0

	)

42 
	#PF_LOCAL
 1

	)

43 
	#PF_UNIX
 
PF_LOCAL


	)

44 
	#PF_FILE
 
PF_LOCAL


	)

45 
	#PF_INET
 2

	)

46 
	#PF_AX25
 3

	)

47 
	#PF_IPX
 4

	)

48 
	#PF_APPLETALK
 5

	)

49 
	#PF_NETROM
 6

	)

50 
	#PF_BRIDGE
 7

	)

51 
	#PF_ATMPVC
 8

	)

52 
	#PF_X25
 9

	)

53 
	#PF_INET6
 10

	)

54 
	#PF_ROSE
 11

	)

55 
	#PF_DECÃt
 12

	)

56 
	#PF_NETBEUI
 13

	)

57 
	#PF_SECURITY
 14

	)

58 
	#PF_KEY
 15

	)

59 
	#PF_NETLINK
 16

	)

60 
	#PF_ROUTE
 
PF_NETLINK


	)

61 
	#PF_PACKET
 17

	)

62 
	#PF_ASH
 18

	)

63 
	#PF_ECONET
 19

	)

64 
	#PF_ATMSVC
 20

	)

65 
	#PF_RDS
 21

	)

66 
	#PF_SNA
 22

	)

67 
	#PF_IRDA
 23

	)

68 
	#PF_PPPOX
 24

	)

69 
	#PF_WANPIPE
 25

	)

70 
	#PF_LLC
 26

	)

71 
	#PF_CAN
 29

	)

72 
	#PF_TIPC
 30

	)

73 
	#PF_BLUETOOTH
 31

	)

74 
	#PF_IUCV
 32

	)

75 
	#PF_RXRPC
 33

	)

76 
	#PF_ISDN
 34

	)

77 
	#PF_PHONET
 35

	)

78 
	#PF_IEEE802154
 36

	)

79 
	#PF_CAIF
 37

	)

80 
	#PF_ALG
 38

	)

81 
	#PF_NFC
 39

	)

82 
	#PF_VSOCK
 40

	)

83 
	#PF_MAX
 41

	)

86 
	#AF_UNSPEC
 
PF_UNSPEC


	)

87 
	#AF_LOCAL
 
PF_LOCAL


	)

88 
	#AF_UNIX
 
PF_UNIX


	)

89 
	#AF_FILE
 
PF_FILE


	)

90 
	#AF_INET
 
PF_INET


	)

91 
	#AF_AX25
 
PF_AX25


	)

92 
	#AF_IPX
 
PF_IPX


	)

93 
	#AF_APPLETALK
 
PF_APPLETALK


	)

94 
	#AF_NETROM
 
PF_NETROM


	)

95 
	#AF_BRIDGE
 
PF_BRIDGE


	)

96 
	#AF_ATMPVC
 
PF_ATMPVC


	)

97 
	#AF_X25
 
PF_X25


	)

98 
	#AF_INET6
 
PF_INET6


	)

99 
	#AF_ROSE
 
PF_ROSE


	)

100 
	#AF_DECÃt
 
PF_DECÃt


	)

101 
	#AF_NETBEUI
 
PF_NETBEUI


	)

102 
	#AF_SECURITY
 
PF_SECURITY


	)

103 
	#AF_KEY
 
PF_KEY


	)

104 
	#AF_NETLINK
 
PF_NETLINK


	)

105 
	#AF_ROUTE
 
PF_ROUTE


	)

106 
	#AF_PACKET
 
PF_PACKET


	)

107 
	#AF_ASH
 
PF_ASH


	)

108 
	#AF_ECONET
 
PF_ECONET


	)

109 
	#AF_ATMSVC
 
PF_ATMSVC


	)

110 
	#AF_RDS
 
PF_RDS


	)

111 
	#AF_SNA
 
PF_SNA


	)

112 
	#AF_IRDA
 
PF_IRDA


	)

113 
	#AF_PPPOX
 
PF_PPPOX


	)

114 
	#AF_WANPIPE
 
PF_WANPIPE


	)

115 
	#AF_LLC
 
PF_LLC


	)

116 
	#AF_CAN
 
PF_CAN


	)

117 
	#AF_TIPC
 
PF_TIPC


	)

118 
	#AF_BLUETOOTH
 
PF_BLUETOOTH


	)

119 
	#AF_IUCV
 
PF_IUCV


	)

120 
	#AF_RXRPC
 
PF_RXRPC


	)

121 
	#AF_ISDN
 
PF_ISDN


	)

122 
	#AF_PHONET
 
PF_PHONET


	)

123 
	#AF_IEEE802154
 
PF_IEEE802154


	)

124 
	#AF_CAIF
 
PF_CAIF


	)

125 
	#AF_ALG
 
PF_ALG


	)

126 
	#AF_NFC
 
PF_NFC


	)

127 
	#AF_VSOCK
 
PF_VSOCK


	)

128 
	#AF_MAX
 
PF_MAX


	)

134 
	#SOL_RAW
 255

	)

135 
	#SOL_DECNET
 261

	)

136 
	#SOL_X25
 262

	)

137 
	#SOL_PACKET
 263

	)

138 
	#SOL_ATM
 264

	)

139 
	#SOL_AAL
 265

	)

140 
	#SOL_IRDA
 266

	)

143 
	#SOMAXCONN
 128

	)

146 
	~<b™s/sockaddr.h
>

149 
	ssockaddr


151 
__SOCKADDR_COMMON
 (
§_
);

152 
	m§_d©a
[14];

158 
	#__ss_®igÁy³
 

	)

159 
	#_SS_SIZE
 128

	)

160 
	#_SS_PADSIZE
 (
_SS_SIZE
 - (2 *  (
__ss_®igÁy³
)))

	)

162 
	ssockaddr_¡Üage


164 
__SOCKADDR_COMMON
 (
ss_
);

165 
__ss_®igÁy³
 
	m__ss_®ign
;

166 
	m__ss_·ddšg
[
_SS_PADSIZE
];

173 
	mMSG_OOB
 = 0x01,

174 
	#MSG_OOB
 
MSG_OOB


	)

175 
	mMSG_PEEK
 = 0x02,

176 
	#MSG_PEEK
 
MSG_PEEK


	)

177 
	mMSG_DONTROUTE
 = 0x04,

178 
	#MSG_DONTROUTE
 
MSG_DONTROUTE


	)

179 #ifdeà
__USE_GNU


181 
	mMSG_TRYHARD
 = 
MSG_DONTROUTE
,

182 
	#MSG_TRYHARD
 
MSG_DONTROUTE


	)

184 
	mMSG_CTRUNC
 = 0x08,

185 
	#MSG_CTRUNC
 
MSG_CTRUNC


	)

186 
	mMSG_PROXY
 = 0x10,

187 
	#MSG_PROXY
 
MSG_PROXY


	)

188 
	mMSG_TRUNC
 = 0x20,

189 
	#MSG_TRUNC
 
MSG_TRUNC


	)

190 
	mMSG_DONTWAIT
 = 0x40,

191 
	#MSG_DONTWAIT
 
MSG_DONTWAIT


	)

192 
	mMSG_EOR
 = 0x80,

193 
	#MSG_EOR
 
MSG_EOR


	)

194 
	mMSG_WAITALL
 = 0x100,

195 
	#MSG_WAITALL
 
MSG_WAITALL


	)

196 
	mMSG_FIN
 = 0x200,

197 
	#MSG_FIN
 
MSG_FIN


	)

198 
	mMSG_SYN
 = 0x400,

199 
	#MSG_SYN
 
MSG_SYN


	)

200 
	mMSG_CONFIRM
 = 0x800,

201 
	#MSG_CONFIRM
 
MSG_CONFIRM


	)

202 
	mMSG_RST
 = 0x1000,

203 
	#MSG_RST
 
MSG_RST


	)

204 
	mMSG_ERRQUEUE
 = 0x2000,

205 
	#MSG_ERRQUEUE
 
MSG_ERRQUEUE


	)

206 
	mMSG_NOSIGNAL
 = 0x4000,

207 
	#MSG_NOSIGNAL
 
MSG_NOSIGNAL


	)

208 
	mMSG_MORE
 = 0x8000,

209 
	#MSG_MORE
 
MSG_MORE


	)

210 
	mMSG_WAITFORONE
 = 0x10000,

211 
	#MSG_WAITFORONE
 
MSG_WAITFORONE


	)

212 
	mMSG_FASTOPEN
 = 0x20000000,

213 
	#MSG_FASTOPEN
 
MSG_FASTOPEN


	)

215 
	mMSG_CMSG_CLOEXEC
 = 0x40000000

218 
	#MSG_CMSG_CLOEXEC
 
MSG_CMSG_CLOEXEC


	)

224 
	smsghdr


226 *
	mmsg_Çme
;

227 
sockËn_t
 
	mmsg_Çm–’
;

229 
iovec
 *
	mmsg_iov
;

230 
size_t
 
	mmsg_iovËn
;

232 *
	mmsg_cÚŒŞ
;

233 
size_t
 
	mmsg_cÚŒŞËn
;

238 
	mmsg_æags
;

242 
	scmsghdr


244 
size_t
 
	mcmsg_Ën
;

249 
	mcmsg_Ëv–
;

250 
	mcmsg_ty³
;

251 #ià(!
defšed
 
__STRICT_ANSI__
 && 
__GNUC__
 >ğ2è|| 
__STDC_VERSION__
 >= 199901L

252 
__ex‹nsiÚ__
 
__cmsg_d©a
 
	m__æex¬r
;

257 #ià(!
defšed
 
__STRICT_ANSI__
 && 
__GNUC__
 >ğ2è|| 
__STDC_VERSION__
 >= 199901L

258 
	#CMSG_DATA
(
cmsg
è((cmsg)->
__cmsg_d©a
)

	)

260 
	#CMSG_DATA
(
cmsg
è((*è((
cmsghdr
 *è(cmsgè+ 1))

	)

262 
	#CMSG_NXTHDR
(
mhdr
, 
cmsg
è
	`__cmsg_nxthdr
 (mhdr, cmsg)

	)

263 
	#CMSG_FIRSTHDR
(
mhdr
) \

264 ((
size_t
è(
mhdr
)->
msg_cÚŒŞËn
 >ğ (
cmsghdr
) \

265 ? (
cmsghdr
 *è(
mhdr
)->
msg_cÚŒŞ
 : (cmsghd¸*è0)

	)

266 
	#CMSG_ALIGN
(
Ën
è((Ö’è+  (
size_t
) - 1) \

267 & (
size_t
è~( (size_tè- 1))

	)

268 
	#CMSG_SPACE
(
Ën
è(
	`CMSG_ALIGN
 (len) \

269 + 
	`CMSG_ALIGN
 ( (
cmsghdr
)))

	)

270 
	#CMSG_LEN
(
Ën
è(
	`CMSG_ALIGN
 ( (
cmsghdr
)è+ (Ën))

	)

272 
cmsghdr
 *
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
,

273 
cmsghdr
 *
__cmsg
è
__THROW
;

274 #ifdeà
__USE_EXTERN_INLINES


275 #iâdeà
_EXTERN_INLINE


276 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

278 
_EXTERN_INLINE
 
cmsghdr
 *

279 
	`__NTH
 (
	$__cmsg_nxthdr
 (
msghdr
 *
__mhdr
, 
cmsghdr
 *
__cmsg
))

281 ià((
size_t
è
__cmsg
->
cmsg_Ën
 <  (
cmsghdr
))

283  (
cmsghdr
 *) 0;

285 
__cmsg
 = (
cmsghdr
 *) ((*) __cmsg

286 + 
	`CMSG_ALIGN
 (
__cmsg
->
cmsg_Ën
));

287 ià((*è(
__cmsg
 + 1è> ((*è
__mhdr
->
msg_cÚŒŞ


288 + 
__mhdr
->
msg_cÚŒŞËn
)

289 || ((*è
__cmsg
 + 
	`CMSG_ALIGN
 (__cmsg->
cmsg_Ën
)

290 > ((*è
__mhdr
->
msg_cÚŒŞ
 + __mhdr->
msg_cÚŒŞËn
)))

292  (
cmsghdr
 *) 0;

293  
__cmsg
;

294 
	}
}

301 
	mSCM_RIGHTS
 = 0x01

302 
	#SCM_RIGHTS
 
SCM_RIGHTS


	)

303 #ifdeà
__USE_GNU


304 , 
	mSCM_CREDENTIALS
 = 0x02

305 
	#SCM_CREDENTIALS
 
SCM_CREDENTIALS


	)

309 #ifdeà
__USE_GNU


311 
	suüed


313 
pid_t
 
	mpid
;

314 
uid_t
 
	muid
;

315 
gid_t
 
	mgid
;

320 #ià!
defšed
 
__USE_MISC
 && !defšed 
__USE_GNU


321 #iâdeà
FIOGETOWN


322 
	#__SYS_SOCKET_H_undef_FIOGETOWN


	)

324 #iâdeà
FIOSETOWN


325 
	#__SYS_SOCKET_H_undef_FIOSETOWN


	)

327 #iâdeà
SIOCATMARK


328 
	#__SYS_SOCKET_H_undef_SIOCATMARK


	)

330 #iâdeà
SIOCGPGRP


331 
	#__SYS_SOCKET_H_undef_SIOCGPGRP


	)

333 #iâdeà
SIOCGSTAMP


334 
	#__SYS_SOCKET_H_undef_SIOCGSTAMP


	)

336 #iâdeà
SIOCGSTAMPNS


337 
	#__SYS_SOCKET_H_undef_SIOCGSTAMPNS


	)

339 #iâdeà
SIOCSPGRP


340 
	#__SYS_SOCKET_H_undef_SIOCSPGRP


	)

345 
	~<asm/sock‘.h
>

347 #ià!
defšed
 
__USE_MISC
 && !defšed 
__USE_GNU


348 #ifdeà
__SYS_SOCKET_H_undef_FIOGETOWN


349 #undeà
__SYS_SOCKET_H_undef_FIOGETOWN


350 #undeà
FIOGETOWN


352 #ifdeà
__SYS_SOCKET_H_undef_FIOSETOWN


353 #undeà
__SYS_SOCKET_H_undef_FIOSETOWN


354 #undeà
FIOSETOWN


356 #ifdeà
__SYS_SOCKET_H_undef_SIOCATMARK


357 #undeà
__SYS_SOCKET_H_undef_SIOCATMARK


358 #undeà
SIOCATMARK


360 #ifdeà
__SYS_SOCKET_H_undef_SIOCGPGRP


361 #undeà
__SYS_SOCKET_H_undef_SIOCGPGRP


362 #undeà
SIOCGPGRP


364 #ifdeà
__SYS_SOCKET_H_undef_SIOCGSTAMP


365 #undeà
__SYS_SOCKET_H_undef_SIOCGSTAMP


366 #undeà
SIOCGSTAMP


368 #ifdeà
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


369 #undeà
__SYS_SOCKET_H_undef_SIOCGSTAMPNS


370 #undeà
SIOCGSTAMPNS


372 #ifdeà
__SYS_SOCKET_H_undef_SIOCSPGRP


373 #undeà
__SYS_SOCKET_H_undef_SIOCSPGRP


374 #undeà
SIOCSPGRP


379 
	slšg”


381 
	ml_Úoff
;

382 
	ml_lšg”
;

	@/usr/include/bits/socket2.h

19 #iâdeà
_SYS_SOCKET_H


23 
ssize_t
 
__»cv_chk
 (
__fd
, *
__buf
, 
size_t
 
__n
, size_ˆ
__buæ’
,

24 
__æags
);

25 
ssize_t
 
__REDIRECT
 (
__»cv_®Ÿs
, (
__fd
, *
__buf
, 
size_t
 
__n
,

26 
__æags
), 
»cv
);

27 
ssize_t
 
__REDIRECT
 (
__»cv_chk_w¬n
,

28 (
__fd
, *
__buf
, 
size_t
 
__n
, size_ˆ
__buæ’
,

29 
__æags
), 
__»cv_chk
)

30 
__w¬Ç‰r
 ("recv called with bigger†engthhan size of destination "

33 
__fÜtify_funùiÚ
 
ssize_t


34 
	$»cv
 (
__fd
, *
__buf
, 
size_t
 
__n
, 
__æags
)

36 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

38 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

39  
	`__»cv_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__æags
);

41 ià(
__n
 > 
	`__bos0
 (
__buf
))

42  
	`__»cv_chk_w¬n
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__æags
);

44  
	`__»cv_®Ÿs
 (
__fd
, 
__buf
, 
__n
, 
__æags
);

45 
	}
}

47 
ssize_t
 
__»cväom_chk
 (
__fd
, *
__»¡riù
 
__buf
, 
size_t
 
__n
,

48 
size_t
 
__buæ’
, 
__æags
,

49 
__SOCKADDR_ARG
 
__addr
,

50 
sockËn_t
 *
__»¡riù
 
__addr_Ën
);

51 
ssize_t
 
__REDIRECT
 (
__»cväom_®Ÿs
,

52 (
__fd
, *
__»¡riù
 
__buf
, 
size_t
 
__n
,

53 
__æags
, 
__SOCKADDR_ARG
 
__addr
,

54 
sockËn_t
 *
__»¡riù
 
__addr_Ën
), 
»cväom
);

55 
ssize_t
 
__REDIRECT
 (
__»cväom_chk_w¬n
,

56 (
__fd
, *
__»¡riù
 
__buf
, 
size_t
 
__n
,

57 
size_t
 
__buæ’
, 
__æags
,

58 
__SOCKADDR_ARG
 
__addr
,

59 
sockËn_t
 *
__»¡riù
 
__addr_Ën
), 
__»cväom_chk
)

60 
__w¬Ç‰r
 ("recvfrom called with bigger†engthhan size of "

63 
__fÜtify_funùiÚ
 
ssize_t


64 
	$»cväom
 (
__fd
, *
__»¡riù
 
__buf
, 
size_t
 
__n
, 
__æags
,

65 
__SOCKADDR_ARG
 
__addr
, 
sockËn_t
 *
__»¡riù
 
__addr_Ën
)

67 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

69 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

70  
	`__»cväom_chk
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__æags
,

71 
__addr
, 
__addr_Ën
);

72 ià(
__n
 > 
	`__bos0
 (
__buf
))

73  
	`__»cväom_chk_w¬n
 (
__fd
, 
__buf
, 
__n
, 
	`__bos0
 (__buf), 
__æags
,

74 
__addr
, 
__addr_Ën
);

76  
	`__»cväom_®Ÿs
 (
__fd
, 
__buf
, 
__n
, 
__æags
, 
__addr
, 
__addr_Ën
);

77 
	}
}

	@/usr/include/bits/stat.h

18 #ià!
defšed
 
_SYS_STAT_H
 && !defšed 
_FCNTL_H


22 #iâdeà
_BITS_STAT_H


23 
	#_BITS_STAT_H
 1

	)

26 #iâdeà
__x86_64__


27 
	#_STAT_VER_LINUX_OLD
 1

	)

28 
	#_STAT_VER_KERNEL
 1

	)

29 
	#_STAT_VER_SVR4
 2

	)

30 
	#_STAT_VER_LINUX
 3

	)

33 
	#_MKNOD_VER_LINUX
 1

	)

34 
	#_MKNOD_VER_SVR4
 2

	)

35 
	#_MKNOD_VER
 
_MKNOD_VER_LINUX


	)

37 
	#_STAT_VER_KERNEL
 0

	)

38 
	#_STAT_VER_LINUX
 1

	)

41 
	#_MKNOD_VER_LINUX
 0

	)

44 
	#_STAT_VER
 
_STAT_VER_LINUX


	)

46 
	s¡©


48 
__dev_t
 
	m¡_dev
;

49 #iâdeà
__x86_64__


50 
	m__·d1
;

52 #ià
defšed
 
__x86_64__
 || !defšed 
__USE_FILE_OFFSET64


53 
__šo_t
 
	m¡_šo
;

55 
__šo_t
 
	m__¡_šo
;

57 #iâdeà
__x86_64__


58 
__mode_t
 
	m¡_mode
;

59 
__Æšk_t
 
	m¡_Æšk
;

61 
__Æšk_t
 
	m¡_Æšk
;

62 
__mode_t
 
	m¡_mode
;

64 
__uid_t
 
	m¡_uid
;

65 
__gid_t
 
	m¡_gid
;

66 #ifdeà
__x86_64__


67 
	m__·d0
;

69 
__dev_t
 
	m¡_rdev
;

70 #iâdeà
__x86_64__


71 
	m__·d2
;

73 #ià
defšed
 
__x86_64__
 || !defšed 
__USE_FILE_OFFSET64


74 
__off_t
 
	m¡_size
;

76 
__off64_t
 
	m¡_size
;

78 
__blksize_t
 
	m¡_blksize
;

79 #ià
defšed
 
__x86_64__
 || !defšed 
__USE_FILE_OFFSET64


80 
__blkút_t
 
	m¡_blocks
;

82 
__blkút64_t
 
	m¡_blocks
;

84 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K8


91 
time¥ec
 
	m¡_©im
;

92 
time¥ec
 
	m¡_mtim
;

93 
time¥ec
 
	m¡_ùim
;

94 
	#¡_©ime
 
¡_©im
.
tv_£c


	)

95 
	#¡_mtime
 
¡_mtim
.
tv_£c


	)

96 
	#¡_ùime
 
¡_ùim
.
tv_£c


	)

98 
__time_t
 
	m¡_©ime
;

99 
__sysÿÎ_ulÚg_t
 
	m¡_©im’£c
;

100 
__time_t
 
	m¡_mtime
;

101 
__sysÿÎ_ulÚg_t
 
	m¡_mtim’£c
;

102 
__time_t
 
	m¡_ùime
;

103 
__sysÿÎ_ulÚg_t
 
	m¡_ùim’£c
;

105 #ifdeà
__x86_64__


106 
__sysÿÎ_¦Úg_t
 
	m__glibc_»£rved
[3];

108 #iâdeà
__USE_FILE_OFFSET64


109 
	m__glibc_»£rved4
;

110 
	m__glibc_»£rved5
;

112 
__šo64_t
 
	m¡_šo
;

117 #ifdeà
__USE_LARGEFILE64


119 
	s¡©64


121 
__dev_t
 
	m¡_dev
;

122 #ifdeà
__x86_64__


123 
__šo64_t
 
	m¡_šo
;

124 
__Æšk_t
 
	m¡_Æšk
;

125 
__mode_t
 
	m¡_mode
;

127 
	m__·d1
;

128 
__šo_t
 
	m__¡_šo
;

129 
__mode_t
 
	m¡_mode
;

130 
__Æšk_t
 
	m¡_Æšk
;

132 
__uid_t
 
	m¡_uid
;

133 
__gid_t
 
	m¡_gid
;

134 #ifdeà
__x86_64__


135 
	m__·d0
;

136 
__dev_t
 
	m¡_rdev
;

137 
__off_t
 
	m¡_size
;

139 
__dev_t
 
	m¡_rdev
;

140 
	m__·d2
;

141 
__off64_t
 
	m¡_size
;

143 
__blksize_t
 
	m¡_blksize
;

144 
__blkút64_t
 
	m¡_blocks
;

145 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K8


152 
time¥ec
 
	m¡_©im
;

153 
time¥ec
 
	m¡_mtim
;

154 
time¥ec
 
	m¡_ùim
;

156 
__time_t
 
	m¡_©ime
;

157 
__sysÿÎ_ulÚg_t
 
	m¡_©im’£c
;

158 
__time_t
 
	m¡_mtime
;

159 
__sysÿÎ_ulÚg_t
 
	m¡_mtim’£c
;

160 
__time_t
 
	m¡_ùime
;

161 
__sysÿÎ_ulÚg_t
 
	m¡_ùim’£c
;

163 #ifdeà
__x86_64__


164 
__sysÿÎ_¦Úg_t
 
	m__glibc_»£rved
[3];

166 
__šo64_t
 
	m¡_šo
;

172 
	#_STATBUF_ST_BLKSIZE


	)

173 
	#_STATBUF_ST_RDEV


	)

175 
	#_STATBUF_ST_NSEC


	)

179 
	#__S_IFMT
 0170000

	)

182 
	#__S_IFDIR
 0040000

	)

183 
	#__S_IFCHR
 0020000

	)

184 
	#__S_IFBLK
 0060000

	)

185 
	#__S_IFREG
 0100000

	)

186 
	#__S_IFIFO
 0010000

	)

187 
	#__S_IFLNK
 0120000

	)

188 
	#__S_IFSOCK
 0140000

	)

192 
	#__S_TYPEISMQ
(
buf
è((buf)->
¡_mode
 - (buf)->¡_mode)

	)

193 
	#__S_TYPEISSEM
(
buf
è((buf)->
¡_mode
 - (buf)->¡_mode)

	)

194 
	#__S_TYPEISSHM
(
buf
è((buf)->
¡_mode
 - (buf)->¡_mode)

	)

198 
	#__S_ISUID
 04000

	)

199 
	#__S_ISGID
 02000

	)

200 
	#__S_ISVTX
 01000

	)

201 
	#__S_IREAD
 0400

	)

202 
	#__S_IWRITE
 0200

	)

203 
	#__S_IEXEC
 0100

	)

205 #ifdeà
__USE_ATFILE


206 
	#UTIME_NOW
 ((1È<< 30è- 1l)

	)

207 
	#UTIME_OMIT
 ((1È<< 30è- 2l)

	)

	@/usr/include/bits/statfs.h

18 #iâdeà
_SYS_STATFS_H


22 
	~<b™s/ty³s.h
>

24 
	s¡©fs


26 
__fswÜd_t
 
	mf_ty³
;

27 
__fswÜd_t
 
	mf_bsize
;

28 #iâdeà
__USE_FILE_OFFSET64


29 
__fsblkút_t
 
	mf_blocks
;

30 
__fsblkút_t
 
	mf_bä“
;

31 
__fsblkút_t
 
	mf_bava
;

32 
__fsfút_t
 
	mf_fes
;

33 
__fsfút_t
 
	mf_fä“
;

35 
__fsblkút64_t
 
	mf_blocks
;

36 
__fsblkút64_t
 
	mf_bä“
;

37 
__fsblkút64_t
 
	mf_bava
;

38 
__fsfút64_t
 
	mf_fes
;

39 
__fsfút64_t
 
	mf_fä“
;

41 
__fsid_t
 
	mf_fsid
;

42 
__fswÜd_t
 
	mf_Çm–’
;

43 
__fswÜd_t
 
	mf_äsize
;

44 
__fswÜd_t
 
	mf_æags
;

45 
__fswÜd_t
 
	mf_¥¬e
[4];

48 #ifdeà
__USE_LARGEFILE64


49 
	s¡©fs64


51 
__fswÜd_t
 
	mf_ty³
;

52 
__fswÜd_t
 
	mf_bsize
;

53 
__fsblkút64_t
 
	mf_blocks
;

54 
__fsblkút64_t
 
	mf_bä“
;

55 
__fsblkút64_t
 
	mf_bava
;

56 
__fsfút64_t
 
	mf_fes
;

57 
__fsfút64_t
 
	mf_fä“
;

58 
__fsid_t
 
	mf_fsid
;

59 
__fswÜd_t
 
	mf_Çm–’
;

60 
__fswÜd_t
 
	mf_äsize
;

61 
__fswÜd_t
 
	mf_æags
;

62 
__fswÜd_t
 
	mf_¥¬e
[4];

67 
	#_STATFS_F_NAMELEN


	)

68 
	#_STATFS_F_FRSIZE


	)

69 
	#_STATFS_F_FLAGS


	)

	@/usr/include/bits/statvfs.h

18 #iâdeà
_SYS_STATVFS_H


22 
	~<b™s/ty³s.h
>

24 #ià(
__WORDSIZE
 == 32 \

25 && (!
defšed
 
	g__SYSCALL_WORDSIZE
 || __SYSCALL_WORDSIZE == 32))

26 
	#_STATVFSBUF_F_UNUSED


	)

29 
	s¡©vfs


31 
f_bsize
;

32 
	mf_äsize
;

33 #iâdeà
__USE_FILE_OFFSET64


34 
__fsblkút_t
 
	mf_blocks
;

35 
__fsblkút_t
 
	mf_bä“
;

36 
__fsblkút_t
 
	mf_bava
;

37 
__fsfút_t
 
	mf_fes
;

38 
__fsfút_t
 
	mf_fä“
;

39 
__fsfút_t
 
	mf_çva
;

41 
__fsblkút64_t
 
	mf_blocks
;

42 
__fsblkút64_t
 
	mf_bä“
;

43 
__fsblkút64_t
 
	mf_bava
;

44 
__fsfút64_t
 
	mf_fes
;

45 
__fsfút64_t
 
	mf_fä“
;

46 
__fsfút64_t
 
	mf_çva
;

48 
	mf_fsid
;

49 #ifdeà
_STATVFSBUF_F_UNUSED


50 
	m__f_unu£d
;

52 
	mf_æag
;

53 
	mf_Çmemax
;

54 
	m__f_¥¬e
[6];

57 #ifdeà
__USE_LARGEFILE64


58 
	s¡©vfs64


60 
	mf_bsize
;

61 
	mf_äsize
;

62 
__fsblkút64_t
 
	mf_blocks
;

63 
__fsblkút64_t
 
	mf_bä“
;

64 
__fsblkút64_t
 
	mf_bava
;

65 
__fsfút64_t
 
	mf_fes
;

66 
__fsfút64_t
 
	mf_fä“
;

67 
__fsfút64_t
 
	mf_çva
;

68 
	mf_fsid
;

69 #ifdeà
_STATVFSBUF_F_UNUSED


70 
	m__f_unu£d
;

72 
	mf_æag
;

73 
	mf_Çmemax
;

74 
	m__f_¥¬e
[6];

82 
	mST_RDONLY
 = 1,

83 
	#ST_RDONLY
 
ST_RDONLY


	)

84 
	mST_NOSUID
 = 2

85 
	#ST_NOSUID
 
ST_NOSUID


	)

86 #ifdeà
__USE_GNU


88 
	mST_NODEV
 = 4,

89 
	#ST_NODEV
 
ST_NODEV


	)

90 
	mST_NOEXEC
 = 8,

91 
	#ST_NOEXEC
 
ST_NOEXEC


	)

92 
	mST_SYNCHRONOUS
 = 16,

93 
	#ST_SYNCHRONOUS
 
ST_SYNCHRONOUS


	)

94 
	mST_MANDLOCK
 = 64,

95 
	#ST_MANDLOCK
 
ST_MANDLOCK


	)

96 
	mST_WRITE
 = 128,

97 
	#ST_WRITE
 
ST_WRITE


	)

98 
	mST_APPEND
 = 256,

99 
	#ST_APPEND
 
ST_APPEND


	)

100 
	mST_IMMUTABLE
 = 512,

101 
	#ST_IMMUTABLE
 
ST_IMMUTABLE


	)

102 
	mST_NOATIME
 = 1024,

103 
	#ST_NOATIME
 
ST_NOATIME


	)

104 
	mST_NODIRATIME
 = 2048,

105 
	#ST_NODIRATIME
 
ST_NODIRATIME


	)

106 
	mST_RELATIME
 = 4096

107 
	#ST_RELATIME
 
ST_RELATIME


	)

	@/usr/include/bits/stdio-ldbl.h

19 #iâdeà
_STDIO_H


23 
__BEGIN_NAMESPACE_STD


24 
	$__LDBL_REDIR_DECL
 (
årštf
)

25 
	$__LDBL_REDIR_DECL
 (
´štf
)

26 
	$__LDBL_REDIR_DECL
 (
¥rštf
)

27 
	$__LDBL_REDIR_DECL
 (
vårštf
)

28 
	$__LDBL_REDIR_DECL
 (
v´štf
)

29 
	$__LDBL_REDIR_DECL
 (
v¥rštf
)

30 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

31 && !
defšed
 
__REDIRECT
 \

32 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

33 
	$__LDBL_REDIR1_DECL
 (
fsÿnf
, 
__Ædbl___isoc99_fsÿnf
)

34 
	$__LDBL_REDIR1_DECL
 (
sÿnf
, 
__Ædbl___isoc99_sÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
ssÿnf
, 
__Ædbl___isoc99_ssÿnf
)

37 
	$__LDBL_REDIR_DECL
 (
fsÿnf
)

38 
	$__LDBL_REDIR_DECL
 (
sÿnf
)

39 
	$__LDBL_REDIR_DECL
 (
ssÿnf
)

41 
__END_NAMESPACE_STD


43 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


44 
__BEGIN_NAMESPACE_C99


45 
	$__LDBL_REDIR_DECL
 (
¢´štf
)

46 
	$__LDBL_REDIR_DECL
 (
v¢´štf
)

47 
__END_NAMESPACE_C99


50 #ifdef 
__USE_ISOC99


51 
__BEGIN_NAMESPACE_C99


52 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

53 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

54 
	$__LDBL_REDIR1_DECL
 (
vfsÿnf
, 
__Ædbl___isoc99_vfsÿnf
)

55 
	$__LDBL_REDIR1_DECL
 (
vsÿnf
, 
__Ædbl___isoc99_vsÿnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vssÿnf
, 
__Ædbl___isoc99_vssÿnf
)

58 
	$__LDBL_REDIR_DECL
 (
vfsÿnf
)

59 
	$__LDBL_REDIR_DECL
 (
vssÿnf
)

60 
	$__LDBL_REDIR_DECL
 (
vsÿnf
)

62 
__END_NAMESPACE_C99


65 #ifdeà
__USE_XOPEN2K8


66 
	$__LDBL_REDIR_DECL
 (
vd´štf
)

67 
	$__LDBL_REDIR_DECL
 (
d´štf
)

70 #ifdeà
__USE_GNU


71 
	$__LDBL_REDIR_DECL
 (
va¥rštf
)

72 
	$__LDBL_REDIR_DECL
 (
__a¥rštf
)

73 
	$__LDBL_REDIR_DECL
 (
a¥rštf
)

74 
	$__LDBL_REDIR_DECL
 (
ob¡ack_´štf
)

75 
	$__LDBL_REDIR_DECL
 (
ob¡ack_v´štf
)

78 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


79 
	$__LDBL_REDIR_DECL
 (
__¥rštf_chk
)

80 
	$__LDBL_REDIR_DECL
 (
__v¥rštf_chk
)

81 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


82 
	$__LDBL_REDIR_DECL
 (
__¢´štf_chk
)

83 
	$__LDBL_REDIR_DECL
 (
__v¢´štf_chk
)

85 #ià
__USE_FORTIFY_LEVEL
 > 1

86 
	$__LDBL_REDIR_DECL
 (
__årštf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__´štf_chk
)

88 
	$__LDBL_REDIR_DECL
 (
__vårštf_chk
)

89 
	$__LDBL_REDIR_DECL
 (
__v´štf_chk
)

90 #ifdeà
__USE_XOPEN2K8


91 
	$__LDBL_REDIR_DECL
 (
__d´štf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd´štf_chk
)

94 #ifdeà
__USE_GNU


95 
	$__LDBL_REDIR_DECL
 (
__a¥rštf_chk
)

96 
	$__LDBL_REDIR_DECL
 (
__va¥rštf_chk
)

97 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_´štf_chk
)

98 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_v´štf_chk
)

	@/usr/include/bits/stdio.h

19 #iâdeà
_STDIO_H


23 #iâdeà
__ex‹º_šlše


24 
	#__STDIO_INLINE
 
šlše


	)

26 
	#__STDIO_INLINE
 
__ex‹º_šlše


	)

30 #ifdeà
__USE_EXTERN_INLINES


33 #ià!(
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
)

35 
__STDIO_INLINE
 

36 
	$v´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

38  
	`vårštf
 (
¡dout
, 
__fmt
, 
__¬g
);

39 
	}
}

43 
__STDIO_INLINE
 

44 
	$g‘ch¬
 ()

46  
	`_IO_g‘c
 (
¡dš
);

47 
	}
}

50 #ifdeà
__USE_MISC


52 
__STDIO_INLINE
 

53 
	$fg‘c_uÆocked
 (
FILE
 *
__å
)

55  
	`_IO_g‘c_uÆocked
 (
__å
);

56 
	}
}

60 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


62 
__STDIO_INLINE
 

63 
	$g‘c_uÆocked
 (
FILE
 *
__å
)

65  
	`_IO_g‘c_uÆocked
 (
__å
);

66 
	}
}

69 
__STDIO_INLINE
 

70 
	$g‘ch¬_uÆocked
 ()

72  
	`_IO_g‘c_uÆocked
 (
¡dš
);

73 
	}
}

78 
__STDIO_INLINE
 

79 
	$putch¬
 (
__c
)

81  
	`_IO_putc
 (
__c
, 
¡dout
);

82 
	}
}

85 #ifdeà
__USE_MISC


87 
__STDIO_INLINE
 

88 
	$åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

90  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

91 
	}
}

95 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


97 
__STDIO_INLINE
 

98 
	$putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

100  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

101 
	}
}

104 
__STDIO_INLINE
 

105 
	$putch¬_uÆocked
 (
__c
)

107  
	`_IO_putc_uÆocked
 (
__c
, 
¡dout
);

108 
	}
}

112 #ifdef 
__USE_GNU


114 
__STDIO_INLINE
 
_IO_ssize_t


115 
	$g‘lše
 (**
__lš•Œ
, 
size_t
 *
__n
, 
FILE
 *
__¡»am
)

117  
	`__g‘d–im
 (
__lš•Œ
, 
__n
, '\n', 
__¡»am
);

118 
	}
}

122 #ifdeà
__USE_MISC


124 
__STDIO_INLINE
 

125 
__NTH
 (
	$ãof_uÆocked
 (
FILE
 *
__¡»am
))

127  
	`_IO_ãof_uÆocked
 (
__¡»am
);

128 
	}
}

131 
__STDIO_INLINE
 

132 
__NTH
 (
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
))

134  
	`_IO_ã¼Ü_uÆocked
 (
__¡»am
);

135 
	}
}

141 #ià
defšed
 
__USE_MISC
 && defšed 
__GNUC__
 && defšed 
__OPTIMIZE__
 \

142 && !
defšed
 
	g__ılu¥lus


144 
	#ä—d_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

145 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

146 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

147 && (
size_t
è(
size
) != 0) \

148 ? ({ *
__±r
 = (*è(
±r
); \

149 
FILE
 *
__¡»am
 = (
¡»am
); \

150 
size_t
 
__út
; \

151 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

152 
__út
 > 0; --__cnt) \

154 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
); \

155 ià(
__c
 =ğ
EOF
) \

157 *
__±r
++ = 
__c
; \

159 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

160 / (
size_t
è(
size
); }) \

161 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

162 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

164 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

165 (è(
n
), (
size_t
) 0) \

166 : 
	`ä—d_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

168 
	#fwr™e_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

169 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

170 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

171 && (
size_t
è(
size
) != 0) \

172 ? ({ cÚ¡ *
__±r
 = (cÚ¡ *è(
±r
); \

173 
FILE
 *
__¡»am
 = (
¡»am
); \

174 
size_t
 
__út
; \

175 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

176 
__út
 > 0; --__cnt) \

177 ià(
	`_IO_putc_uÆocked
 (*
__±r
++, 
__¡»am
è=ğ
EOF
) \

179 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

180 / (
size_t
è(
size
); }) \

181 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

182 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

184 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

185 (è(
n
), (
size_t
) 0) \

186 : 
	`fwr™e_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

190 #undeà
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

19 #iâdeà
_STDIO_H


23 
	$__¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

24 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

25 
	$__v¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

26 cÚ¡ *
__»¡riù
 
__fÜm©
,

27 
_G_va_li¡
 
__­
è
__THROW
;

29 #ifdeà
__va_¬g_·ck


30 
__fÜtify_funùiÚ
 

31 
	`__NTH
 (
	$¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fmt
, ...))

33  
	`__butš___¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

34 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

35 
	}
}

36 #–ià!
defšed
 
__ılu¥lus


37 
	#¥rštf
(
¡r
, ...) \

38 
	`__butš___¥rštf_chk
 (
¡r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

39 
__VA_ARGS__
)

	)

42 
__fÜtify_funùiÚ
 

43 
__NTH
 (
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fmt
,

44 
_G_va_li¡
 
__­
))

46  
	`__butš___v¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

47 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

48 
	}
}

50 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


52 
	$__¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

53 
size_t
 
__¦’
, cÚ¡ *
__»¡riù
 
__fÜm©
,

54 ...è
__THROW
;

55 
	$__v¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

56 
size_t
 
__¦’
, cÚ¡ *
__»¡riù
 
__fÜm©
,

57 
_G_va_li¡
 
__­
è
__THROW
;

59 #ifdeà
__va_¬g_·ck


60 
__fÜtify_funùiÚ
 

61 
	`__NTH
 (
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

62 cÚ¡ *
__»¡riù
 
__fmt
, ...))

64  
	`__butš___¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

65 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

66 
	}
}

67 #–ià!
defšed
 
__ılu¥lus


68 
	#¢´štf
(
¡r
, 
Ën
, ...) \

69 
	`__butš___¢´štf_chk
 (
¡r
, 
Ën
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

70 
__VA_ARGS__
)

	)

73 
__fÜtify_funùiÚ
 

74 
__NTH
 (
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

75 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

77  
	`__butš___v¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

78 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

79 
	}
}

83 #ià
__USE_FORTIFY_LEVEL
 > 1

85 
__årštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

86 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

87 
__´štf_chk
 (
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

88 
__vårštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

89 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__­
);

90 
__v´štf_chk
 (
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
,

91 
_G_va_li¡
 
__­
);

93 #ifdeà
__va_¬g_·ck


94 
__fÜtify_funùiÚ
 

95 
	$årštf
 (
FILE
 *
__»¡riù
 
__¡»am
, cÚ¡ *__»¡riù 
__fmt
, ...)

97  
	`__årštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

98 
	`__va_¬g_·ck
 ());

99 
	}
}

101 
__fÜtify_funùiÚ
 

102 
	$´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, ...)

104  
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

105 
	}
}

106 #–ià!
defšed
 
__ılu¥lus


107 
	#´štf
(...) \

108 
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

109 
	#årštf
(
¡»am
, ...) \

110 
	`__årštf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

113 
__fÜtify_funùiÚ
 

114 
	$v´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

116 #ifdeà
__USE_EXTERN_INLINES


117  
	`__vårštf_chk
 (
¡dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

119  
	`__v´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

121 
	}
}

123 
__fÜtify_funùiÚ
 

124 
	$vårštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

125 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

127  
	`__vårštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

128 
	}
}

130 #ifdeà
__USE_XOPEN2K8


131 
	$__d´štf_chk
 (
__fd
, 
__æag
, cÚ¡ *
__»¡riù
 
__fmt
,

132 ...è
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

133 
	$__vd´štf_chk
 (
__fd
, 
__æag
,

134 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

135 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

137 #ifdeà
__va_¬g_·ck


138 
__fÜtify_funùiÚ
 

139 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

141  
	`__d´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

142 
	`__va_¬g_·ck
 ());

143 
	}
}

144 #–ià!
defšed
 
__ılu¥lus


145 
	#d´štf
(
fd
, ...) \

146 
	`__d´štf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

149 
__fÜtify_funùiÚ
 

150 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

152  
	`__vd´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

153 
	}
}

156 #ifdeà
__USE_GNU


158 
	$__a¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

159 cÚ¡ *
__»¡riù
 
__fmt
, ...)

160 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 4))è
__wur
;

161 
	$__va¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

162 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

163 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 0))è
__wur
;

164 
	$__ob¡ack_´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

165 
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
,

167 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

168 
	$__ob¡ack_v´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

169 
__æag
,

170 cÚ¡ *
__»¡riù
 
__fÜm©
,

171 
_G_va_li¡
 
__¬gs
)

172 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

174 #ifdeà
__va_¬g_·ck


175 
__fÜtify_funùiÚ
 

176 
	`__NTH
 (
	$a¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
, ...))

178  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

179 
	`__va_¬g_·ck
 ());

180 
	}
}

182 
__fÜtify_funùiÚ
 

183 
__NTH
 (
	$__a¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
,

186  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

187 
	`__va_¬g_·ck
 ());

188 
	}
}

190 
__fÜtify_funùiÚ
 

191 
__NTH
 (
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

192 cÚ¡ *
__»¡riù
 
__fmt
, ...))

194  
	`__ob¡ack_´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

195 
	`__va_¬g_·ck
 ());

196 
	}
}

197 #–ià!
defšed
 
__ılu¥lus


198 
	#a¥rštf
(
±r
, ...) \

199 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

200 
	#__a¥rštf
(
±r
, ...) \

201 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

202 
	#ob¡ack_´štf
(
ob¡ack
, ...) \

203 
	`__ob¡ack_´štf_chk
 (
ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

206 
__fÜtify_funùiÚ
 

207 
__NTH
 (
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
,

208 
_G_va_li¡
 
__­
))

210  
	`__va¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

211 
	}
}

213 
__fÜtify_funùiÚ
 

214 
__NTH
 (
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

215 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

217  
	`__ob¡ack_v´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

218 
__­
);

219 
	}
}

225 #ià!
defšed
 
__USE_ISOC11
 \

226 || (
defšed
 
	g__ılu¥lus
 && __ılu¥lu <ğ201103L && !defšed 
__USE_GNU
)

227 *
	$__g‘s_chk
 (*
__¡r
, 
size_t
è
__wur
;

228 *
	`__REDIRECT
 (
__g‘s_w¬n
, (*
__¡r
), 
g‘s
)

229 
__wur
 
	`__w¬Ç‰r
 ("please use fgets or getline instead, gets can't "

232 
__fÜtify_funùiÚ
 
__wur
 *

233 
	$g‘s
 (*
__¡r
)

235 ià(
	`__bos
 (
__¡r
è!ğ(
size_t
) -1)

236  
	`__g‘s_chk
 (
__¡r
, 
	`__bos
 (__str));

237  
	`__g‘s_w¬n
 (
__¡r
);

238 
	}
}

241 *
	$__fg‘s_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

242 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

243 *
	`__REDIRECT
 (
__fg‘s_®Ÿs
,

244 (*
__»¡riù
 
__s
, 
__n
,

245 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s
è
__wur
;

246 *
	`__REDIRECT
 (
__fg‘s_chk_w¬n
,

247 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

248 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_chk
)

249 
__wur
 
	`__w¬Ç‰r
 ("fgets called with bigger sizehan†ength "

252 
__fÜtify_funùiÚ
 
__wur
 *

253 
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

255 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

257 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

258  
	`__fg‘s_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

260 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

261  
	`__fg‘s_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

263  
	`__fg‘s_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

264 
	}
}

266 
size_t
 
	$__ä—d_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

267 
size_t
 
__size
, size_ˆ
__n
,

268 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

269 
size_t
 
	`__REDIRECT
 (
__ä—d_®Ÿs
,

270 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

271 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

272 
ä—d
è
__wur
;

273 
size_t
 
	`__REDIRECT
 (
__ä—d_chk_w¬n
,

274 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

275 
size_t
 
__size
, size_ˆ
__n
,

276 
FILE
 *
__»¡riù
 
__¡»am
),

277 
__ä—d_chk
)

278 
__wur
 
	`__w¬Ç‰r
 ("fread called with bigger size *‚membhan†ength "

281 
__fÜtify_funùiÚ
 
__wur
 
size_t


282 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

283 
FILE
 *
__»¡riù
 
__¡»am
)

285 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

287 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

288 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

289 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

290  
	`__ä—d_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

292 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

293  
	`__ä—d_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

295  
	`__ä—d_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

296 
	}
}

298 #ifdeà
__USE_GNU


299 *
	$__fg‘s_uÆocked_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
,

300 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

301 *
	`__REDIRECT
 (
__fg‘s_uÆocked_®Ÿs
,

302 (*
__»¡riù
 
__s
, 
__n
,

303 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s_uÆocked
è
__wur
;

304 *
	`__REDIRECT
 (
__fg‘s_uÆocked_chk_w¬n
,

305 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

306 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_uÆocked_chk
)

307 
__wur
 
	`__w¬Ç‰r
 ("fgets_unlocked called with bigger sizehan†ength "

310 
__fÜtify_funùiÚ
 
__wur
 *

311 
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

313 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

315 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

316  
	`__fg‘s_uÆocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

318 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

319  
	`__fg‘s_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

321  
	`__fg‘s_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

322 
	}
}

325 #ifdeà
__USE_MISC


326 #undeà
ä—d_uÆocked


327 
size_t
 
	$__ä—d_uÆocked_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

328 
size_t
 
__size
, size_ˆ
__n
,

329 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

330 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_®Ÿs
,

331 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

332 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

333 
ä—d_uÆocked
è
__wur
;

334 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_chk_w¬n
,

335 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

336 
size_t
 
__size
, size_ˆ
__n
,

337 
FILE
 *
__»¡riù
 
__¡»am
),

338 
__ä—d_uÆocked_chk
)

339 
__wur
 
	`__w¬Ç‰r
 ("fread_unlocked called with bigger size *‚membhan "

342 
__fÜtify_funùiÚ
 
__wur
 
size_t


343 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

344 
FILE
 *
__»¡riù
 
__¡»am
)

346 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

348 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

349 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

350 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

351  
	`__ä—d_uÆocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

352 
__¡»am
);

354 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

355  
	`__ä—d_uÆocked_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

356 
__¡»am
);

359 #ifdeà
__USE_EXTERN_INLINES


360 ià(
	`__butš_cÚ¡ªt_p
 (
__size
)

361 && 
	`__butš_cÚ¡ªt_p
 (
__n
)

362 && (
__size
 | 
__n
è< (((
size_t
) 1) << (8 *  (size_t) / 2))

363 && 
__size
 * 
__n
 <= 8)

365 
size_t
 
__út
 = 
__size
 * 
__n
;

366 *
__ıŒ
 = (*è
__±r
;

367 ià(
__út
 == 0)

370 ; 
__út
 > 0; --__cnt)

372 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
);

373 ià(
__c
 =ğ
EOF
)

375 *
__ıŒ
++ = 
__c
;

377  (
__ıŒ
 - (*è
__±r
è/ 
__size
;

380  
	`__ä—d_uÆocked_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

381 
	}
}

	@/usr/include/bits/stdio_lim.h

18 #ià!
defšed
 
_STDIO_H
 && !defšed 
__Ãed_FOPEN_MAX
 && !defšed 
__Ãed_IOV_MAX


22 #ifdeà
_STDIO_H


23 
	#L_tm²am
 20

	)

24 
	#TMP_MAX
 238328

	)

25 
	#FILENAME_MAX
 4096

	)

27 #ifdeà
__USE_POSIX


28 
	#L_ù”mid
 9

	)

29 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


30 
	#L_cu£rid
 9

	)

35 #ià
defšed
 
__Ãed_FOPEN_MAX
 || defšed 
_STDIO_H


36 #undeà
FOPEN_MAX


37 
	#FOPEN_MAX
 16

	)

40 #ià
defšed
 
__Ãed_IOV_MAX
 && !defšed 
IOV_MAX


41 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-bsearch.h

19 
__ex‹º_šlše
 *

20 
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

21 
__com·r_â_t
 
__com·r
)

23 
size_t
 
__l
, 
__u
, 
__idx
;

24 cÚ¡ *
__p
;

25 
__com·risÚ
;

27 
__l
 = 0;

28 
__u
 = 
__nmemb
;

29 
__l
 < 
__u
)

31 
__idx
 = (
__l
 + 
__u
) / 2;

32 
__p
 = (*è(((cÚ¡ *è
__ba£
è+ (
__idx
 * 
__size
));

33 
__com·risÚ
 = (*
__com·r
è(
__key
, 
__p
);

34 ià(
__com·risÚ
 < 0)

35 
__u
 = 
__idx
;

36 ià(
__com·risÚ
 > 0)

37 
__l
 = 
__idx
 + 1;

39  (*è
__p
;

42  
NULL
;

43 
	}
}

	@/usr/include/bits/stdlib-float.h

19 #iâdeà
_STDLIB_H


23 #ifdeà
__USE_EXTERN_INLINES


24 
__BEGIN_NAMESPACE_STD


25 
__ex‹º_šlše
 

26 
__NTH
 (
	$©of
 (cÚ¡ *
__ÅŒ
))

28  
	`¡¹od
 (
__ÅŒ
, (**è
NULL
);

29 
	}
}

30 
	g__END_NAMESPACE_STD


	@/usr/include/bits/stdlib-ldbl.h

19 #iâdeà
_STDLIB_H


23 #ifdef 
__USE_ISOC99


24 
__BEGIN_NAMESPACE_C99


25 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd
, 
¡¹od
)

26 
__END_NAMESPACE_C99


29 #ifdeà
__USE_GNU


30 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd_l
, 
¡¹od_l
)

33 #ifdeà
__USE_MISC


34 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

35 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

36 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

38 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

19 #iâdeà
_STDLIB_H


23 *
	$__»®·th_chk
 (cÚ¡ *
__»¡riù
 
__Çme
,

24 *
__»¡riù
 
__»sŞved
,

25 
size_t
 
__»sŞvedËn
è
__THROW
 
__wur
;

26 *
	`__REDIRECT_NTH
 (
__»®·th_®Ÿs
,

27 (cÚ¡ *
__»¡riù
 
__Çme
,

28 *
__»¡riù
 
__»sŞved
), 
»®·th
è
__wur
;

29 *
	`__REDIRECT_NTH
 (
__»®·th_chk_w¬n
,

30 (cÚ¡ *
__»¡riù
 
__Çme
,

31 *
__»¡riù
 
__»sŞved
,

32 
size_t
 
__»sŞvedËn
), 
__»®·th_chk
è
__wur


33 
	`__w¬Ç‰r
 ("second‡rgument of„ealpath must beƒither NULL or‡t "

36 
__fÜtify_funùiÚ
 
__wur
 *

37 
	`__NTH
 (
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
, *__»¡riù 
__»sŞved
))

39 ià(
	`__bos
 (
__»sŞved
è!ğ(
size_t
) -1)

41 #ià
defšed
 
_LIBC_LIMITS_H_
 && defšed 
PATH_MAX


42 ià(
	`__bos
 (
__»sŞved
è< 
PATH_MAX
)

43  
	`__»®·th_chk_w¬n
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

45  
	`__»®·th_chk
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

48  
	`__»®·th_®Ÿs
 (
__Çme
, 
__»sŞved
);

49 
	}
}

52 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

53 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

54 
	`__REDIRECT_NTH
 (
__±¢ame_r_®Ÿs
, (
__fd
, *
__buf
,

55 
size_t
 
__buæ’
), 
±¢ame_r
)

56 
	`__nÚnuÎ
 ((2));

57 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¬n
,

58 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

59 
size_t
 
__Ä—l
), 
__±¢ame_r_chk
)

60 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ptsname_r called with buflen biggerhan "

63 
__fÜtify_funùiÚ
 

64 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

66 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

68 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

69  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

70 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

71  
	`__±¢ame_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

73  
	`__±¢ame_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

74 
	}
}

77 
	$__wùomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
size_t
 
__buæ’
)

78 
__THROW
 
__wur
;

79 
	`__REDIRECT_NTH
 (
__wùomb_®Ÿs
, (*
__s
, 
wch¬_t
 
__wch¬
),

80 
wùomb
è
__wur
;

82 
__fÜtify_funùiÚ
 
__wur
 

83 
	`__NTH
 (
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
))

88 
	#__STDLIB_MB_LEN_MAX
 16

	)

89 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__STDLIB_MB_LEN_MAX


92 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

93  
	`__wùomb_chk
 (
__s
, 
__wch¬
, 
	`__bos
 (__s));

94  
	`__wùomb_®Ÿs
 (
__s
, 
__wch¬
);

95 
	}
}

98 
size_t
 
	$__mb¡owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

99 cÚ¡ *
__»¡riù
 
__¤c
,

100 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

101 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_®Ÿs
,

102 (
wch¬_t
 *
__»¡riù
 
__d¡
,

103 cÚ¡ *
__»¡riù
 
__¤c
,

104 
size_t
 
__Ën
), 
mb¡owcs
);

105 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_chk_w¬n
,

106 (
wch¬_t
 *
__»¡riù
 
__d¡
,

107 cÚ¡ *
__»¡riù
 
__¤c
,

108 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__mb¡owcs_chk
)

109 
	`__w¬Ç‰r
 ("mbstowcs called with dst buffer smallerhan†en "

112 
__fÜtify_funùiÚ
 
size_t


113 
	`__NTH
 (
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ *__»¡riù 
__¤c
,

114 
size_t
 
__Ën
))

116 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

118 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

119  
	`__mb¡owcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
,

120 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

122 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

123  
	`__mb¡owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
,

124 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

126  
	`__mb¡owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

127 
	}
}

130 
size_t
 
	$__wc¡ombs_chk
 (*
__»¡riù
 
__d¡
,

131 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

132 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

133 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_®Ÿs
,

134 (*
__»¡riù
 
__d¡
,

135 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

136 
size_t
 
__Ën
), 
wc¡ombs
);

137 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_chk_w¬n
,

138 (*
__»¡riù
 
__d¡
,

139 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

140 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__wc¡ombs_chk
)

141 
	`__w¬Ç‰r
 ("wcstombs called with dst buffer smallerhan†en");

143 
__fÜtify_funùiÚ
 
size_t


144 
	`__NTH
 (
	$wc¡ombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 *__»¡riù 
__¤c
,

145 
size_t
 
__Ën
))

147 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

149 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

150  
	`__wc¡ombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

151 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

152  
	`__wc¡ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

154  
	`__wc¡ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

155 
	}
}

	@/usr/include/bits/string.h

19 #iâdeà
_STRING_H


24 
	#_STRING_ARCH_uÇligÃd
 1

	)

28 #ià!
defšed
 
__x86_64__
 && (defšed 
__i486__
 || defšed 
__³Áium__
 \

29 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

30 || 
defšed
 
	g__nocÚa__
 || defšed 
	g__©om__
 \

31 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__cÜei7__
 \

32 || 
defšed
 
	g__k6__
 || defšed 
	g__geode__
 \

33 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

34 || 
defšed
 
	g__amdçm10__
)

38 #ià!
defšed
 
__NO_STRING_INLINES
 && defšed 
__USE_STRING_INLINES
 \

39 && 
defšed
 
	g__GNUC__
 && __GNUC__ >= 2

41 #iâdeà
__STRING_INLINE


42 #iâdeà
__ex‹º_šlše


43 
	#__STRING_INLINE
 
šlše


	)

45 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

50 
	#__STRING_SMALL_GET16
(
¤c
, 
idx
) \

51 ((((cÚ¡ *è(
¤c
))[
idx
 + 1] << 8) \

52 | ((cÚ¡ *è(
¤c
))[
idx
])

	)

53 
	#__STRING_SMALL_GET32
(
¤c
, 
idx
) \

54 (((((cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

55 | ((cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

56 | ((cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

57 | ((cÚ¡ *è(
¤c
))[
idx
])

	)

61 
	#_HAVE_STRING_ARCH_memıy
 1

	)

62 
	#memıy
(
de¡
, 
¤c
, 
n
) \

63 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

64 ? 
	`__memıy_c
 ((
de¡
), (
¤c
), (
n
)) \

65 : 
	`__memıy_g
 ((
de¡
), (
¤c
), (
n
))))

	)

66 
	#__memıy_c
(
de¡
, 
¤c
, 
n
) \

67 ((
n
) == 0 \

68 ? (
de¡
) \

69 : (((
n
) % 4 == 0) \

70 ? 
	`__memıy_by4
 (
de¡
, 
¤c
, 
n
) \

71 : (((
n
) % 2 == 0) \

72 ? 
	`__memıy_by2
 (
de¡
, 
¤c
, 
n
) \

73 : 
	`__memıy_g
 (
de¡
, 
¤c
, 
n
))))

	)

75 
__STRING_INLINE
 *
__memıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
,

76 
size_t
 
__n
);

78 
__STRING_INLINE
 *

79 
	$__memıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

81 
__d0
, 
__d1
;

82 *
__tmp
 = 
__de¡
;

83 
__asm__
 
__vŞ©e__


91 : "=&r" (
__d0
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

92 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
 / 4)

94  
__de¡
;

95 
	}
}

97 
__STRING_INLINE
 *
__memıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
,

98 
size_t
 
__n
);

100 
__STRING_INLINE
 *

101 
	$__memıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

103 
__d0
, 
__d1
;

104 *
__tmp
 = 
__de¡
;

105 
__asm__
 
__vŞ©e__


118 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

119 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
 / 2)

121  
__de¡
;

122 
	}
}

124 
__STRING_INLINE
 *
__memıy_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
);

126 
__STRING_INLINE
 *

127 
	$__memıy_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

129 
__d0
, 
__d1
, 
__d2
;

130 *
__tmp
 = 
__de¡
;

131 
__asm__
 
__vŞ©e__


142 : "=&c" (
__d0
), "=&D" (
__d1
), "=&S" (
__d2
),

143 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

144 : "0" (
__n
), "1" (
__tmp
), "2" (
__¤c
),

145 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
)

147  
__de¡
;

148 
	}
}

150 
	#_HAVE_STRING_ARCH_memmove
 1

	)

151 #iâdeà
_FORCE_INLINES


154 
	#memmove
(
de¡
, 
¤c
, 
n
è
	`__memmove_g
 (de¡, src,‚)

	)

156 
__STRING_INLINE
 *
	$__memmove_g
 (*, cÚ¡ *, 
size_t
)

157 
	`__asm__
 ("memmove");

159 
__STRING_INLINE
 *

160 
	$__memmove_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

162 
__d0
, 
__d1
, 
__d2
;

163 *
__tmp
 = 
__de¡
;

164 ià(
__de¡
 < 
__¤c
)

165 
__asm__
 
__vŞ©e__


168 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

169 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

170 : "0" (
__n
), "1" (
__¤c
), "2" (
__tmp
),

171 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
));

173 
__asm__
 
__vŞ©e__


177 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

178 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

179 : "0" (
__n
), "1" (__À- 1 + (cÚ¡ *è
__¤c
),

180 "2" (
__n
 - 1 + (*è
__tmp
),

181 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
));

182  
__de¡
;

183 
	}
}

187 
	#_HAVE_STRING_ARCH_memcmp
 1

	)

188 #iâdeà
_FORCE_INLINES


189 #iâdeà
__PIC__


191 
__STRING_INLINE
 

192 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

194 
__d0
, 
__d1
, 
__d2
;

195 
__»s
;

196 
__asm__
 
__vŞ©e__


204 : "=&a" (
__»s
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

205 : "0" (0), "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

206 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s1
),

207 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s2
)

209  
__»s
;

210 
	}
}

215 
	#_HAVE_STRING_ARCH_mem£t
 1

	)

216 
	#_USE_STRING_ARCH_mem£t
 1

	)

217 
	#mem£t
(
s
, 
c
, 
n
) \

218 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

219 ? ((
n
) == 1 \

220 ? 
	`__mem£t_c1
 ((
s
), (
c
)) \

221 : 
	`__mem£t_gc
 ((
s
), (
c
), (
n
))) \

222 : (
	`__butš_cÚ¡ªt_p
 (
c
) \

223 ? (
	`__butš_cÚ¡ªt_p
 (
n
) \

224 ? 
	`__mem£t_cú
 ((
s
), (
c
), (
n
)) \

225 : 
	`mem£t
 ((
s
), (
c
), (
n
))) \

226 : (
	`__butš_cÚ¡ªt_p
 (
n
) \

227 ? 
	`__mem£t_gú
 ((
s
), (
c
), (
n
)) \

228 : 
	`mem£t
 ((
s
), (
c
), (
n
))))))

	)

230 
	#__mem£t_c1
(
s
, 
c
è({ *
__s
 = (s); \

231 *((*è
__s
èğ(è(
c
); \

232 
__s
; })

	)

234 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

235 ({ *
__s
 = (
s
); \

237 
__ui
; \

238 
__usi
; \

239 
__uc
; \

240 } *
__u
 = 
__s
; \

241 
__c
 = ((è((è(
c
))) * 0x01010101; \

247 ià((
n
) == 3 || (n) >= 5) \

248 
__asm__
 
	`__vŞ©e__
 ("" : "ô" (
__c
) : "0" (__c)); \

251 
n
) \

254 
__u
->
__ui
 = 
__c
; \

255 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

257 
__u
->
__ui
 = 
__c
; \

258 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

260 
__u
->
__ui
 = 
__c
; \

261 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

263 
__u
->
__usi
 = (è
__c
; \

264 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

265 
__u
->
__uc
 = (è
__c
; \

269 
__u
->
__ui
 = 
__c
; \

270 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

272 
__u
->
__ui
 = 
__c
; \

273 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

275 
__u
->
__ui
 = 
__c
; \

276 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

278 
__u
->
__usi
 = (è
__c
; \

282 
__u
->
__ui
 = 
__c
; \

283 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

285 
__u
->
__ui
 = 
__c
; \

286 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

288 
__u
->
__ui
 = 
__c
; \

289 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

291 
__u
->
__uc
 = (è
__c
; \

295 
__u
->
__ui
 = 
__c
; \

296 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

298 
__u
->
__ui
 = 
__c
; \

299 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

301 
__u
->
__ui
 = 
__c
; \

302 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

304 
__u
->
__ui
 = 
__c
; \

309 
__s
; })

	)

311 
	#__mem£t_cú
(
s
, 
c
, 
n
) \

312 (((
n
) % 4 == 0) \

313 ? 
	`__mem£t_cú_by4
 (
s
, ((è((è(
c
))) * 0x01010101,\

314 
n
) \

315 : (((
n
) % 2 == 0) \

316 ? 
	`__mem£t_cú_by2
 (
s
, \

317 ((è((è(
c
))) * 0x01010101,\

318 
n
) \

319 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

321 
__STRING_INLINE
 *
__mem£t_cú_by4
 (*
__s
, 
__c
,

322 
size_t
 
__n
);

324 
__STRING_INLINE
 *

325 
	$__mem£t_cú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

327 *
__tmp
 = 
__s
;

328 
__d0
;

329 #ifdeà
__i686__


330 
__asm__
 
__vŞ©e__


333 : "=&a" (
__c
), "=&D" (
__tmp
), "=&c" (
__d0
),

334 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

335 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

338 
__asm__
 
__vŞ©e__


344 : "=&r" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

345 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

346 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

349  
__s
;

350 
	}
}

352 
__STRING_INLINE
 *
__mem£t_cú_by2
 (*
__s
, 
__c
,

353 
size_t
 
__n
);

355 
__STRING_INLINE
 *

356 
	$__mem£t_cú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

358 
__d0
, 
__d1
;

359 *
__tmp
 = 
__s
;

360 #ifdeà
__i686__


361 
__asm__
 
__vŞ©e__


365 : "=&a" (
__d0
), "=&D" (
__tmp
), "=&c" (
__d1
),

366 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

367 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

370 
__asm__
 
__vŞ©e__


376 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

377 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

378 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

381  
__s
;

382 
	}
}

384 
	#__mem£t_gú
(
s
, 
c
, 
n
) \

385 (((
n
) % 4 == 0) \

386 ? 
	`__mem£t_gú_by4
 (
s
, 
c
, 
n
) \

387 : (((
n
) % 2 == 0) \

388 ? 
	`__mem£t_gú_by2
 (
s
, 
c
, 
n
) \

389 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

391 
__STRING_INLINE
 *
__mem£t_gú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
);

393 
__STRING_INLINE
 *

394 
	$__mem£t_gú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

396 *
__tmp
 = 
__s
;

397 
__d0
;

398 
__asm__
 
__vŞ©e__


408 : "=&q" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

409 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

410 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

412  
__s
;

413 
	}
}

415 
__STRING_INLINE
 *
__mem£t_gú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
);

417 
__STRING_INLINE
 *

418 
	$__mem£t_gú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

420 
__d0
, 
__d1
;

421 *
__tmp
 = 
__s
;

422 
__asm__
 
__vŞ©e__


433 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

434 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

435 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

437  
__s
;

438 
	}
}

442 
	#_HAVE_STRING_ARCH_memchr
 1

	)

443 #iâdeà
_FORCE_INLINES


444 
__STRING_INLINE
 *

445 
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

447 
__d0
;

448 #ifdeà
__i686__


449 
__d1
;

451 *
__»s
;

452 ià(
__n
 == 0)

453  
NULL
;

454 #ifdeà
__i686__


455 
__asm__
 
__vŞ©e__


459 : "=D" (
__»s
), "=&c" (
__d0
), "=&r" (
__d1
)

460 : "a" (
__c
), "0" (
__s
), "1" (
__n
), "2" (1),

461 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

464 
__asm__
 
__vŞ©e__


470 : "=D" (
__»s
), "=&c" (
__d0
)

471 : "a" (
__c
), "0" (
__s
), "1" (
__n
),

472 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

475  
__»s
 - 1;

476 
	}
}

479 
	#_HAVE_STRING_ARCH_memrchr
 1

	)

480 #iâdeà
_FORCE_INLINES


481 
__STRING_INLINE
 *
__memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
);

483 
__STRING_INLINE
 *

484 
	$__memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

486 
__d0
;

487 #ifdeà
__i686__


488 
__d1
;

490 *
__»s
;

491 ià(
__n
 == 0)

492  
NULL
;

493 #ifdeà
__i686__


494 
__asm__
 
__vŞ©e__


500 : "=D" (
__»s
), "=&c" (
__d0
), "=&r" (
__d1
)

501 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n), "2" (-1),

502 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

505 
__asm__
 
__vŞ©e__


512 : "=D" (
__»s
), "=&c" (
__d0
)

513 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n),

514 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

517  
__»s
;

518 
	}
}

519 #ifdeà
__USE_GNU


520 
	#memrchr
(
s
, 
c
, 
n
è
	`__memrchr
 ((s), (c), (n))

	)

525 
	#_HAVE_STRING_ARCH_¿wmemchr
 1

	)

526 
__STRING_INLINE
 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

528 #iâdeà
_FORCE_INLINES


529 
__STRING_INLINE
 *

530 
	$__¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

532 
__d0
;

533 *
__»s
;

534 
__asm__
 
__vŞ©e__


537 : "=D" (
__»s
), "=&c" (
__d0
)

538 : "a" (
__c
), "0" (
__s
), "1" (0xffffffff),

539 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

541  
__»s
 - 1;

542 
	}
}

543 #ifdeà
__USE_GNU


544 
__STRING_INLINE
 *

545 
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

547  
	`__¿wmemchr
 (
__s
, 
__c
);

548 
	}
}

554 
	#_HAVE_STRING_ARCH_¡¾’
 1

	)

555 
	#¡¾’
(
¡r
) \

556 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¡r
) \

557 ? 
	`__butš_¡¾’
 (
¡r
) \

558 : 
	`__¡¾’_g
 (
¡r
)))

	)

559 
__STRING_INLINE
 
size_t
 
__¡¾’_g
 (cÚ¡ *
__¡r
);

561 
__STRING_INLINE
 
size_t


562 
	$__¡¾’_g
 (cÚ¡ *
__¡r
)

564 
__dummy
;

565 cÚ¡ *
__tmp
 = 
__¡r
;

566 
__asm__
 
__vŞ©e__


572 : "ô" (
__tmp
), "=&q" (
__dummy
)

573 : "0" (
__¡r
),

574 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¡r
)

576  
__tmp
 - 
__¡r
 - 1;

577 
	}
}

581 
	#_HAVE_STRING_ARCH_¡rıy
 1

	)

582 
	#¡rıy
(
de¡
, 
¤c
) \

583 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

584 ? ( ((
¤c
)[0]è=ğ1 && 
	`¡¾’
 (src) + 1 <= 8 \

585 ? 
	`__¡rıy_a_sm®l
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

586 : (*è
	`memıy
 ((*è(
de¡
), \

587 (cÚ¡ *è(
¤c
), \

588 
	`¡¾’
 (
¤c
) + 1)) \

589 : 
	`__¡rıy_g
 ((
de¡
), (
¤c
))))

	)

591 
	#__¡rıy_a_sm®l
(
de¡
, 
¤c
, 
¤ş’
) \

592 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

594 
__ui
; \

595 
__usi
; \

596 
__uc
; \

597 
__c
; \

598 } *
__u
 = (*è
__de¡
; \

599 
¤ş’
) \

602 
__u
->
__uc
 = '\0'; \

605 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

608 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

609 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

610 
__u
->
__uc
 = '\0'; \

613 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

616 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

617 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

618 
__u
->
__uc
 = '\0'; \

621 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

622 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

623 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

626 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

627 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

628 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

629 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

630 
__u
->
__uc
 = '\0'; \

633 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

634 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

635 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 4); \

638 (*è
__de¡
; }))

	)

640 
__STRING_INLINE
 *
__¡rıy_g
 (*
__de¡
, cÚ¡ *
__¤c
);

642 
__STRING_INLINE
 *

643 
	$__¡rıy_g
 (*
__de¡
, cÚ¡ *
__¤c
)

645 *
__tmp
 = 
__de¡
;

646 
__dummy
;

647 
__asm__
 
__vŞ©e__


656 : "=&r" (
__¤c
), "=&r" (
__tmp
), "=&q" (
__dummy
),

657 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

658 : "0" (
__¤c
), "1" (
__tmp
),

659 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

661  
__de¡
;

662 
	}
}

665 #ifdeà
__USE_GNU


666 
	#_HAVE_STRING_ARCH_¡pıy
 1

	)

668 
	#__¡pıy
(
de¡
, 
¤c
) \

669 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

670 ? (
	`¡¾’
 (
¤c
) + 1 <= 8 \

671 ? 
	`__¡pıy_a_sm®l
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

672 : 
	`__¡pıy_c
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1)) \

673 : 
	`__¡pıy_g
 ((
de¡
), (
¤c
))))

	)

674 
	#__¡pıy_c
(
de¡
, 
¤c
, 
¤ş’
) \

675 ((
¤ş’
) % 4 == 0 \

676 ? 
	`__mempıy_by4
 (
de¡
, 
¤c
, 
¤ş’
) - 1 \

677 : ((
¤ş’
) % 2 == 0 \

678 ? 
	`__mempıy_by2
 (
de¡
, 
¤c
, 
¤ş’
) - 1 \

679 : 
	`__mempıy_byn
 (
de¡
, 
¤c
, 
¤ş’
è- 1))

	)

682 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 ((de¡), (¤c))

	)

684 
	#__¡pıy_a_sm®l
(
de¡
, 
¤c
, 
¤ş’
) \

685 (
	`__ex‹nsiÚ__
 ({ union { \

686 
__ui
; \

687 
__usi
; \

688 
__uc
; \

689 
__c
; \

690 } *
__u
 = (*è(
de¡
); \

691 
¤ş’
) \

694 
__u
->
__uc
 = '\0'; \

697 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

698 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1); \

701 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

702 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

703 
__u
->
__uc
 = '\0'; \

706 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

707 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3); \

710 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

711 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

712 
__u
->
__uc
 = '\0'; \

715 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

716 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

717 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

718 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1); \

721 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

722 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

723 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

724 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

725 
__u
->
__uc
 = '\0'; \

728 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

729 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

730 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 4); \

731 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3); \

734 (*è
__u
; }))

	)

736 
__STRING_INLINE
 *
__mempıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
,

737 
size_t
 
__¤ş’
);

739 
__STRING_INLINE
 *

740 
	$__mempıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

742 *
__tmp
 = 
__de¡
;

743 
__d0
, 
__d1
;

744 
__asm__
 
__vŞ©e__


752 : "=&r" (
__d0
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

753 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 4)

755  
__tmp
;

756 
	}
}

758 
__STRING_INLINE
 *
__mempıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
,

759 
size_t
 
__¤ş’
);

761 
__STRING_INLINE
 *

762 
	$__mempıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

764 *
__tmp
 = 
__de¡
;

765 
__d0
, 
__d1
;

766 
__asm__
 
__vŞ©e__


779 : "=&q" (
__d0
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
),

780 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

781 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 2),

782 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

784  
__tmp
 + 2;

785 
	}
}

787 
__STRING_INLINE
 *
__mempıy_byn
 (*
__de¡
, cÚ¡ *
__¤c
,

788 
size_t
 
__¤ş’
);

790 
__STRING_INLINE
 *

791 
	$__mempıy_byn
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

793 
__d0
, 
__d1
;

794 *
__tmp
 = 
__de¡
;

795 
__asm__
 
__vŞ©e__


806 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

807 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

808 : "0" (
__tmp
), "1" (
__¤ş’
), "2" (
__¤c
),

809 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

811  
__tmp
;

812 
	}
}

814 
__STRING_INLINE
 *
__¡pıy_g
 (*
__de¡
, cÚ¡ *
__¤c
);

816 
__STRING_INLINE
 *

817 
	$__¡pıy_g
 (*
__de¡
, cÚ¡ *
__¤c
)

819 *
__tmp
 = 
__de¡
;

820 
__dummy
;

821 
__asm__
 
__vŞ©e__


830 : "=&r" (
__¤c
), "ô" (
__tmp
), "=&q" (
__dummy
),

831 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

832 : "0" (
__¤c
), "1" (
__tmp
),

833 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

835  
__tmp
 - 1;

836 
	}
}

841 
	#_HAVE_STRING_ARCH_¡ºıy
 1

	)

842 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

843 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

844 ? ((
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

845 ? (*è
	`memıy
 ((*è(
de¡
), \

846 (cÚ¡ *è(
¤c
), 
n
) \

847 : 
	`__¡ºıy_cg
 ((
de¡
), (
¤c
), 
	`¡¾’
 (¤cè+ 1, 
n
))) \

848 : 
	`__¡ºıy_gg
 ((
de¡
), (
¤c
), 
n
)))

	)

849 
	#__¡ºıy_cg
(
de¡
, 
¤c
, 
¤ş’
, 
n
) \

850 (((
¤ş’
) % 4 == 0) \

851 ? 
	`__¡ºıy_by4
 (
de¡
, 
¤c
, 
¤ş’
, 
n
) \

852 : (((
¤ş’
) % 2 == 0) \

853 ? 
	`__¡ºıy_by2
 (
de¡
, 
¤c
, 
¤ş’
, 
n
) \

854 : 
	`__¡ºıy_byn
 (
de¡
, 
¤c
, 
¤ş’
, 
n
)))

	)

856 
__STRING_INLINE
 *
__¡ºıy_by4
 (*
__de¡
, cÚ¡ 
__¤c
[],

857 
size_t
 
__¤ş’
, size_ˆ
__n
);

859 
__STRING_INLINE
 *

860 
	$__¡ºıy_by4
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

862 *
__tmp
 = 
__de¡
;

863 
__dummy1
, 
__dummy2
;

864 
__asm__
 
__vŞ©e__


872 : "=&r" (
__dummy1
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__dummy2
),

873 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

874 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 4),

875 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

877 (è
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__¤ş’
);

878  
__de¡
;

879 
	}
}

881 
__STRING_INLINE
 *
__¡ºıy_by2
 (*
__de¡
, cÚ¡ 
__¤c
[],

882 
size_t
 
__¤ş’
, size_ˆ
__n
);

884 
__STRING_INLINE
 *

885 
	$__¡ºıy_by2
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

887 *
__tmp
 = 
__de¡
;

888 
__dummy1
, 
__dummy2
;

889 
__asm__
 
__vŞ©e__


902 : "=&q" (
__dummy1
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__dummy2
),

903 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

904 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 2),

905 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

907 (è
	`mem£t
 (
__tmp
 + 2, '\0', 
__n
 - 
__¤ş’
);

908  
__de¡
;

909 
	}
}

911 
__STRING_INLINE
 *
__¡ºıy_byn
 (*
__de¡
, cÚ¡ 
__¤c
[],

912 
size_t
 
__¤ş’
, size_ˆ
__n
);

914 
__STRING_INLINE
 *

915 
	$__¡ºıy_byn
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

917 
__d0
, 
__d1
;

918 *
__tmp
 = 
__de¡
;

919 
__asm__
 
__vŞ©e__


930 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

931 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

932 : "1" (
__¤ş’
), "0" (
__tmp
),"2" (
__¤c
),

933 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

935 (è
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__¤ş’
);

936  
__de¡
;

937 
	}
}

939 
__STRING_INLINE
 *
__¡ºıy_gg
 (*
__de¡
, cÚ¡ *
__¤c
,

940 
size_t
 
__n
);

942 
__STRING_INLINE
 *

943 
	$__¡ºıy_gg
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

945 *
__tmp
 = 
__de¡
;

946 
__dummy
;

947 ià(
__n
 > 0)

948 
__asm__
 
__vŞ©e__


964 : "=&r" (
__¤c
), "=&r" (
__tmp
), "=&q" (
__dummy
), "=&r" (
__n
)

965 : "0" (
__¤c
), "1" (
__tmp
), "3" (
__n
)

968  
__de¡
;

969 
	}
}

973 
	#_HAVE_STRING_ARCH_¡rÿt
 1

	)

974 
	#¡rÿt
(
de¡
, 
¤c
) \

975 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

976 ? 
	`__¡rÿt_c
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

977 : 
	`__¡rÿt_g
 ((
de¡
), (
¤c
))))

	)

979 
__STRING_INLINE
 *
__¡rÿt_c
 (*
__de¡
, cÚ¡ 
__¤c
[],

980 
size_t
 
__¤ş’
);

982 
__STRING_INLINE
 *

983 
	$__¡rÿt_c
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
)

985 #ifdeà
__i686__


986 
__d0
;

987 *
__tmp
;

988 
__asm__
 
__vŞ©e__


990 : "=D" (
__tmp
), "=&c" (
__d0
),

991 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

992 : "0" (
__de¡
), "1" (0xffffffff), "a" (0),

993 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

995 --
__tmp
;

997 *
__tmp
 = 
__de¡
 - 1;

998 
__asm__
 
__vŞ©e__


1003 : "ô" (
__tmp
),

1004 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

1005 : "0" (
__tmp
),

1006 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

1009 (è
	`memıy
 (
__tmp
, 
__¤c
, 
__¤ş’
);

1010  
__de¡
;

1011 
	}
}

1013 
__STRING_INLINE
 *
__¡rÿt_g
 (*
__de¡
, cÚ¡ *
__¤c
);

1015 
__STRING_INLINE
 *

1016 
	$__¡rÿt_g
 (*
__de¡
, cÚ¡ *
__¤c
)

1018 *
__tmp
 = 
__de¡
 - 1;

1019 
__dummy
;

1020 
__asm__
 
__vŞ©e__


1032 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__¤c
),

1033 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

1034 : "1" (
__tmp
), "2" (
__¤c
),

1035 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

1037  
__de¡
;

1038 
	}
}

1042 
	#_HAVE_STRING_ARCH_¡ºÿt
 1

	)

1043 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

1044 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

1045 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

1046 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

1047 ? 
	`¡rÿt
 (
__de¡
, (
¤c
)) \

1048 : (*(*)
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

1049 (cÚ¡ *è(
¤c
), \

1050 (
n
)èğ0, 
__de¡
)) \

1051 : 
	`__¡ºÿt_g
 (
__de¡
, (
¤c
), (
n
)); }))

	)

1053 
__STRING_INLINE
 *
__¡ºÿt_g
 (*
__de¡
, cÚ¡ 
__¤c
[],

1054 
size_t
 
__n
);

1056 
__STRING_INLINE
 *

1057 
	$__¡ºÿt_g
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__n
)

1059 *
__tmp
 = 
__de¡
;

1060 
__dummy
;

1061 #ifdeà
__i686__


1062 
__asm__
 
__vŞ©e__


1076 : "=&a" (
__dummy
), "=&D" (
__tmp
), "=&S" (
__¤c
), "=&c" (
__n
)

1077 : "g" (
__n
), "0" (0), "1" (
__tmp
), "2" (
__¤c
), "3" (0xffffffff)

1080 --
__tmp
;

1081 
__asm__
 
__vŞ©e__


1098 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__n
)

1099 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
)

1102  
__de¡
;

1103 
	}
}

1107 
	#_HAVE_STRING_ARCH_¡rcmp
 1

	)

1108 
	#¡rcmp
(
s1
, 
s2
) \

1109 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

1110 && ( ((
s1
)[0]è!ğ1 || 
	`¡¾’
 (s1) >= 4) \

1111 && ( ((
s2
)[0]è!ğ1 || 
	`¡¾’
 (s2) >= 4) \

1112 ? 
	`memcmp
 ((cÚ¡ *è(
s1
), (cÚ¡ *è(
s2
), \

1113 (
	`¡¾’
 (
s1
è< sŒËÀ(
s2
) \

1114 ? 
	`¡¾’
 (
s1
è: sŒËÀ(
s2
)) + 1) \

1115 : (
	`__butš_cÚ¡ªt_p
 (
s1
) &&  ((s1)[0]) == 1 \

1116 &&  ((
s2
)[0]è=ğ1 && 
	`¡¾’
 (
s1
) < 4 \

1117 ? (
	`__butš_cÚ¡ªt_p
 (
s2
) &&  ((s2)[0]) == 1 \

1118 ? 
	`__¡rcmp_cc
 ((cÚ¡ *è(
s1
), \

1119 (cÚ¡ *è(
s2
), \

1120 
	`¡¾’
 (
s1
)) \

1121 : 
	`__¡rcmp_cg
 ((cÚ¡ *è(
s1
), \

1122 (cÚ¡ *è(
s2
), \

1123 
	`¡¾’
 (
s1
))) \

1124 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&&  ((
s1
)[0]) == 1 \

1125 &&  ((
s2
)[0]è=ğ1 && 
	`¡¾’
 (s2) < 4 \

1126 ? (
	`__butš_cÚ¡ªt_p
 (
s1
) \

1127 ? 
	`__¡rcmp_cc
 ((cÚ¡ *è(
s1
), \

1128 (cÚ¡ *è(
s2
), \

1129 
	`¡¾’
 (
s2
)) \

1130 : 
	`__¡rcmp_gc
 ((cÚ¡ *è(
s1
), \

1131 (cÚ¡ *è(
s2
), \

1132 
	`¡¾’
 (
s2
))) \

1133 : 
	`__¡rcmp_gg
 ((
s1
), (
s2
))))))

	)

1135 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

1136 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = (
s1
)[0] - (
s2
)[0]; \

1137 ià(
l
 > 0 && 
__»suÉ
 == 0) \

1139 
__»suÉ
 = (
s1
)[1] - (
s2
)[1]; \

1140 ià(
l
 > 1 && 
__»suÉ
 == 0) \

1142 
__»suÉ
 = (
s1
)[2] - (
s2
)[2]; \

1143 ià(
l
 > 2 && 
__»suÉ
 == 0) \

1144 
__»suÉ
 = (
s1
)[3] - (
s2
)[3]; \

1147 
__»suÉ
; }))

	)

1149 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

1150 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s2
 = (
s2
); \

1151 
__»suÉ
 = (
s1
)[0] - 
__s2
[0]; \

1152 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

1154 
__»suÉ
 = (
s1
)[1] - 
__s2
[1]; \

1155 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

1157 
__»suÉ
 = (
s1
)[2] - 
__s2
[2]; \

1158 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

1159 
__»suÉ
 = (
s1
)[3] - 
__s2
[3]; \

1162 
__»suÉ
; }))

	)

1164 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
) \

1165 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s1
 = (
s1
); \

1166 
__»suÉ
 = 
__s1
[0] - (
s2
)[0]; \

1167 ià(
l2
 > 0 && 
__»suÉ
 == 0) \

1169 
__»suÉ
 = 
__s1
[1] - (
s2
)[1]; \

1170 ià(
l2
 > 1 && 
__»suÉ
 == 0) \

1172 
__»suÉ
 = 
__s1
[2] - (
s2
)[2]; \

1173 ià(
l2
 > 2 && 
__»suÉ
 == 0) \

1174 
__»suÉ
 = 
__s1
[3] - (
s2
)[3]; \

1177 
__»suÉ
; }))

	)

1179 
__STRING_INLINE
 
__¡rcmp_gg
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
);

1181 
__STRING_INLINE
 

1182 
	$__¡rcmp_gg
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

1184 
__»s
;

1185 
__asm__
 
__vŞ©e__


1201 : "=q" (
__»s
), "=&r" (
__s1
), "=&r" (
__s2
)

1202 : "1" (
__s1
), "2" (
__s2
),

1203 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s1
),

1204 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s2
)

1206  
__»s
;

1207 
	}
}

1211 
	#_HAVE_STRING_ARCH_¡ºcmp
 1

	)

1212 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

1213 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`¡¾’
 (s1è< ((
size_t
è(
n
)) \

1214 ? 
	`¡rcmp
 ((
s1
), (
s2
)) \

1215 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`¡¾’
 (s2è< ((
size_t
è(
n
))\

1216 ? 
	`¡rcmp
 ((
s1
), (
s2
)) \

1217 : 
	`__¡ºcmp_g
 ((
s1
), (
s2
), (
n
)))))

	)

1219 
__STRING_INLINE
 
__¡ºcmp_g
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

1220 
size_t
 
__n
);

1222 
__STRING_INLINE
 

1223 
	$__¡ºcmp_g
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

1225 
__»s
;

1226 
__asm__
 
__vŞ©e__


1245 : "=q" (
__»s
), "=&r" (
__s1
), "=&r" (
__s2
), "=&r" (
__n
)

1246 : "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

1247 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s1
),

1248 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s2
)

1250  
__»s
;

1251 
	}
}

1255 
	#_HAVE_STRING_ARCH_¡rchr
 1

	)

1256 
	#_USE_STRING_ARCH_¡rchr
 1

	)

1257 
	#¡rchr
(
s
, 
c
) \

1258 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1259 ? ((
c
) == '\0' \

1260 ? (*è
	`__¿wmemchr
 ((
s
), (
c
)) \

1261 : 
	`__¡rchr_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1262 : 
	`__¡rchr_g
 ((
s
), (
c
))))

	)

1264 
__STRING_INLINE
 *
__¡rchr_c
 (cÚ¡ *
__s
, 
__c
);

1266 
__STRING_INLINE
 *

1267 
	$__¡rchr_c
 (cÚ¡ *
__s
, 
__c
)

1269 
__d0
;

1270 *
__»s
;

1271 
__asm__
 
__vŞ©e__


1281 : "ô" (
__»s
), "=&a" (
__d0
)

1282 : "0" (
__s
), "1" (
__c
),

1283 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1285  
__»s
;

1286 
	}
}

1288 
__STRING_INLINE
 *
__¡rchr_g
 (cÚ¡ *
__s
, 
__c
);

1290 
__STRING_INLINE
 *

1291 
	$__¡rchr_g
 (cÚ¡ *
__s
, 
__c
)

1293 
__d0
;

1294 *
__»s
;

1295 
__asm__
 
__vŞ©e__


1306 : "ô" (
__»s
), "=&a" (
__d0
)

1307 : "0" (
__s
), "1" (
__c
),

1308 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1310  
__»s
;

1311 
	}
}

1315 
	#_HAVE_STRING_ARCH_¡rchºul
 1

	)

1316 
	#__¡rchºul
(
s
, 
c
) \

1317 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1318 ? ((
c
) == '\0' \

1319 ? (*è
	`__¿wmemchr
 ((
s
), 
c
) \

1320 : 
	`__¡rchºul_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1321 : 
	`__¡rchºul_g
 ((
s
), 
c
)))

	)

1323 
__STRING_INLINE
 *
__¡rchºul_c
 (cÚ¡ *
__s
, 
__c
);

1325 
__STRING_INLINE
 *

1326 
	$__¡rchºul_c
 (cÚ¡ *
__s
, 
__c
)

1328 
__d0
;

1329 *
__»s
;

1330 
__asm__
 
__vŞ©e__


1340 : "ô" (
__»s
), "=&a" (
__d0
)

1341 : "0" (
__s
), "1" (
__c
),

1342 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1344  
__»s
;

1345 
	}
}

1347 
__STRING_INLINE
 *
__¡rchºul_g
 (cÚ¡ *
__s
, 
__c
);

1349 
__STRING_INLINE
 *

1350 
	$__¡rchºul_g
 (cÚ¡ *
__s
, 
__c
)

1352 
__d0
;

1353 *
__»s
;

1354 
__asm__
 
__vŞ©e__


1365 : "ô" (
__»s
), "=&a" (
__d0
)

1366 : "0" (
__s
), "1" (
__c
),

1367 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1369  
__»s
;

1370 
	}
}

1371 #ifdeà
__USE_GNU


1372 
	#¡rchºul
(
s
, 
c
è
	`__¡rchºul
 ((s), (c))

	)

1376 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1378 
	#_HAVE_STRING_ARCH_šdex
 1

	)

1379 
	#šdex
(
s
, 
c
) \

1380 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1381 ? 
	`__¡rchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1382 : 
	`__¡rchr_g
 ((
s
), (
c
))))

	)

1387 
	#_HAVE_STRING_ARCH_¡¼chr
 1

	)

1388 
	#¡¼chr
(
s
, 
c
) \

1389 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1390 ? 
	`__¡¼chr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1391 : 
	`__¡¼chr_g
 ((
s
), (
c
))))

	)

1393 #ifdeà
__i686__


1394 
__STRING_INLINE
 *
__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
);

1396 
__STRING_INLINE
 *

1397 
	$__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
)

1399 
__d0
, 
__d1
;

1400 *
__»s
;

1401 
__asm__
 
__vŞ©e__


1409 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1410 : "0" (1), "1" (
__s
), "2" (
__c
),

1411 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1413  
__»s
 - 1;

1414 
	}
}

1416 
__STRING_INLINE
 *
__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
);

1418 
__STRING_INLINE
 *

1419 
	$__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
)

1421 
__d0
, 
__d1
;

1422 *
__»s
;

1423 
__asm__
 
__vŞ©e__


1432 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1433 : "0" (1), "1" (
__s
), "2" (
__c
),

1434 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1436  
__»s
 - 1;

1437 
	}
}

1439 
__STRING_INLINE
 *
__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
);

1441 
__STRING_INLINE
 *

1442 
	$__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
)

1444 
__d0
, 
__d1
;

1445 *
__»s
;

1446 
__asm__
 
__vŞ©e__


1456 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1457 : "0" (0), "1" (
__s
), "2" (
__c
),

1458 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1460  
__»s
;

1461 
	}
}

1463 
__STRING_INLINE
 *
__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
);

1465 
__STRING_INLINE
 *

1466 
	$__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
)

1468 
__d0
, 
__d1
;

1469 *
__»s
;

1470 
__asm__
 
__vŞ©e__


1481 : "ô" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1482 : "0" (0), "1" (
__s
), "2" (
__c
),

1483 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1485  
__»s
;

1486 
	}
}

1490 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1492 
	#_HAVE_STRING_ARCH_ršdex
 1

	)

1493 
	#ršdex
(
s
, 
c
) \

1494 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1495 ? 
	`__¡¼chr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1496 : 
	`__¡¼chr_g
 ((
s
), (
c
))))

	)

1502 
	#_HAVE_STRING_ARCH_¡rc¥n
 1

	)

1503 
	#¡rc¥n
(
s
, 
»jeù
) \

1504 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
»jeù
) &&  ((reject)[0]) == 1 \

1505 ? ((
»jeù
)[0] == '\0' \

1506 ? 
	`¡¾’
 (
s
) \

1507 : ((
»jeù
)[1] == '\0' \

1508 ? 
	`__¡rc¥n_c1
 ((
s
), (((
»jeù
)[0] << 8) & 0xff00)) \

1509 : 
	`__¡rc¥n_cg
 ((
s
), (
»jeù
), 
	`¡¾’
 (reject)))) \

1510 : 
	`__¡rc¥n_g
 ((
s
), (
»jeù
))))

	)

1512 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
);

1514 #iâdeà
_FORCE_INLINES


1515 
__STRING_INLINE
 
size_t


1516 
	$__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
)

1518 
__d0
;

1519 *
__»s
;

1520 
__asm__
 
__vŞ©e__


1529 : "ô" (
__»s
), "=&a" (
__d0
)

1530 : "0" (
__s
), "1" (
__»jeù
),

1531 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1533  (
__»s
 - 1è- 
__s
;

1534 
	}
}

1537 
__STRING_INLINE
 
size_t
 
__¡rc¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__»jeù
[],

1538 
size_t
 
__»jeù_Ën
);

1540 
__STRING_INLINE
 
size_t


1541 
	$__¡rc¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__»jeù
[], 
size_t
 
__»jeù_Ën
)

1543 
__d0
, 
__d1
, 
__d2
;

1544 cÚ¡ *
__»s
;

1545 
__asm__
 
__vŞ©e__


1556 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1557 : "0" (
__s
), "d" (
__»jeù
), "g" (
__»jeù_Ën
)

1559  (
__»s
 - 1è- 
__s
;

1560 
	}
}

1562 
__STRING_INLINE
 
size_t
 
__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
);

1563 #ifdeà
__PIC__


1565 
__STRING_INLINE
 
size_t


1566 
	$__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

1568 
__d0
, 
__d1
, 
__d2
;

1569 cÚ¡ *
__»s
;

1570 
__asm__
 
__vŞ©e__


1587 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1588 : "r" (
__»jeù
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1590  (
__»s
 - 1è- 
__s
;

1591 
	}
}

1593 
__STRING_INLINE
 
size_t


1594 
	$__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

1596 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1597 cÚ¡ *
__»s
;

1598 
__asm__
 
__vŞ©e__


1612 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1613 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__»jeù
), "b" (__reject)

1616  (
__»s
 - 1è- 
__s
;

1617 
	}
}

1623 
	#_HAVE_STRING_ARCH_¡r¥n
 1

	)

1624 
	#¡r¥n
(
s
, 
acû±
) \

1625 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
acû±
) &&  ((accept)[0]) == 1 \

1626 ? ((
acû±
)[0] == '\0' \

1627 ? ((è(
s
), 0) \

1628 : ((
acû±
)[1] == '\0' \

1629 ? 
	`__¡r¥n_c1
 ((
s
), (((
acû±
)[0] << 8 ) & 0xff00)) \

1630 : 
	`__¡r¥n_cg
 ((
s
), (
acû±
), 
	`¡¾’
 (accept)))) \

1631 : 
	`__¡r¥n_g
 ((
s
), (
acû±
))))

	)

1633 #iâdeà
_FORCE_INLINES


1634 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
);

1636 
__STRING_INLINE
 
size_t


1637 
	$__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
)

1639 
__d0
;

1640 *
__»s
;

1642 
__asm__
 
__vŞ©e__


1648 : "ô" (
__»s
), "=&q" (
__d0
)

1649 : "0" (
__s
), "1" (
__acû±
),

1650 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1652  (
__»s
 - 1è- 
__s
;

1653 
	}
}

1656 
__STRING_INLINE
 
size_t
 
__¡r¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[],

1657 
size_t
 
__acû±_Ën
);

1659 
__STRING_INLINE
 
size_t


1660 
	$__¡r¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[], 
size_t
 
__acû±_Ën
)

1662 
__d0
, 
__d1
, 
__d2
;

1663 cÚ¡ *
__»s
;

1664 
__asm__
 
__vŞ©e__


1675 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1676 : "0" (
__s
), "g" (
__acû±
), "g" (
__acû±_Ën
),

1679 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
),

1680 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__acû±_Ën
]; } *)
__acû±
)

1682  (
__»s
 - 1è- 
__s
;

1683 
	}
}

1685 
__STRING_INLINE
 
size_t
 
__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
);

1686 #ifdeà
__PIC__


1688 
__STRING_INLINE
 
size_t


1689 
	$__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1691 
__d0
, 
__d1
, 
__d2
;

1692 cÚ¡ *
__»s
;

1693 
__asm__
 
__vŞ©e__


1709 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1710 : "d" (
__acû±
), "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (__accept)

1712  (
__»s
 - 1è- 
__s
;

1713 
	}
}

1715 
__STRING_INLINE
 
size_t


1716 
	$__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1718 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1719 cÚ¡ *
__»s
;

1720 
__asm__
 
__vŞ©e__


1734 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1735 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__acû±
), "b" (__accept)

1737  (
__»s
 - 1è- 
__s
;

1738 
	}
}

1743 
	#_HAVE_STRING_ARCH_¡½brk
 1

	)

1744 
	#¡½brk
(
s
, 
acû±
) \

1745 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
acû±
) &&  ((accept)[0]) == 1 \

1746 ? ((
acû±
)[0] == '\0' \

1747 ? ((è(
s
), (*) 0) \

1748 : ((
acû±
)[1] == '\0' \

1749 ? 
	`¡rchr
 ((
s
), (
acû±
)[0]) \

1750 : 
	`__¡½brk_cg
 ((
s
), (
acû±
), 
	`¡¾’
 (accept)))) \

1751 : 
	`__¡½brk_g
 ((
s
), (
acû±
))))

	)

1753 
__STRING_INLINE
 *
__¡½brk_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[],

1754 
size_t
 
__acû±_Ën
);

1756 
__STRING_INLINE
 *

1757 
	$__¡½brk_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[], 
size_t
 
__acû±_Ën
)

1759 
__d0
, 
__d1
, 
__d2
;

1760 *
__»s
;

1761 
__asm__
 
__vŞ©e__


1776 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1777 : "0" (
__s
), "d" (
__acû±
), "g" (
__acû±_Ën
)

1779  
__»s
;

1780 
	}
}

1782 
__STRING_INLINE
 *
__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
);

1783 #ifdeà
__PIC__


1785 
__STRING_INLINE
 *

1786 
	$__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1788 
__d0
, 
__d1
, 
__d2
;

1789 *
__»s
;

1790 
__asm__
 
__vŞ©e__


1811 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1812 : "d" (
__acû±
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1814  
__»s
;

1815 
	}
}

1817 
__STRING_INLINE
 *

1818 
	$__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1820 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1821 *
__»s
;

1822 
__asm__
 
__vŞ©e__


1841 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&d" (
__d2
), "=&D" (
__d3
)

1842 : "0" (
__s
), "1" (0), "2" (0xffffffff), "b" (
__acû±
)

1844  
__»s
;

1845 
	}
}

1850 
	#_HAVE_STRING_ARCH_¡r¡r
 1

	)

1851 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1852 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
) &&  ((needle)[0]) == 1 \

1853 ? ((
ÃedË
)[0] == '\0' \

1854 ? (
hay¡ack
) \

1855 : ((
ÃedË
)[1] == '\0' \

1856 ? 
	`¡rchr
 ((
hay¡ack
), (
ÃedË
)[0]) \

1857 : 
	`__¡r¡r_cg
 ((
hay¡ack
), (
ÃedË
), \

1858 
	`¡¾’
 (
ÃedË
)))) \

1859 : 
	`__¡r¡r_g
 ((
hay¡ack
), (
ÃedË
))))

	)

1863 
__STRING_INLINE
 *
__¡r¡r_cg
 (cÚ¡ *
__hay¡ack
,

1864 cÚ¡ 
__ÃedË
[],

1865 
size_t
 
__ÃedË_Ën
);

1867 
__STRING_INLINE
 *

1868 
	$__¡r¡r_cg
 (cÚ¡ *
__hay¡ack
, cÚ¡ 
__ÃedË
[],

1869 
size_t
 
__ÃedË_Ën
)

1871 
__d0
, 
__d1
, 
__d2
;

1872 *
__»s
;

1873 
__asm__
 
__vŞ©e__


1886 : "=&a" (
__»s
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

1887 : "g" (
__ÃedË_Ën
), "1" (
__hay¡ack
), "d" (
__ÃedË
)

1889  
__»s
;

1890 
	}
}

1892 
__STRING_INLINE
 *
__¡r¡r_g
 (cÚ¡ *
__hay¡ack
,

1893 cÚ¡ *
__ÃedË
);

1894 #ifdeà
__PIC__


1896 
__STRING_INLINE
 *

1897 
	$__¡r¡r_g
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

1899 
__d0
, 
__d1
, 
__d2
;

1900 *
__»s
;

1901 
__asm__
 
__vŞ©e__


1920 : "=&a" (
__»s
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
)

1921 : "0" (0), "1" (0xffffffff), "2" (
__hay¡ack
), "3" (
__ÃedË
),

1922 "d" (
__ÃedË
)

1924  
__»s
;

1925 
	}
}

1927 
__STRING_INLINE
 *

1928 
	$__¡r¡r_g
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

1930 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1931 *
__»s
;

1932 
__asm__
 
__vŞ©e__


1949 : "=&a" (
__»s
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1950 : "0" (0), "1" (0xffffffff), "2" (
__hay¡ack
), "3" (
__ÃedË
),

1951 "b" (
__ÃedË
)

1953  
__»s
;

1954 
	}
}

1960 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1961 #ifdeà
__i686__


1962 
	#_HAVE_STRING_ARCH_ffs
 1

	)

1963 
	#ffs
(
wÜd
è(
	`__butš_cÚ¡ªt_p
 (word) \

1964 ? 
	`__butš_ffs
 (
wÜd
) \

1965 : ({ 
__út
, 
__tmp
; \

1966 
__asm__
 
__vŞ©e__
 \

1969 : "=&r" (
__út
), "ô" (
__tmp
) \

1970 : "rm" (
wÜd
), "1" (-1)); \

1971 
__út
 + 1; }))

	)

1973 #iâdeà
ff¦


1974 
	#ff¦
(
wÜd
è
	`ffs
(wÜd)

	)

1979 #iâdeà
_FORCE_INLINES


1980 #undeà
__STRING_INLINE


	@/usr/include/bits/string2.h

20 #iâdeà
_STRING_H


24 #iâdeà
__NO_STRING_INLINES


41 #iâdeà
__STRING_INLINE


42 #ifdeà
__ılu¥lus


43 
	#__STRING_INLINE
 
šlše


	)

45 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

49 #ià
_STRING_ARCH_uÇligÃd


51 
	~<’dŸn.h
>

52 
	~<b™s/ty³s.h
>

54 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


55 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

56 (((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1] << 8 \

57 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
])

	)

58 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

59 (((((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

60 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

61 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

62 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
])

	)

64 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

65 (((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
] << 8 \

66 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1])

	)

67 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

68 (((((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
] << 8 \

69 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

70 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

71 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 3])

	)

76 
	#__STRING2_COPY_TYPE
(
N
) \

77 ¡ruù { 
__¬r
[
N
]; } \

78 
	t__©Œibu‹__
 ((
	t__·cked__
)è
	t__STRING2_COPY_ARR
##
	tN


	)

79 
	t__STRING2_COPY_TYPE
 (2);

80 
__STRING2_COPY_TYPE
 (3);

81 
__STRING2_COPY_TYPE
 (4);

82 
__STRING2_COPY_TYPE
 (5);

83 
__STRING2_COPY_TYPE
 (6);

84 
__STRING2_COPY_TYPE
 (7);

85 
__STRING2_COPY_TYPE
 (8);

86 #undeà
__STRING2_COPY_TYPE


92 
	#__¡ršg2_1b±r_p
(
__x
) \

93 ((
size_t
)(cÚ¡ *)((
__x
è+ 1è- (size_t)(cÚ¡ *)(__xè=ğ1)

	)

96 #ià!
defšed
 
_HAVE_STRING_ARCH_mem£t


97 #ià!
__GNUC_PREREQ
 (3, 0)

98 #ià
_STRING_ARCH_uÇligÃd


99 
	#mem£t
(
s
, 
c
, 
n
) \

100 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

101 ? ((
n
) == 1 \

102 ? 
	`__mem£t_1
 (
s
, 
c
) \

103 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

104 : (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

105 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

106 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

108 
	#__mem£t_1
(
s
, 
c
è({ *
__s
 = (s); \

109 *((
__ušt8_t
 *è
__s
èğ(__ušt8_tè
c
; __s; })

	)

111 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

112 ({ *
__s
 = (
s
); \

114 
__ui
; \

115 
__usi
; \

116 
__uc
; \

117 } *
__u
 = 
__s
; \

118 
__ušt8_t
 
__c
 = (__ušt8_tè(
c
); \

121 (è(
n
)) \

124 
__u
->
__ui
 = 
__c
 * 0x01010101; \

125 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

127 
__u
->
__ui
 = 
__c
 * 0x01010101; \

128 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

130 
__u
->
__ui
 = 
__c
 * 0x01010101; \

131 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

133 
__u
->
__usi
 = (è
__c
 * 0x0101; \

134 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

135 
__u
->
__uc
 = (è
__c
; \

139 
__u
->
__ui
 = 
__c
 * 0x01010101; \

140 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

142 
__u
->
__ui
 = 
__c
 * 0x01010101; \

143 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

145 
__u
->
__ui
 = 
__c
 * 0x01010101; \

146 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

148 
__u
->
__usi
 = (è
__c
 * 0x0101; \

152 
__u
->
__ui
 = 
__c
 * 0x01010101; \

153 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

155 
__u
->
__ui
 = 
__c
 * 0x01010101; \

156 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

158 
__u
->
__ui
 = 
__c
 * 0x01010101; \

159 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

161 
__u
->
__uc
 = (è
__c
; \

165 
__u
->
__ui
 = 
__c
 * 0x01010101; \

166 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

168 
__u
->
__ui
 = 
__c
 * 0x01010101; \

169 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

171 
__u
->
__ui
 = 
__c
 * 0x01010101; \

172 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

174 
__u
->
__ui
 = 
__c
 * 0x01010101; \

179 
__s
; })

	)

181 
	#mem£t
(
s
, 
c
, 
n
) \

182 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

183 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

184 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

193 #ià
__GNUC_PREREQ
 (2, 91)

194 
	#__bz”o
(
s
, 
n
è
	`__butš_mem£t
 (s, '\0',‚)

	)

202 #ifdeà
__USE_GNU


203 #ià!
defšed
 
_HAVE_STRING_ARCH_mempıy
 || defšed 
_FORCE_INLINES


204 #iâdeà
_HAVE_STRING_ARCH_mempıy


205 #ià
__GNUC_PREREQ
 (3, 4)

206 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__butš_mempıy
 (de¡, src,‚)

	)

207 #–ià
__GNUC_PREREQ
 (3, 0)

208 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

209 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

210 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

211 ? 
	`__butš_memıy
 (
de¡
, 
¤c
, 
n
) + (n) \

212 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

214 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

215 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

216 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

217 ? 
	`__mempıy_sm®l
 (
de¡
, 
	`__mempıy_¬gs
 (
¤c
), 
n
) \

218 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

222 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy
 (de¡, src,‚)

	)

225 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


226 #ià
_STRING_ARCH_uÇligÃd


227 #iâdeà
_FORCE_INLINES


228 
	#__mempıy_¬gs
(
¤c
) \

229 ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[2], \

230 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[6], \

231 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

232 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

233 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

234 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

236 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , , , ,

237 
__ušt16_t
, __ušt16_t, 
__ušt32_t
,

238 
__ušt32_t
, 
size_t
);

239 
__STRING_INLINE
 *

240 
	$__mempıy_sm®l
 (*
__de¡1
,

241 
__¤c0_1
, 
__¤c2_1
, 
__¤c4_1
, 
__¤c6_1
,

242 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

243 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

244 
size_t
 
__¤ş’
)

247 
__ušt32_t
 
__ui
;

248 
__ušt16_t
 
__usi
;

249 
__uc
;

250 
__c
;

251 } *
__u
 = 
__de¡1
;

252 (è
__¤ş’
)

255 
__u
->
__c
 = 
__¤c0_1
;

256 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

259 
__u
->
__usi
 = 
__¤c0_2
;

260 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

263 
__u
->
__usi
 = 
__¤c0_2
;

264 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

265 
__u
->
__c
 = 
__¤c2_1
;

266 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

269 
__u
->
__ui
 = 
__¤c0_4
;

270 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

273 
__u
->
__ui
 = 
__¤c0_4
;

274 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

275 
__u
->
__c
 = 
__¤c4_1
;

276 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

279 
__u
->
__ui
 = 
__¤c0_4
;

280 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

281 
__u
->
__usi
 = 
__¤c4_2
;

282 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

285 
__u
->
__ui
 = 
__¤c0_4
;

286 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

287 
__u
->
__usi
 = 
__¤c4_2
;

288 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

289 
__u
->
__c
 = 
__¤c6_1
;

290 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

293 
__u
->
__ui
 = 
__¤c0_4
;

294 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

295 
__u
->
__ui
 = 
__¤c4_4
;

296 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

299  (*è
__u
;

300 
	}
}

302 #iâdeà
_FORCE_INLINES


303 
	#__mempıy_¬gs
(
¤c
) \

304 ((cÚ¡ *è(
¤c
))[0], \

305 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

306 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1] } }), \

307 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

308 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

309 ((cÚ¡ *è(
¤c
))[2] } }), \

310 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

311 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

312 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3] } }), \

313 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

314 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

315 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

316 ((cÚ¡ *è(
¤c
))[4] } }), \

317 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

318 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

319 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

320 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5] } }), \

321 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

322 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

323 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

324 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

325 ((cÚ¡ *è(
¤c
))[6] } }), \

326 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

327 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

328 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

329 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

330 ((cÚ¡ *è(
¤c
))[6], ((cÚ¡ *è(¤c))[7] } })

	)

332 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , 
__STRING2_COPY_ARR2
,

333 
__STRING2_COPY_ARR3
,

334 
__STRING2_COPY_ARR4
,

335 
__STRING2_COPY_ARR5
,

336 
__STRING2_COPY_ARR6
,

337 
__STRING2_COPY_ARR7
,

338 
__STRING2_COPY_ARR8
, 
size_t
);

339 
__STRING_INLINE
 *

340 
	$__mempıy_sm®l
 (*
__de¡
, 
__¤c1
,

341 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

342 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

343 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

344 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

347 
__c
;

348 
__STRING2_COPY_ARR2
 
__sÿ2
;

349 
__STRING2_COPY_ARR3
 
__sÿ3
;

350 
__STRING2_COPY_ARR4
 
__sÿ4
;

351 
__STRING2_COPY_ARR5
 
__sÿ5
;

352 
__STRING2_COPY_ARR6
 
__sÿ6
;

353 
__STRING2_COPY_ARR7
 
__sÿ7
;

354 
__STRING2_COPY_ARR8
 
__sÿ8
;

355 } *
__u
 = 
__de¡
;

356 (è
__¤ş’
)

359 
__u
->
__c
 = 
__¤c1
;

362 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

365 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

368 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

371 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

374 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

377 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

380 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

383  
	`__ex‹nsiÚ__
 ((*è
__u
 + 
__¤ş’
);

384 
	}
}

392 #iâdeà
_HAVE_STRING_ARCH_¡rchr


393 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

394 #ià
__GNUC_PREREQ
 (3, 2)

395 
	#¡rchr
(
s
, 
c
) \

396 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
è&& !__butš_cÚ¡ªt_°(
s
) \

397 && (
c
) == '\0' \

398 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

399 : 
	`__butš_¡rchr
 (
s
, 
c
)))

	)

401 
	#¡rchr
(
s
, 
c
) \

402 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

403 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

404 : 
	`¡rchr
 (
s
, 
c
)))

	)

410 #ià(!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)) \

411 || 
defšed
 
	g_FORCE_INLINES


412 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)

413 
	#¡rıy
(
de¡
, 
¤c
) \

414 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

415 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

416 ? 
	`__¡rıy_sm®l
 (
de¡
, 
	`__¡rıy_¬gs
 (
¤c
), \

417 
	`¡¾’
 (
¤c
) + 1) \

418 : (*è
	`memıy
 (
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1)) \

419 : 
	`¡rıy
 (
de¡
, 
¤c
)))

	)

422 #ià
_STRING_ARCH_uÇligÃd


423 #iâdeà
_FORCE_INLINES


424 
	#__¡rıy_¬gs
(
¤c
) \

425 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

426 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

427 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

428 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

430 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

431 
__ušt32_t
, __ušt32_t, 
size_t
);

432 
__STRING_INLINE
 *

433 
	$__¡rıy_sm®l
 (*
__de¡
,

434 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

435 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

436 
size_t
 
__¤ş’
)

439 
__ušt32_t
 
__ui
;

440 
__ušt16_t
 
__usi
;

441 
__uc
;

442 } *
__u
 = (*è
__de¡
;

443 (è
__¤ş’
)

446 
__u
->
__uc
 = '\0';

449 
__u
->
__usi
 = 
__¤c0_2
;

452 
__u
->
__usi
 = 
__¤c0_2
;

453 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

454 
__u
->
__uc
 = '\0';

457 
__u
->
__ui
 = 
__¤c0_4
;

460 
__u
->
__ui
 = 
__¤c0_4
;

461 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

462 
__u
->
__uc
 = '\0';

465 
__u
->
__ui
 = 
__¤c0_4
;

466 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

467 
__u
->
__usi
 = 
__¤c4_2
;

470 
__u
->
__ui
 = 
__¤c0_4
;

471 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

472 
__u
->
__usi
 = 
__¤c4_2
;

473 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

474 
__u
->
__uc
 = '\0';

477 
__u
->
__ui
 = 
__¤c0_4
;

478 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

479 
__u
->
__ui
 = 
__¤c4_4
;

482  
__de¡
;

483 
	}
}

485 #iâdeà
_FORCE_INLINES


486 
	#__¡rıy_¬gs
(
¤c
) \

487 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

488 { { ((cÚ¡ *è(
¤c
))[0], '\0' } }), \

489 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

490 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

492 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

493 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

494 ((cÚ¡ *è(
¤c
))[2], '\0' } }), \

495 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

496 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

497 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

499 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

500 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

501 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

502 ((cÚ¡ *è(
¤c
))[4], '\0' } }), \

503 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

504 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

505 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

506 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

508 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

509 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

510 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

511 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

512 ((cÚ¡ *è(
¤c
))[6], '\0' } })

	)

514 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

515 
__STRING2_COPY_ARR3
,

516 
__STRING2_COPY_ARR4
,

517 
__STRING2_COPY_ARR5
,

518 
__STRING2_COPY_ARR6
,

519 
__STRING2_COPY_ARR7
,

520 
__STRING2_COPY_ARR8
, 
size_t
);

521 
__STRING_INLINE
 *

522 
	$__¡rıy_sm®l
 (*
__de¡
,

523 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

524 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

525 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

526 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

529 
__c
;

530 
__STRING2_COPY_ARR2
 
__sÿ2
;

531 
__STRING2_COPY_ARR3
 
__sÿ3
;

532 
__STRING2_COPY_ARR4
 
__sÿ4
;

533 
__STRING2_COPY_ARR5
 
__sÿ5
;

534 
__STRING2_COPY_ARR6
 
__sÿ6
;

535 
__STRING2_COPY_ARR7
 
__sÿ7
;

536 
__STRING2_COPY_ARR8
 
__sÿ8
;

537 } *
__u
 = (*è
__de¡
;

538 (è
__¤ş’
)

541 
__u
->
__c
 = '\0';

544 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

547 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

550 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

553 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

556 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

559 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

562 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

565  
__de¡
;

566 
	}
}

572 #ifdeà
__USE_GNU


573 #ià!
defšed
 
_HAVE_STRING_ARCH_¡pıy
 || defšed 
_FORCE_INLINES


574 #iâdeà
_HAVE_STRING_ARCH_¡pıy


575 #ià
__GNUC_PREREQ
 (3, 4)

576 
	#__¡pıy
(
de¡
, 
¤c
è
	`__butš_¡pıy
 (de¡, src)

	)

577 #–ià
__GNUC_PREREQ
 (3, 0)

578 
	#__¡pıy
(
de¡
, 
¤c
) \

579 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

580 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

581 ? 
	`__butš_¡rıy
 (
de¡
, 
¤c
è+ 
	`¡¾’
 (src) \

582 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

584 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

586 
	#__¡pıy
(
de¡
, 
¤c
) \

587 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

588 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

589 ? 
	`__¡pıy_sm®l
 (
de¡
, 
	`__¡pıy_¬gs
 (
¤c
), \

590 
	`¡¾’
 (
¤c
) + 1) \

591 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

593 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

597 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 (de¡, src)

	)

600 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


601 #ià
_STRING_ARCH_uÇligÃd


602 #iâdeà
_FORCE_INLINES


603 
	#__¡pıy_¬gs
(
¤c
) \

604 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

605 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

606 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

607 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

609 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

610 
__ušt32_t
, __ušt32_t, 
size_t
);

611 
__STRING_INLINE
 *

612 
	$__¡pıy_sm®l
 (*
__de¡
,

613 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

614 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

615 
size_t
 
__¤ş’
)

618 
__ui
;

619 
__usi
;

620 
__uc
;

621 
__c
;

622 } *
__u
 = (*è
__de¡
;

623 (è
__¤ş’
)

626 
__u
->
__uc
 = '\0';

629 
__u
->
__usi
 = 
__¤c0_2
;

630 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

633 
__u
->
__usi
 = 
__¤c0_2
;

634 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

635 
__u
->
__uc
 = '\0';

638 
__u
->
__ui
 = 
__¤c0_4
;

639 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

642 
__u
->
__ui
 = 
__¤c0_4
;

643 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

644 
__u
->
__uc
 = '\0';

647 
__u
->
__ui
 = 
__¤c0_4
;

648 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

649 
__u
->
__usi
 = 
__¤c4_2
;

650 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

653 
__u
->
__ui
 = 
__¤c0_4
;

654 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

655 
__u
->
__usi
 = 
__¤c4_2
;

656 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

657 
__u
->
__uc
 = '\0';

660 
__u
->
__ui
 = 
__¤c0_4
;

661 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

662 
__u
->
__ui
 = 
__¤c4_4
;

663 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

666  &
__u
->
__c
;

667 
	}
}

669 #iâdeà
_FORCE_INLINES


670 
	#__¡pıy_¬gs
(
¤c
) \

671 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

672 { { ((cÚ¡ *è(
¤c
))[0], '\0' } }), \

673 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

674 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

676 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

677 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

678 ((cÚ¡ *è(
¤c
))[2], '\0' } }), \

679 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

680 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

681 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

683 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

684 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

685 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

686 ((cÚ¡ *è(
¤c
))[4], '\0' } }), \

687 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

688 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

689 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

690 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

692 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

693 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

694 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

695 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

696 ((cÚ¡ *è(
¤c
))[6], '\0' } })

	)

698 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

699 
__STRING2_COPY_ARR3
,

700 
__STRING2_COPY_ARR4
,

701 
__STRING2_COPY_ARR5
,

702 
__STRING2_COPY_ARR6
,

703 
__STRING2_COPY_ARR7
,

704 
__STRING2_COPY_ARR8
, 
size_t
);

705 
__STRING_INLINE
 *

706 
	$__¡pıy_sm®l
 (*
__de¡
,

707 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

708 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

709 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

710 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

713 
__c
;

714 
__STRING2_COPY_ARR2
 
__sÿ2
;

715 
__STRING2_COPY_ARR3
 
__sÿ3
;

716 
__STRING2_COPY_ARR4
 
__sÿ4
;

717 
__STRING2_COPY_ARR5
 
__sÿ5
;

718 
__STRING2_COPY_ARR6
 
__sÿ6
;

719 
__STRING2_COPY_ARR7
 
__sÿ7
;

720 
__STRING2_COPY_ARR8
 
__sÿ8
;

721 } *
__u
 = (*è
__de¡
;

722 (è
__¤ş’
)

725 
__u
->
__c
 = '\0';

728 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

731 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

734 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

737 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

740 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

743 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

746 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

749  
__de¡
 + 
__¤ş’
 - 1;

750 
	}
}

758 #iâdeà
_HAVE_STRING_ARCH_¡ºıy


759 #ià
__GNUC_PREREQ
 (3, 2)

760 
	#¡ºıy
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºıy
 (de¡, src,‚)

	)

762 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

763 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

764 ? (
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

765 ? (*è
	`memıy
 (
de¡
, 
¤c
, 
n
) \

766 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)) \

767 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)))

	)

773 #iâdeà
_HAVE_STRING_ARCH_¡ºÿt


774 #ifdeà
_USE_STRING_ARCH_¡rchr


775 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

776 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

777 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

778 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

779 ? 
	`¡rÿt
 (
__de¡
, 
¤c
) \

780 : (*((*è
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

781 
¤c
, 
n
)èğ'\0', 
__de¡
)) \

782 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
); }))

	)

783 #–ià
__GNUC_PREREQ
 (3, 2)

784 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºÿt
 (de¡, src,‚)

	)

786 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

787 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

788 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

789 ? 
	`¡rÿt
 (
de¡
, 
¤c
) \

790 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)) \

791 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)))

	)

797 #iâdeà
_HAVE_STRING_ARCH_¡rcmp


798 #ià
__GNUC_PREREQ
 (3, 2)

799 
	#¡rcmp
(
s1
, 
s2
) \

800 
__ex‹nsiÚ__
 \

801 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

802 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

803 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), 
__s2_Ën
 = __butš_¡¾’ (
s2
), \

804 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

805 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

806 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

807 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

808 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), __s1_len < 4) \

809 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

810 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

811 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

812 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

813 && (
__s2_Ën
 = 
	`__butš_¡¾’
 (
s2
), __s2_len < 4) \

814 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

815 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

816 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

817 : 
	`__butš_¡rcmp
 (
s1
, 
s2
)))); })

	)

819 
	#¡rcmp
(
s1
, 
s2
) \

820 
__ex‹nsiÚ__
 \

821 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

822 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

823 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), 
__s2_Ën
 = sŒËÀ(
s2
), \

824 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

825 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

826 ? 
	`memcmp
 ((cÚ¡ *è(
s1
), (cÚ¡ *è(
s2
), \

827 (
__s1_Ën
 < 
__s2_Ën
 ? __s1_len : __s2_len) + 1) \

828 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

829 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), __s1_len < 4) \

830 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

831 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s1_Ën
) \

832 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

833 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

834 && (
__s2_Ën
 = 
	`¡¾’
 (
s2
), __s2_len < 4) \

835 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

836 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s2_Ën
) \

837 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

838 : 
	`¡rcmp
 (
s1
, 
s2
)))); })

	)

841 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

842 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = \

843 (((cÚ¡ *è(cÚ¡ *è(
s1
))[0] \

844 - ((cÚ¡ *è(cÚ¡ *)(
s2
))[0]); \

845 ià(
l
 > 0 && 
__»suÉ
 == 0) \

847 
__»suÉ
 = (((const *) \

848 (cÚ¡ *è(
s1
))[1] \

850 (cÚ¡ *è(
s2
))[1]); \

851 ià(
l
 > 1 && 
__»suÉ
 == 0) \

853 
__»suÉ
 = \

855 (cÚ¡ *è(
s1
))[2] \

857 (cÚ¡ *è(
s2
))[2]); \

858 ià(
l
 > 2 && 
__»suÉ
 == 0) \

859 
__»suÉ
 = \

861 (cÚ¡ *è(
s1
))[3] \

863 (cÚ¡ *è(
s2
))[3]); \

866 
__»suÉ
; }))

	)

868 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

869 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s2
 = \

870 (cÚ¡ *è(cÚ¡ *è(
s2
); \

871 
__»suÉ
 = \

872 (((cÚ¡ *è(cÚ¡ *è(
s1
))[0] \

873 - 
__s2
[0]); \

874 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

876 
__»suÉ
 = (((const *) \

877 (cÚ¡ *è(
s1
))[1] - 
__s2
[1]); \

878 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

880 
__»suÉ
 = (((const *) \

881 (cÚ¡ *è(
s1
))[2] - 
__s2
[2]); \

882 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

883 
__»suÉ
 = (((const *) \

884 (cÚ¡ *è(
s1
))[3] \

885 - 
__s2
[3]); \

888 
__»suÉ
; }))

	)

890 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
è(- 
	`__¡rcmp_cg
 (s2, s1,†2))

	)

895 #iâdeà
_HAVE_STRING_ARCH_¡ºcmp


896 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

897 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

898 && ((
	`__butš_cÚ¡ªt_p
 (
s1
) \

899 && 
	`¡¾’
 (
s1
è< ((
size_t
è(
n
))) \

900 || (
	`__butš_cÚ¡ªt_p
 (
s2
) \

901 && 
	`¡¾’
 (
s2
è< ((
size_t
è(
n
)))) \

902 ? 
	`¡rcmp
 (
s1
, 
s2
è: 
	`¡ºcmp
 (s1, s2, 
n
)))

	)

908 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rc¥n
 || defšed 
_FORCE_INLINES


909 #iâdeà
_HAVE_STRING_ARCH_¡rc¥n


910 #ià
__GNUC_PREREQ
 (3, 2)

911 
	#¡rc¥n
(
s
, 
»jeù
) \

912 
__ex‹nsiÚ__
 \

913 ({ 
__r0
, 
__r1
, 
__r2
; \

914 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

915 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

916 ? 
	`__butš_¡rc¥n
 (
s
, 
»jeù
) \

917 : ((
__r0
 = ((cÚ¡ *è(
»jeù
))[0], __r0 == '\0') \

918 ? 
	`¡¾’
 (
s
) \

919 : ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], __r1 == '\0') \

920 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

921 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

922 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

923 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

924 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

925 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)))))) \

926 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)); })

	)

928 
	#¡rc¥n
(
s
, 
»jeù
) \

929 
__ex‹nsiÚ__
 \

930 ({ 
__r0
, 
__r1
, 
__r2
; \

931 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

932 ? ((
__r0
 = ((cÚ¡ *è(
»jeù
))[0], __r0 == '\0') \

933 ? 
	`¡¾’
 (
s
) \

934 : ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], __r1 == '\0') \

935 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

936 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

937 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

938 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

939 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

940 : 
	`¡rc¥n
 (
s
, 
»jeù
))))) \

941 : 
	`¡rc¥n
 (
s
, 
»jeù
)); })

	)

945 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
);

946 
__STRING_INLINE
 
size_t


947 
	$__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
)

949 
size_t
 
__»suÉ
 = 0;

950 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù
)

951 ++
__»suÉ
;

952  
__»suÉ
;

953 
	}
}

955 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c2
 (cÚ¡ *
__s
, 
__»jeù1
,

956 
__»jeù2
);

957 
__STRING_INLINE
 
size_t


958 
	$__¡rc¥n_c2
 (cÚ¡ *
__s
, 
__»jeù1
, 
__»jeù2
)

960 
size_t
 
__»suÉ
 = 0;

961 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


962 && 
__s
[
__»suÉ
] !ğ
__»jeù2
)

963 ++
__»suÉ
;

964  
__»suÉ
;

965 
	}
}

967 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c3
 (cÚ¡ *
__s
, 
__»jeù1
,

968 
__»jeù2
, 
__»jeù3
);

969 
__STRING_INLINE
 
size_t


970 
	$__¡rc¥n_c3
 (cÚ¡ *
__s
, 
__»jeù1
, 
__»jeù2
,

971 
__»jeù3
)

973 
size_t
 
__»suÉ
 = 0;

974 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


975 && 
__s
[
__»suÉ
] !ğ
__»jeù2
 && __s[__»suÉ] !ğ
__»jeù3
)

976 ++
__»suÉ
;

977  
__»suÉ
;

978 
	}
}

984 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¥n
 || defšed 
_FORCE_INLINES


985 #iâdeà
_HAVE_STRING_ARCH_¡r¥n


986 #ià
__GNUC_PREREQ
 (3, 2)

987 
	#¡r¥n
(
s
, 
acû±
) \

988 
__ex‹nsiÚ__
 \

989 ({ 
__a0
, 
__a1
, 
__a2
; \

990 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

991 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

992 ? 
	`__butš_¡r¥n
 (
s
, 
acû±
) \

993 : ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

994 ? ((è(
s
), (
size_t
) 0) \

995 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

996 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

997 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

998 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

999 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1000 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1001 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)))))) \

1002 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)); })

	)

1004 
	#¡r¥n
(
s
, 
acû±
) \

1005 
__ex‹nsiÚ__
 \

1006 ({ 
__a0
, 
__a1
, 
__a2
; \

1007 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1008 ? ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1009 ? ((è(
s
), (
size_t
) 0) \

1010 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1011 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1012 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1013 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1014 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1015 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1016 : 
	`¡r¥n
 (
s
, 
acû±
))))) \

1017 : 
	`¡r¥n
 (
s
, 
acû±
)); })

	)

1021 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
);

1022 
__STRING_INLINE
 
size_t


1023 
	$__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
)

1025 
size_t
 
__»suÉ
 = 0;

1027 
__s
[
__»suÉ
] =ğ
__acû±
)

1028 ++
__»suÉ
;

1029  
__»suÉ
;

1030 
	}
}

1032 
__STRING_INLINE
 
size_t
 
__¡r¥n_c2
 (cÚ¡ *
__s
, 
__acû±1
,

1033 
__acû±2
);

1034 
__STRING_INLINE
 
size_t


1035 
	$__¡r¥n_c2
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
)

1037 
size_t
 
__»suÉ
 = 0;

1039 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2
)

1040 ++
__»suÉ
;

1041  
__»suÉ
;

1042 
	}
}

1044 
__STRING_INLINE
 
size_t
 
__¡r¥n_c3
 (cÚ¡ *
__s
, 
__acû±1
,

1045 
__acû±2
, 
__acû±3
);

1046 
__STRING_INLINE
 
size_t


1047 
	$__¡r¥n_c3
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1049 
size_t
 
__»suÉ
 = 0;

1051 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2


1052 || 
__s
[
__»suÉ
] =ğ
__acû±3
)

1053 ++
__»suÉ
;

1054  
__»suÉ
;

1055 
	}
}

1060 #ià!
defšed
 
_HAVE_STRING_ARCH_¡½brk
 || defšed 
_FORCE_INLINES


1061 #iâdeà
_HAVE_STRING_ARCH_¡½brk


1062 #ià
__GNUC_PREREQ
 (3, 2)

1063 
	#¡½brk
(
s
, 
acû±
) \

1064 
__ex‹nsiÚ__
 \

1065 ({ 
__a0
, 
__a1
, 
__a2
; \

1066 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1067 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1068 ? 
	`__butš_¡½brk
 (
s
, 
acû±
) \

1069 : ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1070 ? ((è(
s
), (*è
NULL
) \

1071 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1072 ? 
	`__butš_¡rchr
 (
s
, 
__a0
) \

1073 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1074 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1075 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1076 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1077 : 
	`__butš_¡½brk
 (
s
, 
acû±
)))))) \

1078 : 
	`__butš_¡½brk
 (
s
, 
acû±
)); })

	)

1080 
	#¡½brk
(
s
, 
acû±
) \

1081 
__ex‹nsiÚ__
 \

1082 ({ 
__a0
, 
__a1
, 
__a2
; \

1083 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1084 ? ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1085 ? ((è(
s
), (*è
NULL
) \

1086 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1087 ? 
	`¡rchr
 (
s
, 
__a0
) \

1088 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1089 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1090 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1091 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1092 : 
	`¡½brk
 (
s
, 
acû±
))))) \

1093 : 
	`¡½brk
 (
s
, 
acû±
)); })

	)

1097 
__STRING_INLINE
 *
__¡½brk_c2
 (cÚ¡ *
__s
, 
__acû±1
,

1098 
__acû±2
);

1099 
__STRING_INLINE
 *

1100 
	$__¡½brk_c2
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
)

1103 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2
)

1104 ++
__s
;

1105  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1106 
	}
}

1108 
__STRING_INLINE
 *
__¡½brk_c3
 (cÚ¡ *
__s
, 
__acû±1
,

1109 
__acû±2
, 
__acû±3
);

1110 
__STRING_INLINE
 *

1111 
	$__¡½brk_c3
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1114 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2


1115 && *
__s
 !ğ
__acû±3
)

1116 ++
__s
;

1117  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1118 
	}
}

1124 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¡r
 && !
__GNUC_PREREQ
 (2, 97)

1125 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1126 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
è&& 
	`__¡ršg2_1b±r_p
 (needle) \

1127 ? (((cÚ¡ *è(
ÃedË
))[0] == '\0' \

1128 ? (*è(
size_t
è(
hay¡ack
) \

1129 : (((cÚ¡ *è(
ÃedË
))[1] == '\0' \

1130 ? 
	`¡rchr
 (
hay¡ack
, \

1131 ((cÚ¡ *è(
ÃedË
))[0]) \

1132 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
))) \

1133 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
)))

	)

1137 #ià!
defšed
 
_HAVE_STRING_ARCH_¡¹ok_r
 || defšed 
_FORCE_INLINES


1138 #iâdeà
_HAVE_STRING_ARCH_¡¹ok_r


1139 
	#__¡¹ok_r
(
s
, 
£p
, 
Ãx
) \

1140 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
£p
è&& 
	`__¡ršg2_1b±r_p
 (sep) \

1141 && ((cÚ¡ *è(
£p
))[0] != '\0' \

1142 && ((cÚ¡ *è(
£p
))[1] == '\0' \

1143 ? 
	`__¡¹ok_r_1c
 (
s
, ((cÚ¡ *è(
£p
))[0], 
Ãx
) \

1144 : 
	`__¡¹ok_r
 (
s
, 
£p
, 
Ãx
)))

	)

1147 
__STRING_INLINE
 *
__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
);

1148 
__STRING_INLINE
 *

1149 
	$__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
)

1151 *
__»suÉ
;

1152 ià(
__s
 =ğ
NULL
)

1153 
__s
 = *
__Ãx
;

1154 *
__s
 =ğ
__£p
)

1155 ++
__s
;

1156 
__»suÉ
 = 
NULL
;

1157 ià(*
__s
 != '\0')

1159 
__»suÉ
 = 
__s
++;

1160 *
__s
 != '\0')

1161 ià(*
__s
++ =ğ
__£p
)

1163 
__s
[-1] = '\0';

1167 *
__Ãx
 = 
__s
;

1168  
__»suÉ
;

1169 
	}
}

1170 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


1171 
	#¡¹ok_r
(
s
, 
£p
, 
Ãx
è
	`__¡¹ok_r
 (s, s•,‚ex)

	)

1176 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r£p
 || defšed 
_FORCE_INLINES


1177 #iâdeà
_HAVE_STRING_ARCH_¡r£p


1179 *
__¡r£p_g
 (**
__¡ršgp
, cÚ¡ *
__d–im
);

1180 
	#__¡r£p
(
s
, 
»jeù
) \

1181 
__ex‹nsiÚ__
 \

1182 ({ 
__r0
, 
__r1
, 
__r2
; \

1183 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

1184 && (
__r0
 = ((cÚ¡ *è(
»jeù
))[0], \

1185 ((cÚ¡ *è(
»jeù
))[0] != '\0') \

1186 ? ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], \

1187 ((cÚ¡ *è(
»jeù
))[1] == '\0') \

1188 ? 
	`__¡r£p_1c
 (
s
, 
__r0
) \

1189 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

1190 ? 
	`__¡r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1191 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

1192 ? 
	`__¡r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1193 : 
	`__¡r£p_g
 (
s
, 
»jeù
)))) \

1194 : 
	`__¡r£p_g
 (
s
, 
»jeù
)); })

	)

1197 
__STRING_INLINE
 *
__¡r£p_1c
 (**
__s
, 
__»jeù
);

1198 
__STRING_INLINE
 *

1199 
	$__¡r£p_1c
 (**
__s
, 
__»jeù
)

1201 *
__»tv®
 = *
__s
;

1202 ià(
__»tv®
 !ğ
NULL
 && (*
__s
 = 
	`¡rchr
 (__»tv®, 
__»jeù
)) != NULL)

1203 *(*
__s
)++ = '\0';

1204  
__»tv®
;

1205 
	}
}

1207 
__STRING_INLINE
 *
__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
);

1208 
__STRING_INLINE
 *

1209 
	$__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
)

1211 *
__»tv®
 = *
__s
;

1212 ià(
__»tv®
 !ğ
NULL
)

1214 *
__ı
 = 
__»tv®
;

1217 ià(*
__ı
 == '\0')

1219 
__ı
 = 
NULL
;

1222 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
)

1224 *
__ı
++ = '\0';

1227 ++
__ı
;

1229 *
__s
 = 
__ı
;

1231  
__»tv®
;

1232 
	}
}

1234 
__STRING_INLINE
 *
__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
,

1235 
__»jeù3
);

1236 
__STRING_INLINE
 *

1237 
	$__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
, 
__»jeù3
)

1239 *
__»tv®
 = *
__s
;

1240 ià(
__»tv®
 !ğ
NULL
)

1242 *
__ı
 = 
__»tv®
;

1245 ià(*
__ı
 == '\0')

1247 
__ı
 = 
NULL
;

1250 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
 || *__ı =ğ
__»jeù3
)

1252 *
__ı
++ = '\0';

1255 ++
__ı
;

1257 *
__s
 = 
__ı
;

1259  
__»tv®
;

1260 
	}
}

1261 #ifdeà
__USE_BSD


1262 
	#¡r£p
(
s
, 
»jeù
è
	`__¡r£p
 (s,„ejeù)

	)

1269 #ifdeà
__USE_MISC


1271 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rdup
 || !defšed 
_HAVE_STRING_ARCH_¡ºdup


1272 
	#__Ãed_m®loc_ªd_ÿÎoc


	)

1273 
	~<¡dlib.h
>

1276 #iâdeà
_HAVE_STRING_ARCH_¡rdup


1278 *
	$__¡rdup
 (cÚ¡ *
__¡ršg
è
__THROW
 
__©Œibu‹_m®loc__
;

1279 
	#__¡rdup
(
s
) \

1280 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1281 ? (((cÚ¡ *è(
s
))[0] == '\0' \

1282 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1283 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1284 *
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1285 ià(
__»tv®
 !ğ
NULL
) \

1286 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, 
__Ën
); \

1287 
__»tv®
; 
	}
})) \

1288 : 
	`__¡rdup
 (
s
)))

	)

1290 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1291 
	#¡rdup
(
s
è
	`__¡rdup
 (s)

	)

1295 #iâdeà
_HAVE_STRING_ARCH_¡ºdup


1297 *
	$__¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

1298 
__THROW
 
__©Œibu‹_m®loc__
;

1299 
	#__¡ºdup
(
s
, 
n
) \

1300 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1301 ? (((cÚ¡ *è(
s
))[0] == '\0' \

1302 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1303 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1304 
size_t
 
__n
 = (
n
); \

1305 *
__»tv®
; \

1306 ià(
__n
 < 
__Ën
) \

1307 
__Ën
 = 
__n
 + 1; \

1308 
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1309 ià(
__»tv®
 !ğ
NULL
) \

1311 
__»tv®
[
__Ën
 - 1] = '\0'; \

1312 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, \

1313 
__Ën
 - 1); \

1315 
__»tv®
; 
	}
})) \

1316 : 
	`__¡ºdup
 (
s
, 
n
)))

	)

1318 #ifdeà
__USE_GNU


1319 
	#¡ºdup
(
s
, 
n
è
	`__¡ºdup
 (s,‚)

	)

1325 #iâdeà
_FORCE_INLINES


1326 #undeà
__STRING_INLINE


	@/usr/include/bits/string3.h

18 #iâdeà
_STRING_H


22 
__w¬ndeş
 (
__w¬n_mem£t_z”o_Ën
,

25 #iâdeà
__ılu¥lus


29 #undeà
memıy


30 #undeà
memmove


31 #undeà
mem£t


32 #undeà
¡rÿt


33 #undeà
¡rıy


34 #undeà
¡ºÿt


35 #undeà
¡ºıy


36 #ifdeà
__USE_GNU


37 #undeà
mempıy


38 #undeà
¡pıy


40 #ifdeà
__USE_BSD


41 #undeà
bcİy


42 #undeà
bz”o


47 
__fÜtify_funùiÚ
 *

48 
__NTH
 (
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

49 
size_t
 
__Ën
))

51  
	`__butš___memıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

52 
	}
}

54 
__fÜtify_funùiÚ
 *

55 
__NTH
 (
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__Ën
))

57  
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

58 
	}
}

60 #ifdeà
__USE_GNU


61 
__fÜtify_funùiÚ
 *

62 
__NTH
 (
	$mempıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

63 
size_t
 
__Ën
))

65  
	`__butš___mempıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

66 
	}
}

75 
__fÜtify_funùiÚ
 *

76 
__NTH
 (
	$mem£t
 (*
__de¡
, 
__ch
, 
size_t
 
__Ën
))

78 ià(
	`__butš_cÚ¡ªt_p
 (
__Ën
) && __len == 0

79 && (!
	`__butš_cÚ¡ªt_p
 (
__ch
) || __ch != 0))

81 
	`__w¬n_mem£t_z”o_Ën
 ();

82  
__de¡
;

84  
	`__butš___mem£t_chk
 (
__de¡
, 
__ch
, 
__Ën
, 
	`__bos0
 (__dest));

85 
	}
}

87 #ifdeà
__USE_BSD


88 
__fÜtify_funùiÚ
 

89 
__NTH
 (
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__Ën
))

91 (è
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

92 
	}
}

94 
__fÜtify_funùiÚ
 

95 
__NTH
 (
	$bz”o
 (*
__de¡
, 
size_t
 
__Ën
))

97 (è
	`__butš___mem£t_chk
 (
__de¡
, '\0', 
__Ën
, 
	`__bos0
 (__dest));

98 
	}
}

101 
__fÜtify_funùiÚ
 *

102 
__NTH
 (
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

104  
	`__butš___¡rıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

105 
	}
}

107 #ifdeà
__USE_GNU


108 
__fÜtify_funùiÚ
 *

109 
__NTH
 (
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

111  
	`__butš___¡pıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

112 
	}
}

116 
__fÜtify_funùiÚ
 *

117 
__NTH
 (
	$¡ºıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

118 
size_t
 
__Ën
))

120  
	`__butš___¡ºıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

121 
	}
}

124 *
	$__¡²ıy_chk
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

125 
size_t
 
__de¡Ën
è
__THROW
;

126 *
	`__REDIRECT_NTH
 (
__¡²ıy_®Ÿs
, (*
__de¡
, cÚ¡ *
__¤c
,

127 
size_t
 
__n
), 
¡²ıy
);

129 
__fÜtify_funùiÚ
 *

130 
	`__NTH
 (
	$¡²ıy
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
))

132 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1

133 && (!
	`__butš_cÚ¡ªt_p
 (
__n
è|| __À<ğ
	`__bos
 (
__de¡
)))

134  
	`__¡²ıy_chk
 (
__de¡
, 
__¤c
, 
__n
, 
	`__bos
 (__dest));

135  
	`__¡²ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

136 
	}
}

139 
__fÜtify_funùiÚ
 *

140 
__NTH
 (
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

142  
	`__butš___¡rÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

143 
	}
}

146 
__fÜtify_funùiÚ
 *

147 
__NTH
 (
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

148 
size_t
 
__Ën
))

150  
	`__butš___¡ºÿt_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

151 
	}
}

	@/usr/include/bits/sys_errlist.h

19 #iâdeà
_STDIO_H


25 #ifdeà 
__USE_BSD


26 
sys_Ã¼
;

27 cÚ¡ *cÚ¡ 
sys_”¾i¡
[];

29 #ifdeà 
__USE_GNU


30 
_sys_Ã¼
;

31 cÚ¡ *cÚ¡ 
_sys_”¾i¡
[];

	@/usr/include/bits/time.h

23 #ià
defšed
 
__Ãed_timev®
 || defšed 
__USE_GNU


24 #iâdeà
_STRUCT_TIMEVAL


25 
	#_STRUCT_TIMEVAL
 1

	)

26 
	~<b™s/ty³s.h
>

30 
	stimev®


32 
__time_t
 
	mtv_£c
;

33 
__su£cÚds_t
 
	mtv_u£c
;

38 #iâdeà
__Ãed_timev®


39 #iâdeà
_BITS_TIME_H


40 
	#_BITS_TIME_H
 1

	)

48 
	#CLOCKS_PER_SEC
 1000000l

	)

50 #ià(!
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_POSIX
) \

51 && !
defšed
 
	g__USE_XOPEN2K


54 
	~<b™s/ty³s.h
>

55 
__syscÚf
 ();

56 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

59 #ifdeà
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

82 
	#TIMER_ABSTIME
 1

	)

85 #ifdeà
__USE_GNU


86 
	~<b™s/timex.h
>

88 
__BEGIN_DECLS


91 
	$şock_adjtime
 (
__şockid_t
 
__şock_id
, 
timex
 *
__utx
è
__THROW
;

93 
__END_DECLS


99 #undeà
__Ãed_timev®


	@/usr/include/bits/types.h

23 #iâdef 
_BITS_TYPES_H


24 
	#_BITS_TYPES_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/wÜdsize.h
>

30 
	t__u_ch¬
;

31 
	t__u_shÜt
;

32 
	t__u_št
;

33 
	t__u_lÚg
;

36 sigÃd 
	t__št8_t
;

37 
	t__ušt8_t
;

38 sigÃd 
	t__št16_t
;

39 
	t__ušt16_t
;

40 sigÃd 
	t__št32_t
;

41 
	t__ušt32_t
;

42 #ià
__WORDSIZE
 == 64

43 sigÃd 
	t__št64_t
;

44 
	t__ušt64_t
;

46 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

47 
__ex‹nsiÚ__
 
	t__ušt64_t
;

51 #ià
__WORDSIZE
 == 64

52 
	t__quad_t
;

53 
	t__u_quad_t
;

55 
__ex‹nsiÚ__
 
	t__quad_t
;

56 
__ex‹nsiÚ__
 
	t__u_quad_t
;

89 
	#__S16_TYPE
 

	)

90 
	#__U16_TYPE
 

	)

91 
	#__S32_TYPE
 

	)

92 
	#__U32_TYPE
 

	)

93 
	#__SLONGWORD_TYPE
 

	)

94 
	#__ULONGWORD_TYPE
 

	)

95 #ià
__WORDSIZE
 == 32

96 
	#__SQUAD_TYPE
 
__quad_t


	)

97 
	#__UQUAD_TYPE
 
__u_quad_t


	)

98 
	#__SWORD_TYPE
 

	)

99 
	#__UWORD_TYPE
 

	)

100 
	#__SLONG32_TYPE
 

	)

101 
	#__ULONG32_TYPE
 

	)

102 
	#__S64_TYPE
 
__quad_t


	)

103 
	#__U64_TYPE
 
__u_quad_t


	)

106 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

107 #–ià
__WORDSIZE
 == 64

108 
	t__SQUAD_TYPE
 

	)

109 
	t__UQUAD_TYPE
 

	)

110 
	t__SWORD_TYPE
 

	)

111 
	t__UWORD_TYPE
 

	)

112 
	t__SLONG32_TYPE
 

	)

113 
	t__ULONG32_TYPE
 

	)

114 
	t__S64_TYPE
 

	)

115 
	t__U64_TYPE
 

	)

117 
	t__STD_TYPE
 

	)

121 
	~<b™s/ty³sizes.h
>

124 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

125 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

126 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

127 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

128 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

129 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

130 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

131 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

132 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

133 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

134 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

135 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

136 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

137 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

138 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

139 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

140 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

141 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

143 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

144 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

147 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

150 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

153 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

158 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

159 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

162 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

163 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

166 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

167 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

170 
__STD_TYPE
 
__FSWORD_T_TYPE
 
	g__fswÜd_t
;

172 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

175 
__STD_TYPE
 
__SYSCALL_SLONG_TYPE
 
	g__sysÿÎ_¦Úg_t
;

177 
__STD_TYPE
 
__SYSCALL_ULONG_TYPE
 
	g__sysÿÎ_ulÚg_t
;

181 
__off64_t
 
	t__loff_t
;

182 
__quad_t
 *
	t__qaddr_t
;

183 *
	t__ÿddr_t
;

186 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

189 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

192 #undeà
__STD_TYPE


	@/usr/include/bits/uio.h

18 #ià!
defšed
 
_SYS_UIO_H
 && !defšed 
_FCNTL_H


22 #iâdeà
_BITS_UIO_H


23 
	#_BITS_UIO_H
 1

	)

25 
	~<sys/ty³s.h
>

39 
	#UIO_MAXIOV
 1024

	)

43 
	siovec


45 *
	miov_ba£
;

46 
size_t
 
	miov_Ën
;

52 #ifdeà
__USE_GNU


53 #ià
defšed
 
_SYS_UIO_H
 && !defšed 
_BITS_UIO_H_FOR_SYS_UIO_H


54 
	#_BITS_UIO_H_FOR_SYS_UIO_H
 1

	)

56 
__BEGIN_DECLS


59 
ssize_t
 
	$´oûss_vm_»adv
 (
pid_t
 
__pid
, cÚ¡ 
iovec
 *
__lvec
,

60 
__liovút
,

61 cÚ¡ 
iovec
 *
__rvec
,

62 
__riovút
,

63 
__æags
)

64 
__THROW
;

67 
ssize_t
 
	$´oûss_vm_wr™ev
 (
pid_t
 
__pid
, cÚ¡ 
iovec
 *
__lvec
,

68 
__liovút
,

69 cÚ¡ 
iovec
 *
__rvec
,

70 
__riovút
,

71 
__æags
)

72 
__THROW
;

74 
__END_DECLS


	@/usr/include/bits/unistd.h

19 #iâdeà
_UNISTD_H


23 
ssize_t
 
	$__»ad_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

24 
size_t
 
__buæ’
è
__wur
;

25 
ssize_t
 
	`__REDIRECT
 (
__»ad_®Ÿs
, (
__fd
, *
__buf
,

26 
size_t
 
__nby‹s
), 
»ad
è
__wur
;

27 
ssize_t
 
	`__REDIRECT
 (
__»ad_chk_w¬n
,

28 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

29 
size_t
 
__buæ’
), 
__»ad_chk
)

30 
__wur
 
	`__w¬Ç‰r
 ("read called with bigger†engthhan size of "

33 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


34 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
)

36 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

38 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

39  
	`__»ad_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
	`__bos0
 (__buf));

41 ià(
__nby‹s
 > 
	`__bos0
 (
__buf
))

42  
	`__»ad_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
	`__bos0
 (__buf));

44  
	`__»ad_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
);

45 
	}
}

47 #ifdeà
__USE_UNIX98


48 
ssize_t
 
	$__´—d_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

49 
__off_t
 
__off£t
, 
size_t
 
__bufsize
è
__wur
;

50 
ssize_t
 
	$__´—d64_chk
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

51 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
è
__wur
;

52 
ssize_t
 
	`__REDIRECT
 (
__´—d_®Ÿs
,

53 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

54 
__off_t
 
__off£t
), 
´—d
è
__wur
;

55 
ssize_t
 
	`__REDIRECT
 (
__´—d64_®Ÿs
,

56 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

57 
__off64_t
 
__off£t
), 
´—d64
è
__wur
;

58 
ssize_t
 
	`__REDIRECT
 (
__´—d_chk_w¬n
,

59 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

60 
__off_t
 
__off£t
, 
size_t
 
__bufsize
), 
__´—d_chk
)

61 
__wur
 
	`__w¬Ç‰r
 ("pread called with bigger†engthhan size of "

63 
ssize_t
 
	`__REDIRECT
 (
__´—d64_chk_w¬n
,

64 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

65 
__off64_t
 
__off£t
, 
size_t
 
__bufsize
),

66 
__´—d64_chk
)

67 
__wur
 
	`__w¬Ç‰r
 ("pread64 called with bigger†engthhan size of "

70 #iâdeà
__USE_FILE_OFFSET64


71 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


72 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off_t
 
__off£t
)

74 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

76 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

77  
	`__´—d_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

79 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

80  
	`__´—d_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

81 
	`__bos0
 (
__buf
));

83  
	`__´—d_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

84 
	}
}

86 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


87 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
)

89 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

91 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

92  
	`__´—d64_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

94 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

95  
	`__´—d64_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

96 
	`__bos0
 (
__buf
));

99  
	`__´—d64_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

100 
	}
}

103 #ifdeà
__USE_LARGEFILE64


104 
__fÜtify_funùiÚ
 
__wur
 
ssize_t


105 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
)

107 ià(
	`__bos0
 (
__buf
è!ğ(
size_t
) -1)

109 ià(!
	`__butš_cÚ¡ªt_p
 (
__nby‹s
))

110  
	`__´—d64_chk
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
, 
	`__bos0
 (__buf));

112 iàĞ
__nby‹s
 > 
	`__bos0
 (
__buf
))

113  
	`__´—d64_chk_w¬n
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
,

114 
	`__bos0
 (
__buf
));

117  
	`__´—d64_®Ÿs
 (
__fd
, 
__buf
, 
__nby‹s
, 
__off£t
);

118 
	}
}

122 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


123 
ssize_t
 
	$__»adlšk_chk
 (cÚ¡ *
__»¡riù
 
__·th
,

124 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

125 
size_t
 
__buæ’
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

127 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk_®Ÿs
,

128 (cÚ¡ *
__»¡riù
 
__·th
,

129 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
), 
»adlšk
)

130 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

131 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk_chk_w¬n
,

132 (cÚ¡ *
__»¡riù
 
__·th
,

133 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

134 
size_t
 
__buæ’
), 
__»adlšk_chk
)

135 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
	`__w¬Ç‰r
 ("readlink called with bigger†ength "

138 
__fÜtify_funùiÚ
 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
ssize_t


139 
	`__NTH
 (
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
, *__»¡riù 
__buf
,

140 
size_t
 
__Ën
))

142 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

144 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

145  
	`__»adlšk_chk
 (
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

147 iàĞ
__Ën
 > 
	`__bos
 (
__buf
))

148  
	`__»adlšk_chk_w¬n
 (
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

150  
	`__»adlšk_®Ÿs
 (
__·th
, 
__buf
, 
__Ën
);

151 
	}
}

154 #ifdeà
__USE_ATFILE


155 
ssize_t
 
	$__»adlšk©_chk
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

156 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

157 
size_t
 
__buæ’
)

158 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

159 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk©_®Ÿs
,

160 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

161 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
),

162 
»adlšk©
)

163 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

164 
ssize_t
 
	`__REDIRECT_NTH
 (
__»adlšk©_chk_w¬n
,

165 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

166 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
,

167 
size_t
 
__buæ’
), 
__»adlšk©_chk
)

168 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
	`__w¬Ç‰r
 ("readlinkat called with bigger "

172 
__fÜtify_funùiÚ
 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
ssize_t


173 
	`__NTH
 (
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

174 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
))

176 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

178 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

179  
	`__»adlšk©_chk
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

181 ià(
__Ën
 > 
	`__bos
 (
__buf
))

182  
	`__»adlšk©_chk_w¬n
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
,

183 
	`__bos
 (
__buf
));

185  
	`__»adlšk©_®Ÿs
 (
__fd
, 
__·th
, 
__buf
, 
__Ën
);

186 
	}
}

189 *
	$__g‘cwd_chk
 (*
__buf
, 
size_t
 
__size
, size_ˆ
__buæ’
)

190 
__THROW
 
__wur
;

191 *
	`__REDIRECT_NTH
 (
__g‘cwd_®Ÿs
,

192 (*
__buf
, 
size_t
 
__size
), 
g‘cwd
è
__wur
;

193 *
	`__REDIRECT_NTH
 (
__g‘cwd_chk_w¬n
,

194 (*
__buf
, 
size_t
 
__size
, size_ˆ
__buæ’
),

195 
__g‘cwd_chk
)

196 
__wur
 
	`__w¬Ç‰r
 ("getcwd caller with bigger†engthhan size of "

199 
__fÜtify_funùiÚ
 
__wur
 *

200 
	`__NTH
 (
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
))

202 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

204 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
))

205  
	`__g‘cwd_chk
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

207 ià(
__size
 > 
	`__bos
 (
__buf
))

208  
	`__g‘cwd_chk_w¬n
 (
__buf
, 
__size
, 
	`__bos
 (__buf));

210  
	`__g‘cwd_®Ÿs
 (
__buf
, 
__size
);

211 
	}
}

213 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


214 *
	$__g‘wd_chk
 (*
__buf
, 
size_t
 
buæ’
)

215 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

216 *
	`__REDIRECT_NTH
 (
__g‘wd_w¬n
, (*
__buf
), 
g‘wd
)

217 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__w¬Ç‰r
 ("please use getcwd instead,‡s getwd "

220 
__fÜtify_funùiÚ
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
 *

221 
	`__NTH
 (
	$g‘wd
 (*
__buf
))

223 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

224  
	`__g‘wd_chk
 (
__buf
, 
	`__bos
 (__buf));

225  
	`__g‘wd_w¬n
 (
__buf
);

226 
	}
}

229 
size_t
 
	$__cÚf¡r_chk
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
,

230 
size_t
 
__buæ’
è
__THROW
;

231 
size_t
 
	`__REDIRECT_NTH
 (
__cÚf¡r_®Ÿs
, (
__Çme
, *
__buf
,

232 
size_t
 
__Ën
), 
cÚf¡r
);

233 
size_t
 
	`__REDIRECT_NTH
 (
__cÚf¡r_chk_w¬n
,

234 (
__Çme
, *
__buf
, 
size_t
 
__Ën
,

235 
size_t
 
__buæ’
), 
__cÚf¡r_chk
)

236 
	`__w¬Ç‰r
 ("confstr called with bigger†engthhan size of destination "

239 
__fÜtify_funùiÚ
 
size_t


240 
	`__NTH
 (
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
))

242 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

244 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

245  
	`__cÚf¡r_chk
 (
__Çme
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

247 ià(
	`__bos
 (
__buf
è< 
__Ën
)

248  
	`__cÚf¡r_chk_w¬n
 (
__Çme
, 
__buf
, 
__Ën
, 
	`__bos
 (__buf));

250  
	`__cÚf¡r_®Ÿs
 (
__Çme
, 
__buf
, 
__Ën
);

251 
	}
}

254 
	$__g‘groups_chk
 (
__size
, 
__gid_t
 
__li¡
[], 
size_t
 
__li¡Ën
)

255 
__THROW
 
__wur
;

256 
	`__REDIRECT_NTH
 (
__g‘groups_®Ÿs
, (
__size
, 
__gid_t
 
__li¡
[]),

257 
g‘groups
è
__wur
;

258 
	`__REDIRECT_NTH
 (
__g‘groups_chk_w¬n
,

259 (
__size
, 
__gid_t
 
__li¡
[], 
size_t
 
__li¡Ën
),

260 
__g‘groups_chk
)

261 
__wur
 
	`__w¬Ç‰r
 ("getgroups called with bigger group counthan what "

264 
__fÜtify_funùiÚ
 

265 
	`__NTH
 (
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]))

267 ià(
	`__bos
 (
__li¡
è!ğ(
size_t
) -1)

269 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
) || __size < 0)

270  
	`__g‘groups_chk
 (
__size
, 
__li¡
, 
	`__bos
 (__list));

272 ià(
__size
 *  (
__gid_t
è> 
	`__bos
 (
__li¡
))

273  
	`__g‘groups_chk_w¬n
 (
__size
, 
__li¡
, 
	`__bos
 (__list));

275  
	`__g‘groups_®Ÿs
 (
__size
, 
__li¡
);

276 
	}
}

279 
	$__‰yÇme_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

280 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

281 
	`__REDIRECT_NTH
 (
__‰yÇme_r_®Ÿs
, (
__fd
, *
__buf
,

282 
size_t
 
__buæ’
), 
‰yÇme_r
)

283 
	`__nÚnuÎ
 ((2));

284 
	`__REDIRECT_NTH
 (
__‰yÇme_r_chk_w¬n
,

285 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

286 
size_t
 
__Ä—l
), 
__‰yÇme_r_chk
)

287 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ttyname_r called with bigger buflenhan "

290 
__fÜtify_funùiÚ
 

291 
	`__NTH
 (
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

293 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

295 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

296  
	`__‰yÇme_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

298 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

299  
	`__‰yÇme_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

301  
	`__‰yÇme_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

302 
	}
}

305 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


306 
	$__g‘logš_r_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

307 
	`__nÚnuÎ
 ((1));

308 
	`__REDIRECT
 (
__g‘logš_r_®Ÿs
, (*
__buf
, 
size_t
 
__buæ’
),

309 
g‘logš_r
è
	`__nÚnuÎ
 ((1));

310 
	`__REDIRECT
 (
__g‘logš_r_chk_w¬n
,

311 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

312 
__g‘logš_r_chk
)

313 
	`__nÚnuÎ
 ((1)è
	`__w¬Ç‰r
 ("getlogin_r called with bigger buflenhan "

316 
__fÜtify_funùiÚ
 

317 
	$g‘logš_r
 (*
__buf
, 
size_t
 
__buæ’
)

319 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

321 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

322  
	`__g‘logš_r_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

324 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

325  
	`__g‘logš_r_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

327  
	`__g‘logš_r_®Ÿs
 (
__buf
, 
__buæ’
);

328 
	}
}

332 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98


333 
	$__g‘ho¡Çme_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

334 
__THROW
 
	`__nÚnuÎ
 ((1));

335 
	`__REDIRECT_NTH
 (
__g‘ho¡Çme_®Ÿs
, (*
__buf
, 
size_t
 
__buæ’
),

336 
g‘ho¡Çme
è
	`__nÚnuÎ
 ((1));

337 
	`__REDIRECT_NTH
 (
__g‘ho¡Çme_chk_w¬n
,

338 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

339 
__g‘ho¡Çme_chk
)

340 
	`__nÚnuÎ
 ((1)è
	`__w¬Ç‰r
 ("gethostname called with bigger buflenhan "

343 
__fÜtify_funùiÚ
 

344 
	`__NTH
 (
	$g‘ho¡Çme
 (*
__buf
, 
size_t
 
__buæ’
))

346 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

348 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

349  
	`__g‘ho¡Çme_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

351 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

352  
	`__g‘ho¡Çme_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

354  
	`__g‘ho¡Çme_®Ÿs
 (
__buf
, 
__buæ’
);

355 
	}
}

359 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

360 
	$__g‘domašÇme_chk
 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
)

361 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

362 
	`__REDIRECT_NTH
 (
__g‘domašÇme_®Ÿs
, (*
__buf
,

363 
size_t
 
__buæ’
),

364 
g‘domašÇme
è
	`__nÚnuÎ
 ((1)è
__wur
;

365 
	`__REDIRECT_NTH
 (
__g‘domašÇme_chk_w¬n
,

366 (*
__buf
, 
size_t
 
__buæ’
, size_ˆ
__Ä—l
),

367 
__g‘domašÇme_chk
)

368 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__w¬Ç‰r
 ("getdomainname called with bigger "

372 
__fÜtify_funùiÚ
 

373 
	`__NTH
 (
	$g‘domašÇme
 (*
__buf
, 
size_t
 
__buæ’
))

375 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

377 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

378  
	`__g‘domašÇme_chk
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

380 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

381  
	`__g‘domašÇme_chk_w¬n
 (
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

383  
	`__g‘domašÇme_®Ÿs
 (
__buf
, 
__buæ’
);

384 
	}
}

	@/usr/include/bits/utsname.h

18 #iâdeà
_SYS_UTSNAME_H


23 
	#_UTSNAME_LENGTH
 65

	)

28 
	#_UTSNAME_DOMAIN_LENGTH
 
_UTSNAME_LENGTH


	)

	@/usr/include/bits/waitflags.h

19 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


25 
	#WNOHANG
 1

	)

26 
	#WUNTRACED
 2

	)

29 
	#WSTOPPED
 2

	)

30 
	#WEXITED
 4

	)

31 
	#WCONTINUED
 8

	)

32 
	#WNOWAIT
 0x01000000

	)

34 
	#__WNOTHREAD
 0x20000000

	)

36 
	#__WALL
 0x40000000

	)

37 
	#__WCLONE
 0x80000000

	)

40 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


41 #iâdeà
__ENUM_IDTYPE_T


42 
	#__ENUM_IDTYPE_T
 1

	)

46 #undeà
P_ALL


47 #undeà
P_PID


48 #undeà
P_PGID


52 
	mP_ALL
,

53 
	mP_PID
,

54 
	mP_PGID


55 } 
	tidty³_t
;

	@/usr/include/bits/waitstatus.h

19 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


28 
	#__WEXITSTATUS
(
¡©us
è(((¡©usè& 0xff00è>> 8)

	)

31 
	#__WTERMSIG
(
¡©us
è((¡©usè& 0x7f)

	)

34 
	#__WSTOPSIG
(
¡©us
è
	`__WEXITSTATUS
(¡©us)

	)

37 
	#__WIFEXITED
(
¡©us
è(
	`__WTERMSIG
(¡©usè=ğ0)

	)

40 
	#__WIFSIGNALED
(
¡©us
) \

41 (((sigÃd è(((
¡©us
è& 0x7fè+ 1è>> 1è> 0)

	)

44 
	#__WIFSTOPPED
(
¡©us
è(((¡©usè& 0xffè=ğ0x7f)

	)

48 #ifdeà
WCONTINUED


49 
	#__WIFCONTINUED
(
¡©us
è((¡©usè=ğ
__W_CONTINUED
)

	)

53 
	#__WCOREDUMP
(
¡©us
è((¡©usè& 
__WCOREFLAG
)

	)

56 
	#__W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

57 
	#__W_STOPCODE
(
sig
è((sigè<< 8 | 0x7f)

	)

58 
	#__W_CONTINUED
 0xffff

	)

59 
	#__WCOREFLAG
 0x80

	)

62 #ifdef 
__USE_BSD


64 
	~<’dŸn.h
>

66 
	uwa™


68 
	mw_¡©us
;

71 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


72 
	m__w_‹rmsig
:7;

73 
	m__w_cÜedump
:1;

74 
	m__w_»tcode
:8;

77 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


79 
	m__w_»tcode
:8;

80 
	m__w_cÜedump
:1;

81 
	m__w_‹rmsig
:7;

83 } 
	m__wa™_‹rmš©ed
;

86 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


87 
	m__w_¡İv®
:8;

88 
	m__w_¡İsig
:8;

91 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


93 
	m__w_¡İsig
:8;

94 
	m__w_¡İv®
:8;

96 } 
	m__wa™_¡İ³d
;

99 
	#w_‹rmsig
 
__wa™_‹rmš©ed
.
__w_‹rmsig


	)

100 
	#w_cÜedump
 
__wa™_‹rmš©ed
.
__w_cÜedump


	)

101 
	#w_»tcode
 
__wa™_‹rmš©ed
.
__w_»tcode


	)

102 
	#w_¡İsig
 
__wa™_¡İ³d
.
__w_¡İsig


	)

103 
	#w_¡İv®
 
__wa™_¡İ³d
.
__w_¡İv®


	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__
 && !defšed 
__ILP32__


4 
	#__WORDSIZE
 64

	)

6 
	#__WORDSIZE
 32

	)

9 #ifdeà
__x86_64__


10 
	#__WORDSIZE_TIME64_COMPAT32
 1

	)

12 
	#__SYSCALL_WORDSIZE
 64

	)

	@/usr/include/bits/xopen_lim.h

29 #iâdeà
_XOPEN_LIM_H


30 
	#_XOPEN_LIM_H
 1

	)

32 
	#__Ãed_IOV_MAX


	)

33 
	~<b™s/¡dio_lim.h
>

65 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

70 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

73 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

76 
	#NL_MSGMAX
 
INT_MAX


	)

80 
	#NL_NMAX
 
INT_MAX


	)

83 
	#NL_SETMAX
 
INT_MAX


	)

86 
	#NL_TEXTMAX
 
INT_MAX


	)

89 
	#NZERO
 20

	)

93 #ifdeà
INT_MAX


94 #ià
INT_MAX
 == 32767

95 
	#WORD_BIT
 16

	)

97 #ià
INT_MAX
 == 2147483647

98 
	#WORD_BIT
 32

	)

101 
	#WORD_BIT
 64

	)

104 #–ià
defšed
 
__INT_MAX__


105 #ià
__INT_MAX__
 == 32767

106 
	#WORD_BIT
 16

	)

108 #ià
__INT_MAX__
 == 2147483647

109 
	#WORD_BIT
 32

	)

112 
	#WORD_BIT
 64

	)

116 
	#WORD_BIT
 32

	)

120 #ifdeà
LONG_MAX


121 #ià
LONG_MAX
 == 2147483647

122 
	#LONG_BIT
 32

	)

125 
	#LONG_BIT
 64

	)

127 #–ià
defšed
 
__LONG_MAX__


128 #ià
__LONG_MAX__
 == 2147483647

129 
	#LONG_BIT
 32

	)

132 
	#LONG_BIT
 64

	)

135 
	~<b™s/wÜdsize.h
>

136 #ià
__WORDSIZE
 == 64

137 
	#LONG_BIT
 64

	)

139 
	#LONG_BIT
 32

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

101 #undeà
__USE_ISOC11


102 #undeà
__USE_ISOC99


103 #undeà
__USE_ISOC95


104 #undeà
__USE_ISOCXX11


105 #undeà
__USE_POSIX


106 #undeà
__USE_POSIX2


107 #undeà
__USE_POSIX199309


108 #undeà
__USE_POSIX199506


109 #undeà
__USE_XOPEN


110 #undeà
__USE_XOPEN_EXTENDED


111 #undeà
__USE_UNIX98


112 #undeà
__USE_XOPEN2K


113 #undeà
__USE_XOPEN2KXSI


114 #undeà
__USE_XOPEN2K8


115 #undeà
__USE_XOPEN2K8XSI


116 #undeà
__USE_LARGEFILE


117 #undeà
__USE_LARGEFILE64


118 #undeà
__USE_FILE_OFFSET64


119 #undeà
__USE_BSD


120 #undeà
__USE_SVID


121 #undeà
__USE_MISC


122 #undeà
__USE_ATFILE


123 #undeà
__USE_GNU


124 #undeà
__USE_REENTRANT


125 #undeà
__USE_FORTIFY_LEVEL


126 #undeà
__KERNEL_STRICT_NAMES


130 #iâdeà
_LOOSE_KERNEL_NAMES


131 
	#__KERNEL_STRICT_NAMES


	)

141 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


142 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

143 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

145 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

150 #ifdeà
_GNU_SOURCE


151 #undeà
_ISOC95_SOURCE


152 
	#_ISOC95_SOURCE
 1

	)

153 #undeà
_ISOC99_SOURCE


154 
	#_ISOC99_SOURCE
 1

	)

155 #undeà
_ISOC11_SOURCE


156 
	#_ISOC11_SOURCE
 1

	)

157 #undeà
_POSIX_SOURCE


158 
	#_POSIX_SOURCE
 1

	)

159 #undeà
_POSIX_C_SOURCE


160 
	#_POSIX_C_SOURCE
 200809L

	)

161 #undeà
_XOPEN_SOURCE


162 
	#_XOPEN_SOURCE
 700

	)

163 #undeà
_XOPEN_SOURCE_EXTENDED


164 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

165 #undeà
_LARGEFILE64_SOURCE


166 
	#_LARGEFILE64_SOURCE
 1

	)

167 #undeà
_DEFAULT_SOURCE


168 
	#_DEFAULT_SOURCE
 1

	)

169 #undeà
_BSD_SOURCE


170 
	#_BSD_SOURCE
 1

	)

171 #undeà
_SVID_SOURCE


172 
	#_SVID_SOURCE
 1

	)

173 #undeà
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #ià(
defšed
 
_DEFAULT_SOURCE
 \

180 || (!
defšed
 
	g__STRICT_ANSI__
 \

181 && !
defšed
 
	g_ISOC99_SOURCE
 \

182 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

183 && !
defšed
 
	g_XOPEN_SOURCE
 \

184 && !
defšed
 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
))

185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

187 #undeà
_BSD_SOURCE


188 
	#_BSD_SOURCE
 1

	)

189 #undeà
_SVID_SOURCE


190 
	#_SVID_SOURCE
 1

	)

194 #ià(
defšed
 
_ISOC11_SOURCE
 \

195 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

196 
	#__USE_ISOC11
 1

	)

200 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

201 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

202 
	#__USE_ISOC99
 1

	)

206 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

207 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

208 
	#__USE_ISOC95
 1

	)

215 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

216 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

217 
	#__USE_ISOCXX11
 1

	)

223 #ifdeà
_DEFAULT_SOURCE


224 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


225 
	#__USE_POSIX_IMPLICITLY
 1

	)

227 #undeà
_POSIX_SOURCE


228 
	#_POSIX_SOURCE
 1

	)

229 #undeà
_POSIX_C_SOURCE


230 
	#_POSIX_C_SOURCE
 200809L

	)

232 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

233 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

234 
	#_POSIX_SOURCE
 1

	)

235 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

236 
	#_POSIX_C_SOURCE
 2

	)

237 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

238 
	#_POSIX_C_SOURCE
 199506L

	)

239 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

240 
	#_POSIX_C_SOURCE
 200112L

	)

242 
	#_POSIX_C_SOURCE
 200809L

	)

244 
	#__USE_POSIX_IMPLICITLY
 1

	)

247 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


248 
	#__USE_POSIX
 1

	)

251 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


252 
	#__USE_POSIX2
 1

	)

255 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

256 
	#__USE_POSIX199309
 1

	)

259 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

260 
	#__USE_POSIX199506
 1

	)

263 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

264 
	#__USE_XOPEN2K
 1

	)

265 #undeà
__USE_ISOC95


266 
	#__USE_ISOC95
 1

	)

267 #undeà
__USE_ISOC99


268 
	#__USE_ISOC99
 1

	)

271 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

272 
	#__USE_XOPEN2K8
 1

	)

273 #undeà
_ATFILE_SOURCE


274 
	#_ATFILE_SOURCE
 1

	)

277 #ifdef 
_XOPEN_SOURCE


278 
	#__USE_XOPEN
 1

	)

279 #ià(
_XOPEN_SOURCE
 - 0) >= 500

280 
	#__USE_XOPEN_EXTENDED
 1

	)

281 
	#__USE_UNIX98
 1

	)

282 #undeà
_LARGEFILE_SOURCE


283 
	#_LARGEFILE_SOURCE
 1

	)

284 #ià(
_XOPEN_SOURCE
 - 0) >= 600

285 #ià(
_XOPEN_SOURCE
 - 0) >= 700

286 
	#__USE_XOPEN2K8
 1

	)

287 
	#__USE_XOPEN2K8XSI
 1

	)

289 
	#__USE_XOPEN2K
 1

	)

290 
	#__USE_XOPEN2KXSI
 1

	)

291 #undeà
__USE_ISOC95


292 
	#__USE_ISOC95
 1

	)

293 #undeà
__USE_ISOC99


294 
	#__USE_ISOC99
 1

	)

297 #ifdeà
_XOPEN_SOURCE_EXTENDED


298 
	#__USE_XOPEN_EXTENDED
 1

	)

303 #ifdeà
_LARGEFILE_SOURCE


304 
	#__USE_LARGEFILE
 1

	)

307 #ifdeà
_LARGEFILE64_SOURCE


308 
	#__USE_LARGEFILE64
 1

	)

311 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

312 
	#__USE_FILE_OFFSET64
 1

	)

315 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


316 
	#__USE_MISC
 1

	)

319 #ifdef 
_BSD_SOURCE


320 
	#__USE_BSD
 1

	)

323 #ifdef 
_SVID_SOURCE


324 
	#__USE_SVID
 1

	)

327 #ifdef 
_ATFILE_SOURCE


328 
	#__USE_ATFILE
 1

	)

331 #ifdef 
_GNU_SOURCE


332 
	#__USE_GNU
 1

	)

335 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


336 
	#__USE_REENTRANT
 1

	)

339 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

340 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

341 #ià
_FORTIFY_SOURCE
 > 1

342 
	#__USE_FORTIFY_LEVEL
 2

	)

344 
	#__USE_FORTIFY_LEVEL
 1

	)

347 
	#__USE_FORTIFY_LEVEL
 0

	)

352 
	~<¡dc-´edef.h
>

360 #undeà
__GNU_LIBRARY__


361 
	#__GNU_LIBRARY__
 6

	)

365 
	#__GLIBC__
 2

	)

366 
	#__GLIBC_MINOR__
 19

	)

368 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

369 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

372 #iâdeà
__ASSEMBLER__


373 #iâdeà
_SYS_CDEFS_H


374 
	~<sys/cdefs.h
>

379 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


380 
	#__USE_LARGEFILE
 1

	)

381 
	#__USE_LARGEFILE64
 1

	)

387 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

388 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

389 && 
defšed
 
	g__ex‹º_šlše


390 
	#__USE_EXTERN_INLINES
 1

	)

398 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

19 #iâdeà
_GETOPT_H


21 #iâdeà
__Ãed_g‘İt


22 
	#_GETOPT_H
 1

	)

32 #ià!
defšed
 
__GNU_LIBRARY__


33 
	~<ùy³.h
>

36 #iâdeà
__THROW


37 #iâdeà
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

40 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__ılu¥lus


57 *
İrg
;

71 
İtšd
;

76 
İ‹¼
;

80 
İtİt
;

82 #iâdeà
__Ãed_g‘İt


104 
	sİtiÚ


106 cÚ¡ *
	gÇme
;

109 
	ghas_¬g
;

110 *
	gæag
;

111 
	gv®
;

116 
	#no_¬gum’t
 0

	)

117 
	#»quœed_¬gum’t
 1

	)

118 
	#İtiÚ®_¬gum’t
 2

	)

146 #ifdeà
__GNU_LIBRARY__


150 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

151 
__THROW
;

153 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

154 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


158 #ifdeà
__REDIRECT


159 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

160 cÚ¡ *
__shÜtİts
),

161 
__posix_g‘İt
);

163 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

164 cÚ¡ *
__shÜtİts
è
__THROW
;

165 
	#g‘İt
 
__posix_g‘İt


	)

169 
g‘İt
 ();

172 #iâdeà
__Ãed_g‘İt


173 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

174 cÚ¡ *
__shÜtİts
,

175 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

176 
__THROW
;

177 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

178 cÚ¡ *
__shÜtİts
,

179 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

180 
__THROW
;

184 #ifdef 
__ılu¥lus


189 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

28 #iâdeà
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_cÚfig.h
>

33 
	#_IO_åos_t
 
_G_åos_t


	)

34 
	#_IO_åos64_t
 
_G_åos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li¡
 
_G_va_li¡


	)

45 
	#_IO_wšt_t
 
wšt_t


	)

48 
	#__Ãed___va_li¡


	)

49 
	~<¡d¬g.h
>

50 #ifdeà
__GNUC_VA_LIST


51 #undeà
_IO_va_li¡


52 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

55 #iâdeà
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #iâdeà
EOF


62 
	#EOF
 (-1)

	)

64 #iâdeà
NULL


65 #ià
defšed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuÎ
)

	)

69 #ià!
defšed
(
__ılu¥lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifdeà
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifdeà
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifdeà
_IO_MTSAFE_IO


148 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

149 
	~<b™s/¡dio-lock.h
>

154 
	t_IO_lock_t
;

160 
	s_IO_m¬k”
 {

161 
_IO_m¬k”
 *
	m_Ãxt
;

162 
_IO_FILE
 *
	m_sbuf
;

166 
	m_pos
;

168 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

169 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

170 
	mpublic
:

171 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

172 ~
¡»amm¬k”
();

173 
§všg
(è{  
	m_¥os
 == -2; }

174 
d–
(
¡»amm¬k”
&);

175 
d–
();

180 
	e__codecvt_»suÉ


182 
	m__codecvt_ok
,

183 
	m__codecvt_·¹Ÿl
,

184 
	m__codecvt_”rÜ
,

185 
	m__codecvt_nocÚv


188 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


191 
	s_IO_codecvt


193 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

194 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

195 
	m__mb¡©e_t
 *,

196 cÚ¡ 
	mwch¬_t
 *,

197 cÚ¡ 
	mwch¬_t
 *,

198 cÚ¡ 
	mwch¬_t
 **, *,

200 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

201 
	m__mb¡©e_t
 *, *,

203 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

204 
	m__mb¡©e_t
 *,

206 cÚ¡ **, 
	mwch¬_t
 *,

207 
	mwch¬_t
 *, wchar_t **);

208 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

209 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

211 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

212 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

214 
_IO_icÚv_t
 
	m__cd_š
;

215 
_IO_icÚv_t
 
	m__cd_out
;

219 
	s_IO_wide_d©a


221 
wch¬_t
 *
	m_IO_»ad_±r
;

222 
wch¬_t
 *
	m_IO_»ad_’d
;

223 
wch¬_t
 *
	m_IO_»ad_ba£
;

224 
wch¬_t
 *
	m_IO_wr™e_ba£
;

225 
wch¬_t
 *
	m_IO_wr™e_±r
;

226 
wch¬_t
 *
	m_IO_wr™e_’d
;

227 
wch¬_t
 *
	m_IO_buf_ba£
;

228 
wch¬_t
 *
	m_IO_buf_’d
;

230 
wch¬_t
 *
	m_IO_§ve_ba£
;

231 
wch¬_t
 *
	m_IO_backup_ba£
;

233 
wch¬_t
 *
	m_IO_§ve_’d
;

235 
__mb¡©e_t
 
	m_IO_¡©e
;

236 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

237 
_IO_codecvt
 
	m_codecvt
;

239 
wch¬_t
 
	m_shÜtbuf
[1];

241 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

245 
	s_IO_FILE
 {

246 
	m_æags
;

247 
	#_IO_fe_æags
 
_æags


	)

251 * 
	m_IO_»ad_±r
;

252 * 
	m_IO_»ad_’d
;

253 * 
	m_IO_»ad_ba£
;

254 * 
	m_IO_wr™e_ba£
;

255 * 
	m_IO_wr™e_±r
;

256 * 
	m_IO_wr™e_’d
;

257 * 
	m_IO_buf_ba£
;

258 * 
	m_IO_buf_’d
;

260 *
	m_IO_§ve_ba£
;

261 *
	m_IO_backup_ba£
;

262 *
	m_IO_§ve_’d
;

264 
_IO_m¬k”
 *
	m_m¬k”s
;

266 
_IO_FILE
 *
	m_chaš
;

268 
	m_f’o
;

270 
	m_blksize
;

272 
	m_æags2
;

274 
_IO_off_t
 
	m_Şd_off£t
;

276 
	#__HAVE_COLUMN


	)

278 
	m_cur_cŞumn
;

279 sigÃd 
	m_vbË_off£t
;

280 
	m_shÜtbuf
[1];

284 
_IO_lock_t
 *
	m_lock
;

285 #ifdeà
_IO_USE_OLD_IO_FILE


288 
	s_IO_FILE_com¶‘e


290 
_IO_FILE
 
	m_fe
;

292 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

293 
_IO_off64_t
 
	m_off£t
;

294 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


296 
_IO_codecvt
 *
	m_codecvt
;

297 
_IO_wide_d©a
 *
	m_wide_d©a
;

298 
_IO_FILE
 *
	m_ä“»s_li¡
;

299 *
	m_ä“»s_buf
;

300 
size_t
 
	m_ä“»s_size
;

302 *
	m__·d1
;

303 *
	m__·d2
;

304 *
	m__·d3
;

305 *
	m__·d4
;

306 
size_t
 
	m__·d5
;

308 
	m_mode
;

310 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

314 #iâdeà
__ılu¥lus


315 
_IO_FILE
 
	t_IO_FILE
;

318 
	g_IO_FILE_¶us
;

320 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

321 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

322 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

323 #iâdeà
_LIBC


324 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

325 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

326 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

328 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

329 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

330 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

338 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

346 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

347 
	tsize_t
 
	t__n
);

355 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

358 
	t__io_şo£_â
 (*
	t__cook›
);

361 #ifdeà
_GNU_SOURCE


363 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

364 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

365 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

366 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

371 
__io_»ad_â
 *
	m»ad
;

372 
__io_wr™e_â
 *
	mwr™e
;

373 
__io_£ek_â
 *
	m£ek
;

374 
__io_şo£_â
 *
	mşo£
;

375 } 
	t_IO_cook›_io_funùiÚs_t
;

376 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

378 
	g_IO_cook›_fe
;

381 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

382 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

386 #ifdeà
__ılu¥lus


390 
__und”æow
 (
_IO_FILE
 *);

391 
__uæow
 (
_IO_FILE
 *);

392 
__ov”æow
 (
_IO_FILE
 *, );

393 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


394 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

395 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

396 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

399 #ià 
__GNUC__
 >= 3

400 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

402 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

405 
	#_IO_g‘c_uÆocked
(
_å
) \

406 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

407 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

408 
	#_IO_³ekc_uÆocked
(
_å
) \

409 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

410 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

411 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

412 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

413 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

414 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

415 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

417 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


418 
	#_IO_g‘wc_uÆocked
(
_å
) \

419 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

420 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

421 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

422 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

423 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

424 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

425 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

426 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

427 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

428 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

431 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

432 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

434 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

435 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

436 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

437 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

439 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

442 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

443 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

445 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

446 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

447 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

449 #ifdeà
_IO_MTSAFE_IO


450 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

451 
	#_IO_æockfe
(
_å
) \

452 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

453 
	#_IO_fuÆockfe
(
_å
) \

454 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

456 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

457 
	#_IO_æockfe
(
_å
è

	)

458 
	#_IO_fuÆockfe
(
_å
è

	)

459 
	#_IO_árylockfe
(
_å
è

	)

460 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

461 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

464 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

465 
_IO_va_li¡
, *
__»¡riù
);

466 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

467 
_IO_va_li¡
);

468 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

469 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

471 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

472 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

474 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

476 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


477 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

478 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

479 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

480 #ià
__GNUC__
 >= 2

483 #ià
defšed
 
_LIBC
 && defšed 
SHARED


484 
	~<shlib-com·t.h
>

485 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

486 
	#_IO_fwide_maybe_šcom·tibË
 \

487 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

488 cÚ¡ 
_IO_¡dš_u£d
;

489 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

492 #iâdeà
_IO_fwide_maybe_šcom·tibË


493 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

497 
	#_IO_fwide
(
__å
, 
__mode
) \

498 ({ 
__»suÉ
 = (
__mode
); \

499 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

501 ià((
__å
)->
_mode
 == 0) \

503 (
__å
)->
_mode
 = -1; \

504 
__»suÉ
 = (
__å
)->
_mode
; \

506 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

507 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

509 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

510 
__»suÉ
; })

	)

513 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

514 
_IO_va_li¡
, *
__»¡riù
);

515 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

516 
_IO_va_li¡
);

517 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

518 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

521 #ifdeà
__LDBL_COMPAT


522 
	~<b™s/libio-ldbl.h
>

525 #ifdeà
__ılu¥lus


	@/usr/include/linux/kernel.h

1 #iâdeà
_LINUX_KERNEL_H


2 
	#_LINUX_KERNEL_H


	)

4 
	~<lšux/sysšfo.h
>

9 
	#__ALIGN_KERNEL
(
x
, 
a
è
	`__ALIGN_KERNEL_MASK
(x, (
	`ty³of
(x))×è- 1)

	)

10 
	#__ALIGN_KERNEL_MASK
(
x
, 
mask
è(((xè+ (mask)è& ~(mask))

	)

	@/usr/include/rpc/netdb.h

36 #iâdeà
_RPC_NETDB_H


37 
	#_RPC_NETDB_H
 1

	)

39 
	~<ã©u»s.h
>

41 
	#__Ãed_size_t


	)

42 
	~<¡ddef.h
>

44 
__BEGIN_DECLS


46 
	s½ûÁ


48 *
	mr_Çme
;

49 **
	mr_®Ÿ£s
;

50 
	mr_numb”
;

53 
	$£ŒpûÁ
 (
__¡ayİ’
è
__THROW
;

54 
	$’d½ûÁ
 (è
__THROW
;

55 
½ûÁ
 *
	$g‘½cbyÇme
 (cÚ¡ *
__Çme
è
__THROW
;

56 
½ûÁ
 *
	$g‘½cbynumb”
 (
__numb”
è
__THROW
;

57 
½ûÁ
 *
	$g‘½ûÁ
 (è
__THROW
;

59 #ifdeà
__USE_MISC


60 
	$g‘½cbyÇme_r
 (cÚ¡ *
__Çme
, 
½ûÁ
 *
__»suÉ_buf
,

61 *
__bufãr
, 
size_t
 
__buæ’
,

62 
½ûÁ
 **
__»suÉ
è
__THROW
;

64 
	$g‘½cbynumb”_r
 (
__numb”
, 
½ûÁ
 *
__»suÉ_buf
,

65 *
__bufãr
, 
size_t
 
__buæ’
,

66 
½ûÁ
 **
__»suÉ
è
__THROW
;

68 
	$g‘½ûÁ_r
 (
½ûÁ
 *
__»suÉ_buf
, *
__bufãr
,

69 
size_t
 
__buæ’
, 
½ûÁ
 **
__»suÉ
è
__THROW
;

72 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

144 #ià
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
èø## 
L


	)

146 
	#__UINT64_C
(
c
èø## 
UL


	)

148 
	#__INT64_C
(
c
èø## 
LL


	)

149 
	#__UINT64_C
(
c
èø## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #ià
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #ià
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #ià
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #ià
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #ià
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #ià
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 
	#SIZE_MAX
 (4294967295U)

	)

267 #iâdeà
WCHAR_MIN


269 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

270 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

274 
	#WINT_MIN
 (0u)

	)

275 
	#WINT_MAX
 (4294967295u)

	)

278 
	#INT8_C
(
c
è
	)
c

279 
	#INT16_C
(
c
è
	)
c

280 
	#INT32_C
(
c
è
	)
c

281 #ià
__WORDSIZE
 == 64

282 
	#INT64_C
(
c
èø## 
L


	)

284 
	#INT64_C
(
c
èø## 
LL


	)

288 
	#UINT8_C
(
c
è
	)
c

289 
	#UINT16_C
(
c
è
	)
c

290 
	#UINT32_C
(
c
èø## 
U


	)

291 #ià
__WORDSIZE
 == 64

292 
	#UINT64_C
(
c
èø## 
UL


	)

294 
	#UINT64_C
(
c
èø## 
ULL


	)

298 #ià
__WORDSIZE
 == 64

299 
	#INTMAX_C
(
c
èø## 
L


	)

300 
	#UINTMAX_C
(
c
èø## 
UL


	)

302 
	#INTMAX_C
(
c
èø## 
LL


	)

303 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/sys/sysmacros.h

19 #iâdeà
_SYS_SYSMACROS_H


20 
	#_SYS_SYSMACROS_H
 1

	)

22 
	~<ã©u»s.h
>

24 
__BEGIN_DECLS


26 
__ex‹nsiÚ__


27 
	$gnu_dev_majÜ
 (
__dev
)

28 
__THROW
 
__©Œibu‹_cÚ¡__
;

29 
__ex‹nsiÚ__


30 
	$gnu_dev_mšÜ
 (
__dev
)

31 
__THROW
 
__©Œibu‹_cÚ¡__
;

32 
__ex‹nsiÚ__


33 
	$gnu_dev_makedev
 (
__majÜ
,

34 
__mšÜ
)

35 
__THROW
 
__©Œibu‹_cÚ¡__
;

37 #ifdeà
__USE_EXTERN_INLINES


38 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

39 
	`__NTH
 (
	$gnu_dev_majÜ
 (
__dev
))

41  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

42 
	}
}

44 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

45 
__NTH
 (
	$gnu_dev_mšÜ
 (
__dev
))

47  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

48 
	}
}

50 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

51 
__NTH
 (
	$gnu_dev_makedev
 (
__majÜ
, 
__mšÜ
))

53  ((
__mšÜ
 & 0xffè| ((
__majÜ
 & 0xfff) << 8)

54 | (((è(
__mšÜ
 & ~0xff)) << 12)

55 | (((è(
__majÜ
 & ~0xfff)) << 32));

56 
	}
}

58 
	g__END_DECLS


61 
	#majÜ
(
dev
è
	`gnu_dev_majÜ
 (dev)

	)

62 
	#mšÜ
(
dev
è
	`gnu_dev_mšÜ
 (dev)

	)

63 
	#makedev
(
maj
, 
mš
è
	`gnu_dev_makedev
 (maj, mš)

	)

	@/usr/include/sys/ttydefaults.h

40 #iâdeà
_SYS_TTYDEFAULTS_H_


41 
	#_SYS_TTYDEFAULTS_H_


	)

46 
	#TTYDEF_IFLAG
 (
BRKINT
 | 
ISTRIP
 | 
ICRNL
 | 
IMAXBEL
 | 
IXON
 | 
IXANY
)

	)

47 
	#TTYDEF_OFLAG
 (
OPOST
 | 
ONLCR
 | 
XTABS
)

	)

48 
	#TTYDEF_LFLAG
 (
ECHO
 | 
ICANON
 | 
ISIG
 | 
IEXTEN
 | 
ECHOE
|
ECHOKE
|
ECHOCTL
)

	)

49 
	#TTYDEF_CFLAG
 (
CREAD
 | 
CS7
 | 
PARENB
 | 
HUPCL
)

	)

50 
	#TTYDEF_SPEED
 (
B9600
)

	)

55 
	#CTRL
(
x
è(x&037)

	)

56 
	#CEOF
 
	`CTRL
('d')

	)

57 #ifdeà
_POSIX_VDISABLE


58 
	#CEOL
 
_POSIX_VDISABLE


	)

60 
	#CEOL
 '\0'

	)

62 
	#CERASE
 0177

	)

63 
	#CINTR
 
	`CTRL
('c')

	)

64 #ifdeà
_POSIX_VDISABLE


65 
	#CSTATUS
 
_POSIX_VDISABLE


	)

67 
	#CSTATUS
 '\0'

	)

69 
	#CKILL
 
	`CTRL
('u')

	)

70 
	#CMIN
 1

	)

71 
	#CQUIT
 034

	)

72 
	#CSUSP
 
	`CTRL
('z')

	)

73 
	#CTIME
 0

	)

74 
	#CDSUSP
 
	`CTRL
('y')

	)

75 
	#CSTART
 
	`CTRL
('q')

	)

76 
	#CSTOP
 
	`CTRL
('s')

	)

77 
	#CLNEXT
 
	`CTRL
('v')

	)

78 
	#CDISCARD
 
	`CTRL
('o')

	)

79 
	#CWERASE
 
	`CTRL
('w')

	)

80 
	#CREPRINT
 
	`CTRL
('r')

	)

81 
	#CEOT
 
CEOF


	)

83 
	#CBRK
 
CEOL


	)

84 
	#CRPRNT
 
CREPRINT


	)

85 
	#CFLUSH
 
CDISCARD


	)

93 #ifdeà
TTYDEFCHARS


94 
cc_t
 
	g‰ydefch¬s
[
NCCS
] = {

95 
CEOF
, 
CEOL
, CEOL, 
CERASE
, 
CWERASE
, 
CKILL
, 
CREPRINT
,

96 
_POSIX_VDISABLE
, 
CINTR
, 
CQUIT
, 
CSUSP
, 
CDSUSP
, 
CSTART
, 
CSTOP
, 
CLNEXT
,

97 
CDISCARD
, 
CMIN
, 
CTIME
, 
CSTATUS
, 
_POSIX_VDISABLE


99 #undeà
TTYDEFCHARS


	@/usr/include/sys/ucontext.h

18 #iâdeà
_SYS_UCONTEXT_H


19 
	#_SYS_UCONTEXT_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<sigÇl.h
>

26 
	~<b™s/sigcÚ‹xt.h
>

28 #ifdeà
__x86_64__


31 
__ex‹nsiÚ__
 
	tg»g_t
;

34 
	#NGREG
 23

	)

37 
g»g_t
 
	tg»g£t_t
[
NGREG
];

39 #ifdeà
__USE_GNU


43 
	mREG_R8
 = 0,

44 
	#REG_R8
 
REG_R8


	)

45 
	mREG_R9
,

46 
	#REG_R9
 
REG_R9


	)

47 
	mREG_R10
,

48 
	#REG_R10
 
REG_R10


	)

49 
	mREG_R11
,

50 
	#REG_R11
 
REG_R11


	)

51 
	mREG_R12
,

52 
	#REG_R12
 
REG_R12


	)

53 
	mREG_R13
,

54 
	#REG_R13
 
REG_R13


	)

55 
	mREG_R14
,

56 
	#REG_R14
 
REG_R14


	)

57 
	mREG_R15
,

58 
	#REG_R15
 
REG_R15


	)

59 
	mREG_RDI
,

60 
	#REG_RDI
 
REG_RDI


	)

61 
	mREG_RSI
,

62 
	#REG_RSI
 
REG_RSI


	)

63 
	mREG_RBP
,

64 
	#REG_RBP
 
REG_RBP


	)

65 
	mREG_RBX
,

66 
	#REG_RBX
 
REG_RBX


	)

67 
	mREG_RDX
,

68 
	#REG_RDX
 
REG_RDX


	)

69 
	mREG_RAX
,

70 
	#REG_RAX
 
REG_RAX


	)

71 
	mREG_RCX
,

72 
	#REG_RCX
 
REG_RCX


	)

73 
	mREG_RSP
,

74 
	#REG_RSP
 
REG_RSP


	)

75 
	mREG_RIP
,

76 
	#REG_RIP
 
REG_RIP


	)

77 
	mREG_EFL
,

78 
	#REG_EFL
 
REG_EFL


	)

79 
	mREG_CSGSFS
,

80 
	#REG_CSGSFS
 
REG_CSGSFS


	)

81 
	mREG_ERR
,

82 
	#REG_ERR
 
REG_ERR


	)

83 
	mREG_TRAPNO
,

84 
	#REG_TRAPNO
 
REG_TRAPNO


	)

85 
	mREG_OLDMASK
,

86 
	#REG_OLDMASK
 
REG_OLDMASK


	)

87 
	mREG_CR2


88 
	#REG_CR2
 
REG_CR2


	)

92 
	s_libc_åx»g


94 
	msignifiÿnd
[4];

95 
	mexpÚ’t
;

96 
	m·ddšg
[3];

99 
	s_libc_xmm»g


101 
__ušt32_t
 
	m–em’t
[4];

104 
	s_libc_å¡©e


107 
__ušt16_t
 
	mcwd
;

108 
__ušt16_t
 
	mswd
;

109 
__ušt16_t
 
	máw
;

110 
__ušt16_t
 
	mfİ
;

111 
__ušt64_t
 
	mr
;

112 
__ušt64_t
 
	mrdp
;

113 
__ušt32_t
 
	mmxc¤
;

114 
__ušt32_t
 
	mmxü_mask
;

115 
_libc_åx»g
 
	m_¡
[8];

116 
_libc_xmm»g
 
	m_xmm
[16];

117 
__ušt32_t
 
	m·ddšg
[24];

121 
_libc_å¡©e
 *
	tå»g£t_t
;

126 
g»g£t_t
 
	mg»gs
;

128 
å»g£t_t
 
	må»gs
;

129 
__ex‹nsiÚ__
 
	m__»£rved1
 [8];

130 } 
	tmcÚ‹xt_t
;

133 
	sucÚ‹xt


135 
	muc_æags
;

136 
ucÚ‹xt
 *
	muc_lšk
;

137 
¡ack_t
 
	muc_¡ack
;

138 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

139 
__sig£t_t
 
	muc_sigmask
;

140 
_libc_å¡©e
 
	m__å»gs_mem
;

141 } 
	tucÚ‹xt_t
;

146 
	tg»g_t
;

149 
	#NGREG
 19

	)

152 
g»g_t
 
	tg»g£t_t
[
NGREG
];

154 #ifdeà
__USE_GNU


158 
	mREG_GS
 = 0,

159 
	#REG_GS
 
REG_GS


	)

160 
	mREG_FS
,

161 
	#REG_FS
 
REG_FS


	)

162 
	mREG_ES
,

163 
	#REG_ES
 
REG_ES


	)

164 
	mREG_DS
,

165 
	#REG_DS
 
REG_DS


	)

166 
	mREG_EDI
,

167 
	#REG_EDI
 
REG_EDI


	)

168 
	mREG_ESI
,

169 
	#REG_ESI
 
REG_ESI


	)

170 
	mREG_EBP
,

171 
	#REG_EBP
 
REG_EBP


	)

172 
	mREG_ESP
,

173 
	#REG_ESP
 
REG_ESP


	)

174 
	mREG_EBX
,

175 
	#REG_EBX
 
REG_EBX


	)

176 
	mREG_EDX
,

177 
	#REG_EDX
 
REG_EDX


	)

178 
	mREG_ECX
,

179 
	#REG_ECX
 
REG_ECX


	)

180 
	mREG_EAX
,

181 
	#REG_EAX
 
REG_EAX


	)

182 
	mREG_TRAPNO
,

183 
	#REG_TRAPNO
 
REG_TRAPNO


	)

184 
	mREG_ERR
,

185 
	#REG_ERR
 
REG_ERR


	)

186 
	mREG_EIP
,

187 
	#REG_EIP
 
REG_EIP


	)

188 
	mREG_CS
,

189 
	#REG_CS
 
REG_CS


	)

190 
	mREG_EFL
,

191 
	#REG_EFL
 
REG_EFL


	)

192 
	mREG_UESP
,

193 
	#REG_UESP
 
REG_UESP


	)

194 
	mREG_SS


195 
	#REG_SS
 
REG_SS


	)

200 
	s_libc_å»g


202 
	msignifiÿnd
[4];

203 
	mexpÚ’t
;

206 
	s_libc_å¡©e


208 
	mcw
;

209 
	msw
;

210 
	mg
;

211 
	moff
;

212 
	mcs£l
;

213 
	md©aoff
;

214 
	md©a£l
;

215 
_libc_å»g
 
	m_¡
[8];

216 
	m¡©us
;

220 
_libc_å¡©e
 *
	tå»g£t_t
;

225 
g»g£t_t
 
	mg»gs
;

228 
å»g£t_t
 
	må»gs
;

229 
	mŞdmask
;

230 
	mü2
;

231 } 
	tmcÚ‹xt_t
;

234 
	sucÚ‹xt


236 
	muc_æags
;

237 
ucÚ‹xt
 *
	muc_lšk
;

238 
¡ack_t
 
	muc_¡ack
;

239 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

240 
__sig£t_t
 
	muc_sigmask
;

241 
_libc_å¡©e
 
	m__å»gs_mem
;

242 } 
	tucÚ‹xt_t
;

	@/usr/include/sys/wait.h

22 #iâdef 
_SYS_WAIT_H


23 
	#_SYS_WAIT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<sigÇl.h
>

32 #ià!
defšed
 
_STDLIB_H
 || (!defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K8
)

35 
	~<b™s/wa™æags.h
>

37 #ifdef 
__USE_BSD


42 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


43 
	#__WAIT_INT
(
¡©us
) \

44 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

45 { .
__š
 = (
¡©us
è}).
__i
))

	)

47 
	#__WAIT_INT
(
¡©us
è(*(cÚ¡ *è&(¡©us))

	)

55 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


56 
	#__WAIT_STATUS
 *

	)

57 
	#__WAIT_STATUS_DEFN
 *

	)

62 
wa™
 *
	m__u±r
;

63 *
	m__Œ
;

64 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

71 
	#__WAIT_STATUS
 *

	)

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	~<b™s/wa™¡©us.h
>

79 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

80 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

81 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

82 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

83 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

84 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

85 #ifdeà
__WIFCONTINUED


86 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdef 
__USE_BSD


91 
	#WCOREFLAG
 
__WCOREFLAG


	)

92 
	#WCOREDUMP
(
¡©us
è
	`__WCOREDUMP
 (
	`__WAIT_INT
 (¡©us))

	)

93 
	#W_EXITCODE
(
»t
, 
sig
è
	`__W_EXITCODE
 (»t, sig)

	)

94 
	#W_STOPCODE
(
sig
è
	`__W_STOPCODE
 (sig)

	)

102 
__pid_t
 
wa™
 (
__WAIT_STATUS
 
__¡©_loc
);

104 #ifdef 
__USE_BSD


106 
	#WAIT_ANY
 (-1è

	)

107 
	#WAIT_MYPGRP
 0

	)

125 
__pid_t
 
wa™pid
 (__pid_ˆ
__pid
, *
__¡©_loc
, 
__İtiÚs
);

127 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


128 #iâdeà
__id_t_defšed


129 
	~<b™s/ty³s.h
>

130 
__id_t
 
	tid_t
;

131 
	#__id_t_defšed


	)

134 
	#__Ãed_sigšfo_t


	)

135 
	~<b™s/sigšfo.h
>

148 
wa™id
 (
idty³_t
 
__idty³
, 
__id_t
 
__id
, 
sigšfo_t
 *
__šfİ
,

149 
__İtiÚs
);

152 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


155 
	gru§ge
;

162 
__pid_t
 
	$wa™3
 (
__WAIT_STATUS
 
__¡©_loc
, 
__İtiÚs
,

163 
ru§ge
 * 
__u§ge
è
__THROWNL
;

166 #ifdeà
__USE_BSD


168 
__pid_t
 
	$wa™4
 (
__pid_t
 
__pid
, 
__WAIT_STATUS
 
__¡©_loc
, 
__İtiÚs
,

169 
ru§ge
 *
__u§ge
è
__THROWNL
;

173 
__END_DECLS


	@/usr/include/termios.h

22 #iâdef 
_TERMIOS_H


23 
	#_TERMIOS_H
 1

	)

25 
	~<ã©u»s.h
>

26 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


28 
	~<b™s/ty³s.h
>

29 #iâdeà
__pid_t_defšed


30 
__pid_t
 
	tpid_t
;

31 
	#__pid_t_defšed


	)

35 
	g__BEGIN_DECLS


39 
	~<b™s/‹rmios.h
>

41 #ifdeà
__USE_BSD


44 
	#CCEQ
(
v®
, 
c
è((cè=ğ(v®è&& (v®è!ğ
_POSIX_VDISABLE
)

	)

48 
¥“d_t
 
	$cfg‘o¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

51 
¥“d_t
 
	$cfg‘i¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

54 
	$cf£to¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

57 
	$cf£ti¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

59 #ifdef 
__USE_BSD


61 
	$cf£t¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

66 
	$tcg‘©Œ
 (
__fd
, 
‹rmios
 *
__‹rmios_p
è
__THROW
;

70 
	$tc£‰r
 (
__fd
, 
__İtiÚ®_aùiÚs
,

71 cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

74 #ifdef 
__USE_BSD


76 
	$cfmak”aw
 (
‹rmios
 *
__‹rmios_p
è
__THROW
;

80 
	$tc£ndb»ak
 (
__fd
, 
__du¿tiÚ
è
__THROW
;

86 
	`tcd¿š
 (
__fd
);

90 
	$tcæush
 (
__fd
, 
__queue_£ËùÜ
è
__THROW
;

94 
	$tcæow
 (
__fd
, 
__aùiÚ
è
__THROW
;

97 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


99 
__pid_t
 
	$tcg‘sid
 (
__fd
è
__THROW
;

103 #ifdeà
__USE_BSD


104 
	~<sys/‰ydeçuÉs.h
>

107 
__END_DECLS


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/asm/ioctls.h

1 
	~<asm-g’”ic/ioùls.h
>

	@/usr/include/asm/socket.h

1 
	~<asm-g’”ic/sock‘.h
>

	@/usr/include/bits/byteswap-16.h

19 #iâdeà
_BITS_BYTESWAP_H


23 #ifdeà
__GNUC__


24 #ià
__GNUC__
 >= 2

25 
	#__bsw­_16
(
x
) \

26 (
__ex‹nsiÚ__
 \

27 ({ 
__v
, 
__x
 = (è(
x
); \

28 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

29 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

31 
	`__asm__
 ("rorw $8, %w0" \

32 : "ô" (
__v
) \

33 : "0" (
__x
) \

35 
__v
; }))

	)

38 
	#__bsw­_16
(
x
) \

39 (
__ex‹nsiÚ__
 \

40 ({ 
__x
 = (è(
x
); \

41 
	`__bsw­_cÚ¡ªt_16
 (
__x
); }))

	)

44 
__šlše
 

45 
	$__bsw­_16
 (
__bsx
)

47  
	`__bsw­_cÚ¡ªt_16
 (
__bsx
);

48 
	}
}

	@/usr/include/bits/fcntl-linux.h

19 #iâdef 
_FCNTL_H


37 #ifdeà
__USE_GNU


38 
	~<b™s/uio.h
>

42 
	#O_ACCMODE
 0003

	)

43 
	#O_RDONLY
 00

	)

44 
	#O_WRONLY
 01

	)

45 
	#O_RDWR
 02

	)

46 #iâdeà
O_CREAT


47 
	#O_CREAT
 0100

	)

49 #iâdeà
O_EXCL


50 
	#O_EXCL
 0200

	)

52 #iâdeà
O_NOCTTY


53 
	#O_NOCTTY
 0400

	)

55 #iâdeà
O_TRUNC


56 
	#O_TRUNC
 01000

	)

58 #iâdeà
O_APPEND


59 
	#O_APPEND
 02000

	)

61 #iâdeà
O_NONBLOCK


62 
	#O_NONBLOCK
 04000

	)

64 #iâdeà
O_NDELAY


65 
	#O_NDELAY
 
O_NONBLOCK


	)

67 #iâdeà
O_SYNC


68 
	#O_SYNC
 04010000

	)

70 
	#O_FSYNC
 
O_SYNC


	)

71 #iâdeà
O_ASYNC


72 
	#O_ASYNC
 020000

	)

74 #iâdeà
__O_LARGEFILE


75 
	#__O_LARGEFILE
 0100000

	)

78 #iâdeà
__O_DIRECTORY


79 
	#__O_DIRECTORY
 0200000

	)

81 #iâdeà
__O_NOFOLLOW


82 
	#__O_NOFOLLOW
 0400000

	)

84 #iâdeà
__O_CLOEXEC


85 
	#__O_CLOEXEC
 02000000

	)

87 #iâdeà
__O_DIRECT


88 
	#__O_DIRECT
 040000

	)

90 #iâdeà
__O_NOATIME


91 
	#__O_NOATIME
 01000000

	)

93 #iâdeà
__O_PATH


94 
	#__O_PATH
 010000000

	)

96 #iâdeà
__O_DSYNC


97 
	#__O_DSYNC
 010000

	)

99 #iâdeà
__O_TMPFILE


100 
	#__O_TMPFILE
 020200000

	)

103 #iâdeà
F_GETLK


104 #iâdeà
__USE_FILE_OFFSET64


105 
	#F_GETLK
 5

	)

106 
	#F_SETLK
 6

	)

107 
	#F_SETLKW
 7

	)

109 
	#F_GETLK
 
F_GETLK64


	)

110 
	#F_SETLK
 
F_SETLK64


	)

111 
	#F_SETLKW
 
F_SETLKW64


	)

114 #iâdeà
F_GETLK64


115 
	#F_GETLK64
 12

	)

116 
	#F_SETLK64
 13

	)

117 
	#F_SETLKW64
 14

	)

120 #ifdeà
__USE_LARGEFILE64


121 
	#O_LARGEFILE
 
__O_LARGEFILE


	)

124 #ifdeà
__USE_XOPEN2K8


125 
	#O_DIRECTORY
 
__O_DIRECTORY


	)

126 
	#O_NOFOLLOW
 
__O_NOFOLLOW


	)

127 
	#O_CLOEXEC
 
__O_CLOEXEC


	)

130 #ifdeà
__USE_GNU


131 
	#O_DIRECT
 
__O_DIRECT


	)

132 
	#O_NOATIME
 
__O_NOATIME


	)

133 
	#O_PATH
 
__O_PATH


	)

134 
	#O_TMPFILE
 
__O_TMPFILE


	)

140 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


141 
	#O_DSYNC
 
__O_DSYNC


	)

142 #ià
defšed
 
__O_RSYNC


143 
	#O_RSYNC
 
__O_RSYNC


	)

145 
	#O_RSYNC
 
O_SYNC


	)

150 
	#F_DUPFD
 0

	)

151 
	#F_GETFD
 1

	)

152 
	#F_SETFD
 2

	)

153 
	#F_GETFL
 3

	)

154 
	#F_SETFL
 4

	)

156 #iâdeà
__F_SETOWN


157 
	#__F_SETOWN
 8

	)

158 
	#__F_GETOWN
 9

	)

161 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


162 
	#F_SETOWN
 
__F_SETOWN


	)

163 
	#F_GETOWN
 
__F_GETOWN


	)

166 #iâdeà
__F_SETSIG


167 
	#__F_SETSIG
 10

	)

168 
	#__F_GETSIG
 11

	)

170 #iâdeà
__F_SETOWN_EX


171 
	#__F_SETOWN_EX
 15

	)

172 
	#__F_GETOWN_EX
 16

	)

175 #ifdeà
__USE_GNU


176 
	#F_SETSIG
 
__F_SETSIG


	)

177 
	#F_GETSIG
 
__F_GETSIG


	)

178 
	#F_SETOWN_EX
 
__F_SETOWN_EX


	)

179 
	#F_GETOWN_EX
 
__F_GETOWN_EX


	)

182 #ifdeà
__USE_GNU


183 
	#F_SETLEASE
 1024

	)

184 
	#F_GETLEASE
 1025

	)

185 
	#F_NOTIFY
 1026

	)

186 
	#F_SETPIPE_SZ
 1031

	)

187 
	#F_GETPIPE_SZ
 1032

	)

189 #ifdeà
__USE_XOPEN2K8


190 
	#F_DUPFD_CLOEXEC
 1030

	)

195 
	#FD_CLOEXEC
 1

	)

197 #iâdeà
F_RDLCK


199 
	#F_RDLCK
 0

	)

200 
	#F_WRLCK
 1

	)

201 
	#F_UNLCK
 2

	)

206 #iâdeà
F_EXLCK


207 
	#F_EXLCK
 4

	)

208 
	#F_SHLCK
 8

	)

211 #ifdeà
__USE_BSD


213 
	#LOCK_SH
 1

	)

214 
	#LOCK_EX
 2

	)

215 
	#LOCK_NB
 4

	)

217 
	#LOCK_UN
 8

	)

220 #ifdeà
__USE_GNU


221 
	#LOCK_MAND
 32

	)

222 
	#LOCK_READ
 64

	)

223 
	#LOCK_WRITE
 128

	)

224 
	#LOCK_RW
 192

	)

227 #ifdeà
__USE_GNU


229 
	#DN_ACCESS
 0x00000001

	)

230 
	#DN_MODIFY
 0x00000002

	)

231 
	#DN_CREATE
 0x00000004

	)

232 
	#DN_DELETE
 0x00000008

	)

233 
	#DN_RENAME
 0x00000010

	)

234 
	#DN_ATTRIB
 0x00000020

	)

235 
	#DN_MULTISHOT
 0x80000000

	)

239 #ifdeà
__USE_GNU


241 
	e__pid_ty³


243 
	mF_OWNER_TID
 = 0,

244 
	mF_OWNER_PID
,

245 
	mF_OWNER_PGRP
,

246 
	mF_OWNER_GID
 = 
F_OWNER_PGRP


250 
	sf_owÃr_ex


252 
__pid_ty³
 
	mty³
;

253 
__pid_t
 
	mpid
;

259 #ifdef 
__USE_BSD


260 
	#FAPPEND
 
O_APPEND


	)

261 
	#FFSYNC
 
O_FSYNC


	)

262 
	#FASYNC
 
O_ASYNC


	)

263 
	#FNONBLOCK
 
O_NONBLOCK


	)

264 
	#FNDELAY
 
O_NDELAY


	)

267 #iâdeà
__POSIX_FADV_DONTNEED


268 
	#__POSIX_FADV_DONTNEED
 4

	)

269 
	#__POSIX_FADV_NOREUSE
 5

	)

272 #ifdeà
__USE_XOPEN2K


273 
	#POSIX_FADV_NORMAL
 0

	)

274 
	#POSIX_FADV_RANDOM
 1

	)

275 
	#POSIX_FADV_SEQUENTIAL
 2

	)

276 
	#POSIX_FADV_WILLNEED
 3

	)

277 
	#POSIX_FADV_DONTNEED
 
__POSIX_FADV_DONTNEED


	)

278 
	#POSIX_FADV_NOREUSE
 
__POSIX_FADV_NOREUSE


	)

282 #ifdeà
__USE_GNU


284 
	#SYNC_FILE_RANGE_WAIT_BEFORE
 1

	)

287 
	#SYNC_FILE_RANGE_WRITE
 2

	)

290 
	#SYNC_FILE_RANGE_WAIT_AFTER
 4

	)

295 
	#SPLICE_F_MOVE
 1

	)

296 
	#SPLICE_F_NONBLOCK
 2

	)

299 
	#SPLICE_F_MORE
 4

	)

300 
	#SPLICE_F_GIFT
 8

	)

304 
	#FALLOC_FL_KEEP_SIZE
 1

	)

307 
	#FALLOC_FL_PUNCH_HOLE
 2

	)

311 
	sfe_hªdË


313 
	mhªdË_by‹s
;

314 
	mhªdË_ty³
;

316 
	mf_hªdË
[0];

320 
	#MAX_HANDLE_SZ
 128

	)

324 #ifdeà
__USE_ATFILE


325 
	#AT_FDCWD
 -100

	)

328 
	#AT_SYMLINK_NOFOLLOW
 0x100

	)

329 
	#AT_REMOVEDIR
 0x200

	)

331 
	#AT_SYMLINK_FOLLOW
 0x400

	)

332 #ifdeà
__USE_GNU


333 
	#AT_NO_AUTOMOUNT
 0x800

	)

335 
	#AT_EMPTY_PATH
 0x1000

	)

337 
	#AT_EACCESS
 0x200

	)

341 
	g__BEGIN_DECLS


343 #ifdeà
__USE_GNU


346 
ssize_t
 
	$»adah—d
 (
__fd
, 
__off64_t
 
__off£t
, 
size_t
 
__couÁ
)

347 
__THROW
;

354 
	`sync_fe_¿nge
 (
__fd
, 
__off64_t
 
__off£t
, __off64_ˆ
__couÁ
,

355 
__æags
);

362 
ssize_t
 
	`vm¥liû
 (
__fdout
, cÚ¡ 
iovec
 *
__iov
,

363 
size_t
 
__couÁ
, 
__æags
);

369 
ssize_t
 
	`¥liû
 (
__fdš
, 
__off64_t
 *
__offš
, 
__fdout
,

370 
__off64_t
 *
__offout
, 
size_t
 
__Ën
,

371 
__æags
);

377 
ssize_t
 
	`‹e
 (
__fdš
, 
__fdout
, 
size_t
 
__Ën
,

378 
__æags
);

384 #iâdeà
__USE_FILE_OFFSET64


385 
	`çÎoÿ‹
 (
__fd
, 
__mode
, 
__off_t
 
__off£t
, __off_ˆ
__Ën
);

387 #ifdeà
__REDIRECT


388 
	`__REDIRECT
 (
çÎoÿ‹
, (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

389 
__off64_t
 
__Ën
),

390 
çÎoÿ‹64
);

392 
	#çÎoÿ‹
 
çÎoÿ‹64


	)

395 #ifdeà
__USE_LARGEFILE64


396 
	`çÎoÿ‹64
 (
__fd
, 
__mode
, 
__off64_t
 
__off£t
,

397 
__off64_t
 
__Ën
);

402 
	$Çme_to_hªdË_©
 (
__dfd
, cÚ¡ *
__Çme
,

403 
fe_hªdË
 *
__hªdË
, *
__mÁ_id
,

404 
__æags
è
__THROW
;

410 
	`İ’_by_hªdË_©
 (
__mouÁdœfd
, 
fe_hªdË
 *
__hªdË
,

411 
__æags
);

415 
__END_DECLS


	@/usr/include/bits/libio-ldbl.h

19 #iâdeà
_IO_STDIO_H


23 
	$__LDBL_REDIR_DECL
 (
_IO_vfsÿnf
)

24 
	`__LDBL_REDIR_DECL
 (
_IO_vårštf
)

	@/usr/include/bits/local_lim.h

24 #iâdeà
NR_OPEN


25 
	#__undef_NR_OPEN


	)

27 #iâdeà
LINK_MAX


28 
	#__undef_LINK_MAX


	)

30 #iâdeà
OPEN_MAX


31 
	#__undef_OPEN_MAX


	)

33 #iâdeà
ARG_MAX


34 
	#__undef_ARG_MAX


	)

38 
	~<lšux/lim™s.h
>

41 #ifdeà
__undef_NR_OPEN


42 #undeà
NR_OPEN


43 #undeà
__undef_NR_OPEN


46 #ifdeà
__undef_LINK_MAX


47 #undeà
LINK_MAX


48 #undeà
__undef_LINK_MAX


51 #ifdeà
__undef_OPEN_MAX


52 #undeà
OPEN_MAX


53 #undeà
__undef_OPEN_MAX


56 #ifdeà
__undef_ARG_MAX


57 #undeà
ARG_MAX


58 #undeà
__undef_ARG_MAX


62 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

64 
	#PTHREAD_KEYS_MAX
 1024

	)

67 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

69 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

72 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

74 #undeà
PTHREAD_THREADS_MAX


78 
	#AIO_PRIO_DELTA_MAX
 20

	)

81 
	#PTHREAD_STACK_MIN
 16384

	)

84 
	#DELAYTIMER_MAX
 2147483647

	)

87 
	#TTY_NAME_MAX
 32

	)

90 
	#LOGIN_NAME_MAX
 256

	)

93 
	#HOST_NAME_MAX
 64

	)

96 
	#MQ_PRIO_MAX
 32768

	)

99 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/sockaddr.h

23 #iâdeà
_BITS_SOCKADDR_H


24 
	#_BITS_SOCKADDR_H
 1

	)

28 
	t§_çmy_t
;

34 
	#__SOCKADDR_COMMON
(
§_´efix
) \

35 
§_çmy_t
 
§_´efix
##
çmy


	)

37 
	#__SOCKADDR_COMMON_SIZE
 ( ())

	)

	@/usr/include/bits/socket_type.h

19 #iâdeà
_SYS_SOCKET_H


24 
	e__sock‘_ty³


26 
	mSOCK_STREAM
 = 1,

28 
	#SOCK_STREAM
 
SOCK_STREAM


	)

29 
	mSOCK_DGRAM
 = 2,

31 
	#SOCK_DGRAM
 
SOCK_DGRAM


	)

32 
	mSOCK_RAW
 = 3,

33 
	#SOCK_RAW
 
SOCK_RAW


	)

34 
	mSOCK_RDM
 = 4,

35 
	#SOCK_RDM
 
SOCK_RDM


	)

36 
	mSOCK_SEQPACKET
 = 5,

38 
	#SOCK_SEQPACKET
 
SOCK_SEQPACKET


	)

39 
	mSOCK_DCCP
 = 6,

40 
	#SOCK_DCCP
 
SOCK_DCCP


	)

41 
	mSOCK_PACKET
 = 10,

44 
	#SOCK_PACKET
 
SOCK_PACKET


	)

49 
	mSOCK_CLOEXEC
 = 02000000,

51 
	#SOCK_CLOEXEC
 
SOCK_CLOEXEC


	)

52 
	mSOCK_NONBLOCK
 = 00004000

54 
	#SOCK_NONBLOCK
 
SOCK_NONBLOCK


	)

	@/usr/include/bits/stdio-lock.h

19 #iâdeà
_BITS_STDIO_LOCK_H


20 
	#_BITS_STDIO_LOCK_H
 1

	)

22 
	~<b™s/libc-lock.h
>

23 
	~<lowËv–lock.h
>

27 
	#_IO_lock_šex³nsive
 1

	)

29 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t_IO_lock_t
;

31 
	#_IO_lock_š™Ÿliz”
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

33 
	#_IO_lock_š™
(
_Çme
) \

34 ((
_Çme
èğ(
_IO_lock_t
è
_IO_lock_š™Ÿliz”
 , 0)

	)

36 
	#_IO_lock_fši
(
_Çme
) \

37 ((è0)

	)

39 
	#_IO_lock_lock
(
_Çme
) \

41 *
__£lf
 = 
THREAD_SELF
; \

42 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

44 
	`Îl_lock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

45 (
_Çme
).
owÃr
 = 
__£lf
; \

47 ++(
_Çme
).
út
; \

48 } 0)

	)

50 
	#_IO_lock_Œylock
(
_Çme
) \

52 
__»suÉ
 = 0; \

53 *
__£lf
 = 
THREAD_SELF
; \

54 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

56 ià(
	`Îl_Œylock
 ((
_Çme
).
lock
) == 0) \

58 (
_Çme
).
owÃr
 = 
__£lf
; \

59 (
_Çme
).
út
 = 1; \

62 
__»suÉ
 = 
EBUSY
; \

65 ++(
_Çme
).
út
; \

66 
__»suÉ
; \

67 })

	)

69 
	#_IO_lock_uÆock
(
_Çme
) \

71 ià(--(
_Çme
).
út
 == 0) \

73 (
_Çme
).
owÃr
 = 
NULL
; \

74 
	`Îl_uÆock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

76 } 0)

	)

80 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
) \

81 
	`__libc_ş—nup_»giÚ_¡¬t
 (((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0, 
_fù
, _å)

	)

82 
	#_IO_ş—nup_»giÚ_¡¬t_nßrg
(
_fù
) \

83 
	`__libc_ş—nup_»giÚ_¡¬t
 (1, 
_fù
, 
NULL
)

	)

84 
	#_IO_ş—nup_»giÚ_’d
(
_do™
) \

85 
	`__libc_ş—nup_»giÚ_’d
 (
_do™
)

	)

87 #ià
defšed
 
_LIBC
 && !defšed 
NOT_IN_libc


89 #ifdeà
__EXCEPTIONS


90 
	#_IO_acquœe_lock
(
_å
) \

92 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

93 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_fù
))) \

94 ğ(
_å
); \

95 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

96 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
) \

98 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

99 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_ş—r_æags2_fù
))) \

100 ğ(
_å
); \

101 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

103 
	#_IO_acquœe_lock
(
_å
è
_IO_acquœe_lock_Ãeds_exû±iÚs_’abËd


	)

104 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
è
	`_IO_acquœe_lock
 (_å)

	)

106 
	#_IO_»Ëa£_lock
(
_å
è; } 0)

	)

	@/usr/include/bits/termios.h

19 #iâdeà
_TERMIOS_H


23 
	tcc_t
;

24 
	t¥“d_t
;

25 
	ttcæag_t
;

27 
	#NCCS
 32

	)

28 
	s‹rmios


30 
tcæag_t
 
	mc_iæag
;

31 
tcæag_t
 
	mc_oæag
;

32 
tcæag_t
 
	mc_cæag
;

33 
tcæag_t
 
	mc_læag
;

34 
cc_t
 
	mc_lše
;

35 
cc_t
 
	mc_cc
[
NCCS
];

36 
¥“d_t
 
	mc_i¥“d
;

37 
¥“d_t
 
	mc_o¥“d
;

38 
	#_HAVE_STRUCT_TERMIOS_C_ISPEED
 1

	)

39 
	#_HAVE_STRUCT_TERMIOS_C_OSPEED
 1

	)

43 
	#VINTR
 0

	)

44 
	#VQUIT
 1

	)

45 
	#VERASE
 2

	)

46 
	#VKILL
 3

	)

47 
	#VEOF
 4

	)

48 
	#VTIME
 5

	)

49 
	#VMIN
 6

	)

50 
	#VSWTC
 7

	)

51 
	#VSTART
 8

	)

52 
	#VSTOP
 9

	)

53 
	#VSUSP
 10

	)

54 
	#VEOL
 11

	)

55 
	#VREPRINT
 12

	)

56 
	#VDISCARD
 13

	)

57 
	#VWERASE
 14

	)

58 
	#VLNEXT
 15

	)

59 
	#VEOL2
 16

	)

62 
	#IGNBRK
 0000001

	)

63 
	#BRKINT
 0000002

	)

64 
	#IGNPAR
 0000004

	)

65 
	#PARMRK
 0000010

	)

66 
	#INPCK
 0000020

	)

67 
	#ISTRIP
 0000040

	)

68 
	#INLCR
 0000100

	)

69 
	#IGNCR
 0000200

	)

70 
	#ICRNL
 0000400

	)

71 
	#IUCLC
 0001000

	)

72 
	#IXON
 0002000

	)

73 
	#IXANY
 0004000

	)

74 
	#IXOFF
 0010000

	)

75 
	#IMAXBEL
 0020000

	)

76 
	#IUTF8
 0040000

	)

79 
	#OPOST
 0000001

	)

80 
	#OLCUC
 0000002

	)

81 
	#ONLCR
 0000004

	)

82 
	#OCRNL
 0000010

	)

83 
	#ONOCR
 0000020

	)

84 
	#ONLRET
 0000040

	)

85 
	#OFILL
 0000100

	)

86 
	#OFDEL
 0000200

	)

87 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


88 
	#NLDLY
 0000400

	)

89 
	#NL0
 0000000

	)

90 
	#NL1
 0000400

	)

91 
	#CRDLY
 0003000

	)

92 
	#CR0
 0000000

	)

93 
	#CR1
 0001000

	)

94 
	#CR2
 0002000

	)

95 
	#CR3
 0003000

	)

96 
	#TABDLY
 0014000

	)

97 
	#TAB0
 0000000

	)

98 
	#TAB1
 0004000

	)

99 
	#TAB2
 0010000

	)

100 
	#TAB3
 0014000

	)

101 
	#BSDLY
 0020000

	)

102 
	#BS0
 0000000

	)

103 
	#BS1
 0020000

	)

104 
	#FFDLY
 0100000

	)

105 
	#FF0
 0000000

	)

106 
	#FF1
 0100000

	)

109 
	#VTDLY
 0040000

	)

110 
	#VT0
 0000000

	)

111 
	#VT1
 0040000

	)

113 #ifdeà
__USE_MISC


114 
	#XTABS
 0014000

	)

118 #ifdeà
__USE_MISC


119 
	#CBAUD
 0010017

	)

121 
	#B0
 0000000

	)

122 
	#B50
 0000001

	)

123 
	#B75
 0000002

	)

124 
	#B110
 0000003

	)

125 
	#B134
 0000004

	)

126 
	#B150
 0000005

	)

127 
	#B200
 0000006

	)

128 
	#B300
 0000007

	)

129 
	#B600
 0000010

	)

130 
	#B1200
 0000011

	)

131 
	#B1800
 0000012

	)

132 
	#B2400
 0000013

	)

133 
	#B4800
 0000014

	)

134 
	#B9600
 0000015

	)

135 
	#B19200
 0000016

	)

136 
	#B38400
 0000017

	)

137 #ifdeà
__USE_MISC


138 
	#EXTA
 
B19200


	)

139 
	#EXTB
 
B38400


	)

141 
	#CSIZE
 0000060

	)

142 
	#CS5
 0000000

	)

143 
	#CS6
 0000020

	)

144 
	#CS7
 0000040

	)

145 
	#CS8
 0000060

	)

146 
	#CSTOPB
 0000100

	)

147 
	#CREAD
 0000200

	)

148 
	#PARENB
 0000400

	)

149 
	#PARODD
 0001000

	)

150 
	#HUPCL
 0002000

	)

151 
	#CLOCAL
 0004000

	)

152 #ifdeà
__USE_MISC


153 
	#CBAUDEX
 0010000

	)

155 
	#B57600
 0010001

	)

156 
	#B115200
 0010002

	)

157 
	#B230400
 0010003

	)

158 
	#B460800
 0010004

	)

159 
	#B500000
 0010005

	)

160 
	#B576000
 0010006

	)

161 
	#B921600
 0010007

	)

162 
	#B1000000
 0010010

	)

163 
	#B1152000
 0010011

	)

164 
	#B1500000
 0010012

	)

165 
	#B2000000
 0010013

	)

166 
	#B2500000
 0010014

	)

167 
	#B3000000
 0010015

	)

168 
	#B3500000
 0010016

	)

169 
	#B4000000
 0010017

	)

170 
	#__MAX_BAUD
 
B4000000


	)

171 #ifdeà
__USE_MISC


172 
	#CIBAUD
 002003600000

	)

173 
	#CMSPAR
 010000000000

	)

174 
	#CRTSCTS
 020000000000

	)

178 
	#ISIG
 0000001

	)

179 
	#ICANON
 0000002

	)

180 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


181 
	#XCASE
 0000004

	)

183 
	#ECHO
 0000010

	)

184 
	#ECHOE
 0000020

	)

185 
	#ECHOK
 0000040

	)

186 
	#ECHONL
 0000100

	)

187 
	#NOFLSH
 0000200

	)

188 
	#TOSTOP
 0000400

	)

189 #ifdeà
__USE_MISC


190 
	#ECHOCTL
 0001000

	)

191 
	#ECHOPRT
 0002000

	)

192 
	#ECHOKE
 0004000

	)

193 
	#FLUSHO
 0010000

	)

194 
	#PENDIN
 0040000

	)

196 
	#IEXTEN
 0100000

	)

197 #ifdeà
__USE_BSD


198 
	#EXTPROC
 0200000

	)

202 
	#TCOOFF
 0

	)

203 
	#TCOON
 1

	)

204 
	#TCIOFF
 2

	)

205 
	#TCION
 3

	)

208 
	#TCIFLUSH
 0

	)

209 
	#TCOFLUSH
 1

	)

210 
	#TCIOFLUSH
 2

	)

213 
	#TCSANOW
 0

	)

214 
	#TCSADRAIN
 1

	)

215 
	#TCSAFLUSH
 2

	)

218 
	#_IOT_‹rmios
 \

219 
	`_IOT
 (
	`_IOTS
 (
cæag_t
), 4, _IOTS (
cc_t
), 
NCCS
, _IOTS (
¥“d_t
), 2)

	)

	@/usr/include/bits/timex.h

18 #iâdef 
_BITS_TIMEX_H


19 
	#_BITS_TIMEX_H
 1

	)

21 
	~<b™s/ty³s.h
>

25 
	stimex


27 
	mmodes
;

28 
__sysÿÎ_¦Úg_t
 
	moff£t
;

29 
__sysÿÎ_¦Úg_t
 
	mäeq
;

30 
__sysÿÎ_¦Úg_t
 
	mmax”rÜ
;

31 
__sysÿÎ_¦Úg_t
 
	me¡”rÜ
;

32 
	m¡©us
;

33 
__sysÿÎ_¦Úg_t
 
	mcÚ¡ªt
;

34 
__sysÿÎ_¦Úg_t
 
	m´ecisiÚ
;

35 
__sysÿÎ_¦Úg_t
 
	mtŞ”ªû
;

36 
timev®
 
	mtime
;

37 
__sysÿÎ_¦Úg_t
 
	mtick
;

38 
__sysÿÎ_¦Úg_t
 
	mµsäeq
;

39 
__sysÿÎ_¦Úg_t
 
	mj™‹r
;

40 
	mshiá
;

41 
__sysÿÎ_¦Úg_t
 
	m¡ab
;

42 
__sysÿÎ_¦Úg_t
 
	mj™út
;

43 
__sysÿÎ_¦Úg_t
 
	mÿlút
;

44 
__sysÿÎ_¦Úg_t
 
	m”rút
;

45 
__sysÿÎ_¦Úg_t
 
	m¡bút
;

47 
	mi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_MICRO
 0x1000

	)

64 
	#ADJ_NANO
 0x2000

	)

65 
	#ADJ_TICK
 0x4000

	)

66 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

67 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

70 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

71 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

72 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

73 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

74 
	#MOD_STATUS
 
ADJ_STATUS


	)

75 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

76 
	#MOD_CLKB
 
ADJ_TICK


	)

77 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

78 
	#MOD_TAI
 
ADJ_TAI


	)

79 
	#MOD_MICRO
 
ADJ_MICRO


	)

80 
	#MOD_NANO
 
ADJ_NANO


	)

84 
	#STA_PLL
 0x0001

	)

85 
	#STA_PPSFREQ
 0x0002

	)

86 
	#STA_PPSTIME
 0x0004

	)

87 
	#STA_FLL
 0x0008

	)

89 
	#STA_INS
 0x0010

	)

90 
	#STA_DEL
 0x0020

	)

91 
	#STA_UNSYNC
 0x0040

	)

92 
	#STA_FREQHOLD
 0x0080

	)

94 
	#STA_PPSSIGNAL
 0x0100

	)

95 
	#STA_PPSJITTER
 0x0200

	)

96 
	#STA_PPSWANDER
 0x0400

	)

97 
	#STA_PPSERROR
 0x0800

	)

99 
	#STA_CLOCKERR
 0x1000

	)

100 
	#STA_NANO
 0x2000

	)

101 
	#STA_MODE
 0x4000

	)

102 
	#STA_CLK
 0x8000

	)

105 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

106 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/typesizes.h

19 #iâdeà
_BITS_TYPES_H


23 #iâdef 
_BITS_TYPESIZES_H


24 
	#_BITS_TYPESIZES_H
 1

	)

30 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


31 
	#__SYSCALL_SLONG_TYPE
 
__SQUAD_TYPE


	)

32 
	#__SYSCALL_ULONG_TYPE
 
__UQUAD_TYPE


	)

34 
	#__SYSCALL_SLONG_TYPE
 
__SLONGWORD_TYPE


	)

35 
	#__SYSCALL_ULONG_TYPE
 
__ULONGWORD_TYPE


	)

38 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

39 
	#__UID_T_TYPE
 
__U32_TYPE


	)

40 
	#__GID_T_TYPE
 
__U32_TYPE


	)

41 
	#__INO_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

42 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

43 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

44 #ifdeà
__x86_64__


45 
	#__NLINK_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

46 
	#__FSWORD_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

48 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

49 
	#__FSWORD_T_TYPE
 
__SWORD_TYPE


	)

51 
	#__OFF_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

52 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

53 
	#__PID_T_TYPE
 
__S32_TYPE


	)

54 
	#__RLIM_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

55 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

56 
	#__BLKCNT_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

57 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

58 
	#__FSBLKCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

59 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

60 
	#__FSFILCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

61 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

62 
	#__ID_T_TYPE
 
__U32_TYPE


	)

63 
	#__CLOCK_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

64 
	#__TIME_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

65 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

66 
	#__SUSECONDS_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

67 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

68 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

69 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

70 
	#__TIMER_T_TYPE
 *

	)

71 
	#__BLKSIZE_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

72 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

73 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

75 #ifdeà
__x86_64__


79 
	#__OFF_T_MATCHES_OFF64_T
 1

	)

82 
	#__INO_T_MATCHES_INO64_T
 1

	)

86 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/bits/wchar.h

19 #iâdeà
_BITS_WCHAR_H


20 
	#_BITS_WCHAR_H
 1

	)

33 #ifdeà
__WCHAR_MAX__


34 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

35 #–ià
L
'\0' - 1 > 0

36 
	#__WCHAR_MAX
 (0xffffffffu + 
L
'\0')

	)

38 
	#__WCHAR_MAX
 (0x7ffffffà+ 
L
'\0')

	)

41 #ifdeà
__WCHAR_MIN__


42 
	#__WCHAR_MIN
 
__WCHAR_MIN__


	)

43 #–ià
L
'\0' - 1 > 0

44 
	#__WCHAR_MIN
 (
L
'\0' + 0)

	)

46 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/gnu/stubs.h

6 #ià!
defšed
 
__x86_64__


7 
	~<gnu/¡ubs-32.h
>

9 #ià
defšed
 
__x86_64__
 && defšed 
__LP64__


10 
	~<gnu/¡ubs-64.h
>

12 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


13 
	~<gnu/¡ubs-x32.h
>

	@/usr/include/linux/errno.h

1 
	~<asm/”ºo.h
>

	@/usr/include/linux/limits.h

1 #iâdeà
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/linux/param.h

1 #iâdeà
_LINUX_PARAM_H


2 
	#_LINUX_PARAM_H


	)

4 
	~<asm/·¿m.h
>

	@/usr/include/linux/sysinfo.h

1 #iâdeà
_LINUX_SYSINFO_H


2 
	#_LINUX_SYSINFO_H


	)

4 
	~<lšux/ty³s.h
>

6 
	#SI_LOAD_SHIFT
 16

	)

7 
	ssysšfo
 {

8 
__k”Ãl_lÚg_t
 
	mu±ime
;

9 
__k”Ãl_ulÚg_t
 
	mlßds
[3];

10 
__k”Ãl_ulÚg_t
 
	mtÙ®¿m
;

11 
__k”Ãl_ulÚg_t
 
	mä“¿m
;

12 
__k”Ãl_ulÚg_t
 
	msh¬ed¿m
;

13 
__k”Ãl_ulÚg_t
 
	mbufã¼am
;

14 
__k”Ãl_ulÚg_t
 
	mtÙ®sw­
;

15 
__k”Ãl_ulÚg_t
 
	mä“sw­
;

16 
__u16
 
	m´ocs
;

17 
__u16
 
	m·d
;

18 
__k”Ãl_ulÚg_t
 
	mtÙ®high
;

19 
__k”Ãl_ulÚg_t
 
	mä“high
;

20 
__u32
 
	mmem_un™
;

21 
	m_f
[20-2*(
__k”Ãl_ulÚg_t
)-(
__u32
)];

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

54 
	#__STDC_ISO_10646__
 201103L

	)

57 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/sys/cdefs.h

18 #iâdef 
_SYS_CDEFS_H


19 
	#_SYS_CDEFS_H
 1

	)

22 #iâdeà
_FEATURES_H


23 
	~<ã©u»s.h
>

29 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


34 #undeà
__P


35 #undeà
__PMT


37 #ifdeà
__GNUC__


41 #ià
__GNUC_PREREQ
 (4, 6è&& !
defšed
 
_LIBC


42 
	#__LEAF
 , 
__Ëaf__


	)

43 
	#__LEAF_ATTR
 
	`__©Œibu‹__
 ((
__Ëaf__
))

	)

45 
	#__LEAF


	)

46 
	#__LEAF_ATTR


	)

54 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

55 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
 
__LEAF
))

	)

56 
	#__THROWNL
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

57 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
 
__LEAF
)è
	)
fct

59 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

60 
	#__THROW
 
	`throw
 ()

	)

61 
	#__THROWNL
 
	`throw
 ()

	)

62 
	#__NTH
(
fù
è
__LEAF_ATTR
 fù 
	`throw
 ()

	)

64 
	#__THROW


	)

65 
	#__THROWNL


	)

66 
	#__NTH
(
fù
è
	)
fct

72 
	#__šlše


	)

74 
	#__THROW


	)

75 
	#__THROWNL


	)

76 
	#__NTH
(
fù
è
	)
fct

82 
	#__P
(
¬gs
è
	)
args

83 
	#__PMT
(
¬gs
è
	)
args

88 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

89 
	#__STRING
(
x
è#x

	)

92 
	#__±r_t
 *

	)

93 
	#__lÚg_doubË_t
 

	)

97 #ifdef 
__ılu¥lus


98 
	#__BEGIN_DECLS
 "C" {

	)

99 
	#__END_DECLS
 }

	)

101 
	#__BEGIN_DECLS


	)

102 
	#__END_DECLS


	)

111 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


112 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

113 
	#__END_NAMESPACE_STD
 }

	)

114 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

115 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

116 
	#__END_NAMESPACE_C99
 }

	)

117 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

122 
	#__BEGIN_NAMESPACE_STD


	)

123 
	#__END_NAMESPACE_STD


	)

124 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

125 
	#__BEGIN_NAMESPACE_C99


	)

126 
	#__END_NAMESPACE_C99


	)

127 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

132 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

133 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

134 
	#__fÜtify_funùiÚ
 
__ex‹º_®ways_šlše
 
__©Œibu‹_¬tificŸl__


	)

136 #ià
__GNUC_PREREQ
 (4,3)

137 
	#__w¬ndeş
(
Çme
, 
msg
) \

138 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

139 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

140 
	#__”rÜdeş
(
Çme
, 
msg
) \

141 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

143 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

144 
	#__w¬Ç‰r
(
msg
)

	)

145 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

149 #ià
__GNUC_PREREQ
 (2,97)

151 
	#__æex¬r
 []

	)

153 #ifdeà
__GNUC__


154 
	#__æex¬r
 [0]

	)

156 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

157 
	#__æex¬r
 []

	)

160 
	#__æex¬r
 [1]

	)

176 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

178 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

179 #ifdeà
__ılu¥lus


180 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

181 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

182 
	#__REDIRECT_NTHNL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

183 
Çme
 
´Ùo
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

185 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

186 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

187 
	#__REDIRECT_NTHNL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

188 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROWNL


	)

190 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

191 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

204 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

205 
	#__©Œibu‹__
(
xyz
è

	)

211 #ià
__GNUC_PREREQ
 (2,96)

212 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

214 
	#__©Œibu‹_m®loc__


	)

219 #ià
__GNUC_PREREQ
 (4, 3)

220 
	#__©Œibu‹_®loc_size__
(
·¿ms
) \

221 
	`__©Œibu‹__
 ((
__®loc_size__
 
·¿ms
))

	)

223 
	#__©Œibu‹_®loc_size__
(
·¿ms
è

	)

229 #ià
__GNUC_PREREQ
 (2,96)

230 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

232 
	#__©Œibu‹_pu»__


	)

236 #ià
__GNUC_PREREQ
 (2,5)

237 
	#__©Œibu‹_cÚ¡__
 
	`__©Œibu‹__
 ((
__cÚ¡__
))

	)

239 
	#__©Œibu‹_cÚ¡__


	)

245 #ià
__GNUC_PREREQ
 (3,1)

246 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

247 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

249 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

250 
	#__©Œibu‹_nošlše__


	)

254 #ià
__GNUC_PREREQ
 (3,2)

255 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

257 
	#__©Œibu‹_d•»ÿ‹d__


	)

266 #ià
__GNUC_PREREQ
 (2,8)

267 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

269 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

276 #ià
__GNUC_PREREQ
 (2,97)

277 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

278 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

280 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

285 #ià
__GNUC_PREREQ
 (3,3)

286 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

288 
	#__nÚnuÎ
(
·¿ms
)

	)

293 #ià
__GNUC_PREREQ
 (3,4)

294 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

295 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

296 #ià
__USE_FORTIFY_LEVEL
 > 0

297 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

300 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

302 #iâdeà
__wur


303 
	#__wur


	)

307 #ià
__GNUC_PREREQ
 (3,2)

308 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

310 
	#__®ways_šlše
 
__šlše


	)

315 #ià
__GNUC_PREREQ
 (4,3)

316 
	#__©Œibu‹_¬tificŸl__
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

318 
	#__©Œibu‹_¬tificŸl__


	)

321 #ifdeà
__GNUC__


326 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__GNUC_GNU_INLINE__


327 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

328 
	#__ex‹º_®ways_šlše
 \

329 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

331 
	#__ex‹º_šlše
 
__šlše


	)

332 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

335 
	#__ex‹º_šlše


	)

336 
	#__ex‹º_®ways_šlše


	)

341 #ià
__GNUC_PREREQ
 (4,3)

342 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

343 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

350 #ià!
__GNUC_PREREQ
 (2,8)

351 
	#__ex‹nsiÚ__


	)

355 #ià!
__GNUC_PREREQ
 (2,92)

356 
	#__»¡riù


	)

362 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


363 
	#__»¡riù_¬r
 
__»¡riù


	)

365 #ifdeà
__GNUC__


366 
	#__»¡riù_¬r


	)

368 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

369 
	#__»¡riù_¬r
 
»¡riù


	)

372 
	#__»¡riù_¬r


	)

377 #ià
__GNUC__
 >= 3

378 
	#__glibc_uÆik–y
(
cÚd
è
	`__butš_ex³ù
 ((cÚd), 0)

	)

379 
	#__glibc_lik–y
(
cÚd
è
	`__butš_ex³ù
 ((cÚd), 1)

	)

381 
	#__glibc_uÆik–y
(
cÚd
è(cÚd)

	)

382 
	#__glibc_lik–y
(
cÚd
è(cÚd)

	)

385 
	~<b™s/wÜdsize.h
>

387 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


388 
	#__LDBL_COMPAT
 1

	)

389 #ifdeà
__REDIRECT


390 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

391 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

392 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

393 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

394 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

395 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

396 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

397 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

398 
	#__LDBL_REDIR_DECL
(
Çme
) \

399 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

400 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

401 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

402 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

403 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

406 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


407 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

408 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

409 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

410 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

411 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

412 #ifdeà
__REDIRECT


413 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

414 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

415 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/asm-generic/ioctls.h

1 #iâdeà
__ASM_GENERIC_IOCTLS_H


2 
	#__ASM_GENERIC_IOCTLS_H


	)

4 
	~<lšux/ioùl.h
>

19 
	#TCGETS
 0x5401

	)

20 
	#TCSETS
 0x5402

	)

21 
	#TCSETSW
 0x5403

	)

22 
	#TCSETSF
 0x5404

	)

23 
	#TCGETA
 0x5405

	)

24 
	#TCSETA
 0x5406

	)

25 
	#TCSETAW
 0x5407

	)

26 
	#TCSETAF
 0x5408

	)

27 
	#TCSBRK
 0x5409

	)

28 
	#TCXONC
 0x540A

	)

29 
	#TCFLSH
 0x540B

	)

30 
	#TIOCEXCL
 0x540C

	)

31 
	#TIOCNXCL
 0x540D

	)

32 
	#TIOCSCTTY
 0x540E

	)

33 
	#TIOCGPGRP
 0x540F

	)

34 
	#TIOCSPGRP
 0x5410

	)

35 
	#TIOCOUTQ
 0x5411

	)

36 
	#TIOCSTI
 0x5412

	)

37 
	#TIOCGWINSZ
 0x5413

	)

38 
	#TIOCSWINSZ
 0x5414

	)

39 
	#TIOCMGET
 0x5415

	)

40 
	#TIOCMBIS
 0x5416

	)

41 
	#TIOCMBIC
 0x5417

	)

42 
	#TIOCMSET
 0x5418

	)

43 
	#TIOCGSOFTCAR
 0x5419

	)

44 
	#TIOCSSOFTCAR
 0x541A

	)

45 
	#FIONREAD
 0x541B

	)

46 
	#TIOCINQ
 
FIONREAD


	)

47 
	#TIOCLINUX
 0x541C

	)

48 
	#TIOCCONS
 0x541D

	)

49 
	#TIOCGSERIAL
 0x541E

	)

50 
	#TIOCSSERIAL
 0x541F

	)

51 
	#TIOCPKT
 0x5420

	)

52 
	#FIONBIO
 0x5421

	)

53 
	#TIOCNOTTY
 0x5422

	)

54 
	#TIOCSETD
 0x5423

	)

55 
	#TIOCGETD
 0x5424

	)

56 
	#TCSBRKP
 0x5425

	)

57 
	#TIOCSBRK
 0x5427

	)

58 
	#TIOCCBRK
 0x5428

	)

59 
	#TIOCGSID
 0x5429

	)

60 
	#TCGETS2
 
	`_IOR
('T', 0x2A, 
‹rmios2
)

	)

61 
	#TCSETS2
 
	`_IOW
('T', 0x2B, 
‹rmios2
)

	)

62 
	#TCSETSW2
 
	`_IOW
('T', 0x2C, 
‹rmios2
)

	)

63 
	#TCSETSF2
 
	`_IOW
('T', 0x2D, 
‹rmios2
)

	)

64 
	#TIOCGRS485
 0x542E

	)

65 #iâdeà
TIOCSRS485


66 
	#TIOCSRS485
 0x542F

	)

68 
	#TIOCGPTN
 
	`_IOR
('T', 0x30, è

	)

69 
	#TIOCSPTLCK
 
	`_IOW
('T', 0x31, è

	)

70 
	#TIOCGDEV
 
	`_IOR
('T', 0x32, è

	)

71 
	#TCGETX
 0x5432

	)

72 
	#TCSETX
 0x5433

	)

73 
	#TCSETXF
 0x5434

	)

74 
	#TCSETXW
 0x5435

	)

75 
	#TIOCSIG
 
	`_IOW
('T', 0x36, è

	)

76 
	#TIOCVHANGUP
 0x5437

	)

77 
	#TIOCGPKT
 
	`_IOR
('T', 0x38, è

	)

78 
	#TIOCGPTLCK
 
	`_IOR
('T', 0x39, è

	)

79 
	#TIOCGEXCL
 
	`_IOR
('T', 0x40, è

	)

81 
	#FIONCLEX
 0x5450

	)

82 
	#FIOCLEX
 0x5451

	)

83 
	#FIOASYNC
 0x5452

	)

84 
	#TIOCSERCONFIG
 0x5453

	)

85 
	#TIOCSERGWILD
 0x5454

	)

86 
	#TIOCSERSWILD
 0x5455

	)

87 
	#TIOCGLCKTRMIOS
 0x5456

	)

88 
	#TIOCSLCKTRMIOS
 0x5457

	)

89 
	#TIOCSERGSTRUCT
 0x5458

	)

90 
	#TIOCSERGETLSR
 0x5459

	)

91 
	#TIOCSERGETMULTI
 0x545A

	)

92 
	#TIOCSERSETMULTI
 0x545B

	)

94 
	#TIOCMIWAIT
 0x545C

	)

95 
	#TIOCGICOUNT
 0x545D

	)

101 #iâdeà
FIOQSIZE


102 
	#FIOQSIZE
 0x5460

	)

106 
	#TIOCPKT_DATA
 0

	)

107 
	#TIOCPKT_FLUSHREAD
 1

	)

108 
	#TIOCPKT_FLUSHWRITE
 2

	)

109 
	#TIOCPKT_STOP
 4

	)

110 
	#TIOCPKT_START
 8

	)

111 
	#TIOCPKT_NOSTOP
 16

	)

112 
	#TIOCPKT_DOSTOP
 32

	)

113 
	#TIOCPKT_IOCTL
 64

	)

115 
	#TIOCSER_TEMT
 0x01

	)

	@/usr/include/asm-generic/socket.h

1 #iâdeà
__ASM_GENERIC_SOCKET_H


2 
	#__ASM_GENERIC_SOCKET_H


	)

4 
	~<asm/sockios.h
>

7 
	#SOL_SOCKET
 1

	)

9 
	#SO_DEBUG
 1

	)

10 
	#SO_REUSEADDR
 2

	)

11 
	#SO_TYPE
 3

	)

12 
	#SO_ERROR
 4

	)

13 
	#SO_DONTROUTE
 5

	)

14 
	#SO_BROADCAST
 6

	)

15 
	#SO_SNDBUF
 7

	)

16 
	#SO_RCVBUF
 8

	)

17 
	#SO_SNDBUFFORCE
 32

	)

18 
	#SO_RCVBUFFORCE
 33

	)

19 
	#SO_KEEPALIVE
 9

	)

20 
	#SO_OOBINLINE
 10

	)

21 
	#SO_NO_CHECK
 11

	)

22 
	#SO_PRIORITY
 12

	)

23 
	#SO_LINGER
 13

	)

24 
	#SO_BSDCOMPAT
 14

	)

25 
	#SO_REUSEPORT
 15

	)

26 #iâdeà
SO_PASSCRED


27 
	#SO_PASSCRED
 16

	)

28 
	#SO_PEERCRED
 17

	)

29 
	#SO_RCVLOWAT
 18

	)

30 
	#SO_SNDLOWAT
 19

	)

31 
	#SO_RCVTIMEO
 20

	)

32 
	#SO_SNDTIMEO
 21

	)

36 
	#SO_SECURITY_AUTHENTICATION
 22

	)

37 
	#SO_SECURITY_ENCRYPTION_TRANSPORT
 23

	)

38 
	#SO_SECURITY_ENCRYPTION_NETWORK
 24

	)

40 
	#SO_BINDTODEVICE
 25

	)

43 
	#SO_ATTACH_FILTER
 26

	)

44 
	#SO_DETACH_FILTER
 27

	)

45 
	#SO_GET_FILTER
 
SO_ATTACH_FILTER


	)

47 
	#SO_PEERNAME
 28

	)

48 
	#SO_TIMESTAMP
 29

	)

49 
	#SCM_TIMESTAMP
 
SO_TIMESTAMP


	)

51 
	#SO_ACCEPTCONN
 30

	)

53 
	#SO_PEERSEC
 31

	)

54 
	#SO_PASSSEC
 34

	)

55 
	#SO_TIMESTAMPNS
 35

	)

56 
	#SCM_TIMESTAMPNS
 
SO_TIMESTAMPNS


	)

58 
	#SO_MARK
 36

	)

60 
	#SO_TIMESTAMPING
 37

	)

61 
	#SCM_TIMESTAMPING
 
SO_TIMESTAMPING


	)

63 
	#SO_PROTOCOL
 38

	)

64 
	#SO_DOMAIN
 39

	)

66 
	#SO_RXQ_OVFL
 40

	)

68 
	#SO_WIFI_STATUS
 41

	)

69 
	#SCM_WIFI_STATUS
 
SO_WIFI_STATUS


	)

70 
	#SO_PEEK_OFF
 42

	)

73 
	#SO_NOFCS
 43

	)

75 
	#SO_LOCK_FILTER
 44

	)

77 
	#SO_SELECT_ERR_QUEUE
 45

	)

79 
	#SO_BUSY_POLL
 46

	)

81 
	#SO_MAX_PACING_RATE
 47

	)

	@/usr/include/asm/errno.h

1 
	~<asm-g’”ic/”ºo.h
>

	@/usr/include/asm/param.h

1 
	~<asm-g’”ic/·¿m.h
>

	@/usr/include/bits/libc-lock.h

19 #iâdeà
_BITS_LIBC_LOCK_H


20 
	#_BITS_LIBC_LOCK_H
 1

	)

22 
	~<±h»ad.h
>

23 
	#__Ãed_NULL


	)

24 
	~<¡ddef.h
>

27 #ifdeà
_LIBC


28 
	~<lowËv–lock.h
>

29 
	~<s.h
>

30 
	~<±h»ad-funùiÚs.h
>

31 
	~<”ºo.h
>

32 
	~<gnu/İtiÚ-groups.h
>

36 #ià
defšed
 
_LIBC
 || defšed 
_IO_MTSAFE_IO


37 #ià(
defšed
 
NOT_IN_libc
 && !defšed 
IS_IN_lib±h»ad
è|| !defšed 
_LIBC


38 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__libc_lock_»cursive_t
;

40 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t__libc_lock_»cursive_t
;

43 
__libc_lock_»cursive_İaque__
 
	t__libc_lock_»cursive_t
;

53 
	#__libc_lock_defše_»cursive
(
CLASS
,
NAME
) \

54 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

58 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

59 #ià
LLL_LOCK_INITIALIZER
 == 0

60 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

61 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

63 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

64 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

66 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

67 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

69 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

70 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

71 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

72 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

76 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

77 
	#__libc_lock_š™_»cursive
(
NAME
) \

78 ((
NAME
èğ(
__libc_lock_»cursive_t
è
_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

80 
	#__libc_lock_š™_»cursive
(
NAME
) \

82 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

84 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

85 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

86 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

87 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

88 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

90 } 0)

	)

94 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

95 
	#__libc_lock_fši_»cursive
(
NAME
è((è0)

	)

97 
	#__libc_lock_fši_»cursive
(
NAME
) \

98 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
).
mu‹x
), 0)

	)

102 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

103 #ià
__OPTION_EGLIBC_BIG_MACROS
 != 1

107 
__libc_lock_lock_»cursive_â
 (
__libc_lock_»cursive_t
 *);

108 
libc_hidd’_´Ùo
 (
__libc_lock_lock_»cursive_â
);

110 #ià
__OPTION_EGLIBC_BIG_MACROS


111 
	#__libc_lock_lock_»cursive
(
NAME
) \

113 *
£lf
 = 
THREAD_SELF
; \

114 ià((
NAME
).
owÃr
 !ğ
£lf
) \

116 
	`Îl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

117 (
NAME
).
owÃr
 = 
£lf
; \

119 ++(
NAME
).
út
; \

120 } 0)

	)

122 
	#__libc_lock_lock_»cursive
(
NAME
) \

123 
	`__libc_lock_lock_»cursive_â
 (&(
NAME
))

	)

126 
	#__libc_lock_lock_»cursive
(
NAME
) \

127 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

131 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

132 #ià
__OPTION_EGLIBC_BIG_MACROS
 != 1

136 
__libc_lock_Œylock_»cursive_â
 (
__libc_lock_»cursive_t
 *);

137 
libc_hidd’_´Ùo
 (
__libc_lock_Œylock_»cursive_â
);

139 #ià
__OPTION_EGLIBC_BIG_MACROS


140 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

142 
»suÉ
 = 0; \

143 *
£lf
 = 
THREAD_SELF
; \

144 ià((
NAME
).
owÃr
 !ğ
£lf
) \

146 ià(
	`Îl_Œylock
 ((
NAME
).
lock
) == 0) \

148 (
NAME
).
owÃr
 = 
£lf
; \

149 (
NAME
).
út
 = 1; \

152 
»suÉ
 = 
EBUSY
; \

155 ++(
NAME
).
út
; \

156 
»suÉ
; \

157 })

	)

159 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

160 
	`__libc_lock_Œylock_»cursive_â
 (&(
NAME
))

	)

163 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

164 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
).
mu‹x
), 0)

	)

168 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

169 #ià
__OPTION_EGLIBC_BIG_MACROS
 != 1

173 
__libc_lock_uÆock_»cursive_â
 (
__libc_lock_»cursive_t
 *);

174 
libc_hidd’_´Ùo
 (
__libc_lock_uÆock_»cursive_â
);

176 #ià
__OPTION_EGLIBC_BIG_MACROS


178 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

180 ià(--(
NAME
).
út
 == 0) \

182 (
NAME
).
owÃr
 = 
NULL
; \

183 
	`Îl_uÆock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

185 } 0)

	)

187 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

188 
	`__libc_lock_uÆock_»cursive_â
 (&(
NAME
))

	)

191 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

192 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
).
mu‹x
), 0)

	)

199 
_±h»ad_ş—nup_push_deãr
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

200 (*
routše
è(*), *
¬g
);

201 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

202 
execu‹
);

205 
	#__libc_ş—nup_»giÚ_¡¬t
(
DOIT
, 
FCT
, 
ARG
) \

206 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

207 
_ava
; \

208 ià(
DOIT
) { \

209 
_ava
 = 
	`PTFAVAIL
 (
_±h»ad_ş—nup_push_deãr
); \

210 ià(
_ava
) { \

211 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_push_deãr
, (&
_bufãr
, 
FCT
, \

212 
ARG
)); \

214 
_bufãr
.
__routše
 = (
FCT
); \

215 
_bufãr
.
__¬g
 = (
ARG
); \

218 
_ava
 = 0; \

219 }

	)

222 
	#__libc_ş—nup_»giÚ_’d
(
DOIT
) \

223 ià(
_ava
) { \

224 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

225 } ià(
DOIT
) \

226 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
); \

227 
	}

	)
}

232 #ifdeà
_LIBC


233 
	~"libc-lockP.h
"

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
) (*, const *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 cÚ¡ *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_chæags


	)

11 
	#__¡ub_ç‰ach


	)

12 
	#__¡ub_fchæags


	)

13 
	#__¡ub_fd‘ach


	)

14 
	#__¡ub_g‰y


	)

15 
	#__¡ub_lchmod


	)

16 
	#__¡ub_»voke


	)

17 
	#__¡ub_£ogš


	)

18 
	#__¡ub_sig»tuº


	)

19 
	#__¡ub_s¡k


	)

20 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ç‰ach


	)

13 
	#__¡ub_fchæags


	)

14 
	#__¡ub_fd‘ach


	)

15 
	#__¡ub_g‘msg


	)

16 
	#__¡ub_g‰y


	)

17 
	#__¡ub_lchmod


	)

18 
	#__¡ub_putmsg


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-x32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ü—‹_moduË


	)

13 
	#__¡ub_ç‰ach


	)

14 
	#__¡ub_fchæags


	)

15 
	#__¡ub_fd‘ach


	)

16 
	#__¡ub_g‘_k”Ãl_syms


	)

17 
	#__¡ub_g‘msg


	)

18 
	#__¡ub_g‰y


	)

19 
	#__¡ub_lchmod


	)

20 
	#__¡ub_nfs£rvùl


	)

21 
	#__¡ub_putmsg


	)

22 
	#__¡ub_qu”y_moduË


	)

23 
	#__¡ub_»voke


	)

24 
	#__¡ub_£ogš


	)

25 
	#__¡ub_sig»tuº


	)

26 
	#__¡ub_s¡k


	)

27 
	#__¡ub_¡ty


	)

28 
	#__¡ub_u£lib


	)

	@/usr/include/linux/types.h

1 #iâdeà
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty³s.h
>

6 #iâdeà
__ASSEMBLY__


8 
	~<lšux/posix_ty³s.h
>

16 #ifdeà
__CHECKER__


17 
	#__b™wi£__
 
	`__©Œibu‹__
((
b™wi£
))

	)

19 
	#__b™wi£__


	)

21 #ifdeà
__CHECK_ENDIAN__


22 
	#__b™wi£
 
__b™wi£__


	)

24 
	#__b™wi£


	)

27 
__u16
 
	t__b™wi£
 
	t__Ë16
;

28 
__u16
 
	t__b™wi£
 
	t__be16
;

29 
__u32
 
	t__b™wi£
 
	t__Ë32
;

30 
__u32
 
	t__b™wi£
 
	t__be32
;

31 
__u64
 
	t__b™wi£
 
	t__Ë64
;

32 
__u64
 
	t__b™wi£
 
	t__be64
;

34 
__u16
 
	t__b™wi£
 
	t__sum16
;

35 
__u32
 
	t__b™wi£
 
	t__wsum
;

46 
	#__®igÃd_u64
 
__u64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

47 
	#__®igÃd_be64
 
__be64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

48 
	#__®igÃd_Ë64
 
__Ë64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

150 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

151 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

158 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

159 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
;

166 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©Œibu‹_pu»__
;

168 
__END_NAMESPACE_STD


170 #ifdeà
__USE_XOPEN2K8


172 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

175 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

176 
size_t
 
__n
è
__THROW
;

180 
	~<xloÿË.h
>

182 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

183 
__loÿË_t
 
__loc
è
__THROW
;

185 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

196 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

197 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifdeà
__USE_XOPEN2K8


206 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

207 
__loÿË_t
 
__loc
è
__THROW
;

212 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

213 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

216 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
__©Œibu‹_pu»__
;

231 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

233 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
__©Œibu‹_pu»__
;

240 
__END_NAMESPACE_STD


242 #ifdeà
__USE_GNU


245 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

246 
__THROW
 
__©Œibu‹_pu»__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

253 
__THROW
 
__©Œibu‹_pu»__
;

256 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

257 
__THROW
 
__©Œibu‹_pu»__
;

259 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

262 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

263 cÚ¡ 
wch¬_t
 *
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

266 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

267 
__THROW
 
__©Œibu‹_pu»__
;

270 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

273 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

274 cÚ¡ 
wch¬_t
 *
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

277 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

278 
__THROW
 
__©Œibu‹_pu»__
;

282 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

283 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

284 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

287 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

288 
__END_NAMESPACE_STD


290 #ifdeà
__USE_XOPEN


292 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

295 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

296 cÚ¡ 
wch¬_t
 *
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

299 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

300 
__THROW
 
__©Œibu‹_pu»__
;

304 #ifdeà
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

307 
__THROW
 
__©Œibu‹_pu»__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

316 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

320 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©Œibu‹_pu»__
;

325 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©Œibu‹_pu»__
;

329 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

330 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

334 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdeà
__USE_GNU


344 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

345 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

357 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

361 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

365 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

366 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

367 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

370 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

371 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

377 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifdeà
__USE_EXTERN_INLINES


386 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

387 
__ex‹º_šlše
 
wšt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

392 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

393 
__ex‹º_šlše
 

394 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

395 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

396 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

398 
__ex‹º_šlše
 
size_t


399 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

400 
mb¡©e_t
 *
__»¡riù
 
__ps
))

401 {  (
__ps
 !ğ
NULL


402 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

409 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

410 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

414 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

415 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

416 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

424 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

425 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

429 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

430 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

431 
size_t
 
__nwc
, size_ˆ
__Ën
,

432 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

437 #ifdeà
__USE_XOPEN


439 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

443 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

451 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifdeà
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

460 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

469 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

473 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ifdeà
__USE_ISOC99


479 
__BEGIN_NAMESPACE_C99


482 
__ex‹nsiÚ__


483 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

484 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

485 
__THROW
;

489 
__ex‹nsiÚ__


490 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

491 
wch¬_t
 **
__»¡riù
 
__’d±r
,

492 
__ba£
è
__THROW
;

493 
__END_NAMESPACE_C99


496 #ifdeà
__USE_GNU


499 
__ex‹nsiÚ__


500 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

502 
__THROW
;

506 
__ex‹nsiÚ__


507 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

508 
wch¬_t
 **
__»¡riù
 
__’d±r
,

509 
__ba£
è
__THROW
;

512 #ifdeà
__USE_GNU


526 
	~<xloÿË.h
>

530 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

531 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

532 
__loÿË_t
 
__loc
è
__THROW
;

534 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

535 
wch¬_t
 **
__»¡riù
 
__’d±r
,

536 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

538 
__ex‹nsiÚ__


539 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

540 
wch¬_t
 **
__»¡riù
 
__’d±r
,

541 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

543 
__ex‹nsiÚ__


544 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

545 
wch¬_t
 **
__»¡riù
 
__’d±r
,

546 
__ba£
, 
__loÿË_t
 
__loc
)

547 
__THROW
;

549 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

550 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

551 
__THROW
;

553 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

554 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

555 
__THROW
;

557 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

558 
wch¬_t
 **
__»¡riù
 
__’d±r
,

559 
__loÿË_t
 
__loc
è
__THROW
;

563 #ifdeà
__USE_XOPEN2K8


566 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

567 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

571 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

572 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

583 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

594 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

595 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

601 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

605 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

606 
__THROW
 ;

612 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

613 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

614 
__gnuc_va_li¡
 
__¬g
)

620 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

621 
__gnuc_va_li¡
 
__¬g
)

625 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

626 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

627 
__gnuc_va_li¡
 
__¬g
)

628 
__THROW
 ;

635 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

636 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

642 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

646 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

647 
__THROW
 ;

649 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

650 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

651 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

652 #ifdeà
__REDIRECT


656 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

657 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

658 
__isoc99_fwsÿnf
)

660 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_wsÿnf
)

663 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

664 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

665 ...), 
__isoc99_swsÿnf
)

668 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

669 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

670 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

671 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

673 
__THROW
;

674 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

675 
	#wsÿnf
 
__isoc99_wsÿnf


	)

676 
	#swsÿnf
 
__isoc99_swsÿnf


	)

680 
__END_NAMESPACE_STD


683 #ifdeà
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

690 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

691 
__gnuc_va_li¡
 
__¬g
)

697 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

698 
__gnuc_va_li¡
 
__¬g
)

701 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
)

704 
__THROW
 ;

706 #ià!
defšed
 
__USE_GNU
 \

707 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

708 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

711 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

712 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

714 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

717 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

718 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

719 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

722 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

723 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

726 
__gnuc_va_li¡
 
__¬g
);

727 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

728 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

730 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

731 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

732 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

746 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

752 
wšt_t
 
	`g‘wch¬
 ();

759 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

760 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

766 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

774 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

775 
__FILE
 *
__»¡riù
 
__¡»am
);

781 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

782 
__FILE
 *
__»¡riù
 
__¡»am
);

789 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

790 
__END_NAMESPACE_STD


793 #ifdeà
__USE_GNU


801 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

802 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

810 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

818 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

827 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

828 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

837 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

838 
__FILE
 *
__»¡riù
 
__¡»am
);

846 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

847 
__FILE
 *
__»¡riù
 
__¡»am
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

856 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

857 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifdeà
__USE_GNU


861 
	~<xloÿË.h
>

865 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

866 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

867 cÚ¡ 
tm
 *
__»¡riù
 
__
,

868 
__loÿË_t
 
__loc
è
__THROW
;

877 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


878 
	#__Ãed_iswxxx


	)

879 
	~<wùy³.h
>

883 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


884 
	~<b™s/wch¬2.h
>

887 #ifdeà
__LDBL_COMPAT


888 
	~<b™s/wch¬-ldbl.h
>

891 
__END_DECLS


899 #undeà
__Ãed_mb¡©e_t


900 #undeà
__Ãed_wšt_t


	@/usr/include/asm-generic/errno.h

1 #iâdeà
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-g’”ic/”ºo-ba£.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

9 
	#ENOSYS
 38

	)

10 
	#ENOTEMPTY
 39

	)

11 
	#ELOOP
 40

	)

12 
	#EWOULDBLOCK
 
EAGAIN


	)

13 
	#ENOMSG
 42

	)

14 
	#EIDRM
 43

	)

15 
	#ECHRNG
 44

	)

16 
	#EL2NSYNC
 45

	)

17 
	#EL3HLT
 46

	)

18 
	#EL3RST
 47

	)

19 
	#ELNRNG
 48

	)

20 
	#EUNATCH
 49

	)

21 
	#ENOCSI
 50

	)

22 
	#EL2HLT
 51

	)

23 
	#EBADE
 52

	)

24 
	#EBADR
 53

	)

25 
	#EXFULL
 54

	)

26 
	#ENOANO
 55

	)

27 
	#EBADRQC
 56

	)

28 
	#EBADSLT
 57

	)

30 
	#EDEADLOCK
 
EDEADLK


	)

32 
	#EBFONT
 59

	)

33 
	#ENOSTR
 60

	)

34 
	#ENODATA
 61

	)

35 
	#ETIME
 62

	)

36 
	#ENOSR
 63

	)

37 
	#ENONET
 64

	)

38 
	#ENOPKG
 65

	)

39 
	#EREMOTE
 66

	)

40 
	#ENOLINK
 67

	)

41 
	#EADV
 68

	)

42 
	#ESRMNT
 69

	)

43 
	#ECOMM
 70

	)

44 
	#EPROTO
 71

	)

45 
	#EMULTIHOP
 72

	)

46 
	#EDOTDOT
 73

	)

47 
	#EBADMSG
 74

	)

48 
	#EOVERFLOW
 75

	)

49 
	#ENOTUNIQ
 76

	)

50 
	#EBADFD
 77

	)

51 
	#EREMCHG
 78

	)

52 
	#ELIBACC
 79

	)

53 
	#ELIBBAD
 80

	)

54 
	#ELIBSCN
 81

	)

55 
	#ELIBMAX
 82

	)

56 
	#ELIBEXEC
 83

	)

57 
	#EILSEQ
 84

	)

58 
	#ERESTART
 85

	)

59 
	#ESTRPIPE
 86

	)

60 
	#EUSERS
 87

	)

61 
	#ENOTSOCK
 88

	)

62 
	#EDESTADDRREQ
 89

	)

63 
	#EMSGSIZE
 90

	)

64 
	#EPROTOTYPE
 91

	)

65 
	#ENOPROTOOPT
 92

	)

66 
	#EPROTONOSUPPORT
 93

	)

67 
	#ESOCKTNOSUPPORT
 94

	)

68 
	#EOPNOTSUPP
 95

	)

69 
	#EPFNOSUPPORT
 96

	)

70 
	#EAFNOSUPPORT
 97

	)

71 
	#EADDRINUSE
 98

	)

72 
	#EADDRNOTAVAIL
 99

	)

73 
	#ENETDOWN
 100

	)

74 
	#ENETUNREACH
 101

	)

75 
	#ENETRESET
 102

	)

76 
	#ECONNABORTED
 103

	)

77 
	#ECONNRESET
 104

	)

78 
	#ENOBUFS
 105

	)

79 
	#EISCONN
 106

	)

80 
	#ENOTCONN
 107

	)

81 
	#ESHUTDOWN
 108

	)

82 
	#ETOOMANYREFS
 109

	)

83 
	#ETIMEDOUT
 110

	)

84 
	#ECONNREFUSED
 111

	)

85 
	#EHOSTDOWN
 112

	)

86 
	#EHOSTUNREACH
 113

	)

87 
	#EALREADY
 114

	)

88 
	#EINPROGRESS
 115

	)

89 
	#ESTALE
 116

	)

90 
	#EUCLEAN
 117

	)

91 
	#ENOTNAM
 118

	)

92 
	#ENAVAIL
 119

	)

93 
	#EISNAM
 120

	)

94 
	#EREMOTEIO
 121

	)

95 
	#EDQUOT
 122

	)

97 
	#ENOMEDIUM
 123

	)

98 
	#EMEDIUMTYPE
 124

	)

99 
	#ECANCELED
 125

	)

100 
	#ENOKEY
 126

	)

101 
	#EKEYEXPIRED
 127

	)

102 
	#EKEYREVOKED
 128

	)

103 
	#EKEYREJECTED
 129

	)

106 
	#EOWNERDEAD
 130

	)

107 
	#ENOTRECOVERABLE
 131

	)

109 
	#ERFKILL
 132

	)

111 
	#EHWPOISON
 133

	)

	@/usr/include/asm-generic/param.h

1 #iâdeà
__ASM_GENERIC_PARAM_H


2 
	#__ASM_GENERIC_PARAM_H


	)

4 #iâdeà
HZ


5 
	#HZ
 100

	)

8 #iâdeà
EXEC_PAGESIZE


9 
	#EXEC_PAGESIZE
 4096

	)

12 #iâdeà
NOGROUP


13 
	#NOGROUP
 (-1)

	)

16 
	#MAXHOSTNAMELEN
 64

	)

	@/usr/include/asm/sockios.h

1 
	~<asm-g’”ic/sockios.h
>

	@/usr/include/asm/types.h

1 #iâdeà
_ASM_X86_TYPES_H


2 
	#_ASM_X86_TYPES_H


	)

4 
	~<asm-g’”ic/ty³s.h
>

	@/usr/include/bits/wchar-ldbl.h

19 #iâdeà
_WCHAR_H


23 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


24 
__BEGIN_NAMESPACE_C99


25 
__LDBL_REDIR_DECL
 (
fw´štf
);

26 
__LDBL_REDIR_DECL
 (
w´štf
);

27 
__LDBL_REDIR_DECL
 (
sw´štf
);

28 
__LDBL_REDIR_DECL
 (
vfw´štf
);

29 
__LDBL_REDIR_DECL
 (
vw´štf
);

30 
__LDBL_REDIR_DECL
 (
vsw´štf
);

31 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

32 && !
defšed
 
	g__REDIRECT
 \

33 && (
defšed
 
	g__STRICT_ANSI__
 || defšed 
	g__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fwsÿnf
, 
__Ædbl___isoc99_fwsÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
wsÿnf
, 
__Ædbl___isoc99_wsÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
swsÿnf
, 
__Ædbl___isoc99_swsÿnf
)

38 
	`__LDBL_REDIR_DECL
 (
fwsÿnf
);

39 
	`__LDBL_REDIR_DECL
 (
wsÿnf
);

40 
	`__LDBL_REDIR_DECL
 (
swsÿnf
);

42 
__END_NAMESPACE_C99


45 #ifdeà
__USE_ISOC99


46 
__BEGIN_NAMESPACE_C99


47 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd
, 
wc¡od
);

48 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

49 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

50 
	$__LDBL_REDIR1_DECL
 (
vfwsÿnf
, 
__Ædbl___isoc99_vfwsÿnf
)

51 
	$__LDBL_REDIR1_DECL
 (
vwsÿnf
, 
__Ædbl___isoc99_vwsÿnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vswsÿnf
, 
__Ædbl___isoc99_vswsÿnf
)

54 
	`__LDBL_REDIR_DECL
 (
vfwsÿnf
);

55 
	`__LDBL_REDIR_DECL
 (
vwsÿnf
);

56 
	`__LDBL_REDIR_DECL
 (
vswsÿnf
);

58 
__END_NAMESPACE_C99


61 #ifdeà
__USE_GNU


62 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd_l
, 
wc¡od_l
);

65 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


66 
	$__LDBL_REDIR_DECL
 (
__sw´štf_chk
)

67 
	$__LDBL_REDIR_DECL
 (
__vsw´štf_chk
)

68 #ià
__USE_FORTIFY_LEVEL
 > 1

69 
	$__LDBL_REDIR_DECL
 (
__fw´štf_chk
)

70 
	$__LDBL_REDIR_DECL
 (
__w´štf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__vfw´štf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vw´štf_chk
)

	@/usr/include/bits/wchar2.h

19 #iâdeà
_WCHAR_H


24 
wch¬_t
 *
	$__wmemıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

25 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

26 
size_t
 
__ns1
è
__THROW
;

27 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_®Ÿs
,

28 (
wch¬_t
 *
__»¡riù
 
__s1
,

29 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
),

30 
wmemıy
);

31 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_chk_w¬n
,

32 (
wch¬_t
 *
__»¡riù
 
__s1
,

33 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

34 
size_t
 
__ns1
), 
__wmemıy_chk
)

35 
	`__w¬Ç‰r
 ("wmemcpy called with†ength biggerhan size of destination "

38 
__fÜtify_funùiÚ
 
wch¬_t
 *

39 
	`__NTH
 (
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, cÚ¡ wch¬_ˆ*__»¡riù 
__s2
,

40 
size_t
 
__n
))

42 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

44 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

45  
	`__wmemıy_chk
 (
__s1
, 
__s2
, 
__n
,

46 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

48 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

49  
	`__wmemıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

50 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

52  
	`__wmemıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

53 
	}
}

56 
wch¬_t
 *
	$__wmemmove_chk
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

57 
size_t
 
__n
, size_ˆ
__ns1
è
__THROW
;

58 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_®Ÿs
, (wch¬_ˆ*
__s1
,

59 cÚ¡ 
wch¬_t
 *
__s2
,

60 
size_t
 
__n
), 
wmemmove
);

61 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¬n
,

62 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

63 
size_t
 
__n
, size_ˆ
__ns1
), 
__wmemmove_chk
)

64 
	`__w¬Ç‰r
 ("wmemmove called with†ength biggerhan size of destination "

67 
__fÜtify_funùiÚ
 
wch¬_t
 *

68 
	`__NTH
 (
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
))

70 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

72 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

73  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

74 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

76 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

77  
	`__wmemmove_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

78 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

80  
	`__wmemmove_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

81 
	}
}

84 #ifdeà
__USE_GNU


85 
wch¬_t
 *
	$__wmempıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

86 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

87 
size_t
 
__ns1
è
__THROW
;

88 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_®Ÿs
,

89 (
wch¬_t
 *
__»¡riù
 
__s1
,

90 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
,

91 
size_t
 
__n
), 
wmempıy
);

92 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_chk_w¬n
,

93 (
wch¬_t
 *
__»¡riù
 
__s1
,

94 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

95 
size_t
 
__ns1
), 
__wmempıy_chk
)

96 
	`__w¬Ç‰r
 ("wmempcpy called with†ength biggerhan size of destination "

99 
__fÜtify_funùiÚ
 
wch¬_t
 *

100 
	`__NTH
 (
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, cÚ¡ wch¬_ˆ*__»¡riù 
__s2
,

101 
size_t
 
__n
))

103 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

105 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

106  
	`__wmempıy_chk
 (
__s1
, 
__s2
, 
__n
,

107 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

109 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

110  
	`__wmempıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

111 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

113  
	`__wmempıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

114 
	}
}

118 
wch¬_t
 *
	$__wmem£t_chk
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

119 
size_t
 
__ns
è
__THROW
;

120 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_®Ÿs
, (wch¬_ˆ*
__s
, wch¬_ˆ
__c
,

121 
size_t
 
__n
), 
wmem£t
);

122 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¬n
,

123 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

124 
size_t
 
__ns
), 
__wmem£t_chk
)

125 
	`__w¬Ç‰r
 ("wmemset called with†ength biggerhan size of destination "

128 
__fÜtify_funùiÚ
 
wch¬_t
 *

129 
	`__NTH
 (
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
))

131 ià(
	`__bos0
 (
__s
è!ğ(
size_t
) -1)

133 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

134  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sè/  (
wch¬_t
));

136 ià(
__n
 > 
	`__bos0
 (
__s
è/  (
wch¬_t
))

137  
	`__wmem£t_chk_w¬n
 (
__s
, 
__c
, 
__n
,

138 
	`__bos0
 (
__s
è/  (
wch¬_t
));

140  
	`__wmem£t_®Ÿs
 (
__s
, 
__c
, 
__n
);

141 
	}
}

144 
wch¬_t
 *
	$__wcsıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

145 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

146 
size_t
 
__n
è
__THROW
;

147 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsıy_®Ÿs
,

148 (
wch¬_t
 *
__»¡riù
 
__de¡
,

149 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsıy
);

151 
__fÜtify_funùiÚ
 
wch¬_t
 *

152 
	`__NTH
 (
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

154 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

155  
	`__wcsıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

156  
	`__wcsıy_®Ÿs
 (
__de¡
, 
__¤c
);

157 
	}
}

160 
wch¬_t
 *
	$__wııy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

161 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

162 
size_t
 
__de¡Ën
è
__THROW
;

163 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wııy_®Ÿs
,

164 (
wch¬_t
 *
__»¡riù
 
__de¡
,

165 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wııy
);

167 
__fÜtify_funùiÚ
 
wch¬_t
 *

168 
	`__NTH
 (
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

170 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

171  
	`__wııy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

172  
	`__wııy_®Ÿs
 (
__de¡
, 
__¤c
);

173 
	}
}

176 
wch¬_t
 *
	$__wc¢ıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

177 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

178 
size_t
 
__de¡Ën
è
__THROW
;

179 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_®Ÿs
,

180 (
wch¬_t
 *
__»¡riù
 
__de¡
,

181 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

182 
size_t
 
__n
), 
wc¢ıy
);

183 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_chk_w¬n
,

184 (
wch¬_t
 *
__»¡riù
 
__de¡
,

185 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

186 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wc¢ıy_chk
)

187 
	`__w¬Ç‰r
 ("wcsncpy called with†ength biggerhan size of destination "

190 
__fÜtify_funùiÚ
 
wch¬_t
 *

191 
	`__NTH
 (
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

192 
size_t
 
__n
))

194 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

196 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

197  
	`__wc¢ıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

198 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

199 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

200  
	`__wc¢ıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

201 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

203  
	`__wc¢ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

204 
	}
}

207 
wch¬_t
 *
	$__wınıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

208 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

209 
size_t
 
__de¡Ën
è
__THROW
;

210 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_®Ÿs
,

211 (
wch¬_t
 *
__»¡riù
 
__de¡
,

212 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

213 
size_t
 
__n
), 
wınıy
);

214 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_chk_w¬n
,

215 (
wch¬_t
 *
__»¡riù
 
__de¡
,

216 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

217 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wınıy_chk
)

218 
	`__w¬Ç‰r
 ("wcpncpy called with†ength biggerhan size of destination "

221 
__fÜtify_funùiÚ
 
wch¬_t
 *

222 
	`__NTH
 (
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

223 
size_t
 
__n
))

225 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

227 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

228  
	`__wınıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

229 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

230 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

231  
	`__wınıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

232 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

234  
	`__wınıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

235 
	}
}

238 
wch¬_t
 *
	$__wcsÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

239 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

240 
size_t
 
__de¡Ën
è
__THROW
;

241 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsÿt_®Ÿs
,

242 (
wch¬_t
 *
__»¡riù
 
__de¡
,

243 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsÿt
);

245 
__fÜtify_funùiÚ
 
wch¬_t
 *

246 
	`__NTH
 (
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

248 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

249  
	`__wcsÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

250  
	`__wcsÿt_®Ÿs
 (
__de¡
, 
__¤c
);

251 
	}
}

254 
wch¬_t
 *
	$__wc¢ÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

255 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

256 
size_t
 
__n
, size_ˆ
__de¡Ën
è
__THROW
;

257 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ÿt_®Ÿs
,

258 (
wch¬_t
 *
__»¡riù
 
__de¡
,

259 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

260 
size_t
 
__n
), 
wc¢ÿt
);

262 
__fÜtify_funùiÚ
 
wch¬_t
 *

263 
	`__NTH
 (
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

264 
size_t
 
__n
))

266 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

267  
	`__wc¢ÿt_chk
 (
__de¡
, 
__¤c
, 
__n
,

268 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

269  
	`__wc¢ÿt_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

270 
	}
}

273 
	$__sw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

274 
__æag
, 
size_t
 
__s_Ën
,

275 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

276 
__THROW
 ;

278 
	`__REDIRECT_NTH_LDBL
 (
__sw´štf_®Ÿs
,

279 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

280 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...),

281 
sw´štf
);

283 #ifdeà
__va_¬g_·ck


284 
__fÜtify_funùiÚ
 

285 
	`__NTH
 (
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

286 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...))

288 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

289  
	`__sw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

290 
	`__bos
 (
__s
è/  (
wch¬_t
),

291 
__fmt
, 
	`__va_¬g_·ck
 ());

292  
	`__sw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¬g_·ck
 ());

293 
	}
}

294 #–ià!
defšed
 
__ılu¥lus


296 
	#sw´štf
(
s
, 
n
, ...) \

297 (
	`__bos
 (
s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

298 ? 
	`__sw´štf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

299 
	`__bos
 (
s
è/  (
wch¬_t
), 
__VA_ARGS__
) \

300 : 
	`sw´štf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

303 
	$__vsw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

304 
__æag
, 
size_t
 
__s_Ën
,

305 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

306 
__gnuc_va_li¡
 
__¬g
)

307 
__THROW
 ;

309 
	`__REDIRECT_NTH_LDBL
 (
__vsw´štf_®Ÿs
,

310 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

311 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
,

312 
__gnuc_va_li¡
 
__­
), 
vsw´štf
);

314 
__fÜtify_funùiÚ
 

315 
	`__NTH
 (
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

316 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
))

318 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

319  
	`__vsw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

320 
	`__bos
 (
__s
è/  (
wch¬_t
), 
__fmt
, 
__­
);

321  
	`__vsw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
__­
);

322 
	}
}

325 #ià
__USE_FORTIFY_LEVEL
 > 1

327 
__fw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

328 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

329 
__w´štf_chk
 (
__æag
, cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

331 
__vfw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

332 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

333 
__gnuc_va_li¡
 
__­
);

334 
__vw´štf_chk
 (
__æag
, cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

335 
__gnuc_va_li¡
 
__­
);

337 #ifdeà
__va_¬g_·ck


338 
__fÜtify_funùiÚ
 

339 
	$w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...)

341  
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

342 
	}
}

344 
__fÜtify_funùiÚ
 

345 
	$fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
, cÚ¡ 
wch¬_t
 *__»¡riù 
__fmt
, ...)

347  
	`__fw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

348 
	`__va_¬g_·ck
 ());

349 
	}
}

350 #–ià!
defšed
 
__ılu¥lus


351 
	#w´štf
(...) \

352 
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

353 
	#fw´štf
(
¡»am
, ...) \

354 
	`__fw´štf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

357 
__fÜtify_funùiÚ
 

358 
	$vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

360  
	`__vw´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

361 
	}
}

363 
__fÜtify_funùiÚ
 

364 
	$vfw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

365 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

367  
	`__vfw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

368 
	}
}

372 
wch¬_t
 *
	$__fg‘ws_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

373 
__FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

374 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_®Ÿs
,

375 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

376 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws
è
__wur
;

377 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_chk_w¬n
,

378 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

379 
__FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘ws_chk
)

380 
__wur
 
	`__w¬Ç‰r
 ("fgetws called with bigger sizehan†ength "

383 
__fÜtify_funùiÚ
 
__wur
 
wch¬_t
 *

384 
	$fg‘ws
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

386 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

388 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

389  
	`__fg‘ws_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

390 
__n
, 
__¡»am
);

392 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

393  
	`__fg‘ws_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

394 
__n
, 
__¡»am
);

396  
	`__fg‘ws_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

397 
	}
}

399 #ifdeà
__USE_GNU


400 
wch¬_t
 *
	$__fg‘ws_uÆocked_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
,

401 
__n
, 
__FILE
 *
__»¡riù
 
__¡»am
)

402 
__wur
;

403 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_®Ÿs
,

404 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

405 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws_uÆocked
)

406 
__wur
;

407 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_chk_w¬n
,

408 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

409 
__FILE
 *
__»¡riù
 
__¡»am
),

410 
__fg‘ws_uÆocked_chk
)

411 
__wur
 
	`__w¬Ç‰r
 ("fgetws_unlocked called with bigger sizehan†ength "

414 
__fÜtify_funùiÚ
 
__wur
 
wch¬_t
 *

415 
	$fg‘ws_uÆocked
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

417 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

419 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

420  
	`__fg‘ws_uÆocked_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

421 
__n
, 
__¡»am
);

423 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

424  
	`__fg‘ws_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

425 
__n
, 
__¡»am
);

427  
	`__fg‘ws_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

428 
	}
}

432 
size_t
 
	$__wütomb_chk
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

433 
mb¡©e_t
 *
__»¡riù
 
__p
,

434 
size_t
 
__buæ’
è
__THROW
 
__wur
;

435 
size_t
 
	`__REDIRECT_NTH
 (
__wütomb_®Ÿs
,

436 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

437 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wütomb
è
__wur
;

439 
__fÜtify_funùiÚ
 
__wur
 
size_t


440 
	`__NTH
 (
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

441 
mb¡©e_t
 *
__»¡riù
 
__ps
))

446 
	#__WCHAR_MB_LEN_MAX
 16

	)

447 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__WCHAR_MB_LEN_MAX


450 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

451  
	`__wütomb_chk
 (
__s
, 
__wch¬
, 
__ps
, 
	`__bos
 (__s));

452  
	`__wütomb_®Ÿs
 (
__s
, 
__wch¬
, 
__ps
);

453 
	}
}

456 
size_t
 
	$__mb¤towcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

457 cÚ¡ **
__»¡riù
 
__¤c
,

458 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

459 
size_t
 
__d¡Ën
è
__THROW
;

460 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_®Ÿs
,

461 (
wch¬_t
 *
__»¡riù
 
__d¡
,

462 cÚ¡ **
__»¡riù
 
__¤c
,

463 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

464 
mb¤towcs
);

465 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_chk_w¬n
,

466 (
wch¬_t
 *
__»¡riù
 
__d¡
,

467 cÚ¡ **
__»¡riù
 
__¤c
,

468 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

469 
size_t
 
__d¡Ën
), 
__mb¤towcs_chk
)

470 
	`__w¬Ç‰r
 ("mbsrtowcs called with dst buffer smallerhan†en "

473 
__fÜtify_funùiÚ
 
size_t


474 
	`__NTH
 (
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ **__»¡riù 
__¤c
,

475 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

477 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

479 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

480  
	`__mb¤towcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

481 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

483 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

484  
	`__mb¤towcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

485 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

487  
	`__mb¤towcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

488 
	}
}

491 
size_t
 
	$__wc¤tombs_chk
 (*
__»¡riù
 
__d¡
,

492 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

493 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

494 
size_t
 
__d¡Ën
è
__THROW
;

495 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_®Ÿs
,

496 (*
__»¡riù
 
__d¡
,

497 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

498 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

499 
wc¤tombs
);

500 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_chk_w¬n
,

501 (*
__»¡riù
 
__d¡
,

502 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

503 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

504 
size_t
 
__d¡Ën
), 
__wc¤tombs_chk
)

505 
	`__w¬Ç‰r
 ("wcsrtombs called with dst buffer smallerhan†en");

507 
__fÜtify_funùiÚ
 
size_t


508 
	`__NTH
 (
	$wc¤tombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 **__»¡riù 
__¤c
,

509 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

511 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

513 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

514  
	`__wc¤tombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

516 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

517  
	`__wc¤tombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

519  
	`__wc¤tombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

520 
	}
}

523 #ifdeà
__USE_GNU


524 
size_t
 
	$__mb¢¹owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

525 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

526 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

527 
size_t
 
__d¡Ën
è
__THROW
;

528 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_®Ÿs
,

529 (
wch¬_t
 *
__»¡riù
 
__d¡
,

530 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

531 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

532 
mb¢¹owcs
);

533 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_chk_w¬n
,

534 (
wch¬_t
 *
__»¡riù
 
__d¡
,

535 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

536 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

537 
size_t
 
__d¡Ën
), 
__mb¢¹owcs_chk
)

538 
	`__w¬Ç‰r
 ("mbsnrtowcs called with dst buffer smallerhan†en "

541 
__fÜtify_funùiÚ
 
size_t


542 
	`__NTH
 (
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ **__»¡riù 
__¤c
,

543 
size_t
 
__nmc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

545 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

547 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

548  
	`__mb¢¹owcs_chk
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

549 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

551 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

552  
	`__mb¢¹owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

553 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

555  
	`__mb¢¹owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
);

556 
	}
}

559 
size_t
 
	$__wc¢¹ombs_chk
 (*
__»¡riù
 
__d¡
,

560 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

561 
size_t
 
__nwc
, size_ˆ
__Ën
,

562 
mb¡©e_t
 *
__»¡riù
 
__ps
, 
size_t
 
__d¡Ën
)

563 
__THROW
;

564 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_®Ÿs
,

565 (*
__»¡riù
 
__d¡
,

566 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

567 
size_t
 
__nwc
, size_ˆ
__Ën
,

568 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wc¢¹ombs
);

569 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_chk_w¬n
,

570 (*
__»¡riù
 
__d¡
,

571 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

572 
size_t
 
__nwc
, size_ˆ
__Ën
,

573 
mb¡©e_t
 *
__»¡riù
 
__ps
,

574 
size_t
 
__d¡Ën
), 
__wc¢¹ombs_chk
)

575 
	`__w¬Ç‰r
 ("wcsnrtombs called with dst buffer smallerhan†en");

577 
__fÜtify_funùiÚ
 
size_t


578 
	`__NTH
 (
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 **__»¡riù 
__¤c
,

579 
size_t
 
__nwc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

581 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

583 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

584  
	`__wc¢¹ombs_chk
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

585 
	`__bos
 (
__d¡
));

587 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

588  
	`__wc¢¹ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

589 
	`__bos
 (
__d¡
));

591  
	`__wc¢¹ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
);

592 
	}
}

	@/usr/include/gnu/option-groups.h

10 #iâdeà
__GNU_OPTION_GROUPS_H


11 
	#__GNU_OPTION_GROUPS_H


	)

13 
	#__OPTION_EGLIBC_ADVANCED_INET6
 1

	)

14 
	#__OPTION_EGLIBC_BACKTRACE
 1

	)

15 
	#__OPTION_EGLIBC_BIG_MACROS
 1

	)

16 
	#__OPTION_EGLIBC_BSD
 1

	)

17 
	#__OPTION_EGLIBC_CATGETS
 1

	)

18 
	#__OPTION_EGLIBC_CHARSETS
 1

	)

19 
	#__OPTION_EGLIBC_CRYPT
 1

	)

20 
	#__OPTION_EGLIBC_CRYPT_UFC
 1

	)

21 
	#__OPTION_EGLIBC_CXX_TESTS
 1

	)

22 
	#__OPTION_EGLIBC_DB_ALIASES
 1

	)

23 
	#__OPTION_EGLIBC_ENVZ
 1

	)

24 
	#__OPTION_EGLIBC_FCVT
 1

	)

25 
	#__OPTION_EGLIBC_FMTMSG
 1

	)

26 
	#__OPTION_EGLIBC_FSTAB
 1

	)

27 
	#__OPTION_EGLIBC_FTRAVERSE
 1

	)

28 
	#__OPTION_EGLIBC_GETLOGIN
 1

	)

29 
	#__OPTION_EGLIBC_IDN
 1

	)

30 
	#__OPTION_EGLIBC_INET
 1

	)

31 
	#__OPTION_EGLIBC_INET_ANL
 1

	)

32 
	#__OPTION_EGLIBC_LIBM
 1

	)

33 
	#__OPTION_EGLIBC_LOCALES
 1

	)

34 
	#__OPTION_EGLIBC_LOCALE_CODE
 1

	)

35 
	#__OPTION_EGLIBC_MEMUSAGE
 1

	)

36 
	#__OPTION_EGLIBC_NIS
 1

	)

37 
	#__OPTION_EGLIBC_NSSWITCH
 1

	)

38 
	#__OPTION_EGLIBC_RCMD
 1

	)

39 
	#__OPTION_EGLIBC_RTLD_DEBUG
 1

	)

40 
	#__OPTION_EGLIBC_SPAWN
 1

	)

41 
	#__OPTION_EGLIBC_STREAMS
 1

	)

42 
	#__OPTION_EGLIBC_SUNRPC
 1

	)

43 
	#__OPTION_EGLIBC_UTMP
 1

	)

44 
	#__OPTION_EGLIBC_UTMPX
 1

	)

45 
	#__OPTION_EGLIBC_WORDEXP
 1

	)

46 
	#__OPTION_POSIX_C_LANG_WIDE_CHAR
 1

	)

47 
	#__OPTION_POSIX_REGEXP
 1

	)

48 
	#__OPTION_POSIX_REGEXP_GLIBC
 1

	)

49 
	#__OPTION_POSIX_WIDE_CHAR_DEVICE_IO
 1

	)

	@/usr/include/linux/ioctl.h

1 #iâdeà
_LINUX_IOCTL_H


2 
	#_LINUX_IOCTL_H


	)

4 
	~<asm/ioùl.h
>

	@/usr/include/linux/posix_types.h

1 #iâdeà
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<lšux/¡ddef.h
>

21 #undeà
__FD_SETSIZE


22 
	#__FD_SETSIZE
 1024

	)

25 
	mfds_b™s
[
__FD_SETSIZE
 / (8 * ())];

26 } 
	t__k”Ãl_fd_£t
;

29 (*
	t__k”Ãl_sighªdËr_t
)();

32 
	t__k”Ãl_key_t
;

33 
	t__k”Ãl_mqd_t
;

35 
	~<asm/posix_ty³s.h
>

	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifdeà
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifdeà
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


86 #ià
__PTHREAD_MUTEX_HAVE_ELISION
 == 1

87 
	#__PTHREAD_SPINS
 0, 0

	)

88 #–ià
__PTHREAD_MUTEX_HAVE_ELISION
 == 2

89 
	#__PTHREAD_SPINS
 { 0, 0 }

	)

91 
	#__PTHREAD_SPINS
 0

	)

94 #ifdeà
__PTHREAD_MUTEX_HAVE_PREV


95 
	#PTHREAD_MUTEX_INITIALIZER
 \

96 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

97 #ifdeà
__USE_GNU


98 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

99 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

100 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

101 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

102 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

103 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

104 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

105 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

109 
	#PTHREAD_MUTEX_INITIALIZER
 \

110 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

111 #ifdeà
__USE_GNU


112 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

113 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

114 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

115 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

116 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

117 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

124 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


127 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

128 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

129 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

130 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


136 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


137 #ià
__WORDSIZE
 == 64

138 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

143 
	#PTHREAD_RWLOCK_INITIALIZER
 \

144 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

145 #ifdeà
__USE_GNU


146 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


147 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

149 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

151 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


152 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

153 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

154 0, 0, 0, 0 } }

	)

156 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

157 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

158 0 } }

	)

168 
	mPTHREAD_INHERIT_SCHED
,

169 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

170 
	mPTHREAD_EXPLICIT_SCHED


171 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

178 
	mPTHREAD_SCOPE_SYSTEM
,

179 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

180 
	mPTHREAD_SCOPE_PROCESS


181 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

188 
	mPTHREAD_PROCESS_PRIVATE
,

189 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

190 
	mPTHREAD_PROCESS_SHARED


191 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

197 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

201 
	s_±h»ad_ş—nup_bufãr


203 (*
	m__routše
) (*);

204 *
	m__¬g
;

205 
	m__ÿnûÉy³
;

206 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

212 
	mPTHREAD_CANCEL_ENABLE
,

213 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

214 
	mPTHREAD_CANCEL_DISABLE


215 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

219 
	mPTHREAD_CANCEL_DEFERRED
,

220 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

221 
	mPTHREAD_CANCEL_ASYNCHRONOUS


222 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

224 
	#PTHREAD_CANCELED
 ((*è-1)

	)

228 
	#PTHREAD_ONCE_INIT
 0

	)

231 #ifdeà
__USE_XOPEN2K


235 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

239 
__BEGIN_DECLS


244 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

245 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

246 *(*
__¡¬t_routše
) (*),

247 *
__»¡riù
 
__¬g
è
__THROWNL
 
__nÚnuÎ
 ((1, 3));

253 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

261 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

263 #ifdeà
__USE_GNU


266 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

274 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

275 cÚ¡ 
time¥ec
 *
__ab¡ime
);

282 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

286 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

289 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

290 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

298 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

301 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

302 
__THROW
 
	`__nÚnuÎ
 ((1));

305 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

306 *
__d‘ach¡©e
)

307 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

310 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

311 
__d‘ach¡©e
)

312 
__THROW
 
	`__nÚnuÎ
 ((1));

316 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

317 
size_t
 *
__gu¬dsize
)

318 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

321 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

322 
size_t
 
__gu¬dsize
)

323 
__THROW
 
	`__nÚnuÎ
 ((1));

327 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

328 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

329 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

332 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

333 cÚ¡ 
sched_·¿m
 *
__»¡riù


334 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

337 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


338 
__©Œ
, *
__»¡riù
 
__pŞicy
)

339 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

342 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

343 
__THROW
 
	`__nÚnuÎ
 ((1));

346 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


347 
__©Œ
, *
__»¡riù
 
__šh”™
)

348 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

351 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

352 
__šh”™
)

353 
__THROW
 
	`__nÚnuÎ
 ((1));

357 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

358 *
__»¡riù
 
__scİe
)

359 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

362 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

363 
__THROW
 
	`__nÚnuÎ
 ((1));

366 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


367 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

368 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

374 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

375 *
__¡ackaddr
)

376 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

379 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


380 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

381 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

386 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

387 
size_t
 
__¡acksize
)

388 
__THROW
 
	`__nÚnuÎ
 ((1));

390 #ifdeà
__USE_XOPEN2K


392 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

393 **
__»¡riù
 
__¡ackaddr
,

394 
size_t
 *
__»¡riù
 
__¡acksize
)

395 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

400 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

401 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

404 #ifdeà
__USE_GNU


407 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

408 
size_t
 
__ıu£tsize
,

409 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

410 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

414 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

415 
size_t
 
__ıu£tsize
,

416 
ıu_£t_t
 *
__ıu£t
)

417 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

420 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

421 
__THROW
 
	`__nÚnuÎ
 ((1));

425 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

426 
__THROW
 
	`__nÚnuÎ
 ((1));

431 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

432 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

441 cÚ¡ 
sched_·¿m
 *
__·¿m
)

442 
__THROW
 
	`__nÚnuÎ
 ((3));

445 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

446 *
__»¡riù
 
__pŞicy
,

447 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

448 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

451 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

452 
__THROW
;

455 #ifdeà
__USE_GNU


457 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

458 
size_t
 
__buæ’
)

459 
__THROW
 
	`__nÚnuÎ
 ((2));

462 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

463 
__THROW
 
	`__nÚnuÎ
 ((2));

467 #ifdeà
__USE_UNIX98


469 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

472 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

475 #ifdeà
__USE_GNU


480 
	$±h»ad_y›ld
 (è
__THROW
;

485 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

486 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

487 
__THROW
 
	`__nÚnuÎ
 ((3));

490 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

491 
ıu_£t_t
 *
__ıu£t
)

492 
__THROW
 
	`__nÚnuÎ
 ((3));

505 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

506 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

517 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

521 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

524 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

529 
	`±h»ad_‹¡ÿnûl
 ();

538 
__jmp_buf
 
__ÿnûl_jmp_buf
;

539 
__mask_was_§ved
;

540 } 
__ÿnûl_jmp_buf
[1];

541 *
__·d
[4];

542 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

545 #iâdeà
__ş—nup_fù_©Œibu‹


546 
	#__ş—nup_fù_©Œibu‹


	)

551 
	s__±h»ad_ş—nup_äame


553 (*
__ÿnûl_routše
) (*);

554 *
__ÿnûl_¬g
;

555 
__do_™
;

556 
__ÿnûl_ty³
;

559 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


560 #ifdeà
__ılu¥lus


562 şas 
	c__±h»ad_ş—nup_şass


564 (*
__ÿnûl_routše
) (*);

565 *
__ÿnûl_¬g
;

566 
__do_™
;

567 
__ÿnûl_ty³
;

569 
public
:

570 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

571 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

572 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

573 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

574 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

575 &
__ÿnûl_ty³
); 
	}
}

576 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

586 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

588 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

592 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

593 
__şäame
.
	`__£tdo™
 (
execu‹
); \

594 } 0)

	)

596 #ifdeà
__USE_GNU


600 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

602 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

603 
__şäame
.
	`__deãr
 ()

	)

608 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

609 
__şäame
.
	`__»¡Üe
 (); \

610 
__şäame
.
	`__£tdo™
 (
execu‹
); \

611 } 0)

	)

618 
__ex‹º_šlše
 

619 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

621 ià(
__äame
->
__do_™
)

622 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

623 
	}
}

632 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

634 
__±h»ad_ş—nup_äame
 
__şäame
 \

635 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

636 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

637 .
__do_™
 = 1 };

	)

641 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

642 
__şäame
.
__do_™
 = (
execu‹
); \

643 } 0)

	)

645 #ifdeà
__USE_GNU


649 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

651 
__±h»ad_ş—nup_äame
 
__şäame
 \

652 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

653 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

654 .
__do_™
 = 1 }; \

655 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

656 &
__şäame
.
__ÿnûl_ty³
)

	)

661 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

662 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

663 
__şäame
.
__do_™
 = (
execu‹
); \

664 } 0)

	)

675 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

677 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

678 (*
__ÿnûl_routše
è(*èğ(
routše
); \

679 *
__ÿnûl_¬g
 = (
¬g
); \

680 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

681 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

682 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

684 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

685 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

689 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

690 dØ{

	)

691 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

692 
__ş—nup_fù_©Œibu‹
;

696 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

699 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

700 ià(
execu‹
) \

701 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

702 } 0)

	)

703 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

704 
__ş—nup_fù_©Œibu‹
;

706 #ifdeà
__USE_GNU


710 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

712 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

713 (*
__ÿnûl_routše
è(*èğ(
routše
); \

714 *
__ÿnûl_¬g
 = (
¬g
); \

715 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

716 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

717 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

719 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

720 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

724 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

725 dØ{

	)

726 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

727 
__ş—nup_fù_©Œibu‹
;

732 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

735 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

736 ià(
execu‹
) \

737 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

738 
	}
} 0)

	)

739 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

740 
__ş—nup_fù_©Œibu‹
;

744 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

745 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

746 #iâdeà
SHARED


747 
	`__©Œibu‹__
 ((
__w—k__
))

753 
__jmp_buf_g
;

754 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

760 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

761 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

762 
__THROW
 
	`__nÚnuÎ
 ((1));

765 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

766 
__THROW
 
	`__nÚnuÎ
 ((1));

769 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

770 
__THROWNL
 
	`__nÚnuÎ
 ((1));

773 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

774 
__THROWNL
 
	`__nÚnuÎ
 ((1));

776 #ifdeà
__USE_XOPEN2K


778 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

779 cÚ¡ 
time¥ec
 *
__»¡riù


780 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

784 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

785 
__THROWNL
 
	`__nÚnuÎ
 ((1));

789 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

790 
__»¡riù
 
__mu‹x
,

791 *
__»¡riù
 
__´ioûšg
)

792 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

796 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

797 
__´ioûšg
,

798 *
__»¡riù
 
__Şd_ûšg
)

799 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

802 #ifdeà
__USE_XOPEN2K8


804 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

805 
__THROW
 
	`__nÚnuÎ
 ((1));

806 #ifdeà
__USE_GNU


807 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

808 
__THROW
 
	`__nÚnuÎ
 ((1));

817 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

818 
__THROW
 
	`__nÚnuÎ
 ((1));

821 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

822 
__THROW
 
	`__nÚnuÎ
 ((1));

825 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

826 
__»¡riù
 
__©Œ
,

827 *
__»¡riù
 
__psh¬ed
)

828 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

831 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

832 
__psh¬ed
)

833 
__THROW
 
	`__nÚnuÎ
 ((1));

835 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


837 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


838 
__©Œ
, *
__»¡riù
 
__kšd
)

839 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

844 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

845 
__THROW
 
	`__nÚnuÎ
 ((1));

849 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

850 
__»¡riù
 
__©Œ
,

851 *
__»¡riù
 
__´ÙocŞ
)

852 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

856 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

857 
__´ÙocŞ
)

858 
__THROW
 
	`__nÚnuÎ
 ((1));

861 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

862 
__»¡riù
 
__©Œ
,

863 *
__»¡riù
 
__´ioûšg
)

864 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

867 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

868 
__´ioûšg
)

869 
__THROW
 
	`__nÚnuÎ
 ((1));

871 #ifdeà
__USE_XOPEN2K


873 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

874 *
__robu¡Ãss
)

875 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

876 #ifdeà
__USE_GNU


877 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

878 *
__robu¡Ãss
)

879 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

883 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

884 
__robu¡Ãss
)

885 
__THROW
 
	`__nÚnuÎ
 ((1));

886 #ifdeà
__USE_GNU


887 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

888 
__robu¡Ãss
)

889 
__THROW
 
	`__nÚnuÎ
 ((1));

894 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


899 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

900 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


901 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

904 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

905 
__THROW
 
	`__nÚnuÎ
 ((1));

908 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

909 
__THROWNL
 
	`__nÚnuÎ
 ((1));

912 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

913 
__THROWNL
 
	`__nÚnuÎ
 ((1));

915 #ifdeà
__USE_XOPEN2K


917 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

918 cÚ¡ 
time¥ec
 *
__»¡riù


919 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

923 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

924 
__THROWNL
 
	`__nÚnuÎ
 ((1));

927 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

928 
__THROWNL
 
	`__nÚnuÎ
 ((1));

930 #ifdeà
__USE_XOPEN2K


932 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

933 cÚ¡ 
time¥ec
 *
__»¡riù


934 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

938 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

939 
__THROWNL
 
	`__nÚnuÎ
 ((1));

945 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

946 
__THROW
 
	`__nÚnuÎ
 ((1));

949 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

950 
__THROW
 
	`__nÚnuÎ
 ((1));

953 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

954 
__»¡riù
 
__©Œ
,

955 *
__»¡riù
 
__psh¬ed
)

956 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

959 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

960 
__psh¬ed
)

961 
__THROW
 
	`__nÚnuÎ
 ((1));

964 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

965 
__»¡riù
 
__©Œ
,

966 *
__»¡riù
 
__´ef
)

967 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

970 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

971 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

979 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

980 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

981 
__THROW
 
	`__nÚnuÎ
 ((1));

984 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

985 
__THROW
 
	`__nÚnuÎ
 ((1));

988 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

989 
__THROWNL
 
	`__nÚnuÎ
 ((1));

992 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

993 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1000 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1001 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

1002 
	`__nÚnuÎ
 ((1, 2));

1011 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1012 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1013 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1014 
	`__nÚnuÎ
 ((1, 2, 3));

1019 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1020 
__THROW
 
	`__nÚnuÎ
 ((1));

1023 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1024 
__THROW
 
	`__nÚnuÎ
 ((1));

1027 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1028 
__»¡riù
 
__©Œ
,

1029 *
__»¡riù
 
__psh¬ed
)

1030 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1033 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1034 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1036 #ifdeà
__USE_XOPEN2K


1038 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1039 
__»¡riù
 
__©Œ
,

1040 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1041 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1044 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1045 
__şockid_t
 
__şock_id
)

1046 
__THROW
 
	`__nÚnuÎ
 ((1));

1050 #ifdeà
__USE_XOPEN2K


1055 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1056 
__THROW
 
	`__nÚnuÎ
 ((1));

1059 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1060 
__THROW
 
	`__nÚnuÎ
 ((1));

1063 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1064 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1067 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1068 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1071 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1072 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1079 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1080 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1081 
__©Œ
, 
__couÁ
)

1082 
__THROW
 
	`__nÚnuÎ
 ((1));

1085 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1086 
__THROW
 
	`__nÚnuÎ
 ((1));

1089 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1090 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1094 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1095 
__THROW
 
	`__nÚnuÎ
 ((1));

1098 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1099 
__THROW
 
	`__nÚnuÎ
 ((1));

1102 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1103 
__»¡riù
 
__©Œ
,

1104 *
__»¡riù
 
__psh¬ed
)

1105 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1108 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1109 
__psh¬ed
)

1110 
__THROW
 
	`__nÚnuÎ
 ((1));

1122 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1123 (*
__de¡r_funùiÚ
) (*))

1124 
__THROW
 
	`__nÚnuÎ
 ((1));

1127 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1130 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1133 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1134 cÚ¡ *
__poš‹r
è
__THROW
 ;

1137 #ifdeà
__USE_XOPEN2K


1139 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1140 
__şockid_t
 *
__şock_id
)

1141 
__THROW
 
	`__nÚnuÎ
 ((2));

1156 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1157 (*
__·»Á
) (),

1158 (*
__chd
è()è
__THROW
;

1161 #ifdeà
__USE_EXTERN_INLINES


1163 
__ex‹º_šlše
 

1164 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1166  
__th»ad1
 =ğ
__th»ad2
;

1167 
	}
}

1170 
	g__END_DECLS


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@/usr/include/asm-generic/errno-base.h

1 #iâdeà
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@/usr/include/asm-generic/sockios.h

1 #iâdeà
__ASM_GENERIC_SOCKIOS_H


2 
	#__ASM_GENERIC_SOCKIOS_H


	)

5 
	#FIOSETOWN
 0x8901

	)

6 
	#SIOCSPGRP
 0x8902

	)

7 
	#FIOGETOWN
 0x8903

	)

8 
	#SIOCGPGRP
 0x8904

	)

9 
	#SIOCATMARK
 0x8905

	)

10 
	#SIOCGSTAMP
 0x8906

	)

11 
	#SIOCGSTAMPNS
 0x8907

	)

	@/usr/include/asm-generic/types.h

1 #iâdeà
_ASM_GENERIC_TYPES_H


2 
	#_ASM_GENERIC_TYPES_H


	)

7 
	~<asm-g’”ic/št-Î64.h
>

	@/usr/include/asm/ioctl.h

1 
	~<asm-g’”ic/ioùl.h
>

	@/usr/include/asm/posix_types.h

1 #ifdeà
__i386__


2 
	~<asm/posix_ty³s_32.h
>

3 #–ià
defšed
(
__ILP32__
)

4 
	~<asm/posix_ty³s_x32.h
>

6 
	~<asm/posix_ty³s_64.h
>

	@/usr/include/linux/stddef.h

	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	~<¡ddef.h
>

30 
	#__Ãed_time_t


	)

31 
	#__Ãed_time¥ec


	)

32 
	~<time.h
>

34 #iâdeà
__pid_t_defšed


35 
__pid_t
 
	tpid_t
;

36 
	#__pid_t_defšed


	)

41 
	~<b™s/sched.h
>

43 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

46 
__BEGIN_DECLS


49 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

50 
__THROW
;

53 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

56 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

57 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

60 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

63 
	$sched_y›ld
 (è
__THROW
;

66 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

69 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

72 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

75 #ifdeà
__USE_GNU


77 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

78 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

79 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

80 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

81 
ıu£
)

	)

82 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

83 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

86 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

87 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

88 
ıu£
)

	)

89 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

90 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

92 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

93 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

94 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

95 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

97 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

98 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

99 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

100 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

101 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

102 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

103 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

104 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

105 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

107 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

110 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

111 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

112 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

116 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

117 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

120 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

121 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

124 
__END_DECLS


	@/usr/include/asm-generic/int-ll64.h

8 #iâdeà
_ASM_GENERIC_INT_LL64_H


9 
	#_ASM_GENERIC_INT_LL64_H


	)

11 
	~<asm/b™¥”lÚg.h
>

13 #iâdeà
__ASSEMBLY__


19 
__sigÃd__
 
	t__s8
;

20 
	t__u8
;

22 
__sigÃd__
 
	t__s16
;

23 
	t__u16
;

25 
__sigÃd__
 
	t__s32
;

26 
	t__u32
;

28 #ifdeà
__GNUC__


29 
__ex‹nsiÚ__
 
__sigÃd__
 
	t__s64
;

30 
__ex‹nsiÚ__
 
	t__u64
;

32 
__sigÃd__
 
	t__s64
;

33 
	t__u64
;

	@/usr/include/asm-generic/ioctl.h

1 #iâdeà
_ASM_GENERIC_IOCTL_H


2 
	#_ASM_GENERIC_IOCTL_H


	)

22 
	#_IOC_NRBITS
 8

	)

23 
	#_IOC_TYPEBITS
 8

	)

30 #iâdeà
_IOC_SIZEBITS


31 
	#_IOC_SIZEBITS
 14

	)

34 #iâdeà
_IOC_DIRBITS


35 
	#_IOC_DIRBITS
 2

	)

38 
	#_IOC_NRMASK
 ((1 << 
_IOC_NRBITS
)-1)

	)

39 
	#_IOC_TYPEMASK
 ((1 << 
_IOC_TYPEBITS
)-1)

	)

40 
	#_IOC_SIZEMASK
 ((1 << 
_IOC_SIZEBITS
)-1)

	)

41 
	#_IOC_DIRMASK
 ((1 << 
_IOC_DIRBITS
)-1)

	)

43 
	#_IOC_NRSHIFT
 0

	)

44 
	#_IOC_TYPESHIFT
 (
_IOC_NRSHIFT
+
_IOC_NRBITS
)

	)

45 
	#_IOC_SIZESHIFT
 (
_IOC_TYPESHIFT
+
_IOC_TYPEBITS
)

	)

46 
	#_IOC_DIRSHIFT
 (
_IOC_SIZESHIFT
+
_IOC_SIZEBITS
)

	)

53 #iâdeà
_IOC_NONE


54 
	#_IOC_NONE
 0U

	)

57 #iâdeà
_IOC_WRITE


58 
	#_IOC_WRITE
 1U

	)

61 #iâdeà
_IOC_READ


62 
	#_IOC_READ
 2U

	)

65 
	#_IOC
(
dœ
,
ty³
,
Ä
,
size
) \

66 (((
dœ
è<< 
_IOC_DIRSHIFT
) | \

67 ((
ty³
è<< 
_IOC_TYPESHIFT
) | \

68 ((
Ä
è<< 
_IOC_NRSHIFT
) | \

69 ((
size
è<< 
_IOC_SIZESHIFT
))

	)

71 
	#_IOC_TYPECHECK
(
t
è(Ñ))

	)

74 
	#_IO
(
ty³
,
Ä
è
	`_IOC
(
_IOC_NONE
,Ñy³),Òr),0)

	)

75 
	#_IOR
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
,Ñy³),Òr),(
	`_IOC_TYPECHECK
(size)))

	)

76 
	#_IOW
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_WRITE
,Ñy³),Òr),(
	`_IOC_TYPECHECK
(size)))

	)

77 
	#_IOWR
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,Ñy³),Òr),(
	`_IOC_TYPECHECK
(size)))

	)

78 
	#_IOR_BAD
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
,Ñy³),Òr),(size))

	)

79 
	#_IOW_BAD
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_WRITE
,Ñy³),Òr),(size))

	)

80 
	#_IOWR_BAD
(
ty³
,
Ä
,
size
è
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,Ñy³),Òr),(size))

	)

83 
	#_IOC_DIR
(
Ä
è((Òrè>> 
_IOC_DIRSHIFT
è& 
_IOC_DIRMASK
)

	)

84 
	#_IOC_TYPE
(
Ä
è((Òrè>> 
_IOC_TYPESHIFT
è& 
_IOC_TYPEMASK
)

	)

85 
	#_IOC_NR
(
Ä
è((Òrè>> 
_IOC_NRSHIFT
è& 
_IOC_NRMASK
)

	)

86 
	#_IOC_SIZE
(
Ä
è((Òrè>> 
_IOC_SIZESHIFT
è& 
_IOC_SIZEMASK
)

	)

90 
	#IOC_IN
 (
_IOC_WRITE
 << 
_IOC_DIRSHIFT
)

	)

91 
	#IOC_OUT
 (
_IOC_READ
 << 
_IOC_DIRSHIFT
)

	)

92 
	#IOC_INOUT
 ((
_IOC_WRITE
|
_IOC_READ
è<< 
_IOC_DIRSHIFT
)

	)

93 
	#IOCSIZE_MASK
 (
_IOC_SIZEMASK
 << 
_IOC_SIZESHIFT
)

	)

94 
	#IOCSIZE_SHIFT
 (
_IOC_SIZESHIFT
)

	)

	@/usr/include/asm/posix_types_32.h

1 #iâdeà
_ASM_X86_POSIX_TYPES_32_H


2 
	#_ASM_X86_POSIX_TYPES_32_H


	)

10 
	t__k”Ãl_mode_t
;

11 
	#__k”Ãl_mode_t
 
__k”Ãl_mode_t


	)

13 
	t__k”Ãl_c_pid_t
;

14 
	#__k”Ãl_c_pid_t
 
__k”Ãl_c_pid_t


	)

16 
	t__k”Ãl_uid_t
;

17 
	t__k”Ãl_gid_t
;

18 
	#__k”Ãl_uid_t
 
__k”Ãl_uid_t


	)

20 
	t__k”Ãl_Şd_dev_t
;

21 
	#__k”Ãl_Şd_dev_t
 
__k”Ãl_Şd_dev_t


	)

23 
	~<asm-g’”ic/posix_ty³s.h
>

	@/usr/include/asm/posix_types_64.h

1 #iâdeà
_ASM_X86_POSIX_TYPES_64_H


2 
	#_ASM_X86_POSIX_TYPES_64_H


	)

10 
	t__k”Ãl_Şd_uid_t
;

11 
	t__k”Ãl_Şd_gid_t
;

12 
	#__k”Ãl_Şd_uid_t
 
__k”Ãl_Şd_uid_t


	)

14 
	t__k”Ãl_Şd_dev_t
;

15 
	#__k”Ãl_Şd_dev_t
 
__k”Ãl_Şd_dev_t


	)

17 
	~<asm-g’”ic/posix_ty³s.h
>

	@/usr/include/asm/posix_types_x32.h

1 #iâdeà
_ASM_X86_POSIX_TYPES_X32_H


2 
	#_ASM_X86_POSIX_TYPES_X32_H


	)

13 
	t__k”Ãl_lÚg_t
;

14 
	t__k”Ãl_ulÚg_t
;

15 
	#__k”Ãl_lÚg_t
 
__k”Ãl_lÚg_t


	)

17 
	~<asm/posix_ty³s_64.h
>

	@/usr/include/bits/sched.h

20 #iâdeà
__Ãed_sched·¿m


22 #iâdeà
_SCHED_H


28 
	#SCHED_OTHER
 0

	)

29 
	#SCHED_FIFO
 1

	)

30 
	#SCHED_RR
 2

	)

31 #ifdeà
__USE_GNU


32 
	#SCHED_BATCH
 3

	)

33 
	#SCHED_IDLE
 5

	)

35 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

38 #ifdeà
__USE_GNU


40 
	#CSIGNAL
 0x000000fà

	)

41 
	#CLONE_VM
 0x00000100

	)

42 
	#CLONE_FS
 0x00000200

	)

43 
	#CLONE_FILES
 0x00000400

	)

44 
	#CLONE_SIGHAND
 0x00000800

	)

45 
	#CLONE_PTRACE
 0x00002000

	)

46 
	#CLONE_VFORK
 0x00004000

	)

48 
	#CLONE_PARENT
 0x00008000

	)

50 
	#CLONE_THREAD
 0x00010000

	)

51 
	#CLONE_NEWNS
 0x00020000

	)

52 
	#CLONE_SYSVSEM
 0x00040000

	)

53 
	#CLONE_SETTLS
 0x00080000

	)

54 
	#CLONE_PARENT_SETTID
 0x00100000

	)

56 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

58 
	#CLONE_DETACHED
 0x00400000

	)

59 
	#CLONE_UNTRACED
 0x00800000

	)

61 
	#CLONE_CHILD_SETTID
 0x01000000

	)

63 
	#CLONE_NEWUTS
 0x04000000

	)

64 
	#CLONE_NEWIPC
 0x08000000

	)

65 
	#CLONE_NEWUSER
 0x10000000

	)

66 
	#CLONE_NEWPID
 0x20000000

	)

67 
	#CLONE_NEWNET
 0x40000000

	)

68 
	#CLONE_IO
 0x80000000

	)

72 
	ssched_·¿m


74 
	m__sched_´iÜ™y
;

77 
	g__BEGIN_DECLS


79 #ifdeà
__USE_GNU


81 
şÚe
 ((*
__â
è(*
__¬g
), *
__chd_¡ack
,

82 
__æags
, *
__¬g
, ...è
__THROW
;

85 
	$unsh¬e
 (
__æags
è
__THROW
;

88 
	$sched_g‘ıu
 (è
__THROW
;

91 
	$£Šs
 (
__fd
, 
__n¡y³
è
__THROW
;

95 
__END_DECLS


99 #ià!
defšed
 
__defšed_sched·¿m
 \

100 && (
defšed
 
__Ãed_sched·¿m
 || defšed 
_SCHED_H
)

101 
	#__defšed_sched·¿m
 1

	)

103 
	s__sched_·¿m


105 
__sched_´iÜ™y
;

107 #undeà
__Ãed_sched·¿m


111 #ià
defšed
 
_SCHED_H
 && !defšed 
__ıu_£t_t_defšed


112 
	#__ıu_£t_t_defšed


	)

114 
	#__CPU_SETSIZE
 1024

	)

115 
	#__NCPUBITS
 (8 *  (
__ıu_mask
))

	)

118 
	t__ıu_mask
;

121 
	#__CPUELT
(
ıu
è((ıuè/ 
__NCPUBITS
)

	)

122 
	#__CPUMASK
(
ıu
è((
__ıu_mask
è1 << ((ıuè% 
__NCPUBITS
))

	)

127 
__ıu_mask
 
__b™s
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

128 } 
	tıu_£t_t
;

131 #ià
	`__GNUC_PREREQ
 (2, 91)

132 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

133 dØ
	`__butš_mem£t
 (
ıu£
, '\0', 
£tsize
); 0)

	)

135 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

137 
size_t
 
__i
; \

138 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

139 
__ıu_mask
 *
__b™s
 = (
ıu£
)->__bits; \

140 
__i
 = 0; __˜< 
__imax
; ++__i) \

141 
__b™s
[
__i
] = 0; \

142 
	}
} 0)

	)

144 
	#__CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
) \

145 (
__ex‹nsiÚ__
 \

146 ({ 
size_t
 
__ıu
 = (
ıu
); \

147 
__ıu
 / 8 < (
£tsize
) \

148 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

149 |ğ
	`__CPUMASK
 (
__ıu
)) \

150 : 0; }))

	)

151 
	#__CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
) \

152 (
__ex‹nsiÚ__
 \

153 ({ 
size_t
 
__ıu
 = (
ıu
); \

154 
__ıu
 / 8 < (
£tsize
) \

155 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

156 &ğ~
	`__CPUMASK
 (
__ıu
)) \

157 : 0; }))

	)

158 
	#__CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
) \

159 (
__ex‹nsiÚ__
 \

160 ({ 
size_t
 
__ıu
 = (
ıu
); \

161 
__ıu
 / 8 < (
£tsize
) \

162 ? ((((cÚ¡ 
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

163 & 
	`__CPUMASK
 (
__ıu
))) != 0 \

164 : 0; }))

	)

166 
	#__CPU_COUNT_S
(
£tsize
, 
ıu£
) \

167 
	`__sched_ıucouÁ
 (
£tsize
, 
ıu£
)

	)

169 #ià
__GNUC_PREREQ
 (2, 91)

170 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

171 (
	`__butš_memcmp
 (
ıu£1
, 
ıu£2
, 
£tsize
è=ğ0)

	)

173 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

174 (
__ex‹nsiÚ__
 \

175 ({ cÚ¡ 
__ıu_mask
 *
__¬r1
 = (
ıu£1
)->
__b™s
; \

176 cÚ¡ 
__ıu_mask
 *
__¬r2
 = (
ıu£2
)->
__b™s
; \

177 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

178 
size_t
 
__i
; \

179 
__i
 = 0; __˜< 
__imax
; ++__i) \

180 ià(
__¬r1
[
__i
] !ğ
__¬r2
[__i]) \

182 
__i
 =ğ
__imax
; }))

	)

185 
	#__CPU_OP_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, 
İ
) \

186 (
__ex‹nsiÚ__
 \

187 ({ 
ıu_£t_t
 *
__de¡
 = (
de¡£t
); \

188 cÚ¡ 
__ıu_mask
 *
__¬r1
 = (
¤c£t1
)->
__b™s
; \

189 cÚ¡ 
__ıu_mask
 *
__¬r2
 = (
¤c£t2
)->
__b™s
; \

190 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

191 
size_t
 
__i
; \

192 
__i
 = 0; __˜< 
__imax
; ++__i) \

193 ((
__ıu_mask
 *è
__de¡
->
__b™s
)[
__i
] = 
__¬r1
[__i] 
İ
 
__¬r2
[__i]; \

194 
__de¡
; }))

	)

196 
	#__CPU_ALLOC_SIZE
(
couÁ
) \

197 ((((
couÁ
è+ 
__NCPUBITS
 - 1è/ __NCPUBITSè*  (
__ıu_mask
))

	)

198 
	#__CPU_ALLOC
(
couÁ
è
	`__sched_ıu®loc
 (couÁ)

	)

199 
	#__CPU_FREE
(
ıu£t
è
	`__sched_ıuä“
 (ıu£t)

	)

201 
__BEGIN_DECLS


203 
	$__sched_ıucouÁ
 (
size_t
 
__£tsize
, cÚ¡ 
ıu_£t_t
 *
__£
)

204 
__THROW
;

205 
ıu_£t_t
 *
	$__sched_ıu®loc
 (
size_t
 
__couÁ
è
__THROW
 
__wur
;

206 
	$__sched_ıuä“
 (
ıu_£t_t
 *
__£t
è
__THROW
;

208 
__END_DECLS


	@/usr/include/asm-generic/posix_types.h

1 #iâdeà
__ASM_GENERIC_POSIX_TYPES_H


2 
	#__ASM_GENERIC_POSIX_TYPES_H


	)

4 
	~<asm/b™¥”lÚg.h
>

13 #iâdeà
__k”Ãl_lÚg_t


14 
	t__k”Ãl_lÚg_t
;

15 
	t__k”Ãl_ulÚg_t
;

18 #iâdeà
__k”Ãl_šo_t


19 
__k”Ãl_ulÚg_t
 
	t__k”Ãl_šo_t
;

22 #iâdeà
__k”Ãl_mode_t


23 
	t__k”Ãl_mode_t
;

26 #iâdeà
__k”Ãl_pid_t


27 
	t__k”Ãl_pid_t
;

30 #iâdeà
__k”Ãl_c_pid_t


31 
	t__k”Ãl_c_pid_t
;

34 #iâdeà
__k”Ãl_uid_t


35 
	t__k”Ãl_uid_t
;

36 
	t__k”Ãl_gid_t
;

39 #iâdeà
__k”Ãl_su£cÚds_t


40 
__k”Ãl_lÚg_t
 
	t__k”Ãl_su£cÚds_t
;

43 #iâdeà
__k”Ãl_daddr_t


44 
	t__k”Ãl_daddr_t
;

47 #iâdeà
__k”Ãl_uid32_t


48 
	t__k”Ãl_uid32_t
;

49 
	t__k”Ãl_gid32_t
;

52 #iâdeà
__k”Ãl_Şd_uid_t


53 
__k”Ãl_uid_t
 
	t__k”Ãl_Şd_uid_t
;

54 
__k”Ãl_gid_t
 
	t__k”Ãl_Şd_gid_t
;

57 #iâdeà
__k”Ãl_Şd_dev_t


58 
	t__k”Ãl_Şd_dev_t
;

65 #iâdeà
__k”Ãl_size_t


66 #ià
__BITS_PER_LONG
 != 64

67 
	t__k”Ãl_size_t
;

68 
	t__k”Ãl_ssize_t
;

69 
	t__k”Ãl_±rdiff_t
;

71 
__k”Ãl_ulÚg_t
 
	t__k”Ãl_size_t
;

72 
__k”Ãl_lÚg_t
 
	t__k”Ãl_ssize_t
;

73 
__k”Ãl_lÚg_t
 
	t__k”Ãl_±rdiff_t
;

77 #iâdeà
__k”Ãl_fsid_t


79 
	mv®
[2];

80 } 
	t__k”Ãl_fsid_t
;

86 
__k”Ãl_lÚg_t
 
	t__k”Ãl_off_t
;

87 
	t__k”Ãl_loff_t
;

88 
__k”Ãl_lÚg_t
 
	t__k”Ãl_time_t
;

89 
__k”Ãl_lÚg_t
 
	t__k”Ãl_şock_t
;

90 
	t__k”Ãl_tim”_t
;

91 
	t__k”Ãl_şockid_t
;

92 * 
	t__k”Ãl_ÿddr_t
;

93 
	t__k”Ãl_uid16_t
;

94 
	t__k”Ãl_gid16_t
;

	@/usr/include/asm/bitsperlong.h

1 #iâdeà
__ASM_X86_BITSPERLONG_H


2 
	#__ASM_X86_BITSPERLONG_H


	)

4 #ifdeà
__x86_64__


5 
	#__BITS_PER_LONG
 64

	)

7 
	#__BITS_PER_LONG
 32

	)

10 
	~<asm-g’”ic/b™¥”lÚg.h
>

	@/usr/include/asm-generic/bitsperlong.h

1 #iâdeà
__ASM_GENERIC_BITS_PER_LONG


2 
	#__ASM_GENERIC_BITS_PER_LONG


	)

11 #iâdeà
__BITS_PER_LONG


12 
	#__BITS_PER_LONG
 32

	)

	@
1
.
1
/usr/include
292
6110
MTA.h
RC.h
RCutil.c
bitmap.h
bpred.c
bpred.h
branchCorr.c
branchCorr.h
cache.c
cache.h
cache_o.c
cache_o.h
cache_update.c
cluster-opts.c
cluster-opts.h
cluster.c
cluster.h
cmt.c
cmt.h
config.h
context.c
context.h
def.h
dlite.c
dlite.h
eio.c
eio.h
endian.c
endian.h
eval.c
eval.h
eventq.c
eventq.h
flp.c
flp.h
headers.h
host.h
hotspot.c
hotspot.h
indirectjump.cpp
instManip.c
instManip.h
interconnect.c
interconnect.h
loader.c
loader.h
machine.c
machine.h
main.c
main.h
memory.c
memory.h
misc.c
misc.h
mystats.c
mystats.h
network.c
network.h
old_sim-out.c
options.c
options.h
power.c
power.h
ptrace.c
ptrace.h
range.c
range.h
regs.c
regs.h
resource.c
resource.h
sim-bpred.c
sim-cache.c
sim-cheetah.c
sim-eio.c
sim-fast.c
sim-ooo.c
sim-out_nn.c
sim-outorder.c
sim-outorder.h
sim-profile.c
sim-safe.c
sim.h
size.c
skeleton_chk.cpp
smt.h
stats.c
stats.h
store2Load.cpp
symbol.c
symbol.h
syscall.c
syscall.h
syscall_old.c
sysprobe.c
temperature.c
test.c
time.c
tokencoherence.c
tokencoherence.h
trace.c
util.c
util.h
version.h
wattch-interact.c
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/limits.h
/usr/include/math.h
/usr/include/netdb.h
/usr/include/netinet/in.h
/usr/include/netinet/tcp.h
/usr/include/netinet/udp.h
/usr/include/setjmp.h
/usr/include/sgtty.h
/usr/include/signal.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/strings.h
/usr/include/sys/dir.h
/usr/include/sys/file.h
/usr/include/sys/ioctl.h
/usr/include/sys/mount.h
/usr/include/sys/param.h
/usr/include/sys/poll.h
/usr/include/sys/resource.h
/usr/include/sys/select.h
/usr/include/sys/socket.h
/usr/include/sys/stat.h
/usr/include/sys/statfs.h
/usr/include/sys/statvfs.h
/usr/include/sys/sysinfo.h
/usr/include/sys/time.h
/usr/include/sys/times.h
/usr/include/sys/types.h
/usr/include/sys/uio.h
/usr/include/sys/unistd.h
/usr/include/sys/utsname.h
/usr/include/sys/vfs.h
/usr/include/termio.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/utime.h
/usr/include/wait.h
libcheetah/libcheetah.h
libexo/libexo.h
machine.def
opticalForSimplescalar/point-point.h
target-alpha-linux/ecoff.h
target-alpha-linux/elf64.h
target-alpha/ecoff.h
/usr/include/alloca.h
/usr/include/bits/byteswap.h
/usr/include/bits/confname.h
/usr/include/bits/dirent.h
/usr/include/bits/environments.h
/usr/include/bits/errno.h
/usr/include/bits/fcntl.h
/usr/include/bits/fcntl2.h
/usr/include/bits/huge_val.h
/usr/include/bits/huge_valf.h
/usr/include/bits/huge_vall.h
/usr/include/bits/in.h
/usr/include/bits/inf.h
/usr/include/bits/ioctl-types.h
/usr/include/bits/ioctls.h
/usr/include/bits/math-finite.h
/usr/include/bits/mathcalls.h
/usr/include/bits/mathdef.h
/usr/include/bits/mathinline.h
/usr/include/bits/nan.h
/usr/include/bits/netdb.h
/usr/include/bits/param.h
/usr/include/bits/poll.h
/usr/include/bits/poll2.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/posix_opt.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/resource.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/setjmp.h
/usr/include/bits/setjmp2.h
/usr/include/bits/sigaction.h
/usr/include/bits/sigcontext.h
/usr/include/bits/siginfo.h
/usr/include/bits/signum.h
/usr/include/bits/sigset.h
/usr/include/bits/sigstack.h
/usr/include/bits/sigthread.h
/usr/include/bits/socket.h
/usr/include/bits/socket2.h
/usr/include/bits/stat.h
/usr/include/bits/statfs.h
/usr/include/bits/statvfs.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-bsearch.h
/usr/include/bits/stdlib-float.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/uio.h
/usr/include/bits/unistd.h
/usr/include/bits/utsname.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/linux/kernel.h
/usr/include/rpc/netdb.h
/usr/include/stdint.h
/usr/include/sys/sysmacros.h
/usr/include/sys/ttydefaults.h
/usr/include/sys/ucontext.h
/usr/include/sys/wait.h
/usr/include/termios.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/asm/ioctls.h
/usr/include/asm/socket.h
/usr/include/bits/byteswap-16.h
/usr/include/bits/fcntl-linux.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/local_lim.h
/usr/include/bits/sockaddr.h
/usr/include/bits/socket_type.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/termios.h
/usr/include/bits/timex.h
/usr/include/bits/typesizes.h
/usr/include/bits/wchar.h
/usr/include/gnu/stubs.h
/usr/include/linux/errno.h
/usr/include/linux/limits.h
/usr/include/linux/param.h
/usr/include/linux/sysinfo.h
/usr/include/stdc-predef.h
/usr/include/sys/cdefs.h
/usr/include/asm-generic/ioctls.h
/usr/include/asm-generic/socket.h
/usr/include/asm/errno.h
/usr/include/asm/param.h
/usr/include/bits/libc-lock.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/gnu/stubs-x32.h
/usr/include/linux/types.h
/usr/include/wchar.h
/usr/include/asm-generic/errno.h
/usr/include/asm-generic/param.h
/usr/include/asm/sockios.h
/usr/include/asm/types.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/gnu/option-groups.h
/usr/include/linux/ioctl.h
/usr/include/linux/posix_types.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/asm-generic/errno-base.h
/usr/include/asm-generic/sockios.h
/usr/include/asm-generic/types.h
/usr/include/asm/ioctl.h
/usr/include/asm/posix_types.h
/usr/include/linux/stddef.h
/usr/include/sched.h
/usr/include/asm-generic/int-ll64.h
/usr/include/asm-generic/ioctl.h
/usr/include/asm/posix_types_32.h
/usr/include/asm/posix_types_64.h
/usr/include/asm/posix_types_x32.h
/usr/include/bits/sched.h
/usr/include/asm-generic/posix_types.h
/usr/include/asm/bitsperlong.h
/usr/include/asm-generic/bitsperlong.h
